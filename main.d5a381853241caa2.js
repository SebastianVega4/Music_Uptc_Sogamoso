"use strict";(self.webpackChunkuptc_music=self.webpackChunkuptc_music||[]).push([[792],{207:()=>{function Qe(n){return"function"==typeof n}function Du(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Rh=Du(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function da(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Bn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Qe(r))try{r()}catch(o){e=o instanceof Rh?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{TM(o)}catch(s){e=e??[],s instanceof Rh?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Rh(e)}}add(e){var t;if(e&&e!==this)if(this.closed)TM(e);else{if(e instanceof Bn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&da(t,e)}remove(e){const{_finalizers:t}=this;t&&da(t,e),e instanceof Bn&&e._removeParent(this)}}Bn.EMPTY=(()=>{const n=new Bn;return n.closed=!0,n})();const EM=Bn.EMPTY;function wM(n){return n instanceof Bn||n&&"closed"in n&&Qe(n.remove)&&Qe(n.add)&&Qe(n.unsubscribe)}function TM(n){Qe(n)?n():n.unsubscribe()}const rs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},kh={setTimeout(n,e,...t){const{delegate:r}=kh;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=kh;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function PM(n){kh.setTimeout(()=>{const{onUnhandledError:e}=rs;if(!e)throw n;e(n)})}function f_(){}const Hj=p_("C",void 0,void 0);function p_(n,e,t){return{kind:n,value:e,error:t}}let is=null;function Nh(n){if(rs.useDeprecatedSynchronousErrorHandling){const e=!is;if(e&&(is={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=is;if(is=null,t)throw r}}else n()}class g_ extends Bn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,wM(e)&&e.add(this)):this.destination=Yj}static create(e,t,r){return new Su(e,t,r)}next(e){this.isStopped?__(function Gj(n){return p_("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?__(function zj(n){return p_("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?__(Hj,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Wj=Function.prototype.bind;function m_(n,e){return Wj.call(n,e)}class Kj{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Vh(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Vh(r)}else Vh(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Vh(t)}}}class Su extends g_{constructor(e,t,r){let i;if(super(),Qe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&rs.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&m_(e.next,o),error:e.error&&m_(e.error,o),complete:e.complete&&m_(e.complete,o)}):i=e}this.destination=new Kj(i)}}function Vh(n){rs.useDeprecatedSynchronousErrorHandling?function qj(n){rs.useDeprecatedSynchronousErrorHandling&&is&&(is.errorThrown=!0,is.error=n)}(n):PM(n)}function __(n,e){const{onStoppedNotification:t}=rs;t&&kh.setTimeout(()=>t(n,e))}const Yj={closed:!0,next:f_,error:function Qj(n){throw n},complete:f_},y_="function"==typeof Symbol&&Symbol.observable||"@@observable";function uo(n){return n}function MM(n){return 0===n.length?uo:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let dt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function Zj(n){return n&&n instanceof g_||function Xj(n){return n&&Qe(n.next)&&Qe(n.error)&&Qe(n.complete)}(n)&&wM(n)}(t)?t:new Su(t,r,i);return Nh(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=AM(r))((i,o)=>{const s=new Su({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[y_](){return this}pipe(...t){return MM(t)(this)}toPromise(t){return new(t=AM(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function AM(n){var e;return null!==(e=n??rs.Promise)&&void 0!==e?e:Promise}const e$=Du(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Sr=(()=>{class n extends dt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new DM(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new e$}next(t){Nh(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Nh(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Nh(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?EM:(this.currentObservers=null,o.push(t),new Bn(()=>{this.currentObservers=null,da(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new dt;return t.source=this,t}}return n.create=(e,t)=>new DM(e,t),n})();class DM extends Sr{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:EM}}function SM(n){return Qe(n?.lift)}function Ut(n){return e=>{if(SM(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Nt(n,e,t,r,i){return new t$(n,e,t,r,i)}class t$ extends g_{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Re(n,e){return Ut((t,r)=>{let i=0;t.subscribe(Nt(r,o=>{r.next(n.call(e,o,i++))}))})}function Fh(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function lo(n){return this instanceof lo?(this.v=n,this):new lo(n)}function kM(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function I_(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){!function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}(a,c,(s=n[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const NM=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function VM(n){return Qe(n?.then)}function FM(n){return Qe(n[y_])}function LM(n){return Symbol.asyncIterator&&Qe(n?.[Symbol.asyncIterator])}function UM(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const BM=function M$(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function jM(n){return Qe(n?.[BM])}function $M(n){return function RM(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),o=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(m){return function(C){return Promise.resolve(C).then(m,h)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(m,C){r[m]&&(i[m]=function(E){return new Promise(function(P,R){o.push([m,E,P,R])>1||c(m,E)})},C&&(i[m]=C(i[m])))}function c(m,C){try{!function u(m){m.value instanceof lo?Promise.resolve(m.value.v).then(d,h):p(o[0][2],m)}(r[m](C))}catch(E){p(o[0][3],E)}}function d(m){c("next",m)}function h(m){c("throw",m)}function p(m,C){m(C),o.shift(),o.length&&c(o[0][0],o[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield lo(t.read());if(i)return yield lo(void 0);yield yield lo(r)}}finally{t.releaseLock()}})}function HM(n){return Qe(n?.getReader)}function er(n){if(n instanceof dt)return n;if(null!=n){if(FM(n))return function A$(n){return new dt(e=>{const t=n[y_]();if(Qe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(NM(n))return function D$(n){return new dt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(VM(n))return function S$(n){return new dt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,PM)})}(n);if(LM(n))return zM(n);if(jM(n))return function x$(n){return new dt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(HM(n))return function O$(n){return zM($M(n))}(n)}throw UM(n)}function zM(n){return new dt(e=>{(function R$(n,e){var t,r,i,o;return function xM(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function c(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(d.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=kM(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function yi(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Yt(n,e,t=1/0){return Qe(e)?Yt((r,i)=>Re((o,s)=>e(r,o,i,s))(er(n(r,i))),t):("number"==typeof e&&(t=e),Ut((r,i)=>function k$(n,e,t,r,i,o,s,a){const c=[];let u=0,d=0,h=!1;const p=()=>{h&&!c.length&&!u&&e.complete()},m=E=>u<r?C(E):c.push(E),C=E=>{o&&e.next(E),u++;let P=!1;er(t(E,d++)).subscribe(Nt(e,R=>{i?.(R),o?m(R):e.next(R)},()=>{P=!0},void 0,()=>{if(P)try{for(u--;c.length&&u<r;){const R=c.shift();s?yi(e,s,()=>C(R)):C(R)}p()}catch(R){e.error(R)}}))};return n.subscribe(Nt(e,m,()=>{h=!0,p()})),()=>{a?.()}}(r,i,n,t)))}function ha(n=1/0){return Yt(uo,n)}const Gr=new dt(n=>n.complete());function GM(n){return n&&Qe(n.schedule)}function w_(n){return n[n.length-1]}function qM(n){return Qe(w_(n))?n.pop():void 0}function xu(n){return GM(w_(n))?n.pop():void 0}function Lh(n,e=0){return Ut((t,r)=>{t.subscribe(Nt(r,i=>yi(r,n,()=>r.next(i),e),()=>yi(r,n,()=>r.complete(),e),i=>yi(r,n,()=>r.error(i),e)))})}function Uh(n,e=0){return Ut((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function WM(n,e){if(!n)throw new Error("Iterable cannot be null");return new dt(t=>{yi(t,e,()=>{const r=n[Symbol.asyncIterator]();yi(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Bt(n,e){return e?function $$(n,e){if(null!=n){if(FM(n))return function F$(n,e){return er(n).pipe(Uh(e),Lh(e))}(n,e);if(NM(n))return function U$(n,e){return new dt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(VM(n))return function L$(n,e){return er(n).pipe(Uh(e),Lh(e))}(n,e);if(LM(n))return WM(n,e);if(jM(n))return function B$(n,e){return new dt(t=>{let r;return yi(t,e,()=>{r=n[BM](),yi(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>Qe(r?.return)&&r.return()})}(n,e);if(HM(n))return function j$(n,e){return WM($M(n),e)}(n,e)}throw UM(n)}(n,e):er(n)}class tr extends Sr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function pe(...n){return Bt(n,xu(n))}function KM(n={}){const{connector:e=(()=>new Sr),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,c,u=0,d=!1,h=!1;const p=()=>{a?.unsubscribe(),a=void 0},m=()=>{p(),s=c=void 0,d=h=!1},C=()=>{const E=s;m(),E?.unsubscribe()};return Ut((E,P)=>{u++,!h&&!d&&p();const R=c=c??e();P.add(()=>{u--,0===u&&!h&&!d&&(a=T_(C,i))}),R.subscribe(P),!s&&u>0&&(s=new Su({next:D=>R.next(D),error:D=>{h=!0,p(),a=T_(m,t,D),R.error(D)},complete:()=>{d=!0,p(),a=T_(m,r),R.complete()}}),er(E).subscribe(s))})(o)}}function T_(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Su({next:()=>{r.unsubscribe(),n()}});return er(e(...t)).subscribe(r)}function wn(n,e){return Ut((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(Nt(r,c=>{i?.unsubscribe();let u=0;const d=o++;er(n(c,d)).subscribe(i=Nt(r,h=>r.next(e?e(c,h,d,u++):h),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function G$(n,e){return n===e}const Bh=Du(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function vi(n,e){return Ut((t,r)=>{let i=0;t.subscribe(Nt(r,o=>n.call(e,o,i++)&&r.next(o)))})}function fa(n){return n<=0?()=>Gr:Ut((e,t)=>{let r=0;e.subscribe(Nt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function jh(n){return Ut((e,t)=>{let r=!1;e.subscribe(Nt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function QM(n=q$){return Ut((e,t)=>{let r=!1;e.subscribe(Nt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function q$(){return new Bh}function Ci(n,e){const t=arguments.length>=2;return r=>r.pipe(n?vi((i,o)=>n(i,o,r)):uo,fa(1),t?jh(e):QM(()=>new Bh))}function Ge(n){for(let e in n)if(n[e]===Ge)return e;throw Error("Could not find renamed property on target object.")}function $h(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function jt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(jt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function P_(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const W$=Ge({__forward_ref__:Ge});function et(n){return n.__forward_ref__=et,n.toString=function(){return jt(this())},n}function ye(n){return M_(n)?n():n}function M_(n){return"function"==typeof n&&n.hasOwnProperty(W$)&&n.__forward_ref__===et}function A_(n){return n&&!!n.\u0275providers}const YM="https://g.co/ng/security#xss";class K extends Error{constructor(e,t){super(function Ou(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function be(n){return"string"==typeof n?n:null==n?"":String(n)}function D_(n,e){throw new K(-201,!1)}function gr(n,e){null==n&&function me(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function le(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function mr(n){return{providers:n.providers||[],imports:n.imports||[]}}function Hh(n){return JM(n,Gh)||JM(n,XM)}function JM(n,e){return n.hasOwnProperty(e)?n[e]:null}function zh(n){return n&&(n.hasOwnProperty(S_)||n.hasOwnProperty(t6))?n[S_]:null}const Gh=Ge({\u0275prov:Ge}),S_=Ge({\u0275inj:Ge}),XM=Ge({ngInjectableDef:Ge}),t6=Ge({ngInjectorDef:Ge});var De=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(De||{});let x_;function jn(n){const e=x_;return x_=n,e}function eA(n,e,t){const r=Hh(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&De.Optional?null:void 0!==e?e:void D_(jt(n))}const tt=globalThis;class oe{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=le({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ru={},V_="__NG_DI_FLAG__",qh="ngTempTokenPath",i6=/\n/gm,nA="__source";let pa;function ho(n){const e=pa;return pa=n,e}function a6(n,e=De.Default){if(void 0===pa)throw new K(-203,!1);return null===pa?eA(n,void 0,e):pa.get(n,e&De.Optional?null:void 0,e)}function ae(n,e=De.Default){return(function ZM(){return x_}()||a6)(ye(n),e)}function ne(n,e=De.Default){return ae(n,Wh(e))}function Wh(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function F_(n){const e=[];for(let t=0;t<n.length;t++){const r=ye(n[t]);if(Array.isArray(r)){if(0===r.length)throw new K(900,!1);let i,o=De.Default;for(let s=0;s<r.length;s++){const a=r[s],c=c6(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}e.push(ae(i,o))}else e.push(ae(r))}return e}function ku(n,e){return n[V_]=e,n.prototype[V_]=e,n}function c6(n){return n[V_]}function bi(n){return{toString:n}.toString()}var Kh=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Kh||{}),xr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(xr||{});const qr={},Ue=[],Qh=Ge({\u0275cmp:Ge}),L_=Ge({\u0275dir:Ge}),U_=Ge({\u0275pipe:Ge}),iA=Ge({\u0275mod:Ge}),Ii=Ge({\u0275fac:Ge}),Nu=Ge({__NG_ELEMENT_ID__:Ge}),oA=Ge({__NG_ENV_ID__:Ge});function sA(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function B_(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{const o=i,s=t[++r];cA(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function aA(n){return 3===n||4===n||6===n}function cA(n){return 64===n.charCodeAt(0)}function Vu(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||uA(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function uA(n,e,t,r,i){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}const lA="ng-template";function d6(n,e,t){let r=0,i=!0;for(;r<n.length;){let o=n[r++];if("string"==typeof o&&i){const s=n[r++];if(t&&"class"===o&&-1!==sA(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<n.length&&"string"==typeof(o=n[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function dA(n){return 4===n.type&&n.value!==lA}function h6(n,e,t){return e===(4!==n.type||t?n.value:lA)}function f6(n,e,t){let r=4;const i=n.attrs||[],o=function m6(n){for(let e=0;e<n.length;e++)if(aA(n[e]))return e;return n.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!h6(n,c,t)||""===c&&1===e.length){if(Or(r))return!1;s=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==n.attrs){if(!d6(n.attrs,u,t)){if(Or(r))return!1;s=!0}continue}const h=p6(8&r?"class":c,i,dA(n),t);if(-1===h){if(Or(r))return!1;s=!0;continue}if(""!==u){let p;p=h>o?"":i[h+1].toLowerCase();const m=8&r?p:null;if(m&&-1!==sA(m,u,0)||2&r&&u!==p){if(Or(r))return!1;s=!0}}}}else{if(!s&&!Or(r)&&!Or(c))return!1;if(s&&Or(c))continue;s=!1,r=c|1&r}}return Or(r)||s}function Or(n){return 0==(1&n)}function p6(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const s=e[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function _6(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function hA(n,e,t=!1){for(let r=0;r<e.length;r++)if(f6(n,e[r],t))return!0;return!1}function fA(n,e){return n?":not("+e.trim()+")":e}function v6(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Or(s)&&(e+=fA(o,i),i=""),r=s,o=o||!Or(r);t++}return""!==i&&(e+=fA(o,i)),e}function $n(n){return bi(()=>{const e=gA(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Kh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||xr.Emulated,styles:n.styles||Ue,_:null,schemas:n.schemas||null,tView:null,id:""};mA(t);const r=n.dependencies;return t.directiveDefs=Yh(r,!1),t.pipeDefs=Yh(r,!0),t.id=function M6(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function E6(n){return Ve(n)||Jt(n)}function w6(n){return null!==n}function Rr(n){return bi(()=>({type:n.type,bootstrap:n.bootstrap||Ue,declarations:n.declarations||Ue,imports:n.imports||Ue,exports:n.exports||Ue,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function pA(n,e){if(null==n)return qr;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,e&&(e[i]=o)}return t}function ve(n){return bi(()=>{const e=gA(n);return mA(e),e})}function Ve(n){return n[Qh]||null}function Jt(n){return n[L_]||null}function Tn(n){return n[U_]||null}function rr(n,e){const t=n[iA]||null;if(!t&&!0===e)throw new Error(`Type ${jt(n)} does not have '\u0275mod' property.`);return t}function gA(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||qr,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Ue,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:pA(n.inputs,e),outputs:pA(n.outputs)}}function mA(n){n.features?.forEach(e=>e(n))}function Yh(n,e){if(!n)return null;const t=e?Tn:E6;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(w6)}const It=0,se=1,Te=2,ht=3,kr=4,Fu=5,ln=6,ma=7,Mt=8,fo=9,_a=10,Ie=11,Lu=12,_A=13,ya=14,At=15,Uu=16,va=17,Wr=18,Bu=19,yA=20,po=21,Ei=22,ju=23,$u=24,Se=25,j_=1,vA=2,Kr=7,Ca=9,Hu=10,Xt=11;function zn(n){return Array.isArray(n)&&"object"==typeof n[j_]}function Pn(n){return Array.isArray(n)&&!0===n[j_]}function $_(n){return 0!=(4&n.flags)}function ss(n){return n.componentOffset>-1}function Xh(n){return 1==(1&n.flags)}function Nr(n){return!!n.template}function H_(n){return 0!=(512&n[Te])}function as(n,e){return n.hasOwnProperty(Ii)?n[Ii]:null}let Zt=null,Zh=!1;function _r(n){const e=Zt;return Zt=n,e}const IA={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function wA(n){if(!zu(n)||n.dirty){if(!n.producerMustRecompute(n)&&!MA(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function PA(n){n.dirty=!0,function TA(n){if(void 0===n.liveConsumerNode)return;const e=Zh;Zh=!0;try{for(const t of n.liveConsumerNode)t.dirty||PA(t)}finally{Zh=e}}(n),n.consumerMarkedDirty?.(n)}function G_(n){return n&&(n.nextProducerIndex=0),_r(n)}function q_(n,e){if(_r(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(zu(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)ef(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function MA(n){ba(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(wA(t),r!==t.version))return!0}return!1}function AA(n){if(ba(n),zu(n))for(let e=0;e<n.producerNode.length;e++)ef(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function ef(n,e){if(function SA(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),ba(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)ef(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];ba(i),i.producerIndexOfThis[r]=e}}function zu(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function ba(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let xA=null;const NA=()=>{},B6=(()=>({...IA,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:NA}))();class j6{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function yr(){return VA}function VA(n){return n.type.prototype.ngOnChanges&&(n.setInput=H6),$6}function $6(){const n=LA(this),e=n?.current;if(e){const t=n.previous;if(t===qr)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function H6(n,e,t,r){const i=this.declaredInputs[t],o=LA(n)||function z6(n,e){return n[FA]=e}(n,{previous:qr,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[i];s[i]=new j6(c&&c.currentValue,e,a===qr),n[r]=e}yr.ngInherit=!0;const FA="__ngSimpleChanges__";function LA(n){return n[FA]||null}const Qr=function(n,e,t){};function nt(n){for(;Array.isArray(n);)n=n[It];return n}function tf(n,e){return nt(e[n])}function Gn(n,e){return nt(e[n.index])}function jA(n,e){return n.data[e]}function ir(n,e){const t=e[n];return zn(t)?t:t[It]}function mo(n,e){return null==e?null:n[e]}function $A(n){n[va]=0}function Y6(n){1024&n[Te]||(n[Te]|=1024,zA(n,1))}function HA(n){1024&n[Te]&&(n[Te]&=-1025,zA(n,-1))}function zA(n,e){let t=n[ht];if(null===t)return;t[Fu]+=e;let r=t;for(t=t[ht];null!==t&&(1===e&&1===r[Fu]||-1===e&&0===r[Fu]);)t[Fu]+=e,r=t,t=t[ht]}const _e={lFrame:tD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function WA(){return _e.bindingsEnabled}function Ea(){return null!==_e.skipHydrationRootTNode}function G(){return _e.lFrame.lView}function Fe(){return _e.lFrame.tView}function X(n){return _e.lFrame.contextLView=n,n[Mt]}function Z(n){return _e.lFrame.contextLView=null,n}function en(){let n=KA();for(;null!==n&&64===n.type;)n=n.parent;return n}function KA(){return _e.lFrame.currentTNode}function Yr(n,e){const t=_e.lFrame;t.currentTNode=n,t.isParent=e}function J_(){return _e.lFrame.isParent}function Mn(){const n=_e.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function wa(){return _e.lFrame.bindingIndex++}function Ti(n){const e=_e.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function cH(n,e){const t=_e.lFrame;t.bindingIndex=t.bindingRootIndex=n,Z_(e)}function Z_(n){_e.lFrame.currentDirectiveIndex=n}function XA(){return _e.lFrame.currentQueryIndex}function ty(n){_e.lFrame.currentQueryIndex=n}function lH(n){const e=n[se];return 2===e.type?e.declTNode:1===e.type?n[ln]:null}function ZA(n,e,t){if(t&De.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&De.Host||(i=lH(o),null===i||(o=o[ya],10&i.type))););if(null===i)return!1;e=i,n=o}const r=_e.lFrame=eD();return r.currentTNode=e,r.lView=n,!0}function ny(n){const e=eD(),t=n[se];_e.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function eD(){const n=_e.lFrame,e=null===n?null:n.child;return null===e?tD(n):e}function tD(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function nD(){const n=_e.lFrame;return _e.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const rD=nD;function ry(){const n=nD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function An(){return _e.lFrame.selectedIndex}function cs(n){_e.lFrame.selectedIndex=n}function _t(){const n=_e.lFrame;return jA(n.tView,n.selectedIndex)}function iD(){return _e.lFrame.currentNamespace}let oD=!0;function nf(){return oD}function _o(n){oD=n}function rf(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),null!=d&&(n.destroyHooks??=[]).push(t,d)}}function sf(n,e,t){sD(n,e,3,t)}function af(n,e,t,r){(3&n[Te])===t&&sD(n,e,t,r)}function iy(n,e){let t=n[Te];(3&t)===e&&(t&=8191,t+=1,n[Te]=t)}function sD(n,e,t,r){const o=r??-1,s=e.length-1;let a=0;for(let c=void 0!==r?65535&n[va]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(n[va]+=65536),(a<o||-1==o)&&(yH(n,t,e,c),n[va]=(4294901760&n[va])+c+2),c++}function aD(n,e){Qr(4,n,e);const t=_r(null);try{e.call(n)}finally{_r(t),Qr(5,n,e)}}function yH(n,e,t,r){const i=t[r]<0,o=t[r+1],a=n[i?-t[r]:t[r]];i?n[Te]>>13<n[va]>>16&&(3&n[Te])===e&&(n[Te]+=8192,aD(a,o)):aD(a,o)}const Ta=-1;class qu{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function sy(n){return n!==Ta}function Wu(n){return 32767&n}function Ku(n,e){let t=function IH(n){return n>>16}(n),r=e;for(;t>0;)r=r[ya],t--;return r}let ay=!0;function cf(n){const e=ay;return ay=n,e}const cD=255,uD=5;let EH=0;const Jr={};function uf(n,e){const t=lD(n,e);if(-1!==t)return t;const r=e[se];r.firstCreatePass&&(n.injectorIndex=e.length,cy(r.data,n),cy(e,null),cy(r.blueprint,null));const i=lf(n,e),o=n.injectorIndex;if(sy(i)){const s=Wu(i),a=Ku(i,e),c=a[se].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function cy(n,e){n.push(0,0,0,0,0,0,0,0,e)}function lD(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function lf(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=_D(i),null===r)return Ta;if(t++,i=i[ya],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Ta}function uy(n,e,t){!function wH(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Nu)&&(r=t[Nu]),null==r&&(r=t[Nu]=EH++);const i=r&cD;e.data[n+(i>>uD)]|=1<<i}(n,e,t)}function dD(n,e,t){if(t&De.Optional||void 0!==n)return n;D_()}function hD(n,e,t,r){if(t&De.Optional&&void 0===r&&(r=null),!(t&(De.Self|De.Host))){const i=n[fo],o=jn(void 0);try{return i?i.get(e,r,t&De.Optional):eA(e,r,t&De.Optional)}finally{jn(o)}}return dD(r,0,t)}function fD(n,e,t,r=De.Default,i){if(null!==n){if(2048&e[Te]&&!(r&De.Self)){const s=function SH(n,e,t,r,i){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[Te]&&!(512&s[Te]);){const a=pD(o,s,t,r|De.Self,Jr);if(a!==Jr)return a;let c=o.parent;if(!c){const u=s[yA];if(u){const d=u.get(t,Jr,r);if(d!==Jr)return d}c=_D(s),s=s[ya]}o=c}return i}(n,e,t,r,Jr);if(s!==Jr)return s}const o=pD(n,e,t,r,Jr);if(o!==Jr)return o}return hD(e,t,r,i)}function pD(n,e,t,r,i){const o=function MH(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Nu)?n[Nu]:void 0;return"number"==typeof e?e>=0?e&cD:DH:e}(t);if("function"==typeof o){if(!ZA(e,n,r))return r&De.Host?dD(i,0,r):hD(e,t,r,i);try{let s;if(s=o(r),null!=s||r&De.Optional)return s;D_()}finally{rD()}}else if("number"==typeof o){let s=null,a=lD(n,e),c=Ta,u=r&De.Host?e[At][ln]:null;for((-1===a||r&De.SkipSelf)&&(c=-1===a?lf(n,e):e[a+8],c!==Ta&&mD(r,!1)?(s=e[se],a=Wu(c),e=Ku(c,e)):a=-1);-1!==a;){const d=e[se];if(gD(o,a,d.data)){const h=PH(a,e,t,s,r,u);if(h!==Jr)return h}c=e[a+8],c!==Ta&&mD(r,e[se].data[a+8]===u)&&gD(o,a,e)?(s=d,a=Wu(c),e=Ku(c,e)):a=-1}}return i}function PH(n,e,t,r,i,o){const s=e[se],a=s.data[n+8],d=df(a,s,t,null==r?ss(a)&&ay:r!=s&&0!=(3&a.type),i&De.Host&&o===a);return null!==d?us(e,s,d,a):Jr}function df(n,e,t,r,i){const o=n.providerIndexes,s=e.data,a=1048575&o,c=n.directiveStart,d=o>>20,p=i?a+d:n.directiveEnd;for(let m=r?a:a+d;m<p;m++){const C=s[m];if(m<c&&t===C||m>=c&&C.type===t)return m}if(i){const m=s[c];if(m&&Nr(m)&&m.type===t)return c}return null}function us(n,e,t,r){let i=n[t];const o=e.data;if(function vH(n){return n instanceof qu}(i)){const s=i;s.resolving&&function K$(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new K(-200,`Circular dependency in DI detected for ${n}${t}`)}(function ze(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():be(n)}(o[t]));const a=cf(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?jn(s.injectImpl):null;ZA(n,r,De.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function _H(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=VA(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==u&&jn(u),cf(a),s.resolving=!1,rD()}}return i}function gD(n,e,t){return!!(t[e+(n>>uD)]&1<<n)}function mD(n,e){return!(n&De.Self||n&De.Host&&e)}class Dn{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return fD(this._tNode,this._lView,e,Wh(r),t)}}function DH(){return new Dn(en(),G())}function tn(n){return bi(()=>{const e=n.prototype.constructor,t=e[Ii]||ly(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[Ii]||ly(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function ly(n){return M_(n)?()=>{const e=ly(ye(n));return e&&e()}:as(n)}function _D(n){const e=n[se],t=e.type;return 2===t?e.declTNode:1===t?n[ln]:null}const Ma="__parameters__";function Da(n,e,t){return bi(()=>{const r=function dy(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,u,d){const h=c.hasOwnProperty(Ma)?c[Ma]:Object.defineProperty(c,Ma,{value:[]})[Ma];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(s),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function xa(n,e){n.forEach(t=>Array.isArray(t)?xa(t,e):e(t))}function vD(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function ff(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function or(n,e,t){let r=Oa(n,e);return r>=0?n[1|r]=t:(r=~r,function FH(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function hy(n,e){const t=Oa(n,e);if(t>=0)return n[1|t]}function Oa(n,e){return function CD(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const Sn=ku(Da("Optional"),8),gf=ku(Da("SkipSelf"),4),ka="ngSkipHydration";function SD(n){const e=ka.toLowerCase(),t=n.mergedAttrs;if(null===t)return!1;for(let r=0;r<t.length;r+=2){const i=t[r];if("number"==typeof i)return!1;if("string"==typeof i&&i.toLowerCase()===e)return!0}return!1}function xD(n){return n.hasAttribute(ka)}function Cf(n){return 128==(128&n.flags)}var yo=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(yo||{});const iz=/^>|^->|<!--|-->|--!>|<!-$/g,oz=/(<|>)/g,sz="\u200b$1\u200b";const _y=new Map;let az=0;const vy="__ngContext__";function dn(n,e){zn(e)?(n[vy]=e[Bu],function uz(n){_y.set(n[Bu],n)}(e)):n[vy]=e}let Cy;function by(n,e){return Cy(n,e)}function el(n){const e=n[ht];return Pn(e)?e[ht]:e}function BD(n){return $D(n[Lu])}function jD(n){return $D(n[kr])}function $D(n){for(;null!==n&&!Pn(n);)n=n[kr];return n}function Na(n,e,t,r,i){if(null!=r){let o,s=!1;Pn(r)?o=r:zn(r)&&(s=!0,r=r[It]);const a=nt(r);0===n&&null!==t?null==i?qD(e,t,a):ls(e,t,a,i||null,!0):1===n&&null!==t?ls(e,t,a,i||null,!0):2===n?Mf(e,a,s):3===n&&e.destroyNode(a),null!=o&&function xz(n,e,t,r,i){const o=t[Kr];o!==nt(t)&&Na(e,n,r,o,i);for(let a=Xt;a<t.length;a++){const c=t[a];nl(c[se],c,n,e,r,o)}}(e,n,o,t,i)}}function If(n,e){return n.createText(e)}function Iy(n,e){return n.createComment(function OD(n){return n.replace(iz,e=>e.replace(oz,sz))}(e))}function Ef(n,e,t){return n.createElement(e,t)}function zD(n,e){const t=n[Ca],r=t.indexOf(e);HA(e),t.splice(r,1)}function wf(n,e){if(n.length<=Xt)return;const t=Xt+e,r=n[t];if(r){const i=r[Uu];null!==i&&i!==n&&zD(i,r),e>0&&(n[t-1][kr]=r[kr]);const o=ff(n,Xt+e);!function Cz(n,e){nl(n,e,e[Ie],2,null,null),e[It]=null,e[ln]=null}(r[se],r);const s=o[Wr];null!==s&&s.detachView(o[se]),r[ht]=null,r[kr]=null,r[Te]&=-129}return r}function Ey(n,e){if(!(256&e[Te])){const t=e[Ie];e[ju]&&AA(e[ju]),e[$u]&&AA(e[$u]),t.destroyNode&&nl(n,e,t,3,null,null),function Ez(n){let e=n[Lu];if(!e)return wy(n[se],n);for(;e;){let t=null;if(zn(e))t=e[Lu];else{const r=e[Xt];r&&(t=r)}if(!t){for(;e&&!e[kr]&&e!==n;)zn(e)&&wy(e[se],e),e=e[ht];null===e&&(e=n),zn(e)&&wy(e[se],e),t=e&&e[kr]}e=t}}(e)}}function wy(n,e){if(!(256&e[Te])){e[Te]&=-129,e[Te]|=256,function Mz(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof qu)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];Qr(4,a,c);try{c.call(a)}finally{Qr(5,a,c)}}else{Qr(4,i,o);try{o.call(i)}finally{Qr(5,i,o)}}}}}(n,e),function Pz(n,e){const t=n.cleanup,r=e[ma];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else t[o].call(r[t[o+1]]);null!==r&&(e[ma]=null);const i=e[po];if(null!==i){e[po]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(n,e),1===e[se].type&&e[Ie].destroy();const t=e[Uu];if(null!==t&&Pn(e[ht])){t!==e[ht]&&zD(t,e);const r=e[Wr];null!==r&&r.detachView(n)}!function lz(n){_y.delete(n[Bu])}(e)}}function Ty(n,e,t){return function GD(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[It];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=n.data[r.directiveStart+i];if(o===xr.None||o===xr.Emulated)return null}return Gn(r,t)}}(n,e.parent,t)}function ls(n,e,t,r,i){n.insertBefore(e,t,r,i)}function qD(n,e,t){n.appendChild(e,t)}function WD(n,e,t,r,i){null!==r?ls(n,e,t,r,i):qD(n,e,t)}function Tf(n,e){return n.parentNode(e)}let Py,Sy,Df,YD=function QD(n,e,t){return 40&n.type?Gn(n,t):null};function Pf(n,e,t,r){const i=Ty(n,r,e),o=e[Ie],a=function KD(n,e,t){return YD(n,e,t)}(r.parent||e[ln],r,e);if(null!=i)if(Array.isArray(t))for(let c=0;c<t.length;c++)WD(o,i,t[c],a,!1);else WD(o,i,t,a,!1);void 0!==Py&&Py(o,r,e,t,i)}function tl(n,e){if(null!==e){const t=e.type;if(3&t)return Gn(e,n);if(4&t)return My(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return tl(n,r);{const i=n[e.index];return Pn(i)?My(-1,i):nt(i)}}if(32&t)return by(e,n)()||nt(n[e.index]);{const r=XD(n,e);return null!==r?Array.isArray(r)?r[0]:tl(el(n[At]),r):tl(n,e.next)}}return null}function XD(n,e){return null!==e?n[At][ln].projection[e.projection]:null}function My(n,e){const t=Xt+n+1;if(t<e.length){const r=e[t],i=r[se].firstChild;if(null!==i)return tl(r,i)}return e[Kr]}function Mf(n,e,t){const r=Tf(n,e);r&&function Az(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}function ZD(n){n.textContent=""}function Ay(n,e,t,r,i,o,s){for(;null!=t;){const a=r[t.index],c=t.type;if(s&&0===e&&(a&&dn(nt(a),r),t.flags|=2),32!=(32&t.flags))if(8&c)Ay(n,e,t.child,r,i,o,!1),Na(e,n,i,a,o);else if(32&c){const u=by(t,r);let d;for(;d=u();)Na(e,n,i,d,o);Na(e,n,i,a,o)}else 16&c?eS(n,e,r,t,i,o):Na(e,n,i,a,o);t=s?t.projectionNext:t.next}}function nl(n,e,t,r,i,o){Ay(t,r,n.firstChild,e,i,o,!1)}function eS(n,e,t,r,i,o){const s=t[At],c=s[ln].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)Na(e,n,i,c[u],o);else{let u=c;const d=s[ht];Cf(r)&&(u.flags|=128),Ay(n,e,u,d,i,o,!0)}}function tS(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function nS(n,e,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&B_(n,e,r),null!==i&&tS(n,e,i),null!==o&&function Rz(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function Fa(){if(void 0!==Sy)return Sy;if(typeof document<"u")return document;throw new K(210,!1)}function oS(n){return function xy(){if(void 0===Df&&(Df=null,tt.trustedTypes))try{Df=tt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Df}()?.createScriptURL(n)||n}class sS{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${YM})`}}function vo(n){return n instanceof sS?n.changingThisBreaksApplicationSecurity:n}function rl(n,e){const t=function Hz(n){return n instanceof sS&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${YM})`)}return t===e}const Wz=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var La=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(La||{});function sr(n){const e=ol();return e?e.sanitize(La.URL,n)||"":rl(n,"URL")?vo(n):function Oy(n){return(n=String(n)).match(Wz)?n:"unsafe:"+n}(be(n))}function fS(n){const e=ol();if(e)return oS(e.sanitize(La.RESOURCE_URL,n)||"");if(rl(n,"ResourceURL"))return oS(vo(n));throw new K(904,!1)}function ol(){const n=G();return n&&n[_a].sanitizer}const Ua=new oe("ENVIRONMENT_INITIALIZER"),gS=new oe("INJECTOR",-1),mS=new oe("INJECTOR_DEF_TYPES");class Vy{get(e,t=Ru){if(t===Ru){const r=new Error(`NullInjectorError: No provider for ${jt(e)}!`);throw r.name="NullInjectorError",r}return t}}function sl(n){return{\u0275providers:n}}function _S(...n){return{\u0275providers:yS(0,n),\u0275fromNgModule:!0}}function yS(n,...e){const t=[],r=new Set;let i;const o=s=>{t.push(s)};return xa(e,s=>{const a=s;xf(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&vS(i,o),t}function vS(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];Fy(i,o=>{e(o,r)})}}function xf(n,e,t,r){if(!(n=ye(n)))return!1;let i=null,o=zh(n);const s=!o&&Ve(n);if(o||s){if(s&&!s.standalone)return!1;i=n}else{const c=n.ngModule;if(o=zh(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of c)xf(u,e,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;r.add(i);try{xa(o.imports,d=>{xf(d,e,t,r)&&(u||=[],u.push(d))})}finally{}void 0!==u&&vS(u,e)}if(!a){const u=as(i)||(()=>new i);e({provide:i,useFactory:u,deps:Ue},i),e({provide:mS,useValue:i,multi:!0},i),e({provide:Ua,useValue:()=>ae(i),multi:!0},i)}const c=o.providers;if(null!=c&&!a){const u=n;Fy(c,d=>{e(d,u)})}}}return i!==n&&void 0!==n.providers}function Fy(n,e){for(let t of n)A_(t)&&(t=t.\u0275providers),Array.isArray(t)?Fy(t,e):e(t)}const s8=Ge({provide:String,useValue:Ge});function Ly(n){return null!==n&&"object"==typeof n&&s8 in n}function ds(n){return"function"==typeof n}const Uy=new oe("Set Injector scope."),Of={},c8={};let By;function Rf(){return void 0===By&&(By=new Vy),By}class ar{}class Ba extends ar{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,$y(e,s=>this.processProvider(s)),this.records.set(gS,ja(void 0,this)),i.has("environment")&&this.records.set(ar,ja(void 0,this));const o=this.records.get(Uy);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(mS.multi,Ue,De.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=ho(this),r=jn(void 0);try{return e()}finally{ho(t),jn(r)}}get(e,t=Ru,r=De.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(oA))return e[oA](this);r=Wh(r);const o=ho(this),s=jn(void 0);try{if(!(r&De.SkipSelf)){let c=this.records.get(e);if(void 0===c){const u=function f8(n){return"function"==typeof n||"object"==typeof n&&n instanceof oe}(e)&&Hh(e);c=u&&this.injectableDefInScope(u)?ja(jy(e),Of):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&De.Self?Rf():this.parent).get(e,t=r&De.Optional&&t===Ru?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[qh]=a[qh]||[]).unshift(jt(e)),o)throw a;return function u6(n,e,t,r){const i=n[qh];throw e[nA]&&i.unshift(e[nA]),n.message=function l6(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=jt(e);if(Array.isArray(e))i=e.map(jt).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):jt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(i6,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[qh]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{jn(s),ho(o)}}resolveInjectorInitializers(){const e=ho(this),t=jn(void 0);try{const i=this.get(Ua.multi,Ue,De.Self);for(const o of i)o()}finally{ho(e),jn(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(jt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new K(205,!1)}processProvider(e){let t=ds(e=ye(e))?e:ye(e&&e.provide);const r=function l8(n){return Ly(n)?ja(void 0,n.useValue):ja(IS(n),Of)}(e);if(ds(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=ja(void 0,Of,!0),i.factory=()=>F_(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Of&&(t.value=c8,t.value=t.factory()),"object"==typeof t.value&&t.value&&function h8(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=ye(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function jy(n){const e=Hh(n),t=null!==e?e.factory:as(n);if(null!==t)return t;if(n instanceof oe)throw new K(204,!1);if(n instanceof Function)return function u8(n){const e=n.length;if(e>0)throw function Ju(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new K(204,!1);const t=function e6(n){return n&&(n[Gh]||n[XM])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new K(204,!1)}function IS(n,e,t){let r;if(ds(n)){const i=ye(n);return as(i)||jy(i)}if(Ly(n))r=()=>ye(n.useValue);else if(function bS(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...F_(n.deps||[]));else if(function CS(n){return!(!n||!n.useExisting)}(n))r=()=>ae(ye(n.useExisting));else{const i=ye(n&&(n.useClass||n.provide));if(!function d8(n){return!!n.deps}(n))return as(i)||jy(i);r=()=>new i(...F_(n.deps))}return r}function ja(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function $y(n,e){for(const t of n)Array.isArray(t)?$y(t,e):t&&A_(t)?$y(t.\u0275providers,e):e(t)}const Hy=new oe("AppId",{providedIn:"root",factory:()=>p8}),p8="ng",ES=new oe("Platform Initializer"),Mi=new oe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),wS=new oe("CSP nonce",{providedIn:"root",factory:()=>Fa().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),TS=new oe("",{providedIn:"root",factory:()=>new Set});function g8(){const n=new $a;return"browser"===ne(Mi)&&(n.store=function m8(n,e){const t=n.getElementById(e+"-state");if(t?.textContent)try{return JSON.parse(t.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}(Fa(),ne(Hy))),n}let $a=(()=>{class n{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=le({token:n,providedIn:"root",factory:g8})}get(t,r){return void 0!==this.store[t]?this.store[t]:r}set(t,r){this.store[t]=r}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(t,r){this.onSerializeCallbacks[t]=r}toJson(){for(const t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return n})();const zy="h",Gy="b";var Ha=function(n){return n.FirstChild="f",n.NextSibling="n",n}(Ha||{});const qy="e",Wy="t",al="c",kf="x",za="r",Ky="i",Qy="n",Nf="d",Yy="__\u0275nghData__",cl="ngh";let PS=(n,e,t)=>null;function y8(n,e,t=!1){let r=n.getAttribute(cl);if(null==r)return null;const[i,o]=r.split("|");if(r=t?o:i,!r)return null;const s=t?i:o?`|${o}`:"";let a={};if(""!==r){const u=e.get($a,null,{optional:!0});null!==u&&(a=u.get(Yy,[])[Number(r)])}const c={data:a,firstChild:n.firstChild??null};return t&&(c.firstChild=n,Vf(c,0,n.nextSibling)),s?n.setAttribute(cl,s):n.removeAttribute(cl),c}function Jy(n,e,t=!1){return PS(n,e,t)}function MS(n){let e=n._lView;return 2===e[se].type?null:(H_(e)&&(e=e[Se]),e)}function Vf(n,e,t){n.segmentHeads??={},n.segmentHeads[e]=t}function Xy(n,e){return n.segmentHeads?.[e]??null}function AS(n,e){return n.data[al]?.[e]??null}function Zy(n,e){const t=AS(n,e)??[];let r=0;for(let i of t)r+=i[za]*(i[kf]??1);return r}function Ff(n,e){if(typeof n.disconnectedNodes>"u"){const t=n.data[Nf];n.disconnectedNodes=t?new Set(t):null}return!!n.disconnectedNodes?.has(e)}class w8{}class DS{}class P8{resolveComponentFactory(e){throw function T8(n){const e=Error(`No component factory found for ${jt(n)}.`);return e.ngComponent=n,e}(e)}}let Lf=(()=>{class n{static{this.NULL=new P8}}return n})();function M8(){return Ga(en(),G())}function Ga(n,e){return new cr(Gn(n,e))}let cr=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=M8}}return n})();function A8(n){return n instanceof cr?n.nativeElement:n}class xS{}let Ai=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function D8(){const n=G(),t=ir(en().index,n);return(zn(t)?t:n)[Ie]}()}}return n})(),S8=(()=>{class n{static{this.\u0275prov=le({token:n,providedIn:"root",factory:()=>null})}}return n})();class qa{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const OS=new qa("16.2.12"),ev={};function VS(n,e=null,t=null,r){const i=FS(n,e,t,r);return i.resolveInjectorInitializers(),i}function FS(n,e=null,t=null,r,i=new Set){const o=[t||Ue,_S(n)];return r=r||("object"==typeof n?void 0:jt(n)),new Ba(o,e||Rf(),r||null,i)}let hn=(()=>{class n{static{this.THROW_IF_NOT_FOUND=Ru}static{this.NULL=new Vy}static create(t,r){if(Array.isArray(t))return VS({name:""},r,t,"");{const i=t.name??"";return VS({name:i},t.parent,t.providers,i)}}static{this.\u0275prov=le({token:n,providedIn:"any",factory:()=>ae(gS)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();function nv(n){return n.ngOriginalError}class Di{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&nv(e);for(;t&&nv(t);)t=nv(t);return t||null}}function rv(n){return e=>{setTimeout(n,void 0,e)}}const yt=class L8 extends Sr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=rv(o),i&&(i=rv(i)),s&&(s=rv(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof Bn&&e.add(a),a}};function US(...n){}class Be{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yt(!1),this.onMicrotaskEmpty=new yt(!1),this.onStable=new yt(!1),this.onError=new yt(!1),typeof Zone>"u")throw new K(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function U8(){const n="function"==typeof tt.requestAnimationFrame;let e=tt[n?"requestAnimationFrame":"setTimeout"],t=tt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function $8(n){const e=()=>{!function j8(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(tt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,ov(n),n.isCheckStableRunning=!0,iv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),ov(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{if(function z8(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,o,s,a);try{return BS(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),jS(n)}},onInvoke:(t,r,i,o,s,a,c)=>{try{return BS(n),t.invoke(i,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),jS(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,ov(n),iv(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Be.isInAngularZone())throw new K(909,!1)}static assertNotInAngularZone(){if(Be.isInAngularZone())throw new K(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,B8,US,US);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const B8={};function iv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function ov(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function BS(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function jS(n){n._nesting--,iv(n)}const $S=new oe("",{providedIn:"root",factory:HS});function HS(){const n=ne(Be);let e=!0;return function H$(...n){const e=xu(n),t=function V$(n,e){return"number"==typeof w_(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?er(r[0]):ha(t)(Bt(r,e)):Gr}(new dt(i=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{i.next(e),i.complete()})}),new dt(i=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{Be.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=n.onUnstable.subscribe(()=>{Be.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(KM()))}function Si(n){return n instanceof Function?n():n}function Ka(n){return"browser"===(n??ne(hn)).get(Mi)}let sv=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=le({token:n,providedIn:"root",factory:()=>new n})}}return n})();function ul(n){for(;n;){n[Te]|=64;const e=el(n);if(H_(n)&&!e)return n;n=e}return null}const Bf=new oe(""),KS=new oe("",{providedIn:"root",factory:()=>!1});let jf=null;function XS(n,e){return n[e]??tx()}function ZS(n,e){const t=tx();t.producerNode?.length&&(n[e]=jf,t.lView=n,jf=ex())}const e9={...IA,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{ul(n.lView)},lView:null};function ex(){return Object.create(e9)}function tx(){return jf??=ex(),jf}const we={};function b(n){nx(Fe(),G(),An()+n,!1)}function nx(n,e,t,r){if(!r)if(3==(3&e[Te])){const o=n.preOrderCheckHooks;null!==o&&sf(e,o,t)}else{const o=n.preOrderHooks;null!==o&&af(e,o,0,t)}cs(t)}function H(n,e=De.Default){const t=G();return null===t?ae(n,e):fD(en(),t,ye(n),e)}function $f(n,e,t,r,i,o,s,a,c,u,d){const h=e.blueprint.slice();return h[It]=i,h[Te]=140|r,(null!==u||n&&2048&n[Te])&&(h[Te]|=2048),$A(h),h[ht]=h[ya]=n,h[Mt]=t,h[_a]=s||n&&n[_a],h[Ie]=a||n&&n[Ie],h[fo]=c||n&&n[fo]||null,h[ln]=o,h[Bu]=function cz(){return az++}(),h[Ei]=d,h[yA]=u,h[At]=2==e.type?n[At]:h,h}function Qa(n,e,t,r,i){let o=n.data[e];if(null===o)o=function av(n,e,t,r,i){const o=KA(),s=J_(),c=n.data[e]=function c9(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Ea()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(n,e,t,r,i),function aH(){return _e.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function Gu(){const n=_e.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Yr(o,!0),o}function ll(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function ix(n,e,t,r,i){const o=XS(e,ju),s=An(),a=2&r;try{cs(-1),a&&e.length>Se&&nx(n,e,Se,!1),Qr(a?2:0,i);const u=a?o:null,d=G_(u);try{null!==u&&(u.dirty=!1),t(r,i)}finally{q_(u,d)}}finally{a&&null===e[ju]&&ZS(e,ju),cs(s),Qr(a?3:1,i)}}function cv(n,e,t){if($_(e)){const r=_r(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{_r(r)}}}function uv(n,e,t){WA()&&(function g9(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;ss(t)&&function I9(n,e,t){const r=Gn(e,n),i=ox(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=Hf(n,$f(n,i,null,s,r,e,null,n[_a].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||uf(t,e),dn(r,e);const s=t.initialInputs;for(let a=i;a<o;a++){const c=n.data[a],u=us(e,n,a,t);dn(u,e),null!==s&&E9(0,a-i,u,c,0,s),Nr(c)&&(ir(t.index,e)[Mt]=us(e,n,a,t))}}(n,e,t,Gn(t,e)),64==(64&t.flags)&&lx(n,e,t))}function lv(n,e,t=Gn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(e,n):n[s];n[i++]=a}}}function ox(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=dv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function dv(n,e,t,r,i,o,s,a,c,u,d){const h=Se+r,p=h+i,m=function n9(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:we);return t}(h,p),C="function"==typeof u?u():u;return m[se]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:C,incompleteFirstPass:!1,ssrId:d}}let sx=n=>null;function o9(n){xD(n)?ZD(n):function b8(n){const e=Fa(),t=e.createNodeIterator(n,NodeFilter.SHOW_COMMENT,{acceptNode(o){const s=function C8(n){return n.textContent?.replace(/\s/gm,"")}(o);return"ngetn"===s||"ngtns"===s?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}});let r;const i=[];for(;r=t.nextNode();)i.push(r);for(const o of i)"ngetn"===o.textContent?o.replaceWith(e.createTextNode("")):o.remove()}(n)}function ax(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const o=n[i];null===r?cx(t,e,i,o):r.hasOwnProperty(i)&&cx(t,e,r[i],o)}return t}function cx(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function ur(n,e,t,r,i,o,s,a){const c=Gn(e,t);let d,u=e.inputs;!a&&null!=u&&(d=u[r])?(mv(n,t,d,r,i),ss(e)&&function d9(n,e){const t=ir(e,n);16&t[Te]||(t[Te]|=64)}(t,e.index)):3&e.type&&(r=function l9(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(c,r,i))}function hv(n,e,t,r){if(WA()){const i=null===r?null:{"":-1},o=function _9(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(hA(e,s.selectors,!1))if(r||(r=[]),Nr(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),fv(n,e,a.length)}else r.unshift(s),fv(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&ux(n,e,t,s,i,a),i&&function y9(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new K(-301,!1);r.push(e[i],o)}}}(t,r,i)}t.mergedAttrs=Vu(t.mergedAttrs,t.attrs)}function ux(n,e,t,r,i,o){for(let u=0;u<r.length;u++)uy(uf(t,e),n,r[u].type);!function C9(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let u=0;u<r.length;u++){const d=r[u];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,c=ll(n,e,r.length,null);for(let u=0;u<r.length;u++){const d=r[u];t.mergedAttrs=Vu(t.mergedAttrs,d.hostAttrs),b9(n,t,e,c,d),v9(c,d,i),null!==d.contentQueries&&(t.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=64);const h=d.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function u9(n,e,t){const i=e.directiveEnd,o=n.data,s=e.attrs,a=[];let c=null,u=null;for(let d=e.directiveStart;d<i;d++){const h=o[d],p=t?t.get(h):null,C=p?p.outputs:null;c=ax(h.inputs,d,c,p?p.inputs:null),u=ax(h.outputs,d,u,C);const E=null===c||null===s||dA(e)?null:w9(c,d,s);a.push(E)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}(n,t,o)}function lx(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function uH(){return _e.lFrame.currentDirectiveIndex}();try{cs(o);for(let a=r;a<i;a++){const c=n.data[a],u=e[a];Z_(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&m9(c,u)}}finally{cs(-1),Z_(s)}}function m9(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function fv(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function v9(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Nr(e)&&(t[""]=n)}}function b9(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=as(i.type)),s=new qu(o,Nr(i),H);n.blueprint[r]=s,t[r]=s,function f9(n,e,t,r,i){const o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function p9(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,o)}}(n,e,r,ll(n,t,i.hostVars,we),i)}function Xr(n,e,t,r,i,o){const s=Gn(n,e);!function pv(n,e,t,r,i,o,s){if(null==o)n.removeAttribute(e,i,t);else{const a=null==s?be(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}(e[Ie],s,o,n.value,t,r,i)}function E9(n,e,t,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)dx(r,t,s[a++],s[a++],s[a++])}function dx(n,e,t,r,i){const o=_r(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==n.setInput?n.setInput(e,i,t,r):e[r]=i}finally{_r(o)}}function w9(n,e,t){let r=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===r&&(r=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function hx(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null,null]}function fx(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const o=t[r+1];if(-1!==o){const s=n.data[o];ty(t[r]),s.contentQueries(2,e[o],o)}}}function Hf(n,e){return n[Lu]?n[_A][kr]=e:n[Lu]=e,n[_A]=e,e}function gv(n,e,t){ty(0);const r=_r(null);try{e(n,t)}finally{_r(r)}}function px(n){return n[ma]||(n[ma]=[])}function gx(n){return n.cleanup||(n.cleanup=[])}function _x(n,e){const t=n[fo],r=t?t.get(Di,null):null;r&&r.handleError(e)}function mv(n,e,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];dx(n.data[s],e[s],r,a,i)}}function xi(n,e,t){const r=tf(e,n);!function HD(n,e,t){n.setValue(e,t)}(n[Ie],r,t)}function T9(n,e){const t=ir(e,n),r=t[se];!function P9(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[It];null!==i&&null===t[Ei]&&(t[Ei]=Jy(i,t[fo])),_v(r,t,t[Mt])}function _v(n,e,t){ny(e);try{const r=n.viewQuery;null!==r&&gv(1,r,t);const i=n.template;null!==i&&ix(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&fx(n,e),n.staticViewQueries&&gv(2,n.viewQuery,t);const o=n.components;null!==o&&function M9(n,e){for(let t=0;t<e.length;t++)T9(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Te]&=-5,ry()}}let yx=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function U6(n,e,t){const r=Object.create(B6);t&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=e;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>PA(r),run:()=>{if(r.dirty=!1,r.hasRun&&!MA(r))return;r.hasRun=!0;const s=G_(r);try{r.cleanupFn(),r.cleanupFn=NA,r.fn(i)}finally{q_(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(t,u=>{this.all.has(u)&&this.queue.set(u,o)},i);let a;this.all.add(s),s.notify();const c=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=le({token:n,providedIn:"root",factory:()=>new n})}}return n})();function zf(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=P_(i,a):2==o&&(r=P_(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function dl(n,e,t,r,i=!1){for(;null!==t;){const o=e[t.index];null!==o&&r.push(nt(o)),Pn(o)&&vx(o,r);const s=t.type;if(8&s)dl(n,e,t.child,r);else if(32&s){const a=by(t,e);let c;for(;c=a();)r.push(c)}else if(16&s){const a=XD(e,t);if(Array.isArray(a))r.push(...a);else{const c=el(e[At]);dl(c[se],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function vx(n,e){for(let t=Xt;t<n.length;t++){const r=n[t],i=r[se].firstChild;null!==i&&dl(r[se],r,i,e)}n[Kr]!==n[It]&&e.push(n[Kr])}function Gf(n,e,t,r=!0){const i=e[_a],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{Cx(n,e,n.template,t)}catch(c){throw r&&_x(e,c),c}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function Cx(n,e,t,r){const i=e[Te];if(256!=(256&i)){e[_a].effectManager?.flush(),ny(e);try{$A(e),function YA(n){return _e.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&ix(n,e,t,2,r);const s=3==(3&i);if(s){const u=n.preOrderCheckHooks;null!==u&&sf(e,u,null)}else{const u=n.preOrderHooks;null!==u&&af(e,u,0,null),iy(e,0)}if(function S9(n){for(let e=BD(n);null!==e;e=jD(e)){if(!e[vA])continue;const t=e[Ca];for(let r=0;r<t.length;r++){Y6(t[r])}}}(e),bx(e,2),null!==n.contentQueries&&fx(n,e),s){const u=n.contentCheckHooks;null!==u&&sf(e,u)}else{const u=n.contentHooks;null!==u&&af(e,u,1),iy(e,1)}!function t9(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const r=XS(e,$u);try{for(let i=0;i<t.length;i++){const o=t[i];if(o<0)cs(~o);else{const s=o,a=t[++i],c=t[++i];cH(a,s),r.dirty=!1;const u=G_(r);try{c(2,e[s])}finally{q_(r,u)}}}}finally{null===e[$u]&&ZS(e,$u),cs(-1)}}(n,e);const a=n.components;null!==a&&Ex(e,a,0);const c=n.viewQuery;if(null!==c&&gv(2,c,r),s){const u=n.viewCheckHooks;null!==u&&sf(e,u)}else{const u=n.viewHooks;null!==u&&af(e,u,2),iy(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[Te]&=-73,HA(e)}finally{ry()}}}function bx(n,e){for(let t=BD(n);null!==t;t=jD(t))for(let r=Xt;r<t.length;r++)Ix(t[r],e)}function x9(n,e,t){Ix(ir(e,n),t)}function Ix(n,e){if(!function K6(n){return 128==(128&n[Te])}(n))return;const t=n[se],r=n[Te];if(80&r&&0===e||1024&r||2===e)Cx(t,n,t.template,n[Mt]);else if(n[Fu]>0){bx(n,1);const i=t.components;null!==i&&Ex(n,i,1)}}function Ex(n,e,t){for(let r=0;r<e.length;r++)x9(n,e[r],t)}class hl{get rootNodes(){const e=this._lView,t=e[se];return dl(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Mt]}set context(e){this._lView[Mt]=e}get destroyed(){return 256==(256&this._lView[Te])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[ht];if(Pn(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(wf(e,r),ff(t,r))}this._attachedToViewContainer=!1}Ey(this._lView[se],this._lView)}onDestroy(e){!function GA(n,e){if(256==(256&n[Te]))throw new K(911,!1);null===n[po]&&(n[po]=[]),n[po].push(e)}(this._lView,e)}markForCheck(){ul(this._cdRefInjectingView||this._lView)}detach(){this._lView[Te]&=-129}reattach(){this._lView[Te]|=128}detectChanges(){Gf(this._lView[se],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new K(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Iz(n,e){nl(n,e,e[Ie],2,null,null)}(this._lView[se],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new K(902,!1);this._appRef=e}}class O9 extends hl{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Gf(e[se],e,e[Mt],!1)}checkNoChanges(){}get context(){return null}}class wx extends Lf{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Ve(e);return new fl(t,this.ngModule)}}function Tx(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class k9{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Wh(r);const i=this.injector.get(e,ev,r);return i!==ev||t===ev?i:this.parentInjector.get(e,t,r)}}class fl extends DS{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=Tx(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return Tx(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function C6(n){return n.map(v6).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=(i=i||this.ngModule)instanceof ar?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new k9(e,o):e,a=s.get(xS,null);if(null===a)throw new K(407,!1);const h={rendererFactory:a,sanitizer:s.get(S8,null),effectManager:s.get(yx,null),afterRenderEventManager:s.get(sv,null)},p=a.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",C=r?function r9(n,e,t,r){const o=r.get(KS,!1)||t===xr.ShadowDom,s=n.selectRootElement(e,o);return function i9(n){sx(n)}(s),s}(p,r,this.componentDef.encapsulation,s):Ef(p,m,function R9(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(m)),R=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let D=null;null!==C&&(D=Jy(C,s,!0));const U=dv(0,null,null,1,0,null,null,null,null,null,null),Q=$f(null,U,null,R,null,null,h,p,s,null,D);let ie,he;ny(Q);try{const S=this.componentDef;let T,M=null;S.findHostDirectiveDefs?(T=[],M=new Map,S.findHostDirectiveDefs(S,T,M),T.push(S)):T=[S];const x=function V9(n,e){const t=n[se],r=Se;return n[r]=e,Qa(t,r,2,"#host",null)}(Q,C),k=function F9(n,e,t,r,i,o,s){const a=i[se];!function L9(n,e,t,r){for(const i of n)e.mergedAttrs=Vu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(zf(e,e.mergedAttrs,!0),null!==t&&nS(r,t,e))}(r,n,e,s);let c=null;null!==e&&(c=Jy(e,i[fo]));const u=o.rendererFactory.createRenderer(e,t);let d=16;t.signals?d=4096:t.onPush&&(d=64);const h=$f(i,ox(t),null,d,i[n.index],n,o,u,null,null,c);return a.firstCreatePass&&fv(a,n,r.length-1),Hf(i,h),i[n.index]=h}(x,C,S,T,Q,h,p);he=jA(U,Se),C&&function B9(n,e,t,r){if(r)B_(n,t,["ng-version",OS.full]);else{const{attrs:i,classes:o}=function b6(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!Or(i))break;i=o}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&B_(n,t,i),o&&o.length>0&&tS(n,t,o.join(" "))}}(p,S,C,r),void 0!==t&&function j9(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const o=t[i];r.push(null!=o?Array.from(o):null)}}(he,this.ngContentSelectors,t),ie=function U9(n,e,t,r,i,o){const s=en(),a=i[se],c=Gn(s,i);ux(a,i,s,t,null,r);for(let d=0;d<t.length;d++)dn(us(i,a,s.directiveStart+d,s),i);lx(a,i,s),c&&dn(c,i);const u=us(i,a,s.directiveStart+s.componentOffset,s);if(n[Mt]=i[Mt]=u,null!==o)for(const d of o)d(u,e);return cv(a,s,n),u}(k,S,T,M,Q,[$9]),_v(U,Q,null)}finally{ry()}return new N9(this.componentType,ie,Ga(he,Q),Q,he)}}class N9 extends w8{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new O9(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;mv(o[se],o,i,e,t),this.previousInputValues.set(e,t),ul(ir(this._tNode.index,o))}}get injector(){return new Dn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function $9(){const n=en();rf(G()[se],n)}function qe(n){let e=function Px(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Nr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new K(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const s=n;s.inputs=qf(n.inputs),s.inputTransforms=qf(n.inputTransforms),s.declaredInputs=qf(n.declaredInputs),s.outputs=qf(n.outputs);const a=i.hostBindings;a&&q9(n,a);const c=i.viewQuery,u=i.contentQueries;if(c&&z9(n,c),u&&G9(n,u),$h(n.inputs,i.inputs),$h(n.declaredInputs,i.declaredInputs),$h(n.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),$h(s.inputTransforms,i.inputTransforms)),Nr(i)&&i.data.animation){const d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===qe&&(t=!1)}}e=Object.getPrototypeOf(e)}!function H9(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Vu(i.hostAttrs,t=Vu(t,i.hostAttrs))}}(r)}function qf(n){return n===qr?{}:n===Ue?[]:n}function z9(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function G9(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,o)=>{e(r,i,o),t(r,i,o)}:e}function q9(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function Sx(n){const e=n.inputConfig,t={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(t[r]=i[2])}n.inputTransforms=t}function Wf(n){return!!yv(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function yv(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Zr(n,e,t){return n[e]=t}function pl(n,e){return n[e]}function fn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function hs(n,e,t,r){const i=fn(n,e,t);return fn(n,e+1,r)||i}function ei(n,e,t,r){const i=G();return fn(i,wa(),e)&&(Fe(),Xr(_t(),i,n,e,t,r)),ei}function Ja(n,e,t,r){return fn(n,wa(),t)?e+be(t)+r:we}function Xa(n,e,t,r,i,o){const a=hs(n,function wi(){return _e.lFrame.bindingIndex}(),t,i);return Ti(2),a?e+be(t)+r+be(i)+o:we}const uG=new RegExp(`^(\\d+)*(${Gy}|${zy})*(.*)`);function Iv(n){return n.index-Se}function Yf(n,e,t,r){let i=null;const o=Iv(r),s=n.data[Qy];if(s?.[o])i=function pG(n,e){const[t,...r]=function dG(n){const e=n.match(uG),[t,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(const[c,u,d]of o.matchAll(/(f|n)(\d*)/g)){const h=parseInt(d,10)||1;a.push(u,h)}return[s,...a]}(n);let i;return i=t===zy?e[At][It]:t===Gy?function zS(n){return n.ownerDocument.body}(e[At][It]):nt(e[Number(t)+Se]),function fG(n,e){let t=n;for(let r=0;r<e.length;r+=2){const i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case Ha.FirstChild:t=t.firstChild;break;case Ha.NextSibling:t=t.nextSibling}}return t}(i,r)}(s[o],t);else if(e.firstChild===r)i=n.firstChild;else{const a=null===r.prev,c=r.prev??r.parent;if(function hG(n){return!n.prev&&8===n.parent?.type}(r))i=Xy(n,Iv(r.parent));else{let u=Gn(c,t);if(a)i=u.firstChild;else{const d=Iv(c),h=Xy(n,d);i=2===c.type&&h?Jf(Zy(n,d)+1,h):u.nextSibling}}}return i}function Jf(n,e){let t=e;for(let r=0;r<n;r++)t=t.nextSibling;return t}function Y(n,e,t,r,i,o,s,a){const c=G(),u=Fe(),d=n+Se,h=u.firstCreatePass?function _G(n,e,t,r,i,o,s,a,c){const u=e.consts,d=Qa(e,n,4,s||null,mo(u,a));hv(e,t,d,mo(u,c)),rf(e,d);const h=d.tView=dv(2,d,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return null!==e.queries&&(e.queries.template(e,d),h.queries=e.queries.embeddedTView(d)),d}(d,u,c,e,t,r,i,o,s):u.data[d];Yr(h,!1);const p=Hx(u,c,h,n);nf()&&Pf(u,c,p,h),dn(p,c),Hf(c,c[d]=hx(p,c,p,h)),Xh(h)&&uv(u,c,h),null!=s&&lv(c,h,a)}let Hx=zx;function zx(n,e,t,r){return _o(!0),e[Ie].createComment("")}function yG(n,e,t,r){const i=e[Ei],o=!i||Ea()||Ff(i,r);if(_o(o),o)return zx(0,e);const s=i.data[Wy]?.[r]??null;null!==s&&null!==t.tView&&null===t.tView.ssrId&&(t.tView.ssrId=s);const a=Yf(i,n,e,t);return Vf(i,r,a),Jf(Zy(i,r),a)}function oc(n){return function Ia(n,e){return n[e]}(function sH(){return _e.lFrame.contextLView}(),Se+n)}function j(n,e,t){const r=G();return fn(r,wa(),e)&&ur(Fe(),_t(),r,n,e,r[Ie],t,!1),j}function wv(n,e,t,r,i){const s=i?"class":"style";mv(n,t,e.inputs[s],s,r)}function _(n,e,t,r){const i=G(),o=Fe(),s=Se+n,a=i[Ie],c=o.firstCreatePass?function bG(n,e,t,r,i,o){const s=e.consts,c=Qa(e,n,2,r,mo(s,i));return hv(e,t,c,mo(s,o)),null!==c.attrs&&zf(c,c.attrs,!1),null!==c.mergedAttrs&&zf(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,e,t,r):o.data[s],u=Gx(o,i,c,a,e,n);i[s]=u;const d=Xh(c);return Yr(c,!0),nS(a,u,c),32!=(32&c.flags)&&nf()&&Pf(o,i,u,c),0===function X6(){return _e.lFrame.elementDepthCount}()&&dn(u,i),function Z6(){_e.lFrame.elementDepthCount++}(),d&&(uv(o,i,c),cv(o,c,i)),null!==r&&lv(i,c),_}function y(){let n=en();J_()?function X_(){_e.lFrame.isParent=!1}():(n=n.parent,Yr(n,!1));const e=n;(function tH(n){return _e.skipHydrationRootTNode===n})(e)&&function oH(){_e.skipHydrationRootTNode=null}(),function eH(){_e.lFrame.elementDepthCount--}();const t=Fe();return t.firstCreatePass&&(rf(t,n),$_(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function CH(n){return 0!=(8&n.flags)}(e)&&wv(t,e,G(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function bH(n){return 0!=(16&n.flags)}(e)&&wv(t,e,G(),e.stylesWithoutHost,!1),y}function O(n,e,t,r){return _(n,e,t,r),y(),O}let Gx=(n,e,t,r,i,o)=>(_o(!0),Ef(r,i,iD()));function IG(n,e,t,r,i,o){const s=e[Ei],a=!s||Ea()||Ff(s,o);if(_o(a),a)return Ef(r,i,iD());const c=Yf(s,n,e,t);return AS(s,o)&&Vf(s,o,c.nextSibling),s&&(SD(t)||xD(c))&&ss(t)&&(function rH(n){_e.skipHydrationRootTNode=n}(t),ZD(c)),c}let Wx=(n,e,t,r)=>(_o(!0),Iy(e[Ie],""));function TG(n,e,t,r){let i;const o=e[Ei],s=!o||Ea();if(_o(s),s)return Iy(e[Ie],"");const a=Yf(o,n,e,t),c=function E8(n,e){const t=n.data;let r=t[qy]?.[e]??null;return null===r&&t[al]?.[e]&&(r=Zy(n,e)),r}(o,r);return Vf(o,r,a),i=Jf(c,a),i}function Ae(){return G()}function yl(n){return!!n&&"function"==typeof n.then}function Kx(n){return!!n&&"function"==typeof n.subscribe}function z(n,e,t,r){const i=G(),o=Fe(),s=en();return function Yx(n,e,t,r,i,o,s){const a=Xh(r),u=n.firstCreatePass&&gx(n),d=e[Mt],h=px(e);let p=!0;if(3&r.type||s){const E=Gn(r,e),P=s?s(E):E,R=h.length,D=s?Q=>s(nt(Q[r.index])):r.index;let U=null;if(!s&&a&&(U=function MG(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=e[ma],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,e,i,r.index)),null!==U)(U.__ngLastListenerFn__||U).__ngNextListenerFn__=o,U.__ngLastListenerFn__=o,p=!1;else{o=Xx(r,e,d,o,!1);const Q=t.listen(P,i,o);h.push(o,Q),u&&u.push(i,D,R,R+1)}}else o=Xx(r,e,d,o,!1);const m=r.outputs;let C;if(p&&null!==m&&(C=m[i])){const E=C.length;if(E)for(let P=0;P<E;P+=2){const ie=e[C[P]][C[P+1]].subscribe(o),he=h.length;h.push(o,ie),u&&u.push(i,r.index,he,-(he+1))}}}(o,i,i[Ie],s,n,e,r),z}function Jx(n,e,t,r){try{return Qr(6,e,t),!1!==t(r)}catch(i){return _x(n,i),!1}finally{Qr(7,e,t)}}function Xx(n,e,t,r,i){return function o(s){if(s===Function)return r;ul(n.componentOffset>-1?ir(n.index,e):e);let c=Jx(e,t,r,s),u=o.__ngNextListenerFn__;for(;u;)c=Jx(e,t,u,s)&&c,u=u.__ngNextListenerFn__;return i&&!1===c&&s.preventDefault(),c}}function $(n=1){return function dH(n){return(_e.lFrame.contextLView=function hH(n,e){for(;n>0;)e=e[ya],n--;return e}(n,_e.lFrame.contextLView))[Mt]}(n)}function Mv(n,e,t){return Xf(n,"",e,"",t),Mv}function Xf(n,e,t,r,i){const o=G(),s=Ja(o,e,t,r);return s!==we&&ur(Fe(),_t(),o,n,s,o[Ie],i,!1),Xf}function Zf(n,e){return n<<17|e<<2}function Co(n){return n>>17&32767}function Av(n){return 2|n}function fs(n){return(131068&n)>>2}function Dv(n,e){return-131069&n|e<<2}function Sv(n){return 1|n}function aO(n,e,t,r,i){const o=n[t+1],s=null===e;let a=r?Co(o):fs(o),c=!1;for(;0!==a&&(!1===c||s);){const d=n[a+1];VG(n[a],e)&&(c=!0,n[a+1]=r?Sv(d):Av(d)),a=r?Co(d):fs(d)}c&&(n[t+1]=r?Av(o):Sv(o))}function VG(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Oa(n,e)>=0}const Ht={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function cO(n){return n.substring(Ht.key,Ht.keyEnd)}function uO(n,e){const t=Ht.textEnd;return t===e?-1:(e=Ht.keyEnd=function BG(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Ht.key=e,t),sc(n,e,t))}function sc(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function vl(n,e,t){return Vr(n,e,t,!1),vl}function Ee(n,e){return Vr(n,e,null,!0),Ee}function ni(n,e){for(let t=function LG(n){return function dO(n){Ht.key=0,Ht.keyEnd=0,Ht.value=0,Ht.valueEnd=0,Ht.textEnd=n.length}(n),uO(n,sc(n,0,Ht.textEnd))}(e);t>=0;t=uO(e,t))or(n,cO(e),!0)}function Vr(n,e,t,r){const i=G(),o=Fe(),s=Ti(2);o.firstUpdatePass&&gO(o,n,s,r),e!==we&&fn(i,s,e)&&_O(o,o.data[An()],i,i[Ie],n,i[s+1]=function XG(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=jt(vo(n)))),n}(e,t),r,s)}function pO(n,e){return e>=n.expandoStartIndex}function gO(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[An()],s=pO(n,t);vO(o,r)&&null===e&&!s&&(e=!1),e=function GG(n,e,t,r){const i=function ey(n){const e=_e.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Cl(t=xv(null,n,e,t,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==i)if(t=xv(i,n,e,t,r),null===o){let c=function qG(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==fs(r))return n[Co(r)]}(n,e,r);void 0!==c&&Array.isArray(c)&&(c=xv(null,n,e,c[1],r),c=Cl(c,e.attrs,r),function WG(n,e,t,r){n[Co(t?e.classBindings:e.styleBindings)]=r}(n,e,r,c))}else o=function KG(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Cl(r,n[o].hostAttrs,t);return Cl(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function kG(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Co(s),c=fs(s);n[r]=t;let d,u=!1;if(Array.isArray(t)?(d=t[1],(null===d||Oa(t,d)>0)&&(u=!0)):d=t,i)if(0!==c){const p=Co(n[a+1]);n[r+1]=Zf(p,a),0!==p&&(n[p+1]=Dv(n[p+1],r)),n[a+1]=function OG(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Zf(a,0),0!==a&&(n[a+1]=Dv(n[a+1],r)),a=r;else n[r+1]=Zf(c,0),0===a?a=r:n[c+1]=Dv(n[c+1],r),c=r;u&&(n[r+1]=Av(n[r+1])),aO(n,d,r,!0),aO(n,d,r,!1),function NG(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Oa(o,e)>=0&&(t[r+1]=Sv(t[r+1]))}(e,d,n,r,o),s=Zf(a,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,t,s,r)}}function xv(n,e,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],r=Cl(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Cl(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),or(n,s,!!t||e[++o]))}return void 0===n?null:n}function _O(n,e,t,r,i,o,s,a){if(!(3&e.type))return;const c=n.data,u=c[a+1],d=function RG(n){return 1==(1&n)}(u)?yO(c,e,t,i,fs(u),s):void 0;ep(d)||(ep(o)||function xG(n){return 2==(2&n)}(u)&&(o=yO(c,null,t,i,a,s)),function Oz(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:yo.DashCase;null==i?n.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=yo.Important),n.setStyle(t,r,i,o))}}(r,s,tf(An(),t),i,o))}function yO(n,e,t,r,i,o){const s=null===e;let a;for(;i>0;){const c=n[i],u=Array.isArray(c),d=u?c[1]:c,h=null===d;let p=t[i+1];p===we&&(p=h?Ue:void 0);let m=h?hy(p,r):d===r?p:void 0;if(u&&!ep(m)&&(m=hy(c,r)),ep(m)&&(a=m,s))return a;const C=n[i+1];i=s?Co(C):fs(C)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=hy(c,r))}return a}function ep(n){return void 0!==n}function vO(n,e){return 0!=(n.flags&(e?8:16))}function I(n,e=""){const t=G(),r=Fe(),i=n+Se,o=r.firstCreatePass?Qa(r,i,1,e,null):r.data[i],s=CO(r,t,o,e,n);t[i]=s,nf()&&Pf(r,t,s,o),Yr(o,!1)}let CO=(n,e,t,r,i)=>(_o(!0),If(e[Ie],r));function ZG(n,e,t,r,i){const o=e[Ei],s=!o||Ea()||Ff(o,i);return _o(s),s?If(e[Ie],r):Yf(o,n,e,t)}function ue(n){return ge("",n,""),ue}function ge(n,e,t){const r=G(),i=Ja(r,n,e,t);return i!==we&&xi(r,An(),i),ge}function bo(n,e,t,r,i){const o=G(),s=Xa(o,n,e,t,r,i);return s!==we&&xi(o,An(),s),bo}function tp(n,e,t){!function Fr(n,e,t,r){const i=Fe(),o=Ti(2);i.firstUpdatePass&&gO(i,null,o,r);const s=G();if(t!==we&&fn(s,o,t)){const a=i.data[An()];if(vO(a,r)&&!pO(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(t=P_(c,t||"")),wv(i,a,s,t,r)}else!function JG(n,e,t,r,i,o,s,a){i===we&&(i=Ue);let c=0,u=0,d=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==d||null!==h;){const p=c<i.length?i[c+1]:void 0,m=u<o.length?o[u+1]:void 0;let E,C=null;d===h?(c+=2,u+=2,p!==m&&(C=h,E=m)):null===h||null!==d&&d<h?(c+=2,C=d):(u+=2,C=h,E=m),null!==C&&_O(n,e,t,r,C,E,s,a),d=c<i.length?i[c]:null,h=u<o.length?o[u]:null}}(i,a,s,s[Ie],s[o+1],s[o+1]=function QG(n,e,t){if(null==t||""===t)return Ue;const r=[],i=vo(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,o)}}(or,ni,Ja(G(),n,e,t),!0)}const cc="en-US";let jO=cc;function kv(n,e,t,r,i){if(n=ye(n),Array.isArray(n))for(let o=0;o<n.length;o++)kv(n[o],e,t,r,i);else{const o=Fe(),s=G(),a=en();let c=ds(n)?n:ye(n.provide);const u=IS(n),d=1048575&a.providerIndexes,h=a.directiveStart,p=a.providerIndexes>>20;if(ds(n)||!n.multi){const m=new qu(u,i,H),C=Vv(c,e,i?d:d+p,h);-1===C?(uy(uf(a,s),o,c),Nv(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[C]=m,s[C]=m)}else{const m=Vv(c,e,d+p,h),C=Vv(c,e,d,d+p),P=C>=0&&t[C];if(i&&!P||!i&&!(m>=0&&t[m])){uy(uf(a,s),o,c);const R=function y7(n,e,t,r,i){const o=new qu(n,t,H);return o.multi=[],o.index=e,o.componentProviders=0,hR(o,i,r&&!t),o}(i?_7:m7,t.length,i,r,u);!i&&P&&(t[C].providerFactory=R),Nv(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(R),s.push(R)}else Nv(o,n,m>-1?m:C,hR(t[i?C:m],u,!i&&r));!i&&r&&P&&t[C].componentProviders++}}}function Nv(n,e,t,r){const i=ds(e),o=function a8(n){return!!n.useClass}(e);if(i||o){const c=(o?ye(e.useClass):e).prototype.ngOnDestroy;if(c){const u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const d=u.indexOf(t);-1===d?u.push(t,[r,c]):u[d+1].push(r,c)}else u.push(t,c)}}}function hR(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Vv(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function m7(n,e,t,r){return Fv(this.multi,[])}function _7(n,e,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=us(t,t[se],this.providerFactory.index,r);o=a.slice(0,s),Fv(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Fv(i,o);return o}function Fv(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function ft(n,e=[]){return t=>{t.providersResolver=(r,i)=>function g7(n,e,t){const r=Fe();if(r.firstCreatePass){const i=Nr(n);kv(t,r.data,r.blueprint,i,!0),kv(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class gs{}class fR{}class Lv extends gs{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new wx(this);const i=rr(e);this._bootstrapComponents=Si(i.bootstrap),this._r3Injector=FS(e,t,[{provide:gs,useValue:this},{provide:Lf,useValue:this.componentFactoryResolver},...r],jt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Uv extends fR{constructor(e){super(),this.moduleType=e}create(e){return new Lv(this.moduleType,e,[])}}class pR extends gs{constructor(e){super(),this.componentFactoryResolver=new wx(this),this.instance=null;const t=new Ba([...e.providers,{provide:gs,useValue:this},{provide:Lf,useValue:this.componentFactoryResolver}],e.parent||Rf(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Bv(n,e,t=null){return new pR({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let b7=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=yS(0,t.type),i=r.length>0?Bv([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=le({token:n,providedIn:"environment",factory:()=>new n(ae(ar))})}}return n})();function Kn(n){n.getStandaloneInjector=e=>e.get(b7).getOrCreateStandaloneInjector(n)}function ms(n,e,t){const r=Mn()+n,i=G();return i[r]===we?Zr(i,r,t?e.call(t):e()):pl(i,r)}function $v(n,e,t,r){return function IR(n,e,t,r,i,o){const s=e+t;return fn(n,s,i)?Zr(n,s+1,o?r.call(o,i):r(i)):function Pl(n,e){const t=n[e];return t===we?void 0:t}(n,s+1)}(G(),Mn(),n,e,t,r)}function bR(n,e,t,r,i,o,s,a,c){const u=Mn()+n,d=G(),h=function Cr(n,e,t,r,i,o){const s=hs(n,e,t,r);return hs(n,e+2,i,o)||s}(d,u,t,r,i,o);return hs(d,u+4,s,a)||h?Zr(d,u+6,c?e.call(c,t,r,i,o,s,a):e(t,r,i,o,s,a)):pl(d,u+6)}function z7(){return this._results[Symbol.iterator]()}class Hv{get changes(){return this._changes||(this._changes=new yt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Hv.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=z7)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function vr(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function NH(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function q7(n,e,t,r=!0){const i=e[se];if(function wz(n,e,t,r){const i=Xt+r,o=t.length;r>0&&(t[i-1][kr]=e),r<o-Xt?(e[kr]=t[i],vD(t,Xt+r,e)):(t.push(e),e[kr]=null),e[ht]=t;const s=e[Uu];null!==s&&t!==s&&function Tz(n,e){const t=n[Ca];e[At]!==e[ht][ht][At]&&(n[vA]=!0),null===t?n[Ca]=[e]:t.push(e)}(s,e);const a=e[Wr];null!==a&&a.insertView(n),e[Te]|=128}(i,e,n,t),r){const o=My(t,n),s=e[Ie],a=Tf(s,n[Kr]);null!==a&&function bz(n,e,t,r,i,o){r[It]=i,r[ln]=e,nl(n,r,t,1,i,o)}(i,n[ln],s,e,a,o)}}let Oi=(()=>{class n{static{this.__NG_ELEMENT_ID__=Q7}}return n})();const W7=Oi,K7=class extends W7{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=function G7(n,e,t,r){const i=e.tView,a=$f(n,i,t,4096&n[Te]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Uu]=n[e.index];const u=n[Wr];return null!==u&&(a[Wr]=u.createEmbeddedView(i)),_v(i,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:r});return new hl(i)}};function Q7(){return sp(en(),G())}function sp(n,e){return 4&n.type?new K7(e,n,Ga(n,e)):null}function MR(n){const e=n[Hu]??[],r=n[ht][Ie];for(const i of e)Y7(i,r);n[Hu]=Ue}function Y7(n,e){let t=0,r=n.firstChild;if(r){const i=n.data[za];for(;t<i;){const o=r.nextSibling;Mf(e,r,!1),r=o,t++}}}function AR(n){MR(n);for(let e=Xt;e<n.length;e++)ap(n[e])}function ap(n){const e=n[se];for(let t=Se;t<e.bindingStartIndex;t++)Pn(n[t])?AR(n[t]):Array.isArray(n[t])&&ap(n[t])}let DR=(n,e)=>null;function Z7(n,e){const t=n[Hu];return e&&null!==t&&0!==t.length?t[0].data[Ky]===e?t.shift():(MR(n),null):null}function SR(n,e){return DR(n,e)}let Lr=(()=>{class n{static{this.__NG_ELEMENT_ID__=tW}}return n})();function tW(){return RR(en(),G())}const nW=Lr,xR=class extends nW{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Ga(this._hostTNode,this._hostLView)}get injector(){return new Dn(this._hostTNode,this._hostLView)}get parentInjector(){const e=lf(this._hostTNode,this._hostLView);if(sy(e)){const t=Ku(e,this._hostLView),r=Wu(e);return new Dn(t[se].data[r+8],t)}return new Dn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=OR(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Xt}createEmbeddedView(e,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=SR(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s),c=!!s&&!Cf(this._hostTNode);return this.insertImpl(a,i,c),a}createComponent(e,t,r,i,o){const s=e&&!function Yu(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const E=t||{};a=E.index,r=E.injector,i=E.projectableNodes,o=E.environmentInjector||E.ngModuleRef}const c=s?e:new fl(Ve(e)),u=r||this.parentInjector;if(!o&&null==c.ngModule){const P=(s?u:this.parentInjector).get(ar,null);P&&(o=P)}const d=Ve(c.componentType??{}),h=SR(this._lContainer,d?.id??null),m=c.create(u,i,h?.firstChild??null,o),C=!!h&&!Cf(this._hostTNode);return this.insertImpl(m.hostView,a,C),m}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,r){const i=e._lView;if(function Q6(n){return Pn(n[ht])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const u=i[ht],d=new xR(u,u[ln],u[ht]);d.detach(d.indexOf(e))}}const s=this._adjustIndex(t),a=this._lContainer;return q7(a,i,s,!r),e.attachToViewContainerRef(),vD(zv(a),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=OR(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=wf(this._lContainer,t);r&&(ff(zv(this._lContainer),t),Ey(r[se],r))}detach(e){const t=this._adjustIndex(e,-1),r=wf(this._lContainer,t);return r&&null!=ff(zv(this._lContainer),t)?new hl(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function OR(n){return n[8]}function zv(n){return n[8]||(n[8]=[])}function RR(n,e){let t;const r=e[n.index];return Pn(r)?t=r:(t=hx(r,e,null,n),e[n.index]=t,Hf(e,t)),kR(t,e,n,r),new xR(t,n,e)}let kR=NR;function NR(n,e,t,r){if(n[Kr])return;let i;i=8&t.type?nt(r):function rW(n,e){const t=n[Ie],r=t.createComment(""),i=Gn(e,n);return ls(t,Tf(t,i),r,function Dz(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[Kr]=i}function iW(n,e,t,r){if(n[Kr]&&n[Hu])return;const i=e[Ei],o=t.index-Se,s=function bf(n){let e=n.parent;for(;e;){if(SD(e))return!0;e=e.parent}return!1}(t)||Cf(t);if(!i||s||Ff(i,o))return NR(n,e,t,r);const c=Xy(i,o),u=i.data[al]?.[o],[d,h]=function X7(n,e){const t=[];for(const r of e)for(let i=0;i<(r[kf]??1);i++){const o={data:r,firstChild:null};r[za]>0&&(o.firstChild=n,n=Jf(r[za],n)),t.push(o)}return[n,t]}(c,u);n[Kr]=d,n[Hu]=h}class Gv{constructor(e){this.queryList=e,this.matches=null}clone(){return new Gv(this.queryList)}setDirty(){this.queryList.setDirty()}}class qv{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new qv(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==HR(e,t).matches&&this.queries[t].setDirty()}}class VR{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class Wv{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new Wv(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Kv{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Kv(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,t,sW(t,o)),this.matchTNodeWithReadOption(e,t,df(t,e,o,!1,!1))}else r===Oi?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,df(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===cr||i===Lr||i===Oi&&4&t.type)this.addMatch(t.index,-2);else{const o=df(t,e,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function sW(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function cW(n,e,t,r){return-1===t?function aW(n,e){return 11&n.type?Ga(n,e):4&n.type?sp(n,e):null}(e,n):-2===t?function uW(n,e,t){return t===cr?Ga(e,n):t===Oi?sp(e,n):t===Lr?RR(e,n):void 0}(n,e,r):us(n,n[se],t,e)}function FR(n,e,t,r){const i=e[Wr].queries[r];if(null===i.matches){const o=n.data,s=t.matches,a=[];for(let c=0;c<s.length;c+=2){const u=s[c];a.push(u<0?null:cW(e,o[u],s[c+1],t.metadata.read))}i.matches=a}return i.matches}function Qv(n,e,t,r){const i=n.queries.getByIndex(t),o=i.matches;if(null!==o){const s=FR(n,e,i,t);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)r.push(s[a/2]);else{const u=o[a+1],d=e[-c];for(let h=Xt;h<d.length;h++){const p=d[h];p[Uu]===p[ht]&&Qv(p[se],p,u,r)}if(null!==d[Ca]){const h=d[Ca];for(let p=0;p<h.length;p++){const m=h[p];Qv(m[se],m,u,r)}}}}}return r}function LR(n){const e=G(),t=Fe(),r=XA();ty(r+1);const i=HR(t,r);if(n.dirty&&function W6(n){return 4==(4&n[Te])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?Qv(t,e,r,[]):FR(t,e,i,r);n.reset(o,A8),n.notifyOnChanges()}return!0}return!1}function UR(n,e,t,r){const i=Fe();if(i.firstCreatePass){const o=en();(function $R(n,e,t){null===n.queries&&(n.queries=new Wv),n.queries.track(new Kv(e,t))})(i,new VR(e,t,r),o.index),function hW(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}!function jR(n,e,t){const r=new Hv(4==(4&t));(function a9(n,e,t,r){const i=px(e);i.push(t),n.firstCreatePass&&gx(n).push(r,i.length-1)})(n,e,r,r.destroy),null===e[Wr]&&(e[Wr]=new qv),e[Wr].queries.push(new Gv(r))}(i,G(),t)}function HR(n,e){return n.queries.getByIndex(e)}function uc(n,e){return sp(n,e)}const tC=new oe("Application Initializer");let nC=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=ne(tC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const o=i();if(yl(o))t.push(o);else if(Kx(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),rC=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();const Ri=new oe("LocaleId",{providedIn:"root",factory:()=>ne(Ri,De.Optional|De.SkipSelf)||function RW(){return typeof $localize<"u"&&$localize.locale||cc}()});let up=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new tr(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class VW{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let sk=(()=>{class n{compileModuleSync(t){return new Uv(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=Si(rr(t).declarations).reduce((s,a)=>{const c=Ve(a);return c&&s.push(new fl(c)),s},[]);return new VW(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const lk=new oe("");let Io=null;const uC=new oe("PlatformDestroyListeners"),Sl=new oe("appBootstrapListener");class fk{constructor(e,t){this.name=e,this.token=t}}function uK(n){try{const{rootComponent:e,appProviders:t,platformProviders:r}=n,i=function cK(n=[]){if(Io)return Io;const e=function gk(n=[],e){return hn.create({name:e,providers:[{provide:Uy,useValue:"platform"},{provide:uC,useValue:new Set([()=>Io=null])},...n]})}(n);return Io=e,function hk(){!function k6(n){xA=n}(()=>{throw new K(600,!1)})}(),function pk(n){n.get(ES,null)?.forEach(t=>t())}(e),e}(r),o=[pK(),...t||[]],a=new pR({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(Be);return c.run(()=>{a.resolveInjectorInitializers();const u=a.get(Di,null);let d;c.runOutsideAngular(()=>{d=c.onError.subscribe({next:m=>{u.handleError(m)}})});const h=()=>a.destroy(),p=i.get(uC);return p.add(h),a.onDestroy(()=>{d.unsubscribe(),p.delete(h)}),function yk(n,e,t){try{const r=t();return yl(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,c,()=>{const m=a.get(nC);return m.runInitializers(),m.donePromise.then(()=>{!function $O(n){gr(n,"Expected localeId to be defined"),"string"==typeof n&&(jO=n.toLowerCase().replace(/_/g,"-"))}(a.get(Ri,cc)||cc);const E=a.get(_s);return void 0!==e&&E.bootstrap(e),E})})})}catch(e){return Promise.reject(e)}}let _s=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ne(bk),this.zoneIsStable=ne($S),this.componentTypes=[],this.components=[],this.isStable=ne(up).hasPendingTasks.pipe(wn(t=>t?pe(!1):this.zoneIsStable),function z$(n,e=uo){return n=n??G$,Ut((t,r)=>{let i,o=!0;t.subscribe(Nt(r,s=>{const a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}(),KM()),this._injector=ne(ar)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof DS;if(!this._injector.get(nC).done)throw!i&&function ga(n){const e=Ve(n)||Jt(n)||Tn(n);return null!==e&&e.standalone}(t),new K(405,!1);let s;s=i?t:this._injector.get(Lf).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function sK(n){return n.isBoundToModule}(s)?void 0:this._injector.get(gs),u=s.create(hn.NULL,[],r||s.selector,a),d=u.location.nativeElement,h=u.injector.get(lk,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),hp(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new K(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;hp(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(Sl,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>hp(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new K(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function hp(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const bk=new oe("",{providedIn:"root",factory:()=>ne(Di).handleError.bind(void 0)});function hK(){const n=ne(Be),e=ne(Di);return t=>n.runOutsideAngular(()=>e.handleError(t))}let fK=(()=>{class n{constructor(){this.zone=ne(Be),this.applicationRef=ne(_s)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Ik(n){return[{provide:Be,useFactory:n},{provide:Ua,multi:!0,useFactory:()=>{const e=ne(fK,{optional:!0});return()=>e.initialize()}},{provide:bk,useFactory:hK},{provide:$S,useFactory:HS}]}function pK(n){return sl([[],Ik(()=>new Be(function _k(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}(n)))])}let xl=(()=>{class n{static{this.__NG_ELEMENT_ID__=gK}}return n})();function gK(n){return function mK(n,e,t){if(ss(n)&&!t){const r=ir(n.index,e);return new hl(r,r)}return 47&n.type?new hl(e[At],e):null}(en(),G(),16==(16&n))}class Mk{constructor(){}supports(e){return Wf(e)}create(e){return new bK(e)}}const CK=(n,e)=>e;class bK{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||CK}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<Dk(r,i,o)?t:r,a=Dk(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const u=a-i,d=c-i;if(u!=d){for(let p=0;p<u;p++){const m=p<o.length?o[p]:o[p]=0,C=m+p;d<=C&&C<u&&(o[p]=m+1)}o[s.previousIndex]=d-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Wf(e))throw new K(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function Z9(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new IK(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Ak),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ak),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class IK{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class EK{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class Ak{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new EK,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Dk(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class Sk{constructor(){}supports(e){return e instanceof Map||yv(e)}create(){return new wK}}class wK{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||yv(e)))throw new K(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new TK(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class TK{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function xk(){return new gp([new Mk])}let gp=(()=>{class n{static{this.\u0275prov=le({token:n,providedIn:"root",factory:xk})}constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||xk()),deps:[[n,new gf,new Sn]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new K(901,!1)}}return n})();function Ok(){return new Ol([new Sk])}let Ol=(()=>{class n{static{this.\u0275prov=le({token:n,providedIn:"root",factory:Ok})}constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||Ok()),deps:[[n,new gf,new Sn]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new K(901,!1)}}return n})(),Bk=!1;function FK(){return sl([{provide:Bf,useFactory:()=>{let n=!0;return Ka()&&(n=!!ne($a,{optional:!0})?.get(Yy,null)),n&&ne(TS).add("hydration"),n}},{provide:Ua,useValue:()=>{Ka()&&ne(Bf)&&(function LK(){const n=Fa();let e;for(const t of n.body.childNodes)if(t.nodeType===Node.COMMENT_NODE&&"nghm"===t.textContent?.trim()){e=t;break}if(!e)throw new K(-507,!1)}(),function NK(){Bk||(Bk=!0,function v8(){PS=y8}(),function EG(){Gx=IG}(),function eq(){CO=ZG}(),function PG(){Wx=TG}(),function vG(){Hx=yG}(),function oW(){kR=iW}(),function eW(){DR=Z7}(),function s9(){sx=o9}())}())},multi:!0},{provide:KS,useFactory:()=>Ka()&&ne(Bf)},{provide:Sl,useFactory:()=>{if(Ka()&&ne(Bf)){const n=ne(_s);return ne(hn),()=>{(function VK(n,e){return n.isStable.pipe(Ci(r=>r)).toPromise().then(()=>{})})(n).then(()=>{Be.assertInAngularZone(),function J7(n){const e=n._views;for(const t of e){const r=MS(t);null!==r&&null!==r[It]&&(zn(r)?ap(r):(ap(r[It]),AR(r)))}}(n)})}}return()=>{}},multi:!0}])}function hc(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let mC=null;function Eo(){return mC}class $K{}const lr=new oe("DocumentToken");let _C=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=le({token:n,factory:function(){return ne(zK)},providedIn:"platform"})}}return n})();const HK=new oe("Location Initialized");let zK=(()=>{class n extends _C{constructor(){super(),this._doc=ne(lr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Eo().getBaseHref(this._doc)}onPopState(t){const r=Eo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Eo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=le({token:n,factory:function(){return new n},providedIn:"platform"})}}return n})();function yC(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function jk(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ki(n){return n&&"?"!==n[0]?"?"+n:n}let vs=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=le({token:n,factory:function(){return ne(Hk)},providedIn:"root"})}}return n})();const $k=new oe("appBaseHref");let Hk=(()=>{class n extends vs{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ne(lr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return yC(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ki(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+ki(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+ki(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(ae(_C),ae($k,8))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),GK=(()=>{class n extends vs{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=yC(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+ki(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+ki(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(ae(_C),ae($k,8))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac})}}return n})(),vC=(()=>{class n{constructor(t){this._subject=new yt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function KK(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(jk(zk(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ki(r))}normalize(t){return n.stripTrailingSlash(function WK(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,zk(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ki(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ki(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=ki}static{this.joinWithSlash=yC}static{this.stripTrailingSlash=jk}static{this.\u0275fac=function(r){return new(r||n)(ae(vs))}}static{this.\u0275prov=le({token:n,factory:function(){return function qK(){return new vC(ae(vs))}()},providedIn:"root"})}}return n})();function zk(n){return n.replace(/\/index.html$/,"")}function Zk(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}class kQ{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Fi=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new kQ(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),nN(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{nN(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(H(Lr),H(Oi),H(gp))}}static{this.\u0275dir=ve({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function nN(n,e){n.context.$implicit=e.item}let Er=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new NQ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){rN("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){rN("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(H(Lr),H(Oi))}}static{this.\u0275dir=ve({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})();class NQ{constructor(){this.$implicit=null,this.ngIf=null}}function rN(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${jt(e)}'.`)}let oN=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,o]=t.split("."),s=-1===i.indexOf("-")?void 0:yo.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static{this.\u0275fac=function(r){return new(r||n)(H(cr),H(Ol),H(Ai))}}static{this.\u0275dir=ve({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return n})(),jr=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Rr({type:n})}static{this.\u0275inj=mr({})}}return n})();function cN(n){return"server"===n}let lY=(()=>{class n{static{this.\u0275prov=le({token:n,providedIn:"root",factory:()=>new dY(ae(lr),window)})}}return n})();class dY{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function hY(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class uN{}function pc(n,e){return Qe(e)?Yt(n,e,1):Yt(n,1)}function Vl(n){return Ut((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function st(n,e,t){const r=Qe(n)||e||t?{next:n,error:e,complete:t}:n;return r?Ut((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Nt(o,c=>{var u;null===(u=r.next)||void 0===u||u.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,c),o.error(c)},()=>{var c,u;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):uo}class Dp{}class Sp{}class wr{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof wr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new wr;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof wr?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class NY{encodeKey(e){return pN(e)}encodeValue(e){return pN(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const FY=/%(\d[a-f0-9])/gi,LY={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function pN(n){return encodeURIComponent(n).replace(FY,(e,t)=>LY[t]??e)}function xp(n){return`${n}`}class Li{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new NY,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function VY(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(xp):[xp(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Li({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(xp(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(xp(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class UY{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function gN(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function mN(n){return typeof Blob<"u"&&n instanceof Blob}function _N(n){return typeof FormData<"u"&&n instanceof FormData}class Fl{constructor(e,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function BY(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new wr),this.context||(this.context=new UY),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Li,this.urlWithParams=t}serializeBody(){return null===this.body?null:gN(this.body)||mN(this.body)||_N(this.body)||function jY(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Li?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||_N(this.body)?null:mN(this.body)?this.body.type||null:gN(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Li?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,u=e.params||this.params;const d=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((h,p)=>h.set(p,e.setHeaders[p]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((h,p)=>h.set(p,e.setParams[p]),u)),new Fl(t,r,o,{params:u,headers:c,context:d,reportProgress:a,responseType:i,withCredentials:s})}}var gc=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(gc||{});class VC{constructor(e,t=200,r="OK"){this.headers=e.headers||new wr,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class FC extends VC{constructor(e={}){super(e),this.type=gc.ResponseHeader}clone(e={}){return new FC({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class mc extends VC{constructor(e={}){super(e),this.type=gc.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new mc({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class yN extends VC{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function LC(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let ri=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Fl)o=t;else{let c,u;c=i.headers instanceof wr?i.headers:new wr(i.headers),i.params&&(u=i.params instanceof Li?i.params:new Li({fromObject:i.params})),o=new Fl(t,r,void 0!==i.body?i.body:null,{headers:c,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=pe(o).pipe(pc(c=>this.handler.handle(c)));if(t instanceof Fl||"events"===i.observe)return s;const a=s.pipe(vi(c=>c instanceof mc));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Re(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(Re(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(Re(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(Re(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Li).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,LC(i,r))}post(t,r,i={}){return this.request("POST",t,LC(i,r))}put(t,r,i={}){return this.request("PUT",t,LC(i,r))}static{this.\u0275fac=function(r){return new(r||n)(ae(Dp))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac})}}return n})();function bN(n,e){return e(n)}function HY(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const GY=new oe(""),Ll=new oe(""),IN=new oe("");function qY(){let n=null;return(e,t)=>{null===n&&(n=(ne(GY,{optional:!0})??[]).reduceRight(HY,bN));const r=ne(up),i=r.add();return n(e,t).pipe(Vl(()=>r.remove(i)))}}let EN=(()=>{class n extends Dp{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=ne(up)}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Ll),...this.injector.get(IN,[])]));this.chain=i.reduceRight((o,s)=>function zY(n,e,t){return(r,i)=>t.runInContext(()=>e(r,o=>n(o,i)))}(o,s,this.injector),bN)}const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Vl(()=>this.pendingTasks.remove(r)))}static{this.\u0275fac=function(r){return new(r||n)(ae(Sp),ae(ar))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac})}}return n})();const YY=/^\)\]\}',?\n/;let TN=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new K(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?Bt(r.\u0275loadImpl()):pe(null)).pipe(wn(()=>new dt(o=>{const s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((E,P)=>s.setRequestHeader(E,P.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const E=t.detectContentTypeHeader();null!==E&&s.setRequestHeader("Content-Type",E)}if(t.responseType){const E=t.responseType.toLowerCase();s.responseType="json"!==E?E:"text"}const a=t.serializeBody();let c=null;const u=()=>{if(null!==c)return c;const E=s.statusText||"OK",P=new wr(s.getAllResponseHeaders()),R=function JY(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||t.url;return c=new FC({headers:P,status:s.status,statusText:E,url:R}),c},d=()=>{let{headers:E,status:P,statusText:R,url:D}=u(),U=null;204!==P&&(U=typeof s.response>"u"?s.responseText:s.response),0===P&&(P=U?200:0);let Q=P>=200&&P<300;if("json"===t.responseType&&"string"==typeof U){const ie=U;U=U.replace(YY,"");try{U=""!==U?JSON.parse(U):null}catch(he){U=ie,Q&&(Q=!1,U={error:he,text:U})}}Q?(o.next(new mc({body:U,headers:E,status:P,statusText:R,url:D||void 0})),o.complete()):o.error(new yN({error:U,headers:E,status:P,statusText:R,url:D||void 0}))},h=E=>{const{url:P}=u(),R=new yN({error:E,status:s.status||0,statusText:s.statusText||"Unknown Error",url:P||void 0});o.error(R)};let p=!1;const m=E=>{p||(o.next(u()),p=!0);let P={type:gc.DownloadProgress,loaded:E.loaded};E.lengthComputable&&(P.total=E.total),"text"===t.responseType&&s.responseText&&(P.partialText=s.responseText),o.next(P)},C=E=>{let P={type:gc.UploadProgress,loaded:E.loaded};E.lengthComputable&&(P.total=E.total),o.next(P)};return s.addEventListener("load",d),s.addEventListener("error",h),s.addEventListener("timeout",h),s.addEventListener("abort",h),t.reportProgress&&(s.addEventListener("progress",m),null!==a&&s.upload&&s.upload.addEventListener("progress",C)),s.send(a),o.next({type:gc.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",d),s.removeEventListener("timeout",h),t.reportProgress&&(s.removeEventListener("progress",m),null!==a&&s.upload&&s.upload.removeEventListener("progress",C)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(ae(uN))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac})}}return n})();const UC=new oe("XSRF_ENABLED"),PN=new oe("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),MN=new oe("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class AN{}let eJ=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Zk(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(ae(lr),ae(Mi),ae(PN))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac})}}return n})();function tJ(n,e){const t=n.url.toLowerCase();if(!ne(UC)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=ne(AN).getToken(),i=ne(MN);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var wo=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(wo||{});function Cs(n,e){return{\u0275kind:n,\u0275providers:e}}function DN(...n){const e=[ri,TN,EN,{provide:Dp,useExisting:EN},{provide:Sp,useExisting:TN},{provide:Ll,useValue:tJ,multi:!0},{provide:UC,useValue:!0},{provide:AN,useClass:eJ}];for(const t of n)e.push(...t.\u0275providers);return sl(e)}const SN=new oe("LEGACY_INTERCEPTOR_FN");let rJ=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Rr({type:n})}static{this.\u0275inj=mr({providers:[DN(Cs(wo.LegacyInterceptors,[{provide:SN,useFactory:qY},{provide:Ll,useExisting:SN,multi:!0}]))]})}}return n})();const Op=new oe(""),iJ=["GET","HEAD"];function oJ(n,e){const{isCacheActive:t}=ne(Op);if(!t||!iJ.includes(n.method))return e(n);const r=ne($a),i=function aJ(n){const{params:e,method:t,responseType:r,url:i}=n;return function cJ(n){let e=0;for(const t of n)e=Math.imul(31,e)+t.charCodeAt(0)<<0;return e+=2147483648,e.toString()}(t+"."+r+"."+i+"?"+e.keys().sort().map(c=>`${c}=${e.getAll(c)}`).join("&"))}(n),o=r.get(i,null);if(o){let s=o.body;switch(o.responseType){case"arraybuffer":s=(new TextEncoder).encode(o.body).buffer;break;case"blob":s=new Blob([o.body])}return pe(new mc({body:s,headers:new wr(o.headers),status:o.status,statusText:o.statusText,url:o.url}))}return e(n).pipe(st(s=>{s instanceof mc&&r.set(i,{body:s.body,headers:sJ(s.headers),status:s.status,statusText:s.statusText,url:s.url||"",responseType:n.responseType})}))}function sJ(n){const e={};for(const t of n.keys()){const r=n.getAll(t);null!==r&&(e[t]=r)}return e}class lJ extends $K{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class BC extends lJ{static makeCurrent(){!function jK(n){mC||(mC=n)}(new BC)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function dJ(){return Ul=Ul||document.querySelector("base"),Ul?Ul.getAttribute("href"):null}();return null==t?null:function hJ(n){Rp=Rp||document.createElement("a"),Rp.setAttribute("href",n);const e=Rp.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ul=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Zk(document.cookie,e)}}let Rp,Ul=null,pJ=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac})}}return n})();const jC=new oe("EventManagerPlugins");let xN=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new K(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(ae(jC),ae(Be))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac})}}return n})();class ON{constructor(e){this._doc=e}}const $C="ng-app-id";let RN=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=cN(o),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${$C}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute($C),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute($C,this.appId),s}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(ae(lr),ae(Hy),ae(wS,8),ae(Mi))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac})}}return n})();const HC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},zC=/%COMP%/g,yJ=new oe("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function NN(n,e){return e.map(t=>t.replace(zC,n))}let VN=(()=>{class n{constructor(t,r,i,o,s,a,c,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=cN(a),this.defaultRenderer=new GC(t,s,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===xr.ShadowDom&&(r={...r,encapsulation:xr.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof LN?i.applyToHost(t):i instanceof qC&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case xr.Emulated:o=new LN(c,u,r,this.appId,d,s,a,h);break;case xr.ShadowDom:return new IJ(c,u,t,r,s,a,this.nonce,h);default:o=new qC(c,u,r,d,s,a,h)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(ae(xN),ae(RN),ae(Hy),ae(yJ),ae(lr),ae(Mi),ae(Be),ae(wS))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac})}}return n})();class GC{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(HC[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(FN(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(FN(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new K(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=HC[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=HC[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(yo.DashCase|yo.Important)?e.style.setProperty(t,r,i&yo.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&yo.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=Eo().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function FN(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class IJ extends GC{constructor(e,t,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=NN(i.id,i.styles);for(const d of u){const h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class qC extends GC{constructor(e,t,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?NN(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class LN extends qC{constructor(e,t,r,i,o,s,a,c){const u=i+"-"+r.id;super(e,t,r,o,s,a,c,u),this.contentAttr=function vJ(n){return"_ngcontent-%COMP%".replace(zC,n)}(u),this.hostAttr=function CJ(n){return"_nghost-%COMP%".replace(zC,n)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}const UN=["alt","control","meta","shift"],wJ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},TJ={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};function BN(n){return{appProviders:[...RJ,...n?.providers??[]],platformProviders:xJ}}const xJ=[{provide:Mi,useValue:"browser"},{provide:ES,useValue:function AJ(){BC.makeCurrent()},multi:!0},{provide:lr,useFactory:function SJ(){return function Fz(n){Sy=n}(document),document},deps:[]}],RJ=[{provide:Uy,useValue:"root"},{provide:Di,useFactory:function DJ(){return new Di},deps:[]},{provide:jC,useClass:(()=>{class n extends ON{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(ae(lr))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac})}}return n})(),multi:!0,deps:[lr,Be,Mi]},{provide:jC,useClass:(()=>{class n extends ON{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Eo().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),UN.forEach(u=>{const d=r.indexOf(u);d>-1&&(r.splice(d,1),s+=u+".")}),s+=o,0!=r.length||0===o.length)return null;const c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=wJ[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),UN.forEach(s=>{s!==i&&(0,TJ[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(ae(lr))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac})}}return n})(),multi:!0,deps:[lr]},VN,RN,xN,{provide:xS,useExisting:VN},{provide:uN,useClass:pJ,deps:[]},[]];let jN=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(ae(lr))}}static{this.\u0275prov=le({token:n,factory:function(r){let i=null;return i=r?new r:function NJ(){return new jN(ae(lr))}(),i},providedIn:"root"})}}return n})();typeof window<"u"&&window;const{isArray:$J}=Array,{getPrototypeOf:HJ,prototype:zJ,keys:GJ}=Object;function GN(n){if(1===n.length){const e=n[0];if($J(e))return{args:e,keys:null};if(function qJ(n){return n&&"object"==typeof n&&HJ(n)===zJ}(e)){const t=GJ(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:WJ}=Array;function qN(n){return Re(e=>function KJ(n,e){return WJ(e)?n(...e):n(e)}(n,e))}function WN(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function KC(...n){const e=xu(n),t=qM(n),{args:r,keys:i}=GN(n);if(0===r.length)return Bt([],e);const o=new dt(function QJ(n,e,t=uo){return r=>{KN(e,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)KN(e,()=>{const u=Bt(n[c],e);let d=!1;u.subscribe(Nt(r,h=>{o[c]=h,d||(d=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>WN(i,s):uo));return t?o.pipe(qN(t)):o}function KN(n,e,t){n?yi(t,n,e):e()}function QC(...n){return function YJ(){return ha(1)}()(Bt(n,xu(n)))}function QN(n){return new dt(e=>{er(n()).subscribe(e)})}function Po(n,e){const t=Qe(n)?n:()=>n,r=i=>i.error(t());return new dt(e?i=>e.schedule(r,0,i):r)}function YC(){return Ut((n,e)=>{let t=null;n._refCount++;const r=Nt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class YN extends dt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,SM(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Bn;const t=this.getSubject();e.add(this.source.subscribe(Nt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Bn.EMPTY)}return e}refCount(){return YC()(this)}}function kp(...n){const e=xu(n);return Ut((t,r)=>{(e?QC(n,t,e):QC(n,t)).subscribe(r)})}function $r(n){return Ut((e,t)=>{let o,r=null,i=!1;r=e.subscribe(Nt(t,void 0,void 0,s=>{o=er(n(s,$r(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function JC(n){return n<=0?()=>Gr:Ut((e,t)=>{let r=[];e.subscribe(Nt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}const Pe="primary",Bl=Symbol("RouteTitle");class nX{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function _c(n){return new nX(n)}function rX(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ii(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!JN(n[i],e[i]))return!1;return!0}function JN(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function XN(n){return n.length>0?n[n.length-1]:null}function Mo(n){return function jJ(n){return!!n&&(n instanceof dt||Qe(n.lift)&&Qe(n.subscribe))}(n)?n:yl(n)?Bt(Promise.resolve(n)):pe(n)}const oX={exact:function t2(n,e,t){if(!bs(n.segments,e.segments)||!Np(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!t2(n.children[r],e.children[r],t))return!1;return!0},subset:n2},ZN={exact:function sX(n,e){return ii(n,e)},subset:function aX(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>JN(n[t],e[t]))},ignored:()=>!0};function e2(n,e,t){return oX[t.paths](n.root,e.root,t.matrixParams)&&ZN[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function n2(n,e,t){return r2(n,e,e.segments,t)}function r2(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!bs(i,t)||e.hasChildren()||!Np(i,t,r))}if(n.segments.length===t.length){if(!bs(n.segments,t)||!Np(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!n2(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(bs(n.segments,i)&&Np(n.segments,i,r)&&n.children[Pe])&&r2(n.children[Pe],e,o,r)}}function Np(n,e,t){return e.every((r,i)=>ZN[t](n[i].parameters,r.parameters))}class yc{constructor(e=new We([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_c(this.queryParams)),this._queryParamMap}toString(){return lX.serialize(this)}}class We{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vp(this)}}class jl{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=_c(this.parameters)),this._parameterMap}toString(){return s2(this)}}function bs(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let $l=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=le({token:n,factory:function(){return new XC},providedIn:"root"})}}return n})();class XC{parse(e){const t=new bX(e);return new yc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Hl(e.root,!0)}`,r=function fX(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Fp(t)}=${Fp(i)}`).join("&"):`${Fp(t)}=${Fp(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function dX(n){return encodeURI(n)}(e.fragment)}`:""}`}}const lX=new XC;function Vp(n){return n.segments.map(e=>s2(e)).join("/")}function Hl(n,e){if(!n.hasChildren())return Vp(n);if(e){const t=n.children[Pe]?Hl(n.children[Pe],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Pe&&r.push(`${i}:${Hl(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function uX(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Pe&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Pe&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===Pe?[Hl(n.children[Pe],!1)]:[`${i}:${Hl(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Pe]?`${Vp(n)}/${t[0]}`:`${Vp(n)}/(${t.join("//")})`}}function i2(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fp(n){return i2(n).replace(/%3B/gi,";")}function ZC(n){return i2(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Lp(n){return decodeURIComponent(n)}function o2(n){return Lp(n.replace(/\+/g,"%20"))}function s2(n){return`${ZC(n.path)}${function hX(n){return Object.keys(n).map(e=>`;${ZC(e)}=${ZC(n[e])}`).join("")}(n.parameters)}`}const pX=/^[^\/()?;#]+/;function eb(n){const e=n.match(pX);return e?e[0]:""}const gX=/^[^\/()?;=#]+/,_X=/^[^=?&#]+/,vX=/^[^&#]+/;class bX{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new We([],{}):new We([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Pe]=new We(e,t)),r}parseSegment(){const e=eb(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new K(4009,!1);return this.capture(e),new jl(Lp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function mX(n){const e=n.match(gX);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=eb(this.remaining);i&&(r=i,this.capture(r))}e[Lp(t)]=Lp(r)}parseQueryParam(e){const t=function yX(n){const e=n.match(_X);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function CX(n){const e=n.match(vX);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=o2(t),o=o2(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=eb(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new K(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Pe);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[Pe]:new We([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new K(4011,!1)}}function a2(n){return n.segments.length>0?new We([],{[Pe]:n}):n}function c2(n){const e={};for(const r of Object.keys(n.children)){const o=c2(n.children[r]);if(r===Pe&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function IX(n){if(1===n.numberOfChildren&&n.children[Pe]){const e=n.children[Pe];return new We(n.segments.concat(e.segments),e.children)}return n}(new We(n.segments,e))}function Is(n){return n instanceof yc}function u2(n){let e;const i=a2(function t(o){const s={};for(const c of o.children){const u=t(c);s[c.outlet]=u}const a=new We(o.url,s);return o===n&&(e=a),a}(n.root));return e??i}function l2(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return tb(i,i,i,t,r);const o=function wX(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new h2(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new h2(t,e,r)}(e);if(o.toRoot())return tb(i,i,new We([],{}),t,r);const s=function TX(n,e,t){if(n.isAbsolute)return new Bp(e,!0,0);if(!t)return new Bp(e,!1,NaN);if(null===t.parent)return new Bp(t,!0,0);const r=Up(n.commands[0])?0:1;return function PX(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new K(4005,!1);i=r.segments.length}return new Bp(r,!1,i-o)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(o,i,n),a=s.processChildren?Gl(s.segmentGroup,s.index,o.commands):f2(s.segmentGroup,s.index,o.commands);return tb(i,s.segmentGroup,a,t,r)}function Up(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function zl(n){return"object"==typeof n&&null!=n&&n.outlets}function tb(n,e,t,r,i){let s,o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`}),s=n===e?t:d2(n,e,t);const a=a2(c2(s));return new yc(a,o,i)}function d2(n,e,t){const r={};return Object.entries(n.children).forEach(([i,o])=>{r[i]=o===e?t:d2(o,e,t)}),new We(n.segments,r)}class h2{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Up(r[0]))throw new K(4003,!1);const i=r.find(zl);if(i&&i!==XN(r))throw new K(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Bp{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function f2(n,e,t){if(n||(n=new We([],{})),0===n.segments.length&&n.hasChildren())return Gl(n,e,t);const r=function AX(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const s=n.segments[i],a=t[r];if(zl(a))break;const c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!g2(c,u,s))return o;r+=2}else{if(!g2(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new We(n.segments.slice(0,r.pathIndex),{});return o.children[Pe]=new We(n.segments.slice(r.pathIndex),n.children),Gl(o,0,i)}return r.match&&0===i.length?new We(n.segments,{}):r.match&&!n.hasChildren()?nb(n,e,t):r.match?Gl(n,0,i):nb(n,e,t)}function Gl(n,e,t){if(0===t.length)return new We(n.segments,{});{const r=function MX(n){return zl(n[0])?n[0].outlets:{[Pe]:n}}(t),i={};if(Object.keys(r).some(o=>o!==Pe)&&n.children[Pe]&&1===n.numberOfChildren&&0===n.children[Pe].segments.length){const o=Gl(n.children[Pe],e,t);return new We(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=f2(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new We(n.segments,i)}}function nb(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(zl(o)){const c=DX(o.outlets);return new We(r,c)}if(0===i&&Up(t[0])){r.push(new jl(n.segments[e].path,p2(t[0]))),i++;continue}const s=zl(o)?o.outlets[Pe]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Up(a)?(r.push(new jl(s,p2(a))),i+=2):(r.push(new jl(s,{})),i++)}return new We(r,{})}function DX(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=nb(new We([],{}),0,r))}),e}function p2(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function g2(n,e,t){return n==t.path&&ii(e,t.parameters)}const ql="imperative";class oi{constructor(e,t){this.id=e,this.url=t}}class jp extends oi{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ao extends oi{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Wl extends oi{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class vc extends oi{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class $p extends oi{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class m2 extends oi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class SX extends oi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xX extends oi{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class OX extends oi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RX extends oi{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kX{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class NX{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class VX{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class FX{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class LX{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class UX{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _2{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class rb{}class ib{constructor(e){this.url=e}}class BX{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Kl,this.attachRef=null}}let Kl=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new BX,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class y2{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ob(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=ob(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=sb(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return sb(e,this._root).map(t=>t.value)}}function ob(n,e){if(n===e.value)return e;for(const t of e.children){const r=ob(n,t);if(r)return r}return null}function sb(n,e){if(n===e.value)return[e];for(const t of e.children){const r=sb(n,t);if(r.length)return r.unshift(e),r}return[]}class Ui{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Cc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class v2 extends y2{constructor(e,t){super(e),this.snapshot=t,ab(this,e)}toString(){return this.snapshot.toString()}}function C2(n,e){const t=function jX(n,e){const s=new Hp([],{},{},"",{},Pe,e,null,{});return new I2("",new Ui(s,[]))}(0,e),r=new tr([new jl("",{})]),i=new tr({}),o=new tr({}),s=new tr({}),a=new tr(""),c=new Es(r,i,s,a,o,Pe,e,t.root);return c.snapshot=t.root,new v2(new Ui(c,[]),t)}class Es{constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Re(u=>u[Bl]))??pe(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Re(e=>_c(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Re(e=>_c(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function b2(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function $X(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Hp{get title(){return this.data?.[Bl]}constructor(e,t,r,i,o,s,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_c(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_c(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class I2 extends y2{constructor(e,t){super(t),this.url=e,ab(this,t)}toString(){return E2(this._root)}}function ab(n,e){e.value._routerState=n,e.children.forEach(t=>ab(n,t))}function E2(n){const e=n.children.length>0?` { ${n.children.map(E2).join(", ")} } `:"";return`${n.value}${e}`}function cb(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ii(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),ii(e.params,t.params)||n.paramsSubject.next(t.params),function iX(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ii(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),ii(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function ub(n,e){const t=ii(n.params,e.params)&&function cX(n,e){return bs(n,e)&&n.every((t,r)=>ii(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||ub(n.parent,e.parent))}let lb=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Pe,this.activateEvents=new yt,this.deactivateEvents=new yt,this.attachEvents=new yt,this.detachEvents=new yt,this.parentContexts=ne(Kl),this.location=ne(Lr),this.changeDetector=ne(xl),this.environmentInjector=ne(ar),this.inputBinder=ne(zp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new K(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new K(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new K(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new K(4013,!1);this._activatedRoute=t;const i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new HX(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ve({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[yr]})}}return n})();class HX{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Es?this.route:e===Kl?this.childContexts:this.parent.get(e,t)}}const zp=new oe("");let w2=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=KC([r.queryParams,r.params,r.data]).pipe(wn(([o,s,a],c)=>(a={...o,...s,...a},0===c?pe(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const s=function BK(n){const e=Ve(n);if(!e)return null;const t=new fl(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac})}}return n})();function Ql(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function GX(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ql(n,r,i);return Ql(n,r)})}(n,e,t);return new Ui(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ql(n,a)),s}}const r=function qX(n){return new Es(new tr(n.url),new tr(n.params),new tr(n.queryParams),new tr(n.fragment),new tr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>Ql(n,o));return new Ui(r,i)}}const db="ngNavigationCancelingError";function T2(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Is(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=P2(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function P2(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[db]=!0,r.cancellationCode=e,t&&(r.url=t),r}function M2(n){return n&&n[db]}let A2=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=$n({type:n,selectors:[["ng-component"]],standalone:!0,features:[Kn],decls:1,vars:0,template:function(r,i){1&r&&O(0,"router-outlet")},dependencies:[lb],encapsulation:2})}}return n})();function hb(n){const e=n.children&&n.children.map(hb),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Pe&&(t.component=A2),t}function Hr(n){return n.outlet||Pe}function Yl(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class eZ{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),cb(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Cc(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Cc(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Cc(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=Cc(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new UX(o.value.snapshot))}),e.children.length&&this.forwardEvent(new FX(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(cb(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),cb(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Yl(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class D2{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Gp{constructor(e,t){this.component=e,this.route=t}}function tZ(n,e,t){const r=n._root;return Jl(r,e?e._root:null,t,[r.value])}function bc(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function Z$(n){return null!==Hh(n)}(n)?e.get(n):n:r}function Jl(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Cc(e);return n.children.forEach(s=>{(function rZ(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function iZ(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!bs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!bs(n.url,e.url)||!ii(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ub(n,e)||!ii(n.queryParams,e.queryParams);default:return!ub(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new D2(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Jl(n,e,o.component?a?a.children:null:t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Gp(a.outlet.component,s))}else s&&Xl(e,a,i),i.canActivateChecks.push(new D2(r)),Jl(n,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Xl(a,t.getContext(s),i)),i}function Xl(n,e,t){const r=Cc(n),i=n.value;Object.entries(r).forEach(([o,s])=>{Xl(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Gp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Zl(n){return"function"==typeof n}function S2(n){return n instanceof Bh||"EmptyError"===n?.name}const qp=Symbol("INITIAL_VALUE");function Ic(){return wn(n=>KC(n.map(e=>e.pipe(fa(1),kp(qp)))).pipe(Re(e=>{for(const t of e)if(!0!==t){if(t===qp)return qp;if(!1===t||t instanceof yc)return t}return!0}),vi(e=>e!==qp),fa(1)))}function x2(n){return function Jj(...n){return MM(n)}(st(e=>{if(Is(e))throw T2(0,e)}),Re(e=>!0===e))}class Wp{constructor(e){this.segmentGroup=e||null}}class O2{constructor(e){this.urlTree=e}}function Ec(n){return Po(new Wp(n))}function R2(n){return Po(new O2(n))}class wZ{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new K(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return pe(r);if(i.numberOfChildren>1||!i.children[Pe])return Po(new K(4e3,!1));i=i.children[Pe]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new yc(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new We(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new K(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const fb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function TZ(n,e,t,r,i){const o=pb(n,e,t);return o.matched?(r=function KX(n,e){return n.providers&&!n._injector&&(n._injector=Bv(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function bZ(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?pe(i.map(s=>{const a=bc(s,n);return Mo(function lZ(n){return n&&Zl(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Ic(),x2()):pe(!0)}(r,e,t).pipe(Re(s=>!0===s?o:{...fb}))):pe(o)}function pb(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...fb}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||rX)(t,n,e);if(!i)return{...fb};const o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function k2(n,e,t,r){return t.length>0&&function AZ(n,e,t){return t.some(r=>Kp(n,e,r)&&Hr(r)!==Pe)}(n,t,r)?{segmentGroup:new We(e,MZ(r,new We(t,n.children))),slicedSegments:[]}:0===t.length&&function DZ(n,e,t){return t.some(r=>Kp(n,e,r))}(n,t,r)?{segmentGroup:new We(n.segments,PZ(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new We(n.segments,n.children),slicedSegments:t}}function PZ(n,e,t,r,i){const o={};for(const s of r)if(Kp(n,t,s)&&!i[Hr(s)]){const a=new We([],{});o[Hr(s)]=a}return{...i,...o}}function MZ(n,e){const t={};t[Pe]=e;for(const r of n)if(""===r.path&&Hr(r)!==Pe){const i=new We([],{});t[Hr(r)]=i}return t}function Kp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class RZ{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new wZ(this.urlSerializer,this.urlTree)}noMatchError(e){return new K(4002,!1)}recognize(){const e=k2(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Pe).pipe($r(t=>{if(t instanceof O2)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Wp?this.noMatchError(t):t}),Re(t=>{const r=new Hp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Pe,this.rootComponentType,null,{}),i=new Ui(r,t),o=new I2("",i),s=function EX(n,e,t=null,r=null){return l2(u2(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Pe).pipe($r(r=>{throw r instanceof Wp?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=b2(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Bt(i).pipe(pc(o=>{const s=r.children[o],a=function XX(n,e){const t=n.filter(r=>Hr(r)===e);return t.push(...n.filter(r=>Hr(r)!==e)),t}(t,o);return this.processSegmentGroup(e,a,s,o)}),function XJ(n,e){return Ut(function JJ(n,e,t,r,i){return(o,s)=>{let a=t,c=e,u=0;o.subscribe(Nt(s,d=>{const h=u++;c=a?n(c,d,h):(a=!0,d),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}(n,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),jh(null),function ZJ(n,e){const t=arguments.length>=2;return r=>r.pipe(n?vi((i,o)=>n(i,o,r)):uo,JC(1),t?jh(e):QM(()=>new Bh))}(),Yt(o=>{if(null===o)return Ec(r);const s=N2(o);return function kZ(n){n.sort((e,t)=>e.value.outlet===Pe?-1:t.value.outlet===Pe?1:e.value.outlet.localeCompare(t.value.outlet))}(s),pe(s)}))}processSegment(e,t,r,i,o,s){return Bt(t).pipe(pc(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,o,s).pipe($r(c=>{if(c instanceof Wp)return pe(null);throw c}))),Ci(a=>!!a),$r(a=>{if(S2(a))return function xZ(n,e,t){return 0===e.length&&!n.children[t]}(r,i,o)?pe([]):Ec(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,o,s,a){return function SZ(n,e,t,r){return!!(Hr(n)===r||r!==Pe&&Kp(e,t,n))&&("**"===n.path||pb(e,n,t).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s):Ec(i):Ec(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?R2(o):this.applyRedirects.lineralizeSegments(r,o).pipe(Yt(s=>{const a=new We(s,{});return this.processSegment(e,t,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){const{matched:a,consumedSegments:c,remainingSegments:u,positionalParamSegments:d}=pb(t,i,o);if(!a)return Ec(t);const h=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,d);return i.redirectTo.startsWith("/")?R2(h):this.applyRedirects.lineralizeSegments(i,h).pipe(Yt(p=>this.processSegment(e,r,t,p.concat(u),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a;if("**"===r.path){const c=i.length>0?XN(i).parameters:{};a=pe({snapshot:new Hp(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,V2(r),Hr(r),r.component??r._loadedComponent??null,r,F2(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=TZ(t,r,i,e).pipe(Re(({matched:c,consumedSegments:u,remainingSegments:d,parameters:h})=>c?{snapshot:new Hp(u,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,V2(r),Hr(r),r.component??r._loadedComponent??null,r,F2(r)),consumedSegments:u,remainingSegments:d}:null));return a.pipe(wn(c=>null===c?Ec(t):this.getChildConfig(e=r._injector??e,r,i).pipe(wn(({routes:u})=>{const d=r._loadedInjector??e,{snapshot:h,consumedSegments:p,remainingSegments:m}=c,{segmentGroup:C,slicedSegments:E}=k2(t,p,m,u);if(0===E.length&&C.hasChildren())return this.processChildren(d,u,C).pipe(Re(R=>null===R?null:[new Ui(h,R)]));if(0===u.length&&0===E.length)return pe([new Ui(h,[])]);const P=Hr(r)===o;return this.processSegment(d,u,C,E,P?Pe:o,!0).pipe(Re(R=>[new Ui(h,R)]))}))))}getChildConfig(e,t,r){return t.children?pe({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?pe({routes:t._loadedRoutes,injector:t._loadedInjector}):function CZ(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?pe(!0):pe(i.map(s=>{const a=bc(s,n);return Mo(function sZ(n){return n&&Zl(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Ic(),x2())}(e,t,r).pipe(Yt(i=>i?this.configLoader.loadChildren(e,t).pipe(st(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function EZ(n){return Po(P2(!1,3))}())):pe({routes:[],injector:e})}}function NZ(n){const e=n.value.routeConfig;return e&&""===e.path}function N2(n){const e=[],t=new Set;for(const r of n){if(!NZ(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=N2(r.children);e.push(new Ui(r.value,i))}return e.filter(r=>!t.has(r))}function V2(n){return n.data||{}}function F2(n){return n.resolve||{}}function L2(n){return"string"==typeof n.title||null===n.title}function gb(n){return wn(e=>{const t=n(e);return t?Bt(t).pipe(Re(()=>e)):pe(e)})}const wc=new oe("ROUTES");let mb=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ne(sk)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return pe(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Mo(t.loadComponent()).pipe(Re(U2),st(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Vl(()=>{this.componentLoaders.delete(t)})),i=new YN(r,()=>new Sr).pipe(YC());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return pe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function $Z(n,e,t,r){return Mo(n.loadChildren()).pipe(Re(U2),Yt(i=>i instanceof fR||Array.isArray(i)?pe(i):Bt(e.compileModuleAsync(i))),Re(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(t).injector,s=o.get(wc,[],{optional:!0,self:!0}).flat()),{routes:s.map(hb),injector:o}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(Vl(()=>{this.childrenLoaders.delete(r)})),s=new YN(o,()=>new Sr).pipe(YC());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function U2(n){return function HZ(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Qp=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Sr,this.transitionAbortSubject=new Sr,this.configLoader=ne(mb),this.environmentInjector=ne(ar),this.urlSerializer=ne($l),this.rootContexts=ne(Kl),this.inputBindingEnabled=null!==ne(zp,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>pe(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new NX(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new kX(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new tr({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ql,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(vi(o=>0!==o.id),Re(o=>({...o,extractedUrl:t.urlHandlingStrategy.extract(o.rawUrl)})),wn(o=>{this.currentTransition=o;let s=!1,a=!1;return pe(o).pipe(st(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),wn(c=>{const u=c.currentBrowserUrl.toString(),d=!t.navigated||c.extractedUrl.toString()!==u||u!==c.currentUrlTree.toString();if(!d&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const p="";return this.events.next(new vc(c.id,this.urlSerializer.serialize(c.rawUrl),p,0)),c.resolve(null),Gr}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return pe(c).pipe(wn(p=>{const m=this.transitions?.getValue();return this.events.next(new jp(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?Gr:Promise.resolve(p)}),function VZ(n,e,t,r,i,o){return Yt(s=>function OZ(n,e,t,r,i,o,s="emptyOnly"){return new RZ(n,e,t,r,i,s,o).recognize()}(n,e,t,r,s.extractedUrl,i,o).pipe(Re(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),st(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:p.urlAfterRedirects};const m=new m2(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(d&&t.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:p,extractedUrl:m,source:C,restoredState:E,extras:P}=c,R=new jp(p,this.urlSerializer.serialize(m),C,E);this.events.next(R);const D=C2(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:D,urlAfterRedirects:m,extras:{...P,skipLocationChange:!1,replaceUrl:!1}},pe(o)}{const p="";return this.events.next(new vc(c.id,this.urlSerializer.serialize(c.extractedUrl),p,1)),c.resolve(null),Gr}}),st(c=>{const u=new SX(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Re(c=>(this.currentTransition=o={...c,guards:tZ(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function hZ(n,e){return Yt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?pe({...t,guardsResult:!0}):function fZ(n,e,t,r){return Bt(n).pipe(Yt(i=>function vZ(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?pe(o.map(a=>{const c=Yl(e)??i,u=bc(a,c);return Mo(function uZ(n){return n&&Zl(n.canDeactivate)}(u)?u.canDeactivate(n,e,t,r):c.runInContext(()=>u(n,e,t,r))).pipe(Ci())})).pipe(Ic()):pe(!0)}(i.component,i.route,t,e,r)),Ci(i=>!0!==i,!0))}(s,r,i,n).pipe(Yt(a=>a&&function oZ(n){return"boolean"==typeof n}(a)?function pZ(n,e,t,r){return Bt(e).pipe(pc(i=>QC(function mZ(n,e){return null!==n&&e&&e(new VX(n)),pe(!0)}(i.route.parent,r),function gZ(n,e){return null!==n&&e&&e(new LX(n)),pe(!0)}(i.route,r),function yZ(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function nZ(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>QN(()=>pe(s.guards.map(c=>{const u=Yl(s.node)??t,d=bc(c,u);return Mo(function cZ(n){return n&&Zl(n.canActivateChild)}(d)?d.canActivateChild(r,n):u.runInContext(()=>d(r,n))).pipe(Ci())})).pipe(Ic())));return pe(o).pipe(Ic())}(n,i.path,t),function _Z(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return pe(!0);const i=r.map(o=>QN(()=>{const s=Yl(e)??t,a=bc(o,s);return Mo(function aZ(n){return n&&Zl(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(Ci())}));return pe(i).pipe(Ic())}(n,i.route,t))),Ci(i=>!0!==i,!0))}(r,o,n,e):pe(a)),Re(a=>({...t,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),st(c=>{if(o.guardsResult=c.guardsResult,Is(c.guardsResult))throw T2(0,c.guardsResult);const u=new xX(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),vi(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),gb(c=>{if(c.guards.canActivateChecks.length)return pe(c).pipe(st(u=>{const d=new OX(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),wn(u=>{let d=!1;return pe(u).pipe(function FZ(n,e){return Yt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return pe(t);let o=0;return Bt(i).pipe(pc(s=>function LZ(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!L2(i)&&(o[Bl]=i.title),function UZ(n,e,t,r){const i=function BZ(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return pe({});const o={};return Bt(i).pipe(Yt(s=>function jZ(n,e,t,r){const i=Yl(e)??r,o=bc(n,i);return Mo(o.resolve?o.resolve(e,t):i.runInContext(()=>o(e,t)))}(n[s],e,t,r).pipe(Ci(),st(a=>{o[s]=a}))),JC(1),function eX(n){return Re(()=>n)}(o),$r(s=>S2(s)?Gr:Po(s)))}(o,n,e,r).pipe(Re(s=>(n._resolvedData=s,n.data=b2(n,t).resolve,i&&L2(i)&&(n.data[Bl]=i.title),null)))}(s.route,r,n,e)),st(()=>o++),JC(1),Yt(s=>o===i.length?pe(t):Gr))})}(t.paramsInheritanceStrategy,this.environmentInjector),st({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",2)}}))}),st(u=>{const d=new RX(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),gb(c=>{const u=d=>{const h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(st(p=>{d.component=p}),Re(()=>{})));for(const p of d.children)h.push(...u(p));return h};return KC(u(c.targetSnapshot.root)).pipe(jh(),fa(1))}),gb(()=>this.afterPreactivation()),Re(c=>{const u=function zX(n,e,t){const r=Ql(n,e._root,t?t._root:void 0);return new v2(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:u},o}),st(()=>{this.events.next(new rb)}),((n,e,t,r)=>Re(i=>(new eZ(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),fa(1),st({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ao(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),function tX(n){return Ut((e,t)=>{er(n).subscribe(Nt(t,()=>t.complete(),f_)),!t.closed&&e.subscribe(t)})}(this.transitionAbortSubject.pipe(st(c=>{throw c}))),Vl(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),$r(c=>{if(a=!0,M2(c))this.events.next(new Wl(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function WX(n){return M2(n)&&Is(n.url)}(c)?this.events.next(new ib(c.url)):o.resolve(!1);else{this.events.next(new $p(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(c))}catch(u){o.reject(u)}}return Gr}))}))}cancelNavigationTransition(t,r,i){const o=new Wl(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function B2(n){return n!==ql}let j2=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Pe);return r}getResolvedTitleForRoute(t){return t.data[Bl]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=le({token:n,factory:function(){return ne(zZ)},providedIn:"root"})}}return n})(),zZ=(()=>{class n extends j2{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(ae(jN))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),GZ=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=le({token:n,factory:function(){return ne(WZ)},providedIn:"root"})}}return n})();class qZ{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let WZ=(()=>{class n extends qZ{static{this.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}()}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Yp=new oe("",{providedIn:"root",factory:()=>({})});let KZ=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=le({token:n,factory:function(){return ne(QZ)},providedIn:"root"})}}return n})(),QZ=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ed=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(ed||{});function $2(n,e){n.events.pipe(vi(t=>t instanceof Ao||t instanceof Wl||t instanceof $p||t instanceof vc),Re(t=>t instanceof Ao||t instanceof vc?ed.COMPLETE:t instanceof Wl&&(0===t.code||1===t.code)?ed.REDIRECTING:ed.FAILED),vi(t=>t!==ed.REDIRECTING),fa(1)).subscribe(()=>{e()})}function YZ(n){throw n}function JZ(n,e,t){return e.parse("/")}const XZ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ZZ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let kn=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ne(rC),this.isNgZoneEnabled=!1,this._events=new Sr,this.options=ne(Yp,{optional:!0})||{},this.pendingTasks=ne(up),this.errorHandler=this.options.errorHandler||YZ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||JZ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ne(KZ),this.routeReuseStrategy=ne(GZ),this.titleStrategy=ne(j2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ne(wc,{optional:!0})?.flat()??[],this.navigationTransitions=ne(Qp),this.urlSerializer=ne($l),this.location=ne(vC),this.componentInputBindingEnabled=!!ne(zp,{optional:!0}),this.eventsSubscription=new Bn,this.isNgZoneEnabled=ne(Be)instanceof Be&&Be.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new yc,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=C2(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(H2(r)&&this._events.next(r));if(r instanceof jp)B2(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof vc)this.rawUrlTree=i.rawUrl;else if(r instanceof m2){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof rb)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Wl)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof ib){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||B2(i.source)};this.scheduleNavigation(o,ql,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof $p&&this.restoreHistory(i,!0),r instanceof Ao&&(this.navigated=!0),H2(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ql,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(hb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s;let h,d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{h=u2(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),h=this.currentUrlTree.root}return l2(h,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Is(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ql,null,r)}navigate(t,r={skipLocationChange:!1}){return function eee(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new K(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...XZ}:!1===r?{...ZZ}:r,Is(t))return e2(this.currentUrlTree,t,i);const o=this.parseUrl(t);return e2(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((h,p)=>{a=h,c=p});const d=this.pendingTasks.add();return $2(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function H2(n){return!(n instanceof rb||n instanceof ib)}let ws=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Sr,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof Ao&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function pS(n,e,t){return function o8(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?fS:sr}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(H(kn),H(Es),function hf(n){return function TH(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(aA(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===e)return t[i+1];i+=2}}}return null}(en(),n)}("tabindex"),H(Ai),H(cr),H(vs))}}static{this.\u0275dir=ve({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&z("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&ei("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",hc],skipLocationChange:["skipLocationChange","skipLocationChange",hc],replaceUrl:["replaceUrl","replaceUrl",hc],routerLink:"routerLink"},standalone:!0,features:[Sx,yr]})}}return n})(),z2=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new yt,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof Ao&&this.update()})}ngAfterContentInit(){pe(this.links.changes,pe(null)).pipe(ha()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Bt(t).pipe(ha()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function tee(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static{this.\u0275fac=function(r){return new(r||n)(H(kn),H(cr),H(Ai),H(xl),H(ws,8))}}static{this.\u0275dir=ve({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(1&r&&UR(o,ws,5),2&r){let s;LR(s=function BR(){return function dW(n,e){return n[Wr].queries[e].queryList}(G(),XA())}())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[yr]})}}return n})();class G2{}let nee=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(vi(t=>t instanceof Ao),pc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=Bv(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Bt(i).pipe(ha())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):pe(null);const o=i.pipe(Yt(s=>null===s?pe(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?Bt([o,this.loader.loadComponent(r)]).pipe(ha()):o})}static{this.\u0275fac=function(r){return new(r||n)(ae(kn),ae(sk),ae(ar),ae(G2),ae(mb))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const _b=new oe("");let q2=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof jp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ao?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof vc&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof _2&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new _2(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){!function rx(){throw new Error("invalid")}()}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac})}}return n})();function W2(n){return n.routerState.root}function Bi(n,e){return{\u0275kind:n,\u0275providers:e}}function K2(){const n=ne(hn);return e=>{const t=n.get(_s);if(e!==t.components[0])return;const r=n.get(kn),i=n.get(Q2);1===n.get(yb)&&r.initialNavigation(),n.get(Y2,null,De.Optional)?.setUpPreloading(),n.get(_b,null,De.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const Q2=new oe("",{factory:()=>new Sr}),yb=new oe("",{providedIn:"root",factory:()=>1}),Y2=new oe("");function aee(n){return Bi(0,[{provide:Y2,useExisting:nee},{provide:G2,useExisting:n}])}const J2=new oe("ROUTER_FORROOT_GUARD"),uee=[vC,{provide:$l,useClass:XC},kn,Kl,{provide:Es,useFactory:W2,deps:[kn]},mb,[]];function lee(){return new fk("Router",kn)}let td=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[uee,[],{provide:wc,multi:!0,useValue:t},{provide:J2,useFactory:pee,deps:[[kn,new Sn,new gf]]},{provide:Yp,useValue:r||{}},r?.useHash?{provide:vs,useClass:GK}:{provide:vs,useClass:Hk},{provide:_b,useFactory:()=>{const n=ne(lY),e=ne(Be),t=ne(Yp),r=ne(Qp),i=ne($l);return t.scrollOffset&&n.setOffset(t.scrollOffset),new q2(i,r,n,e,t)}},r?.preloadingStrategy?aee(r.preloadingStrategy).\u0275providers:[],{provide:fk,multi:!0,useFactory:lee},r?.initialNavigation?gee(r):[],r?.bindToComponentInputs?Bi(8,[w2,{provide:zp,useExisting:w2}]).\u0275providers:[],[{provide:X2,useFactory:K2},{provide:Sl,multi:!0,useExisting:X2}]]}}static forChild(t){return{ngModule:n,providers:[{provide:wc,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(ae(J2,8))}}static{this.\u0275mod=Rr({type:n})}static{this.\u0275inj=mr({})}}return n})();function pee(n){return"guarded"}function gee(n){return["disabled"===n.initialNavigation?Bi(3,[{provide:tC,multi:!0,useFactory:()=>{const e=ne(kn);return()=>{e.setUpLocationChangeListener()}}},{provide:yb,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Bi(2,[{provide:yb,useValue:0},{provide:tC,multi:!0,deps:[hn],useFactory:e=>{const t=e.get(HK,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(kn),o=e.get(Q2);$2(i,()=>{r(!0)}),e.get(Qp).afterPreactivation=()=>(r(!0),o.closed?pe(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const X2=new oe("");function Z2(n,e,t,r,i,o,s){try{var a=n[o](s),c=a.value}catch(u){return void t(u)}a.done?e(c):Promise.resolve(c).then(r,i)}function w(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function s(c){Z2(o,r,i,s,a,"next",c)}function a(c){Z2(o,r,i,s,a,"throw",c)}s(void 0)})}}const eV=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},Cb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0;let p=(15&a)<<2|u>>6,m=63&u;c||(m=64,s||(p=64)),r.push(t[o>>2],t[(3&o)<<4|a>>4],t[p],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(eV(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const c=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const o=n[t++],s=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const u=i<n.length?t[n.charAt(i)]:64;++i;const h=i<n.length?t[n.charAt(i)]:64;if(++i,null==o||null==a||null==u||null==h)throw new Cee;r.push(o<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==h&&r.push(u<<6&192|h))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Cee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Jp=function(n){return function(n){const e=eV(n);return Cb.encodeByteArray(e,!0)}(n).replace(/\./g,"")},Xp=function(n){try{return Cb.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Zp=()=>{try{return function Eee(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Xp(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},nV=n=>{var e,t;return null===(t=null===(e=Zp())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},rV=()=>{var n;return null===(n=Zp())||void 0===n?void 0:n.config},iV=n=>{var e;return null===(e=Zp())||void 0===e?void 0:e[`_${n}`]};class eg{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function St(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function bb(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function Do(){try{return"object"==typeof indexedDB}catch{return!1}}function nd(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(t){e(t)}})}function Ib(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Tr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,si.prototype.create)}}class si{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function Vee(n,e){return n.replace(Fee,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new Tr(i,`${this.serviceName}: ${s} (${i}).`,r)}}const Fee=/\{\$([^}]+)}/g;function Tc(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],s=e[i];if(aV(o)&&aV(s)){if(!Tc(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function aV(n){return null!==n&&"object"==typeof n}function rd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class Bee{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function jee(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=Eb),void 0===i.error&&(i.error=Eb),void 0===i.complete&&(i.complete=Eb);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Eb(){}const $ee=1e3,Hee=2,zee=144e5,Gee=.5;function Tb(n,e=$ee,t=Hee){const r=e*Math.pow(t,n),i=Math.round(Gee*r*(Math.random()-.5)*2);return Math.min(zee,r+i)}function nn(n){return n&&n._delegate?n._delegate:n}class pn{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ts="[DEFAULT]";class Wee{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new eg;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Qee(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ts})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ts){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return w(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Ts){return this.instances.has(e)}getOptions(e=Ts){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Ts?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=Ts){return this.component?this.component.multipleInstances?e:Ts:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Yee{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Wee(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Pb=[];var xe=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(xe||{});const cV={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},Jee=xe.INFO,Xee={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},Zee=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=Xee[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class Pc{constructor(e){this.name=e,this._logLevel=Jee,this._logHandler=Zee,this._userLogHandler=null,Pb.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?cV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const ete=(n,e)=>e.some(t=>n instanceof t);let uV,lV;const dV=new WeakMap,Mb=new WeakMap,hV=new WeakMap,Ab=new WeakMap,Db=new WeakMap;let Sb={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Mb.get(n);if("objectStoreNames"===e)return n.objectStoreNames||hV.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ji(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function ate(n){return"function"==typeof n?function ste(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function nte(){return lV||(lV=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(xb(this),e),ji(dV.get(this))}:function(...e){return ji(n.apply(xb(this),e))}:function(e,...t){const r=n.call(xb(this),e,...t);return hV.set(r,e.sort?e.sort():[e]),ji(r)}}(n):(n instanceof IDBTransaction&&function ite(n){if(Mb.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Mb.set(n,e)}(n),ete(n,function tte(){return uV||(uV=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Sb):n)}function ji(n){if(n instanceof IDBRequest)return function rte(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(ji(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&dV.set(t,n)}).catch(()=>{}),Db.set(e,n),e}(n);if(Ab.has(n))return Ab.get(n);const e=ate(n);return e!==n&&(Ab.set(n,e),Db.set(e,n)),e}const xb=n=>Db.get(n);function ng(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(n,e),a=ji(s);return r&&s.addEventListener("upgradeneeded",c=>{r(ji(s.result),c.oldVersion,c.newVersion,ji(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}function Ob(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",r=>e(r.oldVersion,r)),ji(t).then(()=>{})}const cte=["get","getKey","getAll","getAllKeys","count"],ute=["put","add","delete","clear"],Rb=new Map;function fV(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Rb.get(e))return Rb.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=ute.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!cte.includes(t))return;const o=function(){var s=w(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(c.shift())),(yield Promise.all([d[t](...c),i&&u.done]))[0]});return function(c){return s.apply(this,arguments)}}();return Rb.set(e,o),o}!function ote(n){Sb=n(Sb)}(n=>({...n,get:(e,t,r)=>fV(e,t)||n.get(e,t,r),has:(e,t)=>!!fV(e,t)||n.has(e,t)}));class lte{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function dte(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const rg="@firebase/app",kb="0.10.13",$i=new Pc("@firebase/app"),ig="[DEFAULT]",Ute={[rg]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Ps=new Map,id=new Map,od=new Map;function pV(n,e){try{n.container.addComponent(e)}catch(t){$i.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Nn(n){const e=n.name;if(od.has(e))return $i.debug(`There were multiple attempts to register component ${e}.`),!1;od.set(e,n);for(const t of Ps.values())pV(t,n);for(const t of id.values())pV(t,n);return!0}function Mc(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function So(n){return void 0!==n.settings}const Pr=new si("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class gV{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pr.create("app-deleted",{appName:this._name})}}const Ms="10.14.1";function mV(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:ig,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Pr.create("bad-app-name",{appName:String(i)});if(t||(t=rV()),!t)throw Pr.create("no-options");const o=Ps.get(i);if(o){if(Tc(t,o.options)&&Tc(r,o.config))return o;throw Pr.create("duplicate-app",{appName:i})}const s=new Yee(i);for(const c of od.values())s.addComponent(c);const a=new gV(t,r,s);return Ps.set(i,a),a}function Nb(n=ig){const e=Ps.get(n);if(!e&&n===ig&&rV())return mV();if(!e)throw Pr.create("no-app",{appName:n});return e}function _V(){return Array.from(Ps.values())}function vt(n,e,t){var r;let i=null!==(r=Ute[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void $i.warn(a.join(" "))}Nn(new pn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const zte="firebase-heartbeat-database",Gte=1,sd="firebase-heartbeat-store";let Fb=null;function yV(){return Fb||(Fb=ng(zte,Gte,{upgrade:(n,e)=>{if(0===e)try{n.createObjectStore(sd)}catch(t){console.warn(t)}}}).catch(n=>{throw Pr.create("idb-open",{originalErrorMessage:n.message})})),Fb}function Lb(){return(Lb=w(function*(n){try{const t=(yield yV()).transaction(sd),r=yield t.objectStore(sd).get(CV(n));return yield t.done,r}catch(e){if(e instanceof Tr)$i.warn(e.message);else{const t=Pr.create("idb-get",{originalErrorMessage:e?.message});$i.warn(t.message)}}})).apply(this,arguments)}function vV(n,e){return Ub.apply(this,arguments)}function Ub(){return(Ub=w(function*(n,e){try{const r=(yield yV()).transaction(sd,"readwrite");yield r.objectStore(sd).put(e,CV(n)),yield r.done}catch(t){if(t instanceof Tr)$i.warn(t.message);else{const r=Pr.create("idb-set",{originalErrorMessage:t?.message});$i.warn(r.message)}}})).apply(this,arguments)}function CV(n){return`${n.name}!${n.options.appId}`}class Qte{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Jte(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return w(function*(){var t,r;try{const o=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=bV();return null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&(e._heartbeatsCache=yield e._heartbeatsCachePromise,null==(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats))||e._heartbeatsCache.lastSentHeartbeatDate===s||e._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(e._heartbeatsCache.heartbeats.push({date:s,agent:o}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=2592e6}),e._storage.overwrite(e._heartbeatsCache))}catch(i){$i.warn(i)}})()}getHeartbeatsHeader(){var e=this;return w(function*(){var t;try{if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=bV(),{heartbeatsToSend:i,unsentEntries:o}=function Yte(n,e=1024){const t=[];let r=n.slice();for(const i of n){const o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),IV(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),IV(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Jp(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(e._heartbeatsCache.heartbeats=o,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s}catch(r){return $i.warn(r),""}})()}}function bV(){return(new Date).toISOString().substring(0,10)}class Jte{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(function*(){return!!Do()&&nd().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return w(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function qte(n){return Lb.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var t=this;return w(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return vV(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return w(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return vV(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function IV(n){return Jp(JSON.stringify({version:2,heartbeats:n})).length}!function Xte(n){Nn(new pn("platform-logger",e=>new lte(e),"PRIVATE")),Nn(new pn("heartbeat",e=>new Qte(e),"PRIVATE")),vt(rg,kb,n),vt(rg,kb,"esm2017"),vt("fire-js","")}(""),vt("firebase","10.14.1","app");const EV="@firebase/installations",Bb="0.6.9",wV=1e4,TV=`w:${Bb}`,PV="FIS_v2",tne="https://firebaseinstallations.googleapis.com/v1",nne=36e5,Hi=new si("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function MV(n){return n instanceof Tr&&n.code.includes("request-failed")}function jb({projectId:n}){return`${tne}/projects/${n}/installations`}function AV(n){return{token:n.token,requestStatus:2,expiresIn:sne(n.expiresIn),creationTime:Date.now()}}function $b(n,e){return Hb.apply(this,arguments)}function Hb(){return(Hb=w(function*(n,e){const r=(yield e.json()).error;return Hi.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function DV({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function zb(n){return Gb.apply(this,arguments)}function Gb(){return(Gb=w(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function sne(n){return Number(n.replace("s","000"))}function qb(){return(qb=w(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=jb(n),i=DV(n),o=e.getImmediate({optional:!0});if(o){const u=yield o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:PV,appId:n.appId,sdkVersion:TV})},c=yield zb(()=>fetch(r,a));if(c.ok){const u=yield c.json();return{fid:u.fid||t,registrationStatus:2,refreshToken:u.refreshToken,authToken:AV(u.authToken)}}throw yield $b("Create Installation",c)})).apply(this,arguments)}function xV(n){return new Promise(e=>{setTimeout(e,n)})}const lne=/^[cdef][\w-]{21}$/,Wb="";function dne(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function hne(n){return function une(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return lne.test(t)?t:Wb}catch{return Wb}}function Ac(n){return`${n.appName}!${n.appId}`}const Dc=new Map;function OV(n,e){const t=Ac(n);RV(t,e),function gne(n,e){const t=function kV(){return!As&&"BroadcastChannel"in self&&(As=new BroadcastChannel("[Firebase] FID Change"),As.onmessage=n=>{RV(n.data.key,n.data.fid)}),As}();t&&t.postMessage({key:n,fid:e}),function NV(){0===Dc.size&&As&&(As.close(),As=null)}()}(t,e)}function RV(n,e){const t=Dc.get(n);if(t)for(const r of t)r(e)}let As=null;const mne="firebase-installations-database",_ne=1,Ds="firebase-installations-store";let Kb=null;function Qb(){return Kb||(Kb=ng(mne,_ne,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Ds)}})),Kb}function og(n,e){return Yb.apply(this,arguments)}function Yb(){return(Yb=w(function*(n,e){const t=Ac(n),i=(yield Qb()).transaction(Ds,"readwrite"),o=i.objectStore(Ds),s=yield o.get(t);return yield o.put(e,t),yield i.done,(!s||s.fid!==e.fid)&&OV(n,e.fid),e})).apply(this,arguments)}function Jb(n){return Xb.apply(this,arguments)}function Xb(){return(Xb=w(function*(n){const e=Ac(n),r=(yield Qb()).transaction(Ds,"readwrite");yield r.objectStore(Ds).delete(e),yield r.done})).apply(this,arguments)}function ad(n,e){return Zb.apply(this,arguments)}function Zb(){return(Zb=w(function*(n,e){const t=Ac(n),i=(yield Qb()).transaction(Ds,"readwrite"),o=i.objectStore(Ds),s=yield o.get(t),a=e(s);return void 0===a?yield o.delete(t):yield o.put(a,t),yield i.done,a&&(!s||s.fid!==a.fid)&&OV(n,a.fid),a})).apply(this,arguments)}function eI(n){return tI.apply(this,arguments)}function tI(){return tI=w(function*(n){let e;const t=yield ad(n.appConfig,r=>{const i=function yne(n){return FV(n||{fid:dne(),registrationStatus:0})}(r),o=function vne(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Hi.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Cne(n,e){return nI.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:bne(n)}:{installationEntry:e}}(n,i);return e=o.registrationPromise,o.installationEntry});return t.fid===Wb?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),tI.apply(this,arguments)}function nI(){return nI=w(function*(n,e){try{const t=yield function cne(n,e){return qb.apply(this,arguments)}(n,e);return og(n.appConfig,t)}catch(t){throw MV(t)&&409===t.customData.serverCode?yield Jb(n.appConfig):yield og(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),nI.apply(this,arguments)}function bne(n){return rI.apply(this,arguments)}function rI(){return(rI=w(function*(n){let e=yield VV(n.appConfig);for(;1===e.registrationStatus;)yield xV(100),e=yield VV(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield eI(n);return r||t}return e})).apply(this,arguments)}function VV(n){return ad(n,e=>{if(!e)throw Hi.create("installation-not-found");return FV(e)})}function FV(n){return function Ine(n){return 1===n.registrationStatus&&n.registrationTime+wV<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function iI(){return(iI=w(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=function wne(n,{fid:e}){return`${jb(n)}/${e}/authTokens:generate`}(n,t),i=function SV(n,{refreshToken:e}){const t=DV(n);return t.append("Authorization",function ane(n){return`${PV} ${n}`}(e)),t}(n,t),o=e.getImmediate({optional:!0});if(o){const u=yield o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:TV,appId:n.appId}})},c=yield zb(()=>fetch(r,a));if(c.ok)return AV(yield c.json());throw yield $b("Generate Auth Token",c)})).apply(this,arguments)}function oI(n){return sI.apply(this,arguments)}function sI(){return sI=w(function*(n,e=!1){let t;const r=yield ad(n.appConfig,o=>{if(!UV(o))throw Hi.create("not-registered");const s=o.authToken;if(!e&&function Mne(n){return 2===n.requestStatus&&!function Ane(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+nne}(n)}(s))return o;if(1===s.requestStatus)return t=function Tne(n,e){return aI.apply(this,arguments)}(n,e),o;{if(!navigator.onLine)throw Hi.create("app-offline");const a=function Dne(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(o);return t=function Pne(n,e){return cI.apply(this,arguments)}(n,a),a}});return t?yield t:r.authToken}),sI.apply(this,arguments)}function aI(){return(aI=w(function*(n,e){let t=yield LV(n.appConfig);for(;1===t.authToken.requestStatus;)yield xV(100),t=yield LV(n.appConfig);const r=t.authToken;return 0===r.requestStatus?oI(n,e):r})).apply(this,arguments)}function LV(n){return ad(n,e=>{if(!UV(e))throw Hi.create("not-registered");return function Sne(n){return 1===n.requestStatus&&n.requestTime+wV<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function cI(){return cI=w(function*(n,e){try{const t=yield function Ene(n,e){return iI.apply(this,arguments)}(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield og(n.appConfig,r),t}catch(t){if(!MV(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield og(n.appConfig,r)}else yield Jb(n.appConfig);throw t}}),cI.apply(this,arguments)}function UV(n){return void 0!==n&&2===n.registrationStatus}function uI(){return(uI=w(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield eI(e);return r?r.catch(console.error):oI(e).catch(console.error),t.fid})).apply(this,arguments)}function lI(){return lI=w(function*(n,e=!1){const t=n;return yield function Rne(n){return dI.apply(this,arguments)}(t),(yield oI(t,e)).token}),lI.apply(this,arguments)}function dI(){return(dI=w(function*(n){const{registrationPromise:e}=yield eI(n);e&&(yield e)})).apply(this,arguments)}function pI(n){return Hi.create("missing-app-config-values",{valueName:n})}const BV="installations",Lne=n=>{const e=n.getProvider("app").getImmediate(),t=function Vne(n){if(!n||!n.options)throw pI("App Configuration");if(!n.name)throw pI("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw pI(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:Mc(e,"heartbeat"),_delete:()=>Promise.resolve()}},Une=n=>{const t=Mc(n.getProvider("app").getImmediate(),BV).getImmediate();return{getId:()=>function xne(n){return uI.apply(this,arguments)}(t),getToken:i=>function One(n){return lI.apply(this,arguments)}(t,i)}};(function Bne(){Nn(new pn(BV,Lne,"PUBLIC")),Nn(new pn("installations-internal",Une,"PRIVATE"))})(),vt(EV,Bb),vt(EV,Bb,"esm2017");const gI="@firebase/remote-config",Yn=new si("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Jne{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return w(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const o=yield t.client.fetch(e),s=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&s.push(t.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(s),o})()}}function Xne(n=navigator){return n.languages&&n.languages[0]||n.language}class Zne{constructor(e,t,r,i,o,s){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=s}fetch(e){var t=this;return w(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:Xne()},u={method:"POST",headers:a,body:JSON.stringify(c)},d=fetch(s,u),h=new Promise((R,D)=>{e.signal.addEventListener(()=>{const U=new Error("The operation was aborted.");U.name="AbortError",D(U)})});let p;try{yield Promise.race([d,h]),p=yield d}catch(R){let D="fetch-client-network";throw"AbortError"===R?.name&&(D="fetch-timeout"),Yn.create(D,{originalErrorMessage:R?.message})}let m=p.status;const C=p.headers.get("ETag")||void 0;let E,P;if(200===p.status){let R;try{R=yield p.json()}catch(D){throw Yn.create("fetch-client-parse",{originalErrorMessage:D?.message})}E=R.entries,P=R.state}if("INSTANCE_STATE_UNSPECIFIED"===P?m=500:"NO_CHANGE"===P?m=304:("NO_TEMPLATE"===P||"EMPTY_CONFIG"===P)&&(E={}),304!==m&&200!==m)throw Yn.create("fetch-status",{httpStatus:m});return{status:m,eTag:C,config:E}})()}}class nre{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return w(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,t){var r=this;return w(function*(i,{throttleEndTimeMillis:o,backoffCount:s}){yield function ere(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(Yn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(i.signal,o);try{const a=yield r.client.fetch(i);return yield r.storage.deleteThrottleMetadata(),a}catch(a){if(!function tre(n){if(!(n instanceof Tr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(a))throw a;const c={throttleEndTimeMillis:Date.now()+Tb(s),backoffCount:s+1};return yield r.storage.setThrottleMetadata(c),r.attemptFetch(i,c)}}).apply(this,arguments)}}class ore{constructor(e,t,r,i,o){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ag(n,e){const t=n.target.error||void 0;return Yn.create(e,{originalErrorMessage:t&&t?.message})}const Ss="app_namespace_store";class ure{constructor(e,t,r,i=function cre(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(ag(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ss,{keyPath:"compositeKey"})}}catch(t){e(Yn.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return w(function*(){const r=yield t.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([Ss],"readonly").objectStore(Ss),c=t.createCompositeKey(e);try{const u=a.get(c);u.onerror=d=>{o(ag(d,"storage-get"))},u.onsuccess=d=>{const h=d.target.result;i(h?h.value:void 0)}}catch(u){o(Yn.create("storage-get",{originalErrorMessage:u?.message}))}})})()}set(e,t){var r=this;return w(function*(){const i=yield r.openDbPromise;return new Promise((o,s)=>{const c=i.transaction([Ss],"readwrite").objectStore(Ss),u=r.createCompositeKey(e);try{const d=c.put({compositeKey:u,value:t});d.onerror=h=>{s(ag(h,"storage-set"))},d.onsuccess=()=>{o()}}catch(d){s(Yn.create("storage-set",{originalErrorMessage:d?.message}))}})})()}delete(e){var t=this;return w(function*(){const r=yield t.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([Ss],"readwrite").objectStore(Ss),c=t.createCompositeKey(e);try{const u=a.delete(c);u.onerror=d=>{o(ag(d,"storage-delete"))},u.onsuccess=()=>{i()}}catch(u){o(Yn.create("storage-delete",{originalErrorMessage:u?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class lre{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return w(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),o=yield t;o&&(e.lastFetchStatus=o);const s=yield r;s&&(e.lastSuccessfulFetchTimestampMillis=s);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function hre(){return CI.apply(this,arguments)}function CI(){return(CI=w(function*(){if(!Do())return!1;try{return yield nd()}catch{return!1}})).apply(this,arguments)}!function dre(){Nn(new pn("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Yn.create("registration-window");if(!Do())throw Yn.create("indexed-db-unavailable");const{projectId:o,apiKey:s,appId:a}=r.options;if(!o)throw Yn.create("registration-project-id");if(!s)throw Yn.create("registration-api-key");if(!a)throw Yn.create("registration-app-id");const c=new ure(a,r.name,t=t||"firebase"),u=new lre(c),d=new Pc(gI);d.logLevel=xe.ERROR;const h=new Zne(i,Ms,t,o,s,a),p=new nre(h,c),m=new Jne(p,c,u,d),C=new ore(r,m,u,c,d);return function Kne(n){const e=nn(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(C),C},"PUBLIC").setMultipleInstances(!0)),vt(gI,"0.4.9"),vt(gI,"0.4.9","esm2017")}();const fre="/firebase-messaging-sw.js",pre="/firebase-cloud-messaging-push-scope",zV="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",gre="https://fcmregistrations.googleapis.com/v1",GV="google.c.a.c_id",mre="google.c.a.c_l",_re="google.c.a.ts";var cg=function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n}(cg||{});function zi(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Cre(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}const bI="fcm_token_details_db",bre=5,qV="fcm_token_object_Store";function II(){return II=w(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(bI))return null;let e=null;return(yield ng(bI,bre,{upgrade:(r=w(function*(i,o,s,a){var c;if(o<2||!i.objectStoreNames.contains(qV))return;const u=a.objectStore(qV),d=yield u.index("fcmSenderId").get(n);if(yield u.clear(),d)if(2===o){const h=d;if(!h.auth||!h.p256dh||!h.endpoint)return;e={token:h.fcmToken,createTime:null!==(c=h.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:h.auth,p256dh:h.p256dh,endpoint:h.endpoint,swScope:h.swScope,vapidKey:"string"==typeof h.vapidKey?h.vapidKey:zi(h.vapidKey)}}}else if(3===o){const h=d;e={token:h.fcmToken,createTime:h.createTime,subscriptionOptions:{auth:zi(h.auth),p256dh:zi(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:zi(h.vapidKey)}}}else if(4===o){const h=d;e={token:h.fcmToken,createTime:h.createTime,subscriptionOptions:{auth:zi(h.auth),p256dh:zi(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:zi(h.vapidKey)}}}}),function(o,s,a,c){return r.apply(this,arguments)})})).close(),yield Ob(bI),yield Ob("fcm_vapid_details_db"),yield Ob("undefined"),function Ere(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),II.apply(this,arguments)}const wre="firebase-messaging-database",Tre=1,xs="firebase-messaging-store";let EI=null;function wI(){return EI||(EI=ng(wre,Tre,{upgrade:(n,e)=>{0===e&&n.createObjectStore(xs)}})),EI}function TI(){return TI=w(function*(n){const e=DI(n),r=yield(yield wI()).transaction(xs).objectStore(xs).get(e);if(r)return r;{const i=yield function Ire(n){return II.apply(this,arguments)}(n.appConfig.senderId);if(i)return yield PI(n,i),i}}),TI.apply(this,arguments)}function PI(n,e){return MI.apply(this,arguments)}function MI(){return(MI=w(function*(n,e){const t=DI(n),i=(yield wI()).transaction(xs,"readwrite");return yield i.objectStore(xs).put(e,t),yield i.done,e})).apply(this,arguments)}function DI({appConfig:n}){return n.appId}const rn=new si("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Are(n,e){return SI.apply(this,arguments)}function SI(){return(SI=w(function*(n,e){const t=yield kI(n),r=QV(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(RI(n.appConfig),i)).json()}catch(s){throw rn.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error)throw rn.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw rn.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function xI(){return(xI=w(function*(n,e){const t=yield kI(n),r=QV(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(`${RI(n.appConfig)}/${e.token}`,i)).json()}catch(s){throw rn.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error)throw rn.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw rn.create("token-update-no-token");return o.token})).apply(this,arguments)}function OI(){return(OI=w(function*(n,e){const r={method:"DELETE",headers:yield kI(n)};try{const o=yield(yield fetch(`${RI(n.appConfig)}/${e}`,r)).json();if(o.error)throw rn.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(i){throw rn.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function RI({projectId:n}){return`${gre}/projects/${n}/registrations`}function kI(n){return NI.apply(this,arguments)}function NI(){return(NI=w(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function QV({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==zV&&(i.web.applicationPubKey=r),i}const Sre=6048e5;function VI(){return VI=w(function*(n){const e=yield function kre(n,e){return BI.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:zi(e.getKey("auth")),p256dh:zi(e.getKey("p256dh"))},r=yield function WV(n){return TI.apply(this,arguments)}(n.firebaseDependencies);if(r){if(function Nre(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(r.subscriptionOptions,t))return Date.now()>=r.createTime+Sre?function Rre(n,e){return LI.apply(this,arguments)}(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield function KV(n,e){return OI.apply(this,arguments)}(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return YV(n.firebaseDependencies,t)}return YV(n.firebaseDependencies,t)}),VI.apply(this,arguments)}function LI(){return LI=w(function*(n,e){try{const t=yield function Dre(n,e){return xI.apply(this,arguments)}(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield PI(n.firebaseDependencies,r),t}catch(t){throw t}}),LI.apply(this,arguments)}function YV(n,e){return UI.apply(this,arguments)}function UI(){return(UI=w(function*(n,e){const r={token:yield Are(n,e),createTime:Date.now(),subscriptionOptions:e};return yield PI(n,r),r.token})).apply(this,arguments)}function BI(){return(BI=w(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Cre(e)})})).apply(this,arguments)}function JV(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function Vre(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const o=e.notification.icon;o&&(n.notification.icon=o)}(e,n),function Fre(n,e){e.data&&(n.data=e.data)}(e,n),function Lre(n,e){var t,r,i,o,s;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=e.notification)||void 0===o?void 0:o.click_action;a&&(n.fcmOptions.link=a);const c=null===(s=e.fcmOptions)||void 0===s?void 0:s.analytics_label;c&&(n.fcmOptions.analyticsLabel=c)}(e,n),e}function jI(n){return rn.create("missing-app-config-values",{valueName:n})}!function Bre(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));t.join("")}("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class $re{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function jre(n){if(!n||!n.options)throw jI("App Configuration Object");if(!n.name)throw jI("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw jI(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function $I(){return($I=w(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(fre,{scope:pre}),n.swRegistration.update().catch(()=>{})}catch(e){throw rn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function HI(){return(HI=w(function*(n,e){if(!e&&!n.swRegistration&&(yield function XV(n){return $I.apply(this,arguments)}(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw rn.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function zI(){return(zI=w(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=zV)})).apply(this,arguments)}function GI(){return GI=w(function*(n,e){if(!navigator)throw rn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw rn.create("permission-blocked");return yield function zre(n,e){return zI.apply(this,arguments)}(n,e?.vapidKey),yield function Hre(n,e){return HI.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function xre(n){return VI.apply(this,arguments)}(n)}),GI.apply(this,arguments)}function qI(){return(qI=w(function*(n,e,t){const r=function qre(n){switch(n){case cg.NOTIFICATION_CLICKED:return"notification_open";case cg.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[GV],message_name:t[mre],message_time:t[_re],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function WI(){return WI=w(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===cg.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(JV(t)):n.onMessageHandler.next(JV(t)));const r=t.data;(function Ure(n){return"object"==typeof n&&!!n&&GV in n})(r)&&"1"===r["google.c.a.e"]&&(yield function Gre(n,e,t){return qI.apply(this,arguments)}(n,t.messageType,r))}),WI.apply(this,arguments)}const eF="@firebase/messaging",tF="0.12.12",Kre=n=>{const e=new $re(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function Wre(n,e){return WI.apply(this,arguments)}(e,t)),e},Qre=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function ZV(n,e){return GI.apply(this,arguments)}(e,r)}};function nF(){return KI.apply(this,arguments)}function KI(){return(KI=w(function*(){try{yield nd()}catch{return!1}return typeof window<"u"&&Do()&&Ib()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Yre(){Nn(new pn("messaging",Kre,"PUBLIC")),Nn(new pn("messaging-internal",Qre,"PRIVATE")),vt(eF,tF),vt(eF,tF,"esm2017")}();const ug="analytics",Zre="firebase_id",eie="origin",tie=6e4,nie="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",JI="https://www.googletagmanager.com/gtag/js",Gt=new Pc("@firebase/analytics"),Vn=new si("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function iie(n){if(!n.startsWith(JI)){const e=Vn.create("invalid-gtag-resource",{gtagURL:n});return Gt.warn(e.message),""}return n}function rF(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function XI(){return(XI=w(function*(n,e,t,r,i,o){const s=r[i];try{if(s)yield e[s];else{const c=(yield rF(t)).find(u=>u.measurementId===i);c&&(yield e[c.appId])}}catch(a){Gt.error(a)}n("config",i,o)})).apply(this,arguments)}function ZI(){return(ZI=w(function*(n,e,t,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=yield rF(t);for(const c of s){const u=a.find(h=>h.measurementId===c),d=u&&e[u.appId];if(!d){o=[];break}o.push(d)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),n("event",r,i||{})}catch(o){Gt.error(o)}})).apply(this,arguments)}const fie=30,iF=new class gie{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function mie(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function e0(){return(e0=w(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:mie(r)},o=nie.replace("{app-id}",t),s=yield fetch(o,i);if(200!==s.status&&304!==s.status){let a="";try{const c=yield s.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw Vn.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function t0(){return(t0=w(function*(n,e=iF,t){const{appId:r,apiKey:i,measurementId:o}=n.options;if(!r)throw Vn.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Vn.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new bie;return setTimeout(w(function*(){a.abort()}),void 0!==t?t:tie),oF({appId:r,apiKey:i,measurementId:o},s,a,e)})).apply(this,arguments)}function oF(n,e,t){return n0.apply(this,arguments)}function n0(){return n0=w(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=iF){var o;const{appId:s,measurementId:a}=n;try{yield function vie(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(Vn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return Gt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw c}try{const c=yield function _ie(n){return e0.apply(this,arguments)}(n);return i.deleteThrottleMetadata(s),c}catch(c){const u=c;if(!function Cie(n){if(!(n instanceof Tr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(u)){if(i.deleteThrottleMetadata(s),a)return Gt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:s,measurementId:a};throw c}const d=503===Number(null===(o=u?.customData)||void 0===o?void 0:o.httpStatus)?Tb(t,i.intervalMillis,fie):Tb(t,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:t+1};return i.setThrottleMetadata(s,h),Gt.debug(`Calling attemptFetch again in ${d} millis`),oF(n,h,r,i)}}),n0.apply(this,arguments)}class bie{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let r0,d0;function o0(){return(o0=w(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const o=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:o}))}})).apply(this,arguments)}function h0(){return(h0=w(function*(){if(!Do())return Gt.warn(Vn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield nd()}catch(n){return Gt.warn(Vn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function f0(){return f0=w(function*(n,e,t,r,i,o,s){var a;const c=function yie(n){return t0.apply(this,arguments)}(n);c.then(m=>{t[m.measurementId]=m.appId,n.options.measurementId&&m.measurementId!==n.options.measurementId&&Gt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>Gt.error(m)),e.push(c);const u=function Aie(){return h0.apply(this,arguments)}().then(m=>{if(m)return r.getId()}),[d,h]=yield Promise.all([c,u]);(function hie(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(JI)&&t.src.includes(n))return t;return null})(o)||function sie(n,e){const t=function oie(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:iie}),r=document.createElement("script"),i=`${JI}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(o,d.measurementId),d0&&(i("consent","default",d0),function sF(n){d0=n}(void 0)),i("js",new Date);const p=null!==(a=s?.config)&&void 0!==a?a:{};return p[eie]="firebase",p.update=!0,null!=h&&(p[Zre]=h),i("config",d.measurementId,p),r0&&(i("set",r0),function aF(n){r0=n}(void 0)),d.measurementId}),f0.apply(this,arguments)}class Sie{constructor(e){this.app=e}_delete(){return delete ai[this.app.options.appId],Promise.resolve()}}let ai={},cF=[];const uF={};let dF,ci,lg="dataLayer",p0=!1;function Oie(n,e,t){!function xie(){const n=[];if(bb()&&n.push("This is a browser extension environment."),Ib()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Vn.create("invalid-analytics-context",{errorInfo:e});Gt.warn(t.message)}}();const r=n.options.appId;if(!r)throw Vn.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Vn.create("no-api-key");Gt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ai[r])throw Vn.create("already-exists",{id:r});if(!p0){!function aie(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(lg);const{wrappedGtag:o,gtagCore:s}=function die(n,e,t,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function lie(n,e,t,r){function o(){return o=w(function*(s,...a){try{if("event"===s){const[c,u]=a;yield function uie(n,e,t,r,i){return ZI.apply(this,arguments)}(n,e,t,c,u)}else if("config"===s){const[c,u]=a;yield function cie(n,e,t,r,i,o){return XI.apply(this,arguments)}(n,e,t,r,c,u)}else if("consent"===s){const[c,u]=a;n("consent",c,u)}else if("get"===s){const[c,u,d]=a;n("get",c,u,d)}else if("set"===s){const[c]=a;n("set",c)}else n(s,...a)}catch(c){Gt.error(c)}}),o.apply(this,arguments)}return function i(s){return o.apply(this,arguments)}}(o,n,e,t),{gtagCore:o,wrappedGtag:window[i]}}(ai,cF,uF,lg,"gtag");ci=o,dF=s,p0=!0}return ai[r]=function Die(n,e,t,r,i,o,s){return f0.apply(this,arguments)}(n,cF,uF,e,dF,lg,t),new Sie(n)}function kie(){return g0.apply(this,arguments)}function g0(){return(g0=w(function*(){if(bb()||!Ib()||!Do())return!1;try{return yield nd()}catch{return!1}})).apply(this,arguments)}const hF="@firebase/analytics";!function Vie(){Nn(new pn(ug,(e,{options:t})=>Oie(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Nn(new pn("analytics-internal",function n(e){try{const t=e.getProvider(ug).getImmediate();return{logEvent:(r,i,o)=>function Nie(n,e,t,r){n=nn(n),function Iie(n,e,t,r,i){return o0.apply(this,arguments)}(ci,ai[n.app.options.appId],e,t,r).catch(i=>Gt.error(i))}(t,r,i,o)}}catch(t){throw Vn.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),vt(hF,"0.10.8"),vt(hF,"0.10.8","esm2017")}();class Fie extends Bn{constructor(e,t){super()}schedule(e,t=0){return this}}const dg={setInterval(n,e,...t){const{delegate:r}=dg;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=dg;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class pF extends Fie{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return dg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&dg.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,da(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const gF={now:()=>(gF.delegate||Date).now(),delegate:void 0};class cd{constructor(e,t=cd.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}cd.now=gF.now;class mF extends cd{constructor(e,t=cd.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const Bie=new class Uie extends mF{}(class Lie extends pF{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),_0=new mF(pF),jie=_0,hg=new qa("7.6.1"),y0="__angularfire_symbol__analyticsIsSupportedValue",v0="__angularfire_symbol__analyticsIsSupported",C0="__angularfire_symbol__remoteConfigIsSupportedValue",b0="__angularfire_symbol__remoteConfigIsSupported",I0="__angularfire_symbol__messagingIsSupportedValue",E0="__angularfire_symbol__messagingIsSupported";function T0(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[v0]||(globalThis[v0]=kie().then(n=>globalThis[y0]=n).catch(()=>globalThis[y0]=!1)),globalThis[E0]||(globalThis[E0]=nF().then(n=>globalThis[I0]=n).catch(()=>globalThis[I0]=!1)),globalThis[b0]||(globalThis[b0]=hre().then(n=>globalThis[C0]=n).catch(()=>globalThis[C0]=!1));const P0=(n,e)=>{const t=e?[e]:_V(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};function Sc(){}class _F{constructor(e,t=Bie){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},t,r)}}class $ie{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Sc,{},Sc,Sc)),t.pipe(st({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let M0=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new _F(Zone.current)),this.insideAngular=t.run(()=>new _F(Zone.current,_0)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(ae(Be))},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Os(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Rs(n){return Os().ngZone.run(()=>n())}function zie(n){return Os(),function Gie(n){return function(t){return(t=t.lift(new $ie(n.ngZone))).pipe(Uh(n.outsideAngular),Lh(n.insideAngular))}}(Os())(n)}const qie=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Rs(()=>n.apply(void 0,r))},A0=(n,e)=>function(){let t;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(t||(t=Rs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Sc,{},Sc,Sc)))),r[o]=qie(r[o],t));const i=function Hie(n){return Os().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof dt){const o=Os();return i.pipe(Uh(o.outsideAngular),Lh(o.insideAngular))}return Rs(()=>i)}return i instanceof dt?i.pipe(zie):i instanceof Promise?Rs(()=>new Promise((o,s)=>i.then(a=>Rs(()=>o(a)),a=>Rs(()=>s(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Rs(()=>i)};class xc{constructor(e){return e}}class D0{constructor(){return _V()}}const S0=new oe("angularfire2._apps"),Kie={provide:xc,useFactory:function Wie(n){return n&&1===n.length?n[0]:new xc(Nb())},deps:[[new Sn,S0]]},Qie={provide:D0,deps:[[new Sn,S0]]};function Yie(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new xc(r)}}let Jie=(()=>{class n{constructor(t){vt("angularfire",hg.full,"core"),vt("angularfire",hg.full,"app"),vt("angular",OS.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(ae(Mi))},n.\u0275mod=Rr({type:n}),n.\u0275inj=mr({providers:[Kie,Qie]}),n})();const Zie=A0(mV,!0),x0=new Map,yF={activated:!1,tokenObservers:[]},eoe={initialized:!1,enabled:!1};function wt(n){return x0.get(n)||Object.assign({},yF)}function fg(){return eoe}const O0="https://content-firebaseappcheck.googleapis.com/v1",ioe="exchangeDebugToken",vF={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class soe{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return w(function*(){t.stop();try{t.pending=new eg,t.pending.promise.catch(r=>{}),yield function aoe(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new eg,t.pending.promise.catch(r=>{}),yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const on=new si("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function R0(n){if(!wt(n).activated)throw on.create("use-before-activation",{appName:n.name})}function mg(n,e){return N0.apply(this,arguments)}function N0(){return(N0=w(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const h=yield i.getHeartbeatsHeader();h&&(r["X-Firebase-Client"]=h)}const o={method:"POST",body:JSON.stringify(e),headers:r};let s,a;try{s=yield fetch(n,o)}catch(h){throw on.create("fetch-network-error",{originalErrorMessage:h?.message})}if(200!==s.status)throw on.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(h){throw on.create("fetch-parse-error",{originalErrorMessage:h?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw on.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=1e3*Number(c[1]),d=Date.now();return{token:a.token,expireTimeMillis:d+u,issuedAtTimeMillis:d}})).apply(this,arguments)}function CF(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${O0}/projects/${t}/apps/${r}:${ioe}?key=${i}`,body:{debug_token:e}}}const doe="firebase-app-check-database",hoe=1,ud="firebase-app-check-store";let _g=null;function V0(){return(V0=w(function*(n,e){const r=(yield function IF(){return _g||(_g=new Promise((n,e)=>{try{const t=indexedDB.open(doe,hoe);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(on.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ud,{keyPath:"compositeKey"})}}catch(t){e(on.create("storage-open",{originalErrorMessage:t?.message}))}}),_g)}()).transaction(ud,"readwrite"),o=r.objectStore(ud).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var u;a(on.create("storage-set",{originalErrorMessage:null===(u=c.target.error)||void 0===u?void 0:u.message}))}})})).apply(this,arguments)}const ld=new Pc("@firebase/app-check");function U0(n,e){return Do()?function poe(n,e){return function EF(n,e){return V0.apply(this,arguments)}(function TF(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{ld.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function j0(){return fg().enabled}function $0(){return H0.apply(this,arguments)}function H0(){return(H0=w(function*(){const n=fg();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Coe={error:"UNKNOWN_ERROR"};function boe(n){return Cb.encodeString(JSON.stringify(n),!1)}function yg(n){return z0.apply(this,arguments)}function z0(){return(z0=w(function*(n,e=!1){const t=n.app;R0(t);const r=wt(t);let o,i=r.token;if(i&&!Oc(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(Oc(c)?i=c:yield U0(t,void 0))}if(!e&&i&&Oc(i))return{token:i.token};let a,s=!1;if(j0()){r.exchangeTokenPromise||(r.exchangeTokenPromise=mg(CF(t,yield $0()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);const c=yield r.exchangeTokenPromise;return yield U0(t,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield wt(t).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?ld.warn(c.message):ld.error(c),o=c}return i?o?a=Oc(i)?{token:i.token,internalError:o}:DF(o):(a={token:i.token},r.token=i,yield U0(t,i)):a=DF(o),s&&function AF(n,e){const t=wt(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,a),a})).apply(this,arguments)}function PF(n){return G0.apply(this,arguments)}function G0(){return(G0=w(function*(n){const e=n.app;R0(e);const{provider:t}=wt(e);if(j0()){const r=yield $0(),{token:i}=yield mg(CF(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function W0(n,e){const t=wt(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function MF(n){const{app:e}=n,t=wt(e);let r=t.tokenRefresher;r||(r=function Ioe(n){const{app:e}=n;return new soe(w(function*(){let r;if(r=wt(e).token?yield yg(n,!0):yield yg(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=wt(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},vF.RETRIAL_MIN_WAIT,vF.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Oc(n){return n.expireTimeMillis-Date.now()>0}function DF(n){return{token:boe(Coe),error:n}}class Eoe{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=wt(this.app);for(const t of e)W0(this.app,t.next);return Promise.resolve()}}const FF="app-check-internal";!function Foe(){Nn(new pn("app-check",n=>function woe(n,e){return new Eoe(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(FF).initialize()})),Nn(new pn(FF,n=>function Toe(n){return{getToken:e=>yg(n,e),getLimitedUseToken:()=>PF(n),addTokenListener:e=>function q0(n,e,t,r){const{app:i}=n,o=wt(i);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:r,type:e}],o.token&&Oc(o.token)){const a=o.token;Promise.resolve().then(()=>{t({token:a.token}),MF(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>MF(n))}(n,"INTERNAL",e),removeTokenListener:e=>W0(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),vt("@firebase/app-check","0.8.8")}();class J0{constructor(){return P0("app-check")}}typeof window<"u"&&window;const $oe=function UF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},BF=new si("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Cg=new Pc("@firebase/auth");function bg(n,...e){Cg.logLevel<=xe.ERROR&&Cg.error(`Auth (${Ms}): ${n}`,...e)}function Jn(n,...e){throw eE(n,...e)}function Mr(n,...e){return eE(n,...e)}function Z0(n,e,t){const r=Object.assign(Object.assign({},$oe()),{[e]:t});return new si("auth","Firebase",r).create(e,{appName:n.name})}function qt(n){return Z0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eE(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return BF.create(n,...e)}function J(n,e,...t){if(!n)throw eE(e,...t)}function ui(n){const e="INTERNAL ASSERTION FAILED: "+n;throw bg(e),new Error(e)}function xo(n,e){n||ui(e)}function dd(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function jF(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class hd{constructor(e,t){this.shortDelay=e,this.longDelay=t,xo(t>e,"Short delay should be less than long delay!"),this.isMobile=function Dee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(St())}()||function Ree(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function zoe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function tE(){return"http:"===jF()||"https:"===jF()}()||bb()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function nE(n,e){xo(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class $F{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qoe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Woe=new hd(3e4,6e4);function at(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function ct(n,e,t,r){return rE.apply(this,arguments)}function rE(){return(rE=w(function*(n,e,t,r,i={}){return HF(n,i,w(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=rd(Object.assign({key:n.config.apiKey},s)).slice(1),c=yield n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const u=Object.assign({method:e,headers:c},o);return function Oee(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}()||(u.referrerPolicy="no-referrer"),$F.fetch()(zF(n,n.config.apiHost,t,a),u)}))})).apply(this,arguments)}function HF(n,e,t){return iE.apply(this,arguments)}function iE(){return(iE=w(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},qoe),e);try{const i=new Qoe(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw fd(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw fd(n,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw fd(n,"email-already-in-use",s);if("USER_DISABLED"===c)throw fd(n,"user-disabled",s);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Z0(n,d,u);Jn(n,d)}}catch(i){if(i instanceof Tr)throw i;Jn(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function oE(){return(oE=w(function*(n,e,t,r,i={}){const o=yield ct(n,e,t,r,i);return"mfaPendingCredential"in o&&Jn(n,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function zF(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?nE(n.config,i):`${n.config.apiScheme}://${i}`}class Qoe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Mr(this.auth,"network-request-failed")),Woe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Mr(n,e,r);return i.customData._tokenResponse=t,i}function cE(){return(cE=w(function*(n,e){return ct(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function QF(n,e){return lE.apply(this,arguments)}function lE(){return(lE=w(function*(n,e){return ct(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function pd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function dE(){return(dE=w(function*(n,e=!1){const t=nn(n),r=yield t.getIdToken(e),i=Ig(r);J(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:pd(hE(i.auth_time)),issuedAtTime:pd(hE(i.iat)),expirationTime:pd(hE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function hE(n){return 1e3*Number(n)}function Ig(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return bg("JWT malformed, contained fewer than 3 sections"),null;try{const i=Xp(t);return i?JSON.parse(i):(bg("Failed to decode base64 JWT payload"),null)}catch(i){return bg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function YF(n){const e=Ig(n);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function qi(n,e){return fE.apply(this,arguments)}function fE(){return(fE=w(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Tr&&function ese({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class tse{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(w(function*(){yield t.iteration()}),r)}iteration(){var e=this;return w(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class pE{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=pd(this.lastLoginAt),this.creationTime=pd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function gd(n){return gE.apply(this,arguments)}function gE(){return(gE=w(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield qi(n,QF(t,{idToken:r}));J(i?.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?JF(o.providerUserInfo):[],a=function rse(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,s),d=!!n.isAnonymous&&!(n.email&&o.passwordHash||a?.length),h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new pE(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(n,h)})).apply(this,arguments)}function mE(){return(mE=w(function*(n){const e=nn(n);yield gd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function JF(n){return n.map(e=>{var{providerId:t}=e,r=Fh(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function _E(){return(_E=w(function*(n,e){const t=yield HF(n,{},w(function*(){const r=rd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=zF(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",$F.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}function yE(){return(yE=w(function*(n,e){return ct(n,"POST","/v2/accounts:revokeToken",at(n,e))})).apply(this,arguments)}class kc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):YF(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){J(0!==e.length,"internal-error");const t=YF(e);this.updateTokensAndExpiration(e,null,t)}getToken(e){var t=this;return w(function*(r,i=!1){return i||!t.accessToken||t.isExpired?(J(t.refreshToken,r,"user-token-expired"),t.refreshToken?(yield t.refresh(r,t.refreshToken),t.accessToken):null):t.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return w(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function ise(n,e){return _E.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new kc;return r&&(J("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(J("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(J("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new kc,this.toJSON())}_performRefresh(){return ui("not implemented")}}function Oo(n,e){J("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Wi{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Fh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tse(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new pE(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var t=this;return w(function*(){const r=yield qi(t,t.stsTokenManager.getToken(t.auth,e));return J(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function Zoe(n){return dE.apply(this,arguments)}(this,e)}reload(){return function nse(n){return mE.apply(this,arguments)}(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Wi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e){var t=this;return w(function*(r,i=!1){let o=!1;r.idToken&&r.idToken!==t.stsTokenManager.accessToken&&(t.stsTokenManager.updateFromServerResponse(r),o=!0),i&&(yield gd(t)),yield t.auth._persistUserIfCurrent(t),o&&t.auth._notifyListenersIfCurrent(t)}).apply(this,arguments)}delete(){var e=this;return w(function*(){if(So(e.auth.app))return Promise.reject(qt(e.auth));const t=yield e.getIdToken();return yield qi(e,function Joe(n,e){return cE.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,u,d;const h=null!==(r=t.displayName)&&void 0!==r?r:void 0,p=null!==(i=t.email)&&void 0!==i?i:void 0,m=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,C=null!==(s=t.photoURL)&&void 0!==s?s:void 0,E=null!==(a=t.tenantId)&&void 0!==a?a:void 0,P=null!==(c=t._redirectEventId)&&void 0!==c?c:void 0,R=null!==(u=t.createdAt)&&void 0!==u?u:void 0,D=null!==(d=t.lastLoginAt)&&void 0!==d?d:void 0,{uid:U,emailVerified:Q,isAnonymous:ie,providerData:he,stsTokenManager:S}=t;J(U&&S,e,"internal-error");const T=kc.fromJSON(this.name,S);J("string"==typeof U,e,"internal-error"),Oo(h,e.name),Oo(p,e.name),J("boolean"==typeof Q,e,"internal-error"),J("boolean"==typeof ie,e,"internal-error"),Oo(m,e.name),Oo(C,e.name),Oo(E,e.name),Oo(P,e.name),Oo(R,e.name),Oo(D,e.name);const M=new Wi({uid:U,auth:e,email:p,emailVerified:Q,displayName:h,isAnonymous:ie,photoURL:C,phoneNumber:m,tenantId:E,stsTokenManager:T,createdAt:R,lastLoginAt:D});return he&&Array.isArray(he)&&(M.providerData=he.map(x=>Object.assign({},x))),P&&(M._redirectEventId=P),M}static _fromIdTokenResponse(e,t){return w(function*(r,i,o=!1){const s=new kc;s.updateFromServerResponse(i);const a=new Wi({uid:i.localId,auth:r,stsTokenManager:s,isAnonymous:o});return yield gd(a),a}).apply(this,arguments)}static _fromGetAccountInfoResponse(e,t,r){return w(function*(){const i=t.users[0];J(void 0!==i.localId,"internal-error");const o=void 0!==i.providerUserInfo?JF(i.providerUserInfo):[],s=!(i.email&&i.passwordHash||o?.length),a=new kc;a.updateFromIdToken(r);const c=new Wi({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new pE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash||o?.length)};return Object.assign(c,u),c})()}}const XF=new Map;function Ki(n){xo(n instanceof Function,"Expected a class definition");let e=XF.get(n);return e?(xo(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,XF.set(n,e),e)}const ZF=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(function*(){return!0})()}_set(t,r){var i=this;return w(function*(){i.storage[t]=r})()}_get(t){var r=this;return w(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return w(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Eg(n,e,t){return`firebase:${n}:${e}:${t}`}class Nc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Eg(this.userKey,i.apiKey,o),this.fullPersistenceKey=Eg("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return w(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Wi._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return w(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t){return w(function*(r,i,o="authUser"){if(!i.length)return new Nc(Ki(ZF),r,o);const s=(yield Promise.all(i.map(function(){var h=w(function*(p){if(yield p._isAvailable())return p});return function(p){return h.apply(this,arguments)}}()))).filter(h=>h);let a=s[0]||Ki(ZF);const c=Eg(o,r.config.apiKey,r.name);let u=null;for(const h of i)try{const p=yield h._get(c);if(p){const m=Wi._fromJSON(r,p);h!==a&&(u=m),a=h;break}}catch{}const d=s.filter(h=>h._shouldAllowMigration);return a._shouldAllowMigration&&d.length?(a=d[0],u&&(yield a._set(c,u.toJSON())),yield Promise.all(i.map(function(){var h=w(function*(p){if(p!==a)try{yield p._remove(c)}catch{}});return function(p){return h.apply(this,arguments)}}())),new Nc(a,r,o)):new Nc(a,r,o)}).apply(this,arguments)}}function eL(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sL(e))return"Blackberry";if(aL(e))return"Webos";if(nL(e))return"Safari";if((e.includes("chrome/")||rL(e))&&!e.includes("edge/"))return"Chrome";if(oL(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function tL(n=St()){return/firefox\//i.test(n)}function nL(n=St()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rL(n=St()){return/crios\//i.test(n)}function iL(n=St()){return/iemobile/i.test(n)}function oL(n=St()){return/android/i.test(n)}function sL(n=St()){return/blackberry/i.test(n)}function aL(n=St()){return/webos/i.test(n)}function vE(n=St()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function cL(n=St()){return vE(n)||oL(n)||aL(n)||sL(n)||/windows phone/i.test(n)||iL(n)}function uL(n,e=[]){let t;switch(n){case"Browser":t=eL(St());break;case"Worker":t=`${eL(St())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ms}/${r}`}class cse{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return w(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function CE(){return(CE=w(function*(n,e={}){return ct(n,"GET","/v2/passwordPolicy",at(n,e))})).apply(this,arguments)}class dse{constructor(e){var t,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=null===(t=c.meetsMinPasswordLength)||void 0===t||t),c.isValid&&(c.isValid=null===(r=c.meetsMaxPasswordLength)||void 0===r||r),c.isValid&&(c.isValid=null===(i=c.containsLowercaseLetter)||void 0===i||i),c.isValid&&(c.isValid=null===(o=c.containsUppercaseLetter)||void 0===o||o),c.isValid&&(c.isValid=null===(s=c.containsNumericCharacter)||void 0===s||s),c.isValid&&(c.isValid=null===(a=c.containsNonAlphanumericCharacter)||void 0===a||a),c}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class hse{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lL(this),this.idTokenSubscription=new lL(this),this.beforeStateQueue=new cse(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Ki(t)),this._initializationPromise=this.queue(w(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Nc.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return w(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUserFromIdToken(e){var t=this;return w(function*(){try{const r=yield QF(t,{idToken:e}),i=yield Wi._fromGetAccountInfoResponse(t,r,e);yield t.directlySetCurrentUser(i)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),yield t.directlySetCurrentUser(null)}})()}initializeCurrentUser(e){var t=this;return w(function*(){var r;if(So(t.app)){const a=t.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>t.initializeCurrentUserFromIdToken(a).then(c,c))}):t.directlySetCurrentUser(null)}const i=yield t.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,c=o?._redirectEventId,u=yield t.tryRedirectSignIn(e);(!a||a===c)&&u?.user&&(o=u.user,s=!0)}if(!o)return t.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield t.beforeStateQueue.runMiddleware(o)}catch(a){o=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return o?t.reloadAndSetCurrentUserOrClear(o):t.directlySetCurrentUser(null)}return J(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===o._redirectEventId?t.directlySetCurrentUser(o):t.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var t=this;return w(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return w(function*(){try{yield gd(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Goe(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return w(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return w(function*(){if(So(t.app))return Promise.reject(qt(t));const r=e?nn(e):null;return r&&J(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e){var t=this;return w(function*(r,i=!1){if(!t._deleted)return r&&J(t.tenantId===r.tenantId,t,"tenant-id-mismatch"),i||(yield t.beforeStateQueue.runMiddleware(r)),t.queue(w(function*(){yield t.directlySetCurrentUser(r),t.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var e=this;return w(function*(){return So(e.app)?Promise.reject(qt(e)):(yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0))})()}setPersistence(e){var t=this;return So(this.app)?Promise.reject(qt(this)):this.queue(w(function*(){yield t.assertedPersistence.setPersistence(Ki(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return w(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return w(function*(){const t=yield function use(n){return CE.apply(this,arguments)}(e),r=new dse(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new si("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){var t=this;return w(function*(){if(t.currentUser){const r=yield t.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=t.tenantId&&(i.tenantId=t.tenantId),yield function ose(n,e){return yE.apply(this,arguments)}(t,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return w(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return w(function*(){if(!t.redirectPersistenceManager){const r=e&&Ki(e)||t._popupRedirectResolver;J(r,t,"argument-error"),t.redirectPersistenceManager=yield Nc.create(t,[Ki(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return w(function*(){var r,i;return t._isInitialized&&(yield t.queue(w(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return w(function*(){if(e===t.currentUser)return t.queue(w(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof t){const c=e.addObserver(t,r,i);return()=>{s=!0,c()}}{const c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){var t=this;return w(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return w(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return w(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function Hoe(n,...e){Cg.logLevel<=xe.WARN&&Cg.warn(`Auth (${Ms}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function xt(n){return nn(n)}class lL{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Uee(n,e){const t=new Bee(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let md={loadJS:()=>w(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dL(n){return`__${n}${Math.floor(1e6*Math.random())}`}function pL(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function gL(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class yd{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ui("not implemented")}_getIdTokenResponse(e){return ui("not implemented")}_linkToIdToken(e,t){return ui("not implemented")}_getReauthenticationResolver(e){return ui("not implemented")}}function Qi(n,e){return LE.apply(this,arguments)}function LE(){return(LE=w(function*(n,e){return function Gi(n,e,t,r){return oE.apply(this,arguments)}(n,"POST","/v1/accounts:signInWithIdp",at(n,e))})).apply(this,arguments)}class Yi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Hse extends Yi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ar{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r){return w(function*(i,o,s,a=!1){const c=yield Wi._fromIdTokenResponse(i,s,a),u=vL(s);return new Ar({user:c,providerId:u,_tokenResponse:s,operationType:o})}).apply(this,arguments)}static _forOperation(e,t,r){return w(function*(){yield e._updateTokensIfNecessary(r,!0);const i=vL(r);return new Ar({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function vL(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Mg extends Tr{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Mg.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Mg(e,t,r,i)}}function CL(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?Mg._fromErrorAndOperation(n,o,e,r):o})}function KE(){return(KE=w(function*(n,e,t=!1){const r=yield qi(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Ar._forOperation(n,"link",r)})).apply(this,arguments)}function YE(){return(YE=w(function*(n,e,t=!1){const{auth:r}=n;if(So(r.app))return Promise.reject(qt(r));const i="reauthenticate";try{const o=yield qi(n,CL(r,i,e,n),t);J(o.idToken,r,"internal-error");const s=Ig(o.idToken);J(s,r,"internal-error");const{sub:a}=s;return J(n.uid===a,r,"user-mismatch"),Ar._forOperation(n,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&Jn(r,"user-mismatch"),o}})).apply(this,arguments)}function JE(){return(JE=w(function*(n,e,t=!1){if(So(n.app))return Promise.reject(qt(n));const r="signIn",i=yield CL(n,r,e),o=yield Ar._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})).apply(this,arguments)}const Sg="__sak";class PL{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Sg,"1"),this.storage.removeItem(Sg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const dae=(()=>{class n extends PL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cL(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});const i=t.key;r?this.detachListener():this.stopPolling();const o=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);!function ase(){return function kee(){const n=St();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===t.newValue||t.newValue===t.oldValue?o():setTimeout(o,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,o=this;return w(function*(){yield i().call(o,t,r),o.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return w(function*(){const o=yield r().call(i,t);return i.localCache[t]=JSON.stringify(o),o})()}_remove(t){var r=()=>super._remove,i=this;return w(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),ML=(()=>{class n extends PL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let fae=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return w(function*(){const i=t,{eventId:o,eventType:s,data:a}=i.data,c=r.handlersMap[s];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const u=Array.from(c).map(function(){var h=w(function*(p){return p(i.origin,a)});return function(p){return h.apply(this,arguments)}}()),d=yield function hae(n){return Promise.all(n.map(function(){var e=w(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(u);i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:d})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function Aw(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class pae{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t){var r=this;return w(function*(i,o,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let c,u;return new Promise((d,h)=>{const p=Aw("",20);a.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(C){const E=C;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(m),c=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),d(E.data.response);break;default:clearTimeout(m),clearTimeout(c),h(new Error("invalid_response"))}}},r.handlers.add(u),a.port1.addEventListener("message",u.onMessage),r.target.postMessage({eventType:i,eventId:p,data:o},[a.port2])}).finally(()=>{u&&r.removeMessageHandler(u)})}).apply(this,arguments)}}function Ft(){return window}function Dw(){return typeof Ft().WorkerGlobalScope<"u"&&"function"==typeof Ft().importScripts}function Sw(){return(Sw=w(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const AL="firebaseLocalStorageDb",xg="firebaseLocalStorage",DL="fbase_key";class Ed{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Og(n,e){return n.transaction([xg],e?"readwrite":"readonly").objectStore(xg)}function xw(){const n=indexedDB.open(AL,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(xg,{keyPath:DL})}catch(i){t(i)}}),n.addEventListener("success",w(function*(){const r=n.result;r.objectStoreNames.contains(xg)?e(r):(r.close(),yield function Cae(){const n=indexedDB.deleteDatabase(AL);return new Ed(n).toPromise()}(),e(yield xw()))}))})}function SL(n,e,t){return Ow.apply(this,arguments)}function Ow(){return(Ow=w(function*(n,e,t){const r=Og(n,!0).put({[DL]:e,value:t});return new Ed(r).toPromise()})).apply(this,arguments)}function Rw(){return(Rw=w(function*(n,e){const t=Og(n,!1).get(e),r=yield new Ed(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function xL(n,e){const t=Og(n,!0).delete(e);return new Ed(t).toPromise()}const wae=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return w(function*(){return t.db||(t.db=yield xw()),t.db})()}_withRetries(t){var r=this;return w(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield t(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return w(function*(){return Dw()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return w(function*(){t.receiver=fae._getInstance(function yae(){return Dw()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=w(function*(i,o){return{keyProcessed:(yield t._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=w(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return w(function*(){var r,i;if(t.activeServiceWorker=yield function mae(){return Sw.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new pae(t.activeServiceWorker);const o=yield t.sender._send("ping",{},800);o&&null!==(r=o[0])&&void 0!==r&&r.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return w(function*(){if(r.sender&&r.activeServiceWorker&&function _ae(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return w(function*(){try{if(!indexedDB)return!1;const t=yield xw();return yield SL(t,Sg,"1"),yield xL(t,Sg),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return w(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return w(function*(){return i._withPendingWrite(w(function*(){return yield i._withRetries(o=>SL(o,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return w(function*(){const i=yield r._withRetries(o=>function bae(n,e){return Rw.apply(this,arguments)}(o,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return w(function*(){return r._withPendingWrite(w(function*(){return yield r._withRetries(i=>xL(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return w(function*(){const r=yield t._withRetries(s=>{const a=Og(s,!1).getAll();return new Ed(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],o=new Set;if(0!==r.length)for(const{fbase_key:s,value:a}of r)o.add(s),JSON.stringify(t.localCache[s])!==JSON.stringify(a)&&(t.notifyListeners(s,a),i.push(s));for(const s of Object.keys(t.localCache))t.localCache[s]&&!o.has(s)&&(t.notifyListeners(s,null),i.push(s));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(w(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();dL("rcb"),new hd(3e4,6e4);class $w extends yd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qi(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Qi(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Qi(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Uae(n){return function EL(n,e){return JE.apply(this,arguments)}(n.auth,new $w(n),n.bypassAuthState)}function Bae(n){const{auth:e,user:t}=n;return J(t,e,"internal-error"),function IL(n,e){return YE.apply(this,arguments)}(t,new $w(n),n.bypassAuthState)}function jae(n){return Hw.apply(this,arguments)}function Hw(){return(Hw=w(function*(n){const{auth:e,user:t}=n;return J(t,e,"internal-error"),function WE(n,e){return KE.apply(this,arguments)}(t,new $w(n),n.bypassAuthState)})).apply(this,arguments)}class $ae{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=w(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return w(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:s,error:a,type:c}=e;if(a)return void t.reject(a);const u={auth:t.auth,requestUri:r,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(c)(u))}catch(d){t.reject(d)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Uae;case"linkViaPopup":case"linkViaRedirect":return jae;case"reauthViaPopup":case"reauthViaRedirect":return Bae;default:Jn(this.auth,"internal-error")}}resolve(e){xo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new hd(2e3,1e4);const Hae="pendingRedirect",wd=new Map;class zae extends $ae{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return w(function*(){let r=wd.get(t.auth._key());if(!r){try{const o=(yield function Gae(n,e){return Kw.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}wd.set(t.auth._key(),r)}return t.bypassAuthState||wd.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return w(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return w(function*(){})()}cleanUp(){}}function Kw(){return(Kw=w(function*(n,e){const t=function kL(n){return Eg(Hae,n.config.apiKey,n.name)}(e),r=function RL(n){return Ki(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function qae(n,e){wd.set(n._key(),e)}function NL(n,e){return tT.apply(this,arguments)}function tT(){return(tT=w(function*(n,e,t=!1){if(So(n.app))return Promise.reject(qt(n));const r=xt(n),i=function Ns(n,e){return e?Ki(e):(J(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(r,e),s=yield new zae(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})).apply(this,arguments)}class Jae{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Xae(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LL(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!LL(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Mr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(FL(e))}saveEventToCache(e){this.cachedEventUids.add(FL(e)),this.lastProcessedEventTime=Date.now()}}function FL(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function LL({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function rT(){return(rT=w(function*(n,e={}){return ct(n,"GET","/v1/projects",e)})).apply(this,arguments)}const ece=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tce=/^https?/;function iT(){return iT=w(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function Zae(n){return rT.apply(this,arguments)}(n);for(const t of e)try{if(rce(t))return}catch{}Jn(n,"unauthorized-domain")}),iT.apply(this,arguments)}function rce(n){const e=dd(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const s=new URL(n);return""===s.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&s.hostname===r}if(!tce.test(t))return!1;if(ece.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ice=new hd(3e4,6e4);function UL(){const n=Ft().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}function oce(n){return new Promise((e,t)=>{var r,i,o;function s(){UL(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{UL(),t(Mr(n,"network-request-failed"))},timeout:ice.get()})}if(null!==(i=null===(r=Ft().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(o=Ft().gapi)||void 0===o||!o.load){const a=dL("iframefcb");return Ft()[a]=()=>{gapi.load?s():t(Mr(n,"network-request-failed"))},function bE(n){return md.loadJS(n)}(`${function mse(){return md.gapiScript}()}?onload=${a}`).catch(c=>t(c))}s()}}).catch(e=>{throw kg=null,e})}let kg=null;const ace=new hd(5e3,15e3),cce="__/auth/iframe",uce="emulator/auth/iframe",lce={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dce=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hce(n){const e=n.config;J(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?nE(e,uce):`https://${n.config.authDomain}/${cce}`,r={apiKey:e.apiKey,appName:n.name,v:Ms},i=dce.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${rd(r).slice(1)}`}function oT(){return oT=w(function*(n){const e=yield function sce(n){return kg=kg||oce(n),kg}(n),t=Ft().gapi;return J(t,n,"internal-error"),e.open({where:document.body,url:hce(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lce,dontclear:!0},r=>new Promise(function(){var i=w(function*(o,s){yield r.restyle({setHideOnLeave:!1});const a=Mr(n,"network-request-failed"),c=Ft().setTimeout(()=>{s(a)},ace.get());function u(){Ft().clearTimeout(c),o(r)}r.ping(u).then(u,()=>{s(a)})});return function(o,s){return i.apply(this,arguments)}}()))}),oT.apply(this,arguments)}const pce={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class BL{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const bce="__/auth/handler",Ice="emulator/auth/handler",Ece=encodeURIComponent("fac");function jL(n,e,t,r,i,o){return sT.apply(this,arguments)}function sT(){return(sT=w(function*(n,e,t,r,i,o){J(n.config.authDomain,n,"auth-domain-config-required"),J(n.config.apiKey,n,"invalid-api-key");const s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ms,eventId:i};if(e instanceof Yi){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",function Lee(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(o||{}))s[d]=h}if(e instanceof Hse){const d=e.getScopes().filter(h=>""!==h);d.length>0&&(s.scopes=d.join(","))}n.tenantId&&(s.tid=n.tenantId);const a=s;for(const d of Object.keys(a))void 0===a[d]&&delete a[d];const c=yield n._getAppCheckToken(),u=c?`#${Ece}=${encodeURIComponent(c)}`:"";return`${function wce({config:n}){return n.emulator?nE(n,Ice):`https://${n.authDomain}/${bce}`}(n)}?${rd(a).slice(1)}${u}`})).apply(this,arguments)}const aT="webStorageSupport",Pce=class Tce{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ML,this._completeRedirectFn=NL,this._overrideRedirectResult=qae}_openPopup(e,t,r,i){var o=this;return w(function*(){var s;xo(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield jL(e,t,r,dd(),i);return function vce(n,e,t,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},pce),{width:r.toString(),height:i.toString(),top:o,left:s}),u=St().toLowerCase();t&&(a=rL(u)?"_blank":t),tL(u)&&(e=e||"http://localhost",c.scrollbars="yes");const d=Object.entries(c).reduce((p,[m,C])=>`${p}${m}=${C},`,"");if(function sse(n=St()){var e;return vE(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==a)return function Cce(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new BL(null);const h=window.open(e||"",a,d);J(h,n,"popup-blocked");try{h.focus()}catch{}return new BL(h)}(e,a,Aw())})()}_openRedirect(e,t,r,i){var o=this;return w(function*(){return yield o._originValidation(e),function gae(n){Ft().location.href=n}(yield jL(e,t,r,dd(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(xo(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return w(function*(){const r=yield function fce(n){return oT.apply(this,arguments)}(e),i=new Jae(e);return r.register("authEvent",o=>(J(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(aT,{type:aT},i=>{var o;const s=null===(o=i?.[0])||void 0===o?void 0:o[aT];void 0!==s&&t(!!s),Jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function nce(n){return iT.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return cL()||nL()||vE()}};var GL="@firebase/auth";class Mce{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return w(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const xce=iV("authIdTokenMaxAge")||300;let WL=null;const Oce=n=>function(){var e=w(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>xce)return;const o=r?.token;WL!==o&&(WL=o,yield fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function Rce(n=Nb()){const e=Mc(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function Cse(n,e){const t=Mc(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(Tc(t.getOptions(),e??{}))return i;Jn(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:Pce,persistence:[wae,dae,ML]}),r=iV("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=Oce(o.toString());(function iae(n,e,t){nn(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),function rae(n,e,t,r){nn(n).onIdTokenChanged(e,t,r)}(t,a=>s(a))}}const i=nV("auth");return i&&function Ise(n,e,t){const r=xt(n);J(r._canInitEmulator,r,"emulator-config-failed"),J(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,o=pL(e),{host:s,port:a}=function Ese(n){const e=pL(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:gL(r.substr(o.length+1))}}{const[o,s]=r.split(":");return{host:o,port:gL(s)}}}(e);r.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function wse(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}(function fse(n){md=n})({loadJS:n=>new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=Mr("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",function kce(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Dce(n){Nn(new pn("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;J(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uL(n)},u=new hse(r,i,o,c);return function bse(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ki);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Nn(new pn("auth-internal",e=>{const t=xt(e.getProvider("auth").getImmediate());return new Mce(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),vt(GL,"1.7.9",function Ace(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(n)),vt(GL,"1.7.9","esm2017")}("Browser");class uT{constructor(e){return e}}class QL{constructor(){return P0("auth")}}const lT=new oe("angularfire2.auth-instances");function Vce(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new uT(r)}}const Fce={provide:QL,deps:[[new Sn,lT]]},Lce={provide:uT,useFactory:function Nce(n,e){const t=T0("auth",n,e);return t&&new uT(t)},deps:[[new Sn,lT],xc]};let Uce=(()=>{class n{constructor(){vt("angularfire",hg.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Rr({type:n}),n.\u0275inj=mr({providers:[Lce,Fce]}),n})();const jce=A0(Rce,!0);var Vs,YL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},JL={};(function(){var n;function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function i(S,T,M){M||(M=0);var x=Array(16);if("string"==typeof T)for(var k=0;16>k;++k)x[k]=T.charCodeAt(M++)|T.charCodeAt(M++)<<8|T.charCodeAt(M++)<<16|T.charCodeAt(M++)<<24;else for(k=0;16>k;++k)x[k]=T[M++]|T[M++]<<8|T[M++]<<16|T[M++]<<24;var F=S.g[3],A=(T=S.g[0])+(F^(M=S.g[1])&((k=S.g[2])^F))+x[0]+3614090360&4294967295;A=(M=(k=(F=(T=(M=(k=(F=(T=(M=(k=(F=(T=(M=(k=(F=(T=(M=(k=(F=(T=(M=(k=(F=(T=(M=(k=(F=(T=(M=(k=(F=(T=(M=(k=(F=(T=(M=(k=(F=(T=(M=(k=(F=(T=(M=(k=(F=(T=(M=(k=(F=(T=(M=(k=(F=(T=(M=(k=(F=(T=M+(A<<7&4294967295|A>>>25))+((A=F+(k^T&(M^k))+x[1]+3905402710&4294967295)<<12&4294967295|A>>>20))+((A=k+(M^F&(T^M))+x[2]+606105819&4294967295)<<17&4294967295|A>>>15))+((A=M+(T^k&(F^T))+x[3]+3250441966&4294967295)<<22&4294967295|A>>>10))+((A=T+(F^M&(k^F))+x[4]+4118548399&4294967295)<<7&4294967295|A>>>25))+((A=F+(k^T&(M^k))+x[5]+1200080426&4294967295)<<12&4294967295|A>>>20))+((A=k+(M^F&(T^M))+x[6]+2821735955&4294967295)<<17&4294967295|A>>>15))+((A=M+(T^k&(F^T))+x[7]+4249261313&4294967295)<<22&4294967295|A>>>10))+((A=T+(F^M&(k^F))+x[8]+1770035416&4294967295)<<7&4294967295|A>>>25))+((A=F+(k^T&(M^k))+x[9]+2336552879&4294967295)<<12&4294967295|A>>>20))+((A=k+(M^F&(T^M))+x[10]+4294925233&4294967295)<<17&4294967295|A>>>15))+((A=M+(T^k&(F^T))+x[11]+2304563134&4294967295)<<22&4294967295|A>>>10))+((A=T+(F^M&(k^F))+x[12]+1804603682&4294967295)<<7&4294967295|A>>>25))+((A=F+(k^T&(M^k))+x[13]+4254626195&4294967295)<<12&4294967295|A>>>20))+((A=k+(M^F&(T^M))+x[14]+2792965006&4294967295)<<17&4294967295|A>>>15))+((A=M+(T^k&(F^T))+x[15]+1236535329&4294967295)<<22&4294967295|A>>>10))+((A=T+(k^F&(M^k))+x[1]+4129170786&4294967295)<<5&4294967295|A>>>27))+((A=F+(M^k&(T^M))+x[6]+3225465664&4294967295)<<9&4294967295|A>>>23))+((A=k+(T^M&(F^T))+x[11]+643717713&4294967295)<<14&4294967295|A>>>18))+((A=M+(F^T&(k^F))+x[0]+3921069994&4294967295)<<20&4294967295|A>>>12))+((A=T+(k^F&(M^k))+x[5]+3593408605&4294967295)<<5&4294967295|A>>>27))+((A=F+(M^k&(T^M))+x[10]+38016083&4294967295)<<9&4294967295|A>>>23))+((A=k+(T^M&(F^T))+x[15]+3634488961&4294967295)<<14&4294967295|A>>>18))+((A=M+(F^T&(k^F))+x[4]+3889429448&4294967295)<<20&4294967295|A>>>12))+((A=T+(k^F&(M^k))+x[9]+568446438&4294967295)<<5&4294967295|A>>>27))+((A=F+(M^k&(T^M))+x[14]+3275163606&4294967295)<<9&4294967295|A>>>23))+((A=k+(T^M&(F^T))+x[3]+4107603335&4294967295)<<14&4294967295|A>>>18))+((A=M+(F^T&(k^F))+x[8]+1163531501&4294967295)<<20&4294967295|A>>>12))+((A=T+(k^F&(M^k))+x[13]+2850285829&4294967295)<<5&4294967295|A>>>27))+((A=F+(M^k&(T^M))+x[2]+4243563512&4294967295)<<9&4294967295|A>>>23))+((A=k+(T^M&(F^T))+x[7]+1735328473&4294967295)<<14&4294967295|A>>>18))+((A=M+(F^T&(k^F))+x[12]+2368359562&4294967295)<<20&4294967295|A>>>12))+((A=T+(M^k^F)+x[5]+4294588738&4294967295)<<4&4294967295|A>>>28))+((A=F+(T^M^k)+x[8]+2272392833&4294967295)<<11&4294967295|A>>>21))+((A=k+(F^T^M)+x[11]+1839030562&4294967295)<<16&4294967295|A>>>16))+((A=M+(k^F^T)+x[14]+4259657740&4294967295)<<23&4294967295|A>>>9))+((A=T+(M^k^F)+x[1]+2763975236&4294967295)<<4&4294967295|A>>>28))+((A=F+(T^M^k)+x[4]+1272893353&4294967295)<<11&4294967295|A>>>21))+((A=k+(F^T^M)+x[7]+4139469664&4294967295)<<16&4294967295|A>>>16))+((A=M+(k^F^T)+x[10]+3200236656&4294967295)<<23&4294967295|A>>>9))+((A=T+(M^k^F)+x[13]+681279174&4294967295)<<4&4294967295|A>>>28))+((A=F+(T^M^k)+x[0]+3936430074&4294967295)<<11&4294967295|A>>>21))+((A=k+(F^T^M)+x[3]+3572445317&4294967295)<<16&4294967295|A>>>16))+((A=M+(k^F^T)+x[6]+76029189&4294967295)<<23&4294967295|A>>>9))+((A=T+(M^k^F)+x[9]+3654602809&4294967295)<<4&4294967295|A>>>28))+((A=F+(T^M^k)+x[12]+3873151461&4294967295)<<11&4294967295|A>>>21))+((A=k+(F^T^M)+x[15]+530742520&4294967295)<<16&4294967295|A>>>16))+((A=M+(k^F^T)+x[2]+3299628645&4294967295)<<23&4294967295|A>>>9))+((A=T+(k^(M|~F))+x[0]+4096336452&4294967295)<<6&4294967295|A>>>26))+((A=F+(M^(T|~k))+x[7]+1126891415&4294967295)<<10&4294967295|A>>>22))+((A=k+(T^(F|~M))+x[14]+2878612391&4294967295)<<15&4294967295|A>>>17))+((A=M+(F^(k|~T))+x[5]+4237533241&4294967295)<<21&4294967295|A>>>11))+((A=T+(k^(M|~F))+x[12]+1700485571&4294967295)<<6&4294967295|A>>>26))+((A=F+(M^(T|~k))+x[3]+2399980690&4294967295)<<10&4294967295|A>>>22))+((A=k+(T^(F|~M))+x[10]+4293915773&4294967295)<<15&4294967295|A>>>17))+((A=M+(F^(k|~T))+x[1]+2240044497&4294967295)<<21&4294967295|A>>>11))+((A=T+(k^(M|~F))+x[8]+1873313359&4294967295)<<6&4294967295|A>>>26))+((A=F+(M^(T|~k))+x[15]+4264355552&4294967295)<<10&4294967295|A>>>22))+((A=k+(T^(F|~M))+x[6]+2734768916&4294967295)<<15&4294967295|A>>>17))+((A=M+(F^(k|~T))+x[13]+1309151649&4294967295)<<21&4294967295|A>>>11))+((F=(T=M+((A=T+(k^(M|~F))+x[4]+4149444226&4294967295)<<6&4294967295|A>>>26))+((A=F+(M^(T|~k))+x[11]+3174756917&4294967295)<<10&4294967295|A>>>22))^((k=F+((A=k+(T^(F|~M))+x[2]+718787259&4294967295)<<15&4294967295|A>>>17))|~T))+x[9]+3951481745&4294967295,S.g[0]=S.g[0]+T&4294967295,S.g[1]=S.g[1]+(k+(A<<21&4294967295|A>>>11))&4294967295,S.g[2]=S.g[2]+k&4294967295,S.g[3]=S.g[3]+F&4294967295}function s(S,T){this.h=T;for(var M=[],x=!0,k=S.length-1;0<=k;k--){var F=0|S[k];x&&F==T||(M[k]=F,x=!1)}this.g=M}(function e(S,T){function M(){}M.prototype=T.prototype,S.D=T.prototype,S.prototype=new M,S.prototype.constructor=S,S.C=function(x,k,F){for(var A=Array(arguments.length-2),so=2;so<arguments.length;so++)A[so-2]=arguments[so];return T.prototype[k].apply(x,A)}})(r,function t(){this.blockSize=-1}),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},r.prototype.u=function(S,T){void 0===T&&(T=S.length);for(var M=T-this.blockSize,x=this.B,k=this.h,F=0;F<T;){if(0==k)for(;F<=M;)i(this,S,F),F+=this.blockSize;if("string"==typeof S){for(;F<T;)if(x[k++]=S.charCodeAt(F++),k==this.blockSize){i(this,x),k=0;break}}else for(;F<T;)if(x[k++]=S[F++],k==this.blockSize){i(this,x),k=0;break}}this.h=k,this.o+=T},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var T=1;T<S.length-8;++T)S[T]=0;var M=8*this.o;for(T=S.length-8;T<S.length;++T)S[T]=255&M,M/=256;for(this.u(S),S=Array(16),T=M=0;4>T;++T)for(var x=0;32>x;x+=8)S[M++]=this.g[T]>>>x&255;return S};var a={};function c(S){return-128<=S&&128>S?function o(S,T){var M=a;return Object.prototype.hasOwnProperty.call(M,S)?M[S]:M[S]=T(S)}(S,function(T){return new s([0|T],0>T?-1:0)}):new s([0|S],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return h;if(0>S)return P(u(-S));for(var T=[],M=1,x=0;S>=M;x++)T[x]=S/M|0,M*=4294967296;return new s(T,0)}var h=c(0),p=c(1),m=c(16777216);function C(S){if(0!=S.h)return!1;for(var T=0;T<S.g.length;T++)if(0!=S.g[T])return!1;return!0}function E(S){return-1==S.h}function P(S){for(var T=S.g.length,M=[],x=0;x<T;x++)M[x]=~S.g[x];return new s(M,~S.h).add(p)}function R(S,T){return S.add(P(T))}function D(S,T){for(;(65535&S[T])!=S[T];)S[T+1]+=S[T]>>>16,S[T]&=65535,T++}function U(S,T){this.g=S,this.h=T}function Q(S,T){if(C(T))throw Error("division by zero");if(C(S))return new U(h,h);if(E(S))return T=Q(P(S),T),new U(P(T.g),P(T.h));if(E(T))return T=Q(S,P(T)),new U(P(T.g),T.h);if(30<S.g.length){if(E(S)||E(T))throw Error("slowDivide_ only works with positive integers.");for(var M=p,x=T;0>=x.l(S);)M=ie(M),x=ie(x);var k=he(M,1),F=he(x,1);for(x=he(x,2),M=he(M,2);!C(x);){var A=F.add(x);0>=A.l(S)&&(k=k.add(M),F=A),x=he(x,1),M=he(M,1)}return T=R(S,k.j(T)),new U(k,T)}for(k=h;0<=S.l(T);){for(M=Math.max(1,Math.floor(S.m()/T.m())),x=48>=(x=Math.ceil(Math.log(M)/Math.LN2))?1:Math.pow(2,x-48),A=(F=u(M)).j(T);E(A)||0<A.l(S);)A=(F=u(M-=x)).j(T);C(F)&&(F=p),k=k.add(F),S=R(S,A)}return new U(k,S)}function ie(S){for(var T=S.g.length+1,M=[],x=0;x<T;x++)M[x]=S.i(x)<<1|S.i(x-1)>>>31;return new s(M,S.h)}function he(S,T){var M=T>>5;T%=32;for(var x=S.g.length-M,k=[],F=0;F<x;F++)k[F]=0<T?S.i(F+M)>>>T|S.i(F+M+1)<<32-T:S.i(F+M);return new s(k,S.h)}(n=s.prototype).m=function(){if(E(this))return-P(this).m();for(var S=0,T=1,M=0;M<this.g.length;M++){var x=this.i(M);S+=(0<=x?x:4294967296+x)*T,T*=4294967296}return S},n.toString=function(S){if(2>(S=S||10)||36<S)throw Error("radix out of range: "+S);if(C(this))return"0";if(E(this))return"-"+P(this).toString(S);for(var T=u(Math.pow(S,6)),M=this,x="";;){var k=Q(M,T).g,F=((0<(M=R(M,k.j(T))).g.length?M.g[0]:M.h)>>>0).toString(S);if(C(M=k))return F+x;for(;6>F.length;)F="0"+F;x=F+x}},n.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h},n.l=function(S){return E(S=R(this,S))?-1:C(S)?0:1},n.abs=function(){return E(this)?P(this):this},n.add=function(S){for(var T=Math.max(this.g.length,S.g.length),M=[],x=0,k=0;k<=T;k++){var F=x+(65535&this.i(k))+(65535&S.i(k)),A=(F>>>16)+(this.i(k)>>>16)+(S.i(k)>>>16);x=A>>>16,M[k]=(A&=65535)<<16|(F&=65535)}return new s(M,-2147483648&M[M.length-1]?-1:0)},n.j=function(S){if(C(this)||C(S))return h;if(E(this))return E(S)?P(this).j(P(S)):P(P(this).j(S));if(E(S))return P(this.j(P(S)));if(0>this.l(m)&&0>S.l(m))return u(this.m()*S.m());for(var T=this.g.length+S.g.length,M=[],x=0;x<2*T;x++)M[x]=0;for(x=0;x<this.g.length;x++)for(var k=0;k<S.g.length;k++){var F=this.i(x)>>>16,A=65535&this.i(x),so=S.i(k)>>>16,ph=65535&S.i(k);M[2*x+2*k]+=A*ph,D(M,2*x+2*k),M[2*x+2*k+1]+=F*ph,D(M,2*x+2*k+1),M[2*x+2*k+1]+=A*so,D(M,2*x+2*k+1),M[2*x+2*k+2]+=F*so,D(M,2*x+2*k+2)}for(x=0;x<T;x++)M[x]=M[2*x+1]<<16|M[2*x];for(x=T;x<2*T;x++)M[x]=0;return new s(M,0)},n.A=function(S){return Q(this,S).h},n.and=function(S){for(var T=Math.max(this.g.length,S.g.length),M=[],x=0;x<T;x++)M[x]=this.i(x)&S.i(x);return new s(M,this.h&S.h)},n.or=function(S){for(var T=Math.max(this.g.length,S.g.length),M=[],x=0;x<T;x++)M[x]=this.i(x)|S.i(x);return new s(M,this.h|S.h)},n.xor=function(S){for(var T=Math.max(this.g.length,S.g.length),M=[],x=0;x<T;x++)M[x]=this.i(x)^S.i(x);return new s(M,this.h^S.h)},r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,JL.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=function d(S,T){if(0==S.length)throw Error("number format error: empty string");if(2>(T=T||10)||36<T)throw Error("radix out of range: "+T);if("-"==S.charAt(0))return P(d(S.substring(1),T));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=u(Math.pow(T,8)),x=h,k=0;k<S.length;k+=8){var F=Math.min(8,S.length-k),A=parseInt(S.substring(k,k+F),T);8>F?(F=u(Math.pow(T,F)),x=x.j(F).add(u(A))):x=(x=x.j(M)).add(u(A))}return x},Vs=JL.Integer=s}).apply(typeof YL<"u"?YL:typeof self<"u"?self:typeof window<"u"?window:{});var Vg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ji={};(function(){var n,e="function"==typeof Object.defineProperties?Object.defineProperty:function(l,f,g){return l==Array.prototype||l==Object.prototype||(l[f]=g.value),l},r=function t(l){l=["object"==typeof globalThis&&globalThis,l,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Vg&&Vg];for(var f=0;f<l.length;++f){var g=l[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}(this);!function i(l,f){if(f)e:{var g=r;l=l.split(".");for(var v=0;v<l.length-1;v++){var N=l[v];if(!(N in g))break e;g=g[N]}(f=f(v=g[l=l[l.length-1]]))!=v&&null!=f&&e(g,l,{configurable:!0,writable:!0,value:f})}}("Array.prototype.values",function(l){return l||function(){return function o(l,f){l instanceof String&&(l+="");var g=0,v=!1,N={next:function(){if(!v&&g<l.length){var B=g++;return{value:f(B,l[B]),done:!1}}return v=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}(this,function(f,g){return g})}});var s=s||{},a=this||self;function c(l){var f=typeof l;return"array"==(f="object"!=f?f:l?Array.isArray(l)?"array":f:"null")||"object"==f&&"number"==typeof l.length}function u(l){var f=typeof l;return"object"==f&&null!=l||"function"==f}function d(l,f,g){return l.call.apply(l.bind,arguments)}function h(l,f,g){if(!l)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,v),l.apply(f,N)}}return function(){return l.apply(f,arguments)}}function p(l,f,g){return(p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?d:h).apply(null,arguments)}function m(l,f){var g=Array.prototype.slice.call(arguments,1);return function(){var v=g.slice();return v.push.apply(v,arguments),l.apply(this,v)}}function C(l,f){function g(){}g.prototype=f.prototype,l.aa=f.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(v,N,B){for(var te=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)te[Ze-2]=arguments[Ze];return f.prototype[N].apply(v,te)}}function E(l){const f=l.length;if(0<f){const g=Array(f);for(let v=0;v<f;v++)g[v]=l[v];return g}return[]}function P(l,f){for(let g=1;g<arguments.length;g++){const v=arguments[g];if(c(v)){const N=l.length||0,B=v.length||0;l.length=N+B;for(let te=0;te<B;te++)l[N+te]=v[te]}else l.push(v)}}function D(l){return/^[\s\xa0]*$/.test(l)}function U(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function Q(l){return Q[" "](l),l}Q[" "]=function(){};var ie=!(-1==U().indexOf("Gecko")||-1!=U().toLowerCase().indexOf("webkit")&&-1==U().indexOf("Edge")||-1!=U().indexOf("Trident")||-1!=U().indexOf("MSIE")||-1!=U().indexOf("Edge"));function he(l,f,g){for(const v in l)f.call(g,l[v],v,l)}function T(l){const f={};for(const g in l)f[g]=l[g];return f}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(l,f){let g,v;for(let N=1;N<arguments.length;N++){for(g in v=arguments[N],v)l[g]=v[g];for(let B=0;B<M.length;B++)g=M[B],Object.prototype.hasOwnProperty.call(v,g)&&(l[g]=v[g])}}function k(l){var f=1;l=l.split(":");const g=[];for(;0<f&&l.length;)g.push(l.shift()),f--;return l.length&&g.push(l.join(":")),g}function F(l){a.setTimeout(()=>{throw l},0)}function A(){var l=X1;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}var ph=new class R{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}(()=>new Cge,l=>l.reset());class Cge{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let gh,mh=!1,X1=new class so{constructor(){this.h=this.g=null}add(f,g){const v=ph.get();v.set(f,g),this.h?this.h.next=v:this.g=v,this.h=v}},$B=()=>{const l=a.Promise.resolve(void 0);gh=()=>{l.then(bge)}};var bge=()=>{for(var l;l=A();){try{l.h.call(l.g)}catch(g){F(g)}var f=ph;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}mh=!1};function Zo(){this.s=this.s,this.C=this.C}function Cn(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}Zo.prototype.s=!1,Zo.prototype.ma=function(){this.s||(this.s=!0,this.N())},Zo.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Cn.prototype.h=function(){this.defaultPrevented=!0};var Ige=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return l}();function _h(l,f){if(Cn.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,v=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(ie){e:{try{Q(f.nodeName);var N=!0;break e}catch{}N=!1}N||(f=null)}}else"mouseover"==g?f=l.fromElement:"mouseout"==g&&(f=l.toElement);this.relatedTarget=f,v?(this.clientX=void 0!==v.clientX?v.clientX:v.pageX,this.clientY=void 0!==v.clientY?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType="string"==typeof l.pointerType?l.pointerType:Ege[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&_h.aa.h.call(this)}}C(_h,Cn);var Ege={2:"touch",3:"pen",4:"mouse"};_h.prototype.h=function(){_h.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var yh="closure_listenable_"+(1e6*Math.random()|0),wge=0;function Tge(l,f,g,v,N){this.listener=l,this.proxy=null,this.src=f,this.type=g,this.capture=!!v,this.ha=N,this.key=++wge,this.da=this.fa=!1}function Ym(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Jm(l){this.src=l,this.g={},this.h=0}function Z1(l,f){var g=f.type;if(g in l.g){var B,v=l.g[g],N=Array.prototype.indexOf.call(v,f,void 0);(B=0<=N)&&Array.prototype.splice.call(v,N,1),B&&(Ym(f),0==l.g[g].length&&(delete l.g[g],l.h--))}}function eM(l,f,g,v){for(var N=0;N<l.length;++N){var B=l[N];if(!B.da&&B.listener==f&&B.capture==!!g&&B.ha==v)return N}return-1}Jm.prototype.add=function(l,f,g,v,N){var B=l.toString();(l=this.g[B])||(l=this.g[B]=[],this.h++);var te=eM(l,f,v,N);return-1<te?(f=l[te],g||(f.fa=!1)):((f=new Tge(f,this.src,B,!!v,N)).fa=g,l.push(f)),f};var tM="closure_lm_"+(1e6*Math.random()|0),nM={};function HB(l,f,g,v,N){if(v&&v.once)return GB(l,f,g,v,N);if(Array.isArray(f)){for(var B=0;B<f.length;B++)HB(l,f[B],g,v,N);return null}return g=sM(g),l&&l[yh]?l.K(f,g,u(v)?!!v.capture:!!v,N):zB(l,f,g,!1,v,N)}function zB(l,f,g,v,N,B){if(!f)throw Error("Invalid event type");var te=u(N)?!!N.capture:!!N,Ze=iM(l);if(Ze||(l[tM]=Ze=new Jm(l)),(g=Ze.add(f,g,v,te,B)).proxy)return g;if(v=function Pge(){const f=Mge;return function l(g){return f.call(l.src,l.listener,g)}}(),g.proxy=v,v.src=l,v.listener=g,l.addEventListener)Ige||(N=te),void 0===N&&(N=!1),l.addEventListener(f.toString(),v,N);else if(l.attachEvent)l.attachEvent(WB(f.toString()),v);else{if(!l.addListener||!l.removeListener)throw Error("addEventListener and attachEvent are unavailable.");l.addListener(v)}return g}function GB(l,f,g,v,N){if(Array.isArray(f)){for(var B=0;B<f.length;B++)GB(l,f[B],g,v,N);return null}return g=sM(g),l&&l[yh]?l.L(f,g,u(v)?!!v.capture:!!v,N):zB(l,f,g,!0,v,N)}function qB(l,f,g,v,N){if(Array.isArray(f))for(var B=0;B<f.length;B++)qB(l,f[B],g,v,N);else v=u(v)?!!v.capture:!!v,g=sM(g),l&&l[yh]?(l=l.i,(f=String(f).toString())in l.g&&-1<(g=eM(B=l.g[f],g,v,N))&&(Ym(B[g]),Array.prototype.splice.call(B,g,1),0==B.length&&(delete l.g[f],l.h--))):l&&(l=iM(l))&&(f=l.g[f.toString()],l=-1,f&&(l=eM(f,g,v,N)),(g=-1<l?f[l]:null)&&rM(g))}function rM(l){if("number"!=typeof l&&l&&!l.da){var f=l.src;if(f&&f[yh])Z1(f.i,l);else{var g=l.type,v=l.proxy;f.removeEventListener?f.removeEventListener(g,v,l.capture):f.detachEvent?f.detachEvent(WB(g),v):f.addListener&&f.removeListener&&f.removeListener(v),(g=iM(f))?(Z1(g,l),0==g.h&&(g.src=null,f[tM]=null)):Ym(l)}}}function WB(l){return l in nM?nM[l]:nM[l]="on"+l}function Mge(l,f){if(l.da)l=!0;else{f=new _h(f,this);var g=l.listener,v=l.ha||l.src;l.fa&&rM(l),l=g.call(v,f)}return l}function iM(l){return(l=l[tM])instanceof Jm?l:null}var oM="__closure_events_fn_"+(1e9*Math.random()>>>0);function sM(l){return"function"==typeof l?l:(l[oM]||(l[oM]=function(f){return l.handleEvent(f)}),l[oM])}function bn(){Zo.call(this),this.i=new Jm(this),this.M=this,this.F=null}function Ln(l,f){var g,v=l.F;if(v)for(g=[];v;v=v.F)g.push(v);if(l=l.M,v=f.type||f,"string"==typeof f)f=new Cn(f,l);else if(f instanceof Cn)f.target=f.target||l;else{var N=f;x(f=new Cn(v,l),N)}if(N=!0,g)for(var B=g.length-1;0<=B;B--){var te=f.g=g[B];N=Xm(te,v,!0,f)&&N}if(N=Xm(te=f.g=l,v,!0,f)&&N,N=Xm(te,v,!1,f)&&N,g)for(B=0;B<g.length;B++)N=Xm(te=f.g=g[B],v,!1,f)&&N}function Xm(l,f,g,v){if(!(f=l.i.g[String(f)]))return!0;f=f.concat();for(var N=!0,B=0;B<f.length;++B){var te=f[B];if(te&&!te.da&&te.capture==g){var Ze=te.listener,un=te.ha||te.src;te.fa&&Z1(l.i,te),N=!1!==Ze.call(un,v)&&N}}return N&&!v.defaultPrevented}function KB(l,f,g){if("function"==typeof l)g&&(l=p(l,g));else{if(!l||"function"!=typeof l.handleEvent)throw Error("Invalid listener argument");l=p(l.handleEvent,l)}return 2147483647<Number(f)?-1:a.setTimeout(l,f||0)}function QB(l){l.g=KB(()=>{l.g=null,l.i&&(l.i=!1,QB(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}C(bn,Zo),bn.prototype[yh]=!0,bn.prototype.removeEventListener=function(l,f,g,v){qB(this,l,f,g,v)},bn.prototype.N=function(){if(bn.aa.N.call(this),this.i){var f,l=this.i;for(f in l.g){for(var g=l.g[f],v=0;v<g.length;v++)Ym(g[v]);delete l.g[f],l.h--}}this.F=null},bn.prototype.K=function(l,f,g,v){return this.i.add(String(l),f,!1,g,v)},bn.prototype.L=function(l,f,g,v){return this.i.add(String(l),f,!0,g,v)};class Age extends Zo{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:QB(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vh(l){Zo.call(this),this.h=l,this.g={}}C(vh,Zo);var YB=[];function JB(l){he(l.g,function(f,g){this.g.hasOwnProperty(g)&&rM(f)},l),l.g={}}vh.prototype.N=function(){vh.aa.N.call(this),JB(this)},vh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var aM=a.JSON.stringify,Dge=a.JSON.parse,Sge=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function cM(){}function ZB(){}cM.prototype.h=null;var Ch={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function uM(){Cn.call(this,"d")}function lM(){Cn.call(this,"c")}C(uM,Cn),C(lM,Cn);var aa={},ej=null;function Zm(){return ej=ej||new bn}function tj(l){Cn.call(this,aa.La,l)}function bh(l){const f=Zm();Ln(f,new tj(f))}function nj(l,f){Cn.call(this,aa.STAT_EVENT,l),this.stat=f}function Un(l){const f=Zm();Ln(f,new nj(f,l))}function rj(l,f){Cn.call(this,aa.Ma,l),this.size=f}function Ih(l,f){if("function"!=typeof l)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},f)}function Eh(){this.g=!0}function Tu(l,f,g,v){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+function kge(l,f){if(!l.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g)for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var v=g[l];if(!(2>v.length)){var N=v[1];if(Array.isArray(N)&&!(1>N.length)){var B=N[0];if("noop"!=B&&"stop"!=B&&"close"!=B)for(var te=1;te<N.length;te++)N[te]=""}}}return aM(g)}catch{return f}}(l,g)+(v?" "+v:"")})}aa.La="serverreachability",C(tj,Cn),aa.STAT_EVENT="statevent",C(nj,Cn),aa.Ma="timingevent",C(rj,Cn),Eh.prototype.xa=function(){this.g=!1},Eh.prototype.info=function(){};var dM,e_={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ij={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function t_(){}function es(l,f,g,v){this.j=l,this.i=f,this.l=g,this.R=v||1,this.U=new vh(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new oj}function oj(){this.i=null,this.g="",this.h=!1}C(t_,cM),t_.prototype.g=function(){return new XMLHttpRequest},t_.prototype.i=function(){return{}},dM=new t_;var sj={},hM={};function fM(l,f,g){l.L=1,l.v=o_(ao(f)),l.m=g,l.P=!0,aj(l,null)}function aj(l,f){l.F=Date.now(),n_(l),l.A=ao(l.v);var g=l.A,v=l.R;Array.isArray(v)||(v=[String(v)]),bj(g.i,"t",v),l.C=0,g=l.j.J,l.h=new oj,l.g=Uj(l.j,g?f:null,!l.m),0<l.O&&(l.M=new Age(p(l.Y,l,l.g),l.O)),f=l.U,g=l.g,v=l.ca;var N="readystatechange";Array.isArray(N)||(N&&(YB[0]=N.toString()),N=YB);for(var B=0;B<N.length;B++){var te=HB(g,N[B],v||f.handleEvent,!1,f.h||f);if(!te)break;f.g[te.key]=te}f=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),bh(),function xge(l,f,g,v,N,B){l.info(function(){if(l.g)if(B)for(var te="",Ze=B.split("&"),un=0;un<Ze.length;un++){var je=Ze[un].split("=");if(1<je.length){var In=je[0];je=je[1];var En=In.split("_");te=2<=En.length&&"type"==En[1]?te+(In+"=")+je+"&":te+(In+"=redacted&")}}else te=null;else te=B;return"XMLHTTP REQ ("+v+") [attempt "+N+"]: "+f+"\n"+g+"\n"+te})}(l.i,l.u,l.A,l.l,l.R,l.m)}function cj(l){return!!l.g&&"GET"==l.u&&2!=l.L&&l.j.Ca}function Nge(l,f){var g=l.C,v=f.indexOf("\n",g);return-1==v?hM:(g=Number(f.substring(g,v)),isNaN(g)?sj:(v+=1)+g>f.length?hM:(f=f.slice(v,v+g),l.C=v+g,f))}function n_(l){l.S=Date.now()+l.I,uj(l,l.I)}function uj(l,f){if(null!=l.B)throw Error("WatchDog timer not null");l.B=Ih(p(l.ba,l),f)}function pM(l){l.B&&(a.clearTimeout(l.B),l.B=null)}function wh(l){0==l.j.G||l.J||Nj(l.j,l)}function ca(l){pM(l);var f=l.M;f&&"function"==typeof f.ma&&f.ma(),l.M=null,JB(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function gM(l,f){try{var g=l.j;if(0!=g.G&&(g.g==l||mM(g.h,l)))if(!l.K&&mM(g.h,l)&&3==g.G){try{var v=g.Da.g.parse(f)}catch{v=null}if(Array.isArray(v)&&3==v.length){var N=v;if(0==N[0]){e:if(!g.u){if(g.g){if(!(g.g.F+3e3<l.F))break e;l_(g),c_(g)}CM(g),Un(18)}}else g.za=N[1],0<g.za-g.T&&37500>N[2]&&g.F&&0==g.v&&!g.C&&(g.C=Ih(p(g.Za,g),6e3));if(1>=hj(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else la(g,11)}else if((l.K||g.g==l)&&l_(g),!D(f))for(N=g.Da.g.parse(f),f=0;f<N.length;f++){let je=N[f];if(g.T=je[0],je=je[1],2==g.G)if("c"==je[0]){g.K=je[1],g.ia=je[2];const In=je[3];null!=In&&(g.la=In,g.j.info("VER="+g.la));const En=je[4];null!=En&&(g.Aa=En,g.j.info("SVER="+g.Aa));const Au=je[5];null!=Au&&"number"==typeof Au&&0<Au&&(g.L=v=1.5*Au,g.j.info("backChannelRequestTimeoutMs_="+v)),v=g;const zr=l.g;if(zr){const h_=zr.g?zr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(h_){var B=v.h;B.g||-1==h_.indexOf("spdy")&&-1==h_.indexOf("quic")&&-1==h_.indexOf("h2")||(B.j=B.l,B.g=new Set,B.h&&(_M(B,B.h),B.h=null))}if(v.D){const IM=zr.g?zr.g.getResponseHeader("X-HTTP-Session-Id"):null;IM&&(v.ya=IM,lt(v.I,v.D,IM))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms"));var te=l;if((v=g).qa=Lj(v,v.J?v.ia:null,v.W),te.K){fj(v.h,te);var Ze=te,un=v.L;un&&(Ze.I=un),Ze.B&&(pM(Ze),n_(Ze)),v.g=te}else Rj(v);0<g.i.length&&u_(g)}else"stop"!=je[0]&&"close"!=je[0]||la(g,7);else 3==g.G&&("stop"==je[0]||"close"==je[0]?"stop"==je[0]?la(g,7):vM(g):"noop"!=je[0]&&g.l&&g.l.ta(je),g.v=0)}bh()}catch{}}function lj(l){this.l=l||10,l=a.PerformanceNavigationTiming?0<(l=a.performance.getEntriesByType("navigation")).length&&("hq"==l[0].nextHopProtocol||"h2"==l[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function dj(l){return!!l.h||!!l.g&&l.g.size>=l.j}function hj(l){return l.h?1:l.g?l.g.size:0}function mM(l,f){return l.h?l.h==f:!!l.g&&l.g.has(f)}function _M(l,f){l.g?l.g.add(f):l.h=f}function fj(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}function pj(l){if(null!=l.h)return l.i.concat(l.h.D);if(null!=l.g&&0!==l.g.size){let f=l.i;for(const g of l.g.values())f=f.concat(g.D);return f}return E(l.i)}function gj(l,f){if(l.forEach&&"function"==typeof l.forEach)l.forEach(f,void 0);else if(c(l)||"string"==typeof l)Array.prototype.forEach.call(l,f,void 0);else for(var g=function Lge(l){if(l.na&&"function"==typeof l.na)return l.na();if(!l.V||"function"!=typeof l.V){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||"string"==typeof l){var f=[];l=l.length;for(var g=0;g<l;g++)f.push(g);return f}f=[],g=0;for(const v in l)f[g++]=v;return f}}}(l),v=function Fge(l){if(l.V&&"function"==typeof l.V)return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if("string"==typeof l)return l.split("");if(c(l)){for(var f=[],g=l.length,v=0;v<g;v++)f.push(l[v]);return f}for(v in f=[],g=0,l)f[g++]=l[v];return f}(l),N=v.length,B=0;B<N;B++)f.call(void 0,v[B],g&&g[B],l)}es.prototype.ca=function(l){l=l.target;const f=this.M;f&&3==co(l)?f.j():this.Y(l)},es.prototype.Y=function(l){try{if(l==this.g)e:{const En=co(this.g);var f=this.g.Ba();if(this.g.Z(),!(3>En)&&(3!=En||this.g&&(this.h.h||this.g.oa()||Aj(this.g)))){this.J||4!=En||7==f||bh(),pM(this);var g=this.g.Z();this.X=g;t:if(cj(this)){var v=Aj(this.g);l="";var N=v.length,B=4==co(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ca(this),wh(this);var te="";break t}this.h.i=new a.TextDecoder}for(f=0;f<N;f++)this.h.h=!0,l+=this.h.i.decode(v[f],{stream:!(B&&f==N-1)});v.length=0,this.h.g+=l,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=200==g,function Oge(l,f,g,v,N,B,te){l.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+N+"]: "+f+"\n"+g+"\n"+B+" "+te})}(this.i,this.u,this.A,this.l,this.R,En,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,un=this.g;if((Ze=un.g?un.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(Ze)){var je=Ze;break t}}je=null}if(!(g=je)){this.o=!1,this.s=3,Un(12),ca(this),wh(this);break e}Tu(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gM(this,g)}if(this.P){let zr;for(g=!0;!this.J&&this.C<te.length;){if(zr=Nge(this,te),zr==hM){4==En&&(this.s=4,Un(14),g=!1),Tu(this.i,this.l,null,"[Incomplete Response]");break}if(zr==sj){this.s=4,Un(15),Tu(this.i,this.l,te,"[Invalid Chunk]"),g=!1;break}Tu(this.i,this.l,zr,null),gM(this,zr)}if(cj(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=En||0!=te.length||this.h.h||(this.s=1,Un(16),g=!1),this.o=this.o&&g,g){if(0<te.length&&!this.W){this.W=!0;var In=this.j;In.g==this&&In.ba&&!In.M&&(In.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),bM(In),In.M=!0,Un(11))}}else Tu(this.i,this.l,te,"[Invalid Chunked Response]"),ca(this),wh(this)}else Tu(this.i,this.l,te,null),gM(this,te);4==En&&ca(this),this.o&&!this.J&&(4==En?Nj(this.j,this):(this.o=!1,n_(this)))}else(function Xge(l){const f={};l=(l.g&&2<=co(l)&&l.g.getAllResponseHeaders()||"").split("\r\n");for(let v=0;v<l.length;v++){if(D(l[v]))continue;var g=k(l[v]);const N=g[0];if("string"!=typeof(g=g[1]))continue;g=g.trim();const B=f[N]||[];f[N]=B,B.push(g)}!function S(l,f){for(const g in l)f.call(void 0,l[g],g,l)}(f,function(v){return v.join(", ")})})(this.g),400==g&&0<te.indexOf("Unknown SID")?(this.s=3,Un(12)):(this.s=0,Un(13)),ca(this),wh(this)}}}catch{}},es.prototype.cancel=function(){this.J=!0,ca(this)},es.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(function Rge(l,f){l.info(function(){return"TIMEOUT: "+f})}(this.i,this.A),2!=this.L&&(bh(),Un(17)),ca(this),this.s=2,wh(this)):uj(this,this.S-l)},lj.prototype.cancel=function(){if(this.i=pj(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const l of this.g.values())l.cancel();this.g.clear()}};var mj=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ua(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof ua){this.h=l.h,r_(this,l.j),this.o=l.o,this.g=l.g,i_(this,l.s),this.l=l.l;var f=l.i,g=new Mh;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),_j(this,g),this.m=l.m}else l&&(f=String(l).match(mj))?(this.h=!1,r_(this,f[1]||"",!0),this.o=Th(f[2]||""),this.g=Th(f[3]||"",!0),i_(this,f[4]),this.l=Th(f[5]||"",!0),_j(this,f[6]||"",!0),this.m=Th(f[7]||"")):(this.h=!1,this.i=new Mh(null,this.h))}function ao(l){return new ua(l)}function r_(l,f,g){l.j=g?Th(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function i_(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function _j(l,f,g){f instanceof Mh?(l.i=f,function Gge(l,f){f&&!l.j&&(ts(l),l.i=null,l.g.forEach(function(g,v){var N=v.toLowerCase();v!=N&&(vj(this,v),bj(this,N,g))},l)),l.j=f}(l.i,l.h)):(g||(f=Ph(f,Hge)),l.i=new Mh(f,l.h))}function lt(l,f,g){l.i.set(f,g)}function o_(l){return lt(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Th(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ph(l,f,g){return"string"==typeof l?(l=encodeURI(l).replace(f,Bge),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Bge(l){return"%"+((l=l.charCodeAt(0))>>4&15).toString(16)+(15&l).toString(16)}ua.prototype.toString=function(){var l=[],f=this.j;f&&l.push(Ph(f,yj,!0),":");var g=this.g;return(g||"file"==f)&&(l.push("//"),(f=this.o)&&l.push(Ph(f,yj,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(g=this.s)&&l.push(":",String(g))),(g=this.l)&&(this.g&&"/"!=g.charAt(0)&&l.push("/"),l.push(Ph(g,"/"==g.charAt(0)?$ge:jge,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Ph(g,zge)),l.join("")};var l,yj=/[#\/\?@]/g,jge=/[#\?:]/g,$ge=/[#\?]/g,Hge=/[#\?@]/g,zge=/#/g;function Mh(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function ts(l){l.g||(l.g=new Map,l.h=0,l.i&&function Uge(l,f){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var v=l[g].indexOf("="),N=null;if(0<=v){var B=l[g].substring(0,v);N=l[g].substring(v+1)}else B=l[g];f(B,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}(l.i,function(f,g){l.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}function vj(l,f){ts(l),f=Pu(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function Cj(l,f){return ts(l),f=Pu(l,f),l.g.has(f)}function bj(l,f,g){vj(l,f),0<g.length&&(l.i=null,l.g.set(Pu(l,f),E(g)),l.h+=g.length)}function Pu(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function ns(l,f,g,v,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),v(g)}catch{}}function Kge(){this.g=new Sge}function Qge(l,f,g){const v=g||"";try{gj(l,function(N,B){let te=N;u(N)&&(te=aM(N)),f.push(v+B+"="+encodeURIComponent(te))})}catch(N){throw f.push(v+"type="+encodeURIComponent("_badmap")),N}}function Ah(l){this.l=l.Ub||null,this.j=l.eb||!1}function s_(l,f){bn.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ij(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}function Dh(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Sh(l)}function Sh(l){l.onreadystatechange&&l.onreadystatechange.call(l)}function Ej(l){let f="";return he(l,function(g,v){f+=v,f+=":",f+=g,f+="\r\n"}),f}function yM(l,f,g){e:{for(v in g){var v=!1;break e}v=!0}v||(g=Ej(g),"string"==typeof l?null!=g&&encodeURIComponent(String(g)):lt(l,f,g))}function Pt(l){bn.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=Mh.prototype).add=function(l,f){ts(this),this.i=null,l=Pu(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(f),this.h+=1,this},n.forEach=function(l,f){ts(this),this.g.forEach(function(g,v){g.forEach(function(N){l.call(f,N,v,this)},this)},this)},n.na=function(){ts(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let v=0;v<f.length;v++){const N=l[v];for(let B=0;B<N.length;B++)g.push(f[v])}return g},n.V=function(l){ts(this);let f=[];if("string"==typeof l)Cj(this,l)&&(f=f.concat(this.g.get(Pu(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)f=f.concat(l[g])}return f},n.set=function(l,f){return ts(this),this.i=null,Cj(this,l=Pu(this,l))&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},n.get=function(l,f){return l&&0<(l=this.V(l)).length?String(l[0]):f},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var v=f[g];const B=encodeURIComponent(String(v)),te=this.V(v);for(v=0;v<te.length;v++){var N=B;""!==te[v]&&(N+="="+encodeURIComponent(String(te[v]))),l.push(N)}}return this.i=l.join("&")},C(Ah,cM),Ah.prototype.g=function(){return new s_(this.l,this.j)},Ah.prototype.i=(l={},function(){return l}),C(s_,bn),(n=s_.prototype).open=function(l,f){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,Sh(this)},n.send=function(l){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Dh(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Sh(this)),this.g&&(this.readyState=3,Sh(this),this.g)))if("arraybuffer"===this.responseType)l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ij(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?Dh(this):Sh(this),3==this.readyState&&Ij(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,Dh(this))},n.Qa=function(l){this.g&&(this.response=l,Dh(this))},n.ga=function(){this.g&&Dh(this)},n.setRequestHeader=function(l,f){this.u.append(l,f)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var g=f.next();!g.done;)l.push((g=g.value)[0]+": "+g[1]),g=f.next();return l.join("\r\n")},Object.defineProperty(s_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(l){this.m=l?"include":"same-origin"}}),C(Pt,bn);var Yge=/^https?$/i,Jge=["POST","PUT"];function wj(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,Tj(l),a_(l)}function Tj(l){l.A||(l.A=!0,Ln(l,"complete"),Ln(l,"error"))}function Pj(l){if(l.h&&typeof s<"u"&&(!l.v[1]||4!=co(l)||2!=l.Z()))if(l.u&&4==co(l))KB(l.Ea,0,l);else if(Ln(l,"readystatechange"),4==co(l)){l.h=!1;try{const te=l.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var v;if(v=0===te){var N=String(l.D).match(mj)[1]||null;!N&&a.self&&a.self.location&&(N=a.self.location.protocol.slice(0,-1)),v=!Yge.test(N?N.toLowerCase():"")}g=v}if(g)Ln(l,"complete"),Ln(l,"success");else{l.m=6;try{var B=2<co(l)?l.g.statusText:""}catch{B=""}l.l=B+" ["+l.Z()+"]",Tj(l)}}finally{a_(l)}}}function a_(l,f){if(l.g){Mj(l);const g=l.g,v=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||Ln(l,"ready");try{g.onreadystatechange=v}catch{}}}function Mj(l){l.I&&(a.clearTimeout(l.I),l.I=null)}function co(l){return l.g?l.g.readyState:0}function Aj(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function xh(l,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||f}function Dj(l){this.Aa=0,this.i=[],this.j=new Eh,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xh("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xh("baseRetryDelayMs",5e3,l),this.cb=xh("retryDelaySeedMs",1e4,l),this.Wa=xh("forwardChannelMaxRetries",2,l),this.wa=xh("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new lj(l&&l.concurrentRequestLimit),this.Da=new Kge,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function vM(l){if(Sj(l),3==l.G){var f=l.U++,g=ao(l.I);if(lt(g,"SID",l.K),lt(g,"RID",f),lt(g,"TYPE","terminate"),Oh(l,g),(f=new es(l,l.j,f)).L=2,f.v=o_(ao(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&a.Image&&((new Image).src=f.v,g=!0),g||(f.g=Uj(f.j,null),f.g.ea(f.v)),f.F=Date.now(),n_(f)}Fj(l)}function c_(l){l.g&&(bM(l),l.g.cancel(),l.g=null)}function Sj(l){c_(l),l.u&&(a.clearTimeout(l.u),l.u=null),l_(l),l.h.cancel(),l.s&&("number"==typeof l.s&&a.clearTimeout(l.s),l.s=null)}function u_(l){if(!dj(l.h)&&!l.s){l.s=!0;var f=l.Ga;gh||$B(),mh||(gh(),mh=!0),X1.add(f,l),l.B=0}}function xj(l,f){var g;g=f?f.l:l.U++;const v=ao(l.I);lt(v,"SID",l.K),lt(v,"RID",g),lt(v,"AID",l.T),Oh(l,v),l.m&&l.o&&yM(v,l.m,l.o),g=new es(l,l.j,g,l.B+1),null===l.m&&(g.H=l.o),f&&(l.i=f.D.concat(l.i)),f=Oj(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),_M(l.h,g),fM(g,v,f)}function Oh(l,f){l.H&&he(l.H,function(g,v){lt(f,v,g)}),l.l&&gj({},function(g,v){lt(f,v,g)})}function Oj(l,f,g){g=Math.min(l.i.length,g);var v=l.l?p(l.l.Na,l.l,l):null;e:{var N=l.i;let B=-1;for(;;){const te=["count="+g];-1==B?0<g?(B=N[0].g,te.push("ofs="+B)):B=0:te.push("ofs="+B);let Ze=!0;for(let un=0;un<g;un++){let je=N[un].g;const In=N[un].map;if(je-=B,0>je)B=Math.max(0,N[un].g-100),Ze=!1;else try{Qge(In,te,"req"+je+"_")}catch{v&&v(In)}}if(Ze){v=te.join("&");break e}}}return l=l.i.splice(0,g),f.D=l,v}function Rj(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;gh||$B(),mh||(gh(),mh=!0),X1.add(f,l),l.v=0}}function CM(l){return!(l.g||l.u||3<=l.v||(l.Y++,l.u=Ih(p(l.Fa,l),Vj(l,l.v)),l.v++,0))}function bM(l){null!=l.A&&(a.clearTimeout(l.A),l.A=null)}function kj(l){l.g=new es(l,l.j,"rpc",l.Y),null===l.m&&(l.g.H=l.o),l.g.O=0;var f=ao(l.qa);lt(f,"RID","rpc"),lt(f,"SID",l.K),lt(f,"AID",l.T),lt(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&lt(f,"TO",l.ja),lt(f,"TYPE","xmlhttp"),Oh(l,f),l.m&&l.o&&yM(f,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=o_(ao(f)),g.m=null,g.P=!0,aj(g,l)}function l_(l){null!=l.C&&(a.clearTimeout(l.C),l.C=null)}function Nj(l,f){var g=null;if(l.g==f){l_(l),bM(l),l.g=null;var v=2}else{if(!mM(l.h,f))return;g=f.D,fj(l.h,f),v=1}if(0!=l.G)if(f.o)if(1==v){g=f.m?f.m.length:0,f=Date.now()-f.F;var N=l.B;Ln(v=Zm(),new rj(v,g)),u_(l)}else Rj(l);else if(3==(N=f.s)||0==N&&0<f.X||!(1==v&&function Zge(l,f){return!(hj(l.h)>=l.h.j-(l.s?1:0)||(l.s?(l.i=f.D.concat(l.i),0):1==l.G||2==l.G||l.B>=(l.Va?0:l.Wa)||(l.s=Ih(p(l.Ga,l,f),Vj(l,l.B)),l.B++,0)))}(l,f)||2==v&&CM(l)))switch(g&&0<g.length&&(f=l.h,f.i=f.i.concat(g)),N){case 1:la(l,5);break;case 4:la(l,10);break;case 3:la(l,6);break;default:la(l,2)}}function Vj(l,f){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*f}function la(l,f){if(l.j.info("Error code "+f),2==f){var g=p(l.fb,l),v=l.Xa;const N=!v;v=new ua(v||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||r_(v,"https"),o_(v),N?function qge(l,f){const g=new Eh;if(a.Image){const v=new Image;v.onload=m(ns,g,"TestLoadImage: loaded",!0,f,v),v.onerror=m(ns,g,"TestLoadImage: error",!1,f,v),v.onabort=m(ns,g,"TestLoadImage: abort",!1,f,v),v.ontimeout=m(ns,g,"TestLoadImage: timeout",!1,f,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=l}else f(!1)}(v.toString(),g):function Wge(l,f){new Eh;const v=new AbortController,N=setTimeout(()=>{v.abort(),ns(0,0,!1,f)},1e4);fetch(l,{signal:v.signal}).then(B=>{clearTimeout(N),ns(0,0,!!B.ok,f)}).catch(()=>{clearTimeout(N),ns(0,0,!1,f)})}(v.toString(),g)}else Un(2);l.G=0,l.l&&l.l.sa(f),Fj(l),Sj(l)}function Fj(l){if(l.G=0,l.ka=[],l.l){const f=pj(l.h);(0!=f.length||0!=l.i.length)&&(P(l.ka,f),P(l.ka,l.i),l.h.i.length=0,E(l.i),l.i.length=0),l.l.ra()}}function Lj(l,f,g){var v=g instanceof ua?ao(g):new ua(g);if(""!=v.g)f&&(v.g=f+"."+v.g),i_(v,v.s);else{var N=a.location;v=N.protocol,f=f?f+"."+N.hostname:N.hostname,N=+N.port;var B=new ua(null);v&&r_(B,v),f&&(B.g=f),N&&i_(B,N),g&&(B.l=g),v=B}return f=l.ya,(g=l.D)&&f&&lt(v,g,f),lt(v,"VER",l.la),Oh(l,v),v}function Uj(l,f,g){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return(f=new Pt(l.Ca&&!l.pa?new Ah({eb:g}):l.pa)).Ha(l.J),f}function Bj(){}function d_(){}function pr(l,f){bn.call(this),this.g=new Dj(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!D(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!D(f)&&(this.g.D=f,null!==(l=this.h)&&f in l&&f in(l=this.h)&&delete l[f]),this.j=new Mu(this)}function jj(l){uM.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const g in f){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,f=null!==f&&l in f?f[l]:void 0),this.data=f}else this.data=l}function $j(){lM.call(this),this.status=1}function Mu(l){this.g=l}(n=Pt.prototype).Ha=function(l){this.J=l},n.ea=function(l,f,g,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dM.g(),this.v=function XB(l){return l.h||(l.h=l.i())}(this.o?this.o:dM),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(B){return void wj(this,B)}if(l=g||"",g=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var N in v)g.set(N,v[N]);else{if("function"!=typeof v.keys||"function"!=typeof v.get)throw Error("Unknown input type for opt_headers: "+String(v));for(const B of v.keys())g.set(B,v.get(B))}v=Array.from(g.keys()).find(B=>"content-type"==B.toLowerCase()),N=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Jge,f,void 0))||v||N||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,te]of g)this.g.setRequestHeader(B,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Mj(this),this.u=!0,this.g.send(l),this.u=!1}catch(B){wj(this,B)}},n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Ln(this,"complete"),Ln(this,"abort"),a_(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),a_(this,!0)),Pt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Pj(this):this.bb())},n.bb=function(){Pj(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<co(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&0==f.indexOf(l)&&(f=f.substring(l.length)),Dge(f)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=Dj.prototype).la=8,n.G=1,n.connect=function(l,f,g,v){Un(0),this.W=l,this.H=f||{},g&&void 0!==v&&(this.H.OSID=g,this.H.OAID=v),this.F=this.X,this.I=Lj(this,null,this.W),u_(this)},n.Ga=function(l){if(this.s)if(this.s=null,1==this.G){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const N=new es(this,this.j,l);let B=this.o;if(this.S&&(B?(B=T(B),x(B,this.S)):B=this.S),null!==this.m||this.O||(N.H=B,B=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){var v=this.i[g];if(void 0===(v="__data__"in v.map&&"string"==typeof(v=v.map.__data__)?v.length:void 0))break;if(4096<(f+=v)){f=g;break e}if(4096===f||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=Oj(this,N,f),lt(g=ao(this.I),"RID",l),lt(g,"CVER",22),this.D&&lt(g,"X-HTTP-Session-Id",this.D),Oh(this,g),B&&(this.O?f="headers="+encodeURIComponent(String(Ej(B)))+"&"+f:this.m&&yM(g,this.m,B)),_M(this.h,N),this.Ua&&lt(g,"TYPE","init"),this.P?(lt(g,"$req",f),lt(g,"SID","null"),N.T=!0,fM(N,g,null)):fM(N,g,f),this.G=2}}else 3==this.G&&(l?xj(this,l):0==this.i.length||dj(this.h)||xj(this))},n.Fa=function(){if(this.u=null,kj(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Ih(p(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Un(10),c_(this),kj(this))},n.Za=function(){null!=this.C&&(this.C=null,c_(this),CM(this),Un(19))},n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Un(2)):(this.j.info("Failed to ping google.com"),Un(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=Bj.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},d_.prototype.g=function(l,f){return new pr(l,f)},C(pr,bn),pr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pr.prototype.close=function(){vM(this.g)},pr.prototype.o=function(l){var f=this.g;if("string"==typeof l){var g={};g.__data__=l,l=g}else this.u&&((g={}).__data__=aM(l),l=g);f.i.push(new class{constructor(l,f){this.g=l,this.map=f}}(f.Ya++,l)),3==f.G&&u_(f)},pr.prototype.N=function(){this.g.l=null,delete this.j,vM(this.g),delete this.g,pr.aa.N.call(this)},C(jj,uM),C($j,lM),C(Mu,Bj),Mu.prototype.ua=function(){Ln(this.g,"a")},Mu.prototype.ta=function(l){Ln(this.g,new jj(l))},Mu.prototype.sa=function(l){Ln(this.g,new $j)},Mu.prototype.ra=function(){Ln(this.g,"b")},d_.prototype.createWebChannel=d_.prototype.g,pr.prototype.send=pr.prototype.o,pr.prototype.open=pr.prototype.m,pr.prototype.close=pr.prototype.close,Ji.createWebChannelTransport=function(){return new d_},Ji.getStatEventTarget=function(){return Zm()},Ji.Event=aa,Ji.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},e_.NO_ERROR=0,e_.TIMEOUT=8,e_.HTTP_ERROR=6,Ji.ErrorCode=e_,ij.COMPLETE="complete",Ji.EventType=ij,ZB.EventType=Ch,Ch.OPEN="a",Ch.CLOSE="b",Ch.ERROR="c",Ch.MESSAGE="d",bn.prototype.listen=bn.prototype.K,Ji.WebChannel=ZB,Ji.FetchXmlHttpFactory=Ah,Pt.prototype.listenOnce=Pt.prototype.L,Pt.prototype.getLastError=Pt.prototype.Ka,Pt.prototype.getLastErrorCode=Pt.prototype.Ba,Pt.prototype.getStatus=Pt.prototype.Z,Pt.prototype.getResponseJson=Pt.prototype.Oa,Pt.prototype.getResponseText=Pt.prototype.oa,Pt.prototype.send=Pt.prototype.ea,Pt.prototype.setWithCredentials=Pt.prototype.Ha,Ji.XhrIo=Pt}).apply(typeof Vg<"u"?Vg:typeof self<"u"?self:typeof window<"u"?window:{});const i5="@firebase/firestore";class Wt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");let Fc="10.14.0";const Ro=new Pc("@firebase/firestore");function W(n,...e){if(Ro.logLevel<=xe.DEBUG){const t=e.map(hT);Ro.debug(`Firestore (${Fc}): ${n}`,...t)}}function Ot(n,...e){if(Ro.logLevel<=xe.ERROR){const t=e.map(hT);Ro.error(`Firestore (${Fc}): ${n}`,...t)}}function hT(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ce(n="Unexpected state"){const e=`FIRESTORE (${Fc}) INTERNAL ASSERTION FAILED: `+n;throw Ot(e),new Error(e)}function de(n,e){n||ce()}const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends Tr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Kt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class o5{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Hce{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wt.UNAUTHENTICATED))}shutdown(){}}class zce{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Gce{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;de(void 0===this.o);let i=this.i;const o=u=>this.i!==i?(i=this.i,t(u)):Promise.resolve();let s=new Kt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Kt,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(w(function*(){yield u.promise,yield o(r.currentUser)}))},c=u=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Kt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(de("string"==typeof r.accessToken),new o5(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return de(null===e||"string"==typeof e),new Wt(e)}}class qce{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Wce{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new qce(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class s5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Kce{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){de(void 0===this.o);const r=o=>{null!=o.error&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,W("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(de("string"==typeof t.token),this.R=t.token,new s5(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ce(n,e){return n<e?-1:n>e?1:0}class Pd{constructor(e,t,r){void 0===t?t=0:t>e.length&&ce(),void 0===r?r=e.length-t:r>e.length-t&&ce(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Pd.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Pd?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ke extends Pd{construct(e,t,r){return new ke(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new q(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ke(t)}static emptyPath(){return new ke([])}}class re{constructor(e){this.path=e}static fromPath(e){return new re(ke.fromString(e))}static fromName(e){return new re(ke.fromString(e).popFirst(5))}static empty(){return new re(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ke.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ke.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new re(new ke(e.slice()))}}class ot{constructor(e,t){this.comparator=e,this.root=t||sn.EMPTY}insert(e,t){return new ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bg(this.root,e,this.comparator,!0)}}class Bg{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??sn.RED,this.left=i??sn.EMPTY,this.right=o??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new sn(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return sn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ce();const e=this.left.check();if(e!==this.right.check())throw ce();return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1,sn.EMPTY=new class{constructor(){this.size=0}get key(){throw ce()}get value(){throw ce()}get color(){throw ce()}get left(){throw ce()}get right(){throw ce()}copy(e,t,r,i,o){return this}insert(e,t,r){return new sn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ye{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new T5(this.data.getIterator())}getIteratorFrom(e){return new T5(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ye)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ye(this.comparator);return t.data=e,t}}class T5{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class P5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Tt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new P5("Invalid base64 string: "+o):o}}(e);return new Tt(t)}static fromUint8Array(e){const t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Tt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tt.EMPTY_BYTE_STRING=new Tt("");const Iue=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}class Bs{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Bs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Bs&&e.projectId===this.projectId&&e.database===this.database}}var Lt,Le,xP,F3;new ot(re.comparator),new ot(re.comparator),new ot(re.comparator),new Ye(re.comparator),new Ye(Ce),(Le=Lt||(Lt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS",new Vs([4294967295,4294967295],0),Error;class Ks{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(gt(e.integerValue));else if("doubleValue"in e){const r=gt(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),function Dd(n){return 0===n&&1/n==-1/0}(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),"string"==typeof r&&(r=function Xi(n){if(de(!!n),"string"==typeof n){let e=0;const t=Iue.exec(n);if(de(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gt(n.seconds),nanos:gt(n.nanos)}}(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(function Zi(n){return"string"==typeof n?Tt.fromBase64String(n):Tt.fromUint8Array(n)}(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?function x5(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.dt(t,Number.MAX_SAFE_INTEGER):function qg(n){var e,t;return"__vector__"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):ce()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const r=e.fields||{};this.dt(t,55);for(const i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;const o=e.fields||{};this.dt(t,53);const s="value",a=(null===(i=null===(r=o[s].arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.length)||0;this.dt(t,15),t.At(gt(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){const r=e.values||[];this.dt(t,50);for(const i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),re.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}Ks.vt=new Ks,new Uint8Array(0);class _n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function mm(){return typeof document<"u"?document:null}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(41943040,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class aP{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class TP{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Kt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const s=Date.now()+r,a=new TP(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new q(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}(F3=xP||(xP={})).ea="default",F3.Cache="cache";const rU=new Map;function Oe(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new q(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=function Em(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":ce()}(n);throw new q(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class aU{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new q(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new q(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Hde(n,e,t,r){if(!0===e&&!0===r)throw new q(L.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=function nU(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new q(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new q(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new q(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nh{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aU({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new q(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aU(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Hce;switch(r.type){case"firstParty":return new Wce(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return w(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=rU.get(t);r&&(W("ComponentProvider","Removing Datastore"),rU.delete(t),r.terminate())}(this),Promise.resolve()}}function zde(n,e,t,r={}){var i;const o=(n=Oe(n,nh))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&function Dr(n,...e){if(Ro.logLevel<=xe.WARN){const t=e.map(hT);Ro.warn(`Firestore (${Fc}): ${n}`,...t)}}("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=Wt.MOCK_USER;else{a=function Aee(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Jp(JSON.stringify({alg:"none",type:"JWT"})),Jp(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new q(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Wt(u)}n._authCredentials=new zce(new o5(a,c))}}class uU{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new aP(this,"async_queue_retry"),this.Vu=()=>{const r=mm();r&&W("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const t=mm();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=mm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new Kt;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return w(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(t){if(!function No(n){return"IndexedDbTransactionError"===n.name}(t))throw t;W("AsyncQueue","Operation failed with retryable error: "+t)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(r=>{throw this.Eu=r,this.du=!1,Ot("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const i=TP.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ce()}verifyOperationInProgress(){}wu(){var e=this;return w(function*(){let t;do{t=e.mu,yield t}while(t!==e.mu)})()}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class Xe extends nh{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new uU,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){var e=this;return w(function*(){if(e._firestoreClient){const t=e._firestoreClient.terminate();e._queue=new uU(t),e._firestoreClient=void 0,yield t}})()}}function Wde(n,e){const r="string"==typeof n?n:e||"(default)",i=Mc("object"==typeof n?n:Nb(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(n=>{const e=nV("firestore");if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]})();o&&zde(i,...o)}return i}new RegExp("[~\\*/\\[\\]]"),function(e,t=!0){Fc=Ms,Nn(new pn("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Xe(new Gce(r.getProvider("auth-internal")),new Kce(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new q(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bs(u.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),vt(i5,"4.7.3",e),vt(i5,"4.7.3","esm2017")}();class S1{constructor(e){return e}}const DU="firestore",x1=new oe("angularfire2.firestore-instances");function _he(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new S1(r)}}const yhe={provide:class ghe{constructor(){return P0(DU)}},deps:[[new Sn,x1]]},vhe={provide:S1,useFactory:function mhe(n,e){const t=T0(DU,n,e);return t&&new S1(t)},deps:[[new Sn,x1],xc]};let Che=(()=>{class n{constructor(){vt("angularfire",hg.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Rr({type:n}),n.\u0275inj=mr({providers:[vhe,yhe]}),n})();const Ihe=A0(Wde,!0);let SU=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(H(Ai),H(cr))}}static{this.\u0275dir=ve({type:n})}}return n})(),ra=(()=>{class n extends SU{static{this.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}()}static{this.\u0275dir=ve({type:n,features:[qe]})}}return n})();const mi=new oe("NgValueAccessor"),whe={provide:mi,useExisting:et(()=>O1),multi:!0};let O1=(()=>{class n extends ra{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}()}static{this.\u0275dir=ve({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&z("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[ft([whe]),qe]})}}return n})();const The={provide:mi,useExisting:et(()=>oo),multi:!0},Mhe=new oe("CompositionEventMode");let oo=(()=>{class n extends SU{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Phe(){const n=Eo()?Eo().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(H(Ai),H(cr),H(Mhe,8))}}static{this.\u0275dir=ve({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&z("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[ft([The]),qe]})}}return n})();const vn=new oe("NgValidators"),Yo=new oe("NgAsyncValidators");function kU(n){return function Qo(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function Vm(n){return null}function BU(n){return null!=n}function jU(n){return yl(n)?Bt(n):n}function $U(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function HU(n,e){return e.map(t=>t(n))}function zU(n){return n.map(e=>function Dhe(n){return!n.validate}(e)?e:t=>e.validate(t))}function R1(n){return null!=n?function GU(n){if(!n)return null;const e=n.filter(BU);return 0==e.length?null:function(t){return $U(HU(t,e))}}(zU(n)):null}function k1(n){return null!=n?function qU(n){if(!n)return null;const e=n.filter(BU);return 0==e.length?null:function(t){return function Ehe(...n){const e=qM(n),{args:t,keys:r}=GN(n),i=new dt(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let c=s,u=s;for(let d=0;d<s;d++){let h=!1;er(t[d]).subscribe(Nt(o,p=>{h||(h=!0,u--),a[d]=p},()=>c--,void 0,()=>{(!c||!h)&&(u||o.next(r?WN(r,a):a),o.complete())}))}});return e?i.pipe(qN(e)):i}(HU(t,e).map(jU)).pipe(Re($U))}}(zU(n)):null}function WU(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function N1(n){return n?Array.isArray(n)?n:[n]:[]}function Fm(n,e){return Array.isArray(n)?n.includes(e):n===e}function YU(n,e){const t=N1(e);return N1(n).forEach(i=>{Fm(t,i)||t.push(i)}),t}function JU(n,e){return N1(e).filter(t=>!Fm(n,t))}class XU{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=R1(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=k1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Fn extends XU{get formDirective(){return null}get path(){return null}}class Jo extends XU{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ZU{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ia=(()=>{class n extends ZU{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(H(Jo,2))}}static{this.\u0275dir=ve({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Ee("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[qe]})}}return n})(),eB=(()=>{class n extends ZU{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(H(Fn,10))}}static{this.\u0275dir=ve({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Ee("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[qe]})}}return n})();const lh="VALID",Um="INVALID",bu="PENDING",dh="DISABLED";function L1(n){return(Bm(n)?n.validators:n)||null}function U1(n,e){return(Bm(e)?e.asyncValidators:n)||null}function Bm(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class B1{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===lh}get invalid(){return this.status===Um}get pending(){return this.status==bu}get disabled(){return this.status===dh}get enabled(){return this.status!==dh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(YU(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(YU(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(JU(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(JU(e,this._rawAsyncValidators))}hasValidator(e){return Fm(this._rawValidators,e)}hasAsyncValidator(e){return Fm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=bu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=dh,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=lh,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===lh||this.status===bu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?dh:lh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=bu,this._hasOwnPendingAsyncValidator=!0;const t=jU(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new yt,this.statusChanges=new yt}_calculateStatus(){return this._allControlsDisabled()?dh:this.errors?Um:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bu)?bu:this._anyControlsHaveStatus(Um)?Um:lh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Bm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Rhe(n){return Array.isArray(n)?R1(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function khe(n){return Array.isArray(n)?k1(n):n||null}(this._rawAsyncValidators)}}class j1 extends B1{constructor(e,t,r){super(L1(t),U1(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function rB(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new K(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function nB(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new K(1e3,"");if(!r[t])throw new K(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Iu=new oe("CallSetDisabledState",{providedIn:"root",factory:()=>jm}),jm="always";function hh(n,e,t=jm){$1(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Fhe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&iB(n,e)})}(n,e),function Uhe(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Lhe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&iB(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Vhe(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function zm(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function $1(n,e){const t=function KU(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(WU(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function QU(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(WU(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();zm(e._rawValidators,i),zm(e._rawAsyncValidators,i)}function iB(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const zhe={provide:Fn,useExisting:et(()=>qm)},fh=(()=>Promise.resolve())();let qm=(()=>{class n extends Fn{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new yt,this.form=new j1({},R1(t),k1(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){fh.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),hh(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){fh.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){fh.then(()=>{const r=this._findContainer(t.path),i=new j1({});(function oB(n,e){$1(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){fh.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){fh.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function sB(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(H(vn,10),H(Yo,10),H(Iu,8))}}static{this.\u0275dir=ve({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&z("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ft([zhe]),qe]})}}return n})();function aB(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function cB(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const uB=class extends B1{constructor(e=null,t,r){super(L1(t),U1(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Bm(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=cB(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){aB(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){aB(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){cB(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Whe={provide:Jo,useExisting:et(()=>Xo)},hB=(()=>Promise.resolve())();let Xo=(()=>{class n extends Jo{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new uB,this._registered=!1,this.name="",this.update=new yt,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function G1(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===oo?t=o:function $he(n){return Object.getPrototypeOf(n.constructor)===ra}(o)?r=o:i=o}),i||r||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function z1(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){hh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){hB.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&hc(r);hB.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function $m(n,e){return[...e.path,n]}(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(H(Fn,9),H(vn,10),H(Yo,10),H(mi,10),H(xl,8),H(Iu,8))}}static{this.\u0275dir=ve({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ft([Whe]),qe,yr]})}}return n})(),fB=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ve({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),gB=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Rr({type:n})}static{this.\u0275inj=mr({})}}return n})();const rfe={provide:mi,useExisting:et(()=>Wm),multi:!0};function IB(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Wm=(()=>{class n extends ra{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=IB(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function ife(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}()}static{this.\u0275dir=ve({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&z("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[ft([rfe]),qe]})}}return n})(),EB=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(IB(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(H(cr),H(Ai),H(Wm,9))}}static{this.\u0275dir=ve({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();const ofe={provide:mi,useExisting:et(()=>Q1),multi:!0};function wB(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Q1=(()=>{class n extends ra{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const u=this._getOptionValue(s[a].value);i.push(u)}}else{const s=r.options;for(let a=0;a<s.length;a++){const c=s[a];if(c.selected){const u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function sfe(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}()}static{this.\u0275dir=ve({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&z("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[ft([ofe]),qe]})}}return n})(),TB=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(wB(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(wB(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(H(cr),H(Ai),H(Q1,9))}}static{this.\u0275dir=ve({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();let oa=(()=>{class n{constructor(){this._validator=Vm}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Vm,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ve({type:n,features:[yr]})}}return n})();const ufe={provide:vn,useExisting:et(()=>Km),multi:!0};let Km=(()=>{class n extends oa{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=hc,this.createValidator=t=>kU}enabled(t){return t}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}()}static{this.\u0275dir=ve({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&ei("required",i._enabled?"":null)},inputs:{required:"required"},features:[ft([ufe]),qe]})}}return n})();const ffe={provide:vn,useExisting:et(()=>Y1),multi:!0};let Y1=(()=>{class n extends oa{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function PB(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>function LU(n){return e=>function xU(n){return null!=n&&"number"==typeof n.length}(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(t)}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}()}static{this.\u0275dir=ve({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&ei("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[ft([ffe]),qe]})}}return n})(),gfe=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Rr({type:n})}static{this.\u0275inj=mr({imports:[gB]})}}return n})(),Eu=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Iu,useValue:t.callSetDisabledState??jm}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Rr({type:n})}static{this.\u0275inj=mr({imports:[gfe]})}}return n})();const _i_apiUrl="https://music-uptc-sogamoso-back.vercel.app",_i_firebaseConfig={apiKey:"AIzaSyAehdTsKYuyXdmBngoGthTpaMPrw4nsga4",authDomain:"musicuptcsogamoso.firebaseapp.com",projectId:"musicuptcsogamoso",storageBucket:"musicuptcsogamoso.firebasestorage.app",messagingSenderId:"1011403818121",appId:"1:1011403818121:web:eea45507f1bdcd3631b258",measurementId:"G-BFW1T6D1J1"};let kB=(()=>{class n{http;apiUrl=_i_apiUrl;constructor(t){this.http=t}searchTracks(t){return this.http.get(`${this.apiUrl}/api/search?q=${encodeURIComponent(t)}`).pipe(Re(r=>r.map(i=>({id:i.id,name:i.name,artists:i.artists,album:i.album,image:i.image,preview_url:i.preview_url,duration_ms:i.duration_ms}))))}getAuthUrl(){return this.http.get(`${this.apiUrl}/api/spotify/auth`)}getCurrentlyPlaying(){return this.http.get(`${this.apiUrl}/api/spotify/currently-playing`)}getStatus(){return this.http.get(`${this.apiUrl}/api/spotify/admin/status`)}static \u0275fac=function(r){return new(r||n)(ae(ri))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function NB(n=0,e,t=jie){let r=-1;return null!=e&&(GM(e)?t=e:r=e),new dt(i=>{let o=function _fe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Qm(n=0,e=_0){return n<0&&(n=0),NB(n,n,e)}let sa=(()=>{class n{http;apiUrl=_i_apiUrl;currentUserSubject=new tr(null);currentUser=this.currentUserSubject.asObservable();constructor(t){this.http=t;const r=localStorage.getItem("adminToken"),i=localStorage.getItem("adminUser");r&&i&&this.currentUserSubject.next(JSON.parse(i))}login(t,r){return this.http.post(`${this.apiUrl}/api/auth/login`,{email:t,password:r}).pipe(st(i=>{i.token&&(localStorage.setItem("adminToken",i.token),localStorage.setItem("adminUser",JSON.stringify(i.user)),this.currentUserSubject.next(i.user))}))}logout(){localStorage.removeItem("adminToken"),localStorage.removeItem("adminUser"),this.currentUserSubject.next(null)}isLoggedIn(){return!!localStorage.getItem("adminToken")}getAuthToken(){return localStorage.getItem("adminToken")}getAuthHeaders(){const t=this.getToken();return new wr(t?{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}:{"Content-Type":"application/json"})}getToken(){return localStorage.getItem("adminToken")}static \u0275fac=function(r){return new(r||n)(ae(ri))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wu=(()=>{class n{http;authService;apiUrl=_i_apiUrl;cachedSongs=[];lastFetchTime=0;CACHE_DURATION=2e3;cachedVotingStatus=null;lastVotingStatusFetch=0;VOTING_STATUS_CACHE_DURATION=1e3;constructor(t,r){this.http=t,this.authService=r}getCacheBustedUrl(t){const r=t.includes("?")?"&":"?";return`${t}${r}_=${(new Date).getTime()}`}invalidateCache(){this.cachedSongs=[],this.lastFetchTime=0}invalidateVotingStatusCache(){this.cachedVotingStatus=null,this.lastVotingStatusFetch=0}processSongs(t){return t&&0!==t.length?t.sort((r,i)=>r.votes>i.votes?-1:r.votes<i.votes?1:new Date(i.createdat).getTime()-new Date(r.createdat).getTime()):[]}voteForSong(t,r,i=!1){return this.http.post(`${this.apiUrl}/api/vote`,{trackid:t,trackInfo:r,is_dislike:i}).pipe(st(()=>{this.invalidateCache()}))}changeVote(t,r,i){return this.voteForSong(t,r,i)}getRankedSongsPolling(){return Qm(6e4).pipe(kp(0),wn(()=>this.getRankedSongs()))}getRankedSongs(){const t=Date.now();if(this.cachedSongs.length>0&&t-this.lastFetchTime<this.CACHE_DURATION)return pe([...this.cachedSongs]);const r=this.getCacheBustedUrl(`${this.apiUrl}/api/votes`);return this.http.get(r).pipe(Re(i=>{const o=this.processSongs(i||[]);return this.cachedSongs=o,this.lastFetchTime=t,o}))}getRecentlyAddedSongs(){return this.getRankedSongs().pipe(Re(t=>[...t].sort((r,i)=>new Date(i.createdat).getTime()-new Date(r.createdat).getTime()).slice(0,10)))}getSongs(){return this.getRankedSongs()}addToHistory(t){return this.http.post(`${this.apiUrl}/spotify/history`,{trackId:t})}vote(t,r,i=!1){return this.http.post(`${this.apiUrl}/vote`,{song:t,isDislike:r,isAdmin:i})}deleteSong(t){const r=this.authService.getAuthHeaders(),o=this.getCacheBustedUrl(`${this.apiUrl}/api/votes?trackid=${t}`);return this.http.delete(o,{headers:r}).pipe(st(()=>{this.invalidateCache()}))}deleteAllVotes(){const t=this.authService.getAuthHeaders(),r=this.getCacheBustedUrl(`${this.apiUrl}/api/votes/all`);return this.http.delete(r,{headers:t}).pipe(st(()=>{this.invalidateCache()}))}forceRefresh(){this.invalidateCache();const t=this.getCacheBustedUrl(`${this.apiUrl}/api/votes`);return this.http.get(t).pipe(Re(r=>{const i=this.processSongs(r||[]);return this.cachedSongs=i,this.lastFetchTime=Date.now(),i}))}getRankedSongsImmediate(){const t=this.getCacheBustedUrl(`${this.apiUrl}/api/votes`);return this.http.get(t).pipe(Re(r=>this.processSongs(r||[])))}getVotingStatus(){const t=this.getCacheBustedUrl(`${this.apiUrl}/api/voting/status`);return this.http.get(t)}submitVote(t){return this.http.post(`${this.apiUrl}/api/voting/vote`,{vote_type:t}).pipe(st(()=>{this.invalidateVotingStatusCache()}),$r(r=>{let i="Error al votar";return r.error?.error?i=r.error.error:400===r.status?i="Solicitud incorrecta":409===r.status?i=r.error?.error||"Ya has votado por esta opci\xf3n":500===r.status?i="Error del servidor":0===r.status&&(i="Error de conexi\xf3n"),this.invalidateVotingStatusCache(),Po(()=>new Error(i))}))}getVotingStatusImmediate(){const t=this.getCacheBustedUrl(`${this.apiUrl}/api/voting/status`);return this.http.get(t)}static \u0275fac=function(r){return new(r||n)(ae(ri),ae(sa))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yfe(n,e){1&n&&O(0,"i",11)}function vfe(n,e){1&n&&O(0,"i",12)}function Cfe(n,e){1&n&&(_(0,"div",16),I(1," No se encontraron resultados. Intenta con otras palabras. "),y())}function bfe(n,e){if(1&n){const t=Ae();_(0,"div",17)(1,"div",18)(2,"div",19)(3,"div",20),O(4,"img",21),y(),_(5,"div",22)(6,"h6",23),I(7),y(),_(8,"p",24),I(9),y(),_(10,"p",25),I(11),y()(),_(12,"div",26)(13,"button",27),z("click",function(){const o=X(t).$implicit;return Z($(2).vote(o))}),O(14,"i",28),I(15,"Votar "),y()()()()()}if(2&n){const t=e.$implicit,r=$(2);b(4),j("src",t.image,sr)("alt",t.name),b(3),ue(t.name),b(2),ue(t.artists.join(", ")),b(2),ue(r.formatDuration(t.duration_ms))}}function Ife(n,e){if(1&n&&(_(0,"div"),Y(1,Cfe,2,0,"div",13),_(2,"div",14),Y(3,bfe,16,5,"div",15),y()()),2&n){const t=$();b(1),j("ngIf",0===t.results.length&&!t.isLoading),b(2),j("ngForOf",t.results)}}let Efe=(()=>{class n{spotifyService;votingService;voteCasted=new yt;query="";results=[];isLoading=!1;searchPerformed=!1;constructor(t,r){this.spotifyService=t,this.votingService=r}search(){this.query.trim()&&(this.isLoading=!0,this.searchPerformed=!0,this.spotifyService.searchTracks(this.query).subscribe({next:t=>{this.results=t,this.isLoading=!1},error:t=>{console.error("Error al buscar:",t),this.isLoading=!1,alert("Error al buscar canciones. Intenta nuevamente.")}}))}vote(t){this.votingService.voteForSong(t.id,{name:t.name,artists:t.artists,image:t.album?.images?.[0]?.url||t.image,preview_url:t.preview_url,album:t.album?.name||"Unknown Album"}).subscribe({next:()=>{alert("\xa1Tu voto ha sido registrado!"),this.query="",this.results=[],this.searchPerformed=!1,this.voteCasted.emit()},error:i=>{409===i.status?alert("Ya has votado por esta canci\xf3n."):alert("Error al registrar tu voto. Intenta nuevamente.")}})}formatDuration(t){const r=Math.floor(t/6e4),i=(t%6e4/1e3).toFixed(0);return`${r}:${parseInt(i)<10?"0":""}${i}`}static \u0275fac=function(r){return new(r||n)(H(kB),H(wu))};static \u0275cmp=$n({type:n,selectors:[["app-search"]],outputs:{voteCasted:"voteCasted"},standalone:!0,features:[Kn],decls:13,vars:5,consts:[[1,"card","mb-4"],[1,"card-header"],[1,"mb-0"],[1,"fas","fa-search","me-2"],[1,"card-body"],[1,"input-group","mb-3"],["type","text","placeholder","Nombre de canci\xf3n o artista...",1,"form-control",3,"ngModel","ngModelChange","keyup.enter"],[1,"btn","btn-primary",3,"disabled","click"],["class","fas fa-search me-1",4,"ngIf"],["class","fas fa-spinner fa-spin me-1",4,"ngIf"],[4,"ngIf"],[1,"fas","fa-search","me-1"],[1,"fas","fa-spinner","fa-spin","me-1"],["class","alert alert-info",4,"ngIf"],[1,"results-container"],["class","card mb-2 track-card",4,"ngFor","ngForOf"],[1,"alert","alert-info"],[1,"card","mb-2","track-card"],[1,"card-body","py-2"],[1,"row","align-items-center"],[1,"col-3","col-sm-2"],[1,"img-fluid","rounded",3,"src","alt"],[1,"col-5","col-sm-6"],[1,"mb-1","text-truncate"],[1,"text-muted","mb-1","small","text-truncate"],[1,"text-muted","mb-0","small"],[1,"col-4","col-sm-4","text-end"],[1,"btn","btn-success","btn-sm",3,"click"],[1,"fas","fa-thumbs-up","me-1"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"h5",2),O(3,"i",3),I(4,"Buscar canciones en Spotify "),y()(),_(5,"div",4)(6,"div",5)(7,"input",6),z("ngModelChange",function(s){return i.query=s})("keyup.enter",function(){return i.search()}),y(),_(8,"button",7),z("click",function(){return i.search()}),Y(9,yfe,1,0,"i",8),Y(10,vfe,1,0,"i",9),I(11," Buscar "),y()(),Y(12,Ife,4,2,"div",10),y()()),2&r&&(b(7),j("ngModel",i.query),b(1),j("disabled",i.isLoading),b(1),j("ngIf",!i.isLoading),b(1),j("ngIf",i.isLoading),b(2),j("ngIf",i.searchPerformed))},dependencies:[jr,Fi,Er,Eu,oo,ia,Xo],styles:[".track-card[_ngcontent-%COMP%]{transition:transform .2s,background-color .2s}.track-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);background-color:#282828}.results-container[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}@media (max-width: 576px){.track-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:.75rem}.track-card[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.9rem}.track-card[_ngcontent-%COMP%]   .btn-sm[_ngcontent-%COMP%]{padding:.2rem .5rem;font-size:.8rem}}.text-truncate[_ngcontent-%COMP%]{color:#fff;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"]})}return n})();function wfe(n,e){1&n&&(_(0,"span"),I(1,"Actualizar"),y())}function Tfe(n,e){1&n&&(_(0,"span"),I(1,"Actualizando..."),y())}function Pfe(n,e){if(1&n&&(_(0,"span"),I(1),y()),2&n){const t=$();b(1),ge("Espera ",t.countdown,"s")}}function Mfe(n,e){1&n&&(_(0,"div",7),O(1,"div",8),_(2,"p"),I(3,"Cargando canciones..."),y()())}function Afe(n,e){if(1&n){const t=Ae();_(0,"div",17)(1,"div",18),O(2,"img",19),y(),_(3,"div",20)(4,"div",21)(5,"h6",22),I(6),y(),_(7,"p",23),I(8),y()(),_(9,"div",24)(10,"span",25),O(11,"i",26),I(12),y()(),_(13,"div")(14,"button",27),z("click",function(){const o=X(t).$implicit;return Z($(3).vote(o,!1))}),O(15,"i",28),I(16),y(),_(17,"button",29),z("click",function(){const o=X(t).$implicit;return Z($(3).vote(o,!0))}),O(18,"i",30),I(19),y()()()()}if(2&n){const t=e.$implicit,r=$(3);b(2),j("src",t.image,sr)("alt",t.name),b(4),ue(t.name),b(2),ue(t.artists.join(", ")),b(4),ge("",r.formatTimeAgo(t.createdat)," "),b(2),Ee("active",r.hasUserLiked(t.id)),b(2),ge("",t.votes||0," "),b(1),Ee("active",r.hasUserDisliked(t.id)),b(2),ge("",t.dislikes||0," ")}}function Dfe(n,e){if(1&n&&(_(0,"div",14)(1,"h2"),I(2,"Reci\xe9n Agregadas"),y(),_(3,"div",15),Y(4,Afe,20,11,"div",16),y()()),2&n){const t=$(2);b(4),j("ngForOf",t.recentlyAddedSongs)}}function Sfe(n,e){if(1&n){const t=Ae();_(0,"tr")(1,"td"),I(2),y(),_(3,"td")(4,"div",31),O(5,"img",32),_(6,"span"),I(7),y()()(),_(8,"td"),I(9),y(),_(10,"td")(11,"span",33),O(12,"i",28),I(13),y(),_(14,"span",34),O(15,"i",30),I(16),y()(),_(17,"td")(18,"span",35),I(19),y()(),_(20,"td")(21,"div",36)(22,"button",27),z("click",function(){const o=X(t).$implicit;return Z($(2).vote(o,!1))}),O(23,"i",28),y(),_(24,"button",29),z("click",function(){const o=X(t).$implicit;return Z($(2).vote(o,!0))}),O(25,"i",30),y()()()()}if(2&n){const t=e.$implicit,r=e.index,i=$(2);b(2),ue(r+1),b(3),j("src",t.image,sr)("alt",t.name),b(2),ue(t.name),b(2),ue(t.artists.join(", ")),b(4),ge(" ",t.votes||0," "),b(3),ge(" ",t.dislikes||0," "),b(3),ue(i.formatTimeAgo(t.createdat)),b(3),Ee("active",i.hasUserLiked(t.id)),b(2),Ee("active",i.hasUserDisliked(t.id))}}function xfe(n,e){if(1&n&&(_(0,"div",9),Y(1,Dfe,5,1,"div",10),_(2,"h2"),I(3,"Ranking General"),y(),_(4,"div",11)(5,"table",12)(6,"thead")(7,"tr")(8,"th"),I(9,"#"),y(),_(10,"th"),I(11,"T\xedtulo"),y(),_(12,"th"),I(13,"Artista"),y(),_(14,"th"),I(15,"Votos"),y(),_(16,"th"),I(17,"Agregada"),y(),_(18,"th"),I(19,"Acci\xf3n"),y()()(),_(20,"tbody"),Y(21,Sfe,26,12,"tr",13),y()()()()),2&n){const t=$();b(1),j("ngIf",t.recentlyAddedSongs.length>0),b(20),j("ngForOf",t.songs)}}let Ofe=(()=>{class n{votingService;songs=[];recentlyAddedSongs=[];isLoading=!0;isRefreshing=!1;userVotes=new Map;pollingSubscription=null;refreshCooldown=30;countdown=0;timerSubscription=null;constructor(t){this.votingService=t}ngOnInit(){this.startPolling()}ngOnDestroy(){this.pollingSubscription&&this.pollingSubscription.unsubscribe(),this.timerSubscription&&this.timerSubscription.unsubscribe()}startPolling(){this.pollingSubscription=this.votingService.getRankedSongsPolling().subscribe({next:t=>{this.songs=t,this.votingService.getRecentlyAddedSongs().subscribe({next:r=>{this.recentlyAddedSongs=r}}),this.isLoading=!1},error:t=>{console.error("Error al cargar canciones:",t),this.isLoading=!1}})}forceRefresh(){this.isRefreshing||this.countdown>0||(this.isRefreshing=!0,this.votingService.forceRefresh().subscribe({next:t=>{this.songs=t,this.votingService.getRecentlyAddedSongs().subscribe({next:r=>{this.recentlyAddedSongs=r,this.isRefreshing=!1,this.startCooldown()}})},error:t=>{console.error("Error al forzar actualizaci\xf3n:",t),this.isRefreshing=!1,this.startCooldown()}}))}hasUserLiked(t){return this.userVotes.has(t)&&!1===this.userVotes.get(t)}hasUserDisliked(t){return this.userVotes.has(t)&&!0===this.userVotes.get(t)}formatTimeAgo(t){try{if(!t)return"reciente";let r;if("string"!=typeof t)return"Reciente";if(r=t.includes("Z")||t.includes("+")?new Date(t):new Date(t+"Z"),isNaN(r.getTime()))return console.warn("Fecha inv\xe1lida:",t),"Reciente";const o=Math.floor(((new Date).getTime()-r.getTime())/1e3),s=Math.floor(o/60),a=Math.floor(o/3600),c=Math.floor(o/86400);return o<60?`${o} s`:s<60?`Hace ${s} min ${o%60} s`:a<24?`Hace ${a} h ${s%60} min`:1===c?"Ayer":`Hace ${c} d`}catch(r){return console.error("Error formateando fecha:",r,"Fecha recibida:",t),"Reciente"}}startCooldown(){this.timerSubscription&&this.timerSubscription.unsubscribe(),this.countdown=this.refreshCooldown,this.timerSubscription=NB(0,1e3).subscribe(()=>{this.countdown>0?this.countdown--:this.timerSubscription&&(this.timerSubscription.unsubscribe(),this.timerSubscription=null)})}vote(t,r=!1){const i={name:t.name,artists:t.artists,image:t.image,album:t.album,preview_url:t.preview_url};this.votingService.voteForSong(t.id,i,r).subscribe({next:o=>{o.deleted?alert("La canci\xf3n ha sido eliminada por recibir muchos dislikes"):(alert(`\xa1Tu ${r?"dislike":"like"} ha sido registrado!`),this.userVotes.set(t.id,r)),this.forceRefresh()},error:o=>{409===o.status?confirm("Ya has votado por esta canci\xf3n. \xbfQuieres cambiar tu voto?")&&this.votingService.changeVote(t.id,i,r).subscribe({next:s=>{s.deleted?alert("La canci\xf3n ha sido eliminada por recibir muchos dislikes"):(alert("\xa1Tu voto ha sido cambiado!"),this.userVotes.set(t.id,r)),this.forceRefresh()},error:s=>{alert("Error al cambiar tu voto. Intenta nuevamente.")}}):alert("Error al registrar tu voto. Intenta nuevamente.")}})}static \u0275fac=function(r){return new(r||n)(H(wu))};static \u0275cmp=$n({type:n,selectors:[["app-voting-list"]],standalone:!0,features:[Kn],decls:11,vars:8,consts:[[1,"spotify-container"],[1,"header"],[1,"btn-refresh",3,"disabled","click"],[1,"fas","fa-sync-alt"],[4,"ngIf"],["class","loader",4,"ngIf"],["class","content",4,"ngIf"],[1,"loader"],[1,"spinner"],[1,"content"],["class","recently-added",4,"ngIf"],[1,"song-table-container"],[1,"song-table"],[4,"ngFor","ngForOf"],[1,"recently-added"],[1,"recent-songs-grid"],["class","recent-song-card",4,"ngFor","ngForOf"],[1,"recent-song-card"],[1,"recent-song-image-container"],[1,"recent-song-image",3,"src","alt"],[1,"recent-song-content"],[1,"recent-song-info"],[1,"recent-song-title"],[1,"recent-song-artist"],[1,"recent-song-meta"],[1,"badge","bg-secondary"],[1,"fas","fa-clock","me-1"],[1,"btn-vote","like-btn",3,"click"],[1,"fas","fa-thumbs-up"],[1,"btn-vote","dislike-btn",3,"click"],[1,"fas","fa-thumbs-down"],[1,"song-cell"],[3,"src","alt"],[1,"vote-count"],[1,"dislike-count"],[1,"time-ago"],[1,"vote-actions"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"h1"),I(3,"Votaci\xf3n de Canciones"),y(),_(4,"button",2),z("click",function(){return i.forceRefresh()}),O(5,"i",3),Y(6,wfe,2,0,"span",4),Y(7,Tfe,2,0,"span",4),Y(8,Pfe,2,1,"span",4),y()(),Y(9,Mfe,4,0,"div",5),Y(10,xfe,22,2,"div",6),y()),2&r&&(b(4),j("disabled",i.isRefreshing||i.countdown>0),b(1),Ee("fa-spin",i.isRefreshing),b(1),j("ngIf",!i.isRefreshing&&0===i.countdown),b(1),j("ngIf",i.isRefreshing),b(1),j("ngIf",!i.isRefreshing&&i.countdown>0),b(1),j("ngIf",i.isLoading),b(1),j("ngIf",!i.isLoading))},dependencies:[jr,Fi,Er],styles:['.spotify-container[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border:1px solid rgba(255,255,255,.1);border-radius:16px;padding:2rem;color:var(--text-primary);box-shadow:0 10px 30px #0003;margin-bottom:2rem}.spotify-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding-bottom:1rem;border-bottom:1px solid rgba(255,255,255,.1)}.spotify-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:800;background:linear-gradient(135deg,var(--text-primary) 0%,var(--primary-color) 100%);-webkit-text-fill-color:transparent;-webkit-background-clip:text;background-clip:text;margin:0}.btn-refresh[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color) 0%,#1aa34a 100%);color:var(--text-primary);border:none;padding:.8rem 1.5rem;border-radius:50px;cursor:pointer;font-weight:700;transition:all .3s ease;display:flex;align-items:center;gap:.5rem;box-shadow:0 5px 15px #1db9544d}.btn-refresh[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 8px 20px #1db95466}.btn-refresh[_ngcontent-%COMP%]:disabled{opacity:.7;transform:none;box-shadow:none;cursor:not-allowed}.loader[_ngcontent-%COMP%]{text-align:center;padding:3rem}.loader[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{border:4px solid rgba(255,255,255,.2);border-left-color:var(--primary-color);border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem;box-shadow:0 0 15px #1db9544d}.loader[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:1rem}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin-bottom:1.5rem;padding-bottom:.8rem;border-bottom:2px solid rgba(255,255,255,.1);color:var(--text-primary)}.recently-added[_ngcontent-%COMP%]{margin-bottom:3rem}.recently-added[_ngcontent-%COMP%]   .song-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.8rem}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]{display:flex;align-items:center;background:rgba(42,42,42,.5);padding:1rem;border-radius:12px;transition:all .3s ease;border:1px solid rgba(255,255,255,.05)}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]:hover{background:rgba(42,42,42,.7);transform:translateY(-3px);border-color:#1db95433;box-shadow:0 8px 25px #0003}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:8px;margin-right:1rem;box-shadow:0 4px 15px #0000004d;transition:all .3s ease}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]{flex-grow:1;min-width:0}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;margin:0;color:var(--text-primary)}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary);margin:.3rem 0 0}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]   .song-actions[_ngcontent-%COMP%]{margin-left:1rem}.song-table-container[_ngcontent-%COMP%]{overflow-x:auto;border-radius:12px;background:rgba(42,42,42,.3);padding:1rem}.song-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.song-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .song-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;text-align:left;border-bottom:1px solid rgba(255,255,255,.1)}.song-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.9rem;text-transform:uppercase;font-weight:600;letter-spacing:.5px}.song-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:all .3s ease}.song-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.05)}.song-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.song-cell[_ngcontent-%COMP%]{display:flex;align-items:center}.song-cell[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:8px;margin-right:1rem;box-shadow:0 4px 15px #0000004d}.vote-count[_ngcontent-%COMP%]{display:flex;align-items:center;font-weight:700;color:var(--text-primary)}.vote-count[_ngcontent-%COMP%]   .fa-thumbs-up[_ngcontent-%COMP%]{color:var(--primary-color);margin-right:.5rem;font-size:1.1rem}.btn-vote[_ngcontent-%COMP%]{background:transparent;color:var(--primary-color);border:2px solid var(--primary-color);padding:.5rem 1.2rem;border-radius:50px;cursor:pointer;transition:all .3s ease;font-weight:700}.btn-vote[_ngcontent-%COMP%]:hover{background:var(--primary-color);color:var(--text-primary);transform:translateY(-2px);box-shadow:0 5px 15px #1db9544d}.btn-vote-small[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color) 0%,#1aa34a 100%);color:var(--text-primary);border:none;padding:.6rem 1.2rem;border-radius:50px;cursor:pointer;font-weight:700;transition:all .3s ease;box-shadow:0 4px 12px #1db9544d}.btn-vote-small[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 16px #1db95466}@media (max-width: 768px){.spotify-container[_ngcontent-%COMP%]{padding:1.5rem}.header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.song-table[_ngcontent-%COMP%]{font-size:.9rem}.song-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .song-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.8rem}.song-cell[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.song-cell[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:0;margin-bottom:.5rem}}.recently-added[_ngcontent-%COMP%]{margin-bottom:2rem}.recently-added[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;margin-bottom:1rem;padding-bottom:.5rem;border-bottom:2px solid rgba(255,255,255,.1);color:var(--text-primary)}.recent-songs-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1rem;margin-bottom:1.5rem}.recent-song-card[_ngcontent-%COMP%]{background:rgba(42,42,42,.5);border-radius:10px;padding:.8rem;display:flex;align-items:center;transition:all .3s ease;border:1px solid rgba(255,255,255,.05);position:relative;overflow:hidden;gap:.8rem;min-height:80px}.recent-song-card[_ngcontent-%COMP%]:hover{background:rgba(42,42,42,.7);transform:translateY(-3px);border-color:#1db95433;box-shadow:0 5px 15px #0003}.recent-song-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:3px;height:100%;background:linear-gradient(to bottom,var(--primary-color),var(--accent-purple))}.recent-song-image-container[_ngcontent-%COMP%]{flex-shrink:0;width:50px;height:50px;border-radius:6px;overflow:hidden;position:relative}.recent-song-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .3s ease}.recent-song-card[_ngcontent-%COMP%]:hover   .recent-song-image[_ngcontent-%COMP%]{transform:scale(1.1)}.recent-song-content[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;gap:.4rem;min-width:0}.recent-song-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{display:flex;gap:.5rem;margin-top:.3rem}.recent-song-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child   .btn-vote[_ngcontent-%COMP%]{padding:.25rem .6rem;font-size:.75rem;border-radius:4px;min-width:auto}.recent-song-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child   .btn-vote[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.7rem;margin-right:.3rem}.recent-song-info[_ngcontent-%COMP%]{min-width:0}.recent-song-title[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:var(--text-primary);margin:0;line-height:1.2;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}.recent-song-artist[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-secondary);margin:0;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}.recent-song-meta[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.recent-song-meta[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.3rem .6rem;border-radius:12px;font-size:.7rem;font-weight:600}.recent-song-meta[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.6rem}.dislike-btn[_ngcontent-%COMP%]{background:transparent;color:#f44336;border:2px solid #f44336}.dislike-btn[_ngcontent-%COMP%]:hover, .dislike-btn.active[_ngcontent-%COMP%]{background:#f44336;color:#fff}.like-btn[_ngcontent-%COMP%]{background:transparent;color:var(--primary-color);border:2px solid var(--primary-color)}.like-btn[_ngcontent-%COMP%]:hover, .like-btn.active[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff}.vote-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.vote-actions[_ngcontent-%COMP%]   .btn-vote[_ngcontent-%COMP%]{padding:.3rem .6rem;border-radius:4px;font-size:.8rem}.dislike-count[_ngcontent-%COMP%]{display:flex;align-items:center;font-weight:700;color:#f44336;margin-left:1rem}.dislike-count[_ngcontent-%COMP%]   .fa-thumbs-down[_ngcontent-%COMP%]{margin-right:.3rem;font-size:.9rem}.recent-song-actions[_ngcontent-%COMP%]{flex-shrink:0}.recent-song-actions[_ngcontent-%COMP%]   .btn-vote[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color) 0%,#1aa34a 100%);color:var(--text-primary);border:none;width:32px;height:32px;border-radius:50%;cursor:pointer;font-weight:600;transition:all .3s ease;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px #1db9544d}.recent-song-actions[_ngcontent-%COMP%]   .btn-vote[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 4px 12px #1db95466}.recent-song-actions[_ngcontent-%COMP%]   .btn-vote[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem}@media (max-width: 1024px){.recent-songs-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(250px,1fr))}}@media (max-width: 768px){.recent-songs-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:.8rem}.recent-song-card[_ngcontent-%COMP%]{padding:.7rem;gap:.6rem}.recent-song-image-container[_ngcontent-%COMP%]{width:45px;height:45px}.recent-song-title[_ngcontent-%COMP%]{font-size:.85rem}.recent-song-artist[_ngcontent-%COMP%]{font-size:.7rem}}@media (max-width: 480px){.recent-songs-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.recent-song-meta[_ngcontent-%COMP%]{flex-wrap:wrap;gap:.3rem}.recent-song-actions[_ngcontent-%COMP%]   .btn-vote[_ngcontent-%COMP%]{width:28px;height:28px}.recent-song-actions[_ngcontent-%COMP%]   .btn-vote[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.7rem}}']})}return n})(),J1=(()=>{class n{http;authService;apiUrl=_i_apiUrl;automaticCheckInterval=null;constructor(t,r){this.http=t,this.authService=r,this.startAutomaticPlayingSongCheck(5e3)}getCacheBustedUrl(t){return`${t}?_=${(new Date).getTime()}`}startAutomaticPlayingSongCheck(t=3e4){this.stopAutomaticPlayingSongCheck(),this.automaticCheckInterval=setInterval(()=>{this.checkAndRemovePlayingSongFromRanking().subscribe({next:r=>{r.deleted&&alert(`Canci\xf3n eliminada autom\xe1ticamente del ranking: ${r.song.name}`)},error:r=>{console.error("Error en verificaci\xf3n autom\xe1tica:",r)}})},t)}playTrack(t){const r=this.authService.getAuthHeaders();return this.http.post(`${this.apiUrl}/api/spotify/admin/play`,{uri:t},{headers:r})}pausePlayback(){const t=this.authService.getAuthHeaders();return this.http.put(`${this.apiUrl}/api/spotify/admin/pause`,{},{headers:t})}resumePlayback(){const t=this.authService.getAuthHeaders();return this.http.put(`${this.apiUrl}/api/spotify/admin/resume`,{},{headers:t})}nextTrack(){const t=this.authService.getAuthHeaders();return this.http.post(`${this.apiUrl}/api/spotify/admin/next`,{},{headers:t})}previousTrack(){const t=this.authService.getAuthHeaders();return this.http.post(`${this.apiUrl}/api/spotify/admin/previous`,{},{headers:t})}stopAutomaticPlayingSongCheck(){this.automaticCheckInterval&&(clearInterval(this.automaticCheckInterval),this.automaticCheckInterval=null)}getAdminCurrentlyPlaying(){const t=this.getCacheBustedUrl(`${this.apiUrl}/api/spotify/admin/currently-playing`);return this.http.get(t).pipe($r(r=>401===r.status?this.refreshAdminToken().pipe(wn(()=>{const i=this.getCacheBustedUrl(`${this.apiUrl}/api/spotify/admin/currently-playing`);return this.http.get(i)}),$r(i=>(console.error("Error al refrescar token:",i),Po(()=>i)))):Po(()=>r)))}refreshAdminToken(){const t=this.authService.getAuthHeaders();return this.http.post(`${this.apiUrl}/api/spotify/admin/refresh-token`,{},{headers:t})}getAdminCurrentlyPlayingPolling(){return Qm(3e4).pipe(kp(0),wn(()=>this.getAdminCurrentlyPlaying()))}getAdminSpotifyStatus(){const t=this.getCacheBustedUrl(`${this.apiUrl}/api/spotify/admin/status`);return this.http.get(t)}startAdminSpotifyAuth(){const t=this.getCacheBustedUrl(`${this.apiUrl}/api/spotify/admin/auth`);return this.http.get(t)}disconnectAdminSpotify(){const t=this.authService.getAuthHeaders();return this.http.post(`${this.apiUrl}/api/spotify/admin/disconnect`,{},{headers:t})}startSpotifyAuth(){const t=this.getCacheBustedUrl(`${this.apiUrl}/api/spotify/auth`);return this.http.get(t)}getCurrentlyPlaying(){const t=this.getCacheBustedUrl(`${this.apiUrl}/api/spotify/currently-playing`);return this.http.get(t)}getCurrentlyPlayingPolling(){return Qm(3e3).pipe(kp(0),wn(()=>this.getCurrentlyPlaying()))}addToQueue(t){const r=this.authService.getAuthHeaders();return this.http.post(`${this.apiUrl}/api/spotify/admin/queue`,{uri:t},{headers:r})}checkAndRemovePlayingSongFromRanking(){const t=this.authService.getAuthHeaders();return this.http.post(`${this.apiUrl}/api/spotify/admin/check-playing-song`,{},{headers:t})}getQueue(){const t=this.authService.getAuthHeaders();return this.http.get(`${this.apiUrl}/api/spotify/admin/queue`,{headers:t})}addToHistory(){const t=this.authService.getAuthHeaders();return this.http.post(`${this.apiUrl}/api/spotify/admin/add-to-history`,{},{headers:t})}addToHistoryConfirmed(){const t=this.authService.getAuthHeaders();return this.http.post(`${this.apiUrl}/api/spotify/admin/add-to-history-confirmed`,{},{headers:t})}static \u0275fac=function(r){return new(r||n)(ae(ri),ae(sa))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Rfe(n,e){1&n&&O(0,"div",21)}function kfe(n,e){1&n&&O(0,"div",21)}function Nfe(n,e){1&n&&O(0,"div",21)}function Vfe(n,e){if(1&n&&(_(0,"div",22),O(1,"i",23),_(2,"span"),I(3),y()()),2&n){const t=$(2);b(3),ge("Votaste por: ",t.getVoteTypeName(t.lastVoteType),"")}}function Ffe(n,e){if(1&n){const t=Ae();_(0,"div",1)(1,"div",2),O(2,"div",3),y(),_(3,"div",4)(4,"div",5)(5,"div",6),O(6,"i",7),_(7,"span"),I(8),y()(),_(9,"button",8),z("click",function(){return X(t),Z($().forceRefresh())}),O(10,"i",9),y()()(),_(11,"div",10)(12,"button",11),z("click",function(){return X(t),Z($().vote("next"))}),_(13,"div",12),O(14,"i",13),_(15,"span"),I(16,"Siguiente"),y(),_(17,"div",14),I(18),y()(),Y(19,Rfe,1,0,"div",15),y(),_(20,"button",16),z("click",function(){return X(t),Z($().vote("genre_change"))}),_(21,"div",12),O(22,"i",17),_(23,"span"),I(24,"Cambiar g\xe9nero"),y(),_(25,"div",14),I(26),y()(),Y(27,kfe,1,0,"div",15),y(),_(28,"button",18),z("click",function(){return X(t),Z($().vote("repeat"))}),_(29,"div",12),O(30,"i",19),_(31,"span"),I(32,"Mismo g\xe9nero"),y(),_(33,"div",14),I(34),y()(),Y(35,Nfe,1,0,"div",15),y()(),Y(36,Vfe,4,1,"div",20),y()}if(2&n){const t=$();b(1),Ee("visible",t.isLoading),b(7),ge("",t.votingStatus.total_votes," votos (beta) "),b(4),Ee("voted",t.hasVoted("next")),j("disabled",t.hasVoted("next")||t.isLoading),b(5),Ee("updating",t.isUpdatingNext),b(1),ge(" ",t.votingStatus.votes.next," "),b(1),j("ngIf",t.hasVoted("next")),b(1),Ee("voted",t.hasVoted("genre_change")),j("disabled",t.hasVoted("genre_change")||t.isLoading),b(5),Ee("updating",t.isUpdatingGenre),b(1),ge(" ",t.votingStatus.votes.genre_change," "),b(1),j("ngIf",t.hasVoted("genre_change")),b(1),Ee("voted",t.hasVoted("repeat")),j("disabled",t.hasVoted("repeat")||t.isLoading),b(5),Ee("updating",t.isUpdatingRepeat),b(1),ge(" ",t.votingStatus.votes.repeat," "),b(1),j("ngIf",t.hasVoted("repeat")),b(1),j("ngIf",t.lastVoteType)}}let Lfe=(()=>{class n{votingService;spotifyService;cdr;votingStatus=null;currentSong=null;userVotes=[];lastVoteType="";isLoading=!1;isUpdatingNext=!1;isUpdatingGenre=!1;isUpdatingRepeat=!1;votingSubscription;songSubscription;statusPollingSubscription;constructor(t,r,i){this.votingService=t,this.spotifyService=r,this.cdr=i}ngOnInit(){this.loadVotingStatus(),this.votingSubscription=Qm(2e3).subscribe(()=>{this.loadVotingStatus()}),this.songSubscription=this.spotifyService.getAdminCurrentlyPlayingPolling().subscribe(t=>{this.currentSong=t,t&&t.id!==this.votingStatus?.current_song_id&&(this.userVotes=[],this.lastVoteType="",this.loadVotingStatus())})}forceRefresh(){this.loadVotingStatus(),this.showNotification("Votaciones actualizadas","success")}ngOnDestroy(){this.votingSubscription&&this.votingSubscription.unsubscribe(),this.songSubscription&&this.songSubscription.unsubscribe(),this.statusPollingSubscription&&this.statusPollingSubscription.unsubscribe()}loadVotingStatus(){this.votingService.getVotingStatusImmediate().subscribe({next:t=>{t&&t.votes?this.votingStatus=t:console.warn("Datos de votaci\xf3n inv\xe1lidos recibidos:",t)},error:t=>{console.error("Error loading voting status:",t),setTimeout(()=>this.loadVotingStatus(),1e3)}})}vote(t){this.hasVoted(t)?this.showNotification("Ya has votado por esta opci\xf3n","warning"):this.votingService.submitVote(t).subscribe({next:r=>{this.userVotes.push(t),this.lastVoteType=t,this.votingStatus=r.status,this.showNotification(`Voto registrado: ${this.getVoteTypeName(t)}`,"success"),this.loadVotingStatus(),this.cdr.detectChanges(),setTimeout(()=>{this.lastVoteType="",this.cdr.detectChanges()},3e3)},error:r=>{console.error("Error submitting vote:",r);let i="Error al votar";r.message.includes("Ya has votado por")&&(this.userVotes.push(t),i=r.message,this.loadVotingStatus()),this.showNotification(i,"warning"),this.cdr.detectChanges()}})}showNotification(t,r){const i=document.createElement("div");i.style.cssText="\n      position: fixed;\n      top: 20px;\n      right: 20px;\n      padding: 12px 20px;\n      border-radius: 8px;\n      color: white;\n      font-weight: 600;\n      z-index: 1000;\n      animation: slideIn 0.3s ease;\n    ",i.style.background="success"===r?"linear-gradient(135deg, #1ed760, #19a34a)":"error"===r?"linear-gradient(135deg, #ff4d4d, #cc0000)":"linear-gradient(135deg, #ff9a00, #e67e00)",i.textContent=t,document.body.appendChild(i),setTimeout(()=>{i.style.animation="slideOut 0.3s ease",setTimeout(()=>{document.body.contains(i)&&document.body.removeChild(i)},300)},3e3)}hasVoted(t){return this.userVotes.includes(t)}getVoteTypeName(t){return{next:"siguiente canci\xf3n",genre_change:"cambiar de g\xe9nero",repeat:"mantener g\xe9nero"}[t]||t}static \u0275fac=function(r){return new(r||n)(H(wu),H(J1),H(xl))};static \u0275cmp=$n({type:n,selectors:[["app-voting"]],standalone:!0,features:[Kn],decls:1,vars:1,consts:[["class","voting-container",4,"ngIf"],[1,"voting-container"],[1,"loading-overlay"],[1,"spinner"],[1,"voting-header"],[1,"header-controls"],[1,"total-votes"],[1,"fas","fa-users"],["title","Actualizar votos",1,"refresh-btn",3,"click"],[1,"fas","fa-sync-alt"],[1,"voting-options"],[1,"vote-btn","next",3,"disabled","click"],[1,"btn-content"],[1,"fas","fa-forward"],[1,"vote-count"],["class","pulse-ring",4,"ngIf"],[1,"vote-btn","genre",3,"disabled","click"],[1,"fas","fa-random"],[1,"vote-btn","repeat",3,"disabled","click"],[1,"fas","fa-redo"],["class","voting-feedback",4,"ngIf"],[1,"pulse-ring"],[1,"voting-feedback"],[1,"fas","fa-check-circle"]],template:function(r,i){1&r&&Y(0,Ffe,37,25,"div",0),2&r&&j("ngIf",i.votingStatus&&(null==i.currentSong?null:i.currentSong.is_playing))},dependencies:[jr,Er],styles:['.voting-container[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(30,215,96,.15),rgba(29,185,84,.1));-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-radius:16px;padding:1rem;margin:1rem 0;border:1px solid rgba(30,215,96,.3);width:100%;max-width:100%;box-shadow:0 0 20px #1ed76040,inset 0 1px #ffffff1a;position:relative;overflow:hidden}.voting-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:2px;background:linear-gradient(90deg,transparent,rgba(30,215,96,.8),transparent);animation:_ngcontent-%COMP%_neonGlow 3s ease-in-out infinite}.voting-header[_ngcontent-%COMP%]{margin-bottom:1rem;text-align:center}.voting-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#1ed760;margin:0 0 .5rem;font-weight:700;font-size:1.1rem;text-shadow:0 0 10px rgba(30,215,96,.5);letter-spacing:.5px}.total-votes[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;color:#ffffffb3;font-size:.85rem}.total-votes[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#1ed760}.voting-options[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:.8rem;margin-bottom:1rem}.vote-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:.8rem .5rem;border:2px solid rgba(30,215,96,.3);border-radius:12px;background:rgba(25,20,20,.6);color:#fff;transition:all .3s ease;cursor:pointer;flex:1;min-width:0;min-height:80px;position:relative}.vote-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:rgba(30,215,96,.2);border-color:#1ed760;transform:translateY(-2px);box-shadow:0 5px 15px #1ed7604d}.vote-btn[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.vote-btn.voted[_ngcontent-%COMP%]{background:rgba(30,215,96,.25);border-color:#1ed760}.vote-btn.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .vote-btn.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .vote-btn.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   .vote-count[_ngcontent-%COMP%]{color:#1ed760;text-shadow:0 0 8px rgba(30,215,96,.6)}.vote-btn.next[_ngcontent-%COMP%]{border-color:#1ed76066}.vote-btn.next[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#1ed760}.vote-btn.genre[_ngcontent-%COMP%]{border-color:#569af766}.vote-btn.genre[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#569af7}.vote-btn.genre.voted[_ngcontent-%COMP%]{background:rgba(86,154,247,.25);border-color:#569af7}.vote-btn.genre.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .vote-btn.genre.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .vote-btn.genre.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   .vote-count[_ngcontent-%COMP%]{color:#569af7;text-shadow:0 0 8px rgba(86,154,247,.6)}.vote-btn.repeat[_ngcontent-%COMP%]{border-color:#ff9a0066}.vote-btn.repeat[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#ff9a00}.vote-btn.repeat.voted[_ngcontent-%COMP%]{background:rgba(255,154,0,.25);border-color:#ff9a00}.vote-btn.repeat.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .vote-btn.repeat.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .vote-btn.repeat.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   .vote-count[_ngcontent-%COMP%]{color:#ff9a00;text-shadow:0 0 8px rgba(255,154,0,.6)}.btn-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.4rem;z-index:2}.btn-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;transition:all .3s ease}.btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;font-size:.75rem;text-align:center;transition:all .3s ease}.btn-content[_ngcontent-%COMP%]   .vote-count[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;color:#fff;transition:all .3s ease}.pulse-ring[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:60px;height:60px;border:2px solid #1ed760;border-radius:50%;animation:_ngcontent-%COMP%_pulse 2s infinite;opacity:.6}.voting-feedback[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;padding-top:.8rem;border-top:1px solid rgba(255,255,255,.1);color:#1ed760;font-weight:600;font-size:.9rem}.voting-feedback[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bounce .5s ease-in-out}@keyframes _ngcontent-%COMP%_neonGlow{0%,to{opacity:.5}50%{opacity:1}}@keyframes _ngcontent-%COMP%_pulse{0%{transform:translate(-50%,-50%) scale(.8);opacity:.6}50%{transform:translate(-50%,-50%) scale(1.1);opacity:.3}to{transform:translate(-50%,-50%) scale(.8);opacity:.6}}@keyframes _ngcontent-%COMP%_bounce{0%,20%,50%,80%,to{transform:translateY(0)}40%{transform:translateY(-5px)}60%{transform:translateY(-3px)}}@media (max-width: 768px){.voting-container[_ngcontent-%COMP%]{padding:.8rem;margin:.8rem 0}.voting-options[_ngcontent-%COMP%]{gap:.5rem}.vote-btn[_ngcontent-%COMP%]{padding:.6rem .4rem;min-height:70px}.vote-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.vote-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.7rem}.vote-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   .vote-count[_ngcontent-%COMP%]{font-size:.9rem}.voting-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 480px){.voting-options[_ngcontent-%COMP%]{flex-direction:column;gap:.6rem}.vote-btn[_ngcontent-%COMP%]{min-height:60px;flex-direction:row;justify-content:flex-start;padding:.8rem}.vote-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]{flex-direction:row;gap:.8rem;align-items:center}.vote-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:0}.vote-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8rem;flex-grow:1;text-align:left}.vote-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   .vote-count[_ngcontent-%COMP%]{font-size:1rem}}.voting-container[_ngcontent-%COMP%]{position:relative}.loading-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:rgba(0,0,0,.7);display:flex;align-items:center;justify-content:center;border-radius:16px;z-index:10;opacity:0;visibility:hidden;transition:all .3s ease}.loading-overlay.visible[_ngcontent-%COMP%]{opacity:1;visibility:visible}.loading-overlay[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:30px;height:30px;border:3px solid rgba(30,215,96,.3);border-top:3px solid #1ed760;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.vote-count[_ngcontent-%COMP%]{transition:all .3s ease}.vote-count.updating[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulseUpdate .5s ease;color:#1ed760}@keyframes _ngcontent-%COMP%_pulseUpdate{0%{transform:scale(1)}50%{transform:scale(1.2)}to{transform:scale(1)}}.header-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.refresh-btn[_ngcontent-%COMP%]{background:rgba(255,255,255,.1);border:none;border-radius:50%;width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease}.refresh-btn[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.2);transform:rotate(180deg)}.refresh-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff;font-size:14px}']})}return n})();function Ufe(n,e){if(1&n){const t=Ae();_(0,"div",6)(1,"div",7),O(2,"img",8),y(),_(3,"div",9)(4,"div",10)(5,"h3",11),I(6),y(),_(7,"p",12),I(8),y()(),_(9,"div",13)(10,"span",14),I(11),y(),_(12,"div",15),O(13,"div",16),y(),_(14,"span",14),I(15),y()()(),_(16,"div",17)(17,"button",18),z("click",function(){return X(t),Z($().forceUpdate())}),O(18,"i",19),y()()()}if(2&n){const t=$();b(2),Xf("alt","Car\xe1tula de ",t.adminCurrentlyPlaying.name,""),j("src",t.adminCurrentlyPlaying.image,sr),b(4),ue(t.adminCurrentlyPlaying.name),b(2),ue(t.adminCurrentlyPlaying.artists),b(3),ue(t.formatTime(t.progress*t.songDurationMs/100)),b(2),vl("width",t.progress,"%"),b(2),ue(t.formatTime(t.songDurationMs)),b(2),j("disabled",t.isUpdating),b(1),Ee("fa-spin",t.isUpdating)}}function Bfe(n,e){1&n&&O(0,"app-voting")}function jfe(n,e){1&n&&(_(0,"div",20)(1,"div",21),O(2,"i",22),_(3,"p",23),I(4,"No hay m\xfasica sonando."),y()()())}let VB=(()=>{class n{spotifyService;votingService;adminCurrentlyPlaying=null;progress=0;songDurationMs=0;isUpdating=!1;pollingSubscription=null;progressInterval=null;songInitialProgressMs=0;lastSyncTime=0;constructor(t,r){this.spotifyService=t,this.votingService=r}ngOnInit(){this.startAdminSpotifyPolling()}ngOnDestroy(){this.pollingSubscription&&this.pollingSubscription.unsubscribe(),this.stopProgressBar()}startAdminSpotifyPolling(){this.pollingSubscription=this.spotifyService.getAdminCurrentlyPlayingPolling().subscribe({next:t=>{t&&t.is_playing?this.adminCurrentlyPlaying&&this.adminCurrentlyPlaying.id===t.id?this.syncProgressBar(t.progress_ms,t.duration_ms):(this.adminCurrentlyPlaying=t,this.startProgressBar(t.progress_ms,t.duration_ms),this.checkAndRemovePlayingSong()):(this.adminCurrentlyPlaying=null,this.stopProgressBar())},error:t=>{console.error("Error al obtener reproducci\xf3n actual del admin:",t),this.adminCurrentlyPlaying=null,this.stopProgressBar()}})}forceUpdate(){this.isUpdating||(this.isUpdating=!0,this.spotifyService.getAdminCurrentlyPlaying().subscribe({next:t=>{t&&t.is_playing?this.adminCurrentlyPlaying&&this.adminCurrentlyPlaying.id===t.id?this.syncProgressBar(t.progress_ms,t.duration_ms):(this.adminCurrentlyPlaying=t,this.startProgressBar(t.progress_ms,t.duration_ms)):(this.adminCurrentlyPlaying=null,this.stopProgressBar()),this.isUpdating=!1},error:t=>{console.error("Error al forzar la actualizaci\xf3n:",t),this.adminCurrentlyPlaying=null,this.stopProgressBar(),this.isUpdating=!1}}))}startProgressBar(t,r){this.stopProgressBar(),this.syncProgressBar(t,r),this.progressInterval=setInterval(()=>{this.updateProgress()},500)}syncProgressBar(t,r){this.songInitialProgressMs=t,this.songDurationMs=r,this.lastSyncTime=Date.now(),this.updateProgress()}updateProgress(){if(!this.adminCurrentlyPlaying||this.songDurationMs<=0)return void(this.progress=0);const t=Date.now()-this.lastSyncTime;this.progress=Math.min((this.songInitialProgressMs+t)/this.songDurationMs*100,100),this.progress>=100&&this.stopProgressBar()}stopProgressBar(){this.progressInterval&&(clearInterval(this.progressInterval),this.progressInterval=null)}onVoteCasted(){const t=document.querySelector("app-voting-list");t&&t.forceRefresh&&t.forceRefresh()}checkAndRemovePlayingSong(){this.adminCurrentlyPlaying&&this.adminCurrentlyPlaying.id&&setTimeout(()=>{this.spotifyService.checkAndRemovePlayingSongFromRanking().subscribe({next:t=>{t.deleted&&(console.log("Canci\xf3n eliminada del ranking:",t.song.name),this.votingService.forceRefresh().subscribe())},error:t=>{console.error("Error al verificar canci\xf3n en reproducci\xf3n:",t)}})},3e3)}formatTime(t){if(!t)return"0:00";const r=Math.floor(t/1e3),o=r%60;return`${Math.floor(r/60)}:${o<10?"0":""}${o}`}static \u0275fac=function(r){return new(r||n)(H(J1),H(wu))};static \u0275cmp=$n({type:n,selectors:[["app-home"]],standalone:!0,features:[Kn],decls:8,vars:3,consts:[[1,"home-container"],["class","now-playing-section compact-card fade-in",4,"ngIf","ngIfElse"],[1,"voting-section"],[4,"ngIf"],["noSongPlaying",""],[3,"voteCasted"],[1,"now-playing-section","compact-card","fade-in"],[1,"album-art-container"],[1,"album-art",3,"src","alt"],[1,"song-info-container"],[1,"song-details"],[1,"song-title"],[1,"song-artist"],[1,"progress-container"],[1,"time-display"],[1,"progress"],[1,"progress-bar"],[1,"update-button-container"],["title","Actualizar",1,"btn","btn-icon",3,"disabled","click"],[1,"fas","fa-sync-alt"],[1,"no-song-playing","compact-card","fade-in"],[1,"card-body"],[1,"fas","fa-music-slash","text-muted"],[1,"text-muted"]],template:function(r,i){if(1&r&&(_(0,"div",0),Y(1,Ufe,19,11,"div",1),_(2,"div",2),Y(3,Bfe,1,0,"app-voting",3),y(),Y(4,jfe,5,0,"ng-template",null,4,uc),_(6,"app-search",5),z("voteCasted",function(){return i.onVoteCasted()}),y(),O(7,"app-voting-list"),y()),2&r){const o=oc(5);b(1),j("ngIf",i.adminCurrentlyPlaying)("ngIfElse",o),b(2),j("ngIf",i.adminCurrentlyPlaying)}},dependencies:[jr,Er,Efe,Ofe,Lfe],styles:['@charset "UTF-8";.home-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.compact-card[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:var(--card-bg);border:1px solid var(--hover-bg);border-radius:12px;overflow:hidden;padding:.2rem;gap:1rem;transition:border-color .3s ease}.compact-card[_ngcontent-%COMP%]:hover{border-color:var(--primary-color)}.album-art-container[_ngcontent-%COMP%]{flex-shrink:0}.album-art[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:8px;box-shadow:0 4px 15px #00000080}.song-info-container[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;justify-content:center;gap:.5rem;min-width:0}.song-details[_ngcontent-%COMP%]   .song-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:var(--text-primary);margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.song-details[_ngcontent-%COMP%]   .song-artist[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary);margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.update-button-container[_ngcontent-%COMP%]{flex-shrink:0;margin-left:auto}.btn-icon[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--text-secondary);font-size:1.2rem;cursor:pointer;padding:.5rem;border-radius:50%}.btn-icon[_ngcontent-%COMP%]:hover{color:var(--text-primary);background-color:var(--hover-bg)}.btn-icon[_ngcontent-%COMP%]:disabled{color:var(--text-tertiary);cursor:not-allowed}.progress-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;width:100%}.progress-container[_ngcontent-%COMP%]   .time-display[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-secondary);min-width:40px;text-align:center}.progress-container[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{flex-grow:1;height:6px;background-color:#444;border-radius:3px;overflow:hidden}.progress-container[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background-color:var(--primary-color);height:100%;transition:width .25s linear}.no-song-playing[_ngcontent-%COMP%]{justify-content:center}.no-song-playing[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.no-song-playing[_ngcontent-%COMP%]   .fa-music-slash[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--text-tertiary)}.no-song-playing[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-secondary);font-weight:500}@media (max-width: 768px){.compact-card[_ngcontent-%COMP%]{padding:.75rem;gap:.75rem}.album-art[_ngcontent-%COMP%]{width:60px;height:60px}.song-details[_ngcontent-%COMP%]   .song-title[_ngcontent-%COMP%]{font-size:1rem}.song-details[_ngcontent-%COMP%]   .song-artist[_ngcontent-%COMP%]{font-size:.8rem}.progress-container[_ngcontent-%COMP%]{max-width:100%}}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out;box-shadow:0 4px 15px #035f0b93}.fade-in[_ngcontent-%COMP%]:hover{box-shadow:0 8px 20px #00000080}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.voting-section[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;margin:1.5rem 0}']})}return n})();const $fe=function(n,e,t,r,i,o){return{width:n,height:e,left:t,top:r,"animation-duration":i,"animation-delay":o}};function Hfe(n,e){if(1&n&&O(0,"div",8),2&n){const t=e.$implicit;j("ngStyle",bR(1,$fe,t.width,t.height,t.left,t.top,t.animationDuration,t.animationDelay))}}function zfe(n,e){if(1&n&&(_(0,"div",19),I(1),y()),2&n){const t=$(2);b(1),ge(" ",t.errorMessage," ")}}function Gfe(n,e){1&n&&O(0,"i",20)}function qfe(n,e){if(1&n){const t=Ae();_(0,"form",9),z("ngSubmit",function(){return X(t),Z($().login())}),_(1,"div",10)(2,"input",11),z("ngModelChange",function(i){return X(t),Z($().email=i)}),y(),_(3,"label",12),I(4,"Email"),y()(),_(5,"div",10)(6,"input",13),z("ngModelChange",function(i){return X(t),Z($().password=i)}),y(),_(7,"label",14),I(8,"Contrase\xf1a"),y()(),Y(9,zfe,2,1,"div",15),_(10,"button",16)(11,"span",17),I(12),y(),Y(13,Gfe,1,0,"i",18),y()()}if(2&n){const t=$();b(2),j("ngModel",t.email),b(4),j("ngModel",t.password),b(3),j("ngIf",t.errorMessage),b(1),j("disabled",t.isLoading),b(2),ue(t.isLoading?"Verificando...":"Ingresar"),b(1),j("ngIf",t.isLoading)}}function Wfe(n,e){1&n&&(_(0,"div",21)(1,"p"),I(2,"Sesi\xf3n iniciada. Redirigiendo al panel de administrador..."),y(),_(3,"a",22),I(4,"Ir al Panel"),y()())}let Kfe=(()=>{class n{authService;router;email="";password="";errorMessage="";isLoading=!1;particles=[];constructor(t,r){this.authService=t,this.router=r}ngOnInit(){document.body.classList.add("login-page-active"),this.createParticles()}ngOnDestroy(){document.body.classList.remove("login-page-active")}createParticles(){for(let r=0;r<15;r++)this.particles.push(this.generateParticle())}generateParticle(){const t=20*Math.random()+20,r=90*Math.random()+15,i=7*Math.random();return{width:`${t}px`,height:`${t}px`,left:100*Math.random()+"%",animationDuration:`${r}s`,animationDelay:`${i}s`}}login(){this.email&&this.password?(this.isLoading=!0,this.errorMessage="",this.authService.login(this.email,this.password).subscribe({next:()=>{this.isLoading=!1,setTimeout(()=>{this.router.navigate(["/admin-panel"])},1500)},error:t=>{this.isLoading=!1,this.errorMessage=this.getFirebaseErrorMessage(t)}})):this.errorMessage="Por favor, completa ambos campos."}getFirebaseErrorMessage(t){switch(t.code){case"auth/invalid-email":return"El formato del correo electr\xf3nico no es v\xe1lido.";case"auth/user-disabled":return"Este usuario ha sido deshabilitado.";case"auth/user-not-found":case"auth/wrong-password":case"auth/invalid-credential":return"Correo electr\xf3nico o contrase\xf1a incorrectos.";case"auth/too-many-requests":return"Acceso bloqueado por demasiados intentos. Intenta de nuevo m\xe1s tarde.";default:return console.error("Error de login no manejado:",t),"Error al iniciar sesi\xf3n. Verifica tus credenciales e intenta de nuevo."}}static \u0275fac=function(r){return new(r||n)(H(sa),H(kn))};static \u0275cmp=$n({type:n,selectors:[["app-admin-login"]],standalone:!0,features:[Kn],decls:9,vars:3,consts:[[1,"admin-login-wrapper"],[1,"particles"],["class","particle",3,"ngStyle",4,"ngFor","ngForOf"],[1,"login-container"],[1,"glassmorphism-form"],[1,"form-title"],[3,"ngSubmit",4,"ngIf"],["class","logged-in-message",4,"ngIf"],[1,"particle",3,"ngStyle"],[3,"ngSubmit"],[1,"input-group"],["type","email","id","email","name","email","required","","placeholder"," ",1,"form-input",3,"ngModel","ngModelChange"],["for","email",1,"form-label"],["type","password","id","password","name","password","required","","placeholder"," ",1,"form-input",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["class","error-message",4,"ngIf"],["type","submit",1,"login-button",3,"disabled"],[1,"button-text"],["class","fas fa-spinner fa-spin",4,"ngIf"],[1,"error-message"],[1,"fas","fa-spinner","fa-spin"],[1,"logged-in-message"],["routerLink","/admin-panel",1,"admin-link"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1),Y(2,Hfe,1,8,"div",2),y(),_(3,"div",3)(4,"div",4)(5,"h2",5),I(6,"Acceso Administrador"),y(),Y(7,qfe,14,6,"form",6),Y(8,Wfe,5,0,"div",7),y()()()),2&r&&(b(2),j("ngForOf",i.particles),b(5),j("ngIf",!i.authService.isLoggedIn()),b(1),j("ngIf",i.authService.isLoggedIn()))},dependencies:[jr,Fi,Er,oN,Eu,fB,oo,ia,eB,Km,Xo,qm,td,ws],styles:['@charset "UTF-8";[_nghost-%COMP%]{--login-bg: #0a0a0a;--glass-bg: rgba(18, 18, 18, .85);--primary-color: #1DB954;--text-primary: #FFFFFF;--text-secondary: #B3B3B3;--hover-bg: rgba(255, 255, 255, .05)}.admin-login-wrapper[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:var(--login-bg);position:relative;overflow:hidden;padding:2rem}.admin-login-wrapper[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at 10% 20%,rgba(29,185,84,.15) 0%,transparent 25%),radial-gradient(circle at 90% 80%,rgba(141,103,171,.15) 0%,transparent 25%),radial-gradient(circle at 50% 50%,rgba(29,185,84,.1) 0%,transparent 40%);z-index:0;pointer-events:none}.particles[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;pointer-events:none}.particle[_ngcontent-%COMP%]{position:absolute;background:rgba(29,185,84,.3);border-radius:50%;animation:_ngcontent-%COMP%_float 6s infinite ease-in-out}.particle[_ngcontent-%COMP%]:nth-child(odd){background:rgba(141,103,171,.3);animation-duration:8s;animation-delay:1s}.particle[_ngcontent-%COMP%]:nth-child(3n){background:rgba(45,70,185,.2);animation-duration:10s;animation-delay:2s}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0) translate(0);opacity:.7}25%{transform:translateY(-20px) translate(10px);opacity:.4}50%{transform:translateY(-35px) translate(-15px);opacity:.6}75%{transform:translateY(-15px) translate(-20px);opacity:.5}}.login-container[_ngcontent-%COMP%]{position:relative;z-index:2;width:100%;max-width:450px}.glassmorphism-form[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,.1);border-radius:20px;padding:2.5rem;box-shadow:0 15px 35px #00000080,0 0 0 1px #ffffff0d;transition:all .4s ease}.glassmorphism-form[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 20px 45px #1db95433,0 0 0 1px #1db9541a}.form-title[_ngcontent-%COMP%]{color:var(--text-primary);text-align:center;margin-bottom:2rem;font-weight:800;font-size:1.8rem;letter-spacing:-.5px;position:relative}.form-title[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;transform:translate(-50%);width:50px;height:3px;background:var(--primary-color);border-radius:2px}.input-group[_ngcontent-%COMP%]{position:relative;margin-bottom:1.8rem}.form-input[_ngcontent-%COMP%]{width:100%;background:rgba(42,42,42,.7);border:1px solid rgba(62,62,62,.5);color:var(--text-primary);border-radius:12px;padding:1rem 1.2rem;font-size:1rem;transition:all .3s ease}.form-input[_ngcontent-%COMP%]:focus{outline:none;background:rgba(42,42,42,.9);border-color:var(--primary-color);box-shadow:0 0 0 3px #1db95433}.form-input[_ngcontent-%COMP%]:focus + .form-label[_ngcontent-%COMP%], .form-input[_ngcontent-%COMP%]:not(:placeholder-shown) + .form-label[_ngcontent-%COMP%]{top:-12px;left:10px;font-size:.8rem;background:var(--glass-bg);padding:0 8px;color:var(--primary-color)}.form-label[_ngcontent-%COMP%]{position:absolute;top:1rem;left:1.2rem;color:var(--text-secondary);font-size:1rem;pointer-events:none;transition:all .3s ease}.error-message[_ngcontent-%COMP%]{background:rgba(226,33,52,.15);color:#e22134;border:1px solid rgba(226,33,52,.2);border-radius:8px;padding:.8rem;margin-bottom:1.5rem;font-size:.9rem;text-align:center}.login-button[_ngcontent-%COMP%]{width:100%;background:linear-gradient(135deg,var(--primary-color) 0%,#1aa34a 100%);color:var(--text-primary);border:none;border-radius:50px;padding:1rem;font-size:1.1rem;font-weight:700;cursor:pointer;transition:all .3s ease;position:relative;overflow:hidden;box-shadow:0 5px 15px #1db9544d}.login-button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:all .5s ease}.login-button[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 8px 20px #1db95466}.login-button[_ngcontent-%COMP%]:hover:before{left:100%}.login-button[_ngcontent-%COMP%]:disabled{opacity:.7;transform:none;box-shadow:none;cursor:not-allowed}.button-text[_ngcontent-%COMP%]{position:relative;z-index:1}.logged-in-message[_ngcontent-%COMP%]{text-align:center;color:var(--text-primary)}.logged-in-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1.5rem;font-size:1.1rem}.admin-link[_ngcontent-%COMP%]{display:inline-block;background:var(--primary-color);color:var(--text-primary);text-decoration:none;padding:.8rem 1.8rem;border-radius:50px;font-weight:700;transition:all .3s ease;box-shadow:0 4px 15px #1db9544d}.admin-link[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #1db95466}@media (max-width: 576px){.admin-login-wrapper[_ngcontent-%COMP%]{padding:1rem}.glassmorphism-form[_ngcontent-%COMP%]{padding:2rem 1.5rem}.form-title[_ngcontent-%COMP%]{font-size:1.5rem}}']})}return n})(),FB=(()=>{class n{http;authService;apiUrl=_i_apiUrl;constructor(t,r){this.http=t,this.authService=r}getSchedules(){return this.http.get(`${this.apiUrl}/api/schedules`)}updateSchedules(t){const r=this.authService.getAuthHeaders();return this.http.put(`${this.apiUrl}/api/schedules`,t,{headers:r})}static \u0275fac=function(r){return new(r||n)(ae(ri),ae(sa))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Qfe=(()=>{class n{http;authService;apiUrl=_i_apiUrl;constructor(t,r){this.http=t,this.authService=r}getQueue(){const t=this.authService.getAuthHeaders();return this.http.get(`${this.apiUrl}/api/spotify/admin/queue`,{headers:t})}addToQueue(t){const r=this.authService.getAuthHeaders();return this.http.post(`${this.apiUrl}/api/spotify/admin/queue`,{uri:t},{headers:r}).pipe($r(i=>{console.error("Error adding to queue:",i);let o="Error desconocido al agregar a la cola";throw i.error?.error?o=i.error.error:401===i.status?o="No autorizado - verifica la conexi\xf3n de Spotify":404===i.status&&(o="Dispositivo de Spotify no encontrado"),new Error(o)}))}static \u0275fac=function(r){return new(r||n)(ae(ri),ae(sa))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Yfe(n,e){if(1&n&&(_(0,"div",33),O(1,"i",34),I(2),y()),2&n){const t=$();b(2),ge(" ",t.successMessage," ")}}function Jfe(n,e){if(1&n&&(_(0,"div",35),O(1,"i",36),I(2),y()),2&n){const t=$();b(2),ge(" ",t.errorMessage," ")}}function Xfe(n,e){if(1&n&&(_(0,"div",37),O(1,"i",38),I(2),y()),2&n){const t=$();b(2),ge(" ",t.actionInProgress," ")}}function Zfe(n,e){if(1&n){const t=Ae();_(0,"div",39),O(1,"div",40),_(2,"span",41),I(3),y(),_(4,"button",42),z("click",function(){X(t);const i=$();return Z(i.spotifyStatus.authenticated?i.disconnectSpotify():i.connectSpotify())}),I(5),y()()}if(2&n){const t=$();b(1),Ee("connected",t.spotifyStatus.authenticated&&t.spotifyStatus.token_valid)("disconnected",!t.spotifyStatus.authenticated||!t.spotifyStatus.token_valid),b(2),ge(" ",t.spotifyStatus.authenticated&&t.spotifyStatus.token_valid?"Spotify Conectado":"Spotify Desconectado"," "),b(2),ge(" ",t.spotifyStatus.authenticated?"Desconectar":"Conectar"," ")}}function epe(n,e){if(1&n){const t=Ae();_(0,"div",43)(1,"div",44)(2,"div",45)(3,"div",46),O(4,"i",47),y(),_(5,"div",48)(6,"h3"),I(7),y(),_(8,"p"),I(9,"Canciones en ranking"),y()()(),_(10,"div",45)(11,"div",46),O(12,"i",49),y(),_(13,"div",48)(14,"h3"),I(15),y(),_(16,"p"),I(17,"Total de votos"),y()()(),_(18,"div",45)(19,"div",46),O(20,"i",50),y(),_(21,"div",48)(22,"h3"),I(23),y(),_(24,"p"),I(25,"Votantes \xfanicos"),y()()(),_(26,"div",45)(27,"div",46),O(28,"i",51),y(),_(29,"div",48)(30,"h3"),I(31),y(),_(32,"p"),I(33,"En cola"),y()()()(),_(34,"div",52)(35,"button",53),z("click",function(){return X(t),Z($().loadSongs())}),O(36,"i",54),I(37,"Actualizar Ranking "),y(),_(38,"button",55),z("click",function(){return X(t),Z($().toggleQueue())}),O(39,"i",56),I(40,"Ver Cola "),y(),_(41,"button",57),z("click",function(){return X(t),Z($().getAdminCurrentlyPlaying())}),O(42,"i",58),I(43,"Actualizar Reproducci\xf3n "),y()()()}if(2&n){const t=$();b(7),ue(t.songs.length),b(8),ue(t.totalVotes),b(8),ue(t.uniqueVoters),b(8),ue(t.queue.length)}}function tpe(n,e){if(1&n){const t=Ae();_(0,"div",64)(1,"div",65),O(2,"img",66),_(3,"div",67)(4,"h3"),I(5),y(),_(6,"p",68),I(7),y(),_(8,"div",69)(9,"div",70),O(10,"div",71),y(),_(11,"div",72)(12,"span"),I(13),y(),_(14,"span"),I(15),y()()()(),_(16,"div",73)(17,"button",74),z("click",function(){return X(t),Z($(2).checkPlayingSong())}),O(18,"i",75),y(),_(19,"button",76),z("click",function(){return X(t),Z($(2).checkAddToHistory())}),O(20,"i",51),y()()(),_(21,"div",77)(22,"button",78),z("click",function(){return X(t),Z($(2).previousTrack())}),O(23,"i",79),y(),_(24,"button",80),z("click",function(){return X(t),Z($(2).togglePlayback())}),O(25,"i",31),y(),_(26,"button",78),z("click",function(){return X(t),Z($(2).nextTrack())}),O(27,"i",81),y()()()}if(2&n){const t=$(2);b(2),j("src",t.adminCurrentlyPlaying.image,sr),b(3),ue(t.adminCurrentlyPlaying.name),b(2),ue(t.adminCurrentlyPlaying.artists.join(", ")),b(3),vl("width",t.adminCurrentlyPlaying.progress_ms/t.adminCurrentlyPlaying.duration_ms*100,"%"),b(3),ue(t.formatTime(t.adminCurrentlyPlaying.progress_ms)),b(2),ue(t.formatTime(t.adminCurrentlyPlaying.duration_ms)),b(4),j("disabled",!t.adminCurrentlyPlaying||t.actionInProgress),b(6),Ee("fa-play",!t.isPlaying)("fa-pause",t.isPlaying)}}function npe(n,e){if(1&n){const t=Ae();_(0,"button",85),z("click",function(){return X(t),Z($(3).connectSpotify())}),I(1," Conectar Spotify "),y()}}function rpe(n,e){if(1&n&&(_(0,"div",82),O(1,"i",83),_(2,"p"),I(3,"No se est\xe1 reproduciendo ninguna canci\xf3n"),y(),Y(4,npe,2,0,"button",84),y()),2&n){const t=$(2);b(4),j("ngIf",!(null!=t.spotifyStatus&&t.spotifyStatus.authenticated))}}function ipe(n,e){if(1&n){const t=Ae();_(0,"div",43)(1,"div",59)(2,"h2"),I(3,"Reproduciendo Ahora"),y(),_(4,"button",60),z("click",function(){return X(t),Z($().getAdminCurrentlyPlaying())}),O(5,"i",61),y()(),Y(6,tpe,28,12,"div",62),Y(7,rpe,5,1,"ng-template",null,63,uc),y()}if(2&n){const t=oc(8),r=$();b(5),Ee("fa-spin",r.isLoadingCurrent),b(1),j("ngIf",r.adminCurrentlyPlaying)("ngIfElse",t)}}function ope(n,e){if(1&n){const t=Ae();_(0,"div",91)(1,"span",92),I(2),y(),O(3,"img",93),_(4,"div",94)(5,"h4"),I(6),y(),_(7,"p"),I(8),y()(),_(9,"div",95)(10,"button",96),z("click",function(){const o=X(t).$implicit;return Z($(3).playTrack(o.uri))}),O(11,"i",97),y()()()}if(2&n){const t=e.$implicit,r=e.index;b(2),ue(r+1),b(1),j("src",(null==t.album||null==t.album.images[0]?null:t.album.images[0].url)||"assets/default-song.png",sr),b(3),ue(t.name),b(2),ue(null==t.artists[0]?null:t.artists[0].name)}}function spe(n,e){if(1&n&&(_(0,"div",89),Y(1,ope,12,4,"div",90),y()),2&n){const t=$(2);b(1),j("ngForOf",t.queue)}}function ape(n,e){1&n&&(_(0,"div",82),O(1,"i",98),_(2,"p"),I(3,"No hay canciones en la cola de reproducci\xf3n"),y()())}function cpe(n,e){if(1&n){const t=Ae();_(0,"div",43)(1,"div",59)(2,"h2"),I(3,"Cola de Reproducci\xf3n"),y(),_(4,"button",86),z("click",function(){return X(t),Z($().loadQueue())}),O(5,"i",61),y()(),Y(6,spe,2,1,"div",87),Y(7,ape,4,0,"ng-template",null,88,uc),y()}if(2&n){const t=oc(8),r=$();b(4),j("disabled",r.isLoadingQueue),b(1),Ee("fa-spin",r.isLoadingQueue),b(1),j("ngIf",r.queue.length>0)("ngIfElse",t)}}function upe(n,e){if(1&n){const t=Ae();_(0,"div",106)(1,"div",107),I(2),y(),O(3,"img",108),_(4,"div",109)(5,"h4"),I(6),y(),_(7,"p"),I(8),y(),_(9,"div",110)(10,"span",111),O(11,"i",49),I(12),y(),_(13,"span",112),O(14,"i",113),I(15),y(),_(16,"span",114),I(17),y()()(),_(18,"div",115)(19,"button",116),z("click",function(){const o=X(t).$implicit;return Z($(3).adminVote(o,!1))}),O(20,"i",49),y(),_(21,"button",117),z("click",function(){const o=X(t).$implicit;return Z($(3).adminVote(o,!0))}),O(22,"i",113),y(),_(23,"button",118),z("click",function(){const o=X(t).$implicit;return Z($(3).addToQueueFromRanking(o.id))}),O(24,"i",119),y(),_(25,"button",120),z("click",function(){const o=X(t).$implicit;return Z($(3).deleteSong(o.id))}),O(26,"i",121),y()()()}if(2&n){const t=e.$implicit,r=e.index,i=$(3);b(2),ue(r+1),b(1),j("src",t.image,sr),b(3),ue(t.name),b(2),ue(t.artists.join(", ")),b(4),ge(" ",t.votes||0,""),b(3),ge(" ",t.dislikes||0,""),b(2),ue(i.formatTimeAgo(t.createdat)),b(2),Ee("active",i.hasAdminLiked(t.id)),b(2),Ee("active",i.hasAdminDisliked(t.id))}}function lpe(n,e){if(1&n&&(_(0,"div",104),Y(1,upe,27,11,"div",105),y()),2&n){const t=$(2);b(1),j("ngForOf",t.songs)}}function dpe(n,e){1&n&&(_(0,"div",82),O(1,"i",122),_(2,"p"),I(3,"No hay canciones en el ranking"),y()())}function hpe(n,e){if(1&n){const t=Ae();_(0,"div",43)(1,"div",59)(2,"h2"),I(3,"Ranking de Canciones"),y(),_(4,"div",99)(5,"button",86),z("click",function(){return X(t),Z($().loadSongs())}),O(6,"i",61),y(),_(7,"button",100),z("click",function(){return X(t),Z($().deleteAllVotes())}),O(8,"i",101),I(9,"Eliminar Todos "),y()()(),Y(10,lpe,2,1,"div",102),Y(11,dpe,4,0,"ng-template",null,103,uc),y()}if(2&n){const t=oc(12),r=$();b(5),j("disabled",r.isLoading),b(1),Ee("fa-spin",r.isLoading),b(4),j("ngIf",r.songs.length>0)("ngIfElse",t)}}const LB=function(){return["Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes"]};function fpe(n,e){if(1&n&&(_(0,"div",126)(1,"h4"),I(2),y(),_(3,"div",127)(4,"div",128)(5,"span",129),I(6,"Almuerzo:"),y(),_(7,"span",130),I(8),y()(),_(9,"div",128)(10,"span",129),I(11,"Cena:"),y(),_(12,"span",130),I(13),y()()(),_(14,"div",131)(15,"span",132),I(16),y()()()),2&n){const t=e.$implicit,r=$(3);b(2),ue(ms(10,LB)[t.day_of_week]),b(6),bo("",r.convertToAmPm(t.lunch_start)||"-"," - ",r.convertToAmPm(t.lunch_end)||"-",""),b(5),bo("",r.convertToAmPm(t.dinner_start)||"-"," - ",r.convertToAmPm(t.dinner_end)||"-",""),b(2),Ee("active",t.is_active)("inactive",!t.is_active),b(1),ge(" ",t.is_active?"Activo":"Inactivo"," ")}}function ppe(n,e){if(1&n&&(_(0,"div"),Y(1,fpe,17,11,"div",125),y()),2&n){const t=$(2);b(1),j("ngForOf",t.schedules)}}function gpe(n,e){if(1&n){const t=Ae();_(0,"div",136)(1,"h4"),I(2),y(),_(3,"div",137)(4,"div",138)(5,"label"),I(6,"Almuerzo Inicio"),y(),_(7,"input",139),z("ngModelChange",function(i){return Z(X(t).$implicit.lunch_start=i)}),y()(),_(8,"div",138)(9,"label"),I(10,"Almuerzo Fin"),y(),_(11,"input",139),z("ngModelChange",function(i){return Z(X(t).$implicit.lunch_end=i)}),y()(),_(12,"div",138)(13,"label"),I(14,"Cena Inicio"),y(),_(15,"input",139),z("ngModelChange",function(i){return Z(X(t).$implicit.dinner_start=i)}),y()(),_(16,"div",138)(17,"label"),I(18,"Cena Fin"),y(),_(19,"input",139),z("ngModelChange",function(i){return Z(X(t).$implicit.dinner_end=i)}),y()(),_(20,"div",140)(21,"label"),I(22,"Activo"),y(),_(23,"label",141)(24,"input",142),z("ngModelChange",function(i){return Z(X(t).$implicit.is_active=i)}),y(),O(25,"span",143),y()()()()}if(2&n){const t=e.$implicit;b(2),ue(ms(6,LB)[t.day_of_week]),b(5),j("ngModel",t.lunch_start),b(4),j("ngModel",t.lunch_end),b(4),j("ngModel",t.dinner_start),b(4),j("ngModel",t.dinner_end),b(5),j("ngModel",t.is_active)}}function mpe(n,e){if(1&n){const t=Ae();_(0,"div"),Y(1,gpe,26,7,"div",133),_(2,"button",134),z("click",function(){return X(t),Z($(2).saveSchedules())}),O(3,"i",135),I(4,"Guardar Horarios "),y()()}if(2&n){const t=$(2);b(1),j("ngForOf",t.schedules)}}function _pe(n,e){if(1&n){const t=Ae();_(0,"div",43)(1,"div",59)(2,"h2"),I(3,"Horarios de M\xfasica"),y(),_(4,"button",27),z("click",function(){X(t);const i=$();return Z(i.isEditingSchedules=!i.isEditingSchedules)}),I(5),y()(),_(6,"div",123),Y(7,ppe,2,1,"div",124),Y(8,mpe,5,1,"div",124),y()()}if(2&n){const t=$();b(5),ge(" ",t.isEditingSchedules?"Cancelar":"Editar"," "),b(2),j("ngIf",!t.isEditingSchedules),b(1),j("ngIf",t.isEditingSchedules)}}function ype(n,e){if(1&n){const t=Ae();_(0,"div",151),O(1,"img",152),_(2,"div",153)(3,"h4"),I(4),y(),_(5,"p"),I(6),y(),_(7,"span",154),I(8),y()(),_(9,"div",155)(10,"button",156),z("click",function(){const o=X(t).$implicit;return Z($(3).voteFromSearch(o,!1))}),O(11,"i",49),y(),_(12,"button",157),z("click",function(){const o=X(t).$implicit;return Z($(3).voteFromSearch(o,!0))}),O(13,"i",113),y(),_(14,"button",118),z("click",function(){const o=X(t).$implicit;return Z($(3).addToQueueFromSearch(o.uri))}),O(15,"i",119),y(),_(16,"button",158),z("click",function(){const o=X(t).$implicit;return Z($(3).playNowFromSearch(o.uri))}),O(17,"i",97),y()()()}if(2&n){const t=e.$implicit;b(1),j("src",t.image,sr),b(3),ue(t.name),b(2),ue(null==t.artists[0]?null:t.artists[0].name),b(2),ue(t.album.name)}}function vpe(n,e){if(1&n&&(_(0,"div",149),Y(1,ype,18,4,"div",150),y()),2&n){const t=$(2);b(1),j("ngForOf",t.searchResults)}}function Cpe(n,e){if(1&n){const t=Ae();_(0,"div",144)(1,"div",145)(2,"input",146),z("ngModelChange",function(i){return X(t),Z($().searchQuery=i)})("keyup.enter",function(){return X(t),Z($().searchSpotify())}),y(),_(3,"button",147),z("click",function(){return X(t),Z($().searchSpotify())}),O(4,"i",75),y()(),Y(5,vpe,2,1,"div",148),y()}if(2&n){const t=$();b(2),j("ngModel",t.searchQuery),b(3),j("ngIf",t.searchResults.length>0)}}function bpe(n,e){if(1&n){const t=Ae();_(0,"div",164),O(1,"img",165),_(2,"div",166)(3,"h5"),I(4),y(),_(5,"p"),I(6),y(),_(7,"div",167)(8,"span",111),O(9,"i",49),I(10),y(),_(11,"span",112),O(12,"i",113),I(13),y()()(),_(14,"div",168)(15,"button",116),z("click",function(){const o=X(t).$implicit;return Z($(3).adminVote(o,!1))}),O(16,"i",49),y(),_(17,"button",117),z("click",function(){const o=X(t).$implicit;return Z($(3).adminVote(o,!0))}),O(18,"i",113),y(),_(19,"button",118),z("click",function(){const o=X(t).$implicit;return Z($(3).addToQueueFromRecent(o))}),O(20,"i",119),y()()()}if(2&n){const t=e.$implicit,r=$(3);b(1),j("src",t.image,sr),b(3),ue(t.name),b(2),ue(t.artists.join(", ")),b(4),ge(" ",t.votes||0,""),b(3),ge(" ",t.dislikes||0,""),b(2),Ee("active",r.hasAdminLiked(t.id)),b(2),Ee("active",r.hasAdminDisliked(t.id))}}function Ipe(n,e){if(1&n&&(_(0,"div",162),Y(1,bpe,21,9,"div",163),y()),2&n){const t=$(2);b(1),j("ngForOf",t.recentlyAddedSongs)}}function Epe(n,e){1&n&&(_(0,"div",82),O(1,"i",169),_(2,"p"),I(3,"No hay canciones recientes"),y()())}function wpe(n,e){if(1&n&&(_(0,"div",159),Y(1,Ipe,2,1,"div",160),Y(2,Epe,4,0,"ng-template",null,161,uc),y()),2&n){const t=oc(3),r=$();b(1),j("ngIf",r.recentlyAddedSongs.length>0)("ngIfElse",t)}}let Tpe=(()=>{class n{http;spotifyNowPlaying;votingService;spotifyService;scheduleService;authService;router;queueService;activeSection="dashboard";showSearch=!1;showRecentlyAdded=!0;isEditingSchedules=!1;songs=[];queue=[];recentlyAddedSongs=[];searchResults=[];schedules=[];spotifyStatus=null;adminCurrentlyPlaying=null;isLoading=!1;isLoadingQueue=!1;isLoadingCurrent=!1;isPlaying=!1;searchQuery="";adminVotes={};totalVotes=0;uniqueVoters=0;successMessage="";errorMessage="";actionInProgress="";refreshTimer;currentSongTimer;recentlyAddedTimer;apiUrl=_i_apiUrl;constructor(t,r,i,o,s,a,c,u){this.http=t,this.spotifyNowPlaying=r,this.votingService=i,this.spotifyService=o,this.scheduleService=s,this.authService=a,this.router=c,this.queueService=u}ngOnInit(){this.loadInitialData(),this.setupAutoRefresh(),this.calculateStats()}calculateStats(){this.totalVotes=this.songs.reduce((t,r)=>t+(r.votes||0),0),this.uniqueVoters=Math.floor(.7*this.totalVotes)}showMessage(t,r=!0,i=3e3){r?this.successMessage=t:this.errorMessage=t,setTimeout(()=>{r?this.successMessage="":this.errorMessage=""},i)}ngOnDestroy(){this.refreshTimer&&clearInterval(this.refreshTimer),this.currentSongTimer&&clearInterval(this.currentSongTimer),this.recentlyAddedTimer&&clearInterval(this.recentlyAddedTimer)}loadInitialData(){this.loadSongs(),this.loadQueue(),this.getSpotifyStatus(),this.getAdminCurrentlyPlaying(),this.loadSchedules()}setupAutoRefresh(){this.refreshTimer=setInterval(()=>{this.loadSongs(),this.loadQueue(),this.getSpotifyStatus()},3e4),this.currentSongTimer=setInterval(()=>{this.getAdminCurrentlyPlaying()},5e3),this.recentlyAddedTimer=setInterval(()=>{this.filterRecentlyAdded()},15e3)}setActiveSection(t){this.activeSection=t,"queue"===t?this.loadQueue():"playing"===t?this.getAdminCurrentlyPlaying():"ranking"===t?this.loadSongs():"schedules"===t&&this.loadSchedules()}toggleSearch(){this.showSearch=!this.showSearch,this.showSearch&&(this.activeSection="dashboard")}toggleRecentlyAdded(){this.showRecentlyAdded=!this.showRecentlyAdded}loadSongs(){this.isLoading=!0,this.votingService.forceRefresh().subscribe({next:t=>{this.songs=t,this.filterRecentlyAdded(),this.calculateVotingStats(),this.isLoading=!1,this.showMessage("Ranking actualizado correctamente")},error:t=>{console.error("Error loading songs:",t),this.isLoading=!1,this.showMessage("Error al cargar las canciones",!1)}})}calculateVotingStats(){this.totalVotes=this.songs.reduce((t,r)=>t+(r.votes||0),0),this.uniqueVoters=Math.floor(.7*this.totalVotes)}filterRecentlyAdded(){const t=new Date;t.setHours(t.getHours()-6),this.recentlyAddedSongs=this.songs.filter(r=>new Date(r.createdat)>t).sort((r,i)=>new Date(i.createdat).getTime()-new Date(r.createdat).getTime()).slice(0,15)}addToQueueFromRecent(t){this.addToQueueFromSearch(`spotify:track:${t.id}`)}loadQueue(){this.isLoadingQueue=!0,this.queueService.getQueue().subscribe({next:t=>{this.queue=t.queue||[],this.isLoadingQueue=!1},error:t=>{console.error("Error loading queue:",t),this.isLoadingQueue=!1,this.showMessage("Error al cargar la cola de reproducci\xf3n",!1)}})}getSpotifyStatus(){this.spotifyNowPlaying.getAdminSpotifyStatus().subscribe({next:t=>{this.spotifyStatus=t},error:t=>{console.error("Error getting Spotify status:",t)}})}getAdminCurrentlyPlaying(){this.isLoadingCurrent=!0,this.spotifyNowPlaying.getAdminCurrentlyPlaying().subscribe({next:t=>{t&&t.is_playing?(this.adminCurrentlyPlaying=t,this.isPlaying=t.is_playing):(this.adminCurrentlyPlaying=null,this.isPlaying=!1),this.isLoadingCurrent=!1},error:t=>{console.error("Error getting currently playing:",t),this.adminCurrentlyPlaying=null,this.isLoadingCurrent=!1}})}loadSchedules(){this.scheduleService.getSchedules().subscribe({next:t=>{this.schedules=t},error:t=>{console.error("Error loading schedules:",t)}})}saveSchedules(){this.scheduleService.updateSchedules(this.schedules).subscribe({next:()=>{this.isEditingSchedules=!1},error:t=>{console.error("Error saving schedules:",t)}})}connectSpotify(){this.spotifyNowPlaying.startAdminSpotifyAuth().subscribe({next:t=>{t.authUrl&&(window.location.href=t.authUrl)},error:t=>{console.error("Error connecting to Spotify:",t)}})}disconnectSpotify(){this.spotifyNowPlaying.disconnectAdminSpotify().subscribe({next:()=>{this.getSpotifyStatus()},error:t=>{console.error("Error disconnecting from Spotify:",t)}})}searchSpotify(){this.searchQuery.trim()&&(this.isLoading=!0,this.spotifyService.searchTracks(this.searchQuery).subscribe({next:t=>{this.searchResults=t.map(r=>({...r,image:r.image||r.album?.images?.[0]?.url||"assets/default-song.png",artists:Array.isArray(r.artists)?r.artists:"string"==typeof r.artists||r.artists?[r.artists]:["Artista desconocido"]})),this.isLoading=!1},error:t=>{console.error("Error searching Spotify:",t),this.showMessage("Error al buscar en Spotify",!1),this.isLoading=!1}}))}voteFromSearch(t,r){this.votingService.voteForSong(t.id,{id:t.id,name:t.name,artists:t.artists,image:t.image,preview_url:t.preview_url},r).subscribe({next:o=>{this.loadSongs(),alert(r?"Dislike registrado":"Like registrado")},error:o=>{console.error("Error voting from search:",o),alert("Error al votar. Intenta nuevamente.")}})}adminVote(t,r){this.adminVotes[t.id]=r,this.votingService.voteForSong(t.id,t,r).subscribe({next:i=>{this.loadSongs()},error:i=>{console.error("Error with admin vote:",i),delete this.adminVotes[t.id],alert("Error al votar. Intenta nuevamente.")}})}hasAdminLiked(t){return!1===this.adminVotes[t]}hasAdminDisliked(t){return!0===this.adminVotes[t]}addToQueue(t){this.queueService.addToQueue(t).subscribe({next:()=>{this.loadQueue(),this.showMessage("Canci\xf3n agregada a la cola correctamente")},error:r=>{console.error("Error adding to queue:",r),this.showMessage("Error al agregar a la cola",!1)}})}addToQueueFromSearch(t){this.actionInProgress="Agregando a la cola...",this.queueService.addToQueue(t).subscribe({next:r=>{this.loadQueue(),this.showMessage("Canci\xf3n agregada a la cola correctamente"),this.actionInProgress=""},error:r=>{console.error("Error adding to queue:",r),this.showMessage("Error al agregar a la cola: "+r.message,!1),this.actionInProgress=""}})}addToQueueFromRanking(t){confirm("\xbfAgregar esta canci\xf3n a la cola de reproducci\xf3n?")&&this.addToQueueFromSearch(`spotify:track:${t}`)}confirmAddToHistory(){var t=this;return w(function*(){try{const r=yield t.spotifyNowPlaying.addToHistory().toPromise();r.can_add?confirm(`\xbfEst\xe1s seguro de que quieres agregar "${r.song.name}" al hist\xf3rico?`)&&t.http.post(`${t.apiUrl}/api/spotify/admin/add-to-history-confirmed`,{}).subscribe({next:o=>{t.showMessage(o.message||"Canci\xf3n agregada al hist\xf3rico"),t.loadSongs()},error:o=>{t.showMessage("Error al agregar al hist\xf3rico: "+o.error?.error,!1)}}):t.showMessage(r.message,!1)}catch{t.showMessage("Error al verificar hist\xf3rico",!1)}})()}playNowFromSearch(t){this.actionInProgress="Reproduciendo...",this.spotifyNowPlaying.playTrack(t).subscribe({next:()=>{setTimeout(()=>{this.getAdminCurrentlyPlaying()},1e3),this.showMessage("Reproduciendo canci\xf3n"),this.actionInProgress=""},error:r=>{console.error("Error playing track:",r),this.showMessage("Error al reproducir: "+(r.error?.message||"Error desconocido"),!1),this.actionInProgress=""}})}playTrack(t){this.spotifyNowPlaying.playTrack(t).subscribe({next:()=>{setTimeout(()=>{this.getAdminCurrentlyPlaying()},1e3)},error:r=>{console.error("Error playing track:",r),alert("Error al reproducir la canci\xf3n: "+r.message)}})}nextTrack(){this.spotifyNowPlaying.nextTrack().subscribe({next:()=>{setTimeout(()=>{this.getAdminCurrentlyPlaying()},1e3)},error:t=>{console.error("Error skipping to next track:",t)}})}previousTrack(){this.spotifyNowPlaying.previousTrack().subscribe({next:()=>{setTimeout(()=>{this.getAdminCurrentlyPlaying()},1e3)},error:t=>{console.error("Error going to previous track:",t)}})}togglePlayback(){this.isPlaying?this.spotifyNowPlaying.pausePlayback().subscribe({next:()=>{this.isPlaying=!1},error:t=>{console.error("Error pausing playback:",t)}}):this.spotifyNowPlaying.resumePlayback().subscribe({next:()=>{this.isPlaying=!0},error:t=>{console.error("Error resuming playback:",t)}})}deleteSong(t){confirm("\xbfEst\xe1s seguro de que quieres eliminar esta canci\xf3n del ranking?")&&this.votingService.deleteSong(t).subscribe({next:()=>{this.loadSongs(),this.showMessage("Canci\xf3n eliminada correctamente")},error:r=>{console.error("Error deleting song:",r),this.showMessage("Error al eliminar la canci\xf3n",!1)}})}deleteAllVotes(){confirm("\xbfEst\xe1s seguro de que quieres eliminar TODOS los votos? Esta acci\xf3n no se puede deshacer.")&&this.votingService.deleteAllVotes().subscribe({next:()=>{this.loadSongs(),this.showMessage("Todos los votos han sido eliminados")},error:t=>{console.error("Error deleting all votes:",t),this.showMessage("Error al eliminar todos los votos",!1)}})}forceRefresh(){this.showMessage("Actualizando todos los datos..."),Promise.all([new Promise(t=>this.loadSongs()),new Promise(t=>this.loadQueue()),new Promise(t=>this.getSpotifyStatus()),new Promise(t=>this.getAdminCurrentlyPlaying())]).then(()=>{this.showMessage("Todos los datos han sido actualizados")}).catch(t=>{this.showMessage("Error al actualizar los datos",!1)})}toggleQueue(){this.activeSection="queue"}addToHistory(){var t=this;return w(function*(){if(t.adminCurrentlyPlaying&&t.adminCurrentlyPlaying.id){t.actionInProgress="Verificando canci\xf3n...";try{const r=yield t.spotifyNowPlaying.addToHistory().toPromise();if(r.can_add){if(confirm(`\xbfEst\xe1s seguro de que quieres agregar "${t.adminCurrentlyPlaying.name}" al hist\xf3rico?\n\nEsta acci\xf3n eliminar\xe1 la canci\xf3n del ranking si est\xe1 presente.`)){t.actionInProgress="Agregando al hist\xf3rico...";const o=t.authService.getAuthHeaders(),s=yield t.http.post(`${t.apiUrl}/api/spotify/admin/add-to-history-confirmed`,{},{headers:o}).toPromise();t.showMessage(s.message||"Canci\xf3n agregada al hist\xf3rico correctamente"),t.loadSongs(),setTimeout(()=>{t.getAdminCurrentlyPlaying()},2e3)}}else t.showMessage(r.message,!1)}catch(r){console.error("Error al agregar al hist\xf3rico:",r),t.showMessage(r.error?.error||r.message||"Error al agregar al hist\xf3rico",!1)}finally{t.actionInProgress=""}}else t.showMessage("No hay canci\xf3n reproduci\xe9ndose actualmente",!1)})()}checkAddToHistory(){this.adminCurrentlyPlaying?this.spotifyNowPlaying.addToHistory().subscribe({next:t=>{t.can_add?this.addToHistory():this.showMessage(t.message,!1)},error:t=>{this.showMessage("Error al verificar: "+(t.error?.message||t.message),!1)}}):this.showMessage("No hay canci\xf3n reproduci\xe9ndose",!1)}checkPlayingSong(){this.adminCurrentlyPlaying&&(this.songs.find(r=>r.id===this.adminCurrentlyPlaying.id)?this.activeSection="ranking":alert("Esta canci\xf3n no est\xe1 en el ranking."))}forceRankSong(){this.adminCurrentlyPlaying&&this.votingService.vote({id:this.adminCurrentlyPlaying.id,name:this.adminCurrentlyPlaying.name,artists:this.adminCurrentlyPlaying.artists,image:this.adminCurrentlyPlaying.image},!1,!0).subscribe({next:()=>{this.loadSongs(),this.activeSection="ranking"},error:r=>{console.error("Error forcing song to rank:",r)}})}formatTime(t){const r=Math.floor(t/1e3),o=r%60;return`${Math.floor(r/60)}:${o<10?"0":""}${o}`}formatTimeAgo(t){const r=new Date(t),o=(new Date).getTime()-r.getTime(),s=Math.floor(o/6e4),a=Math.floor(s/60),c=Math.floor(a/24);return s<1?"Ahora mismo":s<60?`Hace ${s} min`:a<24?`Hace ${a} h`:1===c?"Ayer":`Hace ${c} d\xedas`}convertToAmPm(t){if(!t)return"";const[r,i]=t.split(":"),o=parseInt(r,10);return`${o%12||12}:${i} ${o>=12?"PM":"AM"}`}logout(){this.authService.logout(),this.router.navigate(["/login"])}static \u0275fac=function(r){return new(r||n)(H(ri),H(J1),H(wu),H(kB),H(FB),H(sa),H(kn),H(Qfe))};static \u0275cmp=$n({type:n,selectors:[["app-admin-panel"]],standalone:!0,features:[Kn],decls:64,vars:26,consts:[[1,"admin-panel-container"],[1,"message-container"],["class","success-message",4,"ngIf"],["class","error-message",4,"ngIf"],["class","progress-message",4,"ngIf"],[1,"admin-header"],[1,"header-content"],[1,"fab","fa-spotify","me-2"],[1,"header-subtitle"],[1,"btn-logout",3,"click"],[1,"fas","fa-sign-out-alt","me-1"],[1,"admin-content"],[1,"admin-sidebar"],[1,"sidebar-section"],[1,"sidebar-btn",3,"click"],[1,"fas","fa-tachometer-alt","me-2"],[1,"fas","fa-play-circle","me-2"],[1,"fas","fa-list-ol","me-2"],[1,"fas","fa-trophy","me-2"],[1,"fas","fa-clock","me-2"],[1,"fas","fa-sync-alt","me-2"],[1,"fas","fa-search","me-2"],["class","spotify-status",4,"ngIf"],[1,"admin-main"],["class","section",4,"ngIf"],[1,"search-section"],[1,"search-header"],[1,"btn-toggle",3,"click"],["class","search-content",4,"ngIf"],[1,"section","recently-added-section"],[1,"section-header","collapsible",3,"click"],[1,"fas"],["class","recently-added-content",4,"ngIf"],[1,"success-message"],[1,"fas","fa-check-circle"],[1,"error-message"],[1,"fas","fa-exclamation-circle"],[1,"progress-message"],[1,"fas","fa-spinner","fa-spin"],[1,"spotify-status"],[1,"status-indicator"],[1,"status-text"],[1,"status-action",3,"click"],[1,"section"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-icon"],[1,"fas","fa-music"],[1,"stat-content"],[1,"fas","fa-thumbs-up"],[1,"fas","fa-users"],[1,"fas","fa-history"],[1,"dashboard-actions"],[1,"action-btn","primary",3,"click"],[1,"fas","fa-sync-alt","me-1"],[1,"action-btn","secondary",3,"click"],[1,"fas","fa-list-ol","me-1"],[1,"action-btn","warning",3,"click"],[1,"fas","fa-play-circle","me-1"],[1,"section-header"],[1,"btn-refresh",3,"click"],[1,"fas","fa-sync-alt"],["class","currently-playing-card",4,"ngIf","ngIfElse"],["noSongPlaying",""],[1,"currently-playing-card"],[1,"playing-content"],["alt","Album cover",1,"album-art-large",3,"src"],[1,"track-info"],[1,"artists"],[1,"progress-container"],[1,"progress-bar"],[1,"progress-fill"],[1,"time-display"],[1,"playing-actions"],["title","Verificar en ranking",1,"control-btn",3,"click"],[1,"fas","fa-search"],["title","Agregar al hist\xf3rico",1,"control-btn",3,"disabled","click"],[1,"player-controls"],[1,"player-btn",3,"click"],[1,"fas","fa-step-backward"],[1,"player-btn","play-pause",3,"click"],[1,"fas","fa-step-forward"],[1,"empty-state"],[1,"fas","fa-music-slash"],["class","btn-spotify",3,"click",4,"ngIf"],[1,"btn-spotify",3,"click"],[1,"btn-refresh",3,"disabled","click"],["class","queue-container",4,"ngIf","ngIfElse"],["emptyQueue",""],[1,"queue-container"],["class","queue-item",4,"ngFor","ngForOf"],[1,"queue-item"],[1,"queue-position"],["alt","Album cover",1,"queue-image",3,"src"],[1,"queue-info"],[1,"queue-actions"],["title","Reproducir ahora",1,"queue-btn",3,"click"],[1,"fas","fa-play"],[1,"fas","fa-list-ol"],[1,"header-actions"],[1,"btn-danger",3,"click"],[1,"fas","fa-trash","me-1"],["class","ranking-container",4,"ngIf","ngIfElse"],["emptyRanking",""],[1,"ranking-container"],["class","ranking-item",4,"ngFor","ngForOf"],[1,"ranking-item"],[1,"rank-number"],["alt","Album cover",1,"rank-image",3,"src"],[1,"rank-info"],[1,"rank-stats"],[1,"votes"],[1,"dislikes"],[1,"fas","fa-thumbs-down"],[1,"time"],[1,"rank-actions"],["title","Me gusta",1,"vote-btn","like",3,"click"],["title","No me gusta",1,"vote-btn","dislike",3,"click"],["title","Agregar a cola",1,"action-btn",3,"click"],[1,"fas","fa-plus"],["title","Eliminar",1,"action-btn","danger",3,"click"],[1,"fas","fa-trash"],[1,"fas","fa-trophy"],[1,"schedules-container"],[4,"ngIf"],["class","schedule-card",4,"ngFor","ngForOf"],[1,"schedule-card"],[1,"schedule-times"],[1,"time-block"],[1,"time-label"],[1,"time-value"],[1,"schedule-status"],[1,"status-badge"],["class","schedule-edit-card",4,"ngFor","ngForOf"],[1,"btn-save",3,"click"],[1,"fas","fa-save","me-1"],[1,"schedule-edit-card"],[1,"edit-fields"],[1,"field-group"],["type","time",3,"ngModel","ngModelChange"],[1,"field-group","toggle"],[1,"switch"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"slider"],[1,"search-content"],[1,"search-bar"],["type","text","placeholder","Buscar canciones en Spotify...",3,"ngModel","ngModelChange","keyup.enter"],[1,"search-btn",3,"click"],["class","search-results",4,"ngIf"],[1,"search-results"],["class","result-item",4,"ngFor","ngForOf"],[1,"result-item"],["alt","Album cover","onerror","this.src='assets/default-song.png'",1,"result-image",3,"src"],[1,"result-info"],[1,"album-name"],[1,"result-actions"],["title","Votar positivo",1,"vote-btn","like",3,"click"],["title","Votar negativo",1,"vote-btn","dislike",3,"click"],["title","Reproducir ahora",1,"action-btn",3,"click"],[1,"recently-added-content"],["class","recent-grid",4,"ngIf","ngIfElse"],["emptyRecent",""],[1,"recent-grid"],["class","recent-card",4,"ngFor","ngForOf"],[1,"recent-card"],["alt","Album cover",1,"recent-image",3,"src"],[1,"recent-info"],[1,"recent-stats"],[1,"recent-actions"],[1,"fas","fa-clock"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1),Y(2,Yfe,3,1,"div",2),Y(3,Jfe,3,1,"div",3),Y(4,Xfe,3,1,"div",4),y(),_(5,"div",5)(6,"div",6)(7,"h1"),O(8,"i",7),I(9,"Panel de Administraci\xf3n "),y(),_(10,"p",8),I(11,"Gestiona la m\xfasica y votaciones del restaurante"),y()(),_(12,"button",9),z("click",function(){return i.logout()}),O(13,"i",10),I(14,"Cerrar Sesi\xf3n "),y()(),_(15,"div",11)(16,"div",12)(17,"div",13)(18,"h3"),I(19,"Navegaci\xf3n"),y(),_(20,"button",14),z("click",function(){return i.setActiveSection("dashboard")}),O(21,"i",15),I(22,"Dashboard "),y(),_(23,"button",14),z("click",function(){return i.setActiveSection("playing")}),O(24,"i",16),I(25,"Reproduciendo "),y(),_(26,"button",14),z("click",function(){return i.setActiveSection("queue")}),O(27,"i",17),I(28,"Cola de Reproducci\xf3n "),y(),_(29,"button",14),z("click",function(){return i.setActiveSection("ranking")}),O(30,"i",18),I(31,"Ranking "),y(),_(32,"button",14),z("click",function(){return i.setActiveSection("schedules")}),O(33,"i",19),I(34,"Horarios "),y()(),_(35,"div",13)(36,"h3"),I(37,"Acciones R\xe1pidas"),y(),_(38,"button",14),z("click",function(){return i.forceRefresh()}),O(39,"i",20),I(40,"Actualizar Todo "),y(),_(41,"button",14),z("click",function(){return i.toggleSearch()}),O(42,"i",21),I(43,"Buscar Canciones "),y()(),Y(44,Zfe,6,6,"div",22),y(),_(45,"div",23),Y(46,epe,44,4,"div",24),Y(47,ipe,9,4,"div",24),Y(48,cpe,9,5,"div",24),Y(49,hpe,13,5,"div",24),Y(50,_pe,9,3,"div",24),_(51,"div",25)(52,"div",26)(53,"h3"),I(54,"Buscar en Spotify"),y(),_(55,"button",27),z("click",function(){return i.showSearch=!i.showSearch}),I(56),y()(),Y(57,Cpe,6,2,"div",28),y(),_(58,"div",29)(59,"div",30),z("click",function(){return i.toggleRecentlyAdded()}),_(60,"h2"),I(61,"Reci\xe9n Agregadas"),y(),O(62,"i",31),y(),Y(63,wpe,4,2,"div",32),y()()()()),2&r&&(b(2),j("ngIf",i.successMessage),b(1),j("ngIf",i.errorMessage),b(1),j("ngIf",i.actionInProgress),b(16),Ee("active","dashboard"===i.activeSection),b(3),Ee("active","playing"===i.activeSection),b(3),Ee("active","queue"===i.activeSection),b(3),Ee("active","ranking"===i.activeSection),b(3),Ee("active","schedules"===i.activeSection),b(12),j("ngIf",i.spotifyStatus),b(2),j("ngIf","dashboard"===i.activeSection),b(1),j("ngIf","playing"===i.activeSection),b(1),j("ngIf","queue"===i.activeSection),b(1),j("ngIf","ranking"===i.activeSection),b(1),j("ngIf","schedules"===i.activeSection),b(6),ge(" ",i.showSearch?"Ocultar":"Mostrar"," "),b(1),j("ngIf",i.showSearch),b(5),Ee("fa-chevron-down",!i.showRecentlyAdded)("fa-chevron-up",i.showRecentlyAdded),b(1),j("ngIf",i.showRecentlyAdded))},dependencies:[Eu,oo,O1,ia,Xo,jr,Fi,Er,rJ],styles:['@import"https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap";@import"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css";.admin-panel-container[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;background-color:#121212;color:#fff;min-height:100vh;padding:0;margin:0}.admin-header[_ngcontent-%COMP%]{background-color:#000;padding:16px 24px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #282828}.admin-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:700;color:#fff}.admin-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#1db954}.admin-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-subtitle[_ngcontent-%COMP%]{margin:4px 0 0;color:#b3b3b3;font-size:14px}.admin-header[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;background-color:transparent;color:#fff;padding:8px 16px;border-radius:20px;border:1px solid #B3B3B3;font-weight:500;transition:all .2s ease}.admin-header[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;transform:scale(1.05)}.admin-content[_ngcontent-%COMP%]{display:flex;min-height:calc(100vh - 80px)}.admin-sidebar[_ngcontent-%COMP%]{width:240px;background-color:#000;padding:24px 16px;border-right:1px solid #282828}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]{margin-bottom:32px}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:12px;text-transform:uppercase;letter-spacing:1.5px;color:#b3b3b3;margin:0 0 16px;padding:0 8px}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   .sidebar-btn[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;width:100%;text-align:left;padding:10px 16px;border-radius:4px;margin-bottom:4px;color:#b3b3b3;font-weight:500;transition:all .2s ease}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   .sidebar-btn[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff1a}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   .sidebar-btn.active[_ngcontent-%COMP%]{color:#fff;background-color:#fff3}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   .sidebar-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:20px}.admin-sidebar[_ngcontent-%COMP%]   .spotify-status[_ngcontent-%COMP%]{margin-top:32px;padding:12px;background-color:#181818;border-radius:8px;display:flex;align-items:center}.admin-sidebar[_ngcontent-%COMP%]   .spotify-status[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%;margin-right:8px}.admin-sidebar[_ngcontent-%COMP%]   .spotify-status[_ngcontent-%COMP%]   .status-indicator.connected[_ngcontent-%COMP%]{background-color:#1db954}.admin-sidebar[_ngcontent-%COMP%]   .spotify-status[_ngcontent-%COMP%]   .status-indicator.disconnected[_ngcontent-%COMP%]{background-color:#e74c3c}.admin-sidebar[_ngcontent-%COMP%]   .spotify-status[_ngcontent-%COMP%]   .status-text[_ngcontent-%COMP%]{font-size:12px;flex-grow:1}.admin-sidebar[_ngcontent-%COMP%]   .spotify-status[_ngcontent-%COMP%]   .status-action[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;color:#1db954;font-size:12px;font-weight:600}.admin-sidebar[_ngcontent-%COMP%]   .spotify-status[_ngcontent-%COMP%]   .status-action[_ngcontent-%COMP%]:hover{text-decoration:underline}.admin-main[_ngcontent-%COMP%]{flex:1;padding:24px;overflow-y:auto}.admin-main[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]{margin-bottom:24px}.admin-main[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.admin-main[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:700}.admin-main[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .section-header.collapsible[_ngcontent-%COMP%]{cursor:pointer;padding:12px 0;border-bottom:1px solid #282828}.admin-main[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:16px;margin-bottom:24px}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{background-color:#181818;border-radius:8px;padding:16px;box-shadow:0 4px 12px #0000004d;transition:all .3s ease;display:flex;align-items:center}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:48px;height:48px;background-color:#1db9541a;border-radius:50%;display:flex;align-items:center;justify-content:center;margin-right:16px}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:#1db954}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:700}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;color:#b3b3b3;font-size:14px}.dashboard-actions[_ngcontent-%COMP%]{display:flex;gap:12px;margin-bottom:24px}.dashboard-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;padding:10px 16px;border-radius:4px;font-weight:500;transition:all .2s ease}.dashboard-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]{background-color:#1db954;color:#000}.dashboard-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]:hover{background-color:#2bde6a;transform:translateY(-2px)}.dashboard-actions[_ngcontent-%COMP%]   .action-btn.secondary[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border:1px solid #B3B3B3}.dashboard-actions[_ngcontent-%COMP%]   .action-btn.secondary[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;border-color:#fff}.dashboard-actions[_ngcontent-%COMP%]   .action-btn.warning[_ngcontent-%COMP%]{background-color:#f39c12;color:#000}.dashboard-actions[_ngcontent-%COMP%]   .action-btn.warning[_ngcontent-%COMP%]:hover{background-color:#f5b043}.currently-playing-card[_ngcontent-%COMP%]{background-color:#181818;border-radius:8px;padding:16px;box-shadow:0 4px 12px #0000004d;transition:all .3s ease}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:16px}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .album-art-large[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:8px;margin-right:20px;object-fit:cover}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .track-info[_ngcontent-%COMP%]{flex:1}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .track-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:20px;font-weight:700}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .track-info[_ngcontent-%COMP%]   .artists[_ngcontent-%COMP%]{margin:0 0 16px;color:#b3b3b3}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .track-info[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:100%;height:4px;background-color:#5a5a5a;border-radius:2px;overflow:hidden;margin-bottom:8px}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .track-info[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background-color:#1db954;border-radius:2px;transition:width .3s ease}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .track-info[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .time-display[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:12px;color:#b3b3b3}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .playing-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .playing-actions[_ngcontent-%COMP%]   .control-btn[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;width:40px;height:40px;border-radius:50%;background-color:#ffffff1a;color:#fff;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .playing-actions[_ngcontent-%COMP%]   .control-btn[_ngcontent-%COMP%]:hover{background-color:#fff3;transform:scale(1.1)}.currently-playing-card[_ngcontent-%COMP%]   .player-controls[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:16px}.currently-playing-card[_ngcontent-%COMP%]   .player-controls[_ngcontent-%COMP%]   .player-btn[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;width:48px;height:48px;border-radius:50%;background-color:#ffffff1a;color:#fff;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.currently-playing-card[_ngcontent-%COMP%]   .player-controls[_ngcontent-%COMP%]   .player-btn[_ngcontent-%COMP%]:hover{background-color:#fff3;transform:scale(1.05)}.currently-playing-card[_ngcontent-%COMP%]   .player-controls[_ngcontent-%COMP%]   .player-btn.play-pause[_ngcontent-%COMP%]{width:64px;height:64px;background-color:#1db954;color:#000}.currently-playing-card[_ngcontent-%COMP%]   .player-controls[_ngcontent-%COMP%]   .player-btn.play-pause[_ngcontent-%COMP%]:hover{background-color:#2bde6a;transform:scale(1.1)}.queue-container[_ngcontent-%COMP%]{background-color:#181818;border-radius:8px;box-shadow:0 4px 12px #0000004d;transition:all .3s ease;padding:0;overflow:hidden}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 16px;border-bottom:1px solid #282828}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]:hover{background-color:#ffffff0d}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]   .queue-position[_ngcontent-%COMP%]{width:24px;text-align:center;font-weight:600;color:#b3b3b3;margin-right:16px}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]   .queue-image[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:4px;margin-right:16px;object-fit:cover}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]   .queue-info[_ngcontent-%COMP%]{flex:1}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]   .queue-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;font-size:14px;font-weight:500}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]   .queue-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:12px;color:#b3b3b3}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]   .queue-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]   .queue-actions[_ngcontent-%COMP%]   .queue-btn[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;width:32px;height:32px;border-radius:50%;background-color:transparent;color:#fff;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]   .queue-actions[_ngcontent-%COMP%]   .queue-btn[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]   .queue-actions[_ngcontent-%COMP%]   .queue-btn.remove[_ngcontent-%COMP%]{color:#e74c3c}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]   .queue-actions[_ngcontent-%COMP%]   .queue-btn.remove[_ngcontent-%COMP%]:hover{background-color:#e74c3c1a}.ranking-container[_ngcontent-%COMP%]{background-color:#181818;border-radius:8px;box-shadow:0 4px 12px #0000004d;transition:all .3s ease;padding:0;overflow:hidden}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 16px;border-bottom:1px solid #282828}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]:hover{background-color:#ffffff0d}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-number[_ngcontent-%COMP%]{width:24px;text-align:center;font-weight:700;font-size:16px;margin-right:16px;color:#b3b3b3}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-image[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:4px;margin-right:16px;object-fit:cover}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-info[_ngcontent-%COMP%]{flex:1}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;font-size:16px;font-weight:500}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 8px;font-size:14px;color:#b3b3b3}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-info[_ngcontent-%COMP%]   .rank-stats[_ngcontent-%COMP%]{display:flex;gap:16px}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-info[_ngcontent-%COMP%]   .rank-stats[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:12px;color:#b3b3b3}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-info[_ngcontent-%COMP%]   .rank-stats[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:4px}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-actions[_ngcontent-%COMP%]   .vote-btn[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-actions[_ngcontent-%COMP%]   .vote-btn.like[_ngcontent-%COMP%]{color:#b3b3b3;background-color:transparent}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-actions[_ngcontent-%COMP%]   .vote-btn.like[_ngcontent-%COMP%]:hover, .ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-actions[_ngcontent-%COMP%]   .vote-btn.like.active[_ngcontent-%COMP%]{color:#1db954;background-color:#1db9541a}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-actions[_ngcontent-%COMP%]   .vote-btn.dislike[_ngcontent-%COMP%]{color:#b3b3b3;background-color:transparent}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-actions[_ngcontent-%COMP%]   .vote-btn.dislike[_ngcontent-%COMP%]:hover, .ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-actions[_ngcontent-%COMP%]   .vote-btn.dislike.active[_ngcontent-%COMP%]{color:#e74c3c;background-color:#e74c3c1a}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;width:36px;height:36px;border-radius:50%;background-color:transparent;color:#b3b3b3;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;color:#fff}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-actions[_ngcontent-%COMP%]   .action-btn.danger[_ngcontent-%COMP%]:hover{color:#e74c3c;background-color:#e74c3c1a}.schedules-container[_ngcontent-%COMP%]   .schedule-card[_ngcontent-%COMP%], .schedules-container[_ngcontent-%COMP%]   .schedule-edit-card[_ngcontent-%COMP%]{background-color:#181818;border-radius:8px;padding:16px;box-shadow:0 4px 12px #0000004d;transition:all .3s ease;margin-bottom:16px}.schedules-container[_ngcontent-%COMP%]   .schedule-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .schedules-container[_ngcontent-%COMP%]   .schedule-edit-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;font-size:16px;font-weight:600}.schedules-container[_ngcontent-%COMP%]   .schedule-times[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px}.schedules-container[_ngcontent-%COMP%]   .schedule-times[_ngcontent-%COMP%]   .time-block[_ngcontent-%COMP%]{display:flex;flex-direction:column}.schedules-container[_ngcontent-%COMP%]   .schedule-times[_ngcontent-%COMP%]   .time-block[_ngcontent-%COMP%]   .time-label[_ngcontent-%COMP%]{font-size:12px;color:#b3b3b3;margin-bottom:4px}.schedules-container[_ngcontent-%COMP%]   .schedule-times[_ngcontent-%COMP%]   .time-block[_ngcontent-%COMP%]   .time-value[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.schedules-container[_ngcontent-%COMP%]   .schedule-status[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 8px;border-radius:12px;font-size:12px;font-weight:600}.schedules-container[_ngcontent-%COMP%]   .schedule-status[_ngcontent-%COMP%]   .status-badge.active[_ngcontent-%COMP%]{background-color:#1db95433;color:#1db954}.schedules-container[_ngcontent-%COMP%]   .schedule-status[_ngcontent-%COMP%]   .status-badge.inactive[_ngcontent-%COMP%]{background-color:#e74c3c33;color:#e74c3c}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:16px}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]   .field-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]   .field-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;color:#b3b3b3;margin-bottom:4px}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]   .field-group[_ngcontent-%COMP%]   input[type=time][_ngcontent-%COMP%]{background-color:#2a2a2a;border:1px solid #404040;border-radius:4px;color:#fff;padding:8px;font-family:inherit}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]   .field-group[_ngcontent-%COMP%]   input[type=time][_ngcontent-%COMP%]:focus{outline:none;border-color:#1db954}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]   .field-group.toggle[_ngcontent-%COMP%]{flex-direction:row;align-items:center;justify-content:space-between}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]   .field-group.toggle[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:40px;height:20px}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]   .field-group.toggle[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]   .field-group.toggle[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#1db954}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]   .field-group.toggle[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(20px)}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]   .field-group.toggle[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.4s;border-radius:34px}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]   .field-group.toggle[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:16px;width:16px;left:2px;bottom:2px;background-color:#fff;transition:.4s;border-radius:50%}.schedules-container[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;background-color:#1db954;color:#000;padding:10px 20px;border-radius:4px;font-weight:600;margin-top:16px;transition:all .2s ease}.schedules-container[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]:hover{background-color:#2bde6a;transform:translateY(-2px)}.recently-added-section[_ngcontent-%COMP%]   .recently-added-content[_ngcontent-%COMP%]{margin-top:16px}.recently-added-section[_ngcontent-%COMP%]   .recent-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:16px}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]{background-color:#181818;border-radius:8px;box-shadow:0 4px 12px #0000004d;padding:12px;transition:all .3s ease}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]:hover{background-color:#282828;transform:translateY(-4px)}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-image[_ngcontent-%COMP%]{width:100%;aspect-ratio:1;border-radius:4px;object-fit:cover;margin-bottom:12px}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0 0 4px;font-size:14px;font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 8px;font-size:12px;color:#b3b3b3;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-info[_ngcontent-%COMP%]   .recent-stats[_ngcontent-%COMP%]{display:flex;gap:12px}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-info[_ngcontent-%COMP%]   .recent-stats[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:11px;color:#b3b3b3}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-info[_ngcontent-%COMP%]   .recent-stats[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:4px}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:8px;margin-top:12px}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-actions[_ngcontent-%COMP%]   .vote-btn[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-actions[_ngcontent-%COMP%]   .vote-btn.like[_ngcontent-%COMP%]{color:#b3b3b3}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-actions[_ngcontent-%COMP%]   .vote-btn.like[_ngcontent-%COMP%]:hover, .recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-actions[_ngcontent-%COMP%]   .vote-btn.like.active[_ngcontent-%COMP%]{color:#1db954;background-color:#1db9541a}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-actions[_ngcontent-%COMP%]   .vote-btn.dislike[_ngcontent-%COMP%]{color:#b3b3b3}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-actions[_ngcontent-%COMP%]   .vote-btn.dislike[_ngcontent-%COMP%]:hover, .recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-actions[_ngcontent-%COMP%]   .vote-btn.dislike.active[_ngcontent-%COMP%]{color:#e74c3c;background-color:#e74c3c1a}.search-section[_ngcontent-%COMP%]{background-color:#181818;border-radius:8px;padding:16px;box-shadow:0 4px 12px #0000004d;transition:all .3s ease}.search-section[_ngcontent-%COMP%]   .search-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.search-section[_ngcontent-%COMP%]   .search-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px}.search-section[_ngcontent-%COMP%]   .search-header[_ngcontent-%COMP%]   .btn-toggle[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;color:#1db954;font-weight:500}.search-section[_ngcontent-%COMP%]   .search-header[_ngcontent-%COMP%]   .btn-toggle[_ngcontent-%COMP%]:hover{text-decoration:underline}.search-section[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{display:flex;margin-bottom:16px}.search-section[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;background-color:#2a2a2a;border:1px solid #404040;border-right:none;border-radius:4px 0 0 4px;color:#fff;padding:10px 16px;font-family:inherit}.search-section[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#1db954}.search-section[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;background-color:#1db954;color:#000;padding:0 16px;border-radius:0 4px 4px 0;font-weight:600;transition:all .2s ease}.search-section[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]:hover{background-color:#2bde6a}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px;border-radius:4px;margin-bottom:8px;background-color:#ffffff0d;transition:all .2s ease}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-image[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:4px;margin-right:16px;object-fit:cover}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-info[_ngcontent-%COMP%]{flex:1}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;font-size:14px;font-weight:500}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 4px;font-size:12px;color:#b3b3b3}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-info[_ngcontent-%COMP%]   .album-name[_ngcontent-%COMP%]{font-size:11px;color:#b3b3b3}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .vote-btn[_ngcontent-%COMP%], .search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .vote-btn.like[_ngcontent-%COMP%]{color:#b3b3b3;background-color:transparent}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .vote-btn.like[_ngcontent-%COMP%]:hover{color:#1db954;background-color:#1db9541a}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .vote-btn.dislike[_ngcontent-%COMP%]{color:#b3b3b3;background-color:transparent}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .vote-btn.dislike[_ngcontent-%COMP%]:hover{color:#e74c3c;background-color:#e74c3c1a}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{background-color:transparent;color:#b3b3b3}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;color:#fff}.empty-state[_ngcontent-%COMP%]{background-color:#181818;border-radius:8px;box-shadow:0 4px 12px #0000004d;transition:all .3s ease;text-align:center;padding:40px 20px}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:48px;color:#b3b3b3;margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 20px;color:#b3b3b3}.empty-state[_ngcontent-%COMP%]   .btn-spotify[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;background-color:#1db954;color:#000;padding:10px 20px;border-radius:20px;font-weight:600;transition:all .2s ease}.empty-state[_ngcontent-%COMP%]   .btn-spotify[_ngcontent-%COMP%]:hover{background-color:#2bde6a;transform:scale(1.05)}.btn-refresh[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;width:36px;height:36px;border-radius:50%;background-color:#ffffff1a;color:#fff;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.btn-refresh[_ngcontent-%COMP%]:hover{background-color:#fff3;transform:rotate(180deg)}.btn-refresh[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn-danger[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;background-color:#e74c3c;color:#fff;padding:8px 16px;border-radius:4px;font-weight:500;transition:all .2s ease}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#ed7669}@media (max-width: 1024px){.admin-sidebar[_ngcontent-%COMP%]{width:200px}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){.admin-content[_ngcontent-%COMP%]{flex-direction:column}.admin-sidebar[_ngcontent-%COMP%]{width:100%;border-right:none;border-bottom:1px solid #282828;padding:16px}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:16px}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{width:100%;margin-bottom:8px}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   .sidebar-btn[_ngcontent-%COMP%]{width:auto;margin-bottom:0}.admin-sidebar[_ngcontent-%COMP%]   .spotify-status[_ngcontent-%COMP%]{margin-top:16px}.admin-main[_ngcontent-%COMP%]{padding:16px}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.dashboard-actions[_ngcontent-%COMP%]{flex-wrap:wrap}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .album-art-large[_ngcontent-%COMP%]{margin-right:0;margin-bottom:16px}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .playing-actions[_ngcontent-%COMP%]{margin-top:16px}.recent-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}@media (max-width: 480px){.admin-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:16px}.admin-header[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]{align-self:stretch;text-align:center}.playing-content[_ngcontent-%COMP%]   .playing-actions[_ngcontent-%COMP%], .rank-actions[_ngcontent-%COMP%], .result-actions[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center}.recent-grid[_ngcontent-%COMP%], .edit-fields[_ngcontent-%COMP%]{grid-template-columns:1fr!important}}.message-container[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;z-index:1000;max-width:400px}.success-message[_ngcontent-%COMP%], .error-message[_ngcontent-%COMP%], .progress-message[_ngcontent-%COMP%]{padding:12px 16px;border-radius:6px;margin-bottom:10px;box-shadow:0 4px 12px #0000004d;display:flex;align-items:center;animation:_ngcontent-%COMP%_slideIn .3s ease}.success-message[_ngcontent-%COMP%]{background-color:#1db954e6;color:#000;border-left:4px solid #1DB954}.error-message[_ngcontent-%COMP%]{background-color:#e74c3ce6;color:#fff;border-left:4px solid #e74c3c}.progress-message[_ngcontent-%COMP%]{background-color:#3498dbe6;color:#fff;border-left:4px solid #3498db}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.action-btn[_ngcontent-%COMP%]{transition:all .2s ease}.action-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.action-btn[_ngcontent-%COMP%]:disabled:hover{transform:none!important}.btn-loading[_ngcontent-%COMP%]{position:relative}.btn-loading[_ngcontent-%COMP%]:after{content:"";position:absolute;width:16px;height:16px;top:50%;left:50%;margin:-8px 0 0 -8px;border:2px solid transparent;border-top:2px solid currentColor;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return n})(),Ppe=(()=>{class n{http;apiUrl=_i_apiUrl;constructor(t){this.http=t}getSongHistory(t="times_played",r="desc"){let i=(new Li).set("sort_by",t).set("order",r);return this.http.get(`${this.apiUrl}/api/ranking/history`,{params:i})}voteFromHistory(t){return this.http.post(`${this.apiUrl}/api/ranking/vote-from-history`,{track_id:t})}getRankingStats(){return this.http.get(`${this.apiUrl}/api/ranking/stats`)}forceRankCurrentSong(){return this.http.post(`${this.apiUrl}/api/ranking/force-rank-current`,{})}static \u0275fac=function(r){return new(r||n)(ae(ri))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Mpe(n,e){if(1&n&&(_(0,"div",42),I(1),y()),2&n){const t=$();b(1),ge(" ",t.voteMessage," ")}}function Ape(n,e){if(1&n){const t=Ae();_(0,"button",43),z("click",function(){return X(t),Z($().filterText="")}),O(1,"i",44),y()}}function Dpe(n,e){if(1&n&&(_(0,"div",45),O(1,"i",46),I(2),y()),2&n){const t=$();b(2),ge(" ",t.error," ")}}function Spe(n,e){1&n&&(_(0,"div",47),O(1,"div",48),_(2,"p",6),I(3,"Cargando ranking hist\xf3rico..."),y()())}function xpe(n,e){1&n&&O(0,"i",72)}function Ope(n,e){1&n&&O(0,"i",73)}function Rpe(n,e){if(1&n){const t=Ae();_(0,"div",51)(1,"div",52)(2,"div",53),z("click",function(){const o=X(t).$implicit;return Z($(2).onShowDetails(o))}),_(3,"span",54),I(4),y(),_(5,"img",55),z("click",function(){const o=X(t).$implicit;return Z($(2).onShowDetails(o))}),y()(),_(6,"div",56)(7,"h3",57),z("click",function(){const o=X(t).$implicit;return Z($(2).onShowDetails(o))}),I(8),y(),_(9,"p",58),z("click",function(){const o=X(t).$implicit;return Z($(2).onShowDetails(o))}),I(10),y(),_(11,"div",59),z("click",function(){const o=X(t).$implicit;return Z($(2).onShowDetails(o))}),_(12,"span",60),O(13,"i",61),I(14),y(),_(15,"span",60),O(16,"i",62),I(17),y(),_(18,"span",60),O(19,"i",63),I(20),y()(),_(21,"div",64),z("click",function(){const o=X(t).$implicit;return Z($(2).onShowDetails(o))}),_(22,"div",65),O(23,"div",66),y(),_(24,"span",67),I(25),y()(),_(26,"p",68),I(27),y(),_(28,"button",69),z("click",function(){const o=X(t).$implicit;return Z($(2).onVote(o))}),Y(29,xpe,1,0,"i",70),Y(30,Ope,1,0,"i",71),I(31," Votar "),y()()()()}if(2&n){const t=e.$implicit,r=e.index,i=$(2);b(4),ue(r+1),b(1),j("src",t.image||"assets/default-song.png",sr)("alt",t.name),b(3),ue(t.name),b(2),ue(t.artists.join(", ")),b(4),ge(" ",t.times_played," "),b(3),ge(" ",t.total_votes," "),b(3),ge(" ",t.total_dislikes," "),b(3),vl("width",i.getVotePercentage(t),"%"),b(2),ge("",i.getVotePercentage(t),"% aprobaci\xf3n"),b(2),ue(i.formatDate(t.last_played_at)),b(1),j("disabled",i.isVoting),b(1),j("ngIf",!i.isVoting),b(1),j("ngIf",i.isVoting)}}function kpe(n,e){if(1&n&&(_(0,"div",49),Y(1,Rpe,32,15,"div",50),y()),2&n){const t=$();b(1),j("ngForOf",t.getTabSongs())}}function Npe(n,e){1&n&&(_(0,"div",47),O(1,"i",74),_(2,"h4",6),I(3,"No se encontraron canciones"),y(),_(4,"p",6),I(5,"Intenta con otros t\xe9rminos de b\xfasqueda"),y()())}function Vpe(n,e){if(1&n){const t=Ae();_(0,"div",75),z("click",function(){return X(t),Z($().onCloseDetails())}),y()}}function Fpe(n,e){1&n&&O(0,"i",72)}function Lpe(n,e){1&n&&O(0,"i",73)}function Upe(n,e){if(1&n){const t=Ae();_(0,"div",76)(1,"div",77)(2,"div",78)(3,"div",79)(4,"h5",80),O(5,"i",81),I(6,"Detalles de la Canci\xf3n "),y(),_(7,"button",82),z("click",function(){return X(t),Z($().onCloseDetails())}),I(8," Cerrar "),y()(),_(9,"div",83)(10,"div",84)(11,"div",85),O(12,"img",86),_(13,"button",69),z("click",function(){X(t);const i=$();return Z(i.onVote(i.selectedSong))}),Y(14,Fpe,1,0,"i",70),Y(15,Lpe,1,0,"i",71),I(16," Votar por esta canci\xf3n "),y()(),_(17,"div",87)(18,"h4",6),I(19),y(),_(20,"p",6),I(21),y(),_(22,"div",88)(23,"div",89)(24,"div",90)(25,"h3",91),I(26),y(),_(27,"p",92),I(28,"Reproducciones"),y()()(),_(29,"div",89)(30,"div",90)(31,"h3",93),I(32),y(),_(33,"p",92),I(34,"Votos positivos"),y()()(),_(35,"div",94)(36,"div",90)(37,"h3",95),I(38),y(),_(39,"p",92),I(40,"Votos negativos"),y()()(),_(41,"div",94)(42,"div",90)(43,"h3",96),I(44),y(),_(45,"p",92),I(46,"Porcentaje de aprobaci\xf3n"),y()()()(),_(47,"div",97)(48,"h6",6),I(49,"\xdaltima reproducci\xf3n"),y(),_(50,"p",6),I(51),y(),_(52,"h6",6),I(53,"D\xedas desde la \xfaltima reproducci\xf3n"),y(),_(54,"p",6),I(55),y()()()()()()()()}if(2&n){const t=$();b(12),j("src",t.selectedSong.image||"assets/default-song.png",sr)("alt",t.selectedSong.name),b(1),j("disabled",t.isVoting),b(1),j("ngIf",!t.isVoting),b(1),j("ngIf",t.isVoting),b(4),ue(t.selectedSong.name),b(2),ue(t.selectedSong.artists.join(", ")),b(5),ue(t.selectedSong.times_played),b(6),ue(t.selectedSong.total_votes),b(6),ue(t.selectedSong.total_dislikes),b(6),ge("",t.getVotePercentage(t.selectedSong),"%"),b(7),ue(t.formatDate(t.selectedSong.last_played_at)),b(4),ge("",t.getDaysSinceLastPlayed(t.selectedSong)," d\xedas")}}let Bpe=(()=>{class n{rankingService;votingService;songs=[];isLoading=!0;error="";sortBy="times_played";sortOrder="desc";filterText="";selectedSong=null;isVoting=!1;voteMessage="";activeTab="all";stats={};pollingSubscription=null;constructor(t,r){this.rankingService=t,this.votingService=r}ngOnInit(){this.loadRanking(),this.startPolling()}ngOnDestroy(){this.pollingSubscription&&this.pollingSubscription.unsubscribe()}startPolling(){this.pollingSubscription=this.votingService.getRankedSongsPolling().subscribe({next:()=>{this.loadRanking()}})}loadRanking(){this.isLoading=!0,this.error="",this.rankingService.getSongHistory(this.sortBy,this.sortOrder).subscribe({next:t=>{this.songs=t,this.calculateStats(),this.isLoading=!1},error:t=>{console.error("Error loading ranking:",t),this.error="Error al cargar el ranking. Intenta nuevamente.",this.isLoading=!1}})}calculateStats(){0!==this.songs.length?(this.stats.totalSongs=this.songs.length,this.stats.totalPlays=this.songs.reduce((t,r)=>t+r.times_played,0),this.stats.totalVotes=this.songs.reduce((t,r)=>t+r.total_votes,0),this.stats.totalDislikes=this.songs.reduce((t,r)=>t+r.total_dislikes,0),this.stats.mostPlayed=this.songs.reduce((t,r)=>r.times_played>t.times_played?r:t,this.songs[0]),this.stats.mostVoted=this.songs.reduce((t,r)=>r.total_votes>t.total_votes?r:t,this.songs[0]),this.stats.bestRated=this.songs.reduce((t,r)=>this.getVotePercentage(r)>this.getVotePercentage(t)?r:t,this.songs[0])):this.stats={}}onSortChange(t){this.sortBy===t?this.sortOrder="desc"===this.sortOrder?"asc":"desc":(this.sortBy=t,this.sortOrder="desc"),this.loadRanking()}getSortIcon(t){return this.sortBy!==t?"fa-sort":"desc"===this.sortOrder?"fa-sort-down":"fa-sort-up"}onVote(t){this.isVoting=!0,this.voteMessage="",this.rankingService.voteFromHistory(t.track_id).subscribe({next:r=>{this.voteMessage="Agregada a Ranking de Votacion",this.isVoting=!1;const i=this.songs.findIndex(o=>o.track_id===t.track_id);-1!==i&&(this.songs[i].total_votes+=1,this.calculateStats()),setTimeout(()=>{this.voteMessage=""},5e3)},error:r=>{console.error("Error voting:",r),this.voteMessage=r.error?.error||"Error al votar",this.isVoting=!1,setTimeout(()=>{this.voteMessage=""},5e3)}})}onShowDetails(t){this.selectedSong=t}onCloseDetails(){this.selectedSong=null}get filteredSongs(){if(!this.filterText)return this.songs;const t=this.filterText.toLowerCase();return this.songs.filter(r=>r.name.toLowerCase().includes(t)||r.artists.some(i=>i.toLowerCase().includes(t)))}getVotePercentage(t){return t.total_votes||t.total_dislikes?Math.round(t.total_votes/(t.total_votes+t.total_dislikes)*100):0}formatDate(t){const r=new Date(t);return new Intl.DateTimeFormat("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}).format(r)}getDaysSinceLastPlayed(t){const r=new Date(t.last_played_at),o=Math.abs((new Date).getTime()-r.getTime());return Math.floor(o/864e5)}setActiveTab(t){this.activeTab=t}getTabSongs(){switch(this.activeTab){case"mostPlayed":return[...this.filteredSongs].sort((t,r)=>r.times_played-t.times_played);case"mostVoted":return[...this.filteredSongs].sort((t,r)=>r.total_votes-t.total_votes);case"bestRated":return[...this.filteredSongs].sort((t,r)=>{const i=this.getVotePercentage(t);return this.getVotePercentage(r)-i});default:return this.filteredSongs}}static \u0275fac=function(r){return new(r||n)(H(Ppe),H(wu))};static \u0275cmp=$n({type:n,selectors:[["app-ranking"]],standalone:!0,features:[Kn],decls:88,vars:30,consts:[[1,"ranking-container","fade-in"],[1,"message-container"],["class","success-message",4,"ngIf"],[1,"header-section"],[1,"gradient-text"],[1,"fas","fa-trophy","me-2"],[1,"text-muted"],[1,"stats-grid","mb-4"],[1,"stat-card","card"],[1,"card-body","text-center"],[1,"fas","fa-music","stat-icon"],[1,"stat-value"],[1,"stat-label"],[1,"fas","fa-play-circle","stat-icon"],[1,"fas","fa-thumbs-up","stat-icon"],[1,"fas","fa-thumbs-down","stat-icon"],[1,"tabs-container","mb-4"],[1,"nav","nav-tabs"],[1,"nav-item"],[1,"nav-link",3,"click"],[1,"fas","fa-list","me-1"],[1,"fas","fa-play-circle","me-1"],[1,"fas","fa-thumbs-up","me-1"],[1,"fas","fa-star","me-1"],[1,"filters-card","card","mb-4"],[1,"card-body"],[1,"row","align-items-center"],[1,"col-md-6","mb-3","mb-md-0"],[1,"search-container"],[1,"fas","fa-search","search-icon"],["type","text","placeholder","Buscar canci\xf3n o artista...",1,"search-input",3,"ngModel","ngModelChange"],["class","search-clear",3,"click",4,"ngIf"],[1,"col-md-6"],[1,"d-flex","flex-wrap","gap-2","justify-content-md-end"],[1,"text-muted","me-2"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"fas","fa-calendar","me-1"],["class","alert alert-danger","role","alert",4,"ngIf"],["class","text-center py-5",4,"ngIf"],["class","songs-grid",4,"ngIf"],["class","modal-backdrop show",3,"click",4,"ngIf"],["class","modal show d-block","tabindex","-1",4,"ngIf"],[1,"success-message"],[1,"search-clear",3,"click"],[1,"fas","fa-times"],["role","alert",1,"alert","alert-danger"],[1,"fas","fa-exclamation-triangle","me-2"],[1,"text-center","py-5"],[1,"loading-spinner","mb-3"],[1,"songs-grid"],["class","song-card spotify-card",4,"ngFor","ngForOf"],[1,"song-card","spotify-card"],[1,"card-content"],[1,"song-image-container",3,"click"],[1,"position-number"],[1,"song-image",3,"src","alt","click"],[1,"song-info"],[1,"song-title",3,"click"],[1,"song-artist",3,"click"],[1,"song-stats",3,"click"],[1,"stat-item"],[1,"fas","fa-play"],[1,"fas","fa-thumbs-up"],[1,"fas","fa-thumbs-down"],[1,"approval-container",3,"click"],[1,"approval-bar"],[1,"approval-progress"],[1,"approval-text"],[1,"last-played"],[1,"btn","btn-primary","w-100","mb-2",3,"disabled","click"],["class","fas fa-vote-yea me-1",4,"ngIf"],["class","fas fa-spinner fa-spin me-1",4,"ngIf"],[1,"fas","fa-vote-yea","me-1"],[1,"fas","fa-spinner","fa-spin","me-1"],[1,"fas","fa-music","fa-3x","text-muted","mb-3"],[1,"modal-backdrop","show",3,"click"],["tabindex","-1",1,"modal","show","d-block"],[1,"modal-dialog","modal-lg"],[1,"modal-content","card"],[1,"modal-header","card-header"],[1,"modal-title"],[1,"fas","fa-info-circle","me-2"],["type","button",1,"btn","btn-primary","w-100","mb-2",3,"click"],[1,"modal-body","card-body"],[1,"row"],[1,"col-md-4","text-center"],[1,"img-fluid","rounded","mb-3",3,"src","alt"],[1,"col-md-8"],[1,"row","mt-4"],[1,"col-6"],[1,"stat-box","text-center","p-3","rounded"],[1,"text-primary"],[1,"mb-0","text-muted"],[1,"text-success"],[1,"col-6","mt-3"],[1,"text-danger"],[1,"text-info"],[1,"mt-4"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1),Y(2,Mpe,2,1,"div",2),y(),_(3,"div",3)(4,"h1",4),O(5,"i",5),I(6,"Ranking Hist\xf3rico "),y(),_(7,"p",6),I(8," Descubre las canciones m\xe1s populares que han sonado en nuestro restaurante "),y()(),_(9,"div",7)(10,"div",8)(11,"div",9),O(12,"i",10),_(13,"h3",11),I(14),y(),_(15,"p",12),I(16,"Canciones totales"),y()()(),_(17,"div",8)(18,"div",9),O(19,"i",13),_(20,"h3",11),I(21),y(),_(22,"p",12),I(23,"Reproducciones"),y()()(),_(24,"div",8)(25,"div",9),O(26,"i",14),_(27,"h3",11),I(28),y(),_(29,"p",12),I(30,"Votos positivos"),y()()(),_(31,"div",8)(32,"div",9),O(33,"i",15),_(34,"h3",11),I(35),y(),_(36,"p",12),I(37,"Votos negativos"),y()()()(),_(38,"div",16)(39,"ul",17)(40,"li",18)(41,"a",19),z("click",function(){return i.setActiveTab("all")}),O(42,"i",20),I(43,"Todas "),y()(),_(44,"li",18)(45,"a",19),z("click",function(){return i.setActiveTab("mostPlayed")}),O(46,"i",21),I(47,"M\xe1s reproducidas "),y()(),_(48,"li",18)(49,"a",19),z("click",function(){return i.setActiveTab("mostVoted")}),O(50,"i",22),I(51,"M\xe1s votadas "),y()(),_(52,"li",18)(53,"a",19),z("click",function(){return i.setActiveTab("bestRated")}),O(54,"i",23),I(55,"Mejor valoradas "),y()()()(),_(56,"div",24)(57,"div",25)(58,"div",26)(59,"div",27)(60,"div",28),O(61,"i",29),_(62,"input",30),z("ngModelChange",function(s){return i.filterText=s}),y(),Y(63,Ape,2,0,"button",31),y(),_(64,"p",6),I(65,"Preciona la cacion para ver los detallas "),y()(),_(66,"div",32)(67,"div",33)(68,"span",34),I(69,"Ordenar por:"),y(),_(70,"button",35),z("click",function(){return i.onSortChange("times_played")}),O(71,"i",21),I(72," Reproducciones "),O(73,"i"),y(),_(74,"button",35),z("click",function(){return i.onSortChange("total_votes")}),O(75,"i",22),I(76," Votos "),O(77,"i"),y(),_(78,"button",35),z("click",function(){return i.onSortChange("last_played_at")}),O(79,"i",36),I(80," Fecha "),O(81,"i"),y()()()()()(),Y(82,Dpe,3,1,"div",37),Y(83,Spe,4,0,"div",38),Y(84,kpe,2,1,"div",39),Y(85,Npe,6,0,"div",38),Y(86,Vpe,1,0,"div",40),Y(87,Upe,56,13,"div",41),y()),2&r&&(b(2),j("ngIf",i.voteMessage),b(12),ue(i.stats.totalSongs||0),b(7),ue(i.stats.totalPlays||0),b(7),ue(i.stats.totalVotes||0),b(7),ue(i.stats.totalDislikes||0),b(6),Ee("active","all"===i.activeTab),b(4),Ee("active","mostPlayed"===i.activeTab),b(4),Ee("active","mostVoted"===i.activeTab),b(4),Ee("active","bestRated"===i.activeTab),b(9),j("ngModel",i.filterText),b(1),j("ngIf",i.filterText),b(10),tp("fas ",i.getSortIcon("times_played")," ms-1"),b(4),tp("fas ",i.getSortIcon("total_votes")," ms-1"),b(4),tp("fas ",i.getSortIcon("last_played_at")," ms-1"),b(1),j("ngIf",i.error),b(1),j("ngIf",i.isLoading),b(1),j("ngIf",!i.isLoading&&i.getTabSongs().length>0),b(1),j("ngIf",!i.isLoading&&0===i.getTabSongs().length),b(1),j("ngIf",i.selectedSong),b(1),j("ngIf",i.selectedSong))},dependencies:[jr,Fi,Er,Eu,oo,ia,Xo,td],styles:['.ranking-container[_ngcontent-%COMP%]{padding:1rem;max-width:1200px;margin:0 auto}@media (max-width: 768px){.ranking-container[_ngcontent-%COMP%]{padding:.5rem}}.header-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem;padding:1.5rem;background:linear-gradient(135deg,rgba(29,185,84,.1) 0%,rgba(25,20,20,.1) 100%);border-radius:16px}.header-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.2rem;font-weight:800;margin-bottom:.5rem}@media (max-width: 768px){.header-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}}.header-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:1rem}.search-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;background:rgba(42,42,42,.6);border-radius:50px;padding:.5rem 1rem;transition:all .3s ease;border:1px solid rgba(62,62,62,.5)}.search-container[_ngcontent-%COMP%]:focus-within{border-color:var(--primary-color);box-shadow:0 0 0 2px #1db95440}.search-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{color:var(--text-secondary);margin-right:.5rem}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--text-primary);flex-grow:1;padding:.5rem 0}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:none}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:var(--text-tertiary)}.search-container[_ngcontent-%COMP%]   .search-clear[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--text-secondary);cursor:pointer;padding:.25rem;border-radius:50%}.search-container[_ngcontent-%COMP%]   .search-clear[_ngcontent-%COMP%]:hover{color:var(--text-primary);background:rgba(255,255,255,.1)}.songs-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1rem}@media (max-width: 768px){.songs-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.75rem}}.spotify-card[_ngcontent-%COMP%]{background:rgba(42,42,42,.6);border-radius:8px;overflow:hidden;transition:all .3s ease;border:1px solid rgba(255,255,255,.05)}.spotify-card[_ngcontent-%COMP%]:hover{background:rgba(42,42,42,.8);transform:translateY(-2px);box-shadow:0 8px 24px #0003}.spotify-card[_ngcontent-%COMP%]:hover   .play-button[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}.spotify-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:1rem;display:flex;gap:1rem}@media (max-width: 480px){.spotify-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:.75rem}}.spotify-card[_ngcontent-%COMP%]   .song-image-container[_ngcontent-%COMP%]{position:relative;flex-shrink:0}.spotify-card[_ngcontent-%COMP%]   .song-image-container[_ngcontent-%COMP%]   .position-number[_ngcontent-%COMP%]{position:absolute;top:-8px;left:-8px;background:var(--primary-color);color:#000;font-weight:800;width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.8rem;z-index:2;box-shadow:0 2px 8px #1db95466}.spotify-card[_ngcontent-%COMP%]   .song-image-container[_ngcontent-%COMP%]   .song-image[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:6px;object-fit:cover;box-shadow:0 4px 12px #0000004d}@media (max-width: 480px){.spotify-card[_ngcontent-%COMP%]   .song-image-container[_ngcontent-%COMP%]   .song-image[_ngcontent-%COMP%]{width:100%;height:auto;max-height:160px}}.spotify-card[_ngcontent-%COMP%]   .song-image-container[_ngcontent-%COMP%]   .play-button[_ngcontent-%COMP%]{position:absolute;bottom:8px;right:8px;background:var(--primary-color);color:#000;border:none;border-radius:50%;width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;opacity:0;transform:translateY(8px);transition:all .3s ease;box-shadow:0 4px 12px #0000004d}.spotify-card[_ngcontent-%COMP%]   .song-image-container[_ngcontent-%COMP%]   .play-button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}@media (max-width: 480px){.spotify-card[_ngcontent-%COMP%]   .song-image-container[_ngcontent-%COMP%]   .play-button[_ngcontent-%COMP%]{opacity:1;transform:none;bottom:16px;right:16px;width:40px;height:40px}}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]{flex-grow:1;min-width:0}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   .song-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;margin:0 0 .25rem;color:var(--text-primary);cursor:pointer;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   .song-title[_ngcontent-%COMP%]:hover{color:var(--primary-color)}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   .song-artist[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary);margin:0 0 .75rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   .song-stats[_ngcontent-%COMP%]{display:flex;gap:.75rem;margin-bottom:.75rem;flex-wrap:wrap}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   .song-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;font-size:.8rem;color:var(--text-secondary)}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   .song-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color)}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   .approval-container[_ngcontent-%COMP%]{margin-bottom:.75rem}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   .approval-container[_ngcontent-%COMP%]   .approval-bar[_ngcontent-%COMP%]{height:4px;background-color:#ffffff1a;border-radius:2px;overflow:hidden;margin-bottom:.25rem}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   .approval-container[_ngcontent-%COMP%]   .approval-bar[_ngcontent-%COMP%]   .approval-progress[_ngcontent-%COMP%]{height:100%;background:var(--primary-color);border-radius:2px;transition:width .5s ease}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   .approval-container[_ngcontent-%COMP%]   .approval-text[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-secondary)}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   .last-played[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-tertiary);margin:0}.tabs-container[_ngcontent-%COMP%]{margin-bottom:1.5rem}.tabs-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]{border-bottom:1px solid rgba(255,255,255,.1);display:flex;overflow-x:auto;scrollbar-width:none}.tabs-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.tabs-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{flex-shrink:0}.tabs-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:var(--text-secondary);border:none;padding:.75rem 1rem;border-radius:0;position:relative;font-weight:600;white-space:nowrap}.tabs-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:0;height:2px;background:var(--primary-color);transition:width .3s ease}.tabs-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:var(--text-primary);background:transparent}.tabs-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover:after{width:100%}.tabs-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:var(--text-primary);background:transparent}.tabs-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{width:100%}.alert[_ngcontent-%COMP%]{border-radius:12px;border:none;box-shadow:0 4px 12px #00000026}.alert.alert-info[_ngcontent-%COMP%]{background:rgba(23,162,184,.9);color:#fff;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.alert.alert-danger[_ngcontent-%COMP%]{background:rgba(220,53,69,.9);color:#fff;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.alert[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{filter:invert(1)}.btn-closeee[_ngcontent-%COMP%]{background:rgba(3,59,17,.9);color:#030000;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}@keyframes _ngcontent-%COMP%_slideInDown{0%{transform:translateY(-20px);opacity:0}to{transform:translateY(0);opacity:1}}.alert-dismissible[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInDown .3s ease-out}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:1rem;margin-bottom:2rem}@media (max-width: 480px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{background:rgba(42,42,42,.6);border-radius:8px;padding:1rem;text-align:center;border:1px solid rgba(255,255,255,.05);transition:all .3s ease}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 6px 16px #0003;border-color:#1db95433}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--primary-color);margin-bottom:.5rem}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;margin-bottom:.25rem;color:var(--text-primary)}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-secondary);margin:0}.text-center[_ngcontent-%COMP%]{padding:3rem 1rem}.text-center[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{border:3px solid rgba(29,185,84,.3);border-top-color:var(--primary-color);border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}.text-center[_ngcontent-%COMP%]   .fa-music[_ngcontent-%COMP%]{font-size:3rem;color:var(--text-tertiary);margin-bottom:1rem}.text-center[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--text-secondary);margin-bottom:.5rem}.text-center[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-tertiary)}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.btn-outline-secondary[_ngcontent-%COMP%]{background:transparent;color:var(--text-secondary);border:1px solid var(--text-secondary);border-radius:50px;padding:.4rem .8rem;font-size:.85rem;display:inline-flex;align-items:center;transition:all .3s ease}.btn-outline-secondary[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.05);color:var(--text-primary);border-color:var(--text-primary)}.btn-outline-secondary[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:.25rem}.message-container[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;z-index:1000;max-width:400px}.success-message[_ngcontent-%COMP%], .error-message[_ngcontent-%COMP%], .progress-message[_ngcontent-%COMP%]{padding:12px 16px;border-radius:6px;margin-bottom:10px;box-shadow:0 4px 12px #0000004d;display:flex;align-items:center;animation:slideIn .3s ease}.success-message[_ngcontent-%COMP%]{background-color:#1db954e6;color:#000;border-left:4px solid #1DB954}']})}return n})(),jpe=(()=>{class n{authService;router;constructor(t,r){this.authService=t,this.router=r}canActivate(){return!!this.authService.isLoggedIn()||(this.router.navigate(["/admin-login"]),!1)}static \u0275fac=function(r){return new(r||n)(ae(sa),ae(kn))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $pe(n,e){if(1&n){const t=Ae();_(0,"button",6),z("click",function(){return X(t),Z($().hideAnnouncement())}),_(1,"i"),I(2,"Cerrar"),y()()}}function Hpe(n,e){if(1&n){const t=Ae();_(0,"button",7),z("click",function(){return X(t),Z($().nohideAnnouncement())}),_(1,"i"),I(2,"Abrir"),y()()}}function zpe(n,e){1&n&&(_(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12),O(5,"i",13),y(),_(6,"div")(7,"p",14),I(8,"Desarrollado por "),_(9,"b",15),I(10,"Sebastian Vega"),y(),I(11,": "),y(),_(12,"div",16)(13,"a",17),O(14,"i",18),I(15,"GitHub "),y(),_(16,"a",19),O(17,"i",20),I(18,"LinkedIn "),y(),_(19,"a",21),O(20,"i",22),I(21,"Instagram "),y()()()()(),O(22,"div",10),I(23," UptcMusic.com 2025 - V2.5 "),_(24,"div",23)(25,"h4"),O(26,"i",24),I(27,"A nuestros queridos usuarios:"),y(),_(28,"p"),I(29,"-Una cancion es eliminada automaticamente al completar "),_(30,"strong"),I(31,"10 Dislikes "),y()(),_(32,"p"),I(33,"-Cancion que entre en reproducion se eliminara automaticamente del Ranking"),y(),_(34,"p"),I(35,"-Solo se puede votar una vez por cancion "),y(),_(36,"p"),I(37,"-Toda Cacion Reproducida va para Ranking Historico"),y(),_(38,"p"),I(39,"-Cancion con menos de 10 votos no se tiene en cuenta para ser reproducidas"),y(),_(40,"p"),I(41,"-Cada semana se eliminaran todas las canciones del Ranking "),y(),_(42,"p"),I(43,"-El administrador tiene la potestad de evaluar cada sugerencia y decidir si es apropiada para el momento o ambiente."),y(),_(44,"p")(45,"strong"),I(46,"Agradecemos enormemente su entusiasmo y participaci\xf3n. \xa1Sigan votando por su m\xfasica favorita!"),y()()()()())}let Gpe=(()=>{class n{isHidden=!1;hideAnnouncement(){this.isHidden=!0,localStorage.setItem("announcementHidden","true")}nohideAnnouncement(){this.isHidden=!1,localStorage.setItem("announcementHidden","true")}ngOnInit(){"true"===localStorage.getItem("announcementHidden")&&(this.isHidden=!0)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=$n({type:n,selectors:[["app-announcement"]],standalone:!0,features:[Kn],decls:8,vars:3,consts:[[1,"announcement-container","card"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"fas","fa-info-circle","me-2"],["class","btn-close","title","Abrir",3,"click",4,"ngIf"],["class","btn-close","title","Cerrar",3,"click",4,"ngIf"],["class","card-body",4,"ngIf"],["title","Abrir",1,"btn-close",3,"click"],["title","Cerrar",1,"btn-close",3,"click"],[1,"card-body"],[1,"announcement-content"],[1,"developer-info"],[1,"d-flex","align-items-start"],[1,"me-3","mt-1"],[1,"fas","fa-laptop-code","text-primary"],[1,"mb-1"],["href","https://www.instagram.com/sebastian.vegar/"],[1,"social-links"],["href","https://github.com/SebastianVega4","target","_blank"],[1,"fab","fa-github","me-1"],["href","https://www.linkedin.com/in/johan-sebastian-vega-ruiz-b1292011b/","target","_blank"],[1,"fab","fa-linkedin","me-1"],["href","https://www.instagram.com/sebastian.vegar/","target","_blank"],[1,"fab","fa-instagram","me-1"],[1,"alert","alert-info"],[1,"fas","fa-exclamation-triangle","me-2"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"div"),O(3,"i",2),I(4,"Informaci\xf3n Importante "),y(),Y(5,$pe,3,0,"button",3),Y(6,Hpe,3,0,"button",4),y(),Y(7,zpe,47,0,"div",5),y()),2&r&&(b(5),j("ngIf",!i.isHidden),b(1),j("ngIf",i.isHidden),b(1),j("ngIf",!i.isHidden))},dependencies:[jr,Er],styles:['@charset "UTF-8";.announcement-container[_ngcontent-%COMP%]{margin-bottom:.5rem;border:1px solid rgba(255,255,255,.1);border-radius:16px;overflow:hidden;background:var(--glass-bg);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);box-shadow:0 10px 30px #0003;transition:all .3s ease}.announcement-container[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 15px 40px #1db95426;border-color:#1db95433}.announcement-container[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(29,185,84,.15) 0%,rgba(141,103,171,.15) 100%);color:var(--text-primary);font-weight:700;font-size:1.1rem;padding:1rem 1.5rem;border-bottom:1px solid rgba(255,255,255,.1);display:flex;align-items:center;justify-content:space-between}.announcement-container[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color)}.announcement-container[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-secondary);cursor:pointer;padding:.25rem;border-radius:50%;transition:all .2s ease;width:28px;height:28px;display:flex;align-items:center;justify-content:center}.announcement-container[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{color:var(--text-primary);background:rgba(255,255,255,.1);transform:rotate(90deg)}.announcement-container[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.announcement-container[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1.5rem}.announcement-container[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{border:none;border-radius:12px;padding:1.5rem;background:rgba(83,143,221,.1);border-left:4px solid rgba(83,143,221,.5)}.announcement-container[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:1rem;color:var(--text-primary);display:flex;align-items:center}.announcement-container[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#538fdd;margin-right:.5rem;font-size:1.2rem}.announcement-container[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.6;color:var(--text-secondary);margin-bottom:1rem}.announcement-container[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.announcement-container[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--text-primary);font-weight:600}.announcement-container[_ngcontent-%COMP%]   .developer-info[_ngcontent-%COMP%]{margin-top:1.5rem;padding-top:1.5rem;border-top:1px solid rgba(255,255,255,.1)}.announcement-container[_ngcontent-%COMP%]   .developer-info[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{align-items:flex-start}.announcement-container[_ngcontent-%COMP%]   .developer-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary);margin-bottom:.5rem}.announcement-container[_ngcontent-%COMP%]   .developer-info[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.95rem;color:var(--text-primary);margin-bottom:1rem;font-weight:600}.announcement-container[_ngcontent-%COMP%]   .developer-info[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{display:flex;gap:1.2rem}.announcement-container[_ngcontent-%COMP%]   .developer-info[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;transition:all .3s ease;font-size:.9rem;color:var(--text-secondary);display:flex;align-items:center}.announcement-container[_ngcontent-%COMP%]   .developer-info[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--primary-color);transform:translateY(-2px)}.announcement-container[_ngcontent-%COMP%]   .developer-info[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.4rem;font-size:1rem}.announcement-container[_ngcontent-%COMP%]:hover{border-color:var(--primary-color)}']})}return n})();function qpe(n,e){if(1&n){const t=Ae();_(0,"button",7),z("click",function(){return X(t),Z($().hideAnnouncement())}),_(1,"i"),I(2,"Cerrar"),y()()}}function Wpe(n,e){if(1&n){const t=Ae();_(0,"button",8),z("click",function(){return X(t),Z($().nohideAnnouncement())}),_(1,"i"),I(2,"Abrir"),y()()}}function Kpe(n,e){1&n&&(_(0,"div",12),O(1,"div",13),_(2,"p"),I(3,"Cargando horarios..."),y()())}const Qpe=function(){return["Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes"]};function Ype(n,e){if(1&n&&(_(0,"tr")(1,"td",17)(2,"strong"),I(3),y()(),_(4,"td",18)(5,"span",19),I(6),y()(),_(7,"td",20)(8,"span",19),I(9),y()(),_(10,"td",21)(11,"span",22),I(12),y()()()),2&n){const t=e.$implicit,r=$(3);b(3),ue(ms(14,Qpe)[t.day_of_week]),b(2),Ee("empty",!t.lunch_start&&!t.lunch_end),b(1),bo(" ",r.convertToAmPm(t.lunch_start)||"-"," - ",r.convertToAmPm(t.lunch_end)||"-"," "),b(2),Ee("empty",!t.dinner_start&&!t.dinner_end),b(1),bo(" ",r.convertToAmPm(t.dinner_start)||"-"," - ",r.convertToAmPm(t.dinner_end)||"-"," "),b(2),Ee("active",t.is_active)("inactive",!t.is_active),b(1),ge(" ",t.is_active?"Activo":"Inactivo"," ")}}function Jpe(n,e){if(1&n&&(_(0,"div",14)(1,"table",15)(2,"thead")(3,"tr")(4,"th"),I(5,"D\xeda"),y(),_(6,"th"),I(7,"Almuerzo"),y(),_(8,"th"),I(9,"Cena"),y(),_(10,"th"),I(11,"Estado"),y()()(),_(12,"tbody"),Y(13,Ype,13,15,"tr",16),y()()()),2&n){const t=$(2);b(13),j("ngForOf",t.schedules)}}function Xpe(n,e){if(1&n&&(_(0,"div",9),Y(1,Kpe,4,0,"div",10),Y(2,Jpe,14,1,"div",11),y()),2&n){const t=$();b(1),j("ngIf",t.isLoading),b(1),j("ngIf",!t.isLoading)}}let Zpe=(()=>{class n{scheduleService;schedules=[];isLoading=!0;isHidden=!1;constructor(t){this.scheduleService=t}hideAnnouncement(){this.isHidden=!0,localStorage.setItem("announcementHidden","true")}nohideAnnouncement(){this.isHidden=!1,localStorage.setItem("announcementHidden","true")}ngOnInit(){this.loadSchedules(),"true"===localStorage.getItem("announcementHidden")&&(this.isHidden=!0)}loadSchedules(){this.scheduleService.getSchedules().subscribe({next:t=>{this.schedules=t,this.isLoading=!1},error:t=>{console.error("Error al cargar horarios:",t),this.isLoading=!1}})}convertToAmPm(t){if(!t)return"";const[r,i]=t.split(":"),o=parseInt(r,10);return`${o%12||12}:${i} ${o>=12?"PM":"AM"}`}static \u0275fac=function(r){return new(r||n)(H(FB))};static \u0275cmp=$n({type:n,selectors:[["app-schedule"]],standalone:!0,features:[Kn],decls:8,vars:3,consts:[[1,"card","schedule-card"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"fas","fa-clock","me-2"],["class","btn-close","title","Abrir",3,"click",4,"ngIf"],["class","btn-close","title","Cerrar",3,"click",4,"ngIf"],["class","card-body",4,"ngIf"],["title","Abrir",1,"btn-close",3,"click"],["title","Cerrar",1,"btn-close",3,"click"],[1,"card-body"],["class","loading-container",4,"ngIf"],["class","schedule-table-container",4,"ngIf"],[1,"loading-container"],[1,"spinner"],[1,"schedule-table-container"],[1,"schedule-table"],[4,"ngFor","ngForOf"],["data-label","D\xeda"],["data-label","Almuerzo"],[1,"time-slot"],["data-label","Cena"],["data-label","Estado"],[1,"status-badge"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"h5",2),O(3,"i",3),I(4,"Horarios de M\xfasica"),y(),Y(5,qpe,3,0,"button",4),Y(6,Wpe,3,0,"button",5),y(),Y(7,Xpe,3,2,"div",6),y()),2&r&&(b(5),j("ngIf",!i.isHidden),b(1),j("ngIf",i.isHidden),b(1),j("ngIf",!i.isHidden))},dependencies:[jr,Fi,Er],styles:[".schedule-card[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border:1px solid rgba(255,255,255,.1);border-radius:16px;overflow:hidden;margin-bottom:.5rem;box-shadow:0 8px 32px #0003}.schedule-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(29,185,84,.15) 0%,rgba(141,103,171,.15) 100%);border-bottom:1px solid rgba(255,255,255,.1);padding:1.2rem 1.5rem}.schedule-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;font-weight:700;color:var(--text-primary);display:flex;align-items:center;font-size:1.2rem}.schedule-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color);margin-right:.8rem;font-size:1.1rem}.schedule-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1.5rem}.schedule-table-container[_ngcontent-%COMP%]{overflow-x:auto;border-radius:12px}.schedule-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;color:var(--text-primary)}.schedule-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:rgba(29,185,84,.1);padding:.9rem 1rem;text-align:left;font-weight:600;font-size:.85rem;text-transform:uppercase;letter-spacing:.5px;color:var(--text-secondary);border-bottom:2px solid rgba(255,255,255,.1)}.schedule-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:8px}.schedule-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:8px}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:all .3s ease;border-bottom:1px solid rgba(255,255,255,.05)}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.03)}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:8px}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:8px}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;font-size:.95rem}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{font-weight:600;color:var(--text-primary)}.time-slot[_ngcontent-%COMP%]{display:inline-block;padding:.4rem .8rem;border-radius:6px;background:rgba(42,42,42,.4);font-size:.9rem}.time-slot.empty[_ngcontent-%COMP%]{color:var(--text-tertiary);font-style:italic}.status-badge[_ngcontent-%COMP%]{padding:.5rem .9rem;border-radius:50px;font-size:.8rem;font-weight:600;display:inline-flex;align-items:center;justify-content:center;min-width:80px}.status-badge.active[_ngcontent-%COMP%]{background:rgba(29,185,84,.2);color:var(--primary-color);border:1px solid rgba(29,185,84,.3)}.status-badge.inactive[_ngcontent-%COMP%]{background:rgba(255,255,255,.1);color:var(--text-secondary);border:1px solid rgba(255,255,255,.1)}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem}.loading-container[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid rgba(29,185,84,.2);border-radius:50%;border-top-color:var(--primary-color);animation:_ngcontent-%COMP%_spin 1s ease-in-out infinite;margin-bottom:1rem}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);margin:0}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@media (max-width: 768px){.schedule-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:1rem}.schedule-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.1rem}.schedule-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1rem}.schedule-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:none}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:block;margin-bottom:1rem;padding:1rem;border-radius:12px;background:rgba(42,42,42,.3);border:1px solid rgba(255,255,255,.1)}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{margin-bottom:0}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block;padding:.6rem 0;text-align:left;border:none;font-size:.9rem}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);font-weight:700;display:block;margin-bottom:.3rem;color:var(--text-secondary);font-size:.8rem;text-transform:uppercase}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-top:0;font-size:1rem;margin-bottom:.5rem;padding-bottom:.5rem;border-bottom:1px solid rgba(255,255,255,.1)}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child:before{display:none}.time-slot[_ngcontent-%COMP%]{padding:.3rem .6rem;font-size:.85rem}.status-badge[_ngcontent-%COMP%]{padding:.4rem .7rem;font-size:.75rem;min-width:70px}}@media (max-width: 480px){.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{padding:.8rem}}.btn-close[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-secondary);cursor:pointer;padding:.25rem;border-radius:50%;transition:all .2s ease;width:28px;height:28px;display:flex;align-items:center;justify-content:center}.btn-close[_ngcontent-%COMP%]:hover{color:var(--text-primary);background:rgba(255,255,255,.1);transform:rotate(90deg)}.btn-close[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}"]})}return n})(),UB=(()=>{class n{http;apiUrl=_i_apiUrl;likedItems=new Set;constructor(t){this.http=t,this.loadLikedItemsFromStorage()}loadLikedItemsFromStorage(){const t=localStorage.getItem("discussion_likes");t&&(this.likedItems=new Set(JSON.parse(t)))}saveLikedItemsToStorage(){localStorage.setItem("discussion_likes",JSON.stringify([...this.likedItems]))}getItemKey(t,r){return`${t}:${r}`}hasUserLiked(t,r){return this.likedItems.has(this.getItemKey(t,r))}updateLikeStatus(t,r,i){const o=this.getItemKey(t,r);i?this.likedItems.add(o):this.likedItems.delete(o),this.saveLikedItemsToStorage()}getThreads(t="updated_at",r="desc"){return this.http.get(`${this.apiUrl}/api/discussion/threads?sort=${t}&order=${r}`)}getThread(t){return this.http.get(`${this.apiUrl}/api/discussion/threads/${t}`)}createThread(t,r){return this.http.post(`${this.apiUrl}/api/discussion/threads`,{title:t,content:r})}addComment(t,r,i){return this.http.post(`${this.apiUrl}/api/discussion/threads/${t}/comments`,{content:r,parent_comment_id:i})}likeThread(t){return this.http.post(`${this.apiUrl}/api/discussion/like`,{thread_id:t}).pipe(st(r=>{this.updateLikeStatus("thread",t,"liked"===r.action)}))}likeComment(t){return this.http.post(`${this.apiUrl}/api/discussion/like`,{comment_id:t}).pipe(st(r=>{this.updateLikeStatus("comment",t,"liked"===r.action)}))}static \u0275fac=function(r){return new(r||n)(ae(ri))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ege(n,e){if(1&n){const t=Ae();_(0,"div",22),O(1,"i",23),I(2),_(3,"button",24),z("click",function(){return X(t),Z($().error=null)}),O(4,"i",25),y()()}if(2&n){const t=$();b(2),ge(" ",t.error," ")}}function tge(n,e){if(1&n){const t=Ae();_(0,"div",26)(1,"div",27)(2,"h3"),I(3,"Crear Nuevo Hilo"),y(),_(4,"div",28)(5,"label",29),I(6,"T\xedtulo"),y(),_(7,"input",30),z("ngModelChange",function(i){return X(t),Z($().newThread.title=i)}),y(),_(8,"small"),I(9),y()(),_(10,"div",28)(11,"label",31),I(12,"Contenido"),y(),_(13,"textarea",32),z("ngModelChange",function(i){return X(t),Z($().newThread.content=i)}),y()(),_(14,"div",33)(15,"button",34),z("click",function(){X(t);const i=$();return i.showCreateForm=!1,Z(i.newThread={title:"",content:""})}),I(16," Cancelar "),y(),_(17,"button",35),z("click",function(){return X(t),Z($().createThread())}),O(18,"i",36),I(19,"Publicar Hilo "),y()()()()}if(2&n){const t=$();b(7),j("ngModel",t.newThread.title),b(2),ge("",t.newThread.title.length,"/200 caracteres"),b(4),j("ngModel",t.newThread.content),b(4),j("disabled",!t.newThread.title.trim()||!t.newThread.content.trim())}}function nge(n,e){1&n&&(_(0,"div",37),O(1,"div",38),_(2,"p"),I(3,"Cargando hilos..."),y()())}function rge(n,e){if(1&n){const t=Ae();_(0,"div",39),O(1,"i",40),_(2,"h3"),I(3,"\xa1S\xe9 el primero en empezar una conversaci\xf3n!"),y(),_(4,"p"),I(5,"A\xfan no hay hilos de discusi\xf3n. Crea el primero para hablar sobre m\xfasica."),y(),_(6,"button",5),z("click",function(){return X(t),Z($().showCreateForm=!0)}),O(7,"i",6),I(8,"Crear Primer Hilo "),y()()}}const BB=function(n){return["/discussion/thread",n]};function ige(n,e){if(1&n){const t=Ae();_(0,"div",41)(1,"div",42)(2,"h3",43)(3,"a",44),I(4),y()(),_(5,"span",45),I(6),y()(),_(7,"div",46)(8,"p"),I(9),y()(),_(10,"div",47)(11,"div",48)(12,"button",49),z("click",function(){const o=X(t).$implicit;return Z($().likeThread(o))}),O(13,"i",50),_(14,"span"),I(15),y()()(),_(16,"div",48),O(17,"i",51),_(18,"span"),I(19),y()(),_(20,"div",48),O(21,"i",52),_(22,"span"),I(23),y()()(),_(24,"div",53)(25,"a",54),O(26,"i",55),I(27,"Ver discusi\xf3n "),y()()()}if(2&n){const t=e.$implicit,r=$();b(3),j("routerLink",$v(10,BB,t.id)),b(1),ue(t.title),b(2),ue(r.formatTimeAgo(t.updated_at)),b(3),ue(t.content.length>300?t.content.substring(0,300)+"...":t.content),b(3),Ee("liked",t.user_has_liked),b(3),ue(t.likes_count),b(4),ue(t.comments_count),b(4),ge("Usuario ",t.author_fingerprint.substring(0,8),""),b(2),j("routerLink",$v(12,BB,t.id))}}function oge(n,e){1&n&&(_(0,"div",56)(1,"button",57),O(2,"i",58),I(3," Anterior "),y(),_(4,"span",59),I(5,"P\xe1gina 1 de 1"),y(),_(6,"button",57),I(7," Siguiente "),O(8,"i",60),y()())}function age(n,e){if(1&n){const t=Ae();_(0,"div",8),O(1,"i",9),I(2),_(3,"button",10),z("click",function(){return X(t),Z($().error=null)}),O(4,"i",11),y()()}if(2&n){const t=$();b(2),ge(" ",t.error," ")}}function cge(n,e){1&n&&(_(0,"div",12)(1,"div",13),O(2,"div",14),_(3,"p"),I(4,"Cargando hilo..."),y()()())}function uge(n,e){if(1&n){const t=Ae();_(0,"div",42)(1,"button",43),z("click",function(){return X(t),Z($(2).cancelReply())}),O(2,"i",44),I(3,"Cancelar "),y(),_(4,"button",45),z("click",function(){return X(t),Z($(2).addReply())}),O(5,"i",46),I(6,"Responder "),y()()}if(2&n){const t=$(2);b(4),j("disabled",!t.replyContent.trim())}}function lge(n,e){if(1&n){const t=Ae();_(0,"div",42)(1,"button",45),z("click",function(){return X(t),Z($(2).addComment())}),O(2,"i",47),I(3,"Publicar comentario "),y()()}if(2&n){const t=$(2);b(1),j("disabled",!t.newComment.trim())}}function dge(n,e){1&n&&(_(0,"div",48)(1,"div",49),O(2,"i",50),_(3,"h4"),I(4,"\xa1S\xe9 el primero en comentar!"),y(),_(5,"p"),I(6,"A\xfan no hay comentarios en este hilo. Comparte tu opini\xf3n."),y()()())}function hge(n,e){if(1&n){const t=Ae();_(0,"div",68)(1,"div",69),O(2,"i",56),y(),_(3,"div",57)(4,"div",58)(5,"span",59),O(6,"i",23),I(7),y(),_(8,"span",60),O(9,"i",21),I(10),y()(),_(11,"div",61)(12,"p"),I(13),y()(),_(14,"div",42)(15,"button",62),z("click",function(){const o=X(t).$implicit;return Z($(5).likeComment(o))}),O(16,"i",27),_(17,"span"),I(18),y()(),_(19,"button",63),z("click",function(){const o=X(t).$implicit,s=$(2).$implicit,a=$(3);return a.replyingTo=s.id,Z(a.replyContent="@"+((null==o.author_fingerprint?null:o.author_fingerprint.substring(0,8))||"")+" ")}),O(20,"i",64),_(21,"span"),I(22,"Responder"),y()()()()()}if(2&n){const t=e.$implicit,r=$(5);b(7),ge(" Usuario ",null==t.author_fingerprint?null:t.author_fingerprint.substring(0,8)," "),b(3),ge("",r.formatTimeAgo(t.created_at)," "),b(3),ue(t.content),b(2),Ee("liked",t.user_has_liked),b(3),ue(t.likes_count)}}function fge(n,e){if(1&n&&(_(0,"div",66),Y(1,hge,23,6,"div",67),y()),2&n){const t=$().$implicit;b(1),j("ngForOf",t.replies)}}function pge(n,e){if(1&n){const t=Ae();_(0,"div",53)(1,"div",54)(2,"div",55),O(3,"i",56),y(),_(4,"div",57)(5,"div",58)(6,"span",59),O(7,"i",23),I(8),y(),_(9,"span",60),O(10,"i",21),I(11),y()(),_(12,"div",61)(13,"p"),I(14),y()(),_(15,"div",42)(16,"button",62),z("click",function(){const o=X(t).$implicit;return Z($(3).likeComment(o))}),O(17,"i",27),_(18,"span"),I(19),y()(),_(20,"button",63),z("click",function(){const o=X(t).$implicit,s=$(3);return s.replyingTo=o.id,Z(s.replyContent="")}),O(21,"i",64),_(22,"span"),I(23,"Responder"),y()()()()(),Y(24,fge,2,1,"div",65),y()}if(2&n){const t=e.$implicit,r=$(3);Ee("has-replies",t.replies&&t.replies.length>0),b(8),ge(" Usuario ",null==t.author_fingerprint?null:t.author_fingerprint.substring(0,8)," "),b(3),ge("",r.formatTimeAgo(t.created_at)," "),b(3),ue(t.content),b(2),Ee("liked",t.user_has_liked),b(3),ue(t.likes_count),b(5),j("ngIf",t.replies&&t.replies.length>0)}}function gge(n,e){if(1&n&&(_(0,"div",51),Y(1,pge,25,9,"div",52),y()),2&n){const t=$(2);b(1),j("ngForOf",t.comments)}}function mge(n,e){if(1&n){const t=Ae();_(0,"div",15)(1,"div",16)(2,"div",17)(3,"h1",18),I(4),y(),_(5,"div",19)(6,"span",20),O(7,"i",21),I(8),y(),_(9,"span",22),O(10,"i",23),I(11),y()()(),_(12,"div",24)(13,"p"),I(14),y()(),_(15,"div",25)(16,"button",26),z("click",function(){X(t);const i=$();return Z(i.likeThread(i.thread))}),O(17,"i",27),_(18,"span"),I(19),y(),_(20,"span",28),I(21,"Me gusta"),y()(),_(22,"div",29),O(23,"i",30),_(24,"span"),I(25),y(),_(26,"span",28),I(27),y()()()(),_(28,"div",31)(29,"div",32)(30,"h3"),O(31,"i",33),I(32),y(),_(33,"div",34)(34,"textarea",35),z("ngModelChange",function(i){X(t);const o=$();return Z(o.replyingTo?o.replyContent=i:o.newComment=i)}),y(),Y(35,uge,7,1,"div",36),Y(36,lge,4,1,"div",36),y()()(),_(37,"div",37)(38,"div",38)(39,"h3"),O(40,"i",39),I(41),y()(),Y(42,dge,7,0,"div",40),Y(43,gge,2,1,"div",41),y()()}if(2&n){const t=$();b(4),ue(t.thread.title),b(4),ge("Publicado ",t.formatTimeAgo(t.thread.created_at)," "),b(3),ge("Usuario ",null==t.thread.author_fingerprint?null:t.thread.author_fingerprint.substring(0,8)," "),b(3),ue(t.thread.content),b(2),Ee("liked",t.thread.user_has_liked),b(3),ue(t.thread.likes_count),b(6),ue(t.thread.comments_count),b(2),ge("Comentario",1!==t.thread.comments_count?"s":"",""),b(5),ge(" ",t.replyingTo?"Respondiendo a comentario...":"Agregar comentario"," "),b(2),Mv("placeholder",t.replyingTo?"Escribe tu respuesta...":"Comparte tu opini\xf3n sobre este tema..."),j("ngModel",t.replyingTo?t.replyContent:t.newComment),b(1),j("ngIf",t.replyingTo),b(1),j("ngIf",!t.replyingTo),b(5),bo(" ",t.thread.comments_count," Comentario",1!==t.thread.comments_count?"s":""," "),b(1),j("ngIf",0===t.comments.length),b(1),j("ngIf",t.comments.length>0)}}const jB=function(){return["/discussion"]};function _ge(n,e){if(1&n&&(_(0,"div",70)(1,"div",71),O(2,"i",72),_(3,"h3"),I(4,"Error al cargar el hilo"),y(),_(5,"p"),I(6),y(),_(7,"a",73),O(8,"i",3),I(9,"Volver al foro "),y()()()),2&n){const t=$();b(6),ue(t.error),b(1),j("routerLink",ms(2,jB))}}const yge={providers:[function ree(n,...e){return sl([{provide:wc,multi:!0,useValue:n},[],{provide:Es,useFactory:W2,deps:[kn]},{provide:Sl,multi:!0,useFactory:K2},e.map(t=>t.\u0275providers)])}([{path:"",component:VB},{path:"home",component:VB},{path:"ranking",component:Bpe},{path:"discussion",component:(()=>{class n{discussionService;threads=[];showCreateForm=!1;newThread={title:"",content:""};isLoading=!1;sortBy="updated_at";error=null;constructor(t){this.discussionService=t}ngOnInit(){this.loadThreads()}loadThreads(){this.isLoading=!0,this.error=null,this.discussionService.getThreads(this.sortBy).subscribe({next:t=>{this.threads=t.map(r=>({...r,user_has_liked:this.discussionService.hasUserLiked("thread",r.id)})),this.isLoading=!1},error:t=>{console.error("Error loading threads:",t),this.error="Error al cargar los hilos. Por favor, intenta nuevamente.",this.isLoading=!1}})}createThread(){!this.newThread.title.trim()||!this.newThread.content.trim()||this.discussionService.createThread(this.newThread.title,this.newThread.content).subscribe({next:t=>{this.threads.unshift({...t,user_has_liked:!1}),this.showCreateForm=!1,this.newThread={title:"",content:""},this.error=null},error:t=>{console.error("Error creating thread:",t),this.error="Error al crear el hilo. Por favor, intenta nuevamente."}})}likeThread(t){this.discussionService.likeThread(t.id).subscribe({next:r=>{t.likes_count=r.new_count,t.user_has_liked="liked"===r.action},error:r=>{console.error("Error liking thread:",r),this.error="Error al dar like. Por favor, intenta nuevamente."}})}formatTimeAgo(t){const r=new Date(t),o=(new Date).getTime()-r.getTime(),s=Math.floor(o/6e4),a=Math.floor(s/60),c=Math.floor(a/24);return s<1?"Ahora mismo":s<60?`Hace ${s} min`:a<24?`Hace ${a} h`:1===c?"Ayer":c<7?`Hace ${c} d\xedas`:c<30?`Hace ${Math.floor(c/7)} sem`:`Hace ${Math.floor(c/30)} mes`}static \u0275fac=function(r){return new(r||n)(H(UB))};static \u0275cmp=$n({type:n,selectors:[["app-discussion"]],standalone:!0,features:[Kn],decls:36,vars:10,consts:[[1,"discussion-container"],[1,"discussion-header"],[1,"header-content"],[1,"fas","fa-comments","me-2"],[1,"header-subtitle"],[1,"btn-create-thread",3,"click"],[1,"fas","fa-plus","me-1"],["class","alert alert-danger","role","alert",4,"ngIf"],["class","create-thread-form",4,"ngIf"],[1,"sort-controls"],[1,"sort-options"],[3,"ngModel","ngModelChange","change"],["value","updated_at"],["value","likes_count"],["value","comments_count"],["value","created_at"],[1,"threads-count"],[1,"threads-list"],["class","loader",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","thread-card",4,"ngFor","ngForOf"],["class","pagination",4,"ngIf"],["role","alert",1,"alert","alert-danger"],[1,"fas","fa-exclamation-triangle","me-2"],["type","button",1,"btn-close",3,"click"],[1,"fas","fa-times"],[1,"create-thread-form"],[1,"form-card"],[1,"form-group"],["for","threadTitle"],["type","text","id","threadTitle","placeholder","Escribe un t\xedtulo interesante...","maxlength","200",3,"ngModel","ngModelChange"],["for","threadContent"],["id","threadContent","placeholder","Comparte tus pensamientos, preguntas o temas musicales...","rows","6",3,"ngModel","ngModelChange"],[1,"form-actions"],[1,"btn-cancel",3,"click"],[1,"btn-submit",3,"disabled","click"],[1,"fas","fa-paper-plane","me-1"],[1,"loader"],[1,"spinner"],[1,"empty-state"],[1,"fas","fa-comments-slash"],[1,"thread-card"],[1,"thread-header"],[1,"thread-title"],[3,"routerLink"],[1,"thread-date"],[1,"thread-content"],[1,"thread-stats"],[1,"stat"],[1,"like-btn",3,"click"],[1,"fas","fa-heart"],[1,"fas","fa-comment"],[1,"fas","fa-user"],[1,"thread-actions"],[1,"btn-read-more",3,"routerLink"],[1,"fas","fa-arrow-right","me-1"],[1,"pagination"],["disabled","",1,"page-btn"],[1,"fas","fa-chevron-left","me-1"],[1,"page-info"],[1,"fas","fa-chevron-right","ms-1"]],template:function(r,i){1&r&&(_(0,"div",0),O(1,"app-announcement")(2,"app-schedule"),_(3,"div",1)(4,"div",2)(5,"h1"),O(6,"i",3),I(7,"Foro Musical "),y(),_(8,"p",4),I(9,"Comparte, discute y conecta con otros amantes de la m\xfasica"),y()(),_(10,"button",5),z("click",function(){return i.showCreateForm=!i.showCreateForm}),O(11,"i",6),I(12),y()(),Y(13,ege,5,1,"div",7),Y(14,tge,20,4,"div",8),_(15,"div",9)(16,"div",10)(17,"span"),I(18,"Ordenar por:"),y(),_(19,"select",11),z("ngModelChange",function(s){return i.sortBy=s})("change",function(){return i.loadThreads()}),_(20,"option",12),I(21,"M\xe1s reciente"),y(),_(22,"option",13),I(23,"M\xe1s populares"),y(),_(24,"option",14),I(25,"M\xe1s comentados"),y(),_(26,"option",15),I(27,"M\xe1s antiguos"),y()()(),_(28,"div",16)(29,"span"),I(30),y()()(),_(31,"div",17),Y(32,nge,4,0,"div",18),Y(33,rge,9,0,"div",19),Y(34,ige,28,14,"div",20),y(),Y(35,oge,9,0,"div",21),y()),2&r&&(b(12),ge(" ",i.showCreateForm?"Cancelar":"Nuevo Hilo"," "),b(1),j("ngIf",i.error),b(1),j("ngIf",i.showCreateForm),b(5),j("ngModel",i.sortBy),b(11),bo("",i.threads.length," hilo",1!==i.threads.length?"s":"",""),b(2),j("ngIf",i.isLoading),b(1),j("ngIf",!i.isLoading&&0===i.threads.length),b(1),j("ngForOf",i.threads),b(1),j("ngIf",i.threads.length>0))},dependencies:[jr,Fi,Er,Eu,EB,TB,oo,Wm,ia,Y1,Xo,Gpe,Zpe,td,ws],styles:[".discussion-container[_ngcontent-%COMP%]{max-width:900px;margin:0 auto;padding:2rem;animation:_ngcontent-%COMP%_fadeIn .6s ease-out}.discussion-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding-bottom:1.5rem;border-bottom:1px solid rgba(255,255,255,.1)}.discussion-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:800;background:linear-gradient(135deg,var(--primary-color) 0%,var(--accent-purple) 100%);-webkit-text-fill-color:transparent;-webkit-background-clip:text;background-clip:text;margin-bottom:.5rem}.discussion-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-subtitle[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:1.1rem;margin:0}.discussion-header[_ngcontent-%COMP%]   .btn-create-thread[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff;border:none;padding:1rem 2rem;border-radius:50px;font-weight:700;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 15px #1db9544d}.discussion-header[_ngcontent-%COMP%]   .btn-create-thread[_ngcontent-%COMP%]:hover{background:#1ed760;transform:translateY(-2px);box-shadow:0 6px 20px #1db95466}.discussion-header[_ngcontent-%COMP%]   .btn-create-thread[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem}.create-thread-form[_ngcontent-%COMP%]{margin-bottom:2rem;animation:_ngcontent-%COMP%_slideDown .3s ease-out}.create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:16px;padding:2rem;box-shadow:0 8px 32px #0003}.create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-primary);margin-bottom:1.5rem;font-weight:700}.create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;color:var(--text-primary);font-weight:600;margin-bottom:.5rem}.create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;background:rgba(42,42,42,.6);border:1px solid rgba(255,255,255,.1);border-radius:12px;padding:1rem;color:var(--text-primary);font-size:1rem;transition:all .3s ease}.create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 2px #1db95433}.create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:var(--text-tertiary)}.create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.8rem}.create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-end}.create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background:rgba(255,255,255,.1);color:var(--text-secondary);border:1px solid rgba(255,255,255,.2);padding:.8rem 1.5rem;border-radius:50px;cursor:pointer;transition:all .3s ease}.create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.2);color:var(--text-primary)}.create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff;border:none;padding:.8rem 2rem;border-radius:50px;font-weight:700;cursor:pointer;transition:all .3s ease}.create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]:hover:not(:disabled){background:#1ed760;transform:translateY(-2px)}.create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]:disabled{background:var(--text-tertiary);cursor:not-allowed;transform:none}.sort-controls[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding:1rem 1.5rem;background:var(--glass-bg);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:12px;border:1px solid rgba(255,255,255,.1)}.sort-controls[_ngcontent-%COMP%]   .sort-options[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.sort-controls[_ngcontent-%COMP%]   .sort-options[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--text-secondary);font-weight:600}.sort-controls[_ngcontent-%COMP%]   .sort-options[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background:rgba(42,42,42,.6);border:1px solid rgba(255,255,255,.1);border-radius:8px;padding:.5rem 1rem;color:var(--text-primary);cursor:pointer}.sort-controls[_ngcontent-%COMP%]   .sort-options[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color)}.sort-controls[_ngcontent-%COMP%]   .threads-count[_ngcontent-%COMP%]{color:var(--text-primary);font-weight:700;background:var(--primary-color);padding:.5rem 1rem;border-radius:20px;font-size:.9rem}.threads-list[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{text-align:center;padding:3rem}.threads-list[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{border:3px solid rgba(255,255,255,.1);border-top:3px solid var(--primary-color);border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}.threads-list[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:1.1rem}.threads-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;color:var(--text-secondary)}.threads-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:#ffffff1a;margin-bottom:1.5rem}.threads-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-primary);margin-bottom:1rem;font-size:1.5rem}.threads-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:2rem;font-size:1.1rem}.threads-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .btn-create-thread[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff;border:none;padding:1rem 2rem;border-radius:50px;font-weight:700;cursor:pointer;transition:all .3s ease}.threads-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .btn-create-thread[_ngcontent-%COMP%]:hover{background:#1ed760;transform:translateY(-2px)}.thread-card[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:16px;padding:2rem;margin-bottom:1.5rem;transition:all .3s ease;box-shadow:0 4px 20px #0000001a}.thread-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 30px #1db95426;border-color:#1db95433}.thread-card[_ngcontent-%COMP%]   .thread-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1rem}.thread-card[_ngcontent-%COMP%]   .thread-header[_ngcontent-%COMP%]   .thread-title[_ngcontent-%COMP%]{margin:0;font-size:1.4rem;font-weight:700}.thread-card[_ngcontent-%COMP%]   .thread-header[_ngcontent-%COMP%]   .thread-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--text-primary);text-decoration:none;transition:color .3s ease}.thread-card[_ngcontent-%COMP%]   .thread-header[_ngcontent-%COMP%]   .thread-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--primary-color)}.thread-card[_ngcontent-%COMP%]   .thread-header[_ngcontent-%COMP%]   .thread-date[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.9rem;white-space:nowrap}.thread-card[_ngcontent-%COMP%]   .thread-content[_ngcontent-%COMP%]{color:var(--text-secondary);line-height:1.6;margin-bottom:1.5rem;font-size:1.1rem}.thread-card[_ngcontent-%COMP%]   .thread-stats[_ngcontent-%COMP%]{display:flex;gap:2rem;margin-bottom:1.5rem}.thread-card[_ngcontent-%COMP%]   .thread-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:var(--text-secondary);font-size:.9rem}.thread-card[_ngcontent-%COMP%]   .thread-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;display:flex;align-items:center;gap:.5rem;color:var(--text-secondary);transition:all .3s ease;padding:.5rem;border-radius:8px}.thread-card[_ngcontent-%COMP%]   .thread-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%]:hover{background:rgba(29,185,84,.1);color:#e74c3c}.thread-card[_ngcontent-%COMP%]   .thread-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .like-btn.liked[_ngcontent-%COMP%]{color:#e74c3c}.thread-card[_ngcontent-%COMP%]   .thread-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .like-btn.liked[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_heartBeat .6s ease}.thread-card[_ngcontent-%COMP%]   .thread-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:transform .3s ease}.thread-card[_ngcontent-%COMP%]   .thread-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:scale(1.2)}.thread-card[_ngcontent-%COMP%]   .thread-actions[_ngcontent-%COMP%]   .btn-read-more[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none;font-weight:700;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;padding:.5rem 1rem;border-radius:8px}.thread-card[_ngcontent-%COMP%]   .thread-actions[_ngcontent-%COMP%]   .btn-read-more[_ngcontent-%COMP%]:hover{background:rgba(29,185,84,.1);transform:translate(5px)}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1rem;margin-top:2rem;padding:1.5rem}.pagination[_ngcontent-%COMP%]   .page-btn[_ngcontent-%COMP%]{background:var(--glass-bg);border:1px solid rgba(255,255,255,.1);color:var(--text-primary);padding:.8rem 1.5rem;border-radius:50px;cursor:pointer;transition:all .3s ease;font-weight:600}.pagination[_ngcontent-%COMP%]   .page-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--primary-color);transform:translateY(-2px)}.pagination[_ngcontent-%COMP%]   .page-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.pagination[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]{color:var(--text-secondary);font-weight:600}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_heartBeat{0%{transform:scale(1)}25%{transform:scale(1.3)}50%{transform:scale(1)}75%{transform:scale(1.2)}to{transform:scale(1)}}@media (max-width: 768px){.discussion-container[_ngcontent-%COMP%]{padding:1rem}.discussion-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}.sort-controls[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.thread-card[_ngcontent-%COMP%]   .thread-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:flex-start}.thread-stats[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}}"]})}return n})()},{path:"discussion/thread/:id",component:(()=>{class n{route;discussionService;thread;comments=[];newComment="";replyingTo=null;replyContent="";error=null;isLoading=!0;constructor(t,r){this.route=t,this.discussionService=r}ngOnInit(){const t=this.route.snapshot.paramMap.get("id");t&&this.loadThread(t)}loadThread(t){this.isLoading=!0,this.error=null,this.discussionService.getThread(t).subscribe({next:r=>{this.thread={...r.thread,user_has_liked:this.discussionService.hasUserLiked("thread",r.thread.id)},this.comments=this.buildCommentTree(r.comments).map(i=>({...i,user_has_liked:this.discussionService.hasUserLiked("comment",i.id),replies:i.replies?.map(o=>({...o,user_has_liked:this.discussionService.hasUserLiked("comment",o.id)}))})),this.isLoading=!1,this.error=null},error:r=>{console.error("Error loading thread:",r),this.error="No se pudo cargar el hilo. Por favor, intenta nuevamente.",this.isLoading=!1}})}buildCommentTree(t){const r=new Map,i=[];return t.forEach(o=>{o.replies=[],r.set(o.id,o)}),t.forEach(o=>{if(o.parent_comment_id){const s=r.get(o.parent_comment_id);s&&s.replies.push(o)}else i.push(o)}),i}addComment(){this.newComment.trim()&&this.discussionService.addComment(this.thread.id,this.newComment).subscribe({next:t=>{const r={...t,user_has_liked:!1,replies:[]};this.comments.push(r),this.newComment="",this.thread.comments_count++,this.error=null},error:t=>{console.error("Error adding comment:",t),this.error="Error al agregar el comentario. Por favor, intenta nuevamente."}})}addReply(){!this.replyContent.trim()||!this.replyingTo||this.discussionService.addComment(this.thread.id,this.replyContent,this.replyingTo).subscribe({next:t=>{const r=this.findCommentById(this.replyingTo);if(r){r.replies||(r.replies=[]);const i={...t,user_has_liked:!1};r.replies.push(i)}this.replyContent="",this.replyingTo=null,this.thread.comments_count++,this.error=null},error:t=>{console.error("Error adding reply:",t),this.error="Error al agregar la respuesta. Por favor, intenta nuevamente."}})}findCommentById(t){for(const r of this.comments){if(r.id===t)return r;if(r.replies)for(const i of r.replies)if(i.id===t)return i}return null}likeThread(t){this.discussionService.likeThread(t.id).subscribe({next:r=>{t.likes_count=r.new_count,t.user_has_liked="liked"===r.action},error:r=>{console.error("Error liking thread:",r),this.error="Error al dar like. Por favor, intenta nuevamente."}})}likeComment(t){this.discussionService.likeComment(t.id).subscribe({next:r=>{t.likes_count=r.new_count,t.user_has_liked="liked"===r.action},error:r=>{console.error("Error liking comment:",r),this.error="Error al dar like. Por favor, intenta nuevamente."}})}formatTimeAgo(t){const r=new Date(t),o=(new Date).getTime()-r.getTime(),s=Math.floor(o/6e4),a=Math.floor(s/60),c=Math.floor(a/24);return s<1?"Ahora mismo":s<60?`Hace ${s} min`:a<24?`Hace ${a} h`:1===c?"Ayer":c<7?`Hace ${c} d\xedas`:c<30?`Hace ${Math.floor(c/7)} sem`:`Hace ${Math.floor(c/30)} mes`}cancelReply(){this.replyingTo=null,this.replyContent=""}static \u0275fac=function(r){return new(r||n)(H(Es),H(UB))};static \u0275cmp=$n({type:n,selectors:[["app-thread-detail"]],standalone:!0,features:[Kn],decls:9,vars:6,consts:[[1,"thread-detail-container"],[1,"back-nav"],[1,"back-link",3,"routerLink"],[1,"fas","fa-arrow-left","me-2"],["class","alert alert-danger","role","alert",4,"ngIf"],["class","loading-state",4,"ngIf"],["class","thread-main",4,"ngIf"],["class","error-state",4,"ngIf"],["role","alert",1,"alert","alert-danger"],[1,"fas","fa-exclamation-triangle","me-2"],["type","button",1,"btn-close",3,"click"],[1,"fas","fa-times"],[1,"loading-state"],[1,"loader"],[1,"spinner"],[1,"thread-main"],[1,"thread-card","detailed"],[1,"thread-header"],[1,"thread-title"],[1,"thread-meta"],[1,"thread-date"],[1,"fas","fa-clock","me-1"],[1,"thread-author"],[1,"fas","fa-user","me-1"],[1,"thread-content","detailed"],[1,"thread-stats","detailed"],[1,"like-btn",3,"click"],[1,"fas","fa-heart"],[1,"label"],[1,"stat"],[1,"fas","fa-comment"],[1,"comment-form-section"],[1,"form-card"],[1,"fas","fa-reply","me-2"],[1,"comment-form"],["rows","4",3,"ngModel","placeholder","ngModelChange"],["class","comment-actions",4,"ngIf"],[1,"comments-section"],[1,"comments-header"],[1,"fas","fa-comments","me-2"],["class","empty-comments",4,"ngIf"],["class","comments-list",4,"ngIf"],[1,"comment-actions"],[1,"btn-cancel",3,"click"],[1,"fas","fa-times","me-1"],[1,"btn-submit",3,"disabled","click"],[1,"fas","fa-reply","me-1"],[1,"fas","fa-paper-plane","me-1"],[1,"empty-comments"],[1,"empty-state"],[1,"fas","fa-comment-slash"],[1,"comments-list"],["class","comment-item",3,"has-replies",4,"ngFor","ngForOf"],[1,"comment-item"],[1,"comment-main"],[1,"comment-avatar"],[1,"fas","fa-user"],[1,"comment-content"],[1,"comment-header"],[1,"comment-author"],[1,"comment-date"],[1,"comment-text"],[1,"comment-like-btn",3,"click"],[1,"comment-reply-btn",3,"click"],[1,"fas","fa-reply"],["class","comment-replies",4,"ngIf"],[1,"comment-replies"],["class","reply-item",4,"ngFor","ngForOf"],[1,"reply-item"],[1,"comment-avatar","small"],[1,"error-state"],[1,"error-message"],[1,"fas","fa-exclamation-triangle"],[1,"btn-retry",3,"routerLink"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"a",2),O(3,"i",3),I(4,"Volver al foro "),y()(),Y(5,age,5,1,"div",4),Y(6,cge,5,0,"div",5),Y(7,mge,44,18,"div",6),Y(8,_ge,10,3,"div",7),y()),2&r&&(b(2),j("routerLink",ms(5,jB)),b(3),j("ngIf",i.error),b(1),j("ngIf",i.isLoading),b(1),j("ngIf",i.thread&&!i.isLoading),b(1),j("ngIf",i.error&&!i.isLoading))},dependencies:[jr,Fi,Er,Eu,oo,ia,Xo,td,ws],styles:[".thread-detail-container[_ngcontent-%COMP%]{max-width:900px;margin:0 auto;padding:2rem;animation:_ngcontent-%COMP%_fadeIn .6s ease-out}.back-nav[_ngcontent-%COMP%]{margin-bottom:2rem}.back-nav[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none;font-weight:700;display:inline-flex;align-items:center;padding:.8rem 1.5rem;background:var(--glass-bg);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:50px;transition:all .3s ease;box-shadow:0 4px 15px #0000001a}.back-nav[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]:hover{background:rgba(29,185,84,.1);transform:translate(-5px);box-shadow:0 6px 20px #1db95433}.back-nav[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:transform .3s ease}.back-nav[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:translate(-3px)}.alert[_ngcontent-%COMP%]{border:none;border-radius:12px;padding:1.2rem 1.5rem;margin-bottom:2rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);display:flex;align-items:center;justify-content:space-between}.alert.alert-danger[_ngcontent-%COMP%]{background:rgba(226,33,52,.15);color:#e22134;border:1px solid rgba(226,33,52,.2)}.alert[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{background:none;border:none;color:inherit;cursor:pointer;padding:.5rem;border-radius:50%;transition:background .3s ease}.alert[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.1)}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border:1px solid rgba(255,255,255,.1);border-radius:20px;padding:2.5rem;margin-bottom:2rem;box-shadow:0 8px 32px #0003;transition:all .3s ease}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]:hover{box-shadow:0 12px 40px #1db95426;border-color:#1db95433}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-header[_ngcontent-%COMP%]   .thread-title[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:2.2rem;font-weight:800;color:var(--text-primary);line-height:1.3;background:linear-gradient(135deg,var(--text-primary) 0%,var(--primary-color) 100%);-webkit-text-fill-color:transparent;-webkit-background-clip:text;background-clip:text}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-header[_ngcontent-%COMP%]   .thread-meta[_ngcontent-%COMP%]{display:flex;gap:2rem;color:var(--text-secondary);font-size:.95rem}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-header[_ngcontent-%COMP%]   .thread-meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-content.detailed[_ngcontent-%COMP%]{font-size:1.1rem;line-height:1.7;color:var(--text-secondary);margin-bottom:2rem;padding:1.5rem;background:rgba(255,255,255,.05);border-radius:12px;border-left:4px solid var(--primary-color)}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]{display:flex;gap:2rem}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%], .thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.8rem;padding:.8rem 1.5rem;background:rgba(255,255,255,.05);border-radius:50px;cursor:pointer;transition:all .3s ease;border:1px solid rgba(255,255,255,.1)}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%]:hover, .thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.1);transform:translateY(-2px)}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-secondary);font-weight:600}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%]{border:none;background:rgba(29,185,84,.1);color:var(--text-secondary)}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .like-btn.liked[_ngcontent-%COMP%]{color:#e74c3c;background:rgba(231,76,60,.1)}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .like-btn.liked[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_heartBeat .6s ease}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%]:hover{background:rgba(29,185,84,.2)}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%]:hover.liked{background:rgba(231,76,60,.2)}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:transform .3s ease}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:scale(1.2)}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{color:var(--text-secondary)}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color)}.comment-form-section[_ngcontent-%COMP%]{margin-bottom:2rem}.comment-form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border:1px solid rgba(255,255,255,.1);border-radius:20px;padding:2rem;box-shadow:0 8px 32px #0003}.comment-form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1.5rem;color:var(--text-primary);font-weight:700;display:flex;align-items:center;font-size:1.3rem}.comment-form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:1.2rem;background:rgba(42,42,42,.6);border:1px solid rgba(255,255,255,.1);border-radius:12px;resize:vertical;font-size:1rem;color:var(--text-primary);margin-bottom:1.5rem;transition:all .3s ease;font-family:inherit}.comment-form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 2px #1db95433;background:rgba(42,42,42,.8)}.comment-form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:var(--text-tertiary)}.comment-form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem}.comment-form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background:rgba(255,255,255,.1);color:var(--text-secondary);border:1px solid rgba(255,255,255,.2);padding:.8rem 1.5rem;border-radius:50px;cursor:pointer;transition:all .3s ease;font-weight:600}.comment-form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.2);color:var(--text-primary);transform:translateY(-2px)}.comment-form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff;border:none;padding:.8rem 2rem;border-radius:50px;cursor:pointer;font-weight:700;transition:all .3s ease;box-shadow:0 4px 15px #1db9544d}.comment-form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]:hover:not(:disabled){background:#1ed760;transform:translateY(-2px);box-shadow:0 6px 20px #1db95466}.comment-form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]:disabled{background:var(--text-tertiary);cursor:not-allowed;transform:none;box-shadow:none}.comments-section[_ngcontent-%COMP%]   .comments-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding-bottom:1rem;border-bottom:1px solid rgba(255,255,255,.1)}.comments-section[_ngcontent-%COMP%]   .comments-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:var(--text-primary);display:flex;align-items:center;font-size:1.5rem;font-weight:700}.comments-section[_ngcontent-%COMP%]   .empty-comments[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;color:var(--text-secondary)}.comments-section[_ngcontent-%COMP%]   .empty-comments[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:#ffffff1a;margin-bottom:1.5rem}.comments-section[_ngcontent-%COMP%]   .empty-comments[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--text-primary);margin-bottom:1rem;font-size:1.5rem}.comments-section[_ngcontent-%COMP%]   .empty-comments[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:1.1rem}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]{margin-bottom:2rem;animation:_ngcontent-%COMP%_slideUp .4s ease-out}.comments-list[_ngcontent-%COMP%]   .comment-item.has-replies[_ngcontent-%COMP%]{border-left:3px solid var(--primary-color);padding-left:1.5rem;margin-left:1rem}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]{display:flex;gap:1.2rem;margin-bottom:1.5rem}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-avatar[_ngcontent-%COMP%]{width:50px;height:50px;background:linear-gradient(135deg,var(--primary-color) 0%,var(--accent-purple) 100%);border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;flex-shrink:0;font-size:1.2rem;box-shadow:0 4px 15px #0003}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]{flex:1;background:var(--glass-bg);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:16px;padding:1.5rem;transition:all .3s ease}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]:hover{border-color:#1db95433;box-shadow:0 4px 20px #00000026}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-header[_ngcontent-%COMP%]   .comment-author[_ngcontent-%COMP%]{font-weight:700;color:var(--text-primary);display:flex;align-items:center;gap:.5rem}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-header[_ngcontent-%COMP%]   .comment-date[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.85rem;display:flex;align-items:center;gap:.5rem}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-text[_ngcontent-%COMP%]{color:var(--text-secondary);line-height:1.6;margin-bottom:1.2rem;font-size:1rem}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]{display:flex;gap:1.5rem}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;display:flex;align-items:center;gap:.5rem;color:var(--text-secondary);font-size:.9rem;transition:all .3s ease;padding:.5rem 1rem;border-radius:8px}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.05);color:var(--text-primary)}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   button.comment-like-btn.liked[_ngcontent-%COMP%]{color:#e74c3c}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   button.comment-like-btn.liked[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_heartBeat .6s ease}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   button.comment-like-btn[_ngcontent-%COMP%]:hover{color:#e74c3c}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   button.comment-reply-btn[_ngcontent-%COMP%]:hover{color:var(--primary-color)}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:transform .3s ease}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:scale(1.2)}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-replies[_ngcontent-%COMP%]{margin-left:3.5rem;border-left:2px solid rgba(255,255,255,.1);padding-left:1.5rem}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-replies[_ngcontent-%COMP%]   .reply-item[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1.2rem;animation:_ngcontent-%COMP%_slideUp .4s ease-out .1s both}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-replies[_ngcontent-%COMP%]   .reply-item[_ngcontent-%COMP%]   .comment-avatar.small[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1rem}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-replies[_ngcontent-%COMP%]   .reply-item[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]{background:rgba(255,255,255,.03);border-color:#ffffff0d}.loading-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem}.loading-state[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{border:3px solid rgba(255,255,255,.1);border-top:3px solid var(--primary-color);border-radius:50%;width:60px;height:60px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1.5rem}.loading-state[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:1.1rem}.loading-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:var(--text-secondary)}.loading-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:#e74c3c;margin-bottom:1.5rem}.loading-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-primary);margin-bottom:1rem;font-size:1.5rem}.loading-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .btn-retry[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .btn-retry[_ngcontent-%COMP%]{display:inline-flex;align-items:center;margin-top:1.5rem;color:var(--primary-color);text-decoration:none;font-weight:700;padding:.8rem 1.5rem;background:rgba(29,185,84,.1);border-radius:50px;transition:all .3s ease}.loading-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .btn-retry[_ngcontent-%COMP%]:hover, .error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .btn-retry[_ngcontent-%COMP%]:hover{background:rgba(29,185,84,.2);transform:translateY(-2px)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_heartBeat{0%{transform:scale(1)}25%{transform:scale(1.3)}50%{transform:scale(1)}75%{transform:scale(1.2)}to{transform:scale(1)}}@media (max-width: 768px){.thread-detail-container[_ngcontent-%COMP%]{padding:1rem}.thread-card.detailed[_ngcontent-%COMP%]{padding:1.5rem!important}.thread-card.detailed[_ngcontent-%COMP%]   .thread-title[_ngcontent-%COMP%]{font-size:1.6rem!important}.thread-card.detailed[_ngcontent-%COMP%]   .thread-meta[_ngcontent-%COMP%]{flex-direction:column;gap:.8rem!important}.thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]{flex-direction:column;gap:1rem!important}.comment-form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]{padding:1.5rem}.comments-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:flex-start!important}.comment-main[_ngcontent-%COMP%]{gap:1rem!important;flex-direction:column}.comment-replies[_ngcontent-%COMP%]{margin-left:1rem!important;padding-left:1rem!important}.comment-avatar[_ngcontent-%COMP%]{align-self:flex-start}}"]})}return n})()},{path:"admin-login",component:Kfe},{path:"admin-panel",component:Tpe,canActivate:[jpe]},{path:"**",redirectTo:""}]),DN(),function BJ(...n){const e=[],t=new Set;for(const{\u0275providers:r,\u0275kind:i}of n)t.add(i),r.length&&e.push(r);return sl([[],t.has(0)?[]:FK(),t.has(1)?[]:[{provide:Op,useFactory:()=>(ne(TS).add("httpcache"),{isCacheActive:!0})},{provide:IN,useValue:oJ,multi:!0,deps:[$a,Op]},{provide:Sl,multi:!0,useFactory:()=>{const n=ne(_s),e=ne(Op);return()=>{n.isStable.pipe(Ci(t=>t)).toPromise().then(()=>{e.isCacheActive=!1})}}}],e])}(),_S(function Xie(n,...e){return{ngModule:Jie,providers:[{provide:S0,useFactory:Yie(n),multi:!0,deps:[Be,hn,M0,...e]}]}}(()=>Zie(_i_firebaseConfig)),function Bce(n,...e){return{ngModule:Uce,providers:[{provide:lT,useFactory:Vce(n),multi:!0,deps:[Be,hn,M0,D0,[new Sn,J0],...e]}]}}(()=>jce()),function bhe(n,...e){return{ngModule:Che,providers:[{provide:x1,useFactory:_he(n),multi:!0,deps:[Be,hn,M0,D0,[new Sn,QL],[new Sn,J0],...e]}]}}(()=>Ihe()))]},vge=function(){return{exact:!0}};(function MJ(n,e){return uK({rootComponent:n,...BN(e)})})((()=>{class n{title="UPTC Music";static \u0275fac=function(r){return new(r||n)};static \u0275cmp=$n({type:n,selectors:[["app-root"]],standalone:!0,features:[Kn],decls:40,vars:3,consts:[[1,"main-container"],[1,"main-header"],[1,"container","d-flex","justify-content-between","align-items-center"],[1,"logo-container"],[1,"logo-icon"],[1,"fab","fa-spotify"],[1,"app-title"],[1,"main-nav"],["routerLink","/","routerLinkActive","active",3,"routerLinkActiveOptions"],[1,"fas","fa-home","me-1"],["routerLink","/discussion","routerLinkActive","active"],[1,"fas","fa-comments","me-1"],["routerLink","/ranking","routerLinkActive","active"],[1,"fas","fa-trophy","me-1"],["routerLink","/admin-login","routerLinkActive","active"],[1,"fas","fa-lock","me-1"],[1,"content-area"],[1,"container"],[1,"now-playing-bar"],[1,"footer-content","text-center"],[1,"footer-text","mb-0"],[1,"footer-text","mb-1"],[1,"social-links"],["href","https://github.com/SebastianVega4","target","_blank"],[1,"fab","fa-github","me-1"],["href","https://www.linkedin.com/in/johan-sebastian-vega-ruiz-b1292011b/","target","_blank"],[1,"fab","fa-linkedin","me-1"],["href","https://www.instagram.com/sebastian.vegar/","target","_blank"],[1,"fab","fa-instagram","me-1"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3)(4,"div",4),O(5,"i",5),y(),_(6,"h1",6),I(7),y()(),_(8,"nav",7)(9,"a",8),O(10,"i",9),I(11,"Inicio "),y(),_(12,"a",10),O(13,"i",11),I(14,"Foro(beta) "),y(),_(15,"a",12),O(16,"i",13),I(17,"Ranking "),y(),_(18,"a",14),O(19,"i",15),I(20,"Admin "),y()()()(),_(21,"main",16)(22,"div",17),O(23,"router-outlet"),y()()(),_(24,"footer",18)(25,"div",19)(26,"p",20),I(27,"Desarrollado por:"),y(),_(28,"p",21),I(29,"Estudiante de Ingenier\xeda de Sistemas - UPTC Sogamoso 2025-II"),y(),_(30,"div",22)(31,"a",23),O(32,"i",24),I(33,"GitHub "),y(),_(34,"a",25),O(35,"i",26),I(36,"LinkedIn "),y(),_(37,"a",27),O(38,"i",28),I(39,"Instagram "),y()()()()),2&r&&(b(7),ue(i.title),b(2),j("routerLinkActiveOptions",ms(2,vge)))},dependencies:[td,lb,ws,z2],styles:[".main-header[_ngcontent-%COMP%]{padding:1rem 1.5rem;background:var(--glass-bg);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border-bottom:1px solid rgba(255,255,255,.1);top:0;z-index:1000;box-shadow:0 4px 30px #0000004d}.logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.8rem}.logo-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,var(--primary-color) 0%,var(--accent-purple) 100%);display:flex;align-items:center;justify-content:center;box-shadow:0 0 15px #1db95466}.logo-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--text-primary)}.app-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;color:var(--text-primary);margin:0;letter-spacing:-.5px;background:linear-gradient(135deg,var(--text-primary) 0%,var(--primary-color) 100%);-webkit-text-fill-color:transparent;-webkit-background-clip:text;background-clip:text}.main-nav[_ngcontent-%COMP%]{display:flex;gap:1.5rem}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--text-secondary);text-decoration:none;font-weight:600;padding:.5rem 1rem;border-radius:50px;transition:all .3s ease;display:flex;align-items:center}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--text-primary);background:rgba(255,255,255,.05);transform:translateY(-2px)}.main-nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:var(--text-primary);background:rgba(29,185,84,.15);box-shadow:0 0 15px #1db95433}.main-nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color)}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem;transition:color .3s ease}.now-playing-bar[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border-top:1px solid rgba(255,255,255,.1);padding:1rem;color:var(--text-primary);display:flex;align-items:center;justify-content:center;position:relative;z-index:5}.footer-content[_ngcontent-%COMP%]{width:100%;text-align:center}.footer-text[_ngcontent-%COMP%]{font-size:.8rem;margin:.3rem 0;color:var(--text-secondary)}.social-links[_ngcontent-%COMP%]{margin-top:.5rem}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--text-secondary);text-decoration:none;margin:0 .8rem;font-size:.9rem;transition:all .3s ease;display:inline-flex;align-items:center}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--primary-color);transform:translateY(-2px)}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.3rem;font-size:1rem}@media (max-width: 768px){.main-header[_ngcontent-%COMP%]{padding:.8rem 1rem}.app-title[_ngcontent-%COMP%]{font-size:1.2rem}.main-nav[_ngcontent-%COMP%]{gap:.8rem}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.4rem .8rem;font-size:.9rem}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:0 .5rem;font-size:.8rem}}"]})}return n})(),yge).catch(n=>console.error(n))}},Qe=>{Qe(Qe.s=207)}]);