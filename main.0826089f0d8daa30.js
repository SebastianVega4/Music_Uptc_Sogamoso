(self.webpackChunkuptc_music=self.webpackChunkuptc_music||[]).push([[792],{3205:(ot,pe,F)=>{"use strict";F.d(pe,{u:()=>H});var u=F(1626),G=F(5312),E=F(4412),ge=F(8141),re=F(6276);let H=(()=>{class Q{http;apiUrl=G.c.apiUrl;currentAdminSubject=new E.t(null);currentAdmin=this.currentAdminSubject.asObservable();currentBuitreSubject=new E.t(null);currentBuitre=this.currentBuitreSubject.asObservable();constructor(he){this.http=he,this.loadInitialState()}loadInitialState(){const he=localStorage.getItem("adminToken"),me=localStorage.getItem("adminUser");if(he&&me)try{this.currentAdminSubject.next(JSON.parse(me))}catch(Ye){console.error("Error parsing admin user",Ye)}const oe=localStorage.getItem("buitresToken"),Me=localStorage.getItem("buitresUser");if(oe&&Me)try{this.currentBuitreSubject.next(JSON.parse(Me))}catch(Ye){console.error("Error parsing buitres user",Ye)}}login(he,me){return this.http.post(`${this.apiUrl}/api/auth/login`,{email:he,password:me}).pipe((0,ge.M)(oe=>{oe.token&&(localStorage.setItem("adminToken",oe.token),oe.user&&(localStorage.setItem("adminUser",JSON.stringify(oe.user)),this.currentAdminSubject.next(oe.user)))}))}logoutAdmin(){localStorage.removeItem("adminToken"),localStorage.removeItem("adminUser"),this.currentAdminSubject.next(null)}isLoggedIn(){return!!localStorage.getItem("adminToken")}isRoleAdmin(){const he=localStorage.getItem("adminUser");if(!he)return!1;try{return"admin"===JSON.parse(he).role}catch{return!1}}getAdminToken(){return localStorage.getItem("adminToken")}googleLogin(he){return this.http.post(`${this.apiUrl}/api/auth/google`,{idToken:he}).pipe((0,ge.M)(me=>{me.token&&(localStorage.setItem("buitresToken",me.token),me.user&&(localStorage.setItem("buitresUser",JSON.stringify(me.user)),this.currentBuitreSubject.next(me.user)))}))}logoutBuitres(){localStorage.removeItem("buitresToken"),localStorage.removeItem("buitresUser"),this.currentBuitreSubject.next(null)}isBuitresLoggedIn(){return!!this.isRoleAdmin()||!!localStorage.getItem("buitresToken")}getBuitresToken(){return this.isRoleAdmin()?this.getAdminToken():localStorage.getItem("buitresToken")}logout(){this.logoutAdmin()}getToken(){return this.getAdminToken()}getAuthHeaders(){const he=this.getToken();return new u.Lr(he?{Authorization:`Bearer ${he}`,"Content-Type":"application/json"}:{"Content-Type":"application/json"})}static \u0275fac=function(me){return new(me||Q)(re.KVO(u.Qq))};static \u0275prov=re.jDH({token:Q,factory:Q.\u0275fac,providedIn:"root"})}return Q})()},5455:(ot,pe,F)=>{"use strict";F.d(pe,{B:()=>ge});var u=F(4412),G=F(1413),E=F(6276);let ge=(()=>{class re{modalState=new u.t(null);modalResult=new G.B;modalState$=this.modalState.asObservable();constructor(){}open(Q){return this.modalState.next(Q),this.modalResult=new G.B,this.modalResult.asObservable()}confirm(Q,ce="Confirmaci\xf3n"){return this.open({title:ce,message:Q,type:"confirm",showCancel:!0,confirmText:"Confirmar",cancelText:"Cancelar"})}alert(Q,ce="Alerta",he="info"){return this.open({title:ce,message:Q,type:he,showCancel:!1,confirmText:"Aceptar"})}close(Q){this.modalResult.next(Q),this.modalResult.complete(),this.modalState.next(null)}static \u0275fac=function(ce){return new(ce||re)};static \u0275prov=E.jDH({token:re,factory:re.\u0275fac,providedIn:"root"})}return re})()},5312:(ot,pe,F)=>{"use strict";F.d(pe,{c:()=>u});const u={production:!1,apiUrl:"https://api.uptcmusic.com",supabaseUrl:"https://nkojabtbosvzbfcveyfm.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5rb2phYnRib3N2emJmY3ZleWZtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTczNjgwNzAsImV4cCI6MjA3Mjk0NDA3MH0.rJdadnVoVBw-vrt2XCm3619YzSIX3jSaxRftJQdAw00"}},52:(ot,pe,F)=>{"use strict";var u=F(345),G=F(8435),E=F(6276),ge=F(3205);const Q=[{path:"",loadComponent:()=>Promise.all([F.e(158),F.e(76),F.e(689)]).then(F.bind(F,8689)).then(A=>A.HomeComponent)},{path:"home",loadComponent:()=>Promise.all([F.e(158),F.e(76),F.e(689)]).then(F.bind(F,8689)).then(A=>A.HomeComponent)},{path:"ranking",loadComponent:()=>Promise.all([F.e(76),F.e(325)]).then(F.bind(F,3325)).then(A=>A.RankingComponent)},{path:"about",loadComponent:()=>Promise.all([F.e(76),F.e(783)]).then(F.bind(F,4783)).then(A=>A.AboutComponent)},{path:"discussion",loadComponent:()=>Promise.all([F.e(76),F.e(179)]).then(F.bind(F,1179)).then(A=>A.DiscussionComponent)},{path:"discussion/thread/:id",loadComponent:()=>Promise.all([F.e(76),F.e(221)]).then(F.bind(F,1221)).then(A=>A.ThreadDetailComponent)},{path:"admin-login",loadComponent:()=>F.e(880).then(F.bind(F,2880)).then(A=>A.AdminLoginComponent)},{path:"admin-panel",loadComponent:()=>Promise.all([F.e(158),F.e(76),F.e(136)]).then(F.bind(F,136)).then(A=>A.AdminPanelComponent),canActivate:[(()=>{class A{authService;router;constructor(c,b){this.authService=c,this.router=b}canActivate(){return!(!this.authService.isLoggedIn()||!this.authService.isRoleAdmin())||(this.router.navigate(["/admin-login"],{queryParams:{error:"No tienes permisos de administrador"}}),!1)}static \u0275fac=function(b){return new(b||A)(E.KVO(ge.u),E.KVO(G.Ix))};static \u0275prov=E.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})()]},{path:"buitres",loadComponent:()=>Promise.all([F.e(76),F.e(508)]).then(F.bind(F,8421)).then(A=>A.BuitresComponent)},{path:"buitres/person/:id",loadComponent:()=>Promise.all([F.e(76),F.e(886)]).then(F.bind(F,9355)).then(A=>A.BuitresDetailComponent),canActivate:[(()=>{class A{authService;router;constructor(c,b){this.authService=c,this.router=b}canActivate(){return!!this.authService.isBuitresLoggedIn()||(this.router.navigate(["/buitres"],{queryParams:{loginRequired:"true"}}),!1)}static \u0275fac=function(b){return new(b||A)(E.KVO(ge.u),E.KVO(G.Ix))};static \u0275prov=E.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})()]},{path:"**",redirectTo:""}];var ce=F(1626),he=F(9437),me=F(8810);class Me{}class Ye{}const je="*";function qe(A,h){return{type:7,name:A,definitions:h,options:{}}}function Lt(A,h=null){return{type:4,styles:h,timings:A}}function St(A,h=null){return{type:2,steps:A,options:h}}function Ze(A){return{type:6,styles:A,offset:null}}function He(A,h,c=null){return{type:1,expr:A,animation:h,options:c}}class bt{constructor(h=0,c=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=h+c}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(h=>h()),this._onDoneFns=[])}onStart(h){this._originalOnStartFns.push(h),this._onStartFns.push(h)}onDone(h){this._originalOnDoneFns.push(h),this._onDoneFns.push(h)}onDestroy(h){this._onDestroyFns.push(h)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(h=>h()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(h=>h()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(h){this._position=this.totalTime?h*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(h){const c="start"==h?this._onStartFns:this._onDoneFns;c.forEach(b=>b()),c.length=0}}class bn{constructor(h){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=h;let c=0,b=0,O=0;const V=this.players.length;0==V?queueMicrotask(()=>this._onFinish()):this.players.forEach(q=>{q.onDone(()=>{++c==V&&this._onFinish()}),q.onDestroy(()=>{++b==V&&this._onDestroy()}),q.onStart(()=>{++O==V&&this._onStart()})}),this.totalTime=this.players.reduce((q,te)=>Math.max(q,te.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(h=>h()),this._onDoneFns=[])}init(){this.players.forEach(h=>h.init())}onStart(h){this._onStartFns.push(h)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(h=>h()),this._onStartFns=[])}onDone(h){this._onDoneFns.push(h)}onDestroy(h){this._onDestroyFns.push(h)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(h=>h.play())}pause(){this.players.forEach(h=>h.pause())}restart(){this.players.forEach(h=>h.restart())}finish(){this._onFinish(),this.players.forEach(h=>h.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(h=>h.destroy()),this._onDestroyFns.forEach(h=>h()),this._onDestroyFns=[])}reset(){this.players.forEach(h=>h.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(h){const c=h*this.totalTime;this.players.forEach(b=>{const O=b.totalTime?Math.min(1,c/b.totalTime):1;b.setPosition(O)})}getPosition(){const h=this.players.reduce((c,b)=>null===c||b.totalTime>c.totalTime?b:c,null);return null!=h?h.getPosition():0}beforeDestroy(){this.players.forEach(h=>{h.beforeDestroy&&h.beforeDestroy()})}triggerCallback(h){const c="start"==h?this._onStartFns:this._onDoneFns;c.forEach(b=>b()),c.length=0}}function rt(A){return new E.wOt(3e3,!1)}function Tr(A){switch(A.length){case 0:return new bt;case 1:return A[0];default:return new bn(A)}}function cn(A,h,c=new Map,b=new Map){const O=[],V=[];let q=-1,te=null;if(h.forEach(fe=>{const De=fe.get("offset"),it=De==q,ft=it&&te||new Map;fe.forEach((en,Rt)=>{let xt=Rt,Bt=en;if("offset"!==Rt)switch(xt=A.normalizePropertyName(xt,O),Bt){case"!":Bt=c.get(Rt);break;case je:Bt=b.get(Rt);break;default:Bt=A.normalizeStyleValue(Rt,xt,Bt,O)}ft.set(xt,Bt)}),it||V.push(ft),te=ft,q=De}),O.length)throw function Kt(A){return new E.wOt(3502,!1)}();return V}function Fn(A,h,c,b){switch(h){case"start":A.onStart(()=>b(c&&_r(c,"start",A)));break;case"done":A.onDone(()=>b(c&&_r(c,"done",A)));break;case"destroy":A.onDestroy(()=>b(c&&_r(c,"destroy",A)))}}function _r(A,h,c){const V=on(A.element,A.triggerName,A.fromState,A.toState,h||A.phaseName,c.totalTime??A.totalTime,!!c.disabled),q=A._data;return null!=q&&(V._data=q),V}function on(A,h,c,b,O="",V=0,q){return{element:A,triggerName:h,fromState:c,toState:b,phaseName:O,totalTime:V,disabled:!!q}}function jt(A,h,c){let b=A.get(h);return b||A.set(h,b=c),b}function Xr(A){const h=A.indexOf(":");return[A.substring(1,h),A.slice(h+1)]}const tr=(()=>typeof document>"u"?null:document.documentElement)();function Ot(A){const h=A.parentNode||A.host||null;return h===tr?null:h}let Ln=null,Qr=!1;function Ps(A,h){for(;h;){if(h===A)return!0;h=Ot(h)}return!1}function Pe(A,h,c){if(c)return Array.from(A.querySelectorAll(h));const b=A.querySelector(h);return b?[b]:[]}let W=(()=>{class A{validateStyleProperty(c){return function ar(A){Ln||(Ln=function hs(){return typeof document<"u"?document.body:null}()||{},Qr=!!Ln.style&&"WebkitAppearance"in Ln.style);let h=!0;return Ln.style&&!function or(A){return"ebkit"==A.substring(1,6)}(A)&&(h=A in Ln.style,!h&&Qr&&(h="Webkit"+A.charAt(0).toUpperCase()+A.slice(1)in Ln.style)),h}(c)}matchesElement(c,b){return!1}containsElement(c,b){return Ps(c,b)}getParentElement(c){return Ot(c)}query(c,b,O){return Pe(c,b,O)}computeStyle(c,b,O){return O||""}animate(c,b,O,V,q,te=[],fe){return new bt(O,V)}static{this.\u0275fac=function(b){return new(b||A)}}static{this.\u0275prov=E.jDH({token:A,factory:A.\u0275fac})}}return A})(),ie=(()=>{class A{static{this.NOOP=new W}}return A})();const Te=1e3,dn="ng-enter",zt="ng-leave",$n="ng-trigger",cr=".ng-trigger",On="ng-animating",Ar=".ng-animating";function ae(A){if("number"==typeof A)return A;const h=A.match(/^(-?[\.\d]+)(m?s)/);return!h||h.length<2?0:Y(parseFloat(h[1]),h[2])}function Y(A,h){return"s"===h?A*Te:A}function ee(A,h,c){return A.hasOwnProperty("duration")?A:function xe(A,h,c){let O,V=0,q="";if("string"==typeof A){const te=A.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===te)return h.push(rt()),{duration:0,delay:0,easing:""};O=Y(parseFloat(te[1]),te[2]);const fe=te[3];null!=fe&&(V=Y(parseFloat(fe),te[4]));const De=te[5];De&&(q=De)}else O=A;if(!c){let te=!1,fe=h.length;O<0&&(h.push(function Nt(){return new E.wOt(3100,!1)}()),te=!0),V<0&&(h.push(function gr(){return new E.wOt(3101,!1)}()),te=!0),te&&h.splice(fe,0,rt())}return{duration:O,delay:V,easing:q}}(A,h,c)}function Ne(A,h={}){return Object.keys(A).forEach(c=>{h[c]=A[c]}),h}function tt(A){const h=new Map;return Object.keys(A).forEach(c=>{h.set(c,A[c])}),h}function It(A,h=new Map,c){if(c)for(let[b,O]of c)h.set(b,O);for(let[b,O]of A)h.set(b,O);return h}function Sn(A,h,c){h.forEach((b,O)=>{const V=br(O);c&&!c.has(O)&&c.set(O,A.style[V]),A.style[V]=b})}function lr(A,h){h.forEach((c,b)=>{const O=br(b);A.style[O]=""})}function yn(A){return Array.isArray(A)?1==A.length?A[0]:St(A):A}const Dr=new RegExp("{{\\s*(.+?)\\s*}}","g");function ur(A){let h=[];if("string"==typeof A){let c;for(;c=Dr.exec(A);)h.push(c[1]);Dr.lastIndex=0}return h}function mt(A,h,c){const b=A.toString(),O=b.replace(Dr,(V,q)=>{let te=h[q];return null==te&&(c.push(function Tn(A){return new E.wOt(3003,!1)}()),te=""),te.toString()});return O==b?A:O}function hn(A){const h=[];let c=A.next();for(;!c.done;)h.push(c.value),c=A.next();return h}const Hr=/-+([a-z0-9])/g;function br(A){return A.replace(Hr,(...h)=>h[1].toUpperCase())}function hr(A,h,c){switch(h.type){case 7:return A.visitTrigger(h,c);case 0:return A.visitState(h,c);case 1:return A.visitTransition(h,c);case 2:return A.visitSequence(h,c);case 3:return A.visitGroup(h,c);case 4:return A.visitAnimate(h,c);case 5:return A.visitKeyframes(h,c);case 6:return A.visitStyle(h,c);case 8:return A.visitReference(h,c);case 9:return A.visitAnimateChild(h,c);case 10:return A.visitAnimateRef(h,c);case 11:return A.visitQuery(h,c);case 12:return A.visitStagger(h,c);default:throw function $t(A){return new E.wOt(3004,!1)}()}}function Rs(A,h){return window.getComputedStyle(A)[h]}const Gr="*";function jr(A,h){const c=[];return"string"==typeof A?A.split(/\s*,\s*/).forEach(b=>function Ks(A,h,c){if(":"==A[0]){const fe=function Si(A,h){switch(A){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(c,b)=>parseFloat(b)>parseFloat(c);case":decrement":return(c,b)=>parseFloat(b)<parseFloat(c);default:return h.push(function at(A){return new E.wOt(3016,!1)}()),"* => *"}}(A,c);if("function"==typeof fe)return void h.push(fe);A=fe}const b=A.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==b||b.length<4)return c.push(function Ct(A){return new E.wOt(3015,!1)}()),h;const O=b[1],V=b[2],q=b[3];h.push(Mi(O,q));"<"==V[0]&&!(O==Gr&&q==Gr)&&h.push(Mi(q,O))}(b,c,h)):c.push(A),c}const Pn=new Set(["true","1"]),mi=new Set(["false","0"]);function Mi(A,h){const c=Pn.has(A)||mi.has(A),b=Pn.has(h)||mi.has(h);return(O,V)=>{let q=A==Gr||A==O,te=h==Gr||h==V;return!q&&c&&"boolean"==typeof O&&(q=O?Pn.has(A):mi.has(A)),!te&&b&&"boolean"==typeof V&&(te=V?Pn.has(h):mi.has(h)),q&&te}}const Ai=new RegExp("s*:selfs*,?","g");function si(A,h,c,b){return new ii(A).build(h,c,b)}class ii{constructor(h){this._driver=h}build(h,c,b){const O=new Oi(c);return this._resetContextStyleTimingState(O),hr(this,yn(h),O)}_resetContextStyleTimingState(h){h.currentQuerySelector="",h.collectedStyles=new Map,h.collectedStyles.set("",new Map),h.currentTime=0}visitTrigger(h,c){let b=c.queryCount=0,O=c.depCount=0;const V=[],q=[];return"@"==h.name.charAt(0)&&c.errors.push(function ye(){return new E.wOt(3006,!1)}()),h.definitions.forEach(te=>{if(this._resetContextStyleTimingState(c),0==te.type){const fe=te,De=fe.name;De.toString().split(/\s*,\s*/).forEach(it=>{fe.name=it,V.push(this.visitState(fe,c))}),fe.name=De}else if(1==te.type){const fe=this.visitTransition(te,c);b+=fe.queryCount,O+=fe.depCount,q.push(fe)}else c.errors.push(function we(){return new E.wOt(3007,!1)}())}),{type:7,name:h.name,states:V,transitions:q,queryCount:b,depCount:O,options:null}}visitState(h,c){const b=this.visitStyle(h.styles,c),O=h.options&&h.options.params||null;if(b.containsDynamicStyles){const V=new Set,q=O||{};b.styles.forEach(te=>{te instanceof Map&&te.forEach(fe=>{ur(fe).forEach(De=>{q.hasOwnProperty(De)||V.add(De)})})}),V.size&&(hn(V.values()),c.errors.push(function Oe(A,h){return new E.wOt(3008,!1)}()))}return{type:0,name:h.name,style:b,options:O?{params:O}:null}}visitTransition(h,c){c.queryCount=0,c.depCount=0;const b=hr(this,yn(h.animation),c);return{type:1,matchers:jr(h.expr,c.errors),animation:b,queryCount:c.queryCount,depCount:c.depCount,options:Ir(h.options)}}visitSequence(h,c){return{type:2,steps:h.steps.map(b=>hr(this,b,c)),options:Ir(h.options)}}visitGroup(h,c){const b=c.currentTime;let O=0;const V=h.steps.map(q=>{c.currentTime=b;const te=hr(this,q,c);return O=Math.max(O,c.currentTime),te});return c.currentTime=O,{type:3,steps:V,options:Ir(h.options)}}visitAnimate(h,c){const b=function ws(A,h){if(A.hasOwnProperty("duration"))return A;if("number"==typeof A)return ai(ee(A,h).duration,0,"");const c=A;if(c.split(/\s+/).some(V=>"{"==V.charAt(0)&&"{"==V.charAt(1))){const V=ai(0,0,"");return V.dynamic=!0,V.strValue=c,V}const O=ee(c,h);return ai(O.duration,O.delay,O.easing)}(h.timings,c.errors);c.currentAnimateTimings=b;let O,V=h.styles?h.styles:Ze({});if(5==V.type)O=this.visitKeyframes(V,c);else{let q=h.styles,te=!1;if(!q){te=!0;const De={};b.easing&&(De.easing=b.easing),q=Ze(De)}c.currentTime+=b.duration+b.delay;const fe=this.visitStyle(q,c);fe.isEmptyStep=te,O=fe}return c.currentAnimateTimings=null,{type:4,timings:b,style:O,options:null}}visitStyle(h,c){const b=this._makeStyleAst(h,c);return this._validateStyleAst(b,c),b}_makeStyleAst(h,c){const b=[],O=Array.isArray(h.styles)?h.styles:[h.styles];for(let te of O)"string"==typeof te?te===je?b.push(te):c.errors.push(new E.wOt(3002,!1)):b.push(tt(te));let V=!1,q=null;return b.forEach(te=>{if(te instanceof Map&&(te.has("easing")&&(q=te.get("easing"),te.delete("easing")),!V))for(let fe of te.values())if(fe.toString().indexOf("{{")>=0){V=!0;break}}),{type:6,styles:b,easing:q,offset:h.offset,containsDynamicStyles:V,options:null}}_validateStyleAst(h,c){const b=c.currentAnimateTimings;let O=c.currentTime,V=c.currentTime;b&&V>0&&(V-=b.duration+b.delay),h.styles.forEach(q=>{"string"!=typeof q&&q.forEach((te,fe)=>{const De=c.collectedStyles.get(c.currentQuerySelector),it=De.get(fe);let ft=!0;it&&(V!=O&&V>=it.startTime&&O<=it.endTime&&(c.errors.push(function _t(A,h,c,b,O){return new E.wOt(3010,!1)}()),ft=!1),V=it.startTime),ft&&De.set(fe,{startTime:V,endTime:O}),c.options&&function Gn(A,h,c){const b=h.params||{},O=ur(A);O.length&&O.forEach(V=>{b.hasOwnProperty(V)||c.push(function sr(A){return new E.wOt(3001,!1)}())})}(te,c.options,c.errors)})})}visitKeyframes(h,c){const b={type:5,styles:[],options:null};if(!c.currentAnimateTimings)return c.errors.push(function un(){return new E.wOt(3011,!1)}()),b;let V=0;const q=[];let te=!1,fe=!1,De=0;const it=h.steps.map(m=>{const a=this._makeStyleAst(m,c);let o=null!=a.offset?a.offset:function oi(A){if("string"==typeof A)return null;let h=null;if(Array.isArray(A))A.forEach(c=>{if(c instanceof Map&&c.has("offset")){const b=c;h=parseFloat(b.get("offset")),b.delete("offset")}});else if(A instanceof Map&&A.has("offset")){const c=A;h=parseFloat(c.get("offset")),c.delete("offset")}return h}(a.styles),l=0;return null!=o&&(V++,l=a.offset=o),fe=fe||l<0||l>1,te=te||l<De,De=l,q.push(l),a});fe&&c.errors.push(function kn(){return new E.wOt(3012,!1)}()),te&&c.errors.push(function At(){return new E.wOt(3200,!1)}());const ft=h.steps.length;let en=0;V>0&&V<ft?c.errors.push(function gn(){return new E.wOt(3202,!1)}()):0==V&&(en=1/(ft-1));const Rt=ft-1,xt=c.currentTime,Bt=c.currentAnimateTimings,Kn=Bt.duration;return it.forEach((m,a)=>{const o=en>0?a==Rt?1:en*a:q[a],l=o*Kn;c.currentTime=xt+Bt.delay+l,Bt.duration=l,this._validateStyleAst(m,c),m.offset=o,b.styles.push(m)}),b}visitReference(h,c){return{type:8,animation:hr(this,yn(h.animation),c),options:Ir(h.options)}}visitAnimateChild(h,c){return c.depCount++,{type:9,options:Ir(h.options)}}visitAnimateRef(h,c){return{type:10,animation:this.visitReference(h.animation,c),options:Ir(h.options)}}visitQuery(h,c){const b=c.currentQuerySelector,O=h.options||{};c.queryCount++,c.currentQuery=h;const[V,q]=function Ui(A){const h=!!A.split(/\s*,\s*/).find(c=>":self"==c);return h&&(A=A.replace(Ai,"")),A=A.replace(/@\*/g,cr).replace(/@\w+/g,c=>cr+"-"+c.slice(1)).replace(/:animating/g,Ar),[A,h]}(h.selector);c.currentQuerySelector=b.length?b+" "+V:V,jt(c.collectedStyles,c.currentQuerySelector,new Map);const te=hr(this,yn(h.animation),c);return c.currentQuery=null,c.currentQuerySelector=b,{type:11,selector:V,limit:O.limit||0,optional:!!O.optional,includeSelf:q,animation:te,originalSelector:h.selector,options:Ir(h.options)}}visitStagger(h,c){c.currentQuery||c.errors.push(function Un(){return new E.wOt(3013,!1)}());const b="full"===h.timings?{duration:0,delay:0,easing:"full"}:ee(h.timings,c.errors,!0);return{type:12,animation:hr(this,yn(h.animation),c),timings:b,options:null}}}class Oi{constructor(h){this.errors=h,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ir(A){return A?(A=Ne(A)).params&&(A.params=function $i(A){return A?Ne(A):null}(A.params)):A={},A}function ai(A,h,c){return{duration:A,delay:h,easing:c}}function Cs(A,h,c,b,O,V,q=null,te=!1){return{type:1,element:A,keyframes:h,preStyleProps:c,postStyleProps:b,duration:O,delay:V,totalTime:O+V,easing:q,subTimeline:te}}class ps{constructor(){this._map=new Map}get(h){return this._map.get(h)||[]}append(h,c){let b=this._map.get(h);b||this._map.set(h,b=[]),b.push(...c)}has(h){return this._map.has(h)}clear(){this._map.clear()}}const vi=new RegExp(":enter","g"),jn=new RegExp(":leave","g");function Xn(A,h,c,b,O,V=new Map,q=new Map,te,fe,De=[]){return(new Es).buildKeyframes(A,h,c,b,O,V,q,te,fe,De)}class Es{buildKeyframes(h,c,b,O,V,q,te,fe,De,it=[]){De=De||new ps;const ft=new lt(h,c,De,O,V,it,[]);ft.options=fe;const en=fe.delay?ae(fe.delay):0;ft.currentTimeline.delayNextStep(en),ft.currentTimeline.setStyles([q],null,ft.errors,fe),hr(this,b,ft);const Rt=ft.timelines.filter(xt=>xt.containsAnimation());if(Rt.length&&te.size){let xt;for(let Bt=Rt.length-1;Bt>=0;Bt--){const Kn=Rt[Bt];if(Kn.element===c){xt=Kn;break}}xt&&!xt.allowOnlyTimelineStyles()&&xt.setStyles([te],null,ft.errors,fe)}return Rt.length?Rt.map(xt=>xt.buildKeyframes()):[Cs(c,[],[],[],0,en,"",!1)]}visitTrigger(h,c){}visitState(h,c){}visitTransition(h,c){}visitAnimateChild(h,c){const b=c.subInstructions.get(c.element);if(b){const O=c.createSubContext(h.options),V=c.currentTimeline.currentTime,q=this._visitSubInstructions(b,O,O.options);V!=q&&c.transformIntoNewTimeline(q)}c.previousNode=h}visitAnimateRef(h,c){const b=c.createSubContext(h.options);b.transformIntoNewTimeline(),this._applyAnimationRefDelays([h.options,h.animation.options],c,b),this.visitReference(h.animation,b),c.transformIntoNewTimeline(b.currentTimeline.currentTime),c.previousNode=h}_applyAnimationRefDelays(h,c,b){for(const O of h){const V=O?.delay;if(V){const q="number"==typeof V?V:ae(mt(V,O?.params??{},c.errors));b.delayNextStep(q)}}}_visitSubInstructions(h,c,b){let V=c.currentTimeline.currentTime;const q=null!=b.duration?ae(b.duration):null,te=null!=b.delay?ae(b.delay):null;return 0!==q&&h.forEach(fe=>{const De=c.appendInstructionToTimeline(fe,q,te);V=Math.max(V,De.duration+De.delay)}),V}visitReference(h,c){c.updateOptions(h.options,!0),hr(this,h.animation,c),c.previousNode=h}visitSequence(h,c){const b=c.subContextCount;let O=c;const V=h.options;if(V&&(V.params||V.delay)&&(O=c.createSubContext(V),O.transformIntoNewTimeline(),null!=V.delay)){6==O.previousNode.type&&(O.currentTimeline.snapshotCurrentStyles(),O.previousNode=Rn);const q=ae(V.delay);O.delayNextStep(q)}h.steps.length&&(h.steps.forEach(q=>hr(this,q,O)),O.currentTimeline.applyStylesToKeyframe(),O.subContextCount>b&&O.transformIntoNewTimeline()),c.previousNode=h}visitGroup(h,c){const b=[];let O=c.currentTimeline.currentTime;const V=h.options&&h.options.delay?ae(h.options.delay):0;h.steps.forEach(q=>{const te=c.createSubContext(h.options);V&&te.delayNextStep(V),hr(this,q,te),O=Math.max(O,te.currentTimeline.currentTime),b.push(te.currentTimeline)}),b.forEach(q=>c.currentTimeline.mergeTimelineCollectedStyles(q)),c.transformIntoNewTimeline(O),c.previousNode=h}_visitTiming(h,c){if(h.dynamic){const b=h.strValue;return ee(c.params?mt(b,c.params,c.errors):b,c.errors)}return{duration:h.duration,delay:h.delay,easing:h.easing}}visitAnimate(h,c){const b=c.currentAnimateTimings=this._visitTiming(h.timings,c),O=c.currentTimeline;b.delay&&(c.incrementTime(b.delay),O.snapshotCurrentStyles());const V=h.style;5==V.type?this.visitKeyframes(V,c):(c.incrementTime(b.duration),this.visitStyle(V,c),O.applyStylesToKeyframe()),c.currentAnimateTimings=null,c.previousNode=h}visitStyle(h,c){const b=c.currentTimeline,O=c.currentAnimateTimings;!O&&b.hasCurrentStyleProperties()&&b.forwardFrame();const V=O&&O.easing||h.easing;h.isEmptyStep?b.applyEmptyStep(V):b.setStyles(h.styles,V,c.errors,c.options),c.previousNode=h}visitKeyframes(h,c){const b=c.currentAnimateTimings,O=c.currentTimeline.duration,V=b.duration,te=c.createSubContext().currentTimeline;te.easing=b.easing,h.styles.forEach(fe=>{te.forwardTime((fe.offset||0)*V),te.setStyles(fe.styles,fe.easing,c.errors,c.options),te.applyStylesToKeyframe()}),c.currentTimeline.mergeTimelineCollectedStyles(te),c.transformIntoNewTimeline(O+V),c.previousNode=h}visitQuery(h,c){const b=c.currentTimeline.currentTime,O=h.options||{},V=O.delay?ae(O.delay):0;V&&(6===c.previousNode.type||0==b&&c.currentTimeline.hasCurrentStyleProperties())&&(c.currentTimeline.snapshotCurrentStyles(),c.previousNode=Rn);let q=b;const te=c.invokeQuery(h.selector,h.originalSelector,h.limit,h.includeSelf,!!O.optional,c.errors);c.currentQueryTotal=te.length;let fe=null;te.forEach((De,it)=>{c.currentQueryIndex=it;const ft=c.createSubContext(h.options,De);V&&ft.delayNextStep(V),De===c.element&&(fe=ft.currentTimeline),hr(this,h.animation,ft),ft.currentTimeline.applyStylesToKeyframe(),q=Math.max(q,ft.currentTimeline.currentTime)}),c.currentQueryIndex=0,c.currentQueryTotal=0,c.transformIntoNewTimeline(q),fe&&(c.currentTimeline.mergeTimelineCollectedStyles(fe),c.currentTimeline.snapshotCurrentStyles()),c.previousNode=h}visitStagger(h,c){const b=c.parentContext,O=c.currentTimeline,V=h.timings,q=Math.abs(V.duration),te=q*(c.currentQueryTotal-1);let fe=q*c.currentQueryIndex;switch(V.duration<0?"reverse":V.easing){case"reverse":fe=te-fe;break;case"full":fe=b.currentStaggerTime}const it=c.currentTimeline;fe&&it.delayNextStep(fe);const ft=it.currentTime;hr(this,h.animation,c),c.previousNode=h,b.currentStaggerTime=O.currentTime-ft+(O.startTime-b.currentTimeline.startTime)}}const Rn={};class lt{constructor(h,c,b,O,V,q,te,fe){this._driver=h,this.element=c,this.subInstructions=b,this._enterClassName=O,this._leaveClassName=V,this.errors=q,this.timelines=te,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Rn,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=fe||new Yr(this._driver,c,0),te.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(h,c){if(!h)return;const b=h;let O=this.options;null!=b.duration&&(O.duration=ae(b.duration)),null!=b.delay&&(O.delay=ae(b.delay));const V=b.params;if(V){let q=O.params;q||(q=this.options.params={}),Object.keys(V).forEach(te=>{(!c||!q.hasOwnProperty(te))&&(q[te]=mt(V[te],q,this.errors))})}}_copyOptions(){const h={};if(this.options){const c=this.options.params;if(c){const b=h.params={};Object.keys(c).forEach(O=>{b[O]=c[O]})}}return h}createSubContext(h=null,c,b){const O=c||this.element,V=new lt(this._driver,O,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(O,b||0));return V.previousNode=this.previousNode,V.currentAnimateTimings=this.currentAnimateTimings,V.options=this._copyOptions(),V.updateOptions(h),V.currentQueryIndex=this.currentQueryIndex,V.currentQueryTotal=this.currentQueryTotal,V.parentContext=this,this.subContextCount++,V}transformIntoNewTimeline(h){return this.previousNode=Rn,this.currentTimeline=this.currentTimeline.fork(this.element,h),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(h,c,b){const O={duration:c??h.duration,delay:this.currentTimeline.currentTime+(b??0)+h.delay,easing:""},V=new li(this._driver,h.element,h.keyframes,h.preStyleProps,h.postStyleProps,O,h.stretchStartingKeyframe);return this.timelines.push(V),O}incrementTime(h){this.currentTimeline.forwardTime(this.currentTimeline.duration+h)}delayNextStep(h){h>0&&this.currentTimeline.delayNextStep(h)}invokeQuery(h,c,b,O,V,q){let te=[];if(O&&te.push(this.element),h.length>0){h=(h=h.replace(vi,"."+this._enterClassName)).replace(jn,"."+this._leaveClassName);let De=this._driver.query(this.element,h,1!=b);0!==b&&(De=b<0?De.slice(De.length+b,De.length):De.slice(0,b)),te.push(...De)}return!V&&0==te.length&&q.push(function er(A){return new E.wOt(3014,!1)}()),te}}class Yr{constructor(h,c,b,O){this._driver=h,this.element=c,this.startTime=b,this._elementTimelineStylesLookup=O,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(c),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(c,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(h){const c=1===this._keyframes.size&&this._pendingStyles.size;this.duration||c?(this.forwardTime(this.currentTime+h),c&&this.snapshotCurrentStyles()):this.startTime+=h}fork(h,c){return this.applyStylesToKeyframe(),new Yr(this._driver,h,c||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(h){this.applyStylesToKeyframe(),this.duration=h,this._loadKeyframe()}_updateStyle(h,c){this._localTimelineStyles.set(h,c),this._globalTimelineStyles.set(h,c),this._styleSummary.set(h,{time:this.currentTime,value:c})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(h){h&&this._previousKeyframe.set("easing",h);for(let[c,b]of this._globalTimelineStyles)this._backFill.set(c,b||je),this._currentKeyframe.set(c,je);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(h,c,b,O){c&&this._previousKeyframe.set("easing",c);const V=O&&O.params||{},q=function Ur(A,h){const c=new Map;let b;return A.forEach(O=>{if("*"===O){b=b||h.keys();for(let V of b)c.set(V,je)}else It(O,c)}),c}(h,this._globalTimelineStyles);for(let[te,fe]of q){const De=mt(fe,V,b);this._pendingStyles.set(te,De),this._localTimelineStyles.has(te)||this._backFill.set(te,this._globalTimelineStyles.get(te)??je),this._updateStyle(te,De)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((h,c)=>{this._currentKeyframe.set(c,h)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((h,c)=>{this._currentKeyframe.has(c)||this._currentKeyframe.set(c,h)}))}snapshotCurrentStyles(){for(let[h,c]of this._localTimelineStyles)this._pendingStyles.set(h,c),this._updateStyle(h,c)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const h=[];for(let c in this._currentKeyframe)h.push(c);return h}mergeTimelineCollectedStyles(h){h._styleSummary.forEach((c,b)=>{const O=this._styleSummary.get(b);(!O||c.time>O.time)&&this._updateStyle(b,c.value)})}buildKeyframes(){this.applyStylesToKeyframe();const h=new Set,c=new Set,b=1===this._keyframes.size&&0===this.duration;let O=[];this._keyframes.forEach((te,fe)=>{const De=It(te,new Map,this._backFill);De.forEach((it,ft)=>{"!"===it?h.add(ft):it===je&&c.add(ft)}),b||De.set("offset",fe/this.duration),O.push(De)});const V=h.size?hn(h.values()):[],q=c.size?hn(c.values()):[];if(b){const te=O[0],fe=new Map(te);te.set("offset",0),fe.set("offset",1),O=[te,fe]}return Cs(this.element,O,V,q,this.duration,this.startTime,this.easing,!1)}}class li extends Yr{constructor(h,c,b,O,V,q,te=!1){super(h,c,q.delay),this.keyframes=b,this.preStyleProps=O,this.postStyleProps=V,this._stretchStartingKeyframe=te,this.timings={duration:q.duration,delay:q.delay,easing:q.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let h=this.keyframes,{delay:c,duration:b,easing:O}=this.timings;if(this._stretchStartingKeyframe&&c){const V=[],q=b+c,te=c/q,fe=It(h[0]);fe.set("offset",0),V.push(fe);const De=It(h[0]);De.set("offset",Vr(te)),V.push(De);const it=h.length-1;for(let ft=1;ft<=it;ft++){let en=It(h[ft]);const Rt=en.get("offset");en.set("offset",Vr((c+Rt*b)/q)),V.push(en)}b=q,c=0,O="",h=V}return Cs(this.element,h,this.preStyleProps,this.postStyleProps,b,c,O,!0)}}function Vr(A,h=3){const c=Math.pow(10,h-1);return Math.round(A*c)/c}class nt{}const pn=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class fr extends nt{normalizePropertyName(h,c){return br(h)}normalizeStyleValue(h,c,b,O){let V="";const q=b.toString().trim();if(pn.has(c)&&0!==b&&"0"!==b)if("number"==typeof b)V="px";else{const te=b.match(/^[+-]?[\d\.]+([a-z]*)$/);te&&0==te[1].length&&O.push(function le(A,h){return new E.wOt(3005,!1)}())}return q+V}}function Xs(A,h,c,b,O,V,q,te,fe,De,it,ft,en){return{type:0,element:A,triggerName:h,isRemovalTransition:O,fromState:c,fromStyles:V,toState:b,toStyles:q,timelines:te,queriedElements:fe,preStyleProps:De,postStyleProps:it,totalTime:ft,errors:en}}const Bn={};class Zr{constructor(h,c,b){this._triggerName=h,this.ast=c,this._stateStyles=b}match(h,c,b,O){return function wr(A,h,c,b,O){return A.some(V=>V(h,c,b,O))}(this.ast.matchers,h,c,b,O)}buildStyles(h,c,b){let O=this._stateStyles.get("*");return void 0!==h&&(O=this._stateStyles.get(h?.toString())||O),O?O.buildStyles(c,b):new Map}build(h,c,b,O,V,q,te,fe,De,it){const ft=[],en=this.ast.options&&this.ast.options.params||Bn,xt=this.buildStyles(b,te&&te.params||Bn,ft),Bt=fe&&fe.params||Bn,Kn=this.buildStyles(O,Bt,ft),m=new Set,a=new Map,o=new Map,l="void"===O,_={params:Ns(Bt,en),delay:this.ast.options?.delay},M=it?[]:Xn(h,c,this.ast.animation,V,q,xt,Kn,_,De,ft);let x=0;if(M.forEach(B=>{x=Math.max(B.duration+B.delay,x)}),ft.length)return Xs(c,this._triggerName,b,O,l,xt,Kn,[],[],a,o,x,ft);M.forEach(B=>{const K=B.element,Z=jt(a,K,new Set);B.preStyleProps.forEach(ke=>Z.add(ke));const be=jt(o,K,new Set);B.postStyleProps.forEach(ke=>be.add(ke)),K!==c&&m.add(K)});const R=hn(m.values());return Xs(c,this._triggerName,b,O,l,xt,Kn,M,R,a,o,x)}}function Ns(A,h){const c=Ne(h);for(const b in A)A.hasOwnProperty(b)&&null!=A[b]&&(c[b]=A[b]);return c}class kt{constructor(h,c,b){this.styles=h,this.defaultParams=c,this.normalizer=b}buildStyles(h,c){const b=new Map,O=Ne(this.defaultParams);return Object.keys(h).forEach(V=>{const q=h[V];null!==q&&(O[V]=q)}),this.styles.styles.forEach(V=>{"string"!=typeof V&&V.forEach((q,te)=>{q&&(q=mt(q,O,c));const fe=this.normalizer.normalizePropertyName(te,c);q=this.normalizer.normalizeStyleValue(te,fe,q,c),b.set(te,q)})}),b}}class es{constructor(h,c,b){this.name=h,this.ast=c,this._normalizer=b,this.transitionFactories=[],this.states=new Map,c.states.forEach(O=>{this.states.set(O.name,new kt(O.style,O.options&&O.options.params||{},b))}),An(this.states,"true","1"),An(this.states,"false","0"),c.transitions.forEach(O=>{this.transitionFactories.push(new Zr(h,O,this.states))}),this.fallbackTransition=function ts(A,h,c){return new Zr(A,{type:1,animation:{type:2,steps:[],options:null},matchers:[(q,te)=>!0],options:null,queryCount:0,depCount:0},h)}(h,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(h,c,b,O){return this.transitionFactories.find(q=>q.match(h,c,b,O))||null}matchStyles(h,c,b){return this.fallbackTransition.buildStyles(h,c,b)}}function An(A,h,c){A.has(h)?A.has(c)||A.set(c,A.get(h)):A.has(c)&&A.set(h,A.get(c))}const Ds=new ps;class Ss{constructor(h,c,b){this.bodyNode=h,this._driver=c,this._normalizer=b,this._animations=new Map,this._playersById=new Map,this.players=[]}register(h,c){const b=[],V=si(this._driver,c,b,[]);if(b.length)throw function Nr(A){return new E.wOt(3503,!1)}();this._animations.set(h,V)}_buildPlayer(h,c,b){const O=h.element,V=cn(this._normalizer,h.keyframes,c,b);return this._driver.animate(O,V,h.duration,h.delay,h.easing,[],!0)}create(h,c,b={}){const O=[],V=this._animations.get(h);let q;const te=new Map;if(V?(q=Xn(this._driver,c,V,dn,zt,new Map,new Map,b,Ds,O),q.forEach(it=>{const ft=jt(te,it.element,new Map);it.postStyleProps.forEach(en=>ft.set(en,null))})):(O.push(function bs(){return new E.wOt(3300,!1)}()),q=[]),O.length)throw function mn(A){return new E.wOt(3504,!1)}();te.forEach((it,ft)=>{it.forEach((en,Rt)=>{it.set(Rt,this._driver.computeStyle(ft,Rt,je))})});const De=Tr(q.map(it=>{const ft=te.get(it.element);return this._buildPlayer(it,new Map,ft)}));return this._playersById.set(h,De),De.onDestroy(()=>this.destroy(h)),this.players.push(De),De}destroy(h){const c=this._getPlayer(h);c.destroy(),this._playersById.delete(h);const b=this.players.indexOf(c);b>=0&&this.players.splice(b,1)}_getPlayer(h){const c=this._playersById.get(h);if(!c)throw function Jt(A){return new E.wOt(3301,!1)}();return c}listen(h,c,b,O){const V=on(c,"","","");return Fn(this._getPlayer(h),b,V,O),()=>{}}command(h,c,b,O){if("register"==b)return void this.register(h,O[0]);if("create"==b)return void this.create(h,c,O[0]||{});const V=this._getPlayer(h);switch(b){case"play":V.play();break;case"pause":V.pause();break;case"reset":V.reset();break;case"restart":V.restart();break;case"finish":V.finish();break;case"init":V.init();break;case"setPosition":V.setPosition(parseFloat(O[0]));break;case"destroy":this.destroy(h)}}}const kr="ng-animate-queued",Ts="ng-animate-disabled",ns=[],Xt={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ki={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ln="__ng_removed";class Qn{get params(){return this.options.params}constructor(h,c=""){this.namespaceId=c;const b=h&&h.hasOwnProperty("value");if(this.value=function Hn(A){return A??null}(b?h.value:h),b){const V=Ne(h);delete V.value,this.options=V}else this.options={};this.options.params||(this.options.params={})}absorbOptions(h){const c=h.params;if(c){const b=this.options.params;Object.keys(c).forEach(O=>{null==b[O]&&(b[O]=c[O])})}}}const Cr="void",gs=new Qn(Cr);class Qs{constructor(h,c,b){this.id=h,this.hostElement=c,this._engine=b,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+h,nn(c,this._hostClassName)}listen(h,c,b,O){if(!this._triggers.has(c))throw function qt(A,h){return new E.wOt(3302,!1)}();if(null==b||0==b.length)throw function qn(A){return new E.wOt(3303,!1)}();if(!function ci(A){return"start"==A||"done"==A}(b))throw function Yt(A,h){return new E.wOt(3400,!1)}();const V=jt(this._elementListeners,h,[]),q={name:c,phase:b,callback:O};V.push(q);const te=jt(this._engine.statesByElement,h,new Map);return te.has(c)||(nn(h,$n),nn(h,$n+"-"+c),te.set(c,gs)),()=>{this._engine.afterFlush(()=>{const fe=V.indexOf(q);fe>=0&&V.splice(fe,1),this._triggers.has(c)||te.delete(c)})}}register(h,c){return!this._triggers.has(h)&&(this._triggers.set(h,c),!0)}_getTrigger(h){const c=this._triggers.get(h);if(!c)throw function vr(A){return new E.wOt(3401,!1)}();return c}trigger(h,c,b,O=!0){const V=this._getTrigger(c),q=new xn(this.id,c,h);let te=this._engine.statesByElement.get(h);te||(nn(h,$n),nn(h,$n+"-"+c),this._engine.statesByElement.set(h,te=new Map));let fe=te.get(c);const De=new Qn(b,this.id);if(!(b&&b.hasOwnProperty("value"))&&fe&&De.absorbOptions(fe.options),te.set(c,De),fe||(fe=gs),De.value!==Cr&&fe.value===De.value){if(!function D(A,h){const c=Object.keys(A),b=Object.keys(h);if(c.length!=b.length)return!1;for(let O=0;O<c.length;O++){const V=c[O];if(!h.hasOwnProperty(V)||A[V]!==h[V])return!1}return!0}(fe.params,De.params)){const Bt=[],Kn=V.matchStyles(fe.value,fe.params,Bt),m=V.matchStyles(De.value,De.params,Bt);Bt.length?this._engine.reportError(Bt):this._engine.afterFlush(()=>{lr(h,Kn),Sn(h,m)})}return}const en=jt(this._engine.playersByElement,h,[]);en.forEach(Bt=>{Bt.namespaceId==this.id&&Bt.triggerName==c&&Bt.queued&&Bt.destroy()});let Rt=V.matchTransition(fe.value,De.value,h,De.params),xt=!1;if(!Rt){if(!O)return;Rt=V.fallbackTransition,xt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:h,triggerName:c,transition:Rt,fromState:fe,toState:De,player:q,isFallbackTransition:xt}),xt||(nn(h,kr),q.onStart(()=>{ss(h,kr)})),q.onDone(()=>{let Bt=this.players.indexOf(q);Bt>=0&&this.players.splice(Bt,1);const Kn=this._engine.playersByElement.get(h);if(Kn){let m=Kn.indexOf(q);m>=0&&Kn.splice(m,1)}}),this.players.push(q),en.push(q),q}deregister(h){this._triggers.delete(h),this._engine.statesByElement.forEach(c=>c.delete(h)),this._elementListeners.forEach((c,b)=>{this._elementListeners.set(b,c.filter(O=>O.name!=h))})}clearElementCache(h){this._engine.statesByElement.delete(h),this._elementListeners.delete(h);const c=this._engine.playersByElement.get(h);c&&(c.forEach(b=>b.destroy()),this._engine.playersByElement.delete(h))}_signalRemovalForInnerTriggers(h,c){const b=this._engine.driver.query(h,cr,!0);b.forEach(O=>{if(O[ln])return;const V=this._engine.fetchNamespacesByElement(O);V.size?V.forEach(q=>q.triggerLeaveAnimation(O,c,!1,!0)):this.clearElementCache(O)}),this._engine.afterFlushAnimationsDone(()=>b.forEach(O=>this.clearElementCache(O)))}triggerLeaveAnimation(h,c,b,O){const V=this._engine.statesByElement.get(h),q=new Map;if(V){const te=[];if(V.forEach((fe,De)=>{if(q.set(De,fe.value),this._triggers.has(De)){const it=this.trigger(h,De,Cr,O);it&&te.push(it)}}),te.length)return this._engine.markElementAsRemoved(this.id,h,!0,c,q),b&&Tr(te).onDone(()=>this._engine.processLeaveNode(h)),!0}return!1}prepareLeaveAnimationListeners(h){const c=this._elementListeners.get(h),b=this._engine.statesByElement.get(h);if(c&&b){const O=new Set;c.forEach(V=>{const q=V.name;if(O.has(q))return;O.add(q);const fe=this._triggers.get(q).fallbackTransition,De=b.get(q)||gs,it=new Qn(Cr),ft=new xn(this.id,q,h);this._engine.totalQueuedPlayers++,this._queue.push({element:h,triggerName:q,transition:fe,fromState:De,toState:it,player:ft,isFallbackTransition:!0})})}}removeNode(h,c){const b=this._engine;if(h.childElementCount&&this._signalRemovalForInnerTriggers(h,c),this.triggerLeaveAnimation(h,c,!0))return;let O=!1;if(b.totalAnimations){const V=b.players.length?b.playersByQueriedElement.get(h):[];if(V&&V.length)O=!0;else{let q=h;for(;q=q.parentNode;)if(b.statesByElement.get(q)){O=!0;break}}}if(this.prepareLeaveAnimationListeners(h),O)b.markElementAsRemoved(this.id,h,!1,c);else{const V=h[ln];(!V||V===Xt)&&(b.afterFlush(()=>this.clearElementCache(h)),b.destroyInnerAnimations(h),b._onRemovalComplete(h,c))}}insertNode(h,c){nn(h,this._hostClassName)}drainQueuedTransitions(h){const c=[];return this._queue.forEach(b=>{const O=b.player;if(O.destroyed)return;const V=b.element,q=this._elementListeners.get(V);q&&q.forEach(te=>{if(te.name==b.triggerName){const fe=on(V,b.triggerName,b.fromState.value,b.toState.value);fe._data=h,Fn(b.player,te.phase,fe,te.callback)}}),O.markedForDestroy?this._engine.afterFlush(()=>{O.destroy()}):c.push(b)}),this._queue=[],c.sort((b,O)=>{const V=b.transition.ast.depCount,q=O.transition.ast.depCount;return 0==V||0==q?V-q:this._engine.driver.containsElement(b.element,O.element)?1:-1})}destroy(h){this.players.forEach(c=>c.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,h)}}class ui{_onRemovalComplete(h,c){this.onRemovalComplete(h,c)}constructor(h,c,b){this.bodyNode=h,this.driver=c,this._normalizer=b,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(O,V)=>{}}get queuedPlayers(){const h=[];return this._namespaceList.forEach(c=>{c.players.forEach(b=>{b.queued&&h.push(b)})}),h}createNamespace(h,c){const b=new Qs(h,c,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,c)?this._balanceNamespaceList(b,c):(this.newHostElements.set(c,b),this.collectEnterElement(c)),this._namespaceLookup[h]=b}_balanceNamespaceList(h,c){const b=this._namespaceList,O=this.namespacesByHostElement;if(b.length-1>=0){let q=!1,te=this.driver.getParentElement(c);for(;te;){const fe=O.get(te);if(fe){const De=b.indexOf(fe);b.splice(De+1,0,h),q=!0;break}te=this.driver.getParentElement(te)}q||b.unshift(h)}else b.push(h);return O.set(c,h),h}register(h,c){let b=this._namespaceLookup[h];return b||(b=this.createNamespace(h,c)),b}registerTrigger(h,c,b){let O=this._namespaceLookup[h];O&&O.register(c,b)&&this.totalAnimations++}destroy(h,c){h&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const b=this._fetchNamespace(h);this.namespacesByHostElement.delete(b.hostElement);const O=this._namespaceList.indexOf(b);O>=0&&this._namespaceList.splice(O,1),b.destroy(c),delete this._namespaceLookup[h]}))}_fetchNamespace(h){return this._namespaceLookup[h]}fetchNamespacesByElement(h){const c=new Set,b=this.statesByElement.get(h);if(b)for(let O of b.values())if(O.namespaceId){const V=this._fetchNamespace(O.namespaceId);V&&c.add(V)}return c}trigger(h,c,b,O){if(Jn(c)){const V=this._fetchNamespace(h);if(V)return V.trigger(c,b,O),!0}return!1}insertNode(h,c,b,O){if(!Jn(c))return;const V=c[ln];if(V&&V.setForRemoval){V.setForRemoval=!1,V.setForMove=!0;const q=this.collectedLeaveElements.indexOf(c);q>=0&&this.collectedLeaveElements.splice(q,1)}if(h){const q=this._fetchNamespace(h);q&&q.insertNode(c,b)}O&&this.collectEnterElement(c)}collectEnterElement(h){this.collectedEnterElements.push(h)}markElementAsDisabled(h,c){c?this.disabledNodes.has(h)||(this.disabledNodes.add(h),nn(h,Ts)):this.disabledNodes.has(h)&&(this.disabledNodes.delete(h),ss(h,Ts))}removeNode(h,c,b){if(Jn(c)){const O=h?this._fetchNamespace(h):null;O?O.removeNode(c,b):this.markElementAsRemoved(h,c,!1,b);const V=this.namespacesByHostElement.get(c);V&&V.id!==h&&V.removeNode(c,b)}else this._onRemovalComplete(c,b)}markElementAsRemoved(h,c,b,O,V){this.collectedLeaveElements.push(c),c[ln]={namespaceId:h,setForRemoval:O,hasAnimation:b,removedBeforeQueried:!1,previousTriggersValues:V}}listen(h,c,b,O,V){return Jn(c)?this._fetchNamespace(h).listen(c,b,O,V):()=>{}}_buildInstruction(h,c,b,O,V){return h.transition.build(this.driver,h.element,h.fromState.value,h.toState.value,b,O,h.fromState.options,h.toState.options,c,V)}destroyInnerAnimations(h){let c=this.driver.query(h,cr,!0);c.forEach(b=>this.destroyActiveAnimationsForElement(b)),0!=this.playersByQueriedElement.size&&(c=this.driver.query(h,Ar,!0),c.forEach(b=>this.finishActiveQueriedAnimationOnElement(b)))}destroyActiveAnimationsForElement(h){const c=this.playersByElement.get(h);c&&c.forEach(b=>{b.queued?b.markedForDestroy=!0:b.destroy()})}finishActiveQueriedAnimationOnElement(h){const c=this.playersByQueriedElement.get(h);c&&c.forEach(b=>b.finish())}whenRenderingDone(){return new Promise(h=>{if(this.players.length)return Tr(this.players).onDone(()=>h());h()})}processLeaveNode(h){const c=h[ln];if(c&&c.setForRemoval){if(h[ln]=Xt,c.namespaceId){this.destroyInnerAnimations(h);const b=this._fetchNamespace(c.namespaceId);b&&b.clearElementCache(h)}this._onRemovalComplete(h,c.setForRemoval)}h.classList?.contains(Ts)&&this.markElementAsDisabled(h,!1),this.driver.query(h,".ng-animate-disabled",!0).forEach(b=>{this.markElementAsDisabled(b,!1)})}flush(h=-1){let c=[];if(this.newHostElements.size&&(this.newHostElements.forEach((b,O)=>this._balanceNamespaceList(b,O)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let b=0;b<this.collectedEnterElements.length;b++)nn(this.collectedEnterElements[b],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const b=[];try{c=this._flushAnimations(b,h)}finally{for(let O=0;O<b.length;O++)b[O]()}}else for(let b=0;b<this.collectedLeaveElements.length;b++)this.processLeaveNode(this.collectedLeaveElements[b]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(b=>b()),this._flushFns=[],this._whenQuietFns.length){const b=this._whenQuietFns;this._whenQuietFns=[],c.length?Tr(c).onDone(()=>{b.forEach(O=>O())}):b.forEach(O=>O())}}reportError(h){throw function Er(A){return new E.wOt(3402,!1)}()}_flushAnimations(h,c){const b=new ps,O=[],V=new Map,q=[],te=new Map,fe=new Map,De=new Map,it=new Set;this.disabledNodes.forEach(Se=>{it.add(Se);const Le=this.driver.query(Se,".ng-animate-queued",!0);for(let Ve=0;Ve<Le.length;Ve++)it.add(Le[Ve])});const ft=this.bodyNode,en=Array.from(this.statesByElement.keys()),Rt=Wr(en,this.collectedEnterElements),xt=new Map;let Bt=0;Rt.forEach((Se,Le)=>{const Ve=dn+Bt++;xt.set(Le,Ve),Se.forEach(pt=>nn(pt,Ve))});const Kn=[],m=new Set,a=new Set;for(let Se=0;Se<this.collectedLeaveElements.length;Se++){const Le=this.collectedLeaveElements[Se],Ve=Le[ln];Ve&&Ve.setForRemoval&&(Kn.push(Le),m.add(Le),Ve.hasAnimation?this.driver.query(Le,".ng-star-inserted",!0).forEach(pt=>m.add(pt)):a.add(Le))}const o=new Map,l=Wr(en,Array.from(m));l.forEach((Se,Le)=>{const Ve=zt+Bt++;o.set(Le,Ve),Se.forEach(pt=>nn(pt,Ve))}),h.push(()=>{Rt.forEach((Se,Le)=>{const Ve=xt.get(Le);Se.forEach(pt=>ss(pt,Ve))}),l.forEach((Se,Le)=>{const Ve=o.get(Le);Se.forEach(pt=>ss(pt,Ve))}),Kn.forEach(Se=>{this.processLeaveNode(Se)})});const _=[],M=[];for(let Se=this._namespaceList.length-1;Se>=0;Se--)this._namespaceList[Se].drainQueuedTransitions(c).forEach(Ve=>{const pt=Ve.player,Ut=Ve.element;if(_.push(pt),this.collectedEnterElements.length){const Vn=Ut[ln];if(Vn&&Vn.setForMove){if(Vn.previousTriggersValues&&Vn.previousTriggersValues.has(Ve.triggerName)){const Zn=Vn.previousTriggersValues.get(Ve.triggerName),vs=this.statesByElement.get(Ve.element);if(vs&&vs.has(Ve.triggerName)){const Hi=vs.get(Ve.triggerName);Hi.value=Zn,vs.set(Ve.triggerName,Hi)}}return void pt.destroy()}}const de=!ft||!this.driver.containsElement(ft,Ut),We=o.get(Ut),Dn=xt.get(Ut),_n=this._buildInstruction(Ve,b,Dn,We,de);if(_n.errors&&_n.errors.length)return void M.push(_n);if(de)return pt.onStart(()=>lr(Ut,_n.fromStyles)),pt.onDestroy(()=>Sn(Ut,_n.toStyles)),void O.push(pt);if(Ve.isFallbackTransition)return pt.onStart(()=>lr(Ut,_n.fromStyles)),pt.onDestroy(()=>Sn(Ut,_n.toStyles)),void O.push(pt);const Gt=[];_n.timelines.forEach(Vn=>{Vn.stretchStartingKeyframe=!0,this.disabledNodes.has(Vn.element)||Gt.push(Vn)}),_n.timelines=Gt,b.append(Ut,_n.timelines),q.push({instruction:_n,player:pt,element:Ut}),_n.queriedElements.forEach(Vn=>jt(te,Vn,[]).push(pt)),_n.preStyleProps.forEach((Vn,Zn)=>{if(Vn.size){let vs=fe.get(Zn);vs||fe.set(Zn,vs=new Set),Vn.forEach((Hi,Ao)=>vs.add(Ao))}}),_n.postStyleProps.forEach((Vn,Zn)=>{let vs=De.get(Zn);vs||De.set(Zn,vs=new Set),Vn.forEach((Hi,Ao)=>vs.add(Ao))})});if(M.length){const Se=[];M.forEach(Le=>{Se.push(function Os(A,h){return new E.wOt(3505,!1)}())}),_.forEach(Le=>Le.destroy()),this.reportError(Se)}const x=new Map,R=new Map;q.forEach(Se=>{const Le=Se.element;b.has(Le)&&(R.set(Le,Le),this._beforeAnimationBuild(Se.player.namespaceId,Se.instruction,x))}),O.forEach(Se=>{const Le=Se.element;this._getPreviousPlayers(Le,!1,Se.namespaceId,Se.triggerName,null).forEach(pt=>{jt(x,Le,[]).push(pt),pt.destroy()})});const B=Kn.filter(Se=>$(Se,fe,De)),K=new Map;rs(K,this.driver,a,De,je).forEach(Se=>{$(Se,fe,De)&&B.push(Se)});const be=new Map;Rt.forEach((Se,Le)=>{rs(be,this.driver,new Set(Se),fe,"!")}),B.forEach(Se=>{const Le=K.get(Se),Ve=be.get(Se);K.set(Se,new Map([...Le?.entries()??[],...Ve?.entries()??[]]))});const ke=[],Ge=[],Fe={};q.forEach(Se=>{const{element:Le,player:Ve,instruction:pt}=Se;if(b.has(Le)){if(it.has(Le))return Ve.onDestroy(()=>Sn(Le,pt.toStyles)),Ve.disabled=!0,Ve.overrideTotalTime(pt.totalTime),void O.push(Ve);let Ut=Fe;if(R.size>1){let We=Le;const Dn=[];for(;We=We.parentNode;){const _n=R.get(We);if(_n){Ut=_n;break}Dn.push(We)}Dn.forEach(_n=>R.set(_n,Ut))}const de=this._buildAnimation(Ve.namespaceId,pt,x,V,be,K);if(Ve.setRealPlayer(de),Ut===Fe)ke.push(Ve);else{const We=this.playersByElement.get(Ut);We&&We.length&&(Ve.parentPlayer=Tr(We)),O.push(Ve)}}else lr(Le,pt.fromStyles),Ve.onDestroy(()=>Sn(Le,pt.toStyles)),Ge.push(Ve),it.has(Le)&&O.push(Ve)}),Ge.forEach(Se=>{const Le=V.get(Se.element);if(Le&&Le.length){const Ve=Tr(Le);Se.setRealPlayer(Ve)}}),O.forEach(Se=>{Se.parentPlayer?Se.syncPlayerEvents(Se.parentPlayer):Se.destroy()});for(let Se=0;Se<Kn.length;Se++){const Le=Kn[Se],Ve=Le[ln];if(ss(Le,zt),Ve&&Ve.hasAnimation)continue;let pt=[];if(te.size){let de=te.get(Le);de&&de.length&&pt.push(...de);let We=this.driver.query(Le,Ar,!0);for(let Dn=0;Dn<We.length;Dn++){let _n=te.get(We[Dn]);_n&&_n.length&&pt.push(..._n)}}const Ut=pt.filter(de=>!de.destroyed);Ut.length?_i(this,Le,Ut):this.processLeaveNode(Le)}return Kn.length=0,ke.forEach(Se=>{this.players.push(Se),Se.onDone(()=>{Se.destroy();const Le=this.players.indexOf(Se);this.players.splice(Le,1)}),Se.play()}),ke}afterFlush(h){this._flushFns.push(h)}afterFlushAnimationsDone(h){this._whenQuietFns.push(h)}_getPreviousPlayers(h,c,b,O,V){let q=[];if(c){const te=this.playersByQueriedElement.get(h);te&&(q=te)}else{const te=this.playersByElement.get(h);if(te){const fe=!V||V==Cr;te.forEach(De=>{De.queued||!fe&&De.triggerName!=O||q.push(De)})}}return(b||O)&&(q=q.filter(te=>!(b&&b!=te.namespaceId||O&&O!=te.triggerName))),q}_beforeAnimationBuild(h,c,b){const V=c.element,q=c.isRemovalTransition?void 0:h,te=c.isRemovalTransition?void 0:c.triggerName;for(const fe of c.timelines){const De=fe.element,it=De!==V,ft=jt(b,De,[]);this._getPreviousPlayers(De,it,q,te,c.toState).forEach(Rt=>{const xt=Rt.getRealPlayer();xt.beforeDestroy&&xt.beforeDestroy(),Rt.destroy(),ft.push(Rt)})}lr(V,c.fromStyles)}_buildAnimation(h,c,b,O,V,q){const te=c.triggerName,fe=c.element,De=[],it=new Set,ft=new Set,en=c.timelines.map(xt=>{const Bt=xt.element;it.add(Bt);const Kn=Bt[ln];if(Kn&&Kn.removedBeforeQueried)return new bt(xt.duration,xt.delay);const m=Bt!==fe,a=function P(A){const h=[];return k(A,h),h}((b.get(Bt)||ns).map(x=>x.getRealPlayer())).filter(x=>!!x.element&&x.element===Bt),o=V.get(Bt),l=q.get(Bt),_=cn(this._normalizer,xt.keyframes,o,l),M=this._buildPlayer(xt,_,a);if(xt.subTimeline&&O&&ft.add(Bt),m){const x=new xn(h,te,Bt);x.setRealPlayer(M),De.push(x)}return M});De.forEach(xt=>{jt(this.playersByQueriedElement,xt.element,[]).push(xt),xt.onDone(()=>function Fs(A,h,c){let b=A.get(h);if(b){if(b.length){const O=b.indexOf(c);b.splice(O,1)}0==b.length&&A.delete(h)}return b}(this.playersByQueriedElement,xt.element,xt))}),it.forEach(xt=>nn(xt,On));const Rt=Tr(en);return Rt.onDestroy(()=>{it.forEach(xt=>ss(xt,On)),Sn(fe,c.toStyles)}),ft.forEach(xt=>{jt(O,xt,[]).push(Rt)}),Rt}_buildPlayer(h,c,b){return c.length>0?this.driver.animate(h.element,c,h.duration,h.delay,h.easing,b):new bt(h.duration,h.delay)}}class xn{constructor(h,c,b){this.namespaceId=h,this.triggerName=c,this.element=b,this._player=new bt,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(h){this._containsRealPlayer||(this._player=h,this._queuedCallbacks.forEach((c,b)=>{c.forEach(O=>Fn(h,b,void 0,O))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(h.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(h){this.totalTime=h}syncPlayerEvents(h){const c=this._player;c.triggerCallback&&h.onStart(()=>c.triggerCallback("start")),h.onDone(()=>this.finish()),h.onDestroy(()=>this.destroy())}_queueEvent(h,c){jt(this._queuedCallbacks,h,[]).push(c)}onDone(h){this.queued&&this._queueEvent("done",h),this._player.onDone(h)}onStart(h){this.queued&&this._queueEvent("start",h),this._player.onStart(h)}onDestroy(h){this.queued&&this._queueEvent("destroy",h),this._player.onDestroy(h)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(h){this.queued||this._player.setPosition(h)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(h){const c=this._player;c.triggerCallback&&c.triggerCallback(h)}}function Jn(A){return A&&1===A.nodeType}function Fr(A,h){const c=A.style.display;return A.style.display=h??"none",c}function rs(A,h,c,b,O){const V=[];c.forEach(fe=>V.push(Fr(fe)));const q=[];b.forEach((fe,De)=>{const it=new Map;fe.forEach(ft=>{const en=h.computeStyle(De,ft,O);it.set(ft,en),(!en||0==en.length)&&(De[ln]=Ki,q.push(De))}),A.set(De,it)});let te=0;return c.forEach(fe=>Fr(fe,V[te++])),q}function Wr(A,h){const c=new Map;if(A.forEach(te=>c.set(te,[])),0==h.length)return c;const O=new Set(h),V=new Map;function q(te){if(!te)return 1;let fe=V.get(te);if(fe)return fe;const De=te.parentNode;return fe=c.has(De)?De:O.has(De)?1:q(De),V.set(te,fe),fe}return h.forEach(te=>{const fe=q(te);1!==fe&&c.get(fe).push(te)}),c}function nn(A,h){A.classList?.add(h)}function ss(A,h){A.classList?.remove(h)}function _i(A,h,c){Tr(c).onDone(()=>A.processLeaveNode(h))}function k(A,h){for(let c=0;c<A.length;c++){const b=A[c];b instanceof bn?k(b.players,h):h.push(b)}}function $(A,h,c){const b=c.get(A);if(!b)return!1;let O=h.get(A);return O?b.forEach(V=>O.add(V)):h.set(A,b),c.delete(A),!0}class ne{constructor(h,c,b){this.bodyNode=h,this._driver=c,this._normalizer=b,this._triggerCache={},this.onRemovalComplete=(O,V)=>{},this._transitionEngine=new ui(h,c,b),this._timelineEngine=new Ss(h,c,b),this._transitionEngine.onRemovalComplete=(O,V)=>this.onRemovalComplete(O,V)}registerTrigger(h,c,b,O,V){const q=h+"-"+O;let te=this._triggerCache[q];if(!te){const fe=[],it=si(this._driver,V,fe,[]);if(fe.length)throw function Cn(A,h){return new E.wOt(3404,!1)}();te=function $r(A,h,c){return new es(A,h,c)}(O,it,this._normalizer),this._triggerCache[q]=te}this._transitionEngine.registerTrigger(c,O,te)}register(h,c){this._transitionEngine.register(h,c)}destroy(h,c){this._transitionEngine.destroy(h,c)}onInsert(h,c,b,O){this._transitionEngine.insertNode(h,c,b,O)}onRemove(h,c,b){this._transitionEngine.removeNode(h,c,b)}disableAnimations(h,c){this._transitionEngine.markElementAsDisabled(h,c)}process(h,c,b,O){if("@"==b.charAt(0)){const[V,q]=Xr(b);this._timelineEngine.command(V,c,q,O)}else this._transitionEngine.trigger(h,c,b,O)}listen(h,c,b,O,V){if("@"==b.charAt(0)){const[q,te]=Xr(b);return this._timelineEngine.listen(q,c,te,V)}return this._transitionEngine.listen(h,c,b,O,V)}flush(h=-1){this._transitionEngine.flush(h)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(h){this._transitionEngine.afterFlushAnimationsDone(h)}}let Ht=(()=>{class A{static{this.initialStylesByElement=new WeakMap}constructor(c,b,O){this._element=c,this._startStyles=b,this._endStyles=O,this._state=0;let V=A.initialStylesByElement.get(c);V||A.initialStylesByElement.set(c,V=new Map),this._initialStyles=V}start(){this._state<1&&(this._startStyles&&Sn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Sn(this._element,this._initialStyles),this._endStyles&&(Sn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(A.initialStylesByElement.delete(this._element),this._startStyles&&(lr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(lr(this._element,this._endStyles),this._endStyles=null),Sn(this._element,this._initialStyles),this._state=3)}}return A})();function Pr(A){let h=null;return A.forEach((c,b)=>{(function Ls(A){return"display"===A||"position"===A})(b)&&(h=h||new Map,h.set(b,c))}),h}class Kr{constructor(h,c,b,O){this.element=h,this.keyframes=c,this.options=b,this._specialStyles=O,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=b.duration,this._delay=b.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(h=>h()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const h=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,h,this.options),this._finalKeyframe=h.length?h[h.length-1]:new Map;const c=()=>this._onFinish();this.domPlayer.addEventListener("finish",c),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",c)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(h){const c=[];return h.forEach(b=>{c.push(Object.fromEntries(b))}),c}_triggerWebAnimation(h,c,b){return h.animate(this._convertKeyframesToObject(c),b)}onStart(h){this._originalOnStartFns.push(h),this._onStartFns.push(h)}onDone(h){this._originalOnDoneFns.push(h),this._onDoneFns.push(h)}onDestroy(h){this._onDestroyFns.push(h)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(h=>h()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(h=>h()),this._onDestroyFns=[])}setPosition(h){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=h*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const h=new Map;this.hasStarted()&&this._finalKeyframe.forEach((b,O)=>{"offset"!==O&&h.set(O,this._finished?b:Rs(this.element,O))}),this.currentSnapshot=h}triggerCallback(h){const c="start"===h?this._onStartFns:this._onDoneFns;c.forEach(b=>b()),c.length=0}}class Rr{validateStyleProperty(h){return!0}validateAnimatableStyleProperty(h){return!0}matchesElement(h,c){return!1}containsElement(h,c){return Ps(h,c)}getParentElement(h){return Ot(h)}query(h,c,b){return Pe(h,c,b)}computeStyle(h,c,b){return window.getComputedStyle(h)[c]}animate(h,c,b,O,V,q=[]){const fe={duration:b,delay:O,fill:0==O?"both":"forwards"};V&&(fe.easing=V);const De=new Map,it=q.filter(Rt=>Rt instanceof Kr);(function En(A,h){return 0===A||0===h})(b,O)&&it.forEach(Rt=>{Rt.currentSnapshot.forEach((xt,Bt)=>De.set(Bt,xt))});let ft=function Be(A){return A.length?A[0]instanceof Map?A:A.map(h=>tt(h)):[]}(c).map(Rt=>It(Rt));ft=function Sr(A,h,c){if(c.size&&h.length){let b=h[0],O=[];if(c.forEach((V,q)=>{b.has(q)||O.push(q),b.set(q,V)}),O.length)for(let V=1;V<h.length;V++){let q=h[V];O.forEach(te=>q.set(te,Rs(A,te)))}}return h}(h,ft,De);const en=function Et(A,h){let c=null,b=null;return Array.isArray(h)&&h.length?(c=Pr(h[0]),h.length>1&&(b=Pr(h[h.length-1]))):h instanceof Map&&(c=Pr(h)),c||b?new Ht(A,c,b):null}(h,ft);return new Kr(h,ft,fe,en)}}var Mr=F(177);let Pi=(()=>{class A extends Me{constructor(c,b){super(),this._nextAnimationId=0,this._renderer=c.createRenderer(b.body,{id:"0",encapsulation:E.gXe.None,styles:[],data:{animation:[]}})}build(c){const b=this._nextAnimationId.toString();this._nextAnimationId++;const O=Array.isArray(c)?St(c):c;return qi(this._renderer,null,b,"register",[O]),new bi(b,this._renderer)}static{this.\u0275fac=function(b){return new(b||A)(E.KVO(E._9s),E.KVO(Mr.qQ))}}static{this.\u0275prov=E.jDH({token:A,factory:A.\u0275fac})}}return A})();class bi extends Ye{constructor(h,c){super(),this._id=h,this._renderer=c}create(h,c){return new wi(this._id,h,c||{},this._renderer)}}class wi{constructor(h,c,b,O){this.id=h,this.element=c,this._renderer=O,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",b)}_listen(h,c){return this._renderer.listen(this.element,`@@${this.id}:${h}`,c)}_command(h,...c){return qi(this._renderer,this.element,this.id,h,c)}onDone(h){this._listen("done",h)}onStart(h){this._listen("start",h)}onDestroy(h){this._listen("destroy",h)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(h){this._command("setPosition",h)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function qi(A,h,c,b,O){return A.setProperty(h,`@@${c}:${b}`,O)}const Ri="@.disabled";let So=(()=>{class A{constructor(c,b,O){this.delegate=c,this.engine=b,this._zone=O,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,b.onRemovalComplete=(V,q)=>{const te=q?.parentNode(V);te&&q.removeChild(te,V)}}createRenderer(c,b){const V=this.delegate.createRenderer(c,b);if(!(c&&b&&b.data&&b.data.animation)){let it=this._rendererCache.get(V);return it||(it=new Ft("",V,this.engine,()=>this._rendererCache.delete(V)),this._rendererCache.set(V,it)),it}const q=b.id,te=b.id+"-"+this._currentId;this._currentId++,this.engine.register(te,c);const fe=it=>{Array.isArray(it)?it.forEach(fe):this.engine.registerTrigger(q,te,c,it.name,it)};return b.data.animation.forEach(fe),new ms(this,te,V,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(c,b,O){c>=0&&c<this._microtaskId?this._zone.run(()=>b(O)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(V=>{const[q,te]=V;q(te)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([b,O]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(b){return new(b||A)(E.KVO(E._9s),E.KVO(ne),E.KVO(E.SKi))}}static{this.\u0275prov=E.jDH({token:A,factory:A.\u0275fac})}}return A})();class Ft{constructor(h,c,b,O){this.namespaceId=h,this.delegate=c,this.engine=b,this._onDestroy=O}get data(){return this.delegate.data}destroyNode(h){this.delegate.destroyNode?.(h)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(h,c){return this.delegate.createElement(h,c)}createComment(h){return this.delegate.createComment(h)}createText(h){return this.delegate.createText(h)}appendChild(h,c){this.delegate.appendChild(h,c),this.engine.onInsert(this.namespaceId,c,h,!1)}insertBefore(h,c,b,O=!0){this.delegate.insertBefore(h,c,b),this.engine.onInsert(this.namespaceId,c,h,O)}removeChild(h,c,b){this.engine.onRemove(this.namespaceId,c,this.delegate)}selectRootElement(h,c){return this.delegate.selectRootElement(h,c)}parentNode(h){return this.delegate.parentNode(h)}nextSibling(h){return this.delegate.nextSibling(h)}setAttribute(h,c,b,O){this.delegate.setAttribute(h,c,b,O)}removeAttribute(h,c,b){this.delegate.removeAttribute(h,c,b)}addClass(h,c){this.delegate.addClass(h,c)}removeClass(h,c){this.delegate.removeClass(h,c)}setStyle(h,c,b,O){this.delegate.setStyle(h,c,b,O)}removeStyle(h,c,b){this.delegate.removeStyle(h,c,b)}setProperty(h,c,b){"@"==c.charAt(0)&&c==Ri?this.disableAnimations(h,!!b):this.delegate.setProperty(h,c,b)}setValue(h,c){this.delegate.setValue(h,c)}listen(h,c,b){return this.delegate.listen(h,c,b)}disableAnimations(h,c){this.engine.disableAnimations(h,c)}}class ms extends Ft{constructor(h,c,b,O,V){super(c,b,O,V),this.factory=h,this.namespaceId=c}setProperty(h,c,b){"@"==c.charAt(0)?"."==c.charAt(1)&&c==Ri?this.disableAnimations(h,b=void 0===b||!!b):this.engine.process(this.namespaceId,h,c.slice(1),b):this.delegate.setProperty(h,c,b)}listen(h,c,b){if("@"==c.charAt(0)){const O=function Is(A){switch(A){case"body":return document.body;case"document":return document;case"window":return window;default:return A}}(h);let V=c.slice(1),q="";return"@"!=V.charAt(0)&&([V,q]=function xi(A){const h=A.indexOf(".");return[A.substring(0,h),A.slice(h+1)]}(V)),this.engine.listen(this.namespaceId,O,V,q,te=>{this.factory.scheduleListenerCallback(te._data||-1,b,te)})}return this.delegate.listen(h,c,b)}}const qr=[{provide:Me,useClass:Pi},{provide:nt,useFactory:function Yn(){return new fr}},{provide:ne,useClass:(()=>{class A extends ne{constructor(c,b,O,V){super(c.body,b,O)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(b){return new(b||A)(E.KVO(Mr.qQ),E.KVO(ie),E.KVO(nt),E.KVO(E.o8S))}}static{this.\u0275prov=E.jDH({token:A,factory:A.\u0275fac})}}return A})()},{provide:E._9s,useFactory:function is(A,h,c){return new So(A,h,c)},deps:[u.B7,ne,E.SKi]}],ao=[{provide:ie,useFactory:()=>new Rr},{provide:E.bc$,useValue:"BrowserAnimations"},...qr],Yi={providers:[(0,G.lh)(Q),(0,ce.$R)((0,ce.b$)([(A,h)=>h(A).pipe((0,he.W)(c=>(0,me.$)(()=>c)))])),(0,u.$x)(),function lo(){return[...ao]}()]};var Ni=F(4341),js=F(4412),ki=F(8359),Br=F(7673),Vs=F(6354),di=F(6697),Us=F(8141),Bi=F(5312),Mo=F(5321);let co=(()=>{class A{http;apiUrl=Bi.c.apiUrl;supabase;channel=null;messagesSubject=new js.t([]);messages$=this.messagesSubject.asObservable();typingUsersSubject=new js.t([]);typingUsers$=this.typingUsersSubject.asObservable();statsSubject=new js.t(null);stats$=this.statsSubject.asObservable();connectedSubject=new js.t(!0);connected$=this.connectedSubject.asObservable();onlineUsersSubject=new js.t(1);onlineUsers$=this.onlineUsersSubject.asObservable();currentUser="Usuario";userId=this.generateUserId();currentRoom="general";isTyping=!1;subscriptions=[];constructor(c){this.http=c,this.supabase=(0,Mo.UU)(Bi.c.supabaseUrl,Bi.c.supabaseKey,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:localStorage,lock:{processLock:!1}},realtime:{params:{eventsPerSecond:10}}}),this.loadUserFromStorage(),this.loadInitialHistory().subscribe(()=>{this.setupRealtimeSubscription()}),this.subscriptions.push(this.setupPeriodicStats(),this.setupOnlineUsersCheck(),this.setupHeartbeat())}ngOnDestroy(){this.subscriptions.forEach(c=>c.unsubscribe()),this.setTyping(!1),this.channel&&this.supabase.removeChannel(this.channel)}setupRealtimeSubscription(){this.channel=this.supabase.channel("chat-messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages",filter:`room=eq.${this.currentRoom}`},c=>{this.handleNewMessage(c)}).on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages",filter:"message_type=eq.system"},c=>{this.handleSystemMessage(c)}).subscribe(c=>{console.log("Canal de Supabase:",c),this.connectedSubject.next("SUBSCRIBED"===c)})}handleNewMessage(c){const b={id:c.new.id,user:c.new.user_name,user_id:c.new.user_id,message:c.new.message,timestamp:c.new.created_at,room:c.new.room,type:c.new.message_type||"message"},O=this.messagesSubject.value;if(!O.find(V=>V.id===b.id)){const q=[...O,b].sort((te,fe)=>new Date(te.timestamp).getTime()-new Date(fe.timestamp).getTime()).slice(-200);this.messagesSubject.next(q)}}getAuthToken(){return localStorage.getItem("adminToken")||localStorage.getItem("auth_token")}handleSystemMessage(c){this.handleNewMessage(c)}setupPeriodicStats(){return new ki.yU(()=>{const c=setInterval(()=>{this.loadStatsObservable().subscribe()},6e4);return()=>clearInterval(c)})}setupOnlineUsersCheck(){return new ki.yU(()=>{this.refreshOnlineUsers().subscribe();const c=setInterval(()=>{this.refreshOnlineUsers().subscribe()},6e4);return()=>clearInterval(c)})}setupHeartbeat(){return new ki.yU(()=>{this.sendHeartbeat().subscribe();const c=setInterval(()=>{this.sendHeartbeat().subscribe()},6e4);return()=>clearInterval(c)})}sendHeartbeat(){const c=this.getAuthToken(),b={"Content-Type":"application/json"};return c&&(b.Authorization=`Bearer ${c}`),this.http.post(`${this.apiUrl}/api/chat/heartbeat`,{user_id:this.userId,room:this.currentRoom},{headers:b}).pipe((0,he.W)(()=>(0,Br.of)(null)))}loadUserFromStorage(){const c=localStorage.getItem("chat_user_name");c&&(this.currentUser=c)}loadInitialHistory(){return this.http.get(`${this.apiUrl}/api/chat/messages?limit=100`).pipe((0,Us.M)({next:c=>{this.messagesSubject.next(c.messages||[]),this.connectedSubject.next(!0)},error:c=>{console.error("Error loading initial history:",c),this.connectedSubject.next(!1)}}),(0,he.W)(c=>(console.error("API call failed for initial history:",c),this.connectedSubject.next(!1),(0,Br.of)(null))))}refreshOnlineUsers(){return this.http.get(`${this.apiUrl}/api/chat/online-users`).pipe((0,he.W)(c=>(0,Br.of)({online_users:1})),(0,Us.M)(c=>this.onlineUsersSubject.next(c.online_users)))}sendMessage(c){const b=this.getAuthToken(),O={"Content-Type":"application/json"};b&&(O.Authorization=`Bearer ${b}`);const V={message:c.trim(),user:this.currentUser,user_id:this.userId,room:this.currentRoom};return this.http.post(`${this.apiUrl}/api/chat/send`,V,{headers:O}).pipe((0,Us.M)(q=>{q.success&&q.message&&this.setTyping(!1)}))}deleteMessage(c){const b=this.getAuthToken(),O={};return b&&(O.Authorization=`Bearer ${b}`),this.http.delete(`${this.apiUrl}/api/chat/messages/${c}`,{headers:O})}isAdmin(){const c=this.getAuthToken();if(!c)return!1;const b=localStorage.getItem("adminUser");if(!b)return!!c;try{return"admin"===JSON.parse(b).role}catch{return!!c}}setTyping(c){this.isTyping!==c&&(this.isTyping=c,this.http.post(`${this.apiUrl}/api/chat/typing`,{user:this.currentUser,room:this.currentRoom,is_typing:c}).pipe((0,he.W)(()=>(0,Br.of)(null))).subscribe())}setUser(c){c&&c.trim()&&(this.currentUser=c.trim(),localStorage.setItem("chat_user_name",this.currentUser))}getUser(){return this.currentUser}loadStatsObservable(){return this.http.get(`${this.apiUrl}/api/chat/stats`).pipe((0,he.W)(()=>(0,Br.of)(null)),(0,Us.M)(c=>{c&&this.statsSubject.next(c)}))}loadStats(){this.loadStatsObservable().subscribe()}validateUsername(c){const b=this.getAuthToken();console.log("[ChatService] Validating username. Token exists:",!!b);const O={"Content-Type":"application/json"};return b&&(O.Authorization=`Bearer ${b}`),this.http.post(`${this.apiUrl}/api/chat/validate-username`,{username:c},{headers:O}).pipe((0,he.W)(V=>(0,Br.of)({valid:!1,error:"Error validando nombre"})))}generateUserId(){let c=localStorage.getItem("chat_user_id");return c||(c=`user_${Math.random().toString(36).substring(2,11)}`,localStorage.setItem("chat_user_id",c)),c}static \u0275fac=function(b){return new(b||A)(E.KVO(ce.Qq))};static \u0275prov=E.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})();const Ci=["messagesContainer"],Uo=["chatContainer"];function y(A,h){if(1&A&&(E.j41(0,"span",14),E.EFF(1),E.k0s()),2&A){const c=E.XpG(2);E.R7$(1),E.JRh(c.unreadMessages)}}function L(A,h){1&A&&(E.j41(0,"div",22),E.nrm(1,"i",23),E.EFF(2," Reconectando... "),E.k0s())}function S(A,h){if(1&A){const c=E.RV6();E.j41(0,"div",24)(1,"div",25),E.nrm(2,"i",26),E.EFF(3),E.k0s(),E.j41(4,"button",27),E.bIt("click",function(){E.eBV(c);const O=E.XpG(3);return E.Njj(O.showUserModal=!0)}),E.nrm(5,"i",28),E.k0s(),E.j41(6,"button",29),E.bIt("click",function(){E.eBV(c);const O=E.XpG(3);return E.Njj(O.isChatOpen=!1)}),E.nrm(7,"i",30),E.k0s()()}if(2&A){const c=h.ngIf;E.R7$(3),E.SpI(" ",c,"")}}function N(A,h){if(1&A&&(E.j41(0,"div",15)(1,"div",16)(2,"h4"),E.nrm(3,"i",17),E.EFF(4," Chat Musical"),E.k0s(),E.j41(5,"div",18),E.nrm(6,"span",19),E.EFF(7),E.k0s(),E.DNE(8,L,3,0,"div",20),E.k0s(),E.DNE(9,S,8,1,"div",21),E.nI1(10,"async"),E.k0s()),2&A){const c=h.ngIf,b=E.XpG(2);E.R7$(5),E.AVh("connected",c)("disconnected",!c),E.R7$(2),E.SpI(" ",c?"Conectado":"Reconectando..."," "),E.R7$(1),E.Y8G("ngIf",!c),E.R7$(1),E.Y8G("ngIf",E.bMT(10,7,b.onlineUsers$))}}function J(A,h){if(1&A&&(E.j41(0,"div",31)(1,"div",32)(2,"small"),E.EFF(3),E.k0s()(),E.j41(4,"div",32)(5,"small"),E.EFF(6),E.k0s()()()),2&A){const c=h.ngIf;E.R7$(3),E.SpI("Total: ",null==c?null:c.total_messages,""),E.R7$(3),E.SpI("Hoy: ",null==c?null:c.messages_today,"")}}function Ce(A,h){if(1&A){const c=E.RV6();E.j41(0,"button",42),E.bIt("click",function(){E.eBV(c);const O=E.XpG(2).$implicit,V=E.XpG(3);return E.Njj(V.deleteMessage(O.id))}),E.nrm(1,"i",43),E.k0s()}}function Ie(A,h){if(1&A&&(E.j41(0,"div",38)(1,"strong",39),E.EFF(2),E.k0s(),E.j41(3,"span",40),E.EFF(4),E.k0s(),E.DNE(5,Ce,2,0,"button",41),E.nI1(6,"async"),E.k0s()),2&A){const c=E.XpG().$implicit,b=E.XpG(3);E.R7$(2),E.JRh(c.user),E.R7$(2),E.JRh(b.formatTime(c.timestamp)),E.R7$(1),E.Y8G("ngIf",E.bMT(6,3,b.isAdmin$))}}function vt(A,h){if(1&A&&(E.j41(0,"div",35),E.DNE(1,Ie,7,5,"div",36),E.j41(2,"div",37),E.EFF(3),E.k0s()()),2&A){const c=h.$implicit,b=E.XpG(2).ngIf;E.AVh("system-message","system"===c.type)("own-message",c.user===b&&"message"===c.type),E.R7$(1),E.Y8G("ngIf","message"===c.type),E.R7$(2),E.JRh(c.message)}}function In(A,h){if(1&A&&(E.j41(0,"div")(1,"div",33)(2,"span"),E.EFF(3),E.k0s()(),E.DNE(4,vt,4,6,"div",34),E.k0s()),2&A){const c=h.$implicit,b=E.XpG(2);E.R7$(3),E.JRh(c.label),E.R7$(1),E.Y8G("ngForOf",c.messages)("ngForTrackBy",b.trackByMessage)}}function wn(A,h){if(1&A&&(E.j41(0,"div")(1,"div",46),E.nrm(2,"span")(3,"span")(4,"span"),E.k0s(),E.j41(5,"span",47),E.EFF(6),E.k0s()()),2&A){const c=E.XpG().ngIf;E.R7$(6),E.Lme("",c.join(", ")," ",1===c.length?"est\xe1 escribiendo...":"est\xe1n escribiendo...","")}}function rn(A,h){if(1&A&&(E.j41(0,"div",44),E.DNE(1,wn,7,2,"div",45),E.k0s()),2&A){const c=h.ngIf;E.R7$(1),E.Y8G("ngIf",c.length>0)}}function Qt(A,h){if(1&A){const c=E.RV6();E.j41(0,"div",48)(1,"input",49,50),E.bIt("ngModelChange",function(O){E.eBV(c);const V=E.XpG(2);return E.Njj(V.newMessage=O)})("input",function(){E.eBV(c);const O=E.XpG(2);return E.Njj(O.onInputChange())})("keyup.enter",function(){E.eBV(c);const O=E.XpG(2);return E.Njj(O.sendMessage())}),E.k0s(),E.j41(3,"button",51),E.bIt("click",function(){E.eBV(c);const O=E.XpG(2);return E.Njj(O.sendMessage())}),E.nrm(4,"i",52),E.k0s()()}if(2&A){const c=h.ngIf,b=E.XpG(2);E.R7$(1),E.FS9("placeholder",c?"Escribe un mensaje...":"Conectando..."),E.Y8G("ngModel",b.newMessage)("disabled",!c),E.R7$(2),E.Y8G("disabled",!b.newMessage.trim()||!c)}}function nr(A,h){if(1&A&&(E.j41(0,"div",61)(1,"small",62),E.EFF(2),E.k0s()()),2&A){const c=E.XpG(3);E.R7$(2),E.JRh(c.usernameError)}}function Nn(A,h){if(1&A){const c=E.RV6();E.j41(0,"div",53),E.bIt("click",function(){E.eBV(c);const O=E.XpG(2);return E.Njj(O.showUserModal=!1)}),E.j41(1,"div",54),E.bIt("click",function(O){return O.stopPropagation()}),E.j41(2,"h4"),E.EFF(3,"Cambiar Nombre"),E.k0s(),E.j41(4,"input",55,56),E.bIt("keyup",function(){E.eBV(c);const O=E.sdS(5),V=E.XpG(2);return E.Njj(V.onUsernameInput(O.value))})("keyup.enter",function(){E.eBV(c);const O=E.sdS(5),V=E.XpG(2);return E.Njj(V.updateUser(O.value))}),E.k0s(),E.DNE(6,nr,3,1,"div",57),E.j41(7,"div",58)(8,"button",59),E.bIt("click",function(){E.eBV(c);const O=E.XpG(2);return E.Njj(O.showUserModal=!1)}),E.EFF(9,"Cancelar"),E.k0s(),E.j41(10,"button",60),E.bIt("click",function(){E.eBV(c);const O=E.sdS(5),V=E.XpG(2);return E.Njj(V.updateUser(O.value))}),E.EFF(11," Guardar "),E.k0s()()()()}if(2&A){const c=E.XpG().ngIf,b=E.XpG();E.R7$(4),E.Y8G("value",c),E.R7$(2),E.Y8G("ngIf",b.usernameError),E.R7$(4),E.Y8G("disabled",b.usernameError)}}function pr(A,h){if(1&A){const c=E.RV6();E.j41(0,"div",1)(1,"button",2),E.bIt("click",function(){E.eBV(c);const O=E.XpG();return E.Njj(O.toggleChat())}),E.nrm(2,"i",3),E.DNE(3,y,2,1,"span",4),E.k0s(),E.j41(4,"div",5),E.DNE(5,N,11,9,"div",6),E.nI1(6,"async"),E.DNE(7,J,7,2,"div",7),E.nI1(8,"async"),E.j41(9,"div",8,9),E.DNE(11,In,5,3,"div",10),E.nI1(12,"async"),E.DNE(13,rn,2,1,"div",11),E.nI1(14,"async"),E.k0s(),E.DNE(15,Qt,5,4,"div",12),E.nI1(16,"async"),E.DNE(17,Nn,12,3,"div",13),E.k0s()()}if(2&A){const c=E.XpG();E.R7$(1),E.AVh("has-unread",c.unreadMessages>0),E.R7$(2),E.Y8G("ngIf",c.unreadMessages>0),E.R7$(1),E.AVh("open",c.isChatOpen),E.R7$(1),E.Y8G("ngIf",E.bMT(6,11,c.connected$)),E.R7$(2),E.Y8G("ngIf",E.bMT(8,13,c.stats$)),E.R7$(4),E.Y8G("ngForOf",E.bMT(12,15,c.groupedMessages$)),E.R7$(2),E.Y8G("ngIf",E.bMT(14,17,c.typingUsers$)),E.R7$(2),E.Y8G("ngIf",E.bMT(16,19,c.connected$)),E.R7$(2),E.Y8G("ngIf",c.showUserModal)}}let os=(()=>{class A{chatService;cdr;elementRef;messagesContainer;chatContainer;isChatOpen=!1;newMessage="";showUserModal=!1;unreadMessages=0;usernameError="";previousMessageCount=0;messages$;groupedMessages$;typingUsers$;onlineUsers$;connected$;stats$;currentUser$;isAdminSubject=new js.t(!1);isAdmin$=this.isAdminSubject.asObservable();subscriptions=new ki.yU;typingTimeout;constructor(c,b,O){this.chatService=c,this.cdr=b,this.elementRef=O,this.messages$=this.chatService.messages$,this.typingUsers$=this.chatService.typingUsers$,this.onlineUsers$=this.chatService.onlineUsers$,this.connected$=this.chatService.connected$,this.stats$=this.chatService.stats$,this.currentUser$=(0,Br.of)(this.chatService.getUser()),this.connected$=this.chatService.connected$,this.stats$=this.chatService.stats$,this.currentUser$=(0,Br.of)(this.chatService.getUser()),this.isAdminSubject.next(this.chatService.isAdmin()),this.groupedMessages$=this.messages$.pipe((0,Vs.T)(V=>this.groupMessagesByDate(V)))}ngOnInit(){const c=this.messages$.subscribe(b=>{setTimeout(()=>{this.handleNewMessages(b),this.cdr.detectChanges(),this.autoScrollToBottom()})});this.subscriptions.add(c),setTimeout(()=>{this.chatService.loadInitialHistory().subscribe()},1e3)}onUsernameInput(c){const b=c.trim();b?this.chatService.validateUsername(b).subscribe({next:O=>{this.usernameError=O.valid?"":O.error||"",this.cdr.markForCheck()},error:()=>{this.usernameError="",this.cdr.markForCheck()}}):(this.usernameError="",this.cdr.markForCheck())}ngOnDestroy(){this.subscriptions.unsubscribe(),this.typingTimeout&&clearTimeout(this.typingTimeout)}handleNewMessages(c){if(!this.messagesContainer)return;const b=c.length,O=this.previousMessageCount;if(this.previousMessageCount=b,this.isChatOpen){const V=b-O;V>0&&O>0&&(this.unreadMessages+=V)}else{const V=b-O;V>0&&(this.unreadMessages+=V,this.showNewMessageNotification(this.unreadMessages))}}sendMessage(){this.connected$.pipe((0,di.s)(1)).subscribe(c=>{if(this.newMessage.trim()&&c){const b=this.newMessage.trim();this.newMessage="",this.cdr.markForCheck(),this.chatService.sendMessage(b).subscribe({next:()=>{this.stopTyping(),this.scrollToBottom()},error:O=>{this.newMessage=b,this.cdr.markForCheck(),O.error&&O.error.error&&alert(O.error.error)}})}})}scrollToBottom(){this.messagesContainer&&setTimeout(()=>{try{this.messagesContainer.nativeElement.scrollTop=this.messagesContainer.nativeElement.scrollHeight}catch(c){console.error("Error en scroll:",c)}},50)}showNewMessageNotification(c){!document.hasFocus()&&"Notification"in window&&"granted"===Notification.permission&&new Notification(`Tienes ${c} nuevo${c>1?"s":""} mensaje${c>1?"s":""}`)}toggleChat(){this.isChatOpen=!this.isChatOpen,this.isChatOpen&&(this.unreadMessages=0,this.chatService.loadStats(),this.chatService.refreshOnlineUsers().subscribe(),setTimeout(()=>{this.scrollToBottom(),this.chatService.loadInitialHistory().subscribe()},100))}setupRealtimeMessages(){const c=this.messages$.subscribe(b=>{const O=this.isNearBottom();this.handleNewMessages(b),this.cdr.markForCheck(),O&&this.autoScrollToBottom()});this.subscriptions.add(c)}isNearBottom(){if(!this.messagesContainer)return!0;const c=this.messagesContainer.nativeElement;return c.scrollHeight-(c.scrollTop+c.clientHeight)<=150}autoScrollToBottom(){this.messagesContainer&&setTimeout(()=>{const c=this.messagesContainer.nativeElement;c.scrollTop=c.scrollHeight},100)}onInputChange(){this.connected$.pipe((0,di.s)(1)).subscribe(c=>{this.newMessage.trim()&&c?(this.chatService.setTyping(!0),this.typingTimeout&&clearTimeout(this.typingTimeout),this.typingTimeout=setTimeout(()=>this.stopTyping(),2500)):this.stopTyping()})}stopTyping(){this.typingTimeout&&(clearTimeout(this.typingTimeout),this.typingTimeout=null),this.chatService.setTyping(!1)}updateUser(c){const b=c.trim();b&&this.chatService.validateUsername(b).subscribe({next:O=>{O.valid?(this.chatService.setUser(b),this.currentUser$=(0,Br.of)(b),this.showUserModal=!1,this.usernameError="",this.cdr.markForCheck(),O.is_admin?(console.log("\u2705 Modo administrador activado para el chat"),this.isAdminSubject.next(!0)):this.isAdminSubject.next(this.chatService.isAdmin())):(this.usernameError=O.error||"Nombre no v\xe1lido",this.cdr.markForCheck())},error:()=>{this.usernameError="Error validando el nombre de usuario",this.cdr.markForCheck()}})}formatTime(c){return new Date(c).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})}trackByMessage(c,b){return b.id}onDocumentClick(c){this.isChatOpen&&!this.elementRef.nativeElement.contains(c.target)&&(this.isChatOpen=!1,this.cdr.markForCheck())}deleteMessage(c){confirm("\xbfEst\xe1s seguro de que quieres eliminar este mensaje?")&&this.chatService.deleteMessage(c).subscribe({next:()=>{},error:b=>{console.error("Error al eliminar mensaje:",b),alert("No se pudo eliminar el mensaje")}})}groupMessagesByDate(c){const b=[],O=new Date;O.setHours(0,0,0,0);const V=new Date(O);return V.setDate(V.getDate()-1),c.forEach(q=>{const te=new Date(q.timestamp),fe=new Date(te);fe.setHours(0,0,0,0);let De="";De=fe.getTime()===O.getTime()?"Hoy":fe.getTime()===V.getTime()?"Ayer":te.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"});let it=b[b.length-1];it&&it.label===De?it.messages.push(q):b.push({label:De,messages:[q]})}),b}static \u0275fac=function(b){return new(b||A)(E.rXU(co),E.rXU(E.gRc),E.rXU(E.aKT))};static \u0275cmp=E.VBU({type:A,selectors:[["app-floating-chat"]],viewQuery:function(b,O){if(1&b&&(E.GBs(Ci,5),E.GBs(Uo,5)),2&b){let V;E.mGM(V=E.lsd())&&(O.messagesContainer=V.first),E.mGM(V=E.lsd())&&(O.chatContainer=V.first)}},hostBindings:function(b,O){1&b&&E.bIt("click",function(q){return O.onDocumentClick(q)},!1,E.EBC)},standalone:!0,features:[E.aNF],decls:2,vars:3,consts:[["class","floating-chat-container",4,"ngIf"],[1,"floating-chat-container"],[1,"floating-chat-button",3,"click"],[1,"fas","fa-comments"],["class","unread-badge",4,"ngIf"],[1,"chat-window"],["class","chat-header",4,"ngIf"],["class","chat-stats",4,"ngIf"],[1,"messages-container"],["messagesContainer",""],[4,"ngFor","ngForOf"],["class","typing-indicator",4,"ngIf"],["class","input-container",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"unread-badge"],[1,"chat-header"],[1,"header-left"],[1,"fas","fa-comments","me-2"],[1,"connection-status"],[1,"status-dot"],["class","reconnection-message",4,"ngIf"],["class","header-right",4,"ngIf"],[1,"reconnection-message"],[1,"fas","fa-sync-alt","fa-spin"],[1,"header-right"],[1,"online-users"],[1,"fas","fa-users","me-1"],["title","Cambiar usuario",1,"btn-user",3,"click"],[1,"fas","fa-user-edit"],["title","Cerrar chat",1,"btn-close",3,"click"],[1,"fas","fa-times"],[1,"chat-stats"],[1,"stat-item"],[1,"date-divider"],["class","message",3,"system-message","own-message",4,"ngFor","ngForOf","ngForTrackBy"],[1,"message"],["class","message-header",4,"ngIf"],[1,"message-content"],[1,"message-header"],[1,"username"],[1,"message-time"],["class","btn-delete-msg","title","Eliminar mensaje",3,"click",4,"ngIf"],["title","Eliminar mensaje",1,"btn-delete-msg",3,"click"],[1,"fas","fa-trash-alt"],[1,"typing-indicator"],[4,"ngIf"],[1,"typing-dots"],[1,"typing-text"],[1,"input-container"],["type","text",1,"message-input",3,"ngModel","disabled","placeholder","ngModelChange","input","keyup.enter"],["messageInput",""],[1,"send-button",3,"disabled","click"],[1,"fas","fa-paper-plane"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],["type","text","placeholder","Tu nombre de usuario","maxlength","20",1,"user-input",3,"value","keyup","keyup.enter"],["userInput",""],["class","validation-message",4,"ngIf"],[1,"modal-actions"],[1,"btn-cancel",3,"click"],[1,"btn-save",3,"disabled","click"],[1,"validation-message"],[1,"text-danger"]],template:function(b,O){1&b&&(E.DNE(0,pr,18,21,"div",0),E.nI1(1,"async")),2&b&&E.Y8G("ngIf",E.bMT(1,1,O.currentUser$))},dependencies:[Mr.MD,Mr.Sq,Mr.bT,Mr.Jj,Ni.YN,Ni.me,Ni.BC,Ni.vS],styles:[".floating-chat-container[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;z-index:10002}.floating-chat-button[_ngcontent-%COMP%]{position:relative;width:70px;height:70px;border-radius:50%;background:linear-gradient(135deg,var(--primary-color),#1db954);color:#fff;border:none;cursor:pointer;box-shadow:0 6px 25px #1db95480;display:flex;align-items:center;justify-content:center;font-size:1.8rem;transition:all .3s ease}.floating-chat-button[_ngcontent-%COMP%]:hover{transform:scale(1.15);box-shadow:0 8px 30px #1db954b3}.floating-chat-button.has-unread[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s infinite}.floating-chat-button[_ngcontent-%COMP%]   .unread-badge[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;background:#e74c3c;color:#fff;border-radius:50%;width:24px;height:24px;font-size:.8rem;display:flex;align-items:center;justify-content:center;font-weight:700;border:2px solid var(--card-bg)}.chat-window[_ngcontent-%COMP%]{position:absolute;bottom:85px;right:0;width:450px;height:650px;background:var(--card-bg);border:1px solid var(--hover-bg);border-radius:16px;box-shadow:0 15px 50px #0006;display:flex;flex-direction:column;opacity:0;transform:translateY(20px) scale(.95);pointer-events:none;transition:all .3s cubic-bezier(.4,0,.2,1)}.chat-window.open[_ngcontent-%COMP%]{opacity:1;transform:translateY(0) scale(1);pointer-events:all}.chat-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.25rem;background:linear-gradient(135deg,var(--hover-bg),var(--card-bg));border-bottom:1px solid var(--border-color);border-radius:16px 16px 0 0}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;color:var(--text-primary);font-size:1.1rem;font-weight:600}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .connection-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.75rem;padding:.3rem .6rem;border-radius:20px;background:var(--bg-color);font-weight:500}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .connection-status.connected[_ngcontent-%COMP%]{color:#10b981;background:rgba(16,185,129,.1)}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .connection-status.connected[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{background:#10b981;box-shadow:0 0 8px #10b98180}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .connection-status.disconnected[_ngcontent-%COMP%]{color:#ef4444;background:rgba(239,68,68,.1)}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .connection-status.disconnected[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{background:#ef4444}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .connection-status[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%;animation:_ngcontent-%COMP%_pulse 2s infinite}.chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .online-users[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem;padding:.4rem .8rem;background:var(--bg-color);border-radius:20px;font-size:.8rem;color:var(--text-secondary);font-weight:500}.chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn-user[_ngcontent-%COMP%], .chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--text-secondary);padding:.5rem;border-radius:8px;cursor:pointer;transition:all .2s ease}.chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn-user[_ngcontent-%COMP%]:hover, .chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{background:var(--hover-bg);color:var(--text-primary);transform:scale(1.1)}.chat-stats[_ngcontent-%COMP%]{display:flex;gap:1.5rem;padding:.75rem 1.25rem;background:var(--bg-color);border-bottom:1px solid var(--border-color)}.chat-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.75rem;font-weight:500}.messages-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:1.25rem;display:flex;flex-direction:column;gap:.75rem;background:var(--bg-color)}.message[_ngcontent-%COMP%]{max-width:90%;padding:.75rem 1rem;border-radius:16px;background:var(--hover-bg);animation:_ngcontent-%COMP%_messageSlide .25s ease-out;border:1px solid transparent;transition:all .2s ease}.message[_ngcontent-%COMP%]:hover{border-color:var(--border-color);transform:translateY(-1px)}.message.own-message[_ngcontent-%COMP%]{align-self:flex-end;background:linear-gradient(135deg,var(--primary-color),#1a8cff);color:#fff;box-shadow:0 4px 15px #1db9544d}.message.own-message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{color:#fffffff2}.message.own-message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%]{color:#fffc}.message.system-message[_ngcontent-%COMP%]{align-self:center;background:transparent;text-align:center;color:var(--text-secondary);font-style:italic;max-width:100%;border:1px dashed var(--border-color)}.message.system-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{font-size:.85rem;font-weight:500}.message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.3rem}.message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600;color:var(--text-primary)}.message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%]{font-size:.7rem;opacity:.8;color:var(--text-secondary)}.message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .btn-delete-msg[_ngcontent-%COMP%]{background:transparent;border:none;color:#ef444499;margin-left:auto;padding:4px;border-radius:50%;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;width:24px;height:24px}.message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .btn-delete-msg[_ngcontent-%COMP%]:hover{background:rgba(239,68,68,.15);color:#ef4444;transform:scale(1.1)}.message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{word-wrap:break-word;line-height:1.4;font-size:.9rem}.typing-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem 1rem;color:var(--text-secondary);font-size:.85rem;font-style:italic;background:var(--hover-bg);border-radius:12px;margin-top:.5rem}.typing-indicator[_ngcontent-%COMP%]   .typing-dots[_ngcontent-%COMP%]{display:flex;gap:3px}.typing-indicator[_ngcontent-%COMP%]   .typing-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:6px;height:6px;border-radius:50%;background:var(--primary-color);animation:_ngcontent-%COMP%_typingBounce 1.4s infinite ease-in-out}.typing-indicator[_ngcontent-%COMP%]   .typing-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){animation-delay:-.32s}.typing-indicator[_ngcontent-%COMP%]   .typing-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.16s}.date-divider[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:1rem 0}.date-divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:rgba(0,0,0,.2);color:var(--text-secondary);padding:.25rem .75rem;border-radius:12px;font-size:.75rem;font-weight:500}.input-container[_ngcontent-%COMP%]{display:flex;padding:1rem;border-top:1px solid var(--border-color);background:var(--card-bg);gap:.75rem;align-items:center}.input-container[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]{flex:1;padding:.75rem 1rem;border:2px solid var(--border-color);border-radius:25px;background:var(--bg-color);color:var(--text-primary);font-size:.9rem;transition:all .3s ease}.input-container[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #1db9541a}.input-container[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.input-container[_ngcontent-%COMP%]   .send-button[_ngcontent-%COMP%]{padding:.75rem;background:linear-gradient(135deg,var(--primary-color),#1db954);color:#fff;border:none;border-radius:50%;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center}.input-container[_ngcontent-%COMP%]   .send-button[_ngcontent-%COMP%]:hover:not(:disabled){transform:scale(1.1) rotate(5deg);box-shadow:0 6px 20px #1db95466}.input-container[_ngcontent-%COMP%]   .send-button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none}.modal-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:rgba(0,0,0,.8);display:flex;align-items:center;justify-content:center;z-index:10;border-radius:16px;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.modal-content[_ngcontent-%COMP%]{background:var(--card-bg);padding:2rem;border-radius:16px;width:90%;max-width:400px;border:1px solid var(--border-color);box-shadow:0 20px 60px #0000004d}.modal-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 1.5rem;color:var(--text-primary);font-size:1.2rem;font-weight:600;text-align:center}.modal-content[_ngcontent-%COMP%]   .user-input[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:2px solid var(--border-color);border-radius:12px;background:var(--bg-color);color:var(--text-primary);margin-bottom:1.5rem;font-size:1rem;transition:all .3s ease}.modal-content[_ngcontent-%COMP%]   .user-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #1db9541a}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;justify-content:flex-end}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]{padding:.6rem 1.25rem;border:none;border-radius:8px;cursor:pointer;font-size:.9rem;font-weight:500;transition:all .3s ease}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background:transparent;color:var(--text-secondary);border:2px solid var(--border-color)}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover{background:var(--hover-bg);border-color:var(--text-secondary)}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color),#1db954);color:#fff}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #1db9544d}@keyframes _ngcontent-%COMP%_messageSlide{0%{opacity:0;transform:translateY(8px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}@keyframes _ngcontent-%COMP%_typingBounce{0%,80%,to{transform:scale(.8);opacity:.5}40%{transform:scale(1.2);opacity:1}}@keyframes _ngcontent-%COMP%_pulse{0%,to{box-shadow:0 6px 25px #1db95480}50%{box-shadow:0 6px 30px #1db954cc}}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:3px}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--text-secondary)}.messages-container[_ngcontent-%COMP%]{scroll-behavior:smooth;overflow-anchor:auto}@media (max-width: 768px){.floating-chat-container[_ngcontent-%COMP%]{bottom:15px;right:15px}.floating-chat-button[_ngcontent-%COMP%]{width:60px;height:60px;font-size:1.5rem}.chat-window[_ngcontent-%COMP%]{width:380px;height:550px;bottom:75px}}@media (max-width: 480px){.floating-chat-container[_ngcontent-%COMP%]{bottom:10px;right:10px}.chat-window[_ngcontent-%COMP%]{width:calc(100vw - 30px);height:70vh;right:-5px;bottom:65px}.floating-chat-button[_ngcontent-%COMP%]{width:55px;height:55px;font-size:1.3rem}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideInUp{0%{transform:translateY(30px);opacity:0}to{transform:translateY(0);opacity:1}}.chat-window[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.connection-status[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s infinite}.message[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--primary-color);outline-offset:2px}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.reconnection-message[_ngcontent-%COMP%]{text-align:center;padding:1rem;color:var(--text-secondary);font-size:.9rem}.reconnection-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem}.reconnect-info[_ngcontent-%COMP%]{font-size:.7rem;opacity:.8}.reconnect-info[_ngcontent-%COMP%]{font-size:.7rem;opacity:.8;margin-left:.3rem}.reconnection-message[_ngcontent-%COMP%]{text-align:center;padding:.5rem;color:var(--text-secondary);font-size:.8rem;background:rgba(239,68,68,.1);border-radius:8px;margin-top:.5rem}.reconnection-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.connection-status.disconnected[_ngcontent-%COMP%]{background:rgba(239,68,68,.15)!important;border:1px solid rgba(239,68,68,.3)}.connection-status.connected[_ngcontent-%COMP%]{background:rgba(16,185,129,.15)!important;border:1px solid rgba(16,185,129,.3)}.validation-message[_ngcontent-%COMP%]{margin:-.5rem 0 1rem;text-align:center}.validation-message[_ngcontent-%COMP%]   .text-danger[_ngcontent-%COMP%]{color:#e74c3c;font-size:.8rem;font-weight:500}.modal-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none!important}.modal-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]:disabled:hover{box-shadow:none!important;transform:none!important}"],changeDetection:0})}return A})();var as=F(5455);function $s(A,h){1&A&&E.nrm(0,"i",13)}function ls(A,h){1&A&&E.nrm(0,"i",14)}function Ys(A,h){1&A&&E.nrm(0,"i",15)}function us(A,h){1&A&&E.nrm(0,"i",16)}function Zs(A,h){if(1&A){const c=E.RV6();E.j41(0,"button",17),E.bIt("click",function(){E.eBV(c);const O=E.XpG(2);return E.Njj(O.cancel())}),E.EFF(1),E.k0s()}if(2&A){const c=E.XpG(2);E.R7$(1),E.SpI(" ",c.config.cancelText||"Cancelar"," ")}}function Fi(A,h){if(1&A){const c=E.RV6();E.j41(0,"div",1),E.bIt("click",function(O){E.eBV(c);const V=E.XpG();return E.Njj(V.closeBackdrop(O))}),E.j41(1,"div",2)(2,"div",3)(3,"div",4),E.DNE(4,$s,1,0,"i",5),E.DNE(5,ls,1,0,"i",6),E.DNE(6,Ys,1,0,"i",7),E.DNE(7,us,1,0,"i",8),E.k0s(),E.j41(8,"h3"),E.EFF(9),E.k0s()(),E.j41(10,"div",9)(11,"p"),E.EFF(12),E.k0s()(),E.j41(13,"div",10),E.DNE(14,Zs,2,1,"button",11),E.j41(15,"button",12),E.bIt("click",function(){E.eBV(c);const O=E.XpG();return E.Njj(O.confirm())}),E.EFF(16),E.k0s()()()()}if(2&A){const c=E.XpG();E.Y8G("@fadeInOut",void 0),E.R7$(1),E.Y8G("@scaleIn",void 0),E.R7$(1),E.Y8G("ngClass",c.config.type||"info"),E.R7$(2),E.Y8G("ngIf","success"===c.config.type),E.R7$(1),E.Y8G("ngIf","warning"===c.config.type||"danger"===c.config.type),E.R7$(1),E.Y8G("ngIf","info"===c.config.type),E.R7$(1),E.Y8G("ngIf","confirm"===c.config.type),E.R7$(2),E.JRh(c.config.title),E.R7$(3),E.JRh(c.config.message),E.R7$(2),E.Y8G("ngIf",c.config.showCancel),E.R7$(1),E.Y8G("ngClass",c.config.type||"info"),E.R7$(1),E.SpI(" ",c.config.confirmText||"Aceptar"," ")}}let To=(()=>{class A{modalService;config=null;constructor(c){this.modalService=c}ngOnInit(){this.modalService.modalState$.subscribe(c=>{this.config=c})}confirm(){this.modalService.close(!0)}cancel(){this.modalService.close(!1)}closeBackdrop(c){c.target.classList.contains("modal-backdrop")&&(this.config?.showCancel?this.cancel():this.confirm())}static \u0275fac=function(b){return new(b||A)(E.rXU(as.B))};static \u0275cmp=E.VBU({type:A,selectors:[["app-modal"]],standalone:!0,features:[E.aNF],decls:1,vars:1,consts:[["class","modal-backdrop",3,"click",4,"ngIf"],[1,"modal-backdrop",3,"click"],[1,"modal-container"],[1,"modal-header",3,"ngClass"],[1,"icon-container"],["class","fas fa-check-circle",4,"ngIf"],["class","fas fa-exclamation-circle",4,"ngIf"],["class","fas fa-info-circle",4,"ngIf"],["class","fas fa-question-circle",4,"ngIf"],[1,"modal-body"],[1,"modal-footer"],["class","btn-cancel",3,"click",4,"ngIf"],[1,"btn-confirm",3,"ngClass","click"],[1,"fas","fa-check-circle"],[1,"fas","fa-exclamation-circle"],[1,"fas","fa-info-circle"],[1,"fas","fa-question-circle"],[1,"btn-cancel",3,"click"]],template:function(b,O){1&b&&E.DNE(0,Fi,17,12,"div",0),2&b&&E.Y8G("ngIf",O.config)},dependencies:[Mr.MD,Mr.YU,Mr.bT],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0009;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);z-index:100000;display:flex;align-items:center;justify-content:center;padding:1rem}.modal-container[_ngcontent-%COMP%]{background:#1e1e1e;background:linear-gradient(145deg,#252525,#1a1a1a);border:1px solid rgba(255,255,255,.1);border-radius:16px;width:100%;max-width:450px;box-shadow:0 20px 50px #00000080;overflow:hidden;color:#fff}.modal-header[_ngcontent-%COMP%]{padding:1.5rem;display:flex;flex-direction:column;align-items:center;text-align:center;border-bottom:1px solid rgba(255,255,255,.05)}.modal-header[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem}.modal-header[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{filter:drop-shadow(0 0 10px rgba(255,255,255,.2))}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:700}.modal-header.success[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .modal-header.success[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#1ed760}.modal-header.warning[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .modal-header.warning[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#ffca28}.modal-header.danger[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .modal-header.danger[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#ff5252}.modal-header.info[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .modal-header.info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#2196f3}.modal-header.confirm[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#1ed760}.modal-header.confirm[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff}.modal-body[_ngcontent-%COMP%]{padding:1.5rem;text-align:center}.modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;line-height:1.6;color:#e0e0e0;white-space:pre-line}.modal-footer[_ngcontent-%COMP%]{padding:1.5rem;display:flex;justify-content:center;gap:1rem;background-color:#0003}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.8rem 1.5rem;border-radius:50px;border:none;font-weight:600;font-size:1rem;cursor:pointer;transition:all .2s ease;min-width:120px}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #0000004d}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:translateY(0)}.modal-footer[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background-color:transparent;border:1px solid rgba(255,255,255,.2);color:#e0e0e0}.modal-footer[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;color:#fff}.modal-footer[_ngcontent-%COMP%]   .btn-confirm[_ngcontent-%COMP%]{color:#fff}.modal-footer[_ngcontent-%COMP%]   .btn-confirm.success[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-confirm.confirm[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1ed760,#16a34a);box-shadow:0 4px 15px #1ed7604d}.modal-footer[_ngcontent-%COMP%]   .btn-confirm.warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffca28,#ffb300);color:#000;box-shadow:0 4px 15px #ffca284d}.modal-footer[_ngcontent-%COMP%]   .btn-confirm.danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff5252,#d32f2f);box-shadow:0 4px 15px #ff52524d}.modal-footer[_ngcontent-%COMP%]   .btn-confirm.info[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2196f3,#1976d2);box-shadow:0 4px 15px #2196f34d}"],data:{animation:[qe("fadeInOut",[He(":enter",[Ze({opacity:0}),Lt("200ms ease-out",Ze({opacity:1}))]),He(":leave",[Lt("200ms ease-in",Ze({opacity:0}))])]),qe("scaleIn",[He(":enter",[Ze({transform:"scale(0.9)",opacity:0}),Lt("200ms cubic-bezier(0.25, 0.8, 0.25, 1)",Ze({transform:"scale(1)",opacity:1}))]),He(":leave",[Lt("150ms ease-in",Ze({transform:"scale(0.9)",opacity:0}))])])]}})}return A})();const mo=function(){return{exact:!0}};(0,u.B8)((()=>{class A{title="UPTC Music";isMenuOpen=!1;toggleMenu(){this.isMenuOpen=!this.isMenuOpen}static \u0275fac=function(b){return new(b||A)};static \u0275cmp=E.VBU({type:A,selectors:[["app-root"]],standalone:!0,features:[E.aNF],decls:50,vars:6,consts:[[1,"main-container"],[1,"main-header"],[1,"container","d-flex","justify-content-between","align-items-center"],[1,"logo-container"],["routerLink","/",1,"text-decoration-none","text-white","d-flex","align-items-center"],[1,"logo-icon"],[1,"fab","fa-spotify"],[1,"app-title","mb-0","ms-2"],[1,"hamburger-menu","d-md-none",3,"click"],[1,"fas",3,"ngClass"],[1,"main-nav"],["routerLink","/","routerLinkActive","active",3,"routerLinkActiveOptions","click"],[1,"fas","fa-home","me-1"],["routerLink","/buitres","routerLinkActive","active",3,"click"],[1,"fas","fa-user-friends","me-1"],["routerLink","/discussion","routerLinkActive","active",3,"click"],[1,"fas","fa-comments","me-1"],["routerLink","/ranking","routerLinkActive","active",3,"click"],[1,"fas","fa-trophy","me-1"],["routerLink","/about","routerLinkActive","active",3,"click"],[1,"fas","fa-info-circle","me-1"],["routerLink","/admin-login","routerLinkActive","active",3,"click"],[1,"fas","fa-lock","me-1"],[1,"content-area"],[1,"container"],[1,"now-playing-bar"],[1,"footer-content","text-center"],[1,"footer-text","mb-0"],[1,"footer-text","mb-1"],[1,"social-links"],["href","https://github.com/SebastianVega4","target","_blank"],[1,"fab","fa-github","me-1"],["href","https://www.linkedin.com/in/johan-sebastian-vega-ruiz-b1292011b/","target","_blank"],[1,"fab","fa-linkedin","me-1"],["href","https://www.instagram.com/sebastian.vegar/","target","_blank"],[1,"fab","fa-instagram","me-1"]],template:function(b,O){1&b&&(E.j41(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3)(4,"a",4)(5,"div",5),E.nrm(6,"i",6),E.k0s(),E.j41(7,"h1",7),E.EFF(8),E.k0s()()(),E.j41(9,"button",8),E.bIt("click",function(){return O.toggleMenu()}),E.nrm(10,"i",9),E.k0s(),E.j41(11,"nav",10)(12,"a",11),E.bIt("click",function(){return O.toggleMenu()}),E.nrm(13,"i",12),E.EFF(14,"Inicio "),E.k0s(),E.j41(15,"a",13),E.bIt("click",function(){return O.toggleMenu()}),E.nrm(16,"i",14),E.EFF(17,"Buitres "),E.k0s(),E.j41(18,"a",15),E.bIt("click",function(){return O.toggleMenu()}),E.nrm(19,"i",16),E.EFF(20,"Foro "),E.k0s(),E.j41(21,"a",17),E.bIt("click",function(){return O.toggleMenu()}),E.nrm(22,"i",18),E.EFF(23,"Ranking "),E.k0s(),E.j41(24,"a",19),E.bIt("click",function(){return O.toggleMenu()}),E.nrm(25,"i",20),E.EFF(26,"About "),E.k0s(),E.j41(27,"a",21),E.bIt("click",function(){return O.toggleMenu()}),E.nrm(28,"i",22),E.k0s()()()(),E.j41(29,"main",23)(30,"div",24),E.nrm(31,"router-outlet"),E.k0s()(),E.nrm(32,"app-floating-chat")(33,"app-modal"),E.k0s(),E.j41(34,"footer",25)(35,"div",26)(36,"p",27),E.EFF(37,"Desarrollado por:"),E.k0s(),E.j41(38,"p",28),E.EFF(39,"Estudiante de Ingenier\xeda de Sistemas - UPTC Sogamoso 2025-II"),E.k0s(),E.j41(40,"div",29)(41,"a",30),E.nrm(42,"i",31),E.EFF(43,"GitHub "),E.k0s(),E.j41(44,"a",32),E.nrm(45,"i",33),E.EFF(46,"LinkedIn "),E.k0s(),E.j41(47,"a",34),E.nrm(48,"i",35),E.EFF(49,"Instagram "),E.k0s()()()()),2&b&&(E.R7$(8),E.JRh(O.title),E.R7$(2),E.Y8G("ngClass",O.isMenuOpen?"fa-times":"fa-bars"),E.R7$(1),E.AVh("active",O.isMenuOpen),E.R7$(1),E.Y8G("routerLinkActiveOptions",E.lJ4(5,mo)))},dependencies:[G.iI,G.n3,G.Wk,G.wQ,Mr.MD,Mr.YU,os,To],styles:[".main-header[_ngcontent-%COMP%]{padding:0rem;background:var(--glass-bg);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border-bottom:1px solid rgba(255,255,255,.1);position:sticky;top:0;z-index:10000;box-shadow:0 4px 30px #0000004d}.logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.8rem}.logo-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,var(--primary-color) 0%,var(--accent-purple) 100%);display:flex;align-items:center;justify-content:center;box-shadow:0 0 15px #1db95466}.logo-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--text-primary)}.app-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;color:var(--text-primary);margin:0;letter-spacing:-.5px;background:linear-gradient(135deg,var(--text-primary) 0%,var(--primary-color) 100%);-webkit-text-fill-color:transparent;-webkit-background-clip:text;background-clip:text}.main-nav[_ngcontent-%COMP%]{display:flex;gap:1rem}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--text-secondary);text-decoration:none;font-weight:600;padding:.5rem 1rem;border-radius:50px;transition:all .3s ease;display:flex;align-items:center}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--text-primary);background:rgba(255,255,255,.05);transform:translateY(-2px)}.main-nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:var(--text-primary);background:rgba(29,185,84,.15);box-shadow:0 0 15px #1db95433}.main-nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color)}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem;transition:color .3s ease}.now-playing-bar[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border-top:1px solid rgba(255,255,255,.1);padding:1rem;color:var(--text-primary);display:flex;align-items:center;justify-content:center;position:relative;z-index:5}.footer-content[_ngcontent-%COMP%]{width:100%;text-align:center}.footer-text[_ngcontent-%COMP%]{font-size:.8rem;margin:.3rem 0;color:var(--text-secondary)}.social-links[_ngcontent-%COMP%]{margin-top:.5rem}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--text-secondary);text-decoration:none;margin:0 .8rem;font-size:.9rem;transition:all .3s ease;display:inline-flex;align-items:center}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--primary-color);transform:translateY(-2px)}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.3rem;font-size:1rem}@media (max-width: 768px){.main-header[_ngcontent-%COMP%]{padding:.8rem 1rem}.main-header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative}.main-header[_ngcontent-%COMP%]   .hamburger-menu[_ngcontent-%COMP%]{display:block;background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer;position:relative;z-index:10001}.main-header[_ngcontent-%COMP%]   .main-nav[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;width:100%;background-color:#0f0f0ffa;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);flex-direction:column;align-items:center;padding:1rem 0;display:none;z-index:10001;border-bottom:1px solid rgba(255,255,255,.1);gap:0}.main-header[_ngcontent-%COMP%]   .main-nav.active[_ngcontent-%COMP%]{display:flex}.main-header[_ngcontent-%COMP%]   .main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:100%;text-align:center;padding:1rem;margin:0;border-bottom:1px solid rgba(255,255,255,.05);border-radius:0}.main-header[_ngcontent-%COMP%]   .main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-child{border-bottom:none}.main-header[_ngcontent-%COMP%]   .main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;transform:none}.app-title[_ngcontent-%COMP%]{font-size:1.2rem}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:0 .5rem;font-size:.8rem}}@media (min-width: 769px){.hamburger-menu[_ngcontent-%COMP%]{display:none}.main-nav[_ngcontent-%COMP%]{display:flex!important}}"]})}return A})(),Yi).catch(A=>console.error(A))},5958:(ot,pe,F)=>{"use strict";var u=F(9293).default;Object.defineProperty(pe,"__esModule",{value:!0});const E=F(5215).__importDefault(F(4659));pe.default=class ge{constructor(H){var Q,ce;this.shouldThrowOnError=!1,this.method=H.method,this.url=H.url,this.headers=new Headers(H.headers),this.schema=H.schema,this.body=H.body,this.shouldThrowOnError=null!==(Q=H.shouldThrowOnError)&&void 0!==Q&&Q,this.signal=H.signal,this.isMaybeSingle=null!==(ce=H.isMaybeSingle)&&void 0!==ce&&ce,this.fetch=H.fetch?H.fetch:fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(H,Q){return this.headers=new Headers(this.headers),this.headers.set(H,Q),this}then(H,Q){var ce=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let me=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(function(){var oe=u(function*(Me){var Ye,je,qe,Lt;let dt=null,St=null,Ze=null,fn=Me.status,ze=Me.statusText;if(Me.ok){if("HEAD"!==ce.method){const Ae=yield Me.text();""===Ae||(St="text/csv"===ce.headers.get("Accept")||ce.headers.get("Accept")&&null!==(Ye=ce.headers.get("Accept"))&&void 0!==Ye&&Ye.includes("application/vnd.pgrst.plan+text")?Ae:JSON.parse(Ae))}const st=null===(je=ce.headers.get("Prefer"))||void 0===je?void 0:je.match(/count=(exact|planned|estimated)/),gt=null===(qe=Me.headers.get("content-range"))||void 0===qe?void 0:qe.split("/");st&&gt&&gt.length>1&&(Ze=parseInt(gt[1])),ce.isMaybeSingle&&"GET"===ce.method&&Array.isArray(St)&&(St.length>1?(dt={code:"PGRST116",details:`Results contain ${St.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},St=null,Ze=null,fn=406,ze="Not Acceptable"):St=1===St.length?St[0]:null)}else{const st=yield Me.text();try{dt=JSON.parse(st),Array.isArray(dt)&&404===Me.status&&(St=[],dt=null,fn=200,ze="OK")}catch{404===Me.status&&""===st?(fn=204,ze="No Content"):dt={message:st}}if(dt&&ce.isMaybeSingle&&!(null===(Lt=dt?.details)||void 0===Lt)&&Lt.includes("0 rows")&&(dt=null,fn=200,ze="OK"),dt&&ce.shouldThrowOnError)throw new E.default(dt)}return{error:dt,data:St,count:Ze,status:fn,statusText:ze}});return function(Me){return oe.apply(this,arguments)}}());return this.shouldThrowOnError||(me=me.catch(oe=>{var Me,Ye,je,qe,Lt,dt;let St="";const Ze=oe?.cause;if(Ze){const fn=null!==(Me=Ze?.message)&&void 0!==Me?Me:"",ze=null!==(Ye=Ze?.code)&&void 0!==Ye?Ye:"";St=`${null!==(je=oe?.name)&&void 0!==je?je:"FetchError"}: ${oe?.message}`,St+=`\n\nCaused by: ${null!==(qe=Ze?.name)&&void 0!==qe?qe:"Error"}: ${fn}`,ze&&(St+=` (${ze})`),Ze?.stack&&(St+=`\n${Ze.stack}`)}else St=null!==(Lt=oe?.stack)&&void 0!==Lt?Lt:"";return{error:{message:`${null!==(dt=oe?.name)&&void 0!==dt?dt:"FetchError"}: ${oe?.message}`,details:St,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),me.then(H,Q)}returns(){return this}overrideTypes(){return this}}},3242:(ot,pe,F)=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});const u=F(5215),G=u.__importDefault(F(8666)),E=u.__importDefault(F(3608));class ge{constructor(H,{headers:Q={},schema:ce,fetch:he}={}){this.url=H,this.headers=new Headers(Q),this.schemaName=ce,this.fetch=he}from(H){if(!H||"string"!=typeof H||""===H.trim())throw new Error("Invalid relation name: relation must be a non-empty string.");const Q=new URL(`${this.url}/${H}`);return new G.default(Q,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(H){return new ge(this.url,{headers:this.headers,schema:H,fetch:this.fetch})}rpc(H,Q={},{head:ce=!1,get:he=!1,count:me}={}){var oe;let Me;const Ye=new URL(`${this.url}/rpc/${H}`);let je;ce||he?(Me=ce?"HEAD":"GET",Object.entries(Q).filter(([Lt,dt])=>void 0!==dt).map(([Lt,dt])=>[Lt,Array.isArray(dt)?`{${dt.join(",")}}`:`${dt}`]).forEach(([Lt,dt])=>{Ye.searchParams.append(Lt,dt)})):(Me="POST",je=Q);const qe=new Headers(this.headers);return me&&qe.set("Prefer",`count=${me}`),new E.default({method:Me,url:Ye,headers:qe,schema:this.schemaName,body:je,fetch:null!==(oe=this.fetch)&&void 0!==oe?oe:fetch})}}pe.default=ge},4659:(ot,pe)=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});class F extends Error{constructor(G){super(G.message),this.name="PostgrestError",this.details=G.details,this.hint=G.hint,this.code=G.code}}pe.default=F},3608:(ot,pe,F)=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});const G=F(5215).__importDefault(F(3342)),E=new RegExp("[,()]");pe.default=class ge extends G.default{eq(H,Q){return this.url.searchParams.append(H,`eq.${Q}`),this}neq(H,Q){return this.url.searchParams.append(H,`neq.${Q}`),this}gt(H,Q){return this.url.searchParams.append(H,`gt.${Q}`),this}gte(H,Q){return this.url.searchParams.append(H,`gte.${Q}`),this}lt(H,Q){return this.url.searchParams.append(H,`lt.${Q}`),this}lte(H,Q){return this.url.searchParams.append(H,`lte.${Q}`),this}like(H,Q){return this.url.searchParams.append(H,`like.${Q}`),this}likeAllOf(H,Q){return this.url.searchParams.append(H,`like(all).{${Q.join(",")}}`),this}likeAnyOf(H,Q){return this.url.searchParams.append(H,`like(any).{${Q.join(",")}}`),this}ilike(H,Q){return this.url.searchParams.append(H,`ilike.${Q}`),this}ilikeAllOf(H,Q){return this.url.searchParams.append(H,`ilike(all).{${Q.join(",")}}`),this}ilikeAnyOf(H,Q){return this.url.searchParams.append(H,`ilike(any).{${Q.join(",")}}`),this}regexMatch(H,Q){return this.url.searchParams.append(H,`match.${Q}`),this}regexIMatch(H,Q){return this.url.searchParams.append(H,`imatch.${Q}`),this}is(H,Q){return this.url.searchParams.append(H,`is.${Q}`),this}isDistinct(H,Q){return this.url.searchParams.append(H,`isdistinct.${Q}`),this}in(H,Q){const ce=Array.from(new Set(Q)).map(he=>"string"==typeof he&&E.test(he)?`"${he}"`:`${he}`).join(",");return this.url.searchParams.append(H,`in.(${ce})`),this}contains(H,Q){return"string"==typeof Q?this.url.searchParams.append(H,`cs.${Q}`):Array.isArray(Q)?this.url.searchParams.append(H,`cs.{${Q.join(",")}}`):this.url.searchParams.append(H,`cs.${JSON.stringify(Q)}`),this}containedBy(H,Q){return"string"==typeof Q?this.url.searchParams.append(H,`cd.${Q}`):Array.isArray(Q)?this.url.searchParams.append(H,`cd.{${Q.join(",")}}`):this.url.searchParams.append(H,`cd.${JSON.stringify(Q)}`),this}rangeGt(H,Q){return this.url.searchParams.append(H,`sr.${Q}`),this}rangeGte(H,Q){return this.url.searchParams.append(H,`nxl.${Q}`),this}rangeLt(H,Q){return this.url.searchParams.append(H,`sl.${Q}`),this}rangeLte(H,Q){return this.url.searchParams.append(H,`nxr.${Q}`),this}rangeAdjacent(H,Q){return this.url.searchParams.append(H,`adj.${Q}`),this}overlaps(H,Q){return this.url.searchParams.append(H,"string"==typeof Q?`ov.${Q}`:`ov.{${Q.join(",")}}`),this}textSearch(H,Q,{config:ce,type:he}={}){let me="";return"plain"===he?me="pl":"phrase"===he?me="ph":"websearch"===he&&(me="w"),this.url.searchParams.append(H,`${me}fts${void 0===ce?"":`(${ce})`}.${Q}`),this}match(H){return Object.entries(H).forEach(([Q,ce])=>{this.url.searchParams.append(Q,`eq.${ce}`)}),this}not(H,Q,ce){return this.url.searchParams.append(H,`not.${Q}.${ce}`),this}or(H,{foreignTable:Q,referencedTable:ce=Q}={}){return this.url.searchParams.append(ce?`${ce}.or`:"or",`(${H})`),this}filter(H,Q,ce){return this.url.searchParams.append(H,`${Q}.${ce}`),this}}},8666:(ot,pe,F)=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});const G=F(5215).__importDefault(F(3608));pe.default=class E{constructor(re,{headers:H={},schema:Q,fetch:ce}){this.url=re,this.headers=new Headers(H),this.schema=Q,this.fetch=ce}select(re,H){const{head:Q=!1,count:ce}=H??{},he=Q?"HEAD":"GET";let me=!1;const oe=(re??"*").split("").map(Me=>/\s/.test(Me)&&!me?"":('"'===Me&&(me=!me),Me)).join("");return this.url.searchParams.set("select",oe),ce&&this.headers.append("Prefer",`count=${ce}`),new G.default({method:he,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(re,{count:H,defaultToNull:Q=!0}={}){var ce;if(H&&this.headers.append("Prefer",`count=${H}`),Q||this.headers.append("Prefer","missing=default"),Array.isArray(re)){const me=re.reduce((oe,Me)=>oe.concat(Object.keys(Me)),[]);if(me.length>0){const oe=[...new Set(me)].map(Me=>`"${Me}"`);this.url.searchParams.set("columns",oe.join(","))}}return new G.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:re,fetch:null!==(ce=this.fetch)&&void 0!==ce?ce:fetch})}upsert(re,{onConflict:H,ignoreDuplicates:Q=!1,count:ce,defaultToNull:he=!0}={}){var me;if(this.headers.append("Prefer",`resolution=${Q?"ignore":"merge"}-duplicates`),void 0!==H&&this.url.searchParams.set("on_conflict",H),ce&&this.headers.append("Prefer",`count=${ce}`),he||this.headers.append("Prefer","missing=default"),Array.isArray(re)){const Me=re.reduce((Ye,je)=>Ye.concat(Object.keys(je)),[]);if(Me.length>0){const Ye=[...new Set(Me)].map(je=>`"${je}"`);this.url.searchParams.set("columns",Ye.join(","))}}return new G.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:re,fetch:null!==(me=this.fetch)&&void 0!==me?me:fetch})}update(re,{count:H}={}){var Q;return H&&this.headers.append("Prefer",`count=${H}`),new G.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:re,fetch:null!==(Q=this.fetch)&&void 0!==Q?Q:fetch})}delete({count:re}={}){var H;return re&&this.headers.append("Prefer",`count=${re}`),new G.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(H=this.fetch)&&void 0!==H?H:fetch})}}},3342:(ot,pe,F)=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});const G=F(5215).__importDefault(F(5958));pe.default=class E extends G.default{select(re){let H=!1;const Q=(re??"*").split("").map(ce=>/\s/.test(ce)&&!H?"":('"'===ce&&(H=!H),ce)).join("");return this.url.searchParams.set("select",Q),this.headers.append("Prefer","return=representation"),this}order(re,{ascending:H=!0,nullsFirst:Q,foreignTable:ce,referencedTable:he=ce}={}){const me=he?`${he}.order`:"order",oe=this.url.searchParams.get(me);return this.url.searchParams.set(me,`${oe?`${oe},`:""}${re}.${H?"asc":"desc"}${void 0===Q?"":Q?".nullsfirst":".nullslast"}`),this}limit(re,{foreignTable:H,referencedTable:Q=H}={}){return this.url.searchParams.set(typeof Q>"u"?"limit":`${Q}.limit`,`${re}`),this}range(re,H,{foreignTable:Q,referencedTable:ce=Q}={}){const me=typeof ce>"u"?"limit":`${ce}.limit`;return this.url.searchParams.set(typeof ce>"u"?"offset":`${ce}.offset`,`${re}`),this.url.searchParams.set(me,""+(H-re+1)),this}abortSignal(re){return this.signal=re,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.headers.set("Accept","GET"===this.method?"application/json":"application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:re=!1,verbose:H=!1,settings:Q=!1,buffers:ce=!1,wal:he=!1,format:me="text"}={}){var oe;const Me=[re?"analyze":null,H?"verbose":null,Q?"settings":null,ce?"buffers":null,he?"wal":null].filter(Boolean).join("|"),Ye=null!==(oe=this.headers.get("Accept"))&&void 0!==oe?oe:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${me}; for="${Ye}"; options=${Me};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(re){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${re}`),this}}},4060:(ot,pe,F)=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0}),pe.PostgrestError=pe.PostgrestBuilder=pe.PostgrestTransformBuilder=pe.PostgrestFilterBuilder=pe.PostgrestQueryBuilder=pe.PostgrestClient=void 0;const u=F(5215),G=u.__importDefault(F(3242));pe.PostgrestClient=G.default;const E=u.__importDefault(F(8666));pe.PostgrestQueryBuilder=E.default;const ge=u.__importDefault(F(3608));pe.PostgrestFilterBuilder=ge.default;const re=u.__importDefault(F(3342));pe.PostgrestTransformBuilder=re.default;const H=u.__importDefault(F(5958));pe.PostgrestBuilder=H.default;const Q=u.__importDefault(F(4659));pe.PostgrestError=Q.default,pe.default={PostgrestClient:G.default,PostgrestQueryBuilder:E.default,PostgrestFilterBuilder:ge.default,PostgrestTransformBuilder:re.default,PostgrestBuilder:H.default,PostgrestError:Q.default}},5321:(ot,pe,F)=>{"use strict";F.d(pe,{UU:()=>Bt});var u=F(467),G=F(5215);class ge extends Error{constructor(a,o="FunctionsError",l){super(a),this.name=o,this.context=l}}class re extends ge{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class H extends ge{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class Q extends ge{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var ce=function(m){return m.Any="any",m.ApNortheast1="ap-northeast-1",m.ApNortheast2="ap-northeast-2",m.ApSouth1="ap-south-1",m.ApSoutheast1="ap-southeast-1",m.ApSoutheast2="ap-southeast-2",m.CaCentral1="ca-central-1",m.EuCentral1="eu-central-1",m.EuWest1="eu-west-1",m.EuWest2="eu-west-2",m.EuWest3="eu-west-3",m.SaEast1="sa-east-1",m.UsEast1="us-east-1",m.UsWest1="us-west-1",m.UsWest2="us-west-2",m}(ce||{});class he{constructor(a,{headers:o={},customFetch:l,region:_=ce.Any}={}){var m;this.url=a,this.headers=o,this.region=_,this.fetch=(m=l)?(...a)=>m(...a):(...a)=>fetch(...a)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return(0,G.__awaiter)(this,arguments,void 0,function*(o,l={}){var _;let M,x;try{const{headers:R,method:B,body:K,signal:Z,timeout:be}=l;let ke={},{region:Ge}=l;Ge||(Ge=this.region);const Fe=new URL(`${this.url}/${o}`);let Se;Ge&&"any"!==Ge&&(ke["x-region"]=Ge,Fe.searchParams.set("forceFunctionRegion",Ge)),K&&(R&&!Object.prototype.hasOwnProperty.call(R,"Content-Type")||!R)?typeof Blob<"u"&&K instanceof Blob||K instanceof ArrayBuffer?(ke["Content-Type"]="application/octet-stream",Se=K):"string"==typeof K?(ke["Content-Type"]="text/plain",Se=K):typeof FormData<"u"&&K instanceof FormData?Se=K:(ke["Content-Type"]="application/json",Se=JSON.stringify(K)):Se=K;let Le=Z;be&&(x=new AbortController,M=setTimeout(()=>x.abort(),be),Z?(Le=x.signal,Z.addEventListener("abort",()=>x.abort())):Le=x.signal);const Ve=yield this.fetch(Fe.toString(),{method:B||"POST",headers:Object.assign(Object.assign(Object.assign({},ke),this.headers),R),body:Se,signal:Le}).catch(We=>{throw new re(We)}),pt=Ve.headers.get("x-relay-error");if(pt&&"true"===pt)throw new H(Ve);if(!Ve.ok)throw new Q(Ve);let de,Ut=(null!==(_=Ve.headers.get("Content-Type"))&&void 0!==_?_:"text/plain").split(";")[0].trim();return de="application/json"===Ut?yield Ve.json():"application/octet-stream"===Ut||"application/pdf"===Ut?yield Ve.blob():"text/event-stream"===Ut?Ve:"multipart/form-data"===Ut?yield Ve.formData():yield Ve.text(),{data:de,error:null,response:Ve}}catch(R){return{data:null,error:R,response:R instanceof Q||R instanceof H?R.context:void 0}}finally{M&&clearTimeout(M)}})}}var me=F(4060),oe=F.t(me,2);const{PostgrestClient:Me}=me||oe,fn=class Ze{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&null!==(a=navigator.userAgent)&&void 0!==a&&a.includes("Vercel-Edge"))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const o=process.versions;if(o&&o.node){const _=parseInt(o.node.replace(/^v/,"").split(".")[0]);return _>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${_} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${_} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let o=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(o+=`\n\nSuggested solution: ${a.workaround}`),new Error(o)}static createWebSocket(a,o){return new(this.getWebSocketConstructor())(a,o)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return"native"===a.type||"ws"===a.type}catch{return!1}}};var Je=function(m){return m[m.connecting=0]="connecting",m[m.open=1]="open",m[m.closing=2]="closing",m[m.closed=3]="closed",m}(Je||{}),wt=function(m){return m.closed="closed",m.errored="errored",m.joined="joined",m.joining="joining",m.leaving="leaving",m}(wt||{}),rt=function(m){return m.close="phx_close",m.error="phx_error",m.join="phx_join",m.reply="phx_reply",m.leave="phx_leave",m.access_token="access_token",m}(rt||{}),Nt=function(m){return m.websocket="websocket",m}(Nt||{}),gr=function(m){return m.Connecting="connecting",m.Open="open",m.Closing="closing",m.Closed="closed",m}(gr||{});class sr{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,o){return a.event!==this.BROADCAST_EVENT||a.payload instanceof ArrayBuffer||"string"!=typeof a.payload.event?o(JSON.stringify([a.join_ref,a.ref,a.topic,a.event,a.payload])):o(this._binaryEncodeUserBroadcastPush(a))}_binaryEncodeUserBroadcastPush(a){var o;return this._isArrayBuffer(null===(o=a.payload)||void 0===o?void 0:o.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var o,l;const _=null!==(l=null===(o=a.payload)||void 0===o?void 0:o.payload)&&void 0!==l?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,_)}_encodeJsonUserBroadcastPush(a){var o,l;const _=null!==(l=null===(o=a.payload)||void 0===o?void 0:o.payload)&&void 0!==l?l:{},x=(new TextEncoder).encode(JSON.stringify(_)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,x)}_encodeUserBroadcastPush(a,o,l){var _,M;const x=a.topic,R=null!==(_=a.ref)&&void 0!==_?_:"",B=null!==(M=a.join_ref)&&void 0!==M?M:"",K=a.payload.event,Z=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},be=0===Object.keys(Z).length?"":JSON.stringify(Z);if(B.length>255)throw new Error(`joinRef length ${B.length} exceeds maximum of 255`);if(R.length>255)throw new Error(`ref length ${R.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`topic length ${x.length} exceeds maximum of 255`);if(K.length>255)throw new Error(`userEvent length ${K.length} exceeds maximum of 255`);if(be.length>255)throw new Error(`metadata length ${be.length} exceeds maximum of 255`);const Ge=new ArrayBuffer(this.HEADER_LENGTH+(this.USER_BROADCAST_PUSH_META_LENGTH+B.length+R.length+x.length+K.length+be.length));let Fe=new DataView(Ge),Se=0;Fe.setUint8(Se++,this.KINDS.userBroadcastPush),Fe.setUint8(Se++,B.length),Fe.setUint8(Se++,R.length),Fe.setUint8(Se++,x.length),Fe.setUint8(Se++,K.length),Fe.setUint8(Se++,be.length),Fe.setUint8(Se++,o),Array.from(B,Ve=>Fe.setUint8(Se++,Ve.charCodeAt(0))),Array.from(R,Ve=>Fe.setUint8(Se++,Ve.charCodeAt(0))),Array.from(x,Ve=>Fe.setUint8(Se++,Ve.charCodeAt(0))),Array.from(K,Ve=>Fe.setUint8(Se++,Ve.charCodeAt(0))),Array.from(be,Ve=>Fe.setUint8(Se++,Ve.charCodeAt(0)));var Le=new Uint8Array(Ge.byteLength+l.byteLength);return Le.set(new Uint8Array(Ge),0),Le.set(new Uint8Array(l),Ge.byteLength),Le.buffer}decode(a,o){if(this._isArrayBuffer(a))return o(this._binaryDecode(a));if("string"==typeof a){const l=JSON.parse(a),[_,M,x,R,B]=l;return o({join_ref:_,ref:M,topic:x,event:R,payload:B})}return o({})}_binaryDecode(a){const o=new DataView(a),l=o.getUint8(0),_=new TextDecoder;if(l===this.KINDS.userBroadcast)return this._decodeUserBroadcast(a,o,_)}_decodeUserBroadcast(a,o,l){const _=o.getUint8(1),M=o.getUint8(2),x=o.getUint8(3),R=o.getUint8(4);let B=this.HEADER_LENGTH+4;const K=l.decode(a.slice(B,B+_));B+=_;const Z=l.decode(a.slice(B,B+M));B+=M;const be=l.decode(a.slice(B,B+x));B+=x;const ke=a.slice(B,a.byteLength),Ge=R===this.JSON_ENCODING?JSON.parse(l.decode(ke)):ke,Fe={type:this.BROADCAST_EVENT,event:Z,payload:Ge};return x>0&&(Fe.meta=JSON.parse(be)),{join_ref:null,ref:null,topic:K,event:this.BROADCAST_EVENT,payload:Fe}}_isArrayBuffer(a){var o;return a instanceof ArrayBuffer||"ArrayBuffer"===(null===(o=a?.constructor)||void 0===o?void 0:o.name)}_pick(a,o){return a&&"object"==typeof a?Object.fromEntries(Object.entries(a).filter(([l])=>o.includes(l))):{}}}class Tn{constructor(a,o){this.callback=a,this.timerCalc=o,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=o}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var $t=function(m){return m.abstime="abstime",m.bool="bool",m.date="date",m.daterange="daterange",m.float4="float4",m.float8="float8",m.int2="int2",m.int4="int4",m.int4range="int4range",m.int8="int8",m.int8range="int8range",m.json="json",m.jsonb="jsonb",m.money="money",m.numeric="numeric",m.oid="oid",m.reltime="reltime",m.text="text",m.time="time",m.timestamp="timestamp",m.timestamptz="timestamptz",m.timetz="timetz",m.tsrange="tsrange",m.tstzrange="tstzrange",m}($t||{});const le=(m,a,o={})=>{var l;const _=null!==(l=o.skipTypes)&&void 0!==l?l:[];return a?Object.keys(a).reduce((M,x)=>(M[x]=ye(x,m,a,_),M),{}):{}},ye=(m,a,o,l)=>{const _=a.find(R=>R.name===m),M=_?.type,x=o[m];return M&&!l.includes(M)?we(M,x):Oe(x)},we=(m,a)=>{if("_"===m.charAt(0)){const o=m.slice(1,m.length);return un(a,o)}switch(m){case $t.bool:return $e(a);case $t.float4:case $t.float8:case $t.int2:case $t.int4:case $t.int8:case $t.numeric:case $t.oid:return Xe(a);case $t.json:case $t.jsonb:return _t(a);case $t.timestamp:return kn(a);default:return Oe(a)}},Oe=m=>m,$e=m=>{switch(m){case"t":return!0;case"f":return!1;default:return m}},Xe=m=>{if("string"==typeof m){const a=parseFloat(m);if(!Number.isNaN(a))return a}return m},_t=m=>{if("string"==typeof m)try{return JSON.parse(m)}catch(a){return console.log(`JSON parse error: ${a}`),m}return m},un=(m,a)=>{if("string"!=typeof m)return m;const o=m.length-1;if("{"===m[0]&&"}"===m[o]){let M;const x=m.slice(1,o);try{M=JSON.parse("["+x+"]")}catch{M=x?x.split(","):[]}return M.map(R=>we(a,R))}return m},kn=m=>"string"==typeof m?m.replace(" ","T"):m,At=m=>{const a=new URL(m);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname=""===a.pathname||"/"===a.pathname?"/api/broadcast":a.pathname+"/api/broadcast",a.href};class gn{constructor(a,o,l={},_=1e4){this.channel=a,this.event=o,this.payload=l,this.timeout=_,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,o){var l;return this._hasReceived(a)&&o(null===(l=this.receivedResp)||void 0===l?void 0:l.response),this.recHooks.push({status:a,callback:o}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},o=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=o,this._matchReceive(o)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(a,o){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:o})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:o}){this.recHooks.filter(l=>l.status===a).forEach(l=>l.callback(o))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}class er{constructor(a,o){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=o?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},_=>{const{onJoin:M,onLeave:x,onSync:R}=this.caller;this.joinRef=this.channel._joinRef(),this.state=er.syncState(this.state,_,M,x),this.pendingDiffs.forEach(B=>{this.state=er.syncDiff(this.state,B,M,x)}),this.pendingDiffs=[],R()}),this.channel._on(l.diff,{},_=>{const{onJoin:M,onLeave:x,onSync:R}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(_):(this.state=er.syncDiff(this.state,_,M,x),R())}),this.onJoin((_,M,x)=>{this.channel._trigger("presence",{event:"join",key:_,currentPresences:M,newPresences:x})}),this.onLeave((_,M,x)=>{this.channel._trigger("presence",{event:"leave",key:_,currentPresences:M,leftPresences:x})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,o,l,_){const M=this.cloneDeep(a),x=this.transformState(o),R={},B={};return this.map(M,(K,Z)=>{x[K]||(B[K]=Z)}),this.map(x,(K,Z)=>{const be=M[K];if(be){const ke=Z.map(Le=>Le.presence_ref),Ge=be.map(Le=>Le.presence_ref),Fe=Z.filter(Le=>Ge.indexOf(Le.presence_ref)<0),Se=be.filter(Le=>ke.indexOf(Le.presence_ref)<0);Fe.length>0&&(R[K]=Fe),Se.length>0&&(B[K]=Se)}else R[K]=Z}),this.syncDiff(M,{joins:R,leaves:B},l,_)}static syncDiff(a,o,l,_){const{joins:M,leaves:x}={joins:this.transformState(o.joins),leaves:this.transformState(o.leaves)};return l||(l=()=>{}),_||(_=()=>{}),this.map(M,(R,B)=>{var K;const Z=null!==(K=a[R])&&void 0!==K?K:[];if(a[R]=this.cloneDeep(B),Z.length>0){const be=a[R].map(Ge=>Ge.presence_ref),ke=Z.filter(Ge=>be.indexOf(Ge.presence_ref)<0);a[R].unshift(...ke)}l(R,Z,B)}),this.map(x,(R,B)=>{let K=a[R];if(!K)return;const Z=B.map(be=>be.presence_ref);K=K.filter(be=>Z.indexOf(be.presence_ref)<0),a[R]=K,_(R,K,B),0===K.length&&delete a[R]}),a}static map(a,o){return Object.getOwnPropertyNames(a).map(l=>o(l,a[l]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((o,l)=>{const _=a[l];return o[l]="metas"in _?_.metas.map(M=>(M.presence_ref=M.phx_ref,delete M.phx_ref,delete M.phx_ref_prev,M)):_,o},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var at=function(m){return m.BROADCAST="broadcast",m.PRESENCE="presence",m.POSTGRES_CHANGES="postgres_changes",m.SYSTEM="system",m}(at||{}),ht=function(m){return m.SUBSCRIBED="SUBSCRIBED",m.TIMED_OUT="TIMED_OUT",m.CLOSED="CLOSED",m.CHANNEL_ERROR="CHANNEL_ERROR",m}(ht||{});class Cn{constructor(a,o={config:{}},l){var _,M;if(this.topic=a,this.params=o,this.socket=l,this.bindings={},this.state=wt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},o.config),this.timeout=this.socket.timeout,this.joinPush=new gn(this,rt.join,this.params,this.timeout),this.rejoinTimer=new Tn(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=wt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(x=>x.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=wt.closed,this.socket._remove(this)}),this._onError(x=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,x),this.state=wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",x=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,x),this.state=wt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rt.reply,{},(x,R)=>{this._trigger(this._replyEventName(R),x)}),this.presence=new er(this),this.broadcastEndpointURL=At(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&null!==(M=null===(_=this.params.config)||void 0===_?void 0:_.broadcast)&&void 0!==M&&M.replay)throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,o=this.timeout){var _,M,x,l=this;if(this.socket.isConnected()||this.socket.connect(),this.state==wt.closed){const{config:{broadcast:R,presence:B,private:K}}=this.params,Z=null!==(M=null===(_=this.bindings.postgres_changes)||void 0===_?void 0:_.map(Fe=>Fe.filter))&&void 0!==M?M:[],be=!!this.bindings[at.PRESENCE]&&this.bindings[at.PRESENCE].length>0||!0===(null===(x=this.params.config.presence)||void 0===x?void 0:x.enabled),ke={},Ge={broadcast:R,presence:Object.assign(Object.assign({},B),{enabled:be}),postgres_changes:Z,private:K};this.socket.accessTokenValue&&(ke.access_token=this.socket.accessTokenValue),this._onError(Fe=>a?.(ht.CHANNEL_ERROR,Fe)),this._onClose(()=>a?.(ht.CLOSED)),this.updateJoinPayload(Object.assign({config:Ge},ke)),this.joinedOnce=!0,this._rejoin(o),this.joinPush.receive("ok",function(){var Fe=(0,u.A)(function*({postgres_changes:Se}){var Le;if(l.socket.setAuth(),void 0!==Se){const Ve=l.bindings.postgres_changes,pt=null!==(Le=Ve?.length)&&void 0!==Le?Le:0,Ut=[];for(let de=0;de<pt;de++){const We=Ve[de],{filter:{event:Dn,schema:_n,table:Gt,filter:yr}}=We,Vn=Se&&Se[de];if(!Vn||Vn.event!==Dn||Vn.schema!==_n||Vn.table!==Gt||Vn.filter!==yr)return l.unsubscribe(),l.state=wt.errored,void a?.(ht.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));Ut.push(Object.assign(Object.assign({},We),{id:Vn.id}))}return l.bindings.postgres_changes=Ut,void(a&&a(ht.SUBSCRIBED))}a?.(ht.SUBSCRIBED)});return function(Se){return Fe.apply(this,arguments)}}()).receive("error",Fe=>{this.state=wt.errored,a?.(ht.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(Fe).join(", ")||"error")))}).receive("timeout",()=>{a?.(ht.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(a){var o=this;return(0,u.A)(function*(l,_={}){return yield o.send({type:"presence",event:"track",payload:l},_.timeout||o.timeout)}).apply(this,arguments)}untrack(){var a=this;return(0,u.A)(function*(o={}){return yield a.send({type:"presence",event:"untrack"},o)}).apply(this,arguments)}on(a,o,l){return this.state===wt.joined&&a===at.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(a,o,l)}httpSend(a,o){var l=this;return(0,u.A)(function*(_,M,x={}){var R;const B=l.socket.accessTokenValue?`Bearer ${l.socket.accessTokenValue}`:"";if(null==M)return Promise.reject("Payload is required for httpSend()");const K={method:"POST",headers:{Authorization:B,apikey:l.socket.apiKey?l.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:l.subTopic,event:_,payload:M,private:l.private}]})},Z=yield l._fetchWithTimeout(l.broadcastEndpointURL,K,null!==(R=x.timeout)&&void 0!==R?R:l.timeout);if(202===Z.status)return{success:!0};let be=Z.statusText;try{const ke=yield Z.json();be=ke.error||ke.message||be}catch{}return Promise.reject(new Error(be))}).apply(this,arguments)}send(a){var o=this;return(0,u.A)(function*(l,_={}){var M,x;if(o._canPush()||"broadcast"!==l.type)return new Promise(R=>{var B,K,Z;const be=o._push(l.type,l,_.timeout||o.timeout);"broadcast"===l.type&&!(null!==(Z=null===(K=null===(B=o.params)||void 0===B?void 0:B.config)||void 0===K?void 0:K.broadcast)&&void 0!==Z&&Z.ack)&&R("ok"),be.receive("ok",()=>R("ok")),be.receive("error",()=>R("error")),be.receive("timeout",()=>R("timed out"))});{console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:R,payload:B}=l,Z={method:"POST",headers:{Authorization:o.socket.accessTokenValue?`Bearer ${o.socket.accessTokenValue}`:"",apikey:o.socket.apiKey?o.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:o.subTopic,event:R,payload:B,private:o.private}]})};try{const be=yield o._fetchWithTimeout(o.broadcastEndpointURL,Z,null!==(M=_.timeout)&&void 0!==M?M:o.timeout);return yield null===(x=be.body)||void 0===x?void 0:x.cancel(),be.ok?"ok":"error"}catch(be){return"AbortError"===be.name?"timed out":"error"}}}).apply(this,arguments)}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=wt.leaving;const o=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rt.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(_=>{l=new gn(this,rt.leave,{},a),l.receive("ok",()=>{o(),_("ok")}).receive("timeout",()=>{o(),_("timed out")}).receive("error",()=>{_("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=wt.closed,this.bindings={}}_fetchWithTimeout(a,o,l){var _=this;return(0,u.A)(function*(){const M=new AbortController,x=setTimeout(()=>M.abort(),l),R=yield _.socket.fetch(a,Object.assign(Object.assign({},o),{signal:M.signal}));return clearTimeout(x),R})()}_push(a,o,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let _=new gn(this,a,o,l);return this._canPush()?_.send():this._addToPushBuffer(_),_}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>100){const o=this.pushBuffer.shift();o&&(o.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${o.event}`,o.payload))}}_onMessage(a,o,l){return o}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,o,l){var _,M;const x=a.toLocaleLowerCase(),{close:R,error:B,leave:K,join:Z}=rt;if(l&&[R,B,K,Z].indexOf(x)>=0&&l!==this._joinRef())return;let ke=this._onMessage(x,o,l);if(o&&!ke)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(x)?null===(_=this.bindings.postgres_changes)||void 0===_||_.filter(Ge=>{var Fe,Se,Le;return"*"===(null===(Fe=Ge.filter)||void 0===Fe?void 0:Fe.event)||(null===(Le=null===(Se=Ge.filter)||void 0===Se?void 0:Se.event)||void 0===Le?void 0:Le.toLocaleLowerCase())===x}).map(Ge=>Ge.callback(ke,l)):null===(M=this.bindings[x])||void 0===M||M.filter(Ge=>{var Fe,Se,Le,Ve,pt,Ut;if(["broadcast","presence","postgres_changes"].includes(x)){if("id"in Ge){const de=Ge.id,We=null===(Fe=Ge.filter)||void 0===Fe?void 0:Fe.event;return de&&(null===(Se=o.ids)||void 0===Se?void 0:Se.includes(de))&&("*"===We||We?.toLocaleLowerCase()===(null===(Le=o.data)||void 0===Le?void 0:Le.type.toLocaleLowerCase()))}{const de=null===(pt=null===(Ve=Ge?.filter)||void 0===Ve?void 0:Ve.event)||void 0===pt?void 0:pt.toLocaleLowerCase();return"*"===de||de===(null===(Ut=o?.event)||void 0===Ut?void 0:Ut.toLocaleLowerCase())}}return Ge.type.toLocaleLowerCase()===x}).map(Ge=>{if("object"==typeof ke&&"ids"in ke){const Fe=ke.data,{schema:Se,table:Le,commit_timestamp:Ve,type:pt,errors:Ut}=Fe;ke=Object.assign(Object.assign({},{schema:Se,table:Le,commit_timestamp:Ve,eventType:pt,new:{},old:{},errors:Ut}),this._getPayloadRecords(Fe))}Ge.callback(ke,l)})}_isClosed(){return this.state===wt.closed}_isJoined(){return this.state===wt.joined}_isJoining(){return this.state===wt.joining}_isLeaving(){return this.state===wt.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,o,l){const _=a.toLocaleLowerCase(),M={type:_,filter:o,callback:l};return this.bindings[_]?this.bindings[_].push(M):this.bindings[_]=[M],this}_off(a,o){const l=a.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(_=>{var M;return!((null===(M=_.type)||void 0===M?void 0:M.toLocaleLowerCase())===l&&Cn.isEqual(_.filter,o))})),this}static isEqual(a,o){if(Object.keys(a).length!==Object.keys(o).length)return!1;for(const l in a)if(a[l]!==o[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(rt.close,{},a)}_onError(a){this._on(rt.error,{},o=>a(o))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=wt.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const o={new:{},old:{}};return("INSERT"===a.type||"UPDATE"===a.type)&&(o.new=le(a.columns,a.record)),("UPDATE"===a.type||"DELETE"===a.type)&&(o.old=le(a.columns,a.old_record)),o}}const Kt=()=>{},bs=[1e3,2e3,5e3,1e4];class qt{constructor(a,o){var l;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.transport=null,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Kt,this.ref=0,this.reconnectTimer=null,this.vsn="1.0.0",this.logger=Kt,this.conn=null,this.sendBuffer=[],this.serializer=new sr,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=_=>_?(...M)=>_(...M):(...M)=>fetch(...M),null===(l=o?.params)||void 0===l||!l.apikey)throw new Error("API key is required to connect to Realtime");this.apiKey=o.params.apikey,this.endPoint=`${a}/${Nt.websocket}`,this.httpEndpoint=At(a),this._initializeOptions(o),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(o?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=fn.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const o=a.message;throw o.includes("Node.js")?new Error(`${o}\n\nTo use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })`):new Error(`WebSocket not available: ${o}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,o){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},"function"==typeof this.conn.close&&(a?this.conn.close(a,o??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(a){var o=this;return(0,u.A)(function*(){const l=yield a.unsubscribe();return 0===o.channels.length&&o.disconnect(),l})()}removeAllChannels(){var a=this;return(0,u.A)(function*(){const o=yield Promise.all(a.channels.map(l=>l.unsubscribe()));return a.channels=[],a.disconnect(),o})()}log(a,o,l){this.logger(a,o,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Je.connecting:return gr.Connecting;case Je.open:return gr.Open;case Je.closing:return gr.Closing;default:return gr.Closed}}isConnected(){return this.connectionState()===gr.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(a,o={config:{}}){const l=`realtime:${a}`,_=this.getChannels().find(M=>M.topic===l);if(_)return _;{const M=new Cn(`realtime:${a}`,o,this);return this.channels.push(M),M}}push(a){const{topic:o,event:l,payload:_,ref:M}=a,x=()=>{this.encode(a,R=>{var B;null===(B=this.conn)||void 0===B||B.send(R)})};this.log("push",`${o} ${l} (${M})`,_),this.isConnected()?x():this.sendBuffer.push(x)}setAuth(){var a=this;return(0,u.A)(function*(o=null){a._authPromise=a._performAuth(o);try{yield a._authPromise}finally{a._authPromise=null}}).apply(this,arguments)}sendHeartbeat(){var a=this;return(0,u.A)(function*(){var o;if(a.isConnected()){if(a.pendingHeartbeatRef){a.pendingHeartbeatRef=null,a.log("transport","heartbeat timeout. Attempting to re-establish connection");try{a.heartbeatCallback("timeout")}catch(l){a.log("error","error in heartbeat callback",l)}return a._wasManualDisconnect=!1,null===(o=a.conn)||void 0===o||o.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var l;a.isConnected()||null===(l=a.reconnectTimer)||void 0===l||l.scheduleTimeout()},100)}a.pendingHeartbeatRef=a._makeRef(),a.push({topic:"phoenix",event:"heartbeat",payload:{},ref:a.pendingHeartbeatRef});try{a.heartbeatCallback("sent")}catch(l){a.log("error","error in heartbeat callback",l)}a._setAuthSafely("heartbeat")}else try{a.heartbeatCallback("disconnected")}catch(l){a.log("error","error in heartbeat callback",l)}})()}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return this.ref=a===this.ref?0:a,this.ref.toString()}_leaveOpenTopic(a){let o=this.channels.find(l=>l.topic===a&&(l._isJoined()||l._isJoining()));o&&(this.log("transport",`leaving duplicate topic "${a}"`),o.unsubscribe())}_remove(a){this.channels=this.channels.filter(o=>o.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,o=>{if("phoenix"===o.topic&&"phx_reply"===o.event)try{this.heartbeatCallback("ok"===o.payload.status?"ok":"error")}catch(K){this.log("error","error in heartbeat callback",K)}o.ref&&o.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:_,payload:M,ref:x}=o;this.log("receive",`${M.status||""} ${l} ${_} ${x?`(${x})`:""}`.trim(),M),this.channels.filter(K=>K._isMember(l)).forEach(K=>K._trigger(_,M,x)),this._triggerStateCallbacks("message",o)})}_clearTimer(a){var o;"heartbeat"===a&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===a&&(null===(o=this.reconnectTimer)||void 0===o||o.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Je.open||this.conn.readyState===Je.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(o=>{this.log("error","error waiting for auth on connect",o),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.log("worker",this.workerUrl?`starting worker for from ${this.workerUrl}`:"starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=o=>{this.log("worker","worker error",o.message),this.workerRef.terminate()},this.workerRef.onmessage=o=>{"keepAlive"===o.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(a){var o;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(o=this.reconnectTimer)||void 0===o||o.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(rt.error))}_appendParams(a,o){if(0===Object.keys(o).length)return a;const l=a.match(/\?/)?"&":"?";return`${a}${l}${new URLSearchParams(o)}`}_workerObjectUrl(a){let o;if(a)o=a;else{const l=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});o=URL.createObjectURL(l)}return o}_setConnectionState(a,o=!1){this._connectionState=a,"connecting"===a?this._wasManualDisconnect=!1:"disconnecting"===a&&(this._wasManualDisconnect=o)}_performAuth(){var a=this;return(0,u.A)(function*(o=null){let l;l=o||(a.accessToken?yield a.accessToken():a.accessTokenValue),a.accessTokenValue!=l&&(a.accessTokenValue=l,a.channels.forEach(_=>{l&&_.updateJoinPayload({access_token:l,version:"realtime-js/2.86.0"}),_.joinedOnce&&_._isJoined()&&_._push(rt.access_token,{access_token:l})}))}).apply(this,arguments)}_waitForAuthIfNeeded(){var a=this;return(0,u.A)(function*(){a._authPromise&&(yield a._authPromise)})()}_setAuthSafely(a="general"){this.setAuth().catch(o=>{this.log("error",`error setting auth in ${a}`,o)})}_triggerStateCallbacks(a,o){try{this.stateChangeCallbacks[a].forEach(l=>{try{l(o)}catch(_){this.log("error",`error in ${a} callback`,_)}})}catch(l){this.log("error",`error triggering ${a} callbacks`,l)}}_setupReconnectionTimer(){var a=this;this.reconnectTimer=new Tn((0,u.A)(function*(){setTimeout((0,u.A)(function*(){yield a._waitForAuthIfNeeded(),a.isConnected()||a.connect()}),10)}),this.reconnectAfterMs)}_initializeOptions(a){var o,l,_,M,x,R,B,K,Z,be,ke,Ge;switch(this.transport=null!==(o=a?.transport)&&void 0!==o?o:null,this.timeout=null!==(l=a?.timeout)&&void 0!==l?l:1e4,this.heartbeatIntervalMs=null!==(_=a?.heartbeatIntervalMs)&&void 0!==_?_:25e3,this.worker=null!==(M=a?.worker)&&void 0!==M&&M,this.accessToken=null!==(x=a?.accessToken)&&void 0!==x?x:null,this.heartbeatCallback=null!==(R=a?.heartbeatCallback)&&void 0!==R?R:Kt,this.vsn=null!==(B=a?.vsn)&&void 0!==B?B:"1.0.0",a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(K=a?.reconnectAfterMs)&&void 0!==K?K:Fe=>bs[Fe-1]||1e4,this.vsn){case"1.0.0":this.encode=null!==(Z=a?.encode)&&void 0!==Z?Z:(Fe,Se)=>Se(JSON.stringify(Fe)),this.decode=null!==(be=a?.decode)&&void 0!==be?be:(Fe,Se)=>Se(JSON.parse(Fe));break;case"2.0.0":this.encode=null!==(ke=a?.encode)&&void 0!==ke?ke:this.serializer.encode.bind(this.serializer),this.decode=null!==(Ge=a?.decode)&&void 0!==Ge?Ge:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}class qn extends Error{constructor(a){super(a),this.__isStorageError=!0,this.name="StorageError"}}function Yt(m){return"object"==typeof m&&null!==m&&"__isStorageError"in m}class vr extends qn{constructor(a,o,l){super(a),this.name="StorageApiError",this.status=o,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Er extends qn{constructor(a,o){super(a),this.name="StorageUnknownError",this.originalError=o}}const mr=m=>m?(...a)=>m(...a):(...a)=>fetch(...a),yt=m=>{if(Array.isArray(m))return m.map(o=>yt(o));if("function"==typeof m||m!==Object(m))return m;const a={};return Object.entries(m).forEach(([o,l])=>{const _=o.replace(/([-_][a-z])/gi,M=>M.toUpperCase().replace(/[-_]/g,""));a[_]=yt(l)}),a},Fn=m=>{var a;return m.msg||m.message||m.error_description||("string"==typeof m.error?m.error:null===(a=m.error)||void 0===a?void 0:a.message)||JSON.stringify(m)},_r=(m,a,o)=>(0,G.__awaiter)(void 0,void 0,void 0,function*(){const l=yield Response;m instanceof l&&!o?.noResolveJson?m.json().then(_=>{const M=m.status||500,x=_?.statusCode||M+"";a(new vr(Fn(_),M,x))}).catch(_=>{a(new Er(Fn(_),_))}):a(new Er(Fn(m),m))}),on=(m,a,o,l)=>{const _={method:m,headers:a?.headers||{}};return"GET"!==m&&l?((m=>{if("object"!=typeof m||null===m)return!1;const a=Object.getPrototypeOf(m);return!(null!==a&&a!==Object.prototype&&null!==Object.getPrototypeOf(a)||Symbol.toStringTag in m||Symbol.iterator in m)})(l)?(_.headers=Object.assign({"Content-Type":"application/json"},a?.headers),_.body=JSON.stringify(l)):_.body=l,a?.duplex&&(_.duplex=a.duplex),Object.assign(Object.assign({},_),o)):_};function jt(m,a,o,l,_,M){return(0,G.__awaiter)(this,void 0,void 0,function*(){return new Promise((x,R)=>{m(o,on(a,l,_,M)).then(B=>{if(!B.ok)throw B;return l?.noResolveJson?B:B.json()}).then(B=>x(B)).catch(B=>_r(B,R,l))})})}function Xr(m,a,o,l){return(0,G.__awaiter)(this,void 0,void 0,function*(){return jt(m,"GET",a,o,l)})}function tr(m,a,o,l,_){return(0,G.__awaiter)(this,void 0,void 0,function*(){return jt(m,"POST",a,l,_,o)})}function Ot(m,a,o,l,_){return(0,G.__awaiter)(this,void 0,void 0,function*(){return jt(m,"PUT",a,l,_,o)})}function Ln(m,a,o,l,_){return(0,G.__awaiter)(this,void 0,void 0,function*(){return jt(m,"DELETE",a,l,_,o)})}class Qr{constructor(a,o){this.downloadFn=a,this.shouldThrowOnError=o}then(a,o){return this.execute().then(a,o)}execute(){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Yt(a))return{data:null,error:a};throw a}})}}var ar;ar=Symbol.toStringTag;const Ps={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Pe={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ve{constructor(a,o={},l,_){this.shouldThrowOnError=!1,this.url=a,this.headers=o,this.bucketId=l,this.fetch=mr(_)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(a,o,l,_){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{let M;const x=Object.assign(Object.assign({},Pe),_);let R=Object.assign(Object.assign({},this.headers),"POST"===a&&{"x-upsert":String(x.upsert)});const B=x.metadata;typeof Blob<"u"&&l instanceof Blob?(M=new FormData,M.append("cacheControl",x.cacheControl),B&&M.append("metadata",this.encodeMetadata(B)),M.append("",l)):typeof FormData<"u"&&l instanceof FormData?(M=l,M.has("cacheControl")||M.append("cacheControl",x.cacheControl),B&&!M.has("metadata")&&M.append("metadata",this.encodeMetadata(B))):(M=l,R["cache-control"]=`max-age=${x.cacheControl}`,R["content-type"]=x.contentType,B&&(R["x-metadata"]=this.toBase64(this.encodeMetadata(B))),(typeof ReadableStream<"u"&&M instanceof ReadableStream||M&&"object"==typeof M&&"pipe"in M&&"function"==typeof M.pipe)&&!x.duplex&&(x.duplex="half")),_?.headers&&(R=Object.assign(Object.assign({},R),_.headers));const K=this._removeEmptyFolders(o),Z=this._getFinalPath(K),be=yield("PUT"==a?Ot:tr)(this.fetch,`${this.url}/object/${Z}`,M,Object.assign({headers:R},x?.duplex?{duplex:x.duplex}:{}));return{data:{path:K,id:be.Id,fullPath:be.Key},error:null}}catch(M){if(this.shouldThrowOnError)throw M;if(Yt(M))return{data:null,error:M};throw M}})}upload(a,o,l){return(0,G.__awaiter)(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",a,o,l)})}uploadToSignedUrl(a,o,l,_){return(0,G.__awaiter)(this,void 0,void 0,function*(){const M=this._removeEmptyFolders(a),x=this._getFinalPath(M),R=new URL(this.url+`/object/upload/sign/${x}`);R.searchParams.set("token",o);try{let B;const K=Object.assign({upsert:Pe.upsert},_),Z=Object.assign(Object.assign({},this.headers),{"x-upsert":String(K.upsert)});return typeof Blob<"u"&&l instanceof Blob?(B=new FormData,B.append("cacheControl",K.cacheControl),B.append("",l)):typeof FormData<"u"&&l instanceof FormData?(B=l,B.append("cacheControl",K.cacheControl)):(B=l,Z["cache-control"]=`max-age=${K.cacheControl}`,Z["content-type"]=K.contentType),{data:{path:M,fullPath:(yield Ot(this.fetch,R.toString(),B,{headers:Z})).Key},error:null}}catch(B){if(this.shouldThrowOnError)throw B;if(Yt(B))return{data:null,error:B};throw B}})}createSignedUploadUrl(a,o){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{let l=this._getFinalPath(a);const _=Object.assign({},this.headers);o?.upsert&&(_["x-upsert"]="true");const M=yield tr(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:_}),x=new URL(this.url+M.url),R=x.searchParams.get("token");if(!R)throw new qn("No token returned by API");return{data:{signedUrl:x.toString(),path:a,token:R},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Yt(l))return{data:null,error:l};throw l}})}update(a,o,l){return(0,G.__awaiter)(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",a,o,l)})}move(a,o,l){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:a,destinationKey:o,destinationBucket:l?.destinationBucket},{headers:this.headers}),error:null}}catch(_){if(this.shouldThrowOnError)throw _;if(Yt(_))return{data:null,error:_};throw _}})}copy(a,o,l){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:{path:(yield tr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:a,destinationKey:o,destinationBucket:l?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(_){if(this.shouldThrowOnError)throw _;if(Yt(_))return{data:null,error:_};throw _}})}createSignedUrl(a,o,l){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{let _=this._getFinalPath(a),M=yield tr(this.fetch,`${this.url}/object/sign/${_}`,Object.assign({expiresIn:o},l?.transform?{transform:l.transform}:{}),{headers:this.headers});const x=l?.download?`&download=${!0===l.download?"":l.download}`:"";return M={signedUrl:encodeURI(`${this.url}${M.signedURL}${x}`)},{data:M,error:null}}catch(_){if(this.shouldThrowOnError)throw _;if(Yt(_))return{data:null,error:_};throw _}})}createSignedUrls(a,o,l){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{const _=yield tr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:o,paths:a},{headers:this.headers}),M=l?.download?`&download=${!0===l.download?"":l.download}`:"";return{data:_.map(x=>Object.assign(Object.assign({},x),{signedUrl:x.signedURL?encodeURI(`${this.url}${x.signedURL}${M}`):null})),error:null}}catch(_){if(this.shouldThrowOnError)throw _;if(Yt(_))return{data:null,error:_};throw _}})}download(a,o){const _=typeof o?.transform<"u"?"render/image/authenticated":"object",M=this.transformOptsToQueryString(o?.transform||{}),x=M?`?${M}`:"",R=this._getFinalPath(a);return new class Lr{constructor(a,o){this.downloadFn=a,this.shouldThrowOnError=o,this[ar]="BlobDownloadBuilder",this.promise=null}asStream(){return new Qr(this.downloadFn,this.shouldThrowOnError)}then(a,o){return this.getPromise().then(a,o)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Yt(a))return{data:null,error:a};throw a}})}}(()=>Xr(this.fetch,`${this.url}/${_}/${R}${x}`,{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}info(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){const o=this._getFinalPath(a);try{const l=yield Xr(this.fetch,`${this.url}/object/info/${o}`,{headers:this.headers});return{data:yt(l),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Yt(l))return{data:null,error:l};throw l}})}exists(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){const o=this._getFinalPath(a);try{return yield function or(m,a,o,l){return(0,G.__awaiter)(this,void 0,void 0,function*(){return jt(m,"HEAD",a,Object.assign(Object.assign({},o),{noResolveJson:!0}),l)})}(this.fetch,`${this.url}/object/${o}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Yt(l)&&l instanceof Er){const _=l.originalError;if([400,404].includes(_?.status))return{data:!1,error:l}}throw l}})}getPublicUrl(a,o){const l=this._getFinalPath(a),_=[],M=o?.download?`download=${!0===o.download?"":o.download}`:"";""!==M&&_.push(M);const R=typeof o?.transform<"u"?"render/image":"object",B=this.transformOptsToQueryString(o?.transform||{});""!==B&&_.push(B);let K=_.join("&");return""!==K&&(K=`?${K}`),{data:{publicUrl:encodeURI(`${this.url}/${R}/public/${l}${K}`)}}}remove(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Ln(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:a},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Yt(o))return{data:null,error:o};throw o}})}list(a,o,l){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{const _=Object.assign(Object.assign(Object.assign({},Ps),o),{prefix:a||""});return{data:yield tr(this.fetch,`${this.url}/object/list/${this.bucketId}`,_,{headers:this.headers},l),error:null}}catch(_){if(this.shouldThrowOnError)throw _;if(Yt(_))return{data:null,error:_};throw _}})}listV2(a,o){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{const l=Object.assign({},a);return{data:yield tr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,l,{headers:this.headers},o),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Yt(l))return{data:null,error:l};throw l}})}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const o=[];return a.width&&o.push(`width=${a.width}`),a.height&&o.push(`height=${a.height}`),a.resize&&o.push(`resize=${a.resize}`),a.format&&o.push(`format=${a.format}`),a.quality&&o.push(`quality=${a.quality}`),o.join("&")}}const W="2.86.0",ie={"X-Client-Info":`storage-js/${W}`};class Te{constructor(a,o={},l,_){this.shouldThrowOnError=!1;const M=new URL(a);_?.useNewHostname&&/supabase\.(co|in|red)$/.test(M.hostname)&&!M.hostname.includes("storage.supabase.")&&(M.hostname=M.hostname.replace("supabase.","storage.supabase.")),this.url=M.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ie),o),this.fetch=mr(l)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{const o=this.listBucketOptionsToQueryString(a);return{data:yield Xr(this.fetch,`${this.url}/bucket${o}`,{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Yt(o))return{data:null,error:o};throw o}})}getBucket(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Xr(this.fetch,`${this.url}/bucket/${a}`,{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Yt(o))return{data:null,error:o};throw o}})}createBucket(a){return(0,G.__awaiter)(this,arguments,void 0,function*(o,l={public:!1}){try{return{data:yield tr(this.fetch,`${this.url}/bucket`,{id:o,name:o,type:l.type,public:l.public,file_size_limit:l.fileSizeLimit,allowed_mime_types:l.allowedMimeTypes},{headers:this.headers}),error:null}}catch(_){if(this.shouldThrowOnError)throw _;if(Yt(_))return{data:null,error:_};throw _}})}updateBucket(a,o){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/bucket/${a}`,{id:a,name:a,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Yt(l))return{data:null,error:l};throw l}})}emptyBucket(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/bucket/${a}/empty`,{},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Yt(o))return{data:null,error:o};throw o}})}deleteBucket(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Ln(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Yt(o))return{data:null,error:o};throw o}})}listBucketOptionsToQueryString(a){const o={};return a&&("limit"in a&&(o.limit=String(a.limit)),"offset"in a&&(o.offset=String(a.offset)),a.search&&(o.search=a.search),a.sortColumn&&(o.sortColumn=a.sortColumn),a.sortOrder&&(o.sortOrder=a.sortOrder)),Object.keys(o).length>0?"?"+new URLSearchParams(o).toString():""}}var et=class extends Error{constructor(m,a){super(m),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown="CommitStateUnknownException"===a.icebergType||[500,502,504].includes(a.status)&&!0===a.icebergType?.includes("CommitState")}isNotFound(){return 404===this.status}isConflict(){return 409===this.status}isAuthenticationTimeout(){return 419===this.status}};function zt(){return(zt=(0,u.A)(function*(m){return m&&"none"!==m.type?"bearer"===m.type?{Authorization:`Bearer ${m.token}`}:"header"===m.type?{[m.name]:m.value}:"custom"===m.type?yield m.getHeaders():{}:{}})).apply(this,arguments)}function cr(m){return m.join("\x1f")}function Ar(m){return m.join("\x1f")}class xe{constructor(a,o={},l){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ie),o),this.fetch=mr(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/bucket`,{name:a},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Yt(o))return{data:null,error:o};throw o}})}listBuckets(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{const o=new URLSearchParams;void 0!==a?.limit&&o.set("limit",a.limit.toString()),void 0!==a?.offset&&o.set("offset",a.offset.toString()),a?.sortColumn&&o.set("sortColumn",a.sortColumn),a?.sortOrder&&o.set("sortOrder",a.sortOrder),a?.search&&o.set("search",a.search);const l=o.toString(),_=l?`${this.url}/bucket?${l}`:`${this.url}/bucket`;return{data:yield Xr(this.fetch,_,{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Yt(o))return{data:null,error:o};throw o}})}deleteBucket(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Ln(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Yt(o))return{data:null,error:o};throw o}})}from(a){if(!(m=a)||"string"!=typeof m||0===m.length||m.length>100||m.trim()!==m||m.includes("/")||m.includes("\\")||!/^[\w!.\*'() &$@=;:+,?-]+$/.test(m))throw new qn("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");var m;return new class{constructor(m){let a="v1";m.catalogName&&(a+=`/${m.catalogName}`);const o=m.baseUrl.endsWith("/")?m.baseUrl:`${m.baseUrl}/`;this.client=function $n(m){const a=m.fetchImpl??globalThis.fetch;return{request(o){return(0,u.A)(function*({method:l,path:_,query:M,body:x,headers:R}){const B=function Dt(m,a,o){const l=new URL(a,m);if(o)for(const[_,M]of Object.entries(o))void 0!==M&&l.searchParams.set(_,M);return l.toString()}(m.baseUrl,_,M),K=yield function dn(m){return zt.apply(this,arguments)}(m.auth),Z=yield a(B,{method:l,headers:{...x?{"Content-Type":"application/json"}:{},...K,...R},body:x?JSON.stringify(x):void 0}),be=yield Z.text(),ke=(Z.headers.get("content-type")||"").includes("application/json"),Ge=ke&&be?JSON.parse(be):be;if(!Z.ok){const Fe=ke?Ge:void 0,Se=Fe?.error;throw new et(Se?.message??`Request failed with status ${Z.status}`,{status:Z.status,icebergType:Se?.type,icebergCode:Se?.code,details:Fe})}return{status:Z.status,headers:Z.headers,data:Ge}}).apply(this,arguments)}}}({baseUrl:o,auth:m.auth,fetchImpl:m.fetch}),this.accessDelegation=m.accessDelegation?.join(","),this.namespaceOps=new class{constructor(m,a=""){this.client=m,this.prefix=a}listNamespaces(m){var a=this;return(0,u.A)(function*(){const o=m?{parent:cr(m.namespace)}:void 0;return(yield a.client.request({method:"GET",path:`${a.prefix}/namespaces`,query:o})).data.namespaces.map(_=>({namespace:_}))})()}createNamespace(m,a){var o=this;return(0,u.A)(function*(){const l={namespace:m.namespace,properties:a?.properties};return(yield o.client.request({method:"POST",path:`${o.prefix}/namespaces`,body:l})).data})()}dropNamespace(m){var a=this;return(0,u.A)(function*(){yield a.client.request({method:"DELETE",path:`${a.prefix}/namespaces/${cr(m.namespace)}`})})()}loadNamespaceMetadata(m){var a=this;return(0,u.A)(function*(){return{properties:(yield a.client.request({method:"GET",path:`${a.prefix}/namespaces/${cr(m.namespace)}`})).data.properties}})()}namespaceExists(m){var a=this;return(0,u.A)(function*(){try{return yield a.client.request({method:"HEAD",path:`${a.prefix}/namespaces/${cr(m.namespace)}`}),!0}catch(o){if(o instanceof et&&404===o.status)return!1;throw o}})()}createNamespaceIfNotExists(m,a){var o=this;return(0,u.A)(function*(){try{return yield o.createNamespace(m,a)}catch(l){if(l instanceof et&&409===l.status)return;throw l}})()}}(this.client,a),this.tableOps=new class{constructor(m,a="",o){this.client=m,this.prefix=a,this.accessDelegation=o}listTables(m){var a=this;return(0,u.A)(function*(){return(yield a.client.request({method:"GET",path:`${a.prefix}/namespaces/${Ar(m.namespace)}/tables`})).data.identifiers})()}createTable(m,a){var o=this;return(0,u.A)(function*(){const l={};return o.accessDelegation&&(l["X-Iceberg-Access-Delegation"]=o.accessDelegation),(yield o.client.request({method:"POST",path:`${o.prefix}/namespaces/${Ar(m.namespace)}/tables`,body:a,headers:l})).data.metadata})()}updateTable(m,a){var o=this;return(0,u.A)(function*(){const l=yield o.client.request({method:"POST",path:`${o.prefix}/namespaces/${Ar(m.namespace)}/tables/${m.name}`,body:a});return{"metadata-location":l.data["metadata-location"],metadata:l.data.metadata}})()}dropTable(m,a){var o=this;return(0,u.A)(function*(){yield o.client.request({method:"DELETE",path:`${o.prefix}/namespaces/${Ar(m.namespace)}/tables/${m.name}`,query:{purgeRequested:String(a?.purge??!1)}})})()}loadTable(m){var a=this;return(0,u.A)(function*(){const o={};return a.accessDelegation&&(o["X-Iceberg-Access-Delegation"]=a.accessDelegation),(yield a.client.request({method:"GET",path:`${a.prefix}/namespaces/${Ar(m.namespace)}/tables/${m.name}`,headers:o})).data.metadata})()}tableExists(m){var a=this;return(0,u.A)(function*(){const o={};a.accessDelegation&&(o["X-Iceberg-Access-Delegation"]=a.accessDelegation);try{return yield a.client.request({method:"HEAD",path:`${a.prefix}/namespaces/${Ar(m.namespace)}/tables/${m.name}`,headers:o}),!0}catch(l){if(l instanceof et&&404===l.status)return!1;throw l}})()}createTableIfNotExists(m,a){var o=this;return(0,u.A)(function*(){try{return yield o.createTable(m,a)}catch(l){if(l instanceof et&&409===l.status)return yield o.loadTable({namespace:m.namespace,name:a.name});throw l}})()}}(this.client,a,this.accessDelegation)}listNamespaces(m){var a=this;return(0,u.A)(function*(){return a.namespaceOps.listNamespaces(m)})()}createNamespace(m,a){var o=this;return(0,u.A)(function*(){return o.namespaceOps.createNamespace(m,a)})()}dropNamespace(m){var a=this;return(0,u.A)(function*(){yield a.namespaceOps.dropNamespace(m)})()}loadNamespaceMetadata(m){var a=this;return(0,u.A)(function*(){return a.namespaceOps.loadNamespaceMetadata(m)})()}listTables(m){var a=this;return(0,u.A)(function*(){return a.tableOps.listTables(m)})()}createTable(m,a){var o=this;return(0,u.A)(function*(){return o.tableOps.createTable(m,a)})()}updateTable(m,a){var o=this;return(0,u.A)(function*(){return o.tableOps.updateTable(m,a)})()}dropTable(m,a){var o=this;return(0,u.A)(function*(){yield o.tableOps.dropTable(m,a)})()}loadTable(m){var a=this;return(0,u.A)(function*(){return a.tableOps.loadTable(m)})()}namespaceExists(m){var a=this;return(0,u.A)(function*(){return a.namespaceOps.namespaceExists(m)})()}tableExists(m){var a=this;return(0,u.A)(function*(){return a.tableOps.tableExists(m)})()}createNamespaceIfNotExists(m,a){var o=this;return(0,u.A)(function*(){return o.namespaceOps.createNamespaceIfNotExists(m,a)})()}createTableIfNotExists(m,a){var o=this;return(0,u.A)(function*(){return o.tableOps.createTableIfNotExists(m,a)})()}}({baseUrl:this.url,catalogName:a,auth:{type:"custom",getHeaders:()=>(0,G.__awaiter)(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Ne={"X-Client-Info":`storage-js/${W}`,"Content-Type":"application/json"};class tt extends Error{constructor(a){super(a),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Be(m){return"object"==typeof m&&null!==m&&"__isStorageVectorsError"in m}class an extends tt{constructor(a,o,l){super(a),this.name="StorageVectorsApiError",this.status=o,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class It extends tt{constructor(a,o){super(a),this.name="StorageVectorsUnknownError",this.originalError=o}}const lr=m=>m?(...a)=>m(...a):(...a)=>fetch(...a),mt=m=>m.msg||m.message||m.error_description||m.error||JSON.stringify(m),hn=(m,a,o)=>(0,G.__awaiter)(void 0,void 0,void 0,function*(){if(m&&"object"==typeof m&&"status"in m&&"ok"in m&&"number"==typeof m.status&&!o?.noResolveJson){const _=m.status||500,M=m;"function"==typeof M.json?M.json().then(x=>{const R=x?.statusCode||x?.code||_+"";a(new an(mt(x),_,R))}).catch(()=>{a(new an(M.statusText||`HTTP ${_} error`,_,_+""))}):a(new an(M.statusText||`HTTP ${_} error`,_,_+""))}else a(new It(mt(m),m))}),Hr=(m,a,o,l)=>{const _={method:m,headers:a?.headers||{}};return"GET"!==m&&l?((m=>{if("object"!=typeof m||null===m)return!1;const a=Object.getPrototypeOf(m);return!(null!==a&&a!==Object.prototype&&null!==Object.getPrototypeOf(a)||Symbol.toStringTag in m||Symbol.iterator in m)})(l)?(_.headers=Object.assign({"Content-Type":"application/json"},a?.headers),_.body=JSON.stringify(l)):_.body=l,Object.assign(Object.assign({},_),o)):_};function En(m,a,o,l,_){return(0,G.__awaiter)(this,void 0,void 0,function*(){return function br(m,a,o,l,_,M){return(0,G.__awaiter)(this,void 0,void 0,function*(){return new Promise((x,R)=>{m(o,Hr(a,l,_,M)).then(B=>{if(!B.ok)throw B;if(l?.noResolveJson)return B;const K=B.headers.get("content-type");return K&&K.includes("application/json")?B.json():{}}).then(B=>x(B)).catch(B=>hn(B,R,l))})})}(m,"POST",a,l,_,o)})}class Rs{constructor(a,o={},l){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ne),o),this.fetch=lr(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield En(this.fetch,`${this.url}/CreateIndex`,a,{headers:this.headers}))||{},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Be(o))return{data:null,error:o};throw o}})}getIndex(a,o){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield En(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:a,indexName:o},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Be(l))return{data:null,error:l};throw l}})}listIndexes(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield En(this.fetch,`${this.url}/ListIndexes`,a,{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Be(o))return{data:null,error:o};throw o}})}deleteIndex(a,o){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield En(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:a,indexName:o},{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Be(l))return{data:null,error:l};throw l}})}}class Gs{constructor(a,o={},l){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ne),o),this.fetch=lr(l)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{if(a.vectors.length<1||a.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield En(this.fetch,`${this.url}/PutVectors`,a,{headers:this.headers}))||{},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Be(o))return{data:null,error:o};throw o}})}getVectors(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield En(this.fetch,`${this.url}/GetVectors`,a,{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Be(o))return{data:null,error:o};throw o}})}listVectors(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{if(void 0!==a.segmentCount){if(a.segmentCount<1||a.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(void 0!==a.segmentIndex&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw new Error("segmentIndex must be between 0 and "+(a.segmentCount-1))}return{data:yield En(this.fetch,`${this.url}/ListVectors`,a,{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Be(o))return{data:null,error:o};throw o}})}queryVectors(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield En(this.fetch,`${this.url}/QueryVectors`,a,{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Be(o))return{data:null,error:o};throw o}})}deleteVectors(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{if(a.keys.length<1||a.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield En(this.fetch,`${this.url}/DeleteVectors`,a,{headers:this.headers}))||{},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Be(o))return{data:null,error:o};throw o}})}}class fs{constructor(a,o={},l){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ne),o),this.fetch=lr(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield En(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Be(o))return{data:null,error:o};throw o}})}getBucket(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield En(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:a},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Be(o))return{data:null,error:o};throw o}})}listBuckets(){return(0,G.__awaiter)(this,arguments,void 0,function*(a={}){try{return{data:yield En(this.fetch,`${this.url}/ListVectorBuckets`,a,{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Be(o))return{data:null,error:o};throw o}})}deleteBucket(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield En(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Be(o))return{data:null,error:o};throw o}})}}class Ws extends fs{constructor(a,o={}){super(a,o.headers||{},o.fetch)}from(a){return new Jr(this.url,this.headers,a,this.fetch)}createBucket(a){const o=Object.create(null,{createBucket:{get:()=>super.createBucket}});return(0,G.__awaiter)(this,void 0,void 0,function*(){return o.createBucket.call(this,a)})}getBucket(a){const o=Object.create(null,{getBucket:{get:()=>super.getBucket}});return(0,G.__awaiter)(this,void 0,void 0,function*(){return o.getBucket.call(this,a)})}listBuckets(){const a=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return(0,G.__awaiter)(this,arguments,void 0,function*(o={}){return a.listBuckets.call(this,o)})}deleteBucket(a){const o=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return(0,G.__awaiter)(this,void 0,void 0,function*(){return o.deleteBucket.call(this,a)})}}class Jr extends Rs{constructor(a,o,l,_){super(a,o,_),this.vectorBucketName=l}createIndex(a){const o=Object.create(null,{createIndex:{get:()=>super.createIndex}});return(0,G.__awaiter)(this,void 0,void 0,function*(){return o.createIndex.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const a=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return(0,G.__awaiter)(this,arguments,void 0,function*(o={}){return a.listIndexes.call(this,Object.assign(Object.assign({},o),{vectorBucketName:this.vectorBucketName}))})}getIndex(a){const o=Object.create(null,{getIndex:{get:()=>super.getIndex}});return(0,G.__awaiter)(this,void 0,void 0,function*(){return o.getIndex.call(this,this.vectorBucketName,a)})}deleteIndex(a){const o=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return(0,G.__awaiter)(this,void 0,void 0,function*(){return o.deleteIndex.call(this,this.vectorBucketName,a)})}index(a){return new zr(this.url,this.headers,this.vectorBucketName,a,this.fetch)}}class zr extends Gs{constructor(a,o,l,_,M){super(a,o,M),this.vectorBucketName=l,this.indexName=_}putVectors(a){const o=Object.create(null,{putVectors:{get:()=>super.putVectors}});return(0,G.__awaiter)(this,void 0,void 0,function*(){return o.putVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(a){const o=Object.create(null,{getVectors:{get:()=>super.getVectors}});return(0,G.__awaiter)(this,void 0,void 0,function*(){return o.getVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const a=Object.create(null,{listVectors:{get:()=>super.listVectors}});return(0,G.__awaiter)(this,arguments,void 0,function*(o={}){return a.listVectors.call(this,Object.assign(Object.assign({},o),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(a){const o=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return(0,G.__awaiter)(this,void 0,void 0,function*(){return o.queryVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(a){const o=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return(0,G.__awaiter)(this,void 0,void 0,function*(){return o.deleteVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class xs extends Te{constructor(a,o={},l,_){super(a,o,l,_)}from(a){return new ve(this.url,this.headers,a,this.fetch)}get vectors(){return new Ws(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new xe(this.url+"/iceberg",this.headers,this.fetch)}}let jr="";jr=typeof Deno<"u"?"deno":typeof document<"u"?"web":typeof navigator<"u"&&"ReactNative"===navigator.product?"react-native":"node";const Si={headers:{"X-Client-Info":`supabase-js-${jr}/2.86.0`}},Pn={schema:"public"},mi={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Mi={},si=(m,a,o)=>{const l=(m=>m?(...a)=>m(...a):(...a)=>fetch(...a))(o),_=Headers;return function(){var M=(0,u.A)(function*(x,R){var B;const K=null!==(B=yield a())&&void 0!==B?B:m;let Z=new _(R?.headers);return Z.has("apikey")||Z.set("apikey",m),Z.has("Authorization")||Z.set("Authorization",`Bearer ${K}`),l(x,Object.assign(Object.assign({},R),{headers:Z}))});return function(x,R){return M.apply(this,arguments)}}()},ws=3e4,Vt="X-Supabase-Api-Version",jn={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Xn=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class Rn extends Error{constructor(a,o,l){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=o,this.code=l}}function lt(m){return"object"==typeof m&&null!==m&&"__isAuthError"in m}class Yr extends Rn{constructor(a,o,l){super(a,o,l),this.name="AuthApiError",this.status=o,this.code=l}}class Vr extends Rn{constructor(a,o){super(a),this.name="AuthUnknownError",this.originalError=o}}class Ur extends Rn{constructor(a,o,l,_){super(a,l,_),this.name=o,this.status=l}}class tn extends Ur{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Pt extends Ur{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class pn extends Ur{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class fr extends Ur{constructor(a,o=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bn extends Ur{constructor(a,o=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Zr extends Ur{constructor(a,o){super(a,"AuthRetryableFetchError",o,void 0)}}function Wn(m){return lt(m)&&"AuthRetryableFetchError"===m.name}class wr extends Ur{constructor(a,o,l){super(a,"AuthWeakPasswordError",o,"weak_password"),this.reasons=l}}class kt extends Ur{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const $r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),es=" \t\n\r=".split(""),ts=(()=>{const m=new Array(128);for(let a=0;a<m.length;a+=1)m[a]=-1;for(let a=0;a<es.length;a+=1)m[es[a].charCodeAt(0)]=-2;for(let a=0;a<$r.length;a+=1)m[$r[a].charCodeAt(0)]=a;return m})();function An(m,a,o){if(null!==m)for(a.queue=a.queue<<8|m,a.queuedBits+=8;a.queuedBits>=6;)o($r[a.queue>>a.queuedBits-6&63]),a.queuedBits-=6;else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;)o($r[a.queue>>a.queuedBits-6&63]),a.queuedBits-=6}function Ds(m,a,o){const l=ts[m];if(!(l>-1)){if(-2===l)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(m)}"`)}for(a.queue=a.queue<<6|l,a.queuedBits+=6;a.queuedBits>=8;)o(a.queue>>a.queuedBits-8&255),a.queuedBits-=8}function kr(m){const a=[],o=x=>{a.push(String.fromCodePoint(x))},l={utf8seq:0,codepoint:0},_={queue:0,queuedBits:0},M=x=>{!function As(m,a,o){if(0===a.utf8seq){if(m<=127)return void o(m);for(let l=1;l<6;l+=1)if(!(m>>7-l&1)){a.utf8seq=l;break}if(2===a.utf8seq)a.codepoint=31&m;else if(3===a.utf8seq)a.codepoint=15&m;else{if(4!==a.utf8seq)throw new Error("Invalid UTF-8 sequence");a.codepoint=7&m}a.utf8seq-=1}else if(a.utf8seq>0){if(m<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|63&m,a.utf8seq-=1,0===a.utf8seq&&o(a.codepoint)}}(x,l,o)};for(let x=0;x<m.length;x+=1)Ds(m.charCodeAt(x),_,M);return a.join("")}function Ms(m,a){if(!(m<=127)){if(m<=2047)return a(192|m>>6),void a(128|63&m);if(m<=65535)return a(224|m>>12),a(128|m>>6&63),void a(128|63&m);if(m<=1114111)return a(240|m>>18),a(128|m>>12&63),a(128|m>>6&63),void a(128|63&m);throw new Error(`Unrecognized Unicode codepoint: ${m.toString(16)}`)}a(m)}function Or(m){const a=[],o={queue:0,queuedBits:0},l=_=>{a.push(_)};for(let _=0;_<m.length;_+=1)Ds(m.charCodeAt(_),o,l);return new Uint8Array(a)}function ns(m){const a=[],o={queue:0,queuedBits:0},l=_=>{a.push(_)};return m.forEach(_=>An(_,o,l)),An(null,o,l),a.join("")}const ln=()=>typeof window<"u"&&typeof document<"u",Qn={tested:!1,writable:!1},Cr=()=>{if(!ln())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch{return!1}if(Qn.tested)return Qn.writable;const m=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(m,m),globalThis.localStorage.removeItem(m),Qn.tested=!0,Qn.writable=!0}catch{Qn.tested=!0,Qn.writable=!1}return Qn.writable},Qs=m=>m?(...a)=>m(...a):(...a)=>fetch(...a),ui=m=>"object"==typeof m&&null!==m&&"status"in m&&"ok"in m&&"json"in m&&"function"==typeof m.json,xn=function(){var m=(0,u.A)(function*(a,o,l){yield a.setItem(o,JSON.stringify(l))});return function(o,l,_){return m.apply(this,arguments)}}(),Fs=function(){var m=(0,u.A)(function*(a,o){const l=yield a.getItem(o);if(!l)return null;try{return JSON.parse(l)}catch{return l}});return function(o,l){return m.apply(this,arguments)}}(),Hn=function(){var m=(0,u.A)(function*(a,o){yield a.removeItem(o)});return function(o,l){return m.apply(this,arguments)}}();class Jn{constructor(){this.promise=new Jn.promiseConstructor((a,o)=>{this.resolve=a,this.reject=o})}}function ci(m){const a=m.split(".");if(3!==a.length)throw new kt("Invalid JWT structure");for(let l=0;l<a.length;l++)if(!Xn.test(a[l]))throw new kt("JWT not in base64url format");return{header:JSON.parse(kr(a[0])),payload:JSON.parse(kr(a[1])),signature:Or(a[2]),raw:{header:a[0],payload:a[1]}}}function rs(){return(rs=(0,u.A)(function*(m){return yield new Promise(a=>{setTimeout(()=>a(null),m)})})).apply(this,arguments)}function nn(m){return("0"+m.toString(16)).substr(-2)}function P(){return(P=(0,u.A)(function*(m){const o=(new TextEncoder).encode(m),l=yield crypto.subtle.digest("SHA-256",o),_=new Uint8Array(l);return Array.from(_).map(M=>String.fromCharCode(M)).join("")})).apply(this,arguments)}function D(){return D=(0,u.A)(function*(m){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),m;const o=yield function _i(m){return P.apply(this,arguments)}(m);return btoa(o).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}),D.apply(this,arguments)}function $(m,a){return ne.apply(this,arguments)}function ne(){return ne=(0,u.A)(function*(m,a,o=!1){const l=function ss(){const a=new Uint32Array(56);if(typeof crypto>"u"){const o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=o.length;let _="";for(let M=0;M<56;M++)_+=o.charAt(Math.floor(Math.random()*l));return _}return crypto.getRandomValues(a),Array.from(a,nn).join("")}();let _=l;o&&(_+="/PASSWORD_RECOVERY"),yield xn(m,`${a}-code-verifier`,_);const M=yield function k(m){return D.apply(this,arguments)}(l);return[M,l===M?"plain":"s256"]}),ne.apply(this,arguments)}Jn.promiseConstructor=Promise;const Et=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i,Kr=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Rr(m){if(!Kr.test(m))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Mr(){return new Proxy({},{get:(a,o)=>{if("__isUserNotAvailableProxy"===o)return!0;if("symbol"==typeof o){const l=o.toString();if("Symbol(Symbol.toPrimitive)"===l||"Symbol(Symbol.toStringTag)"===l||"Symbol(util.inspect.custom)"===l)return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${o}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,o)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${o}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,o)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${o}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function bi(m){return JSON.parse(JSON.stringify(m))}const wi=m=>m.msg||m.message||m.error_description||m.error||JSON.stringify(m),qi=[502,503,504];function Js(m){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,u.A)(function*(m){var a;if(!ui(m))throw new Zr(wi(m),0);if(qi.includes(m.status))throw new Zr(wi(m),m.status);let o,l;try{o=yield m.json()}catch(M){throw new Vr(wi(M),M)}const _=function Ht(m){const a=m.headers.get(Vt);if(!a||!a.match(Et))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}(m);if(_&&_.getTime()>=jn["2024-01-01"].timestamp&&"object"==typeof o&&o&&"string"==typeof o.code?l=o.code:"object"==typeof o&&o&&"string"==typeof o.error_code&&(l=o.error_code),l){if("weak_password"===l)throw new wr(wi(o),m.status,(null===(a=o.weak_password)||void 0===a?void 0:a.reasons)||[]);if("session_not_found"===l)throw new tn}else if("object"==typeof o&&o&&"object"==typeof o.weak_password&&o.weak_password&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.reasons.reduce((M,x)=>M&&"string"==typeof x,!0))throw new wr(wi(o),m.status,o.weak_password.reasons);throw new Yr(wi(o),m.status||500,l)})).apply(this,arguments)}const So=(m,a,o,l)=>{const _={method:m,headers:a?.headers||{}};return"GET"===m?_:(_.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),_.body=JSON.stringify(l),Object.assign(Object.assign({},_),o))};function Ft(m,a,o,l){return ms.apply(this,arguments)}function ms(){return ms=(0,u.A)(function*(m,a,o,l){var _;const M=Object.assign({},l?.headers);M[Vt]||(M[Vt]=jn["2024-01-01"].name),l?.jwt&&(M.Authorization=`Bearer ${l.jwt}`);const x=null!==(_=l?.query)&&void 0!==_?_:{};l?.redirectTo&&(x.redirect_to=l.redirectTo);const R=Object.keys(x).length?"?"+new URLSearchParams(x).toString():"",B=yield function Is(m,a,o,l,_,M){return xi.apply(this,arguments)}(m,a,o+R,{headers:M,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(B):{data:Object.assign({},B),error:null}}),ms.apply(this,arguments)}function xi(){return(xi=(0,u.A)(function*(m,a,o,l,_,M){const x=So(a,l,_,M);let R;try{R=yield m(o,Object.assign({},x))}catch(B){throw console.error(B),new Zr(wi(B),0)}if(R.ok||(yield Js(R)),l?.noResolveJson)return R;try{return yield R.json()}catch(B){yield Js(B)}})).apply(this,arguments)}function ys(m){var a;let o=null;return function Qi(m){return m.access_token&&m.refresh_token&&m.expires_in}(m)&&(o=Object.assign({},m),m.expires_at||(o.expires_at=function Xt(m){return Math.round(Date.now()/1e3)+m}(m.expires_in))),{data:{session:o,user:null!==(a=m.user)&&void 0!==a?a:m},error:null}}function Yn(m){const a=ys(m);return!a.error&&m.weak_password&&"object"==typeof m.weak_password&&Array.isArray(m.weak_password.reasons)&&m.weak_password.reasons.length&&m.weak_password.message&&"string"==typeof m.weak_password.message&&m.weak_password.reasons.reduce((o,l)=>o&&"string"==typeof l,!0)&&(a.data.weak_password=m.weak_password),a}function is(m){var a;return{data:{user:null!==(a=m.user)&&void 0!==a?a:m},error:null}}function qr(m){return{data:m,error:null}}function ao(m){const{action_link:a,email_otp:o,hashed_token:l,redirect_to:_,verification_type:M}=m,x=(0,G.__rest)(m,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:a,email_otp:o,hashed_token:l,redirect_to:_,verification_type:M},user:Object.assign({},x)},error:null}}function Xi(m){return m}const js=["global","local","others"];class ki{constructor({url:a="",headers:o={},fetch:l}){this.url=a,this.headers=o,this.fetch=Qs(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(a){var o=this;return(0,u.A)(function*(l,_=js[0]){if(js.indexOf(_)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${js.join(", ")}`);try{return yield Ft(o.fetch,"POST",`${o.url}/logout?scope=${_}`,{headers:o.headers,jwt:l,noResolveJson:!0}),{data:null,error:null}}catch(M){if(lt(M))return{data:null,error:M};throw M}}).apply(this,arguments)}inviteUserByEmail(a){var o=this;return(0,u.A)(function*(l,_={}){try{return yield Ft(o.fetch,"POST",`${o.url}/invite`,{body:{email:l,data:_.data},headers:o.headers,redirectTo:_.redirectTo,xform:is})}catch(M){if(lt(M))return{data:{user:null},error:M};throw M}}).apply(this,arguments)}generateLink(a){var o=this;return(0,u.A)(function*(){try{const{options:l}=a,_=(0,G.__rest)(a,["options"]),M=Object.assign(Object.assign({},_),l);return"newEmail"in _&&(M.new_email=_?.newEmail,delete M.newEmail),yield Ft(o.fetch,"POST",`${o.url}/admin/generate_link`,{body:M,headers:o.headers,xform:ao,redirectTo:l?.redirectTo})}catch(l){if(lt(l))return{data:{properties:null,user:null},error:l};throw l}})()}createUser(a){var o=this;return(0,u.A)(function*(){try{return yield Ft(o.fetch,"POST",`${o.url}/admin/users`,{body:a,headers:o.headers,xform:is})}catch(l){if(lt(l))return{data:{user:null},error:l};throw l}})()}listUsers(a){var o=this;return(0,u.A)(function*(){var l,_,M,x,R,B,K;try{const Z={nextPage:null,lastPage:0,total:0},be=yield Ft(o.fetch,"GET",`${o.url}/admin/users`,{headers:o.headers,noResolveJson:!0,query:{page:null!==(_=null===(l=a?.page)||void 0===l?void 0:l.toString())&&void 0!==_?_:"",per_page:null!==(x=null===(M=a?.perPage)||void 0===M?void 0:M.toString())&&void 0!==x?x:""},xform:Xi});if(be.error)throw be.error;const ke=yield be.json(),Ge=null!==(R=be.headers.get("x-total-count"))&&void 0!==R?R:0,Fe=null!==(K=null===(B=be.headers.get("link"))||void 0===B?void 0:B.split(","))&&void 0!==K?K:[];return Fe.length>0&&(Fe.forEach(Se=>{const Le=parseInt(Se.split(";")[0].split("=")[1].substring(0,1)),Ve=JSON.parse(Se.split(";")[1].split("=")[1]);Z[`${Ve}Page`]=Le}),Z.total=parseInt(Ge)),{data:Object.assign(Object.assign({},ke),Z),error:null}}catch(Z){if(lt(Z))return{data:{users:[]},error:Z};throw Z}})()}getUserById(a){var o=this;return(0,u.A)(function*(){Rr(a);try{return yield Ft(o.fetch,"GET",`${o.url}/admin/users/${a}`,{headers:o.headers,xform:is})}catch(l){if(lt(l))return{data:{user:null},error:l};throw l}})()}updateUserById(a,o){var l=this;return(0,u.A)(function*(){Rr(a);try{return yield Ft(l.fetch,"PUT",`${l.url}/admin/users/${a}`,{body:o,headers:l.headers,xform:is})}catch(_){if(lt(_))return{data:{user:null},error:_};throw _}})()}deleteUser(a){var o=this;return(0,u.A)(function*(l,_=!1){Rr(l);try{return yield Ft(o.fetch,"DELETE",`${o.url}/admin/users/${l}`,{headers:o.headers,body:{should_soft_delete:_},xform:is})}catch(M){if(lt(M))return{data:{user:null},error:M};throw M}}).apply(this,arguments)}_listFactors(a){var o=this;return(0,u.A)(function*(){Rr(a.userId);try{const{data:l,error:_}=yield Ft(o.fetch,"GET",`${o.url}/admin/users/${a.userId}/factors`,{headers:o.headers,xform:M=>({data:{factors:M},error:null})});return{data:l,error:_}}catch(l){if(lt(l))return{data:null,error:l};throw l}})()}_deleteFactor(a){var o=this;return(0,u.A)(function*(){Rr(a.userId),Rr(a.id);try{return{data:yield Ft(o.fetch,"DELETE",`${o.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:o.headers}),error:null}}catch(l){if(lt(l))return{data:null,error:l};throw l}})()}_listOAuthClients(a){var o=this;return(0,u.A)(function*(){var l,_,M,x,R,B,K;try{const Z={nextPage:null,lastPage:0,total:0},be=yield Ft(o.fetch,"GET",`${o.url}/admin/oauth/clients`,{headers:o.headers,noResolveJson:!0,query:{page:null!==(_=null===(l=a?.page)||void 0===l?void 0:l.toString())&&void 0!==_?_:"",per_page:null!==(x=null===(M=a?.perPage)||void 0===M?void 0:M.toString())&&void 0!==x?x:""},xform:Xi});if(be.error)throw be.error;const ke=yield be.json(),Ge=null!==(R=be.headers.get("x-total-count"))&&void 0!==R?R:0,Fe=null!==(K=null===(B=be.headers.get("link"))||void 0===B?void 0:B.split(","))&&void 0!==K?K:[];return Fe.length>0&&(Fe.forEach(Se=>{const Le=parseInt(Se.split(";")[0].split("=")[1].substring(0,1)),Ve=JSON.parse(Se.split(";")[1].split("=")[1]);Z[`${Ve}Page`]=Le}),Z.total=parseInt(Ge)),{data:Object.assign(Object.assign({},ke),Z),error:null}}catch(Z){if(lt(Z))return{data:{clients:[]},error:Z};throw Z}})()}_createOAuthClient(a){var o=this;return(0,u.A)(function*(){try{return yield Ft(o.fetch,"POST",`${o.url}/admin/oauth/clients`,{body:a,headers:o.headers,xform:l=>({data:l,error:null})})}catch(l){if(lt(l))return{data:null,error:l};throw l}})()}_getOAuthClient(a){var o=this;return(0,u.A)(function*(){try{return yield Ft(o.fetch,"GET",`${o.url}/admin/oauth/clients/${a}`,{headers:o.headers,xform:l=>({data:l,error:null})})}catch(l){if(lt(l))return{data:null,error:l};throw l}})()}_updateOAuthClient(a,o){var l=this;return(0,u.A)(function*(){try{return yield Ft(l.fetch,"PUT",`${l.url}/admin/oauth/clients/${a}`,{body:o,headers:l.headers,xform:_=>({data:_,error:null})})}catch(_){if(lt(_))return{data:null,error:_};throw _}})()}_deleteOAuthClient(a){var o=this;return(0,u.A)(function*(){try{return yield Ft(o.fetch,"DELETE",`${o.url}/admin/oauth/clients/${a}`,{headers:o.headers,noResolveJson:!0}),{data:null,error:null}}catch(l){if(lt(l))return{data:null,error:l};throw l}})()}_regenerateOAuthClientSecret(a){var o=this;return(0,u.A)(function*(){try{return yield Ft(o.fetch,"POST",`${o.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:o.headers,xform:l=>({data:l,error:null})})}catch(l){if(lt(l))return{data:null,error:l};throw l}})()}}function Br(m={}){return{getItem:a=>m[a]||null,setItem:(a,o)=>{m[a]=o},removeItem:a=>{delete m[a]}}}const Vs={debug:!!(globalThis&&Cr()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))};class di extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class Us extends di{}function Mo(m,a,o){return co.apply(this,arguments)}function co(){return co=(0,u.A)(function*(m,a,o){Vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",m,a);const l=new globalThis.AbortController;return a>0&&setTimeout(()=>{l.abort(),Vs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",m)},a),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(m,0===a?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},function(){var _=(0,u.A)(function*(M){if(!M){if(0===a)throw Vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",m),new Us(`Acquiring an exclusive Navigator LockManager lock "${m}" immediately failed`);if(Vs.debug)try{const x=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(x,null,"  "))}catch(x){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",x)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield o()}Vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",m,M.name);try{return yield o()}finally{Vs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",m,M.name)}});return function(M){return _.apply(this,arguments)}}()))}),co.apply(this,arguments)}function S(m){if(!/^0x[a-fA-F0-9]{40}$/.test(m))throw new Error(`@supabase/auth-js: Address "${m}" is invalid.`);return m.toLowerCase()}function J(m){const a=(new TextEncoder).encode(m);return"0x"+Array.from(a,l=>l.toString(16).padStart(2,"0")).join("")}class Ie extends Error{constructor({message:a,code:o,cause:l,name:_}){var M;super(a,{cause:l}),this.__isWebAuthnError=!0,this.name=null!==(M=_??(l instanceof Error?l.name:void 0))&&void 0!==M?M:"Unknown Error",this.code=o}}class vt extends Ie{constructor(a,o){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o,message:a}),this.name="WebAuthnUnknownError",this.originalError=o}}function wn({error:m,options:a}){var o,l,_;const{publicKey:M}=a;if(!M)throw Error("options was missing required publicKey property");if("AbortError"===m.name){if(a.signal instanceof AbortSignal)return new Ie({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:m})}else if("ConstraintError"===m.name){if(!0===(null===(o=M.authenticatorSelection)||void 0===o?void 0:o.requireResidentKey))return new Ie({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:m});if("conditional"===a.mediation&&"required"===(null===(l=M.authenticatorSelection)||void 0===l?void 0:l.userVerification))return new Ie({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:m});if("required"===(null===(_=M.authenticatorSelection)||void 0===_?void 0:_.userVerification))return new Ie({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:m})}else{if("InvalidStateError"===m.name)return new Ie({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:m});if("NotAllowedError"===m.name)return new Ie({message:m.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:m});if("NotSupportedError"===m.name)return 0===M.pubKeyCredParams.filter(R=>"public-key"===R.type).length?new Ie({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:m}):new Ie({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:m});if("SecurityError"===m.name){const x=window.location.hostname;if(!$s(x))return new Ie({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:m});if(M.rp.id!==x)return new Ie({message:`The RP ID "${M.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:m})}else if("TypeError"===m.name){if(M.user.id.byteLength<1||M.user.id.byteLength>64)return new Ie({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:m})}else if("UnknownError"===m.name)return new Ie({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:m})}return new Ie({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:m})}function rn({error:m,options:a}){const{publicKey:o}=a;if(!o)throw Error("options was missing required publicKey property");if("AbortError"===m.name){if(a.signal instanceof AbortSignal)return new Ie({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:m})}else{if("NotAllowedError"===m.name)return new Ie({message:m.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:m});if("SecurityError"===m.name){const l=window.location.hostname;if(!$s(l))return new Ie({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:m});if(o.rpId!==l)return new Ie({message:`The RP ID "${o.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:m})}else if("UnknownError"===m.name)return new Ie({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:m})}return new Ie({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:m})}const nr=new class Qt{createNewAbortSignal(){if(this.controller){const o=new Error("Cancelling existing WebAuthn API call for new one");o.name="AbortError",this.controller.abort(o)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}};function Nn(m){if(!m)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(m);const{challenge:a,user:o,excludeCredentials:l}=m,_=(0,G.__rest)(m,["challenge","user","excludeCredentials"]),M=Or(a).buffer,x=Object.assign(Object.assign({},o),{id:Or(o.id).buffer}),R=Object.assign(Object.assign({},_),{challenge:M,user:x});if(l&&l.length>0){R.excludeCredentials=new Array(l.length);for(let B=0;B<l.length;B++){const K=l[B];R.excludeCredentials[B]=Object.assign(Object.assign({},K),{id:Or(K.id).buffer,type:K.type||"public-key",transports:K.transports})}}return R}function pr(m){if(!m)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(m);const{challenge:a,allowCredentials:o}=m,l=(0,G.__rest)(m,["challenge","allowCredentials"]),_=Or(a).buffer,M=Object.assign(Object.assign({},l),{challenge:_});if(o&&o.length>0){M.allowCredentials=new Array(o.length);for(let x=0;x<o.length;x++){const R=o[x];M.allowCredentials[x]=Object.assign(Object.assign({},R),{id:Or(R.id).buffer,type:R.type||"public-key",transports:R.transports})}}return M}function os(m){var a;if("toJSON"in m&&"function"==typeof m.toJSON)return m.toJSON();const o=m;return{id:m.id,rawId:m.id,response:{attestationObject:ns(new Uint8Array(m.response.attestationObject)),clientDataJSON:ns(new Uint8Array(m.response.clientDataJSON))},type:"public-key",clientExtensionResults:m.getClientExtensionResults(),authenticatorAttachment:null!==(a=o.authenticatorAttachment)&&void 0!==a?a:void 0}}function as(m){var a;if("toJSON"in m&&"function"==typeof m.toJSON)return m.toJSON();const o=m,l=m.getClientExtensionResults(),_=m.response;return{id:m.id,rawId:m.id,response:{authenticatorData:ns(new Uint8Array(_.authenticatorData)),clientDataJSON:ns(new Uint8Array(_.clientDataJSON)),signature:ns(new Uint8Array(_.signature)),userHandle:_.userHandle?ns(new Uint8Array(_.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:null!==(a=o.authenticatorAttachment)&&void 0!==a?a:void 0}}function $s(m){return"localhost"===m||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(m)}function ls(){var m,a;return!!(ln()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"==typeof(null===(m=navigator?.credentials)||void 0===m?void 0:m.create)&&"function"==typeof(null===(a=navigator?.credentials)||void 0===a?void 0:a.get))}function us(){return(us=(0,u.A)(function*(m){try{const a=yield navigator.credentials.create(m);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new vt("Browser returned unexpected credential type",a)}:{data:null,error:new vt("Empty credential response",a)}}catch(a){return{data:null,error:wn({error:a,options:m})}}})).apply(this,arguments)}function Fi(){return(Fi=(0,u.A)(function*(m){try{const a=yield navigator.credentials.get(m);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new vt("Browser returned unexpected credential type",a)}:{data:null,error:new vt("Empty credential response",a)}}catch(a){return{data:null,error:rn({error:a,options:m})}}})).apply(this,arguments)}const To={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},mo={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ei(...m){const a=_=>null!==_&&"object"==typeof _&&!Array.isArray(_),o=_=>_ instanceof ArrayBuffer||ArrayBuffer.isView(_),l={};for(const _ of m)if(_)for(const M in _){const x=_[M];if(void 0!==x)if(Array.isArray(x))l[M]=x;else if(o(x))l[M]=x;else if(a(x)){const R=l[M];l[M]=a(R)?ei(R,x):ei(x)}else l[M]=x}return l}class c{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(a){var o=this;return(0,u.A)(function*(){return o.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))})()}_challenge(a,o){var l=this;return(0,u.A)(function*({factorId:_,webauthn:M,friendlyName:x,signal:R},B){try{const{data:K,error:Z}=yield l.client.mfa.challenge({factorId:_,webauthn:M});if(!K)return{data:null,error:Z};const be=R??nr.createNewAbortSignal();if("create"===K.webauthn.type){const{user:ke}=K.webauthn.credential_options.publicKey;ke.name||(ke.name=`${ke.id}:${x}`),ke.displayName||(ke.displayName=ke.name)}switch(K.webauthn.type){case"create":{const ke=function A(m,a){return ei(To,m,a||{})}(K.webauthn.credential_options.publicKey,B?.create),{data:Ge,error:Fe}=yield function Ys(m){return us.apply(this,arguments)}({publicKey:ke,signal:be});return Ge?{data:{factorId:_,challengeId:K.id,webauthn:{type:K.webauthn.type,credential_response:Ge}},error:null}:{data:null,error:Fe}}case"request":{const ke=function h(m,a){return ei(mo,m,a||{})}(K.webauthn.credential_options.publicKey,B?.request),{data:Ge,error:Fe}=yield function Zs(m){return Fi.apply(this,arguments)}(Object.assign(Object.assign({},K.webauthn.credential_options),{publicKey:ke,signal:be}));return Ge?{data:{factorId:_,challengeId:K.id,webauthn:{type:K.webauthn.type,credential_response:Ge}},error:null}:{data:null,error:Fe}}}}catch(K){return lt(K)?{data:null,error:K}:{data:null,error:new Vr("Unexpected error in challenge",K)}}}).apply(this,arguments)}_verify(a){var o=this;return(0,u.A)(function*({challengeId:l,factorId:_,webauthn:M}){return o.client.mfa.verify({factorId:_,challengeId:l,webauthn:M})}).apply(this,arguments)}_authenticate(a,o){var l=this;return(0,u.A)(function*({factorId:_,webauthn:{rpId:M=(typeof window<"u"?window.location.hostname:void 0),rpOrigins:x=(typeof window<"u"?[window.location.origin]:void 0),signal:R}={}},B){if(!M)return{data:null,error:new Rn("rpId is required for WebAuthn authentication")};try{if(!ls())return{data:null,error:new Vr("Browser does not support WebAuthn",null)};const{data:K,error:Z}=yield l.challenge({factorId:_,webauthn:{rpId:M,rpOrigins:x},signal:R},{request:B});if(!K)return{data:null,error:Z};const{webauthn:be}=K;return l._verify({factorId:_,challengeId:K.challengeId,webauthn:{type:be.type,rpId:M,rpOrigins:x,credential_response:be.credential_response}})}catch(K){return lt(K)?{data:null,error:K}:{data:null,error:new Vr("Unexpected error in authenticate",K)}}}).apply(this,arguments)}_register(a,o){var l=this;return(0,u.A)(function*({friendlyName:_,webauthn:{rpId:M=(typeof window<"u"?window.location.hostname:void 0),rpOrigins:x=(typeof window<"u"?[window.location.origin]:void 0),signal:R}={}},B){if(!M)return{data:null,error:new Rn("rpId is required for WebAuthn registration")};try{if(!ls())return{data:null,error:new Vr("Browser does not support WebAuthn",null)};const{data:K,error:Z}=yield l._enroll({friendlyName:_});if(!K)return yield l.client.mfa.listFactors().then(Ge=>{var Fe;return null===(Fe=Ge.data)||void 0===Fe?void 0:Fe.all.find(Se=>"webauthn"===Se.factor_type&&Se.friendly_name===_&&"unverified"!==Se.status)}).then(Ge=>Ge?l.client.mfa.unenroll({factorId:Ge?.id}):void 0),{data:null,error:Z};const{data:be,error:ke}=yield l._challenge({factorId:K.id,friendlyName:K.friendly_name,webauthn:{rpId:M,rpOrigins:x},signal:R},{create:B});return be?l._verify({factorId:K.id,challengeId:be.challengeId,webauthn:{rpId:M,rpOrigins:x,type:be.webauthn.type,credential_response:be.webauthn.credential_response}}):{data:null,error:ke}}catch(K){return lt(K)?{data:null,error:K}:{data:null,error:new Vr("Unexpected error in register",K)}}}).apply(this,arguments)}}!function L(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}();const b={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:{"X-Client-Info":"gotrue-js/2.86.0"},flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};function O(m,a,o){return V.apply(this,arguments)}function V(){return(V=(0,u.A)(function*(m,a,o){return yield o()})).apply(this,arguments)}const q={},en=(()=>{class m{get jwks(){var o,l;return null!==(l=null===(o=q[this.storageKey])||void 0===o?void 0:o.jwks)&&void 0!==l?l:{keys:[]}}set jwks(o){q[this.storageKey]=Object.assign(Object.assign({},q[this.storageKey]),{jwks:o})}get jwks_cached_at(){var o,l;return null!==(l=null===(o=q[this.storageKey])||void 0===o?void 0:o.cachedAt)&&void 0!==l?l:Number.MIN_SAFE_INTEGER}set jwks_cached_at(o){q[this.storageKey]=Object.assign(Object.assign({},q[this.storageKey]),{cachedAt:o})}constructor(o){var _,M,x,l=this;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const R=Object.assign(Object.assign({},b),o);if(this.storageKey=R.storageKey,this.instanceID=null!==(_=m.nextInstanceID[this.storageKey])&&void 0!==_?_:0,m.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!R.debug,"function"==typeof R.debug&&(this.logger=R.debug),this.instanceID>0&&ln()){const B=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(B),this.logDebugMessages&&console.trace(B)}if(this.persistSession=R.persistSession,this.autoRefreshToken=R.autoRefreshToken,this.admin=new ki({url:R.url,headers:R.headers,fetch:R.fetch}),this.url=R.url,this.headers=R.headers,this.fetch=Qs(R.fetch),this.lock=R.lock||O,this.detectSessionInUrl=R.detectSessionInUrl,this.flowType=R.flowType,this.hasCustomAuthorizationHeader=R.hasCustomAuthorizationHeader,this.throwOnError=R.throwOnError,this.lock=R.lock?R.lock:ln()&&null!==(M=globalThis?.navigator)&&void 0!==M&&M.locks?Mo:O,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new c(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(R.storage?this.storage=R.storage:Cr()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Br(this.memoryStorage)),R.userStorage&&(this.userStorage=R.userStorage)):(this.memoryStorage={},this.storage=Br(this.memoryStorage)),ln()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(B){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",B)}null===(x=this.broadcastChannel)||void 0===x||x.addEventListener("message",function(){var B=(0,u.A)(function*(K){l._debug("received broadcast notification from other tab or client",K),yield l._notifyAllSubscribers(K.data.event,K.data.session,!1)});return function(K){return B.apply(this,arguments)}}())}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(o){if(this.throwOnError&&o&&o.error)throw o.error;return o}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (2.86.0) ${(new Date).toISOString()}`}_debug(...o){return this.logDebugMessages&&this.logger(this._logPrefix(),...o),this}initialize(){var o=this;return(0,u.A)(function*(){return o.initializePromise||(o.initializePromise=(0,u.A)(function*(){return yield o._acquireLock(-1,(0,u.A)(function*(){return yield o._initialize()}))})()),yield o.initializePromise})()}_initialize(){var o=this;return(0,u.A)(function*(){var l;try{let _={},M="none";if(ln()&&(_=function gs(m){const a={},o=new URL(m);if(o.hash&&"#"===o.hash[0])try{new URLSearchParams(o.hash.substring(1)).forEach((_,M)=>{a[M]=_})}catch{}return o.searchParams.forEach((l,_)=>{a[_]=l}),a}(window.location.href),o._isImplicitGrantCallback(_)?M="implicit":(yield o._isPKCECallback(_))&&(M="pkce")),ln()&&o.detectSessionInUrl&&"none"!==M){const{data:x,error:R}=yield o._getSessionFromURL(_,M);if(R){if(o._debug("#_initialize()","error detecting session from URL",R),function Xs(m){return lt(m)&&"AuthImplicitGrantRedirectError"===m.name}(R)){const Z=null===(l=R.details)||void 0===l?void 0:l.code;if("identity_already_exists"===Z||"identity_not_found"===Z||"single_identity_not_deletable"===Z)return{error:R}}return yield o._removeSession(),{error:R}}const{session:B,redirectType:K}=x;return o._debug("#_initialize()","detected session in URL",B,"redirect type",K),yield o._saveSession(B),setTimeout((0,u.A)(function*(){"recovery"===K?yield o._notifyAllSubscribers("PASSWORD_RECOVERY",B):yield o._notifyAllSubscribers("SIGNED_IN",B)}),0),{error:null}}return yield o._recoverAndRefresh(),{error:null}}catch(_){return lt(_)?o._returnResult({error:_}):o._returnResult({error:new Vr("Unexpected error during initialization",_)})}finally{yield o._handleVisibilityChange(),o._debug("#_initialize()","end")}})()}signInAnonymously(o){var l=this;return(0,u.A)(function*(){var _,M,x;try{const R=yield Ft(l.fetch,"POST",`${l.url}/signup`,{headers:l.headers,body:{data:null!==(M=null===(_=o?.options)||void 0===_?void 0:_.data)&&void 0!==M?M:{},gotrue_meta_security:{captcha_token:null===(x=o?.options)||void 0===x?void 0:x.captchaToken}},xform:ys}),{data:B,error:K}=R;if(K||!B)return l._returnResult({data:{user:null,session:null},error:K});const Z=B.session,be=B.user;return B.session&&(yield l._saveSession(B.session),yield l._notifyAllSubscribers("SIGNED_IN",Z)),l._returnResult({data:{user:be,session:Z},error:null})}catch(R){if(lt(R))return l._returnResult({data:{user:null,session:null},error:R});throw R}})()}signUp(o){var l=this;return(0,u.A)(function*(){var _,M,x;try{let R;if("email"in o){const{email:ke,password:Ge,options:Fe}=o;let Se=null,Le=null;"pkce"===l.flowType&&([Se,Le]=yield $(l.storage,l.storageKey)),R=yield Ft(l.fetch,"POST",`${l.url}/signup`,{headers:l.headers,redirectTo:Fe?.emailRedirectTo,body:{email:ke,password:Ge,data:null!==(_=Fe?.data)&&void 0!==_?_:{},gotrue_meta_security:{captcha_token:Fe?.captchaToken},code_challenge:Se,code_challenge_method:Le},xform:ys})}else{if(!("phone"in o))throw new pn("You must provide either an email or phone number and a password");{const{phone:ke,password:Ge,options:Fe}=o;R=yield Ft(l.fetch,"POST",`${l.url}/signup`,{headers:l.headers,body:{phone:ke,password:Ge,data:null!==(M=Fe?.data)&&void 0!==M?M:{},channel:null!==(x=Fe?.channel)&&void 0!==x?x:"sms",gotrue_meta_security:{captcha_token:Fe?.captchaToken}},xform:ys})}}const{data:B,error:K}=R;if(K||!B)return l._returnResult({data:{user:null,session:null},error:K});const Z=B.session,be=B.user;return B.session&&(yield l._saveSession(B.session),yield l._notifyAllSubscribers("SIGNED_IN",Z)),l._returnResult({data:{user:be,session:Z},error:null})}catch(R){if(lt(R))return l._returnResult({data:{user:null,session:null},error:R});throw R}})()}signInWithPassword(o){var l=this;return(0,u.A)(function*(){try{let _;if("email"in o){const{email:R,password:B,options:K}=o;_=yield Ft(l.fetch,"POST",`${l.url}/token?grant_type=password`,{headers:l.headers,body:{email:R,password:B,gotrue_meta_security:{captcha_token:K?.captchaToken}},xform:Yn})}else{if(!("phone"in o))throw new pn("You must provide either an email or phone number and a password");{const{phone:R,password:B,options:K}=o;_=yield Ft(l.fetch,"POST",`${l.url}/token?grant_type=password`,{headers:l.headers,body:{phone:R,password:B,gotrue_meta_security:{captcha_token:K?.captchaToken}},xform:Yn})}}const{data:M,error:x}=_;if(x)return l._returnResult({data:{user:null,session:null},error:x});if(!M||!M.session||!M.user){const R=new Pt;return l._returnResult({data:{user:null,session:null},error:R})}return M.session&&(yield l._saveSession(M.session),yield l._notifyAllSubscribers("SIGNED_IN",M.session)),l._returnResult({data:Object.assign({user:M.user,session:M.session},M.weak_password?{weakPassword:M.weak_password}:null),error:x})}catch(_){if(lt(_))return l._returnResult({data:{user:null,session:null},error:_});throw _}})()}signInWithOAuth(o){var l=this;return(0,u.A)(function*(){var _,M,x,R;return yield l._handleProviderSignIn(o.provider,{redirectTo:null===(_=o.options)||void 0===_?void 0:_.redirectTo,scopes:null===(M=o.options)||void 0===M?void 0:M.scopes,queryParams:null===(x=o.options)||void 0===x?void 0:x.queryParams,skipBrowserRedirect:null===(R=o.options)||void 0===R?void 0:R.skipBrowserRedirect})})()}exchangeCodeForSession(o){var l=this;return(0,u.A)(function*(){return yield l.initializePromise,l._acquireLock(-1,(0,u.A)(function*(){return l._exchangeCodeForSession(o)}))})()}signInWithWeb3(o){var l=this;return(0,u.A)(function*(){const{chain:_}=o;switch(_){case"ethereum":return yield l.signInWithEthereum(o);case"solana":return yield l.signInWithSolana(o);default:throw new Error(`@supabase/auth-js: Unsupported chain "${_}"`)}})()}signInWithEthereum(o){var l=this;return(0,u.A)(function*(){var _,M,x,R,B,K,Z,be,ke,Ge,Fe;let Se,Le;if("message"in o)Se=o.message,Le=o.signature;else{const{wallet:pt,statement:Ut,options:de}=o;let We;if(ln())if("object"==typeof pt)We=pt;else{const Zn=window;if(!("ethereum"in Zn)||"object"!=typeof Zn.ethereum||!("request"in Zn.ethereum)||"function"!=typeof Zn.ethereum.request)throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");We=Zn.ethereum}else{if("object"!=typeof pt||!de?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");We=pt}const Dn=new URL(null!==(_=de?.url)&&void 0!==_?_:window.location.href),_n=yield We.request({method:"eth_requestAccounts"}).then(Zn=>Zn).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_n||0===_n.length)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Gt=S(_n[0]);let yr=null===(M=de?.signInWithEthereum)||void 0===M?void 0:M.chainId;yr||(yr=function N(m){return parseInt(m,16)}(yield We.request({method:"eth_chainId"}))),Se=function Ce(m){var a;const{chainId:o,domain:l,expirationTime:_,issuedAt:M=new Date,nonce:x,notBefore:R,requestId:B,resources:K,scheme:Z,uri:be,version:ke}=m;if(!Number.isInteger(o))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${o}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(x&&x.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${x}`);if(!be)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==ke)throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${ke}`);if(null!==(a=m.statement)&&void 0!==a&&a.includes("\n"))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${m.statement}`);const Le=`${Z?`${Z}://${l}`:l} wants you to sign in with your Ethereum account:\n${S(m.address)}\n\n${m.statement?`${m.statement}\n`:""}`;let Ve=`URI: ${be}\nVersion: ${ke}\nChain ID: ${o}${x?`\nNonce: ${x}`:""}\nIssued At: ${M.toISOString()}`;if(_&&(Ve+=`\nExpiration Time: ${_.toISOString()}`),R&&(Ve+=`\nNot Before: ${R.toISOString()}`),B&&(Ve+=`\nRequest ID: ${B}`),K){let pt="\nResources:";for(const Ut of K){if(!Ut||"string"!=typeof Ut)throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${Ut}`);pt+=`\n- ${Ut}`}Ve+=pt}return`${Le}\n${Ve}`}({domain:Dn.host,address:Gt,statement:Ut,uri:Dn.href,version:"1",chainId:yr,nonce:null===(x=de?.signInWithEthereum)||void 0===x?void 0:x.nonce,issuedAt:null!==(B=null===(R=de?.signInWithEthereum)||void 0===R?void 0:R.issuedAt)&&void 0!==B?B:new Date,expirationTime:null===(K=de?.signInWithEthereum)||void 0===K?void 0:K.expirationTime,notBefore:null===(Z=de?.signInWithEthereum)||void 0===Z?void 0:Z.notBefore,requestId:null===(be=de?.signInWithEthereum)||void 0===be?void 0:be.requestId,resources:null===(ke=de?.signInWithEthereum)||void 0===ke?void 0:ke.resources}),Le=yield We.request({method:"personal_sign",params:[J(Se),Gt]})}try{const{data:Ve,error:pt}=yield Ft(l.fetch,"POST",`${l.url}/token?grant_type=web3`,{headers:l.headers,body:Object.assign({chain:"ethereum",message:Se,signature:Le},null!==(Ge=o.options)&&void 0!==Ge&&Ge.captchaToken?{gotrue_meta_security:{captcha_token:null===(Fe=o.options)||void 0===Fe?void 0:Fe.captchaToken}}:null),xform:ys});if(pt)throw pt;if(!Ve||!Ve.session||!Ve.user){const Ut=new Pt;return l._returnResult({data:{user:null,session:null},error:Ut})}return Ve.session&&(yield l._saveSession(Ve.session),yield l._notifyAllSubscribers("SIGNED_IN",Ve.session)),l._returnResult({data:Object.assign({},Ve),error:pt})}catch(Ve){if(lt(Ve))return l._returnResult({data:{user:null,session:null},error:Ve});throw Ve}})()}signInWithSolana(o){var l=this;return(0,u.A)(function*(){var _,M,x,R,B,K,Z,be,ke,Ge,Fe,Se;let Le,Ve;if("message"in o)Le=o.message,Ve=o.signature;else{const{wallet:Ut,statement:de,options:We}=o;let Dn;if(ln())if("object"==typeof Ut)Dn=Ut;else{const Gt=window;if(!("solana"in Gt)||"object"!=typeof Gt.solana||!("signIn"in Gt.solana&&"function"==typeof Gt.solana.signIn||"signMessage"in Gt.solana&&"function"==typeof Gt.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");Dn=Gt.solana}else{if("object"!=typeof Ut||!We?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Dn=Ut}const _n=new URL(null!==(_=We?.url)&&void 0!==_?_:window.location.href);if("signIn"in Dn&&Dn.signIn){const Gt=yield Dn.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},We?.signInWithSolana),{version:"1",domain:_n.host,uri:_n.href}),de?{statement:de}:null));let yr;if(Array.isArray(Gt)&&Gt[0]&&"object"==typeof Gt[0])yr=Gt[0];else{if(!(Gt&&"object"==typeof Gt&&"signedMessage"in Gt&&"signature"in Gt))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");yr=Gt}if(!("signedMessage"in yr&&"signature"in yr&&("string"==typeof yr.signedMessage||yr.signedMessage instanceof Uint8Array)&&yr.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");Le="string"==typeof yr.signedMessage?yr.signedMessage:(new TextDecoder).decode(yr.signedMessage),Ve=yr.signature}else{if(!("signMessage"in Dn&&"function"==typeof Dn.signMessage&&"publicKey"in Dn&&"object"==typeof Dn&&Dn.publicKey&&"toBase58"in Dn.publicKey&&"function"==typeof Dn.publicKey.toBase58))throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");Le=[`${_n.host} wants you to sign in with your Solana account:`,Dn.publicKey.toBase58(),...de?["",de,""]:[""],"Version: 1",`URI: ${_n.href}`,`Issued At: ${null!==(x=null===(M=We?.signInWithSolana)||void 0===M?void 0:M.issuedAt)&&void 0!==x?x:(new Date).toISOString()}`,...null!==(R=We?.signInWithSolana)&&void 0!==R&&R.notBefore?[`Not Before: ${We.signInWithSolana.notBefore}`]:[],...null!==(B=We?.signInWithSolana)&&void 0!==B&&B.expirationTime?[`Expiration Time: ${We.signInWithSolana.expirationTime}`]:[],...null!==(K=We?.signInWithSolana)&&void 0!==K&&K.chainId?[`Chain ID: ${We.signInWithSolana.chainId}`]:[],...null!==(Z=We?.signInWithSolana)&&void 0!==Z&&Z.nonce?[`Nonce: ${We.signInWithSolana.nonce}`]:[],...null!==(be=We?.signInWithSolana)&&void 0!==be&&be.requestId?[`Request ID: ${We.signInWithSolana.requestId}`]:[],...null!==(Ge=null===(ke=We?.signInWithSolana)||void 0===ke?void 0:ke.resources)&&void 0!==Ge&&Ge.length?["Resources",...We.signInWithSolana.resources.map(yr=>`- ${yr}`)]:[]].join("\n");const Gt=yield Dn.signMessage((new TextEncoder).encode(Le),"utf8");if(!(Gt&&Gt instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");Ve=Gt}}try{const{data:pt,error:Ut}=yield Ft(l.fetch,"POST",`${l.url}/token?grant_type=web3`,{headers:l.headers,body:Object.assign({chain:"solana",message:Le,signature:ns(Ve)},null!==(Fe=o.options)&&void 0!==Fe&&Fe.captchaToken?{gotrue_meta_security:{captcha_token:null===(Se=o.options)||void 0===Se?void 0:Se.captchaToken}}:null),xform:ys});if(Ut)throw Ut;if(!pt||!pt.session||!pt.user){const de=new Pt;return l._returnResult({data:{user:null,session:null},error:de})}return pt.session&&(yield l._saveSession(pt.session),yield l._notifyAllSubscribers("SIGNED_IN",pt.session)),l._returnResult({data:Object.assign({},pt),error:Ut})}catch(pt){if(lt(pt))return l._returnResult({data:{user:null,session:null},error:pt});throw pt}})()}_exchangeCodeForSession(o){var l=this;return(0,u.A)(function*(){const _=yield Fs(l.storage,`${l.storageKey}-code-verifier`),[M,x]=(_??"").split("/");try{const{data:R,error:B}=yield Ft(l.fetch,"POST",`${l.url}/token?grant_type=pkce`,{headers:l.headers,body:{auth_code:o,code_verifier:M},xform:ys});if(yield Hn(l.storage,`${l.storageKey}-code-verifier`),B)throw B;if(!R||!R.session||!R.user){const K=new Pt;return l._returnResult({data:{user:null,session:null,redirectType:null},error:K})}return R.session&&(yield l._saveSession(R.session),yield l._notifyAllSubscribers("SIGNED_IN",R.session)),l._returnResult({data:Object.assign(Object.assign({},R),{redirectType:x??null}),error:B})}catch(R){if(lt(R))return l._returnResult({data:{user:null,session:null,redirectType:null},error:R});throw R}})()}signInWithIdToken(o){var l=this;return(0,u.A)(function*(){try{const{options:_,provider:M,token:x,access_token:R,nonce:B}=o,K=yield Ft(l.fetch,"POST",`${l.url}/token?grant_type=id_token`,{headers:l.headers,body:{provider:M,id_token:x,access_token:R,nonce:B,gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:ys}),{data:Z,error:be}=K;if(be)return l._returnResult({data:{user:null,session:null},error:be});if(!Z||!Z.session||!Z.user){const ke=new Pt;return l._returnResult({data:{user:null,session:null},error:ke})}return Z.session&&(yield l._saveSession(Z.session),yield l._notifyAllSubscribers("SIGNED_IN",Z.session)),l._returnResult({data:Z,error:be})}catch(_){if(lt(_))return l._returnResult({data:{user:null,session:null},error:_});throw _}})()}signInWithOtp(o){var l=this;return(0,u.A)(function*(){var _,M,x,R,B;try{if("email"in o){const{email:K,options:Z}=o;let be=null,ke=null;"pkce"===l.flowType&&([be,ke]=yield $(l.storage,l.storageKey));const{error:Ge}=yield Ft(l.fetch,"POST",`${l.url}/otp`,{headers:l.headers,body:{email:K,data:null!==(_=Z?.data)&&void 0!==_?_:{},create_user:null===(M=Z?.shouldCreateUser)||void 0===M||M,gotrue_meta_security:{captcha_token:Z?.captchaToken},code_challenge:be,code_challenge_method:ke},redirectTo:Z?.emailRedirectTo});return l._returnResult({data:{user:null,session:null},error:Ge})}if("phone"in o){const{phone:K,options:Z}=o,{data:be,error:ke}=yield Ft(l.fetch,"POST",`${l.url}/otp`,{headers:l.headers,body:{phone:K,data:null!==(x=Z?.data)&&void 0!==x?x:{},create_user:null===(R=Z?.shouldCreateUser)||void 0===R||R,gotrue_meta_security:{captcha_token:Z?.captchaToken},channel:null!==(B=Z?.channel)&&void 0!==B?B:"sms"}});return l._returnResult({data:{user:null,session:null,messageId:be?.message_id},error:ke})}throw new pn("You must provide either an email or phone number.")}catch(K){if(lt(K))return l._returnResult({data:{user:null,session:null},error:K});throw K}})()}verifyOtp(o){var l=this;return(0,u.A)(function*(){var _,M;try{let x,R;"options"in o&&(x=null===(_=o.options)||void 0===_?void 0:_.redirectTo,R=null===(M=o.options)||void 0===M?void 0:M.captchaToken);const{data:B,error:K}=yield Ft(l.fetch,"POST",`${l.url}/verify`,{headers:l.headers,body:Object.assign(Object.assign({},o),{gotrue_meta_security:{captcha_token:R}}),redirectTo:x,xform:ys});if(K)throw K;if(!B)throw new Error("An error occurred on token verification.");const Z=B.session,be=B.user;return Z?.access_token&&(yield l._saveSession(Z),yield l._notifyAllSubscribers("recovery"==o.type?"PASSWORD_RECOVERY":"SIGNED_IN",Z)),l._returnResult({data:{user:be,session:Z},error:null})}catch(x){if(lt(x))return l._returnResult({data:{user:null,session:null},error:x});throw x}})()}signInWithSSO(o){var l=this;return(0,u.A)(function*(){var _,M,x,R,B;try{let K=null,Z=null;"pkce"===l.flowType&&([K,Z]=yield $(l.storage,l.storageKey));const be=yield Ft(l.fetch,"POST",`${l.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in o?{provider_id:o.providerId}:null),"domain"in o?{domain:o.domain}:null),{redirect_to:null!==(M=null===(_=o.options)||void 0===_?void 0:_.redirectTo)&&void 0!==M?M:void 0}),null!==(x=o?.options)&&void 0!==x&&x.captchaToken?{gotrue_meta_security:{captcha_token:o.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:K,code_challenge_method:Z}),headers:l.headers,xform:qr});return!(null===(R=be.data)||void 0===R)&&R.url&&ln()&&!(null!==(B=o.options)&&void 0!==B&&B.skipBrowserRedirect)&&window.location.assign(be.data.url),l._returnResult(be)}catch(K){if(lt(K))return l._returnResult({data:null,error:K});throw K}})()}reauthenticate(){var o=this;return(0,u.A)(function*(){return yield o.initializePromise,yield o._acquireLock(-1,(0,u.A)(function*(){return yield o._reauthenticate()}))})()}_reauthenticate(){var o=this;return(0,u.A)(function*(){try{return yield o._useSession(function(){var l=(0,u.A)(function*(_){const{data:{session:M},error:x}=_;if(x)throw x;if(!M)throw new tn;const{error:R}=yield Ft(o.fetch,"GET",`${o.url}/reauthenticate`,{headers:o.headers,jwt:M.access_token});return o._returnResult({data:{user:null,session:null},error:R})});return function(_){return l.apply(this,arguments)}}())}catch(l){if(lt(l))return o._returnResult({data:{user:null,session:null},error:l});throw l}})()}resend(o){var l=this;return(0,u.A)(function*(){try{const _=`${l.url}/resend`;if("email"in o){const{email:M,type:x,options:R}=o,{error:B}=yield Ft(l.fetch,"POST",_,{headers:l.headers,body:{email:M,type:x,gotrue_meta_security:{captcha_token:R?.captchaToken}},redirectTo:R?.emailRedirectTo});return l._returnResult({data:{user:null,session:null},error:B})}if("phone"in o){const{phone:M,type:x,options:R}=o,{data:B,error:K}=yield Ft(l.fetch,"POST",_,{headers:l.headers,body:{phone:M,type:x,gotrue_meta_security:{captcha_token:R?.captchaToken}}});return l._returnResult({data:{user:null,session:null,messageId:B?.message_id},error:K})}throw new pn("You must provide either an email or phone number and a type")}catch(_){if(lt(_))return l._returnResult({data:{user:null,session:null},error:_});throw _}})()}getSession(){var o=this;return(0,u.A)(function*(){return yield o.initializePromise,yield o._acquireLock(-1,(0,u.A)(function*(){return o._useSession(function(){var _=(0,u.A)(function*(M){return M});return function(M){return _.apply(this,arguments)}}())}))})()}_acquireLock(o,l){var _=this;return(0,u.A)(function*(){_._debug("#_acquireLock","begin",o);try{if(_.lockAcquired){const M=_.pendingInLock.length?_.pendingInLock[_.pendingInLock.length-1]:Promise.resolve(),x=(0,u.A)(function*(){return yield M,yield l()})();return _.pendingInLock.push((0,u.A)(function*(){try{yield x}catch{}})()),x}return yield _.lock(`lock:${_.storageKey}`,o,(0,u.A)(function*(){_._debug("#_acquireLock","lock acquired for storage key",_.storageKey);try{_.lockAcquired=!0;const M=l();for(_.pendingInLock.push((0,u.A)(function*(){try{yield M}catch{}})()),yield M;_.pendingInLock.length;){const x=[..._.pendingInLock];yield Promise.all(x),_.pendingInLock.splice(0,x.length)}return yield M}finally{_._debug("#_acquireLock","lock released for storage key",_.storageKey),_.lockAcquired=!1}}))}finally{_._debug("#_acquireLock","end")}})()}_useSession(o){var l=this;return(0,u.A)(function*(){l._debug("#_useSession","begin");try{const _=yield l.__loadSession();return yield o(_)}finally{l._debug("#_useSession","end")}})()}__loadSession(){var o=this;return(0,u.A)(function*(){o._debug("#__loadSession()","begin"),o.lockAcquired||o._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let l=null;const _=yield Fs(o.storage,o.storageKey);if(o._debug("#getSession()","session from storage",_),null!==_&&(o._isValidSession(_)?l=_:(o._debug("#getSession()","session from storage is not valid"),yield o._removeSession())),!l)return{data:{session:null},error:null};const M=!!l.expires_at&&1e3*l.expires_at-Date.now()<9e4;if(o._debug("#__loadSession()",`session has${M?"":" not"} expired`,"expires_at",l.expires_at),!M){if(o.userStorage){const B=yield Fs(o.userStorage,o.storageKey+"-user");l.user=B?.user?B.user:Mr()}if(o.storage.isServer&&l.user&&!l.user.__isUserNotAvailableProxy){const B={value:o.suppressGetSessionWarning};l.user=function Pi(m,a){return new Proxy(m,{get:(o,l,_)=>{if("__isInsecureUserWarningProxy"===l)return!0;if("symbol"==typeof l){const M=l.toString();if("Symbol(Symbol.toPrimitive)"===M||"Symbol(Symbol.toStringTag)"===M||"Symbol(util.inspect.custom)"===M||"Symbol(nodejs.util.inspect.custom)"===M)return Reflect.get(o,l,_)}return!a.value&&"string"==typeof l&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(o,l,_)}})}(l.user,B),B.value&&(o.suppressGetSessionWarning=!0)}return{data:{session:l},error:null}}const{data:x,error:R}=yield o._callRefreshToken(l.refresh_token);return o._returnResult(R?{data:{session:null},error:R}:{data:{session:x},error:null})}finally{o._debug("#__loadSession()","end")}})()}getUser(o){var l=this;return(0,u.A)(function*(){return o?yield l._getUser(o):(yield l.initializePromise,yield l._acquireLock(-1,(0,u.A)(function*(){return yield l._getUser()})))})()}_getUser(o){var l=this;return(0,u.A)(function*(){try{return o?yield Ft(l.fetch,"GET",`${l.url}/user`,{headers:l.headers,jwt:o,xform:is}):yield l._useSession(function(){var _=(0,u.A)(function*(M){var x,R,B;const{data:K,error:Z}=M;if(Z)throw Z;return null!==(x=K.session)&&void 0!==x&&x.access_token||l.hasCustomAuthorizationHeader?yield Ft(l.fetch,"GET",`${l.url}/user`,{headers:l.headers,jwt:null!==(B=null===(R=K.session)||void 0===R?void 0:R.access_token)&&void 0!==B?B:void 0,xform:is}):{data:{user:null},error:new tn}});return function(M){return _.apply(this,arguments)}}())}catch(_){if(lt(_))return function nt(m){return lt(m)&&"AuthSessionMissingError"===m.name}(_)&&(yield l._removeSession(),yield Hn(l.storage,`${l.storageKey}-code-verifier`)),l._returnResult({data:{user:null},error:_});throw _}})()}updateUser(o){var l=this;return(0,u.A)(function*(_,M={}){return yield l.initializePromise,yield l._acquireLock(-1,(0,u.A)(function*(){return yield l._updateUser(_,M)}))}).apply(this,arguments)}_updateUser(o){var l=this;return(0,u.A)(function*(_,M={}){try{return yield l._useSession(function(){var x=(0,u.A)(function*(R){const{data:B,error:K}=R;if(K)throw K;if(!B.session)throw new tn;const Z=B.session;let be=null,ke=null;"pkce"===l.flowType&&null!=_.email&&([be,ke]=yield $(l.storage,l.storageKey));const{data:Ge,error:Fe}=yield Ft(l.fetch,"PUT",`${l.url}/user`,{headers:l.headers,redirectTo:M?.emailRedirectTo,body:Object.assign(Object.assign({},_),{code_challenge:be,code_challenge_method:ke}),jwt:Z.access_token,xform:is});if(Fe)throw Fe;return Z.user=Ge.user,yield l._saveSession(Z),yield l._notifyAllSubscribers("USER_UPDATED",Z),l._returnResult({data:{user:Z.user},error:null})});return function(R){return x.apply(this,arguments)}}())}catch(x){if(lt(x))return l._returnResult({data:{user:null},error:x});throw x}}).apply(this,arguments)}setSession(o){var l=this;return(0,u.A)(function*(){return yield l.initializePromise,yield l._acquireLock(-1,(0,u.A)(function*(){return yield l._setSession(o)}))})()}_setSession(o){var l=this;return(0,u.A)(function*(){try{if(!o.access_token||!o.refresh_token)throw new tn;const _=Date.now()/1e3;let M=_,x=!0,R=null;const{payload:B}=ci(o.access_token);if(B.exp&&(M=B.exp,x=M<=_),x){const{data:K,error:Z}=yield l._callRefreshToken(o.refresh_token);if(Z)return l._returnResult({data:{user:null,session:null},error:Z});if(!K)return{data:{user:null,session:null},error:null};R=K}else{const{data:K,error:Z}=yield l._getUser(o.access_token);if(Z)throw Z;R={access_token:o.access_token,refresh_token:o.refresh_token,user:K.user,token_type:"bearer",expires_in:M-_,expires_at:M},yield l._saveSession(R),yield l._notifyAllSubscribers("SIGNED_IN",R)}return l._returnResult({data:{user:R.user,session:R},error:null})}catch(_){if(lt(_))return l._returnResult({data:{session:null,user:null},error:_});throw _}})()}refreshSession(o){var l=this;return(0,u.A)(function*(){return yield l.initializePromise,yield l._acquireLock(-1,(0,u.A)(function*(){return yield l._refreshSession(o)}))})()}_refreshSession(o){var l=this;return(0,u.A)(function*(){try{return yield l._useSession(function(){var _=(0,u.A)(function*(M){var x;if(!o){const{data:K,error:Z}=M;if(Z)throw Z;o=null!==(x=K.session)&&void 0!==x?x:void 0}if(!o?.refresh_token)throw new tn;const{data:R,error:B}=yield l._callRefreshToken(o.refresh_token);return l._returnResult(B?{data:{user:null,session:null},error:B}:R?{data:{user:R.user,session:R},error:null}:{data:{user:null,session:null},error:null})});return function(M){return _.apply(this,arguments)}}())}catch(_){if(lt(_))return l._returnResult({data:{user:null,session:null},error:_});throw _}})()}_getSessionFromURL(o,l){var _=this;return(0,u.A)(function*(){try{if(!ln())throw new fr("No browser detected.");if(o.error||o.error_description||o.error_code)throw new fr(o.error_description||"Error in URL with unspecified error_description",{error:o.error||"unspecified_error",code:o.error_code||"unspecified_code"});switch(l){case"implicit":if("pkce"===_.flowType)throw new Bn("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===_.flowType)throw new fr("Not a valid implicit grant flow url.")}if("pkce"===l){if(_._debug("#_initialize()","begin","is PKCE flow",!0),!o.code)throw new Bn("No code detected.");const{data:de,error:We}=yield _._exchangeCodeForSession(o.code);if(We)throw We;const Dn=new URL(window.location.href);return Dn.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Dn.toString()),{data:{session:de.session,redirectType:null},error:null}}const{provider_token:M,provider_refresh_token:x,access_token:R,refresh_token:B,expires_in:K,expires_at:Z,token_type:be}=o;if(!(R&&K&&B&&be))throw new fr("No session defined in URL");const ke=Math.round(Date.now()/1e3),Ge=parseInt(K);let Fe=ke+Ge;Z&&(Fe=parseInt(Z));const Se=Fe-ke;1e3*Se<=ws&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${Se}s, should have been closer to ${Ge}s`);const Le=Fe-Ge;ke-Le>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",Le,Fe,ke):ke-Le<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",Le,Fe,ke);const{data:Ve,error:pt}=yield _._getUser(R);if(pt)throw pt;const Ut={provider_token:M,provider_refresh_token:x,access_token:R,expires_in:Ge,expires_at:Fe,refresh_token:B,token_type:be,user:Ve.user};return window.location.hash="",_._debug("#_getSessionFromURL()","clearing window.location.hash"),_._returnResult({data:{session:Ut,redirectType:o.type},error:null})}catch(M){if(lt(M))return _._returnResult({data:{session:null,redirectType:null},error:M});throw M}})()}_isImplicitGrantCallback(o){return!(!o.access_token&&!o.error_description)}_isPKCECallback(o){var l=this;return(0,u.A)(function*(){const _=yield Fs(l.storage,`${l.storageKey}-code-verifier`);return!(!o.code||!_)})()}signOut(){var o=this;return(0,u.A)(function*(l={scope:"global"}){return yield o.initializePromise,yield o._acquireLock(-1,(0,u.A)(function*(){return yield o._signOut(l)}))}).apply(this,arguments)}_signOut(){var o=this;return(0,u.A)(function*({scope:l}={scope:"global"}){return yield o._useSession(function(){var _=(0,u.A)(function*(M){var x;const{data:R,error:B}=M;if(B)return o._returnResult({error:B});const K=null===(x=R.session)||void 0===x?void 0:x.access_token;if(K){const{error:Z}=yield o.admin.signOut(K,l);if(Z&&(!function li(m){return lt(m)&&"AuthApiError"===m.name}(Z)||404!==Z.status&&401!==Z.status&&403!==Z.status))return o._returnResult({error:Z})}return"others"!==l&&(yield o._removeSession(),yield Hn(o.storage,`${o.storageKey}-code-verifier`)),o._returnResult({error:null})});return function(M){return _.apply(this,arguments)}}())}).apply(this,arguments)}onAuthStateChange(o){var l=this;const _=function Ki(){return Symbol("auth-callback")}(),M={id:_,callback:o,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",_),this.stateChangeEmitters.delete(_)}};return this._debug("#onAuthStateChange()","registered callback with id",_),this.stateChangeEmitters.set(_,M),(0,u.A)(function*(){yield l.initializePromise,yield l._acquireLock(-1,(0,u.A)(function*(){l._emitInitialSession(_)}))})(),{data:{subscription:M}}}_emitInitialSession(o){var l=this;return(0,u.A)(function*(){return yield l._useSession(function(){var _=(0,u.A)(function*(M){var x,R;try{const{data:{session:B},error:K}=M;if(K)throw K;yield null===(x=l.stateChangeEmitters.get(o))||void 0===x?void 0:x.callback("INITIAL_SESSION",B),l._debug("INITIAL_SESSION","callback id",o,"session",B)}catch(B){yield null===(R=l.stateChangeEmitters.get(o))||void 0===R?void 0:R.callback("INITIAL_SESSION",null),l._debug("INITIAL_SESSION","callback id",o,"error",B),console.error(B)}});return function(M){return _.apply(this,arguments)}}())})()}resetPasswordForEmail(o){var l=this;return(0,u.A)(function*(_,M={}){let x=null,R=null;"pkce"===l.flowType&&([x,R]=yield $(l.storage,l.storageKey,!0));try{return yield Ft(l.fetch,"POST",`${l.url}/recover`,{body:{email:_,code_challenge:x,code_challenge_method:R,gotrue_meta_security:{captcha_token:M.captchaToken}},headers:l.headers,redirectTo:M.redirectTo})}catch(B){if(lt(B))return l._returnResult({data:null,error:B});throw B}}).apply(this,arguments)}getUserIdentities(){var o=this;return(0,u.A)(function*(){var l;try{const{data:_,error:M}=yield o.getUser();if(M)throw M;return o._returnResult({data:{identities:null!==(l=_.user.identities)&&void 0!==l?l:[]},error:null})}catch(_){if(lt(_))return o._returnResult({data:null,error:_});throw _}})()}linkIdentity(o){var l=this;return(0,u.A)(function*(){return"token"in o?l.linkIdentityIdToken(o):l.linkIdentityOAuth(o)})()}linkIdentityOAuth(o){var l=this;return(0,u.A)(function*(){var _;try{const{data:M,error:x}=yield l._useSession(function(){var R=(0,u.A)(function*(B){var K,Z,be,ke,Ge;const{data:Fe,error:Se}=B;if(Se)throw Se;const Le=yield l._getUrlForProvider(`${l.url}/user/identities/authorize`,o.provider,{redirectTo:null===(K=o.options)||void 0===K?void 0:K.redirectTo,scopes:null===(Z=o.options)||void 0===Z?void 0:Z.scopes,queryParams:null===(be=o.options)||void 0===be?void 0:be.queryParams,skipBrowserRedirect:!0});return yield Ft(l.fetch,"GET",Le,{headers:l.headers,jwt:null!==(Ge=null===(ke=Fe.session)||void 0===ke?void 0:ke.access_token)&&void 0!==Ge?Ge:void 0})});return function(B){return R.apply(this,arguments)}}());if(x)throw x;return ln()&&!(null!==(_=o.options)&&void 0!==_&&_.skipBrowserRedirect)&&window.location.assign(M?.url),l._returnResult({data:{provider:o.provider,url:M?.url},error:null})}catch(M){if(lt(M))return l._returnResult({data:{provider:o.provider,url:null},error:M});throw M}})()}linkIdentityIdToken(o){var l=this;return(0,u.A)(function*(){return yield l._useSession(function(){var _=(0,u.A)(function*(M){var x;try{const{error:R,data:{session:B}}=M;if(R)throw R;const{options:K,provider:Z,token:be,access_token:ke,nonce:Ge}=o,Fe=yield Ft(l.fetch,"POST",`${l.url}/token?grant_type=id_token`,{headers:l.headers,jwt:null!==(x=B?.access_token)&&void 0!==x?x:void 0,body:{provider:Z,id_token:be,access_token:ke,nonce:Ge,link_identity:!0,gotrue_meta_security:{captcha_token:K?.captchaToken}},xform:ys}),{data:Se,error:Le}=Fe;return Le?l._returnResult({data:{user:null,session:null},error:Le}):Se&&Se.session&&Se.user?(Se.session&&(yield l._saveSession(Se.session),yield l._notifyAllSubscribers("USER_UPDATED",Se.session)),l._returnResult({data:Se,error:Le})):l._returnResult({data:{user:null,session:null},error:new Pt})}catch(R){if(lt(R))return l._returnResult({data:{user:null,session:null},error:R});throw R}});return function(M){return _.apply(this,arguments)}}())})()}unlinkIdentity(o){var l=this;return(0,u.A)(function*(){try{return yield l._useSession(function(){var _=(0,u.A)(function*(M){var x,R;const{data:B,error:K}=M;if(K)throw K;return yield Ft(l.fetch,"DELETE",`${l.url}/user/identities/${o.identity_id}`,{headers:l.headers,jwt:null!==(R=null===(x=B.session)||void 0===x?void 0:x.access_token)&&void 0!==R?R:void 0})});return function(M){return _.apply(this,arguments)}}())}catch(_){if(lt(_))return l._returnResult({data:null,error:_});throw _}})()}_refreshAccessToken(o){var l=this;return(0,u.A)(function*(){const _=`#_refreshAccessToken(${o.substring(0,5)}...)`;l._debug(_,"begin");try{const M=Date.now();return yield function Wr(m,a){return new Promise((l,_)=>{(0,u.A)(function*(){for(let M=0;M<1/0;M++)try{const x=yield m(M);if(!a(M,null,x))return void l(x)}catch(x){if(!a(M,x))return void _(x)}})()})}(function(){var x=(0,u.A)(function*(R){return R>0&&(yield function Fr(m){return rs.apply(this,arguments)}(200*Math.pow(2,R-1))),l._debug(_,"refreshing attempt",R),yield Ft(l.fetch,"POST",`${l.url}/token?grant_type=refresh_token`,{body:{refresh_token:o},headers:l.headers,xform:ys})});return function(R){return x.apply(this,arguments)}}(),(x,R)=>{const B=200*Math.pow(2,x);return R&&Wn(R)&&Date.now()+B-M<ws})}catch(M){if(l._debug(_,"error",M),lt(M))return l._returnResult({data:{session:null,user:null},error:M});throw M}finally{l._debug(_,"end")}})()}_isValidSession(o){return"object"==typeof o&&null!==o&&"access_token"in o&&"refresh_token"in o&&"expires_at"in o}_handleProviderSignIn(o,l){var _=this;return(0,u.A)(function*(){const M=yield _._getUrlForProvider(`${_.url}/authorize`,o,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});return _._debug("#_handleProviderSignIn()","provider",o,"options",l,"url",M),ln()&&!l.skipBrowserRedirect&&window.location.assign(M),{data:{provider:o,url:M},error:null}})()}_recoverAndRefresh(){var o=this;return(0,u.A)(function*(){var l,_;const M="#_recoverAndRefresh()";o._debug(M,"begin");try{const x=yield Fs(o.storage,o.storageKey);if(x&&o.userStorage){let B=yield Fs(o.userStorage,o.storageKey+"-user");!o.storage.isServer&&Object.is(o.storage,o.userStorage)&&!B&&(B={user:x.user},yield xn(o.userStorage,o.storageKey+"-user",B)),x.user=null!==(l=B?.user)&&void 0!==l?l:Mr()}else if(x&&!x.user&&!x.user){const B=yield Fs(o.storage,o.storageKey+"-user");B&&B?.user?(x.user=B.user,yield Hn(o.storage,o.storageKey+"-user"),yield xn(o.storage,o.storageKey,x)):x.user=Mr()}if(o._debug(M,"session from storage",x),!o._isValidSession(x))return o._debug(M,"session is not valid"),void(null!==x&&(yield o._removeSession()));const R=1e3*(null!==(_=x.expires_at)&&void 0!==_?_:1/0)-Date.now()<9e4;if(o._debug(M,`session has${R?"":" not"} expired with margin of 90000s`),R){if(o.autoRefreshToken&&x.refresh_token){const{error:B}=yield o._callRefreshToken(x.refresh_token);B&&(console.error(B),Wn(B)||(o._debug(M,"refresh failed with a non-retryable error, removing the session",B),yield o._removeSession()))}}else if(x.user&&!0===x.user.__isUserNotAvailableProxy)try{const{data:B,error:K}=yield o._getUser(x.access_token);!K&&B?.user?(x.user=B.user,yield o._saveSession(x),yield o._notifyAllSubscribers("SIGNED_IN",x)):o._debug(M,"could not get user data, skipping SIGNED_IN notification")}catch(B){console.error("Error getting user data:",B),o._debug(M,"error getting user data, skipping SIGNED_IN notification",B)}else yield o._notifyAllSubscribers("SIGNED_IN",x)}catch(x){return o._debug(M,"error",x),void console.error(x)}finally{o._debug(M,"end")}})()}_callRefreshToken(o){var l=this;return(0,u.A)(function*(){var _,M;if(!o)throw new tn;if(l.refreshingDeferred)return l.refreshingDeferred.promise;const x=`#_callRefreshToken(${o.substring(0,5)}...)`;l._debug(x,"begin");try{l.refreshingDeferred=new Jn;const{data:R,error:B}=yield l._refreshAccessToken(o);if(B)throw B;if(!R.session)throw new tn;yield l._saveSession(R.session),yield l._notifyAllSubscribers("TOKEN_REFRESHED",R.session);const K={data:R.session,error:null};return l.refreshingDeferred.resolve(K),K}catch(R){if(l._debug(x,"error",R),lt(R)){const B={data:null,error:R};return Wn(R)||(yield l._removeSession()),null===(_=l.refreshingDeferred)||void 0===_||_.resolve(B),B}throw null===(M=l.refreshingDeferred)||void 0===M||M.reject(R),R}finally{l.refreshingDeferred=null,l._debug(x,"end")}})()}_notifyAllSubscribers(o,l){var _=this;return(0,u.A)(function*(M,x,R=!0){const B=`#_notifyAllSubscribers(${M})`;_._debug(B,"begin",x,`broadcast = ${R}`);try{_.broadcastChannel&&R&&_.broadcastChannel.postMessage({event:M,session:x});const K=[],Z=Array.from(_.stateChangeEmitters.values()).map(function(){var be=(0,u.A)(function*(ke){try{yield ke.callback(M,x)}catch(Ge){K.push(Ge)}});return function(ke){return be.apply(this,arguments)}}());if(yield Promise.all(Z),K.length>0){for(let be=0;be<K.length;be+=1)console.error(K[be]);throw K[0]}}finally{_._debug(B,"end")}}).apply(this,arguments)}_saveSession(o){var l=this;return(0,u.A)(function*(){l._debug("#_saveSession()",o),l.suppressGetSessionWarning=!0;const _=Object.assign({},o);if(l.userStorage){(!_.user||!0!==_.user.__isUserNotAvailableProxy)&&_.user&&(yield xn(l.userStorage,l.storageKey+"-user",{user:_.user}));const x=Object.assign({},_);delete x.user;const R=bi(x);yield xn(l.storage,l.storageKey,R)}else{const x=bi(_);yield xn(l.storage,l.storageKey,x)}})()}_removeSession(){var o=this;return(0,u.A)(function*(){o._debug("#_removeSession()"),yield Hn(o.storage,o.storageKey),yield Hn(o.storage,o.storageKey+"-code-verifier"),yield Hn(o.storage,o.storageKey+"-user"),o.userStorage&&(yield Hn(o.userStorage,o.storageKey+"-user")),yield o._notifyAllSubscribers("SIGNED_OUT",null)})()}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const o=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{o&&ln()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",o)}catch(l){console.error("removing visibilitychange callback failed",l)}}_startAutoRefresh(){var o=this;return(0,u.A)(function*(){yield o._stopAutoRefresh(),o._debug("#_startAutoRefresh()");const l=setInterval(()=>o._autoRefreshTokenTick(),ws);o.autoRefreshTicker=l,l&&"object"==typeof l&&"function"==typeof l.unref?l.unref():typeof Deno<"u"&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(l),setTimeout((0,u.A)(function*(){yield o.initializePromise,yield o._autoRefreshTokenTick()}),0)})()}_stopAutoRefresh(){var o=this;return(0,u.A)(function*(){o._debug("#_stopAutoRefresh()");const l=o.autoRefreshTicker;o.autoRefreshTicker=null,l&&clearInterval(l)})()}startAutoRefresh(){var o=this;return(0,u.A)(function*(){o._removeVisibilityChangedCallback(),yield o._startAutoRefresh()})()}stopAutoRefresh(){var o=this;return(0,u.A)(function*(){o._removeVisibilityChangedCallback(),yield o._stopAutoRefresh()})()}_autoRefreshTokenTick(){var o=this;return(0,u.A)(function*(){o._debug("#_autoRefreshTokenTick()","begin");try{yield o._acquireLock(0,(0,u.A)(function*(){try{const l=Date.now();try{return yield o._useSession(function(){var _=(0,u.A)(function*(M){const{data:{session:x}}=M;if(!x||!x.refresh_token||!x.expires_at)return void o._debug("#_autoRefreshTokenTick()","no session");const R=Math.floor((1e3*x.expires_at-l)/ws);o._debug("#_autoRefreshTokenTick()",`access token expires in ${R} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),R<=3&&(yield o._callRefreshToken(x.refresh_token))});return function(M){return _.apply(this,arguments)}}())}catch(_){console.error("Auto refresh tick failed with error. This is likely a transient error.",_)}}finally{o._debug("#_autoRefreshTokenTick()","end")}}))}catch(l){if(!(l.isAcquireTimeout||l instanceof di))throw l;o._debug("auto refresh token tick lock not available")}})()}_handleVisibilityChange(){var o=this;return(0,u.A)(function*(){if(o._debug("#_handleVisibilityChange()"),!ln()||!window?.addEventListener)return o.autoRefreshToken&&o.startAutoRefresh(),!1;try{o.visibilityChangedCallback=(0,u.A)(function*(){return yield o._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",o.visibilityChangedCallback),yield o._onVisibilityChanged(!0)}catch(l){console.error("_handleVisibilityChange",l)}})()}_onVisibilityChanged(o){var l=this;return(0,u.A)(function*(){const _=`#_onVisibilityChanged(${o})`;l._debug(_,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(l.autoRefreshToken&&l._startAutoRefresh(),o||(yield l.initializePromise,yield l._acquireLock(-1,(0,u.A)(function*(){"visible"===document.visibilityState?yield l._recoverAndRefresh():l._debug(_,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&l.autoRefreshToken&&l._stopAutoRefresh()})()}_getUrlForProvider(o,l,_){var M=this;return(0,u.A)(function*(){const x=[`provider=${encodeURIComponent(l)}`];if(_?.redirectTo&&x.push(`redirect_to=${encodeURIComponent(_.redirectTo)}`),_?.scopes&&x.push(`scopes=${encodeURIComponent(_.scopes)}`),"pkce"===M.flowType){const[R,B]=yield $(M.storage,M.storageKey),K=new URLSearchParams({code_challenge:`${encodeURIComponent(R)}`,code_challenge_method:`${encodeURIComponent(B)}`});x.push(K.toString())}if(_?.queryParams){const R=new URLSearchParams(_.queryParams);x.push(R.toString())}return _?.skipBrowserRedirect&&x.push(`skip_http_redirect=${_.skipBrowserRedirect}`),`${o}?${x.join("&")}`})()}_unenroll(o){var l=this;return(0,u.A)(function*(){try{return yield l._useSession(function(){var _=(0,u.A)(function*(M){var x;const{data:R,error:B}=M;return B?l._returnResult({data:null,error:B}):yield Ft(l.fetch,"DELETE",`${l.url}/factors/${o.factorId}`,{headers:l.headers,jwt:null===(x=R?.session)||void 0===x?void 0:x.access_token})});return function(M){return _.apply(this,arguments)}}())}catch(_){if(lt(_))return l._returnResult({data:null,error:_});throw _}})()}_enroll(o){var l=this;return(0,u.A)(function*(){try{return yield l._useSession(function(){var _=(0,u.A)(function*(M){var x,R;const{data:B,error:K}=M;if(K)return l._returnResult({data:null,error:K});const Z=Object.assign({friendly_name:o.friendlyName,factor_type:o.factorType},"phone"===o.factorType?{phone:o.phone}:"totp"===o.factorType?{issuer:o.issuer}:{}),{data:be,error:ke}=yield Ft(l.fetch,"POST",`${l.url}/factors`,{body:Z,headers:l.headers,jwt:null===(x=B?.session)||void 0===x?void 0:x.access_token});return ke?l._returnResult({data:null,error:ke}):("totp"===o.factorType&&"totp"===be.type&&!(null===(R=be?.totp)||void 0===R)&&R.qr_code&&(be.totp.qr_code=`data:image/svg+xml;utf-8,${be.totp.qr_code}`),l._returnResult({data:be,error:null}))});return function(M){return _.apply(this,arguments)}}())}catch(_){if(lt(_))return l._returnResult({data:null,error:_});throw _}})()}_verify(o){var l=this;return(0,u.A)(function*(){return l._acquireLock(-1,(0,u.A)(function*(){try{return yield l._useSession(function(){var _=(0,u.A)(function*(M){var x;const{data:R,error:B}=M;if(B)return l._returnResult({data:null,error:B});const K=Object.assign({challenge_id:o.challengeId},"webauthn"in o?{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_response:"create"===o.webauthn.type?os(o.webauthn.credential_response):as(o.webauthn.credential_response)})}:{code:o.code}),{data:Z,error:be}=yield Ft(l.fetch,"POST",`${l.url}/factors/${o.factorId}/verify`,{body:K,headers:l.headers,jwt:null===(x=R?.session)||void 0===x?void 0:x.access_token});return be?l._returnResult({data:null,error:be}):(yield l._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+Z.expires_in},Z)),yield l._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",Z),l._returnResult({data:Z,error:be}))});return function(M){return _.apply(this,arguments)}}())}catch(_){if(lt(_))return l._returnResult({data:null,error:_});throw _}}))})()}_challenge(o){var l=this;return(0,u.A)(function*(){return l._acquireLock(-1,(0,u.A)(function*(){try{return yield l._useSession(function(){var _=(0,u.A)(function*(M){var x;const{data:R,error:B}=M;if(B)return l._returnResult({data:null,error:B});const K=yield Ft(l.fetch,"POST",`${l.url}/factors/${o.factorId}/challenge`,{body:o,headers:l.headers,jwt:null===(x=R?.session)||void 0===x?void 0:x.access_token});if(K.error)return K;const{data:Z}=K;if("webauthn"!==Z.type)return{data:Z,error:null};switch(Z.webauthn.type){case"create":return{data:Object.assign(Object.assign({},Z),{webauthn:Object.assign(Object.assign({},Z.webauthn),{credential_options:Object.assign(Object.assign({},Z.webauthn.credential_options),{publicKey:Nn(Z.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},Z),{webauthn:Object.assign(Object.assign({},Z.webauthn),{credential_options:Object.assign(Object.assign({},Z.webauthn.credential_options),{publicKey:pr(Z.webauthn.credential_options.publicKey)})})}),error:null}}});return function(M){return _.apply(this,arguments)}}())}catch(_){if(lt(_))return l._returnResult({data:null,error:_});throw _}}))})()}_challengeAndVerify(o){var l=this;return(0,u.A)(function*(){const{data:_,error:M}=yield l._challenge({factorId:o.factorId});return M?l._returnResult({data:null,error:M}):yield l._verify({factorId:o.factorId,challengeId:_.id,code:o.code})})()}_listFactors(){var o=this;return(0,u.A)(function*(){var l;const{data:{user:_},error:M}=yield o.getUser();if(M)return{data:null,error:M};const x={all:[],phone:[],totp:[],webauthn:[]};for(const R of null!==(l=_?.factors)&&void 0!==l?l:[])x.all.push(R),"verified"===R.status&&x[R.factor_type].push(R);return{data:x,error:null}})()}_getAuthenticatorAssuranceLevel(){var o=this;return(0,u.A)(function*(){var l,_;const{data:{session:M},error:x}=yield o.getSession();if(x)return o._returnResult({data:null,error:x});if(!M)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:R}=ci(M.access_token);let B=null;R.aal&&(B=R.aal);let K=B;return(null!==(_=null===(l=M.user.factors)||void 0===l?void 0:l.filter(ke=>"verified"===ke.status))&&void 0!==_?_:[]).length>0&&(K="aal2"),{data:{currentLevel:B,nextLevel:K,currentAuthenticationMethods:R.amr||[]},error:null}})()}_getAuthorizationDetails(o){var l=this;return(0,u.A)(function*(){try{return yield l._useSession(function(){var _=(0,u.A)(function*(M){const{data:{session:x},error:R}=M;return R?l._returnResult({data:null,error:R}):x?yield Ft(l.fetch,"GET",`${l.url}/oauth/authorizations/${o}`,{headers:l.headers,jwt:x.access_token,xform:B=>({data:B,error:null})}):l._returnResult({data:null,error:new tn})});return function(M){return _.apply(this,arguments)}}())}catch(_){if(lt(_))return l._returnResult({data:null,error:_});throw _}})()}_approveAuthorization(o,l){var _=this;return(0,u.A)(function*(){try{return yield _._useSession(function(){var M=(0,u.A)(function*(x){const{data:{session:R},error:B}=x;if(B)return _._returnResult({data:null,error:B});if(!R)return _._returnResult({data:null,error:new tn});const K=yield Ft(_.fetch,"POST",`${_.url}/oauth/authorizations/${o}/consent`,{headers:_.headers,jwt:R.access_token,body:{action:"approve"},xform:Z=>({data:Z,error:null})});return K.data&&K.data.redirect_url&&ln()&&!l?.skipBrowserRedirect&&window.location.assign(K.data.redirect_url),K});return function(x){return M.apply(this,arguments)}}())}catch(M){if(lt(M))return _._returnResult({data:null,error:M});throw M}})()}_denyAuthorization(o,l){var _=this;return(0,u.A)(function*(){try{return yield _._useSession(function(){var M=(0,u.A)(function*(x){const{data:{session:R},error:B}=x;if(B)return _._returnResult({data:null,error:B});if(!R)return _._returnResult({data:null,error:new tn});const K=yield Ft(_.fetch,"POST",`${_.url}/oauth/authorizations/${o}/consent`,{headers:_.headers,jwt:R.access_token,body:{action:"deny"},xform:Z=>({data:Z,error:null})});return K.data&&K.data.redirect_url&&ln()&&!l?.skipBrowserRedirect&&window.location.assign(K.data.redirect_url),K});return function(x){return M.apply(this,arguments)}}())}catch(M){if(lt(M))return _._returnResult({data:null,error:M});throw M}})()}_listOAuthGrants(){var o=this;return(0,u.A)(function*(){try{return yield o._useSession(function(){var l=(0,u.A)(function*(_){const{data:{session:M},error:x}=_;return x?o._returnResult({data:null,error:x}):M?yield Ft(o.fetch,"GET",`${o.url}/user/oauth/grants`,{headers:o.headers,jwt:M.access_token,xform:R=>({data:R,error:null})}):o._returnResult({data:null,error:new tn})});return function(_){return l.apply(this,arguments)}}())}catch(l){if(lt(l))return o._returnResult({data:null,error:l});throw l}})()}_revokeOAuthGrant(o){var l=this;return(0,u.A)(function*(){try{return yield l._useSession(function(){var _=(0,u.A)(function*(M){const{data:{session:x},error:R}=M;return R?l._returnResult({data:null,error:R}):x?(yield Ft(l.fetch,"DELETE",`${l.url}/user/oauth/grants`,{headers:l.headers,jwt:x.access_token,query:{client_id:o.clientId},noResolveJson:!0}),{data:{},error:null}):l._returnResult({data:null,error:new tn})});return function(M){return _.apply(this,arguments)}}())}catch(_){if(lt(_))return l._returnResult({data:null,error:_});throw _}})()}fetchJwk(o){var l=this;return(0,u.A)(function*(_,M={keys:[]}){let x=M.keys.find(Z=>Z.kid===_);if(x)return x;const R=Date.now();if(x=l.jwks.keys.find(Z=>Z.kid===_),x&&l.jwks_cached_at+6e5>R)return x;const{data:B,error:K}=yield Ft(l.fetch,"GET",`${l.url}/.well-known/jwks.json`,{headers:l.headers});if(K)throw K;return B.keys&&0!==B.keys.length&&(l.jwks=B,l.jwks_cached_at=R,x=B.keys.find(Z=>Z.kid===_),x)?x:null}).apply(this,arguments)}getClaims(o){var l=this;return(0,u.A)(function*(_,M={}){try{let x=_;if(!x){const{data:Le,error:Ve}=yield l.getSession();if(Ve||!Le.session)return l._returnResult({data:null,error:Ve});x=Le.session.access_token}const{header:R,payload:B,signature:K,raw:{header:Z,payload:be}}=ci(x);M?.allowExpired||function Pr(m){if(!m)throw new Error("Missing exp claim");if(m<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(B.exp);const ke=R.alg&&!R.alg.startsWith("HS")&&R.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?yield l.fetchJwk(R.kid,M?.keys?{keys:M.keys}:M?.jwks):null;if(!ke){const{error:Le}=yield l.getUser(x);if(Le)throw Le;return{data:{claims:B,header:R,signature:K},error:null}}const Ge=function Ls(m){switch(m){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(R.alg),Fe=yield crypto.subtle.importKey("jwk",ke,Ge,!0,["verify"]);if(!(yield crypto.subtle.verify(Ge,Fe,K,function ks(m){const a=[];return function Ts(m,a){for(let o=0;o<m.length;o+=1){let l=m.charCodeAt(o);if(l>55295&&l<=56319){const _=1024*(l-55296)&65535;l=65536+(m.charCodeAt(o+1)-56320&65535|_),o+=1}Ms(l,a)}}(m,o=>a.push(o)),new Uint8Array(a)}(`${Z}.${be}`))))throw new kt("Invalid JWT signature");return{data:{claims:B,header:R,signature:K},error:null}}catch(x){if(lt(x))return l._returnResult({data:null,error:x});throw x}}).apply(this,arguments)}}return m.nextInstanceID={},m})();class Rt extends en{constructor(a){super(a)}}class xt{constructor(a,o,l){var _,M,x;this.supabaseUrl=a,this.supabaseKey=o;const R=function Oi(m){const a=m?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(function ii(m){return m.endsWith("/")?m:m+"/"}(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}(a);if(!o)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",R),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",R),this.storageUrl=new URL("storage/v1",R),this.functionsUrl=new URL("functions/v1",R);const B=`sb-${R.hostname.split(".")[0]}-auth-token`,Z=function $i(m,a){var o,l;const{db:_,auth:M,realtime:x,global:R}=m,{db:B,auth:K,realtime:Z,global:be}=a,ke={db:Object.assign(Object.assign({},B),_),auth:Object.assign(Object.assign({},K),M),realtime:Object.assign(Object.assign({},Z),x),storage:{},global:Object.assign(Object.assign(Object.assign({},be),R),{headers:Object.assign(Object.assign({},null!==(o=be?.headers)&&void 0!==o?o:{}),null!==(l=R?.headers)&&void 0!==l?l:{})}),accessToken:(Ge=(0,u.A)(function*(){return""}),function(){return Ge.apply(this,arguments)})};var Ge;return m.accessToken?ke.accessToken=m.accessToken:delete ke.accessToken,ke}(l??{},{db:Pn,realtime:Mi,auth:Object.assign(Object.assign({},mi),{storageKey:B}),global:Si});this.storageKey=null!==(_=Z.auth.storageKey)&&void 0!==_?_:"",this.headers=null!==(M=Z.global.headers)&&void 0!==M?M:{},Z.accessToken?(this.accessToken=Z.accessToken,this.auth=new Proxy({},{get:(be,ke)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(ke)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(x=Z.auth)&&void 0!==x?x:{},this.headers,Z.global.fetch),this.fetch=si(o,this._getAccessToken.bind(this),Z.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},Z.realtime)),this.accessToken&&this.accessToken().then(be=>this.realtime.setAuth(be)).catch(be=>console.warn("Failed to set initial Realtime auth token:",be)),this.rest=new Me(new URL("rest/v1",R).href,{headers:this.headers,schema:Z.db.schema,fetch:this.fetch}),this.storage=new xs(this.storageUrl.href,this.headers,this.fetch,l?.storage),Z.accessToken||this._listenForAuthEvents()}get functions(){return new he(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,o={},l={head:!1,get:!1,count:void 0}){return this.rest.rpc(a,o,l)}channel(a,o={config:{}}){return this.realtime.channel(a,o)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var a=this;return(0,u.A)(function*(){var o,l;if(a.accessToken)return yield a.accessToken();const{data:_}=yield a.auth.getSession();return null!==(l=null===(o=_.session)||void 0===o?void 0:o.access_token)&&void 0!==l?l:a.supabaseKey})()}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:o,detectSessionInUrl:l,storage:_,userStorage:M,storageKey:x,flowType:R,lock:B,debug:K,throwOnError:Z},be,ke){return new Rt({url:this.authUrl.href,headers:Object.assign(Object.assign({},{Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`}),be),storageKey:x,autoRefreshToken:a,persistSession:o,detectSessionInUrl:l,storage:_,userStorage:M,flowType:R,lock:B,debug:K,throwOnError:Z,fetch:ke,hasCustomAuthorizationHeader:Object.keys(this.headers).some(Fe=>"authorization"===Fe.toLowerCase())})}_initRealtimeClient(a){return new qt(this.realtimeUrl.href,Object.assign(Object.assign({},a),{params:Object.assign({apikey:this.supabaseKey},a?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((o,l)=>{this._handleTokenChanged(o,"CLIENT",l?.access_token)})}_handleTokenChanged(a,o,l){"TOKEN_REFRESHED"!==a&&"SIGNED_IN"!==a||this.changedAccessToken===l?"SIGNED_OUT"===a&&(this.realtime.setAuth(),"STORAGE"==o&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=l,this.realtime.setAuth(l))}}const Bt=(m,a,o)=>new xt(m,a,o);(function Kn(){if(typeof window<"u"||typeof process>"u")return!1;const m=process.version;if(null==m)return!1;const a=m.match(/^v(\d+)\./);return!!a&&parseInt(a[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")},4412:(ot,pe,F)=>{"use strict";F.d(pe,{t:()=>G});var u=F(1413);class G extends u.B{constructor(ge){super(),this._value=ge}get value(){return this.getValue()}_subscribe(ge){const re=super._subscribe(ge);return!re.closed&&ge.next(this._value),re}getValue(){const{hasError:ge,thrownError:re,_value:H}=this;if(ge)throw re;return this._throwIfClosed(),H}next(ge){super.next(this._value=ge)}}},1985:(ot,pe,F)=>{"use strict";F.d(pe,{c:()=>ce});var u=F(7707),G=F(8359),E=F(3494),ge=F(1203),re=F(1026),H=F(8071),Q=F(9786);let ce=(()=>{class Me{constructor(je){je&&(this._subscribe=je)}lift(je){const qe=new Me;return qe.source=this,qe.operator=je,qe}subscribe(je,qe,Lt){const dt=function oe(Me){return Me&&Me instanceof u.vU||function me(Me){return Me&&(0,H.T)(Me.next)&&(0,H.T)(Me.error)&&(0,H.T)(Me.complete)}(Me)&&(0,G.Uv)(Me)}(je)?je:new u.Ms(je,qe,Lt);return(0,Q.Y)(()=>{const{operator:St,source:Ze}=this;dt.add(St?St.call(dt,Ze):Ze?this._subscribe(dt):this._trySubscribe(dt))}),dt}_trySubscribe(je){try{return this._subscribe(je)}catch(qe){je.error(qe)}}forEach(je,qe){return new(qe=he(qe))((Lt,dt)=>{const St=new u.Ms({next:Ze=>{try{je(Ze)}catch(fn){dt(fn),St.unsubscribe()}},error:dt,complete:Lt});this.subscribe(St)})}_subscribe(je){var qe;return null===(qe=this.source)||void 0===qe?void 0:qe.subscribe(je)}[E.s](){return this}pipe(...je){return(0,ge.m)(je)(this)}toPromise(je){return new(je=he(je))((qe,Lt)=>{let dt;this.subscribe(St=>dt=St,St=>Lt(St),()=>qe(dt))})}}return Me.create=Ye=>new Me(Ye),Me})();function he(Me){var Ye;return null!==(Ye=Me??re.$.Promise)&&void 0!==Ye?Ye:Promise}},1413:(ot,pe,F)=>{"use strict";F.d(pe,{B:()=>Q});var u=F(1985),G=F(8359);const ge=(0,F(1853).L)(he=>function(){he(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=F(7908),H=F(9786);let Q=(()=>{class he extends u.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(oe){const Me=new ce(this,this);return Me.operator=oe,Me}_throwIfClosed(){if(this.closed)throw new ge}next(oe){(0,H.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Me of this.currentObservers)Me.next(oe)}})}error(oe){(0,H.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=oe;const{observers:Me}=this;for(;Me.length;)Me.shift().error(oe)}})}complete(){(0,H.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:oe}=this;for(;oe.length;)oe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var oe;return(null===(oe=this.observers)||void 0===oe?void 0:oe.length)>0}_trySubscribe(oe){return this._throwIfClosed(),super._trySubscribe(oe)}_subscribe(oe){return this._throwIfClosed(),this._checkFinalizedStatuses(oe),this._innerSubscribe(oe)}_innerSubscribe(oe){const{hasError:Me,isStopped:Ye,observers:je}=this;return Me||Ye?G.Kn:(this.currentObservers=null,je.push(oe),new G.yU(()=>{this.currentObservers=null,(0,re.o)(je,oe)}))}_checkFinalizedStatuses(oe){const{hasError:Me,thrownError:Ye,isStopped:je}=this;Me?oe.error(Ye):je&&oe.complete()}asObservable(){const oe=new u.c;return oe.source=this,oe}}return he.create=(me,oe)=>new ce(me,oe),he})();class ce extends Q{constructor(me,oe){super(),this.destination=me,this.source=oe}next(me){var oe,Me;null===(Me=null===(oe=this.destination)||void 0===oe?void 0:oe.next)||void 0===Me||Me.call(oe,me)}error(me){var oe,Me;null===(Me=null===(oe=this.destination)||void 0===oe?void 0:oe.error)||void 0===Me||Me.call(oe,me)}complete(){var me,oe;null===(oe=null===(me=this.destination)||void 0===me?void 0:me.complete)||void 0===oe||oe.call(me)}_subscribe(me){var oe,Me;return null!==(Me=null===(oe=this.source)||void 0===oe?void 0:oe.subscribe(me))&&void 0!==Me?Me:G.Kn}}},7707:(ot,pe,F)=>{"use strict";F.d(pe,{Ms:()=>Lt,vU:()=>Me});var u=F(8071),G=F(8359),E=F(1026),ge=F(5334),re=F(5343);const H=he("C",void 0,void 0);function he(ze,He,st){return{kind:ze,value:He,error:st}}var me=F(9270),oe=F(9786);class Me extends G.yU{constructor(He){super(),this.isStopped=!1,He?(this.destination=He,(0,G.Uv)(He)&&He.add(this)):this.destination=fn}static create(He,st,gt){return new Lt(He,st,gt)}next(He){this.isStopped?Ze(function ce(ze){return he("N",ze,void 0)}(He),this):this._next(He)}error(He){this.isStopped?Ze(function Q(ze){return he("E",void 0,ze)}(He),this):(this.isStopped=!0,this._error(He))}complete(){this.isStopped?Ze(H,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(He){this.destination.next(He)}_error(He){try{this.destination.error(He)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ye=Function.prototype.bind;function je(ze,He){return Ye.call(ze,He)}class qe{constructor(He){this.partialObserver=He}next(He){const{partialObserver:st}=this;if(st.next)try{st.next(He)}catch(gt){dt(gt)}}error(He){const{partialObserver:st}=this;if(st.error)try{st.error(He)}catch(gt){dt(gt)}else dt(He)}complete(){const{partialObserver:He}=this;if(He.complete)try{He.complete()}catch(st){dt(st)}}}class Lt extends Me{constructor(He,st,gt){let Ae;if(super(),(0,u.T)(He)||!He)Ae={next:He??void 0,error:st??void 0,complete:gt??void 0};else{let Qe;this&&E.$.useDeprecatedNextContext?(Qe=Object.create(He),Qe.unsubscribe=()=>this.unsubscribe(),Ae={next:He.next&&je(He.next,Qe),error:He.error&&je(He.error,Qe),complete:He.complete&&je(He.complete,Qe)}):Ae=He}this.destination=new qe(Ae)}}function dt(ze){E.$.useDeprecatedSynchronousErrorHandling?(0,oe.l)(ze):(0,ge.m)(ze)}function Ze(ze,He){const{onStoppedNotification:st}=E.$;st&&me.f.setTimeout(()=>st(ze,He))}const fn={closed:!0,next:re.l,error:function St(ze){throw ze},complete:re.l}},8359:(ot,pe,F)=>{"use strict";F.d(pe,{Kn:()=>H,yU:()=>re,Uv:()=>Q});var u=F(8071);const E=(0,F(1853).L)(he=>function(oe){he(this),this.message=oe?`${oe.length} errors occurred during unsubscription:\n${oe.map((Me,Ye)=>`${Ye+1}) ${Me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=oe});var ge=F(7908);class re{constructor(me){this.initialTeardown=me,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let me;if(!this.closed){this.closed=!0;const{_parentage:oe}=this;if(oe)if(this._parentage=null,Array.isArray(oe))for(const je of oe)je.remove(this);else oe.remove(this);const{initialTeardown:Me}=this;if((0,u.T)(Me))try{Me()}catch(je){me=je instanceof E?je.errors:[je]}const{_finalizers:Ye}=this;if(Ye){this._finalizers=null;for(const je of Ye)try{ce(je)}catch(qe){me=me??[],qe instanceof E?me=[...me,...qe.errors]:me.push(qe)}}if(me)throw new E(me)}}add(me){var oe;if(me&&me!==this)if(this.closed)ce(me);else{if(me instanceof re){if(me.closed||me._hasParent(this))return;me._addParent(this)}(this._finalizers=null!==(oe=this._finalizers)&&void 0!==oe?oe:[]).push(me)}}_hasParent(me){const{_parentage:oe}=this;return oe===me||Array.isArray(oe)&&oe.includes(me)}_addParent(me){const{_parentage:oe}=this;this._parentage=Array.isArray(oe)?(oe.push(me),oe):oe?[oe,me]:me}_removeParent(me){const{_parentage:oe}=this;oe===me?this._parentage=null:Array.isArray(oe)&&(0,ge.o)(oe,me)}remove(me){const{_finalizers:oe}=this;oe&&(0,ge.o)(oe,me),me instanceof re&&me._removeParent(this)}}re.EMPTY=(()=>{const he=new re;return he.closed=!0,he})();const H=re.EMPTY;function Q(he){return he instanceof re||he&&"closed"in he&&(0,u.T)(he.remove)&&(0,u.T)(he.add)&&(0,u.T)(he.unsubscribe)}function ce(he){(0,u.T)(he)?he():he.unsubscribe()}},1026:(ot,pe,F)=>{"use strict";F.d(pe,{$:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8793:(ot,pe,F)=>{"use strict";F.d(pe,{x:()=>re});var u=F(6365),E=F(9326),ge=F(6648);function re(...H){return function G(){return(0,u.U)(1)}()((0,ge.H)(H,(0,E.lI)(H)))}},983:(ot,pe,F)=>{"use strict";F.d(pe,{w:()=>G});const G=new(F(1985).c)(re=>re.complete())},6648:(ot,pe,F)=>{"use strict";F.d(pe,{H:()=>gt});var u=F(8750),G=F(5225),E=F(9974),ge=F(4360);function re(Ae,Qe=0){return(0,E.N)((Tt,bt)=>{Tt.subscribe((0,ge._)(bt,bn=>(0,G.N)(bt,Ae,()=>bt.next(bn),Qe),()=>(0,G.N)(bt,Ae,()=>bt.complete(),Qe),bn=>(0,G.N)(bt,Ae,()=>bt.error(bn),Qe)))})}function H(Ae,Qe=0){return(0,E.N)((Tt,bt)=>{bt.add(Ae.schedule(()=>Tt.subscribe(bt),Qe))})}var he=F(1985),oe=F(4761),Me=F(8071);function je(Ae,Qe){if(!Ae)throw new Error("Iterable cannot be null");return new he.c(Tt=>{(0,G.N)(Tt,Qe,()=>{const bt=Ae[Symbol.asyncIterator]();(0,G.N)(Tt,Qe,()=>{bt.next().then(bn=>{bn.done?Tt.complete():Tt.next(bn.value)})},0,!0)})})}var qe=F(5055),Lt=F(9858),dt=F(7441),St=F(5397),Ze=F(7953),fn=F(591),ze=F(5196);function gt(Ae,Qe){return Qe?function st(Ae,Qe){if(null!=Ae){if((0,qe.l)(Ae))return function Q(Ae,Qe){return(0,u.Tg)(Ae).pipe(H(Qe),re(Qe))}(Ae,Qe);if((0,dt.X)(Ae))return function me(Ae,Qe){return new he.c(Tt=>{let bt=0;return Qe.schedule(function(){bt===Ae.length?Tt.complete():(Tt.next(Ae[bt++]),Tt.closed||this.schedule())})})}(Ae,Qe);if((0,Lt.y)(Ae))return function ce(Ae,Qe){return(0,u.Tg)(Ae).pipe(H(Qe),re(Qe))}(Ae,Qe);if((0,Ze.T)(Ae))return je(Ae,Qe);if((0,St.x)(Ae))return function Ye(Ae,Qe){return new he.c(Tt=>{let bt;return(0,G.N)(Tt,Qe,()=>{bt=Ae[oe.l](),(0,G.N)(Tt,Qe,()=>{let bn,Je;try{({value:bn,done:Je}=bt.next())}catch(wt){return void Tt.error(wt)}Je?Tt.complete():Tt.next(bn)},0,!0)}),()=>(0,Me.T)(bt?.return)&&bt.return()})}(Ae,Qe);if((0,ze.U)(Ae))return function He(Ae,Qe){return je((0,ze.C)(Ae),Qe)}(Ae,Qe)}throw(0,fn.L)(Ae)}(Ae,Qe):(0,u.Tg)(Ae)}},8750:(ot,pe,F)=>{"use strict";F.d(pe,{Tg:()=>Ye});var u=F(5215),G=F(7441),E=F(9858),ge=F(1985),re=F(5055),H=F(7953),Q=F(591),ce=F(5397),he=F(5196),me=F(8071),oe=F(5334),Me=F(3494);function Ye(ze){if(ze instanceof ge.c)return ze;if(null!=ze){if((0,re.l)(ze))return function je(ze){return new ge.c(He=>{const st=ze[Me.s]();if((0,me.T)(st.subscribe))return st.subscribe(He);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ze);if((0,G.X)(ze))return function qe(ze){return new ge.c(He=>{for(let st=0;st<ze.length&&!He.closed;st++)He.next(ze[st]);He.complete()})}(ze);if((0,E.y)(ze))return function Lt(ze){return new ge.c(He=>{ze.then(st=>{He.closed||(He.next(st),He.complete())},st=>He.error(st)).then(null,oe.m)})}(ze);if((0,H.T)(ze))return St(ze);if((0,ce.x)(ze))return function dt(ze){return new ge.c(He=>{for(const st of ze)if(He.next(st),He.closed)return;He.complete()})}(ze);if((0,he.U)(ze))return function Ze(ze){return St((0,he.C)(ze))}(ze)}throw(0,Q.L)(ze)}function St(ze){return new ge.c(He=>{(function fn(ze,He){var st,gt,Ae,Qe;return(0,u.__awaiter)(this,void 0,void 0,function*(){try{for(st=(0,u.__asyncValues)(ze);!(gt=yield st.next()).done;)if(He.next(gt.value),He.closed)return}catch(Tt){Ae={error:Tt}}finally{try{gt&&!gt.done&&(Qe=st.return)&&(yield Qe.call(st))}finally{if(Ae)throw Ae.error}}He.complete()})})(ze,He).catch(st=>He.error(st))})}},7673:(ot,pe,F)=>{"use strict";F.d(pe,{of:()=>E});var u=F(9326),G=F(6648);function E(...ge){const re=(0,u.lI)(ge);return(0,G.H)(ge,re)}},8810:(ot,pe,F)=>{"use strict";F.d(pe,{$:()=>E});var u=F(1985),G=F(8071);function E(ge,re){const H=(0,G.T)(ge)?ge:()=>ge,Q=ce=>ce.error(H());return new u.c(re?ce=>re.schedule(Q,0,ce):Q)}},4360:(ot,pe,F)=>{"use strict";F.d(pe,{_:()=>G});var u=F(7707);function G(ge,re,H,Q,ce){return new E(ge,re,H,Q,ce)}class E extends u.vU{constructor(re,H,Q,ce,he,me){super(re),this.onFinalize=he,this.shouldUnsubscribe=me,this._next=H?function(oe){try{H(oe)}catch(Me){re.error(Me)}}:super._next,this._error=ce?function(oe){try{ce(oe)}catch(Me){re.error(Me)}finally{this.unsubscribe()}}:super._error,this._complete=Q?function(){try{Q()}catch(oe){re.error(oe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:H}=this;super.unsubscribe(),!H&&(null===(re=this.onFinalize)||void 0===re||re.call(this))}}}},9437:(ot,pe,F)=>{"use strict";F.d(pe,{W:()=>ge});var u=F(8750),G=F(4360),E=F(9974);function ge(re){return(0,E.N)((H,Q)=>{let me,ce=null,he=!1;ce=H.subscribe((0,G._)(Q,void 0,void 0,oe=>{me=(0,u.Tg)(re(oe,ge(re)(H))),ce?(ce.unsubscribe(),ce=null,me.subscribe(Q)):he=!0})),he&&(ce.unsubscribe(),ce=null,me.subscribe(Q))})}},274:(ot,pe,F)=>{"use strict";F.d(pe,{H:()=>E});var u=F(1397),G=F(8071);function E(ge,re){return(0,G.T)(re)?(0,u.Z)(ge,re,1):(0,u.Z)(ge,1)}},9901:(ot,pe,F)=>{"use strict";F.d(pe,{U:()=>E});var u=F(9974),G=F(4360);function E(ge){return(0,u.N)((re,H)=>{let Q=!1;re.subscribe((0,G._)(H,ce=>{Q=!0,H.next(ce)},()=>{Q||H.next(ge),H.complete()}))})}},3294:(ot,pe,F)=>{"use strict";F.d(pe,{F:()=>ge});var u=F(3669),G=F(9974),E=F(4360);function ge(H,Q=u.D){return H=H??re,(0,G.N)((ce,he)=>{let me,oe=!0;ce.subscribe((0,E._)(he,Me=>{const Ye=Q(Me);(oe||!H(me,Ye))&&(oe=!1,me=Ye,he.next(Me))}))})}function re(H,Q){return H===Q}},5964:(ot,pe,F)=>{"use strict";F.d(pe,{p:()=>E});var u=F(9974),G=F(4360);function E(ge,re){return(0,u.N)((H,Q)=>{let ce=0;H.subscribe((0,G._)(Q,he=>ge.call(re,he,ce++)&&Q.next(he)))})}},980:(ot,pe,F)=>{"use strict";F.d(pe,{j:()=>G});var u=F(9974);function G(E){return(0,u.N)((ge,re)=>{try{ge.subscribe(re)}finally{re.add(E)}})}},1594:(ot,pe,F)=>{"use strict";F.d(pe,{$:()=>Q});var u=F(9350),G=F(5964),E=F(6697),ge=F(9901),re=F(3774),H=F(3669);function Q(ce,he){const me=arguments.length>=2;return oe=>oe.pipe(ce?(0,G.p)((Me,Ye)=>ce(Me,Ye,oe)):H.D,(0,E.s)(1),me?(0,ge.U)(he):(0,re.v)(()=>new u.G))}},6354:(ot,pe,F)=>{"use strict";F.d(pe,{T:()=>E});var u=F(9974),G=F(4360);function E(ge,re){return(0,u.N)((H,Q)=>{let ce=0;H.subscribe((0,G._)(Q,he=>{Q.next(ge.call(re,he,ce++))}))})}},6365:(ot,pe,F)=>{"use strict";F.d(pe,{U:()=>E});var u=F(1397),G=F(3669);function E(ge=1/0){return(0,u.Z)(G.D,ge)}},1397:(ot,pe,F)=>{"use strict";F.d(pe,{Z:()=>ce});var u=F(6354),G=F(8750),E=F(9974),ge=F(5225),re=F(4360),Q=F(8071);function ce(he,me,oe=1/0){return(0,Q.T)(me)?ce((Me,Ye)=>(0,u.T)((je,qe)=>me(Me,je,Ye,qe))((0,G.Tg)(he(Me,Ye))),oe):("number"==typeof me&&(oe=me),(0,E.N)((Me,Ye)=>function H(he,me,oe,Me,Ye,je,qe,Lt){const dt=[];let St=0,Ze=0,fn=!1;const ze=()=>{fn&&!dt.length&&!St&&me.complete()},He=gt=>St<Me?st(gt):dt.push(gt),st=gt=>{je&&me.next(gt),St++;let Ae=!1;(0,G.Tg)(oe(gt,Ze++)).subscribe((0,re._)(me,Qe=>{Ye?.(Qe),je?He(Qe):me.next(Qe)},()=>{Ae=!0},void 0,()=>{if(Ae)try{for(St--;dt.length&&St<Me;){const Qe=dt.shift();qe?(0,ge.N)(me,qe,()=>st(Qe)):st(Qe)}ze()}catch(Qe){me.error(Qe)}}))};return he.subscribe((0,re._)(me,He,()=>{fn=!0,ze()})),()=>{Lt?.()}}(Me,Ye,he,oe)))}},9172:(ot,pe,F)=>{"use strict";F.d(pe,{Z:()=>ge});var u=F(8793),G=F(9326),E=F(9974);function ge(...re){const H=(0,G.lI)(re);return(0,E.N)((Q,ce)=>{(H?(0,u.x)(re,Q,H):(0,u.x)(re,Q)).subscribe(ce)})}},5558:(ot,pe,F)=>{"use strict";F.d(pe,{n:()=>ge});var u=F(8750),G=F(9974),E=F(4360);function ge(re,H){return(0,G.N)((Q,ce)=>{let he=null,me=0,oe=!1;const Me=()=>oe&&!he&&ce.complete();Q.subscribe((0,E._)(ce,Ye=>{he?.unsubscribe();let je=0;const qe=me++;(0,u.Tg)(re(Ye,qe)).subscribe(he=(0,E._)(ce,Lt=>ce.next(H?H(Ye,Lt,qe,je++):Lt),()=>{he=null,Me()}))},()=>{oe=!0,Me()}))})}},6697:(ot,pe,F)=>{"use strict";F.d(pe,{s:()=>ge});var u=F(983),G=F(9974),E=F(4360);function ge(re){return re<=0?()=>u.w:(0,G.N)((H,Q)=>{let ce=0;H.subscribe((0,E._)(Q,he=>{++ce<=re&&(Q.next(he),re<=ce&&Q.complete())}))})}},8141:(ot,pe,F)=>{"use strict";F.d(pe,{M:()=>re});var u=F(8071),G=F(9974),E=F(4360),ge=F(3669);function re(H,Q,ce){const he=(0,u.T)(H)||Q||ce?{next:H,error:Q,complete:ce}:H;return he?(0,G.N)((me,oe)=>{var Me;null===(Me=he.subscribe)||void 0===Me||Me.call(he);let Ye=!0;me.subscribe((0,E._)(oe,je=>{var qe;null===(qe=he.next)||void 0===qe||qe.call(he,je),oe.next(je)},()=>{var je;Ye=!1,null===(je=he.complete)||void 0===je||je.call(he),oe.complete()},je=>{var qe;Ye=!1,null===(qe=he.error)||void 0===qe||qe.call(he,je),oe.error(je)},()=>{var je,qe;Ye&&(null===(je=he.unsubscribe)||void 0===je||je.call(he)),null===(qe=he.finalize)||void 0===qe||qe.call(he)}))}):ge.D}},3774:(ot,pe,F)=>{"use strict";F.d(pe,{v:()=>ge});var u=F(9350),G=F(9974),E=F(4360);function ge(H=re){return(0,G.N)((Q,ce)=>{let he=!1;Q.subscribe((0,E._)(ce,me=>{he=!0,ce.next(me)},()=>he?ce.complete():ce.error(H())))})}function re(){return new u.G}},9270:(ot,pe,F)=>{"use strict";F.d(pe,{f:()=>u});const u={setTimeout(G,E,...ge){const{delegate:re}=u;return re?.setTimeout?re.setTimeout(G,E,...ge):setTimeout(G,E,...ge)},clearTimeout(G){const{delegate:E}=u;return(E?.clearTimeout||clearTimeout)(G)},delegate:void 0}},4761:(ot,pe,F)=>{"use strict";F.d(pe,{l:()=>G});const G=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(ot,pe,F)=>{"use strict";F.d(pe,{s:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(ot,pe,F)=>{"use strict";F.d(pe,{G:()=>G});const G=(0,F(1853).L)(E=>function(){E(this),this.name="EmptyError",this.message="no elements in sequence"})},9326:(ot,pe,F)=>{"use strict";F.d(pe,{R0:()=>H,lI:()=>re,ms:()=>ge});var u=F(8071),G=F(9470);function E(Q){return Q[Q.length-1]}function ge(Q){return(0,u.T)(E(Q))?Q.pop():void 0}function re(Q){return(0,G.m)(E(Q))?Q.pop():void 0}function H(Q,ce){return"number"==typeof E(Q)?Q.pop():ce}},3073:(ot,pe,F)=>{"use strict";F.d(pe,{D:()=>re});const{isArray:u}=Array,{getPrototypeOf:G,prototype:E,keys:ge}=Object;function re(Q){if(1===Q.length){const ce=Q[0];if(u(ce))return{args:ce,keys:null};if(function H(Q){return Q&&"object"==typeof Q&&G(Q)===E}(ce)){const he=ge(ce);return{args:he.map(me=>ce[me]),keys:he}}}return{args:Q,keys:null}}},7908:(ot,pe,F)=>{"use strict";function u(G,E){if(G){const ge=G.indexOf(E);0<=ge&&G.splice(ge,1)}}F.d(pe,{o:()=>u})},1853:(ot,pe,F)=>{"use strict";function u(G){const ge=G(re=>{Error.call(re),re.stack=(new Error).stack});return ge.prototype=Object.create(Error.prototype),ge.prototype.constructor=ge,ge}F.d(pe,{L:()=>u})},8496:(ot,pe,F)=>{"use strict";function u(G,E){return G.reduce((ge,re,H)=>(ge[re]=E[H],ge),{})}F.d(pe,{e:()=>u})},9786:(ot,pe,F)=>{"use strict";F.d(pe,{Y:()=>E,l:()=>ge});var u=F(1026);let G=null;function E(re){if(u.$.useDeprecatedSynchronousErrorHandling){const H=!G;if(H&&(G={errorThrown:!1,error:null}),re(),H){const{errorThrown:Q,error:ce}=G;if(G=null,Q)throw ce}}else re()}function ge(re){u.$.useDeprecatedSynchronousErrorHandling&&G&&(G.errorThrown=!0,G.error=re)}},5225:(ot,pe,F)=>{"use strict";function u(G,E,ge,re=0,H=!1){const Q=E.schedule(function(){ge(),H?G.add(this.schedule(null,re)):this.unsubscribe()},re);if(G.add(Q),!H)return Q}F.d(pe,{N:()=>u})},3669:(ot,pe,F)=>{"use strict";function u(G){return G}F.d(pe,{D:()=>u})},7441:(ot,pe,F)=>{"use strict";F.d(pe,{X:()=>u});const u=G=>G&&"number"==typeof G.length&&"function"!=typeof G},7953:(ot,pe,F)=>{"use strict";F.d(pe,{T:()=>G});var u=F(8071);function G(E){return Symbol.asyncIterator&&(0,u.T)(E?.[Symbol.asyncIterator])}},8071:(ot,pe,F)=>{"use strict";function u(G){return"function"==typeof G}F.d(pe,{T:()=>u})},5055:(ot,pe,F)=>{"use strict";F.d(pe,{l:()=>E});var u=F(3494),G=F(8071);function E(ge){return(0,G.T)(ge[u.s])}},5397:(ot,pe,F)=>{"use strict";F.d(pe,{x:()=>E});var u=F(4761),G=F(8071);function E(ge){return(0,G.T)(ge?.[u.l])}},9858:(ot,pe,F)=>{"use strict";F.d(pe,{y:()=>G});var u=F(8071);function G(E){return(0,u.T)(E?.then)}},5196:(ot,pe,F)=>{"use strict";F.d(pe,{C:()=>E,U:()=>ge});var u=F(5215),G=F(8071);function E(re){return(0,u.__asyncGenerator)(this,arguments,function*(){const Q=re.getReader();try{for(;;){const{value:ce,done:he}=yield(0,u.__await)(Q.read());if(he)return yield(0,u.__await)(void 0);yield yield(0,u.__await)(ce)}}finally{Q.releaseLock()}})}function ge(re){return(0,G.T)(re?.getReader)}},9470:(ot,pe,F)=>{"use strict";F.d(pe,{m:()=>G});var u=F(8071);function G(E){return E&&(0,u.T)(E.schedule)}},9974:(ot,pe,F)=>{"use strict";F.d(pe,{N:()=>E,S:()=>G});var u=F(8071);function G(ge){return(0,u.T)(ge?.lift)}function E(ge){return re=>{if(G(re))return re.lift(function(H){try{return ge(H,this)}catch(Q){this.error(Q)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(ot,pe,F)=>{"use strict";F.d(pe,{I:()=>ge});var u=F(6354);const{isArray:G}=Array;function ge(re){return(0,u.T)(H=>function E(re,H){return G(H)?re(...H):re(H)}(re,H))}},5343:(ot,pe,F)=>{"use strict";function u(){}F.d(pe,{l:()=>u})},1203:(ot,pe,F)=>{"use strict";F.d(pe,{F:()=>G,m:()=>E});var u=F(3669);function G(...ge){return E(ge)}function E(ge){return 0===ge.length?u.D:1===ge.length?ge[0]:function(H){return ge.reduce((Q,ce)=>ce(Q),H)}}},5334:(ot,pe,F)=>{"use strict";F.d(pe,{m:()=>E});var u=F(1026),G=F(9270);function E(ge){G.f.setTimeout(()=>{const{onUnhandledError:re}=u.$;if(!re)throw ge;re(ge)})}},591:(ot,pe,F)=>{"use strict";function u(G){return new TypeError(`You provided ${null!==G&&"object"==typeof G?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(pe,{L:()=>u})},5215:(ot,pe,F)=>{"use strict";F.r(pe),F.d(pe,{__addDisposableResource:()=>Nt,__assign:()=>E,__asyncDelegator:()=>st,__asyncGenerator:()=>He,__asyncValues:()=>gt,__await:()=>ze,__awaiter:()=>Me,__classPrivateFieldGet:()=>Je,__classPrivateFieldIn:()=>rt,__classPrivateFieldSet:()=>wt,__createBinding:()=>je,__decorate:()=>re,__disposeResources:()=>sr,__esDecorate:()=>Q,__exportStar:()=>qe,__extends:()=>G,__generator:()=>Ye,__importDefault:()=>bn,__importStar:()=>bt,__makeTemplateObject:()=>Ae,__metadata:()=>oe,__param:()=>H,__propKey:()=>he,__read:()=>dt,__rest:()=>ge,__rewriteRelativeImportExtension:()=>Tn,__runInitializers:()=>ce,__setFunctionName:()=>me,__spread:()=>St,__spreadArray:()=>fn,__spreadArrays:()=>Ze,__values:()=>Lt,default:()=>$t});var u=function(le,ye){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(we,Oe){we.__proto__=Oe}||function(we,Oe){for(var $e in Oe)Object.prototype.hasOwnProperty.call(Oe,$e)&&(we[$e]=Oe[$e])})(le,ye)};function G(le,ye){if("function"!=typeof ye&&null!==ye)throw new TypeError("Class extends value "+String(ye)+" is not a constructor or null");function we(){this.constructor=le}u(le,ye),le.prototype=null===ye?Object.create(ye):(we.prototype=ye.prototype,new we)}var E=function(){return E=Object.assign||function(ye){for(var we,Oe=1,$e=arguments.length;Oe<$e;Oe++)for(var Xe in we=arguments[Oe])Object.prototype.hasOwnProperty.call(we,Xe)&&(ye[Xe]=we[Xe]);return ye},E.apply(this,arguments)};function ge(le,ye){var we={};for(var Oe in le)Object.prototype.hasOwnProperty.call(le,Oe)&&ye.indexOf(Oe)<0&&(we[Oe]=le[Oe]);if(null!=le&&"function"==typeof Object.getOwnPropertySymbols){var $e=0;for(Oe=Object.getOwnPropertySymbols(le);$e<Oe.length;$e++)ye.indexOf(Oe[$e])<0&&Object.prototype.propertyIsEnumerable.call(le,Oe[$e])&&(we[Oe[$e]]=le[Oe[$e]])}return we}function re(le,ye,we,Oe){var _t,$e=arguments.length,Xe=$e<3?ye:null===Oe?Oe=Object.getOwnPropertyDescriptor(ye,we):Oe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Xe=Reflect.decorate(le,ye,we,Oe);else for(var un=le.length-1;un>=0;un--)(_t=le[un])&&(Xe=($e<3?_t(Xe):$e>3?_t(ye,we,Xe):_t(ye,we))||Xe);return $e>3&&Xe&&Object.defineProperty(ye,we,Xe),Xe}function H(le,ye){return function(we,Oe){ye(we,Oe,le)}}function Q(le,ye,we,Oe,$e,Xe){function _t(Cn){if(void 0!==Cn&&"function"!=typeof Cn)throw new TypeError("Function expected");return Cn}for(var Un,un=Oe.kind,kn="getter"===un?"get":"setter"===un?"set":"value",At=!ye&&le?Oe.static?le:le.prototype:null,gn=ye||(At?Object.getOwnPropertyDescriptor(At,Oe.name):{}),er=!1,Ct=we.length-1;Ct>=0;Ct--){var at={};for(var ht in Oe)at[ht]="access"===ht?{}:Oe[ht];for(var ht in Oe.access)at.access[ht]=Oe.access[ht];at.addInitializer=function(Cn){if(er)throw new TypeError("Cannot add initializers after decoration has completed");Xe.push(_t(Cn||null))};var ir=(0,we[Ct])("accessor"===un?{get:gn.get,set:gn.set}:gn[kn],at);if("accessor"===un){if(void 0===ir)continue;if(null===ir||"object"!=typeof ir)throw new TypeError("Object expected");(Un=_t(ir.get))&&(gn.get=Un),(Un=_t(ir.set))&&(gn.set=Un),(Un=_t(ir.init))&&$e.unshift(Un)}else(Un=_t(ir))&&("field"===un?$e.unshift(Un):gn[kn]=Un)}At&&Object.defineProperty(At,Oe.name,gn),er=!0}function ce(le,ye,we){for(var Oe=arguments.length>2,$e=0;$e<ye.length;$e++)we=Oe?ye[$e].call(le,we):ye[$e].call(le);return Oe?we:void 0}function he(le){return"symbol"==typeof le?le:"".concat(le)}function me(le,ye,we){return"symbol"==typeof ye&&(ye=ye.description?"[".concat(ye.description,"]"):""),Object.defineProperty(le,"name",{configurable:!0,value:we?"".concat(we," ",ye):ye})}function oe(le,ye){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(le,ye)}function Me(le,ye,we,Oe){return new(we||(we=Promise))(function(Xe,_t){function un(gn){try{At(Oe.next(gn))}catch(Un){_t(Un)}}function kn(gn){try{At(Oe.throw(gn))}catch(Un){_t(Un)}}function At(gn){gn.done?Xe(gn.value):function $e(Xe){return Xe instanceof we?Xe:new we(function(_t){_t(Xe)})}(gn.value).then(un,kn)}At((Oe=Oe.apply(le,ye||[])).next())})}function Ye(le,ye){var Oe,$e,Xe,we={label:0,sent:function(){if(1&Xe[0])throw Xe[1];return Xe[1]},trys:[],ops:[]},_t=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return _t.next=un(0),_t.throw=un(1),_t.return=un(2),"function"==typeof Symbol&&(_t[Symbol.iterator]=function(){return this}),_t;function un(At){return function(gn){return function kn(At){if(Oe)throw new TypeError("Generator is already executing.");for(;_t&&(_t=0,At[0]&&(we=0)),we;)try{if(Oe=1,$e&&(Xe=2&At[0]?$e.return:At[0]?$e.throw||((Xe=$e.return)&&Xe.call($e),0):$e.next)&&!(Xe=Xe.call($e,At[1])).done)return Xe;switch($e=0,Xe&&(At=[2&At[0],Xe.value]),At[0]){case 0:case 1:Xe=At;break;case 4:return we.label++,{value:At[1],done:!1};case 5:we.label++,$e=At[1],At=[0];continue;case 7:At=we.ops.pop(),we.trys.pop();continue;default:if(!(Xe=(Xe=we.trys).length>0&&Xe[Xe.length-1])&&(6===At[0]||2===At[0])){we=0;continue}if(3===At[0]&&(!Xe||At[1]>Xe[0]&&At[1]<Xe[3])){we.label=At[1];break}if(6===At[0]&&we.label<Xe[1]){we.label=Xe[1],Xe=At;break}if(Xe&&we.label<Xe[2]){we.label=Xe[2],we.ops.push(At);break}Xe[2]&&we.ops.pop(),we.trys.pop();continue}At=ye.call(le,we)}catch(gn){At=[6,gn],$e=0}finally{Oe=Xe=0}if(5&At[0])throw At[1];return{value:At[0]?At[1]:void 0,done:!0}}([At,gn])}}}var je=Object.create?function(le,ye,we,Oe){void 0===Oe&&(Oe=we);var $e=Object.getOwnPropertyDescriptor(ye,we);(!$e||("get"in $e?!ye.__esModule:$e.writable||$e.configurable))&&($e={enumerable:!0,get:function(){return ye[we]}}),Object.defineProperty(le,Oe,$e)}:function(le,ye,we,Oe){void 0===Oe&&(Oe=we),le[Oe]=ye[we]};function qe(le,ye){for(var we in le)"default"!==we&&!Object.prototype.hasOwnProperty.call(ye,we)&&je(ye,le,we)}function Lt(le){var ye="function"==typeof Symbol&&Symbol.iterator,we=ye&&le[ye],Oe=0;if(we)return we.call(le);if(le&&"number"==typeof le.length)return{next:function(){return le&&Oe>=le.length&&(le=void 0),{value:le&&le[Oe++],done:!le}}};throw new TypeError(ye?"Object is not iterable.":"Symbol.iterator is not defined.")}function dt(le,ye){var we="function"==typeof Symbol&&le[Symbol.iterator];if(!we)return le;var $e,_t,Oe=we.call(le),Xe=[];try{for(;(void 0===ye||ye-- >0)&&!($e=Oe.next()).done;)Xe.push($e.value)}catch(un){_t={error:un}}finally{try{$e&&!$e.done&&(we=Oe.return)&&we.call(Oe)}finally{if(_t)throw _t.error}}return Xe}function St(){for(var le=[],ye=0;ye<arguments.length;ye++)le=le.concat(dt(arguments[ye]));return le}function Ze(){for(var le=0,ye=0,we=arguments.length;ye<we;ye++)le+=arguments[ye].length;var Oe=Array(le),$e=0;for(ye=0;ye<we;ye++)for(var Xe=arguments[ye],_t=0,un=Xe.length;_t<un;_t++,$e++)Oe[$e]=Xe[_t];return Oe}function fn(le,ye,we){if(we||2===arguments.length)for(var Xe,Oe=0,$e=ye.length;Oe<$e;Oe++)(Xe||!(Oe in ye))&&(Xe||(Xe=Array.prototype.slice.call(ye,0,Oe)),Xe[Oe]=ye[Oe]);return le.concat(Xe||Array.prototype.slice.call(ye))}function ze(le){return this instanceof ze?(this.v=le,this):new ze(le)}function He(le,ye,we){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $e,Oe=we.apply(le,ye||[]),Xe=[];return $e=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),un("next"),un("throw"),un("return",function _t(Ct){return function(at){return Promise.resolve(at).then(Ct,Un)}}),$e[Symbol.asyncIterator]=function(){return this},$e;function un(Ct,at){Oe[Ct]&&($e[Ct]=function(ht){return new Promise(function(ir,Cn){Xe.push([Ct,ht,ir,Cn])>1||kn(Ct,ht)})},at&&($e[Ct]=at($e[Ct])))}function kn(Ct,at){try{!function At(Ct){Ct.value instanceof ze?Promise.resolve(Ct.value.v).then(gn,Un):er(Xe[0][2],Ct)}(Oe[Ct](at))}catch(ht){er(Xe[0][3],ht)}}function gn(Ct){kn("next",Ct)}function Un(Ct){kn("throw",Ct)}function er(Ct,at){Ct(at),Xe.shift(),Xe.length&&kn(Xe[0][0],Xe[0][1])}}function st(le){var ye,we;return ye={},Oe("next"),Oe("throw",function($e){throw $e}),Oe("return"),ye[Symbol.iterator]=function(){return this},ye;function Oe($e,Xe){ye[$e]=le[$e]?function(_t){return(we=!we)?{value:ze(le[$e](_t)),done:!1}:Xe?Xe(_t):_t}:Xe}}function gt(le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var we,ye=le[Symbol.asyncIterator];return ye?ye.call(le):(le=Lt(le),we={},Oe("next"),Oe("throw"),Oe("return"),we[Symbol.asyncIterator]=function(){return this},we);function Oe(Xe){we[Xe]=le[Xe]&&function(_t){return new Promise(function(un,kn){!function $e(Xe,_t,un,kn){Promise.resolve(kn).then(function(At){Xe({value:At,done:un})},_t)}(un,kn,(_t=le[Xe](_t)).done,_t.value)})}}}function Ae(le,ye){return Object.defineProperty?Object.defineProperty(le,"raw",{value:ye}):le.raw=ye,le}var Qe=Object.create?function(le,ye){Object.defineProperty(le,"default",{enumerable:!0,value:ye})}:function(le,ye){le.default=ye},Tt=function(le){return(Tt=Object.getOwnPropertyNames||function(ye){var we=[];for(var Oe in ye)Object.prototype.hasOwnProperty.call(ye,Oe)&&(we[we.length]=Oe);return we})(le)};function bt(le){if(le&&le.__esModule)return le;var ye={};if(null!=le)for(var we=Tt(le),Oe=0;Oe<we.length;Oe++)"default"!==we[Oe]&&je(ye,le,we[Oe]);return Qe(ye,le),ye}function bn(le){return le&&le.__esModule?le:{default:le}}function Je(le,ye,we,Oe){if("a"===we&&!Oe)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof ye?le!==ye||!Oe:!ye.has(le))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===we?Oe:"a"===we?Oe.call(le):Oe?Oe.value:ye.get(le)}function wt(le,ye,we,Oe,$e){if("m"===Oe)throw new TypeError("Private method is not writable");if("a"===Oe&&!$e)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof ye?le!==ye||!$e:!ye.has(le))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===Oe?$e.call(le,we):$e?$e.value=we:ye.set(le,we),we}function rt(le,ye){if(null===ye||"object"!=typeof ye&&"function"!=typeof ye)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof le?ye===le:le.has(ye)}function Nt(le,ye,we){if(null!=ye){if("object"!=typeof ye&&"function"!=typeof ye)throw new TypeError("Object expected.");var Oe,$e;if(we){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");Oe=ye[Symbol.asyncDispose]}if(void 0===Oe){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");Oe=ye[Symbol.dispose],we&&($e=Oe)}if("function"!=typeof Oe)throw new TypeError("Object not disposable.");$e&&(Oe=function(){try{$e.call(this)}catch(Xe){return Promise.reject(Xe)}}),le.stack.push({value:ye,dispose:Oe,async:we})}else we&&le.stack.push({async:!0});return ye}var gr="function"==typeof SuppressedError?SuppressedError:function(le,ye,we){var Oe=new Error(we);return Oe.name="SuppressedError",Oe.error=le,Oe.suppressed=ye,Oe};function sr(le){function ye(Xe){le.error=le.hasError?new gr(Xe,le.error,"An error was suppressed during disposal."):Xe,le.hasError=!0}var we,Oe=0;return function $e(){for(;we=le.stack.pop();)try{if(!we.async&&1===Oe)return Oe=0,le.stack.push(we),Promise.resolve().then($e);if(we.dispose){var Xe=we.dispose.call(we.value);if(we.async)return Oe|=2,Promise.resolve(Xe).then($e,function(_t){return ye(_t),$e()})}else Oe|=1}catch(_t){ye(_t)}if(1===Oe)return le.hasError?Promise.reject(le.error):Promise.resolve();if(le.hasError)throw le.error}()}function Tn(le,ye){return"string"==typeof le&&/^\.\.?\//.test(le)?le.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(we,Oe,$e,Xe,_t){return Oe?ye?".jsx":".js":!$e||Xe&&_t?$e+Xe+"."+_t.toLowerCase()+"js":we}):le}const $t={__extends:G,__assign:E,__rest:ge,__decorate:re,__param:H,__esDecorate:Q,__runInitializers:ce,__propKey:he,__setFunctionName:me,__metadata:oe,__awaiter:Me,__generator:Ye,__createBinding:je,__exportStar:qe,__values:Lt,__read:dt,__spread:St,__spreadArrays:Ze,__spreadArray:fn,__await:ze,__asyncGenerator:He,__asyncDelegator:st,__asyncValues:gt,__makeTemplateObject:Ae,__importStar:bt,__importDefault:bn,__classPrivateFieldGet:Je,__classPrivateFieldSet:wt,__classPrivateFieldIn:rt,__addDisposableResource:Nt,__disposeResources:sr,__rewriteRelativeImportExtension:Tn}},9293:ot=>{function pe(u,G,E,ge,re,H,Q){try{var ce=u[H](Q),he=ce.value}catch(me){return void E(me)}ce.done?G(he):Promise.resolve(he).then(ge,re)}ot.exports=function F(u){return function(){var G=this,E=arguments;return new Promise(function(ge,re){var H=u.apply(G,E);function Q(he){pe(H,ge,re,Q,ce,"next",he)}function ce(he){pe(H,ge,re,Q,ce,"throw",he)}Q(void 0)})}},ot.exports.__esModule=!0,ot.exports.default=ot.exports},177:(ot,pe,F)=>{"use strict";F.d(pe,{AJ:()=>Ur,B3:()=>jr,Jj:()=>si,MD:()=>Vr,N0:()=>$r,P9:()=>Yr,QT:()=>E,Sm:()=>qe,Sq:()=>br,VF:()=>re,Vy:()=>fr,Xr:()=>Wn,YU:()=>ur,ZD:()=>ge,_b:()=>yn,aZ:()=>dt,bT:()=>Sr,fw:()=>Lt,hb:()=>Ye,hj:()=>ce,qQ:()=>H,vh:()=>Ir});var u=F(6276);let G=null;function E(){return G}function ge(y){G||(G=y)}class re{}const H=new u.nKC("DocumentToken");let Q=(()=>{class y{historyGo(S){throw new Error("Not implemented")}static{this.\u0275fac=function(N){return new(N||y)}}static{this.\u0275prov=u.jDH({token:y,factory:function(){return(0,u.WQX)(he)},providedIn:"platform"})}}return y})();const ce=new u.nKC("Location Initialized");let he=(()=>{class y extends Q{constructor(){super(),this._doc=(0,u.WQX)(H),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return E().getBaseHref(this._doc)}onPopState(S){const N=E().getGlobalEventTarget(this._doc,"window");return N.addEventListener("popstate",S,!1),()=>N.removeEventListener("popstate",S)}onHashChange(S){const N=E().getGlobalEventTarget(this._doc,"window");return N.addEventListener("hashchange",S,!1),()=>N.removeEventListener("hashchange",S)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(S){this._location.pathname=S}pushState(S,N,J){this._history.pushState(S,N,J)}replaceState(S,N,J){this._history.replaceState(S,N,J)}forward(){this._history.forward()}back(){this._history.back()}historyGo(S=0){this._history.go(S)}getState(){return this._history.state}static{this.\u0275fac=function(N){return new(N||y)}}static{this.\u0275prov=u.jDH({token:y,factory:function(){return new y},providedIn:"platform"})}}return y})();function me(y,L){if(0==y.length)return L;if(0==L.length)return y;let S=0;return y.endsWith("/")&&S++,L.startsWith("/")&&S++,2==S?y+L.substring(1):1==S?y+L:y+"/"+L}function oe(y){const L=y.match(/#|\?|$/),S=L&&L.index||y.length;return y.slice(0,S-("/"===y[S-1]?1:0))+y.slice(S)}function Me(y){return y&&"?"!==y[0]?"?"+y:y}let Ye=(()=>{class y{historyGo(S){throw new Error("Not implemented")}static{this.\u0275fac=function(N){return new(N||y)}}static{this.\u0275prov=u.jDH({token:y,factory:function(){return(0,u.WQX)(qe)},providedIn:"root"})}}return y})();const je=new u.nKC("appBaseHref");let qe=(()=>{class y extends Ye{constructor(S,N){super(),this._platformLocation=S,this._removeListenerFns=[],this._baseHref=N??this._platformLocation.getBaseHrefFromDOM()??(0,u.WQX)(H).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}prepareExternalUrl(S){return me(this._baseHref,S)}path(S=!1){const N=this._platformLocation.pathname+Me(this._platformLocation.search),J=this._platformLocation.hash;return J&&S?`${N}${J}`:N}pushState(S,N,J,Ce){const Ie=this.prepareExternalUrl(J+Me(Ce));this._platformLocation.pushState(S,N,Ie)}replaceState(S,N,J,Ce){const Ie=this.prepareExternalUrl(J+Me(Ce));this._platformLocation.replaceState(S,N,Ie)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}static{this.\u0275fac=function(N){return new(N||y)(u.KVO(Q),u.KVO(je,8))}}static{this.\u0275prov=u.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})(),Lt=(()=>{class y extends Ye{constructor(S,N){super(),this._platformLocation=S,this._baseHref="",this._removeListenerFns=[],null!=N&&(this._baseHref=N)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}path(S=!1){let N=this._platformLocation.hash;return null==N&&(N="#"),N.length>0?N.substring(1):N}prepareExternalUrl(S){const N=me(this._baseHref,S);return N.length>0?"#"+N:N}pushState(S,N,J,Ce){let Ie=this.prepareExternalUrl(J+Me(Ce));0==Ie.length&&(Ie=this._platformLocation.pathname),this._platformLocation.pushState(S,N,Ie)}replaceState(S,N,J,Ce){let Ie=this.prepareExternalUrl(J+Me(Ce));0==Ie.length&&(Ie=this._platformLocation.pathname),this._platformLocation.replaceState(S,N,Ie)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}static{this.\u0275fac=function(N){return new(N||y)(u.KVO(Q),u.KVO(je,8))}}static{this.\u0275prov=u.jDH({token:y,factory:y.\u0275fac})}}return y})(),dt=(()=>{class y{constructor(S){this._subject=new u.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=S;const N=this._locationStrategy.getBaseHref();this._basePath=function ze(y){if(new RegExp("^(https?:)?//").test(y)){const[,S]=y.split(/\/\/[^\/]+/);return S}return y}(oe(fn(N))),this._locationStrategy.onPopState(J=>{this._subject.emit({url:this.path(!0),pop:!0,state:J.state,type:J.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(S=!1){return this.normalize(this._locationStrategy.path(S))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(S,N=""){return this.path()==this.normalize(S+Me(N))}normalize(S){return y.stripTrailingSlash(function Ze(y,L){if(!y||!L.startsWith(y))return L;const S=L.substring(y.length);return""===S||["/",";","?","#"].includes(S[0])?S:L}(this._basePath,fn(S)))}prepareExternalUrl(S){return S&&"/"!==S[0]&&(S="/"+S),this._locationStrategy.prepareExternalUrl(S)}go(S,N="",J=null){this._locationStrategy.pushState(J,"",S,N),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+Me(N)),J)}replaceState(S,N="",J=null){this._locationStrategy.replaceState(J,"",S,N),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+Me(N)),J)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(S=0){this._locationStrategy.historyGo?.(S)}onUrlChange(S){return this._urlChangeListeners.push(S),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(N=>{this._notifyUrlChangeListeners(N.url,N.state)})),()=>{const N=this._urlChangeListeners.indexOf(S);this._urlChangeListeners.splice(N,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(S="",N){this._urlChangeListeners.forEach(J=>J(S,N))}subscribe(S,N,J){return this._subject.subscribe({next:S,error:N,complete:J})}static{this.normalizeQueryParams=Me}static{this.joinWithSlash=me}static{this.stripTrailingSlash=oe}static{this.\u0275fac=function(N){return new(N||y)(u.KVO(Ye))}}static{this.\u0275prov=u.jDH({token:y,factory:function(){return function St(){return new dt((0,u.KVO)(Ye))}()},providedIn:"root"})}}return y})();function fn(y){return y.replace(/\/index.html$/,"")}var Ae=function(y){return y[y.Format=0]="Format",y[y.Standalone=1]="Standalone",y}(Ae||{}),Qe=function(y){return y[y.Narrow=0]="Narrow",y[y.Abbreviated=1]="Abbreviated",y[y.Wide=2]="Wide",y[y.Short=3]="Short",y}(Qe||{}),Tt=function(y){return y[y.Short=0]="Short",y[y.Medium=1]="Medium",y[y.Long=2]="Long",y[y.Full=3]="Full",y}(Tt||{}),bt=function(y){return y[y.Decimal=0]="Decimal",y[y.Group=1]="Group",y[y.List=2]="List",y[y.PercentSign=3]="PercentSign",y[y.PlusSign=4]="PlusSign",y[y.MinusSign=5]="MinusSign",y[y.Exponential=6]="Exponential",y[y.SuperscriptingExponent=7]="SuperscriptingExponent",y[y.PerMille=8]="PerMille",y[y.Infinity=9]="Infinity",y[y.NaN=10]="NaN",y[y.TimeSeparator=11]="TimeSeparator",y[y.CurrencyDecimal=12]="CurrencyDecimal",y[y.CurrencyGroup=13]="CurrencyGroup",y}(bt||{});function $t(y,L){return Ct((0,u.H5H)(y)[u.KH2.DateFormat],L)}function le(y,L){return Ct((0,u.H5H)(y)[u.KH2.TimeFormat],L)}function ye(y,L){return Ct((0,u.H5H)(y)[u.KH2.DateTimeFormat],L)}function we(y,L){const S=(0,u.H5H)(y),N=S[u.KH2.NumberSymbols][L];if(typeof N>"u"){if(L===bt.CurrencyDecimal)return S[u.KH2.NumberSymbols][bt.Decimal];if(L===bt.CurrencyGroup)return S[u.KH2.NumberSymbols][bt.Group]}return N}function At(y){if(!y[u.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${y[u.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ct(y,L){for(let S=L;S>-1;S--)if(typeof y[S]<"u")return y[S];throw new Error("Locale data API: locale data undefined")}function at(y){const[L,S]=y.split(":");return{hours:+L,minutes:+S}}const Kt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Nr={},bs=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var mn=function(y){return y[y.Short=0]="Short",y[y.ShortGMT=1]="ShortGMT",y[y.Long=2]="Long",y[y.Extended=3]="Extended",y}(mn||{}),Jt=function(y){return y[y.FullYear=0]="FullYear",y[y.Month=1]="Month",y[y.Date=2]="Date",y[y.Hours=3]="Hours",y[y.Minutes=4]="Minutes",y[y.Seconds=5]="Seconds",y[y.FractionalSeconds=6]="FractionalSeconds",y[y.Day=7]="Day",y}(Jt||{}),qt=function(y){return y[y.DayPeriods=0]="DayPeriods",y[y.Days=1]="Days",y[y.Months=2]="Months",y[y.Eras=3]="Eras",y}(qt||{});function qn(y,L,S,N){let J=function Ps(y){if(ve(y))return y;if("number"==typeof y&&!isNaN(y))return new Date(y);if("string"==typeof y){if(y=y.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(y)){const[J,Ce=1,Ie=1]=y.split("-").map(vt=>+vt);return Yt(J,Ce-1,Ie)}const S=parseFloat(y);if(!isNaN(y-S))return new Date(S);let N;if(N=y.match(Kt))return function Pe(y){const L=new Date(0);let S=0,N=0;const J=y[8]?L.setUTCFullYear:L.setFullYear,Ce=y[8]?L.setUTCHours:L.setHours;y[9]&&(S=Number(y[9]+y[10]),N=Number(y[9]+y[11])),J.call(L,Number(y[1]),Number(y[2])-1,Number(y[3]));const Ie=Number(y[4]||0)-S,vt=Number(y[5]||0)-N,In=Number(y[6]||0),wn=Math.floor(1e3*parseFloat("0."+(y[7]||0)));return Ce.call(L,Ie,vt,In,wn),L}(N)}const L=new Date(y);if(!ve(L))throw new Error(`Unable to convert "${y}" into a date`);return L}(y);L=vr(S,L)||L;let vt,Ie=[];for(;L;){if(vt=bs.exec(L),!vt){Ie.push(L);break}{Ie=Ie.concat(vt.slice(1));const rn=Ie.pop();if(!rn)break;L=rn}}let In=J.getTimezoneOffset();N&&(In=ar(N,In),J=function hs(y,L,S){const N=S?-1:1,J=y.getTimezoneOffset();return function Lr(y,L){return(y=new Date(y.getTime())).setMinutes(y.getMinutes()+L),y}(y,N*(ar(L,J)-J))}(J,N,!0));let wn="";return Ie.forEach(rn=>{const Qt=function Qr(y){if(Ln[y])return Ln[y];let L;switch(y){case"G":case"GG":case"GGG":L=cn(qt.Eras,Qe.Abbreviated);break;case"GGGG":L=cn(qt.Eras,Qe.Wide);break;case"GGGGG":L=cn(qt.Eras,Qe.Narrow);break;case"y":L=yt(Jt.FullYear,1,0,!1,!0);break;case"yy":L=yt(Jt.FullYear,2,0,!0,!0);break;case"yyy":L=yt(Jt.FullYear,3,0,!1,!0);break;case"yyyy":L=yt(Jt.FullYear,4,0,!1,!0);break;case"Y":L=or(1);break;case"YY":L=or(2,!0);break;case"YYY":L=or(3);break;case"YYYY":L=or(4);break;case"M":case"L":L=yt(Jt.Month,1,1);break;case"MM":case"LL":L=yt(Jt.Month,2,1);break;case"MMM":L=cn(qt.Months,Qe.Abbreviated);break;case"MMMM":L=cn(qt.Months,Qe.Wide);break;case"MMMMM":L=cn(qt.Months,Qe.Narrow);break;case"LLL":L=cn(qt.Months,Qe.Abbreviated,Ae.Standalone);break;case"LLLL":L=cn(qt.Months,Qe.Wide,Ae.Standalone);break;case"LLLLL":L=cn(qt.Months,Qe.Narrow,Ae.Standalone);break;case"w":L=Ot(1);break;case"ww":L=Ot(2);break;case"W":L=Ot(1,!0);break;case"d":L=yt(Jt.Date,1);break;case"dd":L=yt(Jt.Date,2);break;case"c":case"cc":L=yt(Jt.Day,1);break;case"ccc":L=cn(qt.Days,Qe.Abbreviated,Ae.Standalone);break;case"cccc":L=cn(qt.Days,Qe.Wide,Ae.Standalone);break;case"ccccc":L=cn(qt.Days,Qe.Narrow,Ae.Standalone);break;case"cccccc":L=cn(qt.Days,Qe.Short,Ae.Standalone);break;case"E":case"EE":case"EEE":L=cn(qt.Days,Qe.Abbreviated);break;case"EEEE":L=cn(qt.Days,Qe.Wide);break;case"EEEEE":L=cn(qt.Days,Qe.Narrow);break;case"EEEEEE":L=cn(qt.Days,Qe.Short);break;case"a":case"aa":case"aaa":L=cn(qt.DayPeriods,Qe.Abbreviated);break;case"aaaa":L=cn(qt.DayPeriods,Qe.Wide);break;case"aaaaa":L=cn(qt.DayPeriods,Qe.Narrow);break;case"b":case"bb":case"bbb":L=cn(qt.DayPeriods,Qe.Abbreviated,Ae.Standalone,!0);break;case"bbbb":L=cn(qt.DayPeriods,Qe.Wide,Ae.Standalone,!0);break;case"bbbbb":L=cn(qt.DayPeriods,Qe.Narrow,Ae.Standalone,!0);break;case"B":case"BB":case"BBB":L=cn(qt.DayPeriods,Qe.Abbreviated,Ae.Format,!0);break;case"BBBB":L=cn(qt.DayPeriods,Qe.Wide,Ae.Format,!0);break;case"BBBBB":L=cn(qt.DayPeriods,Qe.Narrow,Ae.Format,!0);break;case"h":L=yt(Jt.Hours,1,-12);break;case"hh":L=yt(Jt.Hours,2,-12);break;case"H":L=yt(Jt.Hours,1);break;case"HH":L=yt(Jt.Hours,2);break;case"m":L=yt(Jt.Minutes,1);break;case"mm":L=yt(Jt.Minutes,2);break;case"s":L=yt(Jt.Seconds,1);break;case"ss":L=yt(Jt.Seconds,2);break;case"S":L=yt(Jt.FractionalSeconds,1);break;case"SS":L=yt(Jt.FractionalSeconds,2);break;case"SSS":L=yt(Jt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":L=_r(mn.Short);break;case"ZZZZZ":L=_r(mn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":L=_r(mn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":L=_r(mn.Long);break;default:return null}return Ln[y]=L,L}(rn);wn+=Qt?Qt(J,S,In):"''"===rn?"'":rn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),wn}function Yt(y,L,S){const N=new Date(0);return N.setFullYear(y,L,S),N.setHours(0,0,0),N}function vr(y,L){const S=function Je(y){return(0,u.H5H)(y)[u.KH2.LocaleId]}(y);if(Nr[S]=Nr[S]||{},Nr[S][L])return Nr[S][L];let N="";switch(L){case"shortDate":N=$t(y,Tt.Short);break;case"mediumDate":N=$t(y,Tt.Medium);break;case"longDate":N=$t(y,Tt.Long);break;case"fullDate":N=$t(y,Tt.Full);break;case"shortTime":N=le(y,Tt.Short);break;case"mediumTime":N=le(y,Tt.Medium);break;case"longTime":N=le(y,Tt.Long);break;case"fullTime":N=le(y,Tt.Full);break;case"short":const J=vr(y,"shortTime"),Ce=vr(y,"shortDate");N=Er(ye(y,Tt.Short),[J,Ce]);break;case"medium":const Ie=vr(y,"mediumTime"),vt=vr(y,"mediumDate");N=Er(ye(y,Tt.Medium),[Ie,vt]);break;case"long":const In=vr(y,"longTime"),wn=vr(y,"longDate");N=Er(ye(y,Tt.Long),[In,wn]);break;case"full":const rn=vr(y,"fullTime"),Qt=vr(y,"fullDate");N=Er(ye(y,Tt.Full),[rn,Qt])}return N&&(Nr[S][L]=N),N}function Er(y,L){return L&&(y=y.replace(/\{([^}]+)}/g,function(S,N){return null!=L&&N in L?L[N]:S})),y}function mr(y,L,S="-",N,J){let Ce="";(y<0||J&&y<=0)&&(J?y=1-y:(y=-y,Ce=S));let Ie=String(y);for(;Ie.length<L;)Ie="0"+Ie;return N&&(Ie=Ie.slice(Ie.length-L)),Ce+Ie}function yt(y,L,S=0,N=!1,J=!1){return function(Ce,Ie){let vt=function Tr(y,L){switch(y){case Jt.FullYear:return L.getFullYear();case Jt.Month:return L.getMonth();case Jt.Date:return L.getDate();case Jt.Hours:return L.getHours();case Jt.Minutes:return L.getMinutes();case Jt.Seconds:return L.getSeconds();case Jt.FractionalSeconds:return L.getMilliseconds();case Jt.Day:return L.getDay();default:throw new Error(`Unknown DateType value "${y}".`)}}(y,Ce);if((S>0||vt>-S)&&(vt+=S),y===Jt.Hours)0===vt&&-12===S&&(vt=12);else if(y===Jt.FractionalSeconds)return function Os(y,L){return mr(y,3).substring(0,L)}(vt,L);const In=we(Ie,bt.MinusSign);return mr(vt,L,In,N,J)}}function cn(y,L,S=Ae.Format,N=!1){return function(J,Ce){return function Fn(y,L,S,N,J,Ce){switch(S){case qt.Months:return function Nt(y,L,S){const N=(0,u.H5H)(y),Ce=Ct([N[u.KH2.MonthsFormat],N[u.KH2.MonthsStandalone]],L);return Ct(Ce,S)}(L,J,N)[y.getMonth()];case qt.Days:return function rt(y,L,S){const N=(0,u.H5H)(y),Ce=Ct([N[u.KH2.DaysFormat],N[u.KH2.DaysStandalone]],L);return Ct(Ce,S)}(L,J,N)[y.getDay()];case qt.DayPeriods:const Ie=y.getHours(),vt=y.getMinutes();if(Ce){const wn=function gn(y){const L=(0,u.H5H)(y);return At(L),(L[u.KH2.ExtraData][2]||[]).map(N=>"string"==typeof N?at(N):[at(N[0]),at(N[1])])}(L),rn=function Un(y,L,S){const N=(0,u.H5H)(y);At(N);const Ce=Ct([N[u.KH2.ExtraData][0],N[u.KH2.ExtraData][1]],L)||[];return Ct(Ce,S)||[]}(L,J,N),Qt=wn.findIndex(nr=>{if(Array.isArray(nr)){const[Nn,pr]=nr,os=Ie>=Nn.hours&&vt>=Nn.minutes,as=Ie<pr.hours||Ie===pr.hours&&vt<pr.minutes;if(Nn.hours<pr.hours){if(os&&as)return!0}else if(os||as)return!0}else if(nr.hours===Ie&&nr.minutes===vt)return!0;return!1});if(-1!==Qt)return rn[Qt]}return function wt(y,L,S){const N=(0,u.H5H)(y),Ce=Ct([N[u.KH2.DayPeriodsFormat],N[u.KH2.DayPeriodsStandalone]],L);return Ct(Ce,S)}(L,J,N)[Ie<12?0:1];case qt.Eras:return function gr(y,L){return Ct((0,u.H5H)(y)[u.KH2.Eras],L)}(L,N)[y.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${S}`)}}(J,Ce,y,L,S,N)}}function _r(y){return function(L,S,N){const J=-1*N,Ce=we(S,bt.MinusSign),Ie=J>0?Math.floor(J/60):Math.ceil(J/60);switch(y){case mn.Short:return(J>=0?"+":"")+mr(Ie,2,Ce)+mr(Math.abs(J%60),2,Ce);case mn.ShortGMT:return"GMT"+(J>=0?"+":"")+mr(Ie,1,Ce);case mn.Long:return"GMT"+(J>=0?"+":"")+mr(Ie,2,Ce)+":"+mr(Math.abs(J%60),2,Ce);case mn.Extended:return 0===N?"Z":(J>=0?"+":"")+mr(Ie,2,Ce)+":"+mr(Math.abs(J%60),2,Ce);default:throw new Error(`Unknown zone width "${y}"`)}}}const on=0,jt=4;function tr(y){return Yt(y.getFullYear(),y.getMonth(),y.getDate()+(jt-y.getDay()))}function Ot(y,L=!1){return function(S,N){let J;if(L){const Ce=new Date(S.getFullYear(),S.getMonth(),1).getDay()-1,Ie=S.getDate();J=1+Math.floor((Ie+Ce)/7)}else{const Ce=tr(S),Ie=function Xr(y){const L=Yt(y,on,1).getDay();return Yt(y,0,1+(L<=jt?jt:jt+7)-L)}(Ce.getFullYear()),vt=Ce.getTime()-Ie.getTime();J=1+Math.round(vt/6048e5)}return mr(J,y,we(N,bt.MinusSign))}}function or(y,L=!1){return function(S,N){return mr(tr(S).getFullYear(),y,we(N,bt.MinusSign),L)}}const Ln={};function ar(y,L){y=y.replace(/:/g,"");const S=Date.parse("Jan 01, 1970 00:00:00 "+y)/6e4;return isNaN(S)?L:S}function ve(y){return y instanceof Date&&!isNaN(y.valueOf())}function yn(y,L){L=encodeURIComponent(L);for(const S of y.split(";")){const N=S.indexOf("="),[J,Ce]=-1==N?[S,""]:[S.slice(0,N),S.slice(N+1)];if(J.trim()===L)return decodeURIComponent(Ce)}return null}const Gn=/\s+/,Dr=[];let ur=(()=>{class y{constructor(S,N,J,Ce){this._iterableDiffers=S,this._keyValueDiffers=N,this._ngEl=J,this._renderer=Ce,this.initialClasses=Dr,this.stateMap=new Map}set klass(S){this.initialClasses=null!=S?S.trim().split(Gn):Dr}set ngClass(S){this.rawClass="string"==typeof S?S.trim().split(Gn):S}ngDoCheck(){for(const N of this.initialClasses)this._updateState(N,!0);const S=this.rawClass;if(Array.isArray(S)||S instanceof Set)for(const N of S)this._updateState(N,!0);else if(null!=S)for(const N of Object.keys(S))this._updateState(N,!!S[N]);this._applyStateDiff()}_updateState(S,N){const J=this.stateMap.get(S);void 0!==J?(J.enabled!==N&&(J.changed=!0,J.enabled=N),J.touched=!0):this.stateMap.set(S,{enabled:N,changed:!0,touched:!0})}_applyStateDiff(){for(const S of this.stateMap){const N=S[0],J=S[1];J.changed?(this._toggleClass(N,J.enabled),J.changed=!1):J.touched||(J.enabled&&this._toggleClass(N,!1),this.stateMap.delete(N)),J.touched=!1}}_toggleClass(S,N){(S=S.trim()).length>0&&S.split(Gn).forEach(J=>{N?this._renderer.addClass(this._ngEl.nativeElement,J):this._renderer.removeClass(this._ngEl.nativeElement,J)})}static{this.\u0275fac=function(N){return new(N||y)(u.rXU(u._q3),u.rXU(u.MKu),u.rXU(u.aKT),u.rXU(u.sFG))}}static{this.\u0275dir=u.FsC({type:y,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return y})();class Hr{constructor(L,S,N,J){this.$implicit=L,this.ngForOf=S,this.index=N,this.count=J}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let br=(()=>{class y{set ngForOf(S){this._ngForOf=S,this._ngForOfDirty=!0}set ngForTrackBy(S){this._trackByFn=S}get ngForTrackBy(){return this._trackByFn}constructor(S,N,J){this._viewContainer=S,this._template=N,this._differs=J,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(S){S&&(this._template=S)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const S=this._ngForOf;!this._differ&&S&&(this._differ=this._differs.find(S).create(this.ngForTrackBy))}if(this._differ){const S=this._differ.diff(this._ngForOf);S&&this._applyChanges(S)}}_applyChanges(S){const N=this._viewContainer;S.forEachOperation((J,Ce,Ie)=>{if(null==J.previousIndex)N.createEmbeddedView(this._template,new Hr(J.item,this._ngForOf,-1,-1),null===Ie?void 0:Ie);else if(null==Ie)N.remove(null===Ce?void 0:Ce);else if(null!==Ce){const vt=N.get(Ce);N.move(vt,Ie),dr(vt,J)}});for(let J=0,Ce=N.length;J<Ce;J++){const vt=N.get(J).context;vt.index=J,vt.count=Ce,vt.ngForOf=this._ngForOf}S.forEachIdentityChange(J=>{dr(N.get(J.currentIndex),J)})}static ngTemplateContextGuard(S,N){return!0}static{this.\u0275fac=function(N){return new(N||y)(u.rXU(u.c1b),u.rXU(u.C4Q),u.rXU(u._q3))}}static{this.\u0275dir=u.FsC({type:y,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return y})();function dr(y,L){y.context.$implicit=L.item}let Sr=(()=>{class y{constructor(S,N){this._viewContainer=S,this._context=new hr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=N}set ngIf(S){this._context.$implicit=this._context.ngIf=S,this._updateView()}set ngIfThen(S){Rs("ngIfThen",S),this._thenTemplateRef=S,this._thenViewRef=null,this._updateView()}set ngIfElse(S){Rs("ngIfElse",S),this._elseTemplateRef=S,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(S,N){return!0}static{this.\u0275fac=function(N){return new(N||y)(u.rXU(u.c1b),u.rXU(u.C4Q))}}static{this.\u0275dir=u.FsC({type:y,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return y})();class hr{constructor(){this.$implicit=null,this.ngIf=null}}function Rs(y,L){if(L&&!L.createEmbeddedView)throw new Error(`${y} must be a TemplateRef, but received '${(0,u.Tbb)(L)}'.`)}let jr=(()=>{class y{constructor(S,N,J){this._ngEl=S,this._differs=N,this._renderer=J,this._ngStyle=null,this._differ=null}set ngStyle(S){this._ngStyle=S,!this._differ&&S&&(this._differ=this._differs.find(S).create())}ngDoCheck(){if(this._differ){const S=this._differ.diff(this._ngStyle);S&&this._applyChanges(S)}}_setStyle(S,N){const[J,Ce]=S.split("."),Ie=-1===J.indexOf("-")?void 0:u.czy.DashCase;null!=N?this._renderer.setStyle(this._ngEl.nativeElement,J,Ce?`${N}${Ce}`:N,Ie):this._renderer.removeStyle(this._ngEl.nativeElement,J,Ie)}_applyChanges(S){S.forEachRemovedItem(N=>this._setStyle(N.key,null)),S.forEachAddedItem(N=>this._setStyle(N.key,N.currentValue)),S.forEachChangedItem(N=>this._setStyle(N.key,N.currentValue))}static{this.\u0275fac=function(N){return new(N||y)(u.rXU(u.aKT),u.rXU(u.MKu),u.rXU(u.sFG))}}static{this.\u0275dir=u.FsC({type:y,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return y})();function Pn(y,L){return new u.wOt(2100,!1)}class mi{createSubscription(L,S){return(0,u.O8t)(()=>L.subscribe({next:S,error:N=>{throw N}}))}dispose(L){(0,u.O8t)(()=>L.unsubscribe())}}class Mi{createSubscription(L,S){return L.then(S,N=>{throw N})}dispose(L){}}const Ti=new Mi,Ai=new mi;let si=(()=>{class y{constructor(S){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=S}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(S){return this._obj?S!==this._obj?(this._dispose(),this.transform(S)):this._latestValue:(S&&this._subscribe(S),this._latestValue)}_subscribe(S){this._obj=S,this._strategy=this._selectStrategy(S),this._subscription=this._strategy.createSubscription(S,N=>this._updateLatestValue(S,N))}_selectStrategy(S){if((0,u.jNT)(S))return Ti;if((0,u.zjR)(S))return Ai;throw Pn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(S,N){S===this._obj&&(this._latestValue=N,this._ref.markForCheck())}static{this.\u0275fac=function(N){return new(N||y)(u.rXU(u.gRc,16))}}static{this.\u0275pipe=u.EJ8({name:"async",type:y,pure:!1,standalone:!0})}}return y})();const oi=new u.nKC("DATE_PIPE_DEFAULT_TIMEZONE"),ws=new u.nKC("DATE_PIPE_DEFAULT_OPTIONS");let Ir=(()=>{class y{constructor(S,N,J){this.locale=S,this.defaultTimezone=N,this.defaultOptions=J}transform(S,N,J,Ce){if(null==S||""===S||S!=S)return null;try{return qn(S,N??this.defaultOptions?.dateFormat??"mediumDate",Ce||this.locale,J??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Ie){throw Pn()}}static{this.\u0275fac=function(N){return new(N||y)(u.rXU(u.xe9,16),u.rXU(oi,24),u.rXU(ws,24))}}static{this.\u0275pipe=u.EJ8({name:"date",type:y,pure:!0,standalone:!0})}}return y})(),Yr=(()=>{class y{transform(S,N,J){if(null==S)return null;if(!this.supports(S))throw Pn();return S.slice(N,J)}supports(S){return"string"==typeof S||Array.isArray(S)}static{this.\u0275fac=function(N){return new(N||y)}}static{this.\u0275pipe=u.EJ8({name:"slice",type:y,pure:!1,standalone:!0})}}return y})(),Vr=(()=>{class y{static{this.\u0275fac=function(N){return new(N||y)}}static{this.\u0275mod=u.$C({type:y})}static{this.\u0275inj=u.G2t({})}}return y})();const Ur="browser",tn="server";function fr(y){return y===tn}let Wn=(()=>{class y{static{this.\u0275prov=(0,u.jDH)({token:y,providedIn:"root",factory:()=>new wr((0,u.KVO)(H),window)})}}return y})();class wr{constructor(L,S){this.document=L,this.window=S,this.offset=()=>[0,0]}setOffset(L){this.offset=Array.isArray(L)?()=>L:L}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(L){this.supportsScrolling()&&this.window.scrollTo(L[0],L[1])}scrollToAnchor(L){if(!this.supportsScrolling())return;const S=function Ns(y,L){const S=y.getElementById(L)||y.getElementsByName(L)[0];if(S)return S;if("function"==typeof y.createTreeWalker&&y.body&&"function"==typeof y.body.attachShadow){const N=y.createTreeWalker(y.body,NodeFilter.SHOW_ELEMENT);let J=N.currentNode;for(;J;){const Ce=J.shadowRoot;if(Ce){const Ie=Ce.getElementById(L)||Ce.querySelector(`[name="${L}"]`);if(Ie)return Ie}J=N.nextNode()}}return null}(this.document,L);S&&(this.scrollToElement(S),S.focus())}setHistoryScrollRestoration(L){this.supportsScrolling()&&(this.window.history.scrollRestoration=L)}scrollToElement(L){const S=L.getBoundingClientRect(),N=S.left+this.window.pageXOffset,J=S.top+this.window.pageYOffset,Ce=this.offset();this.window.scrollTo(N-Ce[0],J-Ce[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class $r{}},1626:(ot,pe,F)=>{"use strict";F.d(pe,{$R:()=>Ln,$m:()=>Ar,Lr:()=>qe,Nl:()=>st,Qq:()=>le,b$:()=>Qr,q1:()=>Te});var u=F(6276),G=F(7673),E=F(6648),ge=F(1985),re=F(274),H=F(5964),Q=F(6354),ce=F(980),he=F(5558),me=F(8141),oe=F(1594),Me=F(177);class Ye{}class je{}class qe{constructor(Y){this.normalizedNames=new Map,this.lazyUpdate=null,Y?"string"==typeof Y?this.lazyInit=()=>{this.headers=new Map,Y.split("\n").forEach(ee=>{const xe=ee.indexOf(":");if(xe>0){const Ne=ee.slice(0,xe),tt=Ne.toLowerCase(),Be=ee.slice(xe+1).trim();this.maybeSetNormalizedName(Ne,tt),this.headers.has(tt)?this.headers.get(tt).push(Be):this.headers.set(tt,[Be])}})}:typeof Headers<"u"&&Y instanceof Headers?(this.headers=new Map,Y.forEach((ee,xe)=>{this.setHeaderEntries(xe,ee)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(Y).forEach(([ee,xe])=>{this.setHeaderEntries(ee,xe)})}:this.headers=new Map}has(Y){return this.init(),this.headers.has(Y.toLowerCase())}get(Y){this.init();const ee=this.headers.get(Y.toLowerCase());return ee&&ee.length>0?ee[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Y){return this.init(),this.headers.get(Y.toLowerCase())||null}append(Y,ee){return this.clone({name:Y,value:ee,op:"a"})}set(Y,ee){return this.clone({name:Y,value:ee,op:"s"})}delete(Y,ee){return this.clone({name:Y,value:ee,op:"d"})}maybeSetNormalizedName(Y,ee){this.normalizedNames.has(ee)||this.normalizedNames.set(ee,Y)}init(){this.lazyInit&&(this.lazyInit instanceof qe?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Y=>this.applyUpdate(Y)),this.lazyUpdate=null))}copyFrom(Y){Y.init(),Array.from(Y.headers.keys()).forEach(ee=>{this.headers.set(ee,Y.headers.get(ee)),this.normalizedNames.set(ee,Y.normalizedNames.get(ee))})}clone(Y){const ee=new qe;return ee.lazyInit=this.lazyInit&&this.lazyInit instanceof qe?this.lazyInit:this,ee.lazyUpdate=(this.lazyUpdate||[]).concat([Y]),ee}applyUpdate(Y){const ee=Y.name.toLowerCase();switch(Y.op){case"a":case"s":let xe=Y.value;if("string"==typeof xe&&(xe=[xe]),0===xe.length)return;this.maybeSetNormalizedName(Y.name,ee);const Ne=("a"===Y.op?this.headers.get(ee):void 0)||[];Ne.push(...xe),this.headers.set(ee,Ne);break;case"d":const tt=Y.value;if(tt){let Be=this.headers.get(ee);if(!Be)return;Be=Be.filter(an=>-1===tt.indexOf(an)),0===Be.length?(this.headers.delete(ee),this.normalizedNames.delete(ee)):this.headers.set(ee,Be)}else this.headers.delete(ee),this.normalizedNames.delete(ee)}}setHeaderEntries(Y,ee){const xe=(Array.isArray(ee)?ee:[ee]).map(tt=>tt.toString()),Ne=Y.toLowerCase();this.headers.set(Ne,xe),this.maybeSetNormalizedName(Y,Ne)}forEach(Y){this.init(),Array.from(this.normalizedNames.keys()).forEach(ee=>Y(this.normalizedNames.get(ee),this.headers.get(ee)))}}class dt{encodeKey(Y){return ze(Y)}encodeValue(Y){return ze(Y)}decodeKey(Y){return decodeURIComponent(Y)}decodeValue(Y){return decodeURIComponent(Y)}}const Ze=/%(\d[a-f0-9])/gi,fn={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ze(ae){return encodeURIComponent(ae).replace(Ze,(Y,ee)=>fn[ee]??Y)}function He(ae){return`${ae}`}class st{constructor(Y={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Y.encoder||new dt,Y.fromString){if(Y.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function St(ae,Y){const ee=new Map;return ae.length>0&&ae.replace(/^\?/,"").split("&").forEach(Ne=>{const tt=Ne.indexOf("="),[Be,an]=-1==tt?[Y.decodeKey(Ne),""]:[Y.decodeKey(Ne.slice(0,tt)),Y.decodeValue(Ne.slice(tt+1))],It=ee.get(Be)||[];It.push(an),ee.set(Be,It)}),ee}(Y.fromString,this.encoder)}else Y.fromObject?(this.map=new Map,Object.keys(Y.fromObject).forEach(ee=>{const xe=Y.fromObject[ee],Ne=Array.isArray(xe)?xe.map(He):[He(xe)];this.map.set(ee,Ne)})):this.map=null}has(Y){return this.init(),this.map.has(Y)}get(Y){this.init();const ee=this.map.get(Y);return ee?ee[0]:null}getAll(Y){return this.init(),this.map.get(Y)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Y,ee){return this.clone({param:Y,value:ee,op:"a"})}appendAll(Y){const ee=[];return Object.keys(Y).forEach(xe=>{const Ne=Y[xe];Array.isArray(Ne)?Ne.forEach(tt=>{ee.push({param:xe,value:tt,op:"a"})}):ee.push({param:xe,value:Ne,op:"a"})}),this.clone(ee)}set(Y,ee){return this.clone({param:Y,value:ee,op:"s"})}delete(Y,ee){return this.clone({param:Y,value:ee,op:"d"})}toString(){return this.init(),this.keys().map(Y=>{const ee=this.encoder.encodeKey(Y);return this.map.get(Y).map(xe=>ee+"="+this.encoder.encodeValue(xe)).join("&")}).filter(Y=>""!==Y).join("&")}clone(Y){const ee=new st({encoder:this.encoder});return ee.cloneFrom=this.cloneFrom||this,ee.updates=(this.updates||[]).concat(Y),ee}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Y=>this.map.set(Y,this.cloneFrom.map.get(Y))),this.updates.forEach(Y=>{switch(Y.op){case"a":case"s":const ee=("a"===Y.op?this.map.get(Y.param):void 0)||[];ee.push(He(Y.value)),this.map.set(Y.param,ee);break;case"d":if(void 0===Y.value){this.map.delete(Y.param);break}{let xe=this.map.get(Y.param)||[];const Ne=xe.indexOf(He(Y.value));-1!==Ne&&xe.splice(Ne,1),xe.length>0?this.map.set(Y.param,xe):this.map.delete(Y.param)}}}),this.cloneFrom=this.updates=null)}}class Ae{constructor(){this.map=new Map}set(Y,ee){return this.map.set(Y,ee),this}get(Y){return this.map.has(Y)||this.map.set(Y,Y.defaultValue()),this.map.get(Y)}delete(Y){return this.map.delete(Y),this}has(Y){return this.map.has(Y)}keys(){return this.map.keys()}}function Tt(ae){return typeof ArrayBuffer<"u"&&ae instanceof ArrayBuffer}function bt(ae){return typeof Blob<"u"&&ae instanceof Blob}function bn(ae){return typeof FormData<"u"&&ae instanceof FormData}class wt{constructor(Y,ee,xe,Ne){let tt;if(this.url=ee,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Y.toUpperCase(),function Qe(ae){switch(ae){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ne?(this.body=void 0!==xe?xe:null,tt=Ne):tt=xe,tt&&(this.reportProgress=!!tt.reportProgress,this.withCredentials=!!tt.withCredentials,tt.responseType&&(this.responseType=tt.responseType),tt.headers&&(this.headers=tt.headers),tt.context&&(this.context=tt.context),tt.params&&(this.params=tt.params)),this.headers||(this.headers=new qe),this.context||(this.context=new Ae),this.params){const Be=this.params.toString();if(0===Be.length)this.urlWithParams=ee;else{const an=ee.indexOf("?");this.urlWithParams=ee+(-1===an?"?":an<ee.length-1?"&":"")+Be}}else this.params=new st,this.urlWithParams=ee}serializeBody(){return null===this.body?null:Tt(this.body)||bt(this.body)||bn(this.body)||function Je(ae){return typeof URLSearchParams<"u"&&ae instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof st?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||bn(this.body)?null:bt(this.body)?this.body.type||null:Tt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof st?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Y={}){const ee=Y.method||this.method,xe=Y.url||this.url,Ne=Y.responseType||this.responseType,tt=void 0!==Y.body?Y.body:this.body,Be=void 0!==Y.withCredentials?Y.withCredentials:this.withCredentials,an=void 0!==Y.reportProgress?Y.reportProgress:this.reportProgress;let It=Y.headers||this.headers,Sn=Y.params||this.params;const lr=Y.context??this.context;return void 0!==Y.setHeaders&&(It=Object.keys(Y.setHeaders).reduce((yn,Gn)=>yn.set(Gn,Y.setHeaders[Gn]),It)),Y.setParams&&(Sn=Object.keys(Y.setParams).reduce((yn,Gn)=>yn.set(Gn,Y.setParams[Gn]),Sn)),new wt(ee,xe,tt,{params:Sn,headers:It,context:lr,reportProgress:an,responseType:Ne,withCredentials:Be})}}var rt=function(ae){return ae[ae.Sent=0]="Sent",ae[ae.UploadProgress=1]="UploadProgress",ae[ae.ResponseHeader=2]="ResponseHeader",ae[ae.DownloadProgress=3]="DownloadProgress",ae[ae.Response=4]="Response",ae[ae.User=5]="User",ae}(rt||{});class Nt{constructor(Y,ee=200,xe="OK"){this.headers=Y.headers||new qe,this.status=void 0!==Y.status?Y.status:ee,this.statusText=Y.statusText||xe,this.url=Y.url||null,this.ok=this.status>=200&&this.status<300}}class gr extends Nt{constructor(Y={}){super(Y),this.type=rt.ResponseHeader}clone(Y={}){return new gr({headers:Y.headers||this.headers,status:void 0!==Y.status?Y.status:this.status,statusText:Y.statusText||this.statusText,url:Y.url||this.url||void 0})}}class sr extends Nt{constructor(Y={}){super(Y),this.type=rt.Response,this.body=void 0!==Y.body?Y.body:null}clone(Y={}){return new sr({body:void 0!==Y.body?Y.body:this.body,headers:Y.headers||this.headers,status:void 0!==Y.status?Y.status:this.status,statusText:Y.statusText||this.statusText,url:Y.url||this.url||void 0})}}class Tn extends Nt{constructor(Y){super(Y,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Y.url||"(unknown url)"}`:`Http failure response for ${Y.url||"(unknown url)"}: ${Y.status} ${Y.statusText}`,this.error=Y.error||null}}function $t(ae,Y){return{body:Y,headers:ae.headers,context:ae.context,observe:ae.observe,params:ae.params,reportProgress:ae.reportProgress,responseType:ae.responseType,withCredentials:ae.withCredentials}}let le=(()=>{class ae{constructor(ee){this.handler=ee}request(ee,xe,Ne={}){let tt;if(ee instanceof wt)tt=ee;else{let It,Sn;It=Ne.headers instanceof qe?Ne.headers:new qe(Ne.headers),Ne.params&&(Sn=Ne.params instanceof st?Ne.params:new st({fromObject:Ne.params})),tt=new wt(ee,xe,void 0!==Ne.body?Ne.body:null,{headers:It,context:Ne.context,params:Sn,reportProgress:Ne.reportProgress,responseType:Ne.responseType||"json",withCredentials:Ne.withCredentials})}const Be=(0,G.of)(tt).pipe((0,re.H)(It=>this.handler.handle(It)));if(ee instanceof wt||"events"===Ne.observe)return Be;const an=Be.pipe((0,H.p)(It=>It instanceof sr));switch(Ne.observe||"body"){case"body":switch(tt.responseType){case"arraybuffer":return an.pipe((0,Q.T)(It=>{if(null!==It.body&&!(It.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return It.body}));case"blob":return an.pipe((0,Q.T)(It=>{if(null!==It.body&&!(It.body instanceof Blob))throw new Error("Response is not a Blob.");return It.body}));case"text":return an.pipe((0,Q.T)(It=>{if(null!==It.body&&"string"!=typeof It.body)throw new Error("Response is not a string.");return It.body}));default:return an.pipe((0,Q.T)(It=>It.body))}case"response":return an;default:throw new Error(`Unreachable: unhandled observe type ${Ne.observe}}`)}}delete(ee,xe={}){return this.request("DELETE",ee,xe)}get(ee,xe={}){return this.request("GET",ee,xe)}head(ee,xe={}){return this.request("HEAD",ee,xe)}jsonp(ee,xe){return this.request("JSONP",ee,{params:(new st).append(xe,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ee,xe={}){return this.request("OPTIONS",ee,xe)}patch(ee,xe,Ne={}){return this.request("PATCH",ee,$t(Ne,xe))}post(ee,xe,Ne={}){return this.request("POST",ee,$t(Ne,xe))}put(ee,xe,Ne={}){return this.request("PUT",ee,$t(Ne,xe))}static{this.\u0275fac=function(xe){return new(xe||ae)(u.KVO(Ye))}}static{this.\u0275prov=u.jDH({token:ae,factory:ae.\u0275fac})}}return ae})();function kn(ae,Y){return Y(ae)}function At(ae,Y){return(ee,xe)=>Y.intercept(ee,{handle:Ne=>ae(Ne,xe)})}const Un=new u.nKC(""),er=new u.nKC(""),Ct=new u.nKC("");function at(){let ae=null;return(Y,ee)=>{null===ae&&(ae=((0,u.WQX)(Un,{optional:!0})??[]).reduceRight(At,kn));const xe=(0,u.WQX)(u.$K3),Ne=xe.add();return ae(Y,ee).pipe((0,ce.j)(()=>xe.remove(Ne)))}}let ht=(()=>{class ae extends Ye{constructor(ee,xe){super(),this.backend=ee,this.injector=xe,this.chain=null,this.pendingTasks=(0,u.WQX)(u.$K3)}handle(ee){if(null===this.chain){const Ne=Array.from(new Set([...this.injector.get(er),...this.injector.get(Ct,[])]));this.chain=Ne.reduceRight((tt,Be)=>function gn(ae,Y,ee){return(xe,Ne)=>ee.runInContext(()=>Y(xe,tt=>ae(tt,Ne)))}(tt,Be,this.injector),kn)}const xe=this.pendingTasks.add();return this.chain(ee,Ne=>this.backend.handle(Ne)).pipe((0,ce.j)(()=>this.pendingTasks.remove(xe)))}static{this.\u0275fac=function(xe){return new(xe||ae)(u.KVO(je),u.KVO(u.uvJ))}}static{this.\u0275prov=u.jDH({token:ae,factory:ae.\u0275fac})}}return ae})();const Er=/^\)\]\}',?\n/;let Os=(()=>{class ae{constructor(ee){this.xhrFactory=ee}handle(ee){if("JSONP"===ee.method)throw new u.wOt(-2800,!1);const xe=this.xhrFactory;return(xe.\u0275loadImpl?(0,E.H)(xe.\u0275loadImpl()):(0,G.of)(null)).pipe((0,he.n)(()=>new ge.c(tt=>{const Be=xe.build();if(Be.open(ee.method,ee.urlWithParams),ee.withCredentials&&(Be.withCredentials=!0),ee.headers.forEach((mt,hn)=>Be.setRequestHeader(mt,hn.join(","))),ee.headers.has("Accept")||Be.setRequestHeader("Accept","application/json, text/plain, */*"),!ee.headers.has("Content-Type")){const mt=ee.detectContentTypeHeader();null!==mt&&Be.setRequestHeader("Content-Type",mt)}if(ee.responseType){const mt=ee.responseType.toLowerCase();Be.responseType="json"!==mt?mt:"text"}const an=ee.serializeBody();let It=null;const Sn=()=>{if(null!==It)return It;const mt=Be.statusText||"OK",hn=new qe(Be.getAllResponseHeaders()),Hr=function mr(ae){return"responseURL"in ae&&ae.responseURL?ae.responseURL:/^X-Request-URL:/m.test(ae.getAllResponseHeaders())?ae.getResponseHeader("X-Request-URL"):null}(Be)||ee.url;return It=new gr({headers:hn,status:Be.status,statusText:mt,url:Hr}),It},lr=()=>{let{headers:mt,status:hn,statusText:Hr,url:br}=Sn(),dr=null;204!==hn&&(dr=typeof Be.response>"u"?Be.responseText:Be.response),0===hn&&(hn=dr?200:0);let En=hn>=200&&hn<300;if("json"===ee.responseType&&"string"==typeof dr){const Sr=dr;dr=dr.replace(Er,"");try{dr=""!==dr?JSON.parse(dr):null}catch(hr){dr=Sr,En&&(En=!1,dr={error:hr,text:dr})}}En?(tt.next(new sr({body:dr,headers:mt,status:hn,statusText:Hr,url:br||void 0})),tt.complete()):tt.error(new Tn({error:dr,headers:mt,status:hn,statusText:Hr,url:br||void 0}))},yn=mt=>{const{url:hn}=Sn(),Hr=new Tn({error:mt,status:Be.status||0,statusText:Be.statusText||"Unknown Error",url:hn||void 0});tt.error(Hr)};let Gn=!1;const Dr=mt=>{Gn||(tt.next(Sn()),Gn=!0);let hn={type:rt.DownloadProgress,loaded:mt.loaded};mt.lengthComputable&&(hn.total=mt.total),"text"===ee.responseType&&Be.responseText&&(hn.partialText=Be.responseText),tt.next(hn)},ur=mt=>{let hn={type:rt.UploadProgress,loaded:mt.loaded};mt.lengthComputable&&(hn.total=mt.total),tt.next(hn)};return Be.addEventListener("load",lr),Be.addEventListener("error",yn),Be.addEventListener("timeout",yn),Be.addEventListener("abort",yn),ee.reportProgress&&(Be.addEventListener("progress",Dr),null!==an&&Be.upload&&Be.upload.addEventListener("progress",ur)),Be.send(an),tt.next({type:rt.Sent}),()=>{Be.removeEventListener("error",yn),Be.removeEventListener("abort",yn),Be.removeEventListener("load",lr),Be.removeEventListener("timeout",yn),ee.reportProgress&&(Be.removeEventListener("progress",Dr),null!==an&&Be.upload&&Be.upload.removeEventListener("progress",ur)),Be.readyState!==Be.DONE&&Be.abort()}})))}static{this.\u0275fac=function(xe){return new(xe||ae)(u.KVO(Me.N0))}}static{this.\u0275prov=u.jDH({token:ae,factory:ae.\u0275fac})}}return ae})();const yt=new u.nKC("XSRF_ENABLED"),cn=new u.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),_r=new u.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class on{}let jt=(()=>{class ae{constructor(ee,xe,Ne){this.doc=ee,this.platform=xe,this.cookieName=Ne,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ee=this.doc.cookie||"";return ee!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,Me._b)(ee,this.cookieName),this.lastCookieString=ee),this.lastToken}static{this.\u0275fac=function(xe){return new(xe||ae)(u.KVO(Me.qQ),u.KVO(u.Agw),u.KVO(cn))}}static{this.\u0275prov=u.jDH({token:ae,factory:ae.\u0275fac})}}return ae})();function Xr(ae,Y){const ee=ae.url.toLowerCase();if(!(0,u.WQX)(yt)||"GET"===ae.method||"HEAD"===ae.method||ee.startsWith("http://")||ee.startsWith("https://"))return Y(ae);const xe=(0,u.WQX)(on).getToken(),Ne=(0,u.WQX)(_r);return null!=xe&&!ae.headers.has(Ne)&&(ae=ae.clone({headers:ae.headers.set(Ne,xe)})),Y(ae)}var Ot=function(ae){return ae[ae.Interceptors=0]="Interceptors",ae[ae.LegacyInterceptors=1]="LegacyInterceptors",ae[ae.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ae[ae.NoXsrfProtection=3]="NoXsrfProtection",ae[ae.JsonpSupport=4]="JsonpSupport",ae[ae.RequestsMadeViaParent=5]="RequestsMadeViaParent",ae[ae.Fetch=6]="Fetch",ae}(Ot||{});function or(ae,Y){return{\u0275kind:ae,\u0275providers:Y}}function Ln(...ae){const Y=[le,Os,ht,{provide:Ye,useExisting:ht},{provide:je,useExisting:Os},{provide:er,useValue:Xr,multi:!0},{provide:yt,useValue:!0},{provide:on,useClass:jt}];for(const ee of ae)Y.push(...ee.\u0275providers);return(0,u.EmA)(Y)}function Qr(ae){return or(Ot.Interceptors,ae.map(Y=>({provide:er,useValue:Y,multi:!0})))}const ar=new u.nKC("LEGACY_INTERCEPTOR_FN");let Te=(()=>{class ae{static{this.\u0275fac=function(xe){return new(xe||ae)}}static{this.\u0275mod=u.$C({type:ae})}static{this.\u0275inj=u.G2t({providers:[Ln(or(Ot.LegacyInterceptors,[{provide:ar,useFactory:at},{provide:er,useExisting:ar,multi:!0}]))]})}}return ae})();const Dt=new u.nKC(""),dn=["GET","HEAD"];function zt(ae,Y){const{isCacheActive:ee}=(0,u.WQX)(Dt);if(!ee||!dn.includes(ae.method))return Y(ae);const xe=(0,u.WQX)(u.pJN),Ne=function cr(ae){const{params:Y,method:ee,responseType:xe,url:Ne}=ae,an=function On(ae){let Y=0;for(const ee of ae)Y=Math.imul(31,Y)+ee.charCodeAt(0)<<0;return Y+=2147483648,Y.toString()}(ee+"."+xe+"."+Ne+"?"+Y.keys().sort().map(It=>`${It}=${Y.getAll(It)}`).join("&"));return(0,u.zw6)(an)}(ae),tt=xe.get(Ne,null);if(tt){let Be=tt.body;switch(tt.responseType){case"arraybuffer":Be=(new TextEncoder).encode(tt.body).buffer;break;case"blob":Be=new Blob([tt.body])}return(0,G.of)(new sr({body:Be,headers:new qe(tt.headers),status:tt.status,statusText:tt.statusText,url:tt.url}))}return Y(ae).pipe((0,me.M)(Be=>{Be instanceof sr&&xe.set(Ne,{body:Be.body,headers:$n(Be.headers),status:Be.status,statusText:Be.statusText,url:Be.url||"",responseType:ae.responseType})}))}function $n(ae){const Y={};for(const ee of ae.keys()){const xe=ae.getAll(ee);null!==xe&&(Y[ee]=xe)}return Y}function Ar(){return[{provide:Dt,useFactory:()=>((0,u.WQX)(u.KOA).add("httpcache"),{isCacheActive:!0})},{provide:Ct,useValue:zt,multi:!0,deps:[u.pJN,Dt]},{provide:u.iLQ,multi:!0,useFactory:()=>{const ae=(0,u.WQX)(u.o8S),Y=(0,u.WQX)(Dt);return()=>{ae.isStable.pipe((0,oe.$)(ee=>ee)).toPromise().then(()=>{Y.isCacheActive=!1})}}}]}},6276:(ot,pe,F)=>{"use strict";F.d(pe,{bc$:()=>h0,iLQ:()=>zd,sZ2:()=>wf,hnV:()=>Ey,o8S:()=>Sa,BIS:()=>f0,gRc:()=>pS,Ql9:()=>xD,Ocv:()=>OD,Z63:()=>$a,aKT:()=>Ga,uvJ:()=>to,zcH:()=>Co,bkB:()=>no,$GK:()=>yt,nKC:()=>Ot,zZn:()=>zi,_q3:()=>Qd,MKu:()=>Jd,xe9:()=>Eu,Co$:()=>bm,Vns:()=>jo,NEm:()=>iS,SKi:()=>_s,Xx1:()=>Cl,Agw:()=>bc,PLl:()=>Cf,sFG:()=>I0,_9s:()=>If,czy:()=>Ol,kdw:()=>El,C4Q:()=>ul,NYb:()=>tS,giA:()=>Py,pJN:()=>Ba,RxE:()=>Of,c1b:()=>wu,gXe:()=>Dr,L39:()=>VS,Ol2:()=>Cm,w6W:()=>bE,Rfq:()=>gt,WQX:()=>Ne,QuC:()=>Es,EmA:()=>fc,zw6:()=>p0,HJs:()=>$S,O8t:()=>pr,H3F:()=>Dy,KOA:()=>Ef,H8p:()=>mc,$K3:()=>Sy,KH2:()=>wa,wOt:()=>Je,WHO:()=>Iy,e01:()=>Oy,H5H:()=>yd,Zy3:()=>wt,mq5:()=>Gg,JZv:()=>jt,TL3:()=>lS,LfX:()=>Jt,plB:()=>Nd,jNT:()=>od,zjR:()=>Jp,TL$:()=>R_,Tbb:()=>ze,M8M:()=>LS,Vt3:()=>Xc,GFd:()=>Op,OA$:()=>us,Jv_:()=>_m,aNF:()=>Em,R7$:()=>tp,BMQ:()=>Jc,ZvI:()=>xg,AVh:()=>fd,wni:()=>ty,VBU:()=>oi,FsC:()=>qs,jDH:()=>Kt,G2t:()=>bs,$C:()=>Cs,EJ8:()=>vi,rXU:()=>la,nrm:()=>id,bVm:()=>cu,qex:()=>uu,k0s:()=>lu,j41:()=>au,RV6:()=>Qp,xGo:()=>fh,KVO:()=>ee,kS0:()=>Vu,QTQ:()=>rp,bIt:()=>ad,lsd:()=>ny,XpG:()=>ng,nI1:()=>jm,bMT:()=>Vm,i5U:()=>Um,brH:()=>$m,Y8G:()=>rd,FS9:()=>ld,Mz_:()=>du,lJ4:()=>Om,eq3:()=>Pm,l4e:()=>Rm,mGM:()=>Zm,sdS:()=>Wp,Njj:()=>_n,EBC:()=>Bf,eBV:()=>Dn,B4B:()=>dc,n$t:()=>ff,xc7:()=>hd,DNE:()=>Hp,C5r:()=>oy,EFF:()=>Dg,JRh:()=>gd,SpI:()=>pu,Lme:()=>md,GBs:()=>ey});var u=F(1413),G=F(8359),E=F(1985),ge=F(6365),re=F(8750),H=F(983),Q=F(9326),ce=F(6648),me=F(4412),oe=F(7673),Me=F(7707),Ye=F(9974);function je(e={}){const{connector:t=(()=>new u.B),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:s=!0}=e;return i=>{let d,p,v,T=0,j=!1,z=!1;const se=()=>{p?.unsubscribe(),p=void 0},ue=()=>{se(),d=v=void 0,j=z=!1},Re=()=>{const Ke=d;ue(),Ke?.unsubscribe()};return(0,Ye.N)((Ke,ut)=>{T++,!z&&!j&&se();const Mt=v=v??t();ut.add(()=>{T--,0===T&&!z&&!j&&(p=qe(Re,s))}),Mt.subscribe(ut),!d&&T>0&&(d=new Me.Ms({next:Ue=>Mt.next(Ue),error:Ue=>{z=!0,se(),p=qe(ue,n,Ue),Mt.error(Ue)},complete:()=>{j=!0,se(),p=qe(ue,r),Mt.complete()}}),(0,re.Tg)(Ke).subscribe(d))})(i)}}function qe(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new Me.Ms({next:()=>{r.unsubscribe(),e()}});return(0,re.Tg)(t(...n)).subscribe(r)}var Lt=F(5558),dt=F(3294),St=F(1594);function Ze(e){for(let t in e)if(e[t]===Ze)return t;throw Error("Could not find renamed property on target object.")}function fn(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function ze(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ze).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function He(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const st=Ze({__forward_ref__:Ze});function gt(e){return e.__forward_ref__=gt,e.toString=function(){return ze(this())},e}function Ae(e){return Qe(e)?e():e}function Qe(e){return"function"==typeof e&&e.hasOwnProperty(st)&&e.__forward_ref__===gt}function Tt(e){return e&&!!e.\u0275providers}const bn="https://g.co/ng/security#xss";class Je extends Error{constructor(t,n){super(wt(t,n)),this.code=t}}function wt(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}function rt(e){return"string"==typeof e?e:null==e?"":String(e)}function $t(e,t){throw new Je(-201,!1)}function Ct(e,t){null==e&&function at(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Kt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function bs(e){return{providers:e.providers||[],imports:e.imports||[]}}function mn(e){return qt(e,vr)||qt(e,mr)}function Jt(e){return null!==mn(e)}function qt(e,t){return e.hasOwnProperty(t)?e[t]:null}function Yt(e){return e&&(e.hasOwnProperty(Er)||e.hasOwnProperty(Os))?e[Er]:null}const vr=Ze({\u0275prov:Ze}),Er=Ze({\u0275inj:Ze}),mr=Ze({ngInjectableDef:Ze}),Os=Ze({ngInjectorDef:Ze});var yt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(yt||{});let Tr;function Fn(e){const t=Tr;return Tr=e,t}function _r(e,t,n){const r=mn(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&yt.Optional?null:void 0!==t?t:void $t(ze(e))}const jt=globalThis;class Ot{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Kt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Te={},et="__NG_DI_FLAG__",Dt="ngTempTokenPath",zt=/\n/gm,cr="__source";let On;function ae(e){const t=On;return On=e,t}function Y(e,t=yt.Default){if(void 0===On)throw new Je(-203,!1);return null===On?_r(e,void 0,t):On.get(e,t&yt.Optional?null:void 0,t)}function ee(e,t=yt.Default){return(function cn(){return Tr}()||Y)(Ae(e),t)}function Ne(e,t=yt.Default){return ee(e,tt(t))}function tt(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Be(e){const t=[];for(let n=0;n<e.length;n++){const r=Ae(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Je(900,!1);let s,i=yt.Default;for(let d=0;d<r.length;d++){const p=r[d],v=It(p);"number"==typeof v?-1===v?s=p.token:i|=v:s=p}t.push(ee(s,i))}else t.push(ee(r))}return t}function an(e,t){return e[et]=t,e.prototype[et]=t,e}function It(e){return e[et]}function yn(e){return{toString:e}.toString()}var Gn=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Gn||{}),Dr=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Dr||{});const ur={},mt=[],hn=Ze({\u0275cmp:Ze}),Hr=Ze({\u0275dir:Ze}),br=Ze({\u0275pipe:Ze}),dr=Ze({\u0275mod:Ze}),En=Ze({\u0275fac:Ze}),Sr=Ze({__NG_ELEMENT_ID__:Ze}),hr=Ze({__NG_ENV_ID__:Ze});function Rs(e,t,n){let r=e.length;for(;;){const s=e.indexOf(t,n);if(-1===s)return s;if(0===s||e.charCodeAt(s-1)<=32){const i=t.length;if(s+i===r||e.charCodeAt(s+i)<=32)return s}n=s+1}}function Gs(e,t,n){let r=0;for(;r<n.length;){const s=n[r];if("number"==typeof s){if(0!==s)break;r++;const i=n[r++],d=n[r++],p=n[r++];e.setAttribute(t,d,p,i)}else{const i=s,d=n[++r];Ws(i)?e.setProperty(t,i,d):e.setAttribute(t,i,d),r++}}return r}function fs(e){return 3===e||4===e||6===e}function Ws(e){return 64===e.charCodeAt(0)}function Jr(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const s=t[r];"number"==typeof s?n=s:0===n||zr(e,n,s,null,-1===n||2===n?t[++r]:null)}}return e}function zr(e,t,n,r,s){let i=0,d=e.length;if(-1===t)d=-1;else for(;i<e.length;){const p=e[i++];if("number"==typeof p){if(p===t){d=-1;break}if(p>t){d=i-1;break}}}for(;i<e.length;){const p=e[i];if("number"==typeof p)break;if(p===n){if(null===r)return void(null!==s&&(e[i+1]=s));if(r===e[i+1])return void(e[i+2]=s)}i++,null!==r&&i++,null!==s&&i++}-1!==d&&(e.splice(d,0,t),i=d+1),e.splice(i++,0,n),null!==r&&e.splice(i++,0,r),null!==s&&e.splice(i++,0,s)}const xs="ng-template";function Gr(e,t,n){let r=0,s=!0;for(;r<e.length;){let i=e[r++];if("string"==typeof i&&s){const d=e[r++];if(n&&"class"===i&&-1!==Rs(d.toLowerCase(),t,0))return!0}else{if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}"number"==typeof i&&(s=!1)}}return!1}function jr(e){return 4===e.type&&e.value!==xs}function Ks(e,t,n){return t===(4!==e.type||n?e.value:xs)}function Si(e,t,n){let r=4;const s=e.attrs||[],i=function Ai(e){for(let t=0;t<e.length;t++)if(fs(e[t]))return t;return e.length}(s);let d=!1;for(let p=0;p<t.length;p++){const v=t[p];if("number"!=typeof v){if(!d)if(4&r){if(r=2|1&r,""!==v&&!Ks(e,v,n)||""===v&&1===t.length){if(Pn(r))return!1;d=!0}}else{const T=8&r?v:t[++p];if(8&r&&null!==e.attrs){if(!Gr(e.attrs,T,n)){if(Pn(r))return!1;d=!0}continue}const z=mi(8&r?"class":v,s,jr(e),n);if(-1===z){if(Pn(r))return!1;d=!0;continue}if(""!==T){let se;se=z>i?"":s[z+1].toLowerCase();const ue=8&r?se:null;if(ue&&-1!==Rs(ue,T,0)||2&r&&T!==se){if(Pn(r))return!1;d=!0}}}}else{if(!d&&!Pn(r)&&!Pn(v))return!1;if(d&&Pn(v))continue;d=!1,r=v|1&r}}return Pn(r)||d}function Pn(e){return 0==(1&e)}function mi(e,t,n,r){if(null===t)return-1;let s=0;if(r||!n){let i=!1;for(;s<t.length;){const d=t[s];if(d===e)return s;if(3===d||6===d)i=!0;else{if(1===d||2===d){let p=t[++s];for(;"string"==typeof p;)p=t[++s];continue}if(4===d)break;if(0===d){s+=4;continue}}s+=i?1:2}return-1}return function si(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Mi(e,t,n=!1){for(let r=0;r<t.length;r++)if(Si(e,t[r],n))return!0;return!1}function ii(e,t){return e?":not("+t.trim()+")":t}function Ui(e){let t=e[0],n=1,r=2,s="",i=!1;for(;n<e.length;){let d=e[n];if("string"==typeof d)if(2&r){const p=e[++n];s+="["+d+(p.length>0?'="'+p+'"':"")+"]"}else 8&r?s+="."+d:4&r&&(s+=" "+d);else""!==s&&!Pn(d)&&(t+=ii(i,s),s=""),r=d,i=i||!Pn(r);n++}return""!==s&&(t+=ii(i,s)),t}function oi(e){return yn(()=>{const t=lt(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Gn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Dr.Emulated,styles:e.styles||mt,_:null,schemas:e.schemas||null,tView:null,id:""};Yr(n);const r=e.dependencies;return n.directiveDefs=li(r,!1),n.pipeDefs=li(r,!0),n.id=function Ur(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const s of n)t=Math.imul(31,t)+s.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function Ir(e){return Vt(e)||jn(e)}function ai(e){return null!==e}function Cs(e){return yn(()=>({type:e.type,bootstrap:e.bootstrap||mt,declarations:e.declarations||mt,imports:e.imports||mt,exports:e.exports||mt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function yi(e,t){if(null==e)return ur;const n={};for(const r in e)if(e.hasOwnProperty(r)){let s=e[r],i=s;Array.isArray(s)&&(i=s[1],s=s[0]),n[s]=r,t&&(t[s]=i)}return n}function qs(e){return yn(()=>{const t=lt(e);return Yr(t),t})}function vi(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Vt(e){return e[hn]||null}function jn(e){return e[Hr]||null}function Xn(e){return e[br]||null}function Es(e){const t=Vt(e)||jn(e)||Xn(e);return null!==t&&t.standalone}function Rn(e,t){const n=e[dr]||null;if(!n&&!0===t)throw new Error(`Type ${ze(e)} does not have '\u0275mod' property.`);return n}function lt(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||ur,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||mt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:yi(e.inputs,t),outputs:yi(e.outputs)}}function Yr(e){e.features?.forEach(t=>t(e))}function li(e,t){if(!e)return null;const n=t?Xn:Ir;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(ai)}const tn=0,nt=1,Pt=2,pn=3,fr=4,Xs=5,Bn=6,Zr=7,Wn=8,wr=9,Ns=10,kt=11,$r=12,es=13,ts=14,An=15,Ds=16,Ss=17,kr=18,Ms=19,Ts=20,As=21,Or=22,ks=23,ns=24,Xt=25,ln=1,Qn=2,Cr=7,Qs=9,ui=10,xn=11;function Hn(e){return Array.isArray(e)&&"object"==typeof e[ln]}function Jn(e){return Array.isArray(e)&&!0===e[ln]}function ci(e){return 0!=(4&e.flags)}function Fr(e){return e.componentOffset>-1}function rs(e){return 1==(1&e.flags)}function Wr(e){return!!e.template}function nn(e){return 0!=(512&e[Pt])}function ms(e,t){return e.hasOwnProperty(En)?e[En]:null}let Yn=null,is=!1;function qr(e){const t=Yn;return Yn=e,t}const ao={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Qi(e){if(!di(e)||e.dirty){if(!e.producerMustRecompute(e)&&!js(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function uo(e){e.dirty=!0,function lo(e){if(void 0===e.liveConsumerNode)return;const t=is;is=!0;try{for(const n of e.liveConsumerNode)n.dirty||uo(n)}finally{is=t}}(e),e.consumerMarkedDirty?.(e)}function Yi(e){return e&&(e.nextProducerIndex=0),qr(e)}function Ni(e,t){if(qr(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(di(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Vs(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function js(e){Us(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(Qi(n),r!==n.version))return!0}return!1}function ki(e){if(Us(e),di(e))for(let t=0;t<e.producerNode.length;t++)Vs(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Vs(e,t){if(function Bi(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Us(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)Vs(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],s=e.liveConsumerNode[t];Us(s),s.producerIndexOfThis[r]=t}}function di(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Us(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let S=null;function pr(e){const t=qr(null);try{return e()}finally{qr(t)}}const as=()=>{},$s=(()=>({...ao,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:as}))();class Ys{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function us(){return Zs}function Zs(e){return e.type.prototype.ngOnChanges&&(e.setInput=To),Fi}function Fi(){const e=ei(this),t=e?.current;if(t){const n=e.previous;if(n===ur)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function To(e,t,n,r){const s=this.declaredInputs[n],i=ei(e)||function A(e,t){return e[mo]=t}(e,{previous:ur,current:null}),d=i.current||(i.current={}),p=i.previous,v=p[s];d[s]=new Ys(v&&v.currentValue,t,p===ur),e[r]=t}us.ngInherit=!0;const mo="__ngSimpleChanges__";function ei(e){return e[mo]||null}const b=function(e,t,n){};function q(e){for(;Array.isArray(e);)e=e[tn];return e}function fe(e,t){return q(t[e])}function De(e,t){return q(t[e.index])}function ft(e,t){return e.data[t]}function en(e,t){return e[t]}function Rt(e,t){const n=t[e];return Hn(n)?n:n[tn]}function m(e,t){return null==t?null:e[t]}function a(e){e[Ss]=0}function o(e){1024&e[Pt]||(e[Pt]|=1024,_(e,1))}function l(e){1024&e[Pt]&&(e[Pt]&=-1025,_(e,-1))}function _(e,t){let n=e[pn];if(null===n)return;n[Xs]+=t;let r=n;for(n=n[pn];null!==n&&(1===t&&1===r[Xs]||-1===t&&0===r[Xs]);)n[Xs]+=t,r=n,n=n[pn]}const R={lFrame:Li(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ge(){return R.bindingsEnabled}function Fe(){return null!==R.skipHydrationRootTNode}function de(){return R.lFrame.lView}function We(){return R.lFrame.tView}function Dn(e){return R.lFrame.contextLView=e,e[Wn]}function _n(e){return R.lFrame.contextLView=null,e}function Gt(){let e=yr();for(;null!==e&&64===e.type;)e=e.parent;return e}function yr(){return R.lFrame.currentTNode}function Zn(e,t){const n=R.lFrame;n.currentTNode=e,n.isParent=t}function vs(){return R.lFrame.isParent}function Hi(){R.lFrame.isParent=!1}function Bs(){const e=R.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Io(){return R.lFrame.bindingIndex++}function g(e){const t=R.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function C(e,t){const n=R.lFrame;n.bindingIndex=n.bindingRootIndex=e,U(t)}function U(e){R.lFrame.currentDirectiveIndex=e}function Ee(){return R.lFrame.currentQueryIndex}function _e(e){R.lFrame.currentQueryIndex=e}function ct(e){const t=e[nt];return 2===t.type?t.declTNode:1===t.type?e[Bn]:null}function Wt(e,t,n){if(n&yt.SkipSelf){let s=t,i=e;for(;!(s=s.parent,null!==s||n&yt.Host||(s=ct(i),null===s||(i=i[ts],10&s.type))););if(null===s)return!1;t=s,e=i}const r=R.lFrame=Mn();return r.currentTNode=t,r.lView=e,!0}function zn(e){const t=Mn(),n=e[nt];R.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Mn(){const e=R.lFrame,t=null===e?null:e.child;return null===t?Li(e):t}function Li(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function yo(){const e=R.lFrame;return R.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const vo=yo;function Oo(){const e=yo();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function ti(){return R.lFrame.selectedIndex}function Po(e){R.lFrame.selectedIndex=e}function xr(){const e=R.lFrame;return ft(e.tView,e.selectedIndex)}function eh(){return R.lFrame.currentNamespace}let th=!0;function hl(){return th}function bo(e){th=e}function fl(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const i=e.data[n].type.prototype,{ngAfterContentInit:d,ngAfterContentChecked:p,ngAfterViewInit:v,ngAfterViewChecked:T,ngOnDestroy:j}=i;d&&(e.contentHooks??=[]).push(-n,d),p&&((e.contentHooks??=[]).push(n,p),(e.contentCheckHooks??=[]).push(n,p)),v&&(e.viewHooks??=[]).push(-n,v),T&&((e.viewHooks??=[]).push(n,T),(e.viewCheckHooks??=[]).push(n,T)),null!=j&&(e.destroyHooks??=[]).push(n,j)}}function pl(e,t,n){nh(e,t,3,n)}function gl(e,t,n,r){(3&e[Pt])===n&&nh(e,t,n,r)}function Ru(e,t){let n=e[Pt];(3&n)===t&&(n&=8191,n+=1,e[Pt]=n)}function nh(e,t,n,r){const i=r??-1,d=t.length-1;let p=0;for(let v=void 0!==r?65535&e[Ss]:0;v<d;v++)if("number"==typeof t[v+1]){if(p=t[v],null!=r&&p>=r)break}else t[v]<0&&(e[Ss]+=65536),(p<i||-1==i)&&(fv(e,n,t,v),e[Ss]=(4294901760&e[Ss])+v+2),v++}function rh(e,t){b(4,e,t);const n=qr(null);try{t.call(e)}finally{qr(n),b(5,e,t)}}function fv(e,t,n,r){const s=n[r]<0,i=n[r+1],p=e[s?-n[r]:n[r]];s?e[Pt]>>13<e[Ss]>>16&&(3&e[Pt])===t&&(e[Pt]+=8192,rh(p,i)):rh(p,i)}const $o=-1;class Ta{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Nu(e){return e!==$o}function Aa(e){return 32767&e}function Ia(e,t){let n=function yv(e){return e>>16}(e),r=t;for(;n>0;)r=r[ts],n--;return r}let ku=!0;function ml(e){const t=ku;return ku=e,t}const sh=255,ih=5;let vv=0;const eo={};function yl(e,t){const n=oh(e,t);if(-1!==n)return n;const r=t[nt];r.firstCreatePass&&(e.injectorIndex=t.length,Fu(r.data,e),Fu(t,null),Fu(r.blueprint,null));const s=vl(e,t),i=e.injectorIndex;if(Nu(s)){const d=Aa(s),p=Ia(s,t),v=p[nt].data;for(let T=0;T<8;T++)t[i+T]=p[d+T]|v[d+T]}return t[i+8]=s,i}function Fu(e,t){e.push(0,0,0,0,0,0,0,0,t)}function oh(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function vl(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,s=t;for(;null!==s;){if(r=ph(s),null===r)return $o;if(n++,s=s[ts],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return $o}function Lu(e,t,n){!function _v(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Sr)&&(r=n[Sr]),null==r&&(r=n[Sr]=vv++);const s=r&sh;t.data[e+(s>>ih)]|=1<<s}(e,t,n)}function ah(e,t,n){if(n&yt.Optional||void 0!==e)return e;$t()}function lh(e,t,n,r){if(n&yt.Optional&&void 0===r&&(r=null),!(n&(yt.Self|yt.Host))){const s=e[wr],i=Fn(void 0);try{return s?s.get(t,r,n&yt.Optional):_r(t,r,n&yt.Optional)}finally{Fn(i)}}return ah(r,0,n)}function uh(e,t,n,r=yt.Default,s){if(null!==e){if(2048&t[Pt]&&!(r&yt.Self)){const d=function Sv(e,t,n,r,s){let i=e,d=t;for(;null!==i&&null!==d&&2048&d[Pt]&&!(512&d[Pt]);){const p=ch(i,d,n,r|yt.Self,eo);if(p!==eo)return p;let v=i.parent;if(!v){const T=d[Ts];if(T){const j=T.get(n,eo,r);if(j!==eo)return j}v=ph(d),d=d[ts]}i=v}return s}(e,t,n,r,eo);if(d!==eo)return d}const i=ch(e,t,n,r,eo);if(i!==eo)return i}return lh(t,n,r,s)}function ch(e,t,n,r,s){const i=function Cv(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Sr)?e[Sr]:void 0;return"number"==typeof t?t>=0?t&sh:Dv:t}(n);if("function"==typeof i){if(!Wt(t,e,r))return r&yt.Host?ah(s,0,r):lh(t,n,r,s);try{let d;if(d=i(r),null!=d||r&yt.Optional)return d;$t()}finally{vo()}}else if("number"==typeof i){let d=null,p=oh(e,t),v=$o,T=r&yt.Host?t[An][Bn]:null;for((-1===p||r&yt.SkipSelf)&&(v=-1===p?vl(e,t):t[p+8],v!==$o&&hh(r,!1)?(d=t[nt],p=Aa(v),t=Ia(v,t)):p=-1);-1!==p;){const j=t[nt];if(dh(i,p,j.data)){const z=wv(p,t,n,d,r,T);if(z!==eo)return z}v=t[p+8],v!==$o&&hh(r,t[nt].data[p+8]===T)&&dh(i,p,t)?(d=j,p=Aa(v),t=Ia(v,t)):p=-1}}return s}function wv(e,t,n,r,s,i){const d=t[nt],p=d.data[e+8],j=_l(p,d,n,null==r?Fr(p)&&ku:r!=d&&0!=(3&p.type),s&yt.Host&&i===p);return null!==j?Ro(t,d,j,p):eo}function _l(e,t,n,r,s){const i=e.providerIndexes,d=t.data,p=1048575&i,v=e.directiveStart,j=i>>20,se=s?p+j:e.directiveEnd;for(let ue=r?p:p+j;ue<se;ue++){const Re=d[ue];if(ue<v&&n===Re||ue>=v&&Re.type===n)return ue}if(s){const ue=d[v];if(ue&&Wr(ue)&&ue.type===n)return v}return null}function Ro(e,t,n,r){let s=e[n];const i=t.data;if(function pv(e){return e instanceof Ta}(s)){const d=s;d.resolving&&function gr(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Je(-200,`Circular dependency in DI detected for ${e}${n}`)}(function Nt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():rt(e)}(i[n]));const p=ml(d.canSeeViewProviders);d.resolving=!0;const T=d.injectImpl?Fn(d.injectImpl):null;Wt(e,r,yt.Default);try{s=e[n]=d.factory(void 0,i,e,r),t.firstCreatePass&&n>=r.directiveStart&&function hv(e,t,n){const{ngOnChanges:r,ngOnInit:s,ngDoCheck:i}=t.type.prototype;if(r){const d=Zs(t);(n.preOrderHooks??=[]).push(e,d),(n.preOrderCheckHooks??=[]).push(e,d)}s&&(n.preOrderHooks??=[]).push(0-e,s),i&&((n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i))}(n,i[n],t)}finally{null!==T&&Fn(T),ml(p),d.resolving=!1,vo()}}return s}function dh(e,t,n){return!!(n[t+(e>>ih)]&1<<e)}function hh(e,t){return!(e&yt.Self||e&yt.Host&&t)}class ni{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return uh(this._tNode,this._lView,t,tt(r),n)}}function Dv(){return new ni(Gt(),de())}function fh(e){return yn(()=>{const t=e.prototype.constructor,n=t[En]||ju(t),r=Object.prototype;let s=Object.getPrototypeOf(e.prototype).constructor;for(;s&&s!==r;){const i=s[En]||ju(s);if(i&&i!==n)return i;s=Object.getPrototypeOf(s)}return i=>new i})}function ju(e){return Qe(e)?()=>{const t=ju(Ae(e));return t&&t()}:ms(e)}function ph(e){const t=e[nt],n=t.type;return 2===n?t.declTNode:1===n?e[Bn]:null}function Vu(e){return function bv(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let s=0;for(;s<r;){const i=n[s];if(fs(i))break;if(0===i)s+=2;else if("number"==typeof i)for(s++;s<r&&"string"==typeof n[s];)s++;else{if(i===t)return n[s+1];s+=2}}}return null}(Gt(),e)}const Ho="__parameters__";function Go(e,t,n){return yn(()=>{const r=function Uu(e){return function(...n){if(e){const r=e(...n);for(const s in r)this[s]=r[s]}}}(t);function s(...i){if(this instanceof s)return r.apply(this,i),this;const d=new s(...i);return p.annotation=d,p;function p(v,T,j){const z=v.hasOwnProperty(Ho)?v[Ho]:Object.defineProperty(v,Ho,{value:[]})[Ho];for(;z.length<=j;)z.push(null);return(z[j]=z[j]||[]).push(d),v}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s})}function Ko(e,t){e.forEach(n=>Array.isArray(n)?Ko(n,t):t(n))}function mh(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function bl(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Ei(e,t,n){let r=qo(e,t);return r>=0?e[1|r]=n:(r=~r,function Rv(e,t,n,r){let s=e.length;if(s==t)e.push(n,r);else if(1===s)e.push(r,e[0]),e[0]=n;else{for(s--,e.push(e[s-1],e[s]);s>t;)e[s]=e[s-2],s--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function $u(e,t){const n=qo(e,t);if(n>=0)return e[1|n]}function qo(e,t){return function yh(e,t,n){let r=0,s=e.length>>n;for(;s!==r;){const i=r+(s-r>>1),d=e[i<<n];if(t===d)return i<<n;d>t?s=i:r=i+1}return~(s<<n)}(e,t,1)}const Cl=an(Go("Optional"),8),El=an(Go("SkipSelf"),4),Qo="ngSkipHydration";function Th(e){const t=Qo.toLowerCase(),n=e.mergedAttrs;if(null===n)return!1;for(let r=0;r<n.length;r+=2){const s=n[r];if("number"==typeof s)return!1;if("string"==typeof s&&s.toLowerCase()===t)return!0}return!1}function Ah(e){return e.hasAttribute(Qo)}function Al(e){return 128==(128&e.flags)}var Ol=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Ol||{});const Zv=/^>|^->|<!--|-->|--!>|<!-$/g,e_=/(<|>)/g,t_="\u200b$1\u200b";const Wu=new Map;let n_=0;const qu="__ngContext__";function Hs(e,t){Hn(t)?(e[qu]=t[Ms],function s_(e){Wu.set(e[Ms],e)}(t)):e[qu]=t}let Xu;function Qu(e,t){return Xu(e,t)}function ka(e){const t=e[pn];return Jn(t)?t[pn]:t}function Lh(e){return Vh(e[$r])}function jh(e){return Vh(e[fr])}function Vh(e){for(;null!==e&&!Jn(e);)e=e[fr];return e}function Jo(e,t,n,r,s){if(null!=r){let i,d=!1;Jn(r)?i=r:Hn(r)&&(d=!0,r=r[tn]);const p=q(r);0===e&&null!==n?null==s?Hh(t,n,p):xo(t,n,p,s||null,!0):1===e&&null!==n?xo(t,n,p,s||null,!0):2===e?Fl(t,p,d):3===e&&t.destroyNode(p),null!=i&&function M_(e,t,n,r,s){const i=n[Cr];i!==q(n)&&Jo(t,e,r,i,s);for(let p=xn;p<n.length;p++){const v=n[p];La(v[nt],v,e,t,r,i)}}(t,e,i,n,s)}}function Pl(e,t){return e.createText(t)}function Ju(e,t){return e.createComment(function Ih(e){return e.replace(Zv,t=>t.replace(e_,t_))}(t))}function Rl(e,t,n){return e.createElement(t,n)}function $h(e,t){const n=e[Qs],r=n.indexOf(t);l(t),n.splice(r,1)}function xl(e,t){if(e.length<=xn)return;const n=xn+t,r=e[n];if(r){const s=r[Ds];null!==s&&s!==e&&$h(s,r),t>0&&(e[n-1][fr]=r[fr]);const i=bl(e,xn+t);!function g_(e,t){La(e,t,t[kt],2,null,null),t[tn]=null,t[Bn]=null}(r[nt],r);const d=i[kr];null!==d&&d.detachView(i[nt]),r[pn]=null,r[fr]=null,r[Pt]&=-129}return r}function Yu(e,t){if(!(256&t[Pt])){const n=t[kt];t[ks]&&ki(t[ks]),t[ns]&&ki(t[ns]),n.destroyNode&&La(e,t,n,3,null,null),function v_(e){let t=e[$r];if(!t)return Zu(e[nt],e);for(;t;){let n=null;if(Hn(t))n=t[$r];else{const r=t[xn];r&&(n=r)}if(!n){for(;t&&!t[fr]&&t!==e;)Hn(t)&&Zu(t[nt],t),t=t[pn];null===t&&(t=e),Hn(t)&&Zu(t[nt],t),n=t&&t[fr]}t=n}}(t)}}function Zu(e,t){if(!(256&t[Pt])){t[Pt]&=-129,t[Pt]|=256,function C_(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const s=t[n[r]];if(!(s instanceof Ta)){const i=n[r+1];if(Array.isArray(i))for(let d=0;d<i.length;d+=2){const p=s[i[d]],v=i[d+1];b(4,p,v);try{v.call(p)}finally{b(5,p,v)}}else{b(4,s,i);try{i.call(s)}finally{b(5,s,i)}}}}}(e,t),function w_(e,t){const n=e.cleanup,r=t[Zr];if(null!==n)for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const d=n[i+3];d>=0?r[d]():r[-d].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);null!==r&&(t[Zr]=null);const s=t[As];if(null!==s){t[As]=null;for(let i=0;i<s.length;i++)(0,s[i])()}}(e,t),1===t[nt].type&&t[kt].destroy();const n=t[Ds];if(null!==n&&Jn(t[pn])){n!==t[pn]&&$h(n,t);const r=t[kr];null!==r&&r.detachView(e)}!function i_(e){Wu.delete(e[Ms])}(t)}}function ec(e,t,n){return function Bh(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[tn];{const{componentOffset:s}=r;if(s>-1){const{encapsulation:i}=e.data[r.directiveStart+s];if(i===Dr.None||i===Dr.Emulated)return null}return De(r,n)}}(e,t.parent,n)}function xo(e,t,n,r,s){e.insertBefore(t,n,r,s)}function Hh(e,t,n){e.appendChild(t,n)}function zh(e,t,n,r,s){null!==r?xo(e,t,n,r,s):Hh(e,t,n)}function Nl(e,t){return e.parentNode(t)}let tc,ic,jl,Kh=function Wh(e,t,n){return 40&e.type?De(e,n):null};function kl(e,t,n,r){const s=ec(e,r,t),i=t[kt],p=function Gh(e,t,n){return Kh(e,t,n)}(r.parent||t[Bn],r,t);if(null!=s)if(Array.isArray(n))for(let v=0;v<n.length;v++)zh(i,s,n[v],p,!1);else zh(i,s,n,p,!1);void 0!==tc&&tc(i,r,t,n,s)}function Fa(e,t){if(null!==t){const n=t.type;if(3&n)return De(t,e);if(4&n)return nc(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Fa(e,r);{const s=e[t.index];return Jn(s)?nc(-1,s):q(s)}}if(32&n)return Qu(t,e)()||q(e[t.index]);{const r=Xh(e,t);return null!==r?Array.isArray(r)?r[0]:Fa(ka(e[An]),r):Fa(e,t.next)}}return null}function Xh(e,t){return null!==t?e[An][Bn].projection[t.projection]:null}function nc(e,t){const n=xn+e+1;if(n<t.length){const r=t[n],s=r[nt].firstChild;if(null!==s)return Fa(r,s)}return t[Cr]}function Fl(e,t,n){const r=Nl(e,t);r&&function E_(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}function Qh(e){e.textContent=""}function rc(e,t,n,r,s,i,d){for(;null!=n;){const p=r[n.index],v=n.type;if(d&&0===t&&(p&&Hs(q(p),r),n.flags|=2),32!=(32&n.flags))if(8&v)rc(e,t,n.child,r,s,i,!1),Jo(t,e,s,p,i);else if(32&v){const T=Qu(n,r);let j;for(;j=T();)Jo(t,e,s,j,i);Jo(t,e,s,p,i)}else 16&v?Jh(e,t,r,n,s,i):Jo(t,e,s,p,i);n=d?n.projectionNext:n.next}}function La(e,t,n,r,s,i){rc(n,r,e.firstChild,t,s,i,!1)}function Jh(e,t,n,r,s,i){const d=n[An],v=d[Bn].projection[r.projection];if(Array.isArray(v))for(let T=0;T<v.length;T++)Jo(t,e,s,v[T],i);else{let T=v;const j=d[pn];Al(r)&&(T.flags|=128),rc(e,t,T,j,s,i,!0)}}function Yh(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Zh(e,t,n){const{mergedAttrs:r,classes:s,styles:i}=n;null!==r&&Gs(e,t,r),null!==s&&Yh(e,t,s),null!==i&&function A_(e,t,n){e.setAttribute(t,"style",n)}(e,t,i)}function R_(e){ic=e}function Zo(){if(void 0!==ic)return ic;if(typeof document<"u")return document;throw new Je(210,!1)}function nf(e){return function oc(){if(void 0===jl&&(jl=null,jt.trustedTypes))try{jl=jt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return jl}()?.createScriptURL(e)||e}class rf{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${bn})`}}function wo(e){return e instanceof rf?e.changingThisBreaksApplicationSecurity:e}function ja(e,t){const n=function j_(e){return e instanceof rf&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${bn})`)}return n===t}const B_=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var ea=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(ea||{});function dc(e){const t=Ua();return t?t.sanitize(ea.URL,e)||"":ja(e,"URL")?wo(e):function ac(e){return(e=String(e)).match(B_)?e:"unsafe:"+e}(rt(e))}function hf(e){const t=Ua();if(t)return nf(t.sanitize(ea.RESOURCE_URL,e)||"");if(ja(e,"ResourceURL"))return nf(wo(e));throw new Je(904,!1)}function ff(e,t,n){return function e0(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?hf:dc}(t,n)(e)}function Ua(){const e=de();return e&&e[Ns].sanitizer}const $a=new Ot("ENVIRONMENT_INITIALIZER"),pf=new Ot("INJECTOR",-1),gf=new Ot("INJECTOR_DEF_TYPES");class hc{get(t,n=Te){if(n===Te){const r=new Error(`NullInjectorError: No provider for ${ze(t)}!`);throw r.name="NullInjectorError",r}return n}}function fc(e){return{\u0275providers:e}}function t0(...e){return{\u0275providers:mf(0,e),\u0275fromNgModule:!0}}function mf(e,...t){const n=[],r=new Set;let s;const i=d=>{n.push(d)};return Ko(t,d=>{const p=d;Ul(p,i,[],r)&&(s||=[],s.push(p))}),void 0!==s&&yf(s,i),n}function yf(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:s}=e[n];pc(s,i=>{t(i,r)})}}function Ul(e,t,n,r){if(!(e=Ae(e)))return!1;let s=null,i=Yt(e);const d=!i&&Vt(e);if(i||d){if(d&&!d.standalone)return!1;s=e}else{const v=e.ngModule;if(i=Yt(v),!i)return!1;s=v}const p=r.has(s);if(d){if(p)return!1;if(r.add(s),d.dependencies){const v="function"==typeof d.dependencies?d.dependencies():d.dependencies;for(const T of v)Ul(T,t,n,r)}}else{if(!i)return!1;{if(null!=i.imports&&!p){let T;r.add(s);try{Ko(i.imports,j=>{Ul(j,t,n,r)&&(T||=[],T.push(j))})}finally{}void 0!==T&&yf(T,t)}if(!p){const T=ms(s)||(()=>new s);t({provide:s,useFactory:T,deps:mt},s),t({provide:gf,useValue:s,multi:!0},s),t({provide:$a,useValue:()=>ee(s),multi:!0},s)}const v=i.providers;if(null!=v&&!p){const T=e;pc(v,j=>{t(j,T)})}}}return s!==e&&void 0!==e.providers}function pc(e,t){for(let n of e)Tt(n)&&(n=n.\u0275providers),Array.isArray(n)?pc(n,t):t(n)}const n0=Ze({provide:String,useValue:Ze});function gc(e){return null!==e&&"object"==typeof e&&n0 in e}function No(e){return"function"==typeof e}const mc=new Ot("Set Injector scope."),$l={},s0={};let yc;function Bl(){return void 0===yc&&(yc=new hc),yc}class to{}class ta extends to{get destroyed(){return this._destroyed}constructor(t,n,r,s){super(),this.parent=n,this.source=r,this.scopes=s,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,_c(t,d=>this.processProvider(d)),this.records.set(pf,na(void 0,this)),s.has("environment")&&this.records.set(to,na(void 0,this));const i=this.records.get(mc);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(gf.multi,mt,yt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=ae(this),r=Fn(void 0);try{return t()}finally{ae(n),Fn(r)}}get(t,n=Te,r=yt.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(hr))return t[hr](this);r=tt(r);const i=ae(this),d=Fn(void 0);try{if(!(r&yt.SkipSelf)){let v=this.records.get(t);if(void 0===v){const T=function c0(e){return"function"==typeof e||"object"==typeof e&&e instanceof Ot}(t)&&mn(t);v=T&&this.injectableDefInScope(T)?na(vc(t),$l):null,this.records.set(t,v)}if(null!=v)return this.hydrate(t,v)}return(r&yt.Self?Bl():this.parent).get(t,n=r&yt.Optional&&n===Te?null:n)}catch(p){if("NullInjectorError"===p.name){if((p[Dt]=p[Dt]||[]).unshift(ze(t)),i)throw p;return function Sn(e,t,n,r){const s=e[Dt];throw t[cr]&&s.unshift(t[cr]),e.message=function lr(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let s=ze(t);if(Array.isArray(t))s=t.map(ze).join(" -> ");else if("object"==typeof t){let i=[];for(let d in t)if(t.hasOwnProperty(d)){let p=t[d];i.push(d+":"+("string"==typeof p?JSON.stringify(p):ze(p)))}s=`{${i.join(", ")}}`}return`${n}${r?"("+r+")":""}[${s}]: ${e.replace(zt,"\n  ")}`}("\n"+e.message,s,n,r),e.ngTokenPath=s,e[Dt]=null,e}(p,t,"R3InjectorError",this.source)}throw p}finally{Fn(d),ae(i)}}resolveInjectorInitializers(){const t=ae(this),n=Fn(void 0);try{const s=this.get($a.multi,mt,yt.Self);for(const i of s)i()}finally{ae(t),Fn(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(ze(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Je(205,!1)}processProvider(t){let n=No(t=Ae(t))?t:Ae(t&&t.provide);const r=function a0(e){return gc(e)?na(void 0,e.useValue):na(bf(e),$l)}(t);if(No(t)||!0!==t.multi)this.records.get(n);else{let s=this.records.get(n);s||(s=na(void 0,$l,!0),s.factory=()=>Be(s.multi),this.records.set(n,s)),n=t,s.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===$l&&(n.value=s0,n.value=n.factory()),"object"==typeof n.value&&n.value&&function u0(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Ae(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function vc(e){const t=mn(e),n=null!==t?t.factory:ms(e);if(null!==n)return n;if(e instanceof Ot)throw new Je(204,!1);if(e instanceof Function)return function o0(e){const t=e.length;if(t>0)throw function Ra(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new Je(204,!1);const n=function qn(e){return e&&(e[vr]||e[mr])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Je(204,!1)}function bf(e,t,n){let r;if(No(e)){const s=Ae(e);return ms(s)||vc(s)}if(gc(e))r=()=>Ae(e.useValue);else if(function _f(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Be(e.deps||[]));else if(function vf(e){return!(!e||!e.useExisting)}(e))r=()=>ee(Ae(e.useExisting));else{const s=Ae(e&&(e.useClass||e.provide));if(!function l0(e){return!!e.deps}(e))return ms(s)||vc(s);r=()=>new s(...Be(e.deps))}return r}function na(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function _c(e,t){for(const n of e)Array.isArray(n)?_c(n,t):n&&Tt(n)?_c(n.\u0275providers,t):t(n)}const wf=new Ot("AppId",{providedIn:"root",factory:()=>d0}),d0="ng",Cf=new Ot("Platform Initializer"),bc=new Ot("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),h0=new Ot("AnimationModuleType"),f0=new Ot("CSP nonce",{providedIn:"root",factory:()=>Zo().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),Ef=new Ot("",{providedIn:"root",factory:()=>new Set});function p0(e){return e}function g0(){const e=new Ba;return"browser"===Ne(bc)&&(e.store=function m0(e,t){const n=e.getElementById(t+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+t,r)}return{}}(Zo(),Ne(wf))),e}let Ba=(()=>{class e{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=Kt({token:e,providedIn:"root",factory:g0})}get(n,r){return void 0!==this.store[n]?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(const n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return e})();const wc="h",Cc="b";var ra=function(e){return e.FirstChild="f",e.NextSibling="n",e}(ra||{});const Ec="e",Dc="t",Ha="c",Hl="x",sa="r",Sc="i",Mc="n",zl="d",Tc="__\u0275nghData__",za="ngh",y0="nghm";let Df=(e,t,n)=>null;function v0(e,t,n=!1){let r=e.getAttribute(za);if(null==r)return null;const[s,i]=r.split("|");if(r=n?i:s,!r)return null;const d=n?s:i?`|${i}`:"";let p={};if(""!==r){const T=t.get(Ba,null,{optional:!0});null!==T&&(p=T.get(Tc,[])[Number(r)])}const v={data:p,firstChild:e.firstChild??null};return n&&(v.firstChild=e,Gl(v,0,e.nextSibling)),d?e.setAttribute(za,d):e.removeAttribute(za),v}function Ac(e,t,n=!1){return Df(e,t,n)}function Sf(e){let t=e._lView;return 2===t[nt].type?null:(nn(t)&&(t=t[Xt]),t)}function Gl(e,t,n){e.segmentHeads??={},e.segmentHeads[t]=n}function Ic(e,t){return e.segmentHeads?.[t]??null}function Mf(e,t){return e.data[Ha]?.[t]??null}function Oc(e,t){const n=Mf(e,t)??[];let r=0;for(let s of n)r+=s[sa]*(s[Hl]??1);return r}function Wl(e,t){if(typeof e.disconnectedNodes>"u"){const n=e.data[zl];e.disconnectedNodes=n?new Set(n):null}return!!e.disconnectedNodes?.has(t)}class D0{}class Tf{}class M0{resolveComponentFactory(t){throw function S0(e){const t=Error(`No component factory found for ${ze(e)}.`);return t.ngComponent=e,t}(t)}}let Kl=(()=>{class e{static{this.NULL=new M0}}return e})();function T0(){return ia(Gt(),de())}function ia(e,t){return new Ga(De(e,t))}let Ga=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=T0}}return e})();function A0(e){return e instanceof Ga?e.nativeElement:e}class If{}let I0=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function O0(){const e=de(),n=Rt(Gt().index,e);return(Hn(n)?n:e)[kt]}()}}return e})(),P0=(()=>{class e{static{this.\u0275prov=Kt({token:e,providedIn:"root",factory:()=>null})}}return e})();class Of{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const R0=new Of("16.2.12"),Pc={};function Nf(e,t=null,n=null,r){const s=kf(e,t,n,r);return s.resolveInjectorInitializers(),s}function kf(e,t=null,n=null,r,s=new Set){const i=[n||mt,t0(e)];return r=r||("object"==typeof e?void 0:ze(e)),new ta(i,t||Bl(),r||null,s)}let zi=(()=>{class e{static{this.THROW_IF_NOT_FOUND=Te}static{this.NULL=new hc}static create(n,r){if(Array.isArray(n))return Nf({name:""},r,n,"");{const s=n.name??"";return Nf({name:s},n.parent,n.providers,s)}}static{this.\u0275prov=Kt({token:e,providedIn:"any",factory:()=>ee(pf)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();function xc(e){return e.ngOriginalError}class Co{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&xc(t);for(;n&&xc(n);)n=xc(n);return n||null}}function Nc(e){return t=>{setTimeout(e,void 0,t)}}const no=class U0 extends u.B{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let s=t,i=n||(()=>null),d=r;if(t&&"object"==typeof t){const v=t;s=v.next?.bind(v),i=v.error?.bind(v),d=v.complete?.bind(v)}this.__isAsync&&(i=Nc(i),s&&(s=Nc(s)),d&&(d=Nc(d)));const p=super.subscribe({next:s,error:i,complete:d});return t instanceof G.yU&&t.add(p),p}};function Lf(...e){}class _s{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new no(!1),this.onMicrotaskEmpty=new no(!1),this.onStable=new no(!1),this.onError=new no(!1),typeof Zone>"u")throw new Je(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&n,s.shouldCoalesceRunChangeDetection=r,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function $0(){const e="function"==typeof jt.requestAnimationFrame;let t=jt[e?"requestAnimationFrame":"setTimeout"],n=jt[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function z0(e){const t=()=>{!function H0(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(jt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Fc(e),e.isCheckStableRunning=!0,kc(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Fc(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,s,i,d,p)=>{if(function W0(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(p))return n.invokeTask(s,i,d,p);try{return jf(e),n.invokeTask(s,i,d,p)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||e.shouldCoalesceRunChangeDetection)&&t(),Vf(e)}},onInvoke:(n,r,s,i,d,p,v)=>{try{return jf(e),n.invoke(s,i,d,p,v)}finally{e.shouldCoalesceRunChangeDetection&&t(),Vf(e)}},onHasTask:(n,r,s,i)=>{n.hasTask(s,i),r===s&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,Fc(e),kc(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(n,r,s,i)=>(n.handleError(s,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_s.isInAngularZone())throw new Je(909,!1)}static assertNotInAngularZone(){if(_s.isInAngularZone())throw new Je(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,s){const i=this._inner,d=i.scheduleEventTask("NgZoneEvent: "+s,t,B0,Lf,Lf);try{return i.runTask(d,n,r)}finally{i.cancelTask(d)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const B0={};function kc(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Fc(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function jf(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Vf(e){e._nesting--,kc(e)}const Uf=new Ot("",{providedIn:"root",factory:$f});function $f(){const e=Ne(_s);let t=!0;return function he(...e){const t=(0,Q.lI)(e),n=(0,Q.R0)(e,1/0),r=e;return r.length?1===r.length?(0,re.Tg)(r[0]):(0,ge.U)(n)((0,ce.H)(r,t)):H.w}(new E.c(s=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{s.next(t),s.complete()})}),new E.c(s=>{let i;e.runOutsideAngular(()=>{i=e.onStable.subscribe(()=>{_s.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,s.next(!0))})})});const d=e.onUnstable.subscribe(()=>{_s.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{s.next(!1)}))});return()=>{i.unsubscribe(),d.unsubscribe()}}).pipe(je()))}function Bf(e){return e.ownerDocument}function fo(e){return e instanceof Function?e():e}function aa(e){return"browser"===(e??Ne(zi)).get(bc)}let Lc=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=Kt({token:e,providedIn:"root",factory:()=>new e})}}return e})();function Wa(e){for(;e;){e[Pt]|=64;const t=ka(e);if(nn(e)&&!t)return e;e=t}return null}const Xl=new Ot(""),Kf=new Ot("",{providedIn:"root",factory:()=>!1});let Ql=null;function Jf(e,t){return e[t]??ep()}function Yf(e,t){const n=ep();n.producerNode?.length&&(e[t]=Ql,n.lView=e,Ql=Zf())}const tb={...ao,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Wa(e.lView)},lView:null};function Zf(){return Object.create(tb)}function ep(){return Ql??=Zf(),Ql}const sn={};function tp(e){np(We(),de(),ti()+e,!1)}function np(e,t,n,r){if(!r)if(3==(3&t[Pt])){const i=e.preOrderCheckHooks;null!==i&&pl(t,i,n)}else{const i=e.preOrderHooks;null!==i&&gl(t,i,0,n)}Po(n)}function la(e,t=yt.Default){const n=de();return null===n?ee(e,t):uh(Gt(),n,Ae(e),t)}function rp(){throw new Error("invalid")}function Jl(e,t,n,r,s,i,d,p,v,T,j){const z=t.blueprint.slice();return z[tn]=s,z[Pt]=140|r,(null!==T||e&&2048&e[Pt])&&(z[Pt]|=2048),a(z),z[pn]=z[ts]=e,z[Wn]=n,z[Ns]=d||e&&e[Ns],z[kt]=p||e&&e[kt],z[wr]=v||e&&e[wr]||null,z[Bn]=i,z[Ms]=function r_(){return n_++}(),z[Or]=j,z[Ts]=T,z[An]=2==t.type?e[An]:z,z}function ua(e,t,n,r,s){let i=e.data[t];if(null===i)i=function jc(e,t,n,r,s){const i=yr(),d=vs(),v=e.data[t]=function ub(e,t,n,r,s,i){let d=t?t.injectorIndex:-1,p=0;return Fe()&&(p|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:d,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:p,providerIndexes:0,value:s,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,d?i:i&&i.parent,n,t,r,s);return null===e.firstChild&&(e.firstChild=v),null!==i&&(d?null==i.child&&null!==v.parent&&(i.child=v):null===i.next&&(i.next=v,v.prev=i)),v}(e,t,n,r,s),function w(){return R.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=n,i.value=r,i.attrs=s;const d=function Vn(){const e=R.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();i.injectorIndex=null===d?-1:d.injectorIndex}return Zn(i,!0),i}function Ka(e,t,n,r){if(0===n)return-1;const s=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return s}function sp(e,t,n,r,s){const i=Jf(t,ks),d=ti(),p=2&r;try{Po(-1),p&&t.length>Xt&&np(e,t,Xt,!1),b(p?2:0,s);const T=p?i:null,j=Yi(T);try{null!==T&&(T.dirty=!1),n(r,s)}finally{Ni(T,j)}}finally{p&&null===t[ks]&&Yf(t,ks),Po(d),b(p?3:1,s)}}function Vc(e,t,n){if(ci(t)){const r=qr(null);try{const i=t.directiveEnd;for(let d=t.directiveStart;d<i;d++){const p=e.data[d];p.contentQueries&&p.contentQueries(1,n[d],d)}}finally{qr(r)}}}function Uc(e,t,n){Ge()&&(function mb(e,t,n,r){const s=n.directiveStart,i=n.directiveEnd;Fr(n)&&function Eb(e,t,n){const r=De(t,e),s=ip(n);let d=16;n.signals?d=4096:n.onPush&&(d=64);const p=Yl(e,Jl(e,s,null,d,r,t,null,e[Ns].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=p}(t,n,e.data[s+n.componentOffset]),e.firstCreatePass||yl(n,t),Hs(r,t);const d=n.initialInputs;for(let p=s;p<i;p++){const v=e.data[p],T=Ro(t,e,p,n);Hs(T,t),null!==d&&Db(0,p-s,T,v,0,d),Wr(v)&&(Rt(n.index,t)[Wn]=Ro(t,e,p,n))}}(e,t,n,De(n,t)),64==(64&n.flags)&&cp(e,t,n))}function $c(e,t,n=De){const r=t.localNames;if(null!==r){let s=t.index+1;for(let i=0;i<r.length;i+=2){const d=r[i+1],p=-1===d?n(t,e):e[d];e[s++]=p}}}function ip(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Bc(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Bc(e,t,n,r,s,i,d,p,v,T,j){const z=Xt+r,se=z+s,ue=function rb(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:sn);return n}(z,se),Re="function"==typeof T?T():T;return ue[nt]={type:e,blueprint:ue,template:n,queries:null,viewQuery:p,declTNode:t,data:ue.slice().fill(null,z),bindingStartIndex:z,expandoStartIndex:se,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof d?d():d,firstChild:null,schemas:v,consts:Re,incompleteFirstPass:!1,ssrId:j}}let op=e=>null;function ob(e){Ah(e)?Qh(e):function w0(e){const t=Zo(),n=t.createNodeIterator(e,NodeFilter.SHOW_COMMENT,{acceptNode(i){const d=function b0(e){return e.textContent?.replace(/\s/gm,"")}(i);return"ngetn"===d||"ngtns"===d?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}});let r;const s=[];for(;r=n.nextNode();)s.push(r);for(const i of s)"ngetn"===i.textContent?i.replaceWith(t.createTextNode("")):i.remove()}(e)}function ap(e,t,n,r){for(let s in e)if(e.hasOwnProperty(s)){n=null===n?{}:n;const i=e[s];null===r?lp(n,t,s,i):r.hasOwnProperty(s)&&lp(n,t,r[s],i)}return n}function lp(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function Di(e,t,n,r,s,i,d,p){const v=De(t,n);let j,T=t.inputs;!p&&null!=T&&(j=T[r])?(Kc(e,n,j,r,s),Fr(t)&&function hb(e,t){const n=Rt(t,e);16&n[Pt]||(n[Pt]|=64)}(n,t.index)):3&t.type&&(r=function db(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),s=null!=d?d(s,t.value||"",r):s,i.setProperty(v,r,s))}function Hc(e,t,n,r){if(Ge()){const s=null===r?null:{"":-1},i=function vb(e,t){const n=e.directiveRegistry;let r=null,s=null;if(n)for(let i=0;i<n.length;i++){const d=n[i];if(Mi(t,d.selectors,!1))if(r||(r=[]),Wr(d))if(null!==d.findHostDirectiveDefs){const p=[];s=s||new Map,d.findHostDirectiveDefs(d,p,s),r.unshift(...p,d),zc(e,t,p.length)}else r.unshift(d),zc(e,t,0);else s=s||new Map,d.findHostDirectiveDefs?.(d,r,s),r.push(d)}return null===r?null:[r,s]}(e,n);let d,p;null===i?d=p=null:[d,p]=i,null!==d&&up(e,t,n,d,s,p),s&&function _b(e,t,n){if(t){const r=e.localNames=[];for(let s=0;s<t.length;s+=2){const i=n[t[s+1]];if(null==i)throw new Je(-301,!1);r.push(t[s],i)}}}(n,r,s)}n.mergedAttrs=Jr(n.mergedAttrs,n.attrs)}function up(e,t,n,r,s,i){for(let T=0;T<r.length;T++)Lu(yl(n,t),e,r[T].type);!function wb(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let T=0;T<r.length;T++){const j=r[T];j.providersResolver&&j.providersResolver(j)}let d=!1,p=!1,v=Ka(e,t,r.length,null);for(let T=0;T<r.length;T++){const j=r[T];n.mergedAttrs=Jr(n.mergedAttrs,j.hostAttrs),Cb(e,n,t,v,j),bb(v,j,s),null!==j.contentQueries&&(n.flags|=4),(null!==j.hostBindings||null!==j.hostAttrs||0!==j.hostVars)&&(n.flags|=64);const z=j.type.prototype;!d&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),d=!0),!p&&(z.ngOnChanges||z.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),p=!0),v++}!function cb(e,t,n){const s=t.directiveEnd,i=e.data,d=t.attrs,p=[];let v=null,T=null;for(let j=t.directiveStart;j<s;j++){const z=i[j],se=n?n.get(z):null,Re=se?se.outputs:null;v=ap(z.inputs,j,v,se?se.inputs:null),T=ap(z.outputs,j,T,Re);const Ke=null===v||null===d||jr(t)?null:Sb(v,j,d);p.push(Ke)}null!==v&&(v.hasOwnProperty("class")&&(t.flags|=8),v.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=p,t.inputs=v,t.outputs=T}(e,n,i)}function cp(e,t,n){const r=n.directiveStart,s=n.directiveEnd,i=n.index,d=function I(){return R.lFrame.currentDirectiveIndex}();try{Po(i);for(let p=r;p<s;p++){const v=e.data[p],T=t[p];U(p),(null!==v.hostBindings||0!==v.hostVars||null!==v.hostAttrs)&&yb(v,T)}}finally{Po(-1),U(d)}}function yb(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function zc(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function bb(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Wr(t)&&(n[""]=e)}}function Cb(e,t,n,r,s){e.data[r]=s;const i=s.factory||(s.factory=ms(s.type)),d=new Ta(i,Wr(s),la);e.blueprint[r]=d,n[r]=d,function pb(e,t,n,r,s){const i=s.hostBindings;if(i){let d=e.hostBindingOpCodes;null===d&&(d=e.hostBindingOpCodes=[]);const p=~t.index;(function gb(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(d)!=p&&d.push(p),d.push(n,r,i)}}(e,t,r,Ka(e,n,s.hostVars,sn),s)}function ro(e,t,n,r,s,i){const d=De(e,t);!function Gc(e,t,n,r,s,i,d){if(null==i)e.removeAttribute(t,s,n);else{const p=null==d?rt(i):d(i,r||"",s);e.setAttribute(t,s,p,n)}}(t[kt],d,i,e.value,n,r,s)}function Db(e,t,n,r,s,i){const d=i[t];if(null!==d)for(let p=0;p<d.length;)dp(r,n,d[p++],d[p++],d[p++])}function dp(e,t,n,r,s){const i=qr(null);try{const d=e.inputTransforms;null!==d&&d.hasOwnProperty(r)&&(s=d[r].call(t,s)),null!==e.setInput?e.setInput(t,s,n,r):t[r]=s}finally{qr(i)}}function Sb(e,t,n){let r=null,s=0;for(;s<n.length;){const i=n[s];if(0!==i)if(5!==i){if("number"==typeof i)break;if(e.hasOwnProperty(i)){null===r&&(r=[]);const d=e[i];for(let p=0;p<d.length;p+=2)if(d[p]===t){r.push(i,d[p+1],n[s+1]);break}}s+=2}else s+=2;else s+=4}return r}function hp(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}function fp(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r+1];if(-1!==i){const d=e.data[i];_e(n[r]),d.contentQueries(2,t[i],i)}}}function Yl(e,t){return e[$r]?e[es][fr]=t:e[$r]=t,e[es]=t,t}function Wc(e,t,n){_e(0);const r=qr(null);try{t(e,n)}finally{qr(r)}}function pp(e){return e[Zr]||(e[Zr]=[])}function gp(e){return e.cleanup||(e.cleanup=[])}function yp(e,t){const n=e[wr],r=n?n.get(Co,null):null;r&&r.handleError(t)}function Kc(e,t,n,r,s){for(let i=0;i<n.length;){const d=n[i++],p=n[i++];dp(e.data[d],t[d],r,p,s)}}function po(e,t,n){const r=fe(t,e);!function Uh(e,t,n){e.setValue(t,n)}(e[kt],r,n)}function Mb(e,t){const n=Rt(t,e),r=n[nt];!function Tb(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const s=n[tn];null!==s&&null===n[Or]&&(n[Or]=Ac(s,n[wr])),qc(r,n,n[Wn])}function qc(e,t,n){zn(t);try{const r=e.viewQuery;null!==r&&Wc(1,r,n);const s=e.template;null!==s&&sp(e,t,s,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&fp(e,t),e.staticViewQueries&&Wc(2,e.viewQuery,n);const i=e.components;null!==i&&function Ab(e,t){for(let n=0;n<t.length;n++)Mb(e,t[n])}(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[Pt]&=-5,Oo()}}let vp=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,r,s){const i=typeof Zone>"u"?null:Zone.current,d=function os(e,t,n){const r=Object.create($s);n&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=t;const s=d=>{r.cleanupFn=d};return r.ref={notify:()=>uo(r),run:()=>{if(r.dirty=!1,r.hasRun&&!js(r))return;r.hasRun=!0;const d=Yi(r);try{r.cleanupFn(),r.cleanupFn=as,r.fn(s)}finally{Ni(r,d)}},cleanup:()=>r.cleanupFn()},r.ref}(n,T=>{this.all.has(T)&&this.queue.set(T,i)},s);let p;this.all.add(d),d.notify();const v=()=>{d.cleanup(),p?.(),this.all.delete(d),this.queue.delete(d)};return p=r?.onDestroy(v),{destroy:v}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=Kt({token:e,providedIn:"root",factory:()=>new e})}}return e})();function Zl(e,t,n){let r=n?e.styles:null,s=n?e.classes:null,i=0;if(null!==t)for(let d=0;d<t.length;d++){const p=t[d];"number"==typeof p?i=p:1==i?s=He(s,p):2==i&&(r=He(r,p+": "+t[++d]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=s:e.classesWithoutHost=s}function qa(e,t,n,r,s=!1){for(;null!==n;){const i=t[n.index];null!==i&&r.push(q(i)),Jn(i)&&_p(i,r);const d=n.type;if(8&d)qa(e,t,n.child,r);else if(32&d){const p=Qu(n,t);let v;for(;v=p();)r.push(v)}else if(16&d){const p=Xh(t,n);if(Array.isArray(p))r.push(...p);else{const v=ka(t[An]);qa(v[nt],v,p,r,!0)}}n=s?n.projectionNext:n.next}return r}function _p(e,t){for(let n=xn;n<e.length;n++){const r=e[n],s=r[nt].firstChild;null!==s&&qa(r[nt],r,s,t)}e[Cr]!==e[tn]&&t.push(e[Cr])}function eu(e,t,n,r=!0){const s=t[Ns],i=s.rendererFactory,d=s.afterRenderEventManager;i.begin?.(),d?.begin();try{bp(e,t,e.template,n)}catch(v){throw r&&yp(t,v),v}finally{i.end?.(),s.effectManager?.flush(),d?.end()}}function bp(e,t,n,r){const s=t[Pt];if(256!=(256&s)){t[Ns].effectManager?.flush(),zn(t);try{a(t),function Ou(e){return R.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&sp(e,t,n,2,r);const d=3==(3&s);if(d){const T=e.preOrderCheckHooks;null!==T&&pl(t,T,null)}else{const T=e.preOrderHooks;null!==T&&gl(t,T,0,null),Ru(t,0)}if(function Pb(e){for(let t=Lh(e);null!==t;t=jh(t)){if(!t[Qn])continue;const n=t[Qs];for(let r=0;r<n.length;r++){o(n[r])}}}(t),wp(t,2),null!==e.contentQueries&&fp(e,t),d){const T=e.contentCheckHooks;null!==T&&pl(t,T)}else{const T=e.contentHooks;null!==T&&gl(t,T,1),Ru(t,1)}!function nb(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=Jf(t,ns);try{for(let s=0;s<n.length;s++){const i=n[s];if(i<0)Po(~i);else{const d=i,p=n[++s],v=n[++s];C(p,d),r.dirty=!1;const T=Yi(r);try{v(2,t[d])}finally{Ni(r,T)}}}}finally{null===t[ns]&&Yf(t,ns),Po(-1)}}(e,t);const p=e.components;null!==p&&Ep(t,p,0);const v=e.viewQuery;if(null!==v&&Wc(2,v,r),d){const T=e.viewCheckHooks;null!==T&&pl(t,T)}else{const T=e.viewHooks;null!==T&&gl(t,T,2),Ru(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Pt]&=-73,l(t)}finally{Oo()}}}function wp(e,t){for(let n=Lh(e);null!==n;n=jh(n))for(let r=xn;r<n.length;r++)Cp(n[r],t)}function Rb(e,t,n){Cp(Rt(t,e),n)}function Cp(e,t){if(!function Bt(e){return 128==(128&e[Pt])}(e))return;const n=e[nt],r=e[Pt];if(80&r&&0===t||1024&r||2===t)bp(n,e,n.template,e[Wn]);else if(e[Xs]>0){wp(e,1);const s=n.components;null!==s&&Ep(e,s,1)}}function Ep(e,t,n){for(let r=0;r<t.length;r++)Rb(e,t[r],n)}class Xa{get rootNodes(){const t=this._lView,n=t[nt];return qa(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Wn]}set context(t){this._lView[Wn]=t}get destroyed(){return 256==(256&this._lView[Pt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[pn];if(Jn(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(xl(t,r),bl(n,r))}this._attachedToViewContainer=!1}Yu(this._lView[nt],this._lView)}onDestroy(t){!function M(e,t){if(256==(256&e[Pt]))throw new Je(911,!1);null===e[As]&&(e[As]=[]),e[As].push(t)}(this._lView,t)}markForCheck(){Wa(this._cdRefInjectingView||this._lView)}detach(){this._lView[Pt]&=-129}reattach(){this._lView[Pt]|=128}detectChanges(){eu(this._lView[nt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Je(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function y_(e,t){La(e,t,t[kt],2,null,null)}(this._lView[nt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Je(902,!1);this._appRef=t}}class xb extends Xa{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;eu(t[nt],t,t[Wn],!1)}checkNoChanges(){}get context(){return null}}class Dp extends Kl{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Vt(t);return new Qa(n,this.ngModule)}}function Sp(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class kb{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=tt(r);const s=this.injector.get(t,Pc,r);return s!==Pc||n===Pc?s:this.parentInjector.get(t,n,r)}}class Qa extends Tf{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=Sp(t.inputs);if(null!==n)for(const s of r)n.hasOwnProperty(s.propName)&&(s.transform=n[s.propName]);return r}get outputs(){return Sp(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function $i(e){return e.map(Ui).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,s){let i=(s=s||this.ngModule)instanceof to?s:s?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const d=i?new kb(t,i):t,p=d.get(If,null);if(null===p)throw new Je(407,!1);const z={rendererFactory:p,sanitizer:d.get(P0,null),effectManager:d.get(vp,null),afterRenderEventManager:d.get(Lc,null)},se=p.createRenderer(null,this.componentDef),ue=this.componentDef.selectors[0][0]||"div",Re=r?function sb(e,t,n,r){const i=r.get(Kf,!1)||n===Dr.ShadowDom,d=e.selectRootElement(t,i);return function ib(e){op(e)}(d),d}(se,r,this.componentDef.encapsulation,d):Rl(se,ue,function Nb(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(ue)),Mt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Ue=null;null!==Re&&(Ue=Ac(Re,d,!0));const Zt=Bc(0,null,null,1,0,null,null,null,null,null,null),vn=Jl(null,Zt,null,Mt,null,null,z,se,d,null,Ue);let rr,gi;zn(vn);try{const go=this.componentDef;let Ma,Zd=null;go.findHostDirectiveDefs?(Ma=[],Zd=new Map,go.findHostDirectiveDefs(go,Ma,Zd),Ma.push(go)):Ma=[go];const BS=function Lb(e,t){const n=e[nt],r=Xt;return e[r]=t,ua(n,r,2,"#host",null)}(vn,Re),HS=function jb(e,t,n,r,s,i,d){const p=s[nt];!function Vb(e,t,n,r){for(const s of e)t.mergedAttrs=Jr(t.mergedAttrs,s.hostAttrs);null!==t.mergedAttrs&&(Zl(t,t.mergedAttrs,!0),null!==n&&Zh(r,n,t))}(r,e,t,d);let v=null;null!==t&&(v=Ac(t,s[wr]));const T=i.rendererFactory.createRenderer(t,n);let j=16;n.signals?j=4096:n.onPush&&(j=64);const z=Jl(s,ip(n),null,j,s[e.index],e,i,T,null,null,v);return p.firstCreatePass&&zc(p,e,r.length-1),Yl(s,z),s[e.index]=z}(BS,Re,go,Ma,vn,z,se);gi=ft(Zt,Xt),Re&&function $b(e,t,n,r){if(r)Gs(e,n,["ng-version",R0.full]);else{const{attrs:s,classes:i}=function Oi(e){const t=[],n=[];let r=1,s=2;for(;r<e.length;){let i=e[r];if("string"==typeof i)2===s?""!==i&&t.push(i,e[++r]):8===s&&n.push(i);else{if(!Pn(s))break;s=i}r++}return{attrs:t,classes:n}}(t.selectors[0]);s&&Gs(e,n,s),i&&i.length>0&&Yh(e,n,i.join(" "))}}(se,go,Re,r),void 0!==n&&function Bb(e,t,n){const r=e.projection=[];for(let s=0;s<t.length;s++){const i=n[s];r.push(null!=i?Array.from(i):null)}}(gi,this.ngContentSelectors,n),rr=function Ub(e,t,n,r,s,i){const d=Gt(),p=s[nt],v=De(d,s);up(p,s,d,n,null,r);for(let j=0;j<n.length;j++)Hs(Ro(s,p,d.directiveStart+j,d),s);cp(p,s,d),v&&Hs(v,s);const T=Ro(s,p,d.directiveStart+d.componentOffset,d);if(e[Wn]=s[Wn]=T,null!==i)for(const j of i)j(T,t);return Vc(p,d,e),T}(HS,go,Ma,Zd,vn,[Hb]),qc(Zt,vn,null)}finally{Oo()}return new Fb(this.componentType,rr,ia(gi,vn),vn,gi)}}class Fb extends D0{constructor(t,n,r,s,i){super(),this.location=r,this._rootLView=s,this._tNode=i,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new xb(s),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let s;if(null!==r&&(s=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const i=this._rootLView;Kc(i[nt],i,s,t,n),this.previousInputValues.set(t,n),Wa(Rt(this._tNode.index,i))}}get injector(){return new ni(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function Hb(){const e=Gt();fl(de()[nt],e)}function Xc(e){let t=function Mp(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let s;if(Wr(e))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Je(903,!1);s=t.\u0275dir}if(s){if(n){r.push(s);const d=e;d.inputs=tu(e.inputs),d.inputTransforms=tu(e.inputTransforms),d.declaredInputs=tu(e.declaredInputs),d.outputs=tu(e.outputs);const p=s.hostBindings;p&&Kb(e,p);const v=s.viewQuery,T=s.contentQueries;if(v&&Gb(e,v),T&&Wb(e,T),fn(e.inputs,s.inputs),fn(e.declaredInputs,s.declaredInputs),fn(e.outputs,s.outputs),null!==s.inputTransforms&&(null===d.inputTransforms&&(d.inputTransforms={}),fn(d.inputTransforms,s.inputTransforms)),Wr(s)&&s.data.animation){const j=e.data;j.animation=(j.animation||[]).concat(s.data.animation)}}const i=s.features;if(i)for(let d=0;d<i.length;d++){const p=i[d];p&&p.ngInherit&&p(e),p===Xc&&(n=!1)}}t=Object.getPrototypeOf(t)}!function zb(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const s=e[r];s.hostVars=t+=s.hostVars,s.hostAttrs=Jr(s.hostAttrs,n=Jr(n,s.hostAttrs))}}(r)}function tu(e){return e===ur?{}:e===mt?[]:e}function Gb(e,t){const n=e.viewQuery;e.viewQuery=n?(r,s)=>{t(r,s),n(r,s)}:t}function Wb(e,t){const n=e.contentQueries;e.contentQueries=n?(r,s,i)=>{t(r,s,i),n(r,s,i)}:t}function Kb(e,t){const n=e.hostBindings;e.hostBindings=n?(r,s)=>{t(r,s),n(r,s)}:t}function Op(e){const t=e.inputConfig,n={};for(const r in t)if(t.hasOwnProperty(r)){const s=t[r];Array.isArray(s)&&s[2]&&(n[r]=s[2])}e.inputTransforms=n}function nu(e){return!!Qc(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Qc(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function so(e,t,n){return e[t]=n}function Ja(e,t){return e[t]}function zs(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function ko(e,t,n,r){const s=zs(e,t,n);return zs(e,t+1,r)||s}function Jc(e,t,n,r){const s=de();return zs(s,Io(),t)&&(We(),ro(xr(),s,e,t,n,r)),Jc}function da(e,t,n,r){return zs(e,Io(),n)?t+rt(n)+r:sn}function ha(e,t,n,r,s,i){const p=ko(e,function Zi(){return R.lFrame.bindingIndex}(),n,s);return g(2),p?t+rt(n)+r+rt(s)+i:sn}const cw=new RegExp(`^(\\d+)*(${Cc}|${wc})*(.*)`);function td(e){return e.index-Xt}function iu(e,t,n,r){let s=null;const i=td(r),d=e.data[Mc];if(d?.[i])s=function gw(e,t){const[n,...r]=function hw(e){const t=e.match(cw),[n,r,s,i]=t,d=r?parseInt(r,10):s,p=[];for(const[v,T,j]of i.matchAll(/(f|n)(\d*)/g)){const z=parseInt(j,10)||1;p.push(T,z)}return[d,...p]}(e);let s;return s=n===wc?t[An][tn]:n===Cc?function Hf(e){return e.ownerDocument.body}(t[An][tn]):q(t[Number(n)+Xt]),function pw(e,t){let n=e;for(let r=0;r<t.length;r+=2){const s=t[r],i=t[r+1];for(let d=0;d<i;d++)switch(s){case ra.FirstChild:n=n.firstChild;break;case ra.NextSibling:n=n.nextSibling}}return n}(s,r)}(d[i],n);else if(t.firstChild===r)s=e.firstChild;else{const p=null===r.prev,v=r.prev??r.parent;if(function fw(e){return!e.prev&&8===e.parent?.type}(r))s=Ic(e,td(r.parent));else{let T=De(v,n);if(p)s=T.firstChild;else{const j=td(v),z=Ic(e,j);s=2===v.type&&z?ou(Oc(e,j)+1,z):T.nextSibling}}}return s}function ou(e,t){let n=t;for(let r=0;r<e;r++)n=n.nextSibling;return n}function Hp(e,t,n,r,s,i,d,p){const v=de(),T=We(),j=e+Xt,z=T.firstCreatePass?function vw(e,t,n,r,s,i,d,p,v){const T=t.consts,j=ua(t,e,4,d||null,m(T,p));Hc(t,n,j,m(T,v)),fl(t,j);const z=j.tView=Bc(2,j,r,s,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,T,null);return null!==t.queries&&(t.queries.template(t,j),z.queries=t.queries.embeddedTView(j)),j}(j,T,v,t,n,r,s,i,d):T.data[j];Zn(z,!1);const se=zp(T,v,z,e);hl()&&kl(T,v,se,z),Hs(se,v),Yl(v,v[j]=hp(se,v,se,z)),rs(z)&&Uc(T,v,z),null!=d&&$c(v,z,p)}let zp=Gp;function Gp(e,t,n,r){return bo(!0),t[kt].createComment("")}function _w(e,t,n,r){const s=t[Or],i=!s||Fe()||Wl(s,r);if(bo(i),i)return Gp(0,t);const d=s.data[Dc]?.[r]??null;null!==d&&null!==n.tView&&null===n.tView.ssrId&&(n.tView.ssrId=d);const p=iu(s,e,t,n);return Gl(s,r,p),ou(Oc(s,r),p)}function Wp(e){return en(function Ao(){return R.lFrame.contextLView}(),Xt+e)}function rd(e,t,n){const r=de();return zs(r,Io(),t)&&Di(We(),xr(),r,e,t,r[kt],n,!1),rd}function sd(e,t,n,r,s){const d=s?"class":"style";Kc(e,n,t.inputs[d],d,r)}function au(e,t,n,r){const s=de(),i=We(),d=Xt+e,p=s[kt],v=i.firstCreatePass?function Cw(e,t,n,r,s,i){const d=t.consts,v=ua(t,e,2,r,m(d,s));return Hc(t,n,v,m(d,i)),null!==v.attrs&&Zl(v,v.attrs,!1),null!==v.mergedAttrs&&Zl(v,v.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,v),v}(d,i,s,t,n,r):i.data[d],T=Kp(i,s,v,p,t,e);s[d]=T;const j=rs(v);return Zn(v,!0),Zh(p,T,v),32!=(32&v.flags)&&hl()&&kl(i,s,T,v),0===function Z(){return R.lFrame.elementDepthCount}()&&Hs(T,s),function be(){R.lFrame.elementDepthCount++}(),j&&(Uc(i,s,v),Vc(i,v,s)),null!==r&&$c(s,v),au}function lu(){let e=Gt();vs()?Hi():(e=e.parent,Zn(e,!1));const t=e;(function Se(e){return R.skipHydrationRootTNode===e})(t)&&function Ut(){R.skipHydrationRootTNode=null}(),function ke(){R.lFrame.elementDepthCount--}();const n=We();return n.firstCreatePass&&(fl(n,e),ci(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function gv(e){return 0!=(8&e.flags)}(t)&&sd(n,t,de(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function mv(e){return 0!=(16&e.flags)}(t)&&sd(n,t,de(),t.stylesWithoutHost,!1),lu}function id(e,t,n,r){return au(e,t,n,r),lu(),id}let Kp=(e,t,n,r,s,i)=>(bo(!0),Rl(r,s,eh()));function Ew(e,t,n,r,s,i){const d=t[Or],p=!d||Fe()||Wl(d,i);if(bo(p),p)return Rl(r,s,eh());const v=iu(d,e,t,n);return Mf(d,i)&&Gl(d,i,v.nextSibling),d&&(Th(n)||Ah(v))&&Fr(n)&&(function Ve(e){R.skipHydrationRootTNode=e}(n),Qh(v)),v}function uu(e,t,n){const r=de(),s=We(),i=e+Xt,d=s.firstCreatePass?function Sw(e,t,n,r,s){const i=t.consts,d=m(i,r),p=ua(t,e,8,"ng-container",d);return null!==d&&Zl(p,d,!0),Hc(t,n,p,m(i,s)),null!==t.queries&&t.queries.elementStart(t,p),p}(i,s,r,t,n):s.data[i];Zn(d,!0);const p=Xp(s,r,d,e);return r[i]=p,hl()&&kl(s,r,p,d),Hs(p,r),rs(d)&&(Uc(s,r,d),Vc(s,d,r)),null!=n&&$c(r,d),uu}function cu(){let e=Gt();const t=We();return vs()?Hi():(e=e.parent,Zn(e,!1)),t.firstCreatePass&&(fl(t,e),ci(e)&&t.queries.elementEnd(e)),cu}let Xp=(e,t,n,r)=>(bo(!0),Ju(t[kt],""));function Mw(e,t,n,r){let s;const i=t[Or],d=!i||Fe();if(bo(d),d)return Ju(t[kt],"");const p=iu(i,e,t,n),v=function E0(e,t){const n=e.data;let r=n[Ec]?.[t]??null;return null===r&&n[Ha]?.[t]&&(r=Oc(e,t)),r}(i,r);return Gl(i,r,p),s=ou(v,p),s}function Qp(){return de()}function od(e){return!!e&&"function"==typeof e.then}function Jp(e){return!!e&&"function"==typeof e.subscribe}function ad(e,t,n,r){const s=de(),i=We(),d=Gt();return function Zp(e,t,n,r,s,i,d){const p=rs(r),T=e.firstCreatePass&&gp(e),j=t[Wn],z=pp(t);let se=!0;if(3&r.type||d){const Ke=De(r,t),ut=d?d(Ke):Ke,Mt=z.length,Ue=d?vn=>d(q(vn[r.index])):r.index;let Zt=null;if(!d&&p&&(Zt=function Aw(e,t,n,r){const s=e.cleanup;if(null!=s)for(let i=0;i<s.length-1;i+=2){const d=s[i];if(d===n&&s[i+1]===r){const p=t[Zr],v=s[i+2];return p.length>v?p[v]:null}"string"==typeof d&&(i+=2)}return null}(e,t,s,r.index)),null!==Zt)(Zt.__ngLastListenerFn__||Zt).__ngNextListenerFn__=i,Zt.__ngLastListenerFn__=i,se=!1;else{i=tg(r,t,j,i,!1);const vn=n.listen(ut,s,i);z.push(i,vn),T&&T.push(s,Ue,Mt,Mt+1)}}else i=tg(r,t,j,i,!1);const ue=r.outputs;let Re;if(se&&null!==ue&&(Re=ue[s])){const Ke=Re.length;if(Ke)for(let ut=0;ut<Ke;ut+=2){const rr=t[Re[ut]][Re[ut+1]].subscribe(i),gi=z.length;z.push(i,rr),T&&T.push(s,r.index,gi,-(gi+1))}}}(i,s,s[kt],d,e,t,r),ad}function eg(e,t,n,r){try{return b(6,t,n),!1!==n(r)}catch(s){return yp(e,s),!1}finally{b(7,t,n)}}function tg(e,t,n,r,s){return function i(d){if(d===Function)return r;Wa(e.componentOffset>-1?Rt(e.index,t):t);let v=eg(t,n,r,d),T=i.__ngNextListenerFn__;for(;T;)v=eg(t,n,T,d)&&v,T=T.__ngNextListenerFn__;return s&&!1===v&&d.preventDefault(),v}}function ng(e=1){return function _o(e){return(R.lFrame.contextLView=function Pu(e,t){for(;e>0;)t=t[ts],e--;return t}(e,R.lFrame.contextLView))[Wn]}(e)}function ld(e,t,n){return du(e,"",t,"",n),ld}function du(e,t,n,r,s){const i=de(),d=da(i,t,n,r);return d!==sn&&Di(We(),xr(),i,e,d,i[kt],s,!1),du}function hu(e,t){return e<<17|t<<2}function Eo(e){return e>>17&32767}function ud(e){return 2|e}function Fo(e){return(131068&e)>>2}function cd(e,t){return-131069&e|t<<2}function dd(e){return 1|e}function dg(e,t,n,r,s){const i=e[n+1],d=null===t;let p=r?Eo(i):Fo(i),v=!1;for(;0!==p&&(!1===v||d);){const j=e[p+1];Lw(e[p],t)&&(v=!0,e[p+1]=r?dd(j):ud(j)),p=r?Eo(j):Fo(j)}v&&(e[n+1]=r?ud(i):dd(i))}function Lw(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&qo(e,t)>=0}const ds={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function hg(e){return e.substring(ds.key,ds.keyEnd)}function fg(e,t){const n=ds.textEnd;return n===t?-1:(t=ds.keyEnd=function $w(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,ds.key=t,n),_a(e,t,n))}function _a(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function hd(e,t,n){return Gi(e,t,n,!1),hd}function fd(e,t){return Gi(e,t,null,!0),fd}function oo(e,t){for(let n=function Vw(e){return function gg(e){ds.key=0,ds.keyEnd=0,ds.value=0,ds.valueEnd=0,ds.textEnd=e.length}(e),fg(e,_a(e,0,ds.textEnd))}(t);n>=0;n=fg(t,n))Ei(e,hg(t),!0)}function Gi(e,t,n,r){const s=de(),i=We(),d=g(2);i.firstUpdatePass&&_g(i,e,d,r),t!==sn&&zs(s,d,t)&&wg(i,i.data[ti()],s,s[kt],e,s[d+1]=function Zw(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=ze(wo(e)))),e}(t,n),r,d)}function vg(e,t){return t>=e.expandoStartIndex}function _g(e,t,n,r){const s=e.data;if(null===s[n+1]){const i=s[ti()],d=vg(e,n);Eg(i,r)&&null===t&&!d&&(t=!1),t=function Ww(e,t,n,r){const s=function X(e){const t=R.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let i=r?t.residualClasses:t.residualStyles;if(null===s)0===(r?t.classBindings:t.styleBindings)&&(n=tl(n=pd(null,e,t,n,r),t.attrs,r),i=null);else{const d=t.directiveStylingLast;if(-1===d||e[d]!==s)if(n=pd(s,e,t,n,r),null===i){let v=function Kw(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Fo(r))return e[Eo(r)]}(e,t,r);void 0!==v&&Array.isArray(v)&&(v=pd(null,e,t,v[1],r),v=tl(v,t.attrs,r),function qw(e,t,n,r){e[Eo(n?t.classBindings:t.styleBindings)]=r}(e,t,r,v))}else i=function Xw(e,t,n){let r;const s=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<s;i++)r=tl(r,e[i].hostAttrs,n);return tl(r,t.attrs,n)}(e,t,r)}return void 0!==i&&(r?t.residualClasses=i:t.residualStyles=i),n}(s,i,t,r),function kw(e,t,n,r,s,i){let d=i?t.classBindings:t.styleBindings,p=Eo(d),v=Fo(d);e[r]=n;let j,T=!1;if(Array.isArray(n)?(j=n[1],(null===j||qo(n,j)>0)&&(T=!0)):j=n,s)if(0!==v){const se=Eo(e[p+1]);e[r+1]=hu(se,p),0!==se&&(e[se+1]=cd(e[se+1],r)),e[p+1]=function xw(e,t){return 131071&e|t<<17}(e[p+1],r)}else e[r+1]=hu(p,0),0!==p&&(e[p+1]=cd(e[p+1],r)),p=r;else e[r+1]=hu(v,0),0===p?p=r:e[v+1]=cd(e[v+1],r),v=r;T&&(e[r+1]=ud(e[r+1])),dg(e,j,r,!0),dg(e,j,r,!1),function Fw(e,t,n,r,s){const i=s?e.residualClasses:e.residualStyles;null!=i&&"string"==typeof t&&qo(i,t)>=0&&(n[r+1]=dd(n[r+1]))}(t,j,e,r,i),d=hu(p,v),i?t.classBindings=d:t.styleBindings=d}(s,i,t,n,d,r)}}function pd(e,t,n,r,s){let i=null;const d=n.directiveEnd;let p=n.directiveStylingLast;for(-1===p?p=n.directiveStart:p++;p<d&&(i=t[p],r=tl(r,i.hostAttrs,s),i!==e);)p++;return null!==e&&(n.directiveStylingLast=p),r}function tl(e,t,n){const r=n?1:2;let s=-1;if(null!==t)for(let i=0;i<t.length;i++){const d=t[i];"number"==typeof d?s=d:s===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Ei(e,d,!!n||t[++i]))}return void 0===e?null:e}function wg(e,t,n,r,s,i,d,p){if(!(3&t.type))return;const v=e.data,T=v[p+1],j=function Nw(e){return 1==(1&e)}(T)?Cg(v,t,n,s,Fo(T),d):void 0;fu(j)||(fu(i)||function Rw(e){return 2==(2&e)}(T)&&(i=Cg(v,null,n,s,p,d)),function T_(e,t,n,r,s){if(t)s?e.addClass(n,r):e.removeClass(n,r);else{let i=-1===r.indexOf("-")?void 0:Ol.DashCase;null==s?e.removeStyle(n,r,i):("string"==typeof s&&s.endsWith("!important")&&(s=s.slice(0,-10),i|=Ol.Important),e.setStyle(n,r,s,i))}}(r,d,fe(ti(),n),s,i))}function Cg(e,t,n,r,s,i){const d=null===t;let p;for(;s>0;){const v=e[s],T=Array.isArray(v),j=T?v[1]:v,z=null===j;let se=n[s+1];se===sn&&(se=z?mt:void 0);let ue=z?$u(se,r):j===r?se:void 0;if(T&&!fu(ue)&&(ue=$u(v,r)),fu(ue)&&(p=ue,d))return p;const Re=e[s+1];s=d?Eo(Re):Fo(Re)}if(null!==t){let v=i?t.residualClasses:t.residualStyles;null!=v&&(p=$u(v,r))}return p}function fu(e){return void 0!==e}function Eg(e,t){return 0!=(e.flags&(t?8:16))}function Dg(e,t=""){const n=de(),r=We(),s=e+Xt,i=r.firstCreatePass?ua(r,s,1,t,null):r.data[s],d=Sg(r,n,i,t,e);n[s]=d,hl()&&kl(r,n,d,i),Zn(i,!1)}let Sg=(e,t,n,r,s)=>(bo(!0),Pl(t[kt],r));function eC(e,t,n,r,s){const i=t[Or],d=!i||Fe()||Wl(i,s);return bo(d),d?Pl(t[kt],r):iu(i,e,t,n)}function gd(e){return pu("",e,""),gd}function pu(e,t,n){const r=de(),s=da(r,e,t,n);return s!==sn&&po(r,ti(),s),pu}function md(e,t,n,r,s){const i=de(),d=ha(i,e,t,n,r,s);return d!==sn&&po(i,ti(),d),md}function xg(e,t,n){!function Wi(e,t,n,r){const s=We(),i=g(2);s.firstUpdatePass&&_g(s,null,i,r);const d=de();if(n!==sn&&zs(d,i,n)){const p=s.data[ti()];if(Eg(p,r)&&!vg(s,i)){let v=r?p.classesWithoutHost:p.stylesWithoutHost;null!==v&&(n=He(v,n||"")),sd(s,p,d,n,r)}else!function Yw(e,t,n,r,s,i,d,p){s===sn&&(s=mt);let v=0,T=0,j=0<s.length?s[0]:null,z=0<i.length?i[0]:null;for(;null!==j||null!==z;){const se=v<s.length?s[v+1]:void 0,ue=T<i.length?i[T+1]:void 0;let Ke,Re=null;j===z?(v+=2,T+=2,se!==ue&&(Re=z,Ke=ue)):null===z||null!==j&&j<z?(v+=2,Re=j):(T+=2,Re=z,Ke=ue),null!==Re&&wg(e,t,n,r,Re,Ke,d,p),j=v<s.length?s[v]:null,z=T<i.length?i[T]:null}}(s,p,d,d[kt],d[i+1],d[i+1]=function Qw(e,t,n){if(null==n||""===n)return mt;const r=[],s=wo(n);if(Array.isArray(s))for(let i=0;i<s.length;i++)e(r,s[i],!0);else if("object"==typeof s)for(const i in s)s.hasOwnProperty(i)&&e(r,i,s[i]);else"string"==typeof s&&t(r,s);return r}(e,t,n),r,i)}}(Ei,oo,da(de(),e,t,n),!0)}const Lo=void 0;var bC=["en",[["a","p"],["AM","PM"],Lo],[["AM","PM"],Lo,Lo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Lo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Lo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Lo,"{1} 'at' {0}",Lo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function _C(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let ba={};function yd(e){const t=function wC(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Wg(t);if(n)return n;const r=t.split("-")[0];if(n=Wg(r),n)return n;if("en"===r)return bC;throw new Je(701,!1)}function Gg(e){return yd(e)[wa.PluralCase]}function Wg(e){return e in ba||(ba[e]=jt.ng&&jt.ng.common&&jt.ng.common.locales&&jt.ng.common.locales[e]),ba[e]}var wa=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(wa||{});const Ca="en-US";let Kg=Ca;function bd(e,t,n,r,s){if(e=Ae(e),Array.isArray(e))for(let i=0;i<e.length;i++)bd(e[i],t,n,r,s);else{const i=We(),d=de(),p=Gt();let v=No(e)?e:Ae(e.provide);const T=bf(e),j=1048575&p.providerIndexes,z=p.directiveStart,se=p.providerIndexes>>20;if(No(e)||!e.multi){const ue=new Ta(T,s,la),Re=Cd(v,t,s?j:j+se,z);-1===Re?(Lu(yl(p,d),i,v),wd(i,e,t.length),t.push(v),p.directiveStart++,p.directiveEnd++,s&&(p.providerIndexes+=1048576),n.push(ue),d.push(ue)):(n[Re]=ue,d[Re]=ue)}else{const ue=Cd(v,t,j+se,z),Re=Cd(v,t,j,j+se),ut=Re>=0&&n[Re];if(s&&!ut||!s&&!(ue>=0&&n[ue])){Lu(yl(p,d),i,v);const Mt=function _E(e,t,n,r,s){const i=new Ta(e,n,la);return i.multi=[],i.index=t,i.componentProviders=0,vm(i,s,r&&!n),i}(s?vE:yE,n.length,s,r,T);!s&&ut&&(n[Re].providerFactory=Mt),wd(i,e,t.length,0),t.push(v),p.directiveStart++,p.directiveEnd++,s&&(p.providerIndexes+=1048576),n.push(Mt),d.push(Mt)}else wd(i,e,ue>-1?ue:Re,vm(n[s?Re:ue],T,!s&&r));!s&&r&&ut&&n[Re].componentProviders++}}}function wd(e,t,n,r){const s=No(t),i=function r0(e){return!!e.useClass}(t);if(s||i){const v=(i?Ae(t.useClass):t).prototype.ngOnDestroy;if(v){const T=e.destroyHooks||(e.destroyHooks=[]);if(!s&&t.multi){const j=T.indexOf(n);-1===j?T.push(n,[r,v]):T[j+1].push(r,v)}else T.push(n,v)}}}function vm(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Cd(e,t,n,r){for(let s=n;s<r;s++)if(t[s]===e)return s;return-1}function yE(e,t,n,r){return Ed(this.multi,[])}function vE(e,t,n,r){const s=this.multi;let i;if(this.providerFactory){const d=this.providerFactory.componentProviders,p=Ro(n,n[nt],this.providerFactory.index,r);i=p.slice(0,d),Ed(s,i);for(let v=d;v<p.length;v++)i.push(p[v])}else i=[],Ed(s,i);return i}function Ed(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function _m(e,t=[]){return n=>{n.providersResolver=(r,s)=>function mE(e,t,n){const r=We();if(r.firstCreatePass){const s=Wr(e);bd(n,r.data,r.blueprint,s,!0),bd(t,r.data,r.blueprint,s,!1)}}(r,s?s(e):e,t)}}class jo{}class bm{}function bE(e,t){return new Dd(e,t??null,[])}class Dd extends jo{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Dp(this);const s=Rn(t);this._bootstrapComponents=fo(s.bootstrap),this._r3Injector=kf(t,n,[{provide:jo,useValue:this},{provide:Kl,useValue:this.componentFactoryResolver},...r],ze(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Sd extends bm{constructor(t){super(),this.moduleType=t}create(t){return new Dd(this.moduleType,t,[])}}class wm extends jo{constructor(t){super(),this.componentFactoryResolver=new Dp(this),this.instance=null;const n=new ta([...t.providers,{provide:jo,useValue:this},{provide:Kl,useValue:this.componentFactoryResolver}],t.parent||Bl(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Cm(e,t,n=null){return new wm({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let CE=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=mf(0,n.type),s=r.length>0?Cm([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Kt({token:e,providedIn:"environment",factory:()=>new e(ee(to))})}}return e})();function Em(e){e.getStandaloneInjector=t=>t.get(CE).getOrCreateStandaloneInjector(e)}function Om(e,t,n){const r=Bs()+e,s=de();return s[r]===sn?so(s,r,n?t.call(n):t()):Ja(s,r)}function Pm(e,t,n,r){return xm(de(),Bs(),e,t,n,r)}function Rm(e,t,n,r,s,i,d,p,v){const T=Bs()+e,j=de(),z=function Vi(e,t,n,r,s,i){const d=ko(e,t,n,r);return ko(e,t+2,s,i)||d}(j,T,n,r,s,i);return ko(j,T+4,d,p)||z?so(j,T+6,v?t.call(v,n,r,s,i,d,p):t(n,r,s,i,d,p)):Ja(j,T+6)}function al(e,t){const n=e[t];return n===sn?void 0:n}function xm(e,t,n,r,s,i){const d=t+n;return zs(e,d,s)?so(e,d+1,i?r.call(i,s):r(s)):al(e,d+1)}function km(e,t,n,r,s,i,d,p){const v=t+n;return function ru(e,t,n,r,s){const i=ko(e,t,n,r);return zs(e,t+2,s)||i}(e,v,s,i,d)?so(e,v+3,p?r.call(p,s,i,d):r(s,i,d)):al(e,v+3)}function jm(e,t){const n=We();let r;const s=e+Xt;n.firstCreatePass?(r=function jE(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[s]=r,r.onDestroy&&(n.destroyHooks??=[]).push(s,r.onDestroy)):r=n.data[s];const i=r.factory||(r.factory=ms(r.type)),p=Fn(la);try{const v=ml(!1),T=i();return ml(v),function ww(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,de(),s,T),T}finally{Fn(p)}}function Vm(e,t,n){const r=e+Xt,s=de(),i=en(s,r);return ll(s,r)?xm(s,Bs(),t,i.transform,n,i):i.transform(n)}function Um(e,t,n,r){const s=e+Xt,i=de(),d=en(i,s);return ll(i,s)?function Nm(e,t,n,r,s,i,d){const p=t+n;return ko(e,p,s,i)?so(e,p+2,d?r.call(d,s,i):r(s,i)):al(e,p+2)}(i,Bs(),t,d.transform,n,r,d):d.transform(n,r)}function $m(e,t,n,r,s){const i=e+Xt,d=de(),p=en(d,i);return ll(d,i)?km(d,Bs(),t,p.transform,n,r,s,p):p.transform(n,r,s)}function ll(e,t){return e[nt].data[t].pure}function $E(){return this._results[Symbol.iterator]()}class Td{get changes(){return this._changes||(this._changes=new no)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Td.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=$E)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const s=function ji(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Ov(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let s=e[r],i=t[r];if(n&&(s=n(s),i=n(i)),i!==s)return!1}return!0}(r._results,s,n))&&(r._results=s,r.length=s.length,r.last=s[this.length-1],r.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function HE(e,t,n,r=!0){const s=t[nt];if(function __(e,t,n,r){const s=xn+r,i=n.length;r>0&&(n[s-1][fr]=t),r<i-xn?(t[fr]=n[s],mh(n,xn+r,t)):(n.push(t),t[fr]=null),t[pn]=n;const d=t[Ds];null!==d&&n!==d&&function b_(e,t){const n=e[Qs];t[An]!==t[pn][pn][An]&&(e[Qn]=!0),null===n?e[Qs]=[t]:n.push(t)}(d,t);const p=t[kr];null!==p&&p.insertView(e),t[Pt]|=128}(s,t,e,n),r){const i=nc(n,e),d=t[kt],p=Nl(d,e[Cr]);null!==p&&function m_(e,t,n,r,s,i){r[tn]=s,r[Bn]=t,La(e,r,n,1,s,i)}(s,e[Bn],d,t,p,i)}}let ul=(()=>{class e{static{this.__NG_ELEMENT_ID__=WE}}return e})();const zE=ul,GE=class extends zE{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const s=function BE(e,t,n,r){const s=t.tView,p=Jl(e,s,n,4096&e[Pt]?4096:16,null,t,null,null,null,r?.injector??null,r?.hydrationInfo??null);p[Ds]=e[t.index];const T=e[kr];return null!==T&&(p[kr]=T.createEmbeddedView(s)),qc(s,p,n),p}(this._declarationLView,this._declarationTContainer,t,{injector:n,hydrationInfo:r});return new Xa(s)}};function WE(){return _u(Gt(),de())}function _u(e,t){return 4&e.type?new GE(t,e,ia(e,t)):null}function Bm(e){const t=e[ui]??[],r=e[pn][kt];for(const s of t)KE(s,r);e[ui]=mt}function KE(e,t){let n=0,r=e.firstChild;if(r){const s=e.data[sa];for(;n<s;){const i=r.nextSibling;Fl(t,r,!1),r=i,n++}}}function Hm(e){Bm(e);for(let t=xn;t<e.length;t++)bu(e[t])}function bu(e){const t=e[nt];for(let n=Xt;n<t.bindingStartIndex;n++)Jn(e[n])?Hm(e[n]):Array.isArray(e[n])&&bu(e[n])}let zm=(e,t)=>null;function QE(e,t){const n=e[ui];return t&&null!==n&&0!==n.length?n[0].data[Sc]===t?n.shift():(Bm(e),null):null}function Gm(e,t){return zm(e,t)}let wu=(()=>{class e{static{this.__NG_ELEMENT_ID__=YE}}return e})();function YE(){return qm(Gt(),de())}const ZE=wu,Wm=class extends ZE{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return ia(this._hostTNode,this._hostLView)}get injector(){return new ni(this._hostTNode,this._hostLView)}get parentInjector(){const t=vl(this._hostTNode,this._hostLView);if(Nu(t)){const n=Ia(t,this._hostLView),r=Aa(t);return new ni(n[nt].data[r+8],n)}return new ni(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Km(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-xn}createEmbeddedView(t,n,r){let s,i;"number"==typeof r?s=r:null!=r&&(s=r.index,i=r.injector);const d=Gm(this._lContainer,t.ssrId),p=t.createEmbeddedViewImpl(n||{},i,d),v=!!d&&!Al(this._hostTNode);return this.insertImpl(p,s,v),p}createComponent(t,n,r,s,i){const d=t&&!function Pa(e){return"function"==typeof e}(t);let p;if(d)p=n;else{const Ke=n||{};p=Ke.index,r=Ke.injector,s=Ke.projectableNodes,i=Ke.environmentInjector||Ke.ngModuleRef}const v=d?t:new Qa(Vt(t)),T=r||this.parentInjector;if(!i&&null==v.ngModule){const ut=(d?T:this.parentInjector).get(to,null);ut&&(i=ut)}const j=Vt(v.componentType??{}),z=Gm(this._lContainer,j?.id??null),ue=v.create(T,s,z?.firstChild??null,i),Re=!!z&&!Al(this._hostTNode);return this.insertImpl(ue.hostView,p,Re),ue}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const s=t._lView;if(function Kn(e){return Jn(e[pn])}(s)){const v=this.indexOf(t);if(-1!==v)this.detach(v);else{const T=s[pn],j=new Wm(T,T[Bn],T[pn]);j.detach(j.indexOf(t))}}const d=this._adjustIndex(n),p=this._lContainer;return HE(p,s,d,!r),t.attachToViewContainerRef(),mh(Ad(p),d,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Km(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=xl(this._lContainer,n);r&&(bl(Ad(this._lContainer),n),Yu(r[nt],r))}detach(t){const n=this._adjustIndex(t,-1),r=xl(this._lContainer,n);return r&&null!=bl(Ad(this._lContainer),n)?new Xa(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Km(e){return e[8]}function Ad(e){return e[8]||(e[8]=[])}function qm(e,t){let n;const r=t[e.index];return Jn(r)?n=r:(n=hp(r,t,null,e),t[e.index]=n,Yl(t,n)),Xm(n,t,e,r),new Wm(n,e,t)}let Xm=Qm;function Qm(e,t,n,r){if(e[Cr])return;let s;s=8&n.type?q(r):function eD(e,t){const n=e[kt],r=n.createComment(""),s=De(t,e);return xo(n,Nl(n,s),r,function D_(e,t){return e.nextSibling(t)}(n,s),!1),r}(t,n),e[Cr]=s}function tD(e,t,n,r){if(e[Cr]&&e[ui])return;const s=t[Or],i=n.index-Xt,d=function Il(e){let t=e.parent;for(;t;){if(Th(t))return!0;t=t.parent}return!1}(n)||Al(n);if(!s||d||Wl(s,i))return Qm(e,t,n,r);const v=Ic(s,i),T=s.data[Ha]?.[i],[j,z]=function XE(e,t){const n=[];for(const r of t)for(let s=0;s<(r[Hl]??1);s++){const i={data:r,firstChild:null};r[sa]>0&&(i.firstChild=e,e=ou(r[sa],e)),n.push(i)}return[e,n]}(v,T);e[Cr]=j,e[ui]=z}class Id{constructor(t){this.queryList=t,this.matches=null}clone(){return new Id(this.queryList)}setDirty(){this.queryList.setDirty()}}class Od{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,s=[];for(let i=0;i<r;i++){const d=n.getByIndex(i);s.push(this.queries[d.indexInDeclarationView].clone())}return new Od(s)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==iy(t,n).matches&&this.queries[n].setDirty()}}class Jm{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class Pd{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const s=null!==n?n.length:0,i=this.getByIndex(r).embeddedTView(t,s);i&&(i.indexInDeclarationView=r,null!==n?n.push(i):n=[i])}return null!==n?new Pd(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Rd{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Rd(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let s=0;s<r.length;s++){const i=r[s];this.matchTNodeWithReadOption(t,n,rD(n,i)),this.matchTNodeWithReadOption(t,n,_l(n,t,i,!1,!1))}else r===ul?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,_l(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const s=this.metadata.read;if(null!==s)if(s===Ga||s===wu||s===ul&&4&n.type)this.addMatch(n.index,-2);else{const i=_l(n,t,s,!1,!1);null!==i&&this.addMatch(n.index,i)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function rD(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function iD(e,t,n,r){return-1===n?function sD(e,t){return 11&e.type?ia(e,t):4&e.type?_u(e,t):null}(t,e):-2===n?function oD(e,t,n){return n===Ga?ia(t,e):n===ul?_u(t,e):n===wu?qm(t,e):void 0}(e,t,r):Ro(e,e[nt],n,t)}function Ym(e,t,n,r){const s=t[kr].queries[r];if(null===s.matches){const i=e.data,d=n.matches,p=[];for(let v=0;v<d.length;v+=2){const T=d[v];p.push(T<0?null:iD(t,i[T],d[v+1],n.metadata.read))}s.matches=p}return s.matches}function xd(e,t,n,r){const s=e.queries.getByIndex(n),i=s.matches;if(null!==i){const d=Ym(e,t,s,n);for(let p=0;p<i.length;p+=2){const v=i[p];if(v>0)r.push(d[p/2]);else{const T=i[p+1],j=t[-v];for(let z=xn;z<j.length;z++){const se=j[z];se[Ds]===se[pn]&&xd(se[nt],se,T,r)}if(null!==j[Qs]){const z=j[Qs];for(let se=0;se<z.length;se++){const ue=z[se];xd(ue[nt],ue,T,r)}}}}}return r}function Zm(e){const t=de(),n=We(),r=Ee();_e(r+1);const s=iy(n,r);if(e.dirty&&function xt(e){return 4==(4&e[Pt])}(t)===(2==(2&s.metadata.flags))){if(null===s.matches)e.reset([]);else{const i=s.crossesNgTemplate?xd(n,t,r,[]):Ym(n,t,s,r);e.reset(i,A0),e.notifyOnChanges()}return!0}return!1}function ey(e,t,n){const r=We();r.firstCreatePass&&(sy(r,new Jm(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),ry(r,de(),t)}function ty(e,t,n,r){const s=We();if(s.firstCreatePass){const i=Gt();sy(s,new Jm(t,n,r),i.index),function lD(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(s,e),2==(2&n)&&(s.staticContentQueries=!0)}ry(s,de(),n)}function ny(){return function aD(e,t){return e[kr].queries[t].queryList}(de(),Ee())}function ry(e,t,n){const r=new Td(4==(4&n));(function lb(e,t,n,r){const s=pp(t);s.push(n),e.firstCreatePass&&gp(e).push(r,s.length-1)})(e,t,r,r.destroy),null===t[kr]&&(t[kr]=new Od),t[kr].queries.push(new Id(r))}function sy(e,t,n){null===e.queries&&(e.queries=new Pd),e.queries.track(new Rd(t,n))}function iy(e,t){return e.queries.getByIndex(t)}function oy(e,t){return _u(e,t)}function Nd(e){return!!Rn(e)}const Ey=new Ot("Application Initializer");let Vd=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=Ne(Ey,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const s of this.appInits){const i=s();if(od(i))n.push(i);else if(Jp(i)){const d=new Promise((p,v)=>{i.subscribe({complete:p,error:v})});n.push(d)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(s=>{this.reject(s)}),0===n.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Kt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Dy=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Kt({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const Eu=new Ot("LocaleId",{providedIn:"root",factory:()=>Ne(Eu,yt.Optional|yt.SkipSelf)||function ID(){return typeof $localize<"u"&&$localize.locale||Ca}()}),OD=new Ot("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Sy=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new me.t(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Kt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class RD{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let xD=(()=>{class e{compileModuleSync(n){return new Sd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),i=fo(Rn(n).declarations).reduce((d,p)=>{const v=Vt(p);return v&&d.push(new Qa(v)),d},[]);return new RD(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Kt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Iy=new Ot(""),Oy=new Ot("");let Bd,tS=(()=>{class e{constructor(n,r,s){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Bd||(function nS(e){Bd=e}(s),s.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_s.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,s){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(d=>d.timeoutId!==i),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:i,updateCb:s})}whenStable(n,r,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,s){return[]}static{this.\u0275fac=function(r){return new(r||e)(ee(_s),ee(Py),ee(Oy))}}static{this.\u0275prov=Kt({token:e,factory:e.\u0275fac})}}return e})(),Py=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Bd?.findTestabilityInTree(this,n,r)??null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Kt({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),Do=null;const Hd=new Ot("PlatformDestroyListeners"),zd=new Ot("appBootstrapListener");class iS{constructor(t,n){this.name=t,this.token=n}}function lS(e){try{const{rootComponent:t,appProviders:n,platformProviders:r}=e,s=function aS(e=[]){if(Do)return Do;const t=function ky(e=[],t){return zi.create({name:t,providers:[{provide:mc,useValue:"platform"},{provide:Hd,useValue:new Set([()=>Do=null])},...e]})}(e);return Do=t,function xy(){!function J(e){S=e}(()=>{throw new Je(600,!1)})}(),function Ny(e){e.get(Cf,null)?.forEach(n=>n())}(t),t}(r),i=[fS(),...n||[]],p=new wm({providers:i,parent:s,debugName:"",runEnvironmentInitializers:!1}).injector,v=p.get(_s);return v.run(()=>{p.resolveInjectorInitializers();const T=p.get(Co,null);let j;v.runOutsideAngular(()=>{j=v.onError.subscribe({next:ue=>{T.handleError(ue)}})});const z=()=>p.destroy(),se=s.get(Hd);return se.add(z),p.onDestroy(()=>{j.unsubscribe(),se.delete(z)}),function jy(e,t,n){try{const r=n();return od(r)?r.catch(s=>{throw t.runOutsideAngular(()=>e.handleError(s)),s}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(T,v,()=>{const ue=p.get(Vd);return ue.runInitializers(),ue.donePromise.then(()=>{!function qg(e){Ct(e,"Expected localeId to be defined"),"string"==typeof e&&(Kg=e.toLowerCase().replace(/_/g,"-"))}(p.get(Eu,Ca)||Ca);const Ke=p.get(Sa);return void 0!==t&&Ke.bootstrap(t),Ke})})})}catch(t){return Promise.reject(t)}}let Sa=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ne($y),this.zoneIsStable=Ne(Uf),this.componentTypes=[],this.components=[],this.isStable=Ne(Sy).hasPendingTasks.pipe((0,Lt.n)(n=>n?(0,oe.of)(!1):this.zoneIsStable),(0,dt.F)(),je()),this._injector=Ne(to)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const s=n instanceof Tf;if(!this._injector.get(Vd).done)throw!s&&Es(n),new Je(405,!1);let d;d=s?n:this._injector.get(Kl).resolveComponentFactory(n),this.componentTypes.push(d.componentType);const p=function sS(e){return e.isBoundToModule}(d)?void 0:this._injector.get(jo),T=d.create(zi.NULL,[],r||d.selector,p),j=T.location.nativeElement,z=T.injector.get(Iy,null);return z?.registerApplication(j),T.onDestroy(()=>{this.detachView(T.hostView),Su(this.components,T),z?.unregisterApplication(j)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new Je(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Su(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(zd,[]);r.push(...this._bootstrapListeners),r.forEach(s=>s(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Su(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Je(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Kt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Su(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const $y=new Ot("",{providedIn:"root",factory:()=>Ne(Co).handleError.bind(void 0)});function dS(){const e=Ne(_s),t=Ne(Co);return n=>e.runOutsideAngular(()=>t.handleError(n))}let hS=(()=>{class e{constructor(){this.zone=Ne(_s),this.applicationRef=Ne(Sa)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Kt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function By(e){return[{provide:_s,useFactory:e},{provide:$a,multi:!0,useFactory:()=>{const t=Ne(hS,{optional:!0});return()=>t.initialize()}},{provide:$y,useFactory:dS},{provide:Uf,useFactory:$f}]}function fS(e){return fc([[],By(()=>new _s(function Ly(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}(e)))])}let pS=(()=>{class e{static{this.__NG_ELEMENT_ID__=gS}}return e})();function gS(e){return function mS(e,t,n){if(Fr(e)&&!n){const r=Rt(e.index,t);return new Xa(r,r)}return 47&e.type?new Xa(t[An],t):null}(Gt(),de(),16==(16&e))}class Ky{constructor(){}supports(t){return nu(t)}create(t){return new wS(t)}}const bS=(e,t)=>t;class wS{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||bS}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,s=0,i=null;for(;n||r;){const d=!r||n&&n.currentIndex<Xy(r,s,i)?n:r,p=Xy(d,s,i),v=d.currentIndex;if(d===r)s--,r=r._nextRemoved;else if(n=n._next,null==d.previousIndex)s++;else{i||(i=[]);const T=p-s,j=v-s;if(T!=j){for(let se=0;se<T;se++){const ue=se<i.length?i[se]:i[se]=0,Re=ue+se;j<=Re&&Re<T&&(i[se]=ue+1)}i[d.previousIndex]=j-T}}p!==v&&t(d,p,v)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!nu(t))throw new Je(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let s,i,d,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let p=0;p<this.length;p++)i=t[p],d=this._trackByFn(p,i),null!==n&&Object.is(n.trackById,d)?(r&&(n=this._verifyReinsertion(n,i,d,p)),Object.is(n.item,i)||this._addIdentityChange(n,i)):(n=this._mismatch(n,i,d,p),r=!0),n=n._next}else s=0,function ew(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,p=>{d=this._trackByFn(s,p),null!==n&&Object.is(n.trackById,d)?(r&&(n=this._verifyReinsertion(n,p,d,s)),Object.is(n.item,p)||this._addIdentityChange(n,p)):(n=this._mismatch(n,p,d,s),r=!0),n=n._next,s++}),this.length=s;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,s){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,i,s)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,s))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,i,s)):t=this._addAfter(new CS(n,r),i,s),t}_verifyReinsertion(t,n,r,s){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?t=this._reinsertAfter(i,t._prev,s):t.currentIndex!=s&&(t.currentIndex=s,this._addToMoves(t,s)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const s=t._prevRemoved,i=t._nextRemoved;return null===s?this._removalsHead=i:s._nextRemoved=i,null===i?this._removalsTail=s:i._prevRemoved=s,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const s=null===n?this._itHead:n._next;return t._next=s,t._prev=n,null===s?this._itTail=t:s._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new qy),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qy),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class CS{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ES{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class qy{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new ES,this.map.set(n,r)),r.add(t)}get(t,n){const s=this.map.get(t);return s?s.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Xy(e,t,n){const r=e.previousIndex;if(null===r)return r;let s=0;return n&&r<n.length&&(s=n[r]),r+t+s}class Qy{constructor(){}supports(t){return t instanceof Map||Qc(t)}create(){return new DS}}class DS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Qc(t)))throw new Je(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,s)=>{if(n&&n.key===s)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const i=this._getOrCreateRecordForKey(s,r);n=this._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const s=this._records.get(t);this._maybeAddToChanges(s,n);const i=s._prev,d=s._next;return i&&(i._next=d),d&&(d._prev=i),s._next=null,s._prev=null,s}const r=new SS(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class SS{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Jy(){return new Qd([new Ky])}let Qd=(()=>{class e{static{this.\u0275prov=Kt({token:e,providedIn:"root",factory:Jy})}constructor(n){this.factories=n}static create(n,r){if(null!=r){const s=r.factories.slice();n=n.concat(s)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||Jy()),deps:[[e,new El,new Cl]]}}find(n){const r=this.factories.find(s=>s.supports(n));if(null!=r)return r;throw new Je(901,!1)}}return e})();function Yy(){return new Jd([new Qy])}let Jd=(()=>{class e{static{this.\u0275prov=Kt({token:e,providedIn:"root",factory:Yy})}constructor(n){this.factories=n}static create(n,r){if(r){const s=r.factories.slice();n=n.concat(s)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||Yy()),deps:[[e,new El,new Cl]]}}find(n){const r=this.factories.find(s=>s.supports(n));if(r)return r;throw new Je(901,!1)}}return e})(),ov=!1;function LS(){return fc([{provide:Xl,useFactory:()=>{let e=!0;return aa()&&(e=!!Ne(Ba,{optional:!0})?.get(Tc,null)),e&&Ne(Ef).add("hydration"),e}},{provide:$a,useValue:()=>{aa()&&Ne(Xl)&&(function jS(){const e=Zo();let t;for(const n of e.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===y0){t=n;break}if(!t)throw new Je(-507,!1)}(),function kS(){ov||(ov=!0,function _0(){Df=v0}(),function Dw(){Kp=Ew}(),function tC(){Sg=eC}(),function Tw(){Xp=Mw}(),function bw(){zp=_w}(),function nD(){Xm=tD}(),function JE(){zm=QE}(),function ab(){op=ob}())}())},multi:!0},{provide:Kf,useFactory:()=>aa()&&Ne(Xl)},{provide:zd,useFactory:()=>{if(aa()&&Ne(Xl)){const e=Ne(Sa);return Ne(zi),()=>{(function FS(e,t){return e.isStable.pipe((0,St.$)(r=>r)).toPromise().then(()=>{})})(e).then(()=>{_s.assertInAngularZone(),function qE(e){const t=e._views;for(const n of t){const r=Sf(n);null!==r&&null!==r[tn]&&(Hn(r)?bu(r):(bu(r[tn]),Hm(r)))}}(e)})}}return()=>{}},multi:!0}])}function VS(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function $S(e){const t=Vt(e);if(!t)return null;const n=new Qa(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},4341:(ot,pe,F)=>{"use strict";F.d(pe,{Zm:()=>dt,me:()=>ze,YN:()=>ss,tU:()=>ln,BC:()=>Jt,cb:()=>qt,cV:()=>Ws,vS:()=>ii,xH:()=>fr,Fm:()=>Cs,YS:()=>Ts,wz:()=>pn,qT:()=>Ui,y7:()=>Ns});var u=F(6276),G=F(177),E=F(6648),ge=F(1985),re=F(3073),H=F(8750),Q=F(9326),ce=F(4360),he=F(6450),me=F(8496),Me=F(6354);let Ye=(()=>{class P{constructor(D,$){this._renderer=D,this._elementRef=$,this.onChange=ne=>{},this.onTouched=()=>{}}setProperty(D,$){this._renderer.setProperty(this._elementRef.nativeElement,D,$)}registerOnTouched(D){this.onTouched=D}registerOnChange(D){this.onChange=D}setDisabledState(D){this.setProperty("disabled",D)}static{this.\u0275fac=function($){return new($||P)(u.rXU(u.sFG),u.rXU(u.aKT))}}static{this.\u0275dir=u.FsC({type:P})}}return P})(),je=(()=>{class P extends Ye{static{this.\u0275fac=function(){let D;return function(ne){return(D||(D=u.xGo(P)))(ne||P)}}()}static{this.\u0275dir=u.FsC({type:P,features:[u.Vt3]})}}return P})();const qe=new u.nKC("NgValueAccessor"),Lt={provide:qe,useExisting:(0,u.Rfq)(()=>dt),multi:!0};let dt=(()=>{class P extends je{writeValue(D){this.setProperty("checked",D)}static{this.\u0275fac=function(){let D;return function(ne){return(D||(D=u.xGo(P)))(ne||P)}}()}static{this.\u0275dir=u.FsC({type:P,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function($,ne){1&$&&u.bIt("change",function(Ht){return ne.onChange(Ht.target.checked)})("blur",function(){return ne.onTouched()})},features:[u.Jv_([Lt]),u.Vt3]})}}return P})();const St={provide:qe,useExisting:(0,u.Rfq)(()=>ze),multi:!0},fn=new u.nKC("CompositionEventMode");let ze=(()=>{class P extends Ye{constructor(D,$,ne){super(D,$),this._compositionMode=ne,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ze(){const P=(0,G.QT)()?(0,G.QT)().getUserAgent():"";return/android (\d+)/.test(P.toLowerCase())}())}writeValue(D){this.setProperty("value",D??"")}_handleInput(D){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(D)}_compositionStart(){this._composing=!0}_compositionEnd(D){this._composing=!1,this._compositionMode&&this.onChange(D)}static{this.\u0275fac=function($){return new($||P)(u.rXU(u.sFG),u.rXU(u.aKT),u.rXU(fn,8))}}static{this.\u0275dir=u.FsC({type:P,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function($,ne){1&$&&u.bIt("input",function(Ht){return ne._handleInput(Ht.target.value)})("blur",function(){return ne.onTouched()})("compositionstart",function(){return ne._compositionStart()})("compositionend",function(Ht){return ne._compositionEnd(Ht.target.value)})},features:[u.Jv_([St]),u.Vt3]})}}return P})();const gt=new u.nKC("NgValidators"),Ae=new u.nKC("NgAsyncValidators");function Je(P){return function He(P){return null==P||("string"==typeof P||Array.isArray(P))&&0===P.length}(P.value)?{required:!0}:null}function Tn(P){return null}function $t(P){return null!=P}function le(P){return(0,u.jNT)(P)?(0,E.H)(P):P}function ye(P){let k={};return P.forEach(D=>{k=null!=D?{...k,...D}:k}),0===Object.keys(k).length?null:k}function we(P,k){return k.map(D=>D(P))}function $e(P){return P.map(k=>function Oe(P){return!P.validate}(k)?k:D=>k.validate(D))}function _t(P){return null!=P?function Xe(P){if(!P)return null;const k=P.filter($t);return 0==k.length?null:function(D){return ye(we(D,k))}}($e(P)):null}function kn(P){return null!=P?function un(P){if(!P)return null;const k=P.filter($t);return 0==k.length?null:function(D){return function oe(...P){const k=(0,Q.ms)(P),{args:D,keys:$}=(0,re.D)(P),ne=new ge.c(Et=>{const{length:Ht}=D;if(!Ht)return void Et.complete();const Pr=new Array(Ht);let Ls=Ht,Kr=Ht;for(let Rr=0;Rr<Ht;Rr++){let Mr=!1;(0,H.Tg)(D[Rr]).subscribe((0,ce._)(Et,Pi=>{Mr||(Mr=!0,Kr--),Pr[Rr]=Pi},()=>Ls--,void 0,()=>{(!Ls||!Mr)&&(Kr||Et.next($?(0,me.e)($,Pr):Pr),Et.complete())}))}});return k?ne.pipe((0,he.I)(k)):ne}(we(D,k).map(le)).pipe((0,Me.T)(ye))}}($e(P)):null}function At(P,k){return null===P?[k]:Array.isArray(P)?[...P,k]:[P,k]}function er(P){return P?Array.isArray(P)?P:[P]:[]}function Ct(P,k){return Array.isArray(P)?P.includes(k):P===k}function at(P,k){const D=er(k);return er(P).forEach(ne=>{Ct(D,ne)||D.push(ne)}),D}function ht(P,k){return er(k).filter(D=>!Ct(P,D))}class ir{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(k){this._rawValidators=k||[],this._composedValidatorFn=_t(this._rawValidators)}_setAsyncValidators(k){this._rawAsyncValidators=k||[],this._composedAsyncValidatorFn=kn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(k){this._onDestroyCallbacks.push(k)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(k=>k()),this._onDestroyCallbacks=[]}reset(k=void 0){this.control&&this.control.reset(k)}hasError(k,D){return!!this.control&&this.control.hasError(k,D)}getError(k,D){return this.control?this.control.getError(k,D):null}}class Cn extends ir{get formDirective(){return null}get path(){return null}}class Kt extends ir{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Nr{constructor(k){this._cd=k}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Jt=(()=>{class P extends Nr{constructor(D){super(D)}static{this.\u0275fac=function($){return new($||P)(u.rXU(Kt,2))}}static{this.\u0275dir=u.FsC({type:P,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function($,ne){2&$&&u.AVh("ng-untouched",ne.isUntouched)("ng-touched",ne.isTouched)("ng-pristine",ne.isPristine)("ng-dirty",ne.isDirty)("ng-valid",ne.isValid)("ng-invalid",ne.isInvalid)("ng-pending",ne.isPending)},features:[u.Vt3]})}}return P})(),qt=(()=>{class P extends Nr{constructor(D){super(D)}static{this.\u0275fac=function($){return new($||P)(u.rXU(Cn,10))}}static{this.\u0275dir=u.FsC({type:P,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function($,ne){2&$&&u.AVh("ng-untouched",ne.isUntouched)("ng-touched",ne.isTouched)("ng-pristine",ne.isPristine)("ng-dirty",ne.isDirty)("ng-valid",ne.isValid)("ng-invalid",ne.isInvalid)("ng-pending",ne.isPending)("ng-submitted",ne.isSubmitted)},features:[u.Vt3]})}}return P})();const Ln="VALID",Qr="INVALID",ar="PENDING",Lr="DISABLED";function hs(P){return(W(P)?P.validators:P)||null}function Pe(P,k){return(W(k)?k.asyncValidators:P)||null}function W(P){return null!=P&&!Array.isArray(P)&&"object"==typeof P}class et{constructor(k,D){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(k),this._assignAsyncValidators(D)}get validator(){return this._composedValidatorFn}set validator(k){this._rawValidators=this._composedValidatorFn=k}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(k){this._rawAsyncValidators=this._composedAsyncValidatorFn=k}get parent(){return this._parent}get valid(){return this.status===Ln}get invalid(){return this.status===Qr}get pending(){return this.status==ar}get disabled(){return this.status===Lr}get enabled(){return this.status!==Lr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(k){this._assignValidators(k)}setAsyncValidators(k){this._assignAsyncValidators(k)}addValidators(k){this.setValidators(at(k,this._rawValidators))}addAsyncValidators(k){this.setAsyncValidators(at(k,this._rawAsyncValidators))}removeValidators(k){this.setValidators(ht(k,this._rawValidators))}removeAsyncValidators(k){this.setAsyncValidators(ht(k,this._rawAsyncValidators))}hasValidator(k){return Ct(this._rawValidators,k)}hasAsyncValidator(k){return Ct(this._rawAsyncValidators,k)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(k={}){this.touched=!0,this._parent&&!k.onlySelf&&this._parent.markAsTouched(k)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(k=>k.markAllAsTouched())}markAsUntouched(k={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(D=>{D.markAsUntouched({onlySelf:!0})}),this._parent&&!k.onlySelf&&this._parent._updateTouched(k)}markAsDirty(k={}){this.pristine=!1,this._parent&&!k.onlySelf&&this._parent.markAsDirty(k)}markAsPristine(k={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(D=>{D.markAsPristine({onlySelf:!0})}),this._parent&&!k.onlySelf&&this._parent._updatePristine(k)}markAsPending(k={}){this.status=ar,!1!==k.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!k.onlySelf&&this._parent.markAsPending(k)}disable(k={}){const D=this._parentMarkedDirty(k.onlySelf);this.status=Lr,this.errors=null,this._forEachChild($=>{$.disable({...k,onlySelf:!0})}),this._updateValue(),!1!==k.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...k,skipPristineCheck:D}),this._onDisabledChange.forEach($=>$(!0))}enable(k={}){const D=this._parentMarkedDirty(k.onlySelf);this.status=Ln,this._forEachChild($=>{$.enable({...k,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:k.emitEvent}),this._updateAncestors({...k,skipPristineCheck:D}),this._onDisabledChange.forEach($=>$(!1))}_updateAncestors(k){this._parent&&!k.onlySelf&&(this._parent.updateValueAndValidity(k),k.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(k){this._parent=k}getRawValue(){return this.value}updateValueAndValidity(k={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ln||this.status===ar)&&this._runAsyncValidator(k.emitEvent)),!1!==k.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!k.onlySelf&&this._parent.updateValueAndValidity(k)}_updateTreeValidity(k={emitEvent:!0}){this._forEachChild(D=>D._updateTreeValidity(k)),this.updateValueAndValidity({onlySelf:!0,emitEvent:k.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Lr:Ln}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(k){if(this.asyncValidator){this.status=ar,this._hasOwnPendingAsyncValidator=!0;const D=le(this.asyncValidator(this));this._asyncValidationSubscription=D.subscribe($=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors($,{emitEvent:k})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(k,D={}){this.errors=k,this._updateControlsErrors(!1!==D.emitEvent)}get(k){let D=k;return null==D||(Array.isArray(D)||(D=D.split(".")),0===D.length)?null:D.reduce(($,ne)=>$&&$._find(ne),this)}getError(k,D){const $=D?this.get(D):this;return $&&$.errors?$.errors[k]:null}hasError(k,D){return!!this.getError(k,D)}get root(){let k=this;for(;k._parent;)k=k._parent;return k}_updateControlsErrors(k){this.status=this._calculateStatus(),k&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(k)}_initObservables(){this.valueChanges=new u.bkB,this.statusChanges=new u.bkB}_calculateStatus(){return this._allControlsDisabled()?Lr:this.errors?Qr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ar)?ar:this._anyControlsHaveStatus(Qr)?Qr:Ln}_anyControlsHaveStatus(k){return this._anyControls(D=>D.status===k)}_anyControlsDirty(){return this._anyControls(k=>k.dirty)}_anyControlsTouched(){return this._anyControls(k=>k.touched)}_updatePristine(k={}){this.pristine=!this._anyControlsDirty(),this._parent&&!k.onlySelf&&this._parent._updatePristine(k)}_updateTouched(k={}){this.touched=this._anyControlsTouched(),this._parent&&!k.onlySelf&&this._parent._updateTouched(k)}_registerOnCollectionChange(k){this._onCollectionChange=k}_setUpdateStrategy(k){W(k)&&null!=k.updateOn&&(this._updateOn=k.updateOn)}_parentMarkedDirty(k){return!k&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(k){return null}_assignValidators(k){this._rawValidators=Array.isArray(k)?k.slice():k,this._composedValidatorFn=function Ps(P){return Array.isArray(P)?_t(P):P||null}(this._rawValidators)}_assignAsyncValidators(k){this._rawAsyncValidators=Array.isArray(k)?k.slice():k,this._composedAsyncValidatorFn=function ve(P){return Array.isArray(P)?kn(P):P||null}(this._rawAsyncValidators)}}class Dt extends et{constructor(k,D,$){super(hs(D),Pe($,D)),this.controls=k,this._initObservables(),this._setUpdateStrategy(D),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(k,D){return this.controls[k]?this.controls[k]:(this.controls[k]=D,D.setParent(this),D._registerOnCollectionChange(this._onCollectionChange),D)}addControl(k,D,$={}){this.registerControl(k,D),this.updateValueAndValidity({emitEvent:$.emitEvent}),this._onCollectionChange()}removeControl(k,D={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),delete this.controls[k],this.updateValueAndValidity({emitEvent:D.emitEvent}),this._onCollectionChange()}setControl(k,D,$={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),delete this.controls[k],D&&this.registerControl(k,D),this.updateValueAndValidity({emitEvent:$.emitEvent}),this._onCollectionChange()}contains(k){return this.controls.hasOwnProperty(k)&&this.controls[k].enabled}setValue(k,D={}){(function Te(P,k,D){P._forEachChild(($,ne)=>{if(void 0===D[ne])throw new u.wOt(1002,"")})})(this,0,k),Object.keys(k).forEach($=>{(function ie(P,k,D){const $=P.controls;if(!(k?Object.keys($):$).length)throw new u.wOt(1e3,"");if(!$[D])throw new u.wOt(1001,"")})(this,!0,$),this.controls[$].setValue(k[$],{onlySelf:!0,emitEvent:D.emitEvent})}),this.updateValueAndValidity(D)}patchValue(k,D={}){null!=k&&(Object.keys(k).forEach($=>{const ne=this.controls[$];ne&&ne.patchValue(k[$],{onlySelf:!0,emitEvent:D.emitEvent})}),this.updateValueAndValidity(D))}reset(k={},D={}){this._forEachChild(($,ne)=>{$.reset(k?k[ne]:null,{onlySelf:!0,emitEvent:D.emitEvent})}),this._updatePristine(D),this._updateTouched(D),this.updateValueAndValidity(D)}getRawValue(){return this._reduceChildren({},(k,D,$)=>(k[$]=D.getRawValue(),k))}_syncPendingControls(){let k=this._reduceChildren(!1,(D,$)=>!!$._syncPendingControls()||D);return k&&this.updateValueAndValidity({onlySelf:!0}),k}_forEachChild(k){Object.keys(this.controls).forEach(D=>{const $=this.controls[D];$&&k($,D)})}_setUpControls(){this._forEachChild(k=>{k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(k){for(const[D,$]of Object.entries(this.controls))if(this.contains(D)&&k($))return!0;return!1}_reduceValue(){return this._reduceChildren({},(D,$,ne)=>(($.enabled||this.disabled)&&(D[ne]=$.value),D))}_reduceChildren(k,D){let $=k;return this._forEachChild((ne,Et)=>{$=D($,ne,Et)}),$}_allControlsDisabled(){for(const k of Object.keys(this.controls))if(this.controls[k].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(k){return this.controls.hasOwnProperty(k)?this.controls[k]:null}}const On=new u.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Ar}),Ar="always";function Y(P,k,D=Ar){tt(P,k),k.valueAccessor.writeValue(P.value),(P.disabled||"always"===D)&&k.valueAccessor.setDisabledState?.(P.disabled),function an(P,k){k.valueAccessor.registerOnChange(D=>{P._pendingValue=D,P._pendingChange=!0,P._pendingDirty=!0,"change"===P.updateOn&&Sn(P,k)})}(P,k),function lr(P,k){const D=($,ne)=>{k.valueAccessor.writeValue($),ne&&k.viewToModelUpdate($)};P.registerOnChange(D),k._registerOnDestroy(()=>{P._unregisterOnChange(D)})}(P,k),function It(P,k){k.valueAccessor.registerOnTouched(()=>{P._pendingTouched=!0,"blur"===P.updateOn&&P._pendingChange&&Sn(P,k),"submit"!==P.updateOn&&P.markAsTouched()})}(P,k),function Ne(P,k){if(k.valueAccessor.setDisabledState){const D=$=>{k.valueAccessor.setDisabledState($)};P.registerOnDisabledChange(D),k._registerOnDestroy(()=>{P._unregisterOnDisabledChange(D)})}}(P,k)}function xe(P,k){P.forEach(D=>{D.registerOnValidatorChange&&D.registerOnValidatorChange(k)})}function tt(P,k){const D=function gn(P){return P._rawValidators}(P);null!==k.validator?P.setValidators(At(D,k.validator)):"function"==typeof D&&P.setValidators([D]);const $=function Un(P){return P._rawAsyncValidators}(P);null!==k.asyncValidator?P.setAsyncValidators(At($,k.asyncValidator)):"function"==typeof $&&P.setAsyncValidators([$]);const ne=()=>P.updateValueAndValidity();xe(k._rawValidators,ne),xe(k._rawAsyncValidators,ne)}function Sn(P,k){P._pendingDirty&&P.markAsDirty(),P.setValue(P._pendingValue,{emitModelToViewChange:!1}),k.viewToModelUpdate(P._pendingValue),P._pendingChange=!1}const Gs={provide:Cn,useExisting:(0,u.Rfq)(()=>Ws)},fs=(()=>Promise.resolve())();let Ws=(()=>{class P extends Cn{constructor(D,$,ne){super(),this.callSetDisabledState=ne,this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.bkB,this.form=new Dt({},_t(D),kn($))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(D){fs.then(()=>{const $=this._findContainer(D.path);D.control=$.registerControl(D.name,D.control),Y(D.control,D,this.callSetDisabledState),D.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(D)})}getControl(D){return this.form.get(D.path)}removeControl(D){fs.then(()=>{const $=this._findContainer(D.path);$&&$.removeControl(D.name),this._directives.delete(D)})}addFormGroup(D){fs.then(()=>{const $=this._findContainer(D.path),ne=new Dt({});(function yn(P,k){tt(P,k)})(ne,D),$.registerControl(D.name,ne),ne.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(D){fs.then(()=>{const $=this._findContainer(D.path);$&&$.removeControl(D.name)})}getFormGroup(D){return this.form.get(D.path)}updateModel(D,$){fs.then(()=>{this.form.get(D.path).setValue($)})}setValue(D){this.control.setValue(D)}onSubmit(D){return this.submitted=!0,function En(P,k){P._syncPendingControls(),k.forEach(D=>{const $=D.control;"submit"===$.updateOn&&$._pendingChange&&(D.viewToModelUpdate($._pendingValue),$._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(D),"dialog"===D?.target?.method}onReset(){this.resetForm()}resetForm(D=void 0){this.form.reset(D),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(D){return D.pop(),D.length?this.form.get(D):this.form}static{this.\u0275fac=function($){return new($||P)(u.rXU(gt,10),u.rXU(Ae,10),u.rXU(On,8))}}static{this.\u0275dir=u.FsC({type:P,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function($,ne){1&$&&u.bIt("submit",function(Ht){return ne.onSubmit(Ht)})("reset",function(){return ne.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u.Jv_([Gs]),u.Vt3]})}}return P})();function Jr(P,k){const D=P.indexOf(k);D>-1&&P.splice(D,1)}function zr(P){return"object"==typeof P&&null!==P&&2===Object.keys(P).length&&"value"in P&&"disabled"in P}const xs=class extends et{constructor(k=null,D,$){super(hs(D),Pe($,D)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(k),this._setUpdateStrategy(D),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),W(D)&&(D.nonNullable||D.initialValueIsDefault)&&(this.defaultValue=zr(k)?k.value:k)}setValue(k,D={}){this.value=this._pendingValue=k,this._onChange.length&&!1!==D.emitModelToViewChange&&this._onChange.forEach($=>$(this.value,!1!==D.emitViewToModelChange)),this.updateValueAndValidity(D)}patchValue(k,D={}){this.setValue(k,D)}reset(k=this.defaultValue,D={}){this._applyFormState(k),this.markAsPristine(D),this.markAsUntouched(D),this.setValue(this.value,D),this._pendingChange=!1}_updateValue(){}_anyControls(k){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(k){this._onChange.push(k)}_unregisterOnChange(k){Jr(this._onChange,k)}registerOnDisabledChange(k){this._onDisabledChange.push(k)}_unregisterOnDisabledChange(k){Jr(this._onDisabledChange,k)}_forEachChild(k){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(k){zr(k)?(this.value=this._pendingValue=k.value,k.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=k}},si={provide:Kt,useExisting:(0,u.Rfq)(()=>ii)},Ii=(()=>Promise.resolve())();let ii=(()=>{class P extends Kt{constructor(D,$,ne,Et,Ht,Pr){super(),this._changeDetectorRef=Ht,this.callSetDisabledState=Pr,this.control=new xs,this._registered=!1,this.name="",this.update=new u.bkB,this._parent=D,this._setValidators($),this._setAsyncValidators(ne),this.valueAccessor=function Sr(P,k){if(!k)return null;let D,$,ne;return Array.isArray(k),k.forEach(Et=>{Et.constructor===ze?D=Et:function dr(P){return Object.getPrototypeOf(P.constructor)===je}(Et)?$=Et:ne=Et}),ne||$||D||null}(0,Et)}ngOnChanges(D){if(this._checkForErrors(),!this._registered||"name"in D){if(this._registered&&(this._checkName(),this.formDirective)){const $=D.name.previousValue;this.formDirective.removeControl({name:$,path:this._getPath($)})}this._setUpControl()}"isDisabled"in D&&this._updateDisabled(D),function br(P,k){if(!P.hasOwnProperty("model"))return!1;const D=P.model;return!!D.isFirstChange()||!Object.is(k,D.currentValue)}(D,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(D){this.viewModel=D,this.update.emit(D)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Y(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(D){Ii.then(()=>{this.control.setValue(D,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(D){const $=D.isDisabled.currentValue,ne=0!==$&&(0,u.L39)($);Ii.then(()=>{ne&&!this.control.disabled?this.control.disable():!ne&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(D){return this._parent?function ae(P,k){return[...k.path,P]}(D,this._parent):[D]}static{this.\u0275fac=function($){return new($||P)(u.rXU(Cn,9),u.rXU(gt,10),u.rXU(Ae,10),u.rXU(qe,10),u.rXU(u.gRc,8),u.rXU(On,8))}}static{this.\u0275dir=u.FsC({type:P,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u.Jv_([si]),u.Vt3,u.OA$]})}}return P})(),Ui=(()=>{class P{static{this.\u0275fac=function($){return new($||P)}}static{this.\u0275dir=u.FsC({type:P,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return P})();const oi={provide:qe,useExisting:(0,u.Rfq)(()=>Cs),multi:!0};let Ir=(()=>{class P{static{this.\u0275fac=function($){return new($||P)}}static{this.\u0275mod=u.$C({type:P})}static{this.\u0275inj=u.G2t({})}}return P})(),ai=(()=>{class P{constructor(){this._accessors=[]}add(D,$){this._accessors.push([D,$])}remove(D){for(let $=this._accessors.length-1;$>=0;--$)if(this._accessors[$][1]===D)return void this._accessors.splice($,1)}select(D){this._accessors.forEach($=>{this._isSameGroup($,D)&&$[1]!==D&&$[1].fireUncheck(D.value)})}_isSameGroup(D,$){return!!D[0].control&&D[0]._parent===$._control._parent&&D[1].name===$.name}static{this.\u0275fac=function($){return new($||P)}}static{this.\u0275prov=u.jDH({token:P,factory:P.\u0275fac,providedIn:Ir})}}return P})(),Cs=(()=>{class P extends je{constructor(D,$,ne,Et){super(D,$),this._registry=ne,this._injector=Et,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,u.WQX)(On,{optional:!0})??Ar}ngOnInit(){this._control=this._injector.get(Kt),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(D){this._state=D===this.value,this.setProperty("checked",this._state)}registerOnChange(D){this._fn=D,this.onChange=()=>{D(this.value),this._registry.select(this)}}setDisabledState(D){(this.setDisabledStateFired||D||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",D),this.setDisabledStateFired=!0}fireUncheck(D){this.writeValue(D)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function($){return new($||P)(u.rXU(u.sFG),u.rXU(u.aKT),u.rXU(ai),u.rXU(u.zZn))}}static{this.\u0275dir=u.FsC({type:P,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function($,ne){1&$&&u.bIt("change",function(){return ne.onChange()})("blur",function(){return ne.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[u.Jv_([oi]),u.Vt3]})}}return P})();const tn={provide:qe,useExisting:(0,u.Rfq)(()=>pn),multi:!0};function nt(P,k){return null==P?`${k}`:(k&&"object"==typeof k&&(k="Object"),`${P}: ${k}`.slice(0,50))}let pn=(()=>{class P extends je{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(D){this._compareWith=D}writeValue(D){this.value=D;const ne=nt(this._getOptionId(D),D);this.setProperty("value",ne)}registerOnChange(D){this.onChange=$=>{this.value=this._getOptionValue($),D(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(D){for(const $ of this._optionMap.keys())if(this._compareWith(this._optionMap.get($),D))return $;return null}_getOptionValue(D){const $=function Pt(P){return P.split(":")[0]}(D);return this._optionMap.has($)?this._optionMap.get($):D}static{this.\u0275fac=function(){let D;return function(ne){return(D||(D=u.xGo(P)))(ne||P)}}()}static{this.\u0275dir=u.FsC({type:P,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function($,ne){1&$&&u.bIt("change",function(Ht){return ne.onChange(Ht.target.value)})("blur",function(){return ne.onTouched()})},inputs:{compareWith:"compareWith"},features:[u.Jv_([tn]),u.Vt3]})}}return P})(),fr=(()=>{class P{constructor(D,$,ne){this._element=D,this._renderer=$,this._select=ne,this._select&&(this.id=this._select._registerOption())}set ngValue(D){null!=this._select&&(this._select._optionMap.set(this.id,D),this._setElementValue(nt(this.id,D)),this._select.writeValue(this._select.value))}set value(D){this._setElementValue(D),this._select&&this._select.writeValue(this._select.value)}_setElementValue(D){this._renderer.setProperty(this._element.nativeElement,"value",D)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function($){return new($||P)(u.rXU(u.aKT),u.rXU(u.sFG),u.rXU(pn,9))}}static{this.\u0275dir=u.FsC({type:P,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return P})();const Xs={provide:qe,useExisting:(0,u.Rfq)(()=>wr),multi:!0};function Bn(P,k){return null==P?`${k}`:("string"==typeof k&&(k=`'${k}'`),k&&"object"==typeof k&&(k="Object"),`${P}: ${k}`.slice(0,50))}let wr=(()=>{class P extends je{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(D){this._compareWith=D}writeValue(D){let $;if(this.value=D,Array.isArray(D)){const ne=D.map(Et=>this._getOptionId(Et));$=(Et,Ht)=>{Et._setSelected(ne.indexOf(Ht.toString())>-1)}}else $=(ne,Et)=>{ne._setSelected(!1)};this._optionMap.forEach($)}registerOnChange(D){this.onChange=$=>{const ne=[],Et=$.selectedOptions;if(void 0!==Et){const Ht=Et;for(let Pr=0;Pr<Ht.length;Pr++){const Kr=this._getOptionValue(Ht[Pr].value);ne.push(Kr)}}else{const Ht=$.options;for(let Pr=0;Pr<Ht.length;Pr++){const Ls=Ht[Pr];if(Ls.selected){const Kr=this._getOptionValue(Ls.value);ne.push(Kr)}}}this.value=ne,D(ne)}}_registerOption(D){const $=(this._idCounter++).toString();return this._optionMap.set($,D),$}_getOptionId(D){for(const $ of this._optionMap.keys())if(this._compareWith(this._optionMap.get($)._value,D))return $;return null}_getOptionValue(D){const $=function Zr(P){return P.split(":")[0]}(D);return this._optionMap.has($)?this._optionMap.get($)._value:D}static{this.\u0275fac=function(){let D;return function(ne){return(D||(D=u.xGo(P)))(ne||P)}}()}static{this.\u0275dir=u.FsC({type:P,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function($,ne){1&$&&u.bIt("change",function(Ht){return ne.onChange(Ht.target)})("blur",function(){return ne.onTouched()})},inputs:{compareWith:"compareWith"},features:[u.Jv_([Xs]),u.Vt3]})}}return P})(),Ns=(()=>{class P{constructor(D,$,ne){this._element=D,this._renderer=$,this._select=ne,this._select&&(this.id=this._select._registerOption(this))}set ngValue(D){null!=this._select&&(this._value=D,this._setElementValue(Bn(this.id,D)),this._select.writeValue(this._select.value))}set value(D){this._select?(this._value=D,this._setElementValue(Bn(this.id,D)),this._select.writeValue(this._select.value)):this._setElementValue(D)}_setElementValue(D){this._renderer.setProperty(this._element.nativeElement,"value",D)}_setSelected(D){this._renderer.setProperty(this._element.nativeElement,"selected",D)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function($){return new($||P)(u.rXU(u.aKT),u.rXU(u.sFG),u.rXU(wr,9))}}static{this.\u0275dir=u.FsC({type:P,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return P})();let es=(()=>{class P{constructor(){this._validator=Tn}ngOnChanges(D){if(this.inputName in D){const $=this.normalizeInput(D[this.inputName].currentValue);this._enabled=this.enabled($),this._validator=this._enabled?this.createValidator($):Tn,this._onChange&&this._onChange()}}validate(D){return this._validator(D)}registerOnValidatorChange(D){this._onChange=D}enabled(D){return null!=D}static{this.\u0275fac=function($){return new($||P)}}static{this.\u0275dir=u.FsC({type:P,features:[u.OA$]})}}return P})();const kr={provide:gt,useExisting:(0,u.Rfq)(()=>Ts),multi:!0};let Ts=(()=>{class P extends es{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=u.L39,this.createValidator=D=>Je}enabled(D){return D}static{this.\u0275fac=function(){let D;return function(ne){return(D||(D=u.xGo(P)))(ne||P)}}()}static{this.\u0275dir=u.FsC({type:P,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function($,ne){2&$&&u.BMQ("required",ne._enabled?"":null)},inputs:{required:"required"},features:[u.Jv_([kr]),u.Vt3]})}}return P})();const Ki={provide:gt,useExisting:(0,u.Rfq)(()=>ln),multi:!0};let ln=(()=>{class P extends es{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=D=>function kt(P){return"number"==typeof P?P:parseInt(P,10)}(D),this.createValidator=D=>function gr(P){return k=>function st(P){return null!=P&&"number"==typeof P.length}(k.value)&&k.value.length>P?{maxlength:{requiredLength:P,actualLength:k.value.length}}:null}(D)}static{this.\u0275fac=function(){let D;return function(ne){return(D||(D=u.xGo(P)))(ne||P)}}()}static{this.\u0275dir=u.FsC({type:P,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function($,ne){2&$&&u.BMQ("maxlength",ne._enabled?ne.maxlength:null)},inputs:{maxlength:"maxlength"},features:[u.Jv_([Ki]),u.Vt3]})}}return P})(),xn=(()=>{class P{static{this.\u0275fac=function($){return new($||P)}}static{this.\u0275mod=u.$C({type:P})}static{this.\u0275inj=u.G2t({imports:[Ir]})}}return P})(),ss=(()=>{class P{static withConfig(D){return{ngModule:P,providers:[{provide:On,useValue:D.callSetDisabledState??Ar}]}}static{this.\u0275fac=function($){return new($||P)}}static{this.\u0275mod=u.$C({type:P})}static{this.\u0275inj=u.G2t({imports:[xn]})}}return P})()},345:(ot,pe,F)=>{"use strict";F.d(pe,{$x:()=>ar,B7:()=>Tt,B8:()=>we,W8:()=>ir,hE:()=>Nr});var u=F(6276),G=F(177),E=F(1626);class ge extends G.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class re extends ge{static makeCurrent(){(0,G.ZD)(new re)}onAndCancel(ve,W,ie){return ve.addEventListener(W,ie),()=>{ve.removeEventListener(W,ie)}}dispatchEvent(ve,W){ve.dispatchEvent(W)}remove(ve){ve.parentNode&&ve.parentNode.removeChild(ve)}createElement(ve,W){return(W=W||this.getDefaultDocument()).createElement(ve)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ve){return ve.nodeType===Node.ELEMENT_NODE}isShadowRoot(ve){return ve instanceof DocumentFragment}getGlobalEventTarget(ve,W){return"window"===W?window:"document"===W?ve:"body"===W?ve.body:null}getBaseHref(ve){const W=function Q(){return H=H||document.querySelector("base"),H?H.getAttribute("href"):null}();return null==W?null:function he(Pe){ce=ce||document.createElement("a"),ce.setAttribute("href",Pe);const ve=ce.pathname;return"/"===ve.charAt(0)?ve:`/${ve}`}(W)}resetBaseElement(){H=null}getUserAgent(){return window.navigator.userAgent}getCookie(ve){return(0,G._b)(document.cookie,ve)}}let ce,H=null,oe=(()=>{class Pe{build(){return new XMLHttpRequest}static{this.\u0275fac=function(ie){return new(ie||Pe)}}static{this.\u0275prov=u.jDH({token:Pe,factory:Pe.\u0275fac})}}return Pe})();const Me=new u.nKC("EventManagerPlugins");let Ye=(()=>{class Pe{constructor(W,ie){this._zone=ie,this._eventNameToPlugin=new Map,W.forEach(Te=>{Te.manager=this}),this._plugins=W.slice().reverse()}addEventListener(W,ie,Te){return this._findPluginFor(ie).addEventListener(W,ie,Te)}getZone(){return this._zone}_findPluginFor(W){let ie=this._eventNameToPlugin.get(W);if(ie)return ie;if(ie=this._plugins.find(et=>et.supports(W)),!ie)throw new u.wOt(5101,!1);return this._eventNameToPlugin.set(W,ie),ie}static{this.\u0275fac=function(ie){return new(ie||Pe)(u.KVO(Me),u.KVO(u.SKi))}}static{this.\u0275prov=u.jDH({token:Pe,factory:Pe.\u0275fac})}}return Pe})();class je{constructor(ve){this._doc=ve}}const qe="ng-app-id";let Lt=(()=>{class Pe{constructor(W,ie,Te,et={}){this.doc=W,this.appId=ie,this.nonce=Te,this.platformId=et,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,G.Vy)(et),this.resetHostNodes()}addStyles(W){for(const ie of W)1===this.changeUsageCount(ie,1)&&this.onStyleAdded(ie)}removeStyles(W){for(const ie of W)this.changeUsageCount(ie,-1)<=0&&this.onStyleRemoved(ie)}ngOnDestroy(){const W=this.styleNodesInDOM;W&&(W.forEach(ie=>ie.remove()),W.clear());for(const ie of this.getAllStyles())this.onStyleRemoved(ie);this.resetHostNodes()}addHost(W){this.hostNodes.add(W);for(const ie of this.getAllStyles())this.addStyleToHost(W,ie)}removeHost(W){this.hostNodes.delete(W)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(W){for(const ie of this.hostNodes)this.addStyleToHost(ie,W)}onStyleRemoved(W){const ie=this.styleRef;ie.get(W)?.elements?.forEach(Te=>Te.remove()),ie.delete(W)}collectServerRenderedStyles(){const W=this.doc.head?.querySelectorAll(`style[${qe}="${this.appId}"]`);if(W?.length){const ie=new Map;return W.forEach(Te=>{null!=Te.textContent&&ie.set(Te.textContent,Te)}),ie}return null}changeUsageCount(W,ie){const Te=this.styleRef;if(Te.has(W)){const et=Te.get(W);return et.usage+=ie,et.usage}return Te.set(W,{usage:ie,elements:[]}),ie}getStyleElement(W,ie){const Te=this.styleNodesInDOM,et=Te?.get(ie);if(et?.parentNode===W)return Te.delete(ie),et.removeAttribute(qe),et;{const Dt=this.doc.createElement("style");return this.nonce&&Dt.setAttribute("nonce",this.nonce),Dt.textContent=ie,this.platformIsServer&&Dt.setAttribute(qe,this.appId),Dt}}addStyleToHost(W,ie){const Te=this.getStyleElement(W,ie);W.appendChild(Te);const et=this.styleRef,Dt=et.get(ie)?.elements;Dt?Dt.push(Te):et.set(ie,{elements:[Te],usage:1})}resetHostNodes(){const W=this.hostNodes;W.clear(),W.add(this.doc.head)}static{this.\u0275fac=function(ie){return new(ie||Pe)(u.KVO(G.qQ),u.KVO(u.sZ2),u.KVO(u.BIS,8),u.KVO(u.Agw))}}static{this.\u0275prov=u.jDH({token:Pe,factory:Pe.\u0275fac})}}return Pe})();const dt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},St=/%COMP%/g,st=new u.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Qe(Pe,ve){return ve.map(W=>W.replace(St,Pe))}let Tt=(()=>{class Pe{constructor(W,ie,Te,et,Dt,dn,zt,$n=null){this.eventManager=W,this.sharedStylesHost=ie,this.appId=Te,this.removeStylesOnCompDestroy=et,this.doc=Dt,this.platformId=dn,this.ngZone=zt,this.nonce=$n,this.rendererByCompId=new Map,this.platformIsServer=(0,G.Vy)(dn),this.defaultRenderer=new bt(W,Dt,zt,this.platformIsServer)}createRenderer(W,ie){if(!W||!ie)return this.defaultRenderer;this.platformIsServer&&ie.encapsulation===u.gXe.ShadowDom&&(ie={...ie,encapsulation:u.gXe.Emulated});const Te=this.getOrCreateRenderer(W,ie);return Te instanceof gr?Te.applyToHost(W):Te instanceof Nt&&Te.applyStyles(),Te}getOrCreateRenderer(W,ie){const Te=this.rendererByCompId;let et=Te.get(ie.id);if(!et){const Dt=this.doc,dn=this.ngZone,zt=this.eventManager,$n=this.sharedStylesHost,cr=this.removeStylesOnCompDestroy,On=this.platformIsServer;switch(ie.encapsulation){case u.gXe.Emulated:et=new gr(zt,$n,ie,this.appId,cr,Dt,dn,On);break;case u.gXe.ShadowDom:return new rt(zt,$n,W,ie,Dt,dn,this.nonce,On);default:et=new Nt(zt,$n,ie,cr,Dt,dn,On)}Te.set(ie.id,et)}return et}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(ie){return new(ie||Pe)(u.KVO(Ye),u.KVO(Lt),u.KVO(u.sZ2),u.KVO(st),u.KVO(G.qQ),u.KVO(u.Agw),u.KVO(u.SKi),u.KVO(u.BIS))}}static{this.\u0275prov=u.jDH({token:Pe,factory:Pe.\u0275fac})}}return Pe})();class bt{constructor(ve,W,ie,Te){this.eventManager=ve,this.doc=W,this.ngZone=ie,this.platformIsServer=Te,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ve,W){return W?this.doc.createElementNS(dt[W]||W,ve):this.doc.createElement(ve)}createComment(ve){return this.doc.createComment(ve)}createText(ve){return this.doc.createTextNode(ve)}appendChild(ve,W){(wt(ve)?ve.content:ve).appendChild(W)}insertBefore(ve,W,ie){ve&&(wt(ve)?ve.content:ve).insertBefore(W,ie)}removeChild(ve,W){ve&&ve.removeChild(W)}selectRootElement(ve,W){let ie="string"==typeof ve?this.doc.querySelector(ve):ve;if(!ie)throw new u.wOt(-5104,!1);return W||(ie.textContent=""),ie}parentNode(ve){return ve.parentNode}nextSibling(ve){return ve.nextSibling}setAttribute(ve,W,ie,Te){if(Te){W=Te+":"+W;const et=dt[Te];et?ve.setAttributeNS(et,W,ie):ve.setAttribute(W,ie)}else ve.setAttribute(W,ie)}removeAttribute(ve,W,ie){if(ie){const Te=dt[ie];Te?ve.removeAttributeNS(Te,W):ve.removeAttribute(`${ie}:${W}`)}else ve.removeAttribute(W)}addClass(ve,W){ve.classList.add(W)}removeClass(ve,W){ve.classList.remove(W)}setStyle(ve,W,ie,Te){Te&(u.czy.DashCase|u.czy.Important)?ve.style.setProperty(W,ie,Te&u.czy.Important?"important":""):ve.style[W]=ie}removeStyle(ve,W,ie){ie&u.czy.DashCase?ve.style.removeProperty(W):ve.style[W]=""}setProperty(ve,W,ie){ve[W]=ie}setValue(ve,W){ve.nodeValue=W}listen(ve,W,ie){if("string"==typeof ve&&!(ve=(0,G.QT)().getGlobalEventTarget(this.doc,ve)))throw new Error(`Unsupported event target ${ve} for event ${W}`);return this.eventManager.addEventListener(ve,W,this.decoratePreventDefault(ie))}decoratePreventDefault(ve){return W=>{if("__ngUnwrap__"===W)return ve;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>ve(W)):ve(W))&&W.preventDefault()}}}function wt(Pe){return"TEMPLATE"===Pe.tagName&&void 0!==Pe.content}class rt extends bt{constructor(ve,W,ie,Te,et,Dt,dn,zt){super(ve,et,Dt,zt),this.sharedStylesHost=W,this.hostEl=ie,this.shadowRoot=ie.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const $n=Qe(Te.id,Te.styles);for(const cr of $n){const On=document.createElement("style");dn&&On.setAttribute("nonce",dn),On.textContent=cr,this.shadowRoot.appendChild(On)}}nodeOrShadowRoot(ve){return ve===this.hostEl?this.shadowRoot:ve}appendChild(ve,W){return super.appendChild(this.nodeOrShadowRoot(ve),W)}insertBefore(ve,W,ie){return super.insertBefore(this.nodeOrShadowRoot(ve),W,ie)}removeChild(ve,W){return super.removeChild(this.nodeOrShadowRoot(ve),W)}parentNode(ve){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ve)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Nt extends bt{constructor(ve,W,ie,Te,et,Dt,dn,zt){super(ve,et,Dt,dn),this.sharedStylesHost=W,this.removeStylesOnCompDestroy=Te,this.styles=zt?Qe(zt,ie.styles):ie.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class gr extends Nt{constructor(ve,W,ie,Te,et,Dt,dn,zt){const $n=Te+"-"+ie.id;super(ve,W,ie,et,Dt,dn,zt,$n),this.contentAttr=function gt(Pe){return"_ngcontent-%COMP%".replace(St,Pe)}($n),this.hostAttr=function Ae(Pe){return"_nghost-%COMP%".replace(St,Pe)}($n)}applyToHost(ve){this.applyStyles(),this.setAttribute(ve,this.hostAttr,"")}createElement(ve,W){const ie=super.createElement(ve,W);return super.setAttribute(ie,this.contentAttr,""),ie}}let sr=(()=>{class Pe extends je{constructor(W){super(W)}supports(W){return!0}addEventListener(W,ie,Te){return W.addEventListener(ie,Te,!1),()=>this.removeEventListener(W,ie,Te)}removeEventListener(W,ie,Te){return W.removeEventListener(ie,Te)}static{this.\u0275fac=function(ie){return new(ie||Pe)(u.KVO(G.qQ))}}static{this.\u0275prov=u.jDH({token:Pe,factory:Pe.\u0275fac})}}return Pe})();const Tn=["alt","control","meta","shift"],$t={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},le={alt:Pe=>Pe.altKey,control:Pe=>Pe.ctrlKey,meta:Pe=>Pe.metaKey,shift:Pe=>Pe.shiftKey};let ye=(()=>{class Pe extends je{constructor(W){super(W)}supports(W){return null!=Pe.parseEventName(W)}addEventListener(W,ie,Te){const et=Pe.parseEventName(ie),Dt=Pe.eventCallback(et.fullKey,Te,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,G.QT)().onAndCancel(W,et.domEventName,Dt))}static parseEventName(W){const ie=W.toLowerCase().split("."),Te=ie.shift();if(0===ie.length||"keydown"!==Te&&"keyup"!==Te)return null;const et=Pe._normalizeKey(ie.pop());let Dt="",dn=ie.indexOf("code");if(dn>-1&&(ie.splice(dn,1),Dt="code."),Tn.forEach($n=>{const cr=ie.indexOf($n);cr>-1&&(ie.splice(cr,1),Dt+=$n+".")}),Dt+=et,0!=ie.length||0===et.length)return null;const zt={};return zt.domEventName=Te,zt.fullKey=Dt,zt}static matchEventFullKeyCode(W,ie){let Te=$t[W.key]||W.key,et="";return ie.indexOf("code.")>-1&&(Te=W.code,et="code."),!(null==Te||!Te)&&(Te=Te.toLowerCase()," "===Te?Te="space":"."===Te&&(Te="dot"),Tn.forEach(Dt=>{Dt!==Te&&(0,le[Dt])(W)&&(et+=Dt+".")}),et+=Te,et===ie)}static eventCallback(W,ie,Te){return et=>{Pe.matchEventFullKeyCode(et,W)&&Te.runGuarded(()=>ie(et))}}static _normalizeKey(W){return"esc"===W?"escape":W}static{this.\u0275fac=function(ie){return new(ie||Pe)(u.KVO(G.qQ))}}static{this.\u0275prov=u.jDH({token:Pe,factory:Pe.\u0275fac})}}return Pe})();function we(Pe,ve){return(0,u.TL3)({rootComponent:Pe,...$e(ve)})}function $e(Pe){return{appProviders:[...Ct,...Pe?.providers??[]],platformProviders:At}}const At=[{provide:u.Agw,useValue:G.AJ},{provide:u.PLl,useValue:function _t(){re.makeCurrent()},multi:!0},{provide:G.qQ,useFactory:function kn(){return(0,u.TL$)(document),document},deps:[]}],Ct=[{provide:u.H8p,useValue:"root"},{provide:u.zcH,useFactory:function un(){return new u.zcH},deps:[]},{provide:Me,useClass:sr,multi:!0,deps:[G.qQ,u.SKi,u.Agw]},{provide:Me,useClass:ye,multi:!0,deps:[G.qQ]},Tt,Lt,Ye,{provide:u._9s,useExisting:Tt},{provide:G.N0,useClass:oe,deps:[]},[]];let ir=(()=>{class Pe{constructor(W){this._doc=W,this._dom=(0,G.QT)()}addTag(W,ie=!1){return W?this._getOrCreateElement(W,ie):null}addTags(W,ie=!1){return W?W.reduce((Te,et)=>(et&&Te.push(this._getOrCreateElement(et,ie)),Te),[]):[]}getTag(W){return W&&this._doc.querySelector(`meta[${W}]`)||null}getTags(W){if(!W)return[];const ie=this._doc.querySelectorAll(`meta[${W}]`);return ie?[].slice.call(ie):[]}updateTag(W,ie){if(!W)return null;ie=ie||this._parseSelector(W);const Te=this.getTag(ie);return Te?this._setMetaElementAttributes(W,Te):this._getOrCreateElement(W,!0)}removeTag(W){this.removeTagElement(this.getTag(W))}removeTagElement(W){W&&this._dom.remove(W)}_getOrCreateElement(W,ie=!1){if(!ie){const Dt=this._parseSelector(W),dn=this.getTags(Dt).filter(zt=>this._containsAttributes(W,zt))[0];if(void 0!==dn)return dn}const Te=this._dom.createElement("meta");return this._setMetaElementAttributes(W,Te),this._doc.getElementsByTagName("head")[0].appendChild(Te),Te}_setMetaElementAttributes(W,ie){return Object.keys(W).forEach(Te=>ie.setAttribute(this._getMetaKeyMap(Te),W[Te])),ie}_parseSelector(W){const ie=W.name?"name":"property";return`${ie}="${W[ie]}"`}_containsAttributes(W,ie){return Object.keys(W).every(Te=>ie.getAttribute(this._getMetaKeyMap(Te))===W[Te])}_getMetaKeyMap(W){return Cn[W]||W}static{this.\u0275fac=function(ie){return new(ie||Pe)(u.KVO(G.qQ))}}static{this.\u0275prov=u.jDH({token:Pe,factory:function(ie){let Te=null;return Te=ie?new ie:function ht(){return new ir((0,u.KVO)(G.qQ))}(),Te},providedIn:"root"})}}return Pe})();const Cn={httpEquiv:"http-equiv"};let Nr=(()=>{class Pe{constructor(W){this._doc=W}getTitle(){return this._doc.title}setTitle(W){this._doc.title=W||""}static{this.\u0275fac=function(ie){return new(ie||Pe)(u.KVO(G.qQ))}}static{this.\u0275prov=u.jDH({token:Pe,factory:function(ie){let Te=null;return Te=ie?new ie:function Kt(){return new Nr((0,u.KVO)(G.qQ))}(),Te},providedIn:"root"})}}return Pe})();function ar(...Pe){const ve=[],W=new Set;for(const{\u0275providers:ie,\u0275kind:Te}of Pe)W.add(Te),ie.length&&ve.push(ie);return(0,u.EmA)([[],W.has(0)?[]:(0,u.M8M)(),W.has(1)?[]:(0,E.$m)(),ve])}typeof window<"u"&&window},8435:(ot,pe,F)=>{"use strict";F.d(pe,{nX:()=>lt,Ix:()=>V,Wk:()=>fe,wQ:()=>De,iI:()=>_n,n3:()=>fr,lh:()=>m});var u=F(6276),G=F(1985),E=F(8071),re=F(6648),H=F(7673),Q=F(4412),ce=F(3073),he=F(3669),me=F(6450),oe=F(9326),Me=F(8496),Ye=F(4360),je=F(5225);function qe(...g){const w=(0,oe.lI)(g),f=(0,oe.ms)(g),{args:C,keys:I}=(0,ce.D)(g);if(0===C.length)return(0,re.H)([],w);const U=new G.c(function Lt(g,w,f=he.D){return C=>{dt(w,()=>{const{length:I}=g,U=new Array(I);let X=I,Ee=I;for(let _e=0;_e<I;_e++)dt(w,()=>{const ct=(0,re.H)(g[_e],w);let Wt=!1;ct.subscribe((0,Ye._)(C,zn=>{U[_e]=zn,Wt||(Wt=!0,Ee--),Ee||C.next(f(U.slice()))},()=>{--X||C.complete()}))},C)},C)}}(C,w,I?X=>(0,Me.e)(I,X):he.D));return f?U.pipe((0,me.I)(f)):U}function dt(g,w,f){g?(0,je.N)(f,g,w):w()}var St=F(9350),Ze=F(8793),fn=F(8750);function ze(g){return new G.c(w=>{(0,fn.Tg)(g()).subscribe(w)})}var He=F(1203),st=F(8810),gt=F(983),Ae=F(8359),Qe=F(9974);function Tt(){return(0,Qe.N)((g,w)=>{let f=null;g._refCount++;const C=(0,Ye._)(w,void 0,void 0,void 0,()=>{if(!g||g._refCount<=0||0<--g._refCount)return void(f=null);const I=g._connection,U=f;f=null,I&&(!U||I===U)&&I.unsubscribe(),w.unsubscribe()});g.subscribe(C),C.closed||(f=g.connect())})}class bt extends G.c{constructor(w,f){super(),this.source=w,this.subjectFactory=f,this._subject=null,this._refCount=0,this._connection=null,(0,Qe.S)(w)&&(this.lift=w.lift)}_subscribe(w){return this.getSubject().subscribe(w)}getSubject(){const w=this._subject;return(!w||w.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:w}=this;this._subject=this._connection=null,w?.unsubscribe()}connect(){let w=this._connection;if(!w){w=this._connection=new Ae.yU;const f=this.getSubject();w.add(this.source.subscribe((0,Ye._)(f,void 0,()=>{this._teardown(),f.complete()},C=>{this._teardown(),f.error(C)},()=>this._teardown()))),w.closed&&(this._connection=null,w=Ae.yU.EMPTY)}return w}refCount(){return Tt()(this)}}var bn=F(1413),Je=F(177),wt=F(6354),rt=F(5558),Nt=F(6697),gr=F(9172),sr=F(5964),Tn=F(1397),$t=F(1594),le=F(274),ye=F(8141),we=F(9437);var Xe=F(9901);function _t(g){return g<=0?()=>gt.w:(0,Qe.N)((w,f)=>{let C=[];w.subscribe((0,Ye._)(f,I=>{C.push(I),g<C.length&&C.shift()},()=>{for(const I of C)f.next(I);f.complete()},void 0,()=>{C=null}))})}var un=F(3774),gn=F(980),Un=F(5343),Ct=F(6365),at=F(345);const ht="primary",ir=Symbol("RouteTitle");class Cn{constructor(w){this.params=w||{}}has(w){return Object.prototype.hasOwnProperty.call(this.params,w)}get(w){if(this.has(w)){const f=this.params[w];return Array.isArray(f)?f[0]:f}return null}getAll(w){if(this.has(w)){const f=this.params[w];return Array.isArray(f)?f:[f]}return[]}get keys(){return Object.keys(this.params)}}function Kt(g){return new Cn(g)}function Nr(g,w,f){const C=f.path.split("/");if(C.length>g.length||"full"===f.pathMatch&&(w.hasChildren()||C.length<g.length))return null;const I={};for(let U=0;U<C.length;U++){const X=C[U],Ee=g[U];if(X.startsWith(":"))I[X.substring(1)]=Ee;else if(X!==Ee.path)return null}return{consumed:g.slice(0,C.length),posParams:I}}function mn(g,w){const f=g?Object.keys(g):void 0,C=w?Object.keys(w):void 0;if(!f||!C||f.length!=C.length)return!1;let I;for(let U=0;U<f.length;U++)if(I=f[U],!Jt(g[I],w[I]))return!1;return!0}function Jt(g,w){if(Array.isArray(g)&&Array.isArray(w)){if(g.length!==w.length)return!1;const f=[...g].sort(),C=[...w].sort();return f.every((I,U)=>C[U]===I)}return g===w}function qt(g){return g.length>0?g[g.length-1]:null}function qn(g){return function ge(g){return!!g&&(g instanceof G.c||(0,E.T)(g.lift)&&(0,E.T)(g.subscribe))}(g)?g:(0,u.jNT)(g)?(0,re.H)(Promise.resolve(g)):(0,H.of)(g)}const Yt={exact:function Os(g,w,f){if(!tr(g.segments,w.segments)||!Fn(g.segments,w.segments,f)||g.numberOfChildren!==w.numberOfChildren)return!1;for(const C in w.children)if(!g.children[C]||!Os(g.children[C],w.children[C],f))return!1;return!0},subset:Tr},vr={exact:function mr(g,w){return mn(g,w)},subset:function yt(g,w){return Object.keys(w).length<=Object.keys(g).length&&Object.keys(w).every(f=>Jt(g[f],w[f]))},ignored:()=>!0};function Er(g,w,f){return Yt[f.paths](g.root,w.root,f.matrixParams)&&vr[f.queryParams](g.queryParams,w.queryParams)&&!("exact"===f.fragment&&g.fragment!==w.fragment)}function Tr(g,w,f){return cn(g,w,w.segments,f)}function cn(g,w,f,C){if(g.segments.length>f.length){const I=g.segments.slice(0,f.length);return!(!tr(I,f)||w.hasChildren()||!Fn(I,f,C))}if(g.segments.length===f.length){if(!tr(g.segments,f)||!Fn(g.segments,f,C))return!1;for(const I in w.children)if(!g.children[I]||!Tr(g.children[I],w.children[I],C))return!1;return!0}{const I=f.slice(0,g.segments.length),U=f.slice(g.segments.length);return!!(tr(g.segments,I)&&Fn(g.segments,I,C)&&g.children[ht])&&cn(g.children[ht],w,U,C)}}function Fn(g,w,f){return w.every((C,I)=>vr[f](g[I].parameters,C.parameters))}class _r{constructor(w=new on([],{}),f={},C=null){this.root=w,this.queryParams=f,this.fragment=C}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Kt(this.queryParams)),this._queryParamMap}toString(){return Qr.serialize(this)}}class on{constructor(w,f){this.segments=w,this.children=f,this.parent=null,Object.values(f).forEach(C=>C.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ar(this)}}class jt{constructor(w,f){this.path=w,this.parameters=f}get parameterMap(){return this._parameterMap||(this._parameterMap=Kt(this.parameters)),this._parameterMap}toString(){return Te(this)}}function tr(g,w){return g.length===w.length&&g.every((f,C)=>f.path===w[C].path)}let or=(()=>{class g{static{this.\u0275fac=function(C){return new(C||g)}}static{this.\u0275prov=u.jDH({token:g,factory:function(){return new Ln},providedIn:"root"})}}return g})();class Ln{parse(w){const f=new ee(w);return new _r(f.parseRootSegment(),f.parseQueryParams(),f.parseFragment())}serialize(w){const f=`/${Lr(w.root,!0)}`,C=function Dt(g){const w=Object.keys(g).map(f=>{const C=g[f];return Array.isArray(C)?C.map(I=>`${Ps(f)}=${Ps(I)}`).join("&"):`${Ps(f)}=${Ps(C)}`}).filter(f=>!!f);return w.length?`?${w.join("&")}`:""}(w.queryParams);return`${f}${C}${"string"==typeof w.fragment?`#${function Pe(g){return encodeURI(g)}(w.fragment)}`:""}`}}const Qr=new Ln;function ar(g){return g.segments.map(w=>Te(w)).join("/")}function Lr(g,w){if(!g.hasChildren())return ar(g);if(w){const f=g.children[ht]?Lr(g.children[ht],!1):"",C=[];return Object.entries(g.children).forEach(([I,U])=>{I!==ht&&C.push(`${I}:${Lr(U,!1)}`)}),C.length>0?`${f}(${C.join("//")})`:f}{const f=function Ot(g,w){let f=[];return Object.entries(g.children).forEach(([C,I])=>{C===ht&&(f=f.concat(w(I,C)))}),Object.entries(g.children).forEach(([C,I])=>{C!==ht&&(f=f.concat(w(I,C)))}),f}(g,(C,I)=>I===ht?[Lr(g.children[ht],!1)]:[`${I}:${Lr(C,!1)}`]);return 1===Object.keys(g.children).length&&null!=g.children[ht]?`${ar(g)}/${f[0]}`:`${ar(g)}/(${f.join("//")})`}}function hs(g){return encodeURIComponent(g).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ps(g){return hs(g).replace(/%3B/gi,";")}function ve(g){return hs(g).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function W(g){return decodeURIComponent(g)}function ie(g){return W(g.replace(/\+/g,"%20"))}function Te(g){return`${ve(g.path)}${function et(g){return Object.keys(g).map(w=>`;${ve(w)}=${ve(g[w])}`).join("")}(g.parameters)}`}const dn=/^[^\/()?;#]+/;function zt(g){const w=g.match(dn);return w?w[0]:""}const $n=/^[^\/()?;=#]+/,On=/^[^=?&#]+/,ae=/^[^&#]+/;class ee{constructor(w){this.url=w,this.remaining=w}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new on([],{}):new on([],this.parseChildren())}parseQueryParams(){const w={};if(this.consumeOptional("?"))do{this.parseQueryParam(w)}while(this.consumeOptional("&"));return w}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const w=[];for(this.peekStartsWith("(")||w.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),w.push(this.parseSegment());let f={};this.peekStartsWith("/(")&&(this.capture("/"),f=this.parseParens(!0));let C={};return this.peekStartsWith("(")&&(C=this.parseParens(!1)),(w.length>0||Object.keys(f).length>0)&&(C[ht]=new on(w,f)),C}parseSegment(){const w=zt(this.remaining);if(""===w&&this.peekStartsWith(";"))throw new u.wOt(4009,!1);return this.capture(w),new jt(W(w),this.parseMatrixParams())}parseMatrixParams(){const w={};for(;this.consumeOptional(";");)this.parseParam(w);return w}parseParam(w){const f=function cr(g){const w=g.match($n);return w?w[0]:""}(this.remaining);if(!f)return;this.capture(f);let C="";if(this.consumeOptional("=")){const I=zt(this.remaining);I&&(C=I,this.capture(C))}w[W(f)]=W(C)}parseQueryParam(w){const f=function Ar(g){const w=g.match(On);return w?w[0]:""}(this.remaining);if(!f)return;this.capture(f);let C="";if(this.consumeOptional("=")){const X=function Y(g){const w=g.match(ae);return w?w[0]:""}(this.remaining);X&&(C=X,this.capture(C))}const I=ie(f),U=ie(C);if(w.hasOwnProperty(I)){let X=w[I];Array.isArray(X)||(X=[X],w[I]=X),X.push(U)}else w[I]=U}parseParens(w){const f={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const C=zt(this.remaining),I=this.remaining[C.length];if("/"!==I&&")"!==I&&";"!==I)throw new u.wOt(4010,!1);let U;C.indexOf(":")>-1?(U=C.slice(0,C.indexOf(":")),this.capture(U),this.capture(":")):w&&(U=ht);const X=this.parseChildren();f[U]=1===Object.keys(X).length?X[ht]:new on([],X),this.consumeOptional("//")}return f}peekStartsWith(w){return this.remaining.startsWith(w)}consumeOptional(w){return!!this.peekStartsWith(w)&&(this.remaining=this.remaining.substring(w.length),!0)}capture(w){if(!this.consumeOptional(w))throw new u.wOt(4011,!1)}}function xe(g){return g.segments.length>0?new on([],{[ht]:g}):g}function Ne(g){const w={};for(const C of Object.keys(g.children)){const U=Ne(g.children[C]);if(C===ht&&0===U.segments.length&&U.hasChildren())for(const[X,Ee]of Object.entries(U.children))w[X]=Ee;else(U.segments.length>0||U.hasChildren())&&(w[C]=U)}return function tt(g){if(1===g.numberOfChildren&&g.children[ht]){const w=g.children[ht];return new on(g.segments.concat(w.segments),w.children)}return g}(new on(g.segments,w))}function Be(g){return g instanceof _r}function It(g){let w;const I=xe(function f(U){const X={};for(const _e of U.children){const ct=f(_e);X[_e.outlet]=ct}const Ee=new on(U.url,X);return U===g&&(w=Ee),Ee}(g.root));return w??I}function Sn(g,w,f,C){let I=g;for(;I.parent;)I=I.parent;if(0===w.length)return Gn(I,I,I,f,C);const U=function mt(g){if("string"==typeof g[0]&&1===g.length&&"/"===g[0])return new ur(!0,0,g);let w=0,f=!1;const C=g.reduce((I,U,X)=>{if("object"==typeof U&&null!=U){if(U.outlets){const Ee={};return Object.entries(U.outlets).forEach(([_e,ct])=>{Ee[_e]="string"==typeof ct?ct.split("/"):ct}),[...I,{outlets:Ee}]}if(U.segmentPath)return[...I,U.segmentPath]}return"string"!=typeof U?[...I,U]:0===X?(U.split("/").forEach((Ee,_e)=>{0==_e&&"."===Ee||(0==_e&&""===Ee?f=!0:".."===Ee?w++:""!=Ee&&I.push(Ee))}),I):[...I,U]},[]);return new ur(f,w,C)}(w);if(U.toRoot())return Gn(I,I,new on([],{}),f,C);const X=function Hr(g,w,f){if(g.isAbsolute)return new hn(w,!0,0);if(!f)return new hn(w,!1,NaN);if(null===f.parent)return new hn(f,!0,0);const C=lr(g.commands[0])?0:1;return function br(g,w,f){let C=g,I=w,U=f;for(;U>I;){if(U-=I,C=C.parent,!C)throw new u.wOt(4005,!1);I=C.segments.length}return new hn(C,!1,I-U)}(f,f.segments.length-1+C,g.numberOfDoubleDots)}(U,I,g),Ee=X.processChildren?Sr(X.segmentGroup,X.index,U.commands):En(X.segmentGroup,X.index,U.commands);return Gn(I,X.segmentGroup,Ee,f,C)}function lr(g){return"object"==typeof g&&null!=g&&!g.outlets&&!g.segmentPath}function yn(g){return"object"==typeof g&&null!=g&&g.outlets}function Gn(g,w,f,C,I){let X,U={};C&&Object.entries(C).forEach(([_e,ct])=>{U[_e]=Array.isArray(ct)?ct.map(Wt=>`${Wt}`):`${ct}`}),X=g===w?f:Dr(g,w,f);const Ee=xe(Ne(X));return new _r(Ee,U,I)}function Dr(g,w,f){const C={};return Object.entries(g.children).forEach(([I,U])=>{C[I]=U===w?f:Dr(U,w,f)}),new on(g.segments,C)}class ur{constructor(w,f,C){if(this.isAbsolute=w,this.numberOfDoubleDots=f,this.commands=C,w&&C.length>0&&lr(C[0]))throw new u.wOt(4003,!1);const I=C.find(yn);if(I&&I!==qt(C))throw new u.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class hn{constructor(w,f,C){this.segmentGroup=w,this.processChildren=f,this.index=C}}function En(g,w,f){if(g||(g=new on([],{})),0===g.segments.length&&g.hasChildren())return Sr(g,w,f);const C=function hr(g,w,f){let C=0,I=w;const U={match:!1,pathIndex:0,commandIndex:0};for(;I<g.segments.length;){if(C>=f.length)return U;const X=g.segments[I],Ee=f[C];if(yn(Ee))break;const _e=`${Ee}`,ct=C<f.length-1?f[C+1]:null;if(I>0&&void 0===_e)break;if(_e&&ct&&"object"==typeof ct&&void 0===ct.outlets){if(!Ws(_e,ct,X))return U;C+=2}else{if(!Ws(_e,{},X))return U;C++}I++}return{match:!0,pathIndex:I,commandIndex:C}}(g,w,f),I=f.slice(C.commandIndex);if(C.match&&C.pathIndex<g.segments.length){const U=new on(g.segments.slice(0,C.pathIndex),{});return U.children[ht]=new on(g.segments.slice(C.pathIndex),g.children),Sr(U,0,I)}return C.match&&0===I.length?new on(g.segments,{}):C.match&&!g.hasChildren()?Rs(g,w,f):C.match?Sr(g,0,I):Rs(g,w,f)}function Sr(g,w,f){if(0===f.length)return new on(g.segments,{});{const C=function dr(g){return yn(g[0])?g[0].outlets:{[ht]:g}}(f),I={};if(Object.keys(C).some(U=>U!==ht)&&g.children[ht]&&1===g.numberOfChildren&&0===g.children[ht].segments.length){const U=Sr(g.children[ht],w,f);return new on(g.segments,U.children)}return Object.entries(C).forEach(([U,X])=>{"string"==typeof X&&(X=[X]),null!==X&&(I[U]=En(g.children[U],w,X))}),Object.entries(g.children).forEach(([U,X])=>{void 0===C[U]&&(I[U]=X)}),new on(g.segments,I)}}function Rs(g,w,f){const C=g.segments.slice(0,w);let I=0;for(;I<f.length;){const U=f[I];if(yn(U)){const _e=Gs(U.outlets);return new on(C,_e)}if(0===I&&lr(f[0])){C.push(new jt(g.segments[w].path,fs(f[0]))),I++;continue}const X=yn(U)?U.outlets[ht]:`${U}`,Ee=I<f.length-1?f[I+1]:null;X&&Ee&&lr(Ee)?(C.push(new jt(X,fs(Ee))),I+=2):(C.push(new jt(X,{})),I++)}return new on(C,{})}function Gs(g){const w={};return Object.entries(g).forEach(([f,C])=>{"string"==typeof C&&(C=[C]),null!==C&&(w[f]=Rs(new on([],{}),0,C))}),w}function fs(g){const w={};return Object.entries(g).forEach(([f,C])=>w[f]=`${C}`),w}function Ws(g,w,f){return g==f.path&&mn(w,f.parameters)}const Jr="imperative";class zr{constructor(w,f){this.id=w,this.url=f}}class xs extends zr{constructor(w,f,C="imperative",I=null){super(w,f),this.type=0,this.navigationTrigger=C,this.restoredState=I}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Gr extends zr{constructor(w,f,C){super(w,f),this.urlAfterRedirects=C,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class jr extends zr{constructor(w,f,C,I){super(w,f),this.reason=C,this.code=I,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ks extends zr{constructor(w,f,C,I){super(w,f),this.reason=C,this.code=I,this.type=16}}class Si extends zr{constructor(w,f,C,I){super(w,f),this.error=C,this.target=I,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Pn extends zr{constructor(w,f,C,I){super(w,f),this.urlAfterRedirects=C,this.state=I,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mi extends zr{constructor(w,f,C,I){super(w,f),this.urlAfterRedirects=C,this.state=I,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mi extends zr{constructor(w,f,C,I,U){super(w,f),this.urlAfterRedirects=C,this.state=I,this.shouldActivate=U,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ti extends zr{constructor(w,f,C,I){super(w,f),this.urlAfterRedirects=C,this.state=I,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ai extends zr{constructor(w,f,C,I){super(w,f),this.urlAfterRedirects=C,this.state=I,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class si{constructor(w){this.route=w,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ii{constructor(w){this.route=w,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ii{constructor(w){this.snapshot=w,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ui{constructor(w){this.snapshot=w,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $i{constructor(w){this.snapshot=w,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oi{constructor(w){this.snapshot=w,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oi{constructor(w,f,C){this.routerEvent=w,this.position=f,this.anchor=C,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ws{}class Ir{constructor(w){this.url=w}}class Cs{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ps,this.attachRef=null}}let ps=(()=>{class g{constructor(){this.contexts=new Map}onChildOutletCreated(f,C){const I=this.getOrCreateContext(f);I.outlet=C,this.contexts.set(f,I)}onChildOutletDestroyed(f){const C=this.getContext(f);C&&(C.outlet=null,C.attachRef=null)}onOutletDeactivated(){const f=this.contexts;return this.contexts=new Map,f}onOutletReAttached(f){this.contexts=f}getOrCreateContext(f){let C=this.getContext(f);return C||(C=new Cs,this.contexts.set(f,C)),C}getContext(f){return this.contexts.get(f)||null}static{this.\u0275fac=function(C){return new(C||g)}}static{this.\u0275prov=u.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();class yi{constructor(w){this._root=w}get root(){return this._root.value}parent(w){const f=this.pathFromRoot(w);return f.length>1?f[f.length-2]:null}children(w){const f=qs(w,this._root);return f?f.children.map(C=>C.value):[]}firstChild(w){const f=qs(w,this._root);return f&&f.children.length>0?f.children[0].value:null}siblings(w){const f=vi(w,this._root);return f.length<2?[]:f[f.length-2].children.map(I=>I.value).filter(I=>I!==w)}pathFromRoot(w){return vi(w,this._root).map(f=>f.value)}}function qs(g,w){if(g===w.value)return w;for(const f of w.children){const C=qs(g,f);if(C)return C}return null}function vi(g,w){if(g===w.value)return[w];for(const f of w.children){const C=vi(g,f);if(C.length)return C.unshift(w),C}return[]}class Vt{constructor(w,f){this.value=w,this.children=f}toString(){return`TreeNode(${this.value})`}}function jn(g){const w={};return g&&g.children.forEach(f=>w[f.value.outlet]=f),w}class Xn extends yi{constructor(w,f){super(w),this.snapshot=f,tn(this,w)}toString(){return this.snapshot.toString()}}function Es(g,w){const f=function Rn(g,w){const X=new Vr([],{},{},"",{},ht,w,null,{});return new Ur("",new Vt(X,[]))}(0,w),C=new Q.t([new jt("",{})]),I=new Q.t({}),U=new Q.t({}),X=new Q.t({}),Ee=new Q.t(""),_e=new lt(C,I,X,Ee,U,ht,w,f.root);return _e.snapshot=f.root,new Xn(new Vt(_e,[]),f)}class lt{constructor(w,f,C,I,U,X,Ee,_e){this.urlSubject=w,this.paramsSubject=f,this.queryParamsSubject=C,this.fragmentSubject=I,this.dataSubject=U,this.outlet=X,this.component=Ee,this._futureSnapshot=_e,this.title=this.dataSubject?.pipe((0,wt.T)(ct=>ct[ir]))??(0,H.of)(void 0),this.url=w,this.params=f,this.queryParams=C,this.fragment=I,this.data=U}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,wt.T)(w=>Kt(w)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,wt.T)(w=>Kt(w)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Yr(g,w="emptyOnly"){const f=g.pathFromRoot;let C=0;if("always"!==w)for(C=f.length-1;C>=1;){const I=f[C],U=f[C-1];if(I.routeConfig&&""===I.routeConfig.path)C--;else{if(U.component)break;C--}}return function li(g){return g.reduce((w,f)=>({params:{...w.params,...f.params},data:{...w.data,...f.data},resolve:{...f.data,...w.resolve,...f.routeConfig?.data,...f._resolvedData}}),{params:{},data:{},resolve:{}})}(f.slice(C))}class Vr{get title(){return this.data?.[ir]}constructor(w,f,C,I,U,X,Ee,_e,ct){this.url=w,this.params=f,this.queryParams=C,this.fragment=I,this.data=U,this.outlet=X,this.component=Ee,this.routeConfig=_e,this._resolve=ct}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Kt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Kt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(C=>C.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ur extends yi{constructor(w,f){super(f),this.url=w,tn(this,f)}toString(){return nt(this._root)}}function tn(g,w){w.value._routerState=g,w.children.forEach(f=>tn(g,f))}function nt(g){const w=g.children.length>0?` { ${g.children.map(nt).join(", ")} } `:"";return`${g.value}${w}`}function Pt(g){if(g.snapshot){const w=g.snapshot,f=g._futureSnapshot;g.snapshot=f,mn(w.queryParams,f.queryParams)||g.queryParamsSubject.next(f.queryParams),w.fragment!==f.fragment&&g.fragmentSubject.next(f.fragment),mn(w.params,f.params)||g.paramsSubject.next(f.params),function bs(g,w){if(g.length!==w.length)return!1;for(let f=0;f<g.length;++f)if(!mn(g[f],w[f]))return!1;return!0}(w.url,f.url)||g.urlSubject.next(f.url),mn(w.data,f.data)||g.dataSubject.next(f.data)}else g.snapshot=g._futureSnapshot,g.dataSubject.next(g._futureSnapshot.data)}function pn(g,w){const f=mn(g.params,w.params)&&function Xr(g,w){return tr(g,w)&&g.every((f,C)=>mn(f.parameters,w[C].parameters))}(g.url,w.url);return f&&!(!g.parent!=!w.parent)&&(!g.parent||pn(g.parent,w.parent))}let fr=(()=>{class g{constructor(){this.activated=null,this._activatedRoute=null,this.name=ht,this.activateEvents=new u.bkB,this.deactivateEvents=new u.bkB,this.attachEvents=new u.bkB,this.detachEvents=new u.bkB,this.parentContexts=(0,u.WQX)(ps),this.location=(0,u.WQX)(u.c1b),this.changeDetector=(0,u.WQX)(u.gRc),this.environmentInjector=(0,u.WQX)(u.uvJ),this.inputBinder=(0,u.WQX)(Bn,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(f){if(f.name){const{firstChange:C,previousValue:I}=f.name;if(C)return;this.isTrackedInParentContexts(I)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(I)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(f){return this.parentContexts.getContext(f)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const f=this.parentContexts.getContext(this.name);f?.route&&(f.attachRef?this.attach(f.attachRef,f.route):this.activateWith(f.route,f.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.wOt(4012,!1);this.location.detach();const f=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(f.instance),f}attach(f,C){this.activated=f,this._activatedRoute=C,this.location.insert(f.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(f.instance)}deactivate(){if(this.activated){const f=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(f)}}activateWith(f,C){if(this.isActivated)throw new u.wOt(4013,!1);this._activatedRoute=f;const I=this.location,X=f.snapshot.component,Ee=this.parentContexts.getOrCreateContext(this.name).children,_e=new Xs(f,Ee,I.injector);this.activated=I.createComponent(X,{index:I.length,injector:_e,environmentInjector:C??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(C){return new(C||g)}}static{this.\u0275dir=u.FsC({type:g,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[u.OA$]})}}return g})();class Xs{constructor(w,f,C){this.route=w,this.childContexts=f,this.parent=C}get(w,f){return w===lt?this.route:w===ps?this.childContexts:this.parent.get(w,f)}}const Bn=new u.nKC("");let Zr=(()=>{class g{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(f){this.unsubscribeFromRouteData(f),this.subscribeToRouteData(f)}unsubscribeFromRouteData(f){this.outletDataSubscriptions.get(f)?.unsubscribe(),this.outletDataSubscriptions.delete(f)}subscribeToRouteData(f){const{activatedRoute:C}=f,I=qe([C.queryParams,C.params,C.data]).pipe((0,rt.n)(([U,X,Ee],_e)=>(Ee={...U,...X,...Ee},0===_e?(0,H.of)(Ee):Promise.resolve(Ee)))).subscribe(U=>{if(!f.isActivated||!f.activatedComponentRef||f.activatedRoute!==C||null===C.component)return void this.unsubscribeFromRouteData(f);const X=(0,u.HJs)(C.component);if(X)for(const{templateName:Ee}of X.inputs)f.activatedComponentRef.setInput(Ee,U[Ee]);else this.unsubscribeFromRouteData(f)});this.outletDataSubscriptions.set(f,I)}static{this.\u0275fac=function(C){return new(C||g)}}static{this.\u0275prov=u.jDH({token:g,factory:g.\u0275fac})}}return g})();function wr(g,w,f){if(f&&g.shouldReuseRoute(w.value,f.value.snapshot)){const C=f.value;C._futureSnapshot=w.value;const I=function Ns(g,w,f){return w.children.map(C=>{for(const I of f.children)if(g.shouldReuseRoute(C.value,I.value.snapshot))return wr(g,C,I);return wr(g,C)})}(g,w,f);return new Vt(C,I)}{if(g.shouldAttach(w.value)){const U=g.retrieve(w.value);if(null!==U){const X=U.route;return X.value._futureSnapshot=w.value,X.children=w.children.map(Ee=>wr(g,Ee)),X}}const C=function kt(g){return new lt(new Q.t(g.url),new Q.t(g.params),new Q.t(g.queryParams),new Q.t(g.fragment),new Q.t(g.data),g.outlet,g.component,g)}(w.value),I=w.children.map(U=>wr(g,U));return new Vt(C,I)}}const $r="ngNavigationCancelingError";function es(g,w){const{redirectTo:f,navigationBehaviorOptions:C}=Be(w)?{redirectTo:w,navigationBehaviorOptions:void 0}:w,I=ts(!1,0,w);return I.url=f,I.navigationBehaviorOptions=C,I}function ts(g,w,f){const C=new Error("NavigationCancelingError: "+(g||""));return C[$r]=!0,C.cancellationCode=w,f&&(C.url=f),C}function Ds(g){return g&&g[$r]}let Ss=(()=>{class g{static{this.\u0275fac=function(C){return new(C||g)}}static{this.\u0275cmp=u.VBU({type:g,selectors:[["ng-component"]],standalone:!0,features:[u.aNF],decls:1,vars:0,template:function(C,I){1&C&&u.nrm(0,"router-outlet")},dependencies:[fr],encapsulation:2})}}return g})();function ln(g){const w=g.children&&g.children.map(ln),f=w?{...g,children:w}:{...g};return!f.component&&!f.loadComponent&&(w||f.loadChildren)&&f.outlet&&f.outlet!==ht&&(f.component=Ss),f}function Qn(g){return g.outlet||ht}function gs(g){if(!g)return null;if(g.routeConfig?._injector)return g.routeConfig._injector;for(let w=g.parent;w;w=w.parent){const f=w.routeConfig;if(f?._loadedInjector)return f._loadedInjector;if(f?._injector)return f._injector}return null}class xn{constructor(w,f,C,I,U){this.routeReuseStrategy=w,this.futureState=f,this.currState=C,this.forwardEvent=I,this.inputBindingEnabled=U}activate(w){const f=this.futureState._root,C=this.currState?this.currState._root:null;this.deactivateChildRoutes(f,C,w),Pt(this.futureState.root),this.activateChildRoutes(f,C,w)}deactivateChildRoutes(w,f,C){const I=jn(f);w.children.forEach(U=>{const X=U.value.outlet;this.deactivateRoutes(U,I[X],C),delete I[X]}),Object.values(I).forEach(U=>{this.deactivateRouteAndItsChildren(U,C)})}deactivateRoutes(w,f,C){const I=w.value,U=f?f.value:null;if(I===U)if(I.component){const X=C.getContext(I.outlet);X&&this.deactivateChildRoutes(w,f,X.children)}else this.deactivateChildRoutes(w,f,C);else U&&this.deactivateRouteAndItsChildren(f,C)}deactivateRouteAndItsChildren(w,f){w.value.component&&this.routeReuseStrategy.shouldDetach(w.value.snapshot)?this.detachAndStoreRouteSubtree(w,f):this.deactivateRouteAndOutlet(w,f)}detachAndStoreRouteSubtree(w,f){const C=f.getContext(w.value.outlet),I=C&&w.value.component?C.children:f,U=jn(w);for(const X of Object.keys(U))this.deactivateRouteAndItsChildren(U[X],I);if(C&&C.outlet){const X=C.outlet.detach(),Ee=C.children.onOutletDeactivated();this.routeReuseStrategy.store(w.value.snapshot,{componentRef:X,route:w,contexts:Ee})}}deactivateRouteAndOutlet(w,f){const C=f.getContext(w.value.outlet),I=C&&w.value.component?C.children:f,U=jn(w);for(const X of Object.keys(U))this.deactivateRouteAndItsChildren(U[X],I);C&&(C.outlet&&(C.outlet.deactivate(),C.children.onOutletDeactivated()),C.attachRef=null,C.route=null)}activateChildRoutes(w,f,C){const I=jn(f);w.children.forEach(U=>{this.activateRoutes(U,I[U.value.outlet],C),this.forwardEvent(new Oi(U.value.snapshot))}),w.children.length&&this.forwardEvent(new Ui(w.value.snapshot))}activateRoutes(w,f,C){const I=w.value,U=f?f.value:null;if(Pt(I),I===U)if(I.component){const X=C.getOrCreateContext(I.outlet);this.activateChildRoutes(w,f,X.children)}else this.activateChildRoutes(w,f,C);else if(I.component){const X=C.getOrCreateContext(I.outlet);if(this.routeReuseStrategy.shouldAttach(I.snapshot)){const Ee=this.routeReuseStrategy.retrieve(I.snapshot);this.routeReuseStrategy.store(I.snapshot,null),X.children.onOutletReAttached(Ee.contexts),X.attachRef=Ee.componentRef,X.route=Ee.route.value,X.outlet&&X.outlet.attach(Ee.componentRef,Ee.route.value),Pt(Ee.route.value),this.activateChildRoutes(w,null,X.children)}else{const Ee=gs(I.snapshot);X.attachRef=null,X.route=I,X.injector=Ee,X.outlet&&X.outlet.activateWith(I,X.injector),this.activateChildRoutes(w,null,X.children)}}else this.activateChildRoutes(w,null,C)}}class Fs{constructor(w){this.path=w,this.route=this.path[this.path.length-1]}}class Hn{constructor(w,f){this.component=w,this.route=f}}function Jn(g,w,f){const C=g._root;return rs(C,w?w._root:null,f,[C.value])}function Fr(g,w){const f=Symbol(),C=w.get(g,f);return C===f?"function"!=typeof g||(0,u.LfX)(g)?w.get(g):g:C}function rs(g,w,f,C,I={canDeactivateChecks:[],canActivateChecks:[]}){const U=jn(w);return g.children.forEach(X=>{(function Wr(g,w,f,C,I={canDeactivateChecks:[],canActivateChecks:[]}){const U=g.value,X=w?w.value:null,Ee=f?f.getContext(g.value.outlet):null;if(X&&U.routeConfig===X.routeConfig){const _e=function nn(g,w,f){if("function"==typeof f)return f(g,w);switch(f){case"pathParamsChange":return!tr(g.url,w.url);case"pathParamsOrQueryParamsChange":return!tr(g.url,w.url)||!mn(g.queryParams,w.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!pn(g,w)||!mn(g.queryParams,w.queryParams);default:return!pn(g,w)}}(X,U,U.routeConfig.runGuardsAndResolvers);_e?I.canActivateChecks.push(new Fs(C)):(U.data=X.data,U._resolvedData=X._resolvedData),rs(g,w,U.component?Ee?Ee.children:null:f,C,I),_e&&Ee&&Ee.outlet&&Ee.outlet.isActivated&&I.canDeactivateChecks.push(new Hn(Ee.outlet.component,X))}else X&&ss(w,Ee,I),I.canActivateChecks.push(new Fs(C)),rs(g,null,U.component?Ee?Ee.children:null:f,C,I)})(X,U[X.value.outlet],f,C.concat([X.value]),I),delete U[X.value.outlet]}),Object.entries(U).forEach(([X,Ee])=>ss(Ee,f.getContext(X),I)),I}function ss(g,w,f){const C=jn(g),I=g.value;Object.entries(C).forEach(([U,X])=>{ss(X,I.component?w?w.children.getContext(U):null:w,f)}),f.canDeactivateChecks.push(new Hn(I.component&&w&&w.outlet&&w.outlet.isActivated?w.outlet.component:null,I))}function _i(g){return"function"==typeof g}function Ls(g){return g instanceof St.G||"EmptyError"===g?.name}const Kr=Symbol("INITIAL_VALUE");function Rr(){return(0,rt.n)(g=>qe(g.map(w=>w.pipe((0,Nt.s)(1),(0,gr.Z)(Kr)))).pipe((0,wt.T)(w=>{for(const f of w)if(!0!==f){if(f===Kr)return Kr;if(!1===f||f instanceof _r)return f}return!0}),(0,sr.p)(w=>w!==Kr),(0,Nt.s)(1)))}function ms(g){return(0,He.F)((0,ye.M)(w=>{if(Be(w))throw es(0,w)}),(0,wt.T)(w=>!0===w))}class xi{constructor(w){this.segmentGroup=w||null}}class ys{constructor(w){this.urlTree=w}}function Yn(g){return(0,st.$)(new xi(g))}function is(g){return(0,st.$)(new ys(g))}class Xi{constructor(w,f){this.urlSerializer=w,this.urlTree=f}noMatchError(w){return new u.wOt(4002,!1)}lineralizeSegments(w,f){let C=[],I=f.root;for(;;){if(C=C.concat(I.segments),0===I.numberOfChildren)return(0,H.of)(C);if(I.numberOfChildren>1||!I.children[ht])return(0,st.$)(new u.wOt(4e3,!1));I=I.children[ht]}}applyRedirectCommands(w,f,C){return this.applyRedirectCreateUrlTree(f,this.urlSerializer.parse(f),w,C)}applyRedirectCreateUrlTree(w,f,C,I){const U=this.createSegmentGroup(w,f.root,C,I);return new _r(U,this.createQueryParams(f.queryParams,this.urlTree.queryParams),f.fragment)}createQueryParams(w,f){const C={};return Object.entries(w).forEach(([I,U])=>{if("string"==typeof U&&U.startsWith(":")){const Ee=U.substring(1);C[I]=f[Ee]}else C[I]=U}),C}createSegmentGroup(w,f,C,I){const U=this.createSegments(w,f.segments,C,I);let X={};return Object.entries(f.children).forEach(([Ee,_e])=>{X[Ee]=this.createSegmentGroup(w,_e,C,I)}),new on(U,X)}createSegments(w,f,C,I){return f.map(U=>U.path.startsWith(":")?this.findPosParam(w,U,I):this.findOrReturn(U,C))}findPosParam(w,f,C){const I=C[f.path.substring(1)];if(!I)throw new u.wOt(4001,!1);return I}findOrReturn(w,f){let C=0;for(const I of f){if(I.path===w.path)return f.splice(C),I;C++}return w}}const Qi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function lo(g,w,f,C,I){const U=Ji(g,w,f);return U.matched?(C=function kr(g,w){return g.providers&&!g._injector&&(g._injector=(0,u.Ol2)(g.providers,w,`Route: ${g.path}`)),g._injector??w}(w,C),function Is(g,w,f,C){const I=w.canMatch;if(!I||0===I.length)return(0,H.of)(!0);const U=I.map(X=>{const Ee=Fr(X,g);return qn(function Et(g){return g&&_i(g.canMatch)}(Ee)?Ee.canMatch(w,f):g.runInContext(()=>Ee(w,f)))});return(0,H.of)(U).pipe(Rr(),ms())}(C,w,f).pipe((0,wt.T)(X=>!0===X?U:{...Qi}))):(0,H.of)(U)}function Ji(g,w,f){if(""===w.path)return"full"===w.pathMatch&&(g.hasChildren()||f.length>0)?{...Qi}:{matched:!0,consumedSegments:[],remainingSegments:f,parameters:{},positionalParamSegments:{}};const I=(w.matcher||Nr)(f,g,w);if(!I)return{...Qi};const U={};Object.entries(I.posParams??{}).forEach(([Ee,_e])=>{U[Ee]=_e.path});const X=I.consumed.length>0?{...U,...I.consumed[I.consumed.length-1].parameters}:U;return{matched:!0,consumedSegments:I.consumed,remainingSegments:f.slice(I.consumed.length),parameters:X,positionalParamSegments:I.posParams??{}}}function uo(g,w,f,C){return f.length>0&&function js(g,w,f){return f.some(C=>Br(g,w,C)&&Qn(C)!==ht)}(g,f,C)?{segmentGroup:new on(w,Ni(C,new on(f,g.children))),slicedSegments:[]}:0===f.length&&function ki(g,w,f){return f.some(C=>Br(g,w,C))}(g,f,C)?{segmentGroup:new on(g.segments,Yi(g,0,f,C,g.children)),slicedSegments:f}:{segmentGroup:new on(g.segments,g.children),slicedSegments:f}}function Yi(g,w,f,C,I){const U={};for(const X of C)if(Br(g,f,X)&&!I[Qn(X)]){const Ee=new on([],{});U[Qn(X)]=Ee}return{...I,...U}}function Ni(g,w){const f={};f[ht]=w;for(const C of g)if(""===C.path&&Qn(C)!==ht){const I=new on([],{});f[Qn(C)]=I}return f}function Br(g,w,f){return(!(g.hasChildren()||w.length>0)||"full"!==f.pathMatch)&&""===f.path}class Bi{constructor(w,f,C,I,U,X,Ee){this.injector=w,this.configLoader=f,this.rootComponentType=C,this.config=I,this.urlTree=U,this.paramsInheritanceStrategy=X,this.urlSerializer=Ee,this.allowRedirects=!0,this.applyRedirects=new Xi(this.urlSerializer,this.urlTree)}noMatchError(w){return new u.wOt(4002,!1)}recognize(){const w=uo(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,w,ht).pipe((0,we.W)(f=>{if(f instanceof ys)return this.allowRedirects=!1,this.urlTree=f.urlTree,this.match(f.urlTree);throw f instanceof xi?this.noMatchError(f):f}),(0,wt.T)(f=>{const C=new Vr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ht,this.rootComponentType,null,{}),I=new Vt(C,f),U=new Ur("",I),X=function an(g,w,f=null,C=null){return Sn(It(g),w,f,C)}(C,[],this.urlTree.queryParams,this.urlTree.fragment);return X.queryParams=this.urlTree.queryParams,U.url=this.urlSerializer.serialize(X),this.inheritParamsAndData(U._root),{state:U,tree:X}}))}match(w){return this.processSegmentGroup(this.injector,this.config,w.root,ht).pipe((0,we.W)(C=>{throw C instanceof xi?this.noMatchError(C):C}))}inheritParamsAndData(w){const f=w.value,C=Yr(f,this.paramsInheritanceStrategy);f.params=Object.freeze(C.params),f.data=Object.freeze(C.data),w.children.forEach(I=>this.inheritParamsAndData(I))}processSegmentGroup(w,f,C,I){return 0===C.segments.length&&C.hasChildren()?this.processChildren(w,f,C):this.processSegment(w,f,C,C.segments,I,!0)}processChildren(w,f,C){const I=[];for(const U of Object.keys(C.children))"primary"===U?I.unshift(U):I.push(U);return(0,re.H)(I).pipe((0,le.H)(U=>{const X=C.children[U],Ee=function Cr(g,w){const f=g.filter(C=>Qn(C)===w);return f.push(...g.filter(C=>Qn(C)!==w)),f}(f,U);return this.processSegmentGroup(w,Ee,X,U)}),function $e(g,w){return(0,Qe.N)(function Oe(g,w,f,C,I){return(U,X)=>{let Ee=f,_e=w,ct=0;U.subscribe((0,Ye._)(X,Wt=>{const zn=ct++;_e=Ee?g(_e,Wt,zn):(Ee=!0,Wt),C&&X.next(_e)},I&&(()=>{Ee&&X.next(_e),X.complete()})))}}(g,w,arguments.length>=2,!0))}((U,X)=>(U.push(...X),U)),(0,Xe.U)(null),function kn(g,w){const f=arguments.length>=2;return C=>C.pipe(g?(0,sr.p)((I,U)=>g(I,U,C)):he.D,_t(1),f?(0,Xe.U)(w):(0,un.v)(()=>new St.G))}(),(0,Tn.Z)(U=>{if(null===U)return Yn(C);const X=Ci(U);return function Mo(g){g.sort((w,f)=>w.value.outlet===ht?-1:f.value.outlet===ht?1:w.value.outlet.localeCompare(f.value.outlet))}(X),(0,H.of)(X)}))}processSegment(w,f,C,I,U,X){return(0,re.H)(f).pipe((0,le.H)(Ee=>this.processSegmentAgainstRoute(Ee._injector??w,f,Ee,C,I,U,X).pipe((0,we.W)(_e=>{if(_e instanceof xi)return(0,H.of)(null);throw _e}))),(0,$t.$)(Ee=>!!Ee),(0,we.W)(Ee=>{if(Ls(Ee))return function di(g,w,f){return 0===w.length&&!g.children[f]}(C,I,U)?(0,H.of)([]):Yn(C);throw Ee}))}processSegmentAgainstRoute(w,f,C,I,U,X,Ee){return function Vs(g,w,f,C){return!!(Qn(g)===C||C!==ht&&Br(w,f,g))&&("**"===g.path||Ji(w,g,f).matched)}(C,I,U,X)?void 0===C.redirectTo?this.matchSegmentAgainstRoute(w,I,C,U,X,Ee):Ee&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(w,I,f,C,U,X):Yn(I):Yn(I)}expandSegmentAgainstRouteUsingRedirect(w,f,C,I,U,X){return"**"===I.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(w,C,I,X):this.expandRegularSegmentAgainstRouteUsingRedirect(w,f,C,I,U,X)}expandWildCardWithParamsAgainstRouteUsingRedirect(w,f,C,I){const U=this.applyRedirects.applyRedirectCommands([],C.redirectTo,{});return C.redirectTo.startsWith("/")?is(U):this.applyRedirects.lineralizeSegments(C,U).pipe((0,Tn.Z)(X=>{const Ee=new on(X,{});return this.processSegment(w,f,Ee,X,I,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(w,f,C,I,U,X){const{matched:Ee,consumedSegments:_e,remainingSegments:ct,positionalParamSegments:Wt}=Ji(f,I,U);if(!Ee)return Yn(f);const zn=this.applyRedirects.applyRedirectCommands(_e,I.redirectTo,Wt);return I.redirectTo.startsWith("/")?is(zn):this.applyRedirects.lineralizeSegments(I,zn).pipe((0,Tn.Z)(Mn=>this.processSegment(w,C,f,Mn.concat(ct),X,!1)))}matchSegmentAgainstRoute(w,f,C,I,U,X){let Ee;if("**"===C.path){const _e=I.length>0?qt(I).parameters:{},ct=new Vr(I,_e,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,y(C),Qn(C),C.component??C._loadedComponent??null,C,L(C));Ee=(0,H.of)({snapshot:ct,consumedSegments:[],remainingSegments:[]}),f.children={}}else Ee=lo(f,C,I,w).pipe((0,wt.T)(({matched:_e,consumedSegments:ct,remainingSegments:Wt,parameters:zn})=>_e?{snapshot:new Vr(ct,zn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,y(C),Qn(C),C.component??C._loadedComponent??null,C,L(C)),consumedSegments:ct,remainingSegments:Wt}:null));return Ee.pipe((0,rt.n)(_e=>null===_e?Yn(f):this.getChildConfig(w=C._injector??w,C,I).pipe((0,rt.n)(({routes:ct})=>{const Wt=C._loadedInjector??w,{snapshot:zn,consumedSegments:Mn,remainingSegments:Li}=_e,{segmentGroup:yo,slicedSegments:vo}=uo(f,Mn,Li,ct);if(0===vo.length&&yo.hasChildren())return this.processChildren(Wt,ct,yo).pipe((0,wt.T)(_o=>null===_o?null:[new Vt(zn,_o)]));if(0===ct.length&&0===vo.length)return(0,H.of)([new Vt(zn,[])]);const Oo=Qn(C)===U;return this.processSegment(Wt,ct,yo,vo,Oo?ht:U,!0).pipe((0,wt.T)(_o=>[new Vt(zn,_o)]))}))))}getChildConfig(w,f,C){return f.children?(0,H.of)({routes:f.children,injector:w}):f.loadChildren?void 0!==f._loadedRoutes?(0,H.of)({routes:f._loadedRoutes,injector:f._loadedInjector}):function Ft(g,w,f,C){const I=w.canLoad;if(void 0===I||0===I.length)return(0,H.of)(!0);const U=I.map(X=>{const Ee=Fr(X,g);return qn(function k(g){return g&&_i(g.canLoad)}(Ee)?Ee.canLoad(w,f):g.runInContext(()=>Ee(w,f)))});return(0,H.of)(U).pipe(Rr(),ms())}(w,f,C).pipe((0,Tn.Z)(I=>I?this.configLoader.loadChildren(w,f).pipe((0,ye.M)(U=>{f._loadedRoutes=U.routes,f._loadedInjector=U.injector})):function ao(g){return(0,st.$)(ts(!1,3))}())):(0,H.of)({routes:[],injector:w})}}function co(g){const w=g.value.routeConfig;return w&&""===w.path}function Ci(g){const w=[],f=new Set;for(const C of g){if(!co(C)){w.push(C);continue}const I=w.find(U=>C.value.routeConfig===U.value.routeConfig);void 0!==I?(I.children.push(...C.children),f.add(I)):w.push(C)}for(const C of f){const I=Ci(C.children);w.push(new Vt(C.value,I))}return w.filter(C=>!f.has(C))}function y(g){return g.data||{}}function L(g){return g.resolve||{}}function In(g){return"string"==typeof g.title||null===g.title}function wn(g){return(0,rt.n)(w=>{const f=g(w);return f?(0,re.H)(f).pipe((0,wt.T)(()=>w)):(0,H.of)(w)})}const rn=new u.nKC("ROUTES");let Qt=(()=>{class g{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,u.WQX)(u.Ql9)}loadComponent(f){if(this.componentLoaders.get(f))return this.componentLoaders.get(f);if(f._loadedComponent)return(0,H.of)(f._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(f);const C=qn(f.loadComponent()).pipe((0,wt.T)(pr),(0,ye.M)(U=>{this.onLoadEndListener&&this.onLoadEndListener(f),f._loadedComponent=U}),(0,gn.j)(()=>{this.componentLoaders.delete(f)})),I=new bt(C,()=>new bn.B).pipe(Tt());return this.componentLoaders.set(f,I),I}loadChildren(f,C){if(this.childrenLoaders.get(C))return this.childrenLoaders.get(C);if(C._loadedRoutes)return(0,H.of)({routes:C._loadedRoutes,injector:C._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(C);const U=function nr(g,w,f,C){return qn(g.loadChildren()).pipe((0,wt.T)(pr),(0,Tn.Z)(I=>I instanceof u.Co$||Array.isArray(I)?(0,H.of)(I):(0,re.H)(w.compileModuleAsync(I))),(0,wt.T)(I=>{C&&C(g);let U,X,Ee=!1;return Array.isArray(I)?(X=I,!0):(U=I.create(f).injector,X=U.get(rn,[],{optional:!0,self:!0}).flat()),{routes:X.map(ln),injector:U}}))}(C,this.compiler,f,this.onLoadEndListener).pipe((0,gn.j)(()=>{this.childrenLoaders.delete(C)})),X=new bt(U,()=>new bn.B).pipe(Tt());return this.childrenLoaders.set(C,X),X}static{this.\u0275fac=function(C){return new(C||g)}}static{this.\u0275prov=u.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();function pr(g){return function Nn(g){return g&&"object"==typeof g&&"default"in g}(g)?g.default:g}let os=(()=>{class g{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new bn.B,this.transitionAbortSubject=new bn.B,this.configLoader=(0,u.WQX)(Qt),this.environmentInjector=(0,u.WQX)(u.uvJ),this.urlSerializer=(0,u.WQX)(or),this.rootContexts=(0,u.WQX)(ps),this.inputBindingEnabled=null!==(0,u.WQX)(Bn,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,H.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=I=>this.events.next(new Ii(I)),this.configLoader.onLoadStartListener=I=>this.events.next(new si(I))}complete(){this.transitions?.complete()}handleNavigationRequest(f){const C=++this.navigationId;this.transitions?.next({...this.transitions.value,...f,id:C})}setupNavigations(f,C,I){return this.transitions=new Q.t({id:0,currentUrlTree:C,currentRawUrl:C,currentBrowserUrl:C,extractedUrl:f.urlHandlingStrategy.extract(C),urlAfterRedirects:f.urlHandlingStrategy.extract(C),rawUrl:C,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Jr,restoredState:null,currentSnapshot:I.snapshot,targetSnapshot:null,currentRouterState:I,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,sr.p)(U=>0!==U.id),(0,wt.T)(U=>({...U,extractedUrl:f.urlHandlingStrategy.extract(U.rawUrl)})),(0,rt.n)(U=>{this.currentTransition=U;let X=!1,Ee=!1;return(0,H.of)(U).pipe((0,ye.M)(_e=>{this.currentNavigation={id:_e.id,initialUrl:_e.rawUrl,extractedUrl:_e.extractedUrl,trigger:_e.source,extras:_e.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,rt.n)(_e=>{const ct=_e.currentBrowserUrl.toString(),Wt=!f.navigated||_e.extractedUrl.toString()!==ct||ct!==_e.currentUrlTree.toString();if(!Wt&&"reload"!==(_e.extras.onSameUrlNavigation??f.onSameUrlNavigation)){const Mn="";return this.events.next(new Ks(_e.id,this.urlSerializer.serialize(_e.rawUrl),Mn,0)),_e.resolve(null),gt.w}if(f.urlHandlingStrategy.shouldProcessUrl(_e.rawUrl))return(0,H.of)(_e).pipe((0,rt.n)(Mn=>{const Li=this.transitions?.getValue();return this.events.next(new xs(Mn.id,this.urlSerializer.serialize(Mn.extractedUrl),Mn.source,Mn.restoredState)),Li!==this.transitions?.getValue()?gt.w:Promise.resolve(Mn)}),function S(g,w,f,C,I,U){return(0,Tn.Z)(X=>function Us(g,w,f,C,I,U,X="emptyOnly"){return new Bi(g,w,f,C,I,X,U).recognize()}(g,w,f,C,X.extractedUrl,I,U).pipe((0,wt.T)(({state:Ee,tree:_e})=>({...X,targetSnapshot:Ee,urlAfterRedirects:_e}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,f.config,this.urlSerializer,f.paramsInheritanceStrategy),(0,ye.M)(Mn=>{U.targetSnapshot=Mn.targetSnapshot,U.urlAfterRedirects=Mn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Mn.urlAfterRedirects};const Li=new Pn(Mn.id,this.urlSerializer.serialize(Mn.extractedUrl),this.urlSerializer.serialize(Mn.urlAfterRedirects),Mn.targetSnapshot);this.events.next(Li)}));if(Wt&&f.urlHandlingStrategy.shouldProcessUrl(_e.currentRawUrl)){const{id:Mn,extractedUrl:Li,source:yo,restoredState:vo,extras:Oo}=_e,_o=new xs(Mn,this.urlSerializer.serialize(Li),yo,vo);this.events.next(_o);const Pu=Es(0,this.rootComponentType).snapshot;return this.currentTransition=U={..._e,targetSnapshot:Pu,urlAfterRedirects:Li,extras:{...Oo,skipLocationChange:!1,replaceUrl:!1}},(0,H.of)(U)}{const Mn="";return this.events.next(new Ks(_e.id,this.urlSerializer.serialize(_e.extractedUrl),Mn,1)),_e.resolve(null),gt.w}}),(0,ye.M)(_e=>{const ct=new mi(_e.id,this.urlSerializer.serialize(_e.extractedUrl),this.urlSerializer.serialize(_e.urlAfterRedirects),_e.targetSnapshot);this.events.next(ct)}),(0,wt.T)(_e=>(this.currentTransition=U={..._e,guards:Jn(_e.targetSnapshot,_e.currentSnapshot,this.rootContexts)},U)),function Mr(g,w){return(0,Tn.Z)(f=>{const{targetSnapshot:C,currentSnapshot:I,guards:{canActivateChecks:U,canDeactivateChecks:X}}=f;return 0===X.length&&0===U.length?(0,H.of)({...f,guardsResult:!0}):function Pi(g,w,f,C){return(0,re.H)(g).pipe((0,Tn.Z)(I=>function So(g,w,f,C,I){const U=w&&w.routeConfig?w.routeConfig.canDeactivate:null;if(!U||0===U.length)return(0,H.of)(!0);const X=U.map(Ee=>{const _e=gs(w)??I,ct=Fr(Ee,_e);return qn(function ne(g){return g&&_i(g.canDeactivate)}(ct)?ct.canDeactivate(g,w,f,C):_e.runInContext(()=>ct(g,w,f,C))).pipe((0,$t.$)())});return(0,H.of)(X).pipe(Rr())}(I.component,I.route,f,w,C)),(0,$t.$)(I=>!0!==I,!0))}(X,C,I,g).pipe((0,Tn.Z)(Ee=>Ee&&function P(g){return"boolean"==typeof g}(Ee)?function bi(g,w,f,C){return(0,re.H)(w).pipe((0,le.H)(I=>(0,Ze.x)(function qi(g,w){return null!==g&&w&&w(new ii(g)),(0,H.of)(!0)}(I.route.parent,C),function wi(g,w){return null!==g&&w&&w(new $i(g)),(0,H.of)(!0)}(I.route,C),function Ri(g,w,f){const C=w[w.length-1],U=w.slice(0,w.length-1).reverse().map(X=>function ci(g){const w=g.routeConfig?g.routeConfig.canActivateChild:null;return w&&0!==w.length?{node:g,guards:w}:null}(X)).filter(X=>null!==X).map(X=>ze(()=>{const Ee=X.guards.map(_e=>{const ct=gs(X.node)??f,Wt=Fr(_e,ct);return qn(function $(g){return g&&_i(g.canActivateChild)}(Wt)?Wt.canActivateChild(C,g):ct.runInContext(()=>Wt(C,g))).pipe((0,$t.$)())});return(0,H.of)(Ee).pipe(Rr())}));return(0,H.of)(U).pipe(Rr())}(g,I.path,f),function Js(g,w,f){const C=w.routeConfig?w.routeConfig.canActivate:null;if(!C||0===C.length)return(0,H.of)(!0);const I=C.map(U=>ze(()=>{const X=gs(w)??f,Ee=Fr(U,X);return qn(function D(g){return g&&_i(g.canActivate)}(Ee)?Ee.canActivate(w,g):X.runInContext(()=>Ee(w,g))).pipe((0,$t.$)())}));return(0,H.of)(I).pipe(Rr())}(g,I.route,f))),(0,$t.$)(I=>!0!==I,!0))}(C,U,g,w):(0,H.of)(Ee)),(0,wt.T)(Ee=>({...f,guardsResult:Ee})))})}(this.environmentInjector,_e=>this.events.next(_e)),(0,ye.M)(_e=>{if(U.guardsResult=_e.guardsResult,Be(_e.guardsResult))throw es(0,_e.guardsResult);const ct=new Mi(_e.id,this.urlSerializer.serialize(_e.extractedUrl),this.urlSerializer.serialize(_e.urlAfterRedirects),_e.targetSnapshot,!!_e.guardsResult);this.events.next(ct)}),(0,sr.p)(_e=>!!_e.guardsResult||(this.cancelNavigationTransition(_e,"",3),!1)),wn(_e=>{if(_e.guards.canActivateChecks.length)return(0,H.of)(_e).pipe((0,ye.M)(ct=>{const Wt=new Ti(ct.id,this.urlSerializer.serialize(ct.extractedUrl),this.urlSerializer.serialize(ct.urlAfterRedirects),ct.targetSnapshot);this.events.next(Wt)}),(0,rt.n)(ct=>{let Wt=!1;return(0,H.of)(ct).pipe(function N(g,w){return(0,Tn.Z)(f=>{const{targetSnapshot:C,guards:{canActivateChecks:I}}=f;if(!I.length)return(0,H.of)(f);let U=0;return(0,re.H)(I).pipe((0,le.H)(X=>function J(g,w,f,C){const I=g.routeConfig,U=g._resolve;return void 0!==I?.title&&!In(I)&&(U[ir]=I.title),function Ce(g,w,f,C){const I=function Ie(g){return[...Object.keys(g),...Object.getOwnPropertySymbols(g)]}(g);if(0===I.length)return(0,H.of)({});const U={};return(0,re.H)(I).pipe((0,Tn.Z)(X=>function vt(g,w,f,C){const I=gs(w)??C,U=Fr(g,I);return qn(U.resolve?U.resolve(w,f):I.runInContext(()=>U(w,f)))}(g[X],w,f,C).pipe((0,$t.$)(),(0,ye.M)(Ee=>{U[X]=Ee}))),_t(1),function At(g){return(0,wt.T)(()=>g)}(U),(0,we.W)(X=>Ls(X)?gt.w:(0,st.$)(X)))}(U,g,w,C).pipe((0,wt.T)(X=>(g._resolvedData=X,g.data=Yr(g,f).resolve,I&&In(I)&&(g.data[ir]=I.title),null)))}(X.route,C,g,w)),(0,ye.M)(()=>U++),_t(1),(0,Tn.Z)(X=>U===I.length?(0,H.of)(f):gt.w))})}(f.paramsInheritanceStrategy,this.environmentInjector),(0,ye.M)({next:()=>Wt=!0,complete:()=>{Wt||this.cancelNavigationTransition(ct,"",2)}}))}),(0,ye.M)(ct=>{const Wt=new Ai(ct.id,this.urlSerializer.serialize(ct.extractedUrl),this.urlSerializer.serialize(ct.urlAfterRedirects),ct.targetSnapshot);this.events.next(Wt)}))}),wn(_e=>{const ct=Wt=>{const zn=[];Wt.routeConfig?.loadComponent&&!Wt.routeConfig._loadedComponent&&zn.push(this.configLoader.loadComponent(Wt.routeConfig).pipe((0,ye.M)(Mn=>{Wt.component=Mn}),(0,wt.T)(()=>{})));for(const Mn of Wt.children)zn.push(...ct(Mn));return zn};return qe(ct(_e.targetSnapshot.root)).pipe((0,Xe.U)(),(0,Nt.s)(1))}),wn(()=>this.afterPreactivation()),(0,wt.T)(_e=>{const ct=function Wn(g,w,f){const C=wr(g,w._root,f?f._root:void 0);return new Xn(C,w)}(f.routeReuseStrategy,_e.targetSnapshot,_e.currentRouterState);return this.currentTransition=U={..._e,targetRouterState:ct},U}),(0,ye.M)(()=>{this.events.next(new ws)}),((g,w,f,C)=>(0,wt.T)(I=>(new xn(w,I.targetRouterState,I.currentRouterState,f,C).activate(g),I)))(this.rootContexts,f.routeReuseStrategy,_e=>this.events.next(_e),this.inputBindingEnabled),(0,Nt.s)(1),(0,ye.M)({next:_e=>{X=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Gr(_e.id,this.urlSerializer.serialize(_e.extractedUrl),this.urlSerializer.serialize(_e.urlAfterRedirects))),f.titleStrategy?.updateTitle(_e.targetRouterState.snapshot),_e.resolve(!0)},complete:()=>{X=!0}}),function er(g){return(0,Qe.N)((w,f)=>{(0,fn.Tg)(g).subscribe((0,Ye._)(f,()=>f.complete(),Un.l)),!f.closed&&w.subscribe(f)})}(this.transitionAbortSubject.pipe((0,ye.M)(_e=>{throw _e}))),(0,gn.j)(()=>{X||Ee||this.cancelNavigationTransition(U,"",1),this.currentNavigation?.id===U.id&&(this.currentNavigation=null)}),(0,we.W)(_e=>{if(Ee=!0,Ds(_e))this.events.next(new jr(U.id,this.urlSerializer.serialize(U.extractedUrl),_e.message,_e.cancellationCode)),function An(g){return Ds(g)&&Be(g.url)}(_e)?this.events.next(new Ir(_e.url)):U.resolve(!1);else{this.events.next(new Si(U.id,this.urlSerializer.serialize(U.extractedUrl),_e,U.targetSnapshot??void 0));try{U.resolve(f.errorHandler(_e))}catch(ct){U.reject(ct)}}return gt.w}))}))}cancelNavigationTransition(f,C,I){const U=new jr(f.id,this.urlSerializer.serialize(f.extractedUrl),C,I);this.events.next(U),f.resolve(!1)}static{this.\u0275fac=function(C){return new(C||g)}}static{this.\u0275prov=u.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();function as(g){return g!==Jr}let $s=(()=>{class g{buildTitle(f){let C,I=f.root;for(;void 0!==I;)C=this.getResolvedTitleForRoute(I)??C,I=I.children.find(U=>U.outlet===ht);return C}getResolvedTitleForRoute(f){return f.data[ir]}static{this.\u0275fac=function(C){return new(C||g)}}static{this.\u0275prov=u.jDH({token:g,factory:function(){return(0,u.WQX)(ls)},providedIn:"root"})}}return g})(),ls=(()=>{class g extends $s{constructor(f){super(),this.title=f}updateTitle(f){const C=this.buildTitle(f);void 0!==C&&this.title.setTitle(C)}static{this.\u0275fac=function(C){return new(C||g)(u.KVO(at.hE))}}static{this.\u0275prov=u.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})(),Ys=(()=>{class g{static{this.\u0275fac=function(C){return new(C||g)}}static{this.\u0275prov=u.jDH({token:g,factory:function(){return(0,u.WQX)(Zs)},providedIn:"root"})}}return g})();class us{shouldDetach(w){return!1}store(w,f){}shouldAttach(w){return!1}retrieve(w){return null}shouldReuseRoute(w,f){return w.routeConfig===f.routeConfig}}let Zs=(()=>{class g extends us{static{this.\u0275fac=function(){let f;return function(I){return(f||(f=u.xGo(g)))(I||g)}}()}static{this.\u0275prov=u.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();const Fi=new u.nKC("",{providedIn:"root",factory:()=>({})});let To=(()=>{class g{static{this.\u0275fac=function(C){return new(C||g)}}static{this.\u0275prov=u.jDH({token:g,factory:function(){return(0,u.WQX)(mo)},providedIn:"root"})}}return g})(),mo=(()=>{class g{shouldProcessUrl(f){return!0}extract(f){return f}merge(f,C){return f}static{this.\u0275fac=function(C){return new(C||g)}}static{this.\u0275prov=u.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();var ei=function(g){return g[g.COMPLETE=0]="COMPLETE",g[g.FAILED=1]="FAILED",g[g.REDIRECTING=2]="REDIRECTING",g}(ei||{});function A(g,w){g.events.pipe((0,sr.p)(f=>f instanceof Gr||f instanceof jr||f instanceof Si||f instanceof Ks),(0,wt.T)(f=>f instanceof Gr||f instanceof Ks?ei.COMPLETE:f instanceof jr&&(0===f.code||1===f.code)?ei.REDIRECTING:ei.FAILED),(0,sr.p)(f=>f!==ei.REDIRECTING),(0,Nt.s)(1)).subscribe(()=>{w()})}function h(g){throw g}function c(g,w,f){return w.parse("/")}const b={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},O={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let V=(()=>{class g{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,u.WQX)(u.H3F),this.isNgZoneEnabled=!1,this._events=new bn.B,this.options=(0,u.WQX)(Fi,{optional:!0})||{},this.pendingTasks=(0,u.WQX)(u.$K3),this.errorHandler=this.options.errorHandler||h,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||c,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,u.WQX)(To),this.routeReuseStrategy=(0,u.WQX)(Ys),this.titleStrategy=(0,u.WQX)($s),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,u.WQX)(rn,{optional:!0})?.flat()??[],this.navigationTransitions=(0,u.WQX)(os),this.urlSerializer=(0,u.WQX)(or),this.location=(0,u.WQX)(Je.aZ),this.componentInputBindingEnabled=!!(0,u.WQX)(Bn,{optional:!0}),this.eventsSubscription=new Ae.yU,this.isNgZoneEnabled=(0,u.WQX)(u.SKi)instanceof u.SKi&&u.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new _r,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Es(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(f=>{this.lastSuccessfulId=f.id,this.currentPageId=this.browserPageId},f=>{this.console.warn(`Unhandled Navigation Error: ${f}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const f=this.navigationTransitions.events.subscribe(C=>{try{const{currentTransition:I}=this.navigationTransitions;if(null===I)return void(te(C)&&this._events.next(C));if(C instanceof xs)as(I.source)&&(this.browserUrlTree=I.extractedUrl);else if(C instanceof Ks)this.rawUrlTree=I.rawUrl;else if(C instanceof Pn){if("eager"===this.urlUpdateStrategy){if(!I.extras.skipLocationChange){const U=this.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);this.setBrowserUrl(U,I)}this.browserUrlTree=I.urlAfterRedirects}}else if(C instanceof ws)this.currentUrlTree=I.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl),this.routerState=I.targetRouterState,"deferred"===this.urlUpdateStrategy&&(I.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,I),this.browserUrlTree=I.urlAfterRedirects);else if(C instanceof jr)0!==C.code&&1!==C.code&&(this.navigated=!0),(3===C.code||2===C.code)&&this.restoreHistory(I);else if(C instanceof Ir){const U=this.urlHandlingStrategy.merge(C.url,I.currentRawUrl),X={skipLocationChange:I.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||as(I.source)};this.scheduleNavigation(U,Jr,null,X,{resolve:I.resolve,reject:I.reject,promise:I.promise})}C instanceof Si&&this.restoreHistory(I,!0),C instanceof Gr&&(this.navigated=!0),te(C)&&this._events.next(C)}catch(I){this.navigationTransitions.transitionAbortSubject.next(I)}});this.eventsSubscription.add(f)}resetRootComponentType(f){this.routerState.root.component=f,this.navigationTransitions.rootComponentType=f}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const f=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Jr,f)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(f=>{const C="popstate"===f.type?"popstate":"hashchange";"popstate"===C&&setTimeout(()=>{this.navigateToSyncWithBrowser(f.url,C,f.state)},0)}))}navigateToSyncWithBrowser(f,C,I){const U={replaceUrl:!0},X=I?.navigationId?I:null;if(I){const _e={...I};delete _e.navigationId,delete _e.\u0275routerPageId,0!==Object.keys(_e).length&&(U.state=_e)}const Ee=this.parseUrl(f);this.scheduleNavigation(Ee,C,X,U)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(f){this.config=f.map(ln),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(f,C={}){const{relativeTo:I,queryParams:U,fragment:X,queryParamsHandling:Ee,preserveFragment:_e}=C,ct=_e?this.currentUrlTree.fragment:X;let zn,Wt=null;switch(Ee){case"merge":Wt={...this.currentUrlTree.queryParams,...U};break;case"preserve":Wt=this.currentUrlTree.queryParams;break;default:Wt=U||null}null!==Wt&&(Wt=this.removeEmptyProps(Wt));try{zn=It(I?I.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof f[0]||!f[0].startsWith("/"))&&(f=[]),zn=this.currentUrlTree.root}return Sn(zn,f,Wt,ct??null)}navigateByUrl(f,C={skipLocationChange:!1}){const I=Be(f)?f:this.parseUrl(f),U=this.urlHandlingStrategy.merge(I,this.rawUrlTree);return this.scheduleNavigation(U,Jr,null,C)}navigate(f,C={skipLocationChange:!1}){return function q(g){for(let w=0;w<g.length;w++)if(null==g[w])throw new u.wOt(4008,!1)}(f),this.navigateByUrl(this.createUrlTree(f,C),C)}serializeUrl(f){return this.urlSerializer.serialize(f)}parseUrl(f){let C;try{C=this.urlSerializer.parse(f)}catch(I){C=this.malformedUriErrorHandler(I,this.urlSerializer,f)}return C}isActive(f,C){let I;if(I=!0===C?{...b}:!1===C?{...O}:C,Be(f))return Er(this.currentUrlTree,f,I);const U=this.parseUrl(f);return Er(this.currentUrlTree,U,I)}removeEmptyProps(f){return Object.keys(f).reduce((C,I)=>{const U=f[I];return null!=U&&(C[I]=U),C},{})}scheduleNavigation(f,C,I,U,X){if(this.disposed)return Promise.resolve(!1);let Ee,_e,ct;X?(Ee=X.resolve,_e=X.reject,ct=X.promise):ct=new Promise((zn,Mn)=>{Ee=zn,_e=Mn});const Wt=this.pendingTasks.add();return A(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Wt))}),this.navigationTransitions.handleNavigationRequest({source:C,restoredState:I,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:f,extras:U,resolve:Ee,reject:_e,promise:ct,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ct.catch(zn=>Promise.reject(zn))}setBrowserUrl(f,C){const I=this.urlSerializer.serialize(f);if(this.location.isCurrentPathEqualTo(I)||C.extras.replaceUrl){const X={...C.extras.state,...this.generateNgRouterState(C.id,this.browserPageId)};this.location.replaceState(I,"",X)}else{const U={...C.extras.state,...this.generateNgRouterState(C.id,this.browserPageId+1)};this.location.go(I,"",U)}}restoreHistory(f,C=!1){if("computed"===this.canceledNavigationResolution){const U=this.currentPageId-this.browserPageId;0!==U?this.location.historyGo(U):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===U&&(this.resetState(f),this.browserUrlTree=f.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(C&&this.resetState(f),this.resetUrlToCurrentUrlTree())}resetState(f){this.routerState=f.currentRouterState,this.currentUrlTree=f.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,f.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(f,C){return"computed"===this.canceledNavigationResolution?{navigationId:f,\u0275routerPageId:C}:{navigationId:f}}static{this.\u0275fac=function(C){return new(C||g)}}static{this.\u0275prov=u.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();function te(g){return!(g instanceof ws||g instanceof Ir)}let fe=(()=>{class g{constructor(f,C,I,U,X,Ee){this.router=f,this.route=C,this.tabIndexAttribute=I,this.renderer=U,this.el=X,this.locationStrategy=Ee,this.href=null,this.commands=null,this.onChanges=new bn.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const _e=X.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_e||"area"===_e,this.isAnchorElement?this.subscription=f.events.subscribe(ct=>{ct instanceof Gr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(f){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",f)}ngOnChanges(f){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(f){null!=f?(this.commands=Array.isArray(f)?f:[f],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(f,C,I,U,X){return!!(null===this.urlTree||this.isAnchorElement&&(0!==f||C||I||U||X||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const f=null===this.href?null:(0,u.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",f)}applyAttributeValue(f,C){const I=this.renderer,U=this.el.nativeElement;null!==C?I.setAttribute(U,f,C):I.removeAttribute(U,f)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(C){return new(C||g)(u.rXU(V),u.rXU(lt),u.kS0("tabindex"),u.rXU(u.sFG),u.rXU(u.aKT),u.rXU(Je.hb))}}static{this.\u0275dir=u.FsC({type:g,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(C,I){1&C&&u.bIt("click",function(X){return I.onClick(X.button,X.ctrlKey,X.shiftKey,X.altKey,X.metaKey)}),2&C&&u.BMQ("target",I.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",u.L39],skipLocationChange:["skipLocationChange","skipLocationChange",u.L39],replaceUrl:["replaceUrl","replaceUrl",u.L39],routerLink:"routerLink"},standalone:!0,features:[u.GFd,u.OA$]})}}return g})(),De=(()=>{class g{get isActive(){return this._isActive}constructor(f,C,I,U,X){this.router=f,this.element=C,this.renderer=I,this.cdr=U,this.link=X,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new u.bkB,this.routerEventsSubscription=f.events.subscribe(Ee=>{Ee instanceof Gr&&this.update()})}ngAfterContentInit(){(0,H.of)(this.links.changes,(0,H.of)(null)).pipe((0,Ct.U)()).subscribe(f=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const f=[...this.links.toArray(),this.link].filter(C=>!!C).map(C=>C.onChanges);this.linkInputChangesSubscription=(0,re.H)(f).pipe((0,Ct.U)()).subscribe(C=>{this._isActive!==this.isLinkActive(this.router)(C)&&this.update()})}set routerLinkActive(f){const C=Array.isArray(f)?f:f.split(" ");this.classes=C.filter(I=>!!I)}ngOnChanges(f){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const f=this.hasActiveLinks();this._isActive!==f&&(this._isActive=f,this.cdr.markForCheck(),this.classes.forEach(C=>{f?this.renderer.addClass(this.element.nativeElement,C):this.renderer.removeClass(this.element.nativeElement,C)}),f&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(f))})}isLinkActive(f){const C=function it(g){return!!g.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return I=>!!I.urlTree&&f.isActive(I.urlTree,C)}hasActiveLinks(){const f=this.isLinkActive(this.router);return this.link&&f(this.link)||this.links.some(f)}static{this.\u0275fac=function(C){return new(C||g)(u.rXU(V),u.rXU(u.aKT),u.rXU(u.sFG),u.rXU(u.gRc),u.rXU(fe,8))}}static{this.\u0275dir=u.FsC({type:g,selectors:[["","routerLinkActive",""]],contentQueries:function(C,I,U){if(1&C&&u.wni(U,fe,5),2&C){let X;u.mGM(X=u.lsd())&&(I.links=X)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[u.OA$]})}}return g})();class ft{}let xt=(()=>{class g{constructor(f,C,I,U,X){this.router=f,this.injector=I,this.preloadingStrategy=U,this.loader=X}setUpPreloading(){this.subscription=this.router.events.pipe((0,sr.p)(f=>f instanceof Gr),(0,le.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(f,C){const I=[];for(const U of C){U.providers&&!U._injector&&(U._injector=(0,u.Ol2)(U.providers,f,`Route: ${U.path}`));const X=U._injector??f,Ee=U._loadedInjector??X;(U.loadChildren&&!U._loadedRoutes&&void 0===U.canLoad||U.loadComponent&&!U._loadedComponent)&&I.push(this.preloadConfig(X,U)),(U.children||U._loadedRoutes)&&I.push(this.processRoutes(Ee,U.children??U._loadedRoutes))}return(0,re.H)(I).pipe((0,Ct.U)())}preloadConfig(f,C){return this.preloadingStrategy.preload(C,()=>{let I;I=C.loadChildren&&void 0===C.canLoad?this.loader.loadChildren(f,C):(0,H.of)(null);const U=I.pipe((0,Tn.Z)(X=>null===X?(0,H.of)(void 0):(C._loadedRoutes=X.routes,C._loadedInjector=X.injector,this.processRoutes(X.injector??f,X.routes))));if(C.loadComponent&&!C._loadedComponent){const X=this.loader.loadComponent(C);return(0,re.H)([U,X]).pipe((0,Ct.U)())}return U})}static{this.\u0275fac=function(C){return new(C||g)(u.KVO(V),u.KVO(u.Ql9),u.KVO(u.uvJ),u.KVO(ft),u.KVO(Qt))}}static{this.\u0275prov=u.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();const Bt=new u.nKC("");let Kn=(()=>{class g{constructor(f,C,I,U,X={}){this.urlSerializer=f,this.transitions=C,this.viewportScroller=I,this.zone=U,this.options=X,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},X.scrollPositionRestoration=X.scrollPositionRestoration||"disabled",X.anchorScrolling=X.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(f=>{f instanceof xs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=f.navigationTrigger,this.restoredId=f.restoredState?f.restoredState.navigationId:0):f instanceof Gr?(this.lastId=f.id,this.scheduleScrollEvent(f,this.urlSerializer.parse(f.urlAfterRedirects).fragment)):f instanceof Ks&&0===f.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(f,this.urlSerializer.parse(f.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(f=>{f instanceof oi&&(f.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(f.position):f.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(f.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(f,C){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new oi(f,"popstate"===this.lastSource?this.store[this.restoredId]:null,C))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(C){u.QTQ()}}static{this.\u0275prov=u.jDH({token:g,factory:g.\u0275fac})}}return g})();function m(g,...w){return(0,u.EmA)([{provide:rn,multi:!0,useValue:g},[],{provide:lt,useFactory:a,deps:[V]},{provide:u.iLQ,multi:!0,useFactory:R},w.map(f=>f.\u0275providers)])}function a(g){return g.routerState.root}function o(g,w){return{\u0275kind:g,\u0275providers:w}}function R(){const g=(0,u.WQX)(u.zZn);return w=>{const f=g.get(u.o8S);if(w!==f.components[0])return;const C=g.get(V),I=g.get(B);1===g.get(K)&&C.initialNavigation(),g.get(Ge,null,u.$GK.Optional)?.setUpPreloading(),g.get(Bt,null,u.$GK.Optional)?.init(),C.resetRootComponentType(f.componentTypes[0]),I.closed||(I.next(),I.complete(),I.unsubscribe())}}const B=new u.nKC("",{factory:()=>new bn.B}),K=new u.nKC("",{providedIn:"root",factory:()=>1}),Ge=new u.nKC("");function Fe(g){return o(0,[{provide:Ge,useExisting:xt},{provide:ft,useExisting:g}])}const de=new u.nKC("ROUTER_FORROOT_GUARD"),We=[Je.aZ,{provide:or,useClass:Ln},V,ps,{provide:lt,useFactory:a,deps:[V]},Qt,[]];function Dn(){return new u.NEm("Router",V)}let _n=(()=>{class g{constructor(f){}static forRoot(f,C){return{ngModule:g,providers:[We,[],{provide:rn,multi:!0,useValue:f},{provide:de,useFactory:Zn,deps:[[V,new u.Xx1,new u.kdw]]},{provide:Fi,useValue:C||{}},C?.useHash?{provide:Je.hb,useClass:Je.fw}:{provide:Je.hb,useClass:Je.Sm},{provide:Bt,useFactory:()=>{const g=(0,u.WQX)(Je.Xr),w=(0,u.WQX)(u.SKi),f=(0,u.WQX)(Fi),C=(0,u.WQX)(os),I=(0,u.WQX)(or);return f.scrollOffset&&g.setOffset(f.scrollOffset),new Kn(I,C,g,w,f)}},C?.preloadingStrategy?Fe(C.preloadingStrategy).\u0275providers:[],{provide:u.NEm,multi:!0,useFactory:Dn},C?.initialNavigation?vs(C):[],C?.bindToComponentInputs?o(8,[Zr,{provide:Bn,useExisting:Zr}]).\u0275providers:[],[{provide:Hi,useFactory:R},{provide:u.iLQ,multi:!0,useExisting:Hi}]]}}static forChild(f){return{ngModule:g,providers:[{provide:rn,multi:!0,useValue:f}]}}static{this.\u0275fac=function(C){return new(C||g)(u.KVO(de,8))}}static{this.\u0275mod=u.$C({type:g})}static{this.\u0275inj=u.G2t({})}}return g})();function Zn(g){return"guarded"}function vs(g){return["disabled"===g.initialNavigation?o(3,[{provide:u.hnV,multi:!0,useFactory:()=>{const w=(0,u.WQX)(V);return()=>{w.setUpLocationChangeListener()}}},{provide:K,useValue:2}]).\u0275providers:[],"enabledBlocking"===g.initialNavigation?o(2,[{provide:K,useValue:0},{provide:u.hnV,multi:!0,deps:[u.zZn],useFactory:w=>{const f=w.get(Je.hj,Promise.resolve());return()=>f.then(()=>new Promise(C=>{const I=w.get(V),U=w.get(B);A(I,()=>{C(!0)}),w.get(os).afterPreactivation=()=>(C(!0),U.closed?(0,H.of)(void 0):U),I.initialNavigation()}))}}]).\u0275providers:[]]}const Hi=new u.nKC("")},467:(ot,pe,F)=>{"use strict";function u(E,ge,re,H,Q,ce,he){try{var me=E[ce](he),oe=me.value}catch(Me){return void re(Me)}me.done?ge(oe):Promise.resolve(oe).then(H,Q)}function G(E){return function(){var ge=this,re=arguments;return new Promise(function(H,Q){var ce=E.apply(ge,re);function he(oe){u(ce,H,Q,he,me,"next",oe)}function me(oe){u(ce,H,Q,he,me,"throw",oe)}he(void 0)})}}F.d(pe,{A:()=>G})}},ot=>{ot(ot.s=52)}]);