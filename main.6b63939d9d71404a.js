"use strict";(self.webpackChunkuptc_music=self.webpackChunkuptc_music||[]).push([[792],{112:()=>{function Qe(n){return"function"==typeof n}function xu(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const kh=xu(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function fa(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Hn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Qe(r))try{r()}catch(o){e=o instanceof kh?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{TM(o)}catch(s){e=e??[],s instanceof kh?e=[...e,...s.errors]:e.push(s)}}if(e)throw new kh(e)}}add(e){var t;if(e&&e!==this)if(this.closed)TM(e);else{if(e instanceof Hn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&fa(t,e)}remove(e){const{_finalizers:t}=this;t&&fa(t,e),e instanceof Hn&&e._removeParent(this)}}Hn.EMPTY=(()=>{const n=new Hn;return n.closed=!0,n})();const EM=Hn.EMPTY;function PM(n){return n instanceof Hn||n&&"closed"in n&&Qe(n.remove)&&Qe(n.add)&&Qe(n.unsubscribe)}function TM(n){Qe(n)?n():n.unsubscribe()}const os={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Nh={setTimeout(n,e,...t){const{delegate:r}=Nh;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Nh;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function MM(n){Nh.setTimeout(()=>{const{onUnhandledError:e}=os;if(!e)throw n;e(n)})}function m_(){}const Gj=__("C",void 0,void 0);function __(n,e,t){return{kind:n,value:e,error:t}}let ss=null;function Fh(n){if(os.useDeprecatedSynchronousErrorHandling){const e=!ss;if(e&&(ss={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=ss;if(ss=null,t)throw r}}else n()}class y_ extends Hn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,PM(e)&&e.add(this)):this.destination=Xj}static create(e,t,r){return new Ou(e,t,r)}next(e){this.isStopped?C_(function Wj(n){return __("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?C_(function qj(n){return __("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?C_(Gj,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Qj=Function.prototype.bind;function v_(n,e){return Qj.call(n,e)}class Yj{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Vh(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Vh(r)}else Vh(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Vh(t)}}}class Ou extends y_{constructor(e,t,r){let i;if(super(),Qe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&os.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&v_(e.next,o),error:e.error&&v_(e.error,o),complete:e.complete&&v_(e.complete,o)}):i=e}this.destination=new Yj(i)}}function Vh(n){os.useDeprecatedSynchronousErrorHandling?function Kj(n){os.useDeprecatedSynchronousErrorHandling&&ss&&(ss.errorThrown=!0,ss.error=n)}(n):MM(n)}function C_(n,e){const{onStoppedNotification:t}=os;t&&Nh.setTimeout(()=>t(n,e))}const Xj={closed:!0,next:m_,error:function Jj(n){throw n},complete:m_},b_="function"==typeof Symbol&&Symbol.observable||"@@observable";function po(n){return n}function AM(n){return 0===n.length?po:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let dt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function t$(n){return n&&n instanceof y_||function e$(n){return n&&Qe(n.next)&&Qe(n.error)&&Qe(n.complete)}(n)&&PM(n)}(t)?t:new Ou(t,r,i);return Fh(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=DM(r))((i,o)=>{const s=new Ou({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[b_](){return this}pipe(...t){return AM(t)(this)}toPromise(t){return new(t=DM(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function DM(n){var e;return null!==(e=n??os.Promise)&&void 0!==e?e:Promise}const n$=xu(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Or=(()=>{class n extends dt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new SM(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new n$}next(t){Fh(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Fh(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Fh(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?EM:(this.currentObservers=null,o.push(t),new Hn(()=>{this.currentObservers=null,fa(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new dt;return t.source=this,t}}return n.create=(e,t)=>new SM(e,t),n})();class SM extends Or{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:EM}}function xM(n){return Qe(n?.lift)}function Ft(n){return e=>{if(xM(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Mt(n,e,t,r,i){return new r$(n,e,t,r,i)}class r$ extends y_{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Re(n,e){return Ft((t,r)=>{let i=0;t.subscribe(Mt(r,o=>{r.next(n.call(e,o,i++))}))})}function Lh(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function go(n){return this instanceof go?(this.v=n,this):new go(n)}function NM(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function P_(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){!function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}(a,c,(s=n[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const FM=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function VM(n){return Qe(n?.then)}function LM(n){return Qe(n[b_])}function UM(n){return Symbol.asyncIterator&&Qe(n?.[Symbol.asyncIterator])}function BM(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const jM=function D$(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function $M(n){return Qe(n?.[jM])}function HM(n){return function kM(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),o=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(m){return function(b){return Promise.resolve(b).then(m,h)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(m,b){r[m]&&(i[m]=function(w){return new Promise(function(T,R){o.push([m,w,T,R])>1||c(m,w)})},b&&(i[m]=b(i[m])))}function c(m,b){try{!function u(m){m.value instanceof go?Promise.resolve(m.value.v).then(d,h):p(o[0][2],m)}(r[m](b))}catch(w){p(o[0][3],w)}}function d(m){c("next",m)}function h(m){c("throw",m)}function p(m,b){m(b),o.shift(),o.length&&c(o[0][0],o[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield go(t.read());if(i)return yield go(void 0);yield yield go(r)}}finally{t.releaseLock()}})}function zM(n){return Qe(n?.getReader)}function tr(n){if(n instanceof dt)return n;if(null!=n){if(LM(n))return function S$(n){return new dt(e=>{const t=n[b_]();if(Qe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(FM(n))return function x$(n){return new dt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(VM(n))return function O$(n){return new dt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,MM)})}(n);if(UM(n))return GM(n);if($M(n))return function R$(n){return new dt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(zM(n))return function k$(n){return GM(HM(n))}(n)}throw BM(n)}function GM(n){return new dt(e=>{(function N$(n,e){var t,r,i,o;return function OM(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function c(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(d.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=NM(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Ci(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Jt(n,e,t=1/0){return Qe(e)?Jt((r,i)=>Re((o,s)=>e(r,o,i,s))(tr(n(r,i))),t):("number"==typeof e&&(t=e),Ft((r,i)=>function F$(n,e,t,r,i,o,s,a){const c=[];let u=0,d=0,h=!1;const p=()=>{h&&!c.length&&!u&&e.complete()},m=w=>u<r?b(w):c.push(w),b=w=>{o&&e.next(w),u++;let T=!1;tr(t(w,d++)).subscribe(Mt(e,R=>{i?.(R),o?m(R):e.next(R)},()=>{T=!0},void 0,()=>{if(T)try{for(u--;c.length&&u<r;){const R=c.shift();s?Ci(e,s,()=>b(R)):b(R)}p()}catch(R){e.error(R)}}))};return n.subscribe(Mt(e,m,()=>{h=!0,p()})),()=>{a?.()}}(r,i,n,t)))}function pa(n=1/0){return Jt(po,n)}const Wr=new dt(n=>n.complete());function qM(n){return n&&Qe(n.schedule)}function M_(n){return n[n.length-1]}function WM(n){return Qe(M_(n))?n.pop():void 0}function Ru(n){return qM(M_(n))?n.pop():void 0}function Uh(n,e=0){return Ft((t,r)=>{t.subscribe(Mt(r,i=>Ci(r,n,()=>r.next(i),e),()=>Ci(r,n,()=>r.complete(),e),i=>Ci(r,n,()=>r.error(i),e)))})}function Bh(n,e=0){return Ft((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function KM(n,e){if(!n)throw new Error("Iterable cannot be null");return new dt(t=>{Ci(t,e,()=>{const r=n[Symbol.asyncIterator]();Ci(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Bt(n,e){return e?function z$(n,e){if(null!=n){if(LM(n))return function U$(n,e){return tr(n).pipe(Bh(e),Uh(e))}(n,e);if(FM(n))return function j$(n,e){return new dt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(VM(n))return function B$(n,e){return tr(n).pipe(Bh(e),Uh(e))}(n,e);if(UM(n))return KM(n,e);if($M(n))return function $$(n,e){return new dt(t=>{let r;return Ci(t,e,()=>{r=n[jM](),Ci(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>Qe(r?.return)&&r.return()})}(n,e);if(zM(n))return function H$(n,e){return KM(HM(n),e)}(n,e)}throw BM(n)}(n,e):tr(n)}class Gt extends Or{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function ge(...n){return Bt(n,Ru(n))}function QM(n={}){const{connector:e=(()=>new Or),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,c,u=0,d=!1,h=!1;const p=()=>{a?.unsubscribe(),a=void 0},m=()=>{p(),s=c=void 0,d=h=!1},b=()=>{const w=s;m(),w?.unsubscribe()};return Ft((w,T)=>{u++,!h&&!d&&p();const R=c=c??e();T.add(()=>{u--,0===u&&!h&&!d&&(a=A_(b,i))}),R.subscribe(T),!s&&u>0&&(s=new Ou({next:D=>R.next(D),error:D=>{h=!0,p(),a=A_(m,t,D),R.error(D)},complete:()=>{d=!0,p(),a=A_(m,r),R.complete()}}),tr(w).subscribe(s))})(o)}}function A_(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Ou({next:()=>{r.unsubscribe(),n()}});return tr(e(...t)).subscribe(r)}function Pn(n,e){return Ft((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(Mt(r,c=>{i?.unsubscribe();let u=0;const d=o++;tr(n(c,d)).subscribe(i=Mt(r,h=>r.next(e?e(c,h,d,u++):h),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function YM(n,e=po){return n=n??q$,Ft((t,r)=>{let i,o=!0;t.subscribe(Mt(r,s=>{const a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function q$(n,e){return n===e}const jh=xu(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function bi(n,e){return Ft((t,r)=>{let i=0;t.subscribe(Mt(r,o=>n.call(e,o,i++)&&r.next(o)))})}function ga(n){return n<=0?()=>Wr:Ft((e,t)=>{let r=0;e.subscribe(Mt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function $h(n){return Ft((e,t)=>{let r=!1;e.subscribe(Mt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function JM(n=W$){return Ft((e,t)=>{let r=!1;e.subscribe(Mt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function W$(){return new jh}function Ii(n,e){const t=arguments.length>=2;return r=>r.pipe(n?bi((i,o)=>n(i,o,r)):po,ga(1),t?$h(e):JM(()=>new jh))}function Ge(n){for(let e in n)if(n[e]===Ge)return e;throw Error("Could not find renamed property on target object.")}function Hh(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function jt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(jt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function D_(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const K$=Ge({__forward_ref__:Ge});function tt(n){return n.__forward_ref__=tt,n.toString=function(){return jt(this())},n}function ve(n){return S_(n)?n():n}function S_(n){return"function"==typeof n&&n.hasOwnProperty(K$)&&n.__forward_ref__===tt}function x_(n){return n&&!!n.\u0275providers}const XM="https://g.co/ng/security#xss";class K extends Error{constructor(e,t){super(function ku(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function Ie(n){return"string"==typeof n?n:null==n?"":String(n)}function O_(n,e){throw new K(-201,!1)}function mr(n,e){null==n&&function _e(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function le(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function _r(n){return{providers:n.providers||[],imports:n.imports||[]}}function zh(n){return ZM(n,qh)||ZM(n,eA)}function ZM(n,e){return n.hasOwnProperty(e)?n[e]:null}function Gh(n){return n&&(n.hasOwnProperty(R_)||n.hasOwnProperty(n6))?n[R_]:null}const qh=Ge({\u0275prov:Ge}),R_=Ge({\u0275inj:Ge}),eA=Ge({ngInjectableDef:Ge}),n6=Ge({ngInjectorDef:Ge});var De=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(De||{});let k_;function zn(n){const e=k_;return k_=n,e}function nA(n,e,t){const r=zh(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&De.Optional?null:void 0!==e?e:void O_(jt(n))}const nt=globalThis;class oe{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=le({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Nu={},U_="__NG_DI_FLAG__",Wh="ngTempTokenPath",o6=/\n/gm,iA="__source";let ma;function mo(n){const e=ma;return ma=n,e}function c6(n,e=De.Default){if(void 0===ma)throw new K(-203,!1);return null===ma?nA(n,void 0,e):ma.get(n,e&De.Optional?null:void 0,e)}function se(n,e=De.Default){return(function tA(){return k_}()||c6)(ve(n),e)}function ne(n,e=De.Default){return se(n,Kh(e))}function Kh(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function B_(n){const e=[];for(let t=0;t<n.length;t++){const r=ve(n[t]);if(Array.isArray(r)){if(0===r.length)throw new K(900,!1);let i,o=De.Default;for(let s=0;s<r.length;s++){const a=r[s],c=u6(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}e.push(se(i,o))}else e.push(se(r))}return e}function Fu(n,e){return n[U_]=e,n.prototype[U_]=e,n}function u6(n){return n[U_]}function wi(n){return{toString:n}.toString()}var Qh=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Qh||{}),Rr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Rr||{});const Kr={},Ue=[],Yh=Ge({\u0275cmp:Ge}),j_=Ge({\u0275dir:Ge}),$_=Ge({\u0275pipe:Ge}),sA=Ge({\u0275mod:Ge}),Ei=Ge({\u0275fac:Ge}),Vu=Ge({__NG_ELEMENT_ID__:Ge}),aA=Ge({__NG_ENV_ID__:Ge});function cA(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function H_(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{const o=i,s=t[++r];lA(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function uA(n){return 3===n||4===n||6===n}function lA(n){return 64===n.charCodeAt(0)}function Lu(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||dA(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function dA(n,e,t,r,i){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}const hA="ng-template";function h6(n,e,t){let r=0,i=!0;for(;r<n.length;){let o=n[r++];if("string"==typeof o&&i){const s=n[r++];if(t&&"class"===o&&-1!==cA(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<n.length&&"string"==typeof(o=n[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function fA(n){return 4===n.type&&n.value!==hA}function f6(n,e,t){return e===(4!==n.type||t?n.value:hA)}function p6(n,e,t){let r=4;const i=n.attrs||[],o=function _6(n){for(let e=0;e<n.length;e++)if(uA(n[e]))return e;return n.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!f6(n,c,t)||""===c&&1===e.length){if(kr(r))return!1;s=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==n.attrs){if(!h6(n.attrs,u,t)){if(kr(r))return!1;s=!0}continue}const h=g6(8&r?"class":c,i,fA(n),t);if(-1===h){if(kr(r))return!1;s=!0;continue}if(""!==u){let p;p=h>o?"":i[h+1].toLowerCase();const m=8&r?p:null;if(m&&-1!==cA(m,u,0)||2&r&&u!==p){if(kr(r))return!1;s=!0}}}}else{if(!s&&!kr(r)&&!kr(c))return!1;if(s&&kr(c))continue;s=!1,r=c|1&r}}return kr(r)||s}function kr(n){return 0==(1&n)}function g6(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const s=e[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function y6(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function pA(n,e,t=!1){for(let r=0;r<e.length;r++)if(p6(n,e[r],t))return!0;return!1}function gA(n,e){return n?":not("+e.trim()+")":e}function C6(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!kr(s)&&(e+=gA(o,i),i=""),r=s,o=o||!kr(r);t++}return""!==i&&(e+=gA(o,i)),e}function Tn(n){return wi(()=>{const e=_A(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Qh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Rr.Emulated,styles:n.styles||Ue,_:null,schemas:n.schemas||null,tView:null,id:""};yA(t);const r=n.dependencies;return t.directiveDefs=Jh(r,!1),t.pipeDefs=Jh(r,!0),t.id=function A6(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function E6(n){return Fe(n)||Xt(n)}function P6(n){return null!==n}function Nr(n){return wi(()=>({type:n.type,bootstrap:n.bootstrap||Ue,declarations:n.declarations||Ue,imports:n.imports||Ue,exports:n.exports||Ue,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function mA(n,e){if(null==n)return Kr;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,e&&(e[i]=o)}return t}function Ce(n){return wi(()=>{const e=_A(n);return yA(e),e})}function Fe(n){return n[Yh]||null}function Xt(n){return n[j_]||null}function Mn(n){return n[$_]||null}function rr(n,e){const t=n[sA]||null;if(!t&&!0===e)throw new Error(`Type ${jt(n)} does not have '\u0275mod' property.`);return t}function _A(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Kr,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Ue,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:mA(n.inputs,e),outputs:mA(n.outputs)}}function yA(n){n.features?.forEach(e=>e(n))}function Jh(n,e){if(!n)return null;const t=e?Mn:E6;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(P6)}const It=0,ae=1,Pe=2,ht=3,Fr=4,Uu=5,dn=6,ya=7,At=8,_o=9,va=10,we=11,Bu=12,vA=13,Ca=14,Dt=15,ju=16,ba=17,Qr=18,$u=19,CA=20,yo=21,Pi=22,Hu=23,zu=24,Se=25,z_=1,bA=2,Yr=7,Ia=9,Gu=10,Zt=11;function qn(n){return Array.isArray(n)&&"object"==typeof n[z_]}function An(n){return Array.isArray(n)&&!0===n[z_]}function G_(n){return 0!=(4&n.flags)}function cs(n){return n.componentOffset>-1}function Zh(n){return 1==(1&n.flags)}function Vr(n){return!!n.template}function q_(n){return 0!=(512&n[Pe])}function us(n,e){return n.hasOwnProperty(Ei)?n[Ei]:null}let en=null,ef=!1;function yr(n){const e=en;return en=n,e}const EA={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function TA(n){if(!qu(n)||n.dirty){if(!n.producerMustRecompute(n)&&!DA(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function AA(n){n.dirty=!0,function MA(n){if(void 0===n.liveConsumerNode)return;const e=ef;ef=!0;try{for(const t of n.liveConsumerNode)t.dirty||AA(t)}finally{ef=e}}(n),n.consumerMarkedDirty?.(n)}function K_(n){return n&&(n.nextProducerIndex=0),yr(n)}function Q_(n,e){if(yr(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(qu(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)tf(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function DA(n){wa(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(TA(t),r!==t.version))return!0}return!1}function SA(n){if(wa(n),qu(n))for(let e=0;e<n.producerNode.length;e++)tf(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function tf(n,e){if(function OA(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),wa(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)tf(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];wa(i),i.producerIndexOfThis[r]=e}}function qu(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function wa(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let RA=null;const VA=()=>{},j6=(()=>({...EA,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:VA}))();class $6{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function vr(){return LA}function LA(n){return n.type.prototype.ngOnChanges&&(n.setInput=z6),H6}function H6(){const n=BA(this),e=n?.current;if(e){const t=n.previous;if(t===Kr)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function z6(n,e,t,r){const i=this.declaredInputs[t],o=BA(n)||function G6(n,e){return n[UA]=e}(n,{previous:Kr,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[i];s[i]=new $6(c&&c.currentValue,e,a===Kr),n[r]=e}vr.ngInherit=!0;const UA="__ngSimpleChanges__";function BA(n){return n[UA]||null}const Jr=function(n,e,t){};function rt(n){for(;Array.isArray(n);)n=n[It];return n}function nf(n,e){return rt(e[n])}function Wn(n,e){return rt(e[n.index])}function HA(n,e){return n.data[e]}function ir(n,e){const t=e[n];return qn(t)?t:t[It]}function Co(n,e){return null==e?null:n[e]}function zA(n){n[ba]=0}function J6(n){1024&n[Pe]||(n[Pe]|=1024,qA(n,1))}function GA(n){1024&n[Pe]&&(n[Pe]&=-1025,qA(n,-1))}function qA(n,e){let t=n[ht];if(null===t)return;t[Uu]+=e;let r=t;for(t=t[ht];null!==t&&(1===e&&1===r[Uu]||-1===e&&0===r[Uu]);)t[Uu]+=e,r=t,t=t[ht]}const ye={lFrame:rD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function QA(){return ye.bindingsEnabled}function Pa(){return null!==ye.skipHydrationRootTNode}function G(){return ye.lFrame.lView}function Ve(){return ye.lFrame.tView}function J(n){return ye.lFrame.contextLView=n,n[At]}function X(n){return ye.lFrame.contextLView=null,n}function tn(){let n=YA();for(;null!==n&&64===n.type;)n=n.parent;return n}function YA(){return ye.lFrame.currentTNode}function Xr(n,e){const t=ye.lFrame;t.currentTNode=n,t.isParent=e}function ey(){return ye.lFrame.isParent}function Dn(){const n=ye.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Ta(){return ye.lFrame.bindingIndex++}function Mi(n){const e=ye.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function uH(n,e){const t=ye.lFrame;t.bindingIndex=t.bindingRootIndex=n,ny(e)}function ny(n){ye.lFrame.currentDirectiveIndex=n}function eD(){return ye.lFrame.currentQueryIndex}function iy(n){ye.lFrame.currentQueryIndex=n}function dH(n){const e=n[ae];return 2===e.type?e.declTNode:1===e.type?n[dn]:null}function tD(n,e,t){if(t&De.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&De.Host||(i=dH(o),null===i||(o=o[Ca],10&i.type))););if(null===i)return!1;e=i,n=o}const r=ye.lFrame=nD();return r.currentTNode=e,r.lView=n,!0}function oy(n){const e=nD(),t=n[ae];ye.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function nD(){const n=ye.lFrame,e=null===n?null:n.child;return null===e?rD(n):e}function rD(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function iD(){const n=ye.lFrame;return ye.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const oD=iD;function sy(){const n=iD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Sn(){return ye.lFrame.selectedIndex}function ls(n){ye.lFrame.selectedIndex=n}function _t(){const n=ye.lFrame;return HA(n.tView,n.selectedIndex)}function sD(){return ye.lFrame.currentNamespace}let aD=!0;function rf(){return aD}function bo(n){aD=n}function sf(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),null!=d&&(n.destroyHooks??=[]).push(t,d)}}function af(n,e,t){cD(n,e,3,t)}function cf(n,e,t,r){(3&n[Pe])===t&&cD(n,e,t,r)}function ay(n,e){let t=n[Pe];(3&t)===e&&(t&=8191,t+=1,n[Pe]=t)}function cD(n,e,t,r){const o=r??-1,s=e.length-1;let a=0;for(let c=void 0!==r?65535&n[ba]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(n[ba]+=65536),(a<o||-1==o)&&(vH(n,t,e,c),n[ba]=(4294901760&n[ba])+c+2),c++}function uD(n,e){Jr(4,n,e);const t=yr(null);try{e.call(n)}finally{yr(t),Jr(5,n,e)}}function vH(n,e,t,r){const i=t[r]<0,o=t[r+1],a=n[i?-t[r]:t[r]];i?n[Pe]>>13<n[ba]>>16&&(3&n[Pe])===e&&(n[Pe]+=8192,uD(a,o)):uD(a,o)}const Ma=-1;class Ku{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function uy(n){return n!==Ma}function Qu(n){return 32767&n}function Yu(n,e){let t=function wH(n){return n>>16}(n),r=e;for(;t>0;)r=r[Ca],t--;return r}let ly=!0;function uf(n){const e=ly;return ly=n,e}const lD=255,dD=5;let EH=0;const Zr={};function lf(n,e){const t=hD(n,e);if(-1!==t)return t;const r=e[ae];r.firstCreatePass&&(n.injectorIndex=e.length,dy(r.data,n),dy(e,null),dy(r.blueprint,null));const i=df(n,e),o=n.injectorIndex;if(uy(i)){const s=Qu(i),a=Yu(i,e),c=a[ae].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function dy(n,e){n.push(0,0,0,0,0,0,0,0,e)}function hD(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function df(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=vD(i),null===r)return Ma;if(t++,i=i[Ca],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Ma}function hy(n,e,t){!function PH(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Vu)&&(r=t[Vu]),null==r&&(r=t[Vu]=EH++);const i=r&lD;e.data[n+(i>>dD)]|=1<<i}(n,e,t)}function fD(n,e,t){if(t&De.Optional||void 0!==n)return n;O_()}function pD(n,e,t,r){if(t&De.Optional&&void 0===r&&(r=null),!(t&(De.Self|De.Host))){const i=n[_o],o=zn(void 0);try{return i?i.get(e,r,t&De.Optional):nA(e,r,t&De.Optional)}finally{zn(o)}}return fD(r,0,t)}function gD(n,e,t,r=De.Default,i){if(null!==n){if(2048&e[Pe]&&!(r&De.Self)){const s=function xH(n,e,t,r,i){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[Pe]&&!(512&s[Pe]);){const a=mD(o,s,t,r|De.Self,Zr);if(a!==Zr)return a;let c=o.parent;if(!c){const u=s[CA];if(u){const d=u.get(t,Zr,r);if(d!==Zr)return d}c=vD(s),s=s[Ca]}o=c}return i}(n,e,t,r,Zr);if(s!==Zr)return s}const o=mD(n,e,t,r,Zr);if(o!==Zr)return o}return pD(e,t,r,i)}function mD(n,e,t,r,i){const o=function AH(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Vu)?n[Vu]:void 0;return"number"==typeof e?e>=0?e&lD:SH:e}(t);if("function"==typeof o){if(!tD(e,n,r))return r&De.Host?fD(i,0,r):pD(e,t,r,i);try{let s;if(s=o(r),null!=s||r&De.Optional)return s;O_()}finally{oD()}}else if("number"==typeof o){let s=null,a=hD(n,e),c=Ma,u=r&De.Host?e[Dt][dn]:null;for((-1===a||r&De.SkipSelf)&&(c=-1===a?df(n,e):e[a+8],c!==Ma&&yD(r,!1)?(s=e[ae],a=Qu(c),e=Yu(c,e)):a=-1);-1!==a;){const d=e[ae];if(_D(o,a,d.data)){const h=MH(a,e,t,s,r,u);if(h!==Zr)return h}c=e[a+8],c!==Ma&&yD(r,e[ae].data[a+8]===u)&&_D(o,a,e)?(s=d,a=Qu(c),e=Yu(c,e)):a=-1}}return i}function MH(n,e,t,r,i,o){const s=e[ae],a=s.data[n+8],d=hf(a,s,t,null==r?cs(a)&&ly:r!=s&&0!=(3&a.type),i&De.Host&&o===a);return null!==d?ds(e,s,d,a):Zr}function hf(n,e,t,r,i){const o=n.providerIndexes,s=e.data,a=1048575&o,c=n.directiveStart,d=o>>20,p=i?a+d:n.directiveEnd;for(let m=r?a:a+d;m<p;m++){const b=s[m];if(m<c&&t===b||m>=c&&b.type===t)return m}if(i){const m=s[c];if(m&&Vr(m)&&m.type===t)return c}return null}function ds(n,e,t,r){let i=n[t];const o=e.data;if(function CH(n){return n instanceof Ku}(i)){const s=i;s.resolving&&function Q$(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new K(-200,`Circular dependency in DI detected for ${n}${t}`)}(function ze(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ie(n)}(o[t]));const a=uf(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?zn(s.injectImpl):null;tD(n,r,De.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function yH(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=LA(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==u&&zn(u),uf(a),s.resolving=!1,oD()}}return i}function _D(n,e,t){return!!(t[e+(n>>dD)]&1<<n)}function yD(n,e){return!(n&De.Self||n&De.Host&&e)}class xn{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return gD(this._tNode,this._lView,e,Kh(r),t)}}function SH(){return new xn(tn(),G())}function nn(n){return wi(()=>{const e=n.prototype.constructor,t=e[Ei]||fy(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[Ei]||fy(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function fy(n){return S_(n)?()=>{const e=fy(ve(n));return e&&e()}:us(n)}function vD(n){const e=n[ae],t=e.type;return 2===t?e.declTNode:1===t?n[dn]:null}const Da="__parameters__";function xa(n,e,t){return wi(()=>{const r=function py(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,u,d){const h=c.hasOwnProperty(Da)?c[Da]:Object.defineProperty(c,Da,{value:[]})[Da];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(s),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Ra(n,e){n.forEach(t=>Array.isArray(t)?Ra(t,e):e(t))}function bD(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function pf(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function or(n,e,t){let r=ka(n,e);return r>=0?n[1|r]=t:(r=~r,function LH(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function gy(n,e){const t=ka(n,e);if(t>=0)return n[1|t]}function ka(n,e){return function ID(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const On=Fu(xa("Optional"),8),mf=Fu(xa("SkipSelf"),4),Fa="ngSkipHydration";function OD(n){const e=Fa.toLowerCase(),t=n.mergedAttrs;if(null===t)return!1;for(let r=0;r<t.length;r+=2){const i=t[r];if("number"==typeof i)return!1;if("string"==typeof i&&i.toLowerCase()===e)return!0}return!1}function RD(n){return n.hasAttribute(Fa)}function bf(n){return 128==(128&n.flags)}var Io=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Io||{});const o8=/^>|^->|<!--|-->|--!>|<!-$/g,s8=/(<|>)/g,a8="\u200b$1\u200b";const Cy=new Map;let c8=0;const Iy="__ngContext__";function hn(n,e){qn(e)?(n[Iy]=e[$u],function l8(n){Cy.set(n[$u],n)}(e)):n[Iy]=e}let wy;function Ey(n,e){return wy(n,e)}function nl(n){const e=n[ht];return An(e)?e[ht]:e}function $D(n){return zD(n[Bu])}function HD(n){return zD(n[Fr])}function zD(n){for(;null!==n&&!An(n);)n=n[Fr];return n}function Va(n,e,t,r,i){if(null!=r){let o,s=!1;An(r)?o=r:qn(r)&&(s=!0,r=r[It]);const a=rt(r);0===n&&null!==t?null==i?KD(e,t,a):hs(e,t,a,i||null,!0):1===n&&null!==t?hs(e,t,a,i||null,!0):2===n?Af(e,a,s):3===n&&e.destroyNode(a),null!=o&&function O8(n,e,t,r,i){const o=t[Yr];o!==rt(t)&&Va(e,n,r,o,i);for(let a=Zt;a<t.length;a++){const c=t[a];il(c[ae],c,n,e,r,o)}}(e,n,o,t,i)}}function wf(n,e){return n.createText(e)}function Py(n,e){return n.createComment(function kD(n){return n.replace(o8,e=>e.replace(s8,a8))}(e))}function Ef(n,e,t){return n.createElement(e,t)}function qD(n,e){const t=n[Ia],r=t.indexOf(e);GA(e),t.splice(r,1)}function Pf(n,e){if(n.length<=Zt)return;const t=Zt+e,r=n[t];if(r){const i=r[ju];null!==i&&i!==n&&qD(i,r),e>0&&(n[t-1][Fr]=r[Fr]);const o=pf(n,Zt+e);!function b8(n,e){il(n,e,e[we],2,null,null),e[It]=null,e[dn]=null}(r[ae],r);const s=o[Qr];null!==s&&s.detachView(o[ae]),r[ht]=null,r[Fr]=null,r[Pe]&=-129}return r}function Ty(n,e){if(!(256&e[Pe])){const t=e[we];e[Hu]&&SA(e[Hu]),e[zu]&&SA(e[zu]),t.destroyNode&&il(n,e,t,3,null,null),function E8(n){let e=n[Bu];if(!e)return My(n[ae],n);for(;e;){let t=null;if(qn(e))t=e[Bu];else{const r=e[Zt];r&&(t=r)}if(!t){for(;e&&!e[Fr]&&e!==n;)qn(e)&&My(e[ae],e),e=e[ht];null===e&&(e=n),qn(e)&&My(e[ae],e),t=e&&e[Fr]}e=t}}(e)}}function My(n,e){if(!(256&e[Pe])){e[Pe]&=-129,e[Pe]|=256,function A8(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Ku)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];Jr(4,a,c);try{c.call(a)}finally{Jr(5,a,c)}}else{Jr(4,i,o);try{o.call(i)}finally{Jr(5,i,o)}}}}}(n,e),function M8(n,e){const t=n.cleanup,r=e[ya];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else t[o].call(r[t[o+1]]);null!==r&&(e[ya]=null);const i=e[yo];if(null!==i){e[yo]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(n,e),1===e[ae].type&&e[we].destroy();const t=e[ju];if(null!==t&&An(e[ht])){t!==e[ht]&&qD(t,e);const r=e[Qr];null!==r&&r.detachView(n)}!function d8(n){Cy.delete(n[$u])}(e)}}function Ay(n,e,t){return function WD(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[It];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=n.data[r.directiveStart+i];if(o===Rr.None||o===Rr.Emulated)return null}return Wn(r,t)}}(n,e.parent,t)}function hs(n,e,t,r,i){n.insertBefore(e,t,r,i)}function KD(n,e,t){n.appendChild(e,t)}function QD(n,e,t,r,i){null!==r?hs(n,e,t,r,i):KD(n,e,t)}function Tf(n,e){return n.parentNode(e)}let Dy,Ry,Sf,XD=function JD(n,e,t){return 40&n.type?Wn(n,t):null};function Mf(n,e,t,r){const i=Ay(n,r,e),o=e[we],a=function YD(n,e,t){return XD(n,e,t)}(r.parent||e[dn],r,e);if(null!=i)if(Array.isArray(t))for(let c=0;c<t.length;c++)QD(o,i,t[c],a,!1);else QD(o,i,t,a,!1);void 0!==Dy&&Dy(o,r,e,t,i)}function rl(n,e){if(null!==e){const t=e.type;if(3&t)return Wn(e,n);if(4&t)return Sy(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return rl(n,r);{const i=n[e.index];return An(i)?Sy(-1,i):rt(i)}}if(32&t)return Ey(e,n)()||rt(n[e.index]);{const r=eS(n,e);return null!==r?Array.isArray(r)?r[0]:rl(nl(n[Dt]),r):rl(n,e.next)}}return null}function eS(n,e){return null!==e?n[Dt][dn].projection[e.projection]:null}function Sy(n,e){const t=Zt+n+1;if(t<e.length){const r=e[t],i=r[ae].firstChild;if(null!==i)return rl(r,i)}return e[Yr]}function Af(n,e,t){const r=Tf(n,e);r&&function D8(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}function tS(n){n.textContent=""}function xy(n,e,t,r,i,o,s){for(;null!=t;){const a=r[t.index],c=t.type;if(s&&0===e&&(a&&hn(rt(a),r),t.flags|=2),32!=(32&t.flags))if(8&c)xy(n,e,t.child,r,i,o,!1),Va(e,n,i,a,o);else if(32&c){const u=Ey(t,r);let d;for(;d=u();)Va(e,n,i,d,o);Va(e,n,i,a,o)}else 16&c?nS(n,e,r,t,i,o):Va(e,n,i,a,o);t=s?t.projectionNext:t.next}}function il(n,e,t,r,i,o){xy(t,r,n.firstChild,e,i,o,!1)}function nS(n,e,t,r,i,o){const s=t[Dt],c=s[dn].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)Va(e,n,i,c[u],o);else{let u=c;const d=s[ht];bf(r)&&(u.flags|=128),xy(n,e,u,d,i,o,!0)}}function rS(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function iS(n,e,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&H_(n,e,r),null!==i&&rS(n,e,i),null!==o&&function k8(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function Ua(){if(void 0!==Ry)return Ry;if(typeof document<"u")return document;throw new K(210,!1)}function aS(n){return function ky(){if(void 0===Sf&&(Sf=null,nt.trustedTypes))try{Sf=nt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Sf}()?.createScriptURL(n)||n}class cS{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${XM})`}}function wo(n){return n instanceof cS?n.changingThisBreaksApplicationSecurity:n}function ol(n,e){const t=function z8(n){return n instanceof cS&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${XM})`)}return t===e}const K8=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Ba=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Ba||{});function sr(n){const e=al();return e?e.sanitize(Ba.URL,n)||"":ol(n,"URL")?wo(n):function Ny(n){return(n=String(n)).match(K8)?n:"unsafe:"+n}(Ie(n))}function gS(n){const e=al();if(e)return aS(e.sanitize(Ba.RESOURCE_URL,n)||"");if(ol(n,"ResourceURL"))return aS(wo(n));throw new K(904,!1)}function al(){const n=G();return n&&n[va].sanitizer}const ja=new oe("ENVIRONMENT_INITIALIZER"),_S=new oe("INJECTOR",-1),yS=new oe("INJECTOR_DEF_TYPES");class Uy{get(e,t=Nu){if(t===Nu){const r=new Error(`NullInjectorError: No provider for ${jt(e)}!`);throw r.name="NullInjectorError",r}return t}}function cl(n){return{\u0275providers:n}}function vS(...n){return{\u0275providers:CS(0,n),\u0275fromNgModule:!0}}function CS(n,...e){const t=[],r=new Set;let i;const o=s=>{t.push(s)};return Ra(e,s=>{const a=s;Of(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&bS(i,o),t}function bS(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];By(i,o=>{e(o,r)})}}function Of(n,e,t,r){if(!(n=ve(n)))return!1;let i=null,o=Gh(n);const s=!o&&Fe(n);if(o||s){if(s&&!s.standalone)return!1;i=n}else{const c=n.ngModule;if(o=Gh(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of c)Of(u,e,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;r.add(i);try{Ra(o.imports,d=>{Of(d,e,t,r)&&(u||=[],u.push(d))})}finally{}void 0!==u&&bS(u,e)}if(!a){const u=us(i)||(()=>new i);e({provide:i,useFactory:u,deps:Ue},i),e({provide:yS,useValue:i,multi:!0},i),e({provide:ja,useValue:()=>se(i),multi:!0},i)}const c=o.providers;if(null!=c&&!a){const u=n;By(c,d=>{e(d,u)})}}}return i!==n&&void 0!==n.providers}function By(n,e){for(let t of n)x_(t)&&(t=t.\u0275providers),Array.isArray(t)?By(t,e):e(t)}const az=Ge({provide:String,useValue:Ge});function jy(n){return null!==n&&"object"==typeof n&&az in n}function fs(n){return"function"==typeof n}const $y=new oe("Set Injector scope."),Rf={},uz={};let Hy;function kf(){return void 0===Hy&&(Hy=new Uy),Hy}class ar{}class $a extends ar{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Gy(e,s=>this.processProvider(s)),this.records.set(_S,Ha(void 0,this)),i.has("environment")&&this.records.set(ar,Ha(void 0,this));const o=this.records.get($y);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(yS.multi,Ue,De.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=mo(this),r=zn(void 0);try{return e()}finally{mo(t),zn(r)}}get(e,t=Nu,r=De.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(aA))return e[aA](this);r=Kh(r);const o=mo(this),s=zn(void 0);try{if(!(r&De.SkipSelf)){let c=this.records.get(e);if(void 0===c){const u=function pz(n){return"function"==typeof n||"object"==typeof n&&n instanceof oe}(e)&&zh(e);c=u&&this.injectableDefInScope(u)?Ha(zy(e),Rf):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&De.Self?kf():this.parent).get(e,t=r&De.Optional&&t===Nu?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Wh]=a[Wh]||[]).unshift(jt(e)),o)throw a;return function l6(n,e,t,r){const i=n[Wh];throw e[iA]&&i.unshift(e[iA]),n.message=function d6(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=jt(e);if(Array.isArray(e))i=e.map(jt).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):jt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(o6,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Wh]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{zn(s),mo(o)}}resolveInjectorInitializers(){const e=mo(this),t=zn(void 0);try{const i=this.get(ja.multi,Ue,De.Self);for(const o of i)o()}finally{mo(e),zn(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(jt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new K(205,!1)}processProvider(e){let t=fs(e=ve(e))?e:ve(e&&e.provide);const r=function dz(n){return jy(n)?Ha(void 0,n.useValue):Ha(ES(n),Rf)}(e);if(fs(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Ha(void 0,Rf,!0),i.factory=()=>B_(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Rf&&(t.value=uz,t.value=t.factory()),"object"==typeof t.value&&t.value&&function fz(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=ve(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function zy(n){const e=zh(n),t=null!==e?e.factory:us(n);if(null!==t)return t;if(n instanceof oe)throw new K(204,!1);if(n instanceof Function)return function lz(n){const e=n.length;if(e>0)throw function Zu(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new K(204,!1);const t=function t6(n){return n&&(n[qh]||n[eA])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new K(204,!1)}function ES(n,e,t){let r;if(fs(n)){const i=ve(n);return us(i)||zy(i)}if(jy(n))r=()=>ve(n.useValue);else if(function wS(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...B_(n.deps||[]));else if(function IS(n){return!(!n||!n.useExisting)}(n))r=()=>se(ve(n.useExisting));else{const i=ve(n&&(n.useClass||n.provide));if(!function hz(n){return!!n.deps}(n))return us(i)||zy(i);r=()=>new i(...B_(n.deps))}return r}function Ha(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Gy(n,e){for(const t of n)Array.isArray(t)?Gy(t,e):t&&x_(t)?Gy(t.\u0275providers,e):e(t)}const qy=new oe("AppId",{providedIn:"root",factory:()=>gz}),gz="ng",PS=new oe("Platform Initializer"),Di=new oe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),TS=new oe("CSP nonce",{providedIn:"root",factory:()=>Ua().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),MS=new oe("",{providedIn:"root",factory:()=>new Set});function mz(){const n=new za;return"browser"===ne(Di)&&(n.store=function _z(n,e){const t=n.getElementById(e+"-state");if(t?.textContent)try{return JSON.parse(t.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}(Ua(),ne(qy))),n}let za=(()=>{class n{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=le({token:n,providedIn:"root",factory:mz})}get(t,r){return void 0!==this.store[t]?this.store[t]:r}set(t,r){this.store[t]=r}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(t,r){this.onSerializeCallbacks[t]=r}toJson(){for(const t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return n})();const Wy="h",Ky="b";var Ga=function(n){return n.FirstChild="f",n.NextSibling="n",n}(Ga||{});const Qy="e",Yy="t",ul="c",Nf="x",qa="r",Jy="i",Xy="n",Ff="d",Zy="__\u0275nghData__",ll="ngh";let AS=(n,e,t)=>null;function vz(n,e,t=!1){let r=n.getAttribute(ll);if(null==r)return null;const[i,o]=r.split("|");if(r=t?o:i,!r)return null;const s=t?i:o?`|${o}`:"";let a={};if(""!==r){const u=e.get(za,null,{optional:!0});null!==u&&(a=u.get(Zy,[])[Number(r)])}const c={data:a,firstChild:n.firstChild??null};return t&&(c.firstChild=n,Vf(c,0,n.nextSibling)),s?n.setAttribute(ll,s):n.removeAttribute(ll),c}function ev(n,e,t=!1){return AS(n,e,t)}function DS(n){let e=n._lView;return 2===e[ae].type?null:(q_(e)&&(e=e[Se]),e)}function Vf(n,e,t){n.segmentHeads??={},n.segmentHeads[e]=t}function tv(n,e){return n.segmentHeads?.[e]??null}function SS(n,e){return n.data[ul]?.[e]??null}function nv(n,e){const t=SS(n,e)??[];let r=0;for(let i of t)r+=i[qa]*(i[Nf]??1);return r}function Lf(n,e){if(typeof n.disconnectedNodes>"u"){const t=n.data[Ff];n.disconnectedNodes=t?new Set(t):null}return!!n.disconnectedNodes?.has(e)}class Pz{}class xS{}class Mz{resolveComponentFactory(e){throw function Tz(n){const e=Error(`No component factory found for ${jt(n)}.`);return e.ngComponent=n,e}(e)}}let Uf=(()=>{class n{static{this.NULL=new Mz}}return n})();function Az(){return Wa(tn(),G())}function Wa(n,e){return new cr(Wn(n,e))}let cr=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=Az}}return n})();function Dz(n){return n instanceof cr?n.nativeElement:n}class RS{}let Si=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function Sz(){const n=G(),t=ir(tn().index,n);return(qn(t)?t:n)[we]}()}}return n})(),xz=(()=>{class n{static{this.\u0275prov=le({token:n,providedIn:"root",factory:()=>null})}}return n})();class Ka{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const kS=new Ka("16.2.12"),rv={};function LS(n,e=null,t=null,r){const i=US(n,e,t,r);return i.resolveInjectorInitializers(),i}function US(n,e=null,t=null,r,i=new Set){const o=[t||Ue,vS(n)];return r=r||("object"==typeof n?void 0:jt(n)),new $a(o,e||kf(),r||null,i)}let fn=(()=>{class n{static{this.THROW_IF_NOT_FOUND=Nu}static{this.NULL=new Uy}static create(t,r){if(Array.isArray(t))return LS({name:""},r,t,"");{const i=t.name??"";return LS({name:i},t.parent,t.providers,i)}}static{this.\u0275prov=le({token:n,providedIn:"any",factory:()=>se(_S)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();function ov(n){return n.ngOriginalError}class xi{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&ov(e);for(;t&&ov(t);)t=ov(t);return t||null}}function sv(n){return e=>{setTimeout(n,void 0,e)}}const yt=class Uz extends Or{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=sv(o),i&&(i=sv(i)),s&&(s=sv(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof Hn&&e.add(a),a}};function jS(...n){}class Be{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yt(!1),this.onMicrotaskEmpty=new yt(!1),this.onStable=new yt(!1),this.onError=new yt(!1),typeof Zone>"u")throw new K(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Bz(){const n="function"==typeof nt.requestAnimationFrame;let e=nt[n?"requestAnimationFrame":"setTimeout"],t=nt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function Hz(n){const e=()=>{!function $z(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(nt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,cv(n),n.isCheckStableRunning=!0,av(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),cv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{if(function Gz(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,o,s,a);try{return $S(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),HS(n)}},onInvoke:(t,r,i,o,s,a,c)=>{try{return $S(n),t.invoke(i,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),HS(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,cv(n),av(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Be.isInAngularZone())throw new K(909,!1)}static assertNotInAngularZone(){if(Be.isInAngularZone())throw new K(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,jz,jS,jS);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const jz={};function av(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function cv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function $S(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function HS(n){n._nesting--,av(n)}const zS=new oe("",{providedIn:"root",factory:GS});function GS(){const n=ne(Be);let e=!0;return function G$(...n){const e=Ru(n),t=function L$(n,e){return"number"==typeof M_(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?tr(r[0]):pa(t)(Bt(r,e)):Wr}(new dt(i=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{i.next(e),i.complete()})}),new dt(i=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{Be.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=n.onUnstable.subscribe(()=>{Be.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(QM()))}function uv(n){return n.ownerDocument}function Oi(n){return n instanceof Function?n():n}function Ya(n){return"browser"===(n??ne(fn)).get(Di)}let lv=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=le({token:n,providedIn:"root",factory:()=>new n})}}return n})();function dl(n){for(;n;){n[Pe]|=64;const e=nl(n);if(q_(n)&&!e)return n;n=e}return null}const jf=new oe(""),YS=new oe("",{providedIn:"root",factory:()=>!1});let $f=null;function ex(n,e){return n[e]??rx()}function tx(n,e){const t=rx();t.producerNode?.length&&(n[e]=$f,t.lView=n,$f=nx())}const e9={...EA,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{dl(n.lView)},lView:null};function nx(){return Object.create(e9)}function rx(){return $f??=nx(),$f}const Ee={};function C(n){ix(Ve(),G(),Sn()+n,!1)}function ix(n,e,t,r){if(!r)if(3==(3&e[Pe])){const o=n.preOrderCheckHooks;null!==o&&af(e,o,t)}else{const o=n.preOrderHooks;null!==o&&cf(e,o,0,t)}ls(t)}function z(n,e=De.Default){const t=G();return null===t?se(n,e):gD(tn(),t,ve(n),e)}function Hf(n,e,t,r,i,o,s,a,c,u,d){const h=e.blueprint.slice();return h[It]=i,h[Pe]=140|r,(null!==u||n&&2048&n[Pe])&&(h[Pe]|=2048),zA(h),h[ht]=h[Ca]=n,h[At]=t,h[va]=s||n&&n[va],h[we]=a||n&&n[we],h[_o]=c||n&&n[_o]||null,h[dn]=o,h[$u]=function u8(){return c8++}(),h[Pi]=d,h[CA]=u,h[Dt]=2==e.type?n[Dt]:h,h}function Ja(n,e,t,r,i){let o=n.data[e];if(null===o)o=function dv(n,e,t,r,i){const o=YA(),s=ey(),c=n.data[e]=function c9(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Pa()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(n,e,t,r,i),function cH(){return ye.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function Wu(){const n=ye.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Xr(o,!0),o}function hl(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function sx(n,e,t,r,i){const o=ex(e,Hu),s=Sn(),a=2&r;try{ls(-1),a&&e.length>Se&&ix(n,e,Se,!1),Jr(a?2:0,i);const u=a?o:null,d=K_(u);try{null!==u&&(u.dirty=!1),t(r,i)}finally{Q_(u,d)}}finally{a&&null===e[Hu]&&tx(e,Hu),ls(s),Jr(a?3:1,i)}}function hv(n,e,t){if(G_(e)){const r=yr(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{yr(r)}}}function fv(n,e,t){QA()&&(function g9(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;cs(t)&&function I9(n,e,t){const r=Wn(e,n),i=ax(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=zf(n,Hf(n,i,null,s,r,e,null,n[va].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||lf(t,e),hn(r,e);const s=t.initialInputs;for(let a=i;a<o;a++){const c=n.data[a],u=ds(e,n,a,t);hn(u,e),null!==s&&w9(0,a-i,u,c,0,s),Vr(c)&&(ir(t.index,e)[At]=ds(e,n,a,t))}}(n,e,t,Wn(t,e)),64==(64&t.flags)&&hx(n,e,t))}function pv(n,e,t=Wn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(e,n):n[s];n[i++]=a}}}function ax(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=gv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function gv(n,e,t,r,i,o,s,a,c,u,d){const h=Se+r,p=h+i,m=function n9(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Ee);return t}(h,p),b="function"==typeof u?u():u;return m[ae]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:b,incompleteFirstPass:!1,ssrId:d}}let cx=n=>null;function o9(n){RD(n)?tS(n):function Iz(n){const e=Ua(),t=e.createNodeIterator(n,NodeFilter.SHOW_COMMENT,{acceptNode(o){const s=function bz(n){return n.textContent?.replace(/\s/gm,"")}(o);return"ngetn"===s||"ngtns"===s?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}});let r;const i=[];for(;r=t.nextNode();)i.push(r);for(const o of i)"ngetn"===o.textContent?o.replaceWith(e.createTextNode("")):o.remove()}(n)}function ux(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const o=n[i];null===r?lx(t,e,i,o):r.hasOwnProperty(i)&&lx(t,e,r[i],o)}return t}function lx(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function ur(n,e,t,r,i,o,s,a){const c=Wn(e,t);let d,u=e.inputs;!a&&null!=u&&(d=u[r])?(Cv(n,t,d,r,i),cs(e)&&function d9(n,e){const t=ir(e,n);16&t[Pe]||(t[Pe]|=64)}(t,e.index)):3&e.type&&(r=function l9(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(c,r,i))}function mv(n,e,t,r){if(QA()){const i=null===r?null:{"":-1},o=function _9(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(pA(e,s.selectors,!1))if(r||(r=[]),Vr(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),_v(n,e,a.length)}else r.unshift(s),_v(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&dx(n,e,t,s,i,a),i&&function y9(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new K(-301,!1);r.push(e[i],o)}}}(t,r,i)}t.mergedAttrs=Lu(t.mergedAttrs,t.attrs)}function dx(n,e,t,r,i,o){for(let u=0;u<r.length;u++)hy(lf(t,e),n,r[u].type);!function C9(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let u=0;u<r.length;u++){const d=r[u];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,c=hl(n,e,r.length,null);for(let u=0;u<r.length;u++){const d=r[u];t.mergedAttrs=Lu(t.mergedAttrs,d.hostAttrs),b9(n,t,e,c,d),v9(c,d,i),null!==d.contentQueries&&(t.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=64);const h=d.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function u9(n,e,t){const i=e.directiveEnd,o=n.data,s=e.attrs,a=[];let c=null,u=null;for(let d=e.directiveStart;d<i;d++){const h=o[d],p=t?t.get(h):null,b=p?p.outputs:null;c=ux(h.inputs,d,c,p?p.inputs:null),u=ux(h.outputs,d,u,b);const w=null===c||null===s||fA(e)?null:E9(c,d,s);a.push(w)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}(n,t,o)}function hx(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function lH(){return ye.lFrame.currentDirectiveIndex}();try{ls(o);for(let a=r;a<i;a++){const c=n.data[a],u=e[a];ny(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&m9(c,u)}}finally{ls(-1),ny(s)}}function m9(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function _v(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function v9(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Vr(e)&&(t[""]=n)}}function b9(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=us(i.type)),s=new Ku(o,Vr(i),z);n.blueprint[r]=s,t[r]=s,function f9(n,e,t,r,i){const o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function p9(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,o)}}(n,e,r,hl(n,t,i.hostVars,Ee),i)}function ei(n,e,t,r,i,o){const s=Wn(n,e);!function yv(n,e,t,r,i,o,s){if(null==o)n.removeAttribute(e,i,t);else{const a=null==s?Ie(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}(e[we],s,o,n.value,t,r,i)}function w9(n,e,t,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)fx(r,t,s[a++],s[a++],s[a++])}function fx(n,e,t,r,i){const o=yr(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==n.setInput?n.setInput(e,i,t,r):e[r]=i}finally{yr(o)}}function E9(n,e,t){let r=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===r&&(r=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function px(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null,null]}function gx(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const o=t[r+1];if(-1!==o){const s=n.data[o];iy(t[r]),s.contentQueries(2,e[o],o)}}}function zf(n,e){return n[Bu]?n[vA][Fr]=e:n[Bu]=e,n[vA]=e,e}function vv(n,e,t){iy(0);const r=yr(null);try{e(n,t)}finally{yr(r)}}function mx(n){return n[ya]||(n[ya]=[])}function _x(n){return n.cleanup||(n.cleanup=[])}function vx(n,e){const t=n[_o],r=t?t.get(xi,null):null;r&&r.handleError(e)}function Cv(n,e,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];fx(n.data[s],e[s],r,a,i)}}function Ri(n,e,t){const r=nf(e,n);!function GD(n,e,t){n.setValue(e,t)}(n[we],r,t)}function P9(n,e){const t=ir(e,n),r=t[ae];!function T9(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[It];null!==i&&null===t[Pi]&&(t[Pi]=ev(i,t[_o])),bv(r,t,t[At])}function bv(n,e,t){oy(e);try{const r=n.viewQuery;null!==r&&vv(1,r,t);const i=n.template;null!==i&&sx(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&gx(n,e),n.staticViewQueries&&vv(2,n.viewQuery,t);const o=n.components;null!==o&&function M9(n,e){for(let t=0;t<e.length;t++)P9(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Pe]&=-5,sy()}}let Cx=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function B6(n,e,t){const r=Object.create(j6);t&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=e;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>AA(r),run:()=>{if(r.dirty=!1,r.hasRun&&!DA(r))return;r.hasRun=!0;const s=K_(r);try{r.cleanupFn(),r.cleanupFn=VA,r.fn(i)}finally{Q_(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(t,u=>{this.all.has(u)&&this.queue.set(u,o)},i);let a;this.all.add(s),s.notify();const c=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=le({token:n,providedIn:"root",factory:()=>new n})}}return n})();function Gf(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=D_(i,a):2==o&&(r=D_(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function fl(n,e,t,r,i=!1){for(;null!==t;){const o=e[t.index];null!==o&&r.push(rt(o)),An(o)&&bx(o,r);const s=t.type;if(8&s)fl(n,e,t.child,r);else if(32&s){const a=Ey(t,e);let c;for(;c=a();)r.push(c)}else if(16&s){const a=eS(e,t);if(Array.isArray(a))r.push(...a);else{const c=nl(e[Dt]);fl(c[ae],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function bx(n,e){for(let t=Zt;t<n.length;t++){const r=n[t],i=r[ae].firstChild;null!==i&&fl(r[ae],r,i,e)}n[Yr]!==n[It]&&e.push(n[Yr])}function qf(n,e,t,r=!0){const i=e[va],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{Ix(n,e,n.template,t)}catch(c){throw r&&vx(e,c),c}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function Ix(n,e,t,r){const i=e[Pe];if(256!=(256&i)){e[va].effectManager?.flush(),oy(e);try{zA(e),function XA(n){return ye.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&sx(n,e,t,2,r);const s=3==(3&i);if(s){const u=n.preOrderCheckHooks;null!==u&&af(e,u,null)}else{const u=n.preOrderHooks;null!==u&&cf(e,u,0,null),ay(e,0)}if(function S9(n){for(let e=$D(n);null!==e;e=HD(e)){if(!e[bA])continue;const t=e[Ia];for(let r=0;r<t.length;r++){J6(t[r])}}}(e),wx(e,2),null!==n.contentQueries&&gx(n,e),s){const u=n.contentCheckHooks;null!==u&&af(e,u)}else{const u=n.contentHooks;null!==u&&cf(e,u,1),ay(e,1)}!function t9(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const r=ex(e,zu);try{for(let i=0;i<t.length;i++){const o=t[i];if(o<0)ls(~o);else{const s=o,a=t[++i],c=t[++i];uH(a,s),r.dirty=!1;const u=K_(r);try{c(2,e[s])}finally{Q_(r,u)}}}}finally{null===e[zu]&&tx(e,zu),ls(-1)}}(n,e);const a=n.components;null!==a&&Px(e,a,0);const c=n.viewQuery;if(null!==c&&vv(2,c,r),s){const u=n.viewCheckHooks;null!==u&&af(e,u)}else{const u=n.viewHooks;null!==u&&cf(e,u,2),ay(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[Pe]&=-73,GA(e)}finally{sy()}}}function wx(n,e){for(let t=$D(n);null!==t;t=HD(t))for(let r=Zt;r<t.length;r++)Ex(t[r],e)}function x9(n,e,t){Ex(ir(e,n),t)}function Ex(n,e){if(!function Q6(n){return 128==(128&n[Pe])}(n))return;const t=n[ae],r=n[Pe];if(80&r&&0===e||1024&r||2===e)Ix(t,n,t.template,n[At]);else if(n[Uu]>0){wx(n,1);const i=t.components;null!==i&&Px(n,i,1)}}function Px(n,e,t){for(let r=0;r<e.length;r++)x9(n,e[r],t)}class pl{get rootNodes(){const e=this._lView,t=e[ae];return fl(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[At]}set context(e){this._lView[At]=e}get destroyed(){return 256==(256&this._lView[Pe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[ht];if(An(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Pf(e,r),pf(t,r))}this._attachedToViewContainer=!1}Ty(this._lView[ae],this._lView)}onDestroy(e){!function WA(n,e){if(256==(256&n[Pe]))throw new K(911,!1);null===n[yo]&&(n[yo]=[]),n[yo].push(e)}(this._lView,e)}markForCheck(){dl(this._cdRefInjectingView||this._lView)}detach(){this._lView[Pe]&=-129}reattach(){this._lView[Pe]|=128}detectChanges(){qf(this._lView[ae],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new K(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function w8(n,e){il(n,e,e[we],2,null,null)}(this._lView[ae],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new K(902,!1);this._appRef=e}}class O9 extends pl{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;qf(e[ae],e,e[At],!1)}checkNoChanges(){}get context(){return null}}class Tx extends Uf{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Fe(e);return new gl(t,this.ngModule)}}function Mx(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class k9{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Kh(r);const i=this.injector.get(e,rv,r);return i!==rv||t===rv?i:this.parentInjector.get(e,t,r)}}class gl extends xS{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=Mx(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return Mx(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function b6(n){return n.map(C6).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=(i=i||this.ngModule)instanceof ar?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new k9(e,o):e,a=s.get(RS,null);if(null===a)throw new K(407,!1);const h={rendererFactory:a,sanitizer:s.get(xz,null),effectManager:s.get(Cx,null),afterRenderEventManager:s.get(lv,null)},p=a.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",b=r?function r9(n,e,t,r){const o=r.get(YS,!1)||t===Rr.ShadowDom,s=n.selectRootElement(e,o);return function i9(n){cx(n)}(s),s}(p,r,this.componentDef.encapsulation,s):Ef(p,m,function R9(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(m)),R=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let D=null;null!==b&&(D=ev(b,s,!0));const j=gv(0,null,null,1,0,null,null,null,null,null,null),Q=Hf(null,j,null,R,null,null,h,p,s,null,D);let ie,he;oy(Q);try{const S=this.componentDef;let P,M=null;S.findHostDirectiveDefs?(P=[],M=new Map,S.findHostDirectiveDefs(S,P,M),P.push(S)):P=[S];const O=function F9(n,e){const t=n[ae],r=Se;return n[r]=e,Ja(t,r,2,"#host",null)}(Q,b),k=function V9(n,e,t,r,i,o,s){const a=i[ae];!function L9(n,e,t,r){for(const i of n)e.mergedAttrs=Lu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Gf(e,e.mergedAttrs,!0),null!==t&&iS(r,t,e))}(r,n,e,s);let c=null;null!==e&&(c=ev(e,i[_o]));const u=o.rendererFactory.createRenderer(e,t);let d=16;t.signals?d=4096:t.onPush&&(d=64);const h=Hf(i,ax(t),null,d,i[n.index],n,o,u,null,null,c);return a.firstCreatePass&&_v(a,n,r.length-1),zf(i,h),i[n.index]=h}(O,b,S,P,Q,h,p);he=HA(j,Se),b&&function B9(n,e,t,r){if(r)H_(n,t,["ng-version",kS.full]);else{const{attrs:i,classes:o}=function I6(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!kr(i))break;i=o}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&H_(n,t,i),o&&o.length>0&&rS(n,t,o.join(" "))}}(p,S,b,r),void 0!==t&&function j9(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const o=t[i];r.push(null!=o?Array.from(o):null)}}(he,this.ngContentSelectors,t),ie=function U9(n,e,t,r,i,o){const s=tn(),a=i[ae],c=Wn(s,i);dx(a,i,s,t,null,r);for(let d=0;d<t.length;d++)hn(ds(i,a,s.directiveStart+d,s),i);hx(a,i,s),c&&hn(c,i);const u=ds(i,a,s.directiveStart+s.componentOffset,s);if(n[At]=i[At]=u,null!==o)for(const d of o)d(u,e);return hv(a,s,n),u}(k,S,P,M,Q,[$9]),bv(j,Q,null)}finally{sy()}return new N9(this.componentType,ie,Wa(he,Q),Q,he)}}class N9 extends Pz{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new O9(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;Cv(o[ae],o,i,e,t),this.previousInputValues.set(e,t),dl(ir(this._tNode.index,o))}}get injector(){return new xn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function $9(){const n=tn();sf(G()[ae],n)}function qe(n){let e=function Ax(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Vr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new K(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const s=n;s.inputs=Wf(n.inputs),s.inputTransforms=Wf(n.inputTransforms),s.declaredInputs=Wf(n.declaredInputs),s.outputs=Wf(n.outputs);const a=i.hostBindings;a&&q9(n,a);const c=i.viewQuery,u=i.contentQueries;if(c&&z9(n,c),u&&G9(n,u),Hh(n.inputs,i.inputs),Hh(n.declaredInputs,i.declaredInputs),Hh(n.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Hh(s.inputTransforms,i.inputTransforms)),Vr(i)&&i.data.animation){const d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===qe&&(t=!1)}}e=Object.getPrototypeOf(e)}!function H9(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Lu(i.hostAttrs,t=Lu(t,i.hostAttrs))}}(r)}function Wf(n){return n===Kr?{}:n===Ue?[]:n}function z9(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function G9(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,o)=>{e(r,i,o),t(r,i,o)}:e}function q9(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function Ox(n){const e=n.inputConfig,t={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(t[r]=i[2])}n.inputTransforms=t}function Kf(n){return!!Iv(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Iv(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ti(n,e,t){return n[e]=t}function ml(n,e){return n[e]}function pn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function ps(n,e,t,r){const i=pn(n,e,t);return pn(n,e+1,r)||i}function ni(n,e,t,r){const i=G();return pn(i,Ta(),e)&&(Ve(),ei(_t(),i,n,e,t,r)),ni}function Za(n,e,t,r){return pn(n,Ta(),t)?e+Ie(t)+r:Ee}function ec(n,e,t,r,i,o){const a=ps(n,function Ti(){return ye.lFrame.bindingIndex}(),t,i);return Mi(2),a?e+Ie(t)+r+Ie(i)+o:Ee}const uG=new RegExp(`^(\\d+)*(${Ky}|${Wy})*(.*)`);function Tv(n){return n.index-Se}function Jf(n,e,t,r){let i=null;const o=Tv(r),s=n.data[Xy];if(s?.[o])i=function pG(n,e){const[t,...r]=function dG(n){const e=n.match(uG),[t,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(const[c,u,d]of o.matchAll(/(f|n)(\d*)/g)){const h=parseInt(d,10)||1;a.push(u,h)}return[s,...a]}(n);let i;return i=t===Wy?e[Dt][It]:t===Ky?function qS(n){return n.ownerDocument.body}(e[Dt][It]):rt(e[Number(t)+Se]),function fG(n,e){let t=n;for(let r=0;r<e.length;r+=2){const i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case Ga.FirstChild:t=t.firstChild;break;case Ga.NextSibling:t=t.nextSibling}}return t}(i,r)}(s[o],t);else if(e.firstChild===r)i=n.firstChild;else{const a=null===r.prev,c=r.prev??r.parent;if(function hG(n){return!n.prev&&8===n.parent?.type}(r))i=tv(n,Tv(r.parent));else{let u=Wn(c,t);if(a)i=u.firstChild;else{const d=Tv(c),h=tv(n,d);i=2===c.type&&h?Xf(nv(n,d)+1,h):u.nextSibling}}}return i}function Xf(n,e){let t=e;for(let r=0;r<n;r++)t=t.nextSibling;return t}function Y(n,e,t,r,i,o,s,a){const c=G(),u=Ve(),d=n+Se,h=u.firstCreatePass?function _G(n,e,t,r,i,o,s,a,c){const u=e.consts,d=Ja(e,n,4,s||null,Co(u,a));mv(e,t,d,Co(u,c)),sf(e,d);const h=d.tView=gv(2,d,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return null!==e.queries&&(e.queries.template(e,d),h.queries=e.queries.embeddedTView(d)),d}(d,u,c,e,t,r,i,o,s):u.data[d];Xr(h,!1);const p=Gx(u,c,h,n);rf()&&Mf(u,c,p,h),hn(p,c),zf(c,c[d]=px(p,c,p,h)),Zh(h)&&fv(u,c,h),null!=s&&pv(c,h,a)}let Gx=qx;function qx(n,e,t,r){return bo(!0),e[we].createComment("")}function yG(n,e,t,r){const i=e[Pi],o=!i||Pa()||Lf(i,r);if(bo(o),o)return qx(0,e);const s=i.data[Yy]?.[r]??null;null!==s&&null!==t.tView&&null===t.tView.ssrId&&(t.tView.ssrId=s);const a=Jf(i,n,e,t);return Vf(i,r,a),Xf(nv(i,r),a)}function ac(n){return function Ea(n,e){return n[e]}(function aH(){return ye.lFrame.contextLView}(),Se+n)}function L(n,e,t){const r=G();return pn(r,Ta(),e)&&ur(Ve(),_t(),r,n,e,r[we],t,!1),L}function Av(n,e,t,r,i){const s=i?"class":"style";Cv(n,t,e.inputs[s],s,r)}function _(n,e,t,r){const i=G(),o=Ve(),s=Se+n,a=i[we],c=o.firstCreatePass?function bG(n,e,t,r,i,o){const s=e.consts,c=Ja(e,n,2,r,Co(s,i));return mv(e,t,c,Co(s,o)),null!==c.attrs&&Gf(c,c.attrs,!1),null!==c.mergedAttrs&&Gf(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,e,t,r):o.data[s],u=Wx(o,i,c,a,e,n);i[s]=u;const d=Zh(c);return Xr(c,!0),iS(a,u,c),32!=(32&c.flags)&&rf()&&Mf(o,i,u,c),0===function Z6(){return ye.lFrame.elementDepthCount}()&&hn(u,i),function eH(){ye.lFrame.elementDepthCount++}(),d&&(fv(o,i,c),hv(o,c,i)),null!==r&&pv(i,c),_}function y(){let n=tn();ey()?function ty(){ye.lFrame.isParent=!1}():(n=n.parent,Xr(n,!1));const e=n;(function nH(n){return ye.skipHydrationRootTNode===n})(e)&&function sH(){ye.skipHydrationRootTNode=null}(),function tH(){ye.lFrame.elementDepthCount--}();const t=Ve();return t.firstCreatePass&&(sf(t,n),G_(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function bH(n){return 0!=(8&n.flags)}(e)&&Av(t,e,G(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function IH(n){return 0!=(16&n.flags)}(e)&&Av(t,e,G(),e.stylesWithoutHost,!1),y}function x(n,e,t,r){return _(n,e,t,r),y(),x}let Wx=(n,e,t,r,i,o)=>(bo(!0),Ef(r,i,sD()));function IG(n,e,t,r,i,o){const s=e[Pi],a=!s||Pa()||Lf(s,o);if(bo(a),a)return Ef(r,i,sD());const c=Jf(s,n,e,t);return SS(s,o)&&Vf(s,o,c.nextSibling),s&&(OD(t)||RD(c))&&cs(t)&&(function iH(n){ye.skipHydrationRootTNode=n}(t),tS(c)),c}let Qx=(n,e,t,r)=>(bo(!0),Py(e[we],""));function PG(n,e,t,r){let i;const o=e[Pi],s=!o||Pa();if(bo(s),s)return Py(e[we],"");const a=Jf(o,n,e,t),c=function Ez(n,e){const t=n.data;let r=t[Qy]?.[e]??null;return null===r&&t[ul]?.[e]&&(r=nv(n,e)),r}(o,r);return Vf(o,r,a),i=Xf(c,a),i}function Ae(){return G()}function Cl(n){return!!n&&"function"==typeof n.then}function Yx(n){return!!n&&"function"==typeof n.subscribe}function H(n,e,t,r){const i=G(),o=Ve(),s=tn();return function Xx(n,e,t,r,i,o,s){const a=Zh(r),u=n.firstCreatePass&&_x(n),d=e[At],h=mx(e);let p=!0;if(3&r.type||s){const w=Wn(r,e),T=s?s(w):w,R=h.length,D=s?Q=>s(rt(Q[r.index])):r.index;let j=null;if(!s&&a&&(j=function MG(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=e[ya],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,e,i,r.index)),null!==j)(j.__ngLastListenerFn__||j).__ngNextListenerFn__=o,j.__ngLastListenerFn__=o,p=!1;else{o=eO(r,e,d,o,!1);const Q=t.listen(T,i,o);h.push(o,Q),u&&u.push(i,D,R,R+1)}}else o=eO(r,e,d,o,!1);const m=r.outputs;let b;if(p&&null!==m&&(b=m[i])){const w=b.length;if(w)for(let T=0;T<w;T+=2){const ie=e[b[T]][b[T+1]].subscribe(o),he=h.length;h.push(o,ie),u&&u.push(i,r.index,he,-(he+1))}}}(o,i,i[we],s,n,e,r),H}function Zx(n,e,t,r){try{return Jr(6,e,t),!1!==t(r)}catch(i){return vx(n,i),!1}finally{Jr(7,e,t)}}function eO(n,e,t,r,i){return function o(s){if(s===Function)return r;dl(n.componentOffset>-1?ir(n.index,e):e);let c=Zx(e,t,r,s),u=o.__ngNextListenerFn__;for(;u;)c=Zx(e,t,u,s)&&c,u=u.__ngNextListenerFn__;return i&&!1===c&&s.preventDefault(),c}}function B(n=1){return function hH(n){return(ye.lFrame.contextLView=function fH(n,e){for(;n>0;)e=e[Ca],n--;return e}(n,ye.lFrame.contextLView))[At]}(n)}function Zf(n,e,t){return ep(n,"",e,"",t),Zf}function ep(n,e,t,r,i){const o=G(),s=Za(o,e,t,r);return s!==Ee&&ur(Ve(),_t(),o,n,s,o[we],i,!1),ep}function tp(n,e){return n<<17|e<<2}function Eo(n){return n>>17&32767}function xv(n){return 2|n}function gs(n){return(131068&n)>>2}function Ov(n,e){return-131069&n|e<<2}function Rv(n){return 1|n}function uO(n,e,t,r,i){const o=n[t+1],s=null===e;let a=r?Eo(o):gs(o),c=!1;for(;0!==a&&(!1===c||s);){const d=n[a+1];FG(n[a],e)&&(c=!0,n[a+1]=r?Rv(d):xv(d)),a=r?Eo(d):gs(d)}c&&(n[t+1]=r?xv(o):Rv(o))}function FG(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&ka(n,e)>=0}const Ht={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function lO(n){return n.substring(Ht.key,Ht.keyEnd)}function dO(n,e){const t=Ht.textEnd;return t===e?-1:(e=Ht.keyEnd=function BG(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Ht.key=e,t),cc(n,e,t))}function cc(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function bl(n,e,t){return Lr(n,e,t,!1),bl}function me(n,e){return Lr(n,e,null,!0),me}function ii(n,e){for(let t=function LG(n){return function fO(n){Ht.key=0,Ht.keyEnd=0,Ht.value=0,Ht.valueEnd=0,Ht.textEnd=n.length}(n),dO(n,cc(n,0,Ht.textEnd))}(e);t>=0;t=dO(e,t))or(n,lO(e),!0)}function Lr(n,e,t,r){const i=G(),o=Ve(),s=Mi(2);o.firstUpdatePass&&_O(o,n,s,r),e!==Ee&&pn(i,s,e)&&vO(o,o.data[Sn()],i,i[we],n,i[s+1]=function XG(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=jt(wo(n)))),n}(e,t),r,s)}function mO(n,e){return e>=n.expandoStartIndex}function _O(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[Sn()],s=mO(n,t);bO(o,r)&&null===e&&!s&&(e=!1),e=function GG(n,e,t,r){const i=function ry(n){const e=ye.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Il(t=kv(null,n,e,t,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==i)if(t=kv(i,n,e,t,r),null===o){let c=function qG(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==gs(r))return n[Eo(r)]}(n,e,r);void 0!==c&&Array.isArray(c)&&(c=kv(null,n,e,c[1],r),c=Il(c,e.attrs,r),function WG(n,e,t,r){n[Eo(t?e.classBindings:e.styleBindings)]=r}(n,e,r,c))}else o=function KG(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Il(r,n[o].hostAttrs,t);return Il(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function kG(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Eo(s),c=gs(s);n[r]=t;let d,u=!1;if(Array.isArray(t)?(d=t[1],(null===d||ka(t,d)>0)&&(u=!0)):d=t,i)if(0!==c){const p=Eo(n[a+1]);n[r+1]=tp(p,a),0!==p&&(n[p+1]=Ov(n[p+1],r)),n[a+1]=function OG(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=tp(a,0),0!==a&&(n[a+1]=Ov(n[a+1],r)),a=r;else n[r+1]=tp(c,0),0===a?a=r:n[c+1]=Ov(n[c+1],r),c=r;u&&(n[r+1]=xv(n[r+1])),uO(n,d,r,!0),uO(n,d,r,!1),function NG(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&ka(o,e)>=0&&(t[r+1]=Rv(t[r+1]))}(e,d,n,r,o),s=tp(a,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,t,s,r)}}function kv(n,e,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],r=Il(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Il(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),or(n,s,!!t||e[++o]))}return void 0===n?null:n}function vO(n,e,t,r,i,o,s,a){if(!(3&e.type))return;const c=n.data,u=c[a+1],d=function RG(n){return 1==(1&n)}(u)?CO(c,e,t,i,gs(u),s):void 0;np(d)||(np(o)||function xG(n){return 2==(2&n)}(u)&&(o=CO(c,null,t,i,a,s)),function R8(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:Io.DashCase;null==i?n.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Io.Important),n.setStyle(t,r,i,o))}}(r,s,nf(Sn(),t),i,o))}function CO(n,e,t,r,i,o){const s=null===e;let a;for(;i>0;){const c=n[i],u=Array.isArray(c),d=u?c[1]:c,h=null===d;let p=t[i+1];p===Ee&&(p=h?Ue:void 0);let m=h?gy(p,r):d===r?p:void 0;if(u&&!np(m)&&(m=gy(c,r)),np(m)&&(a=m,s))return a;const b=n[i+1];i=s?Eo(b):gs(b)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=gy(c,r))}return a}function np(n){return void 0!==n}function bO(n,e){return 0!=(n.flags&(e?8:16))}function I(n,e=""){const t=G(),r=Ve(),i=n+Se,o=r.firstCreatePass?Ja(r,i,1,e,null):r.data[i],s=IO(r,t,o,e,n);t[i]=s,rf()&&Mf(r,t,s,o),Xr(o,!1)}let IO=(n,e,t,r,i)=>(bo(!0),wf(e[we],r));function ZG(n,e,t,r,i){const o=e[Pi],s=!o||Pa()||Lf(o,i);return bo(s),s?wf(e[we],r):Jf(o,n,e,t)}function ce(n){return pe("",n,""),ce}function pe(n,e,t){const r=G(),i=Za(r,n,e,t);return i!==Ee&&Ri(r,Sn(),i),pe}function ki(n,e,t,r,i){const o=G(),s=ec(o,n,e,t,r,i);return s!==Ee&&Ri(o,Sn(),s),ki}function rp(n,e,t){!function Ur(n,e,t,r){const i=Ve(),o=Mi(2);i.firstUpdatePass&&_O(i,null,o,r);const s=G();if(t!==Ee&&pn(s,o,t)){const a=i.data[Sn()];if(bO(a,r)&&!mO(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(t=D_(c,t||"")),Av(i,a,s,t,r)}else!function JG(n,e,t,r,i,o,s,a){i===Ee&&(i=Ue);let c=0,u=0,d=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==d||null!==h;){const p=c<i.length?i[c+1]:void 0,m=u<o.length?o[u+1]:void 0;let w,b=null;d===h?(c+=2,u+=2,p!==m&&(b=h,w=m)):null===h||null!==d&&d<h?(c+=2,b=d):(u+=2,b=h,w=m),null!==b&&vO(n,e,t,r,b,w,s,a),d=c<i.length?i[c]:null,h=u<o.length?o[u]:null}}(i,a,s,s[we],s[o+1],s[o+1]=function QG(n,e,t){if(null==t||""===t)return Ue;const r=[],i=wo(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,o)}}(or,ii,Za(G(),n,e,t),!0)}const lc="en-US";let HO=lc;function Vv(n,e,t,r,i){if(n=ve(n),Array.isArray(n))for(let o=0;o<n.length;o++)Vv(n[o],e,t,r,i);else{const o=Ve(),s=G(),a=tn();let c=fs(n)?n:ve(n.provide);const u=ES(n),d=1048575&a.providerIndexes,h=a.directiveStart,p=a.providerIndexes>>20;if(fs(n)||!n.multi){const m=new Ku(u,i,z),b=Uv(c,e,i?d:d+p,h);-1===b?(hy(lf(a,s),o,c),Lv(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[b]=m,s[b]=m)}else{const m=Uv(c,e,d+p,h),b=Uv(c,e,d,d+p),T=b>=0&&t[b];if(i&&!T||!i&&!(m>=0&&t[m])){hy(lf(a,s),o,c);const R=function y7(n,e,t,r,i){const o=new Ku(n,t,z);return o.multi=[],o.index=e,o.componentProviders=0,pR(o,i,r&&!t),o}(i?_7:m7,t.length,i,r,u);!i&&T&&(t[b].providerFactory=R),Lv(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(R),s.push(R)}else Lv(o,n,m>-1?m:b,pR(t[i?b:m],u,!i&&r));!i&&r&&T&&t[b].componentProviders++}}}function Lv(n,e,t,r){const i=fs(e),o=function cz(n){return!!n.useClass}(e);if(i||o){const c=(o?ve(e.useClass):e).prototype.ngOnDestroy;if(c){const u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const d=u.indexOf(t);-1===d?u.push(t,[r,c]):u[d+1].push(r,c)}else u.push(t,c)}}}function pR(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Uv(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function m7(n,e,t,r){return Bv(this.multi,[])}function _7(n,e,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=ds(t,t[ae],this.providerFactory.index,r);o=a.slice(0,s),Bv(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Bv(i,o);return o}function Bv(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function ft(n,e=[]){return t=>{t.providersResolver=(r,i)=>function g7(n,e,t){const r=Ve();if(r.firstCreatePass){const i=Vr(n);Vv(t,r.data,r.blueprint,i,!0),Vv(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class _s{}class gR{}class jv extends _s{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Tx(this);const i=rr(e);this._bootstrapComponents=Oi(i.bootstrap),this._r3Injector=US(e,t,[{provide:_s,useValue:this},{provide:Uf,useValue:this.componentFactoryResolver},...r],jt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class $v extends gR{constructor(e){super(),this.moduleType=e}create(e){return new jv(this.moduleType,e,[])}}class mR extends _s{constructor(e){super(),this.componentFactoryResolver=new Tx(this),this.instance=null;const t=new $a([...e.providers,{provide:_s,useValue:this},{provide:Uf,useValue:this.componentFactoryResolver}],e.parent||kf(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Hv(n,e,t=null){return new mR({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let b7=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=CS(0,t.type),i=r.length>0?Hv([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=le({token:n,providedIn:"environment",factory:()=>new n(se(ar))})}}return n})();function kn(n){n.getStandaloneInjector=e=>e.get(b7).getOrCreateStandaloneInjector(n)}function ys(n,e,t){const r=Dn()+n,i=G();return i[r]===Ee?ti(i,r,t?e.call(t):e()):ml(i,r)}function Gv(n,e,t,r){return function ER(n,e,t,r,i,o){const s=e+t;return pn(n,s,i)?ti(n,s+1,o?r.call(o,i):r(i)):function Al(n,e){const t=n[e];return t===Ee?void 0:t}(n,s+1)}(G(),Dn(),n,e,t,r)}function wR(n,e,t,r,i,o,s,a,c){const u=Dn()+n,d=G(),h=function br(n,e,t,r,i,o){const s=ps(n,e,t,r);return ps(n,e+2,i,o)||s}(d,u,t,r,i,o);return ps(d,u+4,s,a)||h?ti(d,u+6,c?e.call(c,t,r,i,o,s,a):e(t,r,i,o,s,a)):ml(d,u+6)}function z7(){return this._results[Symbol.iterator]()}class qv{get changes(){return this._changes||(this._changes=new yt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=qv.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=z7)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function Cr(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function FH(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function q7(n,e,t,r=!0){const i=e[ae];if(function P8(n,e,t,r){const i=Zt+r,o=t.length;r>0&&(t[i-1][Fr]=e),r<o-Zt?(e[Fr]=t[i],bD(t,Zt+r,e)):(t.push(e),e[Fr]=null),e[ht]=t;const s=e[ju];null!==s&&t!==s&&function T8(n,e){const t=n[Ia];e[Dt]!==e[ht][ht][Dt]&&(n[bA]=!0),null===t?n[Ia]=[e]:t.push(e)}(s,e);const a=e[Qr];null!==a&&a.insertView(n),e[Pe]|=128}(i,e,n,t),r){const o=Sy(t,n),s=e[we],a=Tf(s,n[Yr]);null!==a&&function I8(n,e,t,r,i,o){r[It]=i,r[dn]=e,il(n,r,t,1,i,o)}(i,n[dn],s,e,a,o)}}let Ni=(()=>{class n{static{this.__NG_ELEMENT_ID__=Q7}}return n})();const W7=Ni,K7=class extends W7{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=function G7(n,e,t,r){const i=e.tView,a=Hf(n,i,t,4096&n[Pe]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[ju]=n[e.index];const u=n[Qr];return null!==u&&(a[Qr]=u.createEmbeddedView(i)),bv(i,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:r});return new pl(i)}};function Q7(){return cp(tn(),G())}function cp(n,e){return 4&n.type?new K7(e,n,Wa(n,e)):null}function DR(n){const e=n[Gu]??[],r=n[ht][we];for(const i of e)Y7(i,r);n[Gu]=Ue}function Y7(n,e){let t=0,r=n.firstChild;if(r){const i=n.data[qa];for(;t<i;){const o=r.nextSibling;Af(e,r,!1),r=o,t++}}}function SR(n){DR(n);for(let e=Zt;e<n.length;e++)up(n[e])}function up(n){const e=n[ae];for(let t=Se;t<e.bindingStartIndex;t++)An(n[t])?SR(n[t]):Array.isArray(n[t])&&up(n[t])}let xR=(n,e)=>null;function Z7(n,e){const t=n[Gu];return e&&null!==t&&0!==t.length?t[0].data[Jy]===e?t.shift():(DR(n),null):null}function OR(n,e){return xR(n,e)}let Br=(()=>{class n{static{this.__NG_ELEMENT_ID__=tW}}return n})();function tW(){return NR(tn(),G())}const nW=Br,RR=class extends nW{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Wa(this._hostTNode,this._hostLView)}get injector(){return new xn(this._hostTNode,this._hostLView)}get parentInjector(){const e=df(this._hostTNode,this._hostLView);if(uy(e)){const t=Yu(e,this._hostLView),r=Qu(e);return new xn(t[ae].data[r+8],t)}return new xn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=kR(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Zt}createEmbeddedView(e,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=OR(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s),c=!!s&&!bf(this._hostTNode);return this.insertImpl(a,i,c),a}createComponent(e,t,r,i,o){const s=e&&!function Xu(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const w=t||{};a=w.index,r=w.injector,i=w.projectableNodes,o=w.environmentInjector||w.ngModuleRef}const c=s?e:new gl(Fe(e)),u=r||this.parentInjector;if(!o&&null==c.ngModule){const T=(s?u:this.parentInjector).get(ar,null);T&&(o=T)}const d=Fe(c.componentType??{}),h=OR(this._lContainer,d?.id??null),m=c.create(u,i,h?.firstChild??null,o),b=!!h&&!bf(this._hostTNode);return this.insertImpl(m.hostView,a,b),m}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,r){const i=e._lView;if(function Y6(n){return An(n[ht])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const u=i[ht],d=new RR(u,u[dn],u[ht]);d.detach(d.indexOf(e))}}const s=this._adjustIndex(t),a=this._lContainer;return q7(a,i,s,!r),e.attachToViewContainerRef(),bD(Wv(a),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=kR(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Pf(this._lContainer,t);r&&(pf(Wv(this._lContainer),t),Ty(r[ae],r))}detach(e){const t=this._adjustIndex(e,-1),r=Pf(this._lContainer,t);return r&&null!=pf(Wv(this._lContainer),t)?new pl(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function kR(n){return n[8]}function Wv(n){return n[8]||(n[8]=[])}function NR(n,e){let t;const r=e[n.index];return An(r)?t=r:(t=px(r,e,null,n),e[n.index]=t,zf(e,t)),FR(t,e,n,r),new RR(t,n,e)}let FR=VR;function VR(n,e,t,r){if(n[Yr])return;let i;i=8&t.type?rt(r):function rW(n,e){const t=n[we],r=t.createComment(""),i=Wn(e,n);return hs(t,Tf(t,i),r,function S8(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[Yr]=i}function iW(n,e,t,r){if(n[Yr]&&n[Gu])return;const i=e[Pi],o=t.index-Se,s=function If(n){let e=n.parent;for(;e;){if(OD(e))return!0;e=e.parent}return!1}(t)||bf(t);if(!i||s||Lf(i,o))return VR(n,e,t,r);const c=tv(i,o),u=i.data[ul]?.[o],[d,h]=function X7(n,e){const t=[];for(const r of e)for(let i=0;i<(r[Nf]??1);i++){const o={data:r,firstChild:null};r[qa]>0&&(o.firstChild=n,n=Xf(r[qa],n)),t.push(o)}return[n,t]}(c,u);n[Yr]=d,n[Gu]=h}class Kv{constructor(e){this.queryList=e,this.matches=null}clone(){return new Kv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Qv{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new Qv(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==GR(e,t).matches&&this.queries[t].setDirty()}}class LR{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class Yv{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new Yv(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Jv{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Jv(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,t,sW(t,o)),this.matchTNodeWithReadOption(e,t,hf(t,e,o,!1,!1))}else r===Ni?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,hf(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===cr||i===Br||i===Ni&&4&t.type)this.addMatch(t.index,-2);else{const o=hf(t,e,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function sW(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function cW(n,e,t,r){return-1===t?function aW(n,e){return 11&n.type?Wa(n,e):4&n.type?cp(n,e):null}(e,n):-2===t?function uW(n,e,t){return t===cr?Wa(e,n):t===Ni?cp(e,n):t===Br?NR(e,n):void 0}(n,e,r):ds(n,n[ae],t,e)}function UR(n,e,t,r){const i=e[Qr].queries[r];if(null===i.matches){const o=n.data,s=t.matches,a=[];for(let c=0;c<s.length;c+=2){const u=s[c];a.push(u<0?null:cW(e,o[u],s[c+1],t.metadata.read))}i.matches=a}return i.matches}function Xv(n,e,t,r){const i=n.queries.getByIndex(t),o=i.matches;if(null!==o){const s=UR(n,e,i,t);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)r.push(s[a/2]);else{const u=o[a+1],d=e[-c];for(let h=Zt;h<d.length;h++){const p=d[h];p[ju]===p[ht]&&Xv(p[ae],p,u,r)}if(null!==d[Ia]){const h=d[Ia];for(let p=0;p<h.length;p++){const m=h[p];Xv(m[ae],m,u,r)}}}}}return r}function BR(n){const e=G(),t=Ve(),r=eD();iy(r+1);const i=GR(t,r);if(n.dirty&&function K6(n){return 4==(4&n[Pe])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?Xv(t,e,r,[]):UR(t,e,i,r);n.reset(o,Dz),n.notifyOnChanges()}return!0}return!1}function jR(n,e,t,r){const i=Ve();if(i.firstCreatePass){const o=tn();(function zR(n,e,t){null===n.queries&&(n.queries=new Yv),n.queries.track(new Jv(e,t))})(i,new LR(e,t,r),o.index),function hW(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}!function HR(n,e,t){const r=new qv(4==(4&t));(function a9(n,e,t,r){const i=mx(e);i.push(t),n.firstCreatePass&&_x(n).push(r,i.length-1)})(n,e,r,r.destroy),null===e[Qr]&&(e[Qr]=new Qv),e[Qr].queries.push(new Kv(r))}(i,G(),t)}function GR(n,e){return n.queries.getByIndex(e)}function dc(n,e){return cp(n,e)}const iC=new oe("Application Initializer");let oC=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=ne(iC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const o=i();if(Cl(o))t.push(o);else if(Yx(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),sC=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();const Fi=new oe("LocaleId",{providedIn:"root",factory:()=>ne(Fi,De.Optional|De.SkipSelf)||function RW(){return typeof $localize<"u"&&$localize.locale||lc}()});let dp=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Gt(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class FW{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let ck=(()=>{class n{compileModuleSync(t){return new $v(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=Oi(rr(t).declarations).reduce((s,a)=>{const c=Fe(a);return c&&s.push(new gl(c)),s},[]);return new FW(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const hk=new oe("");let Po=null;const hC=new oe("PlatformDestroyListeners"),Ol=new oe("appBootstrapListener");class gk{constructor(e,t){this.name=e,this.token=t}}function uK(n){try{const{rootComponent:e,appProviders:t,platformProviders:r}=n,i=function cK(n=[]){if(Po)return Po;const e=function _k(n=[],e){return fn.create({name:e,providers:[{provide:$y,useValue:"platform"},{provide:hC,useValue:new Set([()=>Po=null])},...n]})}(n);return Po=e,function pk(){!function N6(n){RA=n}(()=>{throw new K(600,!1)})}(),function mk(n){n.get(PS,null)?.forEach(t=>t())}(e),e}(r),o=[pK(),...t||[]],a=new mR({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(Be);return c.run(()=>{a.resolveInjectorInitializers();const u=a.get(xi,null);let d;c.runOutsideAngular(()=>{d=c.onError.subscribe({next:m=>{u.handleError(m)}})});const h=()=>a.destroy(),p=i.get(hC);return p.add(h),a.onDestroy(()=>{d.unsubscribe(),p.delete(h)}),function Ck(n,e,t){try{const r=t();return Cl(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,c,()=>{const m=a.get(oC);return m.runInitializers(),m.donePromise.then(()=>{!function zO(n){mr(n,"Expected localeId to be defined"),"string"==typeof n&&(HO=n.toLowerCase().replace(/_/g,"-"))}(a.get(Fi,lc)||lc);const w=a.get(vs);return void 0!==e&&w.bootstrap(e),w})})})}catch(e){return Promise.reject(e)}}let vs=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ne(wk),this.zoneIsStable=ne(zS),this.componentTypes=[],this.components=[],this.isStable=ne(dp).hasPendingTasks.pipe(Pn(t=>t?ge(!1):this.zoneIsStable),YM(),QM()),this._injector=ne(ar)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof xS;if(!this._injector.get(oC).done)throw!i&&function _a(n){const e=Fe(n)||Xt(n)||Mn(n);return null!==e&&e.standalone}(t),new K(405,!1);let s;s=i?t:this._injector.get(Uf).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function sK(n){return n.isBoundToModule}(s)?void 0:this._injector.get(_s),u=s.create(fn.NULL,[],r||s.selector,a),d=u.location.nativeElement,h=u.injector.get(hk,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),pp(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new K(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;pp(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(Ol,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>pp(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new K(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function pp(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const wk=new oe("",{providedIn:"root",factory:()=>ne(xi).handleError.bind(void 0)});function hK(){const n=ne(Be),e=ne(xi);return t=>n.runOutsideAngular(()=>e.handleError(t))}let fK=(()=>{class n{constructor(){this.zone=ne(Be),this.applicationRef=ne(vs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Ek(n){return[{provide:Be,useFactory:n},{provide:ja,multi:!0,useFactory:()=>{const e=ne(fK,{optional:!0});return()=>e.initialize()}},{provide:wk,useFactory:hK},{provide:zS,useFactory:GS}]}function pK(n){return cl([[],Ek(()=>new Be(function vk(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}(n)))])}let pc=(()=>{class n{static{this.__NG_ELEMENT_ID__=gK}}return n})();function gK(n){return function mK(n,e,t){if(cs(n)&&!t){const r=ir(n.index,e);return new pl(r,r)}return 47&n.type?new pl(e[Dt],e):null}(tn(),G(),16==(16&n))}class Dk{constructor(){}supports(e){return Kf(e)}create(e){return new bK(e)}}const CK=(n,e)=>e;class bK{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||CK}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<xk(r,i,o)?t:r,a=xk(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const u=a-i,d=c-i;if(u!=d){for(let p=0;p<u;p++){const m=p<o.length?o[p]:o[p]=0,b=m+p;d<=b&&b<u&&(o[p]=m+1)}o[s.previousIndex]=d-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Kf(e))throw new K(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function Z9(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new IK(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Sk),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Sk),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class IK{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class wK{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class Sk{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new wK,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function xk(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class Ok{constructor(){}supports(e){return e instanceof Map||Iv(e)}create(){return new EK}}class EK{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Iv(e)))throw new K(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new PK(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class PK{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Rk(){return new _p([new Dk])}let _p=(()=>{class n{static{this.\u0275prov=le({token:n,providedIn:"root",factory:Rk})}constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||Rk()),deps:[[n,new mf,new On]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new K(901,!1)}}return n})();function kk(){return new Rl([new Ok])}let Rl=(()=>{class n{static{this.\u0275prov=le({token:n,providedIn:"root",factory:kk})}constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||kk()),deps:[[n,new mf,new On]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new K(901,!1)}}return n})(),$k=!1;function VK(){return cl([{provide:jf,useFactory:()=>{let n=!0;return Ya()&&(n=!!ne(za,{optional:!0})?.get(Zy,null)),n&&ne(MS).add("hydration"),n}},{provide:ja,useValue:()=>{Ya()&&ne(jf)&&(function LK(){const n=Ua();let e;for(const t of n.body.childNodes)if(t.nodeType===Node.COMMENT_NODE&&"nghm"===t.textContent?.trim()){e=t;break}if(!e)throw new K(-507,!1)}(),function NK(){$k||($k=!0,function Cz(){AS=vz}(),function wG(){Wx=IG}(),function eq(){IO=ZG}(),function TG(){Qx=PG}(),function vG(){Gx=yG}(),function oW(){FR=iW}(),function eW(){xR=Z7}(),function s9(){cx=o9}())}())},multi:!0},{provide:YS,useFactory:()=>Ya()&&ne(jf)},{provide:Ol,useFactory:()=>{if(Ya()&&ne(jf)){const n=ne(vs);return ne(fn),()=>{(function FK(n,e){return n.isStable.pipe(Ii(r=>r)).toPromise().then(()=>{})})(n).then(()=>{Be.assertInAngularZone(),function J7(n){const e=n._views;for(const t of e){const r=DS(t);null!==r&&null!==r[It]&&(qn(r)?up(r):(up(r[It]),SR(r)))}}(n)})}}return()=>{}},multi:!0}])}function gc(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let vC=null;function To(){return vC}class $K{}const lr=new oe("DocumentToken");let CC=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=le({token:n,factory:function(){return ne(zK)},providedIn:"platform"})}}return n})();const HK=new oe("Location Initialized");let zK=(()=>{class n extends CC{constructor(){super(),this._doc=ne(lr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return To().getBaseHref(this._doc)}onPopState(t){const r=To().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=To().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=le({token:n,factory:function(){return new n},providedIn:"platform"})}}return n})();function bC(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Hk(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Vi(n){return n&&"?"!==n[0]?"?"+n:n}let bs=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=le({token:n,factory:function(){return ne(Gk)},providedIn:"root"})}}return n})();const zk=new oe("appBaseHref");let Gk=(()=>{class n extends bs{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ne(lr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return bC(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Vi(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+Vi(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+Vi(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(se(CC),se(zk,8))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),GK=(()=>{class n extends bs{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=bC(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Vi(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Vi(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(se(CC),se(zk,8))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac})}}return n})(),IC=(()=>{class n{constructor(t){this._subject=new yt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function KK(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Hk(qk(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Vi(r))}normalize(t){return n.stripTrailingSlash(function WK(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,qk(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Vi(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Vi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Vi}static{this.joinWithSlash=bC}static{this.stripTrailingSlash=Hk}static{this.\u0275fac=function(r){return new(r||n)(se(bs))}}static{this.\u0275prov=le({token:n,factory:function(){return function qK(){return new IC(se(bs))}()},providedIn:"root"})}}return n})();function qk(n){return n.replace(/\/index.html$/,"")}function tN(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}class kQ{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let oi=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new kQ(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),iN(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{iN(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(z(Br),z(Ni),z(_p))}}static{this.\u0275dir=Ce({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function iN(n,e){n.context.$implicit=e.item}let hr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new NQ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){oN("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){oN("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(z(Br),z(Ni))}}static{this.\u0275dir=Ce({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})();class NQ{constructor(){this.$implicit=null,this.ngIf=null}}function oN(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${jt(e)}'.`)}let aN=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,o]=t.split("."),s=-1===i.indexOf("-")?void 0:Io.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static{this.\u0275fac=function(r){return new(r||n)(z(cr),z(Rl),z(Si))}}static{this.\u0275dir=Ce({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return n})(),Er=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Nr({type:n})}static{this.\u0275inj=_r({})}}return n})();function lN(n){return"server"===n}let lY=(()=>{class n{static{this.\u0275prov=le({token:n,providedIn:"root",factory:()=>new dY(se(lr),window)})}}return n})();class dY{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function hY(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class dN{}function _c(n,e){return Qe(e)?Jt(n,e,1):Jt(n,1)}function Vl(n){return Ft((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Xe(n,e,t){const r=Qe(n)||e||t?{next:n,error:e,complete:t}:n;return r?Ft((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Mt(o,c=>{var u;null===(u=r.next)||void 0===u||u.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,c),o.error(c)},()=>{var c,u;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):po}class xp{}class Op{}class Pr{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Pr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Pr;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Pr?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class NY{encodeKey(e){return mN(e)}encodeValue(e){return mN(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const VY=/%(\d[a-f0-9])/gi,LY={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function mN(n){return encodeURIComponent(n).replace(VY,(e,t)=>LY[t]??e)}function Rp(n){return`${n}`}class Bi{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new NY,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function FY(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(Rp):[Rp(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Bi({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Rp(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Rp(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class UY{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function _N(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function yN(n){return typeof Blob<"u"&&n instanceof Blob}function vN(n){return typeof FormData<"u"&&n instanceof FormData}class Ll{constructor(e,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function BY(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Pr),this.context||(this.context=new UY),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Bi,this.urlWithParams=t}serializeBody(){return null===this.body?null:_N(this.body)||yN(this.body)||vN(this.body)||function jY(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Bi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||vN(this.body)?null:yN(this.body)?this.body.type||null:_N(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Bi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,u=e.params||this.params;const d=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((h,p)=>h.set(p,e.setHeaders[p]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((h,p)=>h.set(p,e.setParams[p]),u)),new Ll(t,r,o,{params:u,headers:c,context:d,reportProgress:a,responseType:i,withCredentials:s})}}var yc=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(yc||{});class UC{constructor(e,t=200,r="OK"){this.headers=e.headers||new Pr,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class BC extends UC{constructor(e={}){super(e),this.type=yc.ResponseHeader}clone(e={}){return new BC({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class vc extends UC{constructor(e={}){super(e),this.type=yc.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new vc({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class CN extends UC{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function jC(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Hr=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Ll)o=t;else{let c,u;c=i.headers instanceof Pr?i.headers:new Pr(i.headers),i.params&&(u=i.params instanceof Bi?i.params:new Bi({fromObject:i.params})),o=new Ll(t,r,void 0!==i.body?i.body:null,{headers:c,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=ge(o).pipe(_c(c=>this.handler.handle(c)));if(t instanceof Ll||"events"===i.observe)return s;const a=s.pipe(bi(c=>c instanceof vc));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Re(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(Re(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(Re(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(Re(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Bi).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,jC(i,r))}post(t,r,i={}){return this.request("POST",t,jC(i,r))}put(t,r,i={}){return this.request("PUT",t,jC(i,r))}static{this.\u0275fac=function(r){return new(r||n)(se(xp))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac})}}return n})();function wN(n,e){return e(n)}function HY(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const GY=new oe(""),Ul=new oe(""),EN=new oe("");function qY(){let n=null;return(e,t)=>{null===n&&(n=(ne(GY,{optional:!0})??[]).reduceRight(HY,wN));const r=ne(dp),i=r.add();return n(e,t).pipe(Vl(()=>r.remove(i)))}}let PN=(()=>{class n extends xp{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=ne(dp)}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Ul),...this.injector.get(EN,[])]));this.chain=i.reduceRight((o,s)=>function zY(n,e,t){return(r,i)=>t.runInContext(()=>e(r,o=>n(o,i)))}(o,s,this.injector),wN)}const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Vl(()=>this.pendingTasks.remove(r)))}static{this.\u0275fac=function(r){return new(r||n)(se(Op),se(ar))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac})}}return n})();const YY=/^\)\]\}',?\n/;let MN=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new K(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?Bt(r.\u0275loadImpl()):ge(null)).pipe(Pn(()=>new dt(o=>{const s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((w,T)=>s.setRequestHeader(w,T.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const w=t.detectContentTypeHeader();null!==w&&s.setRequestHeader("Content-Type",w)}if(t.responseType){const w=t.responseType.toLowerCase();s.responseType="json"!==w?w:"text"}const a=t.serializeBody();let c=null;const u=()=>{if(null!==c)return c;const w=s.statusText||"OK",T=new Pr(s.getAllResponseHeaders()),R=function JY(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||t.url;return c=new BC({headers:T,status:s.status,statusText:w,url:R}),c},d=()=>{let{headers:w,status:T,statusText:R,url:D}=u(),j=null;204!==T&&(j=typeof s.response>"u"?s.responseText:s.response),0===T&&(T=j?200:0);let Q=T>=200&&T<300;if("json"===t.responseType&&"string"==typeof j){const ie=j;j=j.replace(YY,"");try{j=""!==j?JSON.parse(j):null}catch(he){j=ie,Q&&(Q=!1,j={error:he,text:j})}}Q?(o.next(new vc({body:j,headers:w,status:T,statusText:R,url:D||void 0})),o.complete()):o.error(new CN({error:j,headers:w,status:T,statusText:R,url:D||void 0}))},h=w=>{const{url:T}=u(),R=new CN({error:w,status:s.status||0,statusText:s.statusText||"Unknown Error",url:T||void 0});o.error(R)};let p=!1;const m=w=>{p||(o.next(u()),p=!0);let T={type:yc.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(T.total=w.total),"text"===t.responseType&&s.responseText&&(T.partialText=s.responseText),o.next(T)},b=w=>{let T={type:yc.UploadProgress,loaded:w.loaded};w.lengthComputable&&(T.total=w.total),o.next(T)};return s.addEventListener("load",d),s.addEventListener("error",h),s.addEventListener("timeout",h),s.addEventListener("abort",h),t.reportProgress&&(s.addEventListener("progress",m),null!==a&&s.upload&&s.upload.addEventListener("progress",b)),s.send(a),o.next({type:yc.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",d),s.removeEventListener("timeout",h),t.reportProgress&&(s.removeEventListener("progress",m),null!==a&&s.upload&&s.upload.removeEventListener("progress",b)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(se(dN))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac})}}return n})();const $C=new oe("XSRF_ENABLED"),AN=new oe("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),DN=new oe("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class SN{}let eJ=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=tN(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(se(lr),se(Di),se(AN))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac})}}return n})();function tJ(n,e){const t=n.url.toLowerCase();if(!ne($C)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=ne(SN).getToken(),i=ne(DN);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var Mo=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Mo||{});function Is(n,e){return{\u0275kind:n,\u0275providers:e}}function xN(...n){const e=[Hr,MN,PN,{provide:xp,useExisting:PN},{provide:Op,useExisting:MN},{provide:Ul,useValue:tJ,multi:!0},{provide:$C,useValue:!0},{provide:SN,useClass:eJ}];for(const t of n)e.push(...t.\u0275providers);return cl(e)}const ON=new oe("LEGACY_INTERCEPTOR_FN");let rJ=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Nr({type:n})}static{this.\u0275inj=_r({providers:[xN(Is(Mo.LegacyInterceptors,[{provide:ON,useFactory:qY},{provide:Ul,useExisting:ON,multi:!0}]))]})}}return n})();const kp=new oe(""),iJ=["GET","HEAD"];function oJ(n,e){const{isCacheActive:t}=ne(kp);if(!t||!iJ.includes(n.method))return e(n);const r=ne(za),i=function aJ(n){const{params:e,method:t,responseType:r,url:i}=n;return function cJ(n){let e=0;for(const t of n)e=Math.imul(31,e)+t.charCodeAt(0)<<0;return e+=2147483648,e.toString()}(t+"."+r+"."+i+"?"+e.keys().sort().map(c=>`${c}=${e.getAll(c)}`).join("&"))}(n),o=r.get(i,null);if(o){let s=o.body;switch(o.responseType){case"arraybuffer":s=(new TextEncoder).encode(o.body).buffer;break;case"blob":s=new Blob([o.body])}return ge(new vc({body:s,headers:new Pr(o.headers),status:o.status,statusText:o.statusText,url:o.url}))}return e(n).pipe(Xe(s=>{s instanceof vc&&r.set(i,{body:s.body,headers:sJ(s.headers),status:s.status,statusText:s.statusText,url:s.url||"",responseType:n.responseType})}))}function sJ(n){const e={};for(const t of n.keys()){const r=n.getAll(t);null!==r&&(e[t]=r)}return e}class lJ extends $K{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class HC extends lJ{static makeCurrent(){!function jK(n){vC||(vC=n)}(new HC)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function dJ(){return Bl=Bl||document.querySelector("base"),Bl?Bl.getAttribute("href"):null}();return null==t?null:function hJ(n){Np=Np||document.createElement("a"),Np.setAttribute("href",n);const e=Np.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Bl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return tN(document.cookie,e)}}let Np,Bl=null,pJ=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac})}}return n})();const zC=new oe("EventManagerPlugins");let RN=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new K(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(se(zC),se(Be))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac})}}return n})();class kN{constructor(e){this._doc=e}}const GC="ng-app-id";let NN=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=lN(o),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${GC}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(GC),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(GC,this.appId),s}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(se(lr),se(qy),se(TS,8),se(Di))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac})}}return n})();const qC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},WC=/%COMP%/g,yJ=new oe("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function VN(n,e){return e.map(t=>t.replace(WC,n))}let LN=(()=>{class n{constructor(t,r,i,o,s,a,c,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=lN(a),this.defaultRenderer=new KC(t,s,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Rr.ShadowDom&&(r={...r,encapsulation:Rr.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof BN?i.applyToHost(t):i instanceof QC&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case Rr.Emulated:o=new BN(c,u,r,this.appId,d,s,a,h);break;case Rr.ShadowDom:return new IJ(c,u,t,r,s,a,this.nonce,h);default:o=new QC(c,u,r,d,s,a,h)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(se(RN),se(NN),se(qy),se(yJ),se(lr),se(Di),se(Be),se(TS))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac})}}return n})();class KC{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(qC[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(UN(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(UN(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new K(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=qC[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=qC[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Io.DashCase|Io.Important)?e.style.setProperty(t,r,i&Io.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Io.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=To().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function UN(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class IJ extends KC{constructor(e,t,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=VN(i.id,i.styles);for(const d of u){const h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class QC extends KC{constructor(e,t,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?VN(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class BN extends QC{constructor(e,t,r,i,o,s,a,c){const u=i+"-"+r.id;super(e,t,r,o,s,a,c,u),this.contentAttr=function vJ(n){return"_ngcontent-%COMP%".replace(WC,n)}(u),this.hostAttr=function CJ(n){return"_nghost-%COMP%".replace(WC,n)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}const jN=["alt","control","meta","shift"],EJ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},PJ={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};function $N(n){return{appProviders:[...RJ,...n?.providers??[]],platformProviders:xJ}}const xJ=[{provide:Di,useValue:"browser"},{provide:PS,useValue:function AJ(){HC.makeCurrent()},multi:!0},{provide:lr,useFactory:function SJ(){return function L8(n){Ry=n}(document),document},deps:[]}],RJ=[{provide:$y,useValue:"root"},{provide:xi,useFactory:function DJ(){return new xi},deps:[]},{provide:zC,useClass:(()=>{class n extends kN{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(se(lr))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac})}}return n})(),multi:!0,deps:[lr,Be,Di]},{provide:zC,useClass:(()=>{class n extends kN{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>To().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),jN.forEach(u=>{const d=r.indexOf(u);d>-1&&(r.splice(d,1),s+=u+".")}),s+=o,0!=r.length||0===o.length)return null;const c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=EJ[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),jN.forEach(s=>{s!==i&&(0,PJ[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(se(lr))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac})}}return n})(),multi:!0,deps:[lr]},LN,NN,RN,{provide:RS,useExisting:LN},{provide:dN,useClass:pJ,deps:[]},[]];let HN=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(se(lr))}}static{this.\u0275prov=le({token:n,factory:function(r){let i=null;return i=r?new r:function NJ(){return new HN(se(lr))}(),i},providedIn:"root"})}}return n})();typeof window<"u"&&window;const{isArray:$J}=Array,{getPrototypeOf:HJ,prototype:zJ,keys:GJ}=Object;function WN(n){if(1===n.length){const e=n[0];if($J(e))return{args:e,keys:null};if(function qJ(n){return n&&"object"==typeof n&&HJ(n)===zJ}(e)){const t=GJ(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:WJ}=Array;function KN(n){return Re(e=>function KJ(n,e){return WJ(e)?n(...e):n(e)}(n,e))}function QN(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function JC(...n){const e=Ru(n),t=WM(n),{args:r,keys:i}=WN(n);if(0===r.length)return Bt([],e);const o=new dt(function QJ(n,e,t=po){return r=>{YN(e,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)YN(e,()=>{const u=Bt(n[c],e);let d=!1;u.subscribe(Mt(r,h=>{o[c]=h,d||(d=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>QN(i,s):po));return t?o.pipe(KN(t)):o}function YN(n,e,t){n?Ci(t,n,e):e()}function XC(...n){return function YJ(){return pa(1)}()(Bt(n,Ru(n)))}function JN(n){return new dt(e=>{tr(n()).subscribe(e)})}function ji(n,e){const t=Qe(n)?n:()=>n,r=i=>i.error(t());return new dt(e?i=>e.schedule(r,0,i):r)}function ZC(){return Ft((n,e)=>{let t=null;n._refCount++;const r=Mt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class XN extends dt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,xM(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Hn;const t=this.getSubject();e.add(this.source.subscribe(Mt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Hn.EMPTY)}return e}refCount(){return ZC()(this)}}function Fp(...n){const e=Ru(n);return Ft((t,r)=>{(e?XC(n,t,e):XC(n,t)).subscribe(r)})}function Tr(n){return Ft((e,t)=>{let o,r=null,i=!1;r=e.subscribe(Mt(t,void 0,void 0,s=>{o=tr(n(s,Tr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function eb(n){return n<=0?()=>Wr:Ft((e,t)=>{let r=[];e.subscribe(Mt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}const Te="primary",jl=Symbol("RouteTitle");class nX{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Cc(n){return new nX(n)}function rX(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function si(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!ZN(n[i],e[i]))return!1;return!0}function ZN(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function e2(n){return n.length>0?n[n.length-1]:null}function Do(n){return function jJ(n){return!!n&&(n instanceof dt||Qe(n.lift)&&Qe(n.subscribe))}(n)?n:Cl(n)?Bt(Promise.resolve(n)):ge(n)}const oX={exact:function r2(n,e,t){if(!ws(n.segments,e.segments)||!Vp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!r2(n.children[r],e.children[r],t))return!1;return!0},subset:i2},t2={exact:function sX(n,e){return si(n,e)},subset:function aX(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>ZN(n[t],e[t]))},ignored:()=>!0};function n2(n,e,t){return oX[t.paths](n.root,e.root,t.matrixParams)&&t2[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function i2(n,e,t){return o2(n,e,e.segments,t)}function o2(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!ws(i,t)||e.hasChildren()||!Vp(i,t,r))}if(n.segments.length===t.length){if(!ws(n.segments,t)||!Vp(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!i2(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(ws(n.segments,i)&&Vp(n.segments,i,r)&&n.children[Te])&&o2(n.children[Te],e,o,r)}}function Vp(n,e,t){return e.every((r,i)=>t2[t](n[i].parameters,r.parameters))}class bc{constructor(e=new We([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cc(this.queryParams)),this._queryParamMap}toString(){return lX.serialize(this)}}class We{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Lp(this)}}class $l{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Cc(this.parameters)),this._parameterMap}toString(){return c2(this)}}function ws(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Hl=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=le({token:n,factory:function(){return new tb},providedIn:"root"})}}return n})();class tb{parse(e){const t=new bX(e);return new bc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${zl(e.root,!0)}`,r=function fX(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Up(t)}=${Up(i)}`).join("&"):`${Up(t)}=${Up(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function dX(n){return encodeURI(n)}(e.fragment)}`:""}`}}const lX=new tb;function Lp(n){return n.segments.map(e=>c2(e)).join("/")}function zl(n,e){if(!n.hasChildren())return Lp(n);if(e){const t=n.children[Te]?zl(n.children[Te],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Te&&r.push(`${i}:${zl(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function uX(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Te&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Te&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===Te?[zl(n.children[Te],!1)]:[`${i}:${zl(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Te]?`${Lp(n)}/${t[0]}`:`${Lp(n)}/(${t.join("//")})`}}function s2(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Up(n){return s2(n).replace(/%3B/gi,";")}function nb(n){return s2(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bp(n){return decodeURIComponent(n)}function a2(n){return Bp(n.replace(/\+/g,"%20"))}function c2(n){return`${nb(n.path)}${function hX(n){return Object.keys(n).map(e=>`;${nb(e)}=${nb(n[e])}`).join("")}(n.parameters)}`}const pX=/^[^\/()?;#]+/;function rb(n){const e=n.match(pX);return e?e[0]:""}const gX=/^[^\/()?;=#]+/,_X=/^[^=?&#]+/,vX=/^[^&#]+/;class bX{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new We([],{}):new We([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Te]=new We(e,t)),r}parseSegment(){const e=rb(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new K(4009,!1);return this.capture(e),new $l(Bp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function mX(n){const e=n.match(gX);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=rb(this.remaining);i&&(r=i,this.capture(r))}e[Bp(t)]=Bp(r)}parseQueryParam(e){const t=function yX(n){const e=n.match(_X);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function CX(n){const e=n.match(vX);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=a2(t),o=a2(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=rb(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new K(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Te);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[Te]:new We([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new K(4011,!1)}}function u2(n){return n.segments.length>0?new We([],{[Te]:n}):n}function l2(n){const e={};for(const r of Object.keys(n.children)){const o=l2(n.children[r]);if(r===Te&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function IX(n){if(1===n.numberOfChildren&&n.children[Te]){const e=n.children[Te];return new We(n.segments.concat(e.segments),e.children)}return n}(new We(n.segments,e))}function Es(n){return n instanceof bc}function d2(n){let e;const i=u2(function t(o){const s={};for(const c of o.children){const u=t(c);s[c.outlet]=u}const a=new We(o.url,s);return o===n&&(e=a),a}(n.root));return e??i}function h2(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return ib(i,i,i,t,r);const o=function EX(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new p2(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new p2(t,e,r)}(e);if(o.toRoot())return ib(i,i,new We([],{}),t,r);const s=function PX(n,e,t){if(n.isAbsolute)return new $p(e,!0,0);if(!t)return new $p(e,!1,NaN);if(null===t.parent)return new $p(t,!0,0);const r=jp(n.commands[0])?0:1;return function TX(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new K(4005,!1);i=r.segments.length}return new $p(r,!1,i-o)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(o,i,n),a=s.processChildren?ql(s.segmentGroup,s.index,o.commands):g2(s.segmentGroup,s.index,o.commands);return ib(i,s.segmentGroup,a,t,r)}function jp(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Gl(n){return"object"==typeof n&&null!=n&&n.outlets}function ib(n,e,t,r,i){let s,o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`}),s=n===e?t:f2(n,e,t);const a=u2(l2(s));return new bc(a,o,i)}function f2(n,e,t){const r={};return Object.entries(n.children).forEach(([i,o])=>{r[i]=o===e?t:f2(o,e,t)}),new We(n.segments,r)}class p2{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&jp(r[0]))throw new K(4003,!1);const i=r.find(Gl);if(i&&i!==e2(r))throw new K(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $p{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function g2(n,e,t){if(n||(n=new We([],{})),0===n.segments.length&&n.hasChildren())return ql(n,e,t);const r=function AX(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const s=n.segments[i],a=t[r];if(Gl(a))break;const c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!_2(c,u,s))return o;r+=2}else{if(!_2(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new We(n.segments.slice(0,r.pathIndex),{});return o.children[Te]=new We(n.segments.slice(r.pathIndex),n.children),ql(o,0,i)}return r.match&&0===i.length?new We(n.segments,{}):r.match&&!n.hasChildren()?ob(n,e,t):r.match?ql(n,0,i):ob(n,e,t)}function ql(n,e,t){if(0===t.length)return new We(n.segments,{});{const r=function MX(n){return Gl(n[0])?n[0].outlets:{[Te]:n}}(t),i={};if(Object.keys(r).some(o=>o!==Te)&&n.children[Te]&&1===n.numberOfChildren&&0===n.children[Te].segments.length){const o=ql(n.children[Te],e,t);return new We(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=g2(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new We(n.segments,i)}}function ob(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(Gl(o)){const c=DX(o.outlets);return new We(r,c)}if(0===i&&jp(t[0])){r.push(new $l(n.segments[e].path,m2(t[0]))),i++;continue}const s=Gl(o)?o.outlets[Te]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&jp(a)?(r.push(new $l(s,m2(a))),i+=2):(r.push(new $l(s,{})),i++)}return new We(r,{})}function DX(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=ob(new We([],{}),0,r))}),e}function m2(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function _2(n,e,t){return n==t.path&&si(e,t.parameters)}const Wl="imperative";class ai{constructor(e,t){this.id=e,this.url=t}}class Hp extends ai{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class So extends ai{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Kl extends ai{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ic extends ai{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class zp extends ai{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class y2 extends ai{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class SX extends ai{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xX extends ai{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class OX extends ai{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class RX extends ai{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kX{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class NX{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class FX{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class VX{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class LX{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class UX{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class v2{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class sb{}class ab{constructor(e){this.url=e}}class BX{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ql,this.attachRef=null}}let Ql=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new BX,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class C2{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=cb(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=cb(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ub(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ub(e,this._root).map(t=>t.value)}}function cb(n,e){if(n===e.value)return e;for(const t of e.children){const r=cb(n,t);if(r)return r}return null}function ub(n,e){if(n===e.value)return[e];for(const t of e.children){const r=ub(n,t);if(r.length)return r.unshift(e),r}return[]}class $i{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function wc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class b2 extends C2{constructor(e,t){super(e),this.snapshot=t,lb(this,e)}toString(){return this.snapshot.toString()}}function I2(n,e){const t=function jX(n,e){const s=new Gp([],{},{},"",{},Te,e,null,{});return new E2("",new $i(s,[]))}(0,e),r=new Gt([new $l("",{})]),i=new Gt({}),o=new Gt({}),s=new Gt({}),a=new Gt(""),c=new Ps(r,i,s,a,o,Te,e,t.root);return c.snapshot=t.root,new b2(new $i(c,[]),t)}class Ps{constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Re(u=>u[jl]))??ge(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Re(e=>Cc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Re(e=>Cc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function w2(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function $X(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Gp{get title(){return this.data?.[jl]}constructor(e,t,r,i,o,s,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Cc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class E2 extends C2{constructor(e,t){super(t),this.url=e,lb(this,t)}toString(){return P2(this._root)}}function lb(n,e){e.value._routerState=n,e.children.forEach(t=>lb(n,t))}function P2(n){const e=n.children.length>0?` { ${n.children.map(P2).join(", ")} } `:"";return`${n.value}${e}`}function db(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,si(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),si(e.params,t.params)||n.paramsSubject.next(t.params),function iX(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!si(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),si(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function hb(n,e){const t=si(n.params,e.params)&&function cX(n,e){return ws(n,e)&&n.every((t,r)=>si(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||hb(n.parent,e.parent))}let fb=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Te,this.activateEvents=new yt,this.deactivateEvents=new yt,this.attachEvents=new yt,this.detachEvents=new yt,this.parentContexts=ne(Ql),this.location=ne(Br),this.changeDetector=ne(pc),this.environmentInjector=ne(ar),this.inputBinder=ne(qp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new K(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new K(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new K(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new K(4013,!1);this._activatedRoute=t;const i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new HX(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Ce({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[vr]})}}return n})();class HX{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ps?this.route:e===Ql?this.childContexts:this.parent.get(e,t)}}const qp=new oe("");let T2=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=JC([r.queryParams,r.params,r.data]).pipe(Pn(([o,s,a],c)=>(a={...o,...s,...a},0===c?ge(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const s=function BK(n){const e=Fe(n);if(!e)return null;const t=new gl(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac})}}return n})();function Yl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function GX(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Yl(n,r,i);return Yl(n,r)})}(n,e,t);return new $i(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Yl(n,a)),s}}const r=function qX(n){return new Ps(new Gt(n.url),new Gt(n.params),new Gt(n.queryParams),new Gt(n.fragment),new Gt(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>Yl(n,o));return new $i(r,i)}}const pb="ngNavigationCancelingError";function M2(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Es(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=A2(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function A2(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[pb]=!0,r.cancellationCode=e,t&&(r.url=t),r}function D2(n){return n&&n[pb]}let S2=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Tn({type:n,selectors:[["ng-component"]],standalone:!0,features:[kn],decls:1,vars:0,template:function(r,i){1&r&&x(0,"router-outlet")},dependencies:[fb],encapsulation:2})}}return n})();function gb(n){const e=n.children&&n.children.map(gb),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Te&&(t.component=S2),t}function zr(n){return n.outlet||Te}function Jl(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class eZ{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),db(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=wc(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=wc(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=wc(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=wc(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new UX(o.value.snapshot))}),e.children.length&&this.forwardEvent(new VX(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(db(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),db(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Jl(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class x2{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Wp{constructor(e,t){this.component=e,this.route=t}}function tZ(n,e,t){const r=n._root;return Xl(r,e?e._root:null,t,[r.value])}function Ec(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function e6(n){return null!==zh(n)}(n)?e.get(n):n:r}function Xl(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=wc(e);return n.children.forEach(s=>{(function rZ(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function iZ(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ws(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ws(n.url,e.url)||!si(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hb(n,e)||!si(n.queryParams,e.queryParams);default:return!hb(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new x2(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Xl(n,e,o.component?a?a.children:null:t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Wp(a.outlet.component,s))}else s&&Zl(e,a,i),i.canActivateChecks.push(new x2(r)),Xl(n,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Zl(a,t.getContext(s),i)),i}function Zl(n,e,t){const r=wc(n),i=n.value;Object.entries(r).forEach(([o,s])=>{Zl(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Wp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function ed(n){return"function"==typeof n}function O2(n){return n instanceof jh||"EmptyError"===n?.name}const Kp=Symbol("INITIAL_VALUE");function Pc(){return Pn(n=>JC(n.map(e=>e.pipe(ga(1),Fp(Kp)))).pipe(Re(e=>{for(const t of e)if(!0!==t){if(t===Kp)return Kp;if(!1===t||t instanceof bc)return t}return!0}),bi(e=>e!==Kp),ga(1)))}function R2(n){return function Zj(...n){return AM(n)}(Xe(e=>{if(Es(e))throw M2(0,e)}),Re(e=>!0===e))}class Qp{constructor(e){this.segmentGroup=e||null}}class k2{constructor(e){this.urlTree=e}}function Tc(n){return ji(new Qp(n))}function N2(n){return ji(new k2(n))}class EZ{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new K(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ge(r);if(i.numberOfChildren>1||!i.children[Te])return ji(new K(4e3,!1));i=i.children[Te]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new bc(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new We(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new K(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const mb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function PZ(n,e,t,r,i){const o=_b(n,e,t);return o.matched?(r=function KX(n,e){return n.providers&&!n._injector&&(n._injector=Hv(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function bZ(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?ge(i.map(s=>{const a=Ec(s,n);return Do(function lZ(n){return n&&ed(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Pc(),R2()):ge(!0)}(r,e,t).pipe(Re(s=>!0===s?o:{...mb}))):ge(o)}function _b(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...mb}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||rX)(t,n,e);if(!i)return{...mb};const o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function F2(n,e,t,r){return t.length>0&&function AZ(n,e,t){return t.some(r=>Yp(n,e,r)&&zr(r)!==Te)}(n,t,r)?{segmentGroup:new We(e,MZ(r,new We(t,n.children))),slicedSegments:[]}:0===t.length&&function DZ(n,e,t){return t.some(r=>Yp(n,e,r))}(n,t,r)?{segmentGroup:new We(n.segments,TZ(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new We(n.segments,n.children),slicedSegments:t}}function TZ(n,e,t,r,i){const o={};for(const s of r)if(Yp(n,t,s)&&!i[zr(s)]){const a=new We([],{});o[zr(s)]=a}return{...i,...o}}function MZ(n,e){const t={};t[Te]=e;for(const r of n)if(""===r.path&&zr(r)!==Te){const i=new We([],{});t[zr(r)]=i}return t}function Yp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class RZ{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new EZ(this.urlSerializer,this.urlTree)}noMatchError(e){return new K(4002,!1)}recognize(){const e=F2(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Te).pipe(Tr(t=>{if(t instanceof k2)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Qp?this.noMatchError(t):t}),Re(t=>{const r=new Gp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Te,this.rootComponentType,null,{}),i=new $i(r,t),o=new E2("",i),s=function wX(n,e,t=null,r=null){return h2(d2(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Te).pipe(Tr(r=>{throw r instanceof Qp?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=w2(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Bt(i).pipe(_c(o=>{const s=r.children[o],a=function XX(n,e){const t=n.filter(r=>zr(r)===e);return t.push(...n.filter(r=>zr(r)!==e)),t}(t,o);return this.processSegmentGroup(e,a,s,o)}),function XJ(n,e){return Ft(function JJ(n,e,t,r,i){return(o,s)=>{let a=t,c=e,u=0;o.subscribe(Mt(s,d=>{const h=u++;c=a?n(c,d,h):(a=!0,d),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}(n,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),$h(null),function ZJ(n,e){const t=arguments.length>=2;return r=>r.pipe(n?bi((i,o)=>n(i,o,r)):po,eb(1),t?$h(e):JM(()=>new jh))}(),Jt(o=>{if(null===o)return Tc(r);const s=V2(o);return function kZ(n){n.sort((e,t)=>e.value.outlet===Te?-1:t.value.outlet===Te?1:e.value.outlet.localeCompare(t.value.outlet))}(s),ge(s)}))}processSegment(e,t,r,i,o,s){return Bt(t).pipe(_c(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,o,s).pipe(Tr(c=>{if(c instanceof Qp)return ge(null);throw c}))),Ii(a=>!!a),Tr(a=>{if(O2(a))return function xZ(n,e,t){return 0===e.length&&!n.children[t]}(r,i,o)?ge([]):Tc(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,o,s,a){return function SZ(n,e,t,r){return!!(zr(n)===r||r!==Te&&Yp(e,t,n))&&("**"===n.path||_b(e,n,t).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s):Tc(i):Tc(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?N2(o):this.applyRedirects.lineralizeSegments(r,o).pipe(Jt(s=>{const a=new We(s,{});return this.processSegment(e,t,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){const{matched:a,consumedSegments:c,remainingSegments:u,positionalParamSegments:d}=_b(t,i,o);if(!a)return Tc(t);const h=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,d);return i.redirectTo.startsWith("/")?N2(h):this.applyRedirects.lineralizeSegments(i,h).pipe(Jt(p=>this.processSegment(e,r,t,p.concat(u),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a;if("**"===r.path){const c=i.length>0?e2(i).parameters:{};a=ge({snapshot:new Gp(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,L2(r),zr(r),r.component??r._loadedComponent??null,r,U2(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=PZ(t,r,i,e).pipe(Re(({matched:c,consumedSegments:u,remainingSegments:d,parameters:h})=>c?{snapshot:new Gp(u,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,L2(r),zr(r),r.component??r._loadedComponent??null,r,U2(r)),consumedSegments:u,remainingSegments:d}:null));return a.pipe(Pn(c=>null===c?Tc(t):this.getChildConfig(e=r._injector??e,r,i).pipe(Pn(({routes:u})=>{const d=r._loadedInjector??e,{snapshot:h,consumedSegments:p,remainingSegments:m}=c,{segmentGroup:b,slicedSegments:w}=F2(t,p,m,u);if(0===w.length&&b.hasChildren())return this.processChildren(d,u,b).pipe(Re(R=>null===R?null:[new $i(h,R)]));if(0===u.length&&0===w.length)return ge([new $i(h,[])]);const T=zr(r)===o;return this.processSegment(d,u,b,w,T?Te:o,!0).pipe(Re(R=>[new $i(h,R)]))}))))}getChildConfig(e,t,r){return t.children?ge({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ge({routes:t._loadedRoutes,injector:t._loadedInjector}):function CZ(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?ge(!0):ge(i.map(s=>{const a=Ec(s,n);return Do(function sZ(n){return n&&ed(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Pc(),R2())}(e,t,r).pipe(Jt(i=>i?this.configLoader.loadChildren(e,t).pipe(Xe(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function wZ(n){return ji(A2(!1,3))}())):ge({routes:[],injector:e})}}function NZ(n){const e=n.value.routeConfig;return e&&""===e.path}function V2(n){const e=[],t=new Set;for(const r of n){if(!NZ(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=V2(r.children);e.push(new $i(r.value,i))}return e.filter(r=>!t.has(r))}function L2(n){return n.data||{}}function U2(n){return n.resolve||{}}function B2(n){return"string"==typeof n.title||null===n.title}function yb(n){return Pn(e=>{const t=n(e);return t?Bt(t).pipe(Re(()=>e)):ge(e)})}const Mc=new oe("ROUTES");let vb=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ne(ck)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ge(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Do(t.loadComponent()).pipe(Re(j2),Xe(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Vl(()=>{this.componentLoaders.delete(t)})),i=new XN(r,()=>new Or).pipe(ZC());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ge({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function $Z(n,e,t,r){return Do(n.loadChildren()).pipe(Re(j2),Jt(i=>i instanceof gR||Array.isArray(i)?ge(i):Bt(e.compileModuleAsync(i))),Re(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(t).injector,s=o.get(Mc,[],{optional:!0,self:!0}).flat()),{routes:s.map(gb),injector:o}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(Vl(()=>{this.childrenLoaders.delete(r)})),s=new XN(o,()=>new Or).pipe(ZC());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function j2(n){return function HZ(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Jp=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Or,this.transitionAbortSubject=new Or,this.configLoader=ne(vb),this.environmentInjector=ne(ar),this.urlSerializer=ne(Hl),this.rootContexts=ne(Ql),this.inputBindingEnabled=null!==ne(qp,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ge(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new NX(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new kX(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new Gt({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Wl,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(bi(o=>0!==o.id),Re(o=>({...o,extractedUrl:t.urlHandlingStrategy.extract(o.rawUrl)})),Pn(o=>{this.currentTransition=o;let s=!1,a=!1;return ge(o).pipe(Xe(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Pn(c=>{const u=c.currentBrowserUrl.toString(),d=!t.navigated||c.extractedUrl.toString()!==u||u!==c.currentUrlTree.toString();if(!d&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const p="";return this.events.next(new Ic(c.id,this.urlSerializer.serialize(c.rawUrl),p,0)),c.resolve(null),Wr}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return ge(c).pipe(Pn(p=>{const m=this.transitions?.getValue();return this.events.next(new Hp(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?Wr:Promise.resolve(p)}),function FZ(n,e,t,r,i,o){return Jt(s=>function OZ(n,e,t,r,i,o,s="emptyOnly"){return new RZ(n,e,t,r,i,s,o).recognize()}(n,e,t,r,s.extractedUrl,i,o).pipe(Re(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Xe(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:p.urlAfterRedirects};const m=new y2(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(d&&t.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:p,extractedUrl:m,source:b,restoredState:w,extras:T}=c,R=new Hp(p,this.urlSerializer.serialize(m),b,w);this.events.next(R);const D=I2(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:D,urlAfterRedirects:m,extras:{...T,skipLocationChange:!1,replaceUrl:!1}},ge(o)}{const p="";return this.events.next(new Ic(c.id,this.urlSerializer.serialize(c.extractedUrl),p,1)),c.resolve(null),Wr}}),Xe(c=>{const u=new SX(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Re(c=>(this.currentTransition=o={...c,guards:tZ(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function hZ(n,e){return Jt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?ge({...t,guardsResult:!0}):function fZ(n,e,t,r){return Bt(n).pipe(Jt(i=>function vZ(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?ge(o.map(a=>{const c=Jl(e)??i,u=Ec(a,c);return Do(function uZ(n){return n&&ed(n.canDeactivate)}(u)?u.canDeactivate(n,e,t,r):c.runInContext(()=>u(n,e,t,r))).pipe(Ii())})).pipe(Pc()):ge(!0)}(i.component,i.route,t,e,r)),Ii(i=>!0!==i,!0))}(s,r,i,n).pipe(Jt(a=>a&&function oZ(n){return"boolean"==typeof n}(a)?function pZ(n,e,t,r){return Bt(e).pipe(_c(i=>XC(function mZ(n,e){return null!==n&&e&&e(new FX(n)),ge(!0)}(i.route.parent,r),function gZ(n,e){return null!==n&&e&&e(new LX(n)),ge(!0)}(i.route,r),function yZ(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function nZ(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>JN(()=>ge(s.guards.map(c=>{const u=Jl(s.node)??t,d=Ec(c,u);return Do(function cZ(n){return n&&ed(n.canActivateChild)}(d)?d.canActivateChild(r,n):u.runInContext(()=>d(r,n))).pipe(Ii())})).pipe(Pc())));return ge(o).pipe(Pc())}(n,i.path,t),function _Z(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ge(!0);const i=r.map(o=>JN(()=>{const s=Jl(e)??t,a=Ec(o,s);return Do(function aZ(n){return n&&ed(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(Ii())}));return ge(i).pipe(Pc())}(n,i.route,t))),Ii(i=>!0!==i,!0))}(r,o,n,e):ge(a)),Re(a=>({...t,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),Xe(c=>{if(o.guardsResult=c.guardsResult,Es(c.guardsResult))throw M2(0,c.guardsResult);const u=new xX(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),bi(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),yb(c=>{if(c.guards.canActivateChecks.length)return ge(c).pipe(Xe(u=>{const d=new OX(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Pn(u=>{let d=!1;return ge(u).pipe(function VZ(n,e){return Jt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ge(t);let o=0;return Bt(i).pipe(_c(s=>function LZ(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!B2(i)&&(o[jl]=i.title),function UZ(n,e,t,r){const i=function BZ(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return ge({});const o={};return Bt(i).pipe(Jt(s=>function jZ(n,e,t,r){const i=Jl(e)??r,o=Ec(n,i);return Do(o.resolve?o.resolve(e,t):i.runInContext(()=>o(e,t)))}(n[s],e,t,r).pipe(Ii(),Xe(a=>{o[s]=a}))),eb(1),function eX(n){return Re(()=>n)}(o),Tr(s=>O2(s)?Wr:ji(s)))}(o,n,e,r).pipe(Re(s=>(n._resolvedData=s,n.data=w2(n,t).resolve,i&&B2(i)&&(n.data[jl]=i.title),null)))}(s.route,r,n,e)),Xe(()=>o++),eb(1),Jt(s=>o===i.length?ge(t):Wr))})}(t.paramsInheritanceStrategy,this.environmentInjector),Xe({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",2)}}))}),Xe(u=>{const d=new RX(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),yb(c=>{const u=d=>{const h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Xe(p=>{d.component=p}),Re(()=>{})));for(const p of d.children)h.push(...u(p));return h};return JC(u(c.targetSnapshot.root)).pipe($h(),ga(1))}),yb(()=>this.afterPreactivation()),Re(c=>{const u=function zX(n,e,t){const r=Yl(n,e._root,t?t._root:void 0);return new b2(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:u},o}),Xe(()=>{this.events.next(new sb)}),((n,e,t,r)=>Re(i=>(new eZ(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),ga(1),Xe({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new So(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),function tX(n){return Ft((e,t)=>{tr(n).subscribe(Mt(t,()=>t.complete(),m_)),!t.closed&&e.subscribe(t)})}(this.transitionAbortSubject.pipe(Xe(c=>{throw c}))),Vl(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Tr(c=>{if(a=!0,D2(c))this.events.next(new Kl(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function WX(n){return D2(n)&&Es(n.url)}(c)?this.events.next(new ab(c.url)):o.resolve(!1);else{this.events.next(new zp(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(c))}catch(u){o.reject(u)}}return Wr}))}))}cancelNavigationTransition(t,r,i){const o=new Kl(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function $2(n){return n!==Wl}let H2=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Te);return r}getResolvedTitleForRoute(t){return t.data[jl]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=le({token:n,factory:function(){return ne(zZ)},providedIn:"root"})}}return n})(),zZ=(()=>{class n extends H2{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(se(HN))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),GZ=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=le({token:n,factory:function(){return ne(WZ)},providedIn:"root"})}}return n})();class qZ{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let WZ=(()=>{class n extends qZ{static{this.\u0275fac=function(){let t;return function(i){return(t||(t=nn(n)))(i||n)}}()}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Xp=new oe("",{providedIn:"root",factory:()=>({})});let KZ=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=le({token:n,factory:function(){return ne(QZ)},providedIn:"root"})}}return n})(),QZ=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var td=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(td||{});function z2(n,e){n.events.pipe(bi(t=>t instanceof So||t instanceof Kl||t instanceof zp||t instanceof Ic),Re(t=>t instanceof So||t instanceof Ic?td.COMPLETE:t instanceof Kl&&(0===t.code||1===t.code)?td.REDIRECTING:td.FAILED),bi(t=>t!==td.REDIRECTING),ga(1)).subscribe(()=>{e()})}function YZ(n){throw n}function JZ(n,e,t){return e.parse("/")}const XZ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ZZ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Vn=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ne(sC),this.isNgZoneEnabled=!1,this._events=new Or,this.options=ne(Xp,{optional:!0})||{},this.pendingTasks=ne(dp),this.errorHandler=this.options.errorHandler||YZ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||JZ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ne(KZ),this.routeReuseStrategy=ne(GZ),this.titleStrategy=ne(H2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ne(Mc,{optional:!0})?.flat()??[],this.navigationTransitions=ne(Jp),this.urlSerializer=ne(Hl),this.location=ne(IC),this.componentInputBindingEnabled=!!ne(qp,{optional:!0}),this.eventsSubscription=new Hn,this.isNgZoneEnabled=ne(Be)instanceof Be&&Be.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new bc,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=I2(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(G2(r)&&this._events.next(r));if(r instanceof Hp)$2(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Ic)this.rawUrlTree=i.rawUrl;else if(r instanceof y2){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof sb)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Kl)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof ab){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||$2(i.source)};this.scheduleNavigation(o,Wl,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof zp&&this.restoreHistory(i,!0),r instanceof So&&(this.navigated=!0),G2(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Wl,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(gb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s;let h,d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{h=d2(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),h=this.currentUrlTree.root}return h2(h,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Es(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Wl,null,r)}navigate(t,r={skipLocationChange:!1}){return function eee(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new K(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...XZ}:!1===r?{...ZZ}:r,Es(t))return n2(this.currentUrlTree,t,i);const o=this.parseUrl(t);return n2(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((h,p)=>{a=h,c=p});const d=this.pendingTasks.add();return z2(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function G2(n){return!(n instanceof sb||n instanceof ab)}let Ts=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Or,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof So&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function mS(n,e,t){return function sz(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?gS:sr}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(z(Vn),z(Ps),function ff(n){return function TH(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(uA(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===e)return t[i+1];i+=2}}}return null}(tn(),n)}("tabindex"),z(Si),z(cr),z(bs))}}static{this.\u0275dir=Ce({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&H("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&ni("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",gc],skipLocationChange:["skipLocationChange","skipLocationChange",gc],replaceUrl:["replaceUrl","replaceUrl",gc],routerLink:"routerLink"},standalone:!0,features:[Ox,vr]})}}return n})(),q2=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new yt,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof So&&this.update()})}ngAfterContentInit(){ge(this.links.changes,ge(null)).pipe(pa()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Bt(t).pipe(pa()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function tee(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static{this.\u0275fac=function(r){return new(r||n)(z(Vn),z(cr),z(Si),z(pc),z(Ts,8))}}static{this.\u0275dir=Ce({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(1&r&&jR(o,Ts,5),2&r){let s;BR(s=function $R(){return function dW(n,e){return n[Qr].queries[e].queryList}(G(),eD())}())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[vr]})}}return n})();class W2{}let nee=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(bi(t=>t instanceof So),_c(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=Hv(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Bt(i).pipe(pa())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):ge(null);const o=i.pipe(Jt(s=>null===s?ge(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?Bt([o,this.loader.loadComponent(r)]).pipe(pa()):o})}static{this.\u0275fac=function(r){return new(r||n)(se(Vn),se(ck),se(ar),se(W2),se(vb))}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Cb=new oe("");let K2=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Hp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof So?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Ic&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof v2&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new v2(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){!function ox(){throw new Error("invalid")}()}}static{this.\u0275prov=le({token:n,factory:n.\u0275fac})}}return n})();function Q2(n){return n.routerState.root}function Hi(n,e){return{\u0275kind:n,\u0275providers:e}}function Y2(){const n=ne(fn);return e=>{const t=n.get(vs);if(e!==t.components[0])return;const r=n.get(Vn),i=n.get(J2);1===n.get(bb)&&r.initialNavigation(),n.get(X2,null,De.Optional)?.setUpPreloading(),n.get(Cb,null,De.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const J2=new oe("",{factory:()=>new Or}),bb=new oe("",{providedIn:"root",factory:()=>1}),X2=new oe("");function aee(n){return Hi(0,[{provide:X2,useExisting:nee},{provide:W2,useExisting:n}])}const Z2=new oe("ROUTER_FORROOT_GUARD"),uee=[IC,{provide:Hl,useClass:tb},Vn,Ql,{provide:Ps,useFactory:Q2,deps:[Vn]},vb,[]];function lee(){return new gk("Router",Vn)}let nd=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[uee,[],{provide:Mc,multi:!0,useValue:t},{provide:Z2,useFactory:pee,deps:[[Vn,new On,new mf]]},{provide:Xp,useValue:r||{}},r?.useHash?{provide:bs,useClass:GK}:{provide:bs,useClass:Gk},{provide:Cb,useFactory:()=>{const n=ne(lY),e=ne(Be),t=ne(Xp),r=ne(Jp),i=ne(Hl);return t.scrollOffset&&n.setOffset(t.scrollOffset),new K2(i,r,n,e,t)}},r?.preloadingStrategy?aee(r.preloadingStrategy).\u0275providers:[],{provide:gk,multi:!0,useFactory:lee},r?.initialNavigation?gee(r):[],r?.bindToComponentInputs?Hi(8,[T2,{provide:qp,useExisting:T2}]).\u0275providers:[],[{provide:eF,useFactory:Y2},{provide:Ol,multi:!0,useExisting:eF}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Mc,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(se(Z2,8))}}static{this.\u0275mod=Nr({type:n})}static{this.\u0275inj=_r({})}}return n})();function pee(n){return"guarded"}function gee(n){return["disabled"===n.initialNavigation?Hi(3,[{provide:iC,multi:!0,useFactory:()=>{const e=ne(Vn);return()=>{e.setUpLocationChangeListener()}}},{provide:bb,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Hi(2,[{provide:bb,useValue:0},{provide:iC,multi:!0,deps:[fn],useFactory:e=>{const t=e.get(HK,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Vn),o=e.get(J2);z2(i,()=>{r(!0)}),e.get(Jp).afterPreactivation=()=>(r(!0),o.closed?ge(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const eF=new oe("");function tF(n,e,t,r,i,o,s){try{var a=n[o](s),c=a.value}catch(u){return void t(u)}a.done?e(c):Promise.resolve(c).then(r,i)}function E(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function s(c){tF(o,r,i,s,a,"next",c)}function a(c){tF(o,r,i,s,a,"throw",c)}s(void 0)})}}const nF=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},wb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0;let p=(15&a)<<2|u>>6,m=63&u;c||(m=64,s||(p=64)),r.push(t[o>>2],t[(3&o)<<4|a>>4],t[p],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(nF(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const c=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const o=n[t++],s=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const u=i<n.length?t[n.charAt(i)]:64;++i;const h=i<n.length?t[n.charAt(i)]:64;if(++i,null==o||null==a||null==u||null==h)throw new Cee;r.push(o<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==h&&r.push(u<<6&192|h))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Cee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Zp=function(n){return function(n){const e=nF(n);return wb.encodeByteArray(e,!0)}(n).replace(/\./g,"")},eg=function(n){try{return wb.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},tg=()=>{try{return function wee(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&eg(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},iF=n=>{var e,t;return null===(t=null===(e=tg())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},oF=()=>{var n;return null===(n=tg())||void 0===n?void 0:n.config},sF=n=>{var e;return null===(e=tg())||void 0===e?void 0:e[`_${n}`]};class ng{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function xt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Eb(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function xo(){try{return"object"==typeof indexedDB}catch{return!1}}function rd(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(t){e(t)}})}function Pb(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Mr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ci.prototype.create)}}class ci{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function Fee(n,e){return n.replace(Vee,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new Mr(i,`${this.serviceName}: ${s} (${i}).`,r)}}const Vee=/\{\$([^}]+)}/g;function Ac(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],s=e[i];if(uF(o)&&uF(s)){if(!Ac(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function uF(n){return null!==n&&"object"==typeof n}function id(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class Bee{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function jee(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=Tb),void 0===i.error&&(i.error=Tb),void 0===i.complete&&(i.complete=Tb);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Tb(){}const $ee=1e3,Hee=2,zee=144e5,Gee=.5;function Ab(n,e=$ee,t=Hee){const r=e*Math.pow(t,n),i=Math.round(Gee*r*(Math.random()-.5)*2);return Math.min(zee,r+i)}function rn(n){return n&&n._delegate?n._delegate:n}class gn{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ms="[DEFAULT]";class Wee{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new ng;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Qee(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ms})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ms){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return E(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Ms){return this.instances.has(e)}getOptions(e=Ms){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Ms?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=Ms){return this.component?this.component.multipleInstances?e:Ms:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Yee{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Wee(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Db=[];var xe=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(xe||{});const lF={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},Jee=xe.INFO,Xee={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},Zee=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=Xee[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class Dc{constructor(e){this.name=e,this._logLevel=Jee,this._logHandler=Zee,this._userLogHandler=null,Db.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?lF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const ete=(n,e)=>e.some(t=>n instanceof t);let dF,hF;const fF=new WeakMap,Sb=new WeakMap,pF=new WeakMap,xb=new WeakMap,Ob=new WeakMap;let Rb={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Sb.get(n);if("objectStoreNames"===e)return n.objectStoreNames||pF.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return zi(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function ate(n){return"function"==typeof n?function ste(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function nte(){return hF||(hF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(kb(this),e),zi(fF.get(this))}:function(...e){return zi(n.apply(kb(this),e))}:function(e,...t){const r=n.call(kb(this),e,...t);return pF.set(r,e.sort?e.sort():[e]),zi(r)}}(n):(n instanceof IDBTransaction&&function ite(n){if(Sb.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Sb.set(n,e)}(n),ete(n,function tte(){return dF||(dF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Rb):n)}function zi(n){if(n instanceof IDBRequest)return function rte(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(zi(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&fF.set(t,n)}).catch(()=>{}),Ob.set(e,n),e}(n);if(xb.has(n))return xb.get(n);const e=ate(n);return e!==n&&(xb.set(n,e),Ob.set(e,n)),e}const kb=n=>Ob.get(n);function ig(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(n,e),a=zi(s);return r&&s.addEventListener("upgradeneeded",c=>{r(zi(s.result),c.oldVersion,c.newVersion,zi(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}function Nb(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",r=>e(r.oldVersion,r)),zi(t).then(()=>{})}const cte=["get","getKey","getAll","getAllKeys","count"],ute=["put","add","delete","clear"],Fb=new Map;function gF(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(Fb.get(e))return Fb.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=ute.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!cte.includes(t))return;const o=function(){var s=E(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(c.shift())),(yield Promise.all([d[t](...c),i&&u.done]))[0]});return function(c){return s.apply(this,arguments)}}();return Fb.set(e,o),o}!function ote(n){Rb=n(Rb)}(n=>({...n,get:(e,t,r)=>gF(e,t)||n.get(e,t,r),has:(e,t)=>!!gF(e,t)||n.has(e,t)}));class lte{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function dte(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const og="@firebase/app",Vb="0.10.13",Gi=new Dc("@firebase/app"),sg="[DEFAULT]",Ute={[og]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},As=new Map,od=new Map,sd=new Map;function mF(n,e){try{n.container.addComponent(e)}catch(t){Gi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ln(n){const e=n.name;if(sd.has(e))return Gi.debug(`There were multiple attempts to register component ${e}.`),!1;sd.set(e,n);for(const t of As.values())mF(t,n);for(const t of od.values())mF(t,n);return!0}function Sc(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Oo(n){return void 0!==n.settings}const Ar=new ci("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class _F{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ar.create("app-deleted",{appName:this._name})}}const Ds="10.14.1";function yF(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:sg,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Ar.create("bad-app-name",{appName:String(i)});if(t||(t=oF()),!t)throw Ar.create("no-options");const o=As.get(i);if(o){if(Ac(t,o.options)&&Ac(r,o.config))return o;throw Ar.create("duplicate-app",{appName:i})}const s=new Yee(i);for(const c of sd.values())s.addComponent(c);const a=new _F(t,r,s);return As.set(i,a),a}function Lb(n=sg){const e=As.get(n);if(!e&&n===sg&&oF())return yF();if(!e)throw Ar.create("no-app",{appName:n});return e}function vF(){return Array.from(As.values())}function vt(n,e,t){var r;let i=null!==(r=Ute[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Gi.warn(a.join(" "))}Ln(new gn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const zte="firebase-heartbeat-database",Gte=1,ad="firebase-heartbeat-store";let Bb=null;function CF(){return Bb||(Bb=ig(zte,Gte,{upgrade:(n,e)=>{if(0===e)try{n.createObjectStore(ad)}catch(t){console.warn(t)}}}).catch(n=>{throw Ar.create("idb-open",{originalErrorMessage:n.message})})),Bb}function jb(){return(jb=E(function*(n){try{const t=(yield CF()).transaction(ad),r=yield t.objectStore(ad).get(IF(n));return yield t.done,r}catch(e){if(e instanceof Mr)Gi.warn(e.message);else{const t=Ar.create("idb-get",{originalErrorMessage:e?.message});Gi.warn(t.message)}}})).apply(this,arguments)}function bF(n,e){return $b.apply(this,arguments)}function $b(){return($b=E(function*(n,e){try{const r=(yield CF()).transaction(ad,"readwrite");yield r.objectStore(ad).put(e,IF(n)),yield r.done}catch(t){if(t instanceof Mr)Gi.warn(t.message);else{const r=Ar.create("idb-set",{originalErrorMessage:t?.message});Gi.warn(r.message)}}})).apply(this,arguments)}function IF(n){return`${n.name}!${n.options.appId}`}class Qte{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Jte(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return E(function*(){var t,r;try{const o=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=wF();return null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&(e._heartbeatsCache=yield e._heartbeatsCachePromise,null==(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats))||e._heartbeatsCache.lastSentHeartbeatDate===s||e._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(e._heartbeatsCache.heartbeats.push({date:s,agent:o}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=2592e6}),e._storage.overwrite(e._heartbeatsCache))}catch(i){Gi.warn(i)}})()}getHeartbeatsHeader(){var e=this;return E(function*(){var t;try{if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=wF(),{heartbeatsToSend:i,unsentEntries:o}=function Yte(n,e=1024){const t=[];let r=n.slice();for(const i of n){const o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),EF(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),EF(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Zp(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(e._heartbeatsCache.heartbeats=o,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s}catch(r){return Gi.warn(r),""}})()}}function wF(){return(new Date).toISOString().substring(0,10)}class Jte{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(function*(){return!!xo()&&rd().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return E(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function qte(n){return jb.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var t=this;return E(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return bF(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return E(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return bF(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function EF(n){return Zp(JSON.stringify({version:2,heartbeats:n})).length}!function Xte(n){Ln(new gn("platform-logger",e=>new lte(e),"PRIVATE")),Ln(new gn("heartbeat",e=>new Qte(e),"PRIVATE")),vt(og,Vb,n),vt(og,Vb,"esm2017"),vt("fire-js","")}(""),vt("firebase","10.14.1","app");const PF="@firebase/installations",Hb="0.6.9",TF=1e4,MF=`w:${Hb}`,AF="FIS_v2",tne="https://firebaseinstallations.googleapis.com/v1",nne=36e5,qi=new ci("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function DF(n){return n instanceof Mr&&n.code.includes("request-failed")}function zb({projectId:n}){return`${tne}/projects/${n}/installations`}function SF(n){return{token:n.token,requestStatus:2,expiresIn:sne(n.expiresIn),creationTime:Date.now()}}function Gb(n,e){return qb.apply(this,arguments)}function qb(){return(qb=E(function*(n,e){const r=(yield e.json()).error;return qi.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function xF({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Wb(n){return Kb.apply(this,arguments)}function Kb(){return(Kb=E(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function sne(n){return Number(n.replace("s","000"))}function Qb(){return(Qb=E(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=zb(n),i=xF(n),o=e.getImmediate({optional:!0});if(o){const u=yield o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:AF,appId:n.appId,sdkVersion:MF})},c=yield Wb(()=>fetch(r,a));if(c.ok){const u=yield c.json();return{fid:u.fid||t,registrationStatus:2,refreshToken:u.refreshToken,authToken:SF(u.authToken)}}throw yield Gb("Create Installation",c)})).apply(this,arguments)}function RF(n){return new Promise(e=>{setTimeout(e,n)})}const lne=/^[cdef][\w-]{21}$/,Yb="";function dne(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function hne(n){return function une(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return lne.test(t)?t:Yb}catch{return Yb}}function xc(n){return`${n.appName}!${n.appId}`}const Oc=new Map;function kF(n,e){const t=xc(n);NF(t,e),function gne(n,e){const t=function FF(){return!Ss&&"BroadcastChannel"in self&&(Ss=new BroadcastChannel("[Firebase] FID Change"),Ss.onmessage=n=>{NF(n.data.key,n.data.fid)}),Ss}();t&&t.postMessage({key:n,fid:e}),function VF(){0===Oc.size&&Ss&&(Ss.close(),Ss=null)}()}(t,e)}function NF(n,e){const t=Oc.get(n);if(t)for(const r of t)r(e)}let Ss=null;const mne="firebase-installations-database",_ne=1,xs="firebase-installations-store";let Jb=null;function Xb(){return Jb||(Jb=ig(mne,_ne,{upgrade:(n,e)=>{0===e&&n.createObjectStore(xs)}})),Jb}function ag(n,e){return Zb.apply(this,arguments)}function Zb(){return(Zb=E(function*(n,e){const t=xc(n),i=(yield Xb()).transaction(xs,"readwrite"),o=i.objectStore(xs),s=yield o.get(t);return yield o.put(e,t),yield i.done,(!s||s.fid!==e.fid)&&kF(n,e.fid),e})).apply(this,arguments)}function eI(n){return tI.apply(this,arguments)}function tI(){return(tI=E(function*(n){const e=xc(n),r=(yield Xb()).transaction(xs,"readwrite");yield r.objectStore(xs).delete(e),yield r.done})).apply(this,arguments)}function cd(n,e){return nI.apply(this,arguments)}function nI(){return(nI=E(function*(n,e){const t=xc(n),i=(yield Xb()).transaction(xs,"readwrite"),o=i.objectStore(xs),s=yield o.get(t),a=e(s);return void 0===a?yield o.delete(t):yield o.put(a,t),yield i.done,a&&(!s||s.fid!==a.fid)&&kF(n,a.fid),a})).apply(this,arguments)}function rI(n){return iI.apply(this,arguments)}function iI(){return iI=E(function*(n){let e;const t=yield cd(n.appConfig,r=>{const i=function yne(n){return UF(n||{fid:dne(),registrationStatus:0})}(r),o=function vne(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(qi.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Cne(n,e){return oI.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:bne(n)}:{installationEntry:e}}(n,i);return e=o.registrationPromise,o.installationEntry});return t.fid===Yb?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),iI.apply(this,arguments)}function oI(){return oI=E(function*(n,e){try{const t=yield function cne(n,e){return Qb.apply(this,arguments)}(n,e);return ag(n.appConfig,t)}catch(t){throw DF(t)&&409===t.customData.serverCode?yield eI(n.appConfig):yield ag(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),oI.apply(this,arguments)}function bne(n){return sI.apply(this,arguments)}function sI(){return(sI=E(function*(n){let e=yield LF(n.appConfig);for(;1===e.registrationStatus;)yield RF(100),e=yield LF(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield rI(n);return r||t}return e})).apply(this,arguments)}function LF(n){return cd(n,e=>{if(!e)throw qi.create("installation-not-found");return UF(e)})}function UF(n){return function Ine(n){return 1===n.registrationStatus&&n.registrationTime+TF<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function aI(){return(aI=E(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=function Ene(n,{fid:e}){return`${zb(n)}/${e}/authTokens:generate`}(n,t),i=function OF(n,{refreshToken:e}){const t=xF(n);return t.append("Authorization",function ane(n){return`${AF} ${n}`}(e)),t}(n,t),o=e.getImmediate({optional:!0});if(o){const u=yield o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:MF,appId:n.appId}})},c=yield Wb(()=>fetch(r,a));if(c.ok)return SF(yield c.json());throw yield Gb("Generate Auth Token",c)})).apply(this,arguments)}function cI(n){return uI.apply(this,arguments)}function uI(){return uI=E(function*(n,e=!1){let t;const r=yield cd(n.appConfig,o=>{if(!jF(o))throw qi.create("not-registered");const s=o.authToken;if(!e&&function Mne(n){return 2===n.requestStatus&&!function Ane(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+nne}(n)}(s))return o;if(1===s.requestStatus)return t=function Pne(n,e){return lI.apply(this,arguments)}(n,e),o;{if(!navigator.onLine)throw qi.create("app-offline");const a=function Dne(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(o);return t=function Tne(n,e){return dI.apply(this,arguments)}(n,a),a}});return t?yield t:r.authToken}),uI.apply(this,arguments)}function lI(){return(lI=E(function*(n,e){let t=yield BF(n.appConfig);for(;1===t.authToken.requestStatus;)yield RF(100),t=yield BF(n.appConfig);const r=t.authToken;return 0===r.requestStatus?cI(n,e):r})).apply(this,arguments)}function BF(n){return cd(n,e=>{if(!jF(e))throw qi.create("not-registered");return function Sne(n){return 1===n.requestStatus&&n.requestTime+TF<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function dI(){return dI=E(function*(n,e){try{const t=yield function wne(n,e){return aI.apply(this,arguments)}(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield ag(n.appConfig,r),t}catch(t){if(!DF(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield ag(n.appConfig,r)}else yield eI(n.appConfig);throw t}}),dI.apply(this,arguments)}function jF(n){return void 0!==n&&2===n.registrationStatus}function hI(){return(hI=E(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield rI(e);return r?r.catch(console.error):cI(e).catch(console.error),t.fid})).apply(this,arguments)}function fI(){return fI=E(function*(n,e=!1){const t=n;return yield function Rne(n){return pI.apply(this,arguments)}(t),(yield cI(t,e)).token}),fI.apply(this,arguments)}function pI(){return(pI=E(function*(n){const{registrationPromise:e}=yield rI(n);e&&(yield e)})).apply(this,arguments)}function _I(n){return qi.create("missing-app-config-values",{valueName:n})}const $F="installations",Lne=n=>{const e=n.getProvider("app").getImmediate(),t=function Fne(n){if(!n||!n.options)throw _I("App Configuration");if(!n.name)throw _I("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw _I(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:Sc(e,"heartbeat"),_delete:()=>Promise.resolve()}},Une=n=>{const t=Sc(n.getProvider("app").getImmediate(),$F).getImmediate();return{getId:()=>function xne(n){return hI.apply(this,arguments)}(t),getToken:i=>function One(n){return fI.apply(this,arguments)}(t,i)}};(function Bne(){Ln(new gn($F,Lne,"PUBLIC")),Ln(new gn("installations-internal",Une,"PRIVATE"))})(),vt(PF,Hb),vt(PF,Hb,"esm2017");const yI="@firebase/remote-config",Jn=new ci("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Jne{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return E(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const o=yield t.client.fetch(e),s=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&s.push(t.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(s),o})()}}function Xne(n=navigator){return n.languages&&n.languages[0]||n.language}class Zne{constructor(e,t,r,i,o,s){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=s}fetch(e){var t=this;return E(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:Xne()},u={method:"POST",headers:a,body:JSON.stringify(c)},d=fetch(s,u),h=new Promise((R,D)=>{e.signal.addEventListener(()=>{const j=new Error("The operation was aborted.");j.name="AbortError",D(j)})});let p;try{yield Promise.race([d,h]),p=yield d}catch(R){let D="fetch-client-network";throw"AbortError"===R?.name&&(D="fetch-timeout"),Jn.create(D,{originalErrorMessage:R?.message})}let m=p.status;const b=p.headers.get("ETag")||void 0;let w,T;if(200===p.status){let R;try{R=yield p.json()}catch(D){throw Jn.create("fetch-client-parse",{originalErrorMessage:D?.message})}w=R.entries,T=R.state}if("INSTANCE_STATE_UNSPECIFIED"===T?m=500:"NO_CHANGE"===T?m=304:("NO_TEMPLATE"===T||"EMPTY_CONFIG"===T)&&(w={}),304!==m&&200!==m)throw Jn.create("fetch-status",{httpStatus:m});return{status:m,eTag:b,config:w}})()}}class nre{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return E(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,t){var r=this;return E(function*(i,{throttleEndTimeMillis:o,backoffCount:s}){yield function ere(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(Jn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(i.signal,o);try{const a=yield r.client.fetch(i);return yield r.storage.deleteThrottleMetadata(),a}catch(a){if(!function tre(n){if(!(n instanceof Mr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(a))throw a;const c={throttleEndTimeMillis:Date.now()+Ab(s),backoffCount:s+1};return yield r.storage.setThrottleMetadata(c),r.attemptFetch(i,c)}}).apply(this,arguments)}}class ore{constructor(e,t,r,i,o){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ug(n,e){const t=n.target.error||void 0;return Jn.create(e,{originalErrorMessage:t&&t?.message})}const Os="app_namespace_store";class ure{constructor(e,t,r,i=function cre(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(ug(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Os,{keyPath:"compositeKey"})}}catch(t){e(Jn.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return E(function*(){const r=yield t.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([Os],"readonly").objectStore(Os),c=t.createCompositeKey(e);try{const u=a.get(c);u.onerror=d=>{o(ug(d,"storage-get"))},u.onsuccess=d=>{const h=d.target.result;i(h?h.value:void 0)}}catch(u){o(Jn.create("storage-get",{originalErrorMessage:u?.message}))}})})()}set(e,t){var r=this;return E(function*(){const i=yield r.openDbPromise;return new Promise((o,s)=>{const c=i.transaction([Os],"readwrite").objectStore(Os),u=r.createCompositeKey(e);try{const d=c.put({compositeKey:u,value:t});d.onerror=h=>{s(ug(h,"storage-set"))},d.onsuccess=()=>{o()}}catch(d){s(Jn.create("storage-set",{originalErrorMessage:d?.message}))}})})()}delete(e){var t=this;return E(function*(){const r=yield t.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([Os],"readwrite").objectStore(Os),c=t.createCompositeKey(e);try{const u=a.delete(c);u.onerror=d=>{o(ug(d,"storage-delete"))},u.onsuccess=()=>{i()}}catch(u){o(Jn.create("storage-delete",{originalErrorMessage:u?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class lre{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return E(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),o=yield t;o&&(e.lastFetchStatus=o);const s=yield r;s&&(e.lastSuccessfulFetchTimestampMillis=s);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function hre(){return wI.apply(this,arguments)}function wI(){return(wI=E(function*(){if(!xo())return!1;try{return yield rd()}catch{return!1}})).apply(this,arguments)}!function dre(){Ln(new gn("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Jn.create("registration-window");if(!xo())throw Jn.create("indexed-db-unavailable");const{projectId:o,apiKey:s,appId:a}=r.options;if(!o)throw Jn.create("registration-project-id");if(!s)throw Jn.create("registration-api-key");if(!a)throw Jn.create("registration-app-id");const c=new ure(a,r.name,t=t||"firebase"),u=new lre(c),d=new Dc(yI);d.logLevel=xe.ERROR;const h=new Zne(i,Ds,t,o,s,a),p=new nre(h,c),m=new Jne(p,c,u,d),b=new ore(r,m,u,c,d);return function Kne(n){const e=rn(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(b),b},"PUBLIC").setMultipleInstances(!0)),vt(yI,"0.4.9"),vt(yI,"0.4.9","esm2017")}();const fre="/firebase-messaging-sw.js",pre="/firebase-cloud-messaging-push-scope",qF="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",gre="https://fcmregistrations.googleapis.com/v1",WF="google.c.a.c_id",mre="google.c.a.c_l",_re="google.c.a.ts";var lg=function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n}(lg||{});function Wi(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Cre(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}const EI="fcm_token_details_db",bre=5,KF="fcm_token_object_Store";function PI(){return PI=E(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(EI))return null;let e=null;return(yield ig(EI,bre,{upgrade:(r=E(function*(i,o,s,a){var c;if(o<2||!i.objectStoreNames.contains(KF))return;const u=a.objectStore(KF),d=yield u.index("fcmSenderId").get(n);if(yield u.clear(),d)if(2===o){const h=d;if(!h.auth||!h.p256dh||!h.endpoint)return;e={token:h.fcmToken,createTime:null!==(c=h.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:h.auth,p256dh:h.p256dh,endpoint:h.endpoint,swScope:h.swScope,vapidKey:"string"==typeof h.vapidKey?h.vapidKey:Wi(h.vapidKey)}}}else if(3===o){const h=d;e={token:h.fcmToken,createTime:h.createTime,subscriptionOptions:{auth:Wi(h.auth),p256dh:Wi(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:Wi(h.vapidKey)}}}else if(4===o){const h=d;e={token:h.fcmToken,createTime:h.createTime,subscriptionOptions:{auth:Wi(h.auth),p256dh:Wi(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:Wi(h.vapidKey)}}}}),function(o,s,a,c){return r.apply(this,arguments)})})).close(),yield Nb(EI),yield Nb("fcm_vapid_details_db"),yield Nb("undefined"),function wre(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),PI.apply(this,arguments)}const Ere="firebase-messaging-database",Pre=1,Rs="firebase-messaging-store";let TI=null;function MI(){return TI||(TI=ig(Ere,Pre,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Rs)}})),TI}function AI(){return AI=E(function*(n){const e=OI(n),r=yield(yield MI()).transaction(Rs).objectStore(Rs).get(e);if(r)return r;{const i=yield function Ire(n){return PI.apply(this,arguments)}(n.appConfig.senderId);if(i)return yield DI(n,i),i}}),AI.apply(this,arguments)}function DI(n,e){return SI.apply(this,arguments)}function SI(){return(SI=E(function*(n,e){const t=OI(n),i=(yield MI()).transaction(Rs,"readwrite");return yield i.objectStore(Rs).put(e,t),yield i.done,e})).apply(this,arguments)}function OI({appConfig:n}){return n.appId}const on=new ci("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Are(n,e){return RI.apply(this,arguments)}function RI(){return(RI=E(function*(n,e){const t=yield VI(n),r=JF(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(FI(n.appConfig),i)).json()}catch(s){throw on.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error)throw on.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw on.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function kI(){return(kI=E(function*(n,e){const t=yield VI(n),r=JF(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(`${FI(n.appConfig)}/${e.token}`,i)).json()}catch(s){throw on.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error)throw on.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw on.create("token-update-no-token");return o.token})).apply(this,arguments)}function NI(){return(NI=E(function*(n,e){const r={method:"DELETE",headers:yield VI(n)};try{const o=yield(yield fetch(`${FI(n.appConfig)}/${e}`,r)).json();if(o.error)throw on.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(i){throw on.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function FI({projectId:n}){return`${gre}/projects/${n}/registrations`}function VI(n){return LI.apply(this,arguments)}function LI(){return(LI=E(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function JF({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==qF&&(i.web.applicationPubKey=r),i}const Sre=6048e5;function UI(){return UI=E(function*(n){const e=yield function kre(n,e){return HI.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Wi(e.getKey("auth")),p256dh:Wi(e.getKey("p256dh"))},r=yield function QF(n){return AI.apply(this,arguments)}(n.firebaseDependencies);if(r){if(function Nre(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(r.subscriptionOptions,t))return Date.now()>=r.createTime+Sre?function Rre(n,e){return jI.apply(this,arguments)}(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield function YF(n,e){return NI.apply(this,arguments)}(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return XF(n.firebaseDependencies,t)}return XF(n.firebaseDependencies,t)}),UI.apply(this,arguments)}function jI(){return jI=E(function*(n,e){try{const t=yield function Dre(n,e){return kI.apply(this,arguments)}(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield DI(n.firebaseDependencies,r),t}catch(t){throw t}}),jI.apply(this,arguments)}function XF(n,e){return $I.apply(this,arguments)}function $I(){return($I=E(function*(n,e){const r={token:yield Are(n,e),createTime:Date.now(),subscriptionOptions:e};return yield DI(n,r),r.token})).apply(this,arguments)}function HI(){return(HI=E(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Cre(e)})})).apply(this,arguments)}function ZF(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function Fre(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const o=e.notification.icon;o&&(n.notification.icon=o)}(e,n),function Vre(n,e){e.data&&(n.data=e.data)}(e,n),function Lre(n,e){var t,r,i,o,s;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=e.notification)||void 0===o?void 0:o.click_action;a&&(n.fcmOptions.link=a);const c=null===(s=e.fcmOptions)||void 0===s?void 0:s.analytics_label;c&&(n.fcmOptions.analyticsLabel=c)}(e,n),e}function zI(n){return on.create("missing-app-config-values",{valueName:n})}!function Bre(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));t.join("")}("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class $re{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function jre(n){if(!n||!n.options)throw zI("App Configuration Object");if(!n.name)throw zI("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw zI(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function GI(){return(GI=E(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(fre,{scope:pre}),n.swRegistration.update().catch(()=>{})}catch(e){throw on.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function qI(){return(qI=E(function*(n,e){if(!e&&!n.swRegistration&&(yield function eV(n){return GI.apply(this,arguments)}(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw on.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function WI(){return(WI=E(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=qF)})).apply(this,arguments)}function KI(){return KI=E(function*(n,e){if(!navigator)throw on.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw on.create("permission-blocked");return yield function zre(n,e){return WI.apply(this,arguments)}(n,e?.vapidKey),yield function Hre(n,e){return qI.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function xre(n){return UI.apply(this,arguments)}(n)}),KI.apply(this,arguments)}function QI(){return(QI=E(function*(n,e,t){const r=function qre(n){switch(n){case lg.NOTIFICATION_CLICKED:return"notification_open";case lg.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[WF],message_name:t[mre],message_time:t[_re],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function YI(){return YI=E(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===lg.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(ZF(t)):n.onMessageHandler.next(ZF(t)));const r=t.data;(function Ure(n){return"object"==typeof n&&!!n&&WF in n})(r)&&"1"===r["google.c.a.e"]&&(yield function Gre(n,e,t){return QI.apply(this,arguments)}(n,t.messageType,r))}),YI.apply(this,arguments)}const nV="@firebase/messaging",rV="0.12.12",Kre=n=>{const e=new $re(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function Wre(n,e){return YI.apply(this,arguments)}(e,t)),e},Qre=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function tV(n,e){return KI.apply(this,arguments)}(e,r)}};function iV(){return JI.apply(this,arguments)}function JI(){return(JI=E(function*(){try{yield rd()}catch{return!1}return typeof window<"u"&&xo()&&Pb()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Yre(){Ln(new gn("messaging",Kre,"PUBLIC")),Ln(new gn("messaging-internal",Qre,"PRIVATE")),vt(nV,rV),vt(nV,rV,"esm2017")}();const dg="analytics",Zre="firebase_id",eie="origin",tie=6e4,nie="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",e0="https://www.googletagmanager.com/gtag/js",qt=new Dc("@firebase/analytics"),Un=new ci("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function iie(n){if(!n.startsWith(e0)){const e=Un.create("invalid-gtag-resource",{gtagURL:n});return qt.warn(e.message),""}return n}function oV(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function t0(){return(t0=E(function*(n,e,t,r,i,o){const s=r[i];try{if(s)yield e[s];else{const c=(yield oV(t)).find(u=>u.measurementId===i);c&&(yield e[c.appId])}}catch(a){qt.error(a)}n("config",i,o)})).apply(this,arguments)}function n0(){return(n0=E(function*(n,e,t,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=yield oV(t);for(const c of s){const u=a.find(h=>h.measurementId===c),d=u&&e[u.appId];if(!d){o=[];break}o.push(d)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),n("event",r,i||{})}catch(o){qt.error(o)}})).apply(this,arguments)}const fie=30,sV=new class gie{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function mie(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function r0(){return(r0=E(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:mie(r)},o=nie.replace("{app-id}",t),s=yield fetch(o,i);if(200!==s.status&&304!==s.status){let a="";try{const c=yield s.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw Un.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function o0(){return(o0=E(function*(n,e=sV,t){const{appId:r,apiKey:i,measurementId:o}=n.options;if(!r)throw Un.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Un.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new bie;return setTimeout(E(function*(){a.abort()}),void 0!==t?t:tie),aV({appId:r,apiKey:i,measurementId:o},s,a,e)})).apply(this,arguments)}function aV(n,e,t){return s0.apply(this,arguments)}function s0(){return s0=E(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=sV){var o;const{appId:s,measurementId:a}=n;try{yield function vie(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(Un.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return qt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw c}try{const c=yield function _ie(n){return r0.apply(this,arguments)}(n);return i.deleteThrottleMetadata(s),c}catch(c){const u=c;if(!function Cie(n){if(!(n instanceof Mr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(u)){if(i.deleteThrottleMetadata(s),a)return qt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:s,measurementId:a};throw c}const d=503===Number(null===(o=u?.customData)||void 0===o?void 0:o.httpStatus)?Ab(t,i.intervalMillis,fie):Ab(t,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:t+1};return i.setThrottleMetadata(s,h),qt.debug(`Calling attemptFetch again in ${d} millis`),aV(n,h,r,i)}}),s0.apply(this,arguments)}class bie{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let a0,p0;function c0(){return(c0=E(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const o=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:o}))}})).apply(this,arguments)}function g0(){return(g0=E(function*(){if(!xo())return qt.warn(Un.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield rd()}catch(n){return qt.warn(Un.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function m0(){return m0=E(function*(n,e,t,r,i,o,s){var a;const c=function yie(n){return o0.apply(this,arguments)}(n);c.then(m=>{t[m.measurementId]=m.appId,n.options.measurementId&&m.measurementId!==n.options.measurementId&&qt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>qt.error(m)),e.push(c);const u=function Aie(){return g0.apply(this,arguments)}().then(m=>{if(m)return r.getId()}),[d,h]=yield Promise.all([c,u]);(function hie(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(e0)&&t.src.includes(n))return t;return null})(o)||function sie(n,e){const t=function oie(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:iie}),r=document.createElement("script"),i=`${e0}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(o,d.measurementId),p0&&(i("consent","default",p0),function cV(n){p0=n}(void 0)),i("js",new Date);const p=null!==(a=s?.config)&&void 0!==a?a:{};return p[eie]="firebase",p.update=!0,null!=h&&(p[Zre]=h),i("config",d.measurementId,p),a0&&(i("set",a0),function uV(n){a0=n}(void 0)),d.measurementId}),m0.apply(this,arguments)}class Sie{constructor(e){this.app=e}_delete(){return delete ui[this.app.options.appId],Promise.resolve()}}let ui={},lV=[];const dV={};let fV,li,hg="dataLayer",_0=!1;function Oie(n,e,t){!function xie(){const n=[];if(Eb()&&n.push("This is a browser extension environment."),Pb()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Un.create("invalid-analytics-context",{errorInfo:e});qt.warn(t.message)}}();const r=n.options.appId;if(!r)throw Un.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Un.create("no-api-key");qt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ui[r])throw Un.create("already-exists",{id:r});if(!_0){!function aie(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(hg);const{wrappedGtag:o,gtagCore:s}=function die(n,e,t,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function lie(n,e,t,r){function o(){return o=E(function*(s,...a){try{if("event"===s){const[c,u]=a;yield function uie(n,e,t,r,i){return n0.apply(this,arguments)}(n,e,t,c,u)}else if("config"===s){const[c,u]=a;yield function cie(n,e,t,r,i,o){return t0.apply(this,arguments)}(n,e,t,r,c,u)}else if("consent"===s){const[c,u]=a;n("consent",c,u)}else if("get"===s){const[c,u,d]=a;n("get",c,u,d)}else if("set"===s){const[c]=a;n("set",c)}else n(s,...a)}catch(c){qt.error(c)}}),o.apply(this,arguments)}return function i(s){return o.apply(this,arguments)}}(o,n,e,t),{gtagCore:o,wrappedGtag:window[i]}}(ui,lV,dV,hg,"gtag");li=o,fV=s,_0=!0}return ui[r]=function Die(n,e,t,r,i,o,s){return m0.apply(this,arguments)}(n,lV,dV,e,fV,hg,t),new Sie(n)}function kie(){return y0.apply(this,arguments)}function y0(){return(y0=E(function*(){if(Eb()||!Pb()||!xo())return!1;try{return yield rd()}catch{return!1}})).apply(this,arguments)}const pV="@firebase/analytics";!function Fie(){Ln(new gn(dg,(e,{options:t})=>Oie(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Ln(new gn("analytics-internal",function n(e){try{const t=e.getProvider(dg).getImmediate();return{logEvent:(r,i,o)=>function Nie(n,e,t,r){n=rn(n),function Iie(n,e,t,r,i){return c0.apply(this,arguments)}(li,ui[n.app.options.appId],e,t,r).catch(i=>qt.error(i))}(t,r,i,o)}}catch(t){throw Un.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),vt(pV,"0.10.8"),vt(pV,"0.10.8","esm2017")}();class Vie extends Hn{constructor(e,t){super()}schedule(e,t=0){return this}}const fg={setInterval(n,e,...t){const{delegate:r}=fg;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=fg;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class mV extends Vie{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return fg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&fg.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,fa(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const _V={now:()=>(_V.delegate||Date).now(),delegate:void 0};class ud{constructor(e,t=ud.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}ud.now=_V.now;class yV extends ud{constructor(e,t=ud.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const Bie=new class Uie extends yV{}(class Lie extends mV{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),pg=new yV(mV),jie=pg,gg=new Ka("7.6.1"),C0="__angularfire_symbol__analyticsIsSupportedValue",b0="__angularfire_symbol__analyticsIsSupported",I0="__angularfire_symbol__remoteConfigIsSupportedValue",w0="__angularfire_symbol__remoteConfigIsSupported",E0="__angularfire_symbol__messagingIsSupportedValue",P0="__angularfire_symbol__messagingIsSupported";function M0(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[b0]||(globalThis[b0]=kie().then(n=>globalThis[C0]=n).catch(()=>globalThis[C0]=!1)),globalThis[P0]||(globalThis[P0]=iV().then(n=>globalThis[E0]=n).catch(()=>globalThis[E0]=!1)),globalThis[w0]||(globalThis[w0]=hre().then(n=>globalThis[I0]=n).catch(()=>globalThis[I0]=!1));const A0=(n,e)=>{const t=e?[e]:vF(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};function Rc(){}class vV{constructor(e,t=Bie){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},t,r)}}class $ie{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Rc,{},Rc,Rc)),t.pipe(Xe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let D0=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new vV(Zone.current)),this.insideAngular=t.run(()=>new vV(Zone.current,pg)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(se(Be))},n.\u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ks(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Ns(n){return ks().ngZone.run(()=>n())}function zie(n){return ks(),function Gie(n){return function(t){return(t=t.lift(new $ie(n.ngZone))).pipe(Bh(n.outsideAngular),Uh(n.insideAngular))}}(ks())(n)}const qie=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ns(()=>n.apply(void 0,r))},S0=(n,e)=>function(){let t;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(t||(t=Ns(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Rc,{},Rc,Rc)))),r[o]=qie(r[o],t));const i=function Hie(n){return ks().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof dt){const o=ks();return i.pipe(Bh(o.outsideAngular),Uh(o.insideAngular))}return Ns(()=>i)}return i instanceof dt?i.pipe(zie):i instanceof Promise?Ns(()=>new Promise((o,s)=>i.then(a=>Ns(()=>o(a)),a=>Ns(()=>s(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Ns(()=>i)};class kc{constructor(e){return e}}class x0{constructor(){return vF()}}const O0=new oe("angularfire2._apps"),Kie={provide:kc,useFactory:function Wie(n){return n&&1===n.length?n[0]:new kc(Lb())},deps:[[new On,O0]]},Qie={provide:x0,deps:[[new On,O0]]};function Yie(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new kc(r)}}let Jie=(()=>{class n{constructor(t){vt("angularfire",gg.full,"core"),vt("angularfire",gg.full,"app"),vt("angular",kS.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(se(Di))},n.\u0275mod=Nr({type:n}),n.\u0275inj=_r({providers:[Kie,Qie]}),n})();const Zie=S0(yF,!0),R0=new Map,CV={activated:!1,tokenObservers:[]},eoe={initialized:!1,enabled:!1};function Et(n){return R0.get(n)||Object.assign({},CV)}function mg(){return eoe}const k0="https://content-firebaseappcheck.googleapis.com/v1",ioe="exchangeDebugToken",bV={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class soe{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return E(function*(){t.stop();try{t.pending=new ng,t.pending.promise.catch(r=>{}),yield function aoe(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new ng,t.pending.promise.catch(r=>{}),yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const sn=new ci("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function N0(n){if(!Et(n).activated)throw sn.create("use-before-activation",{appName:n.name})}function vg(n,e){return V0.apply(this,arguments)}function V0(){return(V0=E(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const h=yield i.getHeartbeatsHeader();h&&(r["X-Firebase-Client"]=h)}const o={method:"POST",body:JSON.stringify(e),headers:r};let s,a;try{s=yield fetch(n,o)}catch(h){throw sn.create("fetch-network-error",{originalErrorMessage:h?.message})}if(200!==s.status)throw sn.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(h){throw sn.create("fetch-parse-error",{originalErrorMessage:h?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw sn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=1e3*Number(c[1]),d=Date.now();return{token:a.token,expireTimeMillis:d+u,issuedAtTimeMillis:d}})).apply(this,arguments)}function IV(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${k0}/projects/${t}/apps/${r}:${ioe}?key=${i}`,body:{debug_token:e}}}const doe="firebase-app-check-database",hoe=1,ld="firebase-app-check-store";let Cg=null;function L0(){return(L0=E(function*(n,e){const r=(yield function EV(){return Cg||(Cg=new Promise((n,e)=>{try{const t=indexedDB.open(doe,hoe);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(sn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ld,{keyPath:"compositeKey"})}}catch(t){e(sn.create("storage-open",{originalErrorMessage:t?.message}))}}),Cg)}()).transaction(ld,"readwrite"),o=r.objectStore(ld).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var u;a(sn.create("storage-set",{originalErrorMessage:null===(u=c.target.error)||void 0===u?void 0:u.message}))}})})).apply(this,arguments)}const dd=new Dc("@firebase/app-check");function j0(n,e){return xo()?function poe(n,e){return function PV(n,e){return L0.apply(this,arguments)}(function MV(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{dd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function H0(){return mg().enabled}function z0(){return G0.apply(this,arguments)}function G0(){return(G0=E(function*(){const n=mg();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Coe={error:"UNKNOWN_ERROR"};function boe(n){return wb.encodeString(JSON.stringify(n),!1)}function bg(n){return q0.apply(this,arguments)}function q0(){return(q0=E(function*(n,e=!1){const t=n.app;N0(t);const r=Et(t);let o,i=r.token;if(i&&!Nc(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(Nc(c)?i=c:yield j0(t,void 0))}if(!e&&i&&Nc(i))return{token:i.token};let a,s=!1;if(H0()){r.exchangeTokenPromise||(r.exchangeTokenPromise=vg(IV(t,yield z0()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);const c=yield r.exchangeTokenPromise;return yield j0(t,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield Et(t).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?dd.warn(c.message):dd.error(c),o=c}return i?o?a=Nc(i)?{token:i.token,internalError:o}:xV(o):(a={token:i.token},r.token=i,yield j0(t,i)):a=xV(o),s&&function SV(n,e){const t=Et(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,a),a})).apply(this,arguments)}function AV(n){return W0.apply(this,arguments)}function W0(){return(W0=E(function*(n){const e=n.app;N0(e);const{provider:t}=Et(e);if(H0()){const r=yield z0(),{token:i}=yield vg(IV(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function Q0(n,e){const t=Et(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function DV(n){const{app:e}=n,t=Et(e);let r=t.tokenRefresher;r||(r=function Ioe(n){const{app:e}=n;return new soe(E(function*(){let r;if(r=Et(e).token?yield bg(n,!0):yield bg(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Et(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},bV.RETRIAL_MIN_WAIT,bV.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Nc(n){return n.expireTimeMillis-Date.now()>0}function xV(n){return{token:boe(Coe),error:n}}class woe{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Et(this.app);for(const t of e)Q0(this.app,t.next);return Promise.resolve()}}const UV="app-check-internal";!function Voe(){Ln(new gn("app-check",n=>function Eoe(n,e){return new woe(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(UV).initialize()})),Ln(new gn(UV,n=>function Poe(n){return{getToken:e=>bg(n,e),getLimitedUseToken:()=>AV(n),addTokenListener:e=>function K0(n,e,t,r){const{app:i}=n,o=Et(i);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:r,type:e}],o.token&&Nc(o.token)){const a=o.token;Promise.resolve().then(()=>{t({token:a.token}),DV(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>DV(n))}(n,"INTERNAL",e),removeTokenListener:e=>Q0(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),vt("@firebase/app-check","0.8.8")}();class Z0{constructor(){return A0("app-check")}}typeof window<"u"&&window;const $oe=function jV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},$V=new ci("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),wg=new Dc("@firebase/auth");function Eg(n,...e){wg.logLevel<=xe.ERROR&&wg.error(`Auth (${Ds}): ${n}`,...e)}function Xn(n,...e){throw nw(n,...e)}function Dr(n,...e){return nw(n,...e)}function tw(n,e,t){const r=Object.assign(Object.assign({},$oe()),{[e]:t});return new ci("auth","Firebase",r).create(e,{appName:n.name})}function Wt(n){return tw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nw(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return $V.create(n,...e)}function Z(n,e,...t){if(!n)throw nw(e,...t)}function di(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Eg(e),new Error(e)}function Ro(n,e){n||di(e)}function hd(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function HV(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class fd{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ro(t>e,"Short delay should be less than long delay!"),this.isMobile=function Dee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}()||function Ree(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function zoe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function rw(){return"http:"===HV()||"https:"===HV()}()||Eb()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function iw(n,e){Ro(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class zV{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void di("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void di("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void di("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qoe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Woe=new fd(3e4,6e4);function at(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function ct(n,e,t,r){return ow.apply(this,arguments)}function ow(){return(ow=E(function*(n,e,t,r,i={}){return GV(n,i,E(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=id(Object.assign({key:n.config.apiKey},s)).slice(1),c=yield n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const u=Object.assign({method:e,headers:c},o);return function Oee(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}()||(u.referrerPolicy="no-referrer"),zV.fetch()(qV(n,n.config.apiHost,t,a),u)}))})).apply(this,arguments)}function GV(n,e,t){return sw.apply(this,arguments)}function sw(){return(sw=E(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},qoe),e);try{const i=new Qoe(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw pd(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw pd(n,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw pd(n,"email-already-in-use",s);if("USER_DISABLED"===c)throw pd(n,"user-disabled",s);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw tw(n,d,u);Xn(n,d)}}catch(i){if(i instanceof Mr)throw i;Xn(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function aw(){return(aw=E(function*(n,e,t,r,i={}){const o=yield ct(n,e,t,r,i);return"mfaPendingCredential"in o&&Xn(n,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function qV(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?iw(n.config,i):`${n.config.apiScheme}://${i}`}class Qoe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Dr(this.auth,"network-request-failed")),Woe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Dr(n,e,r);return i.customData._tokenResponse=t,i}function lw(){return(lw=E(function*(n,e){return ct(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function JV(n,e){return hw.apply(this,arguments)}function hw(){return(hw=E(function*(n,e){return ct(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function gd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function fw(){return(fw=E(function*(n,e=!1){const t=rn(n),r=yield t.getIdToken(e),i=Pg(r);Z(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:gd(pw(i.auth_time)),issuedAtTime:gd(pw(i.iat)),expirationTime:gd(pw(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function pw(n){return 1e3*Number(n)}function Pg(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return Eg("JWT malformed, contained fewer than 3 sections"),null;try{const i=eg(t);return i?JSON.parse(i):(Eg("Failed to decode base64 JWT payload"),null)}catch(i){return Eg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function XV(n){const e=Pg(n);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Qi(n,e){return gw.apply(this,arguments)}function gw(){return(gw=E(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Mr&&function ese({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class tse{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(E(function*(){yield t.iteration()}),r)}iteration(){var e=this;return E(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class mw{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=gd(this.lastLoginAt),this.creationTime=gd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function md(n){return _w.apply(this,arguments)}function _w(){return(_w=E(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield Qi(n,JV(t,{idToken:r}));Z(i?.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?ZV(o.providerUserInfo):[],a=function rse(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,s),d=!!n.isAnonymous&&!(n.email&&o.passwordHash||a?.length),h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new mw(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(n,h)})).apply(this,arguments)}function yw(){return(yw=E(function*(n){const e=rn(n);yield md(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function ZV(n){return n.map(e=>{var{providerId:t}=e,r=Lh(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function vw(){return(vw=E(function*(n,e){const t=yield GV(n,{},E(function*(){const r=id({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=qV(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",zV.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}function Cw(){return(Cw=E(function*(n,e){return ct(n,"POST","/v2/accounts:revokeToken",at(n,e))})).apply(this,arguments)}class Vc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):XV(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Z(0!==e.length,"internal-error");const t=XV(e);this.updateTokensAndExpiration(e,null,t)}getToken(e){var t=this;return E(function*(r,i=!1){return i||!t.accessToken||t.isExpired?(Z(t.refreshToken,r,"user-token-expired"),t.refreshToken?(yield t.refresh(r,t.refreshToken),t.accessToken):null):t.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return E(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function ise(n,e){return vw.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new Vc;return r&&(Z("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(Z("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(Z("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vc,this.toJSON())}_performRefresh(){return di("not implemented")}}function ko(n,e){Z("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Yi{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Lh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tse(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new mw(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var t=this;return E(function*(){const r=yield Qi(t,t.stsTokenManager.getToken(t.auth,e));return Z(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function Zoe(n){return fw.apply(this,arguments)}(this,e)}reload(){return function nse(n){return yw.apply(this,arguments)}(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Yi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e){var t=this;return E(function*(r,i=!1){let o=!1;r.idToken&&r.idToken!==t.stsTokenManager.accessToken&&(t.stsTokenManager.updateFromServerResponse(r),o=!0),i&&(yield md(t)),yield t.auth._persistUserIfCurrent(t),o&&t.auth._notifyListenersIfCurrent(t)}).apply(this,arguments)}delete(){var e=this;return E(function*(){if(Oo(e.auth.app))return Promise.reject(Wt(e.auth));const t=yield e.getIdToken();return yield Qi(e,function Joe(n,e){return lw.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,u,d;const h=null!==(r=t.displayName)&&void 0!==r?r:void 0,p=null!==(i=t.email)&&void 0!==i?i:void 0,m=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,b=null!==(s=t.photoURL)&&void 0!==s?s:void 0,w=null!==(a=t.tenantId)&&void 0!==a?a:void 0,T=null!==(c=t._redirectEventId)&&void 0!==c?c:void 0,R=null!==(u=t.createdAt)&&void 0!==u?u:void 0,D=null!==(d=t.lastLoginAt)&&void 0!==d?d:void 0,{uid:j,emailVerified:Q,isAnonymous:ie,providerData:he,stsTokenManager:S}=t;Z(j&&S,e,"internal-error");const P=Vc.fromJSON(this.name,S);Z("string"==typeof j,e,"internal-error"),ko(h,e.name),ko(p,e.name),Z("boolean"==typeof Q,e,"internal-error"),Z("boolean"==typeof ie,e,"internal-error"),ko(m,e.name),ko(b,e.name),ko(w,e.name),ko(T,e.name),ko(R,e.name),ko(D,e.name);const M=new Yi({uid:j,auth:e,email:p,emailVerified:Q,displayName:h,isAnonymous:ie,photoURL:b,phoneNumber:m,tenantId:w,stsTokenManager:P,createdAt:R,lastLoginAt:D});return he&&Array.isArray(he)&&(M.providerData=he.map(O=>Object.assign({},O))),T&&(M._redirectEventId=T),M}static _fromIdTokenResponse(e,t){return E(function*(r,i,o=!1){const s=new Vc;s.updateFromServerResponse(i);const a=new Yi({uid:i.localId,auth:r,stsTokenManager:s,isAnonymous:o});return yield md(a),a}).apply(this,arguments)}static _fromGetAccountInfoResponse(e,t,r){return E(function*(){const i=t.users[0];Z(void 0!==i.localId,"internal-error");const o=void 0!==i.providerUserInfo?ZV(i.providerUserInfo):[],s=!(i.email&&i.passwordHash||o?.length),a=new Vc;a.updateFromIdToken(r);const c=new Yi({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new mw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash||o?.length)};return Object.assign(c,u),c})()}}const eL=new Map;function Ji(n){Ro(n instanceof Function,"Expected a class definition");let e=eL.get(n);return e?(Ro(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,eL.set(n,e),e)}const tL=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(function*(){return!0})()}_set(t,r){var i=this;return E(function*(){i.storage[t]=r})()}_get(t){var r=this;return E(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return E(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Tg(n,e,t){return`firebase:${n}:${e}:${t}`}class Lc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Tg(this.userKey,i.apiKey,o),this.fullPersistenceKey=Tg("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return E(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Yi._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return E(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t){return E(function*(r,i,o="authUser"){if(!i.length)return new Lc(Ji(tL),r,o);const s=(yield Promise.all(i.map(function(){var h=E(function*(p){if(yield p._isAvailable())return p});return function(p){return h.apply(this,arguments)}}()))).filter(h=>h);let a=s[0]||Ji(tL);const c=Tg(o,r.config.apiKey,r.name);let u=null;for(const h of i)try{const p=yield h._get(c);if(p){const m=Yi._fromJSON(r,p);h!==a&&(u=m),a=h;break}}catch{}const d=s.filter(h=>h._shouldAllowMigration);return a._shouldAllowMigration&&d.length?(a=d[0],u&&(yield a._set(c,u.toJSON())),yield Promise.all(i.map(function(){var h=E(function*(p){if(p!==a)try{yield p._remove(c)}catch{}});return function(p){return h.apply(this,arguments)}}())),new Lc(a,r,o)):new Lc(a,r,o)}).apply(this,arguments)}}function nL(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cL(e))return"Blackberry";if(uL(e))return"Webos";if(iL(e))return"Safari";if((e.includes("chrome/")||oL(e))&&!e.includes("edge/"))return"Chrome";if(aL(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function rL(n=xt()){return/firefox\//i.test(n)}function iL(n=xt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oL(n=xt()){return/crios\//i.test(n)}function sL(n=xt()){return/iemobile/i.test(n)}function aL(n=xt()){return/android/i.test(n)}function cL(n=xt()){return/blackberry/i.test(n)}function uL(n=xt()){return/webos/i.test(n)}function bw(n=xt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function lL(n=xt()){return bw(n)||aL(n)||uL(n)||cL(n)||/windows phone/i.test(n)||sL(n)}function dL(n,e=[]){let t;switch(n){case"Browser":t=nL(xt());break;case"Worker":t=`${nL(xt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ds}/${r}`}class cse{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return E(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function Iw(){return(Iw=E(function*(n,e={}){return ct(n,"GET","/v2/passwordPolicy",at(n,e))})).apply(this,arguments)}class dse{constructor(e){var t,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=null===(t=c.meetsMinPasswordLength)||void 0===t||t),c.isValid&&(c.isValid=null===(r=c.meetsMaxPasswordLength)||void 0===r||r),c.isValid&&(c.isValid=null===(i=c.containsLowercaseLetter)||void 0===i||i),c.isValid&&(c.isValid=null===(o=c.containsUppercaseLetter)||void 0===o||o),c.isValid&&(c.isValid=null===(s=c.containsNumericCharacter)||void 0===s||s),c.isValid&&(c.isValid=null===(a=c.containsNonAlphanumericCharacter)||void 0===a||a),c}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class hse{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hL(this),this.idTokenSubscription=new hL(this),this.beforeStateQueue=new cse(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$V,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Ji(t)),this._initializationPromise=this.queue(E(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Lc.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return E(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUserFromIdToken(e){var t=this;return E(function*(){try{const r=yield JV(t,{idToken:e}),i=yield Yi._fromGetAccountInfoResponse(t,r,e);yield t.directlySetCurrentUser(i)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),yield t.directlySetCurrentUser(null)}})()}initializeCurrentUser(e){var t=this;return E(function*(){var r;if(Oo(t.app)){const a=t.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>t.initializeCurrentUserFromIdToken(a).then(c,c))}):t.directlySetCurrentUser(null)}const i=yield t.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,c=o?._redirectEventId,u=yield t.tryRedirectSignIn(e);(!a||a===c)&&u?.user&&(o=u.user,s=!0)}if(!o)return t.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield t.beforeStateQueue.runMiddleware(o)}catch(a){o=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return o?t.reloadAndSetCurrentUserOrClear(o):t.directlySetCurrentUser(null)}return Z(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===o._redirectEventId?t.directlySetCurrentUser(o):t.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var t=this;return E(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return E(function*(){try{yield md(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Goe(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return E(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return E(function*(){if(Oo(t.app))return Promise.reject(Wt(t));const r=e?rn(e):null;return r&&Z(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e){var t=this;return E(function*(r,i=!1){if(!t._deleted)return r&&Z(t.tenantId===r.tenantId,t,"tenant-id-mismatch"),i||(yield t.beforeStateQueue.runMiddleware(r)),t.queue(E(function*(){yield t.directlySetCurrentUser(r),t.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var e=this;return E(function*(){return Oo(e.app)?Promise.reject(Wt(e)):(yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0))})()}setPersistence(e){var t=this;return Oo(this.app)?Promise.reject(Wt(this)):this.queue(E(function*(){yield t.assertedPersistence.setPersistence(Ji(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return E(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return E(function*(){const t=yield function use(n){return Iw.apply(this,arguments)}(e),r=new dse(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ci("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){var t=this;return E(function*(){if(t.currentUser){const r=yield t.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=t.tenantId&&(i.tenantId=t.tenantId),yield function ose(n,e){return Cw.apply(this,arguments)}(t,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return E(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return E(function*(){if(!t.redirectPersistenceManager){const r=e&&Ji(e)||t._popupRedirectResolver;Z(r,t,"argument-error"),t.redirectPersistenceManager=yield Lc.create(t,[Ji(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return E(function*(){var r,i;return t._isInitialized&&(yield t.queue(E(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return E(function*(){if(e===t.currentUser)return t.queue(E(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof t){const c=e.addObserver(t,r,i);return()=>{s=!0,c()}}{const c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){var t=this;return E(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=dL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return E(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return E(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function Hoe(n,...e){wg.logLevel<=xe.WARN&&wg.warn(`Auth (${Ds}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Ot(n){return rn(n)}class hL{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Uee(n,e){const t=new Bee(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let _d={loadJS:()=>E(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fL(n){return`__${n}${Math.floor(1e6*Math.random())}`}function mL(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function _L(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class vd{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return di("not implemented")}_getIdTokenResponse(e){return di("not implemented")}_linkToIdToken(e,t){return di("not implemented")}_getReauthenticationResolver(e){return di("not implemented")}}function Xi(n,e){return Bw.apply(this,arguments)}function Bw(){return(Bw=E(function*(n,e){return function Ki(n,e,t,r){return aw.apply(this,arguments)}(n,"POST","/v1/accounts:signInWithIdp",at(n,e))})).apply(this,arguments)}class Zi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Hse extends Zi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Sr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r){return E(function*(i,o,s,a=!1){const c=yield Yi._fromIdTokenResponse(i,s,a),u=bL(s);return new Sr({user:c,providerId:u,_tokenResponse:s,operationType:o})}).apply(this,arguments)}static _forOperation(e,t,r){return E(function*(){yield e._updateTokensIfNecessary(r,!0);const i=bL(r);return new Sr({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function bL(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Sg extends Mr{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Sg.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Sg(e,t,r,i)}}function IL(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?Sg._fromErrorAndOperation(n,o,e,r):o})}function Yw(){return(Yw=E(function*(n,e,t=!1){const r=yield Qi(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Sr._forOperation(n,"link",r)})).apply(this,arguments)}function Xw(){return(Xw=E(function*(n,e,t=!1){const{auth:r}=n;if(Oo(r.app))return Promise.reject(Wt(r));const i="reauthenticate";try{const o=yield Qi(n,IL(r,i,e,n),t);Z(o.idToken,r,"internal-error");const s=Pg(o.idToken);Z(s,r,"internal-error");const{sub:a}=s;return Z(n.uid===a,r,"user-mismatch"),Sr._forOperation(n,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&Xn(r,"user-mismatch"),o}})).apply(this,arguments)}function Zw(){return(Zw=E(function*(n,e,t=!1){if(Oo(n.app))return Promise.reject(Wt(n));const r="signIn",i=yield IL(n,r,e),o=yield Sr._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})).apply(this,arguments)}const Rg="__sak";class AL{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Rg,"1"),this.storage.removeItem(Rg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const dae=(()=>{class n extends AL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lL(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});const i=t.key;r?this.detachListener():this.stopPolling();const o=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);!function ase(){return function kee(){const n=xt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===t.newValue||t.newValue===t.oldValue?o():setTimeout(o,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,o=this;return E(function*(){yield i().call(o,t,r),o.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return E(function*(){const o=yield r().call(i,t);return i.localCache[t]=JSON.stringify(o),o})()}_remove(t){var r=()=>super._remove,i=this;return E(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),DL=(()=>{class n extends AL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let fae=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return E(function*(){const i=t,{eventId:o,eventType:s,data:a}=i.data,c=r.handlersMap[s];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const u=Array.from(c).map(function(){var h=E(function*(p){return p(i.origin,a)});return function(p){return h.apply(this,arguments)}}()),d=yield function hae(n){return Promise.all(n.map(function(){var e=E(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(u);i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:d})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function SE(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class pae{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t){var r=this;return E(function*(i,o,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let c,u;return new Promise((d,h)=>{const p=SE("",20);a.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(b){const w=b;if(w.data.eventId===p)switch(w.data.status){case"ack":clearTimeout(m),c=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),d(w.data.response);break;default:clearTimeout(m),clearTimeout(c),h(new Error("invalid_response"))}}},r.handlers.add(u),a.port1.addEventListener("message",u.onMessage),r.target.postMessage({eventType:i,eventId:p,data:o},[a.port2])}).finally(()=>{u&&r.removeMessageHandler(u)})}).apply(this,arguments)}}function Lt(){return window}function xE(){return typeof Lt().WorkerGlobalScope<"u"&&"function"==typeof Lt().importScripts}function OE(){return(OE=E(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const SL="firebaseLocalStorageDb",kg="firebaseLocalStorage",xL="fbase_key";class Ed{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ng(n,e){return n.transaction([kg],e?"readwrite":"readonly").objectStore(kg)}function RE(){const n=indexedDB.open(SL,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(kg,{keyPath:xL})}catch(i){t(i)}}),n.addEventListener("success",E(function*(){const r=n.result;r.objectStoreNames.contains(kg)?e(r):(r.close(),yield function Cae(){const n=indexedDB.deleteDatabase(SL);return new Ed(n).toPromise()}(),e(yield RE()))}))})}function OL(n,e,t){return kE.apply(this,arguments)}function kE(){return(kE=E(function*(n,e,t){const r=Ng(n,!0).put({[xL]:e,value:t});return new Ed(r).toPromise()})).apply(this,arguments)}function NE(){return(NE=E(function*(n,e){const t=Ng(n,!1).get(e),r=yield new Ed(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function RL(n,e){const t=Ng(n,!0).delete(e);return new Ed(t).toPromise()}const Eae=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return E(function*(){return t.db||(t.db=yield RE()),t.db})()}_withRetries(t){var r=this;return E(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield t(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return E(function*(){return xE()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return E(function*(){t.receiver=fae._getInstance(function yae(){return xE()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=E(function*(i,o){return{keyProcessed:(yield t._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=E(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return E(function*(){var r,i;if(t.activeServiceWorker=yield function mae(){return OE.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new pae(t.activeServiceWorker);const o=yield t.sender._send("ping",{},800);o&&null!==(r=o[0])&&void 0!==r&&r.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return E(function*(){if(r.sender&&r.activeServiceWorker&&function _ae(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return E(function*(){try{if(!indexedDB)return!1;const t=yield RE();return yield OL(t,Rg,"1"),yield RL(t,Rg),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return E(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return E(function*(){return i._withPendingWrite(E(function*(){return yield i._withRetries(o=>OL(o,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return E(function*(){const i=yield r._withRetries(o=>function bae(n,e){return NE.apply(this,arguments)}(o,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return E(function*(){return r._withPendingWrite(E(function*(){return yield r._withRetries(i=>RL(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return E(function*(){const r=yield t._withRetries(s=>{const a=Ng(s,!1).getAll();return new Ed(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],o=new Set;if(0!==r.length)for(const{fbase_key:s,value:a}of r)o.add(s),JSON.stringify(t.localCache[s])!==JSON.stringify(a)&&(t.notifyListeners(s,a),i.push(s));for(const s of Object.keys(t.localCache))t.localCache[s]&&!o.has(s)&&(t.notifyListeners(s,null),i.push(s));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(E(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();fL("rcb"),new fd(3e4,6e4);class zE extends vd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xi(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Xi(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Xi(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Uae(n){return function PL(n,e){return Zw.apply(this,arguments)}(n.auth,new zE(n),n.bypassAuthState)}function Bae(n){const{auth:e,user:t}=n;return Z(t,e,"internal-error"),function EL(n,e){return Xw.apply(this,arguments)}(t,new zE(n),n.bypassAuthState)}function jae(n){return GE.apply(this,arguments)}function GE(){return(GE=E(function*(n){const{auth:e,user:t}=n;return Z(t,e,"internal-error"),function Qw(n,e){return Yw.apply(this,arguments)}(t,new zE(n),n.bypassAuthState)})).apply(this,arguments)}class $ae{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=E(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return E(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:s,error:a,type:c}=e;if(a)return void t.reject(a);const u={auth:t.auth,requestUri:r,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(c)(u))}catch(d){t.reject(d)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Uae;case"linkViaPopup":case"linkViaRedirect":return jae;case"reauthViaPopup":case"reauthViaRedirect":return Bae;default:Xn(this.auth,"internal-error")}}resolve(e){Ro(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ro(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new fd(2e3,1e4);const Hae="pendingRedirect",Pd=new Map;class zae extends $ae{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return E(function*(){let r=Pd.get(t.auth._key());if(!r){try{const o=(yield function Gae(n,e){return YE.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}Pd.set(t.auth._key(),r)}return t.bypassAuthState||Pd.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return E(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return E(function*(){})()}cleanUp(){}}function YE(){return(YE=E(function*(n,e){const t=function FL(n){return Tg(Hae,n.config.apiKey,n.name)}(e),r=function NL(n){return Ji(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function qae(n,e){Pd.set(n._key(),e)}function VL(n,e){return rP.apply(this,arguments)}function rP(){return(rP=E(function*(n,e,t=!1){if(Oo(n.app))return Promise.reject(Wt(n));const r=Ot(n),i=function Vs(n,e){return e?Ji(e):(Z(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(r,e),s=yield new zae(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})).apply(this,arguments)}class Jae{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Xae(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BL(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!BL(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Dr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(UL(e))}saveEventToCache(e){this.cachedEventUids.add(UL(e)),this.lastProcessedEventTime=Date.now()}}function UL(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function BL({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function oP(){return(oP=E(function*(n,e={}){return ct(n,"GET","/v1/projects",e)})).apply(this,arguments)}const ece=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tce=/^https?/;function sP(){return sP=E(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function Zae(n){return oP.apply(this,arguments)}(n);for(const t of e)try{if(rce(t))return}catch{}Xn(n,"unauthorized-domain")}),sP.apply(this,arguments)}function rce(n){const e=hd(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const s=new URL(n);return""===s.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&s.hostname===r}if(!tce.test(t))return!1;if(ece.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ice=new fd(3e4,6e4);function jL(){const n=Lt().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}function oce(n){return new Promise((e,t)=>{var r,i,o;function s(){jL(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jL(),t(Dr(n,"network-request-failed"))},timeout:ice.get()})}if(null!==(i=null===(r=Lt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(o=Lt().gapi)||void 0===o||!o.load){const a=fL("iframefcb");return Lt()[a]=()=>{gapi.load?s():t(Dr(n,"network-request-failed"))},function ww(n){return _d.loadJS(n)}(`${function mse(){return _d.gapiScript}()}?onload=${a}`).catch(c=>t(c))}s()}}).catch(e=>{throw Vg=null,e})}let Vg=null;const ace=new fd(5e3,15e3),cce="__/auth/iframe",uce="emulator/auth/iframe",lce={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dce=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hce(n){const e=n.config;Z(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?iw(e,uce):`https://${n.config.authDomain}/${cce}`,r={apiKey:e.apiKey,appName:n.name,v:Ds},i=dce.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${id(r).slice(1)}`}function aP(){return aP=E(function*(n){const e=yield function sce(n){return Vg=Vg||oce(n),Vg}(n),t=Lt().gapi;return Z(t,n,"internal-error"),e.open({where:document.body,url:hce(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lce,dontclear:!0},r=>new Promise(function(){var i=E(function*(o,s){yield r.restyle({setHideOnLeave:!1});const a=Dr(n,"network-request-failed"),c=Lt().setTimeout(()=>{s(a)},ace.get());function u(){Lt().clearTimeout(c),o(r)}r.ping(u).then(u,()=>{s(a)})});return function(o,s){return i.apply(this,arguments)}}()))}),aP.apply(this,arguments)}const pce={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class $L{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const bce="__/auth/handler",Ice="emulator/auth/handler",wce=encodeURIComponent("fac");function HL(n,e,t,r,i,o){return cP.apply(this,arguments)}function cP(){return(cP=E(function*(n,e,t,r,i,o){Z(n.config.authDomain,n,"auth-domain-config-required"),Z(n.config.apiKey,n,"invalid-api-key");const s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ds,eventId:i};if(e instanceof Zi){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",function Lee(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(o||{}))s[d]=h}if(e instanceof Hse){const d=e.getScopes().filter(h=>""!==h);d.length>0&&(s.scopes=d.join(","))}n.tenantId&&(s.tid=n.tenantId);const a=s;for(const d of Object.keys(a))void 0===a[d]&&delete a[d];const c=yield n._getAppCheckToken(),u=c?`#${wce}=${encodeURIComponent(c)}`:"";return`${function Ece({config:n}){return n.emulator?iw(n,Ice):`https://${n.authDomain}/${bce}`}(n)}?${id(a).slice(1)}${u}`})).apply(this,arguments)}const uP="webStorageSupport",Tce=class Pce{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DL,this._completeRedirectFn=VL,this._overrideRedirectResult=qae}_openPopup(e,t,r,i){var o=this;return E(function*(){var s;Ro(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield HL(e,t,r,hd(),i);return function vce(n,e,t,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},pce),{width:r.toString(),height:i.toString(),top:o,left:s}),u=xt().toLowerCase();t&&(a=oL(u)?"_blank":t),rL(u)&&(e=e||"http://localhost",c.scrollbars="yes");const d=Object.entries(c).reduce((p,[m,b])=>`${p}${m}=${b},`,"");if(function sse(n=xt()){var e;return bw(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==a)return function Cce(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new $L(null);const h=window.open(e||"",a,d);Z(h,n,"popup-blocked");try{h.focus()}catch{}return new $L(h)}(e,a,SE())})()}_openRedirect(e,t,r,i){var o=this;return E(function*(){return yield o._originValidation(e),function gae(n){Lt().location.href=n}(yield HL(e,t,r,hd(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Ro(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return E(function*(){const r=yield function fce(n){return aP.apply(this,arguments)}(e),i=new Jae(e);return r.register("authEvent",o=>(Z(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(uP,{type:uP},i=>{var o;const s=null===(o=i?.[0])||void 0===o?void 0:o[uP];void 0!==s&&t(!!s),Xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function nce(n){return sP.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return lL()||iL()||bw()}};var WL="@firebase/auth";class Mce{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return E(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const xce=sF("authIdTokenMaxAge")||300;let QL=null;const Oce=n=>function(){var e=E(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>xce)return;const o=r?.token;QL!==o&&(QL=o,yield fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function Rce(n=Lb()){const e=Sc(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function Cse(n,e){const t=Sc(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(Ac(t.getOptions(),e??{}))return i;Xn(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:Tce,persistence:[Eae,dae,DL]}),r=sF("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=Oce(o.toString());(function iae(n,e,t){rn(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),function rae(n,e,t,r){rn(n).onIdTokenChanged(e,t,r)}(t,a=>s(a))}}const i=iF("auth");return i&&function Ise(n,e,t){const r=Ot(n);Z(r._canInitEmulator,r,"emulator-config-failed"),Z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,o=mL(e),{host:s,port:a}=function wse(n){const e=mL(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:_L(r.substr(o.length+1))}}{const[o,s]=r.split(":");return{host:o,port:_L(s)}}}(e);r.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Ese(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}(function fse(n){_d=n})({loadJS:n=>new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=Dr("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",function kce(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Dce(n){Ln(new gn("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Z(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dL(n)},u=new hse(r,i,o,c);return function bse(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ji);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ln(new gn("auth-internal",e=>{const t=Ot(e.getProvider("auth").getImmediate());return new Mce(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),vt(WL,"1.7.9",function Ace(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(n)),vt(WL,"1.7.9","esm2017")}("Browser");class dP{constructor(e){return e}}class JL{constructor(){return A0("auth")}}const hP=new oe("angularfire2.auth-instances");function Fce(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new dP(r)}}const Vce={provide:JL,deps:[[new On,hP]]},Lce={provide:dP,useFactory:function Nce(n,e){const t=M0("auth",n,e);return t&&new dP(t)},deps:[[new On,hP],kc]};let Uce=(()=>{class n{constructor(){vt("angularfire",gg.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Nr({type:n}),n.\u0275inj=_r({providers:[Lce,Vce]}),n})();const jce=S0(Rce,!0);var Ls,XL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ZL={};(function(){var n;function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function i(S,P,M){M||(M=0);var O=Array(16);if("string"==typeof P)for(var k=0;16>k;++k)O[k]=P.charCodeAt(M++)|P.charCodeAt(M++)<<8|P.charCodeAt(M++)<<16|P.charCodeAt(M++)<<24;else for(k=0;16>k;++k)O[k]=P[M++]|P[M++]<<8|P[M++]<<16|P[M++]<<24;var V=S.g[3],A=(P=S.g[0])+(V^(M=S.g[1])&((k=S.g[2])^V))+O[0]+3614090360&4294967295;A=(M=(k=(V=(P=(M=(k=(V=(P=(M=(k=(V=(P=(M=(k=(V=(P=(M=(k=(V=(P=(M=(k=(V=(P=(M=(k=(V=(P=(M=(k=(V=(P=(M=(k=(V=(P=(M=(k=(V=(P=(M=(k=(V=(P=(M=(k=(V=(P=(M=(k=(V=(P=(M=(k=(V=(P=(M=(k=(V=(P=M+(A<<7&4294967295|A>>>25))+((A=V+(k^P&(M^k))+O[1]+3905402710&4294967295)<<12&4294967295|A>>>20))+((A=k+(M^V&(P^M))+O[2]+606105819&4294967295)<<17&4294967295|A>>>15))+((A=M+(P^k&(V^P))+O[3]+3250441966&4294967295)<<22&4294967295|A>>>10))+((A=P+(V^M&(k^V))+O[4]+4118548399&4294967295)<<7&4294967295|A>>>25))+((A=V+(k^P&(M^k))+O[5]+1200080426&4294967295)<<12&4294967295|A>>>20))+((A=k+(M^V&(P^M))+O[6]+2821735955&4294967295)<<17&4294967295|A>>>15))+((A=M+(P^k&(V^P))+O[7]+4249261313&4294967295)<<22&4294967295|A>>>10))+((A=P+(V^M&(k^V))+O[8]+1770035416&4294967295)<<7&4294967295|A>>>25))+((A=V+(k^P&(M^k))+O[9]+2336552879&4294967295)<<12&4294967295|A>>>20))+((A=k+(M^V&(P^M))+O[10]+4294925233&4294967295)<<17&4294967295|A>>>15))+((A=M+(P^k&(V^P))+O[11]+2304563134&4294967295)<<22&4294967295|A>>>10))+((A=P+(V^M&(k^V))+O[12]+1804603682&4294967295)<<7&4294967295|A>>>25))+((A=V+(k^P&(M^k))+O[13]+4254626195&4294967295)<<12&4294967295|A>>>20))+((A=k+(M^V&(P^M))+O[14]+2792965006&4294967295)<<17&4294967295|A>>>15))+((A=M+(P^k&(V^P))+O[15]+1236535329&4294967295)<<22&4294967295|A>>>10))+((A=P+(k^V&(M^k))+O[1]+4129170786&4294967295)<<5&4294967295|A>>>27))+((A=V+(M^k&(P^M))+O[6]+3225465664&4294967295)<<9&4294967295|A>>>23))+((A=k+(P^M&(V^P))+O[11]+643717713&4294967295)<<14&4294967295|A>>>18))+((A=M+(V^P&(k^V))+O[0]+3921069994&4294967295)<<20&4294967295|A>>>12))+((A=P+(k^V&(M^k))+O[5]+3593408605&4294967295)<<5&4294967295|A>>>27))+((A=V+(M^k&(P^M))+O[10]+38016083&4294967295)<<9&4294967295|A>>>23))+((A=k+(P^M&(V^P))+O[15]+3634488961&4294967295)<<14&4294967295|A>>>18))+((A=M+(V^P&(k^V))+O[4]+3889429448&4294967295)<<20&4294967295|A>>>12))+((A=P+(k^V&(M^k))+O[9]+568446438&4294967295)<<5&4294967295|A>>>27))+((A=V+(M^k&(P^M))+O[14]+3275163606&4294967295)<<9&4294967295|A>>>23))+((A=k+(P^M&(V^P))+O[3]+4107603335&4294967295)<<14&4294967295|A>>>18))+((A=M+(V^P&(k^V))+O[8]+1163531501&4294967295)<<20&4294967295|A>>>12))+((A=P+(k^V&(M^k))+O[13]+2850285829&4294967295)<<5&4294967295|A>>>27))+((A=V+(M^k&(P^M))+O[2]+4243563512&4294967295)<<9&4294967295|A>>>23))+((A=k+(P^M&(V^P))+O[7]+1735328473&4294967295)<<14&4294967295|A>>>18))+((A=M+(V^P&(k^V))+O[12]+2368359562&4294967295)<<20&4294967295|A>>>12))+((A=P+(M^k^V)+O[5]+4294588738&4294967295)<<4&4294967295|A>>>28))+((A=V+(P^M^k)+O[8]+2272392833&4294967295)<<11&4294967295|A>>>21))+((A=k+(V^P^M)+O[11]+1839030562&4294967295)<<16&4294967295|A>>>16))+((A=M+(k^V^P)+O[14]+4259657740&4294967295)<<23&4294967295|A>>>9))+((A=P+(M^k^V)+O[1]+2763975236&4294967295)<<4&4294967295|A>>>28))+((A=V+(P^M^k)+O[4]+1272893353&4294967295)<<11&4294967295|A>>>21))+((A=k+(V^P^M)+O[7]+4139469664&4294967295)<<16&4294967295|A>>>16))+((A=M+(k^V^P)+O[10]+3200236656&4294967295)<<23&4294967295|A>>>9))+((A=P+(M^k^V)+O[13]+681279174&4294967295)<<4&4294967295|A>>>28))+((A=V+(P^M^k)+O[0]+3936430074&4294967295)<<11&4294967295|A>>>21))+((A=k+(V^P^M)+O[3]+3572445317&4294967295)<<16&4294967295|A>>>16))+((A=M+(k^V^P)+O[6]+76029189&4294967295)<<23&4294967295|A>>>9))+((A=P+(M^k^V)+O[9]+3654602809&4294967295)<<4&4294967295|A>>>28))+((A=V+(P^M^k)+O[12]+3873151461&4294967295)<<11&4294967295|A>>>21))+((A=k+(V^P^M)+O[15]+530742520&4294967295)<<16&4294967295|A>>>16))+((A=M+(k^V^P)+O[2]+3299628645&4294967295)<<23&4294967295|A>>>9))+((A=P+(k^(M|~V))+O[0]+4096336452&4294967295)<<6&4294967295|A>>>26))+((A=V+(M^(P|~k))+O[7]+1126891415&4294967295)<<10&4294967295|A>>>22))+((A=k+(P^(V|~M))+O[14]+2878612391&4294967295)<<15&4294967295|A>>>17))+((A=M+(V^(k|~P))+O[5]+4237533241&4294967295)<<21&4294967295|A>>>11))+((A=P+(k^(M|~V))+O[12]+1700485571&4294967295)<<6&4294967295|A>>>26))+((A=V+(M^(P|~k))+O[3]+2399980690&4294967295)<<10&4294967295|A>>>22))+((A=k+(P^(V|~M))+O[10]+4293915773&4294967295)<<15&4294967295|A>>>17))+((A=M+(V^(k|~P))+O[1]+2240044497&4294967295)<<21&4294967295|A>>>11))+((A=P+(k^(M|~V))+O[8]+1873313359&4294967295)<<6&4294967295|A>>>26))+((A=V+(M^(P|~k))+O[15]+4264355552&4294967295)<<10&4294967295|A>>>22))+((A=k+(P^(V|~M))+O[6]+2734768916&4294967295)<<15&4294967295|A>>>17))+((A=M+(V^(k|~P))+O[13]+1309151649&4294967295)<<21&4294967295|A>>>11))+((V=(P=M+((A=P+(k^(M|~V))+O[4]+4149444226&4294967295)<<6&4294967295|A>>>26))+((A=V+(M^(P|~k))+O[11]+3174756917&4294967295)<<10&4294967295|A>>>22))^((k=V+((A=k+(P^(V|~M))+O[2]+718787259&4294967295)<<15&4294967295|A>>>17))|~P))+O[9]+3951481745&4294967295,S.g[0]=S.g[0]+P&4294967295,S.g[1]=S.g[1]+(k+(A<<21&4294967295|A>>>11))&4294967295,S.g[2]=S.g[2]+k&4294967295,S.g[3]=S.g[3]+V&4294967295}function s(S,P){this.h=P;for(var M=[],O=!0,k=S.length-1;0<=k;k--){var V=0|S[k];O&&V==P||(M[k]=V,O=!1)}this.g=M}(function e(S,P){function M(){}M.prototype=P.prototype,S.D=P.prototype,S.prototype=new M,S.prototype.constructor=S,S.C=function(O,k,V){for(var A=Array(arguments.length-2),lo=2;lo<arguments.length;lo++)A[lo-2]=arguments[lo];return P.prototype[k].apply(O,A)}})(r,function t(){this.blockSize=-1}),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},r.prototype.u=function(S,P){void 0===P&&(P=S.length);for(var M=P-this.blockSize,O=this.B,k=this.h,V=0;V<P;){if(0==k)for(;V<=M;)i(this,S,V),V+=this.blockSize;if("string"==typeof S){for(;V<P;)if(O[k++]=S.charCodeAt(V++),k==this.blockSize){i(this,O),k=0;break}}else for(;V<P;)if(O[k++]=S[V++],k==this.blockSize){i(this,O),k=0;break}}this.h=k,this.o+=P},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var P=1;P<S.length-8;++P)S[P]=0;var M=8*this.o;for(P=S.length-8;P<S.length;++P)S[P]=255&M,M/=256;for(this.u(S),S=Array(16),P=M=0;4>P;++P)for(var O=0;32>O;O+=8)S[M++]=this.g[P]>>>O&255;return S};var a={};function c(S){return-128<=S&&128>S?function o(S,P){var M=a;return Object.prototype.hasOwnProperty.call(M,S)?M[S]:M[S]=P(S)}(S,function(P){return new s([0|P],0>P?-1:0)}):new s([0|S],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return h;if(0>S)return T(u(-S));for(var P=[],M=1,O=0;S>=M;O++)P[O]=S/M|0,M*=4294967296;return new s(P,0)}var h=c(0),p=c(1),m=c(16777216);function b(S){if(0!=S.h)return!1;for(var P=0;P<S.g.length;P++)if(0!=S.g[P])return!1;return!0}function w(S){return-1==S.h}function T(S){for(var P=S.g.length,M=[],O=0;O<P;O++)M[O]=~S.g[O];return new s(M,~S.h).add(p)}function R(S,P){return S.add(T(P))}function D(S,P){for(;(65535&S[P])!=S[P];)S[P+1]+=S[P]>>>16,S[P]&=65535,P++}function j(S,P){this.g=S,this.h=P}function Q(S,P){if(b(P))throw Error("division by zero");if(b(S))return new j(h,h);if(w(S))return P=Q(T(S),P),new j(T(P.g),T(P.h));if(w(P))return P=Q(S,T(P)),new j(T(P.g),P.h);if(30<S.g.length){if(w(S)||w(P))throw Error("slowDivide_ only works with positive integers.");for(var M=p,O=P;0>=O.l(S);)M=ie(M),O=ie(O);var k=he(M,1),V=he(O,1);for(O=he(O,2),M=he(M,2);!b(O);){var A=V.add(O);0>=A.l(S)&&(k=k.add(M),V=A),O=he(O,1),M=he(M,1)}return P=R(S,k.j(P)),new j(k,P)}for(k=h;0<=S.l(P);){for(M=Math.max(1,Math.floor(S.m()/P.m())),O=48>=(O=Math.ceil(Math.log(M)/Math.LN2))?1:Math.pow(2,O-48),A=(V=u(M)).j(P);w(A)||0<A.l(S);)A=(V=u(M-=O)).j(P);b(V)&&(V=p),k=k.add(V),S=R(S,A)}return new j(k,S)}function ie(S){for(var P=S.g.length+1,M=[],O=0;O<P;O++)M[O]=S.i(O)<<1|S.i(O-1)>>>31;return new s(M,S.h)}function he(S,P){var M=P>>5;P%=32;for(var O=S.g.length-M,k=[],V=0;V<O;V++)k[V]=0<P?S.i(V+M)>>>P|S.i(V+M+1)<<32-P:S.i(V+M);return new s(k,S.h)}(n=s.prototype).m=function(){if(w(this))return-T(this).m();for(var S=0,P=1,M=0;M<this.g.length;M++){var O=this.i(M);S+=(0<=O?O:4294967296+O)*P,P*=4294967296}return S},n.toString=function(S){if(2>(S=S||10)||36<S)throw Error("radix out of range: "+S);if(b(this))return"0";if(w(this))return"-"+T(this).toString(S);for(var P=u(Math.pow(S,6)),M=this,O="";;){var k=Q(M,P).g,V=((0<(M=R(M,k.j(P))).g.length?M.g[0]:M.h)>>>0).toString(S);if(b(M=k))return V+O;for(;6>V.length;)V="0"+V;O=V+O}},n.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h},n.l=function(S){return w(S=R(this,S))?-1:b(S)?0:1},n.abs=function(){return w(this)?T(this):this},n.add=function(S){for(var P=Math.max(this.g.length,S.g.length),M=[],O=0,k=0;k<=P;k++){var V=O+(65535&this.i(k))+(65535&S.i(k)),A=(V>>>16)+(this.i(k)>>>16)+(S.i(k)>>>16);O=A>>>16,M[k]=(A&=65535)<<16|(V&=65535)}return new s(M,-2147483648&M[M.length-1]?-1:0)},n.j=function(S){if(b(this)||b(S))return h;if(w(this))return w(S)?T(this).j(T(S)):T(T(this).j(S));if(w(S))return T(this.j(T(S)));if(0>this.l(m)&&0>S.l(m))return u(this.m()*S.m());for(var P=this.g.length+S.g.length,M=[],O=0;O<2*P;O++)M[O]=0;for(O=0;O<this.g.length;O++)for(var k=0;k<S.g.length;k++){var V=this.i(O)>>>16,A=65535&this.i(O),lo=S.i(k)>>>16,gh=65535&S.i(k);M[2*O+2*k]+=A*gh,D(M,2*O+2*k),M[2*O+2*k+1]+=V*gh,D(M,2*O+2*k+1),M[2*O+2*k+1]+=A*lo,D(M,2*O+2*k+1),M[2*O+2*k+2]+=V*lo,D(M,2*O+2*k+2)}for(O=0;O<P;O++)M[O]=M[2*O+1]<<16|M[2*O];for(O=P;O<2*P;O++)M[O]=0;return new s(M,0)},n.A=function(S){return Q(this,S).h},n.and=function(S){for(var P=Math.max(this.g.length,S.g.length),M=[],O=0;O<P;O++)M[O]=this.i(O)&S.i(O);return new s(M,this.h&S.h)},n.or=function(S){for(var P=Math.max(this.g.length,S.g.length),M=[],O=0;O<P;O++)M[O]=this.i(O)|S.i(O);return new s(M,this.h|S.h)},n.xor=function(S){for(var P=Math.max(this.g.length,S.g.length),M=[],O=0;O<P;O++)M[O]=this.i(O)^S.i(O);return new s(M,this.h^S.h)},r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ZL.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=function d(S,P){if(0==S.length)throw Error("number format error: empty string");if(2>(P=P||10)||36<P)throw Error("radix out of range: "+P);if("-"==S.charAt(0))return T(d(S.substring(1),P));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=u(Math.pow(P,8)),O=h,k=0;k<S.length;k+=8){var V=Math.min(8,S.length-k),A=parseInt(S.substring(k,k+V),P);8>V?(V=u(Math.pow(P,V)),O=O.j(V).add(u(A))):O=(O=O.j(M)).add(u(A))}return O},Ls=ZL.Integer=s}).apply(typeof XL<"u"?XL:typeof self<"u"?self:typeof window<"u"?window:{});var Ug=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},eo={};(function(){var n,e="function"==typeof Object.defineProperties?Object.defineProperty:function(l,f,g){return l==Array.prototype||l==Object.prototype||(l[f]=g.value),l},r=function t(l){l=["object"==typeof globalThis&&globalThis,l,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Ug&&Ug];for(var f=0;f<l.length;++f){var g=l[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}(this);!function i(l,f){if(f)e:{var g=r;l=l.split(".");for(var v=0;v<l.length-1;v++){var N=l[v];if(!(N in g))break e;g=g[N]}(f=f(v=g[l=l[l.length-1]]))!=v&&null!=f&&e(g,l,{configurable:!0,writable:!0,value:f})}}("Array.prototype.values",function(l){return l||function(){return function o(l,f){l instanceof String&&(l+="");var g=0,v=!1,N={next:function(){if(!v&&g<l.length){var $=g++;return{value:f($,l[$]),done:!1}}return v=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}(this,function(f,g){return g})}});var s=s||{},a=this||self;function c(l){var f=typeof l;return"array"==(f="object"!=f?f:l?Array.isArray(l)?"array":f:"null")||"object"==f&&"number"==typeof l.length}function u(l){var f=typeof l;return"object"==f&&null!=l||"function"==f}function d(l,f,g){return l.call.apply(l.bind,arguments)}function h(l,f,g){if(!l)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,v),l.apply(f,N)}}return function(){return l.apply(f,arguments)}}function p(l,f,g){return(p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?d:h).apply(null,arguments)}function m(l,f){var g=Array.prototype.slice.call(arguments,1);return function(){var v=g.slice();return v.push.apply(v,arguments),l.apply(this,v)}}function b(l,f){function g(){}g.prototype=f.prototype,l.aa=f.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(v,N,$){for(var te=Array(arguments.length-2),et=2;et<arguments.length;et++)te[et-2]=arguments[et];return f.prototype[N].apply(v,te)}}function w(l){const f=l.length;if(0<f){const g=Array(f);for(let v=0;v<f;v++)g[v]=l[v];return g}return[]}function T(l,f){for(let g=1;g<arguments.length;g++){const v=arguments[g];if(c(v)){const N=l.length||0,$=v.length||0;l.length=N+$;for(let te=0;te<$;te++)l[N+te]=v[te]}else l.push(v)}}function D(l){return/^[\s\xa0]*$/.test(l)}function j(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function Q(l){return Q[" "](l),l}Q[" "]=function(){};var ie=!(-1==j().indexOf("Gecko")||-1!=j().toLowerCase().indexOf("webkit")&&-1==j().indexOf("Edge")||-1!=j().indexOf("Trident")||-1!=j().indexOf("MSIE")||-1!=j().indexOf("Edge"));function he(l,f,g){for(const v in l)f.call(g,l[v],v,l)}function P(l){const f={};for(const g in l)f[g]=l[g];return f}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(l,f){let g,v;for(let N=1;N<arguments.length;N++){for(g in v=arguments[N],v)l[g]=v[g];for(let $=0;$<M.length;$++)g=M[$],Object.prototype.hasOwnProperty.call(v,g)&&(l[g]=v[g])}}function k(l){var f=1;l=l.split(":");const g=[];for(;0<f&&l.length;)g.push(l.shift()),f--;return l.length&&g.push(l.join(":")),g}function V(l){a.setTimeout(()=>{throw l},0)}function A(){var l=Z1;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}var gh=new class R{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}(()=>new Dge,l=>l.reset());class Dge{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let mh,_h=!1,Z1=new class lo{constructor(){this.h=this.g=null}add(f,g){const v=gh.get();v.set(f,g),this.h?this.h.next=v:this.g=v,this.h=v}},zB=()=>{const l=a.Promise.resolve(void 0);mh=()=>{l.then(Sge)}};var Sge=()=>{for(var l;l=A();){try{l.h.call(l.g)}catch(g){V(g)}var f=gh;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}_h=!1};function ts(){this.s=this.s,this.C=this.C}function bn(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}ts.prototype.s=!1,ts.prototype.ma=function(){this.s||(this.s=!0,this.N())},ts.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},bn.prototype.h=function(){this.defaultPrevented=!0};var xge=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return l}();function yh(l,f){if(bn.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,v=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(ie){e:{try{Q(f.nodeName);var N=!0;break e}catch{}N=!1}N||(f=null)}}else"mouseover"==g?f=l.fromElement:"mouseout"==g&&(f=l.toElement);this.relatedTarget=f,v?(this.clientX=void 0!==v.clientX?v.clientX:v.pageX,this.clientY=void 0!==v.clientY?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType="string"==typeof l.pointerType?l.pointerType:Oge[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&yh.aa.h.call(this)}}b(yh,bn);var Oge={2:"touch",3:"pen",4:"mouse"};yh.prototype.h=function(){yh.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var vh="closure_listenable_"+(1e6*Math.random()|0),Rge=0;function kge(l,f,g,v,N){this.listener=l,this.proxy=null,this.src=f,this.type=g,this.capture=!!v,this.ha=N,this.key=++Rge,this.da=this.fa=!1}function Zm(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function e_(l){this.src=l,this.g={},this.h=0}function eM(l,f){var g=f.type;if(g in l.g){var $,v=l.g[g],N=Array.prototype.indexOf.call(v,f,void 0);($=0<=N)&&Array.prototype.splice.call(v,N,1),$&&(Zm(f),0==l.g[g].length&&(delete l.g[g],l.h--))}}function tM(l,f,g,v){for(var N=0;N<l.length;++N){var $=l[N];if(!$.da&&$.listener==f&&$.capture==!!g&&$.ha==v)return N}return-1}e_.prototype.add=function(l,f,g,v,N){var $=l.toString();(l=this.g[$])||(l=this.g[$]=[],this.h++);var te=tM(l,f,v,N);return-1<te?(f=l[te],g||(f.fa=!1)):((f=new kge(f,this.src,$,!!v,N)).fa=g,l.push(f)),f};var nM="closure_lm_"+(1e6*Math.random()|0),rM={};function GB(l,f,g,v,N){if(v&&v.once)return WB(l,f,g,v,N);if(Array.isArray(f)){for(var $=0;$<f.length;$++)GB(l,f[$],g,v,N);return null}return g=aM(g),l&&l[vh]?l.K(f,g,u(v)?!!v.capture:!!v,N):qB(l,f,g,!1,v,N)}function qB(l,f,g,v,N,$){if(!f)throw Error("Invalid event type");var te=u(N)?!!N.capture:!!N,et=oM(l);if(et||(l[nM]=et=new e_(l)),(g=et.add(f,g,v,te,$)).proxy)return g;if(v=function Nge(){const f=Fge;return function l(g){return f.call(l.src,l.listener,g)}}(),g.proxy=v,v.src=l,v.listener=g,l.addEventListener)xge||(N=te),void 0===N&&(N=!1),l.addEventListener(f.toString(),v,N);else if(l.attachEvent)l.attachEvent(QB(f.toString()),v);else{if(!l.addListener||!l.removeListener)throw Error("addEventListener and attachEvent are unavailable.");l.addListener(v)}return g}function WB(l,f,g,v,N){if(Array.isArray(f)){for(var $=0;$<f.length;$++)WB(l,f[$],g,v,N);return null}return g=aM(g),l&&l[vh]?l.L(f,g,u(v)?!!v.capture:!!v,N):qB(l,f,g,!0,v,N)}function KB(l,f,g,v,N){if(Array.isArray(f))for(var $=0;$<f.length;$++)KB(l,f[$],g,v,N);else v=u(v)?!!v.capture:!!v,g=aM(g),l&&l[vh]?(l=l.i,(f=String(f).toString())in l.g&&-1<(g=tM($=l.g[f],g,v,N))&&(Zm($[g]),Array.prototype.splice.call($,g,1),0==$.length&&(delete l.g[f],l.h--))):l&&(l=oM(l))&&(f=l.g[f.toString()],l=-1,f&&(l=tM(f,g,v,N)),(g=-1<l?f[l]:null)&&iM(g))}function iM(l){if("number"!=typeof l&&l&&!l.da){var f=l.src;if(f&&f[vh])eM(f.i,l);else{var g=l.type,v=l.proxy;f.removeEventListener?f.removeEventListener(g,v,l.capture):f.detachEvent?f.detachEvent(QB(g),v):f.addListener&&f.removeListener&&f.removeListener(v),(g=oM(f))?(eM(g,l),0==g.h&&(g.src=null,f[nM]=null)):Zm(l)}}}function QB(l){return l in rM?rM[l]:rM[l]="on"+l}function Fge(l,f){if(l.da)l=!0;else{f=new yh(f,this);var g=l.listener,v=l.ha||l.src;l.fa&&iM(l),l=g.call(v,f)}return l}function oM(l){return(l=l[nM])instanceof e_?l:null}var sM="__closure_events_fn_"+(1e9*Math.random()>>>0);function aM(l){return"function"==typeof l?l:(l[sM]||(l[sM]=function(f){return l.handleEvent(f)}),l[sM])}function In(){ts.call(this),this.i=new e_(this),this.M=this,this.F=null}function jn(l,f){var g,v=l.F;if(v)for(g=[];v;v=v.F)g.push(v);if(l=l.M,v=f.type||f,"string"==typeof f)f=new bn(f,l);else if(f instanceof bn)f.target=f.target||l;else{var N=f;O(f=new bn(v,l),N)}if(N=!0,g)for(var $=g.length-1;0<=$;$--){var te=f.g=g[$];N=t_(te,v,!0,f)&&N}if(N=t_(te=f.g=l,v,!0,f)&&N,N=t_(te,v,!1,f)&&N,g)for($=0;$<g.length;$++)N=t_(te=f.g=g[$],v,!1,f)&&N}function t_(l,f,g,v){if(!(f=l.i.g[String(f)]))return!0;f=f.concat();for(var N=!0,$=0;$<f.length;++$){var te=f[$];if(te&&!te.da&&te.capture==g){var et=te.listener,ln=te.ha||te.src;te.fa&&eM(l.i,te),N=!1!==et.call(ln,v)&&N}}return N&&!v.defaultPrevented}function YB(l,f,g){if("function"==typeof l)g&&(l=p(l,g));else{if(!l||"function"!=typeof l.handleEvent)throw Error("Invalid listener argument");l=p(l.handleEvent,l)}return 2147483647<Number(f)?-1:a.setTimeout(l,f||0)}function JB(l){l.g=YB(()=>{l.g=null,l.i&&(l.i=!1,JB(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}b(In,ts),In.prototype[vh]=!0,In.prototype.removeEventListener=function(l,f,g,v){KB(this,l,f,g,v)},In.prototype.N=function(){if(In.aa.N.call(this),this.i){var f,l=this.i;for(f in l.g){for(var g=l.g[f],v=0;v<g.length;v++)Zm(g[v]);delete l.g[f],l.h--}}this.F=null},In.prototype.K=function(l,f,g,v){return this.i.add(String(l),f,!1,g,v)},In.prototype.L=function(l,f,g,v){return this.i.add(String(l),f,!0,g,v)};class Vge extends ts{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:JB(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ch(l){ts.call(this),this.h=l,this.g={}}b(Ch,ts);var XB=[];function ZB(l){he(l.g,function(f,g){this.g.hasOwnProperty(g)&&iM(f)},l),l.g={}}Ch.prototype.N=function(){Ch.aa.N.call(this),ZB(this)},Ch.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cM=a.JSON.stringify,Lge=a.JSON.parse,Uge=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function uM(){}function tj(){}uM.prototype.h=null;var bh={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lM(){bn.call(this,"d")}function dM(){bn.call(this,"c")}b(lM,bn),b(dM,bn);var ua={},nj=null;function n_(){return nj=nj||new In}function rj(l){bn.call(this,ua.La,l)}function Ih(l){const f=n_();jn(f,new rj(f))}function ij(l,f){bn.call(this,ua.STAT_EVENT,l),this.stat=f}function $n(l){const f=n_();jn(f,new ij(f,l))}function oj(l,f){bn.call(this,ua.Ma,l),this.size=f}function wh(l,f){if("function"!=typeof l)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},f)}function Eh(){this.g=!0}function Mu(l,f,g,v){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+function Hge(l,f){if(!l.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g)for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var v=g[l];if(!(2>v.length)){var N=v[1];if(Array.isArray(N)&&!(1>N.length)){var $=N[0];if("noop"!=$&&"stop"!=$&&"close"!=$)for(var te=1;te<N.length;te++)N[te]=""}}}return cM(g)}catch{return f}}(l,g)+(v?" "+v:"")})}ua.La="serverreachability",b(rj,bn),ua.STAT_EVENT="statevent",b(ij,bn),ua.Ma="timingevent",b(oj,bn),Eh.prototype.xa=function(){this.g=!1},Eh.prototype.info=function(){};var hM,r_={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},sj={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function i_(){}function ns(l,f,g,v){this.j=l,this.i=f,this.l=g,this.R=v||1,this.U=new Ch(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new aj}function aj(){this.i=null,this.g="",this.h=!1}b(i_,uM),i_.prototype.g=function(){return new XMLHttpRequest},i_.prototype.i=function(){return{}},hM=new i_;var cj={},fM={};function pM(l,f,g){l.L=1,l.v=c_(ho(f)),l.m=g,l.P=!0,uj(l,null)}function uj(l,f){l.F=Date.now(),o_(l),l.A=ho(l.v);var g=l.A,v=l.R;Array.isArray(v)||(v=[String(v)]),wj(g.i,"t",v),l.C=0,g=l.j.J,l.h=new aj,l.g=jj(l.j,g?f:null,!l.m),0<l.O&&(l.M=new Vge(p(l.Y,l,l.g),l.O)),f=l.U,g=l.g,v=l.ca;var N="readystatechange";Array.isArray(N)||(N&&(XB[0]=N.toString()),N=XB);for(var $=0;$<N.length;$++){var te=GB(g,N[$],v||f.handleEvent,!1,f.h||f);if(!te)break;f.g[te.key]=te}f=l.H?P(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),Ih(),function Bge(l,f,g,v,N,$){l.info(function(){if(l.g)if($)for(var te="",et=$.split("&"),ln=0;ln<et.length;ln++){var je=et[ln].split("=");if(1<je.length){var wn=je[0];je=je[1];var En=wn.split("_");te=2<=En.length&&"type"==En[1]?te+(wn+"=")+je+"&":te+(wn+"=redacted&")}}else te=null;else te=$;return"XMLHTTP REQ ("+v+") [attempt "+N+"]: "+f+"\n"+g+"\n"+te})}(l.i,l.u,l.A,l.l,l.R,l.m)}function lj(l){return!!l.g&&"GET"==l.u&&2!=l.L&&l.j.Ca}function zge(l,f){var g=l.C,v=f.indexOf("\n",g);return-1==v?fM:(g=Number(f.substring(g,v)),isNaN(g)?cj:(v+=1)+g>f.length?fM:(f=f.slice(v,v+g),l.C=v+g,f))}function o_(l){l.S=Date.now()+l.I,dj(l,l.I)}function dj(l,f){if(null!=l.B)throw Error("WatchDog timer not null");l.B=wh(p(l.ba,l),f)}function gM(l){l.B&&(a.clearTimeout(l.B),l.B=null)}function Ph(l){0==l.j.G||l.J||Vj(l.j,l)}function la(l){gM(l);var f=l.M;f&&"function"==typeof f.ma&&f.ma(),l.M=null,ZB(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function mM(l,f){try{var g=l.j;if(0!=g.G&&(g.g==l||_M(g.h,l)))if(!l.K&&_M(g.h,l)&&3==g.G){try{var v=g.Da.g.parse(f)}catch{v=null}if(Array.isArray(v)&&3==v.length){var N=v;if(0==N[0]){e:if(!g.u){if(g.g){if(!(g.g.F+3e3<l.F))break e;f_(g),d_(g)}bM(g),$n(18)}}else g.za=N[1],0<g.za-g.T&&37500>N[2]&&g.F&&0==g.v&&!g.C&&(g.C=wh(p(g.Za,g),6e3));if(1>=pj(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else ha(g,11)}else if((l.K||g.g==l)&&f_(g),!D(f))for(N=g.Da.g.parse(f),f=0;f<N.length;f++){let je=N[f];if(g.T=je[0],je=je[1],2==g.G)if("c"==je[0]){g.K=je[1],g.ia=je[2];const wn=je[3];null!=wn&&(g.la=wn,g.j.info("VER="+g.la));const En=je[4];null!=En&&(g.Aa=En,g.j.info("SVER="+g.Aa));const Su=je[5];null!=Su&&"number"==typeof Su&&0<Su&&(g.L=v=1.5*Su,g.j.info("backChannelRequestTimeoutMs_="+v)),v=g;const qr=l.g;if(qr){const g_=qr.g?qr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g_){var $=v.h;$.g||-1==g_.indexOf("spdy")&&-1==g_.indexOf("quic")&&-1==g_.indexOf("h2")||($.j=$.l,$.g=new Set,$.h&&(yM($,$.h),$.h=null))}if(v.D){const wM=qr.g?qr.g.getResponseHeader("X-HTTP-Session-Id"):null;wM&&(v.ya=wM,lt(v.I,v.D,wM))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms"));var te=l;if((v=g).qa=Bj(v,v.J?v.ia:null,v.W),te.K){gj(v.h,te);var et=te,ln=v.L;ln&&(et.I=ln),et.B&&(gM(et),o_(et)),v.g=te}else Nj(v);0<g.i.length&&h_(g)}else"stop"!=je[0]&&"close"!=je[0]||ha(g,7);else 3==g.G&&("stop"==je[0]||"close"==je[0]?"stop"==je[0]?ha(g,7):CM(g):"noop"!=je[0]&&g.l&&g.l.ta(je),g.v=0)}Ih()}catch{}}function hj(l){this.l=l||10,l=a.PerformanceNavigationTiming?0<(l=a.performance.getEntriesByType("navigation")).length&&("hq"==l[0].nextHopProtocol||"h2"==l[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fj(l){return!!l.h||!!l.g&&l.g.size>=l.j}function pj(l){return l.h?1:l.g?l.g.size:0}function _M(l,f){return l.h?l.h==f:!!l.g&&l.g.has(f)}function yM(l,f){l.g?l.g.add(f):l.h=f}function gj(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}function mj(l){if(null!=l.h)return l.i.concat(l.h.D);if(null!=l.g&&0!==l.g.size){let f=l.i;for(const g of l.g.values())f=f.concat(g.D);return f}return w(l.i)}function _j(l,f){if(l.forEach&&"function"==typeof l.forEach)l.forEach(f,void 0);else if(c(l)||"string"==typeof l)Array.prototype.forEach.call(l,f,void 0);else for(var g=function Wge(l){if(l.na&&"function"==typeof l.na)return l.na();if(!l.V||"function"!=typeof l.V){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||"string"==typeof l){var f=[];l=l.length;for(var g=0;g<l;g++)f.push(g);return f}f=[],g=0;for(const v in l)f[g++]=v;return f}}}(l),v=function qge(l){if(l.V&&"function"==typeof l.V)return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if("string"==typeof l)return l.split("");if(c(l)){for(var f=[],g=l.length,v=0;v<g;v++)f.push(l[v]);return f}for(v in f=[],g=0,l)f[g++]=l[v];return f}(l),N=v.length,$=0;$<N;$++)f.call(void 0,v[$],g&&g[$],l)}ns.prototype.ca=function(l){l=l.target;const f=this.M;f&&3==fo(l)?f.j():this.Y(l)},ns.prototype.Y=function(l){try{if(l==this.g)e:{const En=fo(this.g);var f=this.g.Ba();if(this.g.Z(),!(3>En)&&(3!=En||this.g&&(this.h.h||this.g.oa()||Sj(this.g)))){this.J||4!=En||7==f||Ih(),gM(this);var g=this.g.Z();this.X=g;t:if(lj(this)){var v=Sj(this.g);l="";var N=v.length,$=4==fo(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){la(this),Ph(this);var te="";break t}this.h.i=new a.TextDecoder}for(f=0;f<N;f++)this.h.h=!0,l+=this.h.i.decode(v[f],{stream:!($&&f==N-1)});v.length=0,this.h.g+=l,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=200==g,function jge(l,f,g,v,N,$,te){l.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+N+"]: "+f+"\n"+g+"\n"+$+" "+te})}(this.i,this.u,this.A,this.l,this.R,En,g),this.o){if(this.T&&!this.K){t:{if(this.g){var et,ln=this.g;if((et=ln.g?ln.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(et)){var je=et;break t}}je=null}if(!(g=je)){this.o=!1,this.s=3,$n(12),la(this),Ph(this);break e}Mu(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mM(this,g)}if(this.P){let qr;for(g=!0;!this.J&&this.C<te.length;){if(qr=zge(this,te),qr==fM){4==En&&(this.s=4,$n(14),g=!1),Mu(this.i,this.l,null,"[Incomplete Response]");break}if(qr==cj){this.s=4,$n(15),Mu(this.i,this.l,te,"[Invalid Chunk]"),g=!1;break}Mu(this.i,this.l,qr,null),mM(this,qr)}if(lj(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=En||0!=te.length||this.h.h||(this.s=1,$n(16),g=!1),this.o=this.o&&g,g){if(0<te.length&&!this.W){this.W=!0;var wn=this.j;wn.g==this&&wn.ba&&!wn.M&&(wn.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),IM(wn),wn.M=!0,$n(11))}}else Mu(this.i,this.l,te,"[Invalid Chunked Response]"),la(this),Ph(this)}else Mu(this.i,this.l,te,null),mM(this,te);4==En&&la(this),this.o&&!this.J&&(4==En?Vj(this.j,this):(this.o=!1,o_(this)))}else(function ame(l){const f={};l=(l.g&&2<=fo(l)&&l.g.getAllResponseHeaders()||"").split("\r\n");for(let v=0;v<l.length;v++){if(D(l[v]))continue;var g=k(l[v]);const N=g[0];if("string"!=typeof(g=g[1]))continue;g=g.trim();const $=f[N]||[];f[N]=$,$.push(g)}!function S(l,f){for(const g in l)f.call(void 0,l[g],g,l)}(f,function(v){return v.join(", ")})})(this.g),400==g&&0<te.indexOf("Unknown SID")?(this.s=3,$n(12)):(this.s=0,$n(13)),la(this),Ph(this)}}}catch{}},ns.prototype.cancel=function(){this.J=!0,la(this)},ns.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(function $ge(l,f){l.info(function(){return"TIMEOUT: "+f})}(this.i,this.A),2!=this.L&&(Ih(),$n(17)),la(this),this.s=2,Ph(this)):dj(this,this.S-l)},hj.prototype.cancel=function(){if(this.i=mj(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const l of this.g.values())l.cancel();this.g.clear()}};var yj=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function da(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof da){this.h=l.h,s_(this,l.j),this.o=l.o,this.g=l.g,a_(this,l.s),this.l=l.l;var f=l.i,g=new Ah;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),vj(this,g),this.m=l.m}else l&&(f=String(l).match(yj))?(this.h=!1,s_(this,f[1]||"",!0),this.o=Th(f[2]||""),this.g=Th(f[3]||"",!0),a_(this,f[4]),this.l=Th(f[5]||"",!0),vj(this,f[6]||"",!0),this.m=Th(f[7]||"")):(this.h=!1,this.i=new Ah(null,this.h))}function ho(l){return new da(l)}function s_(l,f,g){l.j=g?Th(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function a_(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function vj(l,f,g){f instanceof Ah?(l.i=f,function eme(l,f){f&&!l.j&&(rs(l),l.i=null,l.g.forEach(function(g,v){var N=v.toLowerCase();v!=N&&(bj(this,v),wj(this,N,g))},l)),l.j=f}(l.i,l.h)):(g||(f=Mh(f,Xge)),l.i=new Ah(f,l.h))}function lt(l,f,g){l.i.set(f,g)}function c_(l){return lt(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Th(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Mh(l,f,g){return"string"==typeof l?(l=encodeURI(l).replace(f,Qge),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Qge(l){return"%"+((l=l.charCodeAt(0))>>4&15).toString(16)+(15&l).toString(16)}da.prototype.toString=function(){var l=[],f=this.j;f&&l.push(Mh(f,Cj,!0),":");var g=this.g;return(g||"file"==f)&&(l.push("//"),(f=this.o)&&l.push(Mh(f,Cj,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(g=this.s)&&l.push(":",String(g))),(g=this.l)&&(this.g&&"/"!=g.charAt(0)&&l.push("/"),l.push(Mh(g,"/"==g.charAt(0)?Jge:Yge,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Mh(g,Zge)),l.join("")};var l,Cj=/[#\/\?@]/g,Yge=/[#\?:]/g,Jge=/[#\?]/g,Xge=/[#\?@]/g,Zge=/#/g;function Ah(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function rs(l){l.g||(l.g=new Map,l.h=0,l.i&&function Kge(l,f){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var v=l[g].indexOf("="),N=null;if(0<=v){var $=l[g].substring(0,v);N=l[g].substring(v+1)}else $=l[g];f($,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}(l.i,function(f,g){l.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}function bj(l,f){rs(l),f=Au(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function Ij(l,f){return rs(l),f=Au(l,f),l.g.has(f)}function wj(l,f,g){bj(l,f),0<g.length&&(l.i=null,l.g.set(Au(l,f),w(g)),l.h+=g.length)}function Au(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function is(l,f,g,v,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),v(g)}catch{}}function rme(){this.g=new Uge}function ime(l,f,g){const v=g||"";try{_j(l,function(N,$){let te=N;u(N)&&(te=cM(N)),f.push(v+$+"="+encodeURIComponent(te))})}catch(N){throw f.push(v+"type="+encodeURIComponent("_badmap")),N}}function Dh(l){this.l=l.Ub||null,this.j=l.eb||!1}function u_(l,f){In.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ej(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}function Sh(l){l.readyState=4,l.l=null,l.j=null,l.v=null,xh(l)}function xh(l){l.onreadystatechange&&l.onreadystatechange.call(l)}function Pj(l){let f="";return he(l,function(g,v){f+=v,f+=":",f+=g,f+="\r\n"}),f}function vM(l,f,g){e:{for(v in g){var v=!1;break e}v=!0}v||(g=Pj(g),"string"==typeof l?null!=g&&encodeURIComponent(String(g)):lt(l,f,g))}function Tt(l){In.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=Ah.prototype).add=function(l,f){rs(this),this.i=null,l=Au(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(f),this.h+=1,this},n.forEach=function(l,f){rs(this),this.g.forEach(function(g,v){g.forEach(function(N){l.call(f,N,v,this)},this)},this)},n.na=function(){rs(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let v=0;v<f.length;v++){const N=l[v];for(let $=0;$<N.length;$++)g.push(f[v])}return g},n.V=function(l){rs(this);let f=[];if("string"==typeof l)Ij(this,l)&&(f=f.concat(this.g.get(Au(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)f=f.concat(l[g])}return f},n.set=function(l,f){return rs(this),this.i=null,Ij(this,l=Au(this,l))&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},n.get=function(l,f){return l&&0<(l=this.V(l)).length?String(l[0]):f},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var v=f[g];const $=encodeURIComponent(String(v)),te=this.V(v);for(v=0;v<te.length;v++){var N=$;""!==te[v]&&(N+="="+encodeURIComponent(String(te[v]))),l.push(N)}}return this.i=l.join("&")},b(Dh,uM),Dh.prototype.g=function(){return new u_(this.l,this.j)},Dh.prototype.i=(l={},function(){return l}),b(u_,In),(n=u_.prototype).open=function(l,f){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,xh(this)},n.send=function(l){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Sh(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,xh(this)),this.g&&(this.readyState=3,xh(this),this.g)))if("arraybuffer"===this.responseType)l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ej(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?Sh(this):xh(this),3==this.readyState&&Ej(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,Sh(this))},n.Qa=function(l){this.g&&(this.response=l,Sh(this))},n.ga=function(){this.g&&Sh(this)},n.setRequestHeader=function(l,f){this.u.append(l,f)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var g=f.next();!g.done;)l.push((g=g.value)[0]+": "+g[1]),g=f.next();return l.join("\r\n")},Object.defineProperty(u_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(l){this.m=l?"include":"same-origin"}}),b(Tt,In);var ome=/^https?$/i,sme=["POST","PUT"];function Tj(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,Mj(l),l_(l)}function Mj(l){l.A||(l.A=!0,jn(l,"complete"),jn(l,"error"))}function Aj(l){if(l.h&&typeof s<"u"&&(!l.v[1]||4!=fo(l)||2!=l.Z()))if(l.u&&4==fo(l))YB(l.Ea,0,l);else if(jn(l,"readystatechange"),4==fo(l)){l.h=!1;try{const te=l.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var v;if(v=0===te){var N=String(l.D).match(yj)[1]||null;!N&&a.self&&a.self.location&&(N=a.self.location.protocol.slice(0,-1)),v=!ome.test(N?N.toLowerCase():"")}g=v}if(g)jn(l,"complete"),jn(l,"success");else{l.m=6;try{var $=2<fo(l)?l.g.statusText:""}catch{$=""}l.l=$+" ["+l.Z()+"]",Mj(l)}}finally{l_(l)}}}function l_(l,f){if(l.g){Dj(l);const g=l.g,v=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||jn(l,"ready");try{g.onreadystatechange=v}catch{}}}function Dj(l){l.I&&(a.clearTimeout(l.I),l.I=null)}function fo(l){return l.g?l.g.readyState:0}function Sj(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Oh(l,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||f}function xj(l){this.Aa=0,this.i=[],this.j=new Eh,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Oh("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Oh("baseRetryDelayMs",5e3,l),this.cb=Oh("retryDelaySeedMs",1e4,l),this.Wa=Oh("forwardChannelMaxRetries",2,l),this.wa=Oh("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new hj(l&&l.concurrentRequestLimit),this.Da=new rme,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function CM(l){if(Oj(l),3==l.G){var f=l.U++,g=ho(l.I);if(lt(g,"SID",l.K),lt(g,"RID",f),lt(g,"TYPE","terminate"),Rh(l,g),(f=new ns(l,l.j,f)).L=2,f.v=c_(ho(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&a.Image&&((new Image).src=f.v,g=!0),g||(f.g=jj(f.j,null),f.g.ea(f.v)),f.F=Date.now(),o_(f)}Uj(l)}function d_(l){l.g&&(IM(l),l.g.cancel(),l.g=null)}function Oj(l){d_(l),l.u&&(a.clearTimeout(l.u),l.u=null),f_(l),l.h.cancel(),l.s&&("number"==typeof l.s&&a.clearTimeout(l.s),l.s=null)}function h_(l){if(!fj(l.h)&&!l.s){l.s=!0;var f=l.Ga;mh||zB(),_h||(mh(),_h=!0),Z1.add(f,l),l.B=0}}function Rj(l,f){var g;g=f?f.l:l.U++;const v=ho(l.I);lt(v,"SID",l.K),lt(v,"RID",g),lt(v,"AID",l.T),Rh(l,v),l.m&&l.o&&vM(v,l.m,l.o),g=new ns(l,l.j,g,l.B+1),null===l.m&&(g.H=l.o),f&&(l.i=f.D.concat(l.i)),f=kj(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),yM(l.h,g),pM(g,v,f)}function Rh(l,f){l.H&&he(l.H,function(g,v){lt(f,v,g)}),l.l&&_j({},function(g,v){lt(f,v,g)})}function kj(l,f,g){g=Math.min(l.i.length,g);var v=l.l?p(l.l.Na,l.l,l):null;e:{var N=l.i;let $=-1;for(;;){const te=["count="+g];-1==$?0<g?($=N[0].g,te.push("ofs="+$)):$=0:te.push("ofs="+$);let et=!0;for(let ln=0;ln<g;ln++){let je=N[ln].g;const wn=N[ln].map;if(je-=$,0>je)$=Math.max(0,N[ln].g-100),et=!1;else try{ime(wn,te,"req"+je+"_")}catch{v&&v(wn)}}if(et){v=te.join("&");break e}}}return l=l.i.splice(0,g),f.D=l,v}function Nj(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;mh||zB(),_h||(mh(),_h=!0),Z1.add(f,l),l.v=0}}function bM(l){return!(l.g||l.u||3<=l.v||(l.Y++,l.u=wh(p(l.Fa,l),Lj(l,l.v)),l.v++,0))}function IM(l){null!=l.A&&(a.clearTimeout(l.A),l.A=null)}function Fj(l){l.g=new ns(l,l.j,"rpc",l.Y),null===l.m&&(l.g.H=l.o),l.g.O=0;var f=ho(l.qa);lt(f,"RID","rpc"),lt(f,"SID",l.K),lt(f,"AID",l.T),lt(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&lt(f,"TO",l.ja),lt(f,"TYPE","xmlhttp"),Rh(l,f),l.m&&l.o&&vM(f,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=c_(ho(f)),g.m=null,g.P=!0,uj(g,l)}function f_(l){null!=l.C&&(a.clearTimeout(l.C),l.C=null)}function Vj(l,f){var g=null;if(l.g==f){f_(l),IM(l),l.g=null;var v=2}else{if(!_M(l.h,f))return;g=f.D,gj(l.h,f),v=1}if(0!=l.G)if(f.o)if(1==v){g=f.m?f.m.length:0,f=Date.now()-f.F;var N=l.B;jn(v=n_(),new oj(v,g)),h_(l)}else Nj(l);else if(3==(N=f.s)||0==N&&0<f.X||!(1==v&&function cme(l,f){return!(pj(l.h)>=l.h.j-(l.s?1:0)||(l.s?(l.i=f.D.concat(l.i),0):1==l.G||2==l.G||l.B>=(l.Va?0:l.Wa)||(l.s=wh(p(l.Ga,l,f),Lj(l,l.B)),l.B++,0)))}(l,f)||2==v&&bM(l)))switch(g&&0<g.length&&(f=l.h,f.i=f.i.concat(g)),N){case 1:ha(l,5);break;case 4:ha(l,10);break;case 3:ha(l,6);break;default:ha(l,2)}}function Lj(l,f){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*f}function ha(l,f){if(l.j.info("Error code "+f),2==f){var g=p(l.fb,l),v=l.Xa;const N=!v;v=new da(v||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||s_(v,"https"),c_(v),N?function tme(l,f){const g=new Eh;if(a.Image){const v=new Image;v.onload=m(is,g,"TestLoadImage: loaded",!0,f,v),v.onerror=m(is,g,"TestLoadImage: error",!1,f,v),v.onabort=m(is,g,"TestLoadImage: abort",!1,f,v),v.ontimeout=m(is,g,"TestLoadImage: timeout",!1,f,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=l}else f(!1)}(v.toString(),g):function nme(l,f){new Eh;const v=new AbortController,N=setTimeout(()=>{v.abort(),is(0,0,!1,f)},1e4);fetch(l,{signal:v.signal}).then($=>{clearTimeout(N),is(0,0,!!$.ok,f)}).catch(()=>{clearTimeout(N),is(0,0,!1,f)})}(v.toString(),g)}else $n(2);l.G=0,l.l&&l.l.sa(f),Uj(l),Oj(l)}function Uj(l){if(l.G=0,l.ka=[],l.l){const f=mj(l.h);(0!=f.length||0!=l.i.length)&&(T(l.ka,f),T(l.ka,l.i),l.h.i.length=0,w(l.i),l.i.length=0),l.l.ra()}}function Bj(l,f,g){var v=g instanceof da?ho(g):new da(g);if(""!=v.g)f&&(v.g=f+"."+v.g),a_(v,v.s);else{var N=a.location;v=N.protocol,f=f?f+"."+N.hostname:N.hostname,N=+N.port;var $=new da(null);v&&s_($,v),f&&($.g=f),N&&a_($,N),g&&($.l=g),v=$}return f=l.ya,(g=l.D)&&f&&lt(v,g,f),lt(v,"VER",l.la),Rh(l,v),v}function jj(l,f,g){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return(f=new Tt(l.Ca&&!l.pa?new Dh({eb:g}):l.pa)).Ha(l.J),f}function $j(){}function p_(){}function gr(l,f){In.call(this),this.g=new xj(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!D(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!D(f)&&(this.g.D=f,null!==(l=this.h)&&f in l&&f in(l=this.h)&&delete l[f]),this.j=new Du(this)}function Hj(l){lM.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const g in f){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,f=null!==f&&l in f?f[l]:void 0),this.data=f}else this.data=l}function zj(){dM.call(this),this.status=1}function Du(l){this.g=l}(n=Tt.prototype).Ha=function(l){this.J=l},n.ea=function(l,f,g,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hM.g(),this.v=function ej(l){return l.h||(l.h=l.i())}(this.o?this.o:hM),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch($){return void Tj(this,$)}if(l=g||"",g=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var N in v)g.set(N,v[N]);else{if("function"!=typeof v.keys||"function"!=typeof v.get)throw Error("Unknown input type for opt_headers: "+String(v));for(const $ of v.keys())g.set($,v.get($))}v=Array.from(g.keys()).find($=>"content-type"==$.toLowerCase()),N=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(sme,f,void 0))||v||N||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,te]of g)this.g.setRequestHeader($,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Dj(this),this.u=!0,this.g.send(l),this.u=!1}catch($){Tj(this,$)}},n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,jn(this,"complete"),jn(this,"abort"),l_(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),l_(this,!0)),Tt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Aj(this):this.bb())},n.bb=function(){Aj(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<fo(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&0==f.indexOf(l)&&(f=f.substring(l.length)),Lge(f)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=xj.prototype).la=8,n.G=1,n.connect=function(l,f,g,v){$n(0),this.W=l,this.H=f||{},g&&void 0!==v&&(this.H.OSID=g,this.H.OAID=v),this.F=this.X,this.I=Bj(this,null,this.W),h_(this)},n.Ga=function(l){if(this.s)if(this.s=null,1==this.G){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const N=new ns(this,this.j,l);let $=this.o;if(this.S&&($?($=P($),O($,this.S)):$=this.S),null!==this.m||this.O||(N.H=$,$=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){var v=this.i[g];if(void 0===(v="__data__"in v.map&&"string"==typeof(v=v.map.__data__)?v.length:void 0))break;if(4096<(f+=v)){f=g;break e}if(4096===f||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=kj(this,N,f),lt(g=ho(this.I),"RID",l),lt(g,"CVER",22),this.D&&lt(g,"X-HTTP-Session-Id",this.D),Rh(this,g),$&&(this.O?f="headers="+encodeURIComponent(String(Pj($)))+"&"+f:this.m&&vM(g,this.m,$)),yM(this.h,N),this.Ua&&lt(g,"TYPE","init"),this.P?(lt(g,"$req",f),lt(g,"SID","null"),N.T=!0,pM(N,g,null)):pM(N,g,f),this.G=2}}else 3==this.G&&(l?Rj(this,l):0==this.i.length||fj(this.h)||Rj(this))},n.Fa=function(){if(this.u=null,Fj(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=wh(p(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$n(10),d_(this),Fj(this))},n.Za=function(){null!=this.C&&(this.C=null,d_(this),bM(this),$n(19))},n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),$n(2)):(this.j.info("Failed to ping google.com"),$n(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=$j.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},p_.prototype.g=function(l,f){return new gr(l,f)},b(gr,In),gr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gr.prototype.close=function(){CM(this.g)},gr.prototype.o=function(l){var f=this.g;if("string"==typeof l){var g={};g.__data__=l,l=g}else this.u&&((g={}).__data__=cM(l),l=g);f.i.push(new class{constructor(l,f){this.g=l,this.map=f}}(f.Ya++,l)),3==f.G&&h_(f)},gr.prototype.N=function(){this.g.l=null,delete this.j,CM(this.g),delete this.g,gr.aa.N.call(this)},b(Hj,lM),b(zj,dM),b(Du,$j),Du.prototype.ua=function(){jn(this.g,"a")},Du.prototype.ta=function(l){jn(this.g,new Hj(l))},Du.prototype.sa=function(l){jn(this.g,new zj)},Du.prototype.ra=function(){jn(this.g,"b")},p_.prototype.createWebChannel=p_.prototype.g,gr.prototype.send=gr.prototype.o,gr.prototype.open=gr.prototype.m,gr.prototype.close=gr.prototype.close,eo.createWebChannelTransport=function(){return new p_},eo.getStatEventTarget=function(){return n_()},eo.Event=ua,eo.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},r_.NO_ERROR=0,r_.TIMEOUT=8,r_.HTTP_ERROR=6,eo.ErrorCode=r_,sj.COMPLETE="complete",eo.EventType=sj,tj.EventType=bh,bh.OPEN="a",bh.CLOSE="b",bh.ERROR="c",bh.MESSAGE="d",In.prototype.listen=In.prototype.K,eo.WebChannel=tj,eo.FetchXmlHttpFactory=Dh,Tt.prototype.listenOnce=Tt.prototype.L,Tt.prototype.getLastError=Tt.prototype.Ka,Tt.prototype.getLastErrorCode=Tt.prototype.Ba,Tt.prototype.getStatus=Tt.prototype.Z,Tt.prototype.getResponseJson=Tt.prototype.Oa,Tt.prototype.getResponseText=Tt.prototype.oa,Tt.prototype.send=Tt.prototype.ea,Tt.prototype.setWithCredentials=Tt.prototype.Ha,eo.XhrIo=Tt}).apply(typeof Ug<"u"?Ug:typeof self<"u"?self:typeof window<"u"?window:{});const s5="@firebase/firestore";class Kt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");let Bc="10.14.0";const No=new Dc("@firebase/firestore");function W(n,...e){if(No.logLevel<=xe.DEBUG){const t=e.map(pP);No.debug(`Firestore (${Bc}): ${n}`,...t)}}function Rt(n,...e){if(No.logLevel<=xe.ERROR){const t=e.map(pP);No.error(`Firestore (${Bc}): ${n}`,...t)}}function pP(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ue(n="Unexpected state"){const e=`FIRESTORE (${Bc}) INTERNAL ASSERTION FAILED: `+n;throw Rt(e),new Error(e)}function de(n,e){n||ue()}const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends Mr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Qt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class a5{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Hce{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Kt.UNAUTHENTICATED))}shutdown(){}}class zce{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Gce{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;de(void 0===this.o);let i=this.i;const o=u=>this.i!==i?(i=this.i,t(u)):Promise.resolve();let s=new Qt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Qt,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(E(function*(){yield u.promise,yield o(r.currentUser)}))},c=u=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Qt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(de("string"==typeof r.accessToken),new a5(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return de(null===e||"string"==typeof e),new Kt(e)}}class qce{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Wce{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new qce(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class c5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Kce{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){de(void 0===this.o);const r=o=>{null!=o.error&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,W("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(de("string"==typeof t.token),this.R=t.token,new c5(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function be(n,e){return n<e?-1:n>e?1:0}class Md{constructor(e,t,r){void 0===t?t=0:t>e.length&&ue(),void 0===r?r=e.length-t:r>e.length-t&&ue(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Md.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Md?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ke extends Md{construct(e,t,r){return new ke(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new q(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ke(t)}static emptyPath(){return new ke([])}}class re{constructor(e){this.path=e}static fromPath(e){return new re(ke.fromString(e))}static fromName(e){return new re(ke.fromString(e).popFirst(5))}static empty(){return new re(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ke.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ke.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new re(new ke(e.slice()))}}class st{constructor(e,t){this.comparator=e,this.root=t||an.EMPTY}insert(e,t){return new st(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hg(this.root,e,this.comparator,!0)}}class Hg{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??an.RED,this.left=i??an.EMPTY,this.right=o??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new an(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return an.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ue();const e=this.left.check();if(e!==this.right.check())throw ue();return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1,an.EMPTY=new class{constructor(){this.size=0}get key(){throw ue()}get value(){throw ue()}get color(){throw ue()}get left(){throw ue()}get right(){throw ue()}copy(e,t,r,i,o){return this}insert(e,t,r){return new an(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ye{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new M5(this.data.getIterator())}getIteratorFrom(e){return new M5(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ye)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ye(this.comparator);return t.data=e,t}}class M5{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class A5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new A5("Invalid base64 string: "+o):o}}(e);return new Pt(t)}static fromUint8Array(e){const t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Pt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const Iue=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}class $s{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new $s("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof $s&&e.projectId===this.projectId&&e.database===this.database}}var Ut,Le,RT,U3;new st(re.comparator),new st(re.comparator),new st(re.comparator),new Ye(re.comparator),new Ye(be),(Le=Ut||(Ut={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS",new Ls([4294967295,4294967295],0),Error;class Ys{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(gt(e.integerValue));else if("doubleValue"in e){const r=gt(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),function Sd(n){return 0===n&&1/n==-1/0}(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),"string"==typeof r&&(r=function to(n){if(de(!!n),"string"==typeof n){let e=0;const t=Iue.exec(n);if(de(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gt(n.seconds),nanos:gt(n.nanos)}}(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(function no(n){return"string"==typeof n?Pt.fromBase64String(n):Pt.fromUint8Array(n)}(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?function R5(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.dt(t,Number.MAX_SAFE_INTEGER):function Qg(n){var e,t;return"__vector__"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):ue()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const r=e.fields||{};this.dt(t,55);for(const i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;const o=e.fields||{};this.dt(t,53);const s="value",a=(null===(i=null===(r=o[s].arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.length)||0;this.dt(t,15),t.At(gt(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){const r=e.values||[];this.dt(t,50);for(const i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),re.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}Ys.vt=new Ys,new Uint8Array(0);class yn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function vm(){return typeof document<"u"?document:null}yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(41943040,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);class uT{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class MT{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Qt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const s=Date.now()+r,a=new MT(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new q(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}(U3=RT||(RT={})).ea="default",U3.Cache="cache";const oU=new Map;function Oe(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new q(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=function Tm(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":ue()}(n);throw new q(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class uU{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new q(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new q(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Hde(n,e,t,r){if(!0===e&&!0===r)throw new q(U.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=function iU(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new q(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rh{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uU({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new q(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uU(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Hce;switch(r.type){case"firstParty":return new Wce(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return E(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=oU.get(t);r&&(W("ComponentProvider","Removing Datastore"),oU.delete(t),r.terminate())}(this),Promise.resolve()}}function zde(n,e,t,r={}){var i;const o=(n=Oe(n,rh))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&function xr(n,...e){if(No.logLevel<=xe.WARN){const t=e.map(pP);No.warn(`Firestore (${Bc}): ${n}`,...t)}}("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=Kt.MOCK_USER;else{a=function Aee(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Zp(JSON.stringify({alg:"none",type:"JWT"})),Zp(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new q(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Kt(u)}n._authCredentials=new zce(new a5(a,c))}}class dU{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new uT(this,"async_queue_retry"),this.Vu=()=>{const r=vm();r&&W("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const t=vm();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=vm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new Qt;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return E(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(t){if(!function Vo(n){return"IndexedDbTransactionError"===n.name}(t))throw t;W("AsyncQueue","Operation failed with retryable error: "+t)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(r=>{throw this.Eu=r,this.du=!1,Rt("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const i=MT.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ue()}verifyOperationInProgress(){}wu(){var e=this;return E(function*(){let t;do{t=e.mu,yield t}while(t!==e.mu)})()}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class Ze extends rh{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new dU,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){var e=this;return E(function*(){if(e._firestoreClient){const t=e._firestoreClient.terminate();e._queue=new dU(t),e._firestoreClient=void 0,yield t}})()}}function Wde(n,e){const r="string"==typeof n?n:e||"(default)",i=Sc("object"==typeof n?n:Lb(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(n=>{const e=iF("firestore");if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]})();o&&zde(i,...o)}return i}new RegExp("[~\\*/\\[\\]]"),function(e,t=!0){Bc=Ds,Ln(new gn("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Ze(new Gce(r.getProvider("auth-internal")),new Kce(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new q(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $s(u.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),vt(s5,"4.7.3",e),vt(s5,"4.7.3","esm2017")}();class O1{constructor(e){return e}}const xU="firestore",R1=new oe("angularfire2.firestore-instances");function _he(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new O1(r)}}const yhe={provide:class ghe{constructor(){return A0(xU)}},deps:[[new On,R1]]},vhe={provide:O1,useFactory:function mhe(n,e){const t=M0(xU,n,e);return t&&new O1(t)},deps:[[new On,R1],kc]};let Che=(()=>{class n{constructor(){vt("angularfire",gg.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Nr({type:n}),n.\u0275inj=_r({providers:[vhe,yhe]}),n})();const Ihe=S0(Wde,!0);let OU=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(z(Si),z(cr))}}static{this.\u0275dir=Ce({type:n})}}return n})(),oa=(()=>{class n extends OU{static{this.\u0275fac=function(){let t;return function(i){return(t||(t=nn(n)))(i||n)}}()}static{this.\u0275dir=Ce({type:n,features:[qe]})}}return n})();const yi=new oe("NgValueAccessor"),Ehe={provide:yi,useExisting:tt(()=>k1),multi:!0};let k1=(()=>{class n extends oa{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=nn(n)))(i||n)}}()}static{this.\u0275dir=Ce({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&H("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[ft([Ehe]),qe]})}}return n})();const Phe={provide:yi,useExisting:tt(()=>vi),multi:!0},Mhe=new oe("CompositionEventMode");let vi=(()=>{class n extends OU{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function The(){const n=To()?To().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(z(Si),z(cr),z(Mhe,8))}}static{this.\u0275dir=Ce({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&H("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[ft([Phe]),qe]})}}return n})();const Cn=new oe("NgValidators"),Xo=new oe("NgAsyncValidators");function FU(n){return function Jo(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function Um(n){return null}function $U(n){return null!=n}function HU(n){return Cl(n)?Bt(n):n}function zU(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function GU(n,e){return e.map(t=>t(n))}function qU(n){return n.map(e=>function Dhe(n){return!n.validate}(e)?e:t=>e.validate(t))}function N1(n){return null!=n?function WU(n){if(!n)return null;const e=n.filter($U);return 0==e.length?null:function(t){return zU(GU(t,e))}}(qU(n)):null}function F1(n){return null!=n?function KU(n){if(!n)return null;const e=n.filter($U);return 0==e.length?null:function(t){return function whe(...n){const e=WM(n),{args:t,keys:r}=WN(n),i=new dt(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let c=s,u=s;for(let d=0;d<s;d++){let h=!1;tr(t[d]).subscribe(Mt(o,p=>{h||(h=!0,u--),a[d]=p},()=>c--,void 0,()=>{(!c||!h)&&(u||o.next(r?QN(r,a):a),o.complete())}))}});return e?i.pipe(KN(e)):i}(GU(t,e).map(HU)).pipe(Re(zU))}}(qU(n)):null}function QU(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function V1(n){return n?Array.isArray(n)?n:[n]:[]}function Bm(n,e){return Array.isArray(n)?n.includes(e):n===e}function XU(n,e){const t=V1(e);return V1(n).forEach(i=>{Bm(t,i)||t.push(i)}),t}function ZU(n,e){return V1(e).filter(t=>!Bm(n,t))}class eB{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=N1(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=F1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Bn extends eB{get formDirective(){return null}get path(){return null}}class Zo extends eB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class tB{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let es=(()=>{class n extends tB{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(z(Zo,2))}}static{this.\u0275dir=Ce({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&me("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[qe]})}}return n})(),nB=(()=>{class n extends tB{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(z(Bn,10))}}static{this.\u0275dir=Ce({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&me("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[qe]})}}return n})();const dh="VALID",$m="INVALID",Eu="PENDING",hh="DISABLED";function B1(n){return(Hm(n)?n.validators:n)||null}function j1(n,e){return(Hm(e)?e.asyncValidators:n)||null}function Hm(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class $1{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===dh}get invalid(){return this.status===$m}get pending(){return this.status==Eu}get disabled(){return this.status===hh}get enabled(){return this.status!==hh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(XU(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(XU(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ZU(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ZU(e,this._rawAsyncValidators))}hasValidator(e){return Bm(this._rawValidators,e)}hasAsyncValidator(e){return Bm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Eu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=hh,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=dh,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===dh||this.status===Eu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?hh:dh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Eu,this._hasOwnPendingAsyncValidator=!0;const t=HU(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new yt,this.statusChanges=new yt}_calculateStatus(){return this._allControlsDisabled()?hh:this.errors?$m:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Eu)?Eu:this._anyControlsHaveStatus($m)?$m:dh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Hm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Rhe(n){return Array.isArray(n)?N1(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function khe(n){return Array.isArray(n)?F1(n):n||null}(this._rawAsyncValidators)}}class H1 extends $1{constructor(e,t,r){super(B1(t),j1(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function oB(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new K(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function iB(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new K(1e3,"");if(!r[t])throw new K(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Pu=new oe("CallSetDisabledState",{providedIn:"root",factory:()=>zm}),zm="always";function fh(n,e,t=zm){z1(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Vhe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&sB(n,e)})}(n,e),function Uhe(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Lhe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&sB(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Fhe(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Wm(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function z1(n,e){const t=function YU(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(QU(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function JU(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(QU(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Wm(e._rawValidators,i),Wm(e._rawAsyncValidators,i)}function sB(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const zhe={provide:Bn,useExisting:tt(()=>Qm)},ph=(()=>Promise.resolve())();let Qm=(()=>{class n extends Bn{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new yt,this.form=new H1({},N1(t),F1(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ph.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),fh(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ph.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){ph.then(()=>{const r=this._findContainer(t.path),i=new H1({});(function aB(n,e){z1(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ph.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){ph.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function cB(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(z(Cn,10),z(Xo,10),z(Pu,8))}}static{this.\u0275dir=Ce({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&H("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ft([zhe]),qe]})}}return n})();function uB(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function lB(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const dB=class extends $1{constructor(e=null,t,r){super(B1(t),j1(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Hm(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=lB(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){uB(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){uB(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){lB(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Whe={provide:Zo,useExisting:tt(()=>co)},pB=(()=>Promise.resolve())();let co=(()=>{class n extends Zo{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new dB,this._registered=!1,this.name="",this.update=new yt,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function W1(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===vi?t=o:function $he(n){return Object.getPrototypeOf(n.constructor)===oa}(o)?r=o:i=o}),i||r||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function q1(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){fh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){pB.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&gc(r);pB.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Gm(n,e){return[...e.path,n]}(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(z(Bn,9),z(Cn,10),z(Xo,10),z(yi,10),z(pc,8),z(Pu,8))}}static{this.\u0275dir=Ce({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ft([Whe]),qe,vr]})}}return n})(),gB=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Ce({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),_B=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Nr({type:n})}static{this.\u0275inj=_r({})}}return n})();const rfe={provide:yi,useExisting:tt(()=>Ym),multi:!0};function EB(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Ym=(()=>{class n extends oa{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=EB(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function ife(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=nn(n)))(i||n)}}()}static{this.\u0275dir=Ce({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&H("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[ft([rfe]),qe]})}}return n})(),PB=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(EB(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(z(cr),z(Si),z(Ym,9))}}static{this.\u0275dir=Ce({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();const ofe={provide:yi,useExisting:tt(()=>J1),multi:!0};function TB(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let J1=(()=>{class n extends oa{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const u=this._getOptionValue(s[a].value);i.push(u)}}else{const s=r.options;for(let a=0;a<s.length;a++){const c=s[a];if(c.selected){const u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function sfe(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=nn(n)))(i||n)}}()}static{this.\u0275dir=Ce({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&H("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[ft([ofe]),qe]})}}return n})(),MB=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(TB(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(TB(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(z(cr),z(Si),z(J1,9))}}static{this.\u0275dir=Ce({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();let sa=(()=>{class n{constructor(){this._validator=Um}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Um,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Ce({type:n,features:[vr]})}}return n})();const ufe={provide:Cn,useExisting:tt(()=>Jm),multi:!0};let Jm=(()=>{class n extends sa{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=gc,this.createValidator=t=>FU}enabled(t){return t}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=nn(n)))(i||n)}}()}static{this.\u0275dir=Ce({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&ni("required",i._enabled?"":null)},inputs:{required:"required"},features:[ft([ufe]),qe]})}}return n})();const ffe={provide:Cn,useExisting:tt(()=>Xm),multi:!0};let Xm=(()=>{class n extends sa{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function AB(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>function BU(n){return e=>function RU(n){return null!=n&&"number"==typeof n.length}(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(t)}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=nn(n)))(i||n)}}()}static{this.\u0275dir=Ce({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&ni("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[ft([ffe]),qe]})}}return n})(),gfe=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Nr({type:n})}static{this.\u0275inj=_r({imports:[_B]})}}return n})(),aa=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Pu,useValue:t.callSetDisabledState??zm}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Nr({type:n})}static{this.\u0275inj=_r({imports:[gfe]})}}return n})();const Gr_apiUrl="https://music-uptc-sogamoso-back.vercel.app",Gr_firebaseConfig={apiKey:"AIzaSyAehdTsKYuyXdmBngoGthTpaMPrw4nsga4",authDomain:"musicuptcsogamoso.firebaseapp.com",projectId:"musicuptcsogamoso",storageBucket:"musicuptcsogamoso.firebasestorage.app",messagingSenderId:"1011403818121",appId:"1:1011403818121:web:eea45507f1bdcd3631b258",measurementId:"G-BFW1T6D1J1"};let FB=(()=>{class n{http;apiUrl=Gr_apiUrl;constructor(t){this.http=t}searchTracks(t){return this.http.get(`${this.apiUrl}/api/search?q=${encodeURIComponent(t)}`).pipe(Re(r=>r.map(i=>({id:i.id,name:i.name,artists:i.artists,album:i.album,image:i.image,preview_url:i.preview_url,duration_ms:i.duration_ms}))))}getAuthUrl(){return this.http.get(`${this.apiUrl}/api/spotify/auth`)}getCurrentlyPlaying(){return this.http.get(`${this.apiUrl}/api/spotify/currently-playing`)}getStatus(){return this.http.get(`${this.apiUrl}/api/spotify/admin/status`)}static \u0275fac=function(r){return new(r||n)(se(Hr))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function VB(n=0,e,t=jie){let r=-1;return null!=e&&(qM(e)?t=e:r=e),new dt(i=>{let o=function _fe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function uo(n=0,e=pg){return n<0&&(n=0),VB(n,n,e)}let ca=(()=>{class n{http;apiUrl=Gr_apiUrl;currentUserSubject=new Gt(null);currentUser=this.currentUserSubject.asObservable();constructor(t){this.http=t;const r=localStorage.getItem("adminToken"),i=localStorage.getItem("adminUser");r&&i&&this.currentUserSubject.next(JSON.parse(i))}login(t,r){return this.http.post(`${this.apiUrl}/api/auth/login`,{email:t,password:r}).pipe(Xe(i=>{i.token&&(localStorage.setItem("adminToken",i.token),localStorage.setItem("adminUser",JSON.stringify(i.user)),this.currentUserSubject.next(i.user))}))}logout(){localStorage.removeItem("adminToken"),localStorage.removeItem("adminUser"),this.currentUserSubject.next(null)}isLoggedIn(){return!!localStorage.getItem("adminToken")}getAuthToken(){return localStorage.getItem("adminToken")}getAuthHeaders(){const t=this.getToken();return new Pr(t?{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}:{"Content-Type":"application/json"})}getToken(){return localStorage.getItem("adminToken")}static \u0275fac=function(r){return new(r||n)(se(Hr))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Tu=(()=>{class n{http;authService;apiUrl=Gr_apiUrl;cachedSongs=[];lastFetchTime=0;CACHE_DURATION=2e3;cachedVotingStatus=null;lastVotingStatusFetch=0;constructor(t,r){this.http=t,this.authService=r}getCacheBustedUrl(t){const r=t.includes("?")?"&":"?";return`${t}${r}_=${(new Date).getTime()}`}invalidateCache(){this.cachedSongs=[],this.lastFetchTime=0}invalidateVotingStatusCache(){this.cachedVotingStatus=null,this.lastVotingStatusFetch=0}processSongs(t){return t&&0!==t.length?t.sort((r,i)=>r.votes>i.votes?-1:r.votes<i.votes?1:new Date(i.createdat).getTime()-new Date(r.createdat).getTime()):[]}voteForSong(t,r,i=!1){return this.http.post(`${this.apiUrl}/api/vote`,{trackid:t,trackInfo:r,is_dislike:i}).pipe(Xe(()=>{this.invalidateCache()}))}changeVote(t,r,i){return this.voteForSong(t,r,i)}getRankedSongsPolling(){return uo(3e4).pipe(Fp(0),Pn(()=>this.getRankedSongs()))}getRankedSongs(){const t=Date.now();if(this.cachedSongs.length>0&&t-this.lastFetchTime<this.CACHE_DURATION)return ge([...this.cachedSongs]);const r=this.getCacheBustedUrl(`${this.apiUrl}/api/votes`);return this.http.get(r).pipe(Re(i=>{const o=this.processSongs(i||[]);return this.cachedSongs=o,this.lastFetchTime=t,o}))}getRecentlyAddedSongs(){return this.getRankedSongs().pipe(Re(t=>[...t].sort((r,i)=>new Date(i.createdat).getTime()-new Date(r.createdat).getTime()).slice(0,10)))}getSongs(){return this.getRankedSongs()}addToHistory(t){return this.http.post(`${this.apiUrl}/spotify/history`,{trackId:t})}vote(t,r,i=!1){return this.http.post(`${this.apiUrl}/vote`,{song:t,isDislike:r,isAdmin:i})}deleteSong(t){const r=this.authService.getAuthHeaders(),o=this.getCacheBustedUrl(`${this.apiUrl}/api/votes?trackid=${t}`);return this.http.delete(o,{headers:r}).pipe(Xe(()=>{this.invalidateCache()}))}deleteAllVotes(){const t=this.authService.getAuthHeaders(),r=this.getCacheBustedUrl(`${this.apiUrl}/api/votes/all`);return this.http.delete(r,{headers:t}).pipe(Xe(()=>{this.invalidateCache()}))}forceRefresh(){this.invalidateCache();const t=this.getCacheBustedUrl(`${this.apiUrl}/api/votes`);return this.http.get(t).pipe(Re(r=>{const i=this.processSongs(r||[]);return this.cachedSongs=i,this.lastFetchTime=Date.now(),i}))}getRankedSongsImmediate(){const t=this.getCacheBustedUrl(`${this.apiUrl}/api/votes`);return this.http.get(t).pipe(Re(r=>this.processSongs(r||[])))}getVotingStatus(){const t=this.getCacheBustedUrl(`${this.apiUrl}/api/voting/status`);return this.http.get(t)}submitVote(t){return this.http.post(`${this.apiUrl}/api/voting/vote`,{vote_type:t}).pipe(Xe(()=>{this.invalidateVotingStatusCache()}),Tr(r=>{let i="Error al votar";return r.error?.error?i=r.error.error:400===r.status?i="Solicitud incorrecta":409===r.status?i=r.error?.error||"Ya has votado por esta opci\xf3n":500===r.status?i="Error del servidor":0===r.status&&(i="Error de conexi\xf3n"),this.invalidateVotingStatusCache(),ji(()=>new Error(i))}))}getVotingStatusImmediate(){const t=this.getCacheBustedUrl(`${this.apiUrl}/api/voting/status`);return this.http.get(t)}static \u0275fac=function(r){return new(r||n)(se(Hr),se(ca))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yfe(n,e){1&n&&x(0,"i",11)}function vfe(n,e){1&n&&x(0,"i",12)}function Cfe(n,e){1&n&&(_(0,"div",16),I(1," No se encontraron resultados. Intenta con otras palabras. "),y())}function bfe(n,e){if(1&n){const t=Ae();_(0,"div",17)(1,"div",18)(2,"div",19)(3,"div",20),x(4,"img",21),y(),_(5,"div",22)(6,"h6",23),I(7),y(),_(8,"p",24),I(9),y(),_(10,"p",25),I(11),y()(),_(12,"div",26)(13,"button",27),H("click",function(){const o=J(t).$implicit;return X(B(2).vote(o))}),x(14,"i",28),I(15,"Votar "),y()()()()()}if(2&n){const t=e.$implicit,r=B(2);C(4),L("src",t.image,sr)("alt",t.name),C(3),ce(t.name),C(2),ce(t.artists.join(", ")),C(2),ce(r.formatDuration(t.duration_ms))}}function Ife(n,e){if(1&n&&(_(0,"div"),Y(1,Cfe,2,0,"div",13),_(2,"div",14),Y(3,bfe,16,5,"div",15),y()()),2&n){const t=B();C(1),L("ngIf",0===t.results.length&&!t.isLoading),C(2),L("ngForOf",t.results)}}let wfe=(()=>{class n{spotifyService;votingService;voteCasted=new yt;query="";results=[];isLoading=!1;searchPerformed=!1;constructor(t,r){this.spotifyService=t,this.votingService=r}search(){this.query.trim()&&(this.isLoading=!0,this.searchPerformed=!0,this.spotifyService.searchTracks(this.query).subscribe({next:t=>{this.results=t,this.isLoading=!1},error:t=>{console.error("Error al buscar:",t),this.isLoading=!1,alert("Error al buscar canciones. Intenta nuevamente.")}}))}vote(t){this.votingService.voteForSong(t.id,{name:t.name,artists:t.artists,image:t.album?.images?.[0]?.url||t.image,preview_url:t.preview_url,album:t.album?.name||"Unknown Album"}).subscribe({next:()=>{alert("\xa1Tu voto ha sido registrado!"),this.query="",this.results=[],this.searchPerformed=!1,this.voteCasted.emit()},error:i=>{409===i.status?alert("Ya has votado por esta canci\xf3n."):alert("Error al registrar tu voto. Intenta nuevamente.")}})}formatDuration(t){const r=Math.floor(t/6e4),i=(t%6e4/1e3).toFixed(0);return`${r}:${parseInt(i)<10?"0":""}${i}`}static \u0275fac=function(r){return new(r||n)(z(FB),z(Tu))};static \u0275cmp=Tn({type:n,selectors:[["app-search"]],outputs:{voteCasted:"voteCasted"},standalone:!0,features:[kn],decls:13,vars:5,consts:[[1,"card","mb-4"],[1,"card-header"],[1,"mb-0"],[1,"fas","fa-search","me-2"],[1,"card-body"],[1,"input-group","mb-3"],["type","text","placeholder","Nombre de canci\xf3n o artista...",1,"form-control",3,"ngModel","ngModelChange","keyup.enter"],[1,"btn","btn-primary",3,"disabled","click"],["class","fas fa-search me-1",4,"ngIf"],["class","fas fa-spinner fa-spin me-1",4,"ngIf"],[4,"ngIf"],[1,"fas","fa-search","me-1"],[1,"fas","fa-spinner","fa-spin","me-1"],["class","alert alert-info",4,"ngIf"],[1,"results-container"],["class","card mb-2 track-card",4,"ngFor","ngForOf"],[1,"alert","alert-info"],[1,"card","mb-2","track-card"],[1,"card-body","py-2"],[1,"row","align-items-center"],[1,"col-3","col-sm-2"],[1,"img-fluid","rounded",3,"src","alt"],[1,"col-5","col-sm-6"],[1,"mb-1","text-truncate"],[1,"text-muted","mb-1","small","text-truncate"],[1,"text-muted","mb-0","small"],[1,"col-4","col-sm-4","text-end"],[1,"btn","btn-success","btn-sm",3,"click"],[1,"fas","fa-thumbs-up","me-1"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"h5",2),x(3,"i",3),I(4,"Buscar canciones en Spotify "),y()(),_(5,"div",4)(6,"div",5)(7,"input",6),H("ngModelChange",function(s){return i.query=s})("keyup.enter",function(){return i.search()}),y(),_(8,"button",7),H("click",function(){return i.search()}),Y(9,yfe,1,0,"i",8),Y(10,vfe,1,0,"i",9),I(11," Buscar "),y()(),Y(12,Ife,4,2,"div",10),y()()),2&r&&(C(7),L("ngModel",i.query),C(1),L("disabled",i.isLoading),C(1),L("ngIf",!i.isLoading),C(1),L("ngIf",i.isLoading),C(2),L("ngIf",i.searchPerformed))},dependencies:[Er,oi,hr,aa,vi,es,co],styles:[".track-card[_ngcontent-%COMP%]{transition:transform .2s,background-color .2s}.track-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);background-color:#282828}.results-container[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}@media (max-width: 576px){.track-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:.75rem}.track-card[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.9rem}.track-card[_ngcontent-%COMP%]   .btn-sm[_ngcontent-%COMP%]{padding:.2rem .5rem;font-size:.8rem}}.text-truncate[_ngcontent-%COMP%]{color:#fff;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"]})}return n})();function Efe(n,e){1&n&&(_(0,"span"),I(1,"Actualizar"),y())}function Pfe(n,e){1&n&&(_(0,"span"),I(1,"Actualizando..."),y())}function Tfe(n,e){if(1&n&&(_(0,"span"),I(1),y()),2&n){const t=B();C(1),pe("Espera ",t.countdown,"s")}}function Mfe(n,e){1&n&&(_(0,"div",7),x(1,"div",8),_(2,"p"),I(3,"Cargando canciones..."),y()())}function Afe(n,e){if(1&n){const t=Ae();_(0,"div",17)(1,"div",18),x(2,"img",19),y(),_(3,"div",20)(4,"div",21)(5,"h6",22),I(6),y(),_(7,"p",23),I(8),y()(),_(9,"div",24)(10,"span",25),x(11,"i",26),I(12),y()(),_(13,"div")(14,"button",27),H("click",function(){const o=J(t).$implicit;return X(B(3).vote(o,!1))}),x(15,"i",28),I(16),y(),_(17,"button",29),H("click",function(){const o=J(t).$implicit;return X(B(3).vote(o,!0))}),x(18,"i",30),I(19),y()()()()}if(2&n){const t=e.$implicit,r=B(3);C(2),L("src",t.image,sr)("alt",t.name),C(4),ce(t.name),C(2),ce(t.artists.join(", ")),C(4),pe("",r.formatTimeAgo(t.createdat)," "),C(2),me("active",r.hasUserLiked(t.id)),C(2),pe("",t.votes||0," "),C(1),me("active",r.hasUserDisliked(t.id)),C(2),pe("",t.dislikes||0," ")}}function Dfe(n,e){if(1&n&&(_(0,"div",14)(1,"h2"),I(2,"Reci\xe9n Agregadas"),y(),_(3,"div",15),Y(4,Afe,20,11,"div",16),y()()),2&n){const t=B(2);C(4),L("ngForOf",t.recentlyAddedSongs)}}function Sfe(n,e){if(1&n){const t=Ae();_(0,"tr")(1,"td"),I(2),y(),_(3,"td")(4,"div",31),x(5,"img",32),_(6,"span"),I(7),y()()(),_(8,"td"),I(9),y(),_(10,"td")(11,"span",33),x(12,"i",28),I(13),y(),_(14,"span",34),x(15,"i",30),I(16),y()(),_(17,"td")(18,"span",35),I(19),y()(),_(20,"td")(21,"div",36)(22,"button",27),H("click",function(){const o=J(t).$implicit;return X(B(2).vote(o,!1))}),x(23,"i",28),y(),_(24,"button",29),H("click",function(){const o=J(t).$implicit;return X(B(2).vote(o,!0))}),x(25,"i",30),y()()()()}if(2&n){const t=e.$implicit,r=e.index,i=B(2);C(2),ce(r+1),C(3),L("src",t.image,sr)("alt",t.name),C(2),ce(t.name),C(2),ce(t.artists.join(", ")),C(4),pe(" ",t.votes||0," "),C(3),pe(" ",t.dislikes||0," "),C(3),ce(i.formatTimeAgo(t.createdat)),C(3),me("active",i.hasUserLiked(t.id)),C(2),me("active",i.hasUserDisliked(t.id))}}function xfe(n,e){if(1&n&&(_(0,"div",9),Y(1,Dfe,5,1,"div",10),_(2,"h2"),I(3,"Ranking General"),y(),_(4,"div",11)(5,"table",12)(6,"thead")(7,"tr")(8,"th"),I(9,"#"),y(),_(10,"th"),I(11,"T\xedtulo"),y(),_(12,"th"),I(13,"Artista"),y(),_(14,"th"),I(15,"Votos"),y(),_(16,"th"),I(17,"Agregada"),y(),_(18,"th"),I(19,"Acci\xf3n"),y()()(),_(20,"tbody"),Y(21,Sfe,26,12,"tr",13),y()()()()),2&n){const t=B();C(1),L("ngIf",t.recentlyAddedSongs.length>0),C(20),L("ngForOf",t.songs)}}let Ofe=(()=>{class n{votingService;songs=[];recentlyAddedSongs=[];isLoading=!0;isRefreshing=!1;userVotes=new Map;pollingSubscription=null;refreshCooldown=30;countdown=0;timerSubscription=null;constructor(t){this.votingService=t}ngOnInit(){this.startPolling()}ngOnDestroy(){this.pollingSubscription&&this.pollingSubscription.unsubscribe(),this.timerSubscription&&this.timerSubscription.unsubscribe()}startPolling(){this.pollingSubscription=this.votingService.getRankedSongsPolling().subscribe({next:t=>{this.songs=t,this.votingService.getRecentlyAddedSongs().subscribe({next:r=>{this.recentlyAddedSongs=r}}),this.isLoading=!1},error:t=>{console.error("Error al cargar canciones:",t),this.isLoading=!1}})}forceRefresh(){this.isRefreshing||this.countdown>0||(this.isRefreshing=!0,this.votingService.forceRefresh().subscribe({next:t=>{this.songs=t,this.votingService.getRecentlyAddedSongs().subscribe({next:r=>{this.recentlyAddedSongs=r,this.isRefreshing=!1,this.startCooldown()}})},error:t=>{console.error("Error al forzar actualizaci\xf3n:",t),this.isRefreshing=!1,this.startCooldown()}}))}hasUserLiked(t){return this.userVotes.has(t)&&!1===this.userVotes.get(t)}hasUserDisliked(t){return this.userVotes.has(t)&&!0===this.userVotes.get(t)}formatTimeAgo(t){try{if(!t)return"reciente";let r;if("string"!=typeof t)return"Reciente";if(r=t.includes("Z")||t.includes("+")?new Date(t):new Date(t+"Z"),isNaN(r.getTime()))return console.warn("Fecha inv\xe1lida:",t),"Reciente";const o=Math.floor(((new Date).getTime()-r.getTime())/1e3),s=Math.floor(o/60),a=Math.floor(o/3600),c=Math.floor(o/86400);return o<60?`${o} s`:s<60?`Hace ${s} min ${o%60} s`:a<24?`Hace ${a} h ${s%60} min`:1===c?"Ayer":`Hace ${c} d`}catch(r){return console.error("Error formateando fecha:",r,"Fecha recibida:",t),"Reciente"}}startCooldown(){this.timerSubscription&&this.timerSubscription.unsubscribe(),this.countdown=this.refreshCooldown,this.timerSubscription=VB(0,1e3).subscribe(()=>{this.countdown>0?this.countdown--:this.timerSubscription&&(this.timerSubscription.unsubscribe(),this.timerSubscription=null)})}vote(t,r=!1){const i={name:t.name,artists:t.artists,image:t.image,album:t.album,preview_url:t.preview_url};this.votingService.voteForSong(t.id,i,r).subscribe({next:o=>{o.deleted?alert("La canci\xf3n ha sido eliminada por recibir muchos dislikes"):(alert(`\xa1Tu ${r?"dislike":"like"} ha sido registrado!`),this.userVotes.set(t.id,r)),this.forceRefresh()},error:o=>{409===o.status?confirm("Ya has votado por esta canci\xf3n. \xbfQuieres cambiar tu voto?")&&this.votingService.changeVote(t.id,i,r).subscribe({next:s=>{s.deleted?alert("La canci\xf3n ha sido eliminada por recibir muchos dislikes"):(alert("\xa1Tu voto ha sido cambiado!"),this.userVotes.set(t.id,r)),this.forceRefresh()},error:s=>{alert("Error al cambiar tu voto. Intenta nuevamente.")}}):alert("Error al registrar tu voto. Intenta nuevamente.")}})}static \u0275fac=function(r){return new(r||n)(z(Tu))};static \u0275cmp=Tn({type:n,selectors:[["app-voting-list"]],standalone:!0,features:[kn],decls:11,vars:8,consts:[[1,"spotify-container"],[1,"header"],[1,"btn-refresh",3,"disabled","click"],[1,"fas","fa-sync-alt"],[4,"ngIf"],["class","loader",4,"ngIf"],["class","content",4,"ngIf"],[1,"loader"],[1,"spinner"],[1,"content"],["class","recently-added",4,"ngIf"],[1,"song-table-container"],[1,"song-table"],[4,"ngFor","ngForOf"],[1,"recently-added"],[1,"recent-songs-grid"],["class","recent-song-card",4,"ngFor","ngForOf"],[1,"recent-song-card"],[1,"recent-song-image-container"],[1,"recent-song-image",3,"src","alt"],[1,"recent-song-content"],[1,"recent-song-info"],[1,"recent-song-title"],[1,"recent-song-artist"],[1,"recent-song-meta"],[1,"badge","bg-secondary"],[1,"fas","fa-clock","me-1"],[1,"btn-vote","like-btn",3,"click"],[1,"fas","fa-thumbs-up"],[1,"btn-vote","dislike-btn",3,"click"],[1,"fas","fa-thumbs-down"],[1,"song-cell"],[3,"src","alt"],[1,"vote-count"],[1,"dislike-count"],[1,"time-ago"],[1,"vote-actions"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"h1"),I(3,"Votaci\xf3n de Canciones"),y(),_(4,"button",2),H("click",function(){return i.forceRefresh()}),x(5,"i",3),Y(6,Efe,2,0,"span",4),Y(7,Pfe,2,0,"span",4),Y(8,Tfe,2,1,"span",4),y()(),Y(9,Mfe,4,0,"div",5),Y(10,xfe,22,2,"div",6),y()),2&r&&(C(4),L("disabled",i.isRefreshing||i.countdown>0),C(1),me("fa-spin",i.isRefreshing),C(1),L("ngIf",!i.isRefreshing&&0===i.countdown),C(1),L("ngIf",i.isRefreshing),C(1),L("ngIf",!i.isRefreshing&&i.countdown>0),C(1),L("ngIf",i.isLoading),C(1),L("ngIf",!i.isLoading))},dependencies:[Er,oi,hr],styles:['.spotify-container[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border:1px solid rgba(255,255,255,.1);border-radius:16px;padding:2rem;color:var(--text-primary);box-shadow:0 10px 30px #0003;margin-bottom:2rem}.spotify-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding-bottom:1rem;border-bottom:1px solid rgba(255,255,255,.1)}.spotify-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:800;background:linear-gradient(135deg,var(--text-primary) 0%,var(--primary-color) 100%);-webkit-text-fill-color:transparent;-webkit-background-clip:text;background-clip:text;margin:0}.btn-refresh[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color) 0%,#1aa34a 100%);color:var(--text-primary);border:none;padding:.8rem 1.5rem;border-radius:50px;cursor:pointer;font-weight:700;transition:all .3s ease;display:flex;align-items:center;gap:.5rem;box-shadow:0 5px 15px #1db9544d}.btn-refresh[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 8px 20px #1db95466}.btn-refresh[_ngcontent-%COMP%]:disabled{opacity:.7;transform:none;box-shadow:none;cursor:not-allowed}.loader[_ngcontent-%COMP%]{text-align:center;padding:3rem}.loader[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{border:4px solid rgba(255,255,255,.2);border-left-color:var(--primary-color);border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem;box-shadow:0 0 15px #1db9544d}.loader[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:1rem}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin-bottom:1.5rem;padding-bottom:.8rem;border-bottom:2px solid rgba(255,255,255,.1);color:var(--text-primary)}.recently-added[_ngcontent-%COMP%]{margin-bottom:3rem}.recently-added[_ngcontent-%COMP%]   .song-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.8rem}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]{display:flex;align-items:center;background:rgba(42,42,42,.5);padding:1rem;border-radius:12px;transition:all .3s ease;border:1px solid rgba(255,255,255,.05)}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]:hover{background:rgba(42,42,42,.7);transform:translateY(-3px);border-color:#1db95433;box-shadow:0 8px 25px #0003}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:8px;margin-right:1rem;box-shadow:0 4px 15px #0000004d;transition:all .3s ease}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]{flex-grow:1;min-width:0}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;margin:0;color:var(--text-primary)}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary);margin:.3rem 0 0}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]   .song-actions[_ngcontent-%COMP%]{margin-left:1rem}.song-table-container[_ngcontent-%COMP%]{overflow-x:auto;border-radius:12px;background:rgba(42,42,42,.3);padding:1rem}.song-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.song-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .song-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;text-align:left;border-bottom:1px solid rgba(255,255,255,.1)}.song-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.9rem;text-transform:uppercase;font-weight:600;letter-spacing:.5px}.song-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:all .3s ease}.song-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.05)}.song-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.song-cell[_ngcontent-%COMP%]{display:flex;align-items:center}.song-cell[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:8px;margin-right:1rem;box-shadow:0 4px 15px #0000004d}.vote-count[_ngcontent-%COMP%]{display:flex;align-items:center;font-weight:700;color:var(--text-primary)}.vote-count[_ngcontent-%COMP%]   .fa-thumbs-up[_ngcontent-%COMP%]{color:var(--primary-color);margin-right:.5rem;font-size:1.1rem}.btn-vote[_ngcontent-%COMP%]{background:transparent;color:var(--primary-color);border:2px solid var(--primary-color);padding:.5rem 1.2rem;border-radius:50px;cursor:pointer;transition:all .3s ease;font-weight:700}.btn-vote[_ngcontent-%COMP%]:hover{background:var(--primary-color);color:var(--text-primary);transform:translateY(-2px);box-shadow:0 5px 15px #1db9544d}.btn-vote-small[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color) 0%,#1aa34a 100%);color:var(--text-primary);border:none;padding:.6rem 1.2rem;border-radius:50px;cursor:pointer;font-weight:700;transition:all .3s ease;box-shadow:0 4px 12px #1db9544d}.btn-vote-small[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 16px #1db95466}@media (max-width: 768px){.spotify-container[_ngcontent-%COMP%]{padding:1.5rem}.header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.song-table[_ngcontent-%COMP%]{font-size:.9rem}.song-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .song-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.8rem}.song-cell[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.song-cell[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:0;margin-bottom:.5rem}}.recently-added[_ngcontent-%COMP%]{margin-bottom:2rem}.recently-added[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;margin-bottom:1rem;padding-bottom:.5rem;border-bottom:2px solid rgba(255,255,255,.1);color:var(--text-primary)}.recent-songs-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1rem;margin-bottom:1.5rem}.recent-song-card[_ngcontent-%COMP%]{background:rgba(42,42,42,.5);border-radius:10px;padding:.8rem;display:flex;align-items:center;transition:all .3s ease;border:1px solid rgba(255,255,255,.05);position:relative;overflow:hidden;gap:.8rem;min-height:80px}.recent-song-card[_ngcontent-%COMP%]:hover{background:rgba(42,42,42,.7);transform:translateY(-3px);border-color:#1db95433;box-shadow:0 5px 15px #0003}.recent-song-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:3px;height:100%;background:linear-gradient(to bottom,var(--primary-color),var(--accent-purple))}.recent-song-image-container[_ngcontent-%COMP%]{flex-shrink:0;width:50px;height:50px;border-radius:6px;overflow:hidden;position:relative}.recent-song-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .3s ease}.recent-song-card[_ngcontent-%COMP%]:hover   .recent-song-image[_ngcontent-%COMP%]{transform:scale(1.1)}.recent-song-content[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;gap:.4rem;min-width:0}.recent-song-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{display:flex;gap:.5rem;margin-top:.3rem}.recent-song-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child   .btn-vote[_ngcontent-%COMP%]{padding:.25rem .6rem;font-size:.75rem;border-radius:4px;min-width:auto}.recent-song-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child   .btn-vote[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.7rem;margin-right:.3rem}.recent-song-info[_ngcontent-%COMP%]{min-width:0}.recent-song-title[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:var(--text-primary);margin:0;line-height:1.2;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}.recent-song-artist[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-secondary);margin:0;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}.recent-song-meta[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.recent-song-meta[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.3rem .6rem;border-radius:12px;font-size:.7rem;font-weight:600}.recent-song-meta[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.6rem}.dislike-btn[_ngcontent-%COMP%]{background:transparent;color:#f44336;border:2px solid #f44336}.dislike-btn[_ngcontent-%COMP%]:hover, .dislike-btn.active[_ngcontent-%COMP%]{background:#f44336;color:#fff}.like-btn[_ngcontent-%COMP%]{background:transparent;color:var(--primary-color);border:2px solid var(--primary-color)}.like-btn[_ngcontent-%COMP%]:hover, .like-btn.active[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff}.vote-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.vote-actions[_ngcontent-%COMP%]   .btn-vote[_ngcontent-%COMP%]{padding:.3rem .6rem;border-radius:4px;font-size:.8rem}.dislike-count[_ngcontent-%COMP%]{display:flex;align-items:center;font-weight:700;color:#f44336;margin-left:1rem}.dislike-count[_ngcontent-%COMP%]   .fa-thumbs-down[_ngcontent-%COMP%]{margin-right:.3rem;font-size:.9rem}.recent-song-actions[_ngcontent-%COMP%]{flex-shrink:0}.recent-song-actions[_ngcontent-%COMP%]   .btn-vote[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color) 0%,#1aa34a 100%);color:var(--text-primary);border:none;width:32px;height:32px;border-radius:50%;cursor:pointer;font-weight:600;transition:all .3s ease;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px #1db9544d}.recent-song-actions[_ngcontent-%COMP%]   .btn-vote[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 4px 12px #1db95466}.recent-song-actions[_ngcontent-%COMP%]   .btn-vote[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem}@media (max-width: 1024px){.recent-songs-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(250px,1fr))}}@media (max-width: 768px){.recent-songs-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:.8rem}.recent-song-card[_ngcontent-%COMP%]{padding:.7rem;gap:.6rem}.recent-song-image-container[_ngcontent-%COMP%]{width:45px;height:45px}.recent-song-title[_ngcontent-%COMP%]{font-size:.85rem}.recent-song-artist[_ngcontent-%COMP%]{font-size:.7rem}}@media (max-width: 480px){.recent-songs-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.recent-song-meta[_ngcontent-%COMP%]{flex-wrap:wrap;gap:.3rem}.recent-song-actions[_ngcontent-%COMP%]   .btn-vote[_ngcontent-%COMP%]{width:28px;height:28px}.recent-song-actions[_ngcontent-%COMP%]   .btn-vote[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.7rem}}']})}return n})(),X1=(()=>{class n{http;authService;apiUrl=Gr_apiUrl;automaticCheckInterval=null;constructor(t,r){this.http=t,this.authService=r,this.startAutomaticPlayingSongCheck(5e3)}getCacheBustedUrl(t){return`${t}?_=${(new Date).getTime()}`}startAutomaticPlayingSongCheck(t=3e4){this.stopAutomaticPlayingSongCheck(),this.automaticCheckInterval=setInterval(()=>{this.checkAndRemovePlayingSongFromRanking().subscribe({next:r=>{r.deleted&&alert(`Canci\xf3n eliminada autom\xe1ticamente del ranking: ${r.song.name}`)},error:r=>{console.error("Error en verificaci\xf3n autom\xe1tica:",r)}})},t)}playTrack(t){const r=this.authService.getAuthHeaders();return this.http.post(`${this.apiUrl}/api/spotify/admin/play`,{uri:t},{headers:r})}pausePlayback(){const t=this.authService.getAuthHeaders();return this.http.put(`${this.apiUrl}/api/spotify/admin/pause`,{},{headers:t})}resumePlayback(){const t=this.authService.getAuthHeaders();return this.http.put(`${this.apiUrl}/api/spotify/admin/resume`,{},{headers:t})}nextTrack(){const t=this.authService.getAuthHeaders();return this.http.post(`${this.apiUrl}/api/spotify/admin/next`,{},{headers:t})}previousTrack(){const t=this.authService.getAuthHeaders();return this.http.post(`${this.apiUrl}/api/spotify/admin/previous`,{},{headers:t})}stopAutomaticPlayingSongCheck(){this.automaticCheckInterval&&(clearInterval(this.automaticCheckInterval),this.automaticCheckInterval=null)}getAdminCurrentlyPlaying(){const t=this.getCacheBustedUrl(`${this.apiUrl}/api/spotify/admin/currently-playing`);return this.http.get(t).pipe(Tr(r=>401===r.status?this.refreshAdminToken().pipe(Pn(()=>{const i=this.getCacheBustedUrl(`${this.apiUrl}/api/spotify/admin/currently-playing`);return this.http.get(i)}),Tr(i=>(console.error("Error al refrescar token:",i),ji(()=>i)))):ji(()=>r)))}refreshAdminToken(){const t=this.authService.getAuthHeaders();return this.http.post(`${this.apiUrl}/api/spotify/admin/refresh-token`,{},{headers:t})}getAdminCurrentlyPlayingPolling(){return uo(3e3).pipe(Fp(0),Pn(()=>this.getAdminCurrentlyPlaying()))}getAdminSpotifyStatus(){const t=this.getCacheBustedUrl(`${this.apiUrl}/api/spotify/admin/status`);return this.http.get(t)}startAdminSpotifyAuth(){const t=this.getCacheBustedUrl(`${this.apiUrl}/api/spotify/admin/auth`);return this.http.get(t)}disconnectAdminSpotify(){const t=this.authService.getAuthHeaders();return this.http.post(`${this.apiUrl}/api/spotify/admin/disconnect`,{},{headers:t})}startSpotifyAuth(){const t=this.getCacheBustedUrl(`${this.apiUrl}/api/spotify/auth`);return this.http.get(t)}getCurrentlyPlaying(){const t=this.getCacheBustedUrl(`${this.apiUrl}/api/spotify/currently-playing`);return this.http.get(t)}getCurrentlyPlayingPolling(){return uo(3e3).pipe(Fp(0),Pn(()=>this.getCurrentlyPlaying()))}addToQueue(t){const r=this.authService.getAuthHeaders();return this.http.post(`${this.apiUrl}/api/spotify/admin/queue`,{uri:t},{headers:r})}checkAndRemovePlayingSongFromRanking(){const t=this.authService.getAuthHeaders();return this.http.post(`${this.apiUrl}/api/spotify/admin/check-playing-song`,{},{headers:t})}getQueue(){const t=this.authService.getAuthHeaders();return this.http.get(`${this.apiUrl}/api/spotify/admin/queue`,{headers:t})}addToHistory(){const t=this.authService.getAuthHeaders();return this.http.post(`${this.apiUrl}/api/spotify/admin/add-to-history`,{},{headers:t})}addToHistoryConfirmed(){const t=this.authService.getAuthHeaders();return this.http.post(`${this.apiUrl}/api/spotify/admin/add-to-history-confirmed`,{},{headers:t})}static \u0275fac=function(r){return new(r||n)(se(Hr),se(ca))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Rfe(n,e){1&n&&x(0,"div",21)}function kfe(n,e){1&n&&x(0,"div",21)}function Nfe(n,e){1&n&&x(0,"div",21)}function Ffe(n,e){if(1&n&&(_(0,"div",22),x(1,"i",23),_(2,"span"),I(3),y()()),2&n){const t=B(2);C(3),pe("Votaste por: ",t.getVoteTypeName(t.lastVoteType),"")}}function Vfe(n,e){if(1&n){const t=Ae();_(0,"div",1)(1,"div",2),x(2,"div",3),y(),_(3,"div",4)(4,"div",5)(5,"div",6),x(6,"i",7),_(7,"span"),I(8),y()(),_(9,"button",8),H("click",function(){return J(t),X(B().forceRefresh())}),x(10,"i",9),y()()(),_(11,"div",10)(12,"button",11),H("click",function(){return J(t),X(B().vote("next"))}),_(13,"div",12),x(14,"i",13),_(15,"span"),I(16,"Siguiente"),y(),_(17,"div",14),I(18),y()(),Y(19,Rfe,1,0,"div",15),y(),_(20,"button",16),H("click",function(){return J(t),X(B().vote("genre_change"))}),_(21,"div",12),x(22,"i",17),_(23,"span"),I(24,"Cambiar g\xe9nero"),y(),_(25,"div",14),I(26),y()(),Y(27,kfe,1,0,"div",15),y(),_(28,"button",18),H("click",function(){return J(t),X(B().vote("repeat"))}),_(29,"div",12),x(30,"i",19),_(31,"span"),I(32,"Mismo g\xe9nero"),y(),_(33,"div",14),I(34),y()(),Y(35,Nfe,1,0,"div",15),y()(),Y(36,Ffe,4,1,"div",20),y()}if(2&n){const t=B();C(1),me("visible",t.isLoading),C(7),pe("",t.votingStatus.total_votes," votos (beta) "),C(4),me("voted",t.hasVoted("next")),L("disabled",t.hasVoted("next")||t.isLoading),C(5),me("updating",t.isUpdatingNext),C(1),pe(" ",t.votingStatus.votes.next," "),C(1),L("ngIf",t.hasVoted("next")),C(1),me("voted",t.hasVoted("genre_change")),L("disabled",t.hasVoted("genre_change")||t.isLoading),C(5),me("updating",t.isUpdatingGenre),C(1),pe(" ",t.votingStatus.votes.genre_change," "),C(1),L("ngIf",t.hasVoted("genre_change")),C(1),me("voted",t.hasVoted("repeat")),L("disabled",t.hasVoted("repeat")||t.isLoading),C(5),me("updating",t.isUpdatingRepeat),C(1),pe(" ",t.votingStatus.votes.repeat," "),C(1),L("ngIf",t.hasVoted("repeat")),C(1),L("ngIf",t.lastVoteType)}}let Lfe=(()=>{class n{votingService;spotifyService;cdr;votingStatus=null;currentSong=null;userVotes=[];lastVoteType="";isLoading=!1;isUpdatingNext=!1;isUpdatingGenre=!1;isUpdatingRepeat=!1;votingSubscription;songSubscription;statusPollingSubscription;constructor(t,r,i){this.votingService=t,this.spotifyService=r,this.cdr=i}ngOnInit(){this.loadVotingStatus(),this.votingSubscription=uo(2e3).subscribe(()=>{this.loadVotingStatus()}),this.songSubscription=this.spotifyService.getAdminCurrentlyPlayingPolling().subscribe(t=>{this.currentSong=t,t&&t.id!==this.votingStatus?.current_song_id&&(this.userVotes=[],this.lastVoteType="",this.loadVotingStatus())})}forceRefresh(){this.loadVotingStatus(),this.showNotification("Votaciones actualizadas","success")}ngOnDestroy(){this.votingSubscription&&this.votingSubscription.unsubscribe(),this.songSubscription&&this.songSubscription.unsubscribe(),this.statusPollingSubscription&&this.statusPollingSubscription.unsubscribe()}loadVotingStatus(){this.votingService.getVotingStatusImmediate().subscribe({next:t=>{t&&t.votes?this.votingStatus=t:console.warn("Datos de votaci\xf3n inv\xe1lidos recibidos:",t)},error:t=>{console.error("Error loading voting status:",t),setTimeout(()=>this.loadVotingStatus(),1e3)}})}vote(t){this.hasVoted(t)?this.showNotification("Ya has votado por esta opci\xf3n","warning"):this.votingService.submitVote(t).subscribe({next:r=>{this.userVotes.push(t),this.lastVoteType=t,this.votingStatus=r.status,this.showNotification(`Voto registrado: ${this.getVoteTypeName(t)}`,"success"),this.loadVotingStatus(),this.cdr.detectChanges(),setTimeout(()=>{this.lastVoteType="",this.cdr.detectChanges()},3e3)},error:r=>{console.error("Error submitting vote:",r);let i="Error al votar";r.message.includes("Ya has votado por")&&(this.userVotes.push(t),i=r.message,this.loadVotingStatus()),this.showNotification(i,"warning"),this.cdr.detectChanges()}})}showNotification(t,r){const i=document.createElement("div");i.style.cssText="\n      position: fixed;\n      top: 20px;\n      right: 20px;\n      padding: 12px 20px;\n      border-radius: 8px;\n      color: white;\n      font-weight: 600;\n      z-index: 1000;\n      animation: slideIn 0.3s ease;\n    ",i.style.background="success"===r?"linear-gradient(135deg, #1ed760, #19a34a)":"error"===r?"linear-gradient(135deg, #ff4d4d, #cc0000)":"linear-gradient(135deg, #ff9a00, #e67e00)",i.textContent=t,document.body.appendChild(i),setTimeout(()=>{i.style.animation="slideOut 0.3s ease",setTimeout(()=>{document.body.contains(i)&&document.body.removeChild(i)},300)},3e3)}hasVoted(t){return this.userVotes.includes(t)}getVoteTypeName(t){return{next:"siguiente canci\xf3n",genre_change:"cambiar de g\xe9nero",repeat:"mantener g\xe9nero"}[t]||t}static \u0275fac=function(r){return new(r||n)(z(Tu),z(X1),z(pc))};static \u0275cmp=Tn({type:n,selectors:[["app-voting"]],standalone:!0,features:[kn],decls:1,vars:1,consts:[["class","voting-container",4,"ngIf"],[1,"voting-container"],[1,"loading-overlay"],[1,"spinner"],[1,"voting-header"],[1,"header-controls"],[1,"total-votes"],[1,"fas","fa-users"],["title","Actualizar votos",1,"refresh-btn",3,"click"],[1,"fas","fa-sync-alt"],[1,"voting-options"],[1,"vote-btn","next",3,"disabled","click"],[1,"btn-content"],[1,"fas","fa-forward"],[1,"vote-count"],["class","pulse-ring",4,"ngIf"],[1,"vote-btn","genre",3,"disabled","click"],[1,"fas","fa-random"],[1,"vote-btn","repeat",3,"disabled","click"],[1,"fas","fa-redo"],["class","voting-feedback",4,"ngIf"],[1,"pulse-ring"],[1,"voting-feedback"],[1,"fas","fa-check-circle"]],template:function(r,i){1&r&&Y(0,Vfe,37,25,"div",0),2&r&&L("ngIf",i.votingStatus&&(null==i.currentSong?null:i.currentSong.is_playing))},dependencies:[Er,hr],styles:['.voting-container[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(30,215,96,.15),rgba(29,185,84,.1));-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-radius:16px;padding:1rem;margin:1rem 0;border:1px solid rgba(30,215,96,.3);width:100%;max-width:100%;box-shadow:0 0 20px #1ed76040,inset 0 1px #ffffff1a;position:relative;overflow:hidden}.voting-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:2px;background:linear-gradient(90deg,transparent,rgba(30,215,96,.8),transparent);animation:_ngcontent-%COMP%_neonGlow 3s ease-in-out infinite}.voting-header[_ngcontent-%COMP%]{margin-bottom:1rem;text-align:center}.voting-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#1ed760;margin:0 0 .5rem;font-weight:700;font-size:1.1rem;text-shadow:0 0 10px rgba(30,215,96,.5);letter-spacing:.5px}.total-votes[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;color:#ffffffb3;font-size:.85rem}.total-votes[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#1ed760}.voting-options[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:.8rem;margin-bottom:1rem}.vote-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:.8rem .5rem;border:2px solid rgba(30,215,96,.3);border-radius:12px;background:rgba(25,20,20,.6);color:#fff;transition:all .3s ease;cursor:pointer;flex:1;min-width:0;min-height:80px;position:relative}.vote-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:rgba(30,215,96,.2);border-color:#1ed760;transform:translateY(-2px);box-shadow:0 5px 15px #1ed7604d}.vote-btn[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.vote-btn.voted[_ngcontent-%COMP%]{background:rgba(30,215,96,.25);border-color:#1ed760}.vote-btn.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .vote-btn.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .vote-btn.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   .vote-count[_ngcontent-%COMP%]{color:#1ed760;text-shadow:0 0 8px rgba(30,215,96,.6)}.vote-btn.next[_ngcontent-%COMP%]{border-color:#1ed76066}.vote-btn.next[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#1ed760}.vote-btn.genre[_ngcontent-%COMP%]{border-color:#569af766}.vote-btn.genre[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#569af7}.vote-btn.genre.voted[_ngcontent-%COMP%]{background:rgba(86,154,247,.25);border-color:#569af7}.vote-btn.genre.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .vote-btn.genre.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .vote-btn.genre.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   .vote-count[_ngcontent-%COMP%]{color:#569af7;text-shadow:0 0 8px rgba(86,154,247,.6)}.vote-btn.repeat[_ngcontent-%COMP%]{border-color:#ff9a0066}.vote-btn.repeat[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#ff9a00}.vote-btn.repeat.voted[_ngcontent-%COMP%]{background:rgba(255,154,0,.25);border-color:#ff9a00}.vote-btn.repeat.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .vote-btn.repeat.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .vote-btn.repeat.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   .vote-count[_ngcontent-%COMP%]{color:#ff9a00;text-shadow:0 0 8px rgba(255,154,0,.6)}.btn-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.4rem;z-index:2}.btn-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;transition:all .3s ease}.btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;font-size:.75rem;text-align:center;transition:all .3s ease}.btn-content[_ngcontent-%COMP%]   .vote-count[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;color:#fff;transition:all .3s ease}.pulse-ring[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:60px;height:60px;border:2px solid #1ed760;border-radius:50%;animation:_ngcontent-%COMP%_pulse 2s infinite;opacity:.6}.voting-feedback[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;padding-top:.8rem;border-top:1px solid rgba(255,255,255,.1);color:#1ed760;font-weight:600;font-size:.9rem}.voting-feedback[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bounce .5s ease-in-out}@keyframes _ngcontent-%COMP%_neonGlow{0%,to{opacity:.5}50%{opacity:1}}@keyframes _ngcontent-%COMP%_pulse{0%{transform:translate(-50%,-50%) scale(.8);opacity:.6}50%{transform:translate(-50%,-50%) scale(1.1);opacity:.3}to{transform:translate(-50%,-50%) scale(.8);opacity:.6}}@keyframes _ngcontent-%COMP%_bounce{0%,20%,50%,80%,to{transform:translateY(0)}40%{transform:translateY(-5px)}60%{transform:translateY(-3px)}}@media (max-width: 768px){.voting-container[_ngcontent-%COMP%]{padding:.8rem;margin:.8rem 0}.voting-options[_ngcontent-%COMP%]{gap:.5rem}.vote-btn[_ngcontent-%COMP%]{padding:.6rem .4rem;min-height:70px}.vote-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.vote-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.7rem}.vote-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   .vote-count[_ngcontent-%COMP%]{font-size:.9rem}.voting-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 480px){.voting-options[_ngcontent-%COMP%]{flex-direction:column;gap:.6rem}.vote-btn[_ngcontent-%COMP%]{min-height:60px;flex-direction:row;justify-content:flex-start;padding:.8rem}.vote-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]{flex-direction:row;gap:.8rem;align-items:center}.vote-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:0}.vote-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8rem;flex-grow:1;text-align:left}.vote-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   .vote-count[_ngcontent-%COMP%]{font-size:1rem}}.voting-container[_ngcontent-%COMP%]{position:relative}.loading-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:rgba(0,0,0,.7);display:flex;align-items:center;justify-content:center;border-radius:16px;z-index:10;opacity:0;visibility:hidden;transition:all .3s ease}.loading-overlay.visible[_ngcontent-%COMP%]{opacity:1;visibility:visible}.loading-overlay[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:30px;height:30px;border:3px solid rgba(30,215,96,.3);border-top:3px solid #1ed760;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.vote-count[_ngcontent-%COMP%]{transition:all .3s ease}.vote-count.updating[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulseUpdate .5s ease;color:#1ed760}@keyframes _ngcontent-%COMP%_pulseUpdate{0%{transform:scale(1)}50%{transform:scale(1.2)}to{transform:scale(1)}}.header-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.refresh-btn[_ngcontent-%COMP%]{background:rgba(255,255,255,.1);border:none;border-radius:50%;width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease}.refresh-btn[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.2);transform:rotate(180deg)}.refresh-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff;font-size:14px}']})}return n})();function Ufe(n,e){if(1&n){const t=Ae();_(0,"div",6)(1,"div",7),x(2,"img",8),y(),_(3,"div",9)(4,"div",10)(5,"h3",11),I(6),y(),_(7,"p",12),I(8),y()(),_(9,"div",13)(10,"span",14),I(11),y(),_(12,"div",15),x(13,"div",16),y(),_(14,"span",14),I(15),y()()(),_(16,"div",17)(17,"button",18),H("click",function(){return J(t),X(B().forceUpdate())}),x(18,"i",19),y()()()}if(2&n){const t=B();C(2),ep("alt","Car\xe1tula de ",t.adminCurrentlyPlaying.name,""),L("src",t.adminCurrentlyPlaying.image,sr),C(4),ce(t.adminCurrentlyPlaying.name),C(2),ce(t.adminCurrentlyPlaying.artists),C(3),ce(t.formatTime(t.progress*t.songDurationMs/100)),C(2),bl("width",t.progress,"%"),C(2),ce(t.formatTime(t.songDurationMs)),C(2),L("disabled",t.isUpdating),C(1),me("fa-spin",t.isUpdating)}}function Bfe(n,e){1&n&&x(0,"app-voting")}function jfe(n,e){1&n&&(_(0,"div",20)(1,"div",21),x(2,"i",22),_(3,"p",23),I(4,"No hay m\xfasica sonando."),y()()())}let LB=(()=>{class n{spotifyService;votingService;adminCurrentlyPlaying=null;progress=0;songDurationMs=0;isUpdating=!1;pollingSubscription=null;progressInterval=null;songInitialProgressMs=0;lastSyncTime=0;constructor(t,r){this.spotifyService=t,this.votingService=r}ngOnInit(){this.startAdminSpotifyPolling()}ngOnDestroy(){this.pollingSubscription&&this.pollingSubscription.unsubscribe(),this.stopProgressBar()}startAdminSpotifyPolling(){this.pollingSubscription=this.spotifyService.getAdminCurrentlyPlayingPolling().subscribe({next:t=>{t&&t.is_playing?this.adminCurrentlyPlaying&&this.adminCurrentlyPlaying.id===t.id?this.syncProgressBar(t.progress_ms,t.duration_ms):(this.adminCurrentlyPlaying=t,this.startProgressBar(t.progress_ms,t.duration_ms),this.checkAndRemovePlayingSong()):(this.adminCurrentlyPlaying=null,this.stopProgressBar())},error:t=>{console.error("Error al obtener reproducci\xf3n actual del admin:",t),this.adminCurrentlyPlaying=null,this.stopProgressBar()}})}forceUpdate(){this.isUpdating||(this.isUpdating=!0,this.spotifyService.getAdminCurrentlyPlaying().subscribe({next:t=>{t&&t.is_playing?this.adminCurrentlyPlaying&&this.adminCurrentlyPlaying.id===t.id?this.syncProgressBar(t.progress_ms,t.duration_ms):(this.adminCurrentlyPlaying=t,this.startProgressBar(t.progress_ms,t.duration_ms)):(this.adminCurrentlyPlaying=null,this.stopProgressBar()),this.isUpdating=!1},error:t=>{console.error("Error al forzar la actualizaci\xf3n:",t),this.adminCurrentlyPlaying=null,this.stopProgressBar(),this.isUpdating=!1}}))}startProgressBar(t,r){this.stopProgressBar(),this.syncProgressBar(t,r),this.progressInterval=setInterval(()=>{this.updateProgress()},500)}syncProgressBar(t,r){this.songInitialProgressMs=t,this.songDurationMs=r,this.lastSyncTime=Date.now(),this.updateProgress()}updateProgress(){if(!this.adminCurrentlyPlaying||this.songDurationMs<=0)return void(this.progress=0);const t=Date.now()-this.lastSyncTime;this.progress=Math.min((this.songInitialProgressMs+t)/this.songDurationMs*100,100),this.progress>=100&&this.stopProgressBar()}stopProgressBar(){this.progressInterval&&(clearInterval(this.progressInterval),this.progressInterval=null)}onVoteCasted(){const t=document.querySelector("app-voting-list");t&&t.forceRefresh&&t.forceRefresh()}checkAndRemovePlayingSong(){this.adminCurrentlyPlaying&&this.adminCurrentlyPlaying.id&&setTimeout(()=>{this.spotifyService.checkAndRemovePlayingSongFromRanking().subscribe({next:t=>{t.deleted&&(console.log("Canci\xf3n eliminada del ranking:",t.song.name),this.votingService.forceRefresh().subscribe())},error:t=>{console.error("Error al verificar canci\xf3n en reproducci\xf3n:",t)}})},3e3)}formatTime(t){if(!t)return"0:00";const r=Math.floor(t/1e3),o=r%60;return`${Math.floor(r/60)}:${o<10?"0":""}${o}`}static \u0275fac=function(r){return new(r||n)(z(X1),z(Tu))};static \u0275cmp=Tn({type:n,selectors:[["app-home"]],standalone:!0,features:[kn],decls:8,vars:3,consts:[[1,"home-container"],["class","now-playing-section compact-card fade-in",4,"ngIf","ngIfElse"],[1,"voting-section"],[4,"ngIf"],["noSongPlaying",""],[3,"voteCasted"],[1,"now-playing-section","compact-card","fade-in"],[1,"album-art-container"],[1,"album-art",3,"src","alt"],[1,"song-info-container"],[1,"song-details"],[1,"song-title"],[1,"song-artist"],[1,"progress-container"],[1,"time-display"],[1,"progress"],[1,"progress-bar"],[1,"update-button-container"],["title","Actualizar",1,"btn","btn-icon",3,"disabled","click"],[1,"fas","fa-sync-alt"],[1,"no-song-playing","compact-card","fade-in"],[1,"card-body"],[1,"fas","fa-music-slash","text-muted"],[1,"text-muted"]],template:function(r,i){if(1&r&&(_(0,"div",0),Y(1,Ufe,19,11,"div",1),_(2,"div",2),Y(3,Bfe,1,0,"app-voting",3),y(),Y(4,jfe,5,0,"ng-template",null,4,dc),_(6,"app-search",5),H("voteCasted",function(){return i.onVoteCasted()}),y(),x(7,"app-voting-list"),y()),2&r){const o=ac(5);C(1),L("ngIf",i.adminCurrentlyPlaying)("ngIfElse",o),C(2),L("ngIf",i.adminCurrentlyPlaying)}},dependencies:[Er,hr,wfe,Ofe,Lfe],styles:['@charset "UTF-8";.home-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.compact-card[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:var(--card-bg);border:1px solid var(--hover-bg);border-radius:12px;overflow:hidden;padding:.2rem;gap:1rem;transition:border-color .3s ease}.compact-card[_ngcontent-%COMP%]:hover{border-color:var(--primary-color)}.album-art-container[_ngcontent-%COMP%]{flex-shrink:0}.album-art[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:8px;box-shadow:0 4px 15px #00000080}.song-info-container[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;justify-content:center;gap:.5rem;min-width:0}.song-details[_ngcontent-%COMP%]   .song-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:var(--text-primary);margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.song-details[_ngcontent-%COMP%]   .song-artist[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary);margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.update-button-container[_ngcontent-%COMP%]{flex-shrink:0;margin-left:auto}.btn-icon[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--text-secondary);font-size:1.2rem;cursor:pointer;padding:.5rem;border-radius:50%}.btn-icon[_ngcontent-%COMP%]:hover{color:var(--text-primary);background-color:var(--hover-bg)}.btn-icon[_ngcontent-%COMP%]:disabled{color:var(--text-tertiary);cursor:not-allowed}.progress-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;width:100%}.progress-container[_ngcontent-%COMP%]   .time-display[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-secondary);min-width:40px;text-align:center}.progress-container[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{flex-grow:1;height:6px;background-color:#444;border-radius:3px;overflow:hidden}.progress-container[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background-color:var(--primary-color);height:100%;transition:width .25s linear}.no-song-playing[_ngcontent-%COMP%]{justify-content:center}.no-song-playing[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.no-song-playing[_ngcontent-%COMP%]   .fa-music-slash[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--text-tertiary)}.no-song-playing[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-secondary);font-weight:500}@media (max-width: 768px){.compact-card[_ngcontent-%COMP%]{padding:.75rem;gap:.75rem}.album-art[_ngcontent-%COMP%]{width:60px;height:60px}.song-details[_ngcontent-%COMP%]   .song-title[_ngcontent-%COMP%]{font-size:1rem}.song-details[_ngcontent-%COMP%]   .song-artist[_ngcontent-%COMP%]{font-size:.8rem}.progress-container[_ngcontent-%COMP%]{max-width:100%}}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out;box-shadow:0 4px 15px #035f0b93}.fade-in[_ngcontent-%COMP%]:hover{box-shadow:0 8px 20px #00000080}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.voting-section[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;margin:1.5rem 0}']})}return n})();const $fe=function(n,e,t,r,i,o){return{width:n,height:e,left:t,top:r,"animation-duration":i,"animation-delay":o}};function Hfe(n,e){if(1&n&&x(0,"div",8),2&n){const t=e.$implicit;L("ngStyle",wR(1,$fe,t.width,t.height,t.left,t.top,t.animationDuration,t.animationDelay))}}function zfe(n,e){if(1&n&&(_(0,"div",19),I(1),y()),2&n){const t=B(2);C(1),pe(" ",t.errorMessage," ")}}function Gfe(n,e){1&n&&x(0,"i",20)}function qfe(n,e){if(1&n){const t=Ae();_(0,"form",9),H("ngSubmit",function(){return J(t),X(B().login())}),_(1,"div",10)(2,"input",11),H("ngModelChange",function(i){return J(t),X(B().email=i)}),y(),_(3,"label",12),I(4,"Email"),y()(),_(5,"div",10)(6,"input",13),H("ngModelChange",function(i){return J(t),X(B().password=i)}),y(),_(7,"label",14),I(8,"Contrase\xf1a"),y()(),Y(9,zfe,2,1,"div",15),_(10,"button",16)(11,"span",17),I(12),y(),Y(13,Gfe,1,0,"i",18),y()()}if(2&n){const t=B();C(2),L("ngModel",t.email),C(4),L("ngModel",t.password),C(3),L("ngIf",t.errorMessage),C(1),L("disabled",t.isLoading),C(2),ce(t.isLoading?"Verificando...":"Ingresar"),C(1),L("ngIf",t.isLoading)}}function Wfe(n,e){1&n&&(_(0,"div",21)(1,"p"),I(2,"Sesi\xf3n iniciada. Redirigiendo al panel de administrador..."),y(),_(3,"a",22),I(4,"Ir al Panel"),y()())}let Kfe=(()=>{class n{authService;router;email="";password="";errorMessage="";isLoading=!1;particles=[];constructor(t,r){this.authService=t,this.router=r}ngOnInit(){document.body.classList.add("login-page-active"),this.createParticles()}ngOnDestroy(){document.body.classList.remove("login-page-active")}createParticles(){for(let r=0;r<15;r++)this.particles.push(this.generateParticle())}generateParticle(){const t=20*Math.random()+20,r=90*Math.random()+15,i=7*Math.random();return{width:`${t}px`,height:`${t}px`,left:100*Math.random()+"%",animationDuration:`${r}s`,animationDelay:`${i}s`}}login(){this.email&&this.password?(this.isLoading=!0,this.errorMessage="",this.authService.login(this.email,this.password).subscribe({next:()=>{this.isLoading=!1,setTimeout(()=>{this.router.navigate(["/admin-panel"])},1500)},error:t=>{this.isLoading=!1,this.errorMessage=this.getFirebaseErrorMessage(t)}})):this.errorMessage="Por favor, completa ambos campos."}getFirebaseErrorMessage(t){switch(t.code){case"auth/invalid-email":return"El formato del correo electr\xf3nico no es v\xe1lido.";case"auth/user-disabled":return"Este usuario ha sido deshabilitado.";case"auth/user-not-found":case"auth/wrong-password":case"auth/invalid-credential":return"Correo electr\xf3nico o contrase\xf1a incorrectos.";case"auth/too-many-requests":return"Acceso bloqueado por demasiados intentos. Intenta de nuevo m\xe1s tarde.";default:return console.error("Error de login no manejado:",t),"Error al iniciar sesi\xf3n. Verifica tus credenciales e intenta de nuevo."}}static \u0275fac=function(r){return new(r||n)(z(ca),z(Vn))};static \u0275cmp=Tn({type:n,selectors:[["app-admin-login"]],standalone:!0,features:[kn],decls:9,vars:3,consts:[[1,"admin-login-wrapper"],[1,"particles"],["class","particle",3,"ngStyle",4,"ngFor","ngForOf"],[1,"login-container"],[1,"glassmorphism-form"],[1,"form-title"],[3,"ngSubmit",4,"ngIf"],["class","logged-in-message",4,"ngIf"],[1,"particle",3,"ngStyle"],[3,"ngSubmit"],[1,"input-group"],["type","email","id","email","name","email","required","","placeholder"," ",1,"form-input",3,"ngModel","ngModelChange"],["for","email",1,"form-label"],["type","password","id","password","name","password","required","","placeholder"," ",1,"form-input",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["class","error-message",4,"ngIf"],["type","submit",1,"login-button",3,"disabled"],[1,"button-text"],["class","fas fa-spinner fa-spin",4,"ngIf"],[1,"error-message"],[1,"fas","fa-spinner","fa-spin"],[1,"logged-in-message"],["routerLink","/admin-panel",1,"admin-link"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1),Y(2,Hfe,1,8,"div",2),y(),_(3,"div",3)(4,"div",4)(5,"h2",5),I(6,"Acceso Administrador"),y(),Y(7,qfe,14,6,"form",6),Y(8,Wfe,5,0,"div",7),y()()()),2&r&&(C(2),L("ngForOf",i.particles),C(5),L("ngIf",!i.authService.isLoggedIn()),C(1),L("ngIf",i.authService.isLoggedIn()))},dependencies:[Er,oi,hr,aN,aa,gB,vi,es,nB,Jm,co,Qm,nd,Ts],styles:['@charset "UTF-8";[_nghost-%COMP%]{--login-bg: #0a0a0a;--glass-bg: rgba(18, 18, 18, .85);--primary-color: #1DB954;--text-primary: #FFFFFF;--text-secondary: #B3B3B3;--hover-bg: rgba(255, 255, 255, .05)}.admin-login-wrapper[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:var(--login-bg);position:relative;overflow:hidden;padding:2rem}.admin-login-wrapper[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at 10% 20%,rgba(29,185,84,.15) 0%,transparent 25%),radial-gradient(circle at 90% 80%,rgba(141,103,171,.15) 0%,transparent 25%),radial-gradient(circle at 50% 50%,rgba(29,185,84,.1) 0%,transparent 40%);z-index:0;pointer-events:none}.particles[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;pointer-events:none}.particle[_ngcontent-%COMP%]{position:absolute;background:rgba(29,185,84,.3);border-radius:50%;animation:_ngcontent-%COMP%_float 6s infinite ease-in-out}.particle[_ngcontent-%COMP%]:nth-child(odd){background:rgba(141,103,171,.3);animation-duration:8s;animation-delay:1s}.particle[_ngcontent-%COMP%]:nth-child(3n){background:rgba(45,70,185,.2);animation-duration:10s;animation-delay:2s}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0) translate(0);opacity:.7}25%{transform:translateY(-20px) translate(10px);opacity:.4}50%{transform:translateY(-35px) translate(-15px);opacity:.6}75%{transform:translateY(-15px) translate(-20px);opacity:.5}}.login-container[_ngcontent-%COMP%]{position:relative;z-index:2;width:100%;max-width:450px}.glassmorphism-form[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,.1);border-radius:20px;padding:2.5rem;box-shadow:0 15px 35px #00000080,0 0 0 1px #ffffff0d;transition:all .4s ease}.glassmorphism-form[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 20px 45px #1db95433,0 0 0 1px #1db9541a}.form-title[_ngcontent-%COMP%]{color:var(--text-primary);text-align:center;margin-bottom:2rem;font-weight:800;font-size:1.8rem;letter-spacing:-.5px;position:relative}.form-title[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;transform:translate(-50%);width:50px;height:3px;background:var(--primary-color);border-radius:2px}.input-group[_ngcontent-%COMP%]{position:relative;margin-bottom:1.8rem}.form-input[_ngcontent-%COMP%]{width:100%;background:rgba(42,42,42,.7);border:1px solid rgba(62,62,62,.5);color:var(--text-primary);border-radius:12px;padding:1rem 1.2rem;font-size:1rem;transition:all .3s ease}.form-input[_ngcontent-%COMP%]:focus{outline:none;background:rgba(42,42,42,.9);border-color:var(--primary-color);box-shadow:0 0 0 3px #1db95433}.form-input[_ngcontent-%COMP%]:focus + .form-label[_ngcontent-%COMP%], .form-input[_ngcontent-%COMP%]:not(:placeholder-shown) + .form-label[_ngcontent-%COMP%]{top:-12px;left:10px;font-size:.8rem;background:var(--glass-bg);padding:0 8px;color:var(--primary-color)}.form-label[_ngcontent-%COMP%]{position:absolute;top:1rem;left:1.2rem;color:var(--text-secondary);font-size:1rem;pointer-events:none;transition:all .3s ease}.error-message[_ngcontent-%COMP%]{background:rgba(226,33,52,.15);color:#e22134;border:1px solid rgba(226,33,52,.2);border-radius:8px;padding:.8rem;margin-bottom:1.5rem;font-size:.9rem;text-align:center}.login-button[_ngcontent-%COMP%]{width:100%;background:linear-gradient(135deg,var(--primary-color) 0%,#1aa34a 100%);color:var(--text-primary);border:none;border-radius:50px;padding:1rem;font-size:1.1rem;font-weight:700;cursor:pointer;transition:all .3s ease;position:relative;overflow:hidden;box-shadow:0 5px 15px #1db9544d}.login-button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:all .5s ease}.login-button[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 8px 20px #1db95466}.login-button[_ngcontent-%COMP%]:hover:before{left:100%}.login-button[_ngcontent-%COMP%]:disabled{opacity:.7;transform:none;box-shadow:none;cursor:not-allowed}.button-text[_ngcontent-%COMP%]{position:relative;z-index:1}.logged-in-message[_ngcontent-%COMP%]{text-align:center;color:var(--text-primary)}.logged-in-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1.5rem;font-size:1.1rem}.admin-link[_ngcontent-%COMP%]{display:inline-block;background:var(--primary-color);color:var(--text-primary);text-decoration:none;padding:.8rem 1.8rem;border-radius:50px;font-weight:700;transition:all .3s ease;box-shadow:0 4px 15px #1db9544d}.admin-link[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #1db95466}@media (max-width: 576px){.admin-login-wrapper[_ngcontent-%COMP%]{padding:1rem}.glassmorphism-form[_ngcontent-%COMP%]{padding:2rem 1.5rem}.form-title[_ngcontent-%COMP%]{font-size:1.5rem}}']})}return n})(),UB=(()=>{class n{http;authService;apiUrl=Gr_apiUrl;constructor(t,r){this.http=t,this.authService=r}getSchedules(){return this.http.get(`${this.apiUrl}/api/schedules`)}updateSchedules(t){const r=this.authService.getAuthHeaders();return this.http.put(`${this.apiUrl}/api/schedules`,t,{headers:r})}static \u0275fac=function(r){return new(r||n)(se(Hr),se(ca))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Qfe=(()=>{class n{http;authService;apiUrl=Gr_apiUrl;constructor(t,r){this.http=t,this.authService=r}getQueue(){const t=this.authService.getAuthHeaders();return this.http.get(`${this.apiUrl}/api/spotify/admin/queue`,{headers:t})}addToQueue(t){const r=this.authService.getAuthHeaders();return this.http.post(`${this.apiUrl}/api/spotify/admin/queue`,{uri:t},{headers:r}).pipe(Tr(i=>{console.error("Error adding to queue:",i);let o="Error desconocido al agregar a la cola";throw i.error?.error?o=i.error.error:401===i.status?o="No autorizado - verifica la conexi\xf3n de Spotify":404===i.status&&(o="Dispositivo de Spotify no encontrado"),new Error(o)}))}static \u0275fac=function(r){return new(r||n)(se(Hr),se(ca))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Yfe(n,e){if(1&n&&(_(0,"div",33),x(1,"i",34),I(2),y()),2&n){const t=B();C(2),pe(" ",t.successMessage," ")}}function Jfe(n,e){if(1&n&&(_(0,"div",35),x(1,"i",36),I(2),y()),2&n){const t=B();C(2),pe(" ",t.errorMessage," ")}}function Xfe(n,e){if(1&n&&(_(0,"div",37),x(1,"i",38),I(2),y()),2&n){const t=B();C(2),pe(" ",t.actionInProgress," ")}}function Zfe(n,e){if(1&n){const t=Ae();_(0,"div",39),x(1,"div",40),_(2,"span",41),I(3),y(),_(4,"button",42),H("click",function(){J(t);const i=B();return X(i.spotifyStatus.authenticated?i.disconnectSpotify():i.connectSpotify())}),I(5),y()()}if(2&n){const t=B();C(1),me("connected",t.spotifyStatus.authenticated&&t.spotifyStatus.token_valid)("disconnected",!t.spotifyStatus.authenticated||!t.spotifyStatus.token_valid),C(2),pe(" ",t.spotifyStatus.authenticated&&t.spotifyStatus.token_valid?"Spotify Conectado":"Spotify Desconectado"," "),C(2),pe(" ",t.spotifyStatus.authenticated?"Desconectar":"Conectar"," ")}}function epe(n,e){if(1&n){const t=Ae();_(0,"div",43)(1,"div",44)(2,"div",45)(3,"div",46),x(4,"i",47),y(),_(5,"div",48)(6,"h3"),I(7),y(),_(8,"p"),I(9,"Canciones en ranking"),y()()(),_(10,"div",45)(11,"div",46),x(12,"i",49),y(),_(13,"div",48)(14,"h3"),I(15),y(),_(16,"p"),I(17,"Total de votos"),y()()(),_(18,"div",45)(19,"div",46),x(20,"i",50),y(),_(21,"div",48)(22,"h3"),I(23),y(),_(24,"p"),I(25,"Votantes \xfanicos"),y()()(),_(26,"div",45)(27,"div",46),x(28,"i",51),y(),_(29,"div",48)(30,"h3"),I(31),y(),_(32,"p"),I(33,"En cola"),y()()()(),_(34,"div",52)(35,"button",53),H("click",function(){return J(t),X(B().loadSongs())}),x(36,"i",54),I(37,"Actualizar Ranking "),y(),_(38,"button",55),H("click",function(){return J(t),X(B().toggleQueue())}),x(39,"i",56),I(40,"Ver Cola "),y(),_(41,"button",57),H("click",function(){return J(t),X(B().getAdminCurrentlyPlaying())}),x(42,"i",58),I(43,"Actualizar Reproducci\xf3n "),y()()()}if(2&n){const t=B();C(7),ce(t.songs.length),C(8),ce(t.totalVotes),C(8),ce(t.uniqueVoters),C(8),ce(t.queue.length)}}function tpe(n,e){if(1&n){const t=Ae();_(0,"div",64)(1,"div",65),x(2,"img",66),_(3,"div",67)(4,"h3"),I(5),y(),_(6,"p",68),I(7),y(),_(8,"div",69)(9,"div",70),x(10,"div",71),y(),_(11,"div",72)(12,"span"),I(13),y(),_(14,"span"),I(15),y()()()(),_(16,"div",73)(17,"button",74),H("click",function(){return J(t),X(B(2).checkPlayingSong())}),x(18,"i",75),y(),_(19,"button",76),H("click",function(){return J(t),X(B(2).checkAddToHistory())}),x(20,"i",51),y()()(),_(21,"div",77)(22,"button",78),H("click",function(){return J(t),X(B(2).previousTrack())}),x(23,"i",79),y(),_(24,"button",80),H("click",function(){return J(t),X(B(2).togglePlayback())}),x(25,"i",31),y(),_(26,"button",78),H("click",function(){return J(t),X(B(2).nextTrack())}),x(27,"i",81),y()()()}if(2&n){const t=B(2);C(2),L("src",t.adminCurrentlyPlaying.image,sr),C(3),ce(t.adminCurrentlyPlaying.name),C(2),ce(t.adminCurrentlyPlaying.artists.join(", ")),C(3),bl("width",t.adminCurrentlyPlaying.progress_ms/t.adminCurrentlyPlaying.duration_ms*100,"%"),C(3),ce(t.formatTime(t.adminCurrentlyPlaying.progress_ms)),C(2),ce(t.formatTime(t.adminCurrentlyPlaying.duration_ms)),C(4),L("disabled",!t.adminCurrentlyPlaying||t.actionInProgress),C(6),me("fa-play",!t.isPlaying)("fa-pause",t.isPlaying)}}function npe(n,e){if(1&n){const t=Ae();_(0,"button",85),H("click",function(){return J(t),X(B(3).connectSpotify())}),I(1," Conectar Spotify "),y()}}function rpe(n,e){if(1&n&&(_(0,"div",82),x(1,"i",83),_(2,"p"),I(3,"No se est\xe1 reproduciendo ninguna canci\xf3n"),y(),Y(4,npe,2,0,"button",84),y()),2&n){const t=B(2);C(4),L("ngIf",!(null!=t.spotifyStatus&&t.spotifyStatus.authenticated))}}function ipe(n,e){if(1&n){const t=Ae();_(0,"div",43)(1,"div",59)(2,"h2"),I(3,"Reproduciendo Ahora"),y(),_(4,"button",60),H("click",function(){return J(t),X(B().getAdminCurrentlyPlaying())}),x(5,"i",61),y()(),Y(6,tpe,28,12,"div",62),Y(7,rpe,5,1,"ng-template",null,63,dc),y()}if(2&n){const t=ac(8),r=B();C(5),me("fa-spin",r.isLoadingCurrent),C(1),L("ngIf",r.adminCurrentlyPlaying)("ngIfElse",t)}}function ope(n,e){if(1&n){const t=Ae();_(0,"div",91)(1,"span",92),I(2),y(),x(3,"img",93),_(4,"div",94)(5,"h4"),I(6),y(),_(7,"p"),I(8),y()(),_(9,"div",95)(10,"button",96),H("click",function(){const o=J(t).$implicit;return X(B(3).playTrack(o.uri))}),x(11,"i",97),y()()()}if(2&n){const t=e.$implicit,r=e.index;C(2),ce(r+1),C(1),L("src",(null==t.album||null==t.album.images[0]?null:t.album.images[0].url)||"assets/default-song.png",sr),C(3),ce(t.name),C(2),ce(null==t.artists[0]?null:t.artists[0].name)}}function spe(n,e){if(1&n&&(_(0,"div",89),Y(1,ope,12,4,"div",90),y()),2&n){const t=B(2);C(1),L("ngForOf",t.queue)}}function ape(n,e){1&n&&(_(0,"div",82),x(1,"i",98),_(2,"p"),I(3,"No hay canciones en la cola de reproducci\xf3n"),y()())}function cpe(n,e){if(1&n){const t=Ae();_(0,"div",43)(1,"div",59)(2,"h2"),I(3,"Cola de Reproducci\xf3n"),y(),_(4,"button",86),H("click",function(){return J(t),X(B().loadQueue())}),x(5,"i",61),y()(),Y(6,spe,2,1,"div",87),Y(7,ape,4,0,"ng-template",null,88,dc),y()}if(2&n){const t=ac(8),r=B();C(4),L("disabled",r.isLoadingQueue),C(1),me("fa-spin",r.isLoadingQueue),C(1),L("ngIf",r.queue.length>0)("ngIfElse",t)}}function upe(n,e){if(1&n){const t=Ae();_(0,"div",106)(1,"div",107),I(2),y(),x(3,"img",108),_(4,"div",109)(5,"h4"),I(6),y(),_(7,"p"),I(8),y(),_(9,"div",110)(10,"span",111),x(11,"i",49),I(12),y(),_(13,"span",112),x(14,"i",113),I(15),y(),_(16,"span",114),I(17),y()()(),_(18,"div",115)(19,"button",116),H("click",function(){const o=J(t).$implicit;return X(B(3).adminVote(o,!1))}),x(20,"i",49),y(),_(21,"button",117),H("click",function(){const o=J(t).$implicit;return X(B(3).adminVote(o,!0))}),x(22,"i",113),y(),_(23,"button",118),H("click",function(){const o=J(t).$implicit;return X(B(3).addToQueueFromRanking(o.id))}),x(24,"i",119),y(),_(25,"button",120),H("click",function(){const o=J(t).$implicit;return X(B(3).deleteSong(o.id))}),x(26,"i",121),y()()()}if(2&n){const t=e.$implicit,r=e.index,i=B(3);C(2),ce(r+1),C(1),L("src",t.image,sr),C(3),ce(t.name),C(2),ce(t.artists.join(", ")),C(4),pe(" ",t.votes||0,""),C(3),pe(" ",t.dislikes||0,""),C(2),ce(i.formatTimeAgo(t.createdat)),C(2),me("active",i.hasAdminLiked(t.id)),C(2),me("active",i.hasAdminDisliked(t.id))}}function lpe(n,e){if(1&n&&(_(0,"div",104),Y(1,upe,27,11,"div",105),y()),2&n){const t=B(2);C(1),L("ngForOf",t.songs)}}function dpe(n,e){1&n&&(_(0,"div",82),x(1,"i",122),_(2,"p"),I(3,"No hay canciones en el ranking"),y()())}function hpe(n,e){if(1&n){const t=Ae();_(0,"div",43)(1,"div",59)(2,"h2"),I(3,"Ranking de Canciones"),y(),_(4,"div",99)(5,"button",86),H("click",function(){return J(t),X(B().loadSongs())}),x(6,"i",61),y(),_(7,"button",100),H("click",function(){return J(t),X(B().deleteAllVotes())}),x(8,"i",101),I(9,"Eliminar Todos "),y()()(),Y(10,lpe,2,1,"div",102),Y(11,dpe,4,0,"ng-template",null,103,dc),y()}if(2&n){const t=ac(12),r=B();C(5),L("disabled",r.isLoading),C(1),me("fa-spin",r.isLoading),C(4),L("ngIf",r.songs.length>0)("ngIfElse",t)}}const BB=function(){return["Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes"]};function fpe(n,e){if(1&n&&(_(0,"div",126)(1,"h4"),I(2),y(),_(3,"div",127)(4,"div",128)(5,"span",129),I(6,"Almuerzo:"),y(),_(7,"span",130),I(8),y()(),_(9,"div",128)(10,"span",129),I(11,"Cena:"),y(),_(12,"span",130),I(13),y()()(),_(14,"div",131)(15,"span",132),I(16),y()()()),2&n){const t=e.$implicit,r=B(3);C(2),ce(ys(10,BB)[t.day_of_week]),C(6),ki("",r.convertToAmPm(t.lunch_start)||"-"," - ",r.convertToAmPm(t.lunch_end)||"-",""),C(5),ki("",r.convertToAmPm(t.dinner_start)||"-"," - ",r.convertToAmPm(t.dinner_end)||"-",""),C(2),me("active",t.is_active)("inactive",!t.is_active),C(1),pe(" ",t.is_active?"Activo":"Inactivo"," ")}}function ppe(n,e){if(1&n&&(_(0,"div"),Y(1,fpe,17,11,"div",125),y()),2&n){const t=B(2);C(1),L("ngForOf",t.schedules)}}function gpe(n,e){if(1&n){const t=Ae();_(0,"div",136)(1,"h4"),I(2),y(),_(3,"div",137)(4,"div",138)(5,"label"),I(6,"Almuerzo Inicio"),y(),_(7,"input",139),H("ngModelChange",function(i){return X(J(t).$implicit.lunch_start=i)}),y()(),_(8,"div",138)(9,"label"),I(10,"Almuerzo Fin"),y(),_(11,"input",139),H("ngModelChange",function(i){return X(J(t).$implicit.lunch_end=i)}),y()(),_(12,"div",138)(13,"label"),I(14,"Cena Inicio"),y(),_(15,"input",139),H("ngModelChange",function(i){return X(J(t).$implicit.dinner_start=i)}),y()(),_(16,"div",138)(17,"label"),I(18,"Cena Fin"),y(),_(19,"input",139),H("ngModelChange",function(i){return X(J(t).$implicit.dinner_end=i)}),y()(),_(20,"div",140)(21,"label"),I(22,"Activo"),y(),_(23,"label",141)(24,"input",142),H("ngModelChange",function(i){return X(J(t).$implicit.is_active=i)}),y(),x(25,"span",143),y()()()()}if(2&n){const t=e.$implicit;C(2),ce(ys(6,BB)[t.day_of_week]),C(5),L("ngModel",t.lunch_start),C(4),L("ngModel",t.lunch_end),C(4),L("ngModel",t.dinner_start),C(4),L("ngModel",t.dinner_end),C(5),L("ngModel",t.is_active)}}function mpe(n,e){if(1&n){const t=Ae();_(0,"div"),Y(1,gpe,26,7,"div",133),_(2,"button",134),H("click",function(){return J(t),X(B(2).saveSchedules())}),x(3,"i",135),I(4,"Guardar Horarios "),y()()}if(2&n){const t=B(2);C(1),L("ngForOf",t.schedules)}}function _pe(n,e){if(1&n){const t=Ae();_(0,"div",43)(1,"div",59)(2,"h2"),I(3,"Horarios de M\xfasica"),y(),_(4,"button",27),H("click",function(){J(t);const i=B();return X(i.isEditingSchedules=!i.isEditingSchedules)}),I(5),y()(),_(6,"div",123),Y(7,ppe,2,1,"div",124),Y(8,mpe,5,1,"div",124),y()()}if(2&n){const t=B();C(5),pe(" ",t.isEditingSchedules?"Cancelar":"Editar"," "),C(2),L("ngIf",!t.isEditingSchedules),C(1),L("ngIf",t.isEditingSchedules)}}function ype(n,e){if(1&n){const t=Ae();_(0,"div",151),x(1,"img",152),_(2,"div",153)(3,"h4"),I(4),y(),_(5,"p"),I(6),y(),_(7,"span",154),I(8),y()(),_(9,"div",155)(10,"button",156),H("click",function(){const o=J(t).$implicit;return X(B(3).voteFromSearch(o,!1))}),x(11,"i",49),y(),_(12,"button",157),H("click",function(){const o=J(t).$implicit;return X(B(3).voteFromSearch(o,!0))}),x(13,"i",113),y(),_(14,"button",118),H("click",function(){const o=J(t).$implicit;return X(B(3).addToQueueFromSearch(o.uri))}),x(15,"i",119),y(),_(16,"button",158),H("click",function(){const o=J(t).$implicit;return X(B(3).playNowFromSearch(o.uri))}),x(17,"i",97),y()()()}if(2&n){const t=e.$implicit;C(1),L("src",t.image,sr),C(3),ce(t.name),C(2),ce(null==t.artists[0]?null:t.artists[0].name),C(2),ce(t.album.name)}}function vpe(n,e){if(1&n&&(_(0,"div",149),Y(1,ype,18,4,"div",150),y()),2&n){const t=B(2);C(1),L("ngForOf",t.searchResults)}}function Cpe(n,e){if(1&n){const t=Ae();_(0,"div",144)(1,"div",145)(2,"input",146),H("ngModelChange",function(i){return J(t),X(B().searchQuery=i)})("keyup.enter",function(){return J(t),X(B().searchSpotify())}),y(),_(3,"button",147),H("click",function(){return J(t),X(B().searchSpotify())}),x(4,"i",75),y()(),Y(5,vpe,2,1,"div",148),y()}if(2&n){const t=B();C(2),L("ngModel",t.searchQuery),C(3),L("ngIf",t.searchResults.length>0)}}function bpe(n,e){if(1&n){const t=Ae();_(0,"div",164),x(1,"img",165),_(2,"div",166)(3,"h5"),I(4),y(),_(5,"p"),I(6),y(),_(7,"div",167)(8,"span",111),x(9,"i",49),I(10),y(),_(11,"span",112),x(12,"i",113),I(13),y()()(),_(14,"div",168)(15,"button",116),H("click",function(){const o=J(t).$implicit;return X(B(3).adminVote(o,!1))}),x(16,"i",49),y(),_(17,"button",117),H("click",function(){const o=J(t).$implicit;return X(B(3).adminVote(o,!0))}),x(18,"i",113),y(),_(19,"button",118),H("click",function(){const o=J(t).$implicit;return X(B(3).addToQueueFromRecent(o))}),x(20,"i",119),y()()()}if(2&n){const t=e.$implicit,r=B(3);C(1),L("src",t.image,sr),C(3),ce(t.name),C(2),ce(t.artists.join(", ")),C(4),pe(" ",t.votes||0,""),C(3),pe(" ",t.dislikes||0,""),C(2),me("active",r.hasAdminLiked(t.id)),C(2),me("active",r.hasAdminDisliked(t.id))}}function Ipe(n,e){if(1&n&&(_(0,"div",162),Y(1,bpe,21,9,"div",163),y()),2&n){const t=B(2);C(1),L("ngForOf",t.recentlyAddedSongs)}}function wpe(n,e){1&n&&(_(0,"div",82),x(1,"i",169),_(2,"p"),I(3,"No hay canciones recientes"),y()())}function Epe(n,e){if(1&n&&(_(0,"div",159),Y(1,Ipe,2,1,"div",160),Y(2,wpe,4,0,"ng-template",null,161,dc),y()),2&n){const t=ac(3),r=B();C(1),L("ngIf",r.recentlyAddedSongs.length>0)("ngIfElse",t)}}let Ppe=(()=>{class n{http;spotifyNowPlaying;votingService;spotifyService;scheduleService;authService;router;queueService;activeSection="dashboard";showSearch=!1;showRecentlyAdded=!0;isEditingSchedules=!1;songs=[];queue=[];recentlyAddedSongs=[];searchResults=[];schedules=[];spotifyStatus=null;adminCurrentlyPlaying=null;isLoading=!1;isLoadingQueue=!1;isLoadingCurrent=!1;isPlaying=!1;searchQuery="";adminVotes={};totalVotes=0;uniqueVoters=0;successMessage="";errorMessage="";actionInProgress="";refreshTimer;currentSongTimer;recentlyAddedTimer;apiUrl=Gr_apiUrl;constructor(t,r,i,o,s,a,c,u){this.http=t,this.spotifyNowPlaying=r,this.votingService=i,this.spotifyService=o,this.scheduleService=s,this.authService=a,this.router=c,this.queueService=u}ngOnInit(){this.loadInitialData(),this.setupAutoRefresh(),this.calculateStats()}calculateStats(){this.totalVotes=this.songs.reduce((t,r)=>t+(r.votes||0),0),this.uniqueVoters=Math.floor(.7*this.totalVotes)}showMessage(t,r=!0,i=3e3){r?this.successMessage=t:this.errorMessage=t,setTimeout(()=>{r?this.successMessage="":this.errorMessage=""},i)}ngOnDestroy(){this.refreshTimer&&clearInterval(this.refreshTimer),this.currentSongTimer&&clearInterval(this.currentSongTimer),this.recentlyAddedTimer&&clearInterval(this.recentlyAddedTimer)}loadInitialData(){this.loadSongs(),this.loadQueue(),this.getSpotifyStatus(),this.getAdminCurrentlyPlaying(),this.loadSchedules()}setupAutoRefresh(){this.refreshTimer=setInterval(()=>{this.loadSongs(),this.loadQueue(),this.getSpotifyStatus()},3e4),this.currentSongTimer=setInterval(()=>{this.getAdminCurrentlyPlaying()},5e3),this.recentlyAddedTimer=setInterval(()=>{this.filterRecentlyAdded()},15e3)}setActiveSection(t){this.activeSection=t,"queue"===t?this.loadQueue():"playing"===t?this.getAdminCurrentlyPlaying():"ranking"===t?this.loadSongs():"schedules"===t&&this.loadSchedules()}toggleSearch(){this.showSearch=!this.showSearch,this.showSearch&&(this.activeSection="dashboard")}toggleRecentlyAdded(){this.showRecentlyAdded=!this.showRecentlyAdded}loadSongs(){this.isLoading=!0,this.votingService.forceRefresh().subscribe({next:t=>{this.songs=t,this.filterRecentlyAdded(),this.calculateVotingStats(),this.isLoading=!1,this.showMessage("Ranking actualizado correctamente")},error:t=>{console.error("Error loading songs:",t),this.isLoading=!1,this.showMessage("Error al cargar las canciones",!1)}})}calculateVotingStats(){this.totalVotes=this.songs.reduce((t,r)=>t+(r.votes||0),0),this.uniqueVoters=Math.floor(.7*this.totalVotes)}filterRecentlyAdded(){const t=new Date;t.setHours(t.getHours()-6),this.recentlyAddedSongs=this.songs.filter(r=>new Date(r.createdat)>t).sort((r,i)=>new Date(i.createdat).getTime()-new Date(r.createdat).getTime()).slice(0,15)}addToQueueFromRecent(t){this.addToQueueFromSearch(`spotify:track:${t.id}`)}loadQueue(){this.isLoadingQueue=!0,this.queueService.getQueue().subscribe({next:t=>{this.queue=t.queue||[],this.isLoadingQueue=!1},error:t=>{console.error("Error loading queue:",t),this.isLoadingQueue=!1,this.showMessage("Error al cargar la cola de reproducci\xf3n",!1)}})}getSpotifyStatus(){this.spotifyNowPlaying.getAdminSpotifyStatus().subscribe({next:t=>{this.spotifyStatus=t},error:t=>{console.error("Error getting Spotify status:",t)}})}getAdminCurrentlyPlaying(){this.isLoadingCurrent=!0,this.spotifyNowPlaying.getAdminCurrentlyPlaying().subscribe({next:t=>{t&&t.is_playing?(this.adminCurrentlyPlaying=t,this.isPlaying=t.is_playing):(this.adminCurrentlyPlaying=null,this.isPlaying=!1),this.isLoadingCurrent=!1},error:t=>{console.error("Error getting currently playing:",t),this.adminCurrentlyPlaying=null,this.isLoadingCurrent=!1}})}loadSchedules(){this.scheduleService.getSchedules().subscribe({next:t=>{this.schedules=t},error:t=>{console.error("Error loading schedules:",t)}})}saveSchedules(){this.scheduleService.updateSchedules(this.schedules).subscribe({next:()=>{this.isEditingSchedules=!1},error:t=>{console.error("Error saving schedules:",t)}})}connectSpotify(){this.spotifyNowPlaying.startAdminSpotifyAuth().subscribe({next:t=>{t.authUrl&&(window.location.href=t.authUrl)},error:t=>{console.error("Error connecting to Spotify:",t)}})}disconnectSpotify(){this.spotifyNowPlaying.disconnectAdminSpotify().subscribe({next:()=>{this.getSpotifyStatus()},error:t=>{console.error("Error disconnecting from Spotify:",t)}})}searchSpotify(){this.searchQuery.trim()&&(this.isLoading=!0,this.spotifyService.searchTracks(this.searchQuery).subscribe({next:t=>{this.searchResults=t.map(r=>({...r,image:r.image||r.album?.images?.[0]?.url||"assets/default-song.png",artists:Array.isArray(r.artists)?r.artists:"string"==typeof r.artists||r.artists?[r.artists]:["Artista desconocido"]})),this.isLoading=!1},error:t=>{console.error("Error searching Spotify:",t),this.showMessage("Error al buscar en Spotify",!1),this.isLoading=!1}}))}voteFromSearch(t,r){this.votingService.voteForSong(t.id,{id:t.id,name:t.name,artists:t.artists,image:t.image,preview_url:t.preview_url},r).subscribe({next:o=>{this.loadSongs(),alert(r?"Dislike registrado":"Like registrado")},error:o=>{console.error("Error voting from search:",o),alert("Error al votar. Intenta nuevamente.")}})}adminVote(t,r){this.adminVotes[t.id]=r,this.votingService.voteForSong(t.id,t,r).subscribe({next:i=>{this.loadSongs()},error:i=>{console.error("Error with admin vote:",i),delete this.adminVotes[t.id],alert("Error al votar. Intenta nuevamente.")}})}hasAdminLiked(t){return!1===this.adminVotes[t]}hasAdminDisliked(t){return!0===this.adminVotes[t]}addToQueue(t){this.queueService.addToQueue(t).subscribe({next:()=>{this.loadQueue(),this.showMessage("Canci\xf3n agregada a la cola correctamente")},error:r=>{console.error("Error adding to queue:",r),this.showMessage("Error al agregar a la cola",!1)}})}addToQueueFromSearch(t){this.actionInProgress="Agregando a la cola...",this.queueService.addToQueue(t).subscribe({next:r=>{this.loadQueue(),this.showMessage("Canci\xf3n agregada a la cola correctamente"),this.actionInProgress=""},error:r=>{console.error("Error adding to queue:",r),this.showMessage("Error al agregar a la cola: "+r.message,!1),this.actionInProgress=""}})}addToQueueFromRanking(t){confirm("\xbfAgregar esta canci\xf3n a la cola de reproducci\xf3n?")&&this.addToQueueFromSearch(`spotify:track:${t}`)}confirmAddToHistory(){var t=this;return E(function*(){try{const r=yield t.spotifyNowPlaying.addToHistory().toPromise();r.can_add?confirm(`\xbfEst\xe1s seguro de que quieres agregar "${r.song.name}" al hist\xf3rico?`)&&t.http.post(`${t.apiUrl}/api/spotify/admin/add-to-history-confirmed`,{}).subscribe({next:o=>{t.showMessage(o.message||"Canci\xf3n agregada al hist\xf3rico"),t.loadSongs()},error:o=>{t.showMessage("Error al agregar al hist\xf3rico: "+o.error?.error,!1)}}):t.showMessage(r.message,!1)}catch{t.showMessage("Error al verificar hist\xf3rico",!1)}})()}playNowFromSearch(t){this.actionInProgress="Reproduciendo...",this.spotifyNowPlaying.playTrack(t).subscribe({next:()=>{setTimeout(()=>{this.getAdminCurrentlyPlaying()},1e3),this.showMessage("Reproduciendo canci\xf3n"),this.actionInProgress=""},error:r=>{console.error("Error playing track:",r),this.showMessage("Error al reproducir: "+(r.error?.message||"Error desconocido"),!1),this.actionInProgress=""}})}playTrack(t){this.spotifyNowPlaying.playTrack(t).subscribe({next:()=>{setTimeout(()=>{this.getAdminCurrentlyPlaying()},1e3)},error:r=>{console.error("Error playing track:",r),alert("Error al reproducir la canci\xf3n: "+r.message)}})}nextTrack(){this.spotifyNowPlaying.nextTrack().subscribe({next:()=>{setTimeout(()=>{this.getAdminCurrentlyPlaying()},1e3)},error:t=>{console.error("Error skipping to next track:",t)}})}previousTrack(){this.spotifyNowPlaying.previousTrack().subscribe({next:()=>{setTimeout(()=>{this.getAdminCurrentlyPlaying()},1e3)},error:t=>{console.error("Error going to previous track:",t)}})}togglePlayback(){this.isPlaying?this.spotifyNowPlaying.pausePlayback().subscribe({next:()=>{this.isPlaying=!1},error:t=>{console.error("Error pausing playback:",t)}}):this.spotifyNowPlaying.resumePlayback().subscribe({next:()=>{this.isPlaying=!0},error:t=>{console.error("Error resuming playback:",t)}})}deleteSong(t){confirm("\xbfEst\xe1s seguro de que quieres eliminar esta canci\xf3n del ranking?")&&this.votingService.deleteSong(t).subscribe({next:()=>{this.loadSongs(),this.showMessage("Canci\xf3n eliminada correctamente")},error:r=>{console.error("Error deleting song:",r),this.showMessage("Error al eliminar la canci\xf3n",!1)}})}deleteAllVotes(){confirm("\xbfEst\xe1s seguro de que quieres eliminar TODOS los votos? Esta acci\xf3n no se puede deshacer.")&&this.votingService.deleteAllVotes().subscribe({next:()=>{this.loadSongs(),this.showMessage("Todos los votos han sido eliminados")},error:t=>{console.error("Error deleting all votes:",t),this.showMessage("Error al eliminar todos los votos",!1)}})}forceRefresh(){this.showMessage("Actualizando todos los datos..."),Promise.all([new Promise(t=>this.loadSongs()),new Promise(t=>this.loadQueue()),new Promise(t=>this.getSpotifyStatus()),new Promise(t=>this.getAdminCurrentlyPlaying())]).then(()=>{this.showMessage("Todos los datos han sido actualizados")}).catch(t=>{this.showMessage("Error al actualizar los datos",!1)})}toggleQueue(){this.activeSection="queue"}addToHistory(){var t=this;return E(function*(){if(t.adminCurrentlyPlaying&&t.adminCurrentlyPlaying.id){t.actionInProgress="Verificando canci\xf3n...";try{const r=yield t.spotifyNowPlaying.addToHistory().toPromise();if(r.can_add){if(confirm(`\xbfEst\xe1s seguro de que quieres agregar "${t.adminCurrentlyPlaying.name}" al hist\xf3rico?\n\nEsta acci\xf3n eliminar\xe1 la canci\xf3n del ranking si est\xe1 presente.`)){t.actionInProgress="Agregando al hist\xf3rico...";const o=t.authService.getAuthHeaders(),s=yield t.http.post(`${t.apiUrl}/api/spotify/admin/add-to-history-confirmed`,{},{headers:o}).toPromise();t.showMessage(s.message||"Canci\xf3n agregada al hist\xf3rico correctamente"),t.loadSongs(),setTimeout(()=>{t.getAdminCurrentlyPlaying()},2e3)}}else t.showMessage(r.message,!1)}catch(r){console.error("Error al agregar al hist\xf3rico:",r),t.showMessage(r.error?.error||r.message||"Error al agregar al hist\xf3rico",!1)}finally{t.actionInProgress=""}}else t.showMessage("No hay canci\xf3n reproduci\xe9ndose actualmente",!1)})()}checkAddToHistory(){this.adminCurrentlyPlaying?this.spotifyNowPlaying.addToHistory().subscribe({next:t=>{t.can_add?this.addToHistory():this.showMessage(t.message,!1)},error:t=>{this.showMessage("Error al verificar: "+(t.error?.message||t.message),!1)}}):this.showMessage("No hay canci\xf3n reproduci\xe9ndose",!1)}checkPlayingSong(){this.adminCurrentlyPlaying&&(this.songs.find(r=>r.id===this.adminCurrentlyPlaying.id)?this.activeSection="ranking":alert("Esta canci\xf3n no est\xe1 en el ranking."))}forceRankSong(){this.adminCurrentlyPlaying&&this.votingService.vote({id:this.adminCurrentlyPlaying.id,name:this.adminCurrentlyPlaying.name,artists:this.adminCurrentlyPlaying.artists,image:this.adminCurrentlyPlaying.image},!1,!0).subscribe({next:()=>{this.loadSongs(),this.activeSection="ranking"},error:r=>{console.error("Error forcing song to rank:",r)}})}formatTime(t){const r=Math.floor(t/1e3),o=r%60;return`${Math.floor(r/60)}:${o<10?"0":""}${o}`}formatTimeAgo(t){const r=new Date(t),o=(new Date).getTime()-r.getTime(),s=Math.floor(o/6e4),a=Math.floor(s/60),c=Math.floor(a/24);return s<1?"Ahora mismo":s<60?`Hace ${s} min`:a<24?`Hace ${a} h`:1===c?"Ayer":`Hace ${c} d\xedas`}convertToAmPm(t){if(!t)return"";const[r,i]=t.split(":"),o=parseInt(r,10);return`${o%12||12}:${i} ${o>=12?"PM":"AM"}`}logout(){this.authService.logout(),this.router.navigate(["/login"])}static \u0275fac=function(r){return new(r||n)(z(Hr),z(X1),z(Tu),z(FB),z(UB),z(ca),z(Vn),z(Qfe))};static \u0275cmp=Tn({type:n,selectors:[["app-admin-panel"]],standalone:!0,features:[kn],decls:64,vars:26,consts:[[1,"admin-panel-container"],[1,"message-container"],["class","success-message",4,"ngIf"],["class","error-message",4,"ngIf"],["class","progress-message",4,"ngIf"],[1,"admin-header"],[1,"header-content"],[1,"fab","fa-spotify","me-2"],[1,"header-subtitle"],[1,"btn-logout",3,"click"],[1,"fas","fa-sign-out-alt","me-1"],[1,"admin-content"],[1,"admin-sidebar"],[1,"sidebar-section"],[1,"sidebar-btn",3,"click"],[1,"fas","fa-tachometer-alt","me-2"],[1,"fas","fa-play-circle","me-2"],[1,"fas","fa-list-ol","me-2"],[1,"fas","fa-trophy","me-2"],[1,"fas","fa-clock","me-2"],[1,"fas","fa-sync-alt","me-2"],[1,"fas","fa-search","me-2"],["class","spotify-status",4,"ngIf"],[1,"admin-main"],["class","section",4,"ngIf"],[1,"search-section"],[1,"search-header"],[1,"btn-toggle",3,"click"],["class","search-content",4,"ngIf"],[1,"section","recently-added-section"],[1,"section-header","collapsible",3,"click"],[1,"fas"],["class","recently-added-content",4,"ngIf"],[1,"success-message"],[1,"fas","fa-check-circle"],[1,"error-message"],[1,"fas","fa-exclamation-circle"],[1,"progress-message"],[1,"fas","fa-spinner","fa-spin"],[1,"spotify-status"],[1,"status-indicator"],[1,"status-text"],[1,"status-action",3,"click"],[1,"section"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-icon"],[1,"fas","fa-music"],[1,"stat-content"],[1,"fas","fa-thumbs-up"],[1,"fas","fa-users"],[1,"fas","fa-history"],[1,"dashboard-actions"],[1,"action-btn","primary",3,"click"],[1,"fas","fa-sync-alt","me-1"],[1,"action-btn","secondary",3,"click"],[1,"fas","fa-list-ol","me-1"],[1,"action-btn","warning",3,"click"],[1,"fas","fa-play-circle","me-1"],[1,"section-header"],[1,"btn-refresh",3,"click"],[1,"fas","fa-sync-alt"],["class","currently-playing-card",4,"ngIf","ngIfElse"],["noSongPlaying",""],[1,"currently-playing-card"],[1,"playing-content"],["alt","Album cover",1,"album-art-large",3,"src"],[1,"track-info"],[1,"artists"],[1,"progress-container"],[1,"progress-bar"],[1,"progress-fill"],[1,"time-display"],[1,"playing-actions"],["title","Verificar en ranking",1,"control-btn",3,"click"],[1,"fas","fa-search"],["title","Agregar al hist\xf3rico",1,"control-btn",3,"disabled","click"],[1,"player-controls"],[1,"player-btn",3,"click"],[1,"fas","fa-step-backward"],[1,"player-btn","play-pause",3,"click"],[1,"fas","fa-step-forward"],[1,"empty-state"],[1,"fas","fa-music-slash"],["class","btn-spotify",3,"click",4,"ngIf"],[1,"btn-spotify",3,"click"],[1,"btn-refresh",3,"disabled","click"],["class","queue-container",4,"ngIf","ngIfElse"],["emptyQueue",""],[1,"queue-container"],["class","queue-item",4,"ngFor","ngForOf"],[1,"queue-item"],[1,"queue-position"],["alt","Album cover",1,"queue-image",3,"src"],[1,"queue-info"],[1,"queue-actions"],["title","Reproducir ahora",1,"queue-btn",3,"click"],[1,"fas","fa-play"],[1,"fas","fa-list-ol"],[1,"header-actions"],[1,"btn-danger",3,"click"],[1,"fas","fa-trash","me-1"],["class","ranking-container",4,"ngIf","ngIfElse"],["emptyRanking",""],[1,"ranking-container"],["class","ranking-item",4,"ngFor","ngForOf"],[1,"ranking-item"],[1,"rank-number"],["alt","Album cover",1,"rank-image",3,"src"],[1,"rank-info"],[1,"rank-stats"],[1,"votes"],[1,"dislikes"],[1,"fas","fa-thumbs-down"],[1,"time"],[1,"rank-actions"],["title","Me gusta",1,"vote-btn","like",3,"click"],["title","No me gusta",1,"vote-btn","dislike",3,"click"],["title","Agregar a cola",1,"action-btn",3,"click"],[1,"fas","fa-plus"],["title","Eliminar",1,"action-btn","danger",3,"click"],[1,"fas","fa-trash"],[1,"fas","fa-trophy"],[1,"schedules-container"],[4,"ngIf"],["class","schedule-card",4,"ngFor","ngForOf"],[1,"schedule-card"],[1,"schedule-times"],[1,"time-block"],[1,"time-label"],[1,"time-value"],[1,"schedule-status"],[1,"status-badge"],["class","schedule-edit-card",4,"ngFor","ngForOf"],[1,"btn-save",3,"click"],[1,"fas","fa-save","me-1"],[1,"schedule-edit-card"],[1,"edit-fields"],[1,"field-group"],["type","time",3,"ngModel","ngModelChange"],[1,"field-group","toggle"],[1,"switch"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"slider"],[1,"search-content"],[1,"search-bar"],["type","text","placeholder","Buscar canciones en Spotify...",3,"ngModel","ngModelChange","keyup.enter"],[1,"search-btn",3,"click"],["class","search-results",4,"ngIf"],[1,"search-results"],["class","result-item",4,"ngFor","ngForOf"],[1,"result-item"],["alt","Album cover","onerror","this.src='assets/default-song.png'",1,"result-image",3,"src"],[1,"result-info"],[1,"album-name"],[1,"result-actions"],["title","Votar positivo",1,"vote-btn","like",3,"click"],["title","Votar negativo",1,"vote-btn","dislike",3,"click"],["title","Reproducir ahora",1,"action-btn",3,"click"],[1,"recently-added-content"],["class","recent-grid",4,"ngIf","ngIfElse"],["emptyRecent",""],[1,"recent-grid"],["class","recent-card",4,"ngFor","ngForOf"],[1,"recent-card"],["alt","Album cover",1,"recent-image",3,"src"],[1,"recent-info"],[1,"recent-stats"],[1,"recent-actions"],[1,"fas","fa-clock"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1),Y(2,Yfe,3,1,"div",2),Y(3,Jfe,3,1,"div",3),Y(4,Xfe,3,1,"div",4),y(),_(5,"div",5)(6,"div",6)(7,"h1"),x(8,"i",7),I(9,"Panel de Administraci\xf3n "),y(),_(10,"p",8),I(11,"Gestiona la m\xfasica y votaciones del restaurante"),y()(),_(12,"button",9),H("click",function(){return i.logout()}),x(13,"i",10),I(14,"Cerrar Sesi\xf3n "),y()(),_(15,"div",11)(16,"div",12)(17,"div",13)(18,"h3"),I(19,"Navegaci\xf3n"),y(),_(20,"button",14),H("click",function(){return i.setActiveSection("dashboard")}),x(21,"i",15),I(22,"Dashboard "),y(),_(23,"button",14),H("click",function(){return i.setActiveSection("playing")}),x(24,"i",16),I(25,"Reproduciendo "),y(),_(26,"button",14),H("click",function(){return i.setActiveSection("queue")}),x(27,"i",17),I(28,"Cola de Reproducci\xf3n "),y(),_(29,"button",14),H("click",function(){return i.setActiveSection("ranking")}),x(30,"i",18),I(31,"Ranking "),y(),_(32,"button",14),H("click",function(){return i.setActiveSection("schedules")}),x(33,"i",19),I(34,"Horarios "),y()(),_(35,"div",13)(36,"h3"),I(37,"Acciones R\xe1pidas"),y(),_(38,"button",14),H("click",function(){return i.forceRefresh()}),x(39,"i",20),I(40,"Actualizar Todo "),y(),_(41,"button",14),H("click",function(){return i.toggleSearch()}),x(42,"i",21),I(43,"Buscar Canciones "),y()(),Y(44,Zfe,6,6,"div",22),y(),_(45,"div",23),Y(46,epe,44,4,"div",24),Y(47,ipe,9,4,"div",24),Y(48,cpe,9,5,"div",24),Y(49,hpe,13,5,"div",24),Y(50,_pe,9,3,"div",24),_(51,"div",25)(52,"div",26)(53,"h3"),I(54,"Buscar en Spotify"),y(),_(55,"button",27),H("click",function(){return i.showSearch=!i.showSearch}),I(56),y()(),Y(57,Cpe,6,2,"div",28),y(),_(58,"div",29)(59,"div",30),H("click",function(){return i.toggleRecentlyAdded()}),_(60,"h2"),I(61,"Reci\xe9n Agregadas"),y(),x(62,"i",31),y(),Y(63,Epe,4,2,"div",32),y()()()()),2&r&&(C(2),L("ngIf",i.successMessage),C(1),L("ngIf",i.errorMessage),C(1),L("ngIf",i.actionInProgress),C(16),me("active","dashboard"===i.activeSection),C(3),me("active","playing"===i.activeSection),C(3),me("active","queue"===i.activeSection),C(3),me("active","ranking"===i.activeSection),C(3),me("active","schedules"===i.activeSection),C(12),L("ngIf",i.spotifyStatus),C(2),L("ngIf","dashboard"===i.activeSection),C(1),L("ngIf","playing"===i.activeSection),C(1),L("ngIf","queue"===i.activeSection),C(1),L("ngIf","ranking"===i.activeSection),C(1),L("ngIf","schedules"===i.activeSection),C(6),pe(" ",i.showSearch?"Ocultar":"Mostrar"," "),C(1),L("ngIf",i.showSearch),C(5),me("fa-chevron-down",!i.showRecentlyAdded)("fa-chevron-up",i.showRecentlyAdded),C(1),L("ngIf",i.showRecentlyAdded))},dependencies:[aa,vi,k1,es,co,Er,oi,hr,rJ],styles:['@import"https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap";@import"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css";.admin-panel-container[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;background-color:#121212;color:#fff;min-height:100vh;padding:0;margin:0}.admin-header[_ngcontent-%COMP%]{background-color:#000;padding:16px 24px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #282828}.admin-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:700;color:#fff}.admin-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#1db954}.admin-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-subtitle[_ngcontent-%COMP%]{margin:4px 0 0;color:#b3b3b3;font-size:14px}.admin-header[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;background-color:transparent;color:#fff;padding:8px 16px;border-radius:20px;border:1px solid #B3B3B3;font-weight:500;transition:all .2s ease}.admin-header[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;transform:scale(1.05)}.admin-content[_ngcontent-%COMP%]{display:flex;min-height:calc(100vh - 80px)}.admin-sidebar[_ngcontent-%COMP%]{width:240px;background-color:#000;padding:24px 16px;border-right:1px solid #282828}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]{margin-bottom:32px}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:12px;text-transform:uppercase;letter-spacing:1.5px;color:#b3b3b3;margin:0 0 16px;padding:0 8px}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   .sidebar-btn[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;width:100%;text-align:left;padding:10px 16px;border-radius:4px;margin-bottom:4px;color:#b3b3b3;font-weight:500;transition:all .2s ease}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   .sidebar-btn[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff1a}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   .sidebar-btn.active[_ngcontent-%COMP%]{color:#fff;background-color:#fff3}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   .sidebar-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:20px}.admin-sidebar[_ngcontent-%COMP%]   .spotify-status[_ngcontent-%COMP%]{margin-top:32px;padding:12px;background-color:#181818;border-radius:8px;display:flex;align-items:center}.admin-sidebar[_ngcontent-%COMP%]   .spotify-status[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%;margin-right:8px}.admin-sidebar[_ngcontent-%COMP%]   .spotify-status[_ngcontent-%COMP%]   .status-indicator.connected[_ngcontent-%COMP%]{background-color:#1db954}.admin-sidebar[_ngcontent-%COMP%]   .spotify-status[_ngcontent-%COMP%]   .status-indicator.disconnected[_ngcontent-%COMP%]{background-color:#e74c3c}.admin-sidebar[_ngcontent-%COMP%]   .spotify-status[_ngcontent-%COMP%]   .status-text[_ngcontent-%COMP%]{font-size:12px;flex-grow:1}.admin-sidebar[_ngcontent-%COMP%]   .spotify-status[_ngcontent-%COMP%]   .status-action[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;color:#1db954;font-size:12px;font-weight:600}.admin-sidebar[_ngcontent-%COMP%]   .spotify-status[_ngcontent-%COMP%]   .status-action[_ngcontent-%COMP%]:hover{text-decoration:underline}.admin-main[_ngcontent-%COMP%]{flex:1;padding:24px;overflow-y:auto}.admin-main[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]{margin-bottom:24px}.admin-main[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.admin-main[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:700}.admin-main[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .section-header.collapsible[_ngcontent-%COMP%]{cursor:pointer;padding:12px 0;border-bottom:1px solid #282828}.admin-main[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:16px;margin-bottom:24px}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{background-color:#181818;border-radius:8px;padding:16px;box-shadow:0 4px 12px #0000004d;transition:all .3s ease;display:flex;align-items:center}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:48px;height:48px;background-color:#1db9541a;border-radius:50%;display:flex;align-items:center;justify-content:center;margin-right:16px}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:#1db954}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:700}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;color:#b3b3b3;font-size:14px}.dashboard-actions[_ngcontent-%COMP%]{display:flex;gap:12px;margin-bottom:24px}.dashboard-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;padding:10px 16px;border-radius:4px;font-weight:500;transition:all .2s ease}.dashboard-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]{background-color:#1db954;color:#000}.dashboard-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]:hover{background-color:#2bde6a;transform:translateY(-2px)}.dashboard-actions[_ngcontent-%COMP%]   .action-btn.secondary[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border:1px solid #B3B3B3}.dashboard-actions[_ngcontent-%COMP%]   .action-btn.secondary[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;border-color:#fff}.dashboard-actions[_ngcontent-%COMP%]   .action-btn.warning[_ngcontent-%COMP%]{background-color:#f39c12;color:#000}.dashboard-actions[_ngcontent-%COMP%]   .action-btn.warning[_ngcontent-%COMP%]:hover{background-color:#f5b043}.currently-playing-card[_ngcontent-%COMP%]{background-color:#181818;border-radius:8px;padding:16px;box-shadow:0 4px 12px #0000004d;transition:all .3s ease}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:16px}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .album-art-large[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:8px;margin-right:20px;object-fit:cover}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .track-info[_ngcontent-%COMP%]{flex:1}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .track-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:20px;font-weight:700}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .track-info[_ngcontent-%COMP%]   .artists[_ngcontent-%COMP%]{margin:0 0 16px;color:#b3b3b3}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .track-info[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:100%;height:4px;background-color:#5a5a5a;border-radius:2px;overflow:hidden;margin-bottom:8px}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .track-info[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background-color:#1db954;border-radius:2px;transition:width .3s ease}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .track-info[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .time-display[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:12px;color:#b3b3b3}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .playing-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .playing-actions[_ngcontent-%COMP%]   .control-btn[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;width:40px;height:40px;border-radius:50%;background-color:#ffffff1a;color:#fff;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .playing-actions[_ngcontent-%COMP%]   .control-btn[_ngcontent-%COMP%]:hover{background-color:#fff3;transform:scale(1.1)}.currently-playing-card[_ngcontent-%COMP%]   .player-controls[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:16px}.currently-playing-card[_ngcontent-%COMP%]   .player-controls[_ngcontent-%COMP%]   .player-btn[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;width:48px;height:48px;border-radius:50%;background-color:#ffffff1a;color:#fff;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.currently-playing-card[_ngcontent-%COMP%]   .player-controls[_ngcontent-%COMP%]   .player-btn[_ngcontent-%COMP%]:hover{background-color:#fff3;transform:scale(1.05)}.currently-playing-card[_ngcontent-%COMP%]   .player-controls[_ngcontent-%COMP%]   .player-btn.play-pause[_ngcontent-%COMP%]{width:64px;height:64px;background-color:#1db954;color:#000}.currently-playing-card[_ngcontent-%COMP%]   .player-controls[_ngcontent-%COMP%]   .player-btn.play-pause[_ngcontent-%COMP%]:hover{background-color:#2bde6a;transform:scale(1.1)}.queue-container[_ngcontent-%COMP%]{background-color:#181818;border-radius:8px;box-shadow:0 4px 12px #0000004d;transition:all .3s ease;padding:0;overflow:hidden}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 16px;border-bottom:1px solid #282828}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]:hover{background-color:#ffffff0d}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]   .queue-position[_ngcontent-%COMP%]{width:24px;text-align:center;font-weight:600;color:#b3b3b3;margin-right:16px}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]   .queue-image[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:4px;margin-right:16px;object-fit:cover}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]   .queue-info[_ngcontent-%COMP%]{flex:1}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]   .queue-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;font-size:14px;font-weight:500}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]   .queue-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:12px;color:#b3b3b3}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]   .queue-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]   .queue-actions[_ngcontent-%COMP%]   .queue-btn[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;width:32px;height:32px;border-radius:50%;background-color:transparent;color:#fff;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]   .queue-actions[_ngcontent-%COMP%]   .queue-btn[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]   .queue-actions[_ngcontent-%COMP%]   .queue-btn.remove[_ngcontent-%COMP%]{color:#e74c3c}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]   .queue-actions[_ngcontent-%COMP%]   .queue-btn.remove[_ngcontent-%COMP%]:hover{background-color:#e74c3c1a}.ranking-container[_ngcontent-%COMP%]{background-color:#181818;border-radius:8px;box-shadow:0 4px 12px #0000004d;transition:all .3s ease;padding:0;overflow:hidden}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 16px;border-bottom:1px solid #282828}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]:hover{background-color:#ffffff0d}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-number[_ngcontent-%COMP%]{width:24px;text-align:center;font-weight:700;font-size:16px;margin-right:16px;color:#b3b3b3}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-image[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:4px;margin-right:16px;object-fit:cover}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-info[_ngcontent-%COMP%]{flex:1}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;font-size:16px;font-weight:500}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 8px;font-size:14px;color:#b3b3b3}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-info[_ngcontent-%COMP%]   .rank-stats[_ngcontent-%COMP%]{display:flex;gap:16px}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-info[_ngcontent-%COMP%]   .rank-stats[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:12px;color:#b3b3b3}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-info[_ngcontent-%COMP%]   .rank-stats[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:4px}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-actions[_ngcontent-%COMP%]   .vote-btn[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-actions[_ngcontent-%COMP%]   .vote-btn.like[_ngcontent-%COMP%]{color:#b3b3b3;background-color:transparent}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-actions[_ngcontent-%COMP%]   .vote-btn.like[_ngcontent-%COMP%]:hover, .ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-actions[_ngcontent-%COMP%]   .vote-btn.like.active[_ngcontent-%COMP%]{color:#1db954;background-color:#1db9541a}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-actions[_ngcontent-%COMP%]   .vote-btn.dislike[_ngcontent-%COMP%]{color:#b3b3b3;background-color:transparent}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-actions[_ngcontent-%COMP%]   .vote-btn.dislike[_ngcontent-%COMP%]:hover, .ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-actions[_ngcontent-%COMP%]   .vote-btn.dislike.active[_ngcontent-%COMP%]{color:#e74c3c;background-color:#e74c3c1a}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;width:36px;height:36px;border-radius:50%;background-color:transparent;color:#b3b3b3;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;color:#fff}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-actions[_ngcontent-%COMP%]   .action-btn.danger[_ngcontent-%COMP%]:hover{color:#e74c3c;background-color:#e74c3c1a}.schedules-container[_ngcontent-%COMP%]   .schedule-card[_ngcontent-%COMP%], .schedules-container[_ngcontent-%COMP%]   .schedule-edit-card[_ngcontent-%COMP%]{background-color:#181818;border-radius:8px;padding:16px;box-shadow:0 4px 12px #0000004d;transition:all .3s ease;margin-bottom:16px}.schedules-container[_ngcontent-%COMP%]   .schedule-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .schedules-container[_ngcontent-%COMP%]   .schedule-edit-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;font-size:16px;font-weight:600}.schedules-container[_ngcontent-%COMP%]   .schedule-times[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px}.schedules-container[_ngcontent-%COMP%]   .schedule-times[_ngcontent-%COMP%]   .time-block[_ngcontent-%COMP%]{display:flex;flex-direction:column}.schedules-container[_ngcontent-%COMP%]   .schedule-times[_ngcontent-%COMP%]   .time-block[_ngcontent-%COMP%]   .time-label[_ngcontent-%COMP%]{font-size:12px;color:#b3b3b3;margin-bottom:4px}.schedules-container[_ngcontent-%COMP%]   .schedule-times[_ngcontent-%COMP%]   .time-block[_ngcontent-%COMP%]   .time-value[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.schedules-container[_ngcontent-%COMP%]   .schedule-status[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 8px;border-radius:12px;font-size:12px;font-weight:600}.schedules-container[_ngcontent-%COMP%]   .schedule-status[_ngcontent-%COMP%]   .status-badge.active[_ngcontent-%COMP%]{background-color:#1db95433;color:#1db954}.schedules-container[_ngcontent-%COMP%]   .schedule-status[_ngcontent-%COMP%]   .status-badge.inactive[_ngcontent-%COMP%]{background-color:#e74c3c33;color:#e74c3c}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:16px}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]   .field-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]   .field-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;color:#b3b3b3;margin-bottom:4px}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]   .field-group[_ngcontent-%COMP%]   input[type=time][_ngcontent-%COMP%]{background-color:#2a2a2a;border:1px solid #404040;border-radius:4px;color:#fff;padding:8px;font-family:inherit}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]   .field-group[_ngcontent-%COMP%]   input[type=time][_ngcontent-%COMP%]:focus{outline:none;border-color:#1db954}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]   .field-group.toggle[_ngcontent-%COMP%]{flex-direction:row;align-items:center;justify-content:space-between}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]   .field-group.toggle[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:40px;height:20px}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]   .field-group.toggle[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]   .field-group.toggle[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#1db954}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]   .field-group.toggle[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(20px)}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]   .field-group.toggle[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.4s;border-radius:34px}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]   .field-group.toggle[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:16px;width:16px;left:2px;bottom:2px;background-color:#fff;transition:.4s;border-radius:50%}.schedules-container[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;background-color:#1db954;color:#000;padding:10px 20px;border-radius:4px;font-weight:600;margin-top:16px;transition:all .2s ease}.schedules-container[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]:hover{background-color:#2bde6a;transform:translateY(-2px)}.recently-added-section[_ngcontent-%COMP%]   .recently-added-content[_ngcontent-%COMP%]{margin-top:16px}.recently-added-section[_ngcontent-%COMP%]   .recent-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:16px}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]{background-color:#181818;border-radius:8px;box-shadow:0 4px 12px #0000004d;padding:12px;transition:all .3s ease}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]:hover{background-color:#282828;transform:translateY(-4px)}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-image[_ngcontent-%COMP%]{width:100%;aspect-ratio:1;border-radius:4px;object-fit:cover;margin-bottom:12px}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0 0 4px;font-size:14px;font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 8px;font-size:12px;color:#b3b3b3;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-info[_ngcontent-%COMP%]   .recent-stats[_ngcontent-%COMP%]{display:flex;gap:12px}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-info[_ngcontent-%COMP%]   .recent-stats[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:11px;color:#b3b3b3}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-info[_ngcontent-%COMP%]   .recent-stats[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:4px}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:8px;margin-top:12px}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-actions[_ngcontent-%COMP%]   .vote-btn[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-actions[_ngcontent-%COMP%]   .vote-btn.like[_ngcontent-%COMP%]{color:#b3b3b3}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-actions[_ngcontent-%COMP%]   .vote-btn.like[_ngcontent-%COMP%]:hover, .recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-actions[_ngcontent-%COMP%]   .vote-btn.like.active[_ngcontent-%COMP%]{color:#1db954;background-color:#1db9541a}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-actions[_ngcontent-%COMP%]   .vote-btn.dislike[_ngcontent-%COMP%]{color:#b3b3b3}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-actions[_ngcontent-%COMP%]   .vote-btn.dislike[_ngcontent-%COMP%]:hover, .recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-actions[_ngcontent-%COMP%]   .vote-btn.dislike.active[_ngcontent-%COMP%]{color:#e74c3c;background-color:#e74c3c1a}.search-section[_ngcontent-%COMP%]{background-color:#181818;border-radius:8px;padding:16px;box-shadow:0 4px 12px #0000004d;transition:all .3s ease}.search-section[_ngcontent-%COMP%]   .search-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.search-section[_ngcontent-%COMP%]   .search-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px}.search-section[_ngcontent-%COMP%]   .search-header[_ngcontent-%COMP%]   .btn-toggle[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;color:#1db954;font-weight:500}.search-section[_ngcontent-%COMP%]   .search-header[_ngcontent-%COMP%]   .btn-toggle[_ngcontent-%COMP%]:hover{text-decoration:underline}.search-section[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{display:flex;margin-bottom:16px}.search-section[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;background-color:#2a2a2a;border:1px solid #404040;border-right:none;border-radius:4px 0 0 4px;color:#fff;padding:10px 16px;font-family:inherit}.search-section[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#1db954}.search-section[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;background-color:#1db954;color:#000;padding:0 16px;border-radius:0 4px 4px 0;font-weight:600;transition:all .2s ease}.search-section[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]:hover{background-color:#2bde6a}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px;border-radius:4px;margin-bottom:8px;background-color:#ffffff0d;transition:all .2s ease}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-image[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:4px;margin-right:16px;object-fit:cover}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-info[_ngcontent-%COMP%]{flex:1}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;font-size:14px;font-weight:500}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 4px;font-size:12px;color:#b3b3b3}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-info[_ngcontent-%COMP%]   .album-name[_ngcontent-%COMP%]{font-size:11px;color:#b3b3b3}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .vote-btn[_ngcontent-%COMP%], .search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .vote-btn.like[_ngcontent-%COMP%]{color:#b3b3b3;background-color:transparent}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .vote-btn.like[_ngcontent-%COMP%]:hover{color:#1db954;background-color:#1db9541a}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .vote-btn.dislike[_ngcontent-%COMP%]{color:#b3b3b3;background-color:transparent}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .vote-btn.dislike[_ngcontent-%COMP%]:hover{color:#e74c3c;background-color:#e74c3c1a}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{background-color:transparent;color:#b3b3b3}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;color:#fff}.empty-state[_ngcontent-%COMP%]{background-color:#181818;border-radius:8px;box-shadow:0 4px 12px #0000004d;transition:all .3s ease;text-align:center;padding:40px 20px}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:48px;color:#b3b3b3;margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 20px;color:#b3b3b3}.empty-state[_ngcontent-%COMP%]   .btn-spotify[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;background-color:#1db954;color:#000;padding:10px 20px;border-radius:20px;font-weight:600;transition:all .2s ease}.empty-state[_ngcontent-%COMP%]   .btn-spotify[_ngcontent-%COMP%]:hover{background-color:#2bde6a;transform:scale(1.05)}.btn-refresh[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;width:36px;height:36px;border-radius:50%;background-color:#ffffff1a;color:#fff;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.btn-refresh[_ngcontent-%COMP%]:hover{background-color:#fff3;transform:rotate(180deg)}.btn-refresh[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn-danger[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;background-color:#e74c3c;color:#fff;padding:8px 16px;border-radius:4px;font-weight:500;transition:all .2s ease}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#ed7669}@media (max-width: 1024px){.admin-sidebar[_ngcontent-%COMP%]{width:200px}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){.admin-content[_ngcontent-%COMP%]{flex-direction:column}.admin-sidebar[_ngcontent-%COMP%]{width:100%;border-right:none;border-bottom:1px solid #282828;padding:16px}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:16px}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{width:100%;margin-bottom:8px}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   .sidebar-btn[_ngcontent-%COMP%]{width:auto;margin-bottom:0}.admin-sidebar[_ngcontent-%COMP%]   .spotify-status[_ngcontent-%COMP%]{margin-top:16px}.admin-main[_ngcontent-%COMP%]{padding:16px}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.dashboard-actions[_ngcontent-%COMP%]{flex-wrap:wrap}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .album-art-large[_ngcontent-%COMP%]{margin-right:0;margin-bottom:16px}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .playing-actions[_ngcontent-%COMP%]{margin-top:16px}.recent-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}@media (max-width: 480px){.admin-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:16px}.admin-header[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]{align-self:stretch;text-align:center}.playing-content[_ngcontent-%COMP%]   .playing-actions[_ngcontent-%COMP%], .rank-actions[_ngcontent-%COMP%], .result-actions[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center}.recent-grid[_ngcontent-%COMP%], .edit-fields[_ngcontent-%COMP%]{grid-template-columns:1fr!important}}.message-container[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;z-index:1000;max-width:400px}.success-message[_ngcontent-%COMP%], .error-message[_ngcontent-%COMP%], .progress-message[_ngcontent-%COMP%]{padding:12px 16px;border-radius:6px;margin-bottom:10px;box-shadow:0 4px 12px #0000004d;display:flex;align-items:center;animation:_ngcontent-%COMP%_slideIn .3s ease}.success-message[_ngcontent-%COMP%]{background-color:#1db954e6;color:#000;border-left:4px solid #1DB954}.error-message[_ngcontent-%COMP%]{background-color:#e74c3ce6;color:#fff;border-left:4px solid #e74c3c}.progress-message[_ngcontent-%COMP%]{background-color:#3498dbe6;color:#fff;border-left:4px solid #3498db}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.action-btn[_ngcontent-%COMP%]{transition:all .2s ease}.action-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.action-btn[_ngcontent-%COMP%]:disabled:hover{transform:none!important}.btn-loading[_ngcontent-%COMP%]{position:relative}.btn-loading[_ngcontent-%COMP%]:after{content:"";position:absolute;width:16px;height:16px;top:50%;left:50%;margin:-8px 0 0 -8px;border:2px solid transparent;border-top:2px solid currentColor;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return n})(),Tpe=(()=>{class n{http;apiUrl=Gr_apiUrl;constructor(t){this.http=t}getSongHistory(t="times_played",r="desc"){let i=(new Bi).set("sort_by",t).set("order",r);return this.http.get(`${this.apiUrl}/api/ranking/history`,{params:i})}voteFromHistory(t){return this.http.post(`${this.apiUrl}/api/ranking/vote-from-history`,{track_id:t})}getRankingStats(){return this.http.get(`${this.apiUrl}/api/ranking/stats`)}forceRankCurrentSong(){return this.http.post(`${this.apiUrl}/api/ranking/force-rank-current`,{})}static \u0275fac=function(r){return new(r||n)(se(Hr))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Mpe(n,e){if(1&n&&(_(0,"div",42),I(1),y()),2&n){const t=B();C(1),pe(" ",t.voteMessage," ")}}function Ape(n,e){if(1&n){const t=Ae();_(0,"button",43),H("click",function(){return J(t),X(B().filterText="")}),x(1,"i",44),y()}}function Dpe(n,e){if(1&n&&(_(0,"div",45),x(1,"i",46),I(2),y()),2&n){const t=B();C(2),pe(" ",t.error," ")}}function Spe(n,e){1&n&&(_(0,"div",47),x(1,"div",48),_(2,"p",6),I(3,"Cargando ranking hist\xf3rico..."),y()())}function xpe(n,e){1&n&&x(0,"i",72)}function Ope(n,e){1&n&&x(0,"i",73)}function Rpe(n,e){if(1&n){const t=Ae();_(0,"div",51)(1,"div",52)(2,"div",53),H("click",function(){const o=J(t).$implicit;return X(B(2).onShowDetails(o))}),_(3,"span",54),I(4),y(),_(5,"img",55),H("click",function(){const o=J(t).$implicit;return X(B(2).onShowDetails(o))}),y()(),_(6,"div",56)(7,"h3",57),H("click",function(){const o=J(t).$implicit;return X(B(2).onShowDetails(o))}),I(8),y(),_(9,"p",58),H("click",function(){const o=J(t).$implicit;return X(B(2).onShowDetails(o))}),I(10),y(),_(11,"div",59),H("click",function(){const o=J(t).$implicit;return X(B(2).onShowDetails(o))}),_(12,"span",60),x(13,"i",61),I(14),y(),_(15,"span",60),x(16,"i",62),I(17),y(),_(18,"span",60),x(19,"i",63),I(20),y()(),_(21,"div",64),H("click",function(){const o=J(t).$implicit;return X(B(2).onShowDetails(o))}),_(22,"div",65),x(23,"div",66),y(),_(24,"span",67),I(25),y()(),_(26,"p",68),I(27),y(),_(28,"button",69),H("click",function(){const o=J(t).$implicit;return X(B(2).onVote(o))}),Y(29,xpe,1,0,"i",70),Y(30,Ope,1,0,"i",71),I(31," Votar "),y()()()()}if(2&n){const t=e.$implicit,r=e.index,i=B(2);C(4),ce(r+1),C(1),L("src",t.image||"assets/default-song.png",sr)("alt",t.name),C(3),ce(t.name),C(2),ce(t.artists.join(", ")),C(4),pe(" ",t.times_played," "),C(3),pe(" ",t.total_votes," "),C(3),pe(" ",t.total_dislikes," "),C(3),bl("width",i.getVotePercentage(t),"%"),C(2),pe("",i.getVotePercentage(t),"% aprobaci\xf3n"),C(2),ce(i.formatDate(t.last_played_at)),C(1),L("disabled",i.isVoting),C(1),L("ngIf",!i.isVoting),C(1),L("ngIf",i.isVoting)}}function kpe(n,e){if(1&n&&(_(0,"div",49),Y(1,Rpe,32,15,"div",50),y()),2&n){const t=B();C(1),L("ngForOf",t.getTabSongs())}}function Npe(n,e){1&n&&(_(0,"div",47),x(1,"i",74),_(2,"h4",6),I(3,"No se encontraron canciones"),y(),_(4,"p",6),I(5,"Intenta con otros t\xe9rminos de b\xfasqueda"),y()())}function Fpe(n,e){if(1&n){const t=Ae();_(0,"div",75),H("click",function(){return J(t),X(B().onCloseDetails())}),y()}}function Vpe(n,e){1&n&&x(0,"i",72)}function Lpe(n,e){1&n&&x(0,"i",73)}function Upe(n,e){if(1&n){const t=Ae();_(0,"div",76)(1,"div",77)(2,"div",78)(3,"div",79)(4,"h5",80),x(5,"i",81),I(6,"Detalles de la Canci\xf3n "),y(),_(7,"button",82),H("click",function(){return J(t),X(B().onCloseDetails())}),I(8," Cerrar "),y()(),_(9,"div",83)(10,"div",84)(11,"div",85),x(12,"img",86),_(13,"button",69),H("click",function(){J(t);const i=B();return X(i.onVote(i.selectedSong))}),Y(14,Vpe,1,0,"i",70),Y(15,Lpe,1,0,"i",71),I(16," Votar por esta canci\xf3n "),y()(),_(17,"div",87)(18,"h4",6),I(19),y(),_(20,"p",6),I(21),y(),_(22,"div",88)(23,"div",89)(24,"div",90)(25,"h3",91),I(26),y(),_(27,"p",92),I(28,"Reproducciones"),y()()(),_(29,"div",89)(30,"div",90)(31,"h3",93),I(32),y(),_(33,"p",92),I(34,"Votos positivos"),y()()(),_(35,"div",94)(36,"div",90)(37,"h3",95),I(38),y(),_(39,"p",92),I(40,"Votos negativos"),y()()(),_(41,"div",94)(42,"div",90)(43,"h3",96),I(44),y(),_(45,"p",92),I(46,"Porcentaje de aprobaci\xf3n"),y()()()(),_(47,"div",97)(48,"h6",6),I(49,"\xdaltima reproducci\xf3n"),y(),_(50,"p",6),I(51),y(),_(52,"h6",6),I(53,"D\xedas desde la \xfaltima reproducci\xf3n"),y(),_(54,"p",6),I(55),y()()()()()()()()}if(2&n){const t=B();C(12),L("src",t.selectedSong.image||"assets/default-song.png",sr)("alt",t.selectedSong.name),C(1),L("disabled",t.isVoting),C(1),L("ngIf",!t.isVoting),C(1),L("ngIf",t.isVoting),C(4),ce(t.selectedSong.name),C(2),ce(t.selectedSong.artists.join(", ")),C(5),ce(t.selectedSong.times_played),C(6),ce(t.selectedSong.total_votes),C(6),ce(t.selectedSong.total_dislikes),C(6),pe("",t.getVotePercentage(t.selectedSong),"%"),C(7),ce(t.formatDate(t.selectedSong.last_played_at)),C(4),pe("",t.getDaysSinceLastPlayed(t.selectedSong)," d\xedas")}}let Bpe=(()=>{class n{rankingService;votingService;songs=[];isLoading=!0;error="";sortBy="times_played";sortOrder="desc";filterText="";selectedSong=null;isVoting=!1;voteMessage="";activeTab="all";stats={};pollingSubscription=null;constructor(t,r){this.rankingService=t,this.votingService=r}ngOnInit(){this.loadRanking(),this.startPolling()}ngOnDestroy(){this.pollingSubscription&&this.pollingSubscription.unsubscribe()}startPolling(){this.pollingSubscription=this.votingService.getRankedSongsPolling().subscribe({next:()=>{this.loadRanking()}})}loadRanking(){this.isLoading=!0,this.error="",this.rankingService.getSongHistory(this.sortBy,this.sortOrder).subscribe({next:t=>{this.songs=t,this.calculateStats(),this.isLoading=!1},error:t=>{console.error("Error loading ranking:",t),this.error="Error al cargar el ranking. Intenta nuevamente.",this.isLoading=!1}})}calculateStats(){0!==this.songs.length?(this.stats.totalSongs=this.songs.length,this.stats.totalPlays=this.songs.reduce((t,r)=>t+r.times_played,0),this.stats.totalVotes=this.songs.reduce((t,r)=>t+r.total_votes,0),this.stats.totalDislikes=this.songs.reduce((t,r)=>t+r.total_dislikes,0),this.stats.mostPlayed=this.songs.reduce((t,r)=>r.times_played>t.times_played?r:t,this.songs[0]),this.stats.mostVoted=this.songs.reduce((t,r)=>r.total_votes>t.total_votes?r:t,this.songs[0]),this.stats.bestRated=this.songs.reduce((t,r)=>this.getVotePercentage(r)>this.getVotePercentage(t)?r:t,this.songs[0])):this.stats={}}onSortChange(t){this.sortBy===t?this.sortOrder="desc"===this.sortOrder?"asc":"desc":(this.sortBy=t,this.sortOrder="desc"),this.loadRanking()}getSortIcon(t){return this.sortBy!==t?"fa-sort":"desc"===this.sortOrder?"fa-sort-down":"fa-sort-up"}onVote(t){this.isVoting=!0,this.voteMessage="",this.rankingService.voteFromHistory(t.track_id).subscribe({next:r=>{this.voteMessage="Agregada a Ranking de Votacion",this.isVoting=!1;const i=this.songs.findIndex(o=>o.track_id===t.track_id);-1!==i&&(this.songs[i].total_votes+=1,this.calculateStats()),setTimeout(()=>{this.voteMessage=""},5e3)},error:r=>{console.error("Error voting:",r),this.voteMessage=r.error?.error||"Error al votar",this.isVoting=!1,setTimeout(()=>{this.voteMessage=""},5e3)}})}onShowDetails(t){this.selectedSong=t}onCloseDetails(){this.selectedSong=null}get filteredSongs(){if(!this.filterText)return this.songs;const t=this.filterText.toLowerCase();return this.songs.filter(r=>r.name.toLowerCase().includes(t)||r.artists.some(i=>i.toLowerCase().includes(t)))}getVotePercentage(t){return t.total_votes||t.total_dislikes?Math.round(t.total_votes/(t.total_votes+t.total_dislikes)*100):0}formatDate(t){const r=new Date(t);return new Intl.DateTimeFormat("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}).format(r)}getDaysSinceLastPlayed(t){const r=new Date(t.last_played_at),o=Math.abs((new Date).getTime()-r.getTime());return Math.floor(o/864e5)}setActiveTab(t){this.activeTab=t}getTabSongs(){switch(this.activeTab){case"mostPlayed":return[...this.filteredSongs].sort((t,r)=>r.times_played-t.times_played);case"mostVoted":return[...this.filteredSongs].sort((t,r)=>r.total_votes-t.total_votes);case"bestRated":return[...this.filteredSongs].sort((t,r)=>{const i=this.getVotePercentage(t);return this.getVotePercentage(r)-i});default:return this.filteredSongs}}static \u0275fac=function(r){return new(r||n)(z(Tpe),z(Tu))};static \u0275cmp=Tn({type:n,selectors:[["app-ranking"]],standalone:!0,features:[kn],decls:88,vars:30,consts:[[1,"ranking-container","fade-in"],[1,"message-container"],["class","success-message",4,"ngIf"],[1,"header-section"],[1,"gradient-text"],[1,"fas","fa-trophy","me-2"],[1,"text-muted"],[1,"stats-grid","mb-4"],[1,"stat-card","card"],[1,"card-body","text-center"],[1,"fas","fa-music","stat-icon"],[1,"stat-value"],[1,"stat-label"],[1,"fas","fa-play-circle","stat-icon"],[1,"fas","fa-thumbs-up","stat-icon"],[1,"fas","fa-thumbs-down","stat-icon"],[1,"tabs-container","mb-4"],[1,"nav","nav-tabs"],[1,"nav-item"],[1,"nav-link",3,"click"],[1,"fas","fa-list","me-1"],[1,"fas","fa-play-circle","me-1"],[1,"fas","fa-thumbs-up","me-1"],[1,"fas","fa-star","me-1"],[1,"filters-card","card","mb-4"],[1,"card-body"],[1,"row","align-items-center"],[1,"col-md-6","mb-3","mb-md-0"],[1,"search-container"],[1,"fas","fa-search","search-icon"],["type","text","placeholder","Buscar canci\xf3n o artista...",1,"search-input",3,"ngModel","ngModelChange"],["class","search-clear",3,"click",4,"ngIf"],[1,"col-md-6"],[1,"d-flex","flex-wrap","gap-2","justify-content-md-end"],[1,"text-muted","me-2"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"fas","fa-calendar","me-1"],["class","alert alert-danger","role","alert",4,"ngIf"],["class","text-center py-5",4,"ngIf"],["class","songs-grid",4,"ngIf"],["class","modal-backdrop show",3,"click",4,"ngIf"],["class","modal show d-block","tabindex","-1",4,"ngIf"],[1,"success-message"],[1,"search-clear",3,"click"],[1,"fas","fa-times"],["role","alert",1,"alert","alert-danger"],[1,"fas","fa-exclamation-triangle","me-2"],[1,"text-center","py-5"],[1,"loading-spinner","mb-3"],[1,"songs-grid"],["class","song-card spotify-card",4,"ngFor","ngForOf"],[1,"song-card","spotify-card"],[1,"card-content"],[1,"song-image-container",3,"click"],[1,"position-number"],[1,"song-image",3,"src","alt","click"],[1,"song-info"],[1,"song-title",3,"click"],[1,"song-artist",3,"click"],[1,"song-stats",3,"click"],[1,"stat-item"],[1,"fas","fa-play"],[1,"fas","fa-thumbs-up"],[1,"fas","fa-thumbs-down"],[1,"approval-container",3,"click"],[1,"approval-bar"],[1,"approval-progress"],[1,"approval-text"],[1,"last-played"],[1,"btn","btn-primary","w-100","mb-2",3,"disabled","click"],["class","fas fa-vote-yea me-1",4,"ngIf"],["class","fas fa-spinner fa-spin me-1",4,"ngIf"],[1,"fas","fa-vote-yea","me-1"],[1,"fas","fa-spinner","fa-spin","me-1"],[1,"fas","fa-music","fa-3x","text-muted","mb-3"],[1,"modal-backdrop","show",3,"click"],["tabindex","-1",1,"modal","show","d-block"],[1,"modal-dialog","modal-lg"],[1,"modal-content","card"],[1,"modal-header","card-header"],[1,"modal-title"],[1,"fas","fa-info-circle","me-2"],["type","button",1,"btn","btn-primary","w-100","mb-2",3,"click"],[1,"modal-body","card-body"],[1,"row"],[1,"col-md-4","text-center"],[1,"img-fluid","rounded","mb-3",3,"src","alt"],[1,"col-md-8"],[1,"row","mt-4"],[1,"col-6"],[1,"stat-box","text-center","p-3","rounded"],[1,"text-primary"],[1,"mb-0","text-muted"],[1,"text-success"],[1,"col-6","mt-3"],[1,"text-danger"],[1,"text-info"],[1,"mt-4"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1),Y(2,Mpe,2,1,"div",2),y(),_(3,"div",3)(4,"h1",4),x(5,"i",5),I(6,"Ranking Hist\xf3rico "),y(),_(7,"p",6),I(8," Descubre las canciones m\xe1s populares que han sonado en nuestro restaurante "),y()(),_(9,"div",7)(10,"div",8)(11,"div",9),x(12,"i",10),_(13,"h3",11),I(14),y(),_(15,"p",12),I(16,"Canciones totales"),y()()(),_(17,"div",8)(18,"div",9),x(19,"i",13),_(20,"h3",11),I(21),y(),_(22,"p",12),I(23,"Reproducciones"),y()()(),_(24,"div",8)(25,"div",9),x(26,"i",14),_(27,"h3",11),I(28),y(),_(29,"p",12),I(30,"Votos positivos"),y()()(),_(31,"div",8)(32,"div",9),x(33,"i",15),_(34,"h3",11),I(35),y(),_(36,"p",12),I(37,"Votos negativos"),y()()()(),_(38,"div",16)(39,"ul",17)(40,"li",18)(41,"a",19),H("click",function(){return i.setActiveTab("all")}),x(42,"i",20),I(43,"Todas "),y()(),_(44,"li",18)(45,"a",19),H("click",function(){return i.setActiveTab("mostPlayed")}),x(46,"i",21),I(47,"M\xe1s reproducidas "),y()(),_(48,"li",18)(49,"a",19),H("click",function(){return i.setActiveTab("mostVoted")}),x(50,"i",22),I(51,"M\xe1s votadas "),y()(),_(52,"li",18)(53,"a",19),H("click",function(){return i.setActiveTab("bestRated")}),x(54,"i",23),I(55,"Mejor valoradas "),y()()()(),_(56,"div",24)(57,"div",25)(58,"div",26)(59,"div",27)(60,"div",28),x(61,"i",29),_(62,"input",30),H("ngModelChange",function(s){return i.filterText=s}),y(),Y(63,Ape,2,0,"button",31),y(),_(64,"p",6),I(65,"Preciona la cacion para ver los detallas "),y()(),_(66,"div",32)(67,"div",33)(68,"span",34),I(69,"Ordenar por:"),y(),_(70,"button",35),H("click",function(){return i.onSortChange("times_played")}),x(71,"i",21),I(72," Reproducciones "),x(73,"i"),y(),_(74,"button",35),H("click",function(){return i.onSortChange("total_votes")}),x(75,"i",22),I(76," Votos "),x(77,"i"),y(),_(78,"button",35),H("click",function(){return i.onSortChange("last_played_at")}),x(79,"i",36),I(80," Fecha "),x(81,"i"),y()()()()()(),Y(82,Dpe,3,1,"div",37),Y(83,Spe,4,0,"div",38),Y(84,kpe,2,1,"div",39),Y(85,Npe,6,0,"div",38),Y(86,Fpe,1,0,"div",40),Y(87,Upe,56,13,"div",41),y()),2&r&&(C(2),L("ngIf",i.voteMessage),C(12),ce(i.stats.totalSongs||0),C(7),ce(i.stats.totalPlays||0),C(7),ce(i.stats.totalVotes||0),C(7),ce(i.stats.totalDislikes||0),C(6),me("active","all"===i.activeTab),C(4),me("active","mostPlayed"===i.activeTab),C(4),me("active","mostVoted"===i.activeTab),C(4),me("active","bestRated"===i.activeTab),C(9),L("ngModel",i.filterText),C(1),L("ngIf",i.filterText),C(10),rp("fas ",i.getSortIcon("times_played")," ms-1"),C(4),rp("fas ",i.getSortIcon("total_votes")," ms-1"),C(4),rp("fas ",i.getSortIcon("last_played_at")," ms-1"),C(1),L("ngIf",i.error),C(1),L("ngIf",i.isLoading),C(1),L("ngIf",!i.isLoading&&i.getTabSongs().length>0),C(1),L("ngIf",!i.isLoading&&0===i.getTabSongs().length),C(1),L("ngIf",i.selectedSong),C(1),L("ngIf",i.selectedSong))},dependencies:[Er,oi,hr,aa,vi,es,co,nd],styles:['.ranking-container[_ngcontent-%COMP%]{padding:1rem;max-width:1200px;margin:0 auto}@media (max-width: 768px){.ranking-container[_ngcontent-%COMP%]{padding:.5rem}}.header-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem;padding:1.5rem;background:linear-gradient(135deg,rgba(29,185,84,.1) 0%,rgba(25,20,20,.1) 100%);border-radius:16px}.header-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.2rem;font-weight:800;margin-bottom:.5rem}@media (max-width: 768px){.header-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}}.header-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:1rem}.search-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;background:rgba(42,42,42,.6);border-radius:50px;padding:.5rem 1rem;transition:all .3s ease;border:1px solid rgba(62,62,62,.5)}.search-container[_ngcontent-%COMP%]:focus-within{border-color:var(--primary-color);box-shadow:0 0 0 2px #1db95440}.search-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{color:var(--text-secondary);margin-right:.5rem}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--text-primary);flex-grow:1;padding:.5rem 0}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:none}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:var(--text-tertiary)}.search-container[_ngcontent-%COMP%]   .search-clear[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--text-secondary);cursor:pointer;padding:.25rem;border-radius:50%}.search-container[_ngcontent-%COMP%]   .search-clear[_ngcontent-%COMP%]:hover{color:var(--text-primary);background:rgba(255,255,255,.1)}.songs-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1rem}@media (max-width: 768px){.songs-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.75rem}}.spotify-card[_ngcontent-%COMP%]{background:rgba(42,42,42,.6);border-radius:8px;overflow:hidden;transition:all .3s ease;border:1px solid rgba(255,255,255,.05)}.spotify-card[_ngcontent-%COMP%]:hover{background:rgba(42,42,42,.8);transform:translateY(-2px);box-shadow:0 8px 24px #0003}.spotify-card[_ngcontent-%COMP%]:hover   .play-button[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}.spotify-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:1rem;display:flex;gap:1rem}@media (max-width: 480px){.spotify-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:.75rem}}.spotify-card[_ngcontent-%COMP%]   .song-image-container[_ngcontent-%COMP%]{position:relative;flex-shrink:0}.spotify-card[_ngcontent-%COMP%]   .song-image-container[_ngcontent-%COMP%]   .position-number[_ngcontent-%COMP%]{position:absolute;top:-8px;left:-8px;background:var(--primary-color);color:#000;font-weight:800;width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.8rem;z-index:2;box-shadow:0 2px 8px #1db95466}.spotify-card[_ngcontent-%COMP%]   .song-image-container[_ngcontent-%COMP%]   .song-image[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:6px;object-fit:cover;box-shadow:0 4px 12px #0000004d}@media (max-width: 480px){.spotify-card[_ngcontent-%COMP%]   .song-image-container[_ngcontent-%COMP%]   .song-image[_ngcontent-%COMP%]{width:100%;height:auto;max-height:160px}}.spotify-card[_ngcontent-%COMP%]   .song-image-container[_ngcontent-%COMP%]   .play-button[_ngcontent-%COMP%]{position:absolute;bottom:8px;right:8px;background:var(--primary-color);color:#000;border:none;border-radius:50%;width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;opacity:0;transform:translateY(8px);transition:all .3s ease;box-shadow:0 4px 12px #0000004d}.spotify-card[_ngcontent-%COMP%]   .song-image-container[_ngcontent-%COMP%]   .play-button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}@media (max-width: 480px){.spotify-card[_ngcontent-%COMP%]   .song-image-container[_ngcontent-%COMP%]   .play-button[_ngcontent-%COMP%]{opacity:1;transform:none;bottom:16px;right:16px;width:40px;height:40px}}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]{flex-grow:1;min-width:0}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   .song-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;margin:0 0 .25rem;color:var(--text-primary);cursor:pointer;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   .song-title[_ngcontent-%COMP%]:hover{color:var(--primary-color)}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   .song-artist[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary);margin:0 0 .75rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   .song-stats[_ngcontent-%COMP%]{display:flex;gap:.75rem;margin-bottom:.75rem;flex-wrap:wrap}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   .song-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;font-size:.8rem;color:var(--text-secondary)}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   .song-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color)}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   .approval-container[_ngcontent-%COMP%]{margin-bottom:.75rem}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   .approval-container[_ngcontent-%COMP%]   .approval-bar[_ngcontent-%COMP%]{height:4px;background-color:#ffffff1a;border-radius:2px;overflow:hidden;margin-bottom:.25rem}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   .approval-container[_ngcontent-%COMP%]   .approval-bar[_ngcontent-%COMP%]   .approval-progress[_ngcontent-%COMP%]{height:100%;background:var(--primary-color);border-radius:2px;transition:width .5s ease}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   .approval-container[_ngcontent-%COMP%]   .approval-text[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-secondary)}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   .last-played[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-tertiary);margin:0}.tabs-container[_ngcontent-%COMP%]{margin-bottom:1.5rem}.tabs-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]{border-bottom:1px solid rgba(255,255,255,.1);display:flex;overflow-x:auto;scrollbar-width:none}.tabs-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.tabs-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{flex-shrink:0}.tabs-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:var(--text-secondary);border:none;padding:.75rem 1rem;border-radius:0;position:relative;font-weight:600;white-space:nowrap}.tabs-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:0;height:2px;background:var(--primary-color);transition:width .3s ease}.tabs-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:var(--text-primary);background:transparent}.tabs-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover:after{width:100%}.tabs-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:var(--text-primary);background:transparent}.tabs-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{width:100%}.alert[_ngcontent-%COMP%]{border-radius:12px;border:none;box-shadow:0 4px 12px #00000026}.alert.alert-info[_ngcontent-%COMP%]{background:rgba(23,162,184,.9);color:#fff;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.alert.alert-danger[_ngcontent-%COMP%]{background:rgba(220,53,69,.9);color:#fff;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.alert[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{filter:invert(1)}.btn-closeee[_ngcontent-%COMP%]{background:rgba(3,59,17,.9);color:#030000;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}@keyframes _ngcontent-%COMP%_slideInDown{0%{transform:translateY(-20px);opacity:0}to{transform:translateY(0);opacity:1}}.alert-dismissible[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInDown .3s ease-out}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:1rem;margin-bottom:2rem}@media (max-width: 480px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{background:rgba(42,42,42,.6);border-radius:8px;padding:1rem;text-align:center;border:1px solid rgba(255,255,255,.05);transition:all .3s ease}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 6px 16px #0003;border-color:#1db95433}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--primary-color);margin-bottom:.5rem}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;margin-bottom:.25rem;color:var(--text-primary)}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-secondary);margin:0}.text-center[_ngcontent-%COMP%]{padding:3rem 1rem}.text-center[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{border:3px solid rgba(29,185,84,.3);border-top-color:var(--primary-color);border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}.text-center[_ngcontent-%COMP%]   .fa-music[_ngcontent-%COMP%]{font-size:3rem;color:var(--text-tertiary);margin-bottom:1rem}.text-center[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--text-secondary);margin-bottom:.5rem}.text-center[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-tertiary)}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.btn-outline-secondary[_ngcontent-%COMP%]{background:transparent;color:var(--text-secondary);border:1px solid var(--text-secondary);border-radius:50px;padding:.4rem .8rem;font-size:.85rem;display:inline-flex;align-items:center;transition:all .3s ease}.btn-outline-secondary[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.05);color:var(--text-primary);border-color:var(--text-primary)}.btn-outline-secondary[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:.25rem}.message-container[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;z-index:1000;max-width:400px}.success-message[_ngcontent-%COMP%], .error-message[_ngcontent-%COMP%], .progress-message[_ngcontent-%COMP%]{padding:12px 16px;border-radius:6px;margin-bottom:10px;box-shadow:0 4px 12px #0000004d;display:flex;align-items:center;animation:slideIn .3s ease}.success-message[_ngcontent-%COMP%]{background-color:#1db954e6;color:#000;border-left:4px solid #1DB954}']})}return n})(),jpe=(()=>{class n{authService;router;constructor(t,r){this.authService=t,this.router=r}canActivate(){return!!this.authService.isLoggedIn()||(this.router.navigate(["/admin-login"]),!1)}static \u0275fac=function(r){return new(r||n)(se(ca),se(Vn))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $pe(n,e){if(1&n){const t=Ae();_(0,"button",6),H("click",function(){return J(t),X(B().hideAnnouncement())}),_(1,"i"),I(2,"Cerrar"),y()()}}function Hpe(n,e){if(1&n){const t=Ae();_(0,"button",7),H("click",function(){return J(t),X(B().nohideAnnouncement())}),_(1,"i"),I(2,"Abrir"),y()()}}function zpe(n,e){1&n&&(_(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12),x(5,"i",13),y(),_(6,"div")(7,"p",14),I(8,"Desarrollado por "),_(9,"b",15),I(10,"Sebastian Vega"),y(),I(11,": "),y(),_(12,"div",16)(13,"a",17),x(14,"i",18),I(15,"GitHub "),y(),_(16,"a",19),x(17,"i",20),I(18,"LinkedIn "),y(),_(19,"a",21),x(20,"i",22),I(21,"Instagram "),y()()()()(),x(22,"div",10),I(23," UptcMusic.com 2025 - V2.8 "),_(24,"div",23)(25,"h4"),x(26,"i",24),I(27,"A nuestros queridos usuarios:"),y(),_(28,"p"),I(29,"-Una cancion es eliminada automaticamente al completar "),_(30,"strong"),I(31,"10 Dislikes "),y()(),_(32,"p"),I(33,"-Cancion que entre en reproducion se eliminara automaticamente del Ranking"),y(),_(34,"p"),I(35,"-Solo se puede votar una vez por cancion "),y(),_(36,"p"),I(37,"-Toda Cacion Reproducida va para Ranking Historico"),y(),_(38,"p"),I(39,"-Cancion con menos de 10 votos no se tiene en cuenta para ser reproducidas"),y(),_(40,"p"),I(41,"-Cada semana se eliminaran todas las canciones del Ranking "),y(),_(42,"p"),I(43,"-El administrador tiene la potestad de evaluar cada sugerencia y decidir si es apropiada para el momento o ambiente."),y(),_(44,"p")(45,"strong"),I(46,"Agradecemos enormemente su entusiasmo y participaci\xf3n. \xa1Sigan votando por su m\xfasica favorita!"),y()()()()())}let Gpe=(()=>{class n{isHidden=!1;hideAnnouncement(){this.isHidden=!0,localStorage.setItem("announcementHidden","true")}nohideAnnouncement(){this.isHidden=!1,localStorage.setItem("announcementHidden","true")}ngOnInit(){"true"===localStorage.getItem("announcementHidden")&&(this.isHidden=!0)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Tn({type:n,selectors:[["app-announcement"]],standalone:!0,features:[kn],decls:8,vars:3,consts:[[1,"announcement-container","card"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"fas","fa-info-circle","me-2"],["class","btn-close","title","Abrir",3,"click",4,"ngIf"],["class","btn-close","title","Cerrar",3,"click",4,"ngIf"],["class","card-body",4,"ngIf"],["title","Abrir",1,"btn-close",3,"click"],["title","Cerrar",1,"btn-close",3,"click"],[1,"card-body"],[1,"announcement-content"],[1,"developer-info"],[1,"d-flex","align-items-start"],[1,"me-3","mt-1"],[1,"fas","fa-laptop-code","text-primary"],[1,"mb-1"],["href","https://www.instagram.com/sebastian.vegar/"],[1,"social-links"],["href","https://github.com/SebastianVega4","target","_blank"],[1,"fab","fa-github","me-1"],["href","https://www.linkedin.com/in/johan-sebastian-vega-ruiz-b1292011b/","target","_blank"],[1,"fab","fa-linkedin","me-1"],["href","https://www.instagram.com/sebastian.vegar/","target","_blank"],[1,"fab","fa-instagram","me-1"],[1,"alert","alert-info"],[1,"fas","fa-exclamation-triangle","me-2"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"div"),x(3,"i",2),I(4,"Informaci\xf3n Importante "),y(),Y(5,$pe,3,0,"button",3),Y(6,Hpe,3,0,"button",4),y(),Y(7,zpe,47,0,"div",5),y()),2&r&&(C(5),L("ngIf",!i.isHidden),C(1),L("ngIf",i.isHidden),C(1),L("ngIf",!i.isHidden))},dependencies:[Er,hr],styles:['@charset "UTF-8";.announcement-container[_ngcontent-%COMP%]{margin-bottom:.5rem;border:1px solid rgba(255,255,255,.1);border-radius:16px;overflow:hidden;background:var(--glass-bg);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);box-shadow:0 10px 30px #0003;transition:all .3s ease}.announcement-container[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 15px 40px #1db95426;border-color:#1db95433}.announcement-container[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(29,185,84,.15) 0%,rgba(141,103,171,.15) 100%);color:var(--text-primary);font-weight:700;font-size:1.1rem;padding:1rem 1.5rem;border-bottom:1px solid rgba(255,255,255,.1);display:flex;align-items:center;justify-content:space-between}.announcement-container[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color)}.announcement-container[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-secondary);cursor:pointer;padding:.25rem;border-radius:50%;transition:all .2s ease;width:28px;height:28px;display:flex;align-items:center;justify-content:center}.announcement-container[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{color:var(--text-primary);background:rgba(255,255,255,.1);transform:rotate(90deg)}.announcement-container[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.announcement-container[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1.5rem}.announcement-container[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{border:none;border-radius:12px;padding:1.5rem;background:rgba(83,143,221,.1);border-left:4px solid rgba(83,143,221,.5)}.announcement-container[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:1rem;color:var(--text-primary);display:flex;align-items:center}.announcement-container[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#538fdd;margin-right:.5rem;font-size:1.2rem}.announcement-container[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.6;color:var(--text-secondary);margin-bottom:1rem}.announcement-container[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.announcement-container[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--text-primary);font-weight:600}.announcement-container[_ngcontent-%COMP%]   .developer-info[_ngcontent-%COMP%]{margin-top:1.5rem;padding-top:1.5rem;border-top:1px solid rgba(255,255,255,.1)}.announcement-container[_ngcontent-%COMP%]   .developer-info[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{align-items:flex-start}.announcement-container[_ngcontent-%COMP%]   .developer-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary);margin-bottom:.5rem}.announcement-container[_ngcontent-%COMP%]   .developer-info[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.95rem;color:var(--text-primary);margin-bottom:1rem;font-weight:600}.announcement-container[_ngcontent-%COMP%]   .developer-info[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{display:flex;gap:1.2rem}.announcement-container[_ngcontent-%COMP%]   .developer-info[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;transition:all .3s ease;font-size:.9rem;color:var(--text-secondary);display:flex;align-items:center}.announcement-container[_ngcontent-%COMP%]   .developer-info[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--primary-color);transform:translateY(-2px)}.announcement-container[_ngcontent-%COMP%]   .developer-info[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.4rem;font-size:1rem}.announcement-container[_ngcontent-%COMP%]:hover{border-color:var(--primary-color)}']})}return n})();function qpe(n,e){if(1&n){const t=Ae();_(0,"button",7),H("click",function(){return J(t),X(B().hideAnnouncement())}),_(1,"i"),I(2,"Cerrar"),y()()}}function Wpe(n,e){if(1&n){const t=Ae();_(0,"button",8),H("click",function(){return J(t),X(B().nohideAnnouncement())}),_(1,"i"),I(2,"Abrir"),y()()}}function Kpe(n,e){1&n&&(_(0,"div",12),x(1,"div",13),_(2,"p"),I(3,"Cargando horarios..."),y()())}const Qpe=function(){return["Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes"]};function Ype(n,e){if(1&n&&(_(0,"tr")(1,"td",17)(2,"strong"),I(3),y()(),_(4,"td",18)(5,"span",19),I(6),y()(),_(7,"td",20)(8,"span",19),I(9),y()(),_(10,"td",21)(11,"span",22),I(12),y()()()),2&n){const t=e.$implicit,r=B(3);C(3),ce(ys(14,Qpe)[t.day_of_week]),C(2),me("empty",!t.lunch_start&&!t.lunch_end),C(1),ki(" ",r.convertToAmPm(t.lunch_start)||"-"," - ",r.convertToAmPm(t.lunch_end)||"-"," "),C(2),me("empty",!t.dinner_start&&!t.dinner_end),C(1),ki(" ",r.convertToAmPm(t.dinner_start)||"-"," - ",r.convertToAmPm(t.dinner_end)||"-"," "),C(2),me("active",t.is_active)("inactive",!t.is_active),C(1),pe(" ",t.is_active?"Activo":"Inactivo"," ")}}function Jpe(n,e){if(1&n&&(_(0,"div",14)(1,"table",15)(2,"thead")(3,"tr")(4,"th"),I(5,"D\xeda"),y(),_(6,"th"),I(7,"Almuerzo"),y(),_(8,"th"),I(9,"Cena"),y(),_(10,"th"),I(11,"Estado"),y()()(),_(12,"tbody"),Y(13,Ype,13,15,"tr",16),y()()()),2&n){const t=B(2);C(13),L("ngForOf",t.schedules)}}function Xpe(n,e){if(1&n&&(_(0,"div",9),Y(1,Kpe,4,0,"div",10),Y(2,Jpe,14,1,"div",11),y()),2&n){const t=B();C(1),L("ngIf",t.isLoading),C(1),L("ngIf",!t.isLoading)}}let Zpe=(()=>{class n{scheduleService;schedules=[];isLoading=!0;isHidden=!1;constructor(t){this.scheduleService=t}hideAnnouncement(){this.isHidden=!0,localStorage.setItem("announcementHidden","true")}nohideAnnouncement(){this.isHidden=!1,localStorage.setItem("announcementHidden","true")}ngOnInit(){this.loadSchedules(),"true"===localStorage.getItem("announcementHidden")&&(this.isHidden=!0)}loadSchedules(){this.scheduleService.getSchedules().subscribe({next:t=>{this.schedules=t,this.isLoading=!1},error:t=>{console.error("Error al cargar horarios:",t),this.isLoading=!1}})}convertToAmPm(t){if(!t)return"";const[r,i]=t.split(":"),o=parseInt(r,10);return`${o%12||12}:${i} ${o>=12?"PM":"AM"}`}static \u0275fac=function(r){return new(r||n)(z(UB))};static \u0275cmp=Tn({type:n,selectors:[["app-schedule"]],standalone:!0,features:[kn],decls:8,vars:3,consts:[[1,"card","schedule-card"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"fas","fa-clock","me-2"],["class","btn-close","title","Abrir",3,"click",4,"ngIf"],["class","btn-close","title","Cerrar",3,"click",4,"ngIf"],["class","card-body",4,"ngIf"],["title","Abrir",1,"btn-close",3,"click"],["title","Cerrar",1,"btn-close",3,"click"],[1,"card-body"],["class","loading-container",4,"ngIf"],["class","schedule-table-container",4,"ngIf"],[1,"loading-container"],[1,"spinner"],[1,"schedule-table-container"],[1,"schedule-table"],[4,"ngFor","ngForOf"],["data-label","D\xeda"],["data-label","Almuerzo"],[1,"time-slot"],["data-label","Cena"],["data-label","Estado"],[1,"status-badge"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"h5",2),x(3,"i",3),I(4,"Horarios de M\xfasica"),y(),Y(5,qpe,3,0,"button",4),Y(6,Wpe,3,0,"button",5),y(),Y(7,Xpe,3,2,"div",6),y()),2&r&&(C(5),L("ngIf",!i.isHidden),C(1),L("ngIf",i.isHidden),C(1),L("ngIf",!i.isHidden))},dependencies:[Er,oi,hr],styles:[".schedule-card[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border:1px solid rgba(255,255,255,.1);border-radius:16px;overflow:hidden;margin-bottom:.5rem;box-shadow:0 8px 32px #0003}.schedule-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(29,185,84,.15) 0%,rgba(141,103,171,.15) 100%);border-bottom:1px solid rgba(255,255,255,.1);padding:1.2rem 1.5rem}.schedule-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;font-weight:700;color:var(--text-primary);display:flex;align-items:center;font-size:1.2rem}.schedule-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color);margin-right:.8rem;font-size:1.1rem}.schedule-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1.5rem}.schedule-table-container[_ngcontent-%COMP%]{overflow-x:auto;border-radius:12px}.schedule-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;color:var(--text-primary)}.schedule-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:rgba(29,185,84,.1);padding:.9rem 1rem;text-align:left;font-weight:600;font-size:.85rem;text-transform:uppercase;letter-spacing:.5px;color:var(--text-secondary);border-bottom:2px solid rgba(255,255,255,.1)}.schedule-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:8px}.schedule-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:8px}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:all .3s ease;border-bottom:1px solid rgba(255,255,255,.05)}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.03)}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:8px}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:8px}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;font-size:.95rem}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{font-weight:600;color:var(--text-primary)}.time-slot[_ngcontent-%COMP%]{display:inline-block;padding:.4rem .8rem;border-radius:6px;background:rgba(42,42,42,.4);font-size:.9rem}.time-slot.empty[_ngcontent-%COMP%]{color:var(--text-tertiary);font-style:italic}.status-badge[_ngcontent-%COMP%]{padding:.5rem .9rem;border-radius:50px;font-size:.8rem;font-weight:600;display:inline-flex;align-items:center;justify-content:center;min-width:80px}.status-badge.active[_ngcontent-%COMP%]{background:rgba(29,185,84,.2);color:var(--primary-color);border:1px solid rgba(29,185,84,.3)}.status-badge.inactive[_ngcontent-%COMP%]{background:rgba(255,255,255,.1);color:var(--text-secondary);border:1px solid rgba(255,255,255,.1)}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem}.loading-container[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid rgba(29,185,84,.2);border-radius:50%;border-top-color:var(--primary-color);animation:_ngcontent-%COMP%_spin 1s ease-in-out infinite;margin-bottom:1rem}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);margin:0}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@media (max-width: 768px){.schedule-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:1rem}.schedule-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.1rem}.schedule-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1rem}.schedule-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:none}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:block;margin-bottom:1rem;padding:1rem;border-radius:12px;background:rgba(42,42,42,.3);border:1px solid rgba(255,255,255,.1)}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{margin-bottom:0}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block;padding:.6rem 0;text-align:left;border:none;font-size:.9rem}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);font-weight:700;display:block;margin-bottom:.3rem;color:var(--text-secondary);font-size:.8rem;text-transform:uppercase}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-top:0;font-size:1rem;margin-bottom:.5rem;padding-bottom:.5rem;border-bottom:1px solid rgba(255,255,255,.1)}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child:before{display:none}.time-slot[_ngcontent-%COMP%]{padding:.3rem .6rem;font-size:.85rem}.status-badge[_ngcontent-%COMP%]{padding:.4rem .7rem;font-size:.75rem;min-width:70px}}@media (max-width: 480px){.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{padding:.8rem}}.btn-close[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-secondary);cursor:pointer;padding:.25rem;border-radius:50%;transition:all .2s ease;width:28px;height:28px;display:flex;align-items:center;justify-content:center}.btn-close[_ngcontent-%COMP%]:hover{color:var(--text-primary);background:rgba(255,255,255,.1);transform:rotate(90deg)}.btn-close[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}"]})}return n})(),jB=(()=>{class n{http;apiUrl=Gr_apiUrl;likedItems=new Set;constructor(t){this.http=t,this.loadLikedItemsFromStorage()}loadLikedItemsFromStorage(){const t=localStorage.getItem("discussion_likes");t&&(this.likedItems=new Set(JSON.parse(t)))}saveLikedItemsToStorage(){localStorage.setItem("discussion_likes",JSON.stringify([...this.likedItems]))}getItemKey(t,r){return`${t}:${r}`}hasUserLiked(t,r){return this.likedItems.has(this.getItemKey(t,r))}updateLikeStatus(t,r,i){const o=this.getItemKey(t,r);i?this.likedItems.add(o):this.likedItems.delete(o),this.saveLikedItemsToStorage()}getThreads(t="updated_at",r="desc"){return this.http.get(`${this.apiUrl}/api/discussion/threads?sort=${t}&order=${r}`)}getThread(t){return this.http.get(`${this.apiUrl}/api/discussion/threads/${t}`)}createThread(t,r){return this.http.post(`${this.apiUrl}/api/discussion/threads`,{title:t,content:r})}addComment(t,r,i){return this.http.post(`${this.apiUrl}/api/discussion/threads/${t}/comments`,{content:r,parent_comment_id:i})}likeThread(t){return this.http.post(`${this.apiUrl}/api/discussion/like`,{thread_id:t}).pipe(Xe(r=>{this.updateLikeStatus("thread",t,"liked"===r.action)}))}likeComment(t){return this.http.post(`${this.apiUrl}/api/discussion/like`,{comment_id:t}).pipe(Xe(r=>{this.updateLikeStatus("comment",t,"liked"===r.action)}))}static \u0275fac=function(r){return new(r||n)(se(Hr))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ege(n,e){if(1&n){const t=Ae();_(0,"div",22),x(1,"i",23),I(2),_(3,"button",24),H("click",function(){return J(t),X(B().error=null)}),x(4,"i",25),y()()}if(2&n){const t=B();C(2),pe(" ",t.error," ")}}function tge(n,e){if(1&n){const t=Ae();_(0,"div",26)(1,"div",27)(2,"h3"),I(3,"Crear Nuevo Hilo"),y(),_(4,"div",28)(5,"label",29),I(6,"T\xedtulo"),y(),_(7,"input",30),H("ngModelChange",function(i){return J(t),X(B().newThread.title=i)}),y(),_(8,"small"),I(9),y()(),_(10,"div",28)(11,"label",31),I(12,"Contenido"),y(),_(13,"textarea",32),H("ngModelChange",function(i){return J(t),X(B().newThread.content=i)}),y()(),_(14,"div",33)(15,"button",34),H("click",function(){J(t);const i=B();return i.showCreateForm=!1,X(i.newThread={title:"",content:""})}),I(16," Cancelar "),y(),_(17,"button",35),H("click",function(){return J(t),X(B().createThread())}),x(18,"i",36),I(19,"Publicar Hilo "),y()()()()}if(2&n){const t=B();C(7),L("ngModel",t.newThread.title),C(2),pe("",t.newThread.title.length,"/200 caracteres"),C(4),L("ngModel",t.newThread.content),C(4),L("disabled",!t.newThread.title.trim()||!t.newThread.content.trim())}}function nge(n,e){1&n&&(_(0,"div",37),x(1,"div",38),_(2,"p"),I(3,"Cargando hilos..."),y()())}function rge(n,e){if(1&n){const t=Ae();_(0,"div",39),x(1,"i",40),_(2,"h3"),I(3,"\xa1S\xe9 el primero en empezar una conversaci\xf3n!"),y(),_(4,"p"),I(5,"A\xfan no hay hilos de discusi\xf3n. Crea el primero para hablar sobre m\xfasica."),y(),_(6,"button",5),H("click",function(){return J(t),X(B().showCreateForm=!0)}),x(7,"i",6),I(8,"Crear Primer Hilo "),y()()}}const $B=function(n){return["/discussion/thread",n]};function ige(n,e){if(1&n){const t=Ae();_(0,"div",41)(1,"div",42)(2,"h3",43)(3,"a",44),I(4),y()(),_(5,"span",45),I(6),y()(),_(7,"div",46)(8,"p"),I(9),y()(),_(10,"div",47)(11,"div",48)(12,"button",49),H("click",function(){const o=J(t).$implicit;return X(B().likeThread(o))}),x(13,"i",50),_(14,"span"),I(15),y()()(),_(16,"div",48),x(17,"i",51),_(18,"span"),I(19),y()(),_(20,"div",48),x(21,"i",52),_(22,"span"),I(23),y()()(),_(24,"div",53)(25,"a",54),x(26,"i",55),I(27,"Ver discusi\xf3n "),y()()()}if(2&n){const t=e.$implicit,r=B();C(3),L("routerLink",Gv(10,$B,t.id)),C(1),ce(t.title),C(2),ce(r.formatTimeAgo(t.updated_at)),C(3),ce(t.content.length>300?t.content.substring(0,300)+"...":t.content),C(3),me("liked",t.user_has_liked),C(3),ce(t.likes_count),C(4),ce(t.comments_count),C(4),pe("Usuario ",t.author_fingerprint.substring(0,8),""),C(2),L("routerLink",Gv(12,$B,t.id))}}function oge(n,e){1&n&&(_(0,"div",56)(1,"button",57),x(2,"i",58),I(3," Anterior "),y(),_(4,"span",59),I(5,"P\xe1gina 1 de 1"),y(),_(6,"button",57),I(7," Siguiente "),x(8,"i",60),y()())}function age(n,e){if(1&n){const t=Ae();_(0,"div",8),x(1,"i",9),I(2),_(3,"button",10),H("click",function(){return J(t),X(B().error=null)}),x(4,"i",11),y()()}if(2&n){const t=B();C(2),pe(" ",t.error," ")}}function cge(n,e){1&n&&(_(0,"div",12)(1,"div",13),x(2,"div",14),_(3,"p"),I(4,"Cargando hilo..."),y()()())}function uge(n,e){if(1&n){const t=Ae();_(0,"div",42)(1,"button",43),H("click",function(){return J(t),X(B(2).cancelReply())}),x(2,"i",44),I(3,"Cancelar "),y(),_(4,"button",45),H("click",function(){return J(t),X(B(2).addReply())}),x(5,"i",46),I(6,"Responder "),y()()}if(2&n){const t=B(2);C(4),L("disabled",!t.replyContent.trim())}}function lge(n,e){if(1&n){const t=Ae();_(0,"div",42)(1,"button",45),H("click",function(){return J(t),X(B(2).addComment())}),x(2,"i",47),I(3,"Publicar comentario "),y()()}if(2&n){const t=B(2);C(1),L("disabled",!t.newComment.trim())}}function dge(n,e){1&n&&(_(0,"div",48)(1,"div",49),x(2,"i",50),_(3,"h4"),I(4,"\xa1S\xe9 el primero en comentar!"),y(),_(5,"p"),I(6,"A\xfan no hay comentarios en este hilo. Comparte tu opini\xf3n."),y()()())}function hge(n,e){if(1&n){const t=Ae();_(0,"div",68)(1,"div",69),x(2,"i",56),y(),_(3,"div",57)(4,"div",58)(5,"span",59),x(6,"i",23),I(7),y(),_(8,"span",60),x(9,"i",21),I(10),y()(),_(11,"div",61)(12,"p"),I(13),y()(),_(14,"div",42)(15,"button",62),H("click",function(){const o=J(t).$implicit;return X(B(5).likeComment(o))}),x(16,"i",27),_(17,"span"),I(18),y()(),_(19,"button",63),H("click",function(){const o=J(t).$implicit,s=B(2).$implicit,a=B(3);return a.replyingTo=s.id,X(a.replyContent="@"+((null==o.author_fingerprint?null:o.author_fingerprint.substring(0,8))||"")+" ")}),x(20,"i",64),_(21,"span"),I(22,"Responder"),y()()()()()}if(2&n){const t=e.$implicit,r=B(5);C(7),pe(" Usuario ",null==t.author_fingerprint?null:t.author_fingerprint.substring(0,8)," "),C(3),pe("",r.formatTimeAgo(t.created_at)," "),C(3),ce(t.content),C(2),me("liked",t.user_has_liked),C(3),ce(t.likes_count)}}function fge(n,e){if(1&n&&(_(0,"div",66),Y(1,hge,23,6,"div",67),y()),2&n){const t=B().$implicit;C(1),L("ngForOf",t.replies)}}function pge(n,e){if(1&n){const t=Ae();_(0,"div",53)(1,"div",54)(2,"div",55),x(3,"i",56),y(),_(4,"div",57)(5,"div",58)(6,"span",59),x(7,"i",23),I(8),y(),_(9,"span",60),x(10,"i",21),I(11),y()(),_(12,"div",61)(13,"p"),I(14),y()(),_(15,"div",42)(16,"button",62),H("click",function(){const o=J(t).$implicit;return X(B(3).likeComment(o))}),x(17,"i",27),_(18,"span"),I(19),y()(),_(20,"button",63),H("click",function(){const o=J(t).$implicit,s=B(3);return s.replyingTo=o.id,X(s.replyContent="")}),x(21,"i",64),_(22,"span"),I(23,"Responder"),y()()()()(),Y(24,fge,2,1,"div",65),y()}if(2&n){const t=e.$implicit,r=B(3);me("has-replies",t.replies&&t.replies.length>0),C(8),pe(" Usuario ",null==t.author_fingerprint?null:t.author_fingerprint.substring(0,8)," "),C(3),pe("",r.formatTimeAgo(t.created_at)," "),C(3),ce(t.content),C(2),me("liked",t.user_has_liked),C(3),ce(t.likes_count),C(5),L("ngIf",t.replies&&t.replies.length>0)}}function gge(n,e){if(1&n&&(_(0,"div",51),Y(1,pge,25,9,"div",52),y()),2&n){const t=B(2);C(1),L("ngForOf",t.comments)}}function mge(n,e){if(1&n){const t=Ae();_(0,"div",15)(1,"div",16)(2,"div",17)(3,"h1",18),I(4),y(),_(5,"div",19)(6,"span",20),x(7,"i",21),I(8),y(),_(9,"span",22),x(10,"i",23),I(11),y()()(),_(12,"div",24)(13,"p"),I(14),y()(),_(15,"div",25)(16,"button",26),H("click",function(){J(t);const i=B();return X(i.likeThread(i.thread))}),x(17,"i",27),_(18,"span"),I(19),y(),_(20,"span",28),I(21,"Me gusta"),y()(),_(22,"div",29),x(23,"i",30),_(24,"span"),I(25),y(),_(26,"span",28),I(27),y()()()(),_(28,"div",31)(29,"div",32)(30,"h3"),x(31,"i",33),I(32),y(),_(33,"div",34)(34,"textarea",35),H("ngModelChange",function(i){J(t);const o=B();return X(o.replyingTo?o.replyContent=i:o.newComment=i)}),y(),Y(35,uge,7,1,"div",36),Y(36,lge,4,1,"div",36),y()()(),_(37,"div",37)(38,"div",38)(39,"h3"),x(40,"i",39),I(41),y()(),Y(42,dge,7,0,"div",40),Y(43,gge,2,1,"div",41),y()()}if(2&n){const t=B();C(4),ce(t.thread.title),C(4),pe("Publicado ",t.formatTimeAgo(t.thread.created_at)," "),C(3),pe("Usuario ",null==t.thread.author_fingerprint?null:t.thread.author_fingerprint.substring(0,8)," "),C(3),ce(t.thread.content),C(2),me("liked",t.thread.user_has_liked),C(3),ce(t.thread.likes_count),C(6),ce(t.thread.comments_count),C(2),pe("Comentario",1!==t.thread.comments_count?"s":"",""),C(5),pe(" ",t.replyingTo?"Respondiendo a comentario...":"Agregar comentario"," "),C(2),Zf("placeholder",t.replyingTo?"Escribe tu respuesta...":"Comparte tu opini\xf3n sobre este tema..."),L("ngModel",t.replyingTo?t.replyContent:t.newComment),C(1),L("ngIf",t.replyingTo),C(1),L("ngIf",!t.replyingTo),C(5),ki(" ",t.thread.comments_count," Comentario",1!==t.thread.comments_count?"s":""," "),C(1),L("ngIf",0===t.comments.length),C(1),L("ngIf",t.comments.length>0)}}const HB=function(){return["/discussion"]};function _ge(n,e){if(1&n&&(_(0,"div",70)(1,"div",71),x(2,"i",72),_(3,"h3"),I(4,"Error al cargar el hilo"),y(),_(5,"p"),I(6),y(),_(7,"a",73),x(8,"i",3),I(9,"Volver al foro "),y()()()),2&n){const t=B();C(6),ce(t.error),C(1),L("routerLink",ys(2,HB))}}const yge={providers:[function ree(n,...e){return cl([{provide:Mc,multi:!0,useValue:n},[],{provide:Ps,useFactory:Q2,deps:[Vn]},{provide:Ol,multi:!0,useFactory:Y2},e.map(t=>t.\u0275providers)])}([{path:"",component:LB},{path:"home",component:LB},{path:"ranking",component:Bpe},{path:"discussion",component:(()=>{class n{discussionService;threads=[];showCreateForm=!1;newThread={title:"",content:""};isLoading=!1;sortBy="updated_at";error=null;constructor(t){this.discussionService=t}ngOnInit(){this.loadThreads()}loadThreads(){this.isLoading=!0,this.error=null,this.discussionService.getThreads(this.sortBy).subscribe({next:t=>{this.threads=t.map(r=>({...r,user_has_liked:this.discussionService.hasUserLiked("thread",r.id)})),this.isLoading=!1},error:t=>{console.error("Error loading threads:",t),this.error="Error al cargar los hilos. Por favor, intenta nuevamente.",this.isLoading=!1}})}createThread(){!this.newThread.title.trim()||!this.newThread.content.trim()||this.discussionService.createThread(this.newThread.title,this.newThread.content).subscribe({next:t=>{this.threads.unshift({...t,user_has_liked:!1}),this.showCreateForm=!1,this.newThread={title:"",content:""},this.error=null},error:t=>{console.error("Error creating thread:",t),this.error="Error al crear el hilo. Por favor, intenta nuevamente."}})}likeThread(t){this.discussionService.likeThread(t.id).subscribe({next:r=>{t.likes_count=r.new_count,t.user_has_liked="liked"===r.action},error:r=>{console.error("Error liking thread:",r),this.error="Error al dar like. Por favor, intenta nuevamente."}})}formatTimeAgo(t){const r=new Date(t),o=(new Date).getTime()-r.getTime(),s=Math.floor(o/6e4),a=Math.floor(s/60),c=Math.floor(a/24);return s<1?"Ahora mismo":s<60?`Hace ${s} min`:a<24?`Hace ${a} h`:1===c?"Ayer":c<7?`Hace ${c} d\xedas`:c<30?`Hace ${Math.floor(c/7)} sem`:`Hace ${Math.floor(c/30)} mes`}static \u0275fac=function(r){return new(r||n)(z(jB))};static \u0275cmp=Tn({type:n,selectors:[["app-discussion"]],standalone:!0,features:[kn],decls:36,vars:10,consts:[[1,"discussion-container"],[1,"discussion-header"],[1,"header-content"],[1,"fas","fa-comments","me-2"],[1,"header-subtitle"],[1,"btn-create-thread",3,"click"],[1,"fas","fa-plus","me-1"],["class","alert alert-danger","role","alert",4,"ngIf"],["class","create-thread-form",4,"ngIf"],[1,"sort-controls"],[1,"sort-options"],[3,"ngModel","ngModelChange","change"],["value","updated_at"],["value","likes_count"],["value","comments_count"],["value","created_at"],[1,"threads-count"],[1,"threads-list"],["class","loader",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","thread-card",4,"ngFor","ngForOf"],["class","pagination",4,"ngIf"],["role","alert",1,"alert","alert-danger"],[1,"fas","fa-exclamation-triangle","me-2"],["type","button",1,"btn-close",3,"click"],[1,"fas","fa-times"],[1,"create-thread-form"],[1,"form-card"],[1,"form-group"],["for","threadTitle"],["type","text","id","threadTitle","placeholder","Escribe un t\xedtulo interesante...","maxlength","200",3,"ngModel","ngModelChange"],["for","threadContent"],["id","threadContent","placeholder","Comparte tus pensamientos, preguntas o temas musicales...","rows","6",3,"ngModel","ngModelChange"],[1,"form-actions"],[1,"btn-cancel",3,"click"],[1,"btn-submit",3,"disabled","click"],[1,"fas","fa-paper-plane","me-1"],[1,"loader"],[1,"spinner"],[1,"empty-state"],[1,"fas","fa-comments-slash"],[1,"thread-card"],[1,"thread-header"],[1,"thread-title"],[3,"routerLink"],[1,"thread-date"],[1,"thread-content"],[1,"thread-stats"],[1,"stat"],[1,"like-btn",3,"click"],[1,"fas","fa-heart"],[1,"fas","fa-comment"],[1,"fas","fa-user"],[1,"thread-actions"],[1,"btn-read-more",3,"routerLink"],[1,"fas","fa-arrow-right","me-1"],[1,"pagination"],["disabled","",1,"page-btn"],[1,"fas","fa-chevron-left","me-1"],[1,"page-info"],[1,"fas","fa-chevron-right","ms-1"]],template:function(r,i){1&r&&(_(0,"div",0),x(1,"app-announcement")(2,"app-schedule"),_(3,"div",1)(4,"div",2)(5,"h1"),x(6,"i",3),I(7,"Foro Musical "),y(),_(8,"p",4),I(9,"Comparte, discute y conecta con otros amantes de la m\xfasica"),y()(),_(10,"button",5),H("click",function(){return i.showCreateForm=!i.showCreateForm}),x(11,"i",6),I(12),y()(),Y(13,ege,5,1,"div",7),Y(14,tge,20,4,"div",8),_(15,"div",9)(16,"div",10)(17,"span"),I(18,"Ordenar por:"),y(),_(19,"select",11),H("ngModelChange",function(s){return i.sortBy=s})("change",function(){return i.loadThreads()}),_(20,"option",12),I(21,"M\xe1s reciente"),y(),_(22,"option",13),I(23,"M\xe1s populares"),y(),_(24,"option",14),I(25,"M\xe1s comentados"),y(),_(26,"option",15),I(27,"M\xe1s antiguos"),y()()(),_(28,"div",16)(29,"span"),I(30),y()()(),_(31,"div",17),Y(32,nge,4,0,"div",18),Y(33,rge,9,0,"div",19),Y(34,ige,28,14,"div",20),y(),Y(35,oge,9,0,"div",21),y()),2&r&&(C(12),pe(" ",i.showCreateForm?"Cancelar":"Nuevo Hilo"," "),C(1),L("ngIf",i.error),C(1),L("ngIf",i.showCreateForm),C(5),L("ngModel",i.sortBy),C(11),ki("",i.threads.length," hilo",1!==i.threads.length?"s":"",""),C(2),L("ngIf",i.isLoading),C(1),L("ngIf",!i.isLoading&&0===i.threads.length),C(1),L("ngForOf",i.threads),C(1),L("ngIf",i.threads.length>0))},dependencies:[Er,oi,hr,aa,PB,MB,vi,Ym,es,Xm,co,Gpe,Zpe,nd,Ts],styles:[".discussion-container[_ngcontent-%COMP%]{max-width:900px;margin:0 auto;padding:2rem;animation:_ngcontent-%COMP%_fadeIn .6s ease-out}.discussion-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding-bottom:1.5rem;border-bottom:1px solid rgba(255,255,255,.1)}.discussion-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:800;background:linear-gradient(135deg,var(--primary-color) 0%,var(--accent-purple) 100%);-webkit-text-fill-color:transparent;-webkit-background-clip:text;background-clip:text;margin-bottom:.5rem}.discussion-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-subtitle[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:1.1rem;margin:0}.discussion-header[_ngcontent-%COMP%]   .btn-create-thread[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff;border:none;padding:1rem 2rem;border-radius:50px;font-weight:700;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 15px #1db9544d}.discussion-header[_ngcontent-%COMP%]   .btn-create-thread[_ngcontent-%COMP%]:hover{background:#1ed760;transform:translateY(-2px);box-shadow:0 6px 20px #1db95466}.discussion-header[_ngcontent-%COMP%]   .btn-create-thread[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem}.create-thread-form[_ngcontent-%COMP%]{margin-bottom:2rem;animation:_ngcontent-%COMP%_slideDown .3s ease-out}.create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:16px;padding:2rem;box-shadow:0 8px 32px #0003}.create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-primary);margin-bottom:1.5rem;font-weight:700}.create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;color:var(--text-primary);font-weight:600;margin-bottom:.5rem}.create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;background:rgba(42,42,42,.6);border:1px solid rgba(255,255,255,.1);border-radius:12px;padding:1rem;color:var(--text-primary);font-size:1rem;transition:all .3s ease}.create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 2px #1db95433}.create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:var(--text-tertiary)}.create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.8rem}.create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-end}.create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background:rgba(255,255,255,.1);color:var(--text-secondary);border:1px solid rgba(255,255,255,.2);padding:.8rem 1.5rem;border-radius:50px;cursor:pointer;transition:all .3s ease}.create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.2);color:var(--text-primary)}.create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff;border:none;padding:.8rem 2rem;border-radius:50px;font-weight:700;cursor:pointer;transition:all .3s ease}.create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]:hover:not(:disabled){background:#1ed760;transform:translateY(-2px)}.create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]:disabled{background:var(--text-tertiary);cursor:not-allowed;transform:none}.sort-controls[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding:1rem 1.5rem;background:var(--glass-bg);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:12px;border:1px solid rgba(255,255,255,.1)}.sort-controls[_ngcontent-%COMP%]   .sort-options[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.sort-controls[_ngcontent-%COMP%]   .sort-options[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--text-secondary);font-weight:600}.sort-controls[_ngcontent-%COMP%]   .sort-options[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background:rgba(42,42,42,.6);border:1px solid rgba(255,255,255,.1);border-radius:8px;padding:.5rem 1rem;color:var(--text-primary);cursor:pointer}.sort-controls[_ngcontent-%COMP%]   .sort-options[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color)}.sort-controls[_ngcontent-%COMP%]   .threads-count[_ngcontent-%COMP%]{color:var(--text-primary);font-weight:700;background:var(--primary-color);padding:.5rem 1rem;border-radius:20px;font-size:.9rem}.threads-list[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{text-align:center;padding:3rem}.threads-list[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{border:3px solid rgba(255,255,255,.1);border-top:3px solid var(--primary-color);border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}.threads-list[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:1.1rem}.threads-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;color:var(--text-secondary)}.threads-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:#ffffff1a;margin-bottom:1.5rem}.threads-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-primary);margin-bottom:1rem;font-size:1.5rem}.threads-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:2rem;font-size:1.1rem}.threads-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .btn-create-thread[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff;border:none;padding:1rem 2rem;border-radius:50px;font-weight:700;cursor:pointer;transition:all .3s ease}.threads-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .btn-create-thread[_ngcontent-%COMP%]:hover{background:#1ed760;transform:translateY(-2px)}.thread-card[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:16px;padding:2rem;margin-bottom:1.5rem;transition:all .3s ease;box-shadow:0 4px 20px #0000001a}.thread-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 30px #1db95426;border-color:#1db95433}.thread-card[_ngcontent-%COMP%]   .thread-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1rem}.thread-card[_ngcontent-%COMP%]   .thread-header[_ngcontent-%COMP%]   .thread-title[_ngcontent-%COMP%]{margin:0;font-size:1.4rem;font-weight:700}.thread-card[_ngcontent-%COMP%]   .thread-header[_ngcontent-%COMP%]   .thread-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--text-primary);text-decoration:none;transition:color .3s ease}.thread-card[_ngcontent-%COMP%]   .thread-header[_ngcontent-%COMP%]   .thread-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--primary-color)}.thread-card[_ngcontent-%COMP%]   .thread-header[_ngcontent-%COMP%]   .thread-date[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.9rem;white-space:nowrap}.thread-card[_ngcontent-%COMP%]   .thread-content[_ngcontent-%COMP%]{color:var(--text-secondary);line-height:1.6;margin-bottom:1.5rem;font-size:1.1rem}.thread-card[_ngcontent-%COMP%]   .thread-stats[_ngcontent-%COMP%]{display:flex;gap:2rem;margin-bottom:1.5rem}.thread-card[_ngcontent-%COMP%]   .thread-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:var(--text-secondary);font-size:.9rem}.thread-card[_ngcontent-%COMP%]   .thread-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;display:flex;align-items:center;gap:.5rem;color:var(--text-secondary);transition:all .3s ease;padding:.5rem;border-radius:8px}.thread-card[_ngcontent-%COMP%]   .thread-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%]:hover{background:rgba(29,185,84,.1);color:#e74c3c}.thread-card[_ngcontent-%COMP%]   .thread-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .like-btn.liked[_ngcontent-%COMP%]{color:#e74c3c}.thread-card[_ngcontent-%COMP%]   .thread-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .like-btn.liked[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_heartBeat .6s ease}.thread-card[_ngcontent-%COMP%]   .thread-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:transform .3s ease}.thread-card[_ngcontent-%COMP%]   .thread-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:scale(1.2)}.thread-card[_ngcontent-%COMP%]   .thread-actions[_ngcontent-%COMP%]   .btn-read-more[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none;font-weight:700;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;padding:.5rem 1rem;border-radius:8px}.thread-card[_ngcontent-%COMP%]   .thread-actions[_ngcontent-%COMP%]   .btn-read-more[_ngcontent-%COMP%]:hover{background:rgba(29,185,84,.1);transform:translate(5px)}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1rem;margin-top:2rem;padding:1.5rem}.pagination[_ngcontent-%COMP%]   .page-btn[_ngcontent-%COMP%]{background:var(--glass-bg);border:1px solid rgba(255,255,255,.1);color:var(--text-primary);padding:.8rem 1.5rem;border-radius:50px;cursor:pointer;transition:all .3s ease;font-weight:600}.pagination[_ngcontent-%COMP%]   .page-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--primary-color);transform:translateY(-2px)}.pagination[_ngcontent-%COMP%]   .page-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.pagination[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]{color:var(--text-secondary);font-weight:600}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_heartBeat{0%{transform:scale(1)}25%{transform:scale(1.3)}50%{transform:scale(1)}75%{transform:scale(1.2)}to{transform:scale(1)}}@media (max-width: 768px){.discussion-container[_ngcontent-%COMP%]{padding:1rem}.discussion-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}.sort-controls[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.thread-card[_ngcontent-%COMP%]   .thread-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:flex-start}.thread-stats[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}}"]})}return n})()},{path:"discussion/thread/:id",component:(()=>{class n{route;discussionService;thread;comments=[];newComment="";replyingTo=null;replyContent="";error=null;isLoading=!0;constructor(t,r){this.route=t,this.discussionService=r}ngOnInit(){const t=this.route.snapshot.paramMap.get("id");t&&this.loadThread(t)}loadThread(t){this.isLoading=!0,this.error=null,this.discussionService.getThread(t).subscribe({next:r=>{this.thread={...r.thread,user_has_liked:this.discussionService.hasUserLiked("thread",r.thread.id)},this.comments=this.buildCommentTree(r.comments).map(i=>({...i,user_has_liked:this.discussionService.hasUserLiked("comment",i.id),replies:i.replies?.map(o=>({...o,user_has_liked:this.discussionService.hasUserLiked("comment",o.id)}))})),this.isLoading=!1,this.error=null},error:r=>{console.error("Error loading thread:",r),this.error="No se pudo cargar el hilo. Por favor, intenta nuevamente.",this.isLoading=!1}})}buildCommentTree(t){const r=new Map,i=[];return t.forEach(o=>{o.replies=[],r.set(o.id,o)}),t.forEach(o=>{if(o.parent_comment_id){const s=r.get(o.parent_comment_id);s&&s.replies.push(o)}else i.push(o)}),i}addComment(){this.newComment.trim()&&this.discussionService.addComment(this.thread.id,this.newComment).subscribe({next:t=>{const r={...t,user_has_liked:!1,replies:[]};this.comments.push(r),this.newComment="",this.thread.comments_count++,this.error=null},error:t=>{console.error("Error adding comment:",t),this.error="Error al agregar el comentario. Por favor, intenta nuevamente."}})}addReply(){!this.replyContent.trim()||!this.replyingTo||this.discussionService.addComment(this.thread.id,this.replyContent,this.replyingTo).subscribe({next:t=>{const r=this.findCommentById(this.replyingTo);if(r){r.replies||(r.replies=[]);const i={...t,user_has_liked:!1};r.replies.push(i)}this.replyContent="",this.replyingTo=null,this.thread.comments_count++,this.error=null},error:t=>{console.error("Error adding reply:",t),this.error="Error al agregar la respuesta. Por favor, intenta nuevamente."}})}findCommentById(t){for(const r of this.comments){if(r.id===t)return r;if(r.replies)for(const i of r.replies)if(i.id===t)return i}return null}likeThread(t){this.discussionService.likeThread(t.id).subscribe({next:r=>{t.likes_count=r.new_count,t.user_has_liked="liked"===r.action},error:r=>{console.error("Error liking thread:",r),this.error="Error al dar like. Por favor, intenta nuevamente."}})}likeComment(t){this.discussionService.likeComment(t.id).subscribe({next:r=>{t.likes_count=r.new_count,t.user_has_liked="liked"===r.action},error:r=>{console.error("Error liking comment:",r),this.error="Error al dar like. Por favor, intenta nuevamente."}})}formatTimeAgo(t){const r=new Date(t),o=(new Date).getTime()-r.getTime(),s=Math.floor(o/6e4),a=Math.floor(s/60),c=Math.floor(a/24);return s<1?"Ahora mismo":s<60?`Hace ${s} min`:a<24?`Hace ${a} h`:1===c?"Ayer":c<7?`Hace ${c} d\xedas`:c<30?`Hace ${Math.floor(c/7)} sem`:`Hace ${Math.floor(c/30)} mes`}cancelReply(){this.replyingTo=null,this.replyContent=""}static \u0275fac=function(r){return new(r||n)(z(Ps),z(jB))};static \u0275cmp=Tn({type:n,selectors:[["app-thread-detail"]],standalone:!0,features:[kn],decls:9,vars:6,consts:[[1,"thread-detail-container"],[1,"back-nav"],[1,"back-link",3,"routerLink"],[1,"fas","fa-arrow-left","me-2"],["class","alert alert-danger","role","alert",4,"ngIf"],["class","loading-state",4,"ngIf"],["class","thread-main",4,"ngIf"],["class","error-state",4,"ngIf"],["role","alert",1,"alert","alert-danger"],[1,"fas","fa-exclamation-triangle","me-2"],["type","button",1,"btn-close",3,"click"],[1,"fas","fa-times"],[1,"loading-state"],[1,"loader"],[1,"spinner"],[1,"thread-main"],[1,"thread-card","detailed"],[1,"thread-header"],[1,"thread-title"],[1,"thread-meta"],[1,"thread-date"],[1,"fas","fa-clock","me-1"],[1,"thread-author"],[1,"fas","fa-user","me-1"],[1,"thread-content","detailed"],[1,"thread-stats","detailed"],[1,"like-btn",3,"click"],[1,"fas","fa-heart"],[1,"label"],[1,"stat"],[1,"fas","fa-comment"],[1,"comment-form-section"],[1,"form-card"],[1,"fas","fa-reply","me-2"],[1,"comment-form"],["rows","4",3,"ngModel","placeholder","ngModelChange"],["class","comment-actions",4,"ngIf"],[1,"comments-section"],[1,"comments-header"],[1,"fas","fa-comments","me-2"],["class","empty-comments",4,"ngIf"],["class","comments-list",4,"ngIf"],[1,"comment-actions"],[1,"btn-cancel",3,"click"],[1,"fas","fa-times","me-1"],[1,"btn-submit",3,"disabled","click"],[1,"fas","fa-reply","me-1"],[1,"fas","fa-paper-plane","me-1"],[1,"empty-comments"],[1,"empty-state"],[1,"fas","fa-comment-slash"],[1,"comments-list"],["class","comment-item",3,"has-replies",4,"ngFor","ngForOf"],[1,"comment-item"],[1,"comment-main"],[1,"comment-avatar"],[1,"fas","fa-user"],[1,"comment-content"],[1,"comment-header"],[1,"comment-author"],[1,"comment-date"],[1,"comment-text"],[1,"comment-like-btn",3,"click"],[1,"comment-reply-btn",3,"click"],[1,"fas","fa-reply"],["class","comment-replies",4,"ngIf"],[1,"comment-replies"],["class","reply-item",4,"ngFor","ngForOf"],[1,"reply-item"],[1,"comment-avatar","small"],[1,"error-state"],[1,"error-message"],[1,"fas","fa-exclamation-triangle"],[1,"btn-retry",3,"routerLink"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"a",2),x(3,"i",3),I(4,"Volver al foro "),y()(),Y(5,age,5,1,"div",4),Y(6,cge,5,0,"div",5),Y(7,mge,44,18,"div",6),Y(8,_ge,10,3,"div",7),y()),2&r&&(C(2),L("routerLink",ys(5,HB)),C(3),L("ngIf",i.error),C(1),L("ngIf",i.isLoading),C(1),L("ngIf",i.thread&&!i.isLoading),C(1),L("ngIf",i.error&&!i.isLoading))},dependencies:[Er,oi,hr,aa,vi,es,co,nd,Ts],styles:[".thread-detail-container[_ngcontent-%COMP%]{max-width:900px;margin:0 auto;padding:2rem;animation:_ngcontent-%COMP%_fadeIn .6s ease-out}.back-nav[_ngcontent-%COMP%]{margin-bottom:2rem}.back-nav[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none;font-weight:700;display:inline-flex;align-items:center;padding:.8rem 1.5rem;background:var(--glass-bg);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:50px;transition:all .3s ease;box-shadow:0 4px 15px #0000001a}.back-nav[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]:hover{background:rgba(29,185,84,.1);transform:translate(-5px);box-shadow:0 6px 20px #1db95433}.back-nav[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:transform .3s ease}.back-nav[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:translate(-3px)}.alert[_ngcontent-%COMP%]{border:none;border-radius:12px;padding:1.2rem 1.5rem;margin-bottom:2rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);display:flex;align-items:center;justify-content:space-between}.alert.alert-danger[_ngcontent-%COMP%]{background:rgba(226,33,52,.15);color:#e22134;border:1px solid rgba(226,33,52,.2)}.alert[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{background:none;border:none;color:inherit;cursor:pointer;padding:.5rem;border-radius:50%;transition:background .3s ease}.alert[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.1)}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border:1px solid rgba(255,255,255,.1);border-radius:20px;padding:2.5rem;margin-bottom:2rem;box-shadow:0 8px 32px #0003;transition:all .3s ease}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]:hover{box-shadow:0 12px 40px #1db95426;border-color:#1db95433}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-header[_ngcontent-%COMP%]   .thread-title[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:2.2rem;font-weight:800;color:var(--text-primary);line-height:1.3;background:linear-gradient(135deg,var(--text-primary) 0%,var(--primary-color) 100%);-webkit-text-fill-color:transparent;-webkit-background-clip:text;background-clip:text}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-header[_ngcontent-%COMP%]   .thread-meta[_ngcontent-%COMP%]{display:flex;gap:2rem;color:var(--text-secondary);font-size:.95rem}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-header[_ngcontent-%COMP%]   .thread-meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-content.detailed[_ngcontent-%COMP%]{font-size:1.1rem;line-height:1.7;color:var(--text-secondary);margin-bottom:2rem;padding:1.5rem;background:rgba(255,255,255,.05);border-radius:12px;border-left:4px solid var(--primary-color)}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]{display:flex;gap:2rem}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%], .thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.8rem;padding:.8rem 1.5rem;background:rgba(255,255,255,.05);border-radius:50px;cursor:pointer;transition:all .3s ease;border:1px solid rgba(255,255,255,.1)}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%]:hover, .thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.1);transform:translateY(-2px)}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-secondary);font-weight:600}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%]{border:none;background:rgba(29,185,84,.1);color:var(--text-secondary)}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .like-btn.liked[_ngcontent-%COMP%]{color:#e74c3c;background:rgba(231,76,60,.1)}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .like-btn.liked[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_heartBeat .6s ease}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%]:hover{background:rgba(29,185,84,.2)}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%]:hover.liked{background:rgba(231,76,60,.2)}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:transform .3s ease}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:scale(1.2)}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{color:var(--text-secondary)}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color)}.comment-form-section[_ngcontent-%COMP%]{margin-bottom:2rem}.comment-form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border:1px solid rgba(255,255,255,.1);border-radius:20px;padding:2rem;box-shadow:0 8px 32px #0003}.comment-form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1.5rem;color:var(--text-primary);font-weight:700;display:flex;align-items:center;font-size:1.3rem}.comment-form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:1.2rem;background:rgba(42,42,42,.6);border:1px solid rgba(255,255,255,.1);border-radius:12px;resize:vertical;font-size:1rem;color:var(--text-primary);margin-bottom:1.5rem;transition:all .3s ease;font-family:inherit}.comment-form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 2px #1db95433;background:rgba(42,42,42,.8)}.comment-form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:var(--text-tertiary)}.comment-form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem}.comment-form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background:rgba(255,255,255,.1);color:var(--text-secondary);border:1px solid rgba(255,255,255,.2);padding:.8rem 1.5rem;border-radius:50px;cursor:pointer;transition:all .3s ease;font-weight:600}.comment-form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.2);color:var(--text-primary);transform:translateY(-2px)}.comment-form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff;border:none;padding:.8rem 2rem;border-radius:50px;cursor:pointer;font-weight:700;transition:all .3s ease;box-shadow:0 4px 15px #1db9544d}.comment-form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]:hover:not(:disabled){background:#1ed760;transform:translateY(-2px);box-shadow:0 6px 20px #1db95466}.comment-form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]:disabled{background:var(--text-tertiary);cursor:not-allowed;transform:none;box-shadow:none}.comments-section[_ngcontent-%COMP%]   .comments-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding-bottom:1rem;border-bottom:1px solid rgba(255,255,255,.1)}.comments-section[_ngcontent-%COMP%]   .comments-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:var(--text-primary);display:flex;align-items:center;font-size:1.5rem;font-weight:700}.comments-section[_ngcontent-%COMP%]   .empty-comments[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;color:var(--text-secondary)}.comments-section[_ngcontent-%COMP%]   .empty-comments[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:#ffffff1a;margin-bottom:1.5rem}.comments-section[_ngcontent-%COMP%]   .empty-comments[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--text-primary);margin-bottom:1rem;font-size:1.5rem}.comments-section[_ngcontent-%COMP%]   .empty-comments[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:1.1rem}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]{margin-bottom:2rem;animation:_ngcontent-%COMP%_slideUp .4s ease-out}.comments-list[_ngcontent-%COMP%]   .comment-item.has-replies[_ngcontent-%COMP%]{border-left:3px solid var(--primary-color);padding-left:1.5rem;margin-left:1rem}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]{display:flex;gap:1.2rem;margin-bottom:1.5rem}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-avatar[_ngcontent-%COMP%]{width:50px;height:50px;background:linear-gradient(135deg,var(--primary-color) 0%,var(--accent-purple) 100%);border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;flex-shrink:0;font-size:1.2rem;box-shadow:0 4px 15px #0003}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]{flex:1;background:var(--glass-bg);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:16px;padding:1.5rem;transition:all .3s ease}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]:hover{border-color:#1db95433;box-shadow:0 4px 20px #00000026}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-header[_ngcontent-%COMP%]   .comment-author[_ngcontent-%COMP%]{font-weight:700;color:var(--text-primary);display:flex;align-items:center;gap:.5rem}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-header[_ngcontent-%COMP%]   .comment-date[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.85rem;display:flex;align-items:center;gap:.5rem}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-text[_ngcontent-%COMP%]{color:var(--text-secondary);line-height:1.6;margin-bottom:1.2rem;font-size:1rem}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]{display:flex;gap:1.5rem}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;display:flex;align-items:center;gap:.5rem;color:var(--text-secondary);font-size:.9rem;transition:all .3s ease;padding:.5rem 1rem;border-radius:8px}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.05);color:var(--text-primary)}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   button.comment-like-btn.liked[_ngcontent-%COMP%]{color:#e74c3c}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   button.comment-like-btn.liked[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_heartBeat .6s ease}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   button.comment-like-btn[_ngcontent-%COMP%]:hover{color:#e74c3c}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   button.comment-reply-btn[_ngcontent-%COMP%]:hover{color:var(--primary-color)}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:transform .3s ease}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:scale(1.2)}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-replies[_ngcontent-%COMP%]{margin-left:3.5rem;border-left:2px solid rgba(255,255,255,.1);padding-left:1.5rem}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-replies[_ngcontent-%COMP%]   .reply-item[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1.2rem;animation:_ngcontent-%COMP%_slideUp .4s ease-out .1s both}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-replies[_ngcontent-%COMP%]   .reply-item[_ngcontent-%COMP%]   .comment-avatar.small[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1rem}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-replies[_ngcontent-%COMP%]   .reply-item[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]{background:rgba(255,255,255,.03);border-color:#ffffff0d}.loading-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem}.loading-state[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{border:3px solid rgba(255,255,255,.1);border-top:3px solid var(--primary-color);border-radius:50%;width:60px;height:60px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1.5rem}.loading-state[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:1.1rem}.loading-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:var(--text-secondary)}.loading-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:#e74c3c;margin-bottom:1.5rem}.loading-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-primary);margin-bottom:1rem;font-size:1.5rem}.loading-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .btn-retry[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .btn-retry[_ngcontent-%COMP%]{display:inline-flex;align-items:center;margin-top:1.5rem;color:var(--primary-color);text-decoration:none;font-weight:700;padding:.8rem 1.5rem;background:rgba(29,185,84,.1);border-radius:50px;transition:all .3s ease}.loading-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .btn-retry[_ngcontent-%COMP%]:hover, .error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .btn-retry[_ngcontent-%COMP%]:hover{background:rgba(29,185,84,.2);transform:translateY(-2px)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_heartBeat{0%{transform:scale(1)}25%{transform:scale(1.3)}50%{transform:scale(1)}75%{transform:scale(1.2)}to{transform:scale(1)}}@media (max-width: 768px){.thread-detail-container[_ngcontent-%COMP%]{padding:1rem}.thread-card.detailed[_ngcontent-%COMP%]{padding:1.5rem!important}.thread-card.detailed[_ngcontent-%COMP%]   .thread-title[_ngcontent-%COMP%]{font-size:1.6rem!important}.thread-card.detailed[_ngcontent-%COMP%]   .thread-meta[_ngcontent-%COMP%]{flex-direction:column;gap:.8rem!important}.thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]{flex-direction:column;gap:1rem!important}.comment-form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]{padding:1.5rem}.comments-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:flex-start!important}.comment-main[_ngcontent-%COMP%]{gap:1rem!important;flex-direction:column}.comment-replies[_ngcontent-%COMP%]{margin-left:1rem!important;padding-left:1rem!important}.comment-avatar[_ngcontent-%COMP%]{align-self:flex-start}}"]})}return n})()},{path:"admin-login",component:Kfe},{path:"admin-panel",component:Ppe,canActivate:[jpe]},{path:"**",redirectTo:""}]),xN(),function BJ(...n){const e=[],t=new Set;for(const{\u0275providers:r,\u0275kind:i}of n)t.add(i),r.length&&e.push(r);return cl([[],t.has(0)?[]:VK(),t.has(1)?[]:[{provide:kp,useFactory:()=>(ne(MS).add("httpcache"),{isCacheActive:!0})},{provide:EN,useValue:oJ,multi:!0,deps:[za,kp]},{provide:Ol,multi:!0,useFactory:()=>{const n=ne(vs),e=ne(kp);return()=>{n.isStable.pipe(Ii(t=>t)).toPromise().then(()=>{e.isCacheActive=!1})}}}],e])}(),vS(function Xie(n,...e){return{ngModule:Jie,providers:[{provide:O0,useFactory:Yie(n),multi:!0,deps:[Be,fn,D0,...e]}]}}(()=>Zie(Gr_firebaseConfig)),function Bce(n,...e){return{ngModule:Uce,providers:[{provide:hP,useFactory:Fce(n),multi:!0,deps:[Be,fn,D0,x0,[new On,Z0],...e]}]}}(()=>jce()),function bhe(n,...e){return{ngModule:Che,providers:[{provide:R1,useFactory:_he(n),multi:!0,deps:[Be,fn,D0,x0,[new On,JL],[new On,Z0],...e]}]}}(()=>Ihe()))]};let Cge=(()=>{class n{http;apiUrl=Gr_apiUrl;messagesSubject=new Gt([]);messages$=this.messagesSubject.asObservable();typingUsersSubject=new Gt([]);typingUsers$=this.typingUsersSubject.asObservable();statsSubject=new Gt(null);stats$=this.statsSubject.asObservable();connectedSubject=new Gt(!1);connected$=this.connectedSubject.asObservable();onlineUsersSubject=new Gt(0);onlineUsers$=this.onlineUsersSubject.asObservable();currentUser="Usuario";userId=this.generateUserId();currentRoom="general";messagePolling;typingPolling;statsPolling;constructor(t){this.http=t,this.loadUserFromStorage(),this.startPolling(),this.loadInitialHistory()}loadUserFromStorage(){const t=localStorage.getItem("chat_user_name");t&&(this.currentUser=t)}startPolling(){this.messagePolling=uo(500).subscribe(()=>{this.checkNewMessages()}),this.typingPolling=uo(500).subscribe(()=>{this.checkTypingUsers()}),this.statsPolling=uo(15e3).subscribe(()=>{this.loadStats()}),uo(1e4).subscribe(()=>{this.checkOnlineUsers()}),this.connectedSubject.next(!0)}loadInitialHistory(){this.http.get(`${this.apiUrl}/api/chat/messages?limit=50`).subscribe({next:t=>{this.messagesSubject.next(t.messages.reverse())},error:t=>{console.error("Error cargando historial:",t)}})}checkNewMessages(){const t=this.messagesSubject.value,r=t.length>0?t[t.length-1].timestamp:null;return this.http.get(`${this.apiUrl}/api/chat/messages?limit=50${r?`&since=${r}`:""}`).pipe(Xe(i=>{if(i.messages&&i.messages.length>0){const o=i.messages.filter(s=>!t.find(a=>a.id===s.id));o.length>0&&this.messagesSubject.next([...t,...o])}}),Tr(i=>(console.error("Error checking new messages:",i),ge(null))))}checkTypingUsers(){this.http.get(`${this.apiUrl}/api/chat/typing-users?room=${this.currentRoom}`).subscribe({next:t=>{this.typingUsersSubject.next(t.typing_users)},error:t=>{console.error("Error checking typing users:",t)}})}checkOnlineUsers(){this.http.get(`${this.apiUrl}/api/chat/online-users`).subscribe({next:t=>{this.onlineUsersSubject.next(t.online_users)},error:t=>{console.error("Error checking online users:",t),this.onlineUsersSubject.next(1)}})}sendMessage(t){return t.trim()?this.http.post(`${this.apiUrl}/api/chat/send`,{message:t.trim(),user:this.currentUser,user_id:this.userId,room:this.currentRoom}).pipe(Xe(r=>{r.success&&r.message&&this.messagesSubject.next([...this.messagesSubject.value,r.message])})):ji(()=>new Error("El mensaje no puede estar vac\xedo"))}setTyping(t){this.http.post(`${this.apiUrl}/api/chat/typing`,{user:this.currentUser,room:this.currentRoom,is_typing:t}).subscribe({error:r=>{console.error("Error setting typing status:",r)}})}setUser(t){this.currentUser=t||"Usuario",localStorage.setItem("chat_user_name",this.currentUser)}getUser(){return this.currentUser}getStats(){return this.http.get(`${this.apiUrl}/api/chat/stats`)}loadStats(){this.getStats().subscribe({next:t=>{this.statsSubject.next(t)},error:t=>{console.error("Error cargando estad\xedsticas:",t)}})}generateUserId(){const t=localStorage.getItem("chat_user_id");if(t)return t;const r=Math.random().toString(36).substr(2,9);return localStorage.setItem("chat_user_id",r),r}destroy(){this.messagePolling&&this.messagePolling.unsubscribe(),this.typingPolling&&this.typingPolling.unsubscribe(),this.statsPolling&&this.statsPolling.unsubscribe(),this.connectedSubject.next(!1)}static \u0275fac=function(r){return new(r||n)(se(Hr))};static \u0275prov=le({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function bge(n,e){if(1&n&&(_(0,"span",27),I(1),y()),2&n){const t=B();C(1),ce(t.unreadMessages)}}function Ige(n,e){if(1&n&&(_(0,"div",28)(1,"div",29)(2,"small"),I(3),y()(),_(4,"div",29)(5,"small"),I(6),y()()()),2&n){const t=B();C(3),pe("Total: ",t.stats.total_messages,""),C(3),pe("Hoy: ",t.stats.messages_today,"")}}function wge(n,e){if(1&n&&(_(0,"div",33)(1,"strong",34),I(2),y(),_(3,"span",35),I(4),y()()),2&n){const t=B().$implicit,r=B();C(2),ce(t.user),C(2),pe(" ",r.formatTime(t.timestamp)," ")}}function Ege(n,e){if(1&n&&(_(0,"div",30),Y(1,wge,5,2,"div",31),_(2,"div",32),I(3),y()()),2&n){const t=e.$implicit,r=B();me("system-message","system"===t.type)("own-message",t.user===r.currentUser&&"message"===t.type),C(1),L("ngIf","message"===t.type),C(2),pe(" ",t.message," ")}}function Pge(n,e){if(1&n&&(_(0,"div",36)(1,"div",37),x(2,"span")(3,"span")(4,"span"),y(),_(5,"span",38),I(6),y()()),2&n){const t=B();C(6),ki(" ",t.typingUsers.join(", ")," ",1===t.typingUsers.length?"est\xe1 escribiendo...":"est\xe1n escribiendo..."," ")}}function Tge(n,e){if(1&n){const t=Ae();_(0,"div",39),H("click",function(){return J(t),X(B().showUserModal=!1)}),_(1,"div",40),H("click",function(i){return i.stopPropagation()}),_(2,"h4"),I(3,"Cambiar Nombre"),y(),_(4,"input",41),H("ngModelChange",function(i){return J(t),X(B().currentUser=i)})("keyup.enter",function(){return J(t),X(B().updateUser())}),y(),_(5,"div",42)(6,"button",43),H("click",function(){return J(t),X(B().showUserModal=!1)}),I(7,"Cancelar"),y(),_(8,"button",44),H("click",function(){return J(t),X(B().updateUser())}),I(9,"Guardar"),y()()()()}if(2&n){const t=B();C(4),L("ngModel",t.currentUser)}}let Mge=(()=>{class n{chatService;cdr;isChatOpen=!1;messages=[];newMessage="";currentUser="Usuario";typingUsers=[];onlineUsers=0;isConnected=!1;showUserModal=!1;stats=null;unreadMessages=0;lastMessageCount=0;isNearBottom=!0;messagesSubscription;typingSubscription;onlineSubscription;connectedSubscription;statsSubscription;typingTimeout;messageCheckInterval;constructor(t,r){this.chatService=t,this.cdr=r}ngOnInit(){this.setupSubscriptions(),this.loadInitialMessages(),this.startMessagePolling()}setupSubscriptions(){this.messagesSubscription=this.chatService.messages$.subscribe(t=>{const r=this.messages.length;this.messages=t,t.length>r&&!this.isChatOpen&&(this.unreadMessages+=t.length-r,this.pulseNotification()),setTimeout(()=>{this.autoScrollToBottom()},100),this.cdr.detectChanges()}),this.typingSubscription=this.chatService.typingUsers$.pipe(function vge(n,e=pg){return Ft((t,r)=>{let i=null,o=null,s=null;const a=()=>{if(i){i.unsubscribe(),i=null;const u=o;o=null,r.next(u)}};function c(){const u=s+n,d=e.now();if(d<u)return i=this.schedule(void 0,u-d),void r.add(i);a()}t.subscribe(Mt(r,u=>{o=u,s=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}(300),YM()).subscribe(t=>{this.typingUsers=t.filter(r=>r!==this.currentUser),this.cdr.detectChanges()}),this.onlineSubscription=this.chatService.onlineUsers$.subscribe(t=>{this.onlineUsers=t,this.cdr.detectChanges()}),this.connectedSubscription=this.chatService.connected$.subscribe(t=>{this.isConnected=t,t?(this.loadInitialMessages(),this.startMessagePolling()):this.stopMessagePolling(),this.cdr.detectChanges()}),this.statsSubscription=this.chatService.stats$.subscribe(t=>{this.stats=t,this.cdr.detectChanges()}),this.currentUser=this.chatService.getUser()}startMessagePolling(){this.messageCheckInterval=uo(2e3).subscribe(()=>{this.isConnected&&this.chatService.checkNewMessages().subscribe()})}stopMessagePolling(){this.messageCheckInterval&&this.messageCheckInterval.unsubscribe()}loadInitialMessages(){this.chatService.loadStats()}pulseNotification(){const t=document.querySelector(".floating-chat-button");t&&(t.classList.add("pulse-effect"),setTimeout(()=>{t.classList.remove("pulse-effect")},1e3))}autoScrollToBottom(){this.isChatOpen&&this.isNearBottom&&setTimeout(()=>{const t=document.querySelector(".messages-container");t&&(t.scrollTop=t.scrollHeight)},50)}onMessagesScroll(t){const r=t.target;r&&(this.isNearBottom=r.scrollHeight-r.clientHeight-r.scrollTop<=150)}sendMessage(){this.newMessage.trim()&&this.isConnected&&this.chatService.sendMessage(this.newMessage).subscribe({next:()=>{this.newMessage="",this.stopTyping(),this.isNearBottom=!0,this.scrollToBottom()},error:t=>{console.error("Error enviando mensaje:",t),alert("Error al enviar el mensaje: "+t.message)}})}scrollToBottom(){setTimeout(()=>{const t=document.querySelector(".messages-container");t&&(t.scrollTop=t.scrollHeight,this.isNearBottom=!0)},100)}ngOnDestroy(){this.messagesSubscription.unsubscribe(),this.typingSubscription.unsubscribe(),this.onlineSubscription.unsubscribe(),this.connectedSubscription.unsubscribe(),this.statsSubscription.unsubscribe(),this.stopMessagePolling(),this.typingTimeout&&clearTimeout(this.typingTimeout)}toggleChat(){this.isChatOpen=!this.isChatOpen,this.isChatOpen&&(this.unreadMessages=0,this.scrollToBottom())}onInputChange(){this.newMessage.trim()&&this.isConnected?(this.chatService.setTyping(!0),this.typingTimeout&&clearTimeout(this.typingTimeout),this.typingTimeout=setTimeout(()=>{this.stopTyping()},2e3)):this.stopTyping()}stopTyping(){this.chatService.setTyping(!1)}updateUser(){this.currentUser.trim()&&(this.chatService.setUser(this.currentUser.trim()),this.showUserModal=!1)}formatTime(t){return new Date(t).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})}formatDate(t){return new Date(t).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit"})}trackByMessage(t,r){return r.id||`${r.timestamp}-${r.user}`}onDocumentClick(t){const r=t.target,i=document.querySelector(".floating-chat-container");this.isChatOpen&&i&&!i.contains(r)&&(document.querySelector(".floating-chat-button")?.contains(r)||(this.isChatOpen=!1))}onKeyDown(t){(t.ctrlKey||t.metaKey)&&"Enter"===t.key&&this.isChatOpen&&(this.sendMessage(),t.preventDefault()),"Escape"===t.key&&this.isChatOpen&&(this.isChatOpen=!1)}static \u0275fac=function(r){return new(r||n)(z(Cge),z(pc))};static \u0275cmp=Tn({type:n,selectors:[["app-floating-chat"]],hostBindings:function(r,i){1&r&&H("click",function(s){return i.onDocumentClick(s)},0,uv)("keydown",function(s){return i.onKeyDown(s)},!1,uv)},standalone:!0,features:[kn],decls:31,vars:20,consts:[[1,"floating-chat-container"],[1,"floating-chat-button",3,"click"],[1,"fas","fa-comments"],["class","unread-badge",4,"ngIf"],[1,"chat-window"],[1,"chat-header"],[1,"header-left"],[1,"fas","fa-comments","me-2"],[1,"connection-status"],[1,"status-dot"],[1,"header-right"],[1,"online-users"],[1,"fas","fa-users","me-1"],["title","Cambiar usuario",1,"btn-user",3,"click"],[1,"fas","fa-user-edit"],["title","Cerrar chat",1,"btn-close",3,"click"],[1,"fas","fa-times"],["class","chat-stats",4,"ngIf"],[1,"messages-container"],["class","message",3,"system-message","own-message",4,"ngFor","ngForOf","ngForTrackBy"],["class","typing-indicator",4,"ngIf"],[1,"input-container"],["type","text",1,"message-input",3,"ngModel","disabled","placeholder","ngModelChange","input","keyup.enter"],["messageInput",""],[1,"send-button",3,"disabled","click"],[1,"fas","fa-paper-plane"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"unread-badge"],[1,"chat-stats"],[1,"stat-item"],[1,"message"],["class","message-header",4,"ngIf"],[1,"message-content"],[1,"message-header"],[1,"username"],[1,"message-time"],[1,"typing-indicator"],[1,"typing-dots"],[1,"typing-text"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],["type","text","placeholder","Tu nombre de usuario","maxlength","20",1,"user-input",3,"ngModel","ngModelChange","keyup.enter"],[1,"modal-actions"],[1,"btn-cancel",3,"click"],[1,"btn-save",3,"click"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"button",1),H("click",function(){return i.toggleChat()}),x(2,"i",2),Y(3,bge,2,1,"span",3),y(),_(4,"div",4)(5,"div",5)(6,"div",6)(7,"h4"),x(8,"i",7),I(9," Chat Musical "),y(),_(10,"div",8),x(11,"span",9),I(12),y()(),_(13,"div",10)(14,"div",11),x(15,"i",12),I(16),y(),_(17,"button",13),H("click",function(){return i.showUserModal=!0}),x(18,"i",14),y(),_(19,"button",15),H("click",function(){return i.isChatOpen=!1}),x(20,"i",16),y()()(),Y(21,Ige,7,2,"div",17),_(22,"div",18),Y(23,Ege,4,6,"div",19),Y(24,Pge,7,2,"div",20),y(),_(25,"div",21)(26,"input",22,23),H("ngModelChange",function(s){return i.newMessage=s})("input",function(){return i.onInputChange()})("keyup.enter",function(){return i.sendMessage()}),y(),_(28,"button",24),H("click",function(){return i.sendMessage()}),x(29,"i",25),y()(),Y(30,Tge,10,1,"div",26),y()()),2&r&&(C(1),me("has-unread",i.unreadMessages>0),C(2),L("ngIf",i.unreadMessages>0),C(1),me("open",i.isChatOpen),C(6),me("connected",i.isConnected)("disconnected",!i.isConnected),C(2),pe(" ",i.isConnected?"Conectado":"Desconectado"," "),C(4),pe(" ",i.onlineUsers," "),C(5),L("ngIf",i.stats),C(2),L("ngForOf",i.messages)("ngForTrackBy",i.trackByMessage),C(1),L("ngIf",i.typingUsers.length>0),C(2),Zf("placeholder",i.isConnected?"Escribe un mensaje...":"Conectando..."),L("ngModel",i.newMessage)("disabled",!i.isConnected),C(2),L("disabled",!i.newMessage.trim()||!i.isConnected),C(2),L("ngIf",i.showUserModal))},dependencies:[Er,oi,hr,aa,vi,es,Xm,co],styles:[".floating-chat-container[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;z-index:1000}.floating-chat-button[_ngcontent-%COMP%]{position:relative;width:70px;height:70px;border-radius:50%;background:linear-gradient(135deg,var(--primary-color),#1db954);color:#fff;border:none;cursor:pointer;box-shadow:0 6px 25px #1db95480;display:flex;align-items:center;justify-content:center;font-size:1.8rem;transition:all .3s ease}.floating-chat-button[_ngcontent-%COMP%]:hover{transform:scale(1.15);box-shadow:0 8px 30px #1db954b3}.floating-chat-button.has-unread[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s infinite}.floating-chat-button[_ngcontent-%COMP%]   .unread-badge[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;background:#e74c3c;color:#fff;border-radius:50%;width:24px;height:24px;font-size:.8rem;display:flex;align-items:center;justify-content:center;font-weight:700;border:2px solid var(--card-bg)}.chat-window[_ngcontent-%COMP%]{position:absolute;bottom:85px;right:0;width:450px;height:650px;background:var(--card-bg);border:1px solid var(--hover-bg);border-radius:16px;box-shadow:0 15px 50px #0006;display:flex;flex-direction:column;opacity:0;transform:translateY(20px) scale(.95);pointer-events:none;transition:all .3s cubic-bezier(.4,0,.2,1)}.chat-window.open[_ngcontent-%COMP%]{opacity:1;transform:translateY(0) scale(1);pointer-events:all}.chat-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.25rem;background:linear-gradient(135deg,var(--hover-bg),var(--card-bg));border-bottom:1px solid var(--border-color);border-radius:16px 16px 0 0}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;color:var(--text-primary);font-size:1.1rem;font-weight:600}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .connection-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.75rem;padding:.3rem .6rem;border-radius:20px;background:var(--bg-color);font-weight:500}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .connection-status.connected[_ngcontent-%COMP%]{color:#10b981;background:rgba(16,185,129,.1)}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .connection-status.connected[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{background:#10b981;box-shadow:0 0 8px #10b98180}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .connection-status.disconnected[_ngcontent-%COMP%]{color:#ef4444;background:rgba(239,68,68,.1)}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .connection-status.disconnected[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{background:#ef4444}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .connection-status[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%;animation:_ngcontent-%COMP%_pulse 2s infinite}.chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .online-users[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem;padding:.4rem .8rem;background:var(--bg-color);border-radius:20px;font-size:.8rem;color:var(--text-secondary);font-weight:500}.chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn-user[_ngcontent-%COMP%], .chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--text-secondary);padding:.5rem;border-radius:8px;cursor:pointer;transition:all .2s ease}.chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn-user[_ngcontent-%COMP%]:hover, .chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{background:var(--hover-bg);color:var(--text-primary);transform:scale(1.1)}.chat-stats[_ngcontent-%COMP%]{display:flex;gap:1.5rem;padding:.75rem 1.25rem;background:var(--bg-color);border-bottom:1px solid var(--border-color)}.chat-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.75rem;font-weight:500}.messages-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:1.25rem;display:flex;flex-direction:column;gap:.75rem;background:var(--bg-color)}.message[_ngcontent-%COMP%]{max-width:90%;padding:.75rem 1rem;border-radius:16px;background:var(--hover-bg);animation:_ngcontent-%COMP%_messageSlide .25s ease-out;border:1px solid transparent;transition:all .2s ease}.message[_ngcontent-%COMP%]:hover{border-color:var(--border-color);transform:translateY(-1px)}.message.own-message[_ngcontent-%COMP%]{align-self:flex-end;background:linear-gradient(135deg,var(--primary-color),#1a8cff);color:#fff;box-shadow:0 4px 15px #1db9544d}.message.own-message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{color:#fffffff2}.message.own-message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%]{color:#fffc}.message.system-message[_ngcontent-%COMP%]{align-self:center;background:transparent;text-align:center;color:var(--text-secondary);font-style:italic;max-width:100%;border:1px dashed var(--border-color)}.message.system-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{font-size:.85rem;font-weight:500}.message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.3rem}.message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600;color:var(--text-primary)}.message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%]{font-size:.7rem;opacity:.8;color:var(--text-secondary)}.message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{word-wrap:break-word;line-height:1.4;font-size:.9rem}.typing-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem 1rem;color:var(--text-secondary);font-size:.85rem;font-style:italic;background:var(--hover-bg);border-radius:12px;margin-top:.5rem}.typing-indicator[_ngcontent-%COMP%]   .typing-dots[_ngcontent-%COMP%]{display:flex;gap:3px}.typing-indicator[_ngcontent-%COMP%]   .typing-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:6px;height:6px;border-radius:50%;background:var(--primary-color);animation:_ngcontent-%COMP%_typingBounce 1.4s infinite ease-in-out}.typing-indicator[_ngcontent-%COMP%]   .typing-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){animation-delay:-.32s}.typing-indicator[_ngcontent-%COMP%]   .typing-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.16s}.input-container[_ngcontent-%COMP%]{display:flex;padding:1rem;border-top:1px solid var(--border-color);background:var(--card-bg);gap:.75rem;align-items:center}.input-container[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]{flex:1;padding:.75rem 1rem;border:2px solid var(--border-color);border-radius:25px;background:var(--bg-color);color:var(--text-primary);font-size:.9rem;transition:all .3s ease}.input-container[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #1db9541a}.input-container[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.input-container[_ngcontent-%COMP%]   .send-button[_ngcontent-%COMP%]{padding:.75rem;background:linear-gradient(135deg,var(--primary-color),#1db954);color:#fff;border:none;border-radius:50%;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center}.input-container[_ngcontent-%COMP%]   .send-button[_ngcontent-%COMP%]:hover:not(:disabled){transform:scale(1.1) rotate(5deg);box-shadow:0 6px 20px #1db95466}.input-container[_ngcontent-%COMP%]   .send-button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none}.modal-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:rgba(0,0,0,.8);display:flex;align-items:center;justify-content:center;z-index:10;border-radius:16px;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.modal-content[_ngcontent-%COMP%]{background:var(--card-bg);padding:2rem;border-radius:16px;width:90%;max-width:400px;border:1px solid var(--border-color);box-shadow:0 20px 60px #0000004d}.modal-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 1.5rem;color:var(--text-primary);font-size:1.2rem;font-weight:600;text-align:center}.modal-content[_ngcontent-%COMP%]   .user-input[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:2px solid var(--border-color);border-radius:12px;background:var(--bg-color);color:var(--text-primary);margin-bottom:1.5rem;font-size:1rem;transition:all .3s ease}.modal-content[_ngcontent-%COMP%]   .user-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #1db9541a}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;justify-content:flex-end}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]{padding:.6rem 1.25rem;border:none;border-radius:8px;cursor:pointer;font-size:.9rem;font-weight:500;transition:all .3s ease}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background:transparent;color:var(--text-secondary);border:2px solid var(--border-color)}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover{background:var(--hover-bg);border-color:var(--text-secondary)}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color),#1db954);color:#fff}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #1db9544d}@keyframes _ngcontent-%COMP%_messageSlide{0%{opacity:0;transform:translateY(8px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}@keyframes _ngcontent-%COMP%_typingBounce{0%,80%,to{transform:scale(.8);opacity:.5}40%{transform:scale(1.2);opacity:1}}@keyframes _ngcontent-%COMP%_pulse{0%,to{box-shadow:0 6px 25px #1db95480}50%{box-shadow:0 6px 30px #1db954cc}}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:3px}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--text-secondary)}.messages-container[_ngcontent-%COMP%]{scroll-behavior:smooth;overflow-anchor:auto}@media (max-width: 768px){.floating-chat-container[_ngcontent-%COMP%]{bottom:15px;right:15px}.floating-chat-button[_ngcontent-%COMP%]{width:60px;height:60px;font-size:1.5rem}.chat-window[_ngcontent-%COMP%]{width:380px;height:550px;bottom:75px}}@media (max-width: 480px){.floating-chat-container[_ngcontent-%COMP%]{bottom:10px;right:10px}.chat-window[_ngcontent-%COMP%]{width:calc(100vw - 30px);height:70vh;right:-5px;bottom:65px}.floating-chat-button[_ngcontent-%COMP%]{width:55px;height:55px;font-size:1.3rem}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideInUp{0%{transform:translateY(30px);opacity:0}to{transform:translateY(0);opacity:1}}.chat-window[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.connection-status[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s infinite}.message[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--primary-color);outline-offset:2px}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}"]})}return n})();const Age=function(){return{exact:!0}};(function MJ(n,e){return uK({rootComponent:n,...$N(e)})})((()=>{class n{title="UPTC Music";static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Tn({type:n,selectors:[["app-root"]],standalone:!0,features:[kn],decls:40,vars:3,consts:[[1,"main-container"],[1,"main-header"],[1,"container","d-flex","justify-content-between","align-items-center"],[1,"logo-container"],[1,"logo-icon"],[1,"fab","fa-spotify"],[1,"app-title"],[1,"main-nav"],["routerLink","/","routerLinkActive","active",3,"routerLinkActiveOptions"],[1,"fas","fa-home","me-1"],["routerLink","/discussion","routerLinkActive","active"],[1,"fas","fa-comments","me-1"],["routerLink","/ranking","routerLinkActive","active"],[1,"fas","fa-trophy","me-1"],["routerLink","/admin-login","routerLinkActive","active"],[1,"fas","fa-lock","me-1"],[1,"content-area"],[1,"container"],[1,"now-playing-bar"],[1,"footer-content","text-center"],[1,"footer-text","mb-0"],[1,"footer-text","mb-1"],[1,"social-links"],["href","https://github.com/SebastianVega4","target","_blank"],[1,"fab","fa-github","me-1"],["href","https://www.linkedin.com/in/johan-sebastian-vega-ruiz-b1292011b/","target","_blank"],[1,"fab","fa-linkedin","me-1"],["href","https://www.instagram.com/sebastian.vegar/","target","_blank"],[1,"fab","fa-instagram","me-1"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3)(4,"div",4),x(5,"i",5),y(),_(6,"h1",6),I(7),y()(),_(8,"nav",7)(9,"a",8),x(10,"i",9),I(11,"Inicio "),y(),_(12,"a",10),x(13,"i",11),I(14,"Foro "),y(),_(15,"a",12),x(16,"i",13),I(17,"Ranking "),y(),_(18,"a",14),x(19,"i",15),y()()()(),_(20,"main",16)(21,"div",17),x(22,"router-outlet"),y()(),x(23,"app-floating-chat"),y(),_(24,"footer",18)(25,"div",19)(26,"p",20),I(27,"Desarrollado por:"),y(),_(28,"p",21),I(29,"Estudiante de Ingenier\xeda de Sistemas - UPTC Sogamoso 2025-II"),y(),_(30,"div",22)(31,"a",23),x(32,"i",24),I(33,"GitHub "),y(),_(34,"a",25),x(35,"i",26),I(36,"LinkedIn "),y(),_(37,"a",27),x(38,"i",28),I(39,"Instagram "),y()()()()),2&r&&(C(7),ce(i.title),C(2),L("routerLinkActiveOptions",ys(2,Age)))},dependencies:[nd,fb,Ts,q2,Mge],styles:[".main-header[_ngcontent-%COMP%]{padding:1rem 1.5rem;background:var(--glass-bg);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border-bottom:1px solid rgba(255,255,255,.1);top:0;z-index:1000;box-shadow:0 4px 30px #0000004d}.logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.8rem}.logo-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,var(--primary-color) 0%,var(--accent-purple) 100%);display:flex;align-items:center;justify-content:center;box-shadow:0 0 15px #1db95466}.logo-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--text-primary)}.app-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;color:var(--text-primary);margin:0;letter-spacing:-.5px;background:linear-gradient(135deg,var(--text-primary) 0%,var(--primary-color) 100%);-webkit-text-fill-color:transparent;-webkit-background-clip:text;background-clip:text}.main-nav[_ngcontent-%COMP%]{display:flex;gap:1.5rem}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--text-secondary);text-decoration:none;font-weight:600;padding:.5rem 1rem;border-radius:50px;transition:all .3s ease;display:flex;align-items:center}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--text-primary);background:rgba(255,255,255,.05);transform:translateY(-2px)}.main-nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:var(--text-primary);background:rgba(29,185,84,.15);box-shadow:0 0 15px #1db95433}.main-nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color)}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem;transition:color .3s ease}.now-playing-bar[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border-top:1px solid rgba(255,255,255,.1);padding:1rem;color:var(--text-primary);display:flex;align-items:center;justify-content:center;position:relative;z-index:5}.footer-content[_ngcontent-%COMP%]{width:100%;text-align:center}.footer-text[_ngcontent-%COMP%]{font-size:.8rem;margin:.3rem 0;color:var(--text-secondary)}.social-links[_ngcontent-%COMP%]{margin-top:.5rem}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--text-secondary);text-decoration:none;margin:0 .8rem;font-size:.9rem;transition:all .3s ease;display:inline-flex;align-items:center}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--primary-color);transform:translateY(-2px)}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.3rem;font-size:1rem}@media (max-width: 768px){.main-header[_ngcontent-%COMP%]{padding:.8rem 1rem}.app-title[_ngcontent-%COMP%]{font-size:1.2rem}.main-nav[_ngcontent-%COMP%]{gap:.8rem}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.4rem .8rem;font-size:.9rem}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:0 .5rem;font-size:.8rem}}"]})}return n})(),yge).catch(n=>console.error(n))}},Qe=>{Qe(Qe.s=112)}]);