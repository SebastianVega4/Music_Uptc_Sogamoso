(self.webpackChunkuptc_music=self.webpackChunkuptc_music||[]).push([[792],{3205:(at,pe,F)=>{"use strict";F.d(pe,{u:()=>H});var u=F(1626),G=F(5312),E=F(4412),ge=F(8141),re=F(6276);let H=(()=>{class X{http;apiUrl=G.c.apiUrl;currentAdminSubject=new E.t(null);currentAdmin=this.currentAdminSubject.asObservable();currentBuitreSubject=new E.t(null);currentBuitre=this.currentBuitreSubject.asObservable();constructor(fe){this.http=fe,this.loadInitialState()}loadInitialState(){const fe=localStorage.getItem("adminToken"),me=localStorage.getItem("adminUser");if(fe&&me)try{this.currentAdminSubject.next(JSON.parse(me))}catch(Je){console.error("Error parsing admin user",Je)}const oe=localStorage.getItem("buitresToken"),De=localStorage.getItem("buitresUser");if(oe&&De)try{this.currentBuitreSubject.next(JSON.parse(De))}catch(Je){console.error("Error parsing buitres user",Je)}}login(fe,me){return this.http.post(`${this.apiUrl}/api/auth/login`,{email:fe,password:me}).pipe((0,ge.M)(oe=>{oe.token&&(localStorage.setItem("adminToken",oe.token),oe.user&&(localStorage.setItem("adminUser",JSON.stringify(oe.user)),this.currentAdminSubject.next(oe.user)))}))}logoutAdmin(){localStorage.removeItem("adminToken"),localStorage.removeItem("adminUser"),this.currentAdminSubject.next(null)}isLoggedIn(){return!!localStorage.getItem("adminToken")}isRoleAdmin(){const fe=localStorage.getItem("adminUser");if(!fe)return!1;try{return"admin"===JSON.parse(fe).role}catch{return!1}}getAdminToken(){return localStorage.getItem("adminToken")}googleLogin(fe){return this.http.post(`${this.apiUrl}/api/auth/google`,{idToken:fe}).pipe((0,ge.M)(me=>{me.token&&(localStorage.setItem("buitresToken",me.token),me.user&&(localStorage.setItem("buitresUser",JSON.stringify(me.user)),this.currentBuitreSubject.next(me.user)))}))}logoutBuitres(){localStorage.removeItem("buitresToken"),localStorage.removeItem("buitresUser"),this.currentBuitreSubject.next(null)}isBuitresLoggedIn(){return!!this.isRoleAdmin()||!!localStorage.getItem("buitresToken")}getBuitresToken(){return this.isRoleAdmin()?this.getAdminToken():localStorage.getItem("buitresToken")}logout(){this.logoutAdmin()}getToken(){return this.getAdminToken()}getAuthHeaders(){const fe=this.getToken();return new u.Lr(fe?{Authorization:`Bearer ${fe}`,"Content-Type":"application/json"}:{"Content-Type":"application/json"})}static \u0275fac=function(me){return new(me||X)(re.KVO(u.Qq))};static \u0275prov=re.jDH({token:X,factory:X.\u0275fac,providedIn:"root"})}return X})()},5455:(at,pe,F)=>{"use strict";F.d(pe,{B:()=>ge});var u=F(4412),G=F(1413),E=F(6276);let ge=(()=>{class re{modalState=new u.t(null);modalResult=new G.B;modalState$=this.modalState.asObservable();constructor(){}open(X){return this.modalState.next(X),this.modalResult=new G.B,this.modalResult.asObservable()}confirm(X,de="Confirmaci\xf3n"){return this.open({title:de,message:X,type:"confirm",showCancel:!0,confirmText:"Confirmar",cancelText:"Cancelar"})}alert(X,de="Alerta",fe="info"){return this.open({title:de,message:X,type:fe,showCancel:!1,confirmText:"Aceptar"})}close(X){this.modalResult.next(X),this.modalResult.complete(),this.modalState.next(null)}static \u0275fac=function(de){return new(de||re)};static \u0275prov=E.jDH({token:re,factory:re.\u0275fac,providedIn:"root"})}return re})()},5312:(at,pe,F)=>{"use strict";F.d(pe,{c:()=>u});const u={production:!1,apiUrl:"http://192.168.1.111:5000",supabaseUrl:"https://nkojabtbosvzbfcveyfm.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5rb2phYnRib3N2emJmY3ZleWZtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTczNjgwNzAsImV4cCI6MjA3Mjk0NDA3MH0.rJdadnVoVBw-vrt2XCm3619YzSIX3jSaxRftJQdAw00"}},52:(at,pe,F)=>{"use strict";var u=F(345),G=F(8435),E=F(6276),ge=F(3205);const X=[{path:"",loadComponent:()=>Promise.all([F.e(158),F.e(76),F.e(689)]).then(F.bind(F,8689)).then(A=>A.HomeComponent)},{path:"home",loadComponent:()=>Promise.all([F.e(158),F.e(76),F.e(689)]).then(F.bind(F,8689)).then(A=>A.HomeComponent)},{path:"ranking",loadComponent:()=>Promise.all([F.e(76),F.e(325)]).then(F.bind(F,3325)).then(A=>A.RankingComponent)},{path:"about",loadComponent:()=>Promise.all([F.e(76),F.e(783)]).then(F.bind(F,4783)).then(A=>A.AboutComponent)},{path:"discussion",loadComponent:()=>Promise.all([F.e(76),F.e(179)]).then(F.bind(F,1179)).then(A=>A.DiscussionComponent)},{path:"discussion/thread/:id",loadComponent:()=>Promise.all([F.e(76),F.e(221)]).then(F.bind(F,1221)).then(A=>A.ThreadDetailComponent)},{path:"admin-login",loadComponent:()=>F.e(880).then(F.bind(F,2880)).then(A=>A.AdminLoginComponent)},{path:"admin-panel",loadComponent:()=>Promise.all([F.e(158),F.e(76),F.e(136)]).then(F.bind(F,136)).then(A=>A.AdminPanelComponent),canActivate:[(()=>{class A{authService;router;constructor(c,w){this.authService=c,this.router=w}canActivate(){return!(!this.authService.isLoggedIn()||!this.authService.isRoleAdmin())||(this.router.navigate(["/admin-login"],{queryParams:{error:"No tienes permisos de administrador"}}),!1)}static \u0275fac=function(w){return new(w||A)(E.KVO(ge.u),E.KVO(G.Ix))};static \u0275prov=E.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})()]},{path:"buitres",loadComponent:()=>Promise.all([F.e(76),F.e(508)]).then(F.bind(F,8421)).then(A=>A.BuitresComponent)},{path:"buitres/person/:id",loadComponent:()=>Promise.all([F.e(76),F.e(886)]).then(F.bind(F,9355)).then(A=>A.BuitresDetailComponent),canActivate:[(()=>{class A{authService;router;constructor(c,w){this.authService=c,this.router=w}canActivate(){return!!this.authService.isBuitresLoggedIn()||(this.router.navigate(["/buitres"],{queryParams:{loginRequired:"true"}}),!1)}static \u0275fac=function(w){return new(w||A)(E.KVO(ge.u),E.KVO(G.Ix))};static \u0275prov=E.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})()]},{path:"**",redirectTo:""}];var de=F(1626),fe=F(9437),me=F(983),oe=F(8810);class Je{}class Ve{}const He="*";function Ut(A,h){return{type:7,name:A,definitions:h,options:{}}}function ct(A,h=null){return{type:4,styles:h,timings:A}}function ot(A,h=null){return{type:2,steps:A,options:h}}function zt(A){return{type:6,styles:A,offset:null}}function tt(A,h,c=null){return{type:1,expr:A,animation:h,options:c}}class fn{constructor(h=0,c=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=h+c}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(h=>h()),this._onDoneFns=[])}onStart(h){this._originalOnStartFns.push(h),this._onStartFns.push(h)}onDone(h){this._originalOnDoneFns.push(h),this._onDoneFns.push(h)}onDestroy(h){this._onDestroyFns.push(h)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(h=>h()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(h=>h()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(h){this._position=this.totalTime?h*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(h){const c="start"==h?this._onStartFns:this._onDoneFns;c.forEach(w=>w()),c.length=0}}class Qe{constructor(h){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=h;let c=0,w=0,I=0;const j=this.players.length;0==j?queueMicrotask(()=>this._onFinish()):this.players.forEach(Y=>{Y.onDone(()=>{++c==j&&this._onFinish()}),Y.onDestroy(()=>{++w==j&&this._onDestroy()}),Y.onStart(()=>{++I==j&&this._onStart()})}),this.totalTime=this.players.reduce((Y,ee)=>Math.max(Y,ee.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(h=>h()),this._onDoneFns=[])}init(){this.players.forEach(h=>h.init())}onStart(h){this._onStartFns.push(h)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(h=>h()),this._onStartFns=[])}onDone(h){this._onDoneFns.push(h)}onDestroy(h){this._onDestroyFns.push(h)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(h=>h.play())}pause(){this.players.forEach(h=>h.pause())}restart(){this.players.forEach(h=>h.restart())}finish(){this._onFinish(),this.players.forEach(h=>h.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(h=>h.destroy()),this._onDestroyFns.forEach(h=>h()),this._onDestroyFns=[])}reset(){this.players.forEach(h=>h.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(h){const c=h*this.totalTime;this.players.forEach(w=>{const I=w.totalTime?Math.min(1,c/w.totalTime):1;w.setPosition(I)})}getPosition(){const h=this.players.reduce((c,w)=>null===c||w.totalTime>c.totalTime?w:c,null);return null!=h?h.getPosition():0}beforeDestroy(){this.players.forEach(h=>{h.beforeDestroy&&h.beforeDestroy()})}triggerCallback(h){const c="start"==h?this._onStartFns:this._onDoneFns;c.forEach(w=>w()),c.length=0}}function xt(A){return new E.wOt(3e3,!1)}function qt(A){switch(A.length){case 0:return new fn;case 1:return A[0];default:return new Qe(A)}}function jn(A,h,c=new Map,w=new Map){const I=[],j=[];let Y=-1,ee=null;if(h.forEach(he=>{const Ie=he.get("offset"),rt=Ie==Y,ht=rt&&ee||new Map;he.forEach(($t,Jt)=>{let Rt=Jt,Bt=$t;if("offset"!==Jt)switch(Rt=A.normalizePropertyName(Rt,I),Bt){case"!":Bt=c.get(Jt);break;case He:Bt=w.get(Jt);break;default:Bt=A.normalizeStyleValue(Jt,Rt,Bt,I)}ht.set(Rt,Bt)}),rt||j.push(ht),ee=ht,Y=Ie}),I.length)throw function Rr(A){return new E.wOt(3502,!1)}();return j}function yr(A,h,c,w){switch(h){case"start":A.onStart(()=>w(c&&an(c,"start",A)));break;case"done":A.onDone(()=>w(c&&an(c,"done",A)));break;case"destroy":A.onDestroy(()=>w(c&&an(c,"destroy",A)))}}function an(A,h,c){const j=nn(A.element,A.triggerName,A.fromState,A.toState,h||A.phaseName,c.totalTime??A.totalTime,!!c.disabled),Y=A._data;return null!=Y&&(j._data=Y),j}function nn(A,h,c,w,I="",j=0,Y){return{element:A,triggerName:h,fromState:c,toState:w,phaseName:I,totalTime:j,disabled:!!Y}}function qn(A,h,c){let w=A.get(h);return w||A.set(h,w=c),w}function Xn(A){const h=A.indexOf(":");return[A.substring(1,h),A.slice(h+1)]}const Nt=(()=>typeof document>"u"?null:document.documentElement)();function Qn(A){const h=A.parentNode||A.host||null;return h===Nt?null:h}let br=null,er=!1;function Oe(A,h){for(;h;){if(h===A)return!0;h=Qn(h)}return!1}function ye(A,h,c){if(c)return Array.from(A.querySelectorAll(h));const w=A.querySelector(h);return w?[w]:[]}let ie=(()=>{class A{validateStyleProperty(c){return function xr(A){br||(br=function Ws(){return typeof document<"u"?document.body:null}()||{},er=!!br.style&&"WebkitAppearance"in br.style);let h=!0;return br.style&&!function lr(A){return"ebkit"==A.substring(1,6)}(A)&&(h=A in br.style,!h&&er&&(h="Webkit"+A.charAt(0).toUpperCase()+A.slice(1)in br.style)),h}(c)}matchesElement(c,w){return!1}containsElement(c,w){return Oe(c,w)}getParentElement(c){return Qn(c)}query(c,w,I){return ye(c,w,I)}computeStyle(c,w,I){return I||""}animate(c,w,I,j,Y,ee=[],he){return new fn(I,j)}static{this.\u0275fac=function(w){return new(w||A)}}static{this.\u0275prov=E.jDH({token:A,factory:A.\u0275fac})}}return A})(),Se=(()=>{class A{static{this.NOOP=new ie}}return A})();const nt=1e3,Xt="ng-enter",Vn="ng-leave",ur="ng-trigger",En=".ng-trigger",Nr="ng-animating",le=".ng-animating";function J(A){if("number"==typeof A)return A;const h=A.match(/^(-?[\.\d]+)(m?s)/);return!h||h.length<2?0:te(parseFloat(h[1]),h[2])}function te(A,h){return"s"===h?A*nt:A}function Pe(A,h,c){return A.hasOwnProperty("duration")?A:function Le(A,h,c){let I,j=0,Y="";if("string"==typeof A){const ee=A.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ee)return h.push(xt()),{duration:0,delay:0,easing:""};I=te(parseFloat(ee[1]),ee[2]);const he=ee[3];null!=he&&(j=te(parseFloat(he),ee[4]));const Ie=ee[5];Ie&&(Y=Ie)}else I=A;if(!c){let ee=!1,he=h.length;I<0&&(h.push(function gr(){return new E.wOt(3100,!1)}()),ee=!0),j<0&&(h.push(function sr(){return new E.wOt(3101,!1)}()),ee=!0),ee&&h.splice(he,0,xt())}return{duration:I,delay:j,easing:Y}}(A,h,c)}function Ze(A,h={}){return Object.keys(A).forEach(c=>{h[c]=A[c]}),h}function $e(A){const h=new Map;return Object.keys(A).forEach(c=>{h.set(c,A[c])}),h}function In(A,h=new Map,c){if(c)for(let[w,I]of c)h.set(w,I);for(let[w,I]of A)h.set(w,I);return h}function Hn(A,h,c){h.forEach((w,I)=>{const j=Jn(I);c&&!c.has(I)&&c.set(I,A.style[j]),A.style[j]=w})}function dn(A,h){h.forEach((c,w)=>{const I=Jn(w);A.style[I]=""})}function Tn(A){return Array.isArray(A)?1==A.length?A[0]:ot(A):A}const tr=new RegExp("{{\\s*(.+?)\\s*}}","g");function wt(A){let h=[];if("string"==typeof A){let c;for(;c=tr.exec(A);)h.push(c[1]);tr.lastIndex=0}return h}function ln(A,h,c){const w=A.toString(),I=w.replace(tr,(j,Y)=>{let ee=h[Y];return null==ee&&(c.push(function jt(A){return new E.wOt(3003,!1)}()),ee=""),ee.toString()});return I==w?A:I}function Tr(A){const h=[];let c=A.next();for(;!c.done;)h.push(c.value),c=A.next();return h}const Ar=/-+([a-z0-9])/g;function Jn(A){return A.replace(Ar,(...h)=>h[1].toUpperCase())}function cr(A,h,c){switch(h.type){case 7:return A.visitTrigger(h,c);case 0:return A.visitState(h,c);case 1:return A.visitTransition(h,c);case 2:return A.visitSequence(h,c);case 3:return A.visitGroup(h,c);case 4:return A.visitAnimate(h,c);case 5:return A.visitKeyframes(h,c);case 6:return A.visitStyle(h,c);case 8:return A.visitReference(h,c);case 9:return A.visitAnimateChild(h,c);case 10:return A.visitAnimateRef(h,c);case 11:return A.visitQuery(h,c);case 12:return A.visitStagger(h,c);default:throw function ue(A){return new E.wOt(3004,!1)}()}}function Ds(A,h){return window.getComputedStyle(A)[h]}const Cr="*";function Xs(A,h){const c=[];return"string"==typeof A?A.split(/\s*,\s*/).forEach(w=>function Oi(A,h,c){if(":"==A[0]){const he=function zn(A,h){switch(A){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(c,w)=>parseFloat(w)>parseFloat(c);case":decrement":return(c,w)=>parseFloat(w)<parseFloat(c);default:return h.push(function pt(A){return new E.wOt(3016,!1)}()),"* => *"}}(A,c);if("function"==typeof he)return void h.push(he);A=he}const w=A.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==w||w.length<4)return c.push(function lt(A){return new E.wOt(3015,!1)}()),h;const I=w[1],j=w[2],Y=w[3];h.push(Pi(I,Y));"<"==j[0]&&!(I==Cr&&Y==Cr)&&h.push(Pi(Y,I))}(w,c,h)):c.push(A),c}const vi=new Set(["true","1"]),ii=new Set(["false","0"]);function Pi(A,h){const c=vi.has(A)||ii.has(A),w=vi.has(h)||ii.has(h);return(I,j)=>{let Y=A==Cr||A==I,ee=h==Cr||h==j;return!Y&&c&&"boolean"==typeof I&&(Y=I?vi.has(A):ii.has(A)),!ee&&w&&"boolean"==typeof j&&(ee=j?vi.has(h):ii.has(h)),Y&&ee}}const Ri=new RegExp("s*:selfs*,?","g");function bi(A,h,c,w){return new Ui(A).build(h,c,w)}class Ui{constructor(h){this._driver=h}build(h,c,w){const I=new oi(c);return this._resetContextStyleTimingState(I),cr(this,Tn(h),I)}_resetContextStyleTimingState(h){h.currentQuerySelector="",h.collectedStyles=new Map,h.collectedStyles.set("",new Map),h.currentTime=0}visitTrigger(h,c){let w=c.queryCount=0,I=c.depCount=0;const j=[],Y=[];return"@"==h.name.charAt(0)&&c.errors.push(function be(){return new E.wOt(3006,!1)}()),h.definitions.forEach(ee=>{if(this._resetContextStyleTimingState(c),0==ee.type){const he=ee,Ie=he.name;Ie.toString().split(/\s*,\s*/).forEach(rt=>{he.name=rt,j.push(this.visitState(he,c))}),he.name=Ie}else if(1==ee.type){const he=this.visitTransition(ee,c);w+=he.queryCount,I+=he.depCount,Y.push(he)}else c.errors.push(function Ae(){return new E.wOt(3007,!1)}())}),{type:7,name:h.name,states:j,transitions:Y,queryCount:w,depCount:I,options:null}}visitState(h,c){const w=this.visitStyle(h.styles,c),I=h.options&&h.options.params||null;if(w.containsDynamicStyles){const j=new Set,Y=I||{};w.styles.forEach(ee=>{ee instanceof Map&&ee.forEach(he=>{wt(he).forEach(Ie=>{Y.hasOwnProperty(Ie)||j.add(Ie)})})}),j.size&&(Tr(j.values()),c.errors.push(function Ue(A,h){return new E.wOt(3008,!1)}()))}return{type:0,name:h.name,style:w,options:I?{params:I}:null}}visitTransition(h,c){c.queryCount=0,c.depCount=0;const w=cr(this,Tn(h.animation),c);return{type:1,matchers:Xs(h.expr,c.errors),animation:w,queryCount:c.queryCount,depCount:c.depCount,options:hs(h.options)}}visitSequence(h,c){return{type:2,steps:h.steps.map(w=>cr(this,w,c)),options:hs(h.options)}}visitGroup(h,c){const w=c.currentTime;let I=0;const j=h.steps.map(Y=>{c.currentTime=w;const ee=cr(this,Y,c);return I=Math.max(I,c.currentTime),ee});return c.currentTime=I,{type:3,steps:j,options:hs(h.options)}}visitAnimate(h,c){const w=function Ms(A,h){if(A.hasOwnProperty("duration"))return A;if("number"==typeof A)return Ts(Pe(A,h).duration,0,"");const c=A;if(c.split(/\s+/).some(j=>"{"==j.charAt(0)&&"{"==j.charAt(1))){const j=Ts(0,0,"");return j.dynamic=!0,j.strValue=c,j}const I=Pe(c,h);return Ts(I.duration,I.delay,I.easing)}(h.timings,c.errors);c.currentAnimateTimings=w;let I,j=h.styles?h.styles:zt({});if(5==j.type)I=this.visitKeyframes(j,c);else{let Y=h.styles,ee=!1;if(!Y){ee=!0;const Ie={};w.easing&&(Ie.easing=w.easing),Y=zt(Ie)}c.currentTime+=w.duration+w.delay;const he=this.visitStyle(Y,c);he.isEmptyStep=ee,I=he}return c.currentAnimateTimings=null,{type:4,timings:w,style:I,options:null}}visitStyle(h,c){const w=this._makeStyleAst(h,c);return this._validateStyleAst(w,c),w}_makeStyleAst(h,c){const w=[],I=Array.isArray(h.styles)?h.styles:[h.styles];for(let ee of I)"string"==typeof ee?ee===He?w.push(ee):c.errors.push(new E.wOt(3002,!1)):w.push($e(ee));let j=!1,Y=null;return w.forEach(ee=>{if(ee instanceof Map&&(ee.has("easing")&&(Y=ee.get("easing"),ee.delete("easing")),!j))for(let he of ee.values())if(he.toString().indexOf("{{")>=0){j=!0;break}}),{type:6,styles:w,easing:Y,offset:h.offset,containsDynamicStyles:j,options:null}}_validateStyleAst(h,c){const w=c.currentAnimateTimings;let I=c.currentTime,j=c.currentTime;w&&j>0&&(j-=w.duration+w.delay),h.styles.forEach(Y=>{"string"!=typeof Y&&Y.forEach((ee,he)=>{const Ie=c.collectedStyles.get(c.currentQuerySelector),rt=Ie.get(he);let ht=!0;rt&&(j!=I&&j>=rt.startTime&&I<=rt.endTime&&(c.errors.push(function un(A,h,c,w,I){return new E.wOt(3010,!1)}()),ht=!1),j=rt.startTime),ht&&Ie.set(he,{startTime:j,endTime:I}),c.options&&function kr(A,h,c){const w=h.params||{},I=wt(A);I.length&&I.forEach(j=>{w.hasOwnProperty(j)||c.push(function Mn(A){return new E.wOt(3001,!1)}())})}(ee,c.options,c.errors)})})}visitKeyframes(h,c){const w={type:5,styles:[],options:null};if(!c.currentAnimateTimings)return c.errors.push(function xn(){return new E.wOt(3011,!1)}()),w;let j=0;const Y=[];let ee=!1,he=!1,Ie=0;const rt=h.steps.map(a=>{const o=this._makeStyleAst(a,c);let l=null!=o.offset?o.offset:function Ss(A){if("string"==typeof A)return null;let h=null;if(Array.isArray(A))A.forEach(c=>{if(c instanceof Map&&c.has("offset")){const w=c;h=parseFloat(w.get("offset")),w.delete("offset")}});else if(A instanceof Map&&A.has("offset")){const c=A;h=parseFloat(c.get("offset")),c.delete("offset")}return h}(o.styles),v=0;return null!=l&&(j++,v=o.offset=l),he=he||v<0||v>1,ee=ee||v<Ie,Ie=v,Y.push(v),o});he&&c.errors.push(function Pt(){return new E.wOt(3012,!1)}()),ee&&c.errors.push(function pn(){return new E.wOt(3200,!1)}());const ht=h.steps.length;let $t=0;j>0&&j<ht?c.errors.push(function Ln(){return new E.wOt(3202,!1)}()):0==j&&($t=1/(ht-1));const Jt=ht-1,Rt=c.currentTime,Bt=c.currentAnimateTimings,m=Bt.duration;return rt.forEach((a,o)=>{const l=$t>0?o==Jt?1:$t*o:Y[o],v=l*m;c.currentTime=Rt+Bt.delay+v,Bt.duration=v,this._validateStyleAst(a,c),a.offset=l,w.styles.push(a)}),w}visitReference(h,c){return{type:8,animation:cr(this,Tn(h.animation),c),options:hs(h.options)}}visitAnimateChild(h,c){return c.depCount++,{type:9,options:hs(h.options)}}visitAnimateRef(h,c){return{type:10,animation:this.visitReference(h.animation,c),options:hs(h.options)}}visitQuery(h,c){const w=c.currentQuerySelector,I=h.options||{};c.queryCount++,c.currentQuery=h;const[j,Y]=function $i(A){const h=!!A.split(/\s*,\s*/).find(c=>":self"==c);return h&&(A=A.replace(Ri,"")),A=A.replace(/@\*/g,En).replace(/@\w+/g,c=>En+"-"+c.slice(1)).replace(/:animating/g,le),[A,h]}(h.selector);c.currentQuerySelector=w.length?w+" "+j:j,qn(c.collectedStyles,c.currentQuerySelector,new Map);const ee=cr(this,Tn(h.animation),c);return c.currentQuery=null,c.currentQuerySelector=w,{type:11,selector:j,limit:I.limit||0,optional:!!I.optional,includeSelf:Y,animation:ee,originalSelector:h.selector,options:hs(h.options)}}visitStagger(h,c){c.currentQuery||c.errors.push(function Zn(){return new E.wOt(3013,!1)}());const w="full"===h.timings?{duration:0,delay:0,easing:"full"}:Pe(h.timings,c.errors,!0);return{type:12,animation:cr(this,Tn(h.animation),c),timings:w,options:null}}}class oi{constructor(h){this.errors=h,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function hs(A){return A?(A=Ze(A)).params&&(A.params=function xi(A){return A?Ze(A):null}(A.params)):A={},A}function Ts(A,h,c){return{duration:A,delay:h,easing:c}}function As(A,h,c,w,I,j,Y=null,ee=!1){return{type:1,element:A,keyframes:h,preStyleProps:c,postStyleProps:w,duration:I,delay:j,totalTime:I+j,easing:Y,subTimeline:ee}}class Ls{constructor(){this._map=new Map}get(h){return this._map.get(h)||[]}append(h,c){let w=this._map.get(h);w||this._map.set(h,w=[]),w.push(...c)}has(h){return this._map.has(h)}clear(){this._map.clear()}}const Ft=new RegExp(":enter","g"),or=new RegExp(":leave","g");function qr(A,h,c,w,I,j=new Map,Y=new Map,ee,he,Ie=[]){return(new Gn).buildKeyframes(A,h,c,w,I,j,Y,ee,he,Ie)}class Gn{buildKeyframes(h,c,w,I,j,Y,ee,he,Ie,rt=[]){Ie=Ie||new Ls;const ht=new fs(h,c,Ie,I,j,rt,[]);ht.options=he;const $t=he.delay?J(he.delay):0;ht.currentTimeline.delayNextStep($t),ht.currentTimeline.setStyles([Y],null,ht.errors,he),cr(this,w,ht);const Jt=ht.timelines.filter(Rt=>Rt.containsAnimation());if(Jt.length&&ee.size){let Rt;for(let Bt=Jt.length-1;Bt>=0;Bt--){const m=Jt[Bt];if(m.element===c){Rt=m;break}}Rt&&!Rt.allowOnlyTimelineStyles()&&Rt.setStyles([ee],null,ht.errors,he)}return Jt.length?Jt.map(Rt=>Rt.buildKeyframes()):[As(c,[],[],[],0,$t,"",!1)]}visitTrigger(h,c){}visitState(h,c){}visitTransition(h,c){}visitAnimateChild(h,c){const w=c.subInstructions.get(c.element);if(w){const I=c.createSubContext(h.options),j=c.currentTimeline.currentTime,Y=this._visitSubInstructions(w,I,I.options);j!=Y&&c.transformIntoNewTimeline(Y)}c.previousNode=h}visitAnimateRef(h,c){const w=c.createSubContext(h.options);w.transformIntoNewTimeline(),this._applyAnimationRefDelays([h.options,h.animation.options],c,w),this.visitReference(h.animation,w),c.transformIntoNewTimeline(w.currentTimeline.currentTime),c.previousNode=h}_applyAnimationRefDelays(h,c,w){for(const I of h){const j=I?.delay;if(j){const Y="number"==typeof j?j:J(ln(j,I?.params??{},c.errors));w.delayNextStep(Y)}}}_visitSubInstructions(h,c,w){let j=c.currentTimeline.currentTime;const Y=null!=w.duration?J(w.duration):null,ee=null!=w.delay?J(w.delay):null;return 0!==Y&&h.forEach(he=>{const Ie=c.appendInstructionToTimeline(he,Y,ee);j=Math.max(j,Ie.duration+Ie.delay)}),j}visitReference(h,c){c.updateOptions(h.options,!0),cr(this,h.animation,c),c.previousNode=h}visitSequence(h,c){const w=c.subContextCount;let I=c;const j=h.options;if(j&&(j.params||j.delay)&&(I=c.createSubContext(j),I.transformIntoNewTimeline(),null!=j.delay)){6==I.previousNode.type&&(I.currentTimeline.snapshotCurrentStyles(),I.previousNode=ut);const Y=J(j.delay);I.delayNextStep(Y)}h.steps.length&&(h.steps.forEach(Y=>cr(this,Y,I)),I.currentTimeline.applyStylesToKeyframe(),I.subContextCount>w&&I.transformIntoNewTimeline()),c.previousNode=h}visitGroup(h,c){const w=[];let I=c.currentTimeline.currentTime;const j=h.options&&h.options.delay?J(h.options.delay):0;h.steps.forEach(Y=>{const ee=c.createSubContext(h.options);j&&ee.delayNextStep(j),cr(this,Y,ee),I=Math.max(I,ee.currentTimeline.currentTime),w.push(ee.currentTimeline)}),w.forEach(Y=>c.currentTimeline.mergeTimelineCollectedStyles(Y)),c.transformIntoNewTimeline(I),c.previousNode=h}_visitTiming(h,c){if(h.dynamic){const w=h.strValue;return Pe(c.params?ln(w,c.params,c.errors):w,c.errors)}return{duration:h.duration,delay:h.delay,easing:h.easing}}visitAnimate(h,c){const w=c.currentAnimateTimings=this._visitTiming(h.timings,c),I=c.currentTimeline;w.delay&&(c.incrementTime(w.delay),I.snapshotCurrentStyles());const j=h.style;5==j.type?this.visitKeyframes(j,c):(c.incrementTime(w.duration),this.visitStyle(j,c),I.applyStylesToKeyframe()),c.currentAnimateTimings=null,c.previousNode=h}visitStyle(h,c){const w=c.currentTimeline,I=c.currentAnimateTimings;!I&&w.hasCurrentStyleProperties()&&w.forwardFrame();const j=I&&I.easing||h.easing;h.isEmptyStep?w.applyEmptyStep(j):w.setStyles(h.styles,j,c.errors,c.options),c.previousNode=h}visitKeyframes(h,c){const w=c.currentAnimateTimings,I=c.currentTimeline.duration,j=w.duration,ee=c.createSubContext().currentTimeline;ee.easing=w.easing,h.styles.forEach(he=>{ee.forwardTime((he.offset||0)*j),ee.setStyles(he.styles,he.easing,c.errors,c.options),ee.applyStylesToKeyframe()}),c.currentTimeline.mergeTimelineCollectedStyles(ee),c.transformIntoNewTimeline(I+j),c.previousNode=h}visitQuery(h,c){const w=c.currentTimeline.currentTime,I=h.options||{},j=I.delay?J(I.delay):0;j&&(6===c.previousNode.type||0==w&&c.currentTimeline.hasCurrentStyleProperties())&&(c.currentTimeline.snapshotCurrentStyles(),c.previousNode=ut);let Y=w;const ee=c.invokeQuery(h.selector,h.originalSelector,h.limit,h.includeSelf,!!I.optional,c.errors);c.currentQueryTotal=ee.length;let he=null;ee.forEach((Ie,rt)=>{c.currentQueryIndex=rt;const ht=c.createSubContext(h.options,Ie);j&&ht.delayNextStep(j),Ie===c.element&&(he=ht.currentTimeline),cr(this,h.animation,ht),ht.currentTimeline.applyStylesToKeyframe(),Y=Math.max(Y,ht.currentTimeline.currentTime)}),c.currentQueryIndex=0,c.currentQueryTotal=0,c.transformIntoNewTimeline(Y),he&&(c.currentTimeline.mergeTimelineCollectedStyles(he),c.currentTimeline.snapshotCurrentStyles()),c.previousNode=h}visitStagger(h,c){const w=c.parentContext,I=c.currentTimeline,j=h.timings,Y=Math.abs(j.duration),ee=Y*(c.currentQueryTotal-1);let he=Y*c.currentQueryIndex;switch(j.duration<0?"reverse":j.easing){case"reverse":he=ee-he;break;case"full":he=w.currentStaggerTime}const rt=c.currentTimeline;he&&rt.delayNextStep(he);const ht=rt.currentTime;cr(this,h.animation,c),c.previousNode=h,w.currentStaggerTime=I.currentTime-ht+(I.startTime-w.currentTimeline.startTime)}}const ut={};class fs{constructor(h,c,w,I,j,Y,ee,he){this._driver=h,this.element=c,this.subInstructions=w,this._enterClassName=I,this._leaveClassName=j,this.errors=Y,this.timelines=ee,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ut,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=he||new Is(this._driver,c,0),ee.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(h,c){if(!h)return;const w=h;let I=this.options;null!=w.duration&&(I.duration=J(w.duration)),null!=w.delay&&(I.delay=J(w.delay));const j=w.params;if(j){let Y=I.params;Y||(Y=this.options.params={}),Object.keys(j).forEach(ee=>{(!c||!Y.hasOwnProperty(ee))&&(Y[ee]=ln(j[ee],Y,this.errors))})}}_copyOptions(){const h={};if(this.options){const c=this.options.params;if(c){const w=h.params={};Object.keys(c).forEach(I=>{w[I]=c[I]})}}return h}createSubContext(h=null,c,w){const I=c||this.element,j=new fs(this._driver,I,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(I,w||0));return j.previousNode=this.previousNode,j.currentAnimateTimings=this.currentAnimateTimings,j.options=this._copyOptions(),j.updateOptions(h),j.currentQueryIndex=this.currentQueryIndex,j.currentQueryTotal=this.currentQueryTotal,j.parentContext=this,this.subContextCount++,j}transformIntoNewTimeline(h){return this.previousNode=ut,this.currentTimeline=this.currentTimeline.fork(this.element,h),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(h,c,w){const I={duration:c??h.duration,delay:this.currentTimeline.currentTime+(w??0)+h.delay,easing:""},j=new Hr(this._driver,h.element,h.keyframes,h.preStyleProps,h.postStyleProps,I,h.stretchStartingKeyframe);return this.timelines.push(j),I}incrementTime(h){this.currentTimeline.forwardTime(this.currentTimeline.duration+h)}delayNextStep(h){h>0&&this.currentTimeline.delayNextStep(h)}invokeQuery(h,c,w,I,j,Y){let ee=[];if(I&&ee.push(this.element),h.length>0){h=(h=h.replace(Ft,"."+this._enterClassName)).replace(or,"."+this._leaveClassName);let Ie=this._driver.query(this.element,h,1!=w);0!==w&&(Ie=w<0?Ie.slice(Ie.length+w,Ie.length):Ie.slice(0,w)),ee.push(...Ie)}return!j&&0==ee.length&&Y.push(function Dt(A){return new E.wOt(3014,!1)}()),ee}}class Is{constructor(h,c,w,I){this._driver=h,this.element=c,this.startTime=w,this._elementTimelineStylesLookup=I,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(c),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(c,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(h){const c=1===this._keyframes.size&&this._pendingStyles.size;this.duration||c?(this.forwardTime(this.currentTime+h),c&&this.snapshotCurrentStyles()):this.startTime+=h}fork(h,c){return this.applyStylesToKeyframe(),new Is(this._driver,h,c||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(h){this.applyStylesToKeyframe(),this.duration=h,this._loadKeyframe()}_updateStyle(h,c){this._localTimelineStyles.set(h,c),this._globalTimelineStyles.set(h,c),this._styleSummary.set(h,{time:this.currentTime,value:c})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(h){h&&this._previousKeyframe.set("easing",h);for(let[c,w]of this._globalTimelineStyles)this._backFill.set(c,w||He),this._currentKeyframe.set(c,He);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(h,c,w,I){c&&this._previousKeyframe.set("easing",c);const j=I&&I.params||{},Y=function rn(A,h){const c=new Map;let w;return A.forEach(I=>{if("*"===I){w=w||h.keys();for(let j of w)c.set(j,He)}else In(I,c)}),c}(h,this._globalTimelineStyles);for(let[ee,he]of Y){const Ie=ln(he,j,w);this._pendingStyles.set(ee,Ie),this._localTimelineStyles.has(ee)||this._backFill.set(ee,this._globalTimelineStyles.get(ee)??He),this._updateStyle(ee,Ie)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((h,c)=>{this._currentKeyframe.set(c,h)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((h,c)=>{this._currentKeyframe.has(c)||this._currentKeyframe.set(c,h)}))}snapshotCurrentStyles(){for(let[h,c]of this._localTimelineStyles)this._pendingStyles.set(h,c),this._updateStyle(h,c)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const h=[];for(let c in this._currentKeyframe)h.push(c);return h}mergeTimelineCollectedStyles(h){h._styleSummary.forEach((c,w)=>{const I=this._styleSummary.get(w);(!I||c.time>I.time)&&this._updateStyle(w,c.value)})}buildKeyframes(){this.applyStylesToKeyframe();const h=new Set,c=new Set,w=1===this._keyframes.size&&0===this.duration;let I=[];this._keyframes.forEach((ee,he)=>{const Ie=In(ee,new Map,this._backFill);Ie.forEach((rt,ht)=>{"!"===rt?h.add(ht):rt===He&&c.add(ht)}),w||Ie.set("offset",he/this.duration),I.push(Ie)});const j=h.size?Tr(h.values()):[],Y=c.size?Tr(c.values()):[];if(w){const ee=I[0],he=new Map(ee);ee.set("offset",0),he.set("offset",1),I=[ee,he]}return As(this.element,I,j,Y,this.duration,this.startTime,this.easing,!1)}}class Hr extends Is{constructor(h,c,w,I,j,Y,ee=!1){super(h,c,Y.delay),this.keyframes=w,this.preStyleProps=I,this.postStyleProps=j,this._stretchStartingKeyframe=ee,this.timings={duration:Y.duration,delay:Y.delay,easing:Y.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let h=this.keyframes,{delay:c,duration:w,easing:I}=this.timings;if(this._stretchStartingKeyframe&&c){const j=[],Y=w+c,ee=c/Y,he=In(h[0]);he.set("offset",0),j.push(he);const Ie=In(h[0]);Ie.set("offset",Fr(ee)),j.push(Ie);const rt=h.length-1;for(let ht=1;ht<=rt;ht++){let $t=In(h[ht]);const Jt=$t.get("offset");$t.set("offset",Fr((c+Jt*w)/Y)),j.push($t)}w=Y,c=0,I="",h=j}return As(this.element,h,this.preStyleProps,this.postStyleProps,w,c,I,!0)}}function Fr(A,h=3){const c=Math.pow(10,h-1);return Math.round(A*c)/c}class It{}const dr=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ai extends It{normalizePropertyName(h,c){return Jn(h)}normalizeStyleValue(h,c,w,I){let j="";const Y=w.toString().trim();if(dr.has(c)&&0!==w&&"0"!==w)if("number"==typeof w)j="px";else{const ee=w.match(/^[+-]?[\d\.]+([a-z]*)$/);ee&&0==ee[1].length&&I.push(function ve(A,h){return new E.wOt(3005,!1)}())}return Y+j}}function Wn(A,h,c,w,I,j,Y,ee,he,Ie,rt,ht,$t){return{type:0,element:A,triggerName:h,isRemovalTransition:I,fromState:c,fromStyles:j,toState:w,toStyles:Y,timelines:ee,queriedElements:he,preStyleProps:Ie,postStyleProps:rt,totalTime:ht,errors:$t}}const zr={};class kn{constructor(h,c,w){this._triggerName=h,this.ast=c,this._stateStyles=w}match(h,c,w,I){return function js(A,h,c,w,I){return A.some(j=>j(h,c,w,I))}(this.ast.matchers,h,c,w,I)}buildStyles(h,c,w){let I=this._stateStyles.get("*");return void 0!==h&&(I=this._stateStyles.get(h?.toString())||I),I?I.buildStyles(c,w):new Map}build(h,c,w,I,j,Y,ee,he,Ie,rt){const ht=[],$t=this.ast.options&&this.ast.options.params||zr,Rt=this.buildStyles(w,ee&&ee.params||zr,ht),Bt=he&&he.params||zr,m=this.buildStyles(I,Bt,ht),a=new Set,o=new Map,l=new Map,v="void"===I,M={params:kt(Bt,$t),delay:this.ast.options?.delay},x=rt?[]:qr(h,c,this.ast.animation,j,Y,Rt,m,M,Ie,ht);let R=0;if(x.forEach(W=>{R=Math.max(W.duration+W.delay,R)}),ht.length)return Wn(c,this._triggerName,w,I,v,Rt,m,[],[],o,l,R,ht);x.forEach(W=>{const Z=W.element,Ce=qn(o,Z,new Set);W.preStyleProps.forEach(Be=>Ce.add(Be));const ke=qn(l,Z,new Set);W.postStyleProps.forEach(Be=>ke.add(Be)),Z!==c&&a.add(Z)});const B=Tr(a.values());return Wn(c,this._triggerName,w,I,v,Rt,m,x,B,o,l,R)}}function kt(A,h){const c=Ze(h);for(const w in A)A.hasOwnProperty(w)&&null!=A[w]&&(c[w]=A[w]);return c}class jr{constructor(h,c,w){this.styles=h,this.defaultParams=c,this.normalizer=w}buildStyles(h,c){const w=new Map,I=Ze(this.defaultParams);return Object.keys(h).forEach(j=>{const Y=h[j];null!==Y&&(I[j]=Y)}),this.styles.styles.forEach(j=>{"string"!=typeof j&&j.forEach((Y,ee)=>{Y&&(Y=ln(Y,I,c));const he=this.normalizer.normalizePropertyName(ee,c);Y=this.normalizer.normalizeStyleValue(ee,he,Y,c),w.set(ee,Y)})}),w}}class Qr{constructor(h,c,w){this.name=h,this.ast=c,this._normalizer=w,this.transitionFactories=[],this.states=new Map,c.states.forEach(I=>{this.states.set(I.name,new jr(I.style,I.options&&I.options.params||{},w))}),ps(this.states,"true","1"),ps(this.states,"false","0"),c.transitions.forEach(I=>{this.transitionFactories.push(new kn(h,I,this.states))}),this.fallbackTransition=function On(A,h,c){return new kn(A,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Y,ee)=>!0],options:null,queryCount:0,depCount:0},h)}(h,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(h,c,w,I){return this.transitionFactories.find(Y=>Y.match(h,c,w,I))||null}matchStyles(h,c,w){return this.fallbackTransition.buildStyles(h,c,w)}}function ps(A,h,c){A.has(h)?A.has(c)||A.set(c,A.get(h)):A.has(c)&&A.set(h,A.get(c))}const Os=new Ls;class Vr{constructor(h,c,w){this.bodyNode=h,this._driver=c,this._normalizer=w,this._animations=new Map,this._playersById=new Map,this.players=[]}register(h,c){const w=[],j=bi(this._driver,c,w,[]);if(w.length)throw function Cs(A){return new E.wOt(3503,!1)}();this._animations.set(h,j)}_buildPlayer(h,c,w){const I=h.element,j=jn(this._normalizer,h.keyframes,c,w);return this._driver.animate(I,j,h.duration,h.delay,h.easing,[],!0)}create(h,c,w={}){const I=[],j=this._animations.get(h);let Y;const ee=new Map;if(j?(Y=qr(this._driver,c,j,Xt,Vn,new Map,new Map,w,Os,I),Y.forEach(rt=>{const ht=qn(ee,rt.element,new Map);rt.postStyleProps.forEach($t=>ht.set($t,null))})):(I.push(function gn(){return new E.wOt(3300,!1)}()),Y=[]),I.length)throw function Yt(A){return new E.wOt(3504,!1)}();ee.forEach((rt,ht)=>{rt.forEach(($t,Jt)=>{rt.set(Jt,this._driver.computeStyle(ht,Jt,He))})});const Ie=qt(Y.map(rt=>{const ht=ee.get(rt.element);return this._buildPlayer(rt,new Map,ht)}));return this._playersById.set(h,Ie),Ie.onDestroy(()=>this.destroy(h)),this.players.push(Ie),Ie}destroy(h){const c=this._getPlayer(h);c.destroy(),this._playersById.delete(h);const w=this.players.indexOf(c);w>=0&&this.players.splice(w,1)}_getPlayer(h){const c=this._playersById.get(h);if(!c)throw function Kt(A){return new E.wOt(3301,!1)}();return c}listen(h,c,w,I){const j=nn(c,"","","");return yr(this._getPlayer(h),w,j,I),()=>{}}command(h,c,w,I){if("register"==w)return void this.register(h,I[0]);if("create"==w)return void this.create(h,c,I[0]||{});const j=this._getPlayer(h);switch(w){case"play":j.play();break;case"pause":j.pause();break;case"reset":j.reset();break;case"restart":j.restart();break;case"finish":j.finish();break;case"init":j.init();break;case"setPosition":j.setPosition(parseFloat(I[0]));break;case"destroy":this.destroy(h)}}}const gs="ng-animate-queued",Jr="ng-animate-disabled",en=[],Bi={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Fn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},bn="__ng_removed";class Or{get params(){return this.options.params}constructor(h,c=""){this.namespaceId=c;const w=h&&h.hasOwnProperty("value");if(this.value=function hr(A){return A??null}(w?h.value:h),w){const j=Ze(h);delete j.value,this.options=j}else this.options={};this.options.params||(this.options.params={})}absorbOptions(h){const c=h.params;if(c){const w=this.options.params;Object.keys(c).forEach(I=>{null==w[I]&&(w[I]=c[I])})}}}const Gr="void",Ps=new Or(Gr);class li{constructor(h,c,w){this.id=h,this.hostElement=c,this._engine=w,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+h,vr(c,this._hostClassName)}listen(h,c,w,I){if(!this._triggers.has(c))throw function Kn(A,h){return new E.wOt(3302,!1)}();if(null==w||0==w.length)throw function Zt(A){return new E.wOt(3303,!1)}();if(!function Ur(A){return"start"==A||"done"==A}(w))throw function mr(A,h){return new E.wOt(3400,!1)}();const j=qn(this._elementListeners,h,[]),Y={name:c,phase:w,callback:I};j.push(Y);const ee=qn(this._engine.statesByElement,h,new Map);return ee.has(c)||(vr(h,ur),vr(h,ur+"-"+c),ee.set(c,Ps)),()=>{this._engine.afterFlush(()=>{const he=j.indexOf(Y);he>=0&&j.splice(he,1),this._triggers.has(c)||ee.delete(c)})}}register(h,c){return!this._triggers.has(h)&&(this._triggers.set(h,c),!0)}_getTrigger(h){const c=this._triggers.get(h);if(!c)throw function _r(A){return new E.wOt(3401,!1)}();return c}trigger(h,c,w,I=!0){const j=this._getTrigger(c),Y=new ms(this.id,c,h);let ee=this._engine.statesByElement.get(h);ee||(vr(h,ur),vr(h,ur+"-"+c),this._engine.statesByElement.set(h,ee=new Map));let he=ee.get(c);const Ie=new Or(w,this.id);if(!(w&&w.hasOwnProperty("value"))&&he&&Ie.absorbOptions(he.options),ee.set(c,Ie),he||(he=Ps),Ie.value!==Gr&&he.value===Ie.value){if(!function $(A,h){const c=Object.keys(A),w=Object.keys(h);if(c.length!=w.length)return!1;for(let I=0;I<c.length;I++){const j=c[I];if(!h.hasOwnProperty(j)||A[j]!==h[j])return!1}return!0}(he.params,Ie.params)){const Bt=[],m=j.matchStyles(he.value,he.params,Bt),a=j.matchStyles(Ie.value,Ie.params,Bt);Bt.length?this._engine.reportError(Bt):this._engine.afterFlush(()=>{dn(h,m),Hn(h,a)})}return}const $t=qn(this._engine.playersByElement,h,[]);$t.forEach(Bt=>{Bt.namespaceId==this.id&&Bt.triggerName==c&&Bt.queued&&Bt.destroy()});let Jt=j.matchTransition(he.value,Ie.value,h,Ie.params),Rt=!1;if(!Jt){if(!I)return;Jt=j.fallbackTransition,Rt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:h,triggerName:c,transition:Jt,fromState:he,toState:Ie,player:Y,isFallbackTransition:Rt}),Rt||(vr(h,gs),Y.onStart(()=>{ys(h,gs)})),Y.onDone(()=>{let Bt=this.players.indexOf(Y);Bt>=0&&this.players.splice(Bt,1);const m=this._engine.playersByElement.get(h);if(m){let a=m.indexOf(Y);a>=0&&m.splice(a,1)}}),this.players.push(Y),$t.push(Y),Y}deregister(h){this._triggers.delete(h),this._engine.statesByElement.forEach(c=>c.delete(h)),this._elementListeners.forEach((c,w)=>{this._elementListeners.set(w,c.filter(I=>I.name!=h))})}clearElementCache(h){this._engine.statesByElement.delete(h),this._elementListeners.delete(h);const c=this._engine.playersByElement.get(h);c&&(c.forEach(w=>w.destroy()),this._engine.playersByElement.delete(h))}_signalRemovalForInnerTriggers(h,c){const w=this._engine.driver.query(h,En,!0);w.forEach(I=>{if(I[bn])return;const j=this._engine.fetchNamespacesByElement(I);j.size?j.forEach(Y=>Y.triggerLeaveAnimation(I,c,!1,!0)):this.clearElementCache(I)}),this._engine.afterFlushAnimationsDone(()=>w.forEach(I=>this.clearElementCache(I)))}triggerLeaveAnimation(h,c,w,I){const j=this._engine.statesByElement.get(h),Y=new Map;if(j){const ee=[];if(j.forEach((he,Ie)=>{if(Y.set(Ie,he.value),this._triggers.has(Ie)){const rt=this.trigger(h,Ie,Gr,I);rt&&ee.push(rt)}}),ee.length)return this._engine.markElementAsRemoved(this.id,h,!0,c,Y),w&&qt(ee).onDone(()=>this._engine.processLeaveNode(h)),!0}return!1}prepareLeaveAnimationListeners(h){const c=this._elementListeners.get(h),w=this._engine.statesByElement.get(h);if(c&&w){const I=new Set;c.forEach(j=>{const Y=j.name;if(I.has(Y))return;I.add(Y);const he=this._triggers.get(Y).fallbackTransition,Ie=w.get(Y)||Ps,rt=new Or(Gr),ht=new ms(this.id,Y,h);this._engine.totalQueuedPlayers++,this._queue.push({element:h,triggerName:Y,transition:he,fromState:Ie,toState:rt,player:ht,isFallbackTransition:!0})})}}removeNode(h,c){const w=this._engine;if(h.childElementCount&&this._signalRemovalForInnerTriggers(h,c),this.triggerLeaveAnimation(h,c,!0))return;let I=!1;if(w.totalAnimations){const j=w.players.length?w.playersByQueriedElement.get(h):[];if(j&&j.length)I=!0;else{let Y=h;for(;Y=Y.parentNode;)if(w.statesByElement.get(Y)){I=!0;break}}}if(this.prepareLeaveAnimationListeners(h),I)w.markElementAsRemoved(this.id,h,!1,c);else{const j=h[bn];(!j||j===Bi)&&(w.afterFlush(()=>this.clearElementCache(h)),w.destroyInnerAnimations(h),w._onRemovalComplete(h,c))}}insertNode(h,c){vr(h,this._hostClassName)}drainQueuedTransitions(h){const c=[];return this._queue.forEach(w=>{const I=w.player;if(I.destroyed)return;const j=w.element,Y=this._elementListeners.get(j);Y&&Y.forEach(ee=>{if(ee.name==w.triggerName){const he=nn(j,w.triggerName,w.fromState.value,w.toState.value);he._data=h,yr(w.player,ee.phase,he,ee.callback)}}),I.markedForDestroy?this._engine.afterFlush(()=>{I.destroy()}):c.push(w)}),this._queue=[],c.sort((w,I)=>{const j=w.transition.ast.depCount,Y=I.transition.ast.depCount;return 0==j||0==Y?j-Y:this._engine.driver.containsElement(w.element,I.element)?1:-1})}destroy(h){this.players.forEach(c=>c.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,h)}}class Un{_onRemovalComplete(h,c){this.onRemovalComplete(h,c)}constructor(h,c,w){this.bodyNode=h,this.driver=c,this._normalizer=w,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(I,j)=>{}}get queuedPlayers(){const h=[];return this._namespaceList.forEach(c=>{c.players.forEach(w=>{w.queued&&h.push(w)})}),h}createNamespace(h,c){const w=new li(h,c,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,c)?this._balanceNamespaceList(w,c):(this.newHostElements.set(c,w),this.collectEnterElement(c)),this._namespaceLookup[h]=w}_balanceNamespaceList(h,c){const w=this._namespaceList,I=this.namespacesByHostElement;if(w.length-1>=0){let Y=!1,ee=this.driver.getParentElement(c);for(;ee;){const he=I.get(ee);if(he){const Ie=w.indexOf(he);w.splice(Ie+1,0,h),Y=!0;break}ee=this.driver.getParentElement(ee)}Y||w.unshift(h)}else w.push(h);return I.set(c,h),h}register(h,c){let w=this._namespaceLookup[h];return w||(w=this.createNamespace(h,c)),w}registerTrigger(h,c,w){let I=this._namespaceLookup[h];I&&I.register(c,w)&&this.totalAnimations++}destroy(h,c){h&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const w=this._fetchNamespace(h);this.namespacesByHostElement.delete(w.hostElement);const I=this._namespaceList.indexOf(w);I>=0&&this._namespaceList.splice(I,1),w.destroy(c),delete this._namespaceLookup[h]}))}_fetchNamespace(h){return this._namespaceLookup[h]}fetchNamespacesByElement(h){const c=new Set,w=this.statesByElement.get(h);if(w)for(let I of w.values())if(I.namespaceId){const j=this._fetchNamespace(I.namespaceId);j&&c.add(j)}return c}trigger(h,c,w,I){if(Rs(c)){const j=this._fetchNamespace(h);if(j)return j.trigger(c,w,I),!0}return!1}insertNode(h,c,w,I){if(!Rs(c))return;const j=c[bn];if(j&&j.setForRemoval){j.setForRemoval=!1,j.setForMove=!0;const Y=this.collectedLeaveElements.indexOf(c);Y>=0&&this.collectedLeaveElements.splice(Y,1)}if(h){const Y=this._fetchNamespace(h);Y&&Y.insertNode(c,w)}I&&this.collectEnterElement(c)}collectEnterElement(h){this.collectedEnterElements.push(h)}markElementAsDisabled(h,c){c?this.disabledNodes.has(h)||(this.disabledNodes.add(h),vr(h,Jr)):this.disabledNodes.has(h)&&(this.disabledNodes.delete(h),ys(h,Jr))}removeNode(h,c,w){if(Rs(c)){const I=h?this._fetchNamespace(h):null;I?I.removeNode(c,w):this.markElementAsRemoved(h,c,!1,w);const j=this.namespacesByHostElement.get(c);j&&j.id!==h&&j.removeNode(c,w)}else this._onRemovalComplete(c,w)}markElementAsRemoved(h,c,w,I,j){this.collectedLeaveElements.push(c),c[bn]={namespaceId:h,setForRemoval:I,hasAnimation:w,removedBeforeQueried:!1,previousTriggersValues:j}}listen(h,c,w,I,j){return Rs(c)?this._fetchNamespace(h).listen(c,w,I,j):()=>{}}_buildInstruction(h,c,w,I,j){return h.transition.build(this.driver,h.element,h.fromState.value,h.toState.value,w,I,h.fromState.options,h.toState.options,c,j)}destroyInnerAnimations(h){let c=this.driver.query(h,En,!0);c.forEach(w=>this.destroyActiveAnimationsForElement(w)),0!=this.playersByQueriedElement.size&&(c=this.driver.query(h,le,!0),c.forEach(w=>this.finishActiveQueriedAnimationOnElement(w)))}destroyActiveAnimationsForElement(h){const c=this.playersByElement.get(h);c&&c.forEach(w=>{w.queued?w.markedForDestroy=!0:w.destroy()})}finishActiveQueriedAnimationOnElement(h){const c=this.playersByQueriedElement.get(h);c&&c.forEach(w=>w.finish())}whenRenderingDone(){return new Promise(h=>{if(this.players.length)return qt(this.players).onDone(()=>h());h()})}processLeaveNode(h){const c=h[bn];if(c&&c.setForRemoval){if(h[bn]=Bi,c.namespaceId){this.destroyInnerAnimations(h);const w=this._fetchNamespace(c.namespaceId);w&&w.clearElementCache(h)}this._onRemovalComplete(h,c.setForRemoval)}h.classList?.contains(Jr)&&this.markElementAsDisabled(h,!1),this.driver.query(h,".ng-animate-disabled",!0).forEach(w=>{this.markElementAsDisabled(w,!1)})}flush(h=-1){let c=[];if(this.newHostElements.size&&(this.newHostElements.forEach((w,I)=>this._balanceNamespaceList(w,I)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let w=0;w<this.collectedEnterElements.length;w++)vr(this.collectedEnterElements[w],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const w=[];try{c=this._flushAnimations(w,h)}finally{for(let I=0;I<w.length;I++)w[I]()}}else for(let w=0;w<this.collectedLeaveElements.length;w++)this.processLeaveNode(this.collectedLeaveElements[w]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(w=>w()),this._flushFns=[],this._whenQuietFns.length){const w=this._whenQuietFns;this._whenQuietFns=[],c.length?qt(c).onDone(()=>{w.forEach(I=>I())}):w.forEach(I=>I())}}reportError(h){throw function ar(A){return new E.wOt(3402,!1)}()}_flushAnimations(h,c){const w=new Ls,I=[],j=new Map,Y=[],ee=new Map,he=new Map,Ie=new Map,rt=new Set;this.disabledNodes.forEach(Re=>{rt.add(Re);const Fe=this.driver.query(Re,".ng-animate-queued",!0);for(let Ye=0;Ye<Fe.length;Ye++)rt.add(Fe[Ye])});const ht=this.bodyNode,$t=Array.from(this.statesByElement.keys()),Jt=Pn($t,this.collectedEnterElements),Rt=new Map;let Bt=0;Jt.forEach((Re,Fe)=>{const Ye=Xt+Bt++;Rt.set(Fe,Ye),Re.forEach(bt=>vr(bt,Ye))});const m=[],a=new Set,o=new Set;for(let Re=0;Re<this.collectedLeaveElements.length;Re++){const Fe=this.collectedLeaveElements[Re],Ye=Fe[bn];Ye&&Ye.setForRemoval&&(m.push(Fe),a.add(Fe),Ye.hasAnimation?this.driver.query(Fe,".ng-star-inserted",!0).forEach(bt=>a.add(bt)):o.add(Fe))}const l=new Map,v=Pn($t,Array.from(a));v.forEach((Re,Fe)=>{const Ye=Vn+Bt++;l.set(Fe,Ye),Re.forEach(bt=>vr(bt,Ye))}),h.push(()=>{Jt.forEach((Re,Fe)=>{const Ye=Rt.get(Fe);Re.forEach(bt=>ys(bt,Ye))}),v.forEach((Re,Fe)=>{const Ye=l.get(Fe);Re.forEach(bt=>ys(bt,Ye))}),m.forEach(Re=>{this.processLeaveNode(Re)})});const M=[],x=[];for(let Re=this._namespaceList.length-1;Re>=0;Re--)this._namespaceList[Re].drainQueuedTransitions(c).forEach(Ye=>{const bt=Ye.player,ae=Ye.element;if(M.push(bt),this.collectedEnterElements.length){const _n=ae[bn];if(_n&&_n.setForMove){if(_n.previousTriggersValues&&_n.previousTriggersValues.has(Ye.triggerName)){const Ti=_n.previousTriggersValues.get(Ye.triggerName),ls=this.statesByElement.get(Ye.element);if(ls&&ls.has(Ye.triggerName)){const _o=ls.get(Ye.triggerName);_o.value=Ti,ls.set(Ye.triggerName,_o)}}return void bt.destroy()}}const qe=!ht||!this.driver.containsElement(ht,ae),hn=l.get(ae),Mr=Rt.get(ae),Ct=this._buildInstruction(Ye,w,Mr,hn,qe);if(Ct.errors&&Ct.errors.length)return void x.push(Ct);if(qe)return bt.onStart(()=>dn(ae,Ct.fromStyles)),bt.onDestroy(()=>Hn(ae,Ct.toStyles)),void I.push(bt);if(Ye.isFallbackTransition)return bt.onStart(()=>dn(ae,Ct.fromStyles)),bt.onDestroy(()=>Hn(ae,Ct.toStyles)),void I.push(bt);const pr=[];Ct.timelines.forEach(_n=>{_n.stretchStartingKeyframe=!0,this.disabledNodes.has(_n.element)||pr.push(_n)}),Ct.timelines=pr,w.append(ae,Ct.timelines),Y.push({instruction:Ct,player:bt,element:ae}),Ct.queriedElements.forEach(_n=>qn(ee,_n,[]).push(bt)),Ct.preStyleProps.forEach((_n,Ti)=>{if(_n.size){let ls=he.get(Ti);ls||he.set(Ti,ls=new Set),_n.forEach((_o,Ta)=>ls.add(Ta))}}),Ct.postStyleProps.forEach((_n,Ti)=>{let ls=Ie.get(Ti);ls||Ie.set(Ti,ls=new Set),_n.forEach((_o,Ta)=>ls.add(Ta))})});if(x.length){const Re=[];x.forEach(Fe=>{Re.push(function yt(A,h){return new E.wOt(3505,!1)}())}),M.forEach(Fe=>Fe.destroy()),this.reportError(Re)}const R=new Map,B=new Map;Y.forEach(Re=>{const Fe=Re.element;w.has(Fe)&&(B.set(Fe,Fe),this._beforeAnimationBuild(Re.player.namespaceId,Re.instruction,R))}),I.forEach(Re=>{const Fe=Re.element;this._getPreviousPlayers(Fe,!1,Re.namespaceId,Re.triggerName,null).forEach(bt=>{qn(R,Fe,[]).push(bt),bt.destroy()})});const W=m.filter(Re=>ne(Re,he,Ie)),Z=new Map;Wr(Z,this.driver,o,Ie,He).forEach(Re=>{ne(Re,he,Ie)&&W.push(Re)});const ke=new Map;Jt.forEach((Re,Fe)=>{Wr(ke,this.driver,new Set(Re),he,"!")}),W.forEach(Re=>{const Fe=Z.get(Re),Ye=ke.get(Re);Z.set(Re,new Map([...Fe?.entries()??[],...Ye?.entries()??[]]))});const Be=[],Ne=[],et={};Y.forEach(Re=>{const{element:Fe,player:Ye,instruction:bt}=Re;if(w.has(Fe)){if(rt.has(Fe))return Ye.onDestroy(()=>Hn(Fe,bt.toStyles)),Ye.disabled=!0,Ye.overrideTotalTime(bt.totalTime),void I.push(Ye);let ae=et;if(B.size>1){let hn=Fe;const Mr=[];for(;hn=hn.parentNode;){const Ct=B.get(hn);if(Ct){ae=Ct;break}Mr.push(hn)}Mr.forEach(Ct=>B.set(Ct,ae))}const qe=this._buildAnimation(Ye.namespaceId,bt,R,j,ke,Z);if(Ye.setRealPlayer(qe),ae===et)Be.push(Ye);else{const hn=this.playersByElement.get(ae);hn&&hn.length&&(Ye.parentPlayer=qt(hn)),I.push(Ye)}}else dn(Fe,bt.fromStyles),Ye.onDestroy(()=>Hn(Fe,bt.toStyles)),Ne.push(Ye),rt.has(Fe)&&I.push(Ye)}),Ne.forEach(Re=>{const Fe=j.get(Re.element);if(Fe&&Fe.length){const Ye=qt(Fe);Re.setRealPlayer(Ye)}}),I.forEach(Re=>{Re.parentPlayer?Re.syncPlayerEvents(Re.parentPlayer):Re.destroy()});for(let Re=0;Re<m.length;Re++){const Fe=m[Re],Ye=Fe[bn];if(ys(Fe,Vn),Ye&&Ye.hasAnimation)continue;let bt=[];if(ee.size){let qe=ee.get(Fe);qe&&qe.length&&bt.push(...qe);let hn=this.driver.query(Fe,le,!0);for(let Mr=0;Mr<hn.length;Mr++){let Ct=ee.get(hn[Mr]);Ct&&Ct.length&&bt.push(...Ct)}}const ae=bt.filter(qe=>!qe.destroyed);ae.length?P(this,Fe,ae):this.processLeaveNode(Fe)}return m.length=0,Be.forEach(Re=>{this.players.push(Re),Re.onDone(()=>{Re.destroy();const Fe=this.players.indexOf(Re);this.players.splice(Fe,1)}),Re.play()}),Be}afterFlush(h){this._flushFns.push(h)}afterFlushAnimationsDone(h){this._whenQuietFns.push(h)}_getPreviousPlayers(h,c,w,I,j){let Y=[];if(c){const ee=this.playersByQueriedElement.get(h);ee&&(Y=ee)}else{const ee=this.playersByElement.get(h);if(ee){const he=!j||j==Gr;ee.forEach(Ie=>{Ie.queued||!he&&Ie.triggerName!=I||Y.push(Ie)})}}return(w||I)&&(Y=Y.filter(ee=>!(w&&w!=ee.namespaceId||I&&I!=ee.triggerName))),Y}_beforeAnimationBuild(h,c,w){const j=c.element,Y=c.isRemovalTransition?void 0:h,ee=c.isRemovalTransition?void 0:c.triggerName;for(const he of c.timelines){const Ie=he.element,rt=Ie!==j,ht=qn(w,Ie,[]);this._getPreviousPlayers(Ie,rt,Y,ee,c.toState).forEach(Jt=>{const Rt=Jt.getRealPlayer();Rt.beforeDestroy&&Rt.beforeDestroy(),Jt.destroy(),ht.push(Jt)})}dn(j,c.fromStyles)}_buildAnimation(h,c,w,I,j,Y){const ee=c.triggerName,he=c.element,Ie=[],rt=new Set,ht=new Set,$t=c.timelines.map(Rt=>{const Bt=Rt.element;rt.add(Bt);const m=Bt[bn];if(m&&m.removedBeforeQueried)return new fn(Rt.duration,Rt.delay);const a=Bt!==he,o=function k(A){const h=[];return D(A,h),h}((w.get(Bt)||en).map(R=>R.getRealPlayer())).filter(R=>!!R.element&&R.element===Bt),l=j.get(Bt),v=Y.get(Bt),M=jn(this._normalizer,Rt.keyframes,l,v),x=this._buildPlayer(Rt,M,o);if(Rt.subTimeline&&I&&ht.add(Bt),a){const R=new ms(h,ee,Bt);R.setRealPlayer(x),Ie.push(R)}return x});Ie.forEach(Rt=>{qn(this.playersByQueriedElement,Rt.element,[]).push(Rt),Rt.onDone(()=>function $n(A,h,c){let w=A.get(h);if(w){if(w.length){const I=w.indexOf(c);w.splice(I,1)}0==w.length&&A.delete(h)}return w}(this.playersByQueriedElement,Rt.element,Rt))}),rt.forEach(Rt=>vr(Rt,Nr));const Jt=qt($t);return Jt.onDestroy(()=>{rt.forEach(Rt=>ys(Rt,Nr)),Hn(he,c.toStyles)}),ht.forEach(Rt=>{qn(I,Rt,[]).push(Jt)}),Jt}_buildPlayer(h,c,w){return c.length>0?this.driver.animate(h.element,c,h.duration,h.delay,h.easing,w):new fn(h.duration,h.delay)}}class ms{constructor(h,c,w){this.namespaceId=h,this.triggerName=c,this.element=w,this._player=new fn,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(h){this._containsRealPlayer||(this._player=h,this._queuedCallbacks.forEach((c,w)=>{c.forEach(I=>yr(h,w,void 0,I))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(h.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(h){this.totalTime=h}syncPlayerEvents(h){const c=this._player;c.triggerCallback&&h.onStart(()=>c.triggerCallback("start")),h.onDone(()=>this.finish()),h.onDestroy(()=>this.destroy())}_queueEvent(h,c){qn(this._queuedCallbacks,h,[]).push(c)}onDone(h){this.queued&&this._queueEvent("done",h),this._player.onDone(h)}onStart(h){this.queued&&this._queueEvent("start",h),this._player.onStart(h)}onDestroy(h){this.queued&&this._queueEvent("destroy",h),this._player.onDestroy(h)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(h){this.queued||this._player.setPosition(h)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(h){const c=this._player;c.triggerCallback&&c.triggerCallback(h)}}function Rs(A){return A&&1===A.nodeType}function Zr(A,h){const c=A.style.display;return A.style.display=h??"none",c}function Wr(A,h,c,w,I){const j=[];c.forEach(he=>j.push(Zr(he)));const Y=[];w.forEach((he,Ie)=>{const rt=new Map;he.forEach(ht=>{const $t=h.computeStyle(Ie,ht,I);rt.set(ht,$t),(!$t||0==$t.length)&&(Ie[bn]=Fn,Y.push(Ie))}),A.set(Ie,rt)});let ee=0;return c.forEach(he=>Zr(he,j[ee++])),Y}function Pn(A,h){const c=new Map;if(A.forEach(ee=>c.set(ee,[])),0==h.length)return c;const I=new Set(h),j=new Map;function Y(ee){if(!ee)return 1;let he=j.get(ee);if(he)return he;const Ie=ee.parentNode;return he=c.has(Ie)?Ie:I.has(Ie)?1:Y(Ie),j.set(ee,he),he}return h.forEach(ee=>{const he=Y(ee);1!==he&&c.get(he).push(ee)}),c}function vr(A,h){A.classList?.add(h)}function ys(A,h){A.classList?.remove(h)}function P(A,h,c){qt(c).onDone(()=>A.processLeaveNode(h))}function D(A,h){for(let c=0;c<A.length;c++){const w=A[c];w instanceof Qe?D(w.players,h):h.push(w)}}function ne(A,h,c){const w=c.get(A);if(!w)return!1;let I=h.get(A);return I?w.forEach(j=>I.add(j)):h.set(A,w),c.delete(A),!0}class vt{constructor(h,c,w){this.bodyNode=h,this._driver=c,this._normalizer=w,this._triggerCache={},this.onRemovalComplete=(I,j)=>{},this._transitionEngine=new Un(h,c,w),this._timelineEngine=new Vr(h,c,w),this._transitionEngine.onRemovalComplete=(I,j)=>this.onRemovalComplete(I,j)}registerTrigger(h,c,w,I,j){const Y=h+"-"+I;let ee=this._triggerCache[Y];if(!ee){const he=[],rt=bi(this._driver,j,he,[]);if(he.length)throw function Wt(A,h){return new E.wOt(3404,!1)}();ee=function Xr(A,h,c){return new Qr(A,h,c)}(I,rt,this._normalizer),this._triggerCache[Y]=ee}this._transitionEngine.registerTrigger(c,I,ee)}register(h,c){this._transitionEngine.register(h,c)}destroy(h,c){this._transitionEngine.destroy(h,c)}onInsert(h,c,w,I){this._transitionEngine.insertNode(h,c,w,I)}onRemove(h,c,w){this._transitionEngine.removeNode(h,c,w)}disableAnimations(h,c){this._transitionEngine.markElementAsDisabled(h,c)}process(h,c,w,I){if("@"==w.charAt(0)){const[j,Y]=Xn(w);this._timelineEngine.command(j,c,Y,I)}else this._transitionEngine.trigger(h,c,w,I)}listen(h,c,w,I,j){if("@"==w.charAt(0)){const[Y,ee]=Xn(w);return this._timelineEngine.listen(Y,c,ee,j)}return this._transitionEngine.listen(h,c,w,I,j)}flush(h=-1){this._transitionEngine.flush(h)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(h){this._transitionEngine.afterFlushAnimationsDone(h)}}let $r=(()=>{class A{static{this.initialStylesByElement=new WeakMap}constructor(c,w,I){this._element=c,this._startStyles=w,this._endStyles=I,this._state=0;let j=A.initialStylesByElement.get(c);j||A.initialStylesByElement.set(c,j=new Map),this._initialStyles=j}start(){this._state<1&&(this._startStyles&&Hn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Hn(this._element,this._initialStyles),this._endStyles&&(Hn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(A.initialStylesByElement.delete(this._element),this._startStyles&&(dn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(dn(this._element,this._endStyles),this._endStyles=null),Hn(this._element,this._initialStyles),this._state=3)}}return A})();function vs(A){let h=null;return A.forEach((c,w)=>{(function es(A){return"display"===A||"position"===A})(w)&&(h=h||new Map,h.set(w,c))}),h}class Dr{constructor(h,c,w,I){this.element=h,this.keyframes=c,this.options=w,this._specialStyles=I,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=w.duration,this._delay=w.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(h=>h()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const h=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,h,this.options),this._finalKeyframe=h.length?h[h.length-1]:new Map;const c=()=>this._onFinish();this.domPlayer.addEventListener("finish",c),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",c)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(h){const c=[];return h.forEach(w=>{c.push(Object.fromEntries(w))}),c}_triggerWebAnimation(h,c,w){return h.animate(this._convertKeyframesToObject(c),w)}onStart(h){this._originalOnStartFns.push(h),this._onStartFns.push(h)}onDone(h){this._originalOnDoneFns.push(h),this._onDoneFns.push(h)}onDestroy(h){this._onDestroyFns.push(h)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(h=>h()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(h=>h()),this._onDestroyFns=[])}setPosition(h){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=h*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const h=new Map;this.hasStarted()&&this._finalKeyframe.forEach((w,I)=>{"offset"!==I&&h.set(I,this._finished?w:Ds(this.element,I))}),this.currentSnapshot=h}triggerCallback(h){const c="start"===h?this._onStartFns:this._onDoneFns;c.forEach(w=>w()),c.length=0}}class ui{validateStyleProperty(h){return!0}validateAnimatableStyleProperty(h){return!0}matchesElement(h,c){return!1}containsElement(h,c){return Oe(h,c)}getParentElement(h){return Qn(h)}query(h,c,w){return ye(h,c,w)}computeStyle(h,c,w){return window.getComputedStyle(h)[c]}animate(h,c,w,I,j,Y=[]){const he={duration:w,delay:I,fill:0==I?"both":"forwards"};j&&(he.easing=j);const Ie=new Map,rt=Y.filter(Jt=>Jt instanceof Dr);(function wr(A,h){return 0===A||0===h})(w,I)&&rt.forEach(Jt=>{Jt.currentSnapshot.forEach((Rt,Bt)=>Ie.set(Bt,Rt))});let ht=function cn(A){return A.length?A[0]instanceof Map?A:A.map(h=>$e(h)):[]}(c).map(Jt=>In(Jt));ht=function Ks(A,h,c){if(c.size&&h.length){let w=h[0],I=[];if(c.forEach((j,Y)=>{w.has(Y)||I.push(Y),w.set(Y,j)}),I.length)for(let j=1;j<h.length;j++){let Y=h[j];I.forEach(ee=>Y.set(ee,Ds(A,ee)))}}return h}(h,ht,Ie);const $t=function Ht(A,h){let c=null,w=null;return Array.isArray(h)&&h.length?(c=vs(h[0]),h.length>1&&(w=vs(h[h.length-1]))):h instanceof Map&&(c=vs(h)),c||w?new $r(A,c,w):null}(h,ht);return new Dr(h,ht,he,$t)}}var Lr=F(177);let Ci=(()=>{class A extends Je{constructor(c,w){super(),this._nextAnimationId=0,this._renderer=c.createRenderer(w.body,{id:"0",encapsulation:E.gXe.None,styles:[],data:{animation:[]}})}build(c){const w=this._nextAnimationId.toString();this._nextAnimationId++;const I=Array.isArray(c)?ot(c):c;return Di(this._renderer,null,w,"register",[I]),new Ei(w,this._renderer)}static{this.\u0275fac=function(w){return new(w||A)(E.KVO(E._9s),E.KVO(Lr.qQ))}}static{this.\u0275prov=E.jDH({token:A,factory:A.\u0275fac})}}return A})();class Ei extends Ve{constructor(h,c){super(),this._id=h,this._renderer=c}create(h,c){return new so(this._id,h,c||{},this._renderer)}}class so{constructor(h,c,w,I){this.id=h,this.element=c,this._renderer=I,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",w)}_listen(h,c){return this._renderer.listen(this.element,`@@${this.id}:${h}`,c)}_command(h,...c){return Di(this._renderer,this.element,this.id,h,c)}onDone(h){this._listen("done",h)}onStart(h){this._listen("start",h)}onDestroy(h){this._listen("destroy",h)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(h){this._command("setPosition",h)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Di(A,h,c,w,I){return A.setProperty(h,`@@${c}:${w}`,I)}const go="@.disabled";let Lt=(()=>{class A{constructor(c,w,I){this.delegate=c,this.engine=w,this._zone=I,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,w.onRemovalComplete=(j,Y)=>{const ee=Y?.parentNode(j);ee&&Y.removeChild(ee,j)}}createRenderer(c,w){const j=this.delegate.createRenderer(c,w);if(!(c&&w&&w.data&&w.data.animation)){let rt=this._rendererCache.get(j);return rt||(rt=new ts("",j,this.engine,()=>this._rendererCache.delete(j)),this._rendererCache.set(j,rt)),rt}const Y=w.id,ee=w.id+"-"+this._currentId;this._currentId++,this.engine.register(ee,c);const he=rt=>{Array.isArray(rt)?rt.forEach(he):this.engine.registerTrigger(Y,ee,c,rt.name,rt)};return w.data.animation.forEach(he),new xs(this,ee,j,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(c,w,I){c>=0&&c<this._microtaskId?this._zone.run(()=>w(I)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(j=>{const[Y,ee]=j;Y(ee)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([w,I]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(w){return new(w||A)(E.KVO(E._9s),E.KVO(vt),E.KVO(E.SKi))}}static{this.\u0275prov=E.jDH({token:A,factory:A.\u0275fac})}}return A})();class ts{constructor(h,c,w,I){this.namespaceId=h,this.delegate=c,this.engine=w,this._onDestroy=I}get data(){return this.delegate.data}destroyNode(h){this.delegate.destroyNode?.(h)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(h,c){return this.delegate.createElement(h,c)}createComment(h){return this.delegate.createComment(h)}createText(h){return this.delegate.createText(h)}appendChild(h,c){this.delegate.appendChild(h,c),this.engine.onInsert(this.namespaceId,c,h,!1)}insertBefore(h,c,w,I=!0){this.delegate.insertBefore(h,c,w),this.engine.onInsert(this.namespaceId,c,h,I)}removeChild(h,c,w){this.engine.onRemove(this.namespaceId,c,this.delegate)}selectRootElement(h,c){return this.delegate.selectRootElement(h,c)}parentNode(h){return this.delegate.parentNode(h)}nextSibling(h){return this.delegate.nextSibling(h)}setAttribute(h,c,w,I){this.delegate.setAttribute(h,c,w,I)}removeAttribute(h,c,w){this.delegate.removeAttribute(h,c,w)}addClass(h,c){this.delegate.addClass(h,c)}removeClass(h,c){this.delegate.removeClass(h,c)}setStyle(h,c,w,I){this.delegate.setStyle(h,c,w,I)}removeStyle(h,c,w){this.delegate.removeStyle(h,c,w)}setProperty(h,c,w){"@"==c.charAt(0)&&c==go?this.disableAnimations(h,!!w):this.delegate.setProperty(h,c,w)}setValue(h,c){this.delegate.setValue(h,c)}listen(h,c,w){return this.delegate.listen(h,c,w)}disableAnimations(h,c){this.engine.disableAnimations(h,c)}}class xs extends ts{constructor(h,c,w,I,j){super(c,w,I,j),this.factory=h,this.namespaceId=c}setProperty(h,c,w){"@"==c.charAt(0)?"."==c.charAt(1)&&c==go?this.disableAnimations(h,w=void 0===w||!!w):this.engine.process(this.namespaceId,h,c.slice(1),w):this.delegate.setProperty(h,c,w)}listen(h,c,w){if("@"==c.charAt(0)){const I=function Ni(A){switch(A){case"body":return document.body;case"document":return document;case"window":return window;default:return A}}(h);let j=c.slice(1),Y="";return"@"!=j.charAt(0)&&([j,Y]=function _s(A){const h=A.indexOf(".");return[A.substring(0,h),A.slice(h+1)]}(j)),this.engine.listen(this.namespaceId,I,j,Y,ee=>{this.factory.scheduleListenerCallback(ee._data||-1,w,ee)})}return this.delegate.listen(h,c,w)}}const qi=[{provide:Je,useClass:Ci},{provide:It,useFactory:function ns(){return new ai}},{provide:vt,useClass:(()=>{class A extends vt{constructor(c,w,I,j){super(c.body,w,I)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(w){return new(w||A)(E.KVO(Lr.qQ),E.KVO(Se),E.KVO(It),E.KVO(E.o8S))}}static{this.\u0275prov=E.jDH({token:A,factory:A.\u0275fac})}}return A})()},{provide:E._9s,useFactory:function rs(A,h,c){return new Lt(A,h,c)},deps:[u.B7,vt,E.SKi]}],Xi=[{provide:Se,useFactory:()=>new ui},{provide:E.bc$,useValue:"BrowserAnimations"},...qi],ao={providers:[(0,G.lh)(X),(0,de.$R)((0,de.b$)([(A,h)=>h(A).pipe((0,fe.W)(c=>401===c.status?(c.url?.includes("api/spotify/admin/check-playing-song"),me.w):(0,oe.$)(()=>c)))])),(0,u.$x)(),function zi(){return[...Xi]}()]};var di=F(4341),hi=F(4412),Us=F(8359),Sr=F(7673),Si=F(6354),fi=F(6697),ki=F(8141),lo=F(5312),uo=F(5321);let Mi=(()=>{class A{http;apiUrl=lo.c.apiUrl;supabase;channel=null;messagesSubject=new hi.t([]);messages$=this.messagesSubject.asObservable();typingUsersSubject=new hi.t([]);typingUsers$=this.typingUsersSubject.asObservable();statsSubject=new hi.t(null);stats$=this.statsSubject.asObservable();connectedSubject=new hi.t(!0);connected$=this.connectedSubject.asObservable();onlineUsersSubject=new hi.t(1);onlineUsers$=this.onlineUsersSubject.asObservable();currentUser="Usuario";userId=this.generateUserId();currentRoom="general";isTyping=!1;subscriptions=[];constructor(c){this.http=c,this.supabase=(0,uo.UU)(lo.c.supabaseUrl,lo.c.supabaseKey,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:localStorage},realtime:{params:{eventsPerSecond:10}}}),this.loadUserFromStorage(),this.loadInitialHistory().subscribe(()=>{this.setupRealtimeSubscription()}),this.subscriptions.push(this.setupPeriodicStats(),this.setupOnlineUsersCheck(),this.setupHeartbeat())}ngOnDestroy(){this.subscriptions.forEach(c=>c.unsubscribe()),this.setTyping(!1),this.channel&&this.supabase.removeChannel(this.channel)}setupRealtimeSubscription(){this.channel=this.supabase.channel("chat-messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages",filter:`room=eq.${this.currentRoom}`},c=>{this.handleNewMessage(c)}).on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages",filter:"message_type=eq.system"},c=>{this.handleSystemMessage(c)}).subscribe(c=>{console.log("Canal de Supabase:",c),this.connectedSubject.next("SUBSCRIBED"===c)})}handleNewMessage(c){const w={id:c.new.id,user:c.new.user_name,user_id:c.new.user_id,message:c.new.message,timestamp:c.new.created_at,room:c.new.room,type:c.new.message_type||"message"},I=this.messagesSubject.value;if(!I.find(j=>j.id===w.id)){const Y=[...I,w].sort((ee,he)=>new Date(ee.timestamp).getTime()-new Date(he.timestamp).getTime()).slice(-200);this.messagesSubject.next(Y)}}getAuthToken(){return localStorage.getItem("adminToken")||localStorage.getItem("auth_token")}handleSystemMessage(c){this.handleNewMessage(c)}setupPeriodicStats(){return new Us.yU(()=>{const c=setInterval(()=>{this.loadStatsObservable().subscribe()},6e4);return()=>clearInterval(c)})}setupOnlineUsersCheck(){return new Us.yU(()=>{this.refreshOnlineUsers().subscribe();const c=setInterval(()=>{this.refreshOnlineUsers().subscribe()},6e4);return()=>clearInterval(c)})}setupHeartbeat(){return new Us.yU(()=>{this.sendHeartbeat().subscribe();const c=setInterval(()=>{this.sendHeartbeat().subscribe()},6e4);return()=>clearInterval(c)})}sendHeartbeat(){const c=this.getAuthToken(),w={"Content-Type":"application/json"};return c&&(w.Authorization=`Bearer ${c}`),this.http.post(`${this.apiUrl}/api/chat/heartbeat`,{user_id:this.userId,room:this.currentRoom},{headers:w}).pipe((0,fe.W)(()=>(0,Sr.of)(null)))}loadUserFromStorage(){const c=localStorage.getItem("chat_user_name");c&&(this.currentUser=c)}loadInitialHistory(){return this.http.get(`${this.apiUrl}/api/chat/messages?limit=100`).pipe((0,ki.M)({next:c=>{this.messagesSubject.next(c.messages||[]),this.connectedSubject.next(!0)},error:c=>{console.error("Error loading initial history:",c),this.connectedSubject.next(!1)}}),(0,fe.W)(c=>(console.error("API call failed for initial history:",c),this.connectedSubject.next(!1),(0,Sr.of)(null))))}refreshOnlineUsers(){return this.http.get(`${this.apiUrl}/api/chat/online-users`).pipe((0,fe.W)(c=>(0,Sr.of)({online_users:1})),(0,ki.M)(c=>this.onlineUsersSubject.next(c.online_users)))}sendMessage(c){const w=this.getAuthToken(),I={"Content-Type":"application/json"};w&&(I.Authorization=`Bearer ${w}`);const j={message:c.trim(),user:this.currentUser,user_id:this.userId,room:this.currentRoom};return this.http.post(`${this.apiUrl}/api/chat/send`,j,{headers:I}).pipe((0,ki.M)(Y=>{Y.success&&Y.message&&this.setTyping(!1)}))}deleteMessage(c){const w=this.getAuthToken(),I={};return w&&(I.Authorization=`Bearer ${w}`),this.http.delete(`${this.apiUrl}/api/chat/messages/${c}`,{headers:I})}isAdmin(){const c=this.getAuthToken();if(!c)return!1;const w=localStorage.getItem("adminUser");if(!w)return!!c;try{return"admin"===JSON.parse(w).role}catch{return!!c}}setTyping(c){this.isTyping!==c&&(this.isTyping=c,this.http.post(`${this.apiUrl}/api/chat/typing`,{user:this.currentUser,room:this.currentRoom,is_typing:c}).pipe((0,fe.W)(()=>(0,Sr.of)(null))).subscribe())}setUser(c){c&&c.trim()&&(this.currentUser=c.trim(),localStorage.setItem("chat_user_name",this.currentUser))}getUser(){return this.currentUser}loadStatsObservable(){return this.http.get(`${this.apiUrl}/api/chat/stats`).pipe((0,fe.W)(()=>(0,Sr.of)(null)),(0,ki.M)(c=>{c&&this.statsSubject.next(c)}))}loadStats(){this.loadStatsObservable().subscribe()}validateUsername(c){const w=this.getAuthToken();console.log("[ChatService] Validating username. Token exists:",!!w);const I={"Content-Type":"application/json"};return w&&(I.Authorization=`Bearer ${w}`),this.http.post(`${this.apiUrl}/api/chat/validate-username`,{username:c},{headers:I}).pipe((0,fe.W)(j=>(0,Sr.of)({valid:!1,error:"Error validando nombre"})))}generateUserId(){let c=localStorage.getItem("chat_user_id");return c||(c=`user_${Math.random().toString(36).substring(2,11)}`,localStorage.setItem("chat_user_id",c)),c}static \u0275fac=function(w){return new(w||A)(E.KVO(de.Qq))};static \u0275prov=E.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})();const Uo=["messagesContainer"],y=["chatContainer"];function L(A,h){if(1&A&&(E.j41(0,"span",14),E.EFF(1),E.k0s()),2&A){const c=E.XpG(2);E.R7$(1),E.JRh(c.unreadMessages)}}function S(A,h){1&A&&(E.j41(0,"div",22),E.nrm(1,"i",23),E.EFF(2," Reconectando... "),E.k0s())}function N(A,h){if(1&A){const c=E.RV6();E.j41(0,"div",24)(1,"div",25),E.nrm(2,"i",26),E.EFF(3),E.k0s(),E.j41(4,"button",27),E.bIt("click",function(){E.eBV(c);const I=E.XpG(3);return E.Njj(I.showUserModal=!0)}),E.nrm(5,"i",28),E.k0s(),E.j41(6,"button",29),E.bIt("click",function(){E.eBV(c);const I=E.XpG(3);return E.Njj(I.isChatOpen=!1)}),E.nrm(7,"i",30),E.k0s()()}if(2&A){const c=h.ngIf;E.R7$(3),E.SpI(" ",c,"")}}function Q(A,h){if(1&A&&(E.j41(0,"div",15)(1,"div",16)(2,"h4"),E.nrm(3,"i",17),E.EFF(4," Chat Musical"),E.k0s(),E.j41(5,"div",18),E.nrm(6,"span",19),E.EFF(7),E.k0s(),E.DNE(8,S,3,0,"div",20),E.k0s(),E.DNE(9,N,8,1,"div",21),E.nI1(10,"async"),E.k0s()),2&A){const c=h.ngIf,w=E.XpG(2);E.R7$(5),E.AVh("connected",c)("disconnected",!c),E.R7$(2),E.SpI(" ",c?"Conectado":"Reconectando..."," "),E.R7$(1),E.Y8G("ngIf",!c),E.R7$(1),E.Y8G("ngIf",E.bMT(10,7,w.onlineUsers$))}}function we(A,h){if(1&A&&(E.j41(0,"div",31)(1,"div",32)(2,"small"),E.EFF(3),E.k0s()(),E.j41(4,"div",32)(5,"small"),E.EFF(6),E.k0s()()()),2&A){const c=h.ngIf;E.R7$(3),E.SpI("Total: ",null==c?null:c.total_messages,""),E.R7$(3),E.SpI("Hoy: ",null==c?null:c.messages_today,"")}}function Te(A,h){if(1&A){const c=E.RV6();E.j41(0,"button",42),E.bIt("click",function(){E.eBV(c);const I=E.XpG(2).$implicit,j=E.XpG(3);return E.Njj(j.deleteMessage(I.id))}),E.nrm(1,"i",43),E.k0s()}}function _t(A,h){if(1&A&&(E.j41(0,"div",38)(1,"strong",39),E.EFF(2),E.k0s(),E.j41(3,"span",40),E.EFF(4),E.k0s(),E.DNE(5,Te,2,0,"button",41),E.nI1(6,"async"),E.k0s()),2&A){const c=E.XpG().$implicit,w=E.XpG(3);E.R7$(2),E.JRh(c.user),E.R7$(2),E.JRh(w.formatTime(c.timestamp)),E.R7$(1),E.Y8G("ngIf",E.bMT(6,3,w.isAdmin$))}}function An(A,h){if(1&A&&(E.j41(0,"div",35),E.DNE(1,_t,7,5,"div",36),E.j41(2,"div",37),E.EFF(3),E.k0s()()),2&A){const c=h.$implicit,w=E.XpG(2).ngIf;E.AVh("system-message","system"===c.type)("own-message",c.user===w&&"message"===c.type),E.R7$(1),E.Y8G("ngIf","message"===c.type),E.R7$(2),E.JRh(c.message)}}function wn(A,h){if(1&A&&(E.j41(0,"div")(1,"div",33)(2,"span"),E.EFF(3),E.k0s()(),E.DNE(4,An,4,6,"div",34),E.k0s()),2&A){const c=h.$implicit,w=E.XpG(2);E.R7$(3),E.JRh(c.label),E.R7$(1),E.Y8G("ngForOf",c.messages)("ngForTrackBy",w.trackByMessage)}}function sn(A,h){if(1&A&&(E.j41(0,"div")(1,"div",46),E.nrm(2,"span")(3,"span")(4,"span"),E.k0s(),E.j41(5,"span",47),E.EFF(6),E.k0s()()),2&A){const c=E.XpG().ngIf;E.R7$(6),E.Lme("",c.join(", ")," ",1===c.length?"est\xe1 escribiendo...":"est\xe1n escribiendo...","")}}function Qt(A,h){if(1&A&&(E.j41(0,"div",44),E.DNE(1,sn,7,2,"div",45),E.k0s()),2&A){const c=h.ngIf;E.R7$(1),E.Y8G("ngIf",c.length>0)}}function nr(A,h){if(1&A){const c=E.RV6();E.j41(0,"div",48)(1,"input",49,50),E.bIt("ngModelChange",function(I){E.eBV(c);const j=E.XpG(2);return E.Njj(j.newMessage=I)})("input",function(){E.eBV(c);const I=E.XpG(2);return E.Njj(I.onInputChange())})("keyup.enter",function(){E.eBV(c);const I=E.XpG(2);return E.Njj(I.sendMessage())}),E.k0s(),E.j41(3,"button",51),E.bIt("click",function(){E.eBV(c);const I=E.XpG(2);return E.Njj(I.sendMessage())}),E.nrm(4,"i",52),E.k0s()()}if(2&A){const c=h.ngIf,w=E.XpG(2);E.R7$(1),E.FS9("placeholder",c?"Escribe un mensaje...":"Conectando..."),E.Y8G("ngModel",w.newMessage)("disabled",!c),E.R7$(2),E.Y8G("disabled",!w.newMessage.trim()||!c)}}function Rn(A,h){if(1&A&&(E.j41(0,"div",61)(1,"small",62),E.EFF(2),E.k0s()()),2&A){const c=E.XpG(3);E.R7$(2),E.JRh(c.usernameError)}}function fr(A,h){if(1&A){const c=E.RV6();E.j41(0,"div",53),E.bIt("click",function(){E.eBV(c);const I=E.XpG(2);return E.Njj(I.showUserModal=!1)}),E.j41(1,"div",54),E.bIt("click",function(I){return I.stopPropagation()}),E.j41(2,"h4"),E.EFF(3,"Cambiar Nombre"),E.k0s(),E.j41(4,"input",55,56),E.bIt("keyup",function(){E.eBV(c);const I=E.sdS(5),j=E.XpG(2);return E.Njj(j.onUsernameInput(I.value))})("keyup.enter",function(){E.eBV(c);const I=E.sdS(5),j=E.XpG(2);return E.Njj(j.updateUser(I.value))}),E.k0s(),E.DNE(6,Rn,3,1,"div",57),E.j41(7,"div",58)(8,"button",59),E.bIt("click",function(){E.eBV(c);const I=E.XpG(2);return E.Njj(I.showUserModal=!1)}),E.EFF(9,"Cancelar"),E.k0s(),E.j41(10,"button",60),E.bIt("click",function(){E.eBV(c);const I=E.sdS(5),j=E.XpG(2);return E.Njj(j.updateUser(I.value))}),E.EFF(11," Guardar "),E.k0s()()()()}if(2&A){const c=E.XpG().ngIf,w=E.XpG();E.R7$(4),E.Y8G("value",c),E.R7$(2),E.Y8G("ngIf",w.usernameError),E.R7$(4),E.Y8G("disabled",w.usernameError)}}function ss(A,h){if(1&A){const c=E.RV6();E.j41(0,"div",1)(1,"button",2),E.bIt("click",function(){E.eBV(c);const I=E.XpG();return E.Njj(I.toggleChat())}),E.nrm(2,"i",3),E.DNE(3,L,2,1,"span",4),E.k0s(),E.j41(4,"div",5),E.DNE(5,Q,11,9,"div",6),E.nI1(6,"async"),E.DNE(7,we,7,2,"div",7),E.nI1(8,"async"),E.j41(9,"div",8,9),E.DNE(11,wn,5,3,"div",10),E.nI1(12,"async"),E.DNE(13,Qt,2,1,"div",11),E.nI1(14,"async"),E.k0s(),E.DNE(15,nr,5,4,"div",12),E.nI1(16,"async"),E.DNE(17,fr,12,3,"div",13),E.k0s()()}if(2&A){const c=E.XpG();E.R7$(1),E.AVh("has-unread",c.unreadMessages>0),E.R7$(2),E.Y8G("ngIf",c.unreadMessages>0),E.R7$(1),E.AVh("open",c.isChatOpen),E.R7$(1),E.Y8G("ngIf",E.bMT(6,11,c.connected$)),E.R7$(2),E.Y8G("ngIf",E.bMT(8,13,c.stats$)),E.R7$(4),E.Y8G("ngForOf",E.bMT(12,15,c.groupedMessages$)),E.R7$(2),E.Y8G("ngIf",E.bMT(14,17,c.typingUsers$)),E.R7$(2),E.Y8G("ngIf",E.bMT(16,19,c.connected$)),E.R7$(2),E.Y8G("ngIf",c.showUserModal)}}let is=(()=>{class A{chatService;cdr;elementRef;messagesContainer;chatContainer;isChatOpen=!1;newMessage="";showUserModal=!1;unreadMessages=0;usernameError="";previousMessageCount=0;messages$;groupedMessages$;typingUsers$;onlineUsers$;connected$;stats$;currentUser$;isAdminSubject=new hi.t(!1);isAdmin$=this.isAdminSubject.asObservable();subscriptions=new Us.yU;typingTimeout;constructor(c,w,I){this.chatService=c,this.cdr=w,this.elementRef=I,this.messages$=this.chatService.messages$,this.typingUsers$=this.chatService.typingUsers$,this.onlineUsers$=this.chatService.onlineUsers$,this.connected$=this.chatService.connected$,this.stats$=this.chatService.stats$,this.currentUser$=(0,Sr.of)(this.chatService.getUser()),this.connected$=this.chatService.connected$,this.stats$=this.chatService.stats$,this.currentUser$=(0,Sr.of)(this.chatService.getUser()),this.isAdminSubject.next(this.chatService.isAdmin()),this.groupedMessages$=this.messages$.pipe((0,Si.T)(j=>this.groupMessagesByDate(j)))}ngOnInit(){const c=this.messages$.subscribe(w=>{setTimeout(()=>{this.handleNewMessages(w),this.cdr.detectChanges(),this.autoScrollToBottom()})});this.subscriptions.add(c),setTimeout(()=>{this.chatService.loadInitialHistory().subscribe()},1e3)}onUsernameInput(c){const w=c.trim();w?this.chatService.validateUsername(w).subscribe({next:I=>{this.usernameError=I.valid?"":I.error||"",this.cdr.markForCheck()},error:()=>{this.usernameError="",this.cdr.markForCheck()}}):(this.usernameError="",this.cdr.markForCheck())}ngOnDestroy(){this.subscriptions.unsubscribe(),this.typingTimeout&&clearTimeout(this.typingTimeout)}handleNewMessages(c){if(!this.messagesContainer)return;const w=c.length,I=this.previousMessageCount;if(this.previousMessageCount=w,this.isChatOpen){const j=w-I;j>0&&I>0&&(this.unreadMessages+=j)}else{const j=w-I;j>0&&(this.unreadMessages+=j,this.showNewMessageNotification(this.unreadMessages))}}sendMessage(){this.connected$.pipe((0,fi.s)(1)).subscribe(c=>{if(this.newMessage.trim()&&c){const w=this.newMessage.trim();this.newMessage="",this.cdr.markForCheck(),this.chatService.sendMessage(w).subscribe({next:()=>{this.stopTyping(),this.scrollToBottom()},error:I=>{this.newMessage=w,this.cdr.markForCheck(),I.error&&I.error.error&&alert(I.error.error)}})}})}scrollToBottom(){this.messagesContainer&&setTimeout(()=>{try{this.messagesContainer.nativeElement.scrollTop=this.messagesContainer.nativeElement.scrollHeight}catch(c){console.error("Error en scroll:",c)}},50)}showNewMessageNotification(c){!document.hasFocus()&&"Notification"in window&&"granted"===Notification.permission&&new Notification(`Tienes ${c} nuevo${c>1?"s":""} mensaje${c>1?"s":""}`)}toggleChat(){this.isChatOpen=!this.isChatOpen,this.isChatOpen&&(this.unreadMessages=0,this.chatService.loadStats(),this.chatService.refreshOnlineUsers().subscribe(),setTimeout(()=>{this.scrollToBottom(),this.chatService.loadInitialHistory().subscribe()},100))}setupRealtimeMessages(){const c=this.messages$.subscribe(w=>{const I=this.isNearBottom();this.handleNewMessages(w),this.cdr.markForCheck(),I&&this.autoScrollToBottom()});this.subscriptions.add(c)}isNearBottom(){if(!this.messagesContainer)return!0;const c=this.messagesContainer.nativeElement;return c.scrollHeight-(c.scrollTop+c.clientHeight)<=150}autoScrollToBottom(){this.messagesContainer&&setTimeout(()=>{const c=this.messagesContainer.nativeElement;c.scrollTop=c.scrollHeight},100)}onInputChange(){this.connected$.pipe((0,fi.s)(1)).subscribe(c=>{this.newMessage.trim()&&c?(this.chatService.setTyping(!0),this.typingTimeout&&clearTimeout(this.typingTimeout),this.typingTimeout=setTimeout(()=>this.stopTyping(),2500)):this.stopTyping()})}stopTyping(){this.typingTimeout&&(clearTimeout(this.typingTimeout),this.typingTimeout=null),this.chatService.setTyping(!1)}updateUser(c){const w=c.trim();w&&this.chatService.validateUsername(w).subscribe({next:I=>{I.valid?(this.chatService.setUser(w),this.currentUser$=(0,Sr.of)(w),this.showUserModal=!1,this.usernameError="",this.cdr.markForCheck(),I.is_admin?(console.log("\u2705 Modo administrador activado para el chat"),this.isAdminSubject.next(!0)):this.isAdminSubject.next(this.chatService.isAdmin())):(this.usernameError=I.error||"Nombre no v\xe1lido",this.cdr.markForCheck())},error:()=>{this.usernameError="Error validando el nombre de usuario",this.cdr.markForCheck()}})}formatTime(c){return new Date(c).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})}trackByMessage(c,w){return w.id}onDocumentClick(c){this.isChatOpen&&!this.elementRef.nativeElement.contains(c.target)&&(this.isChatOpen=!1,this.cdr.markForCheck())}deleteMessage(c){confirm("\xbfEst\xe1s seguro de que quieres eliminar este mensaje?")&&this.chatService.deleteMessage(c).subscribe({next:()=>{},error:w=>{console.error("Error al eliminar mensaje:",w),alert("No se pudo eliminar el mensaje")}})}groupMessagesByDate(c){const w=[],I=new Date;I.setHours(0,0,0,0);const j=new Date(I);return j.setDate(j.getDate()-1),c.forEach(Y=>{const ee=new Date(Y.timestamp),he=new Date(ee);he.setHours(0,0,0,0);let Ie="";Ie=he.getTime()===I.getTime()?"Hoy":he.getTime()===j.getTime()?"Ayer":ee.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"});let rt=w[w.length-1];rt&&rt.label===Ie?rt.messages.push(Y):w.push({label:Ie,messages:[Y]})}),w}static \u0275fac=function(w){return new(w||A)(E.rXU(Mi),E.rXU(E.gRc),E.rXU(E.aKT))};static \u0275cmp=E.VBU({type:A,selectors:[["app-floating-chat"]],viewQuery:function(w,I){if(1&w&&(E.GBs(Uo,5),E.GBs(y,5)),2&w){let j;E.mGM(j=E.lsd())&&(I.messagesContainer=j.first),E.mGM(j=E.lsd())&&(I.chatContainer=j.first)}},hostBindings:function(w,I){1&w&&E.bIt("click",function(Y){return I.onDocumentClick(Y)},!1,E.EBC)},standalone:!0,features:[E.aNF],decls:2,vars:3,consts:[["class","floating-chat-container",4,"ngIf"],[1,"floating-chat-container"],[1,"floating-chat-button",3,"click"],[1,"fas","fa-comments"],["class","unread-badge",4,"ngIf"],[1,"chat-window"],["class","chat-header",4,"ngIf"],["class","chat-stats",4,"ngIf"],[1,"messages-container"],["messagesContainer",""],[4,"ngFor","ngForOf"],["class","typing-indicator",4,"ngIf"],["class","input-container",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"unread-badge"],[1,"chat-header"],[1,"header-left"],[1,"fas","fa-comments","me-2"],[1,"connection-status"],[1,"status-dot"],["class","reconnection-message",4,"ngIf"],["class","header-right",4,"ngIf"],[1,"reconnection-message"],[1,"fas","fa-sync-alt","fa-spin"],[1,"header-right"],[1,"online-users"],[1,"fas","fa-users","me-1"],["title","Cambiar usuario",1,"btn-user",3,"click"],[1,"fas","fa-user-edit"],["title","Cerrar chat",1,"btn-close",3,"click"],[1,"fas","fa-times"],[1,"chat-stats"],[1,"stat-item"],[1,"date-divider"],["class","message",3,"system-message","own-message",4,"ngFor","ngForOf","ngForTrackBy"],[1,"message"],["class","message-header",4,"ngIf"],[1,"message-content"],[1,"message-header"],[1,"username"],[1,"message-time"],["class","btn-delete-msg","title","Eliminar mensaje",3,"click",4,"ngIf"],["title","Eliminar mensaje",1,"btn-delete-msg",3,"click"],[1,"fas","fa-trash-alt"],[1,"typing-indicator"],[4,"ngIf"],[1,"typing-dots"],[1,"typing-text"],[1,"input-container"],["type","text",1,"message-input",3,"ngModel","disabled","placeholder","ngModelChange","input","keyup.enter"],["messageInput",""],[1,"send-button",3,"disabled","click"],[1,"fas","fa-paper-plane"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],["type","text","placeholder","Tu nombre de usuario","maxlength","20",1,"user-input",3,"value","keyup","keyup.enter"],["userInput",""],["class","validation-message",4,"ngIf"],[1,"modal-actions"],[1,"btn-cancel",3,"click"],[1,"btn-save",3,"disabled","click"],[1,"validation-message"],[1,"text-danger"]],template:function(w,I){1&w&&(E.DNE(0,ss,18,21,"div",0),E.nI1(1,"async")),2&w&&E.Y8G("ngIf",E.bMT(1,1,I.currentUser$))},dependencies:[Lr.MD,Lr.Sq,Lr.bT,Lr.Jj,di.YN,di.me,di.BC,di.vS],styles:[".floating-chat-container[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;z-index:10002}.floating-chat-button[_ngcontent-%COMP%]{position:relative;width:70px;height:70px;border-radius:50%;background:linear-gradient(135deg,var(--primary-color),#1db954);color:#fff;border:none;cursor:pointer;box-shadow:0 6px 25px #1db95480;display:flex;align-items:center;justify-content:center;font-size:1.8rem;transition:all .3s ease}.floating-chat-button[_ngcontent-%COMP%]:hover{transform:scale(1.15);box-shadow:0 8px 30px #1db954b3}.floating-chat-button.has-unread[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s infinite}.floating-chat-button[_ngcontent-%COMP%]   .unread-badge[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;background:#e74c3c;color:#fff;border-radius:50%;width:24px;height:24px;font-size:.8rem;display:flex;align-items:center;justify-content:center;font-weight:700;border:2px solid var(--card-bg)}.chat-window[_ngcontent-%COMP%]{position:absolute;bottom:85px;right:0;width:450px;height:650px;background:var(--card-bg);border:1px solid var(--hover-bg);border-radius:16px;box-shadow:0 15px 50px #0006;display:flex;flex-direction:column;opacity:0;transform:translateY(20px) scale(.95);pointer-events:none;transition:all .3s cubic-bezier(.4,0,.2,1)}.chat-window.open[_ngcontent-%COMP%]{opacity:1;transform:translateY(0) scale(1);pointer-events:all}.chat-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.25rem;background:linear-gradient(135deg,var(--hover-bg),var(--card-bg));border-bottom:1px solid var(--border-color);border-radius:16px 16px 0 0}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;color:var(--text-primary);font-size:1.1rem;font-weight:600}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .connection-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.75rem;padding:.3rem .6rem;border-radius:20px;background:var(--bg-color);font-weight:500}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .connection-status.connected[_ngcontent-%COMP%]{color:#10b981;background:rgba(16,185,129,.1)}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .connection-status.connected[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{background:#10b981;box-shadow:0 0 8px #10b98180}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .connection-status.disconnected[_ngcontent-%COMP%]{color:#ef4444;background:rgba(239,68,68,.1)}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .connection-status.disconnected[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{background:#ef4444}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .connection-status[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%;animation:_ngcontent-%COMP%_pulse 2s infinite}.chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .online-users[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem;padding:.4rem .8rem;background:var(--bg-color);border-radius:20px;font-size:.8rem;color:var(--text-secondary);font-weight:500}.chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn-user[_ngcontent-%COMP%], .chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--text-secondary);padding:.5rem;border-radius:8px;cursor:pointer;transition:all .2s ease}.chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn-user[_ngcontent-%COMP%]:hover, .chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{background:var(--hover-bg);color:var(--text-primary);transform:scale(1.1)}.chat-stats[_ngcontent-%COMP%]{display:flex;gap:1.5rem;padding:.75rem 1.25rem;background:var(--bg-color);border-bottom:1px solid var(--border-color)}.chat-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.75rem;font-weight:500}.messages-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:1.25rem;display:flex;flex-direction:column;gap:.75rem;background:var(--bg-color)}.message[_ngcontent-%COMP%]{max-width:90%;padding:.75rem 1rem;border-radius:16px;background:var(--hover-bg);animation:_ngcontent-%COMP%_messageSlide .25s ease-out;border:1px solid transparent;transition:all .2s ease}.message[_ngcontent-%COMP%]:hover{border-color:var(--border-color);transform:translateY(-1px)}.message.own-message[_ngcontent-%COMP%]{align-self:flex-end;background:linear-gradient(135deg,var(--primary-color),#1a8cff);color:#fff;box-shadow:0 4px 15px #1db9544d}.message.own-message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{color:#fffffff2}.message.own-message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%]{color:#fffc}.message.system-message[_ngcontent-%COMP%]{align-self:center;background:transparent;text-align:center;color:var(--text-secondary);font-style:italic;max-width:100%;border:1px dashed var(--border-color)}.message.system-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{font-size:.85rem;font-weight:500}.message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.3rem}.message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600;color:var(--text-primary)}.message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%]{font-size:.7rem;opacity:.8;color:var(--text-secondary)}.message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .btn-delete-msg[_ngcontent-%COMP%]{background:transparent;border:none;color:#ef444499;margin-left:auto;padding:4px;border-radius:50%;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;width:24px;height:24px}.message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .btn-delete-msg[_ngcontent-%COMP%]:hover{background:rgba(239,68,68,.15);color:#ef4444;transform:scale(1.1)}.message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{word-wrap:break-word;line-height:1.4;font-size:.9rem}.typing-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem 1rem;color:var(--text-secondary);font-size:.85rem;font-style:italic;background:var(--hover-bg);border-radius:12px;margin-top:.5rem}.typing-indicator[_ngcontent-%COMP%]   .typing-dots[_ngcontent-%COMP%]{display:flex;gap:3px}.typing-indicator[_ngcontent-%COMP%]   .typing-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:6px;height:6px;border-radius:50%;background:var(--primary-color);animation:_ngcontent-%COMP%_typingBounce 1.4s infinite ease-in-out}.typing-indicator[_ngcontent-%COMP%]   .typing-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){animation-delay:-.32s}.typing-indicator[_ngcontent-%COMP%]   .typing-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.16s}.date-divider[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:1rem 0}.date-divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:rgba(0,0,0,.2);color:var(--text-secondary);padding:.25rem .75rem;border-radius:12px;font-size:.75rem;font-weight:500}.input-container[_ngcontent-%COMP%]{display:flex;padding:1rem;border-top:1px solid var(--border-color);background:var(--card-bg);gap:.75rem;align-items:center}.input-container[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]{flex:1;padding:.75rem 1rem;border:2px solid var(--border-color);border-radius:25px;background:var(--bg-color);color:var(--text-primary);font-size:.9rem;transition:all .3s ease}.input-container[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #1db9541a}.input-container[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.input-container[_ngcontent-%COMP%]   .send-button[_ngcontent-%COMP%]{padding:.75rem;background:linear-gradient(135deg,var(--primary-color),#1db954);color:#fff;border:none;border-radius:50%;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center}.input-container[_ngcontent-%COMP%]   .send-button[_ngcontent-%COMP%]:hover:not(:disabled){transform:scale(1.1) rotate(5deg);box-shadow:0 6px 20px #1db95466}.input-container[_ngcontent-%COMP%]   .send-button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none}.modal-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:rgba(0,0,0,.8);display:flex;align-items:center;justify-content:center;z-index:10;border-radius:16px;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.modal-content[_ngcontent-%COMP%]{background:var(--card-bg);padding:2rem;border-radius:16px;width:90%;max-width:400px;border:1px solid var(--border-color);box-shadow:0 20px 60px #0000004d}.modal-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 1.5rem;color:var(--text-primary);font-size:1.2rem;font-weight:600;text-align:center}.modal-content[_ngcontent-%COMP%]   .user-input[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:2px solid var(--border-color);border-radius:12px;background:var(--bg-color);color:var(--text-primary);margin-bottom:1.5rem;font-size:1rem;transition:all .3s ease}.modal-content[_ngcontent-%COMP%]   .user-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #1db9541a}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;justify-content:flex-end}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]{padding:.6rem 1.25rem;border:none;border-radius:8px;cursor:pointer;font-size:.9rem;font-weight:500;transition:all .3s ease}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background:transparent;color:var(--text-secondary);border:2px solid var(--border-color)}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover{background:var(--hover-bg);border-color:var(--text-secondary)}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color),#1db954);color:#fff}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #1db9544d}@keyframes _ngcontent-%COMP%_messageSlide{0%{opacity:0;transform:translateY(8px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}@keyframes _ngcontent-%COMP%_typingBounce{0%,80%,to{transform:scale(.8);opacity:.5}40%{transform:scale(1.2);opacity:1}}@keyframes _ngcontent-%COMP%_pulse{0%,to{box-shadow:0 6px 25px #1db95480}50%{box-shadow:0 6px 30px #1db954cc}}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:3px}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--text-secondary)}.messages-container[_ngcontent-%COMP%]{scroll-behavior:smooth;overflow-anchor:auto}@media (max-width: 768px){.floating-chat-container[_ngcontent-%COMP%]{bottom:15px;right:15px}.floating-chat-button[_ngcontent-%COMP%]{width:60px;height:60px;font-size:1.5rem}.chat-window[_ngcontent-%COMP%]{width:380px;height:550px;bottom:75px}}@media (max-width: 480px){.floating-chat-container[_ngcontent-%COMP%]{bottom:10px;right:10px}.chat-window[_ngcontent-%COMP%]{width:calc(100vw - 30px);height:70vh;right:-5px;bottom:65px}.floating-chat-button[_ngcontent-%COMP%]{width:55px;height:55px;font-size:1.3rem}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideInUp{0%{transform:translateY(30px);opacity:0}to{transform:translateY(0);opacity:1}}.chat-window[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.connection-status[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s infinite}.message[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--primary-color);outline-offset:2px}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.reconnection-message[_ngcontent-%COMP%]{text-align:center;padding:1rem;color:var(--text-secondary);font-size:.9rem}.reconnection-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem}.reconnect-info[_ngcontent-%COMP%]{font-size:.7rem;opacity:.8}.reconnect-info[_ngcontent-%COMP%]{font-size:.7rem;opacity:.8;margin-left:.3rem}.reconnection-message[_ngcontent-%COMP%]{text-align:center;padding:.5rem;color:var(--text-secondary);font-size:.8rem;background:rgba(239,68,68,.1);border-radius:8px;margin-top:.5rem}.reconnection-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.connection-status.disconnected[_ngcontent-%COMP%]{background:rgba(239,68,68,.15)!important;border:1px solid rgba(239,68,68,.3)}.connection-status.connected[_ngcontent-%COMP%]{background:rgba(16,185,129,.15)!important;border:1px solid rgba(16,185,129,.3)}.validation-message[_ngcontent-%COMP%]{margin:-.5rem 0 1rem;text-align:center}.validation-message[_ngcontent-%COMP%]   .text-danger[_ngcontent-%COMP%]{color:#e74c3c;font-size:.8rem;font-weight:500}.modal-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none!important}.modal-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]:disabled:hover{box-shadow:none!important;transform:none!important}"],changeDetection:0})}return A})();var $s=F(5455);function os(A,h){1&A&&E.nrm(0,"i",13)}function Zs(A,h){1&A&&E.nrm(0,"i",14)}function as(A,h){1&A&&E.nrm(0,"i",15)}function ei(A,h){1&A&&E.nrm(0,"i",16)}function Fi(A,h){if(1&A){const c=E.RV6();E.j41(0,"button",17),E.bIt("click",function(){E.eBV(c);const I=E.XpG(2);return E.Njj(I.cancel())}),E.EFF(1),E.k0s()}if(2&A){const c=E.XpG(2);E.R7$(1),E.SpI(" ",c.config.cancelText||"Cancelar"," ")}}function Ao(A,h){if(1&A){const c=E.RV6();E.j41(0,"div",1),E.bIt("click",function(I){E.eBV(c);const j=E.XpG();return E.Njj(j.closeBackdrop(I))}),E.j41(1,"div",2)(2,"div",3)(3,"div",4),E.DNE(4,os,1,0,"i",5),E.DNE(5,Zs,1,0,"i",6),E.DNE(6,as,1,0,"i",7),E.DNE(7,ei,1,0,"i",8),E.k0s(),E.j41(8,"h3"),E.EFF(9),E.k0s()(),E.j41(10,"div",9)(11,"p"),E.EFF(12),E.k0s()(),E.j41(13,"div",10),E.DNE(14,Fi,2,1,"button",11),E.j41(15,"button",12),E.bIt("click",function(){E.eBV(c);const I=E.XpG();return E.Njj(I.confirm())}),E.EFF(16),E.k0s()()()()}if(2&A){const c=E.XpG();E.Y8G("@fadeInOut",void 0),E.R7$(1),E.Y8G("@scaleIn",void 0),E.R7$(1),E.Y8G("ngClass",c.config.type||"info"),E.R7$(2),E.Y8G("ngIf","success"===c.config.type),E.R7$(1),E.Y8G("ngIf","warning"===c.config.type||"danger"===c.config.type),E.R7$(1),E.Y8G("ngIf","info"===c.config.type),E.R7$(1),E.Y8G("ngIf","confirm"===c.config.type),E.R7$(2),E.JRh(c.config.title),E.R7$(3),E.JRh(c.config.message),E.R7$(2),E.Y8G("ngIf",c.config.showCancel),E.R7$(1),E.Y8G("ngClass",c.config.type||"info"),E.R7$(1),E.SpI(" ",c.config.confirmText||"Aceptar"," ")}}let yo=(()=>{class A{modalService;config=null;constructor(c){this.modalService=c}ngOnInit(){this.modalService.modalState$.subscribe(c=>{this.config=c})}confirm(){this.modalService.close(!0)}cancel(){this.modalService.close(!1)}closeBackdrop(c){c.target.classList.contains("modal-backdrop")&&(this.config?.showCancel?this.cancel():this.confirm())}static \u0275fac=function(w){return new(w||A)(E.rXU($s.B))};static \u0275cmp=E.VBU({type:A,selectors:[["app-modal"]],standalone:!0,features:[E.aNF],decls:1,vars:1,consts:[["class","modal-backdrop",3,"click",4,"ngIf"],[1,"modal-backdrop",3,"click"],[1,"modal-container"],[1,"modal-header",3,"ngClass"],[1,"icon-container"],["class","fas fa-check-circle",4,"ngIf"],["class","fas fa-exclamation-circle",4,"ngIf"],["class","fas fa-info-circle",4,"ngIf"],["class","fas fa-question-circle",4,"ngIf"],[1,"modal-body"],[1,"modal-footer"],["class","btn-cancel",3,"click",4,"ngIf"],[1,"btn-confirm",3,"ngClass","click"],[1,"fas","fa-check-circle"],[1,"fas","fa-exclamation-circle"],[1,"fas","fa-info-circle"],[1,"fas","fa-question-circle"],[1,"btn-cancel",3,"click"]],template:function(w,I){1&w&&E.DNE(0,Ao,17,12,"div",0),2&w&&E.Y8G("ngIf",I.config)},dependencies:[Lr.MD,Lr.YU,Lr.bT],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0009;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);z-index:100000;display:flex;align-items:center;justify-content:center;padding:1rem}.modal-container[_ngcontent-%COMP%]{background:#1e1e1e;background:linear-gradient(145deg,#252525,#1a1a1a);border:1px solid rgba(255,255,255,.1);border-radius:16px;width:100%;max-width:450px;box-shadow:0 20px 50px #00000080;overflow:hidden;color:#fff}.modal-header[_ngcontent-%COMP%]{padding:1.5rem;display:flex;flex-direction:column;align-items:center;text-align:center;border-bottom:1px solid rgba(255,255,255,.05)}.modal-header[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem}.modal-header[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{filter:drop-shadow(0 0 10px rgba(255,255,255,.2))}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:700}.modal-header.success[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .modal-header.success[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#1ed760}.modal-header.warning[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .modal-header.warning[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#ffca28}.modal-header.danger[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .modal-header.danger[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#ff5252}.modal-header.info[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .modal-header.info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#2196f3}.modal-header.confirm[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#1ed760}.modal-header.confirm[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff}.modal-body[_ngcontent-%COMP%]{padding:1.5rem;text-align:center}.modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;line-height:1.6;color:#e0e0e0;white-space:pre-line}.modal-footer[_ngcontent-%COMP%]{padding:1.5rem;display:flex;justify-content:center;gap:1rem;background-color:#0003}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.8rem 1.5rem;border-radius:50px;border:none;font-weight:600;font-size:1rem;cursor:pointer;transition:all .2s ease;min-width:120px}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #0000004d}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:translateY(0)}.modal-footer[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background-color:transparent;border:1px solid rgba(255,255,255,.2);color:#e0e0e0}.modal-footer[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;color:#fff}.modal-footer[_ngcontent-%COMP%]   .btn-confirm[_ngcontent-%COMP%]{color:#fff}.modal-footer[_ngcontent-%COMP%]   .btn-confirm.success[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-confirm.confirm[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1ed760,#16a34a);box-shadow:0 4px 15px #1ed7604d}.modal-footer[_ngcontent-%COMP%]   .btn-confirm.warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffca28,#ffb300);color:#000;box-shadow:0 4px 15px #ffca284d}.modal-footer[_ngcontent-%COMP%]   .btn-confirm.danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff5252,#d32f2f);box-shadow:0 4px 15px #ff52524d}.modal-footer[_ngcontent-%COMP%]   .btn-confirm.info[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2196f3,#1976d2);box-shadow:0 4px 15px #2196f34d}"],data:{animation:[Ut("fadeInOut",[tt(":enter",[zt({opacity:0}),ct("200ms ease-out",zt({opacity:1}))]),tt(":leave",[ct("200ms ease-in",zt({opacity:0}))])]),Ut("scaleIn",[tt(":enter",[zt({transform:"scale(0.9)",opacity:0}),ct("200ms cubic-bezier(0.25, 0.8, 0.25, 1)",zt({transform:"scale(1)",opacity:1}))]),tt(":leave",[ct("150ms ease-in",zt({transform:"scale(0.9)",opacity:0}))])])]}})}return A})();const ti=function(){return{exact:!0}};(0,u.B8)((()=>{class A{title="UPTC Music";isMenuOpen=!1;toggleMenu(){this.isMenuOpen=!this.isMenuOpen}static \u0275fac=function(w){return new(w||A)};static \u0275cmp=E.VBU({type:A,selectors:[["app-root"]],standalone:!0,features:[E.aNF],decls:50,vars:6,consts:[[1,"main-container"],[1,"main-header"],[1,"container","d-flex","justify-content-between","align-items-center"],[1,"logo-container"],["routerLink","/",1,"text-decoration-none","text-white","d-flex","align-items-center"],[1,"logo-icon"],[1,"fab","fa-spotify"],[1,"app-title","mb-0","ms-2"],[1,"hamburger-menu","d-md-none",3,"click"],[1,"fas",3,"ngClass"],[1,"main-nav"],["routerLink","/","routerLinkActive","active",3,"routerLinkActiveOptions","click"],[1,"fas","fa-home","me-1"],["routerLink","/buitres","routerLinkActive","active",3,"click"],[1,"fas","fa-user-friends","me-1"],["routerLink","/discussion","routerLinkActive","active",3,"click"],[1,"fas","fa-comments","me-1"],["routerLink","/ranking","routerLinkActive","active",3,"click"],[1,"fas","fa-trophy","me-1"],["routerLink","/about","routerLinkActive","active",3,"click"],[1,"fas","fa-info-circle","me-1"],["routerLink","/admin-login","routerLinkActive","active",3,"click"],[1,"fas","fa-lock","me-1"],[1,"content-area"],[1,"container"],[1,"now-playing-bar"],[1,"footer-content","text-center"],[1,"footer-text","mb-0"],[1,"footer-text","mb-1"],[1,"social-links"],["href","https://github.com/SebastianVega4","target","_blank"],[1,"fab","fa-github","me-1"],["href","https://www.linkedin.com/in/johan-sebastian-vega-ruiz-b1292011b/","target","_blank"],[1,"fab","fa-linkedin","me-1"],["href","https://www.instagram.com/sebastian.vegar/","target","_blank"],[1,"fab","fa-instagram","me-1"]],template:function(w,I){1&w&&(E.j41(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3)(4,"a",4)(5,"div",5),E.nrm(6,"i",6),E.k0s(),E.j41(7,"h1",7),E.EFF(8),E.k0s()()(),E.j41(9,"button",8),E.bIt("click",function(){return I.toggleMenu()}),E.nrm(10,"i",9),E.k0s(),E.j41(11,"nav",10)(12,"a",11),E.bIt("click",function(){return I.toggleMenu()}),E.nrm(13,"i",12),E.EFF(14,"Inicio "),E.k0s(),E.j41(15,"a",13),E.bIt("click",function(){return I.toggleMenu()}),E.nrm(16,"i",14),E.EFF(17,"Buitres "),E.k0s(),E.j41(18,"a",15),E.bIt("click",function(){return I.toggleMenu()}),E.nrm(19,"i",16),E.EFF(20,"Foro "),E.k0s(),E.j41(21,"a",17),E.bIt("click",function(){return I.toggleMenu()}),E.nrm(22,"i",18),E.EFF(23,"Ranking "),E.k0s(),E.j41(24,"a",19),E.bIt("click",function(){return I.toggleMenu()}),E.nrm(25,"i",20),E.EFF(26,"About "),E.k0s(),E.j41(27,"a",21),E.bIt("click",function(){return I.toggleMenu()}),E.nrm(28,"i",22),E.k0s()()()(),E.j41(29,"main",23)(30,"div",24),E.nrm(31,"router-outlet"),E.k0s()(),E.nrm(32,"app-floating-chat")(33,"app-modal"),E.k0s(),E.j41(34,"footer",25)(35,"div",26)(36,"p",27),E.EFF(37,"Desarrollado por:"),E.k0s(),E.j41(38,"p",28),E.EFF(39,"Estudiante de Ingenier\xeda de Sistemas - UPTC Sogamoso 2025-II"),E.k0s(),E.j41(40,"div",29)(41,"a",30),E.nrm(42,"i",31),E.EFF(43,"GitHub "),E.k0s(),E.j41(44,"a",32),E.nrm(45,"i",33),E.EFF(46,"LinkedIn "),E.k0s(),E.j41(47,"a",34),E.nrm(48,"i",35),E.EFF(49,"Instagram "),E.k0s()()()()),2&w&&(E.R7$(8),E.JRh(I.title),E.R7$(2),E.Y8G("ngClass",I.isMenuOpen?"fa-times":"fa-bars"),E.R7$(1),E.AVh("active",I.isMenuOpen),E.R7$(1),E.Y8G("routerLinkActiveOptions",E.lJ4(5,ti)))},dependencies:[G.iI,G.n3,G.Wk,G.wQ,Lr.MD,Lr.YU,is,yo],styles:[".main-header[_ngcontent-%COMP%]{padding:0rem;background:var(--glass-bg);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border-bottom:1px solid rgba(255,255,255,.1);position:sticky;top:0;z-index:10000;box-shadow:0 4px 30px #0000004d}.logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.8rem}.logo-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,var(--primary-color) 0%,var(--accent-purple) 100%);display:flex;align-items:center;justify-content:center;box-shadow:0 0 15px #1db95466}.logo-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--text-primary)}.app-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;color:var(--text-primary);margin:0;letter-spacing:-.5px;background:linear-gradient(135deg,var(--text-primary) 0%,var(--primary-color) 100%);-webkit-text-fill-color:transparent;-webkit-background-clip:text;background-clip:text}.main-nav[_ngcontent-%COMP%]{display:flex;gap:1rem}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--text-secondary);text-decoration:none;font-weight:600;padding:.5rem 1rem;border-radius:50px;transition:all .3s ease;display:flex;align-items:center}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--text-primary);background:rgba(255,255,255,.05);transform:translateY(-2px)}.main-nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:var(--text-primary);background:rgba(29,185,84,.15);box-shadow:0 0 15px #1db95433}.main-nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color)}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem;transition:color .3s ease}.now-playing-bar[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border-top:1px solid rgba(255,255,255,.1);padding:1rem;color:var(--text-primary);display:flex;align-items:center;justify-content:center;position:relative;z-index:5}.footer-content[_ngcontent-%COMP%]{width:100%;text-align:center}.footer-text[_ngcontent-%COMP%]{font-size:.8rem;margin:.3rem 0;color:var(--text-secondary)}.social-links[_ngcontent-%COMP%]{margin-top:.5rem}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--text-secondary);text-decoration:none;margin:0 .8rem;font-size:.9rem;transition:all .3s ease;display:inline-flex;align-items:center}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--primary-color);transform:translateY(-2px)}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.3rem;font-size:1rem}@media (max-width: 768px){.main-header[_ngcontent-%COMP%]{padding:.8rem 1rem}.main-header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative}.main-header[_ngcontent-%COMP%]   .hamburger-menu[_ngcontent-%COMP%]{display:block;background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer;position:relative;z-index:10001}.main-header[_ngcontent-%COMP%]   .main-nav[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;width:100%;background-color:#0f0f0ffa;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);flex-direction:column;align-items:center;padding:1rem 0;display:none;z-index:10001;border-bottom:1px solid rgba(255,255,255,.1);gap:0}.main-header[_ngcontent-%COMP%]   .main-nav.active[_ngcontent-%COMP%]{display:flex}.main-header[_ngcontent-%COMP%]   .main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:100%;text-align:center;padding:1rem;margin:0;border-bottom:1px solid rgba(255,255,255,.05);border-radius:0}.main-header[_ngcontent-%COMP%]   .main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-child{border-bottom:none}.main-header[_ngcontent-%COMP%]   .main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;transform:none}.app-title[_ngcontent-%COMP%]{font-size:1.2rem}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:0 .5rem;font-size:.8rem}}@media (min-width: 769px){.hamburger-menu[_ngcontent-%COMP%]{display:none}.main-nav[_ngcontent-%COMP%]{display:flex!important}}"]})}return A})(),ao).catch(A=>console.error(A))},5958:(at,pe,F)=>{"use strict";var u=F(9293).default;Object.defineProperty(pe,"__esModule",{value:!0});const E=F(5215).__importDefault(F(4659));pe.default=class ge{constructor(H){var X,de;this.shouldThrowOnError=!1,this.method=H.method,this.url=H.url,this.headers=new Headers(H.headers),this.schema=H.schema,this.body=H.body,this.shouldThrowOnError=null!==(X=H.shouldThrowOnError)&&void 0!==X&&X,this.signal=H.signal,this.isMaybeSingle=null!==(de=H.isMaybeSingle)&&void 0!==de&&de,this.fetch=H.fetch?H.fetch:fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(H,X){return this.headers=new Headers(this.headers),this.headers.set(H,X),this}then(H,X){var de=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let me=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(function(){var oe=u(function*(De){var Je,Ve,He,Ut;let ct=null,At=null,ot=null,zt=De.status,ze=De.statusText;if(De.ok){if("HEAD"!==de.method){const Me=yield De.text();""===Me||(At="text/csv"===de.headers.get("Accept")||de.headers.get("Accept")&&null!==(Je=de.headers.get("Accept"))&&void 0!==Je&&Je.includes("application/vnd.pgrst.plan+text")?Me:JSON.parse(Me))}const tt=null===(Ve=de.headers.get("Prefer"))||void 0===Ve?void 0:Ve.match(/count=(exact|planned|estimated)/),gt=null===(He=De.headers.get("content-range"))||void 0===He?void 0:He.split("/");tt&&gt&&gt.length>1&&(ot=parseInt(gt[1])),de.isMaybeSingle&&"GET"===de.method&&Array.isArray(At)&&(At.length>1?(ct={code:"PGRST116",details:`Results contain ${At.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},At=null,ot=null,zt=406,ze="Not Acceptable"):At=1===At.length?At[0]:null)}else{const tt=yield De.text();try{ct=JSON.parse(tt),Array.isArray(ct)&&404===De.status&&(At=[],ct=null,zt=200,ze="OK")}catch{404===De.status&&""===tt?(zt=204,ze="No Content"):ct={message:tt}}if(ct&&de.isMaybeSingle&&!(null===(Ut=ct?.details)||void 0===Ut)&&Ut.includes("0 rows")&&(ct=null,zt=200,ze="OK"),ct&&de.shouldThrowOnError)throw new E.default(ct)}return{error:ct,data:At,count:ot,status:zt,statusText:ze}});return function(De){return oe.apply(this,arguments)}}());return this.shouldThrowOnError||(me=me.catch(oe=>{var De,Je,Ve,He,Ut,ct;let At="";const ot=oe?.cause;if(ot){const zt=null!==(De=ot?.message)&&void 0!==De?De:"",ze=null!==(Je=ot?.code)&&void 0!==Je?Je:"";At=`${null!==(Ve=oe?.name)&&void 0!==Ve?Ve:"FetchError"}: ${oe?.message}`,At+=`\n\nCaused by: ${null!==(He=ot?.name)&&void 0!==He?He:"Error"}: ${zt}`,ze&&(At+=` (${ze})`),ot?.stack&&(At+=`\n${ot.stack}`)}else At=null!==(Ut=oe?.stack)&&void 0!==Ut?Ut:"";return{error:{message:`${null!==(ct=oe?.name)&&void 0!==ct?ct:"FetchError"}: ${oe?.message}`,details:At,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),me.then(H,X)}returns(){return this}overrideTypes(){return this}}},3242:(at,pe,F)=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});const u=F(5215),G=u.__importDefault(F(8666)),E=u.__importDefault(F(3608));class ge{constructor(H,{headers:X={},schema:de,fetch:fe}={}){this.url=H,this.headers=new Headers(X),this.schemaName=de,this.fetch=fe}from(H){if(!H||"string"!=typeof H||""===H.trim())throw new Error("Invalid relation name: relation must be a non-empty string.");const X=new URL(`${this.url}/${H}`);return new G.default(X,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(H){return new ge(this.url,{headers:this.headers,schema:H,fetch:this.fetch})}rpc(H,X={},{head:de=!1,get:fe=!1,count:me}={}){var oe;let De;const Je=new URL(`${this.url}/rpc/${H}`);let Ve;de||fe?(De=de?"HEAD":"GET",Object.entries(X).filter(([Ut,ct])=>void 0!==ct).map(([Ut,ct])=>[Ut,Array.isArray(ct)?`{${ct.join(",")}}`:`${ct}`]).forEach(([Ut,ct])=>{Je.searchParams.append(Ut,ct)})):(De="POST",Ve=X);const He=new Headers(this.headers);return me&&He.set("Prefer",`count=${me}`),new E.default({method:De,url:Je,headers:He,schema:this.schemaName,body:Ve,fetch:null!==(oe=this.fetch)&&void 0!==oe?oe:fetch})}}pe.default=ge},4659:(at,pe)=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});class F extends Error{constructor(G){super(G.message),this.name="PostgrestError",this.details=G.details,this.hint=G.hint,this.code=G.code}}pe.default=F},3608:(at,pe,F)=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});const G=F(5215).__importDefault(F(3342)),E=new RegExp("[,()]");pe.default=class ge extends G.default{eq(H,X){return this.url.searchParams.append(H,`eq.${X}`),this}neq(H,X){return this.url.searchParams.append(H,`neq.${X}`),this}gt(H,X){return this.url.searchParams.append(H,`gt.${X}`),this}gte(H,X){return this.url.searchParams.append(H,`gte.${X}`),this}lt(H,X){return this.url.searchParams.append(H,`lt.${X}`),this}lte(H,X){return this.url.searchParams.append(H,`lte.${X}`),this}like(H,X){return this.url.searchParams.append(H,`like.${X}`),this}likeAllOf(H,X){return this.url.searchParams.append(H,`like(all).{${X.join(",")}}`),this}likeAnyOf(H,X){return this.url.searchParams.append(H,`like(any).{${X.join(",")}}`),this}ilike(H,X){return this.url.searchParams.append(H,`ilike.${X}`),this}ilikeAllOf(H,X){return this.url.searchParams.append(H,`ilike(all).{${X.join(",")}}`),this}ilikeAnyOf(H,X){return this.url.searchParams.append(H,`ilike(any).{${X.join(",")}}`),this}regexMatch(H,X){return this.url.searchParams.append(H,`match.${X}`),this}regexIMatch(H,X){return this.url.searchParams.append(H,`imatch.${X}`),this}is(H,X){return this.url.searchParams.append(H,`is.${X}`),this}isDistinct(H,X){return this.url.searchParams.append(H,`isdistinct.${X}`),this}in(H,X){const de=Array.from(new Set(X)).map(fe=>"string"==typeof fe&&E.test(fe)?`"${fe}"`:`${fe}`).join(",");return this.url.searchParams.append(H,`in.(${de})`),this}contains(H,X){return"string"==typeof X?this.url.searchParams.append(H,`cs.${X}`):Array.isArray(X)?this.url.searchParams.append(H,`cs.{${X.join(",")}}`):this.url.searchParams.append(H,`cs.${JSON.stringify(X)}`),this}containedBy(H,X){return"string"==typeof X?this.url.searchParams.append(H,`cd.${X}`):Array.isArray(X)?this.url.searchParams.append(H,`cd.{${X.join(",")}}`):this.url.searchParams.append(H,`cd.${JSON.stringify(X)}`),this}rangeGt(H,X){return this.url.searchParams.append(H,`sr.${X}`),this}rangeGte(H,X){return this.url.searchParams.append(H,`nxl.${X}`),this}rangeLt(H,X){return this.url.searchParams.append(H,`sl.${X}`),this}rangeLte(H,X){return this.url.searchParams.append(H,`nxr.${X}`),this}rangeAdjacent(H,X){return this.url.searchParams.append(H,`adj.${X}`),this}overlaps(H,X){return this.url.searchParams.append(H,"string"==typeof X?`ov.${X}`:`ov.{${X.join(",")}}`),this}textSearch(H,X,{config:de,type:fe}={}){let me="";return"plain"===fe?me="pl":"phrase"===fe?me="ph":"websearch"===fe&&(me="w"),this.url.searchParams.append(H,`${me}fts${void 0===de?"":`(${de})`}.${X}`),this}match(H){return Object.entries(H).forEach(([X,de])=>{this.url.searchParams.append(X,`eq.${de}`)}),this}not(H,X,de){return this.url.searchParams.append(H,`not.${X}.${de}`),this}or(H,{foreignTable:X,referencedTable:de=X}={}){return this.url.searchParams.append(de?`${de}.or`:"or",`(${H})`),this}filter(H,X,de){return this.url.searchParams.append(H,`${X}.${de}`),this}}},8666:(at,pe,F)=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});const G=F(5215).__importDefault(F(3608));pe.default=class E{constructor(re,{headers:H={},schema:X,fetch:de}){this.url=re,this.headers=new Headers(H),this.schema=X,this.fetch=de}select(re,H){const{head:X=!1,count:de}=H??{},fe=X?"HEAD":"GET";let me=!1;const oe=(re??"*").split("").map(De=>/\s/.test(De)&&!me?"":('"'===De&&(me=!me),De)).join("");return this.url.searchParams.set("select",oe),de&&this.headers.append("Prefer",`count=${de}`),new G.default({method:fe,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(re,{count:H,defaultToNull:X=!0}={}){var de;if(H&&this.headers.append("Prefer",`count=${H}`),X||this.headers.append("Prefer","missing=default"),Array.isArray(re)){const me=re.reduce((oe,De)=>oe.concat(Object.keys(De)),[]);if(me.length>0){const oe=[...new Set(me)].map(De=>`"${De}"`);this.url.searchParams.set("columns",oe.join(","))}}return new G.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:re,fetch:null!==(de=this.fetch)&&void 0!==de?de:fetch})}upsert(re,{onConflict:H,ignoreDuplicates:X=!1,count:de,defaultToNull:fe=!0}={}){var me;if(this.headers.append("Prefer",`resolution=${X?"ignore":"merge"}-duplicates`),void 0!==H&&this.url.searchParams.set("on_conflict",H),de&&this.headers.append("Prefer",`count=${de}`),fe||this.headers.append("Prefer","missing=default"),Array.isArray(re)){const De=re.reduce((Je,Ve)=>Je.concat(Object.keys(Ve)),[]);if(De.length>0){const Je=[...new Set(De)].map(Ve=>`"${Ve}"`);this.url.searchParams.set("columns",Je.join(","))}}return new G.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:re,fetch:null!==(me=this.fetch)&&void 0!==me?me:fetch})}update(re,{count:H}={}){var X;return H&&this.headers.append("Prefer",`count=${H}`),new G.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:re,fetch:null!==(X=this.fetch)&&void 0!==X?X:fetch})}delete({count:re}={}){var H;return re&&this.headers.append("Prefer",`count=${re}`),new G.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(H=this.fetch)&&void 0!==H?H:fetch})}}},3342:(at,pe,F)=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});const G=F(5215).__importDefault(F(5958));pe.default=class E extends G.default{select(re){let H=!1;const X=(re??"*").split("").map(de=>/\s/.test(de)&&!H?"":('"'===de&&(H=!H),de)).join("");return this.url.searchParams.set("select",X),this.headers.append("Prefer","return=representation"),this}order(re,{ascending:H=!0,nullsFirst:X,foreignTable:de,referencedTable:fe=de}={}){const me=fe?`${fe}.order`:"order",oe=this.url.searchParams.get(me);return this.url.searchParams.set(me,`${oe?`${oe},`:""}${re}.${H?"asc":"desc"}${void 0===X?"":X?".nullsfirst":".nullslast"}`),this}limit(re,{foreignTable:H,referencedTable:X=H}={}){return this.url.searchParams.set(typeof X>"u"?"limit":`${X}.limit`,`${re}`),this}range(re,H,{foreignTable:X,referencedTable:de=X}={}){const me=typeof de>"u"?"limit":`${de}.limit`;return this.url.searchParams.set(typeof de>"u"?"offset":`${de}.offset`,`${re}`),this.url.searchParams.set(me,""+(H-re+1)),this}abortSignal(re){return this.signal=re,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.headers.set("Accept","GET"===this.method?"application/json":"application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:re=!1,verbose:H=!1,settings:X=!1,buffers:de=!1,wal:fe=!1,format:me="text"}={}){var oe;const De=[re?"analyze":null,H?"verbose":null,X?"settings":null,de?"buffers":null,fe?"wal":null].filter(Boolean).join("|"),Je=null!==(oe=this.headers.get("Accept"))&&void 0!==oe?oe:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${me}; for="${Je}"; options=${De};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(re){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${re}`),this}}},4060:(at,pe,F)=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0}),pe.PostgrestError=pe.PostgrestBuilder=pe.PostgrestTransformBuilder=pe.PostgrestFilterBuilder=pe.PostgrestQueryBuilder=pe.PostgrestClient=void 0;const u=F(5215),G=u.__importDefault(F(3242));pe.PostgrestClient=G.default;const E=u.__importDefault(F(8666));pe.PostgrestQueryBuilder=E.default;const ge=u.__importDefault(F(3608));pe.PostgrestFilterBuilder=ge.default;const re=u.__importDefault(F(3342));pe.PostgrestTransformBuilder=re.default;const H=u.__importDefault(F(5958));pe.PostgrestBuilder=H.default;const X=u.__importDefault(F(4659));pe.PostgrestError=X.default,pe.default={PostgrestClient:G.default,PostgrestQueryBuilder:E.default,PostgrestFilterBuilder:ge.default,PostgrestTransformBuilder:re.default,PostgrestBuilder:H.default,PostgrestError:X.default}},5321:(at,pe,F)=>{"use strict";F.d(pe,{UU:()=>Rt});var u=F(467),G=F(5215);class ge extends Error{constructor(a,o="FunctionsError",l){super(a),this.name=o,this.context=l}}class re extends ge{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class H extends ge{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class X extends ge{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var de=function(m){return m.Any="any",m.ApNortheast1="ap-northeast-1",m.ApNortheast2="ap-northeast-2",m.ApSouth1="ap-south-1",m.ApSoutheast1="ap-southeast-1",m.ApSoutheast2="ap-southeast-2",m.CaCentral1="ca-central-1",m.EuCentral1="eu-central-1",m.EuWest1="eu-west-1",m.EuWest2="eu-west-2",m.EuWest3="eu-west-3",m.SaEast1="sa-east-1",m.UsEast1="us-east-1",m.UsWest1="us-west-1",m.UsWest2="us-west-2",m}(de||{});class fe{constructor(a,{headers:o={},customFetch:l,region:v=de.Any}={}){var m;this.url=a,this.headers=o,this.region=v,this.fetch=(m=l)?(...a)=>m(...a):(...a)=>fetch(...a)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return(0,G.__awaiter)(this,arguments,void 0,function*(o,l={}){var v;let M,x;try{const{headers:R,method:B,body:W,signal:Z,timeout:Ce}=l;let ke={},{region:Be}=l;Be||(Be=this.region);const Ne=new URL(`${this.url}/${o}`);let et;Be&&"any"!==Be&&(ke["x-region"]=Be,Ne.searchParams.set("forceFunctionRegion",Be)),W&&(R&&!Object.prototype.hasOwnProperty.call(R,"Content-Type")||!R)?typeof Blob<"u"&&W instanceof Blob||W instanceof ArrayBuffer?(ke["Content-Type"]="application/octet-stream",et=W):"string"==typeof W?(ke["Content-Type"]="text/plain",et=W):typeof FormData<"u"&&W instanceof FormData?et=W:(ke["Content-Type"]="application/json",et=JSON.stringify(W)):et=W;let Re=Z;Ce&&(x=new AbortController,M=setTimeout(()=>x.abort(),Ce),Z?(Re=x.signal,Z.addEventListener("abort",()=>x.abort())):Re=x.signal);const Fe=yield this.fetch(Ne.toString(),{method:B||"POST",headers:Object.assign(Object.assign(Object.assign({},ke),this.headers),R),body:et,signal:Re}).catch(qe=>{throw new re(qe)}),Ye=Fe.headers.get("x-relay-error");if(Ye&&"true"===Ye)throw new H(Fe);if(!Fe.ok)throw new X(Fe);let ae,bt=(null!==(v=Fe.headers.get("Content-Type"))&&void 0!==v?v:"text/plain").split(";")[0].trim();return ae="application/json"===bt?yield Fe.json():"application/octet-stream"===bt||"application/pdf"===bt?yield Fe.blob():"text/event-stream"===bt?Fe:"multipart/form-data"===bt?yield Fe.formData():yield Fe.text(),{data:ae,error:null,response:Fe}}catch(R){return{data:null,error:R,response:R instanceof X||R instanceof H?R.context:void 0}}finally{M&&clearTimeout(M)}})}}var me=F(4060),oe=F.t(me,2);const{PostgrestClient:De}=me||oe,zt=class ot{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&null!==(a=navigator.userAgent)&&void 0!==a&&a.includes("Vercel-Edge"))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const o=process.versions;if(o&&o.node){const v=parseInt(o.node.replace(/^v/,"").split(".")[0]);return v>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${v} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${v} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let o=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(o+=`\n\nSuggested solution: ${a.workaround}`),new Error(o)}static createWebSocket(a,o){return new(this.getWebSocketConstructor())(a,o)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return"native"===a.type||"ws"===a.type}catch{return!1}}};var Qe=function(m){return m[m.connecting=0]="connecting",m[m.open=1]="open",m[m.closing=2]="closing",m[m.closed=3]="closed",m}(Qe||{}),mt=function(m){return m.closed="closed",m.errored="errored",m.joined="joined",m.joining="joining",m.leaving="leaving",m}(mt||{}),st=function(m){return m.close="phx_close",m.error="phx_error",m.join="phx_join",m.reply="phx_reply",m.leave="phx_leave",m.access_token="access_token",m}(st||{}),xt=function(m){return m.websocket="websocket",m}(xt||{}),gr=function(m){return m.Connecting="connecting",m.Open="open",m.Closing="closing",m.Closed="closed",m}(gr||{});class sr{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,o){return a.event!==this.BROADCAST_EVENT||a.payload instanceof ArrayBuffer||"string"!=typeof a.payload.event?o(JSON.stringify([a.join_ref,a.ref,a.topic,a.event,a.payload])):o(this._binaryEncodeUserBroadcastPush(a))}_binaryEncodeUserBroadcastPush(a){var o;return this._isArrayBuffer(null===(o=a.payload)||void 0===o?void 0:o.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var o,l;const v=null!==(l=null===(o=a.payload)||void 0===o?void 0:o.payload)&&void 0!==l?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,v)}_encodeJsonUserBroadcastPush(a){var o,l;const v=null!==(l=null===(o=a.payload)||void 0===o?void 0:o.payload)&&void 0!==l?l:{},x=(new TextEncoder).encode(JSON.stringify(v)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,x)}_encodeUserBroadcastPush(a,o,l){var v,M;const x=a.topic,R=null!==(v=a.ref)&&void 0!==v?v:"",B=null!==(M=a.join_ref)&&void 0!==M?M:"",W=a.payload.event,Z=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},Ce=0===Object.keys(Z).length?"":JSON.stringify(Z);if(B.length>255)throw new Error(`joinRef length ${B.length} exceeds maximum of 255`);if(R.length>255)throw new Error(`ref length ${R.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`topic length ${x.length} exceeds maximum of 255`);if(W.length>255)throw new Error(`userEvent length ${W.length} exceeds maximum of 255`);if(Ce.length>255)throw new Error(`metadata length ${Ce.length} exceeds maximum of 255`);const Be=new ArrayBuffer(this.HEADER_LENGTH+(this.USER_BROADCAST_PUSH_META_LENGTH+B.length+R.length+x.length+W.length+Ce.length));let Ne=new DataView(Be),et=0;Ne.setUint8(et++,this.KINDS.userBroadcastPush),Ne.setUint8(et++,B.length),Ne.setUint8(et++,R.length),Ne.setUint8(et++,x.length),Ne.setUint8(et++,W.length),Ne.setUint8(et++,Ce.length),Ne.setUint8(et++,o),Array.from(B,Fe=>Ne.setUint8(et++,Fe.charCodeAt(0))),Array.from(R,Fe=>Ne.setUint8(et++,Fe.charCodeAt(0))),Array.from(x,Fe=>Ne.setUint8(et++,Fe.charCodeAt(0))),Array.from(W,Fe=>Ne.setUint8(et++,Fe.charCodeAt(0))),Array.from(Ce,Fe=>Ne.setUint8(et++,Fe.charCodeAt(0)));var Re=new Uint8Array(Be.byteLength+l.byteLength);return Re.set(new Uint8Array(Be),0),Re.set(new Uint8Array(l),Be.byteLength),Re.buffer}decode(a,o){if(this._isArrayBuffer(a))return o(this._binaryDecode(a));if("string"==typeof a){const l=JSON.parse(a),[v,M,x,R,B]=l;return o({join_ref:v,ref:M,topic:x,event:R,payload:B})}return o({})}_binaryDecode(a){const o=new DataView(a),l=o.getUint8(0),v=new TextDecoder;if(l===this.KINDS.userBroadcast)return this._decodeUserBroadcast(a,o,v)}_decodeUserBroadcast(a,o,l){const v=o.getUint8(1),M=o.getUint8(2),x=o.getUint8(3),R=o.getUint8(4);let B=this.HEADER_LENGTH+4;const W=l.decode(a.slice(B,B+v));B+=v;const Z=l.decode(a.slice(B,B+M));B+=M;const Ce=l.decode(a.slice(B,B+x));B+=x;const ke=a.slice(B,a.byteLength),Be=R===this.JSON_ENCODING?JSON.parse(l.decode(ke)):ke,Ne={type:this.BROADCAST_EVENT,event:Z,payload:Be};return x>0&&(Ne.meta=JSON.parse(Ce)),{join_ref:null,ref:null,topic:W,event:this.BROADCAST_EVENT,payload:Ne}}_isArrayBuffer(a){var o;return a instanceof ArrayBuffer||"ArrayBuffer"===(null===(o=a?.constructor)||void 0===o?void 0:o.name)}_pick(a,o){return a&&"object"==typeof a?Object.fromEntries(Object.entries(a).filter(([l])=>o.includes(l))):{}}}class Mn{constructor(a,o){this.callback=a,this.timerCalc=o,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=o}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var jt=function(m){return m.abstime="abstime",m.bool="bool",m.date="date",m.daterange="daterange",m.float4="float4",m.float8="float8",m.int2="int2",m.int4="int4",m.int4range="int4range",m.int8="int8",m.int8range="int8range",m.json="json",m.jsonb="jsonb",m.money="money",m.numeric="numeric",m.oid="oid",m.reltime="reltime",m.text="text",m.time="time",m.timestamp="timestamp",m.timestamptz="timestamptz",m.timetz="timetz",m.tsrange="tsrange",m.tstzrange="tstzrange",m}(jt||{});const ue=(m,a,o={})=>{var l;const v=null!==(l=o.skipTypes)&&void 0!==l?l:[];return a?Object.keys(a).reduce((M,x)=>(M[x]=ve(x,m,a,v),M),{}):{}},ve=(m,a,o,l)=>{const v=a.find(R=>R.name===m),M=v?.type,x=o[m];return M&&!l.includes(M)?be(M,x):Ae(x)},be=(m,a)=>{if("_"===m.charAt(0)){const o=m.slice(1,m.length);return un(a,o)}switch(m){case jt.bool:return Ue(a);case jt.float4:case jt.float8:case jt.int2:case jt.int4:case jt.int8:case jt.numeric:case jt.oid:return Ke(a);case jt.json:case jt.jsonb:return Et(a);case jt.timestamp:return xn(a);default:return Ae(a)}},Ae=m=>m,Ue=m=>{switch(m){case"t":return!0;case"f":return!1;default:return m}},Ke=m=>{if("string"==typeof m){const a=parseFloat(m);if(!Number.isNaN(a))return a}return m},Et=m=>{if("string"==typeof m)try{return JSON.parse(m)}catch(a){return console.log(`JSON parse error: ${a}`),m}return m},un=(m,a)=>{if("string"!=typeof m)return m;const o=m.length-1;if("{"===m[0]&&"}"===m[o]){let M;const x=m.slice(1,o);try{M=JSON.parse("["+x+"]")}catch{M=x?x.split(","):[]}return M.map(R=>be(a,R))}return m},xn=m=>"string"==typeof m?m.replace(" ","T"):m,Pt=m=>{const a=new URL(m);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname=""===a.pathname||"/"===a.pathname?"/api/broadcast":a.pathname+"/api/broadcast",a.href};class pn{constructor(a,o,l={},v=1e4){this.channel=a,this.event=o,this.payload=l,this.timeout=v,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,o){var l;return this._hasReceived(a)&&o(null===(l=this.receivedResp)||void 0===l?void 0:l.response),this.recHooks.push({status:a,callback:o}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},o=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=o,this._matchReceive(o)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(a,o){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:o})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:o}){this.recHooks.filter(l=>l.status===a).forEach(l=>l.callback(o))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}class Zn{constructor(a,o){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=o?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},v=>{const{onJoin:M,onLeave:x,onSync:R}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Zn.syncState(this.state,v,M,x),this.pendingDiffs.forEach(B=>{this.state=Zn.syncDiff(this.state,B,M,x)}),this.pendingDiffs=[],R()}),this.channel._on(l.diff,{},v=>{const{onJoin:M,onLeave:x,onSync:R}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(v):(this.state=Zn.syncDiff(this.state,v,M,x),R())}),this.onJoin((v,M,x)=>{this.channel._trigger("presence",{event:"join",key:v,currentPresences:M,newPresences:x})}),this.onLeave((v,M,x)=>{this.channel._trigger("presence",{event:"leave",key:v,currentPresences:M,leftPresences:x})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,o,l,v){const M=this.cloneDeep(a),x=this.transformState(o),R={},B={};return this.map(M,(W,Z)=>{x[W]||(B[W]=Z)}),this.map(x,(W,Z)=>{const Ce=M[W];if(Ce){const ke=Z.map(Re=>Re.presence_ref),Be=Ce.map(Re=>Re.presence_ref),Ne=Z.filter(Re=>Be.indexOf(Re.presence_ref)<0),et=Ce.filter(Re=>ke.indexOf(Re.presence_ref)<0);Ne.length>0&&(R[W]=Ne),et.length>0&&(B[W]=et)}else R[W]=Z}),this.syncDiff(M,{joins:R,leaves:B},l,v)}static syncDiff(a,o,l,v){const{joins:M,leaves:x}={joins:this.transformState(o.joins),leaves:this.transformState(o.leaves)};return l||(l=()=>{}),v||(v=()=>{}),this.map(M,(R,B)=>{var W;const Z=null!==(W=a[R])&&void 0!==W?W:[];if(a[R]=this.cloneDeep(B),Z.length>0){const Ce=a[R].map(Be=>Be.presence_ref),ke=Z.filter(Be=>Ce.indexOf(Be.presence_ref)<0);a[R].unshift(...ke)}l(R,Z,B)}),this.map(x,(R,B)=>{let W=a[R];if(!W)return;const Z=B.map(Ce=>Ce.presence_ref);W=W.filter(Ce=>Z.indexOf(Ce.presence_ref)<0),a[R]=W,v(R,W,B),0===W.length&&delete a[R]}),a}static map(a,o){return Object.getOwnPropertyNames(a).map(l=>o(l,a[l]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((o,l)=>{const v=a[l];return o[l]="metas"in v?v.metas.map(M=>(M.presence_ref=M.phx_ref,delete M.phx_ref,delete M.phx_ref_prev,M)):v,o},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var lt=function(m){return m.BROADCAST="broadcast",m.PRESENCE="presence",m.POSTGRES_CHANGES="postgres_changes",m.SYSTEM="system",m}(lt||{}),pt=function(m){return m.SUBSCRIBED="SUBSCRIBED",m.TIMED_OUT="TIMED_OUT",m.CLOSED="CLOSED",m.CHANNEL_ERROR="CHANNEL_ERROR",m}(pt||{});class Cn{constructor(a,o={config:{}},l){var v,M;if(this.topic=a,this.params=o,this.socket=l,this.bindings={},this.state=mt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},o.config),this.timeout=this.socket.timeout,this.joinPush=new pn(this,st.join,this.params,this.timeout),this.rejoinTimer=new Mn(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=mt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(x=>x.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=mt.closed,this.socket._remove(this)}),this._onError(x=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,x),this.state=mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",x=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,x),this.state=mt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(st.reply,{},(x,R)=>{this._trigger(this._replyEventName(R),x)}),this.presence=new Zn(this),this.broadcastEndpointURL=Pt(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&null!==(M=null===(v=this.params.config)||void 0===v?void 0:v.broadcast)&&void 0!==M&&M.replay)throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,o=this.timeout){var v,M,x,l=this;if(this.socket.isConnected()||this.socket.connect(),this.state==mt.closed){const{config:{broadcast:R,presence:B,private:W}}=this.params,Z=null!==(M=null===(v=this.bindings.postgres_changes)||void 0===v?void 0:v.map(Ne=>Ne.filter))&&void 0!==M?M:[],Ce=!!this.bindings[lt.PRESENCE]&&this.bindings[lt.PRESENCE].length>0||!0===(null===(x=this.params.config.presence)||void 0===x?void 0:x.enabled),ke={},Be={broadcast:R,presence:Object.assign(Object.assign({},B),{enabled:Ce}),postgres_changes:Z,private:W};this.socket.accessTokenValue&&(ke.access_token=this.socket.accessTokenValue),this._onError(Ne=>a?.(pt.CHANNEL_ERROR,Ne)),this._onClose(()=>a?.(pt.CLOSED)),this.updateJoinPayload(Object.assign({config:Be},ke)),this.joinedOnce=!0,this._rejoin(o),this.joinPush.receive("ok",function(){var Ne=(0,u.A)(function*({postgres_changes:et}){var Re;if(l.socket.setAuth(),void 0!==et){const Fe=l.bindings.postgres_changes,Ye=null!==(Re=Fe?.length)&&void 0!==Re?Re:0,bt=[];for(let ae=0;ae<Ye;ae++){const qe=Fe[ae],{filter:{event:hn,schema:Mr,table:Ct,filter:pr}}=qe,bs=et&&et[ae];if(!bs||bs.event!==hn||bs.schema!==Mr||bs.table!==Ct||bs.filter!==pr)return l.unsubscribe(),l.state=mt.errored,void a?.(pt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));bt.push(Object.assign(Object.assign({},qe),{id:bs.id}))}return l.bindings.postgres_changes=bt,void(a&&a(pt.SUBSCRIBED))}a?.(pt.SUBSCRIBED)});return function(et){return Ne.apply(this,arguments)}}()).receive("error",Ne=>{this.state=mt.errored,a?.(pt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(Ne).join(", ")||"error")))}).receive("timeout",()=>{a?.(pt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(a){var o=this;return(0,u.A)(function*(l,v={}){return yield o.send({type:"presence",event:"track",payload:l},v.timeout||o.timeout)}).apply(this,arguments)}untrack(){var a=this;return(0,u.A)(function*(o={}){return yield a.send({type:"presence",event:"untrack"},o)}).apply(this,arguments)}on(a,o,l){return this.state===mt.joined&&a===lt.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(a,o,l)}httpSend(a,o){var l=this;return(0,u.A)(function*(v,M,x={}){var R;const B=l.socket.accessTokenValue?`Bearer ${l.socket.accessTokenValue}`:"";if(null==M)return Promise.reject("Payload is required for httpSend()");const W={method:"POST",headers:{Authorization:B,apikey:l.socket.apiKey?l.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:l.subTopic,event:v,payload:M,private:l.private}]})},Z=yield l._fetchWithTimeout(l.broadcastEndpointURL,W,null!==(R=x.timeout)&&void 0!==R?R:l.timeout);if(202===Z.status)return{success:!0};let Ce=Z.statusText;try{const ke=yield Z.json();Ce=ke.error||ke.message||Ce}catch{}return Promise.reject(new Error(Ce))}).apply(this,arguments)}send(a){var o=this;return(0,u.A)(function*(l,v={}){var M,x;if(o._canPush()||"broadcast"!==l.type)return new Promise(R=>{var B,W,Z;const Ce=o._push(l.type,l,v.timeout||o.timeout);"broadcast"===l.type&&!(null!==(Z=null===(W=null===(B=o.params)||void 0===B?void 0:B.config)||void 0===W?void 0:W.broadcast)&&void 0!==Z&&Z.ack)&&R("ok"),Ce.receive("ok",()=>R("ok")),Ce.receive("error",()=>R("error")),Ce.receive("timeout",()=>R("timed out"))});{console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:R,payload:B}=l,Z={method:"POST",headers:{Authorization:o.socket.accessTokenValue?`Bearer ${o.socket.accessTokenValue}`:"",apikey:o.socket.apiKey?o.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:o.subTopic,event:R,payload:B,private:o.private}]})};try{const Ce=yield o._fetchWithTimeout(o.broadcastEndpointURL,Z,null!==(M=v.timeout)&&void 0!==M?M:o.timeout);return yield null===(x=Ce.body)||void 0===x?void 0:x.cancel(),Ce.ok?"ok":"error"}catch(Ce){return"AbortError"===Ce.name?"timed out":"error"}}}).apply(this,arguments)}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=mt.leaving;const o=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(st.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(v=>{l=new pn(this,st.leave,{},a),l.receive("ok",()=>{o(),v("ok")}).receive("timeout",()=>{o(),v("timed out")}).receive("error",()=>{v("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=mt.closed,this.bindings={}}_fetchWithTimeout(a,o,l){var v=this;return(0,u.A)(function*(){const M=new AbortController,x=setTimeout(()=>M.abort(),l),R=yield v.socket.fetch(a,Object.assign(Object.assign({},o),{signal:M.signal}));return clearTimeout(x),R})()}_push(a,o,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let v=new pn(this,a,o,l);return this._canPush()?v.send():this._addToPushBuffer(v),v}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>100){const o=this.pushBuffer.shift();o&&(o.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${o.event}`,o.payload))}}_onMessage(a,o,l){return o}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,o,l){var v,M;const x=a.toLocaleLowerCase(),{close:R,error:B,leave:W,join:Z}=st;if(l&&[R,B,W,Z].indexOf(x)>=0&&l!==this._joinRef())return;let ke=this._onMessage(x,o,l);if(o&&!ke)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(x)?null===(v=this.bindings.postgres_changes)||void 0===v||v.filter(Be=>{var Ne,et,Re;return"*"===(null===(Ne=Be.filter)||void 0===Ne?void 0:Ne.event)||(null===(Re=null===(et=Be.filter)||void 0===et?void 0:et.event)||void 0===Re?void 0:Re.toLocaleLowerCase())===x}).map(Be=>Be.callback(ke,l)):null===(M=this.bindings[x])||void 0===M||M.filter(Be=>{var Ne,et,Re,Fe,Ye,bt;if(["broadcast","presence","postgres_changes"].includes(x)){if("id"in Be){const ae=Be.id,qe=null===(Ne=Be.filter)||void 0===Ne?void 0:Ne.event;return ae&&(null===(et=o.ids)||void 0===et?void 0:et.includes(ae))&&("*"===qe||qe?.toLocaleLowerCase()===(null===(Re=o.data)||void 0===Re?void 0:Re.type.toLocaleLowerCase()))}{const ae=null===(Ye=null===(Fe=Be?.filter)||void 0===Fe?void 0:Fe.event)||void 0===Ye?void 0:Ye.toLocaleLowerCase();return"*"===ae||ae===(null===(bt=o?.event)||void 0===bt?void 0:bt.toLocaleLowerCase())}}return Be.type.toLocaleLowerCase()===x}).map(Be=>{if("object"==typeof ke&&"ids"in ke){const Ne=ke.data,{schema:et,table:Re,commit_timestamp:Fe,type:Ye,errors:bt}=Ne;ke=Object.assign(Object.assign({},{schema:et,table:Re,commit_timestamp:Fe,eventType:Ye,new:{},old:{},errors:bt}),this._getPayloadRecords(Ne))}Be.callback(ke,l)})}_isClosed(){return this.state===mt.closed}_isJoined(){return this.state===mt.joined}_isJoining(){return this.state===mt.joining}_isLeaving(){return this.state===mt.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,o,l){const v=a.toLocaleLowerCase(),M={type:v,filter:o,callback:l};return this.bindings[v]?this.bindings[v].push(M):this.bindings[v]=[M],this}_off(a,o){const l=a.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(v=>{var M;return!((null===(M=v.type)||void 0===M?void 0:M.toLocaleLowerCase())===l&&Cn.isEqual(v.filter,o))})),this}static isEqual(a,o){if(Object.keys(a).length!==Object.keys(o).length)return!1;for(const l in a)if(a[l]!==o[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(st.close,{},a)}_onError(a){this._on(st.error,{},o=>a(o))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=mt.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const o={new:{},old:{}};return("INSERT"===a.type||"UPDATE"===a.type)&&(o.new=ue(a.columns,a.record)),("UPDATE"===a.type||"DELETE"===a.type)&&(o.old=ue(a.columns,a.old_record)),o}}const Wt=()=>{},Cs=[1e3,2e3,5e3,1e4];class Kt{constructor(a,o){var l;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.transport=null,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Wt,this.ref=0,this.reconnectTimer=null,this.vsn="1.0.0",this.logger=Wt,this.conn=null,this.sendBuffer=[],this.serializer=new sr,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=v=>v?(...M)=>v(...M):(...M)=>fetch(...M),null===(l=o?.params)||void 0===l||!l.apikey)throw new Error("API key is required to connect to Realtime");this.apiKey=o.params.apikey,this.endPoint=`${a}/${xt.websocket}`,this.httpEndpoint=Pt(a),this._initializeOptions(o),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(o?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=zt.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const o=a.message;throw o.includes("Node.js")?new Error(`${o}\n\nTo use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })`):new Error(`WebSocket not available: ${o}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,o){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},"function"==typeof this.conn.close&&(a?this.conn.close(a,o??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(a){var o=this;return(0,u.A)(function*(){const l=yield a.unsubscribe();return 0===o.channels.length&&o.disconnect(),l})()}removeAllChannels(){var a=this;return(0,u.A)(function*(){const o=yield Promise.all(a.channels.map(l=>l.unsubscribe()));return a.channels=[],a.disconnect(),o})()}log(a,o,l){this.logger(a,o,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Qe.connecting:return gr.Connecting;case Qe.open:return gr.Open;case Qe.closing:return gr.Closing;default:return gr.Closed}}isConnected(){return this.connectionState()===gr.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(a,o={config:{}}){const l=`realtime:${a}`,v=this.getChannels().find(M=>M.topic===l);if(v)return v;{const M=new Cn(`realtime:${a}`,o,this);return this.channels.push(M),M}}push(a){const{topic:o,event:l,payload:v,ref:M}=a,x=()=>{this.encode(a,R=>{var B;null===(B=this.conn)||void 0===B||B.send(R)})};this.log("push",`${o} ${l} (${M})`,v),this.isConnected()?x():this.sendBuffer.push(x)}setAuth(){var a=this;return(0,u.A)(function*(o=null){a._authPromise=a._performAuth(o);try{yield a._authPromise}finally{a._authPromise=null}}).apply(this,arguments)}sendHeartbeat(){var a=this;return(0,u.A)(function*(){var o;if(a.isConnected()){if(a.pendingHeartbeatRef){a.pendingHeartbeatRef=null,a.log("transport","heartbeat timeout. Attempting to re-establish connection");try{a.heartbeatCallback("timeout")}catch(l){a.log("error","error in heartbeat callback",l)}return a._wasManualDisconnect=!1,null===(o=a.conn)||void 0===o||o.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var l;a.isConnected()||null===(l=a.reconnectTimer)||void 0===l||l.scheduleTimeout()},100)}a.pendingHeartbeatRef=a._makeRef(),a.push({topic:"phoenix",event:"heartbeat",payload:{},ref:a.pendingHeartbeatRef});try{a.heartbeatCallback("sent")}catch(l){a.log("error","error in heartbeat callback",l)}a._setAuthSafely("heartbeat")}else try{a.heartbeatCallback("disconnected")}catch(l){a.log("error","error in heartbeat callback",l)}})()}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return this.ref=a===this.ref?0:a,this.ref.toString()}_leaveOpenTopic(a){let o=this.channels.find(l=>l.topic===a&&(l._isJoined()||l._isJoining()));o&&(this.log("transport",`leaving duplicate topic "${a}"`),o.unsubscribe())}_remove(a){this.channels=this.channels.filter(o=>o.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,o=>{if("phoenix"===o.topic&&"phx_reply"===o.event)try{this.heartbeatCallback("ok"===o.payload.status?"ok":"error")}catch(W){this.log("error","error in heartbeat callback",W)}o.ref&&o.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:v,payload:M,ref:x}=o;this.log("receive",`${M.status||""} ${l} ${v} ${x?`(${x})`:""}`.trim(),M),this.channels.filter(W=>W._isMember(l)).forEach(W=>W._trigger(v,M,x)),this._triggerStateCallbacks("message",o)})}_clearTimer(a){var o;"heartbeat"===a&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===a&&(null===(o=this.reconnectTimer)||void 0===o||o.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Qe.open||this.conn.readyState===Qe.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(o=>{this.log("error","error waiting for auth on connect",o),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.log("worker",this.workerUrl?`starting worker for from ${this.workerUrl}`:"starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=o=>{this.log("worker","worker error",o.message),this.workerRef.terminate()},this.workerRef.onmessage=o=>{"keepAlive"===o.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(a){var o;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(o=this.reconnectTimer)||void 0===o||o.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(st.error))}_appendParams(a,o){if(0===Object.keys(o).length)return a;const l=a.match(/\?/)?"&":"?";return`${a}${l}${new URLSearchParams(o)}`}_workerObjectUrl(a){let o;if(a)o=a;else{const l=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});o=URL.createObjectURL(l)}return o}_setConnectionState(a,o=!1){this._connectionState=a,"connecting"===a?this._wasManualDisconnect=!1:"disconnecting"===a&&(this._wasManualDisconnect=o)}_performAuth(){var a=this;return(0,u.A)(function*(o=null){let l;l=o||(a.accessToken?yield a.accessToken():a.accessTokenValue),a.accessTokenValue!=l&&(a.accessTokenValue=l,a.channels.forEach(v=>{l&&v.updateJoinPayload({access_token:l,version:"realtime-js/2.86.0"}),v.joinedOnce&&v._isJoined()&&v._push(st.access_token,{access_token:l})}))}).apply(this,arguments)}_waitForAuthIfNeeded(){var a=this;return(0,u.A)(function*(){a._authPromise&&(yield a._authPromise)})()}_setAuthSafely(a="general"){this.setAuth().catch(o=>{this.log("error",`error setting auth in ${a}`,o)})}_triggerStateCallbacks(a,o){try{this.stateChangeCallbacks[a].forEach(l=>{try{l(o)}catch(v){this.log("error",`error in ${a} callback`,v)}})}catch(l){this.log("error",`error triggering ${a} callbacks`,l)}}_setupReconnectionTimer(){var a=this;this.reconnectTimer=new Mn((0,u.A)(function*(){setTimeout((0,u.A)(function*(){yield a._waitForAuthIfNeeded(),a.isConnected()||a.connect()}),10)}),this.reconnectAfterMs)}_initializeOptions(a){var o,l,v,M,x,R,B,W,Z,Ce,ke,Be;switch(this.transport=null!==(o=a?.transport)&&void 0!==o?o:null,this.timeout=null!==(l=a?.timeout)&&void 0!==l?l:1e4,this.heartbeatIntervalMs=null!==(v=a?.heartbeatIntervalMs)&&void 0!==v?v:25e3,this.worker=null!==(M=a?.worker)&&void 0!==M&&M,this.accessToken=null!==(x=a?.accessToken)&&void 0!==x?x:null,this.heartbeatCallback=null!==(R=a?.heartbeatCallback)&&void 0!==R?R:Wt,this.vsn=null!==(B=a?.vsn)&&void 0!==B?B:"1.0.0",a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(W=a?.reconnectAfterMs)&&void 0!==W?W:Ne=>Cs[Ne-1]||1e4,this.vsn){case"1.0.0":this.encode=null!==(Z=a?.encode)&&void 0!==Z?Z:(Ne,et)=>et(JSON.stringify(Ne)),this.decode=null!==(Ce=a?.decode)&&void 0!==Ce?Ce:(Ne,et)=>et(JSON.parse(Ne));break;case"2.0.0":this.encode=null!==(ke=a?.encode)&&void 0!==ke?ke:this.serializer.encode.bind(this.serializer),this.decode=null!==(Be=a?.decode)&&void 0!==Be?Be:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}class Kn extends Error{constructor(a){super(a),this.__isStorageError=!0,this.name="StorageError"}}function Zt(m){return"object"==typeof m&&null!==m&&"__isStorageError"in m}class mr extends Kn{constructor(a,o,l){super(a),this.name="StorageApiError",this.status=o,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class _r extends Kn{constructor(a,o){super(a),this.name="StorageUnknownError",this.originalError=o}}const ar=m=>m?(...a)=>m(...a):(...a)=>fetch(...a),yt=m=>{if(Array.isArray(m))return m.map(o=>yt(o));if("function"==typeof m||m!==Object(m))return m;const a={};return Object.entries(m).forEach(([o,l])=>{const v=o.replace(/([-_][a-z])/gi,M=>M.toUpperCase().replace(/[-_]/g,""));a[v]=yt(l)}),a},jn=m=>{var a;return m.msg||m.message||m.error_description||("string"==typeof m.error?m.error:null===(a=m.error)||void 0===a?void 0:a.message)||JSON.stringify(m)},yr=(m,a,o)=>(0,G.__awaiter)(void 0,void 0,void 0,function*(){const l=yield Response;m instanceof l&&!o?.noResolveJson?m.json().then(v=>{const M=m.status||500,x=v?.statusCode||M+"";a(new mr(jn(v),M,x))}).catch(v=>{a(new _r(jn(v),v))}):a(new _r(jn(m),m))}),an=(m,a,o,l)=>{const v={method:m,headers:a?.headers||{}};return"GET"!==m&&l?((m=>{if("object"!=typeof m||null===m)return!1;const a=Object.getPrototypeOf(m);return!(null!==a&&a!==Object.prototype&&null!==Object.getPrototypeOf(a)||Symbol.toStringTag in m||Symbol.iterator in m)})(l)?(v.headers=Object.assign({"Content-Type":"application/json"},a?.headers),v.body=JSON.stringify(l)):v.body=l,a?.duplex&&(v.duplex=a.duplex),Object.assign(Object.assign({},v),o)):v};function nn(m,a,o,l,v,M){return(0,G.__awaiter)(this,void 0,void 0,function*(){return new Promise((x,R)=>{m(o,an(a,l,v,M)).then(B=>{if(!B.ok)throw B;return l?.noResolveJson?B:B.json()}).then(B=>x(B)).catch(B=>yr(B,R,l))})})}function qn(m,a,o,l){return(0,G.__awaiter)(this,void 0,void 0,function*(){return nn(m,"GET",a,o,l)})}function Xn(m,a,o,l,v){return(0,G.__awaiter)(this,void 0,void 0,function*(){return nn(m,"POST",a,l,v,o)})}function Nt(m,a,o,l,v){return(0,G.__awaiter)(this,void 0,void 0,function*(){return nn(m,"PUT",a,l,v,o)})}function lr(m,a,o,l,v){return(0,G.__awaiter)(this,void 0,void 0,function*(){return nn(m,"DELETE",a,l,v,o)})}class br{constructor(a,o){this.downloadFn=a,this.shouldThrowOnError=o}then(a,o){return this.execute().then(a,o)}execute(){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Zt(a))return{data:null,error:a};throw a}})}}var er;er=Symbol.toStringTag;const Ws={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Oe={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ye{constructor(a,o={},l,v){this.shouldThrowOnError=!1,this.url=a,this.headers=o,this.bucketId=l,this.fetch=ar(v)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(a,o,l,v){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{let M;const x=Object.assign(Object.assign({},Oe),v);let R=Object.assign(Object.assign({},this.headers),"POST"===a&&{"x-upsert":String(x.upsert)});const B=x.metadata;typeof Blob<"u"&&l instanceof Blob?(M=new FormData,M.append("cacheControl",x.cacheControl),B&&M.append("metadata",this.encodeMetadata(B)),M.append("",l)):typeof FormData<"u"&&l instanceof FormData?(M=l,M.has("cacheControl")||M.append("cacheControl",x.cacheControl),B&&!M.has("metadata")&&M.append("metadata",this.encodeMetadata(B))):(M=l,R["cache-control"]=`max-age=${x.cacheControl}`,R["content-type"]=x.contentType,B&&(R["x-metadata"]=this.toBase64(this.encodeMetadata(B))),(typeof ReadableStream<"u"&&M instanceof ReadableStream||M&&"object"==typeof M&&"pipe"in M&&"function"==typeof M.pipe)&&!x.duplex&&(x.duplex="half")),v?.headers&&(R=Object.assign(Object.assign({},R),v.headers));const W=this._removeEmptyFolders(o),Z=this._getFinalPath(W),Ce=yield("PUT"==a?Nt:Xn)(this.fetch,`${this.url}/object/${Z}`,M,Object.assign({headers:R},x?.duplex?{duplex:x.duplex}:{}));return{data:{path:W,id:Ce.Id,fullPath:Ce.Key},error:null}}catch(M){if(this.shouldThrowOnError)throw M;if(Zt(M))return{data:null,error:M};throw M}})}upload(a,o,l){return(0,G.__awaiter)(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",a,o,l)})}uploadToSignedUrl(a,o,l,v){return(0,G.__awaiter)(this,void 0,void 0,function*(){const M=this._removeEmptyFolders(a),x=this._getFinalPath(M),R=new URL(this.url+`/object/upload/sign/${x}`);R.searchParams.set("token",o);try{let B;const W=Object.assign({upsert:Oe.upsert},v),Z=Object.assign(Object.assign({},this.headers),{"x-upsert":String(W.upsert)});return typeof Blob<"u"&&l instanceof Blob?(B=new FormData,B.append("cacheControl",W.cacheControl),B.append("",l)):typeof FormData<"u"&&l instanceof FormData?(B=l,B.append("cacheControl",W.cacheControl)):(B=l,Z["cache-control"]=`max-age=${W.cacheControl}`,Z["content-type"]=W.contentType),{data:{path:M,fullPath:(yield Nt(this.fetch,R.toString(),B,{headers:Z})).Key},error:null}}catch(B){if(this.shouldThrowOnError)throw B;if(Zt(B))return{data:null,error:B};throw B}})}createSignedUploadUrl(a,o){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{let l=this._getFinalPath(a);const v=Object.assign({},this.headers);o?.upsert&&(v["x-upsert"]="true");const M=yield Xn(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:v}),x=new URL(this.url+M.url),R=x.searchParams.get("token");if(!R)throw new Kn("No token returned by API");return{data:{signedUrl:x.toString(),path:a,token:R},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Zt(l))return{data:null,error:l};throw l}})}update(a,o,l){return(0,G.__awaiter)(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",a,o,l)})}move(a,o,l){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Xn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:a,destinationKey:o,destinationBucket:l?.destinationBucket},{headers:this.headers}),error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(Zt(v))return{data:null,error:v};throw v}})}copy(a,o,l){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:{path:(yield Xn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:a,destinationKey:o,destinationBucket:l?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(Zt(v))return{data:null,error:v};throw v}})}createSignedUrl(a,o,l){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{let v=this._getFinalPath(a),M=yield Xn(this.fetch,`${this.url}/object/sign/${v}`,Object.assign({expiresIn:o},l?.transform?{transform:l.transform}:{}),{headers:this.headers});const x=l?.download?`&download=${!0===l.download?"":l.download}`:"";return M={signedUrl:encodeURI(`${this.url}${M.signedURL}${x}`)},{data:M,error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(Zt(v))return{data:null,error:v};throw v}})}createSignedUrls(a,o,l){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{const v=yield Xn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:o,paths:a},{headers:this.headers}),M=l?.download?`&download=${!0===l.download?"":l.download}`:"";return{data:v.map(x=>Object.assign(Object.assign({},x),{signedUrl:x.signedURL?encodeURI(`${this.url}${x.signedURL}${M}`):null})),error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(Zt(v))return{data:null,error:v};throw v}})}download(a,o){const v=typeof o?.transform<"u"?"render/image/authenticated":"object",M=this.transformOptsToQueryString(o?.transform||{}),x=M?`?${M}`:"",R=this._getFinalPath(a);return new class xr{constructor(a,o){this.downloadFn=a,this.shouldThrowOnError=o,this[er]="BlobDownloadBuilder",this.promise=null}asStream(){return new br(this.downloadFn,this.shouldThrowOnError)}then(a,o){return this.getPromise().then(a,o)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Zt(a))return{data:null,error:a};throw a}})}}(()=>qn(this.fetch,`${this.url}/${v}/${R}${x}`,{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}info(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){const o=this._getFinalPath(a);try{const l=yield qn(this.fetch,`${this.url}/object/info/${o}`,{headers:this.headers});return{data:yt(l),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Zt(l))return{data:null,error:l};throw l}})}exists(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){const o=this._getFinalPath(a);try{return yield function Qn(m,a,o,l){return(0,G.__awaiter)(this,void 0,void 0,function*(){return nn(m,"HEAD",a,Object.assign(Object.assign({},o),{noResolveJson:!0}),l)})}(this.fetch,`${this.url}/object/${o}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Zt(l)&&l instanceof _r){const v=l.originalError;if([400,404].includes(v?.status))return{data:!1,error:l}}throw l}})}getPublicUrl(a,o){const l=this._getFinalPath(a),v=[],M=o?.download?`download=${!0===o.download?"":o.download}`:"";""!==M&&v.push(M);const R=typeof o?.transform<"u"?"render/image":"object",B=this.transformOptsToQueryString(o?.transform||{});""!==B&&v.push(B);let W=v.join("&");return""!==W&&(W=`?${W}`),{data:{publicUrl:encodeURI(`${this.url}/${R}/public/${l}${W}`)}}}remove(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield lr(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:a},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Zt(o))return{data:null,error:o};throw o}})}list(a,o,l){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{const v=Object.assign(Object.assign(Object.assign({},Ws),o),{prefix:a||""});return{data:yield Xn(this.fetch,`${this.url}/object/list/${this.bucketId}`,v,{headers:this.headers},l),error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(Zt(v))return{data:null,error:v};throw v}})}listV2(a,o){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{const l=Object.assign({},a);return{data:yield Xn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,l,{headers:this.headers},o),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Zt(l))return{data:null,error:l};throw l}})}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const o=[];return a.width&&o.push(`width=${a.width}`),a.height&&o.push(`height=${a.height}`),a.resize&&o.push(`resize=${a.resize}`),a.format&&o.push(`format=${a.format}`),a.quality&&o.push(`quality=${a.quality}`),o.join("&")}}const K="2.86.0",ie={"X-Client-Info":`storage-js/${K}`};class Se{constructor(a,o={},l,v){this.shouldThrowOnError=!1;const M=new URL(a);v?.useNewHostname&&/supabase\.(co|in|red)$/.test(M.hostname)&&!M.hostname.includes("storage.supabase.")&&(M.hostname=M.hostname.replace("supabase.","storage.supabase.")),this.url=M.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ie),o),this.fetch=ar(l)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{const o=this.listBucketOptionsToQueryString(a);return{data:yield qn(this.fetch,`${this.url}/bucket${o}`,{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Zt(o))return{data:null,error:o};throw o}})}getBucket(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield qn(this.fetch,`${this.url}/bucket/${a}`,{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Zt(o))return{data:null,error:o};throw o}})}createBucket(a){return(0,G.__awaiter)(this,arguments,void 0,function*(o,l={public:!1}){try{return{data:yield Xn(this.fetch,`${this.url}/bucket`,{id:o,name:o,type:l.type,public:l.public,file_size_limit:l.fileSizeLimit,allowed_mime_types:l.allowedMimeTypes},{headers:this.headers}),error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(Zt(v))return{data:null,error:v};throw v}})}updateBucket(a,o){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Nt(this.fetch,`${this.url}/bucket/${a}`,{id:a,name:a,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Zt(l))return{data:null,error:l};throw l}})}emptyBucket(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Xn(this.fetch,`${this.url}/bucket/${a}/empty`,{},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Zt(o))return{data:null,error:o};throw o}})}deleteBucket(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield lr(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Zt(o))return{data:null,error:o};throw o}})}listBucketOptionsToQueryString(a){const o={};return a&&("limit"in a&&(o.limit=String(a.limit)),"offset"in a&&(o.offset=String(a.offset)),a.search&&(o.search=a.search),a.sortColumn&&(o.sortColumn=a.sortColumn),a.sortOrder&&(o.sortOrder=a.sortOrder)),Object.keys(o).length>0?"?"+new URLSearchParams(o).toString():""}}var nt=class extends Error{constructor(m,a){super(m),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown="CommitStateUnknownException"===a.icebergType||[500,502,504].includes(a.status)&&!0===a.icebergType?.includes("CommitState")}isNotFound(){return 404===this.status}isConflict(){return 409===this.status}isAuthenticationTimeout(){return 419===this.status}};function Xt(){return(Xt=(0,u.A)(function*(m){return m&&"none"!==m.type?"bearer"===m.type?{Authorization:`Bearer ${m.token}`}:"header"===m.type?{[m.name]:m.value}:"custom"===m.type?yield m.getHeaders():{}:{}})).apply(this,arguments)}function ur(m){return m.join("\x1f")}function Nr(m){return m.join("\x1f")}class Pe{constructor(a,o={},l){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ie),o),this.fetch=ar(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Xn(this.fetch,`${this.url}/bucket`,{name:a},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Zt(o))return{data:null,error:o};throw o}})}listBuckets(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{const o=new URLSearchParams;void 0!==a?.limit&&o.set("limit",a.limit.toString()),void 0!==a?.offset&&o.set("offset",a.offset.toString()),a?.sortColumn&&o.set("sortColumn",a.sortColumn),a?.sortOrder&&o.set("sortOrder",a.sortOrder),a?.search&&o.set("search",a.search);const l=o.toString(),v=l?`${this.url}/bucket?${l}`:`${this.url}/bucket`;return{data:yield qn(this.fetch,v,{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Zt(o))return{data:null,error:o};throw o}})}deleteBucket(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield lr(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Zt(o))return{data:null,error:o};throw o}})}from(a){if(!(m=a)||"string"!=typeof m||0===m.length||m.length>100||m.trim()!==m||m.includes("/")||m.includes("\\")||!/^[\w!.\*'() &$@=;:+,?-]+$/.test(m))throw new Kn("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");var m;return new class{constructor(m){let a="v1";m.catalogName&&(a+=`/${m.catalogName}`);const o=m.baseUrl.endsWith("/")?m.baseUrl:`${m.baseUrl}/`;this.client=function Vn(m){const a=m.fetchImpl??globalThis.fetch;return{request(o){return(0,u.A)(function*({method:l,path:v,query:M,body:x,headers:R}){const B=function St(m,a,o){const l=new URL(a,m);if(o)for(const[v,M]of Object.entries(o))void 0!==M&&l.searchParams.set(v,M);return l.toString()}(m.baseUrl,v,M),W=yield function mn(m){return Xt.apply(this,arguments)}(m.auth),Z=yield a(B,{method:l,headers:{...x?{"Content-Type":"application/json"}:{},...W,...R},body:x?JSON.stringify(x):void 0}),Ce=yield Z.text(),ke=(Z.headers.get("content-type")||"").includes("application/json"),Be=ke&&Ce?JSON.parse(Ce):Ce;if(!Z.ok){const Ne=ke?Be:void 0,et=Ne?.error;throw new nt(et?.message??`Request failed with status ${Z.status}`,{status:Z.status,icebergType:et?.type,icebergCode:et?.code,details:Ne})}return{status:Z.status,headers:Z.headers,data:Be}}).apply(this,arguments)}}}({baseUrl:o,auth:m.auth,fetchImpl:m.fetch}),this.accessDelegation=m.accessDelegation?.join(","),this.namespaceOps=new class{constructor(m,a=""){this.client=m,this.prefix=a}listNamespaces(m){var a=this;return(0,u.A)(function*(){const o=m?{parent:ur(m.namespace)}:void 0;return(yield a.client.request({method:"GET",path:`${a.prefix}/namespaces`,query:o})).data.namespaces.map(v=>({namespace:v}))})()}createNamespace(m,a){var o=this;return(0,u.A)(function*(){const l={namespace:m.namespace,properties:a?.properties};return(yield o.client.request({method:"POST",path:`${o.prefix}/namespaces`,body:l})).data})()}dropNamespace(m){var a=this;return(0,u.A)(function*(){yield a.client.request({method:"DELETE",path:`${a.prefix}/namespaces/${ur(m.namespace)}`})})()}loadNamespaceMetadata(m){var a=this;return(0,u.A)(function*(){return{properties:(yield a.client.request({method:"GET",path:`${a.prefix}/namespaces/${ur(m.namespace)}`})).data.properties}})()}namespaceExists(m){var a=this;return(0,u.A)(function*(){try{return yield a.client.request({method:"HEAD",path:`${a.prefix}/namespaces/${ur(m.namespace)}`}),!0}catch(o){if(o instanceof nt&&404===o.status)return!1;throw o}})()}createNamespaceIfNotExists(m,a){var o=this;return(0,u.A)(function*(){try{return yield o.createNamespace(m,a)}catch(l){if(l instanceof nt&&409===l.status)return;throw l}})()}}(this.client,a),this.tableOps=new class{constructor(m,a="",o){this.client=m,this.prefix=a,this.accessDelegation=o}listTables(m){var a=this;return(0,u.A)(function*(){return(yield a.client.request({method:"GET",path:`${a.prefix}/namespaces/${Nr(m.namespace)}/tables`})).data.identifiers})()}createTable(m,a){var o=this;return(0,u.A)(function*(){const l={};return o.accessDelegation&&(l["X-Iceberg-Access-Delegation"]=o.accessDelegation),(yield o.client.request({method:"POST",path:`${o.prefix}/namespaces/${Nr(m.namespace)}/tables`,body:a,headers:l})).data.metadata})()}updateTable(m,a){var o=this;return(0,u.A)(function*(){const l=yield o.client.request({method:"POST",path:`${o.prefix}/namespaces/${Nr(m.namespace)}/tables/${m.name}`,body:a});return{"metadata-location":l.data["metadata-location"],metadata:l.data.metadata}})()}dropTable(m,a){var o=this;return(0,u.A)(function*(){yield o.client.request({method:"DELETE",path:`${o.prefix}/namespaces/${Nr(m.namespace)}/tables/${m.name}`,query:{purgeRequested:String(a?.purge??!1)}})})()}loadTable(m){var a=this;return(0,u.A)(function*(){const o={};return a.accessDelegation&&(o["X-Iceberg-Access-Delegation"]=a.accessDelegation),(yield a.client.request({method:"GET",path:`${a.prefix}/namespaces/${Nr(m.namespace)}/tables/${m.name}`,headers:o})).data.metadata})()}tableExists(m){var a=this;return(0,u.A)(function*(){const o={};a.accessDelegation&&(o["X-Iceberg-Access-Delegation"]=a.accessDelegation);try{return yield a.client.request({method:"HEAD",path:`${a.prefix}/namespaces/${Nr(m.namespace)}/tables/${m.name}`,headers:o}),!0}catch(l){if(l instanceof nt&&404===l.status)return!1;throw l}})()}createTableIfNotExists(m,a){var o=this;return(0,u.A)(function*(){try{return yield o.createTable(m,a)}catch(l){if(l instanceof nt&&409===l.status)return yield o.loadTable({namespace:m.namespace,name:a.name});throw l}})()}}(this.client,a,this.accessDelegation)}listNamespaces(m){var a=this;return(0,u.A)(function*(){return a.namespaceOps.listNamespaces(m)})()}createNamespace(m,a){var o=this;return(0,u.A)(function*(){return o.namespaceOps.createNamespace(m,a)})()}dropNamespace(m){var a=this;return(0,u.A)(function*(){yield a.namespaceOps.dropNamespace(m)})()}loadNamespaceMetadata(m){var a=this;return(0,u.A)(function*(){return a.namespaceOps.loadNamespaceMetadata(m)})()}listTables(m){var a=this;return(0,u.A)(function*(){return a.tableOps.listTables(m)})()}createTable(m,a){var o=this;return(0,u.A)(function*(){return o.tableOps.createTable(m,a)})()}updateTable(m,a){var o=this;return(0,u.A)(function*(){return o.tableOps.updateTable(m,a)})()}dropTable(m,a){var o=this;return(0,u.A)(function*(){yield o.tableOps.dropTable(m,a)})()}loadTable(m){var a=this;return(0,u.A)(function*(){return a.tableOps.loadTable(m)})()}namespaceExists(m){var a=this;return(0,u.A)(function*(){return a.namespaceOps.namespaceExists(m)})()}tableExists(m){var a=this;return(0,u.A)(function*(){return a.tableOps.tableExists(m)})()}createNamespaceIfNotExists(m,a){var o=this;return(0,u.A)(function*(){return o.namespaceOps.createNamespaceIfNotExists(m,a)})()}createTableIfNotExists(m,a){var o=this;return(0,u.A)(function*(){return o.tableOps.createTableIfNotExists(m,a)})()}}({baseUrl:this.url,catalogName:a,auth:{type:"custom",getHeaders:()=>(0,G.__awaiter)(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Le={"X-Client-Info":`storage-js/${K}`,"Content-Type":"application/json"};class Ze extends Error{constructor(a){super(a),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function $e(m){return"object"==typeof m&&null!==m&&"__isStorageVectorsError"in m}class cn extends Ze{constructor(a,o,l){super(a),this.name="StorageVectorsApiError",this.status=o,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Vt extends Ze{constructor(a,o){super(a),this.name="StorageVectorsUnknownError",this.originalError=o}}const Hn=m=>m?(...a)=>m(...a):(...a)=>fetch(...a),wt=m=>m.msg||m.message||m.error_description||m.error||JSON.stringify(m),ln=(m,a,o)=>(0,G.__awaiter)(void 0,void 0,void 0,function*(){if(m&&"object"==typeof m&&"status"in m&&"ok"in m&&"number"==typeof m.status&&!o?.noResolveJson){const v=m.status||500,M=m;"function"==typeof M.json?M.json().then(x=>{const R=x?.statusCode||x?.code||v+"";a(new cn(wt(x),v,R))}).catch(()=>{a(new cn(M.statusText||`HTTP ${v} error`,v,v+""))}):a(new cn(M.statusText||`HTTP ${v} error`,v,v+""))}else a(new Vt(wt(m),m))}),Tr=(m,a,o,l)=>{const v={method:m,headers:a?.headers||{}};return"GET"!==m&&l?((m=>{if("object"!=typeof m||null===m)return!1;const a=Object.getPrototypeOf(m);return!(null!==a&&a!==Object.prototype&&null!==Object.getPrototypeOf(a)||Symbol.toStringTag in m||Symbol.iterator in m)})(l)?(v.headers=Object.assign({"Content-Type":"application/json"},a?.headers),v.body=JSON.stringify(l)):v.body=l,Object.assign(Object.assign({},v),o)):v};function Dn(m,a,o,l,v){return(0,G.__awaiter)(this,void 0,void 0,function*(){return function Ar(m,a,o,l,v,M){return(0,G.__awaiter)(this,void 0,void 0,function*(){return new Promise((x,R)=>{m(o,Tr(a,l,v,M)).then(B=>{if(!B.ok)throw B;if(l?.noResolveJson)return B;const W=B.headers.get("content-type");return W&&W.includes("application/json")?B.json():{}}).then(B=>x(B)).catch(B=>ln(B,R,l))})})}(m,"POST",a,l,v,o)})}class cr{constructor(a,o={},l){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Le),o),this.fetch=Hn(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield Dn(this.fetch,`${this.url}/CreateIndex`,a,{headers:this.headers}))||{},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}})}getIndex(a,o){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:a,indexName:o},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}})}listIndexes(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/ListIndexes`,a,{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}})}deleteIndex(a,o){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield Dn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:a,indexName:o},{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}})}}class Ds{constructor(a,o={},l){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Le),o),this.fetch=Hn(l)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{if(a.vectors.length<1||a.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Dn(this.fetch,`${this.url}/PutVectors`,a,{headers:this.headers}))||{},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}})}getVectors(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/GetVectors`,a,{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}})}listVectors(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{if(void 0!==a.segmentCount){if(a.segmentCount<1||a.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(void 0!==a.segmentIndex&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw new Error("segmentIndex must be between 0 and "+(a.segmentCount-1))}return{data:yield Dn(this.fetch,`${this.url}/ListVectors`,a,{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}})}queryVectors(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/QueryVectors`,a,{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}})}deleteVectors(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{if(a.keys.length<1||a.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Dn(this.fetch,`${this.url}/DeleteVectors`,a,{headers:this.headers}))||{},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}})}}class ds{constructor(a,o={},l){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Le),o),this.fetch=Hn(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield Dn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}})}getBucket(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:a},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}})}listBuckets(){return(0,G.__awaiter)(this,arguments,void 0,function*(a={}){try{return{data:yield Dn(this.fetch,`${this.url}/ListVectorBuckets`,a,{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}})}deleteBucket(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield Dn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($e(o))return{data:null,error:o};throw o}})}}class qs extends ds{constructor(a,o={}){super(a,o.headers||{},o.fetch)}from(a){return new Kr(this.url,this.headers,a,this.fetch)}createBucket(a){const o=Object.create(null,{createBucket:{get:()=>super.createBucket}});return(0,G.__awaiter)(this,void 0,void 0,function*(){return o.createBucket.call(this,a)})}getBucket(a){const o=Object.create(null,{getBucket:{get:()=>super.getBucket}});return(0,G.__awaiter)(this,void 0,void 0,function*(){return o.getBucket.call(this,a)})}listBuckets(){const a=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return(0,G.__awaiter)(this,arguments,void 0,function*(o={}){return a.listBuckets.call(this,o)})}deleteBucket(a){const o=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return(0,G.__awaiter)(this,void 0,void 0,function*(){return o.deleteBucket.call(this,a)})}}class Kr extends cr{constructor(a,o,l,v){super(a,o,v),this.vectorBucketName=l}createIndex(a){const o=Object.create(null,{createIndex:{get:()=>super.createIndex}});return(0,G.__awaiter)(this,void 0,void 0,function*(){return o.createIndex.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const a=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return(0,G.__awaiter)(this,arguments,void 0,function*(o={}){return a.listIndexes.call(this,Object.assign(Object.assign({},o),{vectorBucketName:this.vectorBucketName}))})}getIndex(a){const o=Object.create(null,{getIndex:{get:()=>super.getIndex}});return(0,G.__awaiter)(this,void 0,void 0,function*(){return o.getIndex.call(this,this.vectorBucketName,a)})}deleteIndex(a){const o=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return(0,G.__awaiter)(this,void 0,void 0,function*(){return o.deleteIndex.call(this,this.vectorBucketName,a)})}index(a){return new Br(this.url,this.headers,this.vectorBucketName,a,this.fetch)}}class Br extends Ds{constructor(a,o,l,v,M){super(a,o,M),this.vectorBucketName=l,this.indexName=v}putVectors(a){const o=Object.create(null,{putVectors:{get:()=>super.putVectors}});return(0,G.__awaiter)(this,void 0,void 0,function*(){return o.putVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(a){const o=Object.create(null,{getVectors:{get:()=>super.getVectors}});return(0,G.__awaiter)(this,void 0,void 0,function*(){return o.getVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const a=Object.create(null,{listVectors:{get:()=>super.listVectors}});return(0,G.__awaiter)(this,arguments,void 0,function*(o={}){return a.listVectors.call(this,Object.assign(Object.assign({},o),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(a){const o=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return(0,G.__awaiter)(this,void 0,void 0,function*(){return o.queryVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(a){const o=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return(0,G.__awaiter)(this,void 0,void 0,function*(){return o.deleteVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class ks extends Se{constructor(a,o={},l,v){super(a,o,l,v)}from(a){return new ye(this.url,this.headers,a,this.fetch)}get vectors(){return new qs(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Pe(this.url+"/iceberg",this.headers,this.fetch)}}let Cr="";Cr=typeof Deno<"u"?"deno":typeof document<"u"?"web":typeof navigator<"u"&&"ReactNative"===navigator.product?"react-native":"node";const Oi={headers:{"X-Client-Info":`supabase-js-${Cr}/2.86.0`}},zn={schema:"public"},vi={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ii={},Ri=(m,a,o)=>{const l=(m=>m?(...a)=>m(...a):(...a)=>fetch(...a))(o),v=Headers;return function(){var M=(0,u.A)(function*(x,R){var B;const W=null!==(B=yield a())&&void 0!==B?B:m;let Z=new v(R?.headers);return Z.has("apikey")||Z.set("apikey",m),Z.has("Authorization")||Z.set("Authorization",`Bearer ${W}`),l(x,Object.assign(Object.assign({},R),{headers:Z}))});return function(x,R){return M.apply(this,arguments)}}()},Ss=3e4,Ft="X-Supabase-Api-Version",Nn={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},or=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class Gn extends Error{constructor(a,o,l){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=o,this.code=l}}function ut(m){return"object"==typeof m&&null!==m&&"__isAuthError"in m}class fs extends Gn{constructor(a,o,l){super(a,o,l),this.name="AuthApiError",this.status=o,this.code=l}}class Hr extends Gn{constructor(a,o){super(a),this.name="AuthUnknownError",this.originalError=o}}class Fr extends Gn{constructor(a,o,l,v){super(a,l,v),this.name=o,this.status=l}}class rn extends Fr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class It extends Fr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class yn extends Fr{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class dr extends Fr{constructor(a,o=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Wn extends Fr{constructor(a,o=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zr extends Fr{constructor(a,o){super(a,"AuthRetryableFetchError",o,void 0)}}function kn(m){return ut(m)&&"AuthRetryableFetchError"===m.name}class Er extends Fr{constructor(a,o,l){super(a,"AuthWeakPasswordError",o,"weak_password"),this.reasons=l}}class kt extends Fr{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const jr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Xr=" \t\n\r=".split(""),Qr=(()=>{const m=new Array(128);for(let a=0;a<m.length;a+=1)m[a]=-1;for(let a=0;a<Xr.length;a+=1)m[Xr[a].charCodeAt(0)]=-2;for(let a=0;a<jr.length;a+=1)m[jr[a].charCodeAt(0)]=a;return m})();function On(m,a,o){if(null!==m)for(a.queue=a.queue<<8|m,a.queuedBits+=8;a.queuedBits>=6;)o(jr[a.queue>>a.queuedBits-6&63]),a.queuedBits-=6;else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;)o(jr[a.queue>>a.queuedBits-6&63]),a.queuedBits-=6}function ps(m,a,o){const l=Qr[m];if(!(l>-1)){if(-2===l)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(m)}"`)}for(a.queue=a.queue<<6|l,a.queuedBits+=6;a.queuedBits>=8;)o(a.queue>>a.queuedBits-8&255),a.queuedBits-=8}function Vr(m){const a=[],o=x=>{a.push(String.fromCodePoint(x))},l={utf8seq:0,codepoint:0},v={queue:0,queuedBits:0},M=x=>{!function Jr(m,a,o){if(0===a.utf8seq){if(m<=127)return void o(m);for(let l=1;l<6;l+=1)if(!(m>>7-l&1)){a.utf8seq=l;break}if(2===a.utf8seq)a.codepoint=31&m;else if(3===a.utf8seq)a.codepoint=15&m;else{if(4!==a.utf8seq)throw new Error("Invalid UTF-8 sequence");a.codepoint=7&m}a.utf8seq-=1}else if(a.utf8seq>0){if(m<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|63&m,a.utf8seq-=1,0===a.utf8seq&&o(a.codepoint)}}(x,l,o)};for(let x=0;x<m.length;x+=1)ps(m.charCodeAt(x),v,M);return a.join("")}function gs(m,a){if(!(m<=127)){if(m<=2047)return a(192|m>>6),void a(128|63&m);if(m<=65535)return a(224|m>>12),a(128|m>>6&63),void a(128|63&m);if(m<=1114111)return a(240|m>>18),a(128|m>>12&63),a(128|m>>6&63),void a(128|63&m);throw new Error(`Unrecognized Unicode codepoint: ${m.toString(16)}`)}a(m)}function Ir(m){const a=[],o={queue:0,queuedBits:0},l=v=>{a.push(v)};for(let v=0;v<m.length;v+=1)ps(m.charCodeAt(v),o,l);return new Uint8Array(a)}function Yr(m){const a=[],o={queue:0,queuedBits:0},l=v=>{a.push(v)};return m.forEach(v=>On(v,o,l)),On(null,o,l),a.join("")}const Fn=()=>typeof window<"u"&&typeof document<"u",bn={tested:!1,writable:!1},Or=()=>{if(!Fn())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch{return!1}if(bn.tested)return bn.writable;const m=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(m,m),globalThis.localStorage.removeItem(m),bn.tested=!0,bn.writable=!0}catch{bn.tested=!0,bn.writable=!1}return bn.writable},Ps=m=>m?(...a)=>m(...a):(...a)=>fetch(...a),li=m=>"object"==typeof m&&null!==m&&"status"in m&&"ok"in m&&"json"in m&&"function"==typeof m.json,Un=function(){var m=(0,u.A)(function*(a,o,l){yield a.setItem(o,JSON.stringify(l))});return function(o,l,v){return m.apply(this,arguments)}}(),ms=function(){var m=(0,u.A)(function*(a,o){const l=yield a.getItem(o);if(!l)return null;try{return JSON.parse(l)}catch{return l}});return function(o,l){return m.apply(this,arguments)}}(),$n=function(){var m=(0,u.A)(function*(a,o){yield a.removeItem(o)});return function(o,l){return m.apply(this,arguments)}}();class hr{constructor(){this.promise=new hr.promiseConstructor((a,o)=>{this.resolve=a,this.reject=o})}}function Rs(m){const a=m.split(".");if(3!==a.length)throw new kt("Invalid JWT structure");for(let l=0;l<a.length;l++)if(!or.test(a[l]))throw new kt("JWT not in base64url format");return{header:JSON.parse(Vr(a[0])),payload:JSON.parse(Vr(a[1])),signature:Ir(a[2]),raw:{header:a[0],payload:a[1]}}}function Zr(){return(Zr=(0,u.A)(function*(m){return yield new Promise(a=>{setTimeout(()=>a(null),m)})})).apply(this,arguments)}function Pn(m){return("0"+m.toString(16)).substr(-2)}function P(){return(P=(0,u.A)(function*(m){const o=(new TextEncoder).encode(m),l=yield crypto.subtle.digest("SHA-256",o),v=new Uint8Array(l);return Array.from(v).map(M=>String.fromCharCode(M)).join("")})).apply(this,arguments)}function D(){return D=(0,u.A)(function*(m){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),m;const o=yield function ys(m){return P.apply(this,arguments)}(m);return btoa(o).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}),D.apply(this,arguments)}function $(m,a){return ne.apply(this,arguments)}function ne(){return ne=(0,u.A)(function*(m,a,o=!1){const l=function vr(){const a=new Uint32Array(56);if(typeof crypto>"u"){const o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=o.length;let v="";for(let M=0;M<56;M++)v+=o.charAt(Math.floor(Math.random()*l));return v}return crypto.getRandomValues(a),Array.from(a,Pn).join("")}();let v=l;o&&(v+="/PASSWORD_RECOVERY"),yield Un(m,`${a}-code-verifier`,v);const M=yield function k(m){return D.apply(this,arguments)}(l);return[M,l===M?"plain":"s256"]}),ne.apply(this,arguments)}hr.promiseConstructor=Promise;const vt=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i,es=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Dr(m){if(!es.test(m))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ui(){return new Proxy({},{get:(a,o)=>{if("__isUserNotAvailableProxy"===o)return!0;if("symbol"==typeof o){const l=o.toString();if("Symbol(Symbol.toPrimitive)"===l||"Symbol(Symbol.toStringTag)"===l||"Symbol(util.inspect.custom)"===l)return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${o}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,o)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${o}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,o)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${o}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ci(m){return JSON.parse(JSON.stringify(m))}const Ei=m=>m.msg||m.message||m.error_description||m.error||JSON.stringify(m),so=[502,503,504];function Di(m){return ci.apply(this,arguments)}function ci(){return(ci=(0,u.A)(function*(m){var a;if(!li(m))throw new zr(Ei(m),0);if(so.includes(m.status))throw new zr(Ei(m),m.status);let o,l;try{o=yield m.json()}catch(M){throw new Hr(Ei(M),M)}const v=function Ht(m){const a=m.headers.get(Ft);if(!a||!a.match(vt))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}(m);if(v&&v.getTime()>=Nn["2024-01-01"].timestamp&&"object"==typeof o&&o&&"string"==typeof o.code?l=o.code:"object"==typeof o&&o&&"string"==typeof o.error_code&&(l=o.error_code),l){if("weak_password"===l)throw new Er(Ei(o),m.status,(null===(a=o.weak_password)||void 0===a?void 0:a.reasons)||[]);if("session_not_found"===l)throw new rn}else if("object"==typeof o&&o&&"object"==typeof o.weak_password&&o.weak_password&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.reasons.reduce((M,x)=>M&&"string"==typeof x,!0))throw new Er(Ei(o),m.status,o.weak_password.reasons);throw new fs(Ei(o),m.status||500,l)})).apply(this,arguments)}const go=(m,a,o,l)=>{const v={method:m,headers:a?.headers||{}};return"GET"===m?v:(v.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),v.body=JSON.stringify(l),Object.assign(Object.assign({},v),o))};function Lt(m,a,o,l){return ts.apply(this,arguments)}function ts(){return ts=(0,u.A)(function*(m,a,o,l){var v;const M=Object.assign({},l?.headers);M[Ft]||(M[Ft]=Nn["2024-01-01"].name),l?.jwt&&(M.Authorization=`Bearer ${l.jwt}`);const x=null!==(v=l?.query)&&void 0!==v?v:{};l?.redirectTo&&(x.redirect_to=l.redirectTo);const R=Object.keys(x).length?"?"+new URLSearchParams(x).toString():"",B=yield function xs(m,a,o,l,v,M){return Ni.apply(this,arguments)}(m,a,o+R,{headers:M,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(B):{data:Object.assign({},B),error:null}}),ts.apply(this,arguments)}function Ni(){return(Ni=(0,u.A)(function*(m,a,o,l,v,M){const x=go(a,l,v,M);let R;try{R=yield m(o,Object.assign({},x))}catch(B){throw console.error(B),new zr(Ei(B),0)}if(R.ok||(yield Di(R)),l?.noResolveJson)return R;try{return yield R.json()}catch(B){yield Di(B)}})).apply(this,arguments)}function _s(m){var a;let o=null;return function Hi(m){return m.access_token&&m.refresh_token&&m.expires_in}(m)&&(o=Object.assign({},m),m.expires_at||(o.expires_at=function en(m){return Math.round(Date.now()/1e3)+m}(m.expires_in))),{data:{session:o,user:null!==(a=m.user)&&void 0!==a?a:m},error:null}}function Yn(m){const a=_s(m);return!a.error&&m.weak_password&&"object"==typeof m.weak_password&&Array.isArray(m.weak_password.reasons)&&m.weak_password.reasons.length&&m.weak_password.message&&"string"==typeof m.weak_password.message&&m.weak_password.reasons.reduce((o,l)=>o&&"string"==typeof l,!0)&&(a.data.weak_password=m.weak_password),a}function ns(m){var a;return{data:{user:null!==(a=m.user)&&void 0!==a?a:m},error:null}}function rs(m){return{data:m,error:null}}function qi(m){const{action_link:a,email_otp:o,hashed_token:l,redirect_to:v,verification_type:M}=m,x=(0,G.__rest)(m,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:a,email_otp:o,hashed_token:l,redirect_to:v,verification_type:M},user:Object.assign({},x)},error:null}}function Xi(m){return m}const di=["global","local","others"];class hi{constructor({url:a="",headers:o={},fetch:l}){this.url=a,this.headers=o,this.fetch=Ps(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(a){var o=this;return(0,u.A)(function*(l,v=di[0]){if(di.indexOf(v)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${di.join(", ")}`);try{return yield Lt(o.fetch,"POST",`${o.url}/logout?scope=${v}`,{headers:o.headers,jwt:l,noResolveJson:!0}),{data:null,error:null}}catch(M){if(ut(M))return{data:null,error:M};throw M}}).apply(this,arguments)}inviteUserByEmail(a){var o=this;return(0,u.A)(function*(l,v={}){try{return yield Lt(o.fetch,"POST",`${o.url}/invite`,{body:{email:l,data:v.data},headers:o.headers,redirectTo:v.redirectTo,xform:ns})}catch(M){if(ut(M))return{data:{user:null},error:M};throw M}}).apply(this,arguments)}generateLink(a){var o=this;return(0,u.A)(function*(){try{const{options:l}=a,v=(0,G.__rest)(a,["options"]),M=Object.assign(Object.assign({},v),l);return"newEmail"in v&&(M.new_email=v?.newEmail,delete M.newEmail),yield Lt(o.fetch,"POST",`${o.url}/admin/generate_link`,{body:M,headers:o.headers,xform:qi,redirectTo:l?.redirectTo})}catch(l){if(ut(l))return{data:{properties:null,user:null},error:l};throw l}})()}createUser(a){var o=this;return(0,u.A)(function*(){try{return yield Lt(o.fetch,"POST",`${o.url}/admin/users`,{body:a,headers:o.headers,xform:ns})}catch(l){if(ut(l))return{data:{user:null},error:l};throw l}})()}listUsers(a){var o=this;return(0,u.A)(function*(){var l,v,M,x,R,B,W;try{const Z={nextPage:null,lastPage:0,total:0},Ce=yield Lt(o.fetch,"GET",`${o.url}/admin/users`,{headers:o.headers,noResolveJson:!0,query:{page:null!==(v=null===(l=a?.page)||void 0===l?void 0:l.toString())&&void 0!==v?v:"",per_page:null!==(x=null===(M=a?.perPage)||void 0===M?void 0:M.toString())&&void 0!==x?x:""},xform:Xi});if(Ce.error)throw Ce.error;const ke=yield Ce.json(),Be=null!==(R=Ce.headers.get("x-total-count"))&&void 0!==R?R:0,Ne=null!==(W=null===(B=Ce.headers.get("link"))||void 0===B?void 0:B.split(","))&&void 0!==W?W:[];return Ne.length>0&&(Ne.forEach(et=>{const Re=parseInt(et.split(";")[0].split("=")[1].substring(0,1)),Fe=JSON.parse(et.split(";")[1].split("=")[1]);Z[`${Fe}Page`]=Re}),Z.total=parseInt(Be)),{data:Object.assign(Object.assign({},ke),Z),error:null}}catch(Z){if(ut(Z))return{data:{users:[]},error:Z};throw Z}})()}getUserById(a){var o=this;return(0,u.A)(function*(){Dr(a);try{return yield Lt(o.fetch,"GET",`${o.url}/admin/users/${a}`,{headers:o.headers,xform:ns})}catch(l){if(ut(l))return{data:{user:null},error:l};throw l}})()}updateUserById(a,o){var l=this;return(0,u.A)(function*(){Dr(a);try{return yield Lt(l.fetch,"PUT",`${l.url}/admin/users/${a}`,{body:o,headers:l.headers,xform:ns})}catch(v){if(ut(v))return{data:{user:null},error:v};throw v}})()}deleteUser(a){var o=this;return(0,u.A)(function*(l,v=!1){Dr(l);try{return yield Lt(o.fetch,"DELETE",`${o.url}/admin/users/${l}`,{headers:o.headers,body:{should_soft_delete:v},xform:ns})}catch(M){if(ut(M))return{data:{user:null},error:M};throw M}}).apply(this,arguments)}_listFactors(a){var o=this;return(0,u.A)(function*(){Dr(a.userId);try{const{data:l,error:v}=yield Lt(o.fetch,"GET",`${o.url}/admin/users/${a.userId}/factors`,{headers:o.headers,xform:M=>({data:{factors:M},error:null})});return{data:l,error:v}}catch(l){if(ut(l))return{data:null,error:l};throw l}})()}_deleteFactor(a){var o=this;return(0,u.A)(function*(){Dr(a.userId),Dr(a.id);try{return{data:yield Lt(o.fetch,"DELETE",`${o.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:o.headers}),error:null}}catch(l){if(ut(l))return{data:null,error:l};throw l}})()}_listOAuthClients(a){var o=this;return(0,u.A)(function*(){var l,v,M,x,R,B,W;try{const Z={nextPage:null,lastPage:0,total:0},Ce=yield Lt(o.fetch,"GET",`${o.url}/admin/oauth/clients`,{headers:o.headers,noResolveJson:!0,query:{page:null!==(v=null===(l=a?.page)||void 0===l?void 0:l.toString())&&void 0!==v?v:"",per_page:null!==(x=null===(M=a?.perPage)||void 0===M?void 0:M.toString())&&void 0!==x?x:""},xform:Xi});if(Ce.error)throw Ce.error;const ke=yield Ce.json(),Be=null!==(R=Ce.headers.get("x-total-count"))&&void 0!==R?R:0,Ne=null!==(W=null===(B=Ce.headers.get("link"))||void 0===B?void 0:B.split(","))&&void 0!==W?W:[];return Ne.length>0&&(Ne.forEach(et=>{const Re=parseInt(et.split(";")[0].split("=")[1].substring(0,1)),Fe=JSON.parse(et.split(";")[1].split("=")[1]);Z[`${Fe}Page`]=Re}),Z.total=parseInt(Be)),{data:Object.assign(Object.assign({},ke),Z),error:null}}catch(Z){if(ut(Z))return{data:{clients:[]},error:Z};throw Z}})()}_createOAuthClient(a){var o=this;return(0,u.A)(function*(){try{return yield Lt(o.fetch,"POST",`${o.url}/admin/oauth/clients`,{body:a,headers:o.headers,xform:l=>({data:l,error:null})})}catch(l){if(ut(l))return{data:null,error:l};throw l}})()}_getOAuthClient(a){var o=this;return(0,u.A)(function*(){try{return yield Lt(o.fetch,"GET",`${o.url}/admin/oauth/clients/${a}`,{headers:o.headers,xform:l=>({data:l,error:null})})}catch(l){if(ut(l))return{data:null,error:l};throw l}})()}_updateOAuthClient(a,o){var l=this;return(0,u.A)(function*(){try{return yield Lt(l.fetch,"PUT",`${l.url}/admin/oauth/clients/${a}`,{body:o,headers:l.headers,xform:v=>({data:v,error:null})})}catch(v){if(ut(v))return{data:null,error:v};throw v}})()}_deleteOAuthClient(a){var o=this;return(0,u.A)(function*(){try{return yield Lt(o.fetch,"DELETE",`${o.url}/admin/oauth/clients/${a}`,{headers:o.headers,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ut(l))return{data:null,error:l};throw l}})()}_regenerateOAuthClientSecret(a){var o=this;return(0,u.A)(function*(){try{return yield Lt(o.fetch,"POST",`${o.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:o.headers,xform:l=>({data:l,error:null})})}catch(l){if(ut(l))return{data:null,error:l};throw l}})()}}function Us(m={}){return{getItem:a=>m[a]||null,setItem:(a,o)=>{m[a]=o},removeItem:a=>{delete m[a]}}}const Sr={debug:!!(globalThis&&Or()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))};class Si extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class fi extends Si{}function lo(m,a,o){return uo.apply(this,arguments)}function uo(){return uo=(0,u.A)(function*(m,a,o){Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",m,a);const l=new globalThis.AbortController;return a>0&&setTimeout(()=>{l.abort(),Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",m)},a),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(m,0===a?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},function(){var v=(0,u.A)(function*(M){if(!M){if(0===a)throw Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",m),new fi(`Acquiring an exclusive Navigator LockManager lock "${m}" immediately failed`);if(Sr.debug)try{const x=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(x,null,"  "))}catch(x){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",x)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield o()}Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",m,M.name);try{return yield o()}finally{Sr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",m,M.name)}});return function(M){return v.apply(this,arguments)}}()))}),uo.apply(this,arguments)}function S(m){if(!/^0x[a-fA-F0-9]{40}$/.test(m))throw new Error(`@supabase/auth-js: Address "${m}" is invalid.`);return m.toLowerCase()}function Q(m){const a=(new TextEncoder).encode(m);return"0x"+Array.from(a,l=>l.toString(16).padStart(2,"0")).join("")}class Te extends Error{constructor({message:a,code:o,cause:l,name:v}){var M;super(a,{cause:l}),this.__isWebAuthnError=!0,this.name=null!==(M=v??(l instanceof Error?l.name:void 0))&&void 0!==M?M:"Unknown Error",this.code=o}}class _t extends Te{constructor(a,o){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o,message:a}),this.name="WebAuthnUnknownError",this.originalError=o}}function wn({error:m,options:a}){var o,l,v;const{publicKey:M}=a;if(!M)throw Error("options was missing required publicKey property");if("AbortError"===m.name){if(a.signal instanceof AbortSignal)return new Te({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:m})}else if("ConstraintError"===m.name){if(!0===(null===(o=M.authenticatorSelection)||void 0===o?void 0:o.requireResidentKey))return new Te({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:m});if("conditional"===a.mediation&&"required"===(null===(l=M.authenticatorSelection)||void 0===l?void 0:l.userVerification))return new Te({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:m});if("required"===(null===(v=M.authenticatorSelection)||void 0===v?void 0:v.userVerification))return new Te({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:m})}else{if("InvalidStateError"===m.name)return new Te({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:m});if("NotAllowedError"===m.name)return new Te({message:m.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:m});if("NotSupportedError"===m.name)return 0===M.pubKeyCredParams.filter(R=>"public-key"===R.type).length?new Te({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:m}):new Te({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:m});if("SecurityError"===m.name){const x=window.location.hostname;if(!$s(x))return new Te({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:m});if(M.rp.id!==x)return new Te({message:`The RP ID "${M.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:m})}else if("TypeError"===m.name){if(M.user.id.byteLength<1||M.user.id.byteLength>64)return new Te({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:m})}else if("UnknownError"===m.name)return new Te({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:m})}return new Te({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:m})}function sn({error:m,options:a}){const{publicKey:o}=a;if(!o)throw Error("options was missing required publicKey property");if("AbortError"===m.name){if(a.signal instanceof AbortSignal)return new Te({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:m})}else{if("NotAllowedError"===m.name)return new Te({message:m.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:m});if("SecurityError"===m.name){const l=window.location.hostname;if(!$s(l))return new Te({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:m});if(o.rpId!==l)return new Te({message:`The RP ID "${o.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:m})}else if("UnknownError"===m.name)return new Te({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:m})}return new Te({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:m})}const nr=new class Qt{createNewAbortSignal(){if(this.controller){const o=new Error("Cancelling existing WebAuthn API call for new one");o.name="AbortError",this.controller.abort(o)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}};function Rn(m){if(!m)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(m);const{challenge:a,user:o,excludeCredentials:l}=m,v=(0,G.__rest)(m,["challenge","user","excludeCredentials"]),M=Ir(a).buffer,x=Object.assign(Object.assign({},o),{id:Ir(o.id).buffer}),R=Object.assign(Object.assign({},v),{challenge:M,user:x});if(l&&l.length>0){R.excludeCredentials=new Array(l.length);for(let B=0;B<l.length;B++){const W=l[B];R.excludeCredentials[B]=Object.assign(Object.assign({},W),{id:Ir(W.id).buffer,type:W.type||"public-key",transports:W.transports})}}return R}function fr(m){if(!m)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(m);const{challenge:a,allowCredentials:o}=m,l=(0,G.__rest)(m,["challenge","allowCredentials"]),v=Ir(a).buffer,M=Object.assign(Object.assign({},l),{challenge:v});if(o&&o.length>0){M.allowCredentials=new Array(o.length);for(let x=0;x<o.length;x++){const R=o[x];M.allowCredentials[x]=Object.assign(Object.assign({},R),{id:Ir(R.id).buffer,type:R.type||"public-key",transports:R.transports})}}return M}function ss(m){var a;if("toJSON"in m&&"function"==typeof m.toJSON)return m.toJSON();const o=m;return{id:m.id,rawId:m.id,response:{attestationObject:Yr(new Uint8Array(m.response.attestationObject)),clientDataJSON:Yr(new Uint8Array(m.response.clientDataJSON))},type:"public-key",clientExtensionResults:m.getClientExtensionResults(),authenticatorAttachment:null!==(a=o.authenticatorAttachment)&&void 0!==a?a:void 0}}function is(m){var a;if("toJSON"in m&&"function"==typeof m.toJSON)return m.toJSON();const o=m,l=m.getClientExtensionResults(),v=m.response;return{id:m.id,rawId:m.id,response:{authenticatorData:Yr(new Uint8Array(v.authenticatorData)),clientDataJSON:Yr(new Uint8Array(v.clientDataJSON)),signature:Yr(new Uint8Array(v.signature)),userHandle:v.userHandle?Yr(new Uint8Array(v.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:null!==(a=o.authenticatorAttachment)&&void 0!==a?a:void 0}}function $s(m){return"localhost"===m||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(m)}function os(){var m,a;return!!(Fn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"==typeof(null===(m=navigator?.credentials)||void 0===m?void 0:m.create)&&"function"==typeof(null===(a=navigator?.credentials)||void 0===a?void 0:a.get))}function as(){return(as=(0,u.A)(function*(m){try{const a=yield navigator.credentials.create(m);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new _t("Browser returned unexpected credential type",a)}:{data:null,error:new _t("Empty credential response",a)}}catch(a){return{data:null,error:wn({error:a,options:m})}}})).apply(this,arguments)}function Fi(){return(Fi=(0,u.A)(function*(m){try{const a=yield navigator.credentials.get(m);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new _t("Browser returned unexpected credential type",a)}:{data:null,error:new _t("Empty credential response",a)}}catch(a){return{data:null,error:sn({error:a,options:m})}}})).apply(this,arguments)}const Ao={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},yo={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ti(...m){const a=v=>null!==v&&"object"==typeof v&&!Array.isArray(v),o=v=>v instanceof ArrayBuffer||ArrayBuffer.isView(v),l={};for(const v of m)if(v)for(const M in v){const x=v[M];if(void 0!==x)if(Array.isArray(x))l[M]=x;else if(o(x))l[M]=x;else if(a(x)){const R=l[M];l[M]=a(R)?ti(R,x):ti(x)}else l[M]=x}return l}class h{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(a){var o=this;return(0,u.A)(function*(){return o.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))})()}_challenge(a,o){var l=this;return(0,u.A)(function*({factorId:v,webauthn:M,friendlyName:x,signal:R},B){try{const{data:W,error:Z}=yield l.client.mfa.challenge({factorId:v,webauthn:M});if(!W)return{data:null,error:Z};const Ce=R??nr.createNewAbortSignal();if("create"===W.webauthn.type){const{user:ke}=W.webauthn.credential_options.publicKey;ke.name||(ke.name=`${ke.id}:${x}`),ke.displayName||(ke.displayName=ke.name)}switch(W.webauthn.type){case"create":{const ke=function vo(m,a){return ti(Ao,m,a||{})}(W.webauthn.credential_options.publicKey,B?.create),{data:Be,error:Ne}=yield function Zs(m){return as.apply(this,arguments)}({publicKey:ke,signal:Ce});return Be?{data:{factorId:v,challengeId:W.id,webauthn:{type:W.webauthn.type,credential_response:Be}},error:null}:{data:null,error:Ne}}case"request":{const ke=function A(m,a){return ti(yo,m,a||{})}(W.webauthn.credential_options.publicKey,B?.request),{data:Be,error:Ne}=yield function ei(m){return Fi.apply(this,arguments)}(Object.assign(Object.assign({},W.webauthn.credential_options),{publicKey:ke,signal:Ce}));return Be?{data:{factorId:v,challengeId:W.id,webauthn:{type:W.webauthn.type,credential_response:Be}},error:null}:{data:null,error:Ne}}}}catch(W){return ut(W)?{data:null,error:W}:{data:null,error:new Hr("Unexpected error in challenge",W)}}}).apply(this,arguments)}_verify(a){var o=this;return(0,u.A)(function*({challengeId:l,factorId:v,webauthn:M}){return o.client.mfa.verify({factorId:v,challengeId:l,webauthn:M})}).apply(this,arguments)}_authenticate(a,o){var l=this;return(0,u.A)(function*({factorId:v,webauthn:{rpId:M=(typeof window<"u"?window.location.hostname:void 0),rpOrigins:x=(typeof window<"u"?[window.location.origin]:void 0),signal:R}={}},B){if(!M)return{data:null,error:new Gn("rpId is required for WebAuthn authentication")};try{if(!os())return{data:null,error:new Hr("Browser does not support WebAuthn",null)};const{data:W,error:Z}=yield l.challenge({factorId:v,webauthn:{rpId:M,rpOrigins:x},signal:R},{request:B});if(!W)return{data:null,error:Z};const{webauthn:Ce}=W;return l._verify({factorId:v,challengeId:W.challengeId,webauthn:{type:Ce.type,rpId:M,rpOrigins:x,credential_response:Ce.credential_response}})}catch(W){return ut(W)?{data:null,error:W}:{data:null,error:new Hr("Unexpected error in authenticate",W)}}}).apply(this,arguments)}_register(a,o){var l=this;return(0,u.A)(function*({friendlyName:v,webauthn:{rpId:M=(typeof window<"u"?window.location.hostname:void 0),rpOrigins:x=(typeof window<"u"?[window.location.origin]:void 0),signal:R}={}},B){if(!M)return{data:null,error:new Gn("rpId is required for WebAuthn registration")};try{if(!os())return{data:null,error:new Hr("Browser does not support WebAuthn",null)};const{data:W,error:Z}=yield l._enroll({friendlyName:v});if(!W)return yield l.client.mfa.listFactors().then(Be=>{var Ne;return null===(Ne=Be.data)||void 0===Ne?void 0:Ne.all.find(et=>"webauthn"===et.factor_type&&et.friendly_name===v&&"unverified"!==et.status)}).then(Be=>Be?l.client.mfa.unenroll({factorId:Be?.id}):void 0),{data:null,error:Z};const{data:Ce,error:ke}=yield l._challenge({factorId:W.id,friendlyName:W.friendly_name,webauthn:{rpId:M,rpOrigins:x},signal:R},{create:B});return Ce?l._verify({factorId:W.id,challengeId:Ce.challengeId,webauthn:{rpId:M,rpOrigins:x,type:Ce.webauthn.type,credential_response:Ce.webauthn.credential_response}}):{data:null,error:ke}}catch(W){return ut(W)?{data:null,error:W}:{data:null,error:new Hr("Unexpected error in register",W)}}}).apply(this,arguments)}}!function L(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}();const c={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:{"X-Client-Info":"gotrue-js/2.86.0"},flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};function w(m,a,o){return I.apply(this,arguments)}function I(){return(I=(0,u.A)(function*(m,a,o){return yield o()})).apply(this,arguments)}const j={},ht=(()=>{class m{get jwks(){var o,l;return null!==(l=null===(o=j[this.storageKey])||void 0===o?void 0:o.jwks)&&void 0!==l?l:{keys:[]}}set jwks(o){j[this.storageKey]=Object.assign(Object.assign({},j[this.storageKey]),{jwks:o})}get jwks_cached_at(){var o,l;return null!==(l=null===(o=j[this.storageKey])||void 0===o?void 0:o.cachedAt)&&void 0!==l?l:Number.MIN_SAFE_INTEGER}set jwks_cached_at(o){j[this.storageKey]=Object.assign(Object.assign({},j[this.storageKey]),{cachedAt:o})}constructor(o){var v,M,x,l=this;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const R=Object.assign(Object.assign({},c),o);if(this.storageKey=R.storageKey,this.instanceID=null!==(v=m.nextInstanceID[this.storageKey])&&void 0!==v?v:0,m.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!R.debug,"function"==typeof R.debug&&(this.logger=R.debug),this.instanceID>0&&Fn()){const B=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(B),this.logDebugMessages&&console.trace(B)}if(this.persistSession=R.persistSession,this.autoRefreshToken=R.autoRefreshToken,this.admin=new hi({url:R.url,headers:R.headers,fetch:R.fetch}),this.url=R.url,this.headers=R.headers,this.fetch=Ps(R.fetch),this.lock=R.lock||w,this.detectSessionInUrl=R.detectSessionInUrl,this.flowType=R.flowType,this.hasCustomAuthorizationHeader=R.hasCustomAuthorizationHeader,this.throwOnError=R.throwOnError,this.lock=R.lock?R.lock:Fn()&&null!==(M=globalThis?.navigator)&&void 0!==M&&M.locks?lo:w,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new h(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(R.storage?this.storage=R.storage:Or()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Us(this.memoryStorage)),R.userStorage&&(this.userStorage=R.userStorage)):(this.memoryStorage={},this.storage=Us(this.memoryStorage)),Fn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(B){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",B)}null===(x=this.broadcastChannel)||void 0===x||x.addEventListener("message",function(){var B=(0,u.A)(function*(W){l._debug("received broadcast notification from other tab or client",W),yield l._notifyAllSubscribers(W.data.event,W.data.session,!1)});return function(W){return B.apply(this,arguments)}}())}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(o){if(this.throwOnError&&o&&o.error)throw o.error;return o}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (2.86.0) ${(new Date).toISOString()}`}_debug(...o){return this.logDebugMessages&&this.logger(this._logPrefix(),...o),this}initialize(){var o=this;return(0,u.A)(function*(){return o.initializePromise||(o.initializePromise=(0,u.A)(function*(){return yield o._acquireLock(-1,(0,u.A)(function*(){return yield o._initialize()}))})()),yield o.initializePromise})()}_initialize(){var o=this;return(0,u.A)(function*(){var l;try{let v={},M="none";if(Fn()&&(v=function Gr(m){const a={},o=new URL(m);if(o.hash&&"#"===o.hash[0])try{new URLSearchParams(o.hash.substring(1)).forEach((v,M)=>{a[M]=v})}catch{}return o.searchParams.forEach((l,v)=>{a[v]=l}),a}(window.location.href),o._isImplicitGrantCallback(v)?M="implicit":(yield o._isPKCECallback(v))&&(M="pkce")),Fn()&&o.detectSessionInUrl&&"none"!==M){const{data:x,error:R}=yield o._getSessionFromURL(v,M);if(R){if(o._debug("#_initialize()","error detecting session from URL",R),function ai(m){return ut(m)&&"AuthImplicitGrantRedirectError"===m.name}(R)){const Z=null===(l=R.details)||void 0===l?void 0:l.code;if("identity_already_exists"===Z||"identity_not_found"===Z||"single_identity_not_deletable"===Z)return{error:R}}return yield o._removeSession(),{error:R}}const{session:B,redirectType:W}=x;return o._debug("#_initialize()","detected session in URL",B,"redirect type",W),yield o._saveSession(B),setTimeout((0,u.A)(function*(){"recovery"===W?yield o._notifyAllSubscribers("PASSWORD_RECOVERY",B):yield o._notifyAllSubscribers("SIGNED_IN",B)}),0),{error:null}}return yield o._recoverAndRefresh(),{error:null}}catch(v){return ut(v)?o._returnResult({error:v}):o._returnResult({error:new Hr("Unexpected error during initialization",v)})}finally{yield o._handleVisibilityChange(),o._debug("#_initialize()","end")}})()}signInAnonymously(o){var l=this;return(0,u.A)(function*(){var v,M,x;try{const R=yield Lt(l.fetch,"POST",`${l.url}/signup`,{headers:l.headers,body:{data:null!==(M=null===(v=o?.options)||void 0===v?void 0:v.data)&&void 0!==M?M:{},gotrue_meta_security:{captcha_token:null===(x=o?.options)||void 0===x?void 0:x.captchaToken}},xform:_s}),{data:B,error:W}=R;if(W||!B)return l._returnResult({data:{user:null,session:null},error:W});const Z=B.session,Ce=B.user;return B.session&&(yield l._saveSession(B.session),yield l._notifyAllSubscribers("SIGNED_IN",Z)),l._returnResult({data:{user:Ce,session:Z},error:null})}catch(R){if(ut(R))return l._returnResult({data:{user:null,session:null},error:R});throw R}})()}signUp(o){var l=this;return(0,u.A)(function*(){var v,M,x;try{let R;if("email"in o){const{email:ke,password:Be,options:Ne}=o;let et=null,Re=null;"pkce"===l.flowType&&([et,Re]=yield $(l.storage,l.storageKey)),R=yield Lt(l.fetch,"POST",`${l.url}/signup`,{headers:l.headers,redirectTo:Ne?.emailRedirectTo,body:{email:ke,password:Be,data:null!==(v=Ne?.data)&&void 0!==v?v:{},gotrue_meta_security:{captcha_token:Ne?.captchaToken},code_challenge:et,code_challenge_method:Re},xform:_s})}else{if(!("phone"in o))throw new yn("You must provide either an email or phone number and a password");{const{phone:ke,password:Be,options:Ne}=o;R=yield Lt(l.fetch,"POST",`${l.url}/signup`,{headers:l.headers,body:{phone:ke,password:Be,data:null!==(M=Ne?.data)&&void 0!==M?M:{},channel:null!==(x=Ne?.channel)&&void 0!==x?x:"sms",gotrue_meta_security:{captcha_token:Ne?.captchaToken}},xform:_s})}}const{data:B,error:W}=R;if(W||!B)return l._returnResult({data:{user:null,session:null},error:W});const Z=B.session,Ce=B.user;return B.session&&(yield l._saveSession(B.session),yield l._notifyAllSubscribers("SIGNED_IN",Z)),l._returnResult({data:{user:Ce,session:Z},error:null})}catch(R){if(ut(R))return l._returnResult({data:{user:null,session:null},error:R});throw R}})()}signInWithPassword(o){var l=this;return(0,u.A)(function*(){try{let v;if("email"in o){const{email:R,password:B,options:W}=o;v=yield Lt(l.fetch,"POST",`${l.url}/token?grant_type=password`,{headers:l.headers,body:{email:R,password:B,gotrue_meta_security:{captcha_token:W?.captchaToken}},xform:Yn})}else{if(!("phone"in o))throw new yn("You must provide either an email or phone number and a password");{const{phone:R,password:B,options:W}=o;v=yield Lt(l.fetch,"POST",`${l.url}/token?grant_type=password`,{headers:l.headers,body:{phone:R,password:B,gotrue_meta_security:{captcha_token:W?.captchaToken}},xform:Yn})}}const{data:M,error:x}=v;if(x)return l._returnResult({data:{user:null,session:null},error:x});if(!M||!M.session||!M.user){const R=new It;return l._returnResult({data:{user:null,session:null},error:R})}return M.session&&(yield l._saveSession(M.session),yield l._notifyAllSubscribers("SIGNED_IN",M.session)),l._returnResult({data:Object.assign({user:M.user,session:M.session},M.weak_password?{weakPassword:M.weak_password}:null),error:x})}catch(v){if(ut(v))return l._returnResult({data:{user:null,session:null},error:v});throw v}})()}signInWithOAuth(o){var l=this;return(0,u.A)(function*(){var v,M,x,R;return yield l._handleProviderSignIn(o.provider,{redirectTo:null===(v=o.options)||void 0===v?void 0:v.redirectTo,scopes:null===(M=o.options)||void 0===M?void 0:M.scopes,queryParams:null===(x=o.options)||void 0===x?void 0:x.queryParams,skipBrowserRedirect:null===(R=o.options)||void 0===R?void 0:R.skipBrowserRedirect})})()}exchangeCodeForSession(o){var l=this;return(0,u.A)(function*(){return yield l.initializePromise,l._acquireLock(-1,(0,u.A)(function*(){return l._exchangeCodeForSession(o)}))})()}signInWithWeb3(o){var l=this;return(0,u.A)(function*(){const{chain:v}=o;switch(v){case"ethereum":return yield l.signInWithEthereum(o);case"solana":return yield l.signInWithSolana(o);default:throw new Error(`@supabase/auth-js: Unsupported chain "${v}"`)}})()}signInWithEthereum(o){var l=this;return(0,u.A)(function*(){var v,M,x,R,B,W,Z,Ce,ke,Be,Ne;let et,Re;if("message"in o)et=o.message,Re=o.signature;else{const{wallet:Ye,statement:bt,options:ae}=o;let qe;if(Fn())if("object"==typeof Ye)qe=Ye;else{const _n=window;if(!("ethereum"in _n)||"object"!=typeof _n.ethereum||!("request"in _n.ethereum)||"function"!=typeof _n.ethereum.request)throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");qe=_n.ethereum}else{if("object"!=typeof Ye||!ae?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");qe=Ye}const hn=new URL(null!==(v=ae?.url)&&void 0!==v?v:window.location.href),Mr=yield qe.request({method:"eth_requestAccounts"}).then(_n=>_n).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Mr||0===Mr.length)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Ct=S(Mr[0]);let pr=null===(M=ae?.signInWithEthereum)||void 0===M?void 0:M.chainId;pr||(pr=function N(m){return parseInt(m,16)}(yield qe.request({method:"eth_chainId"}))),et=function we(m){var a;const{chainId:o,domain:l,expirationTime:v,issuedAt:M=new Date,nonce:x,notBefore:R,requestId:B,resources:W,scheme:Z,uri:Ce,version:ke}=m;if(!Number.isInteger(o))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${o}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(x&&x.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${x}`);if(!Ce)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==ke)throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${ke}`);if(null!==(a=m.statement)&&void 0!==a&&a.includes("\n"))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${m.statement}`);const Re=`${Z?`${Z}://${l}`:l} wants you to sign in with your Ethereum account:\n${S(m.address)}\n\n${m.statement?`${m.statement}\n`:""}`;let Fe=`URI: ${Ce}\nVersion: ${ke}\nChain ID: ${o}${x?`\nNonce: ${x}`:""}\nIssued At: ${M.toISOString()}`;if(v&&(Fe+=`\nExpiration Time: ${v.toISOString()}`),R&&(Fe+=`\nNot Before: ${R.toISOString()}`),B&&(Fe+=`\nRequest ID: ${B}`),W){let Ye="\nResources:";for(const bt of W){if(!bt||"string"!=typeof bt)throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${bt}`);Ye+=`\n- ${bt}`}Fe+=Ye}return`${Re}\n${Fe}`}({domain:hn.host,address:Ct,statement:bt,uri:hn.href,version:"1",chainId:pr,nonce:null===(x=ae?.signInWithEthereum)||void 0===x?void 0:x.nonce,issuedAt:null!==(B=null===(R=ae?.signInWithEthereum)||void 0===R?void 0:R.issuedAt)&&void 0!==B?B:new Date,expirationTime:null===(W=ae?.signInWithEthereum)||void 0===W?void 0:W.expirationTime,notBefore:null===(Z=ae?.signInWithEthereum)||void 0===Z?void 0:Z.notBefore,requestId:null===(Ce=ae?.signInWithEthereum)||void 0===Ce?void 0:Ce.requestId,resources:null===(ke=ae?.signInWithEthereum)||void 0===ke?void 0:ke.resources}),Re=yield qe.request({method:"personal_sign",params:[Q(et),Ct]})}try{const{data:Fe,error:Ye}=yield Lt(l.fetch,"POST",`${l.url}/token?grant_type=web3`,{headers:l.headers,body:Object.assign({chain:"ethereum",message:et,signature:Re},null!==(Be=o.options)&&void 0!==Be&&Be.captchaToken?{gotrue_meta_security:{captcha_token:null===(Ne=o.options)||void 0===Ne?void 0:Ne.captchaToken}}:null),xform:_s});if(Ye)throw Ye;if(!Fe||!Fe.session||!Fe.user){const bt=new It;return l._returnResult({data:{user:null,session:null},error:bt})}return Fe.session&&(yield l._saveSession(Fe.session),yield l._notifyAllSubscribers("SIGNED_IN",Fe.session)),l._returnResult({data:Object.assign({},Fe),error:Ye})}catch(Fe){if(ut(Fe))return l._returnResult({data:{user:null,session:null},error:Fe});throw Fe}})()}signInWithSolana(o){var l=this;return(0,u.A)(function*(){var v,M,x,R,B,W,Z,Ce,ke,Be,Ne,et;let Re,Fe;if("message"in o)Re=o.message,Fe=o.signature;else{const{wallet:bt,statement:ae,options:qe}=o;let hn;if(Fn())if("object"==typeof bt)hn=bt;else{const Ct=window;if(!("solana"in Ct)||"object"!=typeof Ct.solana||!("signIn"in Ct.solana&&"function"==typeof Ct.solana.signIn||"signMessage"in Ct.solana&&"function"==typeof Ct.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");hn=Ct.solana}else{if("object"!=typeof bt||!qe?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");hn=bt}const Mr=new URL(null!==(v=qe?.url)&&void 0!==v?v:window.location.href);if("signIn"in hn&&hn.signIn){const Ct=yield hn.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},qe?.signInWithSolana),{version:"1",domain:Mr.host,uri:Mr.href}),ae?{statement:ae}:null));let pr;if(Array.isArray(Ct)&&Ct[0]&&"object"==typeof Ct[0])pr=Ct[0];else{if(!(Ct&&"object"==typeof Ct&&"signedMessage"in Ct&&"signature"in Ct))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");pr=Ct}if(!("signedMessage"in pr&&"signature"in pr&&("string"==typeof pr.signedMessage||pr.signedMessage instanceof Uint8Array)&&pr.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");Re="string"==typeof pr.signedMessage?pr.signedMessage:(new TextDecoder).decode(pr.signedMessage),Fe=pr.signature}else{if(!("signMessage"in hn&&"function"==typeof hn.signMessage&&"publicKey"in hn&&"object"==typeof hn&&hn.publicKey&&"toBase58"in hn.publicKey&&"function"==typeof hn.publicKey.toBase58))throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");Re=[`${Mr.host} wants you to sign in with your Solana account:`,hn.publicKey.toBase58(),...ae?["",ae,""]:[""],"Version: 1",`URI: ${Mr.href}`,`Issued At: ${null!==(x=null===(M=qe?.signInWithSolana)||void 0===M?void 0:M.issuedAt)&&void 0!==x?x:(new Date).toISOString()}`,...null!==(R=qe?.signInWithSolana)&&void 0!==R&&R.notBefore?[`Not Before: ${qe.signInWithSolana.notBefore}`]:[],...null!==(B=qe?.signInWithSolana)&&void 0!==B&&B.expirationTime?[`Expiration Time: ${qe.signInWithSolana.expirationTime}`]:[],...null!==(W=qe?.signInWithSolana)&&void 0!==W&&W.chainId?[`Chain ID: ${qe.signInWithSolana.chainId}`]:[],...null!==(Z=qe?.signInWithSolana)&&void 0!==Z&&Z.nonce?[`Nonce: ${qe.signInWithSolana.nonce}`]:[],...null!==(Ce=qe?.signInWithSolana)&&void 0!==Ce&&Ce.requestId?[`Request ID: ${qe.signInWithSolana.requestId}`]:[],...null!==(Be=null===(ke=qe?.signInWithSolana)||void 0===ke?void 0:ke.resources)&&void 0!==Be&&Be.length?["Resources",...qe.signInWithSolana.resources.map(pr=>`- ${pr}`)]:[]].join("\n");const Ct=yield hn.signMessage((new TextEncoder).encode(Re),"utf8");if(!(Ct&&Ct instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");Fe=Ct}}try{const{data:Ye,error:bt}=yield Lt(l.fetch,"POST",`${l.url}/token?grant_type=web3`,{headers:l.headers,body:Object.assign({chain:"solana",message:Re,signature:Yr(Fe)},null!==(Ne=o.options)&&void 0!==Ne&&Ne.captchaToken?{gotrue_meta_security:{captcha_token:null===(et=o.options)||void 0===et?void 0:et.captchaToken}}:null),xform:_s});if(bt)throw bt;if(!Ye||!Ye.session||!Ye.user){const ae=new It;return l._returnResult({data:{user:null,session:null},error:ae})}return Ye.session&&(yield l._saveSession(Ye.session),yield l._notifyAllSubscribers("SIGNED_IN",Ye.session)),l._returnResult({data:Object.assign({},Ye),error:bt})}catch(Ye){if(ut(Ye))return l._returnResult({data:{user:null,session:null},error:Ye});throw Ye}})()}_exchangeCodeForSession(o){var l=this;return(0,u.A)(function*(){const v=yield ms(l.storage,`${l.storageKey}-code-verifier`),[M,x]=(v??"").split("/");try{const{data:R,error:B}=yield Lt(l.fetch,"POST",`${l.url}/token?grant_type=pkce`,{headers:l.headers,body:{auth_code:o,code_verifier:M},xform:_s});if(yield $n(l.storage,`${l.storageKey}-code-verifier`),B)throw B;if(!R||!R.session||!R.user){const W=new It;return l._returnResult({data:{user:null,session:null,redirectType:null},error:W})}return R.session&&(yield l._saveSession(R.session),yield l._notifyAllSubscribers("SIGNED_IN",R.session)),l._returnResult({data:Object.assign(Object.assign({},R),{redirectType:x??null}),error:B})}catch(R){if(ut(R))return l._returnResult({data:{user:null,session:null,redirectType:null},error:R});throw R}})()}signInWithIdToken(o){var l=this;return(0,u.A)(function*(){try{const{options:v,provider:M,token:x,access_token:R,nonce:B}=o,W=yield Lt(l.fetch,"POST",`${l.url}/token?grant_type=id_token`,{headers:l.headers,body:{provider:M,id_token:x,access_token:R,nonce:B,gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:_s}),{data:Z,error:Ce}=W;if(Ce)return l._returnResult({data:{user:null,session:null},error:Ce});if(!Z||!Z.session||!Z.user){const ke=new It;return l._returnResult({data:{user:null,session:null},error:ke})}return Z.session&&(yield l._saveSession(Z.session),yield l._notifyAllSubscribers("SIGNED_IN",Z.session)),l._returnResult({data:Z,error:Ce})}catch(v){if(ut(v))return l._returnResult({data:{user:null,session:null},error:v});throw v}})()}signInWithOtp(o){var l=this;return(0,u.A)(function*(){var v,M,x,R,B;try{if("email"in o){const{email:W,options:Z}=o;let Ce=null,ke=null;"pkce"===l.flowType&&([Ce,ke]=yield $(l.storage,l.storageKey));const{error:Be}=yield Lt(l.fetch,"POST",`${l.url}/otp`,{headers:l.headers,body:{email:W,data:null!==(v=Z?.data)&&void 0!==v?v:{},create_user:null===(M=Z?.shouldCreateUser)||void 0===M||M,gotrue_meta_security:{captcha_token:Z?.captchaToken},code_challenge:Ce,code_challenge_method:ke},redirectTo:Z?.emailRedirectTo});return l._returnResult({data:{user:null,session:null},error:Be})}if("phone"in o){const{phone:W,options:Z}=o,{data:Ce,error:ke}=yield Lt(l.fetch,"POST",`${l.url}/otp`,{headers:l.headers,body:{phone:W,data:null!==(x=Z?.data)&&void 0!==x?x:{},create_user:null===(R=Z?.shouldCreateUser)||void 0===R||R,gotrue_meta_security:{captcha_token:Z?.captchaToken},channel:null!==(B=Z?.channel)&&void 0!==B?B:"sms"}});return l._returnResult({data:{user:null,session:null,messageId:Ce?.message_id},error:ke})}throw new yn("You must provide either an email or phone number.")}catch(W){if(ut(W))return l._returnResult({data:{user:null,session:null},error:W});throw W}})()}verifyOtp(o){var l=this;return(0,u.A)(function*(){var v,M;try{let x,R;"options"in o&&(x=null===(v=o.options)||void 0===v?void 0:v.redirectTo,R=null===(M=o.options)||void 0===M?void 0:M.captchaToken);const{data:B,error:W}=yield Lt(l.fetch,"POST",`${l.url}/verify`,{headers:l.headers,body:Object.assign(Object.assign({},o),{gotrue_meta_security:{captcha_token:R}}),redirectTo:x,xform:_s});if(W)throw W;if(!B)throw new Error("An error occurred on token verification.");const Z=B.session,Ce=B.user;return Z?.access_token&&(yield l._saveSession(Z),yield l._notifyAllSubscribers("recovery"==o.type?"PASSWORD_RECOVERY":"SIGNED_IN",Z)),l._returnResult({data:{user:Ce,session:Z},error:null})}catch(x){if(ut(x))return l._returnResult({data:{user:null,session:null},error:x});throw x}})()}signInWithSSO(o){var l=this;return(0,u.A)(function*(){var v,M,x,R,B;try{let W=null,Z=null;"pkce"===l.flowType&&([W,Z]=yield $(l.storage,l.storageKey));const Ce=yield Lt(l.fetch,"POST",`${l.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in o?{provider_id:o.providerId}:null),"domain"in o?{domain:o.domain}:null),{redirect_to:null!==(M=null===(v=o.options)||void 0===v?void 0:v.redirectTo)&&void 0!==M?M:void 0}),null!==(x=o?.options)&&void 0!==x&&x.captchaToken?{gotrue_meta_security:{captcha_token:o.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:W,code_challenge_method:Z}),headers:l.headers,xform:rs});return!(null===(R=Ce.data)||void 0===R)&&R.url&&Fn()&&!(null!==(B=o.options)&&void 0!==B&&B.skipBrowserRedirect)&&window.location.assign(Ce.data.url),l._returnResult(Ce)}catch(W){if(ut(W))return l._returnResult({data:null,error:W});throw W}})()}reauthenticate(){var o=this;return(0,u.A)(function*(){return yield o.initializePromise,yield o._acquireLock(-1,(0,u.A)(function*(){return yield o._reauthenticate()}))})()}_reauthenticate(){var o=this;return(0,u.A)(function*(){try{return yield o._useSession(function(){var l=(0,u.A)(function*(v){const{data:{session:M},error:x}=v;if(x)throw x;if(!M)throw new rn;const{error:R}=yield Lt(o.fetch,"GET",`${o.url}/reauthenticate`,{headers:o.headers,jwt:M.access_token});return o._returnResult({data:{user:null,session:null},error:R})});return function(v){return l.apply(this,arguments)}}())}catch(l){if(ut(l))return o._returnResult({data:{user:null,session:null},error:l});throw l}})()}resend(o){var l=this;return(0,u.A)(function*(){try{const v=`${l.url}/resend`;if("email"in o){const{email:M,type:x,options:R}=o,{error:B}=yield Lt(l.fetch,"POST",v,{headers:l.headers,body:{email:M,type:x,gotrue_meta_security:{captcha_token:R?.captchaToken}},redirectTo:R?.emailRedirectTo});return l._returnResult({data:{user:null,session:null},error:B})}if("phone"in o){const{phone:M,type:x,options:R}=o,{data:B,error:W}=yield Lt(l.fetch,"POST",v,{headers:l.headers,body:{phone:M,type:x,gotrue_meta_security:{captcha_token:R?.captchaToken}}});return l._returnResult({data:{user:null,session:null,messageId:B?.message_id},error:W})}throw new yn("You must provide either an email or phone number and a type")}catch(v){if(ut(v))return l._returnResult({data:{user:null,session:null},error:v});throw v}})()}getSession(){var o=this;return(0,u.A)(function*(){return yield o.initializePromise,yield o._acquireLock(-1,(0,u.A)(function*(){return o._useSession(function(){var v=(0,u.A)(function*(M){return M});return function(M){return v.apply(this,arguments)}}())}))})()}_acquireLock(o,l){var v=this;return(0,u.A)(function*(){v._debug("#_acquireLock","begin",o);try{if(v.lockAcquired){const M=v.pendingInLock.length?v.pendingInLock[v.pendingInLock.length-1]:Promise.resolve(),x=(0,u.A)(function*(){return yield M,yield l()})();return v.pendingInLock.push((0,u.A)(function*(){try{yield x}catch{}})()),x}return yield v.lock(`lock:${v.storageKey}`,o,(0,u.A)(function*(){v._debug("#_acquireLock","lock acquired for storage key",v.storageKey);try{v.lockAcquired=!0;const M=l();for(v.pendingInLock.push((0,u.A)(function*(){try{yield M}catch{}})()),yield M;v.pendingInLock.length;){const x=[...v.pendingInLock];yield Promise.all(x),v.pendingInLock.splice(0,x.length)}return yield M}finally{v._debug("#_acquireLock","lock released for storage key",v.storageKey),v.lockAcquired=!1}}))}finally{v._debug("#_acquireLock","end")}})()}_useSession(o){var l=this;return(0,u.A)(function*(){l._debug("#_useSession","begin");try{const v=yield l.__loadSession();return yield o(v)}finally{l._debug("#_useSession","end")}})()}__loadSession(){var o=this;return(0,u.A)(function*(){o._debug("#__loadSession()","begin"),o.lockAcquired||o._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let l=null;const v=yield ms(o.storage,o.storageKey);if(o._debug("#getSession()","session from storage",v),null!==v&&(o._isValidSession(v)?l=v:(o._debug("#getSession()","session from storage is not valid"),yield o._removeSession())),!l)return{data:{session:null},error:null};const M=!!l.expires_at&&1e3*l.expires_at-Date.now()<9e4;if(o._debug("#__loadSession()",`session has${M?"":" not"} expired`,"expires_at",l.expires_at),!M){if(o.userStorage){const B=yield ms(o.userStorage,o.storageKey+"-user");l.user=B?.user?B.user:ui()}if(o.storage.isServer&&l.user&&!l.user.__isUserNotAvailableProxy){const B={value:o.suppressGetSessionWarning};l.user=function Lr(m,a){return new Proxy(m,{get:(o,l,v)=>{if("__isInsecureUserWarningProxy"===l)return!0;if("symbol"==typeof l){const M=l.toString();if("Symbol(Symbol.toPrimitive)"===M||"Symbol(Symbol.toStringTag)"===M||"Symbol(util.inspect.custom)"===M||"Symbol(nodejs.util.inspect.custom)"===M)return Reflect.get(o,l,v)}return!a.value&&"string"==typeof l&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(o,l,v)}})}(l.user,B),B.value&&(o.suppressGetSessionWarning=!0)}return{data:{session:l},error:null}}const{data:x,error:R}=yield o._callRefreshToken(l.refresh_token);return o._returnResult(R?{data:{session:null},error:R}:{data:{session:x},error:null})}finally{o._debug("#__loadSession()","end")}})()}getUser(o){var l=this;return(0,u.A)(function*(){return o?yield l._getUser(o):(yield l.initializePromise,yield l._acquireLock(-1,(0,u.A)(function*(){return yield l._getUser()})))})()}_getUser(o){var l=this;return(0,u.A)(function*(){try{return o?yield Lt(l.fetch,"GET",`${l.url}/user`,{headers:l.headers,jwt:o,xform:ns}):yield l._useSession(function(){var v=(0,u.A)(function*(M){var x,R,B;const{data:W,error:Z}=M;if(Z)throw Z;return null!==(x=W.session)&&void 0!==x&&x.access_token||l.hasCustomAuthorizationHeader?yield Lt(l.fetch,"GET",`${l.url}/user`,{headers:l.headers,jwt:null!==(B=null===(R=W.session)||void 0===R?void 0:R.access_token)&&void 0!==B?B:void 0,xform:ns}):{data:{user:null},error:new rn}});return function(M){return v.apply(this,arguments)}}())}catch(v){if(ut(v))return function it(m){return ut(m)&&"AuthSessionMissingError"===m.name}(v)&&(yield l._removeSession(),yield $n(l.storage,`${l.storageKey}-code-verifier`)),l._returnResult({data:{user:null},error:v});throw v}})()}updateUser(o){var l=this;return(0,u.A)(function*(v,M={}){return yield l.initializePromise,yield l._acquireLock(-1,(0,u.A)(function*(){return yield l._updateUser(v,M)}))}).apply(this,arguments)}_updateUser(o){var l=this;return(0,u.A)(function*(v,M={}){try{return yield l._useSession(function(){var x=(0,u.A)(function*(R){const{data:B,error:W}=R;if(W)throw W;if(!B.session)throw new rn;const Z=B.session;let Ce=null,ke=null;"pkce"===l.flowType&&null!=v.email&&([Ce,ke]=yield $(l.storage,l.storageKey));const{data:Be,error:Ne}=yield Lt(l.fetch,"PUT",`${l.url}/user`,{headers:l.headers,redirectTo:M?.emailRedirectTo,body:Object.assign(Object.assign({},v),{code_challenge:Ce,code_challenge_method:ke}),jwt:Z.access_token,xform:ns});if(Ne)throw Ne;return Z.user=Be.user,yield l._saveSession(Z),yield l._notifyAllSubscribers("USER_UPDATED",Z),l._returnResult({data:{user:Z.user},error:null})});return function(R){return x.apply(this,arguments)}}())}catch(x){if(ut(x))return l._returnResult({data:{user:null},error:x});throw x}}).apply(this,arguments)}setSession(o){var l=this;return(0,u.A)(function*(){return yield l.initializePromise,yield l._acquireLock(-1,(0,u.A)(function*(){return yield l._setSession(o)}))})()}_setSession(o){var l=this;return(0,u.A)(function*(){try{if(!o.access_token||!o.refresh_token)throw new rn;const v=Date.now()/1e3;let M=v,x=!0,R=null;const{payload:B}=Rs(o.access_token);if(B.exp&&(M=B.exp,x=M<=v),x){const{data:W,error:Z}=yield l._callRefreshToken(o.refresh_token);if(Z)return l._returnResult({data:{user:null,session:null},error:Z});if(!W)return{data:{user:null,session:null},error:null};R=W}else{const{data:W,error:Z}=yield l._getUser(o.access_token);if(Z)throw Z;R={access_token:o.access_token,refresh_token:o.refresh_token,user:W.user,token_type:"bearer",expires_in:M-v,expires_at:M},yield l._saveSession(R),yield l._notifyAllSubscribers("SIGNED_IN",R)}return l._returnResult({data:{user:R.user,session:R},error:null})}catch(v){if(ut(v))return l._returnResult({data:{session:null,user:null},error:v});throw v}})()}refreshSession(o){var l=this;return(0,u.A)(function*(){return yield l.initializePromise,yield l._acquireLock(-1,(0,u.A)(function*(){return yield l._refreshSession(o)}))})()}_refreshSession(o){var l=this;return(0,u.A)(function*(){try{return yield l._useSession(function(){var v=(0,u.A)(function*(M){var x;if(!o){const{data:W,error:Z}=M;if(Z)throw Z;o=null!==(x=W.session)&&void 0!==x?x:void 0}if(!o?.refresh_token)throw new rn;const{data:R,error:B}=yield l._callRefreshToken(o.refresh_token);return l._returnResult(B?{data:{user:null,session:null},error:B}:R?{data:{user:R.user,session:R},error:null}:{data:{user:null,session:null},error:null})});return function(M){return v.apply(this,arguments)}}())}catch(v){if(ut(v))return l._returnResult({data:{user:null,session:null},error:v});throw v}})()}_getSessionFromURL(o,l){var v=this;return(0,u.A)(function*(){try{if(!Fn())throw new dr("No browser detected.");if(o.error||o.error_description||o.error_code)throw new dr(o.error_description||"Error in URL with unspecified error_description",{error:o.error||"unspecified_error",code:o.error_code||"unspecified_code"});switch(l){case"implicit":if("pkce"===v.flowType)throw new Wn("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===v.flowType)throw new dr("Not a valid implicit grant flow url.")}if("pkce"===l){if(v._debug("#_initialize()","begin","is PKCE flow",!0),!o.code)throw new Wn("No code detected.");const{data:ae,error:qe}=yield v._exchangeCodeForSession(o.code);if(qe)throw qe;const hn=new URL(window.location.href);return hn.searchParams.delete("code"),window.history.replaceState(window.history.state,"",hn.toString()),{data:{session:ae.session,redirectType:null},error:null}}const{provider_token:M,provider_refresh_token:x,access_token:R,refresh_token:B,expires_in:W,expires_at:Z,token_type:Ce}=o;if(!(R&&W&&B&&Ce))throw new dr("No session defined in URL");const ke=Math.round(Date.now()/1e3),Be=parseInt(W);let Ne=ke+Be;Z&&(Ne=parseInt(Z));const et=Ne-ke;1e3*et<=Ss&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${et}s, should have been closer to ${Be}s`);const Re=Ne-Be;ke-Re>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",Re,Ne,ke):ke-Re<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",Re,Ne,ke);const{data:Fe,error:Ye}=yield v._getUser(R);if(Ye)throw Ye;const bt={provider_token:M,provider_refresh_token:x,access_token:R,expires_in:Be,expires_at:Ne,refresh_token:B,token_type:Ce,user:Fe.user};return window.location.hash="",v._debug("#_getSessionFromURL()","clearing window.location.hash"),v._returnResult({data:{session:bt,redirectType:o.type},error:null})}catch(M){if(ut(M))return v._returnResult({data:{session:null,redirectType:null},error:M});throw M}})()}_isImplicitGrantCallback(o){return!(!o.access_token&&!o.error_description)}_isPKCECallback(o){var l=this;return(0,u.A)(function*(){const v=yield ms(l.storage,`${l.storageKey}-code-verifier`);return!(!o.code||!v)})()}signOut(){var o=this;return(0,u.A)(function*(l={scope:"global"}){return yield o.initializePromise,yield o._acquireLock(-1,(0,u.A)(function*(){return yield o._signOut(l)}))}).apply(this,arguments)}_signOut(){var o=this;return(0,u.A)(function*({scope:l}={scope:"global"}){return yield o._useSession(function(){var v=(0,u.A)(function*(M){var x;const{data:R,error:B}=M;if(B)return o._returnResult({error:B});const W=null===(x=R.session)||void 0===x?void 0:x.access_token;if(W){const{error:Z}=yield o.admin.signOut(W,l);if(Z&&(!function Is(m){return ut(m)&&"AuthApiError"===m.name}(Z)||404!==Z.status&&401!==Z.status&&403!==Z.status))return o._returnResult({error:Z})}return"others"!==l&&(yield o._removeSession(),yield $n(o.storage,`${o.storageKey}-code-verifier`)),o._returnResult({error:null})});return function(M){return v.apply(this,arguments)}}())}).apply(this,arguments)}onAuthStateChange(o){var l=this;const v=function Bi(){return Symbol("auth-callback")}(),M={id:v,callback:o,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",v),this.stateChangeEmitters.delete(v)}};return this._debug("#onAuthStateChange()","registered callback with id",v),this.stateChangeEmitters.set(v,M),(0,u.A)(function*(){yield l.initializePromise,yield l._acquireLock(-1,(0,u.A)(function*(){l._emitInitialSession(v)}))})(),{data:{subscription:M}}}_emitInitialSession(o){var l=this;return(0,u.A)(function*(){return yield l._useSession(function(){var v=(0,u.A)(function*(M){var x,R;try{const{data:{session:B},error:W}=M;if(W)throw W;yield null===(x=l.stateChangeEmitters.get(o))||void 0===x?void 0:x.callback("INITIAL_SESSION",B),l._debug("INITIAL_SESSION","callback id",o,"session",B)}catch(B){yield null===(R=l.stateChangeEmitters.get(o))||void 0===R?void 0:R.callback("INITIAL_SESSION",null),l._debug("INITIAL_SESSION","callback id",o,"error",B),console.error(B)}});return function(M){return v.apply(this,arguments)}}())})()}resetPasswordForEmail(o){var l=this;return(0,u.A)(function*(v,M={}){let x=null,R=null;"pkce"===l.flowType&&([x,R]=yield $(l.storage,l.storageKey,!0));try{return yield Lt(l.fetch,"POST",`${l.url}/recover`,{body:{email:v,code_challenge:x,code_challenge_method:R,gotrue_meta_security:{captcha_token:M.captchaToken}},headers:l.headers,redirectTo:M.redirectTo})}catch(B){if(ut(B))return l._returnResult({data:null,error:B});throw B}}).apply(this,arguments)}getUserIdentities(){var o=this;return(0,u.A)(function*(){var l;try{const{data:v,error:M}=yield o.getUser();if(M)throw M;return o._returnResult({data:{identities:null!==(l=v.user.identities)&&void 0!==l?l:[]},error:null})}catch(v){if(ut(v))return o._returnResult({data:null,error:v});throw v}})()}linkIdentity(o){var l=this;return(0,u.A)(function*(){return"token"in o?l.linkIdentityIdToken(o):l.linkIdentityOAuth(o)})()}linkIdentityOAuth(o){var l=this;return(0,u.A)(function*(){var v;try{const{data:M,error:x}=yield l._useSession(function(){var R=(0,u.A)(function*(B){var W,Z,Ce,ke,Be;const{data:Ne,error:et}=B;if(et)throw et;const Re=yield l._getUrlForProvider(`${l.url}/user/identities/authorize`,o.provider,{redirectTo:null===(W=o.options)||void 0===W?void 0:W.redirectTo,scopes:null===(Z=o.options)||void 0===Z?void 0:Z.scopes,queryParams:null===(Ce=o.options)||void 0===Ce?void 0:Ce.queryParams,skipBrowserRedirect:!0});return yield Lt(l.fetch,"GET",Re,{headers:l.headers,jwt:null!==(Be=null===(ke=Ne.session)||void 0===ke?void 0:ke.access_token)&&void 0!==Be?Be:void 0})});return function(B){return R.apply(this,arguments)}}());if(x)throw x;return Fn()&&!(null!==(v=o.options)&&void 0!==v&&v.skipBrowserRedirect)&&window.location.assign(M?.url),l._returnResult({data:{provider:o.provider,url:M?.url},error:null})}catch(M){if(ut(M))return l._returnResult({data:{provider:o.provider,url:null},error:M});throw M}})()}linkIdentityIdToken(o){var l=this;return(0,u.A)(function*(){return yield l._useSession(function(){var v=(0,u.A)(function*(M){var x;try{const{error:R,data:{session:B}}=M;if(R)throw R;const{options:W,provider:Z,token:Ce,access_token:ke,nonce:Be}=o,Ne=yield Lt(l.fetch,"POST",`${l.url}/token?grant_type=id_token`,{headers:l.headers,jwt:null!==(x=B?.access_token)&&void 0!==x?x:void 0,body:{provider:Z,id_token:Ce,access_token:ke,nonce:Be,link_identity:!0,gotrue_meta_security:{captcha_token:W?.captchaToken}},xform:_s}),{data:et,error:Re}=Ne;return Re?l._returnResult({data:{user:null,session:null},error:Re}):et&&et.session&&et.user?(et.session&&(yield l._saveSession(et.session),yield l._notifyAllSubscribers("USER_UPDATED",et.session)),l._returnResult({data:et,error:Re})):l._returnResult({data:{user:null,session:null},error:new It})}catch(R){if(ut(R))return l._returnResult({data:{user:null,session:null},error:R});throw R}});return function(M){return v.apply(this,arguments)}}())})()}unlinkIdentity(o){var l=this;return(0,u.A)(function*(){try{return yield l._useSession(function(){var v=(0,u.A)(function*(M){var x,R;const{data:B,error:W}=M;if(W)throw W;return yield Lt(l.fetch,"DELETE",`${l.url}/user/identities/${o.identity_id}`,{headers:l.headers,jwt:null!==(R=null===(x=B.session)||void 0===x?void 0:x.access_token)&&void 0!==R?R:void 0})});return function(M){return v.apply(this,arguments)}}())}catch(v){if(ut(v))return l._returnResult({data:null,error:v});throw v}})()}_refreshAccessToken(o){var l=this;return(0,u.A)(function*(){const v=`#_refreshAccessToken(${o.substring(0,5)}...)`;l._debug(v,"begin");try{const M=Date.now();return yield function Wr(m,a){return new Promise((l,v)=>{(0,u.A)(function*(){for(let M=0;M<1/0;M++)try{const x=yield m(M);if(!a(M,null,x))return void l(x)}catch(x){if(!a(M,x))return void v(x)}})()})}(function(){var x=(0,u.A)(function*(R){return R>0&&(yield function Ur(m){return Zr.apply(this,arguments)}(200*Math.pow(2,R-1))),l._debug(v,"refreshing attempt",R),yield Lt(l.fetch,"POST",`${l.url}/token?grant_type=refresh_token`,{body:{refresh_token:o},headers:l.headers,xform:_s})});return function(R){return x.apply(this,arguments)}}(),(x,R)=>{const B=200*Math.pow(2,x);return R&&kn(R)&&Date.now()+B-M<Ss})}catch(M){if(l._debug(v,"error",M),ut(M))return l._returnResult({data:{session:null,user:null},error:M});throw M}finally{l._debug(v,"end")}})()}_isValidSession(o){return"object"==typeof o&&null!==o&&"access_token"in o&&"refresh_token"in o&&"expires_at"in o}_handleProviderSignIn(o,l){var v=this;return(0,u.A)(function*(){const M=yield v._getUrlForProvider(`${v.url}/authorize`,o,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});return v._debug("#_handleProviderSignIn()","provider",o,"options",l,"url",M),Fn()&&!l.skipBrowserRedirect&&window.location.assign(M),{data:{provider:o,url:M},error:null}})()}_recoverAndRefresh(){var o=this;return(0,u.A)(function*(){var l,v;const M="#_recoverAndRefresh()";o._debug(M,"begin");try{const x=yield ms(o.storage,o.storageKey);if(x&&o.userStorage){let B=yield ms(o.userStorage,o.storageKey+"-user");!o.storage.isServer&&Object.is(o.storage,o.userStorage)&&!B&&(B={user:x.user},yield Un(o.userStorage,o.storageKey+"-user",B)),x.user=null!==(l=B?.user)&&void 0!==l?l:ui()}else if(x&&!x.user&&!x.user){const B=yield ms(o.storage,o.storageKey+"-user");B&&B?.user?(x.user=B.user,yield $n(o.storage,o.storageKey+"-user"),yield Un(o.storage,o.storageKey,x)):x.user=ui()}if(o._debug(M,"session from storage",x),!o._isValidSession(x))return o._debug(M,"session is not valid"),void(null!==x&&(yield o._removeSession()));const R=1e3*(null!==(v=x.expires_at)&&void 0!==v?v:1/0)-Date.now()<9e4;if(o._debug(M,`session has${R?"":" not"} expired with margin of 90000s`),R){if(o.autoRefreshToken&&x.refresh_token){const{error:B}=yield o._callRefreshToken(x.refresh_token);B&&(console.error(B),kn(B)||(o._debug(M,"refresh failed with a non-retryable error, removing the session",B),yield o._removeSession()))}}else if(x.user&&!0===x.user.__isUserNotAvailableProxy)try{const{data:B,error:W}=yield o._getUser(x.access_token);!W&&B?.user?(x.user=B.user,yield o._saveSession(x),yield o._notifyAllSubscribers("SIGNED_IN",x)):o._debug(M,"could not get user data, skipping SIGNED_IN notification")}catch(B){console.error("Error getting user data:",B),o._debug(M,"error getting user data, skipping SIGNED_IN notification",B)}else yield o._notifyAllSubscribers("SIGNED_IN",x)}catch(x){return o._debug(M,"error",x),void console.error(x)}finally{o._debug(M,"end")}})()}_callRefreshToken(o){var l=this;return(0,u.A)(function*(){var v,M;if(!o)throw new rn;if(l.refreshingDeferred)return l.refreshingDeferred.promise;const x=`#_callRefreshToken(${o.substring(0,5)}...)`;l._debug(x,"begin");try{l.refreshingDeferred=new hr;const{data:R,error:B}=yield l._refreshAccessToken(o);if(B)throw B;if(!R.session)throw new rn;yield l._saveSession(R.session),yield l._notifyAllSubscribers("TOKEN_REFRESHED",R.session);const W={data:R.session,error:null};return l.refreshingDeferred.resolve(W),W}catch(R){if(l._debug(x,"error",R),ut(R)){const B={data:null,error:R};return kn(R)||(yield l._removeSession()),null===(v=l.refreshingDeferred)||void 0===v||v.resolve(B),B}throw null===(M=l.refreshingDeferred)||void 0===M||M.reject(R),R}finally{l.refreshingDeferred=null,l._debug(x,"end")}})()}_notifyAllSubscribers(o,l){var v=this;return(0,u.A)(function*(M,x,R=!0){const B=`#_notifyAllSubscribers(${M})`;v._debug(B,"begin",x,`broadcast = ${R}`);try{v.broadcastChannel&&R&&v.broadcastChannel.postMessage({event:M,session:x});const W=[],Z=Array.from(v.stateChangeEmitters.values()).map(function(){var Ce=(0,u.A)(function*(ke){try{yield ke.callback(M,x)}catch(Be){W.push(Be)}});return function(ke){return Ce.apply(this,arguments)}}());if(yield Promise.all(Z),W.length>0){for(let Ce=0;Ce<W.length;Ce+=1)console.error(W[Ce]);throw W[0]}}finally{v._debug(B,"end")}}).apply(this,arguments)}_saveSession(o){var l=this;return(0,u.A)(function*(){l._debug("#_saveSession()",o),l.suppressGetSessionWarning=!0;const v=Object.assign({},o);if(l.userStorage){(!v.user||!0!==v.user.__isUserNotAvailableProxy)&&v.user&&(yield Un(l.userStorage,l.storageKey+"-user",{user:v.user}));const x=Object.assign({},v);delete x.user;const R=Ci(x);yield Un(l.storage,l.storageKey,R)}else{const x=Ci(v);yield Un(l.storage,l.storageKey,x)}})()}_removeSession(){var o=this;return(0,u.A)(function*(){o._debug("#_removeSession()"),yield $n(o.storage,o.storageKey),yield $n(o.storage,o.storageKey+"-code-verifier"),yield $n(o.storage,o.storageKey+"-user"),o.userStorage&&(yield $n(o.userStorage,o.storageKey+"-user")),yield o._notifyAllSubscribers("SIGNED_OUT",null)})()}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const o=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{o&&Fn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",o)}catch(l){console.error("removing visibilitychange callback failed",l)}}_startAutoRefresh(){var o=this;return(0,u.A)(function*(){yield o._stopAutoRefresh(),o._debug("#_startAutoRefresh()");const l=setInterval(()=>o._autoRefreshTokenTick(),Ss);o.autoRefreshTicker=l,l&&"object"==typeof l&&"function"==typeof l.unref?l.unref():typeof Deno<"u"&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(l),setTimeout((0,u.A)(function*(){yield o.initializePromise,yield o._autoRefreshTokenTick()}),0)})()}_stopAutoRefresh(){var o=this;return(0,u.A)(function*(){o._debug("#_stopAutoRefresh()");const l=o.autoRefreshTicker;o.autoRefreshTicker=null,l&&clearInterval(l)})()}startAutoRefresh(){var o=this;return(0,u.A)(function*(){o._removeVisibilityChangedCallback(),yield o._startAutoRefresh()})()}stopAutoRefresh(){var o=this;return(0,u.A)(function*(){o._removeVisibilityChangedCallback(),yield o._stopAutoRefresh()})()}_autoRefreshTokenTick(){var o=this;return(0,u.A)(function*(){o._debug("#_autoRefreshTokenTick()","begin");try{yield o._acquireLock(0,(0,u.A)(function*(){try{const l=Date.now();try{return yield o._useSession(function(){var v=(0,u.A)(function*(M){const{data:{session:x}}=M;if(!x||!x.refresh_token||!x.expires_at)return void o._debug("#_autoRefreshTokenTick()","no session");const R=Math.floor((1e3*x.expires_at-l)/Ss);o._debug("#_autoRefreshTokenTick()",`access token expires in ${R} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),R<=3&&(yield o._callRefreshToken(x.refresh_token))});return function(M){return v.apply(this,arguments)}}())}catch(v){console.error("Auto refresh tick failed with error. This is likely a transient error.",v)}}finally{o._debug("#_autoRefreshTokenTick()","end")}}))}catch(l){if(!(l.isAcquireTimeout||l instanceof Si))throw l;o._debug("auto refresh token tick lock not available")}})()}_handleVisibilityChange(){var o=this;return(0,u.A)(function*(){if(o._debug("#_handleVisibilityChange()"),!Fn()||!window?.addEventListener)return o.autoRefreshToken&&o.startAutoRefresh(),!1;try{o.visibilityChangedCallback=(0,u.A)(function*(){return yield o._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",o.visibilityChangedCallback),yield o._onVisibilityChanged(!0)}catch(l){console.error("_handleVisibilityChange",l)}})()}_onVisibilityChanged(o){var l=this;return(0,u.A)(function*(){const v=`#_onVisibilityChanged(${o})`;l._debug(v,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(l.autoRefreshToken&&l._startAutoRefresh(),o||(yield l.initializePromise,yield l._acquireLock(-1,(0,u.A)(function*(){"visible"===document.visibilityState?yield l._recoverAndRefresh():l._debug(v,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&l.autoRefreshToken&&l._stopAutoRefresh()})()}_getUrlForProvider(o,l,v){var M=this;return(0,u.A)(function*(){const x=[`provider=${encodeURIComponent(l)}`];if(v?.redirectTo&&x.push(`redirect_to=${encodeURIComponent(v.redirectTo)}`),v?.scopes&&x.push(`scopes=${encodeURIComponent(v.scopes)}`),"pkce"===M.flowType){const[R,B]=yield $(M.storage,M.storageKey),W=new URLSearchParams({code_challenge:`${encodeURIComponent(R)}`,code_challenge_method:`${encodeURIComponent(B)}`});x.push(W.toString())}if(v?.queryParams){const R=new URLSearchParams(v.queryParams);x.push(R.toString())}return v?.skipBrowserRedirect&&x.push(`skip_http_redirect=${v.skipBrowserRedirect}`),`${o}?${x.join("&")}`})()}_unenroll(o){var l=this;return(0,u.A)(function*(){try{return yield l._useSession(function(){var v=(0,u.A)(function*(M){var x;const{data:R,error:B}=M;return B?l._returnResult({data:null,error:B}):yield Lt(l.fetch,"DELETE",`${l.url}/factors/${o.factorId}`,{headers:l.headers,jwt:null===(x=R?.session)||void 0===x?void 0:x.access_token})});return function(M){return v.apply(this,arguments)}}())}catch(v){if(ut(v))return l._returnResult({data:null,error:v});throw v}})()}_enroll(o){var l=this;return(0,u.A)(function*(){try{return yield l._useSession(function(){var v=(0,u.A)(function*(M){var x,R;const{data:B,error:W}=M;if(W)return l._returnResult({data:null,error:W});const Z=Object.assign({friendly_name:o.friendlyName,factor_type:o.factorType},"phone"===o.factorType?{phone:o.phone}:"totp"===o.factorType?{issuer:o.issuer}:{}),{data:Ce,error:ke}=yield Lt(l.fetch,"POST",`${l.url}/factors`,{body:Z,headers:l.headers,jwt:null===(x=B?.session)||void 0===x?void 0:x.access_token});return ke?l._returnResult({data:null,error:ke}):("totp"===o.factorType&&"totp"===Ce.type&&!(null===(R=Ce?.totp)||void 0===R)&&R.qr_code&&(Ce.totp.qr_code=`data:image/svg+xml;utf-8,${Ce.totp.qr_code}`),l._returnResult({data:Ce,error:null}))});return function(M){return v.apply(this,arguments)}}())}catch(v){if(ut(v))return l._returnResult({data:null,error:v});throw v}})()}_verify(o){var l=this;return(0,u.A)(function*(){return l._acquireLock(-1,(0,u.A)(function*(){try{return yield l._useSession(function(){var v=(0,u.A)(function*(M){var x;const{data:R,error:B}=M;if(B)return l._returnResult({data:null,error:B});const W=Object.assign({challenge_id:o.challengeId},"webauthn"in o?{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_response:"create"===o.webauthn.type?ss(o.webauthn.credential_response):is(o.webauthn.credential_response)})}:{code:o.code}),{data:Z,error:Ce}=yield Lt(l.fetch,"POST",`${l.url}/factors/${o.factorId}/verify`,{body:W,headers:l.headers,jwt:null===(x=R?.session)||void 0===x?void 0:x.access_token});return Ce?l._returnResult({data:null,error:Ce}):(yield l._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+Z.expires_in},Z)),yield l._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",Z),l._returnResult({data:Z,error:Ce}))});return function(M){return v.apply(this,arguments)}}())}catch(v){if(ut(v))return l._returnResult({data:null,error:v});throw v}}))})()}_challenge(o){var l=this;return(0,u.A)(function*(){return l._acquireLock(-1,(0,u.A)(function*(){try{return yield l._useSession(function(){var v=(0,u.A)(function*(M){var x;const{data:R,error:B}=M;if(B)return l._returnResult({data:null,error:B});const W=yield Lt(l.fetch,"POST",`${l.url}/factors/${o.factorId}/challenge`,{body:o,headers:l.headers,jwt:null===(x=R?.session)||void 0===x?void 0:x.access_token});if(W.error)return W;const{data:Z}=W;if("webauthn"!==Z.type)return{data:Z,error:null};switch(Z.webauthn.type){case"create":return{data:Object.assign(Object.assign({},Z),{webauthn:Object.assign(Object.assign({},Z.webauthn),{credential_options:Object.assign(Object.assign({},Z.webauthn.credential_options),{publicKey:Rn(Z.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},Z),{webauthn:Object.assign(Object.assign({},Z.webauthn),{credential_options:Object.assign(Object.assign({},Z.webauthn.credential_options),{publicKey:fr(Z.webauthn.credential_options.publicKey)})})}),error:null}}});return function(M){return v.apply(this,arguments)}}())}catch(v){if(ut(v))return l._returnResult({data:null,error:v});throw v}}))})()}_challengeAndVerify(o){var l=this;return(0,u.A)(function*(){const{data:v,error:M}=yield l._challenge({factorId:o.factorId});return M?l._returnResult({data:null,error:M}):yield l._verify({factorId:o.factorId,challengeId:v.id,code:o.code})})()}_listFactors(){var o=this;return(0,u.A)(function*(){var l;const{data:{user:v},error:M}=yield o.getUser();if(M)return{data:null,error:M};const x={all:[],phone:[],totp:[],webauthn:[]};for(const R of null!==(l=v?.factors)&&void 0!==l?l:[])x.all.push(R),"verified"===R.status&&x[R.factor_type].push(R);return{data:x,error:null}})()}_getAuthenticatorAssuranceLevel(){var o=this;return(0,u.A)(function*(){var l,v;const{data:{session:M},error:x}=yield o.getSession();if(x)return o._returnResult({data:null,error:x});if(!M)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:R}=Rs(M.access_token);let B=null;R.aal&&(B=R.aal);let W=B;return(null!==(v=null===(l=M.user.factors)||void 0===l?void 0:l.filter(ke=>"verified"===ke.status))&&void 0!==v?v:[]).length>0&&(W="aal2"),{data:{currentLevel:B,nextLevel:W,currentAuthenticationMethods:R.amr||[]},error:null}})()}_getAuthorizationDetails(o){var l=this;return(0,u.A)(function*(){try{return yield l._useSession(function(){var v=(0,u.A)(function*(M){const{data:{session:x},error:R}=M;return R?l._returnResult({data:null,error:R}):x?yield Lt(l.fetch,"GET",`${l.url}/oauth/authorizations/${o}`,{headers:l.headers,jwt:x.access_token,xform:B=>({data:B,error:null})}):l._returnResult({data:null,error:new rn})});return function(M){return v.apply(this,arguments)}}())}catch(v){if(ut(v))return l._returnResult({data:null,error:v});throw v}})()}_approveAuthorization(o,l){var v=this;return(0,u.A)(function*(){try{return yield v._useSession(function(){var M=(0,u.A)(function*(x){const{data:{session:R},error:B}=x;if(B)return v._returnResult({data:null,error:B});if(!R)return v._returnResult({data:null,error:new rn});const W=yield Lt(v.fetch,"POST",`${v.url}/oauth/authorizations/${o}/consent`,{headers:v.headers,jwt:R.access_token,body:{action:"approve"},xform:Z=>({data:Z,error:null})});return W.data&&W.data.redirect_url&&Fn()&&!l?.skipBrowserRedirect&&window.location.assign(W.data.redirect_url),W});return function(x){return M.apply(this,arguments)}}())}catch(M){if(ut(M))return v._returnResult({data:null,error:M});throw M}})()}_denyAuthorization(o,l){var v=this;return(0,u.A)(function*(){try{return yield v._useSession(function(){var M=(0,u.A)(function*(x){const{data:{session:R},error:B}=x;if(B)return v._returnResult({data:null,error:B});if(!R)return v._returnResult({data:null,error:new rn});const W=yield Lt(v.fetch,"POST",`${v.url}/oauth/authorizations/${o}/consent`,{headers:v.headers,jwt:R.access_token,body:{action:"deny"},xform:Z=>({data:Z,error:null})});return W.data&&W.data.redirect_url&&Fn()&&!l?.skipBrowserRedirect&&window.location.assign(W.data.redirect_url),W});return function(x){return M.apply(this,arguments)}}())}catch(M){if(ut(M))return v._returnResult({data:null,error:M});throw M}})()}_listOAuthGrants(){var o=this;return(0,u.A)(function*(){try{return yield o._useSession(function(){var l=(0,u.A)(function*(v){const{data:{session:M},error:x}=v;return x?o._returnResult({data:null,error:x}):M?yield Lt(o.fetch,"GET",`${o.url}/user/oauth/grants`,{headers:o.headers,jwt:M.access_token,xform:R=>({data:R,error:null})}):o._returnResult({data:null,error:new rn})});return function(v){return l.apply(this,arguments)}}())}catch(l){if(ut(l))return o._returnResult({data:null,error:l});throw l}})()}_revokeOAuthGrant(o){var l=this;return(0,u.A)(function*(){try{return yield l._useSession(function(){var v=(0,u.A)(function*(M){const{data:{session:x},error:R}=M;return R?l._returnResult({data:null,error:R}):x?(yield Lt(l.fetch,"DELETE",`${l.url}/user/oauth/grants`,{headers:l.headers,jwt:x.access_token,query:{client_id:o.clientId},noResolveJson:!0}),{data:{},error:null}):l._returnResult({data:null,error:new rn})});return function(M){return v.apply(this,arguments)}}())}catch(v){if(ut(v))return l._returnResult({data:null,error:v});throw v}})()}fetchJwk(o){var l=this;return(0,u.A)(function*(v,M={keys:[]}){let x=M.keys.find(Z=>Z.kid===v);if(x)return x;const R=Date.now();if(x=l.jwks.keys.find(Z=>Z.kid===v),x&&l.jwks_cached_at+6e5>R)return x;const{data:B,error:W}=yield Lt(l.fetch,"GET",`${l.url}/.well-known/jwks.json`,{headers:l.headers});if(W)throw W;return B.keys&&0!==B.keys.length&&(l.jwks=B,l.jwks_cached_at=R,x=B.keys.find(Z=>Z.kid===v),x)?x:null}).apply(this,arguments)}getClaims(o){var l=this;return(0,u.A)(function*(v,M={}){try{let x=v;if(!x){const{data:Re,error:Fe}=yield l.getSession();if(Fe||!Re.session)return l._returnResult({data:null,error:Fe});x=Re.session.access_token}const{header:R,payload:B,signature:W,raw:{header:Z,payload:Ce}}=Rs(x);M?.allowExpired||function $r(m){if(!m)throw new Error("Missing exp claim");if(m<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(B.exp);const ke=R.alg&&!R.alg.startsWith("HS")&&R.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?yield l.fetchJwk(R.kid,M?.keys?{keys:M.keys}:M?.jwks):null;if(!ke){const{error:Re}=yield l.getUser(x);if(Re)throw Re;return{data:{claims:B,header:R,signature:W},error:null}}const Be=function vs(m){switch(m){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(R.alg),Ne=yield crypto.subtle.importKey("jwk",ke,Be,!0,["verify"]);if(!(yield crypto.subtle.verify(Be,Ne,W,function Vs(m){const a=[];return function Ys(m,a){for(let o=0;o<m.length;o+=1){let l=m.charCodeAt(o);if(l>55295&&l<=56319){const v=1024*(l-55296)&65535;l=65536+(m.charCodeAt(o+1)-56320&65535|v),o+=1}gs(l,a)}}(m,o=>a.push(o)),new Uint8Array(a)}(`${Z}.${Ce}`))))throw new kt("Invalid JWT signature");return{data:{claims:B,header:R,signature:W},error:null}}catch(x){if(ut(x))return l._returnResult({data:null,error:x});throw x}}).apply(this,arguments)}}return m.nextInstanceID={},m})();class $t extends ht{constructor(a){super(a)}}class Jt{constructor(a,o,l){var v,M,x;this.supabaseUrl=a,this.supabaseKey=o;const R=function xi(m){const a=m?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(function Qs(m){return m.endsWith("/")?m:m+"/"}(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}(a);if(!o)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",R),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",R),this.storageUrl=new URL("storage/v1",R),this.functionsUrl=new URL("functions/v1",R);const B=`sb-${R.hostname.split(".")[0]}-auth-token`,Z=function $i(m,a){var o,l;const{db:v,auth:M,realtime:x,global:R}=m,{db:B,auth:W,realtime:Z,global:Ce}=a,ke={db:Object.assign(Object.assign({},B),v),auth:Object.assign(Object.assign({},W),M),realtime:Object.assign(Object.assign({},Z),x),storage:{},global:Object.assign(Object.assign(Object.assign({},Ce),R),{headers:Object.assign(Object.assign({},null!==(o=Ce?.headers)&&void 0!==o?o:{}),null!==(l=R?.headers)&&void 0!==l?l:{})}),accessToken:(Be=(0,u.A)(function*(){return""}),function(){return Be.apply(this,arguments)})};var Be;return m.accessToken?ke.accessToken=m.accessToken:delete ke.accessToken,ke}(l??{},{db:zn,realtime:ii,auth:Object.assign(Object.assign({},vi),{storageKey:B}),global:Oi});this.storageKey=null!==(v=Z.auth.storageKey)&&void 0!==v?v:"",this.headers=null!==(M=Z.global.headers)&&void 0!==M?M:{},Z.accessToken?(this.accessToken=Z.accessToken,this.auth=new Proxy({},{get:(Ce,ke)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(ke)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(x=Z.auth)&&void 0!==x?x:{},this.headers,Z.global.fetch),this.fetch=Ri(o,this._getAccessToken.bind(this),Z.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},Z.realtime)),this.accessToken&&this.accessToken().then(Ce=>this.realtime.setAuth(Ce)).catch(Ce=>console.warn("Failed to set initial Realtime auth token:",Ce)),this.rest=new De(new URL("rest/v1",R).href,{headers:this.headers,schema:Z.db.schema,fetch:this.fetch}),this.storage=new ks(this.storageUrl.href,this.headers,this.fetch,l?.storage),Z.accessToken||this._listenForAuthEvents()}get functions(){return new fe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,o={},l={head:!1,get:!1,count:void 0}){return this.rest.rpc(a,o,l)}channel(a,o={config:{}}){return this.realtime.channel(a,o)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var a=this;return(0,u.A)(function*(){var o,l;if(a.accessToken)return yield a.accessToken();const{data:v}=yield a.auth.getSession();return null!==(l=null===(o=v.session)||void 0===o?void 0:o.access_token)&&void 0!==l?l:a.supabaseKey})()}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:o,detectSessionInUrl:l,storage:v,userStorage:M,storageKey:x,flowType:R,lock:B,debug:W,throwOnError:Z},Ce,ke){return new $t({url:this.authUrl.href,headers:Object.assign(Object.assign({},{Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`}),Ce),storageKey:x,autoRefreshToken:a,persistSession:o,detectSessionInUrl:l,storage:v,userStorage:M,flowType:R,lock:B,debug:W,throwOnError:Z,fetch:ke,hasCustomAuthorizationHeader:Object.keys(this.headers).some(Ne=>"authorization"===Ne.toLowerCase())})}_initRealtimeClient(a){return new Kt(this.realtimeUrl.href,Object.assign(Object.assign({},a),{params:Object.assign({apikey:this.supabaseKey},a?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((o,l)=>{this._handleTokenChanged(o,"CLIENT",l?.access_token)})}_handleTokenChanged(a,o,l){"TOKEN_REFRESHED"!==a&&"SIGNED_IN"!==a||this.changedAccessToken===l?"SIGNED_OUT"===a&&(this.realtime.setAuth(),"STORAGE"==o&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=l,this.realtime.setAuth(l))}}const Rt=(m,a,o)=>new Jt(m,a,o);(function Bt(){if(typeof window<"u"||typeof process>"u")return!1;const m=process.version;if(null==m)return!1;const a=m.match(/^v(\d+)\./);return!!a&&parseInt(a[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")},4412:(at,pe,F)=>{"use strict";F.d(pe,{t:()=>G});var u=F(1413);class G extends u.B{constructor(ge){super(),this._value=ge}get value(){return this.getValue()}_subscribe(ge){const re=super._subscribe(ge);return!re.closed&&ge.next(this._value),re}getValue(){const{hasError:ge,thrownError:re,_value:H}=this;if(ge)throw re;return this._throwIfClosed(),H}next(ge){super.next(this._value=ge)}}},1985:(at,pe,F)=>{"use strict";F.d(pe,{c:()=>de});var u=F(7707),G=F(8359),E=F(3494),ge=F(1203),re=F(1026),H=F(8071),X=F(9786);let de=(()=>{class De{constructor(Ve){Ve&&(this._subscribe=Ve)}lift(Ve){const He=new De;return He.source=this,He.operator=Ve,He}subscribe(Ve,He,Ut){const ct=function oe(De){return De&&De instanceof u.vU||function me(De){return De&&(0,H.T)(De.next)&&(0,H.T)(De.error)&&(0,H.T)(De.complete)}(De)&&(0,G.Uv)(De)}(Ve)?Ve:new u.Ms(Ve,He,Ut);return(0,X.Y)(()=>{const{operator:At,source:ot}=this;ct.add(At?At.call(ct,ot):ot?this._subscribe(ct):this._trySubscribe(ct))}),ct}_trySubscribe(Ve){try{return this._subscribe(Ve)}catch(He){Ve.error(He)}}forEach(Ve,He){return new(He=fe(He))((Ut,ct)=>{const At=new u.Ms({next:ot=>{try{Ve(ot)}catch(zt){ct(zt),At.unsubscribe()}},error:ct,complete:Ut});this.subscribe(At)})}_subscribe(Ve){var He;return null===(He=this.source)||void 0===He?void 0:He.subscribe(Ve)}[E.s](){return this}pipe(...Ve){return(0,ge.m)(Ve)(this)}toPromise(Ve){return new(Ve=fe(Ve))((He,Ut)=>{let ct;this.subscribe(At=>ct=At,At=>Ut(At),()=>He(ct))})}}return De.create=Je=>new De(Je),De})();function fe(De){var Je;return null!==(Je=De??re.$.Promise)&&void 0!==Je?Je:Promise}},1413:(at,pe,F)=>{"use strict";F.d(pe,{B:()=>X});var u=F(1985),G=F(8359);const ge=(0,F(1853).L)(fe=>function(){fe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=F(7908),H=F(9786);let X=(()=>{class fe extends u.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(oe){const De=new de(this,this);return De.operator=oe,De}_throwIfClosed(){if(this.closed)throw new ge}next(oe){(0,H.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const De of this.currentObservers)De.next(oe)}})}error(oe){(0,H.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=oe;const{observers:De}=this;for(;De.length;)De.shift().error(oe)}})}complete(){(0,H.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:oe}=this;for(;oe.length;)oe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var oe;return(null===(oe=this.observers)||void 0===oe?void 0:oe.length)>0}_trySubscribe(oe){return this._throwIfClosed(),super._trySubscribe(oe)}_subscribe(oe){return this._throwIfClosed(),this._checkFinalizedStatuses(oe),this._innerSubscribe(oe)}_innerSubscribe(oe){const{hasError:De,isStopped:Je,observers:Ve}=this;return De||Je?G.Kn:(this.currentObservers=null,Ve.push(oe),new G.yU(()=>{this.currentObservers=null,(0,re.o)(Ve,oe)}))}_checkFinalizedStatuses(oe){const{hasError:De,thrownError:Je,isStopped:Ve}=this;De?oe.error(Je):Ve&&oe.complete()}asObservable(){const oe=new u.c;return oe.source=this,oe}}return fe.create=(me,oe)=>new de(me,oe),fe})();class de extends X{constructor(me,oe){super(),this.destination=me,this.source=oe}next(me){var oe,De;null===(De=null===(oe=this.destination)||void 0===oe?void 0:oe.next)||void 0===De||De.call(oe,me)}error(me){var oe,De;null===(De=null===(oe=this.destination)||void 0===oe?void 0:oe.error)||void 0===De||De.call(oe,me)}complete(){var me,oe;null===(oe=null===(me=this.destination)||void 0===me?void 0:me.complete)||void 0===oe||oe.call(me)}_subscribe(me){var oe,De;return null!==(De=null===(oe=this.source)||void 0===oe?void 0:oe.subscribe(me))&&void 0!==De?De:G.Kn}}},7707:(at,pe,F)=>{"use strict";F.d(pe,{Ms:()=>Ut,vU:()=>De});var u=F(8071),G=F(8359),E=F(1026),ge=F(5334),re=F(5343);const H=fe("C",void 0,void 0);function fe(ze,We,tt){return{kind:ze,value:We,error:tt}}var me=F(9270),oe=F(9786);class De extends G.yU{constructor(We){super(),this.isStopped=!1,We?(this.destination=We,(0,G.Uv)(We)&&We.add(this)):this.destination=zt}static create(We,tt,gt){return new Ut(We,tt,gt)}next(We){this.isStopped?ot(function de(ze){return fe("N",ze,void 0)}(We),this):this._next(We)}error(We){this.isStopped?ot(function X(ze){return fe("E",void 0,ze)}(We),this):(this.isStopped=!0,this._error(We))}complete(){this.isStopped?ot(H,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(We){this.destination.next(We)}_error(We){try{this.destination.error(We)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Je=Function.prototype.bind;function Ve(ze,We){return Je.call(ze,We)}class He{constructor(We){this.partialObserver=We}next(We){const{partialObserver:tt}=this;if(tt.next)try{tt.next(We)}catch(gt){ct(gt)}}error(We){const{partialObserver:tt}=this;if(tt.error)try{tt.error(We)}catch(gt){ct(gt)}else ct(We)}complete(){const{partialObserver:We}=this;if(We.complete)try{We.complete()}catch(tt){ct(tt)}}}class Ut extends De{constructor(We,tt,gt){let Me;if(super(),(0,u.T)(We)||!We)Me={next:We??void 0,error:tt??void 0,complete:gt??void 0};else{let Xe;this&&E.$.useDeprecatedNextContext?(Xe=Object.create(We),Xe.unsubscribe=()=>this.unsubscribe(),Me={next:We.next&&Ve(We.next,Xe),error:We.error&&Ve(We.error,Xe),complete:We.complete&&Ve(We.complete,Xe)}):Me=We}this.destination=new He(Me)}}function ct(ze){E.$.useDeprecatedSynchronousErrorHandling?(0,oe.l)(ze):(0,ge.m)(ze)}function ot(ze,We){const{onStoppedNotification:tt}=E.$;tt&&me.f.setTimeout(()=>tt(ze,We))}const zt={closed:!0,next:re.l,error:function At(ze){throw ze},complete:re.l}},8359:(at,pe,F)=>{"use strict";F.d(pe,{Kn:()=>H,yU:()=>re,Uv:()=>X});var u=F(8071);const E=(0,F(1853).L)(fe=>function(oe){fe(this),this.message=oe?`${oe.length} errors occurred during unsubscription:\n${oe.map((De,Je)=>`${Je+1}) ${De.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=oe});var ge=F(7908);class re{constructor(me){this.initialTeardown=me,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let me;if(!this.closed){this.closed=!0;const{_parentage:oe}=this;if(oe)if(this._parentage=null,Array.isArray(oe))for(const Ve of oe)Ve.remove(this);else oe.remove(this);const{initialTeardown:De}=this;if((0,u.T)(De))try{De()}catch(Ve){me=Ve instanceof E?Ve.errors:[Ve]}const{_finalizers:Je}=this;if(Je){this._finalizers=null;for(const Ve of Je)try{de(Ve)}catch(He){me=me??[],He instanceof E?me=[...me,...He.errors]:me.push(He)}}if(me)throw new E(me)}}add(me){var oe;if(me&&me!==this)if(this.closed)de(me);else{if(me instanceof re){if(me.closed||me._hasParent(this))return;me._addParent(this)}(this._finalizers=null!==(oe=this._finalizers)&&void 0!==oe?oe:[]).push(me)}}_hasParent(me){const{_parentage:oe}=this;return oe===me||Array.isArray(oe)&&oe.includes(me)}_addParent(me){const{_parentage:oe}=this;this._parentage=Array.isArray(oe)?(oe.push(me),oe):oe?[oe,me]:me}_removeParent(me){const{_parentage:oe}=this;oe===me?this._parentage=null:Array.isArray(oe)&&(0,ge.o)(oe,me)}remove(me){const{_finalizers:oe}=this;oe&&(0,ge.o)(oe,me),me instanceof re&&me._removeParent(this)}}re.EMPTY=(()=>{const fe=new re;return fe.closed=!0,fe})();const H=re.EMPTY;function X(fe){return fe instanceof re||fe&&"closed"in fe&&(0,u.T)(fe.remove)&&(0,u.T)(fe.add)&&(0,u.T)(fe.unsubscribe)}function de(fe){(0,u.T)(fe)?fe():fe.unsubscribe()}},1026:(at,pe,F)=>{"use strict";F.d(pe,{$:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8793:(at,pe,F)=>{"use strict";F.d(pe,{x:()=>re});var u=F(6365),E=F(9326),ge=F(6648);function re(...H){return function G(){return(0,u.U)(1)}()((0,ge.H)(H,(0,E.lI)(H)))}},983:(at,pe,F)=>{"use strict";F.d(pe,{w:()=>G});const G=new(F(1985).c)(re=>re.complete())},6648:(at,pe,F)=>{"use strict";F.d(pe,{H:()=>gt});var u=F(8750),G=F(5225),E=F(9974),ge=F(4360);function re(Me,Xe=0){return(0,E.N)((Ot,Mt)=>{Ot.subscribe((0,ge._)(Mt,fn=>(0,G.N)(Mt,Me,()=>Mt.next(fn),Xe),()=>(0,G.N)(Mt,Me,()=>Mt.complete(),Xe),fn=>(0,G.N)(Mt,Me,()=>Mt.error(fn),Xe)))})}function H(Me,Xe=0){return(0,E.N)((Ot,Mt)=>{Mt.add(Me.schedule(()=>Ot.subscribe(Mt),Xe))})}var fe=F(1985),oe=F(4761),De=F(8071);function Ve(Me,Xe){if(!Me)throw new Error("Iterable cannot be null");return new fe.c(Ot=>{(0,G.N)(Ot,Xe,()=>{const Mt=Me[Symbol.asyncIterator]();(0,G.N)(Ot,Xe,()=>{Mt.next().then(fn=>{fn.done?Ot.complete():Ot.next(fn.value)})},0,!0)})})}var He=F(5055),Ut=F(9858),ct=F(7441),At=F(5397),ot=F(7953),zt=F(591),ze=F(5196);function gt(Me,Xe){return Xe?function tt(Me,Xe){if(null!=Me){if((0,He.l)(Me))return function X(Me,Xe){return(0,u.Tg)(Me).pipe(H(Xe),re(Xe))}(Me,Xe);if((0,ct.X)(Me))return function me(Me,Xe){return new fe.c(Ot=>{let Mt=0;return Xe.schedule(function(){Mt===Me.length?Ot.complete():(Ot.next(Me[Mt++]),Ot.closed||this.schedule())})})}(Me,Xe);if((0,Ut.y)(Me))return function de(Me,Xe){return(0,u.Tg)(Me).pipe(H(Xe),re(Xe))}(Me,Xe);if((0,ot.T)(Me))return Ve(Me,Xe);if((0,At.x)(Me))return function Je(Me,Xe){return new fe.c(Ot=>{let Mt;return(0,G.N)(Ot,Xe,()=>{Mt=Me[oe.l](),(0,G.N)(Ot,Xe,()=>{let fn,Qe;try{({value:fn,done:Qe}=Mt.next())}catch(mt){return void Ot.error(mt)}Qe?Ot.complete():Ot.next(fn)},0,!0)}),()=>(0,De.T)(Mt?.return)&&Mt.return()})}(Me,Xe);if((0,ze.U)(Me))return function We(Me,Xe){return Ve((0,ze.C)(Me),Xe)}(Me,Xe)}throw(0,zt.L)(Me)}(Me,Xe):(0,u.Tg)(Me)}},8750:(at,pe,F)=>{"use strict";F.d(pe,{Tg:()=>Je});var u=F(5215),G=F(7441),E=F(9858),ge=F(1985),re=F(5055),H=F(7953),X=F(591),de=F(5397),fe=F(5196),me=F(8071),oe=F(5334),De=F(3494);function Je(ze){if(ze instanceof ge.c)return ze;if(null!=ze){if((0,re.l)(ze))return function Ve(ze){return new ge.c(We=>{const tt=ze[De.s]();if((0,me.T)(tt.subscribe))return tt.subscribe(We);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ze);if((0,G.X)(ze))return function He(ze){return new ge.c(We=>{for(let tt=0;tt<ze.length&&!We.closed;tt++)We.next(ze[tt]);We.complete()})}(ze);if((0,E.y)(ze))return function Ut(ze){return new ge.c(We=>{ze.then(tt=>{We.closed||(We.next(tt),We.complete())},tt=>We.error(tt)).then(null,oe.m)})}(ze);if((0,H.T)(ze))return At(ze);if((0,de.x)(ze))return function ct(ze){return new ge.c(We=>{for(const tt of ze)if(We.next(tt),We.closed)return;We.complete()})}(ze);if((0,fe.U)(ze))return function ot(ze){return At((0,fe.C)(ze))}(ze)}throw(0,X.L)(ze)}function At(ze){return new ge.c(We=>{(function zt(ze,We){var tt,gt,Me,Xe;return(0,u.__awaiter)(this,void 0,void 0,function*(){try{for(tt=(0,u.__asyncValues)(ze);!(gt=yield tt.next()).done;)if(We.next(gt.value),We.closed)return}catch(Ot){Me={error:Ot}}finally{try{gt&&!gt.done&&(Xe=tt.return)&&(yield Xe.call(tt))}finally{if(Me)throw Me.error}}We.complete()})})(ze,We).catch(tt=>We.error(tt))})}},7673:(at,pe,F)=>{"use strict";F.d(pe,{of:()=>E});var u=F(9326),G=F(6648);function E(...ge){const re=(0,u.lI)(ge);return(0,G.H)(ge,re)}},8810:(at,pe,F)=>{"use strict";F.d(pe,{$:()=>E});var u=F(1985),G=F(8071);function E(ge,re){const H=(0,G.T)(ge)?ge:()=>ge,X=de=>de.error(H());return new u.c(re?de=>re.schedule(X,0,de):X)}},4360:(at,pe,F)=>{"use strict";F.d(pe,{_:()=>G});var u=F(7707);function G(ge,re,H,X,de){return new E(ge,re,H,X,de)}class E extends u.vU{constructor(re,H,X,de,fe,me){super(re),this.onFinalize=fe,this.shouldUnsubscribe=me,this._next=H?function(oe){try{H(oe)}catch(De){re.error(De)}}:super._next,this._error=de?function(oe){try{de(oe)}catch(De){re.error(De)}finally{this.unsubscribe()}}:super._error,this._complete=X?function(){try{X()}catch(oe){re.error(oe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:H}=this;super.unsubscribe(),!H&&(null===(re=this.onFinalize)||void 0===re||re.call(this))}}}},9437:(at,pe,F)=>{"use strict";F.d(pe,{W:()=>ge});var u=F(8750),G=F(4360),E=F(9974);function ge(re){return(0,E.N)((H,X)=>{let me,de=null,fe=!1;de=H.subscribe((0,G._)(X,void 0,void 0,oe=>{me=(0,u.Tg)(re(oe,ge(re)(H))),de?(de.unsubscribe(),de=null,me.subscribe(X)):fe=!0})),fe&&(de.unsubscribe(),de=null,me.subscribe(X))})}},274:(at,pe,F)=>{"use strict";F.d(pe,{H:()=>E});var u=F(1397),G=F(8071);function E(ge,re){return(0,G.T)(re)?(0,u.Z)(ge,re,1):(0,u.Z)(ge,1)}},9901:(at,pe,F)=>{"use strict";F.d(pe,{U:()=>E});var u=F(9974),G=F(4360);function E(ge){return(0,u.N)((re,H)=>{let X=!1;re.subscribe((0,G._)(H,de=>{X=!0,H.next(de)},()=>{X||H.next(ge),H.complete()}))})}},3294:(at,pe,F)=>{"use strict";F.d(pe,{F:()=>ge});var u=F(3669),G=F(9974),E=F(4360);function ge(H,X=u.D){return H=H??re,(0,G.N)((de,fe)=>{let me,oe=!0;de.subscribe((0,E._)(fe,De=>{const Je=X(De);(oe||!H(me,Je))&&(oe=!1,me=Je,fe.next(De))}))})}function re(H,X){return H===X}},5964:(at,pe,F)=>{"use strict";F.d(pe,{p:()=>E});var u=F(9974),G=F(4360);function E(ge,re){return(0,u.N)((H,X)=>{let de=0;H.subscribe((0,G._)(X,fe=>ge.call(re,fe,de++)&&X.next(fe)))})}},980:(at,pe,F)=>{"use strict";F.d(pe,{j:()=>G});var u=F(9974);function G(E){return(0,u.N)((ge,re)=>{try{ge.subscribe(re)}finally{re.add(E)}})}},1594:(at,pe,F)=>{"use strict";F.d(pe,{$:()=>X});var u=F(9350),G=F(5964),E=F(6697),ge=F(9901),re=F(3774),H=F(3669);function X(de,fe){const me=arguments.length>=2;return oe=>oe.pipe(de?(0,G.p)((De,Je)=>de(De,Je,oe)):H.D,(0,E.s)(1),me?(0,ge.U)(fe):(0,re.v)(()=>new u.G))}},6354:(at,pe,F)=>{"use strict";F.d(pe,{T:()=>E});var u=F(9974),G=F(4360);function E(ge,re){return(0,u.N)((H,X)=>{let de=0;H.subscribe((0,G._)(X,fe=>{X.next(ge.call(re,fe,de++))}))})}},6365:(at,pe,F)=>{"use strict";F.d(pe,{U:()=>E});var u=F(1397),G=F(3669);function E(ge=1/0){return(0,u.Z)(G.D,ge)}},1397:(at,pe,F)=>{"use strict";F.d(pe,{Z:()=>de});var u=F(6354),G=F(8750),E=F(9974),ge=F(5225),re=F(4360),X=F(8071);function de(fe,me,oe=1/0){return(0,X.T)(me)?de((De,Je)=>(0,u.T)((Ve,He)=>me(De,Ve,Je,He))((0,G.Tg)(fe(De,Je))),oe):("number"==typeof me&&(oe=me),(0,E.N)((De,Je)=>function H(fe,me,oe,De,Je,Ve,He,Ut){const ct=[];let At=0,ot=0,zt=!1;const ze=()=>{zt&&!ct.length&&!At&&me.complete()},We=gt=>At<De?tt(gt):ct.push(gt),tt=gt=>{Ve&&me.next(gt),At++;let Me=!1;(0,G.Tg)(oe(gt,ot++)).subscribe((0,re._)(me,Xe=>{Je?.(Xe),Ve?We(Xe):me.next(Xe)},()=>{Me=!0},void 0,()=>{if(Me)try{for(At--;ct.length&&At<De;){const Xe=ct.shift();He?(0,ge.N)(me,He,()=>tt(Xe)):tt(Xe)}ze()}catch(Xe){me.error(Xe)}}))};return fe.subscribe((0,re._)(me,We,()=>{zt=!0,ze()})),()=>{Ut?.()}}(De,Je,fe,oe)))}},9172:(at,pe,F)=>{"use strict";F.d(pe,{Z:()=>ge});var u=F(8793),G=F(9326),E=F(9974);function ge(...re){const H=(0,G.lI)(re);return(0,E.N)((X,de)=>{(H?(0,u.x)(re,X,H):(0,u.x)(re,X)).subscribe(de)})}},5558:(at,pe,F)=>{"use strict";F.d(pe,{n:()=>ge});var u=F(8750),G=F(9974),E=F(4360);function ge(re,H){return(0,G.N)((X,de)=>{let fe=null,me=0,oe=!1;const De=()=>oe&&!fe&&de.complete();X.subscribe((0,E._)(de,Je=>{fe?.unsubscribe();let Ve=0;const He=me++;(0,u.Tg)(re(Je,He)).subscribe(fe=(0,E._)(de,Ut=>de.next(H?H(Je,Ut,He,Ve++):Ut),()=>{fe=null,De()}))},()=>{oe=!0,De()}))})}},6697:(at,pe,F)=>{"use strict";F.d(pe,{s:()=>ge});var u=F(983),G=F(9974),E=F(4360);function ge(re){return re<=0?()=>u.w:(0,G.N)((H,X)=>{let de=0;H.subscribe((0,E._)(X,fe=>{++de<=re&&(X.next(fe),re<=de&&X.complete())}))})}},8141:(at,pe,F)=>{"use strict";F.d(pe,{M:()=>re});var u=F(8071),G=F(9974),E=F(4360),ge=F(3669);function re(H,X,de){const fe=(0,u.T)(H)||X||de?{next:H,error:X,complete:de}:H;return fe?(0,G.N)((me,oe)=>{var De;null===(De=fe.subscribe)||void 0===De||De.call(fe);let Je=!0;me.subscribe((0,E._)(oe,Ve=>{var He;null===(He=fe.next)||void 0===He||He.call(fe,Ve),oe.next(Ve)},()=>{var Ve;Je=!1,null===(Ve=fe.complete)||void 0===Ve||Ve.call(fe),oe.complete()},Ve=>{var He;Je=!1,null===(He=fe.error)||void 0===He||He.call(fe,Ve),oe.error(Ve)},()=>{var Ve,He;Je&&(null===(Ve=fe.unsubscribe)||void 0===Ve||Ve.call(fe)),null===(He=fe.finalize)||void 0===He||He.call(fe)}))}):ge.D}},3774:(at,pe,F)=>{"use strict";F.d(pe,{v:()=>ge});var u=F(9350),G=F(9974),E=F(4360);function ge(H=re){return(0,G.N)((X,de)=>{let fe=!1;X.subscribe((0,E._)(de,me=>{fe=!0,de.next(me)},()=>fe?de.complete():de.error(H())))})}function re(){return new u.G}},9270:(at,pe,F)=>{"use strict";F.d(pe,{f:()=>u});const u={setTimeout(G,E,...ge){const{delegate:re}=u;return re?.setTimeout?re.setTimeout(G,E,...ge):setTimeout(G,E,...ge)},clearTimeout(G){const{delegate:E}=u;return(E?.clearTimeout||clearTimeout)(G)},delegate:void 0}},4761:(at,pe,F)=>{"use strict";F.d(pe,{l:()=>G});const G=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(at,pe,F)=>{"use strict";F.d(pe,{s:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(at,pe,F)=>{"use strict";F.d(pe,{G:()=>G});const G=(0,F(1853).L)(E=>function(){E(this),this.name="EmptyError",this.message="no elements in sequence"})},9326:(at,pe,F)=>{"use strict";F.d(pe,{R0:()=>H,lI:()=>re,ms:()=>ge});var u=F(8071),G=F(9470);function E(X){return X[X.length-1]}function ge(X){return(0,u.T)(E(X))?X.pop():void 0}function re(X){return(0,G.m)(E(X))?X.pop():void 0}function H(X,de){return"number"==typeof E(X)?X.pop():de}},3073:(at,pe,F)=>{"use strict";F.d(pe,{D:()=>re});const{isArray:u}=Array,{getPrototypeOf:G,prototype:E,keys:ge}=Object;function re(X){if(1===X.length){const de=X[0];if(u(de))return{args:de,keys:null};if(function H(X){return X&&"object"==typeof X&&G(X)===E}(de)){const fe=ge(de);return{args:fe.map(me=>de[me]),keys:fe}}}return{args:X,keys:null}}},7908:(at,pe,F)=>{"use strict";function u(G,E){if(G){const ge=G.indexOf(E);0<=ge&&G.splice(ge,1)}}F.d(pe,{o:()=>u})},1853:(at,pe,F)=>{"use strict";function u(G){const ge=G(re=>{Error.call(re),re.stack=(new Error).stack});return ge.prototype=Object.create(Error.prototype),ge.prototype.constructor=ge,ge}F.d(pe,{L:()=>u})},8496:(at,pe,F)=>{"use strict";function u(G,E){return G.reduce((ge,re,H)=>(ge[re]=E[H],ge),{})}F.d(pe,{e:()=>u})},9786:(at,pe,F)=>{"use strict";F.d(pe,{Y:()=>E,l:()=>ge});var u=F(1026);let G=null;function E(re){if(u.$.useDeprecatedSynchronousErrorHandling){const H=!G;if(H&&(G={errorThrown:!1,error:null}),re(),H){const{errorThrown:X,error:de}=G;if(G=null,X)throw de}}else re()}function ge(re){u.$.useDeprecatedSynchronousErrorHandling&&G&&(G.errorThrown=!0,G.error=re)}},5225:(at,pe,F)=>{"use strict";function u(G,E,ge,re=0,H=!1){const X=E.schedule(function(){ge(),H?G.add(this.schedule(null,re)):this.unsubscribe()},re);if(G.add(X),!H)return X}F.d(pe,{N:()=>u})},3669:(at,pe,F)=>{"use strict";function u(G){return G}F.d(pe,{D:()=>u})},7441:(at,pe,F)=>{"use strict";F.d(pe,{X:()=>u});const u=G=>G&&"number"==typeof G.length&&"function"!=typeof G},7953:(at,pe,F)=>{"use strict";F.d(pe,{T:()=>G});var u=F(8071);function G(E){return Symbol.asyncIterator&&(0,u.T)(E?.[Symbol.asyncIterator])}},8071:(at,pe,F)=>{"use strict";function u(G){return"function"==typeof G}F.d(pe,{T:()=>u})},5055:(at,pe,F)=>{"use strict";F.d(pe,{l:()=>E});var u=F(3494),G=F(8071);function E(ge){return(0,G.T)(ge[u.s])}},5397:(at,pe,F)=>{"use strict";F.d(pe,{x:()=>E});var u=F(4761),G=F(8071);function E(ge){return(0,G.T)(ge?.[u.l])}},9858:(at,pe,F)=>{"use strict";F.d(pe,{y:()=>G});var u=F(8071);function G(E){return(0,u.T)(E?.then)}},5196:(at,pe,F)=>{"use strict";F.d(pe,{C:()=>E,U:()=>ge});var u=F(5215),G=F(8071);function E(re){return(0,u.__asyncGenerator)(this,arguments,function*(){const X=re.getReader();try{for(;;){const{value:de,done:fe}=yield(0,u.__await)(X.read());if(fe)return yield(0,u.__await)(void 0);yield yield(0,u.__await)(de)}}finally{X.releaseLock()}})}function ge(re){return(0,G.T)(re?.getReader)}},9470:(at,pe,F)=>{"use strict";F.d(pe,{m:()=>G});var u=F(8071);function G(E){return E&&(0,u.T)(E.schedule)}},9974:(at,pe,F)=>{"use strict";F.d(pe,{N:()=>E,S:()=>G});var u=F(8071);function G(ge){return(0,u.T)(ge?.lift)}function E(ge){return re=>{if(G(re))return re.lift(function(H){try{return ge(H,this)}catch(X){this.error(X)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(at,pe,F)=>{"use strict";F.d(pe,{I:()=>ge});var u=F(6354);const{isArray:G}=Array;function ge(re){return(0,u.T)(H=>function E(re,H){return G(H)?re(...H):re(H)}(re,H))}},5343:(at,pe,F)=>{"use strict";function u(){}F.d(pe,{l:()=>u})},1203:(at,pe,F)=>{"use strict";F.d(pe,{F:()=>G,m:()=>E});var u=F(3669);function G(...ge){return E(ge)}function E(ge){return 0===ge.length?u.D:1===ge.length?ge[0]:function(H){return ge.reduce((X,de)=>de(X),H)}}},5334:(at,pe,F)=>{"use strict";F.d(pe,{m:()=>E});var u=F(1026),G=F(9270);function E(ge){G.f.setTimeout(()=>{const{onUnhandledError:re}=u.$;if(!re)throw ge;re(ge)})}},591:(at,pe,F)=>{"use strict";function u(G){return new TypeError(`You provided ${null!==G&&"object"==typeof G?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(pe,{L:()=>u})},5215:(at,pe,F)=>{"use strict";F.r(pe),F.d(pe,{__addDisposableResource:()=>xt,__assign:()=>E,__asyncDelegator:()=>tt,__asyncGenerator:()=>We,__asyncValues:()=>gt,__await:()=>ze,__awaiter:()=>De,__classPrivateFieldGet:()=>Qe,__classPrivateFieldIn:()=>st,__classPrivateFieldSet:()=>mt,__createBinding:()=>Ve,__decorate:()=>re,__disposeResources:()=>sr,__esDecorate:()=>X,__exportStar:()=>He,__extends:()=>G,__generator:()=>Je,__importDefault:()=>fn,__importStar:()=>Mt,__makeTemplateObject:()=>Me,__metadata:()=>oe,__param:()=>H,__propKey:()=>fe,__read:()=>ct,__rest:()=>ge,__rewriteRelativeImportExtension:()=>Mn,__runInitializers:()=>de,__setFunctionName:()=>me,__spread:()=>At,__spreadArray:()=>zt,__spreadArrays:()=>ot,__values:()=>Ut,default:()=>jt});var u=function(ue,ve){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(be,Ae){be.__proto__=Ae}||function(be,Ae){for(var Ue in Ae)Object.prototype.hasOwnProperty.call(Ae,Ue)&&(be[Ue]=Ae[Ue])})(ue,ve)};function G(ue,ve){if("function"!=typeof ve&&null!==ve)throw new TypeError("Class extends value "+String(ve)+" is not a constructor or null");function be(){this.constructor=ue}u(ue,ve),ue.prototype=null===ve?Object.create(ve):(be.prototype=ve.prototype,new be)}var E=function(){return E=Object.assign||function(ve){for(var be,Ae=1,Ue=arguments.length;Ae<Ue;Ae++)for(var Ke in be=arguments[Ae])Object.prototype.hasOwnProperty.call(be,Ke)&&(ve[Ke]=be[Ke]);return ve},E.apply(this,arguments)};function ge(ue,ve){var be={};for(var Ae in ue)Object.prototype.hasOwnProperty.call(ue,Ae)&&ve.indexOf(Ae)<0&&(be[Ae]=ue[Ae]);if(null!=ue&&"function"==typeof Object.getOwnPropertySymbols){var Ue=0;for(Ae=Object.getOwnPropertySymbols(ue);Ue<Ae.length;Ue++)ve.indexOf(Ae[Ue])<0&&Object.prototype.propertyIsEnumerable.call(ue,Ae[Ue])&&(be[Ae[Ue]]=ue[Ae[Ue]])}return be}function re(ue,ve,be,Ae){var Et,Ue=arguments.length,Ke=Ue<3?ve:null===Ae?Ae=Object.getOwnPropertyDescriptor(ve,be):Ae;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ke=Reflect.decorate(ue,ve,be,Ae);else for(var un=ue.length-1;un>=0;un--)(Et=ue[un])&&(Ke=(Ue<3?Et(Ke):Ue>3?Et(ve,be,Ke):Et(ve,be))||Ke);return Ue>3&&Ke&&Object.defineProperty(ve,be,Ke),Ke}function H(ue,ve){return function(be,Ae){ve(be,Ae,ue)}}function X(ue,ve,be,Ae,Ue,Ke){function Et(Cn){if(void 0!==Cn&&"function"!=typeof Cn)throw new TypeError("Function expected");return Cn}for(var Ln,un=Ae.kind,xn="getter"===un?"get":"setter"===un?"set":"value",Pt=!ve&&ue?Ae.static?ue:ue.prototype:null,pn=ve||(Pt?Object.getOwnPropertyDescriptor(Pt,Ae.name):{}),Zn=!1,Dt=be.length-1;Dt>=0;Dt--){var lt={};for(var pt in Ae)lt[pt]="access"===pt?{}:Ae[pt];for(var pt in Ae.access)lt.access[pt]=Ae.access[pt];lt.addInitializer=function(Cn){if(Zn)throw new TypeError("Cannot add initializers after decoration has completed");Ke.push(Et(Cn||null))};var ir=(0,be[Dt])("accessor"===un?{get:pn.get,set:pn.set}:pn[xn],lt);if("accessor"===un){if(void 0===ir)continue;if(null===ir||"object"!=typeof ir)throw new TypeError("Object expected");(Ln=Et(ir.get))&&(pn.get=Ln),(Ln=Et(ir.set))&&(pn.set=Ln),(Ln=Et(ir.init))&&Ue.unshift(Ln)}else(Ln=Et(ir))&&("field"===un?Ue.unshift(Ln):pn[xn]=Ln)}Pt&&Object.defineProperty(Pt,Ae.name,pn),Zn=!0}function de(ue,ve,be){for(var Ae=arguments.length>2,Ue=0;Ue<ve.length;Ue++)be=Ae?ve[Ue].call(ue,be):ve[Ue].call(ue);return Ae?be:void 0}function fe(ue){return"symbol"==typeof ue?ue:"".concat(ue)}function me(ue,ve,be){return"symbol"==typeof ve&&(ve=ve.description?"[".concat(ve.description,"]"):""),Object.defineProperty(ue,"name",{configurable:!0,value:be?"".concat(be," ",ve):ve})}function oe(ue,ve){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(ue,ve)}function De(ue,ve,be,Ae){return new(be||(be=Promise))(function(Ke,Et){function un(pn){try{Pt(Ae.next(pn))}catch(Ln){Et(Ln)}}function xn(pn){try{Pt(Ae.throw(pn))}catch(Ln){Et(Ln)}}function Pt(pn){pn.done?Ke(pn.value):function Ue(Ke){return Ke instanceof be?Ke:new be(function(Et){Et(Ke)})}(pn.value).then(un,xn)}Pt((Ae=Ae.apply(ue,ve||[])).next())})}function Je(ue,ve){var Ae,Ue,Ke,be={label:0,sent:function(){if(1&Ke[0])throw Ke[1];return Ke[1]},trys:[],ops:[]},Et=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return Et.next=un(0),Et.throw=un(1),Et.return=un(2),"function"==typeof Symbol&&(Et[Symbol.iterator]=function(){return this}),Et;function un(Pt){return function(pn){return function xn(Pt){if(Ae)throw new TypeError("Generator is already executing.");for(;Et&&(Et=0,Pt[0]&&(be=0)),be;)try{if(Ae=1,Ue&&(Ke=2&Pt[0]?Ue.return:Pt[0]?Ue.throw||((Ke=Ue.return)&&Ke.call(Ue),0):Ue.next)&&!(Ke=Ke.call(Ue,Pt[1])).done)return Ke;switch(Ue=0,Ke&&(Pt=[2&Pt[0],Ke.value]),Pt[0]){case 0:case 1:Ke=Pt;break;case 4:return be.label++,{value:Pt[1],done:!1};case 5:be.label++,Ue=Pt[1],Pt=[0];continue;case 7:Pt=be.ops.pop(),be.trys.pop();continue;default:if(!(Ke=(Ke=be.trys).length>0&&Ke[Ke.length-1])&&(6===Pt[0]||2===Pt[0])){be=0;continue}if(3===Pt[0]&&(!Ke||Pt[1]>Ke[0]&&Pt[1]<Ke[3])){be.label=Pt[1];break}if(6===Pt[0]&&be.label<Ke[1]){be.label=Ke[1],Ke=Pt;break}if(Ke&&be.label<Ke[2]){be.label=Ke[2],be.ops.push(Pt);break}Ke[2]&&be.ops.pop(),be.trys.pop();continue}Pt=ve.call(ue,be)}catch(pn){Pt=[6,pn],Ue=0}finally{Ae=Ke=0}if(5&Pt[0])throw Pt[1];return{value:Pt[0]?Pt[1]:void 0,done:!0}}([Pt,pn])}}}var Ve=Object.create?function(ue,ve,be,Ae){void 0===Ae&&(Ae=be);var Ue=Object.getOwnPropertyDescriptor(ve,be);(!Ue||("get"in Ue?!ve.__esModule:Ue.writable||Ue.configurable))&&(Ue={enumerable:!0,get:function(){return ve[be]}}),Object.defineProperty(ue,Ae,Ue)}:function(ue,ve,be,Ae){void 0===Ae&&(Ae=be),ue[Ae]=ve[be]};function He(ue,ve){for(var be in ue)"default"!==be&&!Object.prototype.hasOwnProperty.call(ve,be)&&Ve(ve,ue,be)}function Ut(ue){var ve="function"==typeof Symbol&&Symbol.iterator,be=ve&&ue[ve],Ae=0;if(be)return be.call(ue);if(ue&&"number"==typeof ue.length)return{next:function(){return ue&&Ae>=ue.length&&(ue=void 0),{value:ue&&ue[Ae++],done:!ue}}};throw new TypeError(ve?"Object is not iterable.":"Symbol.iterator is not defined.")}function ct(ue,ve){var be="function"==typeof Symbol&&ue[Symbol.iterator];if(!be)return ue;var Ue,Et,Ae=be.call(ue),Ke=[];try{for(;(void 0===ve||ve-- >0)&&!(Ue=Ae.next()).done;)Ke.push(Ue.value)}catch(un){Et={error:un}}finally{try{Ue&&!Ue.done&&(be=Ae.return)&&be.call(Ae)}finally{if(Et)throw Et.error}}return Ke}function At(){for(var ue=[],ve=0;ve<arguments.length;ve++)ue=ue.concat(ct(arguments[ve]));return ue}function ot(){for(var ue=0,ve=0,be=arguments.length;ve<be;ve++)ue+=arguments[ve].length;var Ae=Array(ue),Ue=0;for(ve=0;ve<be;ve++)for(var Ke=arguments[ve],Et=0,un=Ke.length;Et<un;Et++,Ue++)Ae[Ue]=Ke[Et];return Ae}function zt(ue,ve,be){if(be||2===arguments.length)for(var Ke,Ae=0,Ue=ve.length;Ae<Ue;Ae++)(Ke||!(Ae in ve))&&(Ke||(Ke=Array.prototype.slice.call(ve,0,Ae)),Ke[Ae]=ve[Ae]);return ue.concat(Ke||Array.prototype.slice.call(ve))}function ze(ue){return this instanceof ze?(this.v=ue,this):new ze(ue)}function We(ue,ve,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ue,Ae=be.apply(ue,ve||[]),Ke=[];return Ue=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),un("next"),un("throw"),un("return",function Et(Dt){return function(lt){return Promise.resolve(lt).then(Dt,Ln)}}),Ue[Symbol.asyncIterator]=function(){return this},Ue;function un(Dt,lt){Ae[Dt]&&(Ue[Dt]=function(pt){return new Promise(function(ir,Cn){Ke.push([Dt,pt,ir,Cn])>1||xn(Dt,pt)})},lt&&(Ue[Dt]=lt(Ue[Dt])))}function xn(Dt,lt){try{!function Pt(Dt){Dt.value instanceof ze?Promise.resolve(Dt.value.v).then(pn,Ln):Zn(Ke[0][2],Dt)}(Ae[Dt](lt))}catch(pt){Zn(Ke[0][3],pt)}}function pn(Dt){xn("next",Dt)}function Ln(Dt){xn("throw",Dt)}function Zn(Dt,lt){Dt(lt),Ke.shift(),Ke.length&&xn(Ke[0][0],Ke[0][1])}}function tt(ue){var ve,be;return ve={},Ae("next"),Ae("throw",function(Ue){throw Ue}),Ae("return"),ve[Symbol.iterator]=function(){return this},ve;function Ae(Ue,Ke){ve[Ue]=ue[Ue]?function(Et){return(be=!be)?{value:ze(ue[Ue](Et)),done:!1}:Ke?Ke(Et):Et}:Ke}}function gt(ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,ve=ue[Symbol.asyncIterator];return ve?ve.call(ue):(ue=Ut(ue),be={},Ae("next"),Ae("throw"),Ae("return"),be[Symbol.asyncIterator]=function(){return this},be);function Ae(Ke){be[Ke]=ue[Ke]&&function(Et){return new Promise(function(un,xn){!function Ue(Ke,Et,un,xn){Promise.resolve(xn).then(function(Pt){Ke({value:Pt,done:un})},Et)}(un,xn,(Et=ue[Ke](Et)).done,Et.value)})}}}function Me(ue,ve){return Object.defineProperty?Object.defineProperty(ue,"raw",{value:ve}):ue.raw=ve,ue}var Xe=Object.create?function(ue,ve){Object.defineProperty(ue,"default",{enumerable:!0,value:ve})}:function(ue,ve){ue.default=ve},Ot=function(ue){return(Ot=Object.getOwnPropertyNames||function(ve){var be=[];for(var Ae in ve)Object.prototype.hasOwnProperty.call(ve,Ae)&&(be[be.length]=Ae);return be})(ue)};function Mt(ue){if(ue&&ue.__esModule)return ue;var ve={};if(null!=ue)for(var be=Ot(ue),Ae=0;Ae<be.length;Ae++)"default"!==be[Ae]&&Ve(ve,ue,be[Ae]);return Xe(ve,ue),ve}function fn(ue){return ue&&ue.__esModule?ue:{default:ue}}function Qe(ue,ve,be,Ae){if("a"===be&&!Ae)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof ve?ue!==ve||!Ae:!ve.has(ue))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===be?Ae:"a"===be?Ae.call(ue):Ae?Ae.value:ve.get(ue)}function mt(ue,ve,be,Ae,Ue){if("m"===Ae)throw new TypeError("Private method is not writable");if("a"===Ae&&!Ue)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof ve?ue!==ve||!Ue:!ve.has(ue))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===Ae?Ue.call(ue,be):Ue?Ue.value=be:ve.set(ue,be),be}function st(ue,ve){if(null===ve||"object"!=typeof ve&&"function"!=typeof ve)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof ue?ve===ue:ue.has(ve)}function xt(ue,ve,be){if(null!=ve){if("object"!=typeof ve&&"function"!=typeof ve)throw new TypeError("Object expected.");var Ae,Ue;if(be){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");Ae=ve[Symbol.asyncDispose]}if(void 0===Ae){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");Ae=ve[Symbol.dispose],be&&(Ue=Ae)}if("function"!=typeof Ae)throw new TypeError("Object not disposable.");Ue&&(Ae=function(){try{Ue.call(this)}catch(Ke){return Promise.reject(Ke)}}),ue.stack.push({value:ve,dispose:Ae,async:be})}else be&&ue.stack.push({async:!0});return ve}var gr="function"==typeof SuppressedError?SuppressedError:function(ue,ve,be){var Ae=new Error(be);return Ae.name="SuppressedError",Ae.error=ue,Ae.suppressed=ve,Ae};function sr(ue){function ve(Ke){ue.error=ue.hasError?new gr(Ke,ue.error,"An error was suppressed during disposal."):Ke,ue.hasError=!0}var be,Ae=0;return function Ue(){for(;be=ue.stack.pop();)try{if(!be.async&&1===Ae)return Ae=0,ue.stack.push(be),Promise.resolve().then(Ue);if(be.dispose){var Ke=be.dispose.call(be.value);if(be.async)return Ae|=2,Promise.resolve(Ke).then(Ue,function(Et){return ve(Et),Ue()})}else Ae|=1}catch(Et){ve(Et)}if(1===Ae)return ue.hasError?Promise.reject(ue.error):Promise.resolve();if(ue.hasError)throw ue.error}()}function Mn(ue,ve){return"string"==typeof ue&&/^\.\.?\//.test(ue)?ue.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(be,Ae,Ue,Ke,Et){return Ae?ve?".jsx":".js":!Ue||Ke&&Et?Ue+Ke+"."+Et.toLowerCase()+"js":be}):ue}const jt={__extends:G,__assign:E,__rest:ge,__decorate:re,__param:H,__esDecorate:X,__runInitializers:de,__propKey:fe,__setFunctionName:me,__metadata:oe,__awaiter:De,__generator:Je,__createBinding:Ve,__exportStar:He,__values:Ut,__read:ct,__spread:At,__spreadArrays:ot,__spreadArray:zt,__await:ze,__asyncGenerator:We,__asyncDelegator:tt,__asyncValues:gt,__makeTemplateObject:Me,__importStar:Mt,__importDefault:fn,__classPrivateFieldGet:Qe,__classPrivateFieldSet:mt,__classPrivateFieldIn:st,__addDisposableResource:xt,__disposeResources:sr,__rewriteRelativeImportExtension:Mn}},9293:at=>{function pe(u,G,E,ge,re,H,X){try{var de=u[H](X),fe=de.value}catch(me){return void E(me)}de.done?G(fe):Promise.resolve(fe).then(ge,re)}at.exports=function F(u){return function(){var G=this,E=arguments;return new Promise(function(ge,re){var H=u.apply(G,E);function X(fe){pe(H,ge,re,X,de,"next",fe)}function de(fe){pe(H,ge,re,X,de,"throw",fe)}X(void 0)})}},at.exports.__esModule=!0,at.exports.default=at.exports},177:(at,pe,F)=>{"use strict";F.d(pe,{AJ:()=>Fr,B3:()=>Cr,Jj:()=>Ri,MD:()=>Hr,N0:()=>jr,P9:()=>fs,QT:()=>E,Sm:()=>He,Sq:()=>Ar,VF:()=>re,Vy:()=>dr,Xr:()=>kn,YU:()=>tr,ZD:()=>ge,_b:()=>dn,aZ:()=>ct,bT:()=>wr,fw:()=>Ut,hb:()=>Je,hj:()=>de,qQ:()=>H,vh:()=>Ms});var u=F(6276);let G=null;function E(){return G}function ge(y){G||(G=y)}class re{}const H=new u.nKC("DocumentToken");let X=(()=>{class y{historyGo(S){throw new Error("Not implemented")}static{this.\u0275fac=function(N){return new(N||y)}}static{this.\u0275prov=u.jDH({token:y,factory:function(){return(0,u.WQX)(fe)},providedIn:"platform"})}}return y})();const de=new u.nKC("Location Initialized");let fe=(()=>{class y extends X{constructor(){super(),this._doc=(0,u.WQX)(H),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return E().getBaseHref(this._doc)}onPopState(S){const N=E().getGlobalEventTarget(this._doc,"window");return N.addEventListener("popstate",S,!1),()=>N.removeEventListener("popstate",S)}onHashChange(S){const N=E().getGlobalEventTarget(this._doc,"window");return N.addEventListener("hashchange",S,!1),()=>N.removeEventListener("hashchange",S)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(S){this._location.pathname=S}pushState(S,N,Q){this._history.pushState(S,N,Q)}replaceState(S,N,Q){this._history.replaceState(S,N,Q)}forward(){this._history.forward()}back(){this._history.back()}historyGo(S=0){this._history.go(S)}getState(){return this._history.state}static{this.\u0275fac=function(N){return new(N||y)}}static{this.\u0275prov=u.jDH({token:y,factory:function(){return new y},providedIn:"platform"})}}return y})();function me(y,L){if(0==y.length)return L;if(0==L.length)return y;let S=0;return y.endsWith("/")&&S++,L.startsWith("/")&&S++,2==S?y+L.substring(1):1==S?y+L:y+"/"+L}function oe(y){const L=y.match(/#|\?|$/),S=L&&L.index||y.length;return y.slice(0,S-("/"===y[S-1]?1:0))+y.slice(S)}function De(y){return y&&"?"!==y[0]?"?"+y:y}let Je=(()=>{class y{historyGo(S){throw new Error("Not implemented")}static{this.\u0275fac=function(N){return new(N||y)}}static{this.\u0275prov=u.jDH({token:y,factory:function(){return(0,u.WQX)(He)},providedIn:"root"})}}return y})();const Ve=new u.nKC("appBaseHref");let He=(()=>{class y extends Je{constructor(S,N){super(),this._platformLocation=S,this._removeListenerFns=[],this._baseHref=N??this._platformLocation.getBaseHrefFromDOM()??(0,u.WQX)(H).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}prepareExternalUrl(S){return me(this._baseHref,S)}path(S=!1){const N=this._platformLocation.pathname+De(this._platformLocation.search),Q=this._platformLocation.hash;return Q&&S?`${N}${Q}`:N}pushState(S,N,Q,we){const Te=this.prepareExternalUrl(Q+De(we));this._platformLocation.pushState(S,N,Te)}replaceState(S,N,Q,we){const Te=this.prepareExternalUrl(Q+De(we));this._platformLocation.replaceState(S,N,Te)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}static{this.\u0275fac=function(N){return new(N||y)(u.KVO(X),u.KVO(Ve,8))}}static{this.\u0275prov=u.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})(),Ut=(()=>{class y extends Je{constructor(S,N){super(),this._platformLocation=S,this._baseHref="",this._removeListenerFns=[],null!=N&&(this._baseHref=N)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}path(S=!1){let N=this._platformLocation.hash;return null==N&&(N="#"),N.length>0?N.substring(1):N}prepareExternalUrl(S){const N=me(this._baseHref,S);return N.length>0?"#"+N:N}pushState(S,N,Q,we){let Te=this.prepareExternalUrl(Q+De(we));0==Te.length&&(Te=this._platformLocation.pathname),this._platformLocation.pushState(S,N,Te)}replaceState(S,N,Q,we){let Te=this.prepareExternalUrl(Q+De(we));0==Te.length&&(Te=this._platformLocation.pathname),this._platformLocation.replaceState(S,N,Te)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}static{this.\u0275fac=function(N){return new(N||y)(u.KVO(X),u.KVO(Ve,8))}}static{this.\u0275prov=u.jDH({token:y,factory:y.\u0275fac})}}return y})(),ct=(()=>{class y{constructor(S){this._subject=new u.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=S;const N=this._locationStrategy.getBaseHref();this._basePath=function ze(y){if(new RegExp("^(https?:)?//").test(y)){const[,S]=y.split(/\/\/[^\/]+/);return S}return y}(oe(zt(N))),this._locationStrategy.onPopState(Q=>{this._subject.emit({url:this.path(!0),pop:!0,state:Q.state,type:Q.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(S=!1){return this.normalize(this._locationStrategy.path(S))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(S,N=""){return this.path()==this.normalize(S+De(N))}normalize(S){return y.stripTrailingSlash(function ot(y,L){if(!y||!L.startsWith(y))return L;const S=L.substring(y.length);return""===S||["/",";","?","#"].includes(S[0])?S:L}(this._basePath,zt(S)))}prepareExternalUrl(S){return S&&"/"!==S[0]&&(S="/"+S),this._locationStrategy.prepareExternalUrl(S)}go(S,N="",Q=null){this._locationStrategy.pushState(Q,"",S,N),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+De(N)),Q)}replaceState(S,N="",Q=null){this._locationStrategy.replaceState(Q,"",S,N),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+De(N)),Q)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(S=0){this._locationStrategy.historyGo?.(S)}onUrlChange(S){return this._urlChangeListeners.push(S),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(N=>{this._notifyUrlChangeListeners(N.url,N.state)})),()=>{const N=this._urlChangeListeners.indexOf(S);this._urlChangeListeners.splice(N,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(S="",N){this._urlChangeListeners.forEach(Q=>Q(S,N))}subscribe(S,N,Q){return this._subject.subscribe({next:S,error:N,complete:Q})}static{this.normalizeQueryParams=De}static{this.joinWithSlash=me}static{this.stripTrailingSlash=oe}static{this.\u0275fac=function(N){return new(N||y)(u.KVO(Je))}}static{this.\u0275prov=u.jDH({token:y,factory:function(){return function At(){return new ct((0,u.KVO)(Je))}()},providedIn:"root"})}}return y})();function zt(y){return y.replace(/\/index.html$/,"")}var Me=function(y){return y[y.Format=0]="Format",y[y.Standalone=1]="Standalone",y}(Me||{}),Xe=function(y){return y[y.Narrow=0]="Narrow",y[y.Abbreviated=1]="Abbreviated",y[y.Wide=2]="Wide",y[y.Short=3]="Short",y}(Xe||{}),Ot=function(y){return y[y.Short=0]="Short",y[y.Medium=1]="Medium",y[y.Long=2]="Long",y[y.Full=3]="Full",y}(Ot||{}),Mt=function(y){return y[y.Decimal=0]="Decimal",y[y.Group=1]="Group",y[y.List=2]="List",y[y.PercentSign=3]="PercentSign",y[y.PlusSign=4]="PlusSign",y[y.MinusSign=5]="MinusSign",y[y.Exponential=6]="Exponential",y[y.SuperscriptingExponent=7]="SuperscriptingExponent",y[y.PerMille=8]="PerMille",y[y.Infinity=9]="Infinity",y[y.NaN=10]="NaN",y[y.TimeSeparator=11]="TimeSeparator",y[y.CurrencyDecimal=12]="CurrencyDecimal",y[y.CurrencyGroup=13]="CurrencyGroup",y}(Mt||{});function jt(y,L){return Dt((0,u.H5H)(y)[u.KH2.DateFormat],L)}function ue(y,L){return Dt((0,u.H5H)(y)[u.KH2.TimeFormat],L)}function ve(y,L){return Dt((0,u.H5H)(y)[u.KH2.DateTimeFormat],L)}function be(y,L){const S=(0,u.H5H)(y),N=S[u.KH2.NumberSymbols][L];if(typeof N>"u"){if(L===Mt.CurrencyDecimal)return S[u.KH2.NumberSymbols][Mt.Decimal];if(L===Mt.CurrencyGroup)return S[u.KH2.NumberSymbols][Mt.Group]}return N}function Pt(y){if(!y[u.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${y[u.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Dt(y,L){for(let S=L;S>-1;S--)if(typeof y[S]<"u")return y[S];throw new Error("Locale data API: locale data undefined")}function lt(y){const[L,S]=y.split(":");return{hours:+L,minutes:+S}}const Wt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Rr={},Cs=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var gn=function(y){return y[y.Short=0]="Short",y[y.ShortGMT=1]="ShortGMT",y[y.Long=2]="Long",y[y.Extended=3]="Extended",y}(gn||{}),Yt=function(y){return y[y.FullYear=0]="FullYear",y[y.Month=1]="Month",y[y.Date=2]="Date",y[y.Hours=3]="Hours",y[y.Minutes=4]="Minutes",y[y.Seconds=5]="Seconds",y[y.FractionalSeconds=6]="FractionalSeconds",y[y.Day=7]="Day",y}(Yt||{}),Kt=function(y){return y[y.DayPeriods=0]="DayPeriods",y[y.Days=1]="Days",y[y.Months=2]="Months",y[y.Eras=3]="Eras",y}(Kt||{});function Kn(y,L,S,N){let Q=function Ws(y){if(ye(y))return y;if("number"==typeof y&&!isNaN(y))return new Date(y);if("string"==typeof y){if(y=y.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(y)){const[Q,we=1,Te=1]=y.split("-").map(_t=>+_t);return Zt(Q,we-1,Te)}const S=parseFloat(y);if(!isNaN(y-S))return new Date(S);let N;if(N=y.match(Wt))return function Oe(y){const L=new Date(0);let S=0,N=0;const Q=y[8]?L.setUTCFullYear:L.setFullYear,we=y[8]?L.setUTCHours:L.setHours;y[9]&&(S=Number(y[9]+y[10]),N=Number(y[9]+y[11])),Q.call(L,Number(y[1]),Number(y[2])-1,Number(y[3]));const Te=Number(y[4]||0)-S,_t=Number(y[5]||0)-N,An=Number(y[6]||0),wn=Math.floor(1e3*parseFloat("0."+(y[7]||0)));return we.call(L,Te,_t,An,wn),L}(N)}const L=new Date(y);if(!ye(L))throw new Error(`Unable to convert "${y}" into a date`);return L}(y);L=mr(S,L)||L;let _t,Te=[];for(;L;){if(_t=Cs.exec(L),!_t){Te.push(L);break}{Te=Te.concat(_t.slice(1));const sn=Te.pop();if(!sn)break;L=sn}}let An=Q.getTimezoneOffset();N&&(An=er(N,An),Q=function Es(y,L,S){const N=S?-1:1,Q=y.getTimezoneOffset();return function xr(y,L){return(y=new Date(y.getTime())).setMinutes(y.getMinutes()+L),y}(y,N*(er(L,Q)-Q))}(Q,N,!0));let wn="";return Te.forEach(sn=>{const Qt=function br(y){if(lr[y])return lr[y];let L;switch(y){case"G":case"GG":case"GGG":L=qt(Kt.Eras,Xe.Abbreviated);break;case"GGGG":L=qt(Kt.Eras,Xe.Wide);break;case"GGGGG":L=qt(Kt.Eras,Xe.Narrow);break;case"y":L=yt(Yt.FullYear,1,0,!1,!0);break;case"yy":L=yt(Yt.FullYear,2,0,!0,!0);break;case"yyy":L=yt(Yt.FullYear,3,0,!1,!0);break;case"yyyy":L=yt(Yt.FullYear,4,0,!1,!0);break;case"Y":L=Qn(1);break;case"YY":L=Qn(2,!0);break;case"YYY":L=Qn(3);break;case"YYYY":L=Qn(4);break;case"M":case"L":L=yt(Yt.Month,1,1);break;case"MM":case"LL":L=yt(Yt.Month,2,1);break;case"MMM":L=qt(Kt.Months,Xe.Abbreviated);break;case"MMMM":L=qt(Kt.Months,Xe.Wide);break;case"MMMMM":L=qt(Kt.Months,Xe.Narrow);break;case"LLL":L=qt(Kt.Months,Xe.Abbreviated,Me.Standalone);break;case"LLLL":L=qt(Kt.Months,Xe.Wide,Me.Standalone);break;case"LLLLL":L=qt(Kt.Months,Xe.Narrow,Me.Standalone);break;case"w":L=Nt(1);break;case"ww":L=Nt(2);break;case"W":L=Nt(1,!0);break;case"d":L=yt(Yt.Date,1);break;case"dd":L=yt(Yt.Date,2);break;case"c":case"cc":L=yt(Yt.Day,1);break;case"ccc":L=qt(Kt.Days,Xe.Abbreviated,Me.Standalone);break;case"cccc":L=qt(Kt.Days,Xe.Wide,Me.Standalone);break;case"ccccc":L=qt(Kt.Days,Xe.Narrow,Me.Standalone);break;case"cccccc":L=qt(Kt.Days,Xe.Short,Me.Standalone);break;case"E":case"EE":case"EEE":L=qt(Kt.Days,Xe.Abbreviated);break;case"EEEE":L=qt(Kt.Days,Xe.Wide);break;case"EEEEE":L=qt(Kt.Days,Xe.Narrow);break;case"EEEEEE":L=qt(Kt.Days,Xe.Short);break;case"a":case"aa":case"aaa":L=qt(Kt.DayPeriods,Xe.Abbreviated);break;case"aaaa":L=qt(Kt.DayPeriods,Xe.Wide);break;case"aaaaa":L=qt(Kt.DayPeriods,Xe.Narrow);break;case"b":case"bb":case"bbb":L=qt(Kt.DayPeriods,Xe.Abbreviated,Me.Standalone,!0);break;case"bbbb":L=qt(Kt.DayPeriods,Xe.Wide,Me.Standalone,!0);break;case"bbbbb":L=qt(Kt.DayPeriods,Xe.Narrow,Me.Standalone,!0);break;case"B":case"BB":case"BBB":L=qt(Kt.DayPeriods,Xe.Abbreviated,Me.Format,!0);break;case"BBBB":L=qt(Kt.DayPeriods,Xe.Wide,Me.Format,!0);break;case"BBBBB":L=qt(Kt.DayPeriods,Xe.Narrow,Me.Format,!0);break;case"h":L=yt(Yt.Hours,1,-12);break;case"hh":L=yt(Yt.Hours,2,-12);break;case"H":L=yt(Yt.Hours,1);break;case"HH":L=yt(Yt.Hours,2);break;case"m":L=yt(Yt.Minutes,1);break;case"mm":L=yt(Yt.Minutes,2);break;case"s":L=yt(Yt.Seconds,1);break;case"ss":L=yt(Yt.Seconds,2);break;case"S":L=yt(Yt.FractionalSeconds,1);break;case"SS":L=yt(Yt.FractionalSeconds,2);break;case"SSS":L=yt(Yt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":L=yr(gn.Short);break;case"ZZZZZ":L=yr(gn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":L=yr(gn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":L=yr(gn.Long);break;default:return null}return lr[y]=L,L}(sn);wn+=Qt?Qt(Q,S,An):"''"===sn?"'":sn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),wn}function Zt(y,L,S){const N=new Date(0);return N.setFullYear(y,L,S),N.setHours(0,0,0),N}function mr(y,L){const S=function Qe(y){return(0,u.H5H)(y)[u.KH2.LocaleId]}(y);if(Rr[S]=Rr[S]||{},Rr[S][L])return Rr[S][L];let N="";switch(L){case"shortDate":N=jt(y,Ot.Short);break;case"mediumDate":N=jt(y,Ot.Medium);break;case"longDate":N=jt(y,Ot.Long);break;case"fullDate":N=jt(y,Ot.Full);break;case"shortTime":N=ue(y,Ot.Short);break;case"mediumTime":N=ue(y,Ot.Medium);break;case"longTime":N=ue(y,Ot.Long);break;case"fullTime":N=ue(y,Ot.Full);break;case"short":const Q=mr(y,"shortTime"),we=mr(y,"shortDate");N=_r(ve(y,Ot.Short),[Q,we]);break;case"medium":const Te=mr(y,"mediumTime"),_t=mr(y,"mediumDate");N=_r(ve(y,Ot.Medium),[Te,_t]);break;case"long":const An=mr(y,"longTime"),wn=mr(y,"longDate");N=_r(ve(y,Ot.Long),[An,wn]);break;case"full":const sn=mr(y,"fullTime"),Qt=mr(y,"fullDate");N=_r(ve(y,Ot.Full),[sn,Qt])}return N&&(Rr[S][L]=N),N}function _r(y,L){return L&&(y=y.replace(/\{([^}]+)}/g,function(S,N){return null!=L&&N in L?L[N]:S})),y}function ar(y,L,S="-",N,Q){let we="";(y<0||Q&&y<=0)&&(Q?y=1-y:(y=-y,we=S));let Te=String(y);for(;Te.length<L;)Te="0"+Te;return N&&(Te=Te.slice(Te.length-L)),we+Te}function yt(y,L,S=0,N=!1,Q=!1){return function(we,Te){let _t=function Ns(y,L){switch(y){case Yt.FullYear:return L.getFullYear();case Yt.Month:return L.getMonth();case Yt.Date:return L.getDate();case Yt.Hours:return L.getHours();case Yt.Minutes:return L.getMinutes();case Yt.Seconds:return L.getSeconds();case Yt.FractionalSeconds:return L.getMilliseconds();case Yt.Day:return L.getDay();default:throw new Error(`Unknown DateType value "${y}".`)}}(y,we);if((S>0||_t>-S)&&(_t+=S),y===Yt.Hours)0===_t&&-12===S&&(_t=12);else if(y===Yt.FractionalSeconds)return function Gs(y,L){return ar(y,3).substring(0,L)}(_t,L);const An=be(Te,Mt.MinusSign);return ar(_t,L,An,N,Q)}}function qt(y,L,S=Me.Format,N=!1){return function(Q,we){return function jn(y,L,S,N,Q,we){switch(S){case Kt.Months:return function xt(y,L,S){const N=(0,u.H5H)(y),we=Dt([N[u.KH2.MonthsFormat],N[u.KH2.MonthsStandalone]],L);return Dt(we,S)}(L,Q,N)[y.getMonth()];case Kt.Days:return function st(y,L,S){const N=(0,u.H5H)(y),we=Dt([N[u.KH2.DaysFormat],N[u.KH2.DaysStandalone]],L);return Dt(we,S)}(L,Q,N)[y.getDay()];case Kt.DayPeriods:const Te=y.getHours(),_t=y.getMinutes();if(we){const wn=function pn(y){const L=(0,u.H5H)(y);return Pt(L),(L[u.KH2.ExtraData][2]||[]).map(N=>"string"==typeof N?lt(N):[lt(N[0]),lt(N[1])])}(L),sn=function Ln(y,L,S){const N=(0,u.H5H)(y);Pt(N);const we=Dt([N[u.KH2.ExtraData][0],N[u.KH2.ExtraData][1]],L)||[];return Dt(we,S)||[]}(L,Q,N),Qt=wn.findIndex(nr=>{if(Array.isArray(nr)){const[Rn,fr]=nr,ss=Te>=Rn.hours&&_t>=Rn.minutes,is=Te<fr.hours||Te===fr.hours&&_t<fr.minutes;if(Rn.hours<fr.hours){if(ss&&is)return!0}else if(ss||is)return!0}else if(nr.hours===Te&&nr.minutes===_t)return!0;return!1});if(-1!==Qt)return sn[Qt]}return function mt(y,L,S){const N=(0,u.H5H)(y),we=Dt([N[u.KH2.DayPeriodsFormat],N[u.KH2.DayPeriodsStandalone]],L);return Dt(we,S)}(L,Q,N)[Te<12?0:1];case Kt.Eras:return function gr(y,L){return Dt((0,u.H5H)(y)[u.KH2.Eras],L)}(L,N)[y.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${S}`)}}(Q,we,y,L,S,N)}}function yr(y){return function(L,S,N){const Q=-1*N,we=be(S,Mt.MinusSign),Te=Q>0?Math.floor(Q/60):Math.ceil(Q/60);switch(y){case gn.Short:return(Q>=0?"+":"")+ar(Te,2,we)+ar(Math.abs(Q%60),2,we);case gn.ShortGMT:return"GMT"+(Q>=0?"+":"")+ar(Te,1,we);case gn.Long:return"GMT"+(Q>=0?"+":"")+ar(Te,2,we)+":"+ar(Math.abs(Q%60),2,we);case gn.Extended:return 0===N?"Z":(Q>=0?"+":"")+ar(Te,2,we)+":"+ar(Math.abs(Q%60),2,we);default:throw new Error(`Unknown zone width "${y}"`)}}}const an=0,nn=4;function Xn(y){return Zt(y.getFullYear(),y.getMonth(),y.getDate()+(nn-y.getDay()))}function Nt(y,L=!1){return function(S,N){let Q;if(L){const we=new Date(S.getFullYear(),S.getMonth(),1).getDay()-1,Te=S.getDate();Q=1+Math.floor((Te+we)/7)}else{const we=Xn(S),Te=function qn(y){const L=Zt(y,an,1).getDay();return Zt(y,0,1+(L<=nn?nn:nn+7)-L)}(we.getFullYear()),_t=we.getTime()-Te.getTime();Q=1+Math.round(_t/6048e5)}return ar(Q,y,be(N,Mt.MinusSign))}}function Qn(y,L=!1){return function(S,N){return ar(Xn(S).getFullYear(),y,be(N,Mt.MinusSign),L)}}const lr={};function er(y,L){y=y.replace(/:/g,"");const S=Date.parse("Jan 01, 1970 00:00:00 "+y)/6e4;return isNaN(S)?L:S}function ye(y){return y instanceof Date&&!isNaN(y.valueOf())}function dn(y,L){L=encodeURIComponent(L);for(const S of y.split(";")){const N=S.indexOf("="),[Q,we]=-1==N?[S,""]:[S.slice(0,N),S.slice(N+1)];if(Q.trim()===L)return decodeURIComponent(we)}return null}const Tn=/\s+/,kr=[];let tr=(()=>{class y{constructor(S,N,Q,we){this._iterableDiffers=S,this._keyValueDiffers=N,this._ngEl=Q,this._renderer=we,this.initialClasses=kr,this.stateMap=new Map}set klass(S){this.initialClasses=null!=S?S.trim().split(Tn):kr}set ngClass(S){this.rawClass="string"==typeof S?S.trim().split(Tn):S}ngDoCheck(){for(const N of this.initialClasses)this._updateState(N,!0);const S=this.rawClass;if(Array.isArray(S)||S instanceof Set)for(const N of S)this._updateState(N,!0);else if(null!=S)for(const N of Object.keys(S))this._updateState(N,!!S[N]);this._applyStateDiff()}_updateState(S,N){const Q=this.stateMap.get(S);void 0!==Q?(Q.enabled!==N&&(Q.changed=!0,Q.enabled=N),Q.touched=!0):this.stateMap.set(S,{enabled:N,changed:!0,touched:!0})}_applyStateDiff(){for(const S of this.stateMap){const N=S[0],Q=S[1];Q.changed?(this._toggleClass(N,Q.enabled),Q.changed=!1):Q.touched||(Q.enabled&&this._toggleClass(N,!1),this.stateMap.delete(N)),Q.touched=!1}}_toggleClass(S,N){(S=S.trim()).length>0&&S.split(Tn).forEach(Q=>{N?this._renderer.addClass(this._ngEl.nativeElement,Q):this._renderer.removeClass(this._ngEl.nativeElement,Q)})}static{this.\u0275fac=function(N){return new(N||y)(u.rXU(u._q3),u.rXU(u.MKu),u.rXU(u.aKT),u.rXU(u.sFG))}}static{this.\u0275dir=u.FsC({type:y,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return y})();class Tr{constructor(L,S,N,Q){this.$implicit=L,this.ngForOf=S,this.index=N,this.count=Q}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ar=(()=>{class y{set ngForOf(S){this._ngForOf=S,this._ngForOfDirty=!0}set ngForTrackBy(S){this._trackByFn=S}get ngForTrackBy(){return this._trackByFn}constructor(S,N,Q){this._viewContainer=S,this._template=N,this._differs=Q,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(S){S&&(this._template=S)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const S=this._ngForOf;!this._differ&&S&&(this._differ=this._differs.find(S).create(this.ngForTrackBy))}if(this._differ){const S=this._differ.diff(this._ngForOf);S&&this._applyChanges(S)}}_applyChanges(S){const N=this._viewContainer;S.forEachOperation((Q,we,Te)=>{if(null==Q.previousIndex)N.createEmbeddedView(this._template,new Tr(Q.item,this._ngForOf,-1,-1),null===Te?void 0:Te);else if(null==Te)N.remove(null===we?void 0:we);else if(null!==we){const _t=N.get(we);N.move(_t,Te),Jn(_t,Q)}});for(let Q=0,we=N.length;Q<we;Q++){const _t=N.get(Q).context;_t.index=Q,_t.count=we,_t.ngForOf=this._ngForOf}S.forEachIdentityChange(Q=>{Jn(N.get(Q.currentIndex),Q)})}static ngTemplateContextGuard(S,N){return!0}static{this.\u0275fac=function(N){return new(N||y)(u.rXU(u.c1b),u.rXU(u.C4Q),u.rXU(u._q3))}}static{this.\u0275dir=u.FsC({type:y,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return y})();function Jn(y,L){y.context.$implicit=L.item}let wr=(()=>{class y{constructor(S,N){this._viewContainer=S,this._context=new Ks,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=N}set ngIf(S){this._context.$implicit=this._context.ngIf=S,this._updateView()}set ngIfThen(S){cr("ngIfThen",S),this._thenTemplateRef=S,this._thenViewRef=null,this._updateView()}set ngIfElse(S){cr("ngIfElse",S),this._elseTemplateRef=S,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(S,N){return!0}static{this.\u0275fac=function(N){return new(N||y)(u.rXU(u.c1b),u.rXU(u.C4Q))}}static{this.\u0275dir=u.FsC({type:y,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return y})();class Ks{constructor(){this.$implicit=null,this.ngIf=null}}function cr(y,L){if(L&&!L.createEmbeddedView)throw new Error(`${y} must be a TemplateRef, but received '${(0,u.Tbb)(L)}'.`)}let Cr=(()=>{class y{constructor(S,N,Q){this._ngEl=S,this._differs=N,this._renderer=Q,this._ngStyle=null,this._differ=null}set ngStyle(S){this._ngStyle=S,!this._differ&&S&&(this._differ=this._differs.find(S).create())}ngDoCheck(){if(this._differ){const S=this._differ.diff(this._ngStyle);S&&this._applyChanges(S)}}_setStyle(S,N){const[Q,we]=S.split("."),Te=-1===Q.indexOf("-")?void 0:u.czy.DashCase;null!=N?this._renderer.setStyle(this._ngEl.nativeElement,Q,we?`${N}${we}`:N,Te):this._renderer.removeStyle(this._ngEl.nativeElement,Q,Te)}_applyChanges(S){S.forEachRemovedItem(N=>this._setStyle(N.key,null)),S.forEachAddedItem(N=>this._setStyle(N.key,N.currentValue)),S.forEachChangedItem(N=>this._setStyle(N.key,N.currentValue))}static{this.\u0275fac=function(N){return new(N||y)(u.rXU(u.aKT),u.rXU(u.MKu),u.rXU(u.sFG))}}static{this.\u0275dir=u.FsC({type:y,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return y})();function zn(y,L){return new u.wOt(2100,!1)}class vi{createSubscription(L,S){return(0,u.O8t)(()=>L.subscribe({next:S,error:N=>{throw N}}))}dispose(L){(0,u.O8t)(()=>L.unsubscribe())}}class ii{createSubscription(L,S){return L.then(S,N=>{throw N})}dispose(L){}}const Pi=new ii,_i=new vi;let Ri=(()=>{class y{constructor(S){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=S}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(S){return this._obj?S!==this._obj?(this._dispose(),this.transform(S)):this._latestValue:(S&&this._subscribe(S),this._latestValue)}_subscribe(S){this._obj=S,this._strategy=this._selectStrategy(S),this._subscription=this._strategy.createSubscription(S,N=>this._updateLatestValue(S,N))}_selectStrategy(S){if((0,u.jNT)(S))return Pi;if((0,u.zjR)(S))return _i;throw zn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(S,N){S===this._obj&&(this._latestValue=N,this._ref.markForCheck())}static{this.\u0275fac=function(N){return new(N||y)(u.rXU(u.gRc,16))}}static{this.\u0275pipe=u.EJ8({name:"async",type:y,pure:!1,standalone:!0})}}return y})();const oi=new u.nKC("DATE_PIPE_DEFAULT_TIMEZONE"),Ss=new u.nKC("DATE_PIPE_DEFAULT_OPTIONS");let Ms=(()=>{class y{constructor(S,N,Q){this.locale=S,this.defaultTimezone=N,this.defaultOptions=Q}transform(S,N,Q,we){if(null==S||""===S||S!=S)return null;try{return Kn(S,N??this.defaultOptions?.dateFormat??"mediumDate",we||this.locale,Q??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Te){throw zn()}}static{this.\u0275fac=function(N){return new(N||y)(u.rXU(u.xe9,16),u.rXU(oi,24),u.rXU(Ss,24))}}static{this.\u0275pipe=u.EJ8({name:"date",type:y,pure:!0,standalone:!0})}}return y})(),fs=(()=>{class y{transform(S,N,Q){if(null==S)return null;if(!this.supports(S))throw zn();return S.slice(N,Q)}supports(S){return"string"==typeof S||Array.isArray(S)}static{this.\u0275fac=function(N){return new(N||y)}}static{this.\u0275pipe=u.EJ8({name:"slice",type:y,pure:!1,standalone:!0})}}return y})(),Hr=(()=>{class y{static{this.\u0275fac=function(N){return new(N||y)}}static{this.\u0275mod=u.$C({type:y})}static{this.\u0275inj=u.G2t({})}}return y})();const Fr="browser",rn="server";function dr(y){return y===rn}let kn=(()=>{class y{static{this.\u0275prov=(0,u.jDH)({token:y,providedIn:"root",factory:()=>new Er((0,u.KVO)(H),window)})}}return y})();class Er{constructor(L,S){this.document=L,this.window=S,this.offset=()=>[0,0]}setOffset(L){this.offset=Array.isArray(L)?()=>L:L}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(L){this.supportsScrolling()&&this.window.scrollTo(L[0],L[1])}scrollToAnchor(L){if(!this.supportsScrolling())return;const S=function js(y,L){const S=y.getElementById(L)||y.getElementsByName(L)[0];if(S)return S;if("function"==typeof y.createTreeWalker&&y.body&&"function"==typeof y.body.attachShadow){const N=y.createTreeWalker(y.body,NodeFilter.SHOW_ELEMENT);let Q=N.currentNode;for(;Q;){const we=Q.shadowRoot;if(we){const Te=we.getElementById(L)||we.querySelector(`[name="${L}"]`);if(Te)return Te}Q=N.nextNode()}}return null}(this.document,L);S&&(this.scrollToElement(S),S.focus())}setHistoryScrollRestoration(L){this.supportsScrolling()&&(this.window.history.scrollRestoration=L)}scrollToElement(L){const S=L.getBoundingClientRect(),N=S.left+this.window.pageXOffset,Q=S.top+this.window.pageYOffset,we=this.offset();this.window.scrollTo(N-we[0],Q-we[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class jr{}},1626:(at,pe,F)=>{"use strict";F.d(pe,{$R:()=>lr,$m:()=>Nr,Lr:()=>He,Nl:()=>tt,Qq:()=>ue,b$:()=>br,q1:()=>Se});var u=F(6276),G=F(7673),E=F(6648),ge=F(1985),re=F(274),H=F(5964),X=F(6354),de=F(980),fe=F(5558),me=F(8141),oe=F(1594),De=F(177);class Je{}class Ve{}class He{constructor(J){this.normalizedNames=new Map,this.lazyUpdate=null,J?"string"==typeof J?this.lazyInit=()=>{this.headers=new Map,J.split("\n").forEach(te=>{const Pe=te.indexOf(":");if(Pe>0){const Le=te.slice(0,Pe),Ze=Le.toLowerCase(),$e=te.slice(Pe+1).trim();this.maybeSetNormalizedName(Le,Ze),this.headers.has(Ze)?this.headers.get(Ze).push($e):this.headers.set(Ze,[$e])}})}:typeof Headers<"u"&&J instanceof Headers?(this.headers=new Map,J.forEach((te,Pe)=>{this.setHeaderEntries(Pe,te)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(J).forEach(([te,Pe])=>{this.setHeaderEntries(te,Pe)})}:this.headers=new Map}has(J){return this.init(),this.headers.has(J.toLowerCase())}get(J){this.init();const te=this.headers.get(J.toLowerCase());return te&&te.length>0?te[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(J){return this.init(),this.headers.get(J.toLowerCase())||null}append(J,te){return this.clone({name:J,value:te,op:"a"})}set(J,te){return this.clone({name:J,value:te,op:"s"})}delete(J,te){return this.clone({name:J,value:te,op:"d"})}maybeSetNormalizedName(J,te){this.normalizedNames.has(te)||this.normalizedNames.set(te,J)}init(){this.lazyInit&&(this.lazyInit instanceof He?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(J=>this.applyUpdate(J)),this.lazyUpdate=null))}copyFrom(J){J.init(),Array.from(J.headers.keys()).forEach(te=>{this.headers.set(te,J.headers.get(te)),this.normalizedNames.set(te,J.normalizedNames.get(te))})}clone(J){const te=new He;return te.lazyInit=this.lazyInit&&this.lazyInit instanceof He?this.lazyInit:this,te.lazyUpdate=(this.lazyUpdate||[]).concat([J]),te}applyUpdate(J){const te=J.name.toLowerCase();switch(J.op){case"a":case"s":let Pe=J.value;if("string"==typeof Pe&&(Pe=[Pe]),0===Pe.length)return;this.maybeSetNormalizedName(J.name,te);const Le=("a"===J.op?this.headers.get(te):void 0)||[];Le.push(...Pe),this.headers.set(te,Le);break;case"d":const Ze=J.value;if(Ze){let $e=this.headers.get(te);if(!$e)return;$e=$e.filter(cn=>-1===Ze.indexOf(cn)),0===$e.length?(this.headers.delete(te),this.normalizedNames.delete(te)):this.headers.set(te,$e)}else this.headers.delete(te),this.normalizedNames.delete(te)}}setHeaderEntries(J,te){const Pe=(Array.isArray(te)?te:[te]).map(Ze=>Ze.toString()),Le=J.toLowerCase();this.headers.set(Le,Pe),this.maybeSetNormalizedName(J,Le)}forEach(J){this.init(),Array.from(this.normalizedNames.keys()).forEach(te=>J(this.normalizedNames.get(te),this.headers.get(te)))}}class ct{encodeKey(J){return ze(J)}encodeValue(J){return ze(J)}decodeKey(J){return decodeURIComponent(J)}decodeValue(J){return decodeURIComponent(J)}}const ot=/%(\d[a-f0-9])/gi,zt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ze(le){return encodeURIComponent(le).replace(ot,(J,te)=>zt[te]??J)}function We(le){return`${le}`}class tt{constructor(J={}){if(this.updates=null,this.cloneFrom=null,this.encoder=J.encoder||new ct,J.fromString){if(J.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function At(le,J){const te=new Map;return le.length>0&&le.replace(/^\?/,"").split("&").forEach(Le=>{const Ze=Le.indexOf("="),[$e,cn]=-1==Ze?[J.decodeKey(Le),""]:[J.decodeKey(Le.slice(0,Ze)),J.decodeValue(Le.slice(Ze+1))],Vt=te.get($e)||[];Vt.push(cn),te.set($e,Vt)}),te}(J.fromString,this.encoder)}else J.fromObject?(this.map=new Map,Object.keys(J.fromObject).forEach(te=>{const Pe=J.fromObject[te],Le=Array.isArray(Pe)?Pe.map(We):[We(Pe)];this.map.set(te,Le)})):this.map=null}has(J){return this.init(),this.map.has(J)}get(J){this.init();const te=this.map.get(J);return te?te[0]:null}getAll(J){return this.init(),this.map.get(J)||null}keys(){return this.init(),Array.from(this.map.keys())}append(J,te){return this.clone({param:J,value:te,op:"a"})}appendAll(J){const te=[];return Object.keys(J).forEach(Pe=>{const Le=J[Pe];Array.isArray(Le)?Le.forEach(Ze=>{te.push({param:Pe,value:Ze,op:"a"})}):te.push({param:Pe,value:Le,op:"a"})}),this.clone(te)}set(J,te){return this.clone({param:J,value:te,op:"s"})}delete(J,te){return this.clone({param:J,value:te,op:"d"})}toString(){return this.init(),this.keys().map(J=>{const te=this.encoder.encodeKey(J);return this.map.get(J).map(Pe=>te+"="+this.encoder.encodeValue(Pe)).join("&")}).filter(J=>""!==J).join("&")}clone(J){const te=new tt({encoder:this.encoder});return te.cloneFrom=this.cloneFrom||this,te.updates=(this.updates||[]).concat(J),te}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(J=>this.map.set(J,this.cloneFrom.map.get(J))),this.updates.forEach(J=>{switch(J.op){case"a":case"s":const te=("a"===J.op?this.map.get(J.param):void 0)||[];te.push(We(J.value)),this.map.set(J.param,te);break;case"d":if(void 0===J.value){this.map.delete(J.param);break}{let Pe=this.map.get(J.param)||[];const Le=Pe.indexOf(We(J.value));-1!==Le&&Pe.splice(Le,1),Pe.length>0?this.map.set(J.param,Pe):this.map.delete(J.param)}}}),this.cloneFrom=this.updates=null)}}class Me{constructor(){this.map=new Map}set(J,te){return this.map.set(J,te),this}get(J){return this.map.has(J)||this.map.set(J,J.defaultValue()),this.map.get(J)}delete(J){return this.map.delete(J),this}has(J){return this.map.has(J)}keys(){return this.map.keys()}}function Ot(le){return typeof ArrayBuffer<"u"&&le instanceof ArrayBuffer}function Mt(le){return typeof Blob<"u"&&le instanceof Blob}function fn(le){return typeof FormData<"u"&&le instanceof FormData}class mt{constructor(J,te,Pe,Le){let Ze;if(this.url=te,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=J.toUpperCase(),function Xe(le){switch(le){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Le?(this.body=void 0!==Pe?Pe:null,Ze=Le):Ze=Pe,Ze&&(this.reportProgress=!!Ze.reportProgress,this.withCredentials=!!Ze.withCredentials,Ze.responseType&&(this.responseType=Ze.responseType),Ze.headers&&(this.headers=Ze.headers),Ze.context&&(this.context=Ze.context),Ze.params&&(this.params=Ze.params)),this.headers||(this.headers=new He),this.context||(this.context=new Me),this.params){const $e=this.params.toString();if(0===$e.length)this.urlWithParams=te;else{const cn=te.indexOf("?");this.urlWithParams=te+(-1===cn?"?":cn<te.length-1?"&":"")+$e}}else this.params=new tt,this.urlWithParams=te}serializeBody(){return null===this.body?null:Ot(this.body)||Mt(this.body)||fn(this.body)||function Qe(le){return typeof URLSearchParams<"u"&&le instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof tt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||fn(this.body)?null:Mt(this.body)?this.body.type||null:Ot(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof tt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(J={}){const te=J.method||this.method,Pe=J.url||this.url,Le=J.responseType||this.responseType,Ze=void 0!==J.body?J.body:this.body,$e=void 0!==J.withCredentials?J.withCredentials:this.withCredentials,cn=void 0!==J.reportProgress?J.reportProgress:this.reportProgress;let Vt=J.headers||this.headers,In=J.params||this.params;const Hn=J.context??this.context;return void 0!==J.setHeaders&&(Vt=Object.keys(J.setHeaders).reduce((dn,Tn)=>dn.set(Tn,J.setHeaders[Tn]),Vt)),J.setParams&&(In=Object.keys(J.setParams).reduce((dn,Tn)=>dn.set(Tn,J.setParams[Tn]),In)),new mt(te,Pe,Ze,{params:In,headers:Vt,context:Hn,reportProgress:cn,responseType:Le,withCredentials:$e})}}var st=function(le){return le[le.Sent=0]="Sent",le[le.UploadProgress=1]="UploadProgress",le[le.ResponseHeader=2]="ResponseHeader",le[le.DownloadProgress=3]="DownloadProgress",le[le.Response=4]="Response",le[le.User=5]="User",le}(st||{});class xt{constructor(J,te=200,Pe="OK"){this.headers=J.headers||new He,this.status=void 0!==J.status?J.status:te,this.statusText=J.statusText||Pe,this.url=J.url||null,this.ok=this.status>=200&&this.status<300}}class gr extends xt{constructor(J={}){super(J),this.type=st.ResponseHeader}clone(J={}){return new gr({headers:J.headers||this.headers,status:void 0!==J.status?J.status:this.status,statusText:J.statusText||this.statusText,url:J.url||this.url||void 0})}}class sr extends xt{constructor(J={}){super(J),this.type=st.Response,this.body=void 0!==J.body?J.body:null}clone(J={}){return new sr({body:void 0!==J.body?J.body:this.body,headers:J.headers||this.headers,status:void 0!==J.status?J.status:this.status,statusText:J.statusText||this.statusText,url:J.url||this.url||void 0})}}class Mn extends xt{constructor(J){super(J,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${J.url||"(unknown url)"}`:`Http failure response for ${J.url||"(unknown url)"}: ${J.status} ${J.statusText}`,this.error=J.error||null}}function jt(le,J){return{body:J,headers:le.headers,context:le.context,observe:le.observe,params:le.params,reportProgress:le.reportProgress,responseType:le.responseType,withCredentials:le.withCredentials}}let ue=(()=>{class le{constructor(te){this.handler=te}request(te,Pe,Le={}){let Ze;if(te instanceof mt)Ze=te;else{let Vt,In;Vt=Le.headers instanceof He?Le.headers:new He(Le.headers),Le.params&&(In=Le.params instanceof tt?Le.params:new tt({fromObject:Le.params})),Ze=new mt(te,Pe,void 0!==Le.body?Le.body:null,{headers:Vt,context:Le.context,params:In,reportProgress:Le.reportProgress,responseType:Le.responseType||"json",withCredentials:Le.withCredentials})}const $e=(0,G.of)(Ze).pipe((0,re.H)(Vt=>this.handler.handle(Vt)));if(te instanceof mt||"events"===Le.observe)return $e;const cn=$e.pipe((0,H.p)(Vt=>Vt instanceof sr));switch(Le.observe||"body"){case"body":switch(Ze.responseType){case"arraybuffer":return cn.pipe((0,X.T)(Vt=>{if(null!==Vt.body&&!(Vt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Vt.body}));case"blob":return cn.pipe((0,X.T)(Vt=>{if(null!==Vt.body&&!(Vt.body instanceof Blob))throw new Error("Response is not a Blob.");return Vt.body}));case"text":return cn.pipe((0,X.T)(Vt=>{if(null!==Vt.body&&"string"!=typeof Vt.body)throw new Error("Response is not a string.");return Vt.body}));default:return cn.pipe((0,X.T)(Vt=>Vt.body))}case"response":return cn;default:throw new Error(`Unreachable: unhandled observe type ${Le.observe}}`)}}delete(te,Pe={}){return this.request("DELETE",te,Pe)}get(te,Pe={}){return this.request("GET",te,Pe)}head(te,Pe={}){return this.request("HEAD",te,Pe)}jsonp(te,Pe){return this.request("JSONP",te,{params:(new tt).append(Pe,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(te,Pe={}){return this.request("OPTIONS",te,Pe)}patch(te,Pe,Le={}){return this.request("PATCH",te,jt(Le,Pe))}post(te,Pe,Le={}){return this.request("POST",te,jt(Le,Pe))}put(te,Pe,Le={}){return this.request("PUT",te,jt(Le,Pe))}static{this.\u0275fac=function(Pe){return new(Pe||le)(u.KVO(Je))}}static{this.\u0275prov=u.jDH({token:le,factory:le.\u0275fac})}}return le})();function xn(le,J){return J(le)}function Pt(le,J){return(te,Pe)=>J.intercept(te,{handle:Le=>le(Le,Pe)})}const Ln=new u.nKC(""),Zn=new u.nKC(""),Dt=new u.nKC("");function lt(){let le=null;return(J,te)=>{null===le&&(le=((0,u.WQX)(Ln,{optional:!0})??[]).reduceRight(Pt,xn));const Pe=(0,u.WQX)(u.$K3),Le=Pe.add();return le(J,te).pipe((0,de.j)(()=>Pe.remove(Le)))}}let pt=(()=>{class le extends Je{constructor(te,Pe){super(),this.backend=te,this.injector=Pe,this.chain=null,this.pendingTasks=(0,u.WQX)(u.$K3)}handle(te){if(null===this.chain){const Le=Array.from(new Set([...this.injector.get(Zn),...this.injector.get(Dt,[])]));this.chain=Le.reduceRight((Ze,$e)=>function pn(le,J,te){return(Pe,Le)=>te.runInContext(()=>J(Pe,Ze=>le(Ze,Le)))}(Ze,$e,this.injector),xn)}const Pe=this.pendingTasks.add();return this.chain(te,Le=>this.backend.handle(Le)).pipe((0,de.j)(()=>this.pendingTasks.remove(Pe)))}static{this.\u0275fac=function(Pe){return new(Pe||le)(u.KVO(Ve),u.KVO(u.uvJ))}}static{this.\u0275prov=u.jDH({token:le,factory:le.\u0275fac})}}return le})();const _r=/^\)\]\}',?\n/;let Gs=(()=>{class le{constructor(te){this.xhrFactory=te}handle(te){if("JSONP"===te.method)throw new u.wOt(-2800,!1);const Pe=this.xhrFactory;return(Pe.\u0275loadImpl?(0,E.H)(Pe.\u0275loadImpl()):(0,G.of)(null)).pipe((0,fe.n)(()=>new ge.c(Ze=>{const $e=Pe.build();if($e.open(te.method,te.urlWithParams),te.withCredentials&&($e.withCredentials=!0),te.headers.forEach((wt,ln)=>$e.setRequestHeader(wt,ln.join(","))),te.headers.has("Accept")||$e.setRequestHeader("Accept","application/json, text/plain, */*"),!te.headers.has("Content-Type")){const wt=te.detectContentTypeHeader();null!==wt&&$e.setRequestHeader("Content-Type",wt)}if(te.responseType){const wt=te.responseType.toLowerCase();$e.responseType="json"!==wt?wt:"text"}const cn=te.serializeBody();let Vt=null;const In=()=>{if(null!==Vt)return Vt;const wt=$e.statusText||"OK",ln=new He($e.getAllResponseHeaders()),Tr=function ar(le){return"responseURL"in le&&le.responseURL?le.responseURL:/^X-Request-URL:/m.test(le.getAllResponseHeaders())?le.getResponseHeader("X-Request-URL"):null}($e)||te.url;return Vt=new gr({headers:ln,status:$e.status,statusText:wt,url:Tr}),Vt},Hn=()=>{let{headers:wt,status:ln,statusText:Tr,url:Ar}=In(),Jn=null;204!==ln&&(Jn=typeof $e.response>"u"?$e.responseText:$e.response),0===ln&&(ln=Jn?200:0);let Dn=ln>=200&&ln<300;if("json"===te.responseType&&"string"==typeof Jn){const wr=Jn;Jn=Jn.replace(_r,"");try{Jn=""!==Jn?JSON.parse(Jn):null}catch(Ks){Jn=wr,Dn&&(Dn=!1,Jn={error:Ks,text:Jn})}}Dn?(Ze.next(new sr({body:Jn,headers:wt,status:ln,statusText:Tr,url:Ar||void 0})),Ze.complete()):Ze.error(new Mn({error:Jn,headers:wt,status:ln,statusText:Tr,url:Ar||void 0}))},dn=wt=>{const{url:ln}=In(),Tr=new Mn({error:wt,status:$e.status||0,statusText:$e.statusText||"Unknown Error",url:ln||void 0});Ze.error(Tr)};let Tn=!1;const kr=wt=>{Tn||(Ze.next(In()),Tn=!0);let ln={type:st.DownloadProgress,loaded:wt.loaded};wt.lengthComputable&&(ln.total=wt.total),"text"===te.responseType&&$e.responseText&&(ln.partialText=$e.responseText),Ze.next(ln)},tr=wt=>{let ln={type:st.UploadProgress,loaded:wt.loaded};wt.lengthComputable&&(ln.total=wt.total),Ze.next(ln)};return $e.addEventListener("load",Hn),$e.addEventListener("error",dn),$e.addEventListener("timeout",dn),$e.addEventListener("abort",dn),te.reportProgress&&($e.addEventListener("progress",kr),null!==cn&&$e.upload&&$e.upload.addEventListener("progress",tr)),$e.send(cn),Ze.next({type:st.Sent}),()=>{$e.removeEventListener("error",dn),$e.removeEventListener("abort",dn),$e.removeEventListener("load",Hn),$e.removeEventListener("timeout",dn),te.reportProgress&&($e.removeEventListener("progress",kr),null!==cn&&$e.upload&&$e.upload.removeEventListener("progress",tr)),$e.readyState!==$e.DONE&&$e.abort()}})))}static{this.\u0275fac=function(Pe){return new(Pe||le)(u.KVO(De.N0))}}static{this.\u0275prov=u.jDH({token:le,factory:le.\u0275fac})}}return le})();const yt=new u.nKC("XSRF_ENABLED"),qt=new u.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),yr=new u.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class an{}let nn=(()=>{class le{constructor(te,Pe,Le){this.doc=te,this.platform=Pe,this.cookieName=Le,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const te=this.doc.cookie||"";return te!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,De._b)(te,this.cookieName),this.lastCookieString=te),this.lastToken}static{this.\u0275fac=function(Pe){return new(Pe||le)(u.KVO(De.qQ),u.KVO(u.Agw),u.KVO(qt))}}static{this.\u0275prov=u.jDH({token:le,factory:le.\u0275fac})}}return le})();function qn(le,J){const te=le.url.toLowerCase();if(!(0,u.WQX)(yt)||"GET"===le.method||"HEAD"===le.method||te.startsWith("http://")||te.startsWith("https://"))return J(le);const Pe=(0,u.WQX)(an).getToken(),Le=(0,u.WQX)(yr);return null!=Pe&&!le.headers.has(Le)&&(le=le.clone({headers:le.headers.set(Le,Pe)})),J(le)}var Nt=function(le){return le[le.Interceptors=0]="Interceptors",le[le.LegacyInterceptors=1]="LegacyInterceptors",le[le.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",le[le.NoXsrfProtection=3]="NoXsrfProtection",le[le.JsonpSupport=4]="JsonpSupport",le[le.RequestsMadeViaParent=5]="RequestsMadeViaParent",le[le.Fetch=6]="Fetch",le}(Nt||{});function Qn(le,J){return{\u0275kind:le,\u0275providers:J}}function lr(...le){const J=[ue,Gs,pt,{provide:Je,useExisting:pt},{provide:Ve,useExisting:Gs},{provide:Zn,useValue:qn,multi:!0},{provide:yt,useValue:!0},{provide:an,useClass:nn}];for(const te of le)J.push(...te.\u0275providers);return(0,u.EmA)(J)}function br(le){return Qn(Nt.Interceptors,le.map(J=>({provide:Zn,useValue:J,multi:!0})))}const er=new u.nKC("LEGACY_INTERCEPTOR_FN");let Se=(()=>{class le{static{this.\u0275fac=function(Pe){return new(Pe||le)}}static{this.\u0275mod=u.$C({type:le})}static{this.\u0275inj=u.G2t({providers:[lr(Qn(Nt.LegacyInterceptors,[{provide:er,useFactory:lt},{provide:Zn,useExisting:er,multi:!0}]))]})}}return le})();const St=new u.nKC(""),mn=["GET","HEAD"];function Xt(le,J){const{isCacheActive:te}=(0,u.WQX)(St);if(!te||!mn.includes(le.method))return J(le);const Pe=(0,u.WQX)(u.pJN),Le=function ur(le){const{params:J,method:te,responseType:Pe,url:Le}=le,cn=function En(le){let J=0;for(const te of le)J=Math.imul(31,J)+te.charCodeAt(0)<<0;return J+=2147483648,J.toString()}(te+"."+Pe+"."+Le+"?"+J.keys().sort().map(Vt=>`${Vt}=${J.getAll(Vt)}`).join("&"));return(0,u.zw6)(cn)}(le),Ze=Pe.get(Le,null);if(Ze){let $e=Ze.body;switch(Ze.responseType){case"arraybuffer":$e=(new TextEncoder).encode(Ze.body).buffer;break;case"blob":$e=new Blob([Ze.body])}return(0,G.of)(new sr({body:$e,headers:new He(Ze.headers),status:Ze.status,statusText:Ze.statusText,url:Ze.url}))}return J(le).pipe((0,me.M)($e=>{$e instanceof sr&&Pe.set(Le,{body:$e.body,headers:Vn($e.headers),status:$e.status,statusText:$e.statusText,url:$e.url||"",responseType:le.responseType})}))}function Vn(le){const J={};for(const te of le.keys()){const Pe=le.getAll(te);null!==Pe&&(J[te]=Pe)}return J}function Nr(){return[{provide:St,useFactory:()=>((0,u.WQX)(u.KOA).add("httpcache"),{isCacheActive:!0})},{provide:Dt,useValue:Xt,multi:!0,deps:[u.pJN,St]},{provide:u.iLQ,multi:!0,useFactory:()=>{const le=(0,u.WQX)(u.o8S),J=(0,u.WQX)(St);return()=>{le.isStable.pipe((0,oe.$)(te=>te)).toPromise().then(()=>{J.isCacheActive=!1})}}}]}},6276:(at,pe,F)=>{"use strict";F.d(pe,{bc$:()=>h0,iLQ:()=>Gd,sZ2:()=>Cf,hnV:()=>Dy,o8S:()=>Sa,BIS:()=>f0,gRc:()=>pS,Ql9:()=>xD,Ocv:()=>OD,Z63:()=>Ba,aKT:()=>Wa,uvJ:()=>Yi,zcH:()=>So,bkB:()=>Zi,$GK:()=>yt,nKC:()=>Nt,zZn:()=>Gi,_q3:()=>Jd,MKu:()=>Yd,xe9:()=>Du,Co$:()=>wm,Vns:()=>jo,NEm:()=>iS,SKi:()=>ws,Xx1:()=>El,Agw:()=>wc,PLl:()=>Ef,sFG:()=>I0,_9s:()=>Of,czy:()=>Pl,kdw:()=>Dl,C4Q:()=>cl,NYb:()=>tS,giA:()=>Ry,pJN:()=>Ha,RxE:()=>Pf,c1b:()=>Cu,gXe:()=>kr,L39:()=>VS,Ol2:()=>Em,w6W:()=>bE,Rfq:()=>gt,WQX:()=>Le,QuC:()=>qr,EmA:()=>pc,zw6:()=>p0,HJs:()=>$S,O8t:()=>fr,H3F:()=>Sy,KOA:()=>Df,H8p:()=>yc,$K3:()=>My,KH2:()=>wa,wOt:()=>Qe,WHO:()=>Oy,e01:()=>Py,H5H:()=>vd,Zy3:()=>mt,mq5:()=>Wg,JZv:()=>nn,TL3:()=>lS,LfX:()=>Yt,plB:()=>kd,jNT:()=>ad,zjR:()=>Yp,TL$:()=>R_,Tbb:()=>ze,M8M:()=>LS,Vt3:()=>Qc,GFd:()=>Pp,OA$:()=>as,Jv_:()=>bm,aNF:()=>Dm,R7$:()=>np,BMQ:()=>Yc,ZvI:()=>Ng,AVh:()=>pd,wni:()=>ny,VBU:()=>oi,FsC:()=>Js,jDH:()=>Wt,G2t:()=>Cs,$C:()=>Ts,EJ8:()=>wi,rXU:()=>la,nrm:()=>od,bVm:()=>du,qex:()=>cu,k0s:()=>uu,j41:()=>lu,RV6:()=>Jp,xGo:()=>ph,KVO:()=>te,kS0:()=>Uu,QTQ:()=>sp,bIt:()=>ld,lsd:()=>ry,XpG:()=>rg,nI1:()=>Vm,bMT:()=>Um,i5U:()=>$m,brH:()=>Bm,Y8G:()=>sd,FS9:()=>ud,Mz_:()=>hu,lJ4:()=>Pm,eq3:()=>Rm,l4e:()=>xm,mGM:()=>ey,sdS:()=>Kp,Njj:()=>Mr,EBC:()=>Hf,eBV:()=>hn,B4B:()=>hc,n$t:()=>pf,xc7:()=>fd,DNE:()=>zp,C5r:()=>ay,EFF:()=>Sg,JRh:()=>md,SpI:()=>gu,Lme:()=>yd,GBs:()=>ty});var u=F(1413),G=F(8359),E=F(1985),ge=F(6365),re=F(8750),H=F(983),X=F(9326),de=F(6648),me=F(4412),oe=F(7673),De=F(7707),Je=F(9974);function Ve(e={}){const{connector:t=(()=>new u.B),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:s=!0}=e;return i=>{let d,p,_,T=0,V=!1,z=!1;const se=()=>{p?.unsubscribe(),p=void 0},ce=()=>{se(),d=_=void 0,V=z=!1},xe=()=>{const Ge=d;ce(),Ge?.unsubscribe()};return(0,Je.N)((Ge,dt)=>{T++,!z&&!V&&se();const Tt=_=_??t();dt.add(()=>{T--,0===T&&!z&&!V&&(p=He(xe,s))}),Tt.subscribe(dt),!d&&T>0&&(d=new De.Ms({next:je=>Tt.next(je),error:je=>{z=!0,se(),p=He(ce,n,je),Tt.error(je)},complete:()=>{V=!0,se(),p=He(ce,r),Tt.complete()}}),(0,re.Tg)(Ge).subscribe(d))})(i)}}function He(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new De.Ms({next:()=>{r.unsubscribe(),e()}});return(0,re.Tg)(t(...n)).subscribe(r)}var Ut=F(5558),ct=F(3294),At=F(1594);function ot(e){for(let t in e)if(e[t]===ot)return t;throw Error("Could not find renamed property on target object.")}function zt(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function ze(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ze).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function We(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const tt=ot({__forward_ref__:ot});function gt(e){return e.__forward_ref__=gt,e.toString=function(){return ze(this())},e}function Me(e){return Xe(e)?e():e}function Xe(e){return"function"==typeof e&&e.hasOwnProperty(tt)&&e.__forward_ref__===gt}function Ot(e){return e&&!!e.\u0275providers}const fn="https://g.co/ng/security#xss";class Qe extends Error{constructor(t,n){super(mt(t,n)),this.code=t}}function mt(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}function st(e){return"string"==typeof e?e:null==e?"":String(e)}function jt(e,t){throw new Qe(-201,!1)}function Dt(e,t){null==e&&function lt(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Wt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Cs(e){return{providers:e.providers||[],imports:e.imports||[]}}function gn(e){return Kt(e,mr)||Kt(e,ar)}function Yt(e){return null!==gn(e)}function Kt(e,t){return e.hasOwnProperty(t)?e[t]:null}function Zt(e){return e&&(e.hasOwnProperty(_r)||e.hasOwnProperty(Gs))?e[_r]:null}const mr=ot({\u0275prov:ot}),_r=ot({\u0275inj:ot}),ar=ot({ngInjectableDef:ot}),Gs=ot({ngInjectorDef:ot});var yt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(yt||{});let Ns;function jn(e){const t=Ns;return Ns=e,t}function yr(e,t,n){const r=gn(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&yt.Optional?null:void 0!==t?t:void jt(ze(e))}const nn=globalThis;class Nt{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Wt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Se={},nt="__NG_DI_FLAG__",St="ngTempTokenPath",Xt=/\n/gm,ur="__source";let En;function le(e){const t=En;return En=e,t}function J(e,t=yt.Default){if(void 0===En)throw new Qe(-203,!1);return null===En?yr(e,void 0,t):En.get(e,t&yt.Optional?null:void 0,t)}function te(e,t=yt.Default){return(function qt(){return Ns}()||J)(Me(e),t)}function Le(e,t=yt.Default){return te(e,Ze(t))}function Ze(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function $e(e){const t=[];for(let n=0;n<e.length;n++){const r=Me(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Qe(900,!1);let s,i=yt.Default;for(let d=0;d<r.length;d++){const p=r[d],_=Vt(p);"number"==typeof _?-1===_?s=p.token:i|=_:s=p}t.push(te(s,i))}else t.push(te(r))}return t}function cn(e,t){return e[nt]=t,e.prototype[nt]=t,e}function Vt(e){return e[nt]}function dn(e){return{toString:e}.toString()}var Tn=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Tn||{}),kr=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(kr||{});const tr={},wt=[],ln=ot({\u0275cmp:ot}),Tr=ot({\u0275dir:ot}),Ar=ot({\u0275pipe:ot}),Jn=ot({\u0275mod:ot}),Dn=ot({\u0275fac:ot}),wr=ot({__NG_ELEMENT_ID__:ot}),Ks=ot({__NG_ENV_ID__:ot});function cr(e,t,n){let r=e.length;for(;;){const s=e.indexOf(t,n);if(-1===s)return s;if(0===s||e.charCodeAt(s-1)<=32){const i=t.length;if(s+i===r||e.charCodeAt(s+i)<=32)return s}n=s+1}}function Ds(e,t,n){let r=0;for(;r<n.length;){const s=n[r];if("number"==typeof s){if(0!==s)break;r++;const i=n[r++],d=n[r++],p=n[r++];e.setAttribute(t,d,p,i)}else{const i=s,d=n[++r];qs(i)?e.setProperty(t,i,d):e.setAttribute(t,i,d),r++}}return r}function ds(e){return 3===e||4===e||6===e}function qs(e){return 64===e.charCodeAt(0)}function Kr(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const s=t[r];"number"==typeof s?n=s:0===n||Br(e,n,s,null,-1===n||2===n?t[++r]:null)}}return e}function Br(e,t,n,r,s){let i=0,d=e.length;if(-1===t)d=-1;else for(;i<e.length;){const p=e[i++];if("number"==typeof p){if(p===t){d=-1;break}if(p>t){d=i-1;break}}}for(;i<e.length;){const p=e[i];if("number"==typeof p)break;if(p===n){if(null===r)return void(null!==s&&(e[i+1]=s));if(r===e[i+1])return void(e[i+2]=s)}i++,null!==r&&i++,null!==s&&i++}-1!==d&&(e.splice(d,0,t),i=d+1),e.splice(i++,0,n),null!==r&&e.splice(i++,0,r),null!==s&&e.splice(i++,0,s)}const ks="ng-template";function Fs(e,t,n){let r=0,s=!0;for(;r<e.length;){let i=e[r++];if("string"==typeof i&&s){const d=e[r++];if(n&&"class"===i&&-1!==cr(d.toLowerCase(),t,0))return!0}else{if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}"number"==typeof i&&(s=!1)}}return!1}function Cr(e){return 4===e.type&&e.value!==ks}function Xs(e,t,n){return t===(4!==e.type||n?e.value:ks)}function Oi(e,t,n){let r=4;const s=e.attrs||[],i=function _i(e){for(let t=0;t<e.length;t++)if(ds(e[t]))return t;return e.length}(s);let d=!1;for(let p=0;p<t.length;p++){const _=t[p];if("number"!=typeof _){if(!d)if(4&r){if(r=2|1&r,""!==_&&!Xs(e,_,n)||""===_&&1===t.length){if(zn(r))return!1;d=!0}}else{const T=8&r?_:t[++p];if(8&r&&null!==e.attrs){if(!Fs(e.attrs,T,n)){if(zn(r))return!1;d=!0}continue}const z=vi(8&r?"class":_,s,Cr(e),n);if(-1===z){if(zn(r))return!1;d=!0;continue}if(""!==T){let se;se=z>i?"":s[z+1].toLowerCase();const ce=8&r?se:null;if(ce&&-1!==cr(ce,T,0)||2&r&&T!==se){if(zn(r))return!1;d=!0}}}}else{if(!d&&!zn(r)&&!zn(_))return!1;if(d&&zn(_))continue;d=!1,r=_|1&r}}return zn(r)||d}function zn(e){return 0==(1&e)}function vi(e,t,n,r){if(null===t)return-1;let s=0;if(r||!n){let i=!1;for(;s<t.length;){const d=t[s];if(d===e)return s;if(3===d||6===d)i=!0;else{if(1===d||2===d){let p=t[++s];for(;"string"==typeof p;)p=t[++s];continue}if(4===d)break;if(0===d){s+=4;continue}}s+=i?1:2}return-1}return function Ri(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function ii(e,t,n=!1){for(let r=0;r<t.length;r++)if(Oi(e,t[r],n))return!0;return!1}function Qs(e,t){return e?":not("+t.trim()+")":t}function Ui(e){let t=e[0],n=1,r=2,s="",i=!1;for(;n<e.length;){let d=e[n];if("string"==typeof d)if(2&r){const p=e[++n];s+="["+d+(p.length>0?'="'+p+'"':"")+"]"}else 8&r?s+="."+d:4&r&&(s+=" "+d);else""!==s&&!zn(d)&&(t+=Qs(i,s),s=""),r=d,i=i||!zn(r);n++}return""!==s&&(t+=Qs(i,s)),t}function oi(e){return dn(()=>{const t=ut(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Tn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||kr.Emulated,styles:e.styles||wt,_:null,schemas:e.schemas||null,tView:null,id:""};fs(n);const r=e.dependencies;return n.directiveDefs=Is(r,!1),n.pipeDefs=Is(r,!0),n.id=function Fr(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const s of n)t=Math.imul(31,t)+s.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function Ms(e){return Ft(e)||Nn(e)}function hs(e){return null!==e}function Ts(e){return dn(()=>({type:e.type,bootstrap:e.bootstrap||wt,declarations:e.declarations||wt,imports:e.imports||wt,exports:e.exports||wt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Ls(e,t){if(null==e)return tr;const n={};for(const r in e)if(e.hasOwnProperty(r)){let s=e[r],i=s;Array.isArray(s)&&(i=s[1],s=s[0]),n[s]=r,t&&(t[s]=i)}return n}function Js(e){return dn(()=>{const t=ut(e);return fs(t),t})}function wi(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Ft(e){return e[ln]||null}function Nn(e){return e[Tr]||null}function or(e){return e[Ar]||null}function qr(e){const t=Ft(e)||Nn(e)||or(e);return null!==t&&t.standalone}function Gn(e,t){const n=e[Jn]||null;if(!n&&!0===t)throw new Error(`Type ${ze(e)} does not have '\u0275mod' property.`);return n}function ut(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||tr,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||wt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ls(e.inputs,t),outputs:Ls(e.outputs)}}function fs(e){e.features?.forEach(t=>t(e))}function Is(e,t){if(!e)return null;const n=t?or:Ms;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(hs)}const rn=0,it=1,It=2,yn=3,dr=4,ai=5,Wn=6,zr=7,kn=8,Er=9,js=10,kt=11,jr=12,Xr=13,Qr=14,On=15,ps=16,Os=17,Vr=18,gs=19,Ys=20,Jr=21,Ir=22,Vs=23,Yr=24,en=25,Fn=1,bn=2,Or=7,Ps=9,li=10,Un=11;function $n(e){return Array.isArray(e)&&"object"==typeof e[Fn]}function hr(e){return Array.isArray(e)&&!0===e[Fn]}function Rs(e){return 0!=(4&e.flags)}function Ur(e){return e.componentOffset>-1}function Zr(e){return 1==(1&e.flags)}function Wr(e){return!!e.template}function Pn(e){return 0!=(512&e[It])}function ts(e,t){return e.hasOwnProperty(Dn)?e[Dn]:null}let Yn=null,ns=!1;function rs(e){const t=Yn;return Yn=e,t}const qi={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Hi(e){if(!Si(e)||e.dirty){if(!e.producerMustRecompute(e)&&!di(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function io(e){e.dirty=!0,function mo(e){if(void 0===e.liveConsumerNode)return;const t=ns;ns=!0;try{for(const n of e.liveConsumerNode)n.dirty||io(n)}finally{ns=t}}(e),e.consumerMarkedDirty?.(e)}function oo(e){return e&&(e.nextProducerIndex=0),rs(e)}function ao(e,t){if(rs(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Si(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Sr(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function di(e){fi(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(Hi(n),r!==n.version))return!0}return!1}function hi(e){if(fi(e),Si(e))for(let t=0;t<e.producerNode.length;t++)Sr(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Sr(e,t){if(function ki(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),fi(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)Sr(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],s=e.liveConsumerNode[t];fi(s),s.producerIndexOfThis[r]=t}}function Si(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function fi(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let S=null;function fr(e){const t=rs(null);try{return e()}finally{rs(t)}}const is=()=>{},$s=(()=>({...qi,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:is}))();class Zs{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function as(){return ei}function ei(e){return e.type.prototype.ngOnChanges&&(e.setInput=Ao),Fi}function Fi(){const e=ti(this),t=e?.current;if(t){const n=e.previous;if(n===tr)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Ao(e,t,n,r){const s=this.declaredInputs[n],i=ti(e)||function vo(e,t){return e[yo]=t}(e,{previous:tr,current:null}),d=i.current||(i.current={}),p=i.previous,_=p[s];d[s]=new Zs(_&&_.currentValue,t,p===tr),e[r]=t}as.ngInherit=!0;const yo="__ngSimpleChanges__";function ti(e){return e[yo]||null}const c=function(e,t,n){};function j(e){for(;Array.isArray(e);)e=e[rn];return e}function ee(e,t){return j(t[e])}function he(e,t){return j(t[e.index])}function rt(e,t){return e.data[t]}function ht(e,t){return e[t]}function $t(e,t){const n=t[e];return $n(n)?n:n[rn]}function m(e,t){return null==t?null:e[t]}function a(e){e[Os]=0}function o(e){1024&e[It]||(e[It]|=1024,v(e,1))}function l(e){1024&e[It]&&(e[It]&=-1025,v(e,-1))}function v(e,t){let n=e[yn];if(null===n)return;n[ai]+=t;let r=n;for(n=n[yn];null!==n&&(1===t&&1===r[ai]||-1===t&&0===r[ai]);)n[ai]+=t,r=n,n=n[yn]}const R={lFrame:Li(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Be(){return R.bindingsEnabled}function Ne(){return null!==R.skipHydrationRootTNode}function ae(){return R.lFrame.lView}function qe(){return R.lFrame.tView}function hn(e){return R.lFrame.contextLView=e,e[kn]}function Mr(e){return R.lFrame.contextLView=null,e}function Ct(){let e=pr();for(;null!==e&&64===e.type;)e=e.parent;return e}function pr(){return R.lFrame.currentTNode}function _n(e,t){const n=R.lFrame;n.currentTNode=e,n.isParent=t}function Ti(){return R.lFrame.isParent}function ls(){R.lFrame.isParent=!1}function Bs(){const e=R.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Io(){return R.lFrame.bindingIndex++}function g(e){const t=R.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function C(e,t){const n=R.lFrame;n.bindingIndex=n.bindingRootIndex=e,U(t)}function U(e){R.lFrame.currentDirectiveIndex=e}function Ee(){return R.lFrame.currentQueryIndex}function _e(e){R.lFrame.currentQueryIndex=e}function ft(e){const t=e[it];return 2===t.type?t.declTNode:1===t.type?e[Wn]:null}function Gt(e,t,n){if(n&yt.SkipSelf){let s=t,i=e;for(;!(s=s.parent,null!==s||n&yt.Host||(s=ft(i),null===s||(i=i[Qr],10&s.type))););if(null===s)return!1;t=s,e=i}const r=R.lFrame=Sn();return r.currentTNode=t,r.lView=e,!0}function Bn(e){const t=Sn(),n=e[it];R.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Sn(){const e=R.lFrame,t=null===e?null:e.child;return null===t?Li(e):t}function Li(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function bo(){const e=R.lFrame;return R.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const wo=bo;function Oo(){const e=bo();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function ni(){return R.lFrame.selectedIndex}function Po(e){R.lFrame.selectedIndex=e}function Pr(){const e=R.lFrame;return rt(e.tView,e.selectedIndex)}function th(){return R.lFrame.currentNamespace}let nh=!0;function fl(){return nh}function Eo(e){nh=e}function pl(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const i=e.data[n].type.prototype,{ngAfterContentInit:d,ngAfterContentChecked:p,ngAfterViewInit:_,ngAfterViewChecked:T,ngOnDestroy:V}=i;d&&(e.contentHooks??=[]).push(-n,d),p&&((e.contentHooks??=[]).push(n,p),(e.contentCheckHooks??=[]).push(n,p)),_&&(e.viewHooks??=[]).push(-n,_),T&&((e.viewHooks??=[]).push(n,T),(e.viewCheckHooks??=[]).push(n,T)),null!=V&&(e.destroyHooks??=[]).push(n,V)}}function gl(e,t,n){rh(e,t,3,n)}function ml(e,t,n,r){(3&e[It])===n&&rh(e,t,n,r)}function xu(e,t){let n=e[It];(3&n)===t&&(n&=8191,n+=1,e[It]=n)}function rh(e,t,n,r){const i=r??-1,d=t.length-1;let p=0;for(let _=void 0!==r?65535&e[Os]:0;_<d;_++)if("number"==typeof t[_+1]){if(p=t[_],null!=r&&p>=r)break}else t[_]<0&&(e[Os]+=65536),(p<i||-1==i)&&(fv(e,n,t,_),e[Os]=(4294901760&e[Os])+_+2),_++}function sh(e,t){c(4,e,t);const n=rs(null);try{t.call(e)}finally{rs(n),c(5,e,t)}}function fv(e,t,n,r){const s=n[r]<0,i=n[r+1],p=e[s?-n[r]:n[r]];s?e[It]>>13<e[Os]>>16&&(3&e[It])===t&&(e[It]+=8192,sh(p,i)):sh(p,i)}const $o=-1;class Aa{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function ku(e){return e!==$o}function Ia(e){return 32767&e}function Oa(e,t){let n=function yv(e){return e>>16}(e),r=t;for(;n>0;)r=r[Qr],n--;return r}let Fu=!0;function yl(e){const t=Fu;return Fu=e,t}const ih=255,oh=5;let vv=0;const Ji={};function vl(e,t){const n=ah(e,t);if(-1!==n)return n;const r=t[it];r.firstCreatePass&&(e.injectorIndex=t.length,Lu(r.data,e),Lu(t,null),Lu(r.blueprint,null));const s=_l(e,t),i=e.injectorIndex;if(ku(s)){const d=Ia(s),p=Oa(s,t),_=p[it].data;for(let T=0;T<8;T++)t[i+T]=p[d+T]|_[d+T]}return t[i+8]=s,i}function Lu(e,t){e.push(0,0,0,0,0,0,0,0,t)}function ah(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function _l(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,s=t;for(;null!==s;){if(r=gh(s),null===r)return $o;if(n++,s=s[Qr],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return $o}function ju(e,t,n){!function _v(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(wr)&&(r=n[wr]),null==r&&(r=n[wr]=vv++);const s=r&ih;t.data[e+(s>>oh)]|=1<<s}(e,t,n)}function lh(e,t,n){if(n&yt.Optional||void 0!==e)return e;jt()}function uh(e,t,n,r){if(n&yt.Optional&&void 0===r&&(r=null),!(n&(yt.Self|yt.Host))){const s=e[Er],i=jn(void 0);try{return s?s.get(t,r,n&yt.Optional):yr(t,r,n&yt.Optional)}finally{jn(i)}}return lh(r,0,n)}function ch(e,t,n,r=yt.Default,s){if(null!==e){if(2048&t[It]&&!(r&yt.Self)){const d=function Sv(e,t,n,r,s){let i=e,d=t;for(;null!==i&&null!==d&&2048&d[It]&&!(512&d[It]);){const p=dh(i,d,n,r|yt.Self,Ji);if(p!==Ji)return p;let _=i.parent;if(!_){const T=d[Ys];if(T){const V=T.get(n,Ji,r);if(V!==Ji)return V}_=gh(d),d=d[Qr]}i=_}return s}(e,t,n,r,Ji);if(d!==Ji)return d}const i=dh(e,t,n,r,Ji);if(i!==Ji)return i}return uh(t,n,r,s)}function dh(e,t,n,r,s){const i=function Cv(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(wr)?e[wr]:void 0;return"number"==typeof t?t>=0?t&ih:Dv:t}(n);if("function"==typeof i){if(!Gt(t,e,r))return r&yt.Host?lh(s,0,r):uh(t,n,r,s);try{let d;if(d=i(r),null!=d||r&yt.Optional)return d;jt()}finally{wo()}}else if("number"==typeof i){let d=null,p=ah(e,t),_=$o,T=r&yt.Host?t[On][Wn]:null;for((-1===p||r&yt.SkipSelf)&&(_=-1===p?_l(e,t):t[p+8],_!==$o&&fh(r,!1)?(d=t[it],p=Ia(_),t=Oa(_,t)):p=-1);-1!==p;){const V=t[it];if(hh(i,p,V.data)){const z=wv(p,t,n,d,r,T);if(z!==Ji)return z}_=t[p+8],_!==$o&&fh(r,t[it].data[p+8]===T)&&hh(i,p,t)?(d=V,p=Ia(_),t=Oa(_,t)):p=-1}}return s}function wv(e,t,n,r,s,i){const d=t[it],p=d.data[e+8],V=bl(p,d,n,null==r?Ur(p)&&Fu:r!=d&&0!=(3&p.type),s&yt.Host&&i===p);return null!==V?Ro(t,d,V,p):Ji}function bl(e,t,n,r,s){const i=e.providerIndexes,d=t.data,p=1048575&i,_=e.directiveStart,V=i>>20,se=s?p+V:e.directiveEnd;for(let ce=r?p:p+V;ce<se;ce++){const xe=d[ce];if(ce<_&&n===xe||ce>=_&&xe.type===n)return ce}if(s){const ce=d[_];if(ce&&Wr(ce)&&ce.type===n)return _}return null}function Ro(e,t,n,r){let s=e[n];const i=t.data;if(function pv(e){return e instanceof Aa}(s)){const d=s;d.resolving&&function gr(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Qe(-200,`Circular dependency in DI detected for ${e}${n}`)}(function xt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():st(e)}(i[n]));const p=yl(d.canSeeViewProviders);d.resolving=!0;const T=d.injectImpl?jn(d.injectImpl):null;Gt(e,r,yt.Default);try{s=e[n]=d.factory(void 0,i,e,r),t.firstCreatePass&&n>=r.directiveStart&&function hv(e,t,n){const{ngOnChanges:r,ngOnInit:s,ngDoCheck:i}=t.type.prototype;if(r){const d=ei(t);(n.preOrderHooks??=[]).push(e,d),(n.preOrderCheckHooks??=[]).push(e,d)}s&&(n.preOrderHooks??=[]).push(0-e,s),i&&((n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i))}(n,i[n],t)}finally{null!==T&&jn(T),yl(p),d.resolving=!1,wo()}}return s}function hh(e,t,n){return!!(n[t+(e>>oh)]&1<<e)}function fh(e,t){return!(e&yt.Self||e&yt.Host&&t)}class ri{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return ch(this._tNode,this._lView,t,Ze(r),n)}}function Dv(){return new ri(Ct(),ae())}function ph(e){return dn(()=>{const t=e.prototype.constructor,n=t[Dn]||Vu(t),r=Object.prototype;let s=Object.getPrototypeOf(e.prototype).constructor;for(;s&&s!==r;){const i=s[Dn]||Vu(s);if(i&&i!==n)return i;s=Object.getPrototypeOf(s)}return i=>new i})}function Vu(e){return Xe(e)?()=>{const t=Vu(Me(e));return t&&t()}:ts(e)}function gh(e){const t=e[it],n=t.type;return 2===n?t.declTNode:1===n?e[Wn]:null}function Uu(e){return function bv(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let s=0;for(;s<r;){const i=n[s];if(ds(i))break;if(0===i)s+=2;else if("number"==typeof i)for(s++;s<r&&"string"==typeof n[s];)s++;else{if(i===t)return n[s+1];s+=2}}}return null}(Ct(),e)}const Ho="__parameters__";function Go(e,t,n){return dn(()=>{const r=function $u(e){return function(...n){if(e){const r=e(...n);for(const s in r)this[s]=r[s]}}}(t);function s(...i){if(this instanceof s)return r.apply(this,i),this;const d=new s(...i);return p.annotation=d,p;function p(_,T,V){const z=_.hasOwnProperty(Ho)?_[Ho]:Object.defineProperty(_,Ho,{value:[]})[Ho];for(;z.length<=V;)z.push(null);return(z[V]=z[V]||[]).push(d),_}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s})}function Ko(e,t){e.forEach(n=>Array.isArray(n)?Ko(n,t):t(n))}function yh(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function wl(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Ai(e,t,n){let r=qo(e,t);return r>=0?e[1|r]=n:(r=~r,function Rv(e,t,n,r){let s=e.length;if(s==t)e.push(n,r);else if(1===s)e.push(r,e[0]),e[0]=n;else{for(s--,e.push(e[s-1],e[s]);s>t;)e[s]=e[s-2],s--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Bu(e,t){const n=qo(e,t);if(n>=0)return e[1|n]}function qo(e,t){return function vh(e,t,n){let r=0,s=e.length>>n;for(;s!==r;){const i=r+(s-r>>1),d=e[i<<n];if(t===d)return i<<n;d>t?s=i:r=i+1}return~(s<<n)}(e,t,1)}const El=cn(Go("Optional"),8),Dl=cn(Go("SkipSelf"),4),Qo="ngSkipHydration";function Ah(e){const t=Qo.toLowerCase(),n=e.mergedAttrs;if(null===n)return!1;for(let r=0;r<n.length;r+=2){const s=n[r];if("number"==typeof s)return!1;if("string"==typeof s&&s.toLowerCase()===t)return!0}return!1}function Ih(e){return e.hasAttribute(Qo)}function Il(e){return 128==(128&e.flags)}var Pl=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Pl||{});const Zv=/^>|^->|<!--|-->|--!>|<!-$/g,e_=/(<|>)/g,t_="\u200b$1\u200b";const Ku=new Map;let n_=0;const Xu="__ngContext__";function Hs(e,t){$n(t)?(e[Xu]=t[gs],function s_(e){Ku.set(e[gs],e)}(t)):e[Xu]=t}let Qu;function Ju(e,t){return Qu(e,t)}function Fa(e){const t=e[yn];return hr(t)?t[yn]:t}function jh(e){return Uh(e[jr])}function Vh(e){return Uh(e[dr])}function Uh(e){for(;null!==e&&!hr(e);)e=e[dr];return e}function Jo(e,t,n,r,s){if(null!=r){let i,d=!1;hr(r)?i=r:$n(r)&&(d=!0,r=r[rn]);const p=j(r);0===e&&null!==n?null==s?zh(t,n,p):xo(t,n,p,s||null,!0):1===e&&null!==n?xo(t,n,p,s||null,!0):2===e?Ll(t,p,d):3===e&&t.destroyNode(p),null!=i&&function M_(e,t,n,r,s){const i=n[Or];i!==j(n)&&Jo(t,e,r,i,s);for(let p=Un;p<n.length;p++){const _=n[p];ja(_[it],_,e,t,r,i)}}(t,e,i,n,s)}}function Rl(e,t){return e.createText(t)}function Yu(e,t){return e.createComment(function Oh(e){return e.replace(Zv,t=>t.replace(e_,t_))}(t))}function xl(e,t,n){return e.createElement(t,n)}function Bh(e,t){const n=e[Ps],r=n.indexOf(t);l(t),n.splice(r,1)}function Nl(e,t){if(e.length<=Un)return;const n=Un+t,r=e[n];if(r){const s=r[ps];null!==s&&s!==e&&Bh(s,r),t>0&&(e[n-1][dr]=r[dr]);const i=wl(e,Un+t);!function g_(e,t){ja(e,t,t[kt],2,null,null),t[rn]=null,t[Wn]=null}(r[it],r);const d=i[Vr];null!==d&&d.detachView(i[it]),r[yn]=null,r[dr]=null,r[It]&=-129}return r}function Zu(e,t){if(!(256&t[It])){const n=t[kt];t[Vs]&&hi(t[Vs]),t[Yr]&&hi(t[Yr]),n.destroyNode&&ja(e,t,n,3,null,null),function v_(e){let t=e[jr];if(!t)return ec(e[it],e);for(;t;){let n=null;if($n(t))n=t[jr];else{const r=t[Un];r&&(n=r)}if(!n){for(;t&&!t[dr]&&t!==e;)$n(t)&&ec(t[it],t),t=t[yn];null===t&&(t=e),$n(t)&&ec(t[it],t),n=t&&t[dr]}t=n}}(t)}}function ec(e,t){if(!(256&t[It])){t[It]&=-129,t[It]|=256,function C_(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const s=t[n[r]];if(!(s instanceof Aa)){const i=n[r+1];if(Array.isArray(i))for(let d=0;d<i.length;d+=2){const p=s[i[d]],_=i[d+1];c(4,p,_);try{_.call(p)}finally{c(5,p,_)}}else{c(4,s,i);try{i.call(s)}finally{c(5,s,i)}}}}}(e,t),function w_(e,t){const n=e.cleanup,r=t[zr];if(null!==n)for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const d=n[i+3];d>=0?r[d]():r[-d].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);null!==r&&(t[zr]=null);const s=t[Jr];if(null!==s){t[Jr]=null;for(let i=0;i<s.length;i++)(0,s[i])()}}(e,t),1===t[it].type&&t[kt].destroy();const n=t[ps];if(null!==n&&hr(t[yn])){n!==t[yn]&&Bh(n,t);const r=t[Vr];null!==r&&r.detachView(e)}!function i_(e){Ku.delete(e[gs])}(t)}}function tc(e,t,n){return function Hh(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[rn];{const{componentOffset:s}=r;if(s>-1){const{encapsulation:i}=e.data[r.directiveStart+s];if(i===kr.None||i===kr.Emulated)return null}return he(r,n)}}(e,t.parent,n)}function xo(e,t,n,r,s){e.insertBefore(t,n,r,s)}function zh(e,t,n){e.appendChild(t,n)}function Gh(e,t,n,r,s){null!==r?xo(e,t,n,r,s):zh(e,t,n)}function kl(e,t){return e.parentNode(t)}let nc,oc,Vl,qh=function Kh(e,t,n){return 40&e.type?he(e,n):null};function Fl(e,t,n,r){const s=tc(e,r,t),i=t[kt],p=function Wh(e,t,n){return qh(e,t,n)}(r.parent||t[Wn],r,t);if(null!=s)if(Array.isArray(n))for(let _=0;_<n.length;_++)Gh(i,s,n[_],p,!1);else Gh(i,s,n,p,!1);void 0!==nc&&nc(i,r,t,n,s)}function La(e,t){if(null!==t){const n=t.type;if(3&n)return he(t,e);if(4&n)return rc(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return La(e,r);{const s=e[t.index];return hr(s)?rc(-1,s):j(s)}}if(32&n)return Ju(t,e)()||j(e[t.index]);{const r=Qh(e,t);return null!==r?Array.isArray(r)?r[0]:La(Fa(e[On]),r):La(e,t.next)}}return null}function Qh(e,t){return null!==t?e[On][Wn].projection[t.projection]:null}function rc(e,t){const n=Un+e+1;if(n<t.length){const r=t[n],s=r[it].firstChild;if(null!==s)return La(r,s)}return t[Or]}function Ll(e,t,n){const r=kl(e,t);r&&function E_(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}function Jh(e){e.textContent=""}function sc(e,t,n,r,s,i,d){for(;null!=n;){const p=r[n.index],_=n.type;if(d&&0===t&&(p&&Hs(j(p),r),n.flags|=2),32!=(32&n.flags))if(8&_)sc(e,t,n.child,r,s,i,!1),Jo(t,e,s,p,i);else if(32&_){const T=Ju(n,r);let V;for(;V=T();)Jo(t,e,s,V,i);Jo(t,e,s,p,i)}else 16&_?Yh(e,t,r,n,s,i):Jo(t,e,s,p,i);n=d?n.projectionNext:n.next}}function ja(e,t,n,r,s,i){sc(n,r,e.firstChild,t,s,i,!1)}function Yh(e,t,n,r,s,i){const d=n[On],_=d[Wn].projection[r.projection];if(Array.isArray(_))for(let T=0;T<_.length;T++)Jo(t,e,s,_[T],i);else{let T=_;const V=d[yn];Il(r)&&(T.flags|=128),sc(e,t,T,V,s,i,!0)}}function Zh(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function ef(e,t,n){const{mergedAttrs:r,classes:s,styles:i}=n;null!==r&&Ds(e,t,r),null!==s&&Zh(e,t,s),null!==i&&function A_(e,t,n){e.setAttribute(t,"style",n)}(e,t,i)}function R_(e){oc=e}function Zo(){if(void 0!==oc)return oc;if(typeof document<"u")return document;throw new Qe(210,!1)}function rf(e){return function ac(){if(void 0===Vl&&(Vl=null,nn.trustedTypes))try{Vl=nn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Vl}()?.createScriptURL(e)||e}class sf{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${fn})`}}function Do(e){return e instanceof sf?e.changingThisBreaksApplicationSecurity:e}function Va(e,t){const n=function j_(e){return e instanceof sf&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${fn})`)}return n===t}const B_=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var ea=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(ea||{});function hc(e){const t=$a();return t?t.sanitize(ea.URL,e)||"":Va(e,"URL")?Do(e):function lc(e){return(e=String(e)).match(B_)?e:"unsafe:"+e}(st(e))}function ff(e){const t=$a();if(t)return rf(t.sanitize(ea.RESOURCE_URL,e)||"");if(Va(e,"ResourceURL"))return rf(Do(e));throw new Qe(904,!1)}function pf(e,t,n){return function e0(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?ff:hc}(t,n)(e)}function $a(){const e=ae();return e&&e[js].sanitizer}const Ba=new Nt("ENVIRONMENT_INITIALIZER"),gf=new Nt("INJECTOR",-1),mf=new Nt("INJECTOR_DEF_TYPES");class fc{get(t,n=Se){if(n===Se){const r=new Error(`NullInjectorError: No provider for ${ze(t)}!`);throw r.name="NullInjectorError",r}return n}}function pc(e){return{\u0275providers:e}}function t0(...e){return{\u0275providers:yf(0,e),\u0275fromNgModule:!0}}function yf(e,...t){const n=[],r=new Set;let s;const i=d=>{n.push(d)};return Ko(t,d=>{const p=d;$l(p,i,[],r)&&(s||=[],s.push(p))}),void 0!==s&&vf(s,i),n}function vf(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:s}=e[n];gc(s,i=>{t(i,r)})}}function $l(e,t,n,r){if(!(e=Me(e)))return!1;let s=null,i=Zt(e);const d=!i&&Ft(e);if(i||d){if(d&&!d.standalone)return!1;s=e}else{const _=e.ngModule;if(i=Zt(_),!i)return!1;s=_}const p=r.has(s);if(d){if(p)return!1;if(r.add(s),d.dependencies){const _="function"==typeof d.dependencies?d.dependencies():d.dependencies;for(const T of _)$l(T,t,n,r)}}else{if(!i)return!1;{if(null!=i.imports&&!p){let T;r.add(s);try{Ko(i.imports,V=>{$l(V,t,n,r)&&(T||=[],T.push(V))})}finally{}void 0!==T&&vf(T,t)}if(!p){const T=ts(s)||(()=>new s);t({provide:s,useFactory:T,deps:wt},s),t({provide:mf,useValue:s,multi:!0},s),t({provide:Ba,useValue:()=>te(s),multi:!0},s)}const _=i.providers;if(null!=_&&!p){const T=e;gc(_,V=>{t(V,T)})}}}return s!==e&&void 0!==e.providers}function gc(e,t){for(let n of e)Ot(n)&&(n=n.\u0275providers),Array.isArray(n)?gc(n,t):t(n)}const n0=ot({provide:String,useValue:ot});function mc(e){return null!==e&&"object"==typeof e&&n0 in e}function No(e){return"function"==typeof e}const yc=new Nt("Set Injector scope."),Bl={},s0={};let vc;function Hl(){return void 0===vc&&(vc=new fc),vc}class Yi{}class ta extends Yi{get destroyed(){return this._destroyed}constructor(t,n,r,s){super(),this.parent=n,this.source=r,this.scopes=s,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,bc(t,d=>this.processProvider(d)),this.records.set(gf,na(void 0,this)),s.has("environment")&&this.records.set(Yi,na(void 0,this));const i=this.records.get(yc);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(mf.multi,wt,yt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=le(this),r=jn(void 0);try{return t()}finally{le(n),jn(r)}}get(t,n=Se,r=yt.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Ks))return t[Ks](this);r=Ze(r);const i=le(this),d=jn(void 0);try{if(!(r&yt.SkipSelf)){let _=this.records.get(t);if(void 0===_){const T=function c0(e){return"function"==typeof e||"object"==typeof e&&e instanceof Nt}(t)&&gn(t);_=T&&this.injectableDefInScope(T)?na(_c(t),Bl):null,this.records.set(t,_)}if(null!=_)return this.hydrate(t,_)}return(r&yt.Self?Hl():this.parent).get(t,n=r&yt.Optional&&n===Se?null:n)}catch(p){if("NullInjectorError"===p.name){if((p[St]=p[St]||[]).unshift(ze(t)),i)throw p;return function In(e,t,n,r){const s=e[St];throw t[ur]&&s.unshift(t[ur]),e.message=function Hn(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let s=ze(t);if(Array.isArray(t))s=t.map(ze).join(" -> ");else if("object"==typeof t){let i=[];for(let d in t)if(t.hasOwnProperty(d)){let p=t[d];i.push(d+":"+("string"==typeof p?JSON.stringify(p):ze(p)))}s=`{${i.join(", ")}}`}return`${n}${r?"("+r+")":""}[${s}]: ${e.replace(Xt,"\n  ")}`}("\n"+e.message,s,n,r),e.ngTokenPath=s,e[St]=null,e}(p,t,"R3InjectorError",this.source)}throw p}finally{jn(d),le(i)}}resolveInjectorInitializers(){const t=le(this),n=jn(void 0);try{const s=this.get(Ba.multi,wt,yt.Self);for(const i of s)i()}finally{le(t),jn(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(ze(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Qe(205,!1)}processProvider(t){let n=No(t=Me(t))?t:Me(t&&t.provide);const r=function a0(e){return mc(e)?na(void 0,e.useValue):na(wf(e),Bl)}(t);if(No(t)||!0!==t.multi)this.records.get(n);else{let s=this.records.get(n);s||(s=na(void 0,Bl,!0),s.factory=()=>$e(s.multi),this.records.set(n,s)),n=t,s.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===Bl&&(n.value=s0,n.value=n.factory()),"object"==typeof n.value&&n.value&&function u0(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Me(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function _c(e){const t=gn(e),n=null!==t?t.factory:ts(e);if(null!==n)return n;if(e instanceof Nt)throw new Qe(204,!1);if(e instanceof Function)return function o0(e){const t=e.length;if(t>0)throw function xa(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new Qe(204,!1);const n=function Kn(e){return e&&(e[mr]||e[ar])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Qe(204,!1)}function wf(e,t,n){let r;if(No(e)){const s=Me(e);return ts(s)||_c(s)}if(mc(e))r=()=>Me(e.useValue);else if(function bf(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...$e(e.deps||[]));else if(function _f(e){return!(!e||!e.useExisting)}(e))r=()=>te(Me(e.useExisting));else{const s=Me(e&&(e.useClass||e.provide));if(!function l0(e){return!!e.deps}(e))return ts(s)||_c(s);r=()=>new s(...$e(e.deps))}return r}function na(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function bc(e,t){for(const n of e)Array.isArray(n)?bc(n,t):n&&Ot(n)?bc(n.\u0275providers,t):t(n)}const Cf=new Nt("AppId",{providedIn:"root",factory:()=>d0}),d0="ng",Ef=new Nt("Platform Initializer"),wc=new Nt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),h0=new Nt("AnimationModuleType"),f0=new Nt("CSP nonce",{providedIn:"root",factory:()=>Zo().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),Df=new Nt("",{providedIn:"root",factory:()=>new Set});function p0(e){return e}function g0(){const e=new Ha;return"browser"===Le(wc)&&(e.store=function m0(e,t){const n=e.getElementById(t+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+t,r)}return{}}(Zo(),Le(Cf))),e}let Ha=(()=>{class e{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=Wt({token:e,providedIn:"root",factory:g0})}get(n,r){return void 0!==this.store[n]?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(const n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return e})();const Cc="h",Ec="b";var ra=function(e){return e.FirstChild="f",e.NextSibling="n",e}(ra||{});const Dc="e",Sc="t",za="c",zl="x",sa="r",Mc="i",Tc="n",Gl="d",Ac="__\u0275nghData__",Ga="ngh",y0="nghm";let Sf=(e,t,n)=>null;function v0(e,t,n=!1){let r=e.getAttribute(Ga);if(null==r)return null;const[s,i]=r.split("|");if(r=n?i:s,!r)return null;const d=n?s:i?`|${i}`:"";let p={};if(""!==r){const T=t.get(Ha,null,{optional:!0});null!==T&&(p=T.get(Ac,[])[Number(r)])}const _={data:p,firstChild:e.firstChild??null};return n&&(_.firstChild=e,Wl(_,0,e.nextSibling)),d?e.setAttribute(Ga,d):e.removeAttribute(Ga),_}function Ic(e,t,n=!1){return Sf(e,t,n)}function Mf(e){let t=e._lView;return 2===t[it].type?null:(Pn(t)&&(t=t[en]),t)}function Wl(e,t,n){e.segmentHeads??={},e.segmentHeads[t]=n}function Oc(e,t){return e.segmentHeads?.[t]??null}function Tf(e,t){return e.data[za]?.[t]??null}function Pc(e,t){const n=Tf(e,t)??[];let r=0;for(let s of n)r+=s[sa]*(s[zl]??1);return r}function Kl(e,t){if(typeof e.disconnectedNodes>"u"){const n=e.data[Gl];e.disconnectedNodes=n?new Set(n):null}return!!e.disconnectedNodes?.has(t)}class D0{}class Af{}class M0{resolveComponentFactory(t){throw function S0(e){const t=Error(`No component factory found for ${ze(e)}.`);return t.ngComponent=e,t}(t)}}let ql=(()=>{class e{static{this.NULL=new M0}}return e})();function T0(){return ia(Ct(),ae())}function ia(e,t){return new Wa(he(e,t))}let Wa=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=T0}}return e})();function A0(e){return e instanceof Wa?e.nativeElement:e}class Of{}let I0=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function O0(){const e=ae(),n=$t(Ct().index,e);return($n(n)?n:e)[kt]}()}}return e})(),P0=(()=>{class e{static{this.\u0275prov=Wt({token:e,providedIn:"root",factory:()=>null})}}return e})();class Pf{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const R0=new Pf("16.2.12"),Rc={};function kf(e,t=null,n=null,r){const s=Ff(e,t,n,r);return s.resolveInjectorInitializers(),s}function Ff(e,t=null,n=null,r,s=new Set){const i=[n||wt,t0(e)];return r=r||("object"==typeof e?void 0:ze(e)),new ta(i,t||Hl(),r||null,s)}let Gi=(()=>{class e{static{this.THROW_IF_NOT_FOUND=Se}static{this.NULL=new fc}static create(n,r){if(Array.isArray(n))return kf({name:""},r,n,"");{const s=n.name??"";return kf({name:s},n.parent,n.providers,s)}}static{this.\u0275prov=Wt({token:e,providedIn:"any",factory:()=>te(gf)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();function Nc(e){return e.ngOriginalError}class So{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Nc(t);for(;n&&Nc(n);)n=Nc(n);return n||null}}function kc(e){return t=>{setTimeout(e,void 0,t)}}const Zi=class U0 extends u.B{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let s=t,i=n||(()=>null),d=r;if(t&&"object"==typeof t){const _=t;s=_.next?.bind(_),i=_.error?.bind(_),d=_.complete?.bind(_)}this.__isAsync&&(i=kc(i),s&&(s=kc(s)),d&&(d=kc(d)));const p=super.subscribe({next:s,error:i,complete:d});return t instanceof G.yU&&t.add(p),p}};function jf(...e){}class ws{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Zi(!1),this.onMicrotaskEmpty=new Zi(!1),this.onStable=new Zi(!1),this.onError=new Zi(!1),typeof Zone>"u")throw new Qe(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&n,s.shouldCoalesceRunChangeDetection=r,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function $0(){const e="function"==typeof nn.requestAnimationFrame;let t=nn[e?"requestAnimationFrame":"setTimeout"],n=nn[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function z0(e){const t=()=>{!function H0(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(nn,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Lc(e),e.isCheckStableRunning=!0,Fc(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Lc(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,s,i,d,p)=>{if(function W0(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(p))return n.invokeTask(s,i,d,p);try{return Vf(e),n.invokeTask(s,i,d,p)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||e.shouldCoalesceRunChangeDetection)&&t(),Uf(e)}},onInvoke:(n,r,s,i,d,p,_)=>{try{return Vf(e),n.invoke(s,i,d,p,_)}finally{e.shouldCoalesceRunChangeDetection&&t(),Uf(e)}},onHasTask:(n,r,s,i)=>{n.hasTask(s,i),r===s&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,Lc(e),Fc(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(n,r,s,i)=>(n.handleError(s,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ws.isInAngularZone())throw new Qe(909,!1)}static assertNotInAngularZone(){if(ws.isInAngularZone())throw new Qe(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,s){const i=this._inner,d=i.scheduleEventTask("NgZoneEvent: "+s,t,B0,jf,jf);try{return i.runTask(d,n,r)}finally{i.cancelTask(d)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const B0={};function Fc(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Lc(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Vf(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Uf(e){e._nesting--,Fc(e)}const $f=new Nt("",{providedIn:"root",factory:Bf});function Bf(){const e=Le(ws);let t=!0;return function fe(...e){const t=(0,X.lI)(e),n=(0,X.R0)(e,1/0),r=e;return r.length?1===r.length?(0,re.Tg)(r[0]):(0,ge.U)(n)((0,de.H)(r,t)):H.w}(new E.c(s=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{s.next(t),s.complete()})}),new E.c(s=>{let i;e.runOutsideAngular(()=>{i=e.onStable.subscribe(()=>{ws.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,s.next(!0))})})});const d=e.onUnstable.subscribe(()=>{ws.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{s.next(!1)}))});return()=>{i.unsubscribe(),d.unsubscribe()}}).pipe(Ve()))}function Hf(e){return e.ownerDocument}function ho(e){return e instanceof Function?e():e}function aa(e){return"browser"===(e??Le(Gi)).get(wc)}let jc=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=Wt({token:e,providedIn:"root",factory:()=>new e})}}return e})();function Ka(e){for(;e;){e[It]|=64;const t=Fa(e);if(Pn(e)&&!t)return e;e=t}return null}const Ql=new Nt(""),qf=new Nt("",{providedIn:"root",factory:()=>!1});let Jl=null;function Yf(e,t){return e[t]??tp()}function Zf(e,t){const n=tp();n.producerNode?.length&&(e[t]=Jl,n.lView=e,Jl=ep())}const tb={...qi,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Ka(e.lView)},lView:null};function ep(){return Object.create(tb)}function tp(){return Jl??=ep(),Jl}const on={};function np(e){rp(qe(),ae(),ni()+e,!1)}function rp(e,t,n,r){if(!r)if(3==(3&t[It])){const i=e.preOrderCheckHooks;null!==i&&gl(t,i,n)}else{const i=e.preOrderHooks;null!==i&&ml(t,i,0,n)}Po(n)}function la(e,t=yt.Default){const n=ae();return null===n?te(e,t):ch(Ct(),n,Me(e),t)}function sp(){throw new Error("invalid")}function Yl(e,t,n,r,s,i,d,p,_,T,V){const z=t.blueprint.slice();return z[rn]=s,z[It]=140|r,(null!==T||e&&2048&e[It])&&(z[It]|=2048),a(z),z[yn]=z[Qr]=e,z[kn]=n,z[js]=d||e&&e[js],z[kt]=p||e&&e[kt],z[Er]=_||e&&e[Er]||null,z[Wn]=i,z[gs]=function r_(){return n_++}(),z[Ir]=V,z[Ys]=T,z[On]=2==t.type?e[On]:z,z}function ua(e,t,n,r,s){let i=e.data[t];if(null===i)i=function Vc(e,t,n,r,s){const i=pr(),d=Ti(),_=e.data[t]=function ub(e,t,n,r,s,i){let d=t?t.injectorIndex:-1,p=0;return Ne()&&(p|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:d,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:p,providerIndexes:0,value:s,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,d?i:i&&i.parent,n,t,r,s);return null===e.firstChild&&(e.firstChild=_),null!==i&&(d?null==i.child&&null!==_.parent&&(i.child=_):null===i.next&&(i.next=_,_.prev=i)),_}(e,t,n,r,s),function b(){return R.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=n,i.value=r,i.attrs=s;const d=function bs(){const e=R.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();i.injectorIndex=null===d?-1:d.injectorIndex}return _n(i,!0),i}function qa(e,t,n,r){if(0===n)return-1;const s=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return s}function ip(e,t,n,r,s){const i=Yf(t,Vs),d=ni(),p=2&r;try{Po(-1),p&&t.length>en&&rp(e,t,en,!1),c(p?2:0,s);const T=p?i:null,V=oo(T);try{null!==T&&(T.dirty=!1),n(r,s)}finally{ao(T,V)}}finally{p&&null===t[Vs]&&Zf(t,Vs),Po(d),c(p?3:1,s)}}function Uc(e,t,n){if(Rs(t)){const r=rs(null);try{const i=t.directiveEnd;for(let d=t.directiveStart;d<i;d++){const p=e.data[d];p.contentQueries&&p.contentQueries(1,n[d],d)}}finally{rs(r)}}}function $c(e,t,n){Be()&&(function mb(e,t,n,r){const s=n.directiveStart,i=n.directiveEnd;Ur(n)&&function Eb(e,t,n){const r=he(t,e),s=op(n);let d=16;n.signals?d=4096:n.onPush&&(d=64);const p=Zl(e,Yl(e,s,null,d,r,t,null,e[js].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=p}(t,n,e.data[s+n.componentOffset]),e.firstCreatePass||vl(n,t),Hs(r,t);const d=n.initialInputs;for(let p=s;p<i;p++){const _=e.data[p],T=Ro(t,e,p,n);Hs(T,t),null!==d&&Db(0,p-s,T,_,0,d),Wr(_)&&($t(n.index,t)[kn]=Ro(t,e,p,n))}}(e,t,n,he(n,t)),64==(64&n.flags)&&dp(e,t,n))}function Bc(e,t,n=he){const r=t.localNames;if(null!==r){let s=t.index+1;for(let i=0;i<r.length;i+=2){const d=r[i+1],p=-1===d?n(t,e):e[d];e[s++]=p}}}function op(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Hc(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Hc(e,t,n,r,s,i,d,p,_,T,V){const z=en+r,se=z+s,ce=function rb(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:on);return n}(z,se),xe="function"==typeof T?T():T;return ce[it]={type:e,blueprint:ce,template:n,queries:null,viewQuery:p,declTNode:t,data:ce.slice().fill(null,z),bindingStartIndex:z,expandoStartIndex:se,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof d?d():d,firstChild:null,schemas:_,consts:xe,incompleteFirstPass:!1,ssrId:V}}let ap=e=>null;function ob(e){Ih(e)?Jh(e):function w0(e){const t=Zo(),n=t.createNodeIterator(e,NodeFilter.SHOW_COMMENT,{acceptNode(i){const d=function b0(e){return e.textContent?.replace(/\s/gm,"")}(i);return"ngetn"===d||"ngtns"===d?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}});let r;const s=[];for(;r=n.nextNode();)s.push(r);for(const i of s)"ngetn"===i.textContent?i.replaceWith(t.createTextNode("")):i.remove()}(e)}function lp(e,t,n,r){for(let s in e)if(e.hasOwnProperty(s)){n=null===n?{}:n;const i=e[s];null===r?up(n,t,s,i):r.hasOwnProperty(s)&&up(n,t,r[s],i)}return n}function up(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function Ii(e,t,n,r,s,i,d,p){const _=he(t,n);let V,T=t.inputs;!p&&null!=T&&(V=T[r])?(qc(e,n,V,r,s),Ur(t)&&function hb(e,t){const n=$t(t,e);16&n[It]||(n[It]|=64)}(n,t.index)):3&t.type&&(r=function db(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),s=null!=d?d(s,t.value||"",r):s,i.setProperty(_,r,s))}function zc(e,t,n,r){if(Be()){const s=null===r?null:{"":-1},i=function vb(e,t){const n=e.directiveRegistry;let r=null,s=null;if(n)for(let i=0;i<n.length;i++){const d=n[i];if(ii(t,d.selectors,!1))if(r||(r=[]),Wr(d))if(null!==d.findHostDirectiveDefs){const p=[];s=s||new Map,d.findHostDirectiveDefs(d,p,s),r.unshift(...p,d),Gc(e,t,p.length)}else r.unshift(d),Gc(e,t,0);else s=s||new Map,d.findHostDirectiveDefs?.(d,r,s),r.push(d)}return null===r?null:[r,s]}(e,n);let d,p;null===i?d=p=null:[d,p]=i,null!==d&&cp(e,t,n,d,s,p),s&&function _b(e,t,n){if(t){const r=e.localNames=[];for(let s=0;s<t.length;s+=2){const i=n[t[s+1]];if(null==i)throw new Qe(-301,!1);r.push(t[s],i)}}}(n,r,s)}n.mergedAttrs=Kr(n.mergedAttrs,n.attrs)}function cp(e,t,n,r,s,i){for(let T=0;T<r.length;T++)ju(vl(n,t),e,r[T].type);!function wb(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let T=0;T<r.length;T++){const V=r[T];V.providersResolver&&V.providersResolver(V)}let d=!1,p=!1,_=qa(e,t,r.length,null);for(let T=0;T<r.length;T++){const V=r[T];n.mergedAttrs=Kr(n.mergedAttrs,V.hostAttrs),Cb(e,n,t,_,V),bb(_,V,s),null!==V.contentQueries&&(n.flags|=4),(null!==V.hostBindings||null!==V.hostAttrs||0!==V.hostVars)&&(n.flags|=64);const z=V.type.prototype;!d&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),d=!0),!p&&(z.ngOnChanges||z.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),p=!0),_++}!function cb(e,t,n){const s=t.directiveEnd,i=e.data,d=t.attrs,p=[];let _=null,T=null;for(let V=t.directiveStart;V<s;V++){const z=i[V],se=n?n.get(z):null,xe=se?se.outputs:null;_=lp(z.inputs,V,_,se?se.inputs:null),T=lp(z.outputs,V,T,xe);const Ge=null===_||null===d||Cr(t)?null:Sb(_,V,d);p.push(Ge)}null!==_&&(_.hasOwnProperty("class")&&(t.flags|=8),_.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=p,t.inputs=_,t.outputs=T}(e,n,i)}function dp(e,t,n){const r=n.directiveStart,s=n.directiveEnd,i=n.index,d=function O(){return R.lFrame.currentDirectiveIndex}();try{Po(i);for(let p=r;p<s;p++){const _=e.data[p],T=t[p];U(p),(null!==_.hostBindings||0!==_.hostVars||null!==_.hostAttrs)&&yb(_,T)}}finally{Po(-1),U(d)}}function yb(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Gc(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function bb(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Wr(t)&&(n[""]=e)}}function Cb(e,t,n,r,s){e.data[r]=s;const i=s.factory||(s.factory=ts(s.type)),d=new Aa(i,Wr(s),la);e.blueprint[r]=d,n[r]=d,function pb(e,t,n,r,s){const i=s.hostBindings;if(i){let d=e.hostBindingOpCodes;null===d&&(d=e.hostBindingOpCodes=[]);const p=~t.index;(function gb(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(d)!=p&&d.push(p),d.push(n,r,i)}}(e,t,r,qa(e,n,s.hostVars,on),s)}function eo(e,t,n,r,s,i){const d=he(e,t);!function Wc(e,t,n,r,s,i,d){if(null==i)e.removeAttribute(t,s,n);else{const p=null==d?st(i):d(i,r||"",s);e.setAttribute(t,s,p,n)}}(t[kt],d,i,e.value,n,r,s)}function Db(e,t,n,r,s,i){const d=i[t];if(null!==d)for(let p=0;p<d.length;)hp(r,n,d[p++],d[p++],d[p++])}function hp(e,t,n,r,s){const i=rs(null);try{const d=e.inputTransforms;null!==d&&d.hasOwnProperty(r)&&(s=d[r].call(t,s)),null!==e.setInput?e.setInput(t,s,n,r):t[r]=s}finally{rs(i)}}function Sb(e,t,n){let r=null,s=0;for(;s<n.length;){const i=n[s];if(0!==i)if(5!==i){if("number"==typeof i)break;if(e.hasOwnProperty(i)){null===r&&(r=[]);const d=e[i];for(let p=0;p<d.length;p+=2)if(d[p]===t){r.push(i,d[p+1],n[s+1]);break}}s+=2}else s+=2;else s+=4}return r}function fp(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}function pp(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r+1];if(-1!==i){const d=e.data[i];_e(n[r]),d.contentQueries(2,t[i],i)}}}function Zl(e,t){return e[jr]?e[Xr][dr]=t:e[jr]=t,e[Xr]=t,t}function Kc(e,t,n){_e(0);const r=rs(null);try{t(e,n)}finally{rs(r)}}function gp(e){return e[zr]||(e[zr]=[])}function mp(e){return e.cleanup||(e.cleanup=[])}function vp(e,t){const n=e[Er],r=n?n.get(So,null):null;r&&r.handleError(t)}function qc(e,t,n,r,s){for(let i=0;i<n.length;){const d=n[i++],p=n[i++];hp(e.data[d],t[d],r,p,s)}}function fo(e,t,n){const r=ee(t,e);!function $h(e,t,n){e.setValue(t,n)}(e[kt],r,n)}function Mb(e,t){const n=$t(t,e),r=n[it];!function Tb(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const s=n[rn];null!==s&&null===n[Ir]&&(n[Ir]=Ic(s,n[Er])),Xc(r,n,n[kn])}function Xc(e,t,n){Bn(t);try{const r=e.viewQuery;null!==r&&Kc(1,r,n);const s=e.template;null!==s&&ip(e,t,s,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&pp(e,t),e.staticViewQueries&&Kc(2,e.viewQuery,n);const i=e.components;null!==i&&function Ab(e,t){for(let n=0;n<t.length;n++)Mb(e,t[n])}(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[It]&=-5,Oo()}}let _p=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,r,s){const i=typeof Zone>"u"?null:Zone.current,d=function ss(e,t,n){const r=Object.create($s);n&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=t;const s=d=>{r.cleanupFn=d};return r.ref={notify:()=>io(r),run:()=>{if(r.dirty=!1,r.hasRun&&!di(r))return;r.hasRun=!0;const d=oo(r);try{r.cleanupFn(),r.cleanupFn=is,r.fn(s)}finally{ao(r,d)}},cleanup:()=>r.cleanupFn()},r.ref}(n,T=>{this.all.has(T)&&this.queue.set(T,i)},s);let p;this.all.add(d),d.notify();const _=()=>{d.cleanup(),p?.(),this.all.delete(d),this.queue.delete(d)};return p=r?.onDestroy(_),{destroy:_}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=Wt({token:e,providedIn:"root",factory:()=>new e})}}return e})();function eu(e,t,n){let r=n?e.styles:null,s=n?e.classes:null,i=0;if(null!==t)for(let d=0;d<t.length;d++){const p=t[d];"number"==typeof p?i=p:1==i?s=We(s,p):2==i&&(r=We(r,p+": "+t[++d]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=s:e.classesWithoutHost=s}function Xa(e,t,n,r,s=!1){for(;null!==n;){const i=t[n.index];null!==i&&r.push(j(i)),hr(i)&&bp(i,r);const d=n.type;if(8&d)Xa(e,t,n.child,r);else if(32&d){const p=Ju(n,t);let _;for(;_=p();)r.push(_)}else if(16&d){const p=Qh(t,n);if(Array.isArray(p))r.push(...p);else{const _=Fa(t[On]);Xa(_[it],_,p,r,!0)}}n=s?n.projectionNext:n.next}return r}function bp(e,t){for(let n=Un;n<e.length;n++){const r=e[n],s=r[it].firstChild;null!==s&&Xa(r[it],r,s,t)}e[Or]!==e[rn]&&t.push(e[Or])}function tu(e,t,n,r=!0){const s=t[js],i=s.rendererFactory,d=s.afterRenderEventManager;i.begin?.(),d?.begin();try{wp(e,t,e.template,n)}catch(_){throw r&&vp(t,_),_}finally{i.end?.(),s.effectManager?.flush(),d?.end()}}function wp(e,t,n,r){const s=t[It];if(256!=(256&s)){t[js].effectManager?.flush(),Bn(t);try{a(t),function Pu(e){return R.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&ip(e,t,n,2,r);const d=3==(3&s);if(d){const T=e.preOrderCheckHooks;null!==T&&gl(t,T,null)}else{const T=e.preOrderHooks;null!==T&&ml(t,T,0,null),xu(t,0)}if(function Pb(e){for(let t=jh(e);null!==t;t=Vh(t)){if(!t[bn])continue;const n=t[Ps];for(let r=0;r<n.length;r++){o(n[r])}}}(t),Cp(t,2),null!==e.contentQueries&&pp(e,t),d){const T=e.contentCheckHooks;null!==T&&gl(t,T)}else{const T=e.contentHooks;null!==T&&ml(t,T,1),xu(t,1)}!function nb(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=Yf(t,Yr);try{for(let s=0;s<n.length;s++){const i=n[s];if(i<0)Po(~i);else{const d=i,p=n[++s],_=n[++s];C(p,d),r.dirty=!1;const T=oo(r);try{_(2,t[d])}finally{ao(r,T)}}}}finally{null===t[Yr]&&Zf(t,Yr),Po(-1)}}(e,t);const p=e.components;null!==p&&Dp(t,p,0);const _=e.viewQuery;if(null!==_&&Kc(2,_,r),d){const T=e.viewCheckHooks;null!==T&&gl(t,T)}else{const T=e.viewHooks;null!==T&&ml(t,T,2),xu(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[It]&=-73,l(t)}finally{Oo()}}}function Cp(e,t){for(let n=jh(e);null!==n;n=Vh(n))for(let r=Un;r<n.length;r++)Ep(n[r],t)}function Rb(e,t,n){Ep($t(t,e),n)}function Ep(e,t){if(!function Rt(e){return 128==(128&e[It])}(e))return;const n=e[it],r=e[It];if(80&r&&0===t||1024&r||2===t)wp(n,e,n.template,e[kn]);else if(e[ai]>0){Cp(e,1);const s=n.components;null!==s&&Dp(e,s,1)}}function Dp(e,t,n){for(let r=0;r<t.length;r++)Rb(e,t[r],n)}class Qa{get rootNodes(){const t=this._lView,n=t[it];return Xa(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[kn]}set context(t){this._lView[kn]=t}get destroyed(){return 256==(256&this._lView[It])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[yn];if(hr(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Nl(t,r),wl(n,r))}this._attachedToViewContainer=!1}Zu(this._lView[it],this._lView)}onDestroy(t){!function M(e,t){if(256==(256&e[It]))throw new Qe(911,!1);null===e[Jr]&&(e[Jr]=[]),e[Jr].push(t)}(this._lView,t)}markForCheck(){Ka(this._cdRefInjectingView||this._lView)}detach(){this._lView[It]&=-129}reattach(){this._lView[It]|=128}detectChanges(){tu(this._lView[it],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Qe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function y_(e,t){ja(e,t,t[kt],2,null,null)}(this._lView[it],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Qe(902,!1);this._appRef=t}}class xb extends Qa{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;tu(t[it],t,t[kn],!1)}checkNoChanges(){}get context(){return null}}class Sp extends ql{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Ft(t);return new Ja(n,this.ngModule)}}function Mp(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class kb{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Ze(r);const s=this.injector.get(t,Rc,r);return s!==Rc||n===Rc?s:this.parentInjector.get(t,n,r)}}class Ja extends Af{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=Mp(t.inputs);if(null!==n)for(const s of r)n.hasOwnProperty(s.propName)&&(s.transform=n[s.propName]);return r}get outputs(){return Mp(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function $i(e){return e.map(Ui).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,s){let i=(s=s||this.ngModule)instanceof Yi?s:s?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const d=i?new kb(t,i):t,p=d.get(Of,null);if(null===p)throw new Qe(407,!1);const z={rendererFactory:p,sanitizer:d.get(P0,null),effectManager:d.get(_p,null),afterRenderEventManager:d.get(jc,null)},se=p.createRenderer(null,this.componentDef),ce=this.componentDef.selectors[0][0]||"div",xe=r?function sb(e,t,n,r){const i=r.get(qf,!1)||n===kr.ShadowDom,d=e.selectRootElement(t,i);return function ib(e){ap(e)}(d),d}(se,r,this.componentDef.encapsulation,d):xl(se,ce,function Nb(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(ce)),Tt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let je=null;null!==xe&&(je=Ic(xe,d,!0));const tn=Hc(0,null,null,1,0,null,null,null,null,null,null),vn=Yl(null,tn,null,Tt,null,null,z,se,d,null,je);let rr,yi;Bn(vn);try{const po=this.componentDef;let Ma,eh=null;po.findHostDirectiveDefs?(Ma=[],eh=new Map,po.findHostDirectiveDefs(po,Ma,eh),Ma.push(po)):Ma=[po];const BS=function Lb(e,t){const n=e[it],r=en;return e[r]=t,ua(n,r,2,"#host",null)}(vn,xe),HS=function jb(e,t,n,r,s,i,d){const p=s[it];!function Vb(e,t,n,r){for(const s of e)t.mergedAttrs=Kr(t.mergedAttrs,s.hostAttrs);null!==t.mergedAttrs&&(eu(t,t.mergedAttrs,!0),null!==n&&ef(r,n,t))}(r,e,t,d);let _=null;null!==t&&(_=Ic(t,s[Er]));const T=i.rendererFactory.createRenderer(t,n);let V=16;n.signals?V=4096:n.onPush&&(V=64);const z=Yl(s,op(n),null,V,s[e.index],e,i,T,null,null,_);return p.firstCreatePass&&Gc(p,e,r.length-1),Zl(s,z),s[e.index]=z}(BS,xe,po,Ma,vn,z,se);yi=rt(tn,en),xe&&function $b(e,t,n,r){if(r)Ds(e,n,["ng-version",R0.full]);else{const{attrs:s,classes:i}=function xi(e){const t=[],n=[];let r=1,s=2;for(;r<e.length;){let i=e[r];if("string"==typeof i)2===s?""!==i&&t.push(i,e[++r]):8===s&&n.push(i);else{if(!zn(s))break;s=i}r++}return{attrs:t,classes:n}}(t.selectors[0]);s&&Ds(e,n,s),i&&i.length>0&&Zh(e,n,i.join(" "))}}(se,po,xe,r),void 0!==n&&function Bb(e,t,n){const r=e.projection=[];for(let s=0;s<t.length;s++){const i=n[s];r.push(null!=i?Array.from(i):null)}}(yi,this.ngContentSelectors,n),rr=function Ub(e,t,n,r,s,i){const d=Ct(),p=s[it],_=he(d,s);cp(p,s,d,n,null,r);for(let V=0;V<n.length;V++)Hs(Ro(s,p,d.directiveStart+V,d),s);dp(p,s,d),_&&Hs(_,s);const T=Ro(s,p,d.directiveStart+d.componentOffset,d);if(e[kn]=s[kn]=T,null!==i)for(const V of i)V(T,t);return Uc(p,d,e),T}(HS,po,Ma,eh,vn,[Hb]),Xc(tn,vn,null)}finally{Oo()}return new Fb(this.componentType,rr,ia(yi,vn),vn,yi)}}class Fb extends D0{constructor(t,n,r,s,i){super(),this.location=r,this._rootLView=s,this._tNode=i,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new xb(s),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let s;if(null!==r&&(s=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const i=this._rootLView;qc(i[it],i,s,t,n),this.previousInputValues.set(t,n),Ka($t(this._tNode.index,i))}}get injector(){return new ri(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function Hb(){const e=Ct();pl(ae()[it],e)}function Qc(e){let t=function Tp(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let s;if(Wr(e))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Qe(903,!1);s=t.\u0275dir}if(s){if(n){r.push(s);const d=e;d.inputs=nu(e.inputs),d.inputTransforms=nu(e.inputTransforms),d.declaredInputs=nu(e.declaredInputs),d.outputs=nu(e.outputs);const p=s.hostBindings;p&&Kb(e,p);const _=s.viewQuery,T=s.contentQueries;if(_&&Gb(e,_),T&&Wb(e,T),zt(e.inputs,s.inputs),zt(e.declaredInputs,s.declaredInputs),zt(e.outputs,s.outputs),null!==s.inputTransforms&&(null===d.inputTransforms&&(d.inputTransforms={}),zt(d.inputTransforms,s.inputTransforms)),Wr(s)&&s.data.animation){const V=e.data;V.animation=(V.animation||[]).concat(s.data.animation)}}const i=s.features;if(i)for(let d=0;d<i.length;d++){const p=i[d];p&&p.ngInherit&&p(e),p===Qc&&(n=!1)}}t=Object.getPrototypeOf(t)}!function zb(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const s=e[r];s.hostVars=t+=s.hostVars,s.hostAttrs=Kr(s.hostAttrs,n=Kr(n,s.hostAttrs))}}(r)}function nu(e){return e===tr?{}:e===wt?[]:e}function Gb(e,t){const n=e.viewQuery;e.viewQuery=n?(r,s)=>{t(r,s),n(r,s)}:t}function Wb(e,t){const n=e.contentQueries;e.contentQueries=n?(r,s,i)=>{t(r,s,i),n(r,s,i)}:t}function Kb(e,t){const n=e.hostBindings;e.hostBindings=n?(r,s)=>{t(r,s),n(r,s)}:t}function Pp(e){const t=e.inputConfig,n={};for(const r in t)if(t.hasOwnProperty(r)){const s=t[r];Array.isArray(s)&&s[2]&&(n[r]=s[2])}e.inputTransforms=n}function ru(e){return!!Jc(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Jc(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function to(e,t,n){return e[t]=n}function Ya(e,t){return e[t]}function zs(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function ko(e,t,n,r){const s=zs(e,t,n);return zs(e,t+1,r)||s}function Yc(e,t,n,r){const s=ae();return zs(s,Io(),t)&&(qe(),eo(Pr(),s,e,t,n,r)),Yc}function da(e,t,n,r){return zs(e,Io(),n)?t+st(n)+r:on}function ha(e,t,n,r,s,i){const p=ko(e,function Qi(){return R.lFrame.bindingIndex}(),n,s);return g(2),p?t+st(n)+r+st(s)+i:on}const cw=new RegExp(`^(\\d+)*(${Ec}|${Cc})*(.*)`);function nd(e){return e.index-en}function ou(e,t,n,r){let s=null;const i=nd(r),d=e.data[Tc];if(d?.[i])s=function gw(e,t){const[n,...r]=function hw(e){const t=e.match(cw),[n,r,s,i]=t,d=r?parseInt(r,10):s,p=[];for(const[_,T,V]of i.matchAll(/(f|n)(\d*)/g)){const z=parseInt(V,10)||1;p.push(T,z)}return[d,...p]}(e);let s;return s=n===Cc?t[On][rn]:n===Ec?function zf(e){return e.ownerDocument.body}(t[On][rn]):j(t[Number(n)+en]),function pw(e,t){let n=e;for(let r=0;r<t.length;r+=2){const s=t[r],i=t[r+1];for(let d=0;d<i;d++)switch(s){case ra.FirstChild:n=n.firstChild;break;case ra.NextSibling:n=n.nextSibling}}return n}(s,r)}(d[i],n);else if(t.firstChild===r)s=e.firstChild;else{const p=null===r.prev,_=r.prev??r.parent;if(function fw(e){return!e.prev&&8===e.parent?.type}(r))s=Oc(e,nd(r.parent));else{let T=he(_,n);if(p)s=T.firstChild;else{const V=nd(_),z=Oc(e,V);s=2===_.type&&z?au(Pc(e,V)+1,z):T.nextSibling}}}return s}function au(e,t){let n=t;for(let r=0;r<e;r++)n=n.nextSibling;return n}function zp(e,t,n,r,s,i,d,p){const _=ae(),T=qe(),V=e+en,z=T.firstCreatePass?function vw(e,t,n,r,s,i,d,p,_){const T=t.consts,V=ua(t,e,4,d||null,m(T,p));zc(t,n,V,m(T,_)),pl(t,V);const z=V.tView=Hc(2,V,r,s,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,T,null);return null!==t.queries&&(t.queries.template(t,V),z.queries=t.queries.embeddedTView(V)),V}(V,T,_,t,n,r,s,i,d):T.data[V];_n(z,!1);const se=Gp(T,_,z,e);fl()&&Fl(T,_,se,z),Hs(se,_),Zl(_,_[V]=fp(se,_,se,z)),Zr(z)&&$c(T,_,z),null!=d&&Bc(_,z,p)}let Gp=Wp;function Wp(e,t,n,r){return Eo(!0),t[kt].createComment("")}function _w(e,t,n,r){const s=t[Ir],i=!s||Ne()||Kl(s,r);if(Eo(i),i)return Wp(0,t);const d=s.data[Sc]?.[r]??null;null!==d&&null!==n.tView&&null===n.tView.ssrId&&(n.tView.ssrId=d);const p=ou(s,e,t,n);return Wl(s,r,p),au(Pc(s,r),p)}function Kp(e){return ht(function _o(){return R.lFrame.contextLView}(),en+e)}function sd(e,t,n){const r=ae();return zs(r,Io(),t)&&Ii(qe(),Pr(),r,e,t,r[kt],n,!1),sd}function id(e,t,n,r,s){const d=s?"class":"style";qc(e,n,t.inputs[d],d,r)}function lu(e,t,n,r){const s=ae(),i=qe(),d=en+e,p=s[kt],_=i.firstCreatePass?function Cw(e,t,n,r,s,i){const d=t.consts,_=ua(t,e,2,r,m(d,s));return zc(t,n,_,m(d,i)),null!==_.attrs&&eu(_,_.attrs,!1),null!==_.mergedAttrs&&eu(_,_.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,_),_}(d,i,s,t,n,r):i.data[d],T=qp(i,s,_,p,t,e);s[d]=T;const V=Zr(_);return _n(_,!0),ef(p,T,_),32!=(32&_.flags)&&fl()&&Fl(i,s,T,_),0===function Z(){return R.lFrame.elementDepthCount}()&&Hs(T,s),function Ce(){R.lFrame.elementDepthCount++}(),V&&($c(i,s,_),Uc(i,_,s)),null!==r&&Bc(s,_),lu}function uu(){let e=Ct();Ti()?ls():(e=e.parent,_n(e,!1));const t=e;(function et(e){return R.skipHydrationRootTNode===e})(t)&&function bt(){R.skipHydrationRootTNode=null}(),function ke(){R.lFrame.elementDepthCount--}();const n=qe();return n.firstCreatePass&&(pl(n,e),Rs(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function gv(e){return 0!=(8&e.flags)}(t)&&id(n,t,ae(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function mv(e){return 0!=(16&e.flags)}(t)&&id(n,t,ae(),t.stylesWithoutHost,!1),uu}function od(e,t,n,r){return lu(e,t,n,r),uu(),od}let qp=(e,t,n,r,s,i)=>(Eo(!0),xl(r,s,th()));function Ew(e,t,n,r,s,i){const d=t[Ir],p=!d||Ne()||Kl(d,i);if(Eo(p),p)return xl(r,s,th());const _=ou(d,e,t,n);return Tf(d,i)&&Wl(d,i,_.nextSibling),d&&(Ah(n)||Ih(_))&&Ur(n)&&(function Fe(e){R.skipHydrationRootTNode=e}(n),Jh(_)),_}function cu(e,t,n){const r=ae(),s=qe(),i=e+en,d=s.firstCreatePass?function Sw(e,t,n,r,s){const i=t.consts,d=m(i,r),p=ua(t,e,8,"ng-container",d);return null!==d&&eu(p,d,!0),zc(t,n,p,m(i,s)),null!==t.queries&&t.queries.elementStart(t,p),p}(i,s,r,t,n):s.data[i];_n(d,!0);const p=Qp(s,r,d,e);return r[i]=p,fl()&&Fl(s,r,p,d),Hs(p,r),Zr(d)&&($c(s,r,d),Uc(s,d,r)),null!=n&&Bc(r,d),cu}function du(){let e=Ct();const t=qe();return Ti()?ls():(e=e.parent,_n(e,!1)),t.firstCreatePass&&(pl(t,e),Rs(e)&&t.queries.elementEnd(e)),du}let Qp=(e,t,n,r)=>(Eo(!0),Yu(t[kt],""));function Mw(e,t,n,r){let s;const i=t[Ir],d=!i||Ne();if(Eo(d),d)return Yu(t[kt],"");const p=ou(i,e,t,n),_=function E0(e,t){const n=e.data;let r=n[Dc]?.[t]??null;return null===r&&n[za]?.[t]&&(r=Pc(e,t)),r}(i,r);return Wl(i,r,p),s=au(_,p),s}function Jp(){return ae()}function ad(e){return!!e&&"function"==typeof e.then}function Yp(e){return!!e&&"function"==typeof e.subscribe}function ld(e,t,n,r){const s=ae(),i=qe(),d=Ct();return function eg(e,t,n,r,s,i,d){const p=Zr(r),T=e.firstCreatePass&&mp(e),V=t[kn],z=gp(t);let se=!0;if(3&r.type||d){const Ge=he(r,t),dt=d?d(Ge):Ge,Tt=z.length,je=d?vn=>d(j(vn[r.index])):r.index;let tn=null;if(!d&&p&&(tn=function Aw(e,t,n,r){const s=e.cleanup;if(null!=s)for(let i=0;i<s.length-1;i+=2){const d=s[i];if(d===n&&s[i+1]===r){const p=t[zr],_=s[i+2];return p.length>_?p[_]:null}"string"==typeof d&&(i+=2)}return null}(e,t,s,r.index)),null!==tn)(tn.__ngLastListenerFn__||tn).__ngNextListenerFn__=i,tn.__ngLastListenerFn__=i,se=!1;else{i=ng(r,t,V,i,!1);const vn=n.listen(dt,s,i);z.push(i,vn),T&&T.push(s,je,Tt,Tt+1)}}else i=ng(r,t,V,i,!1);const ce=r.outputs;let xe;if(se&&null!==ce&&(xe=ce[s])){const Ge=xe.length;if(Ge)for(let dt=0;dt<Ge;dt+=2){const rr=t[xe[dt]][xe[dt+1]].subscribe(i),yi=z.length;z.push(i,rr),T&&T.push(s,r.index,yi,-(yi+1))}}}(i,s,s[kt],d,e,t,r),ld}function tg(e,t,n,r){try{return c(6,t,n),!1!==n(r)}catch(s){return vp(e,s),!1}finally{c(7,t,n)}}function ng(e,t,n,r,s){return function i(d){if(d===Function)return r;Ka(e.componentOffset>-1?$t(e.index,t):t);let _=tg(t,n,r,d),T=i.__ngNextListenerFn__;for(;T;)_=tg(t,n,T,d)&&_,T=T.__ngNextListenerFn__;return s&&!1===_&&d.preventDefault(),_}}function rg(e=1){return function Co(e){return(R.lFrame.contextLView=function Ru(e,t){for(;e>0;)t=t[Qr],e--;return t}(e,R.lFrame.contextLView))[kn]}(e)}function ud(e,t,n){return hu(e,"",t,"",n),ud}function hu(e,t,n,r,s){const i=ae(),d=da(i,t,n,r);return d!==on&&Ii(qe(),Pr(),i,e,d,i[kt],s,!1),hu}function fu(e,t){return e<<17|t<<2}function Mo(e){return e>>17&32767}function cd(e){return 2|e}function Fo(e){return(131068&e)>>2}function dd(e,t){return-131069&e|t<<2}function hd(e){return 1|e}function hg(e,t,n,r,s){const i=e[n+1],d=null===t;let p=r?Mo(i):Fo(i),_=!1;for(;0!==p&&(!1===_||d);){const V=e[p+1];Lw(e[p],t)&&(_=!0,e[p+1]=r?hd(V):cd(V)),p=r?Mo(V):Fo(V)}_&&(e[n+1]=r?cd(i):hd(i))}function Lw(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&qo(e,t)>=0}const cs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function fg(e){return e.substring(cs.key,cs.keyEnd)}function pg(e,t){const n=cs.textEnd;return n===t?-1:(t=cs.keyEnd=function $w(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,cs.key=t,n),_a(e,t,n))}function _a(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function fd(e,t,n){return Wi(e,t,n,!1),fd}function pd(e,t){return Wi(e,t,null,!0),pd}function ro(e,t){for(let n=function Vw(e){return function mg(e){cs.key=0,cs.keyEnd=0,cs.value=0,cs.valueEnd=0,cs.textEnd=e.length}(e),pg(e,_a(e,0,cs.textEnd))}(t);n>=0;n=pg(t,n))Ai(e,fg(t),!0)}function Wi(e,t,n,r){const s=ae(),i=qe(),d=g(2);i.firstUpdatePass&&bg(i,e,d,r),t!==on&&zs(s,d,t)&&Cg(i,i.data[ni()],s,s[kt],e,s[d+1]=function Zw(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=ze(Do(e)))),e}(t,n),r,d)}function _g(e,t){return t>=e.expandoStartIndex}function bg(e,t,n,r){const s=e.data;if(null===s[n+1]){const i=s[ni()],d=_g(e,n);Dg(i,r)&&null===t&&!d&&(t=!1),t=function Ww(e,t,n,r){const s=function q(e){const t=R.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let i=r?t.residualClasses:t.residualStyles;if(null===s)0===(r?t.classBindings:t.styleBindings)&&(n=nl(n=gd(null,e,t,n,r),t.attrs,r),i=null);else{const d=t.directiveStylingLast;if(-1===d||e[d]!==s)if(n=gd(s,e,t,n,r),null===i){let _=function Kw(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Fo(r))return e[Mo(r)]}(e,t,r);void 0!==_&&Array.isArray(_)&&(_=gd(null,e,t,_[1],r),_=nl(_,t.attrs,r),function qw(e,t,n,r){e[Mo(n?t.classBindings:t.styleBindings)]=r}(e,t,r,_))}else i=function Xw(e,t,n){let r;const s=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<s;i++)r=nl(r,e[i].hostAttrs,n);return nl(r,t.attrs,n)}(e,t,r)}return void 0!==i&&(r?t.residualClasses=i:t.residualStyles=i),n}(s,i,t,r),function kw(e,t,n,r,s,i){let d=i?t.classBindings:t.styleBindings,p=Mo(d),_=Fo(d);e[r]=n;let V,T=!1;if(Array.isArray(n)?(V=n[1],(null===V||qo(n,V)>0)&&(T=!0)):V=n,s)if(0!==_){const se=Mo(e[p+1]);e[r+1]=fu(se,p),0!==se&&(e[se+1]=dd(e[se+1],r)),e[p+1]=function xw(e,t){return 131071&e|t<<17}(e[p+1],r)}else e[r+1]=fu(p,0),0!==p&&(e[p+1]=dd(e[p+1],r)),p=r;else e[r+1]=fu(_,0),0===p?p=r:e[_+1]=dd(e[_+1],r),_=r;T&&(e[r+1]=cd(e[r+1])),hg(e,V,r,!0),hg(e,V,r,!1),function Fw(e,t,n,r,s){const i=s?e.residualClasses:e.residualStyles;null!=i&&"string"==typeof t&&qo(i,t)>=0&&(n[r+1]=hd(n[r+1]))}(t,V,e,r,i),d=fu(p,_),i?t.classBindings=d:t.styleBindings=d}(s,i,t,n,d,r)}}function gd(e,t,n,r,s){let i=null;const d=n.directiveEnd;let p=n.directiveStylingLast;for(-1===p?p=n.directiveStart:p++;p<d&&(i=t[p],r=nl(r,i.hostAttrs,s),i!==e);)p++;return null!==e&&(n.directiveStylingLast=p),r}function nl(e,t,n){const r=n?1:2;let s=-1;if(null!==t)for(let i=0;i<t.length;i++){const d=t[i];"number"==typeof d?s=d:s===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Ai(e,d,!!n||t[++i]))}return void 0===e?null:e}function Cg(e,t,n,r,s,i,d,p){if(!(3&t.type))return;const _=e.data,T=_[p+1],V=function Nw(e){return 1==(1&e)}(T)?Eg(_,t,n,s,Fo(T),d):void 0;pu(V)||(pu(i)||function Rw(e){return 2==(2&e)}(T)&&(i=Eg(_,null,n,s,p,d)),function T_(e,t,n,r,s){if(t)s?e.addClass(n,r):e.removeClass(n,r);else{let i=-1===r.indexOf("-")?void 0:Pl.DashCase;null==s?e.removeStyle(n,r,i):("string"==typeof s&&s.endsWith("!important")&&(s=s.slice(0,-10),i|=Pl.Important),e.setStyle(n,r,s,i))}}(r,d,ee(ni(),n),s,i))}function Eg(e,t,n,r,s,i){const d=null===t;let p;for(;s>0;){const _=e[s],T=Array.isArray(_),V=T?_[1]:_,z=null===V;let se=n[s+1];se===on&&(se=z?wt:void 0);let ce=z?Bu(se,r):V===r?se:void 0;if(T&&!pu(ce)&&(ce=Bu(_,r)),pu(ce)&&(p=ce,d))return p;const xe=e[s+1];s=d?Mo(xe):Fo(xe)}if(null!==t){let _=i?t.residualClasses:t.residualStyles;null!=_&&(p=Bu(_,r))}return p}function pu(e){return void 0!==e}function Dg(e,t){return 0!=(e.flags&(t?8:16))}function Sg(e,t=""){const n=ae(),r=qe(),s=e+en,i=r.firstCreatePass?ua(r,s,1,t,null):r.data[s],d=Mg(r,n,i,t,e);n[s]=d,fl()&&Fl(r,n,d,i),_n(i,!1)}let Mg=(e,t,n,r,s)=>(Eo(!0),Rl(t[kt],r));function eC(e,t,n,r,s){const i=t[Ir],d=!i||Ne()||Kl(i,s);return Eo(d),d?Rl(t[kt],r):ou(i,e,t,n)}function md(e){return gu("",e,""),md}function gu(e,t,n){const r=ae(),s=da(r,e,t,n);return s!==on&&fo(r,ni(),s),gu}function yd(e,t,n,r,s){const i=ae(),d=ha(i,e,t,n,r,s);return d!==on&&fo(i,ni(),d),yd}function Ng(e,t,n){!function Ki(e,t,n,r){const s=qe(),i=g(2);s.firstUpdatePass&&bg(s,null,i,r);const d=ae();if(n!==on&&zs(d,i,n)){const p=s.data[ni()];if(Dg(p,r)&&!_g(s,i)){let _=r?p.classesWithoutHost:p.stylesWithoutHost;null!==_&&(n=We(_,n||"")),id(s,p,d,n,r)}else!function Yw(e,t,n,r,s,i,d,p){s===on&&(s=wt);let _=0,T=0,V=0<s.length?s[0]:null,z=0<i.length?i[0]:null;for(;null!==V||null!==z;){const se=_<s.length?s[_+1]:void 0,ce=T<i.length?i[T+1]:void 0;let Ge,xe=null;V===z?(_+=2,T+=2,se!==ce&&(xe=z,Ge=ce)):null===z||null!==V&&V<z?(_+=2,xe=V):(T+=2,xe=z,Ge=ce),null!==xe&&Cg(e,t,n,r,xe,Ge,d,p),V=_<s.length?s[_]:null,z=T<i.length?i[T]:null}}(s,p,d,d[kt],d[i+1],d[i+1]=function Qw(e,t,n){if(null==n||""===n)return wt;const r=[],s=Do(n);if(Array.isArray(s))for(let i=0;i<s.length;i++)e(r,s[i],!0);else if("object"==typeof s)for(const i in s)s.hasOwnProperty(i)&&e(r,i,s[i]);else"string"==typeof s&&t(r,s);return r}(e,t,n),r,i)}}(Ai,ro,da(ae(),e,t,n),!0)}const Lo=void 0;var bC=["en",[["a","p"],["AM","PM"],Lo],[["AM","PM"],Lo,Lo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Lo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Lo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Lo,"{1} 'at' {0}",Lo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function _C(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let ba={};function vd(e){const t=function wC(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Kg(t);if(n)return n;const r=t.split("-")[0];if(n=Kg(r),n)return n;if("en"===r)return bC;throw new Qe(701,!1)}function Wg(e){return vd(e)[wa.PluralCase]}function Kg(e){return e in ba||(ba[e]=nn.ng&&nn.ng.common&&nn.ng.common.locales&&nn.ng.common.locales[e]),ba[e]}var wa=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(wa||{});const Ca="en-US";let qg=Ca;function wd(e,t,n,r,s){if(e=Me(e),Array.isArray(e))for(let i=0;i<e.length;i++)wd(e[i],t,n,r,s);else{const i=qe(),d=ae(),p=Ct();let _=No(e)?e:Me(e.provide);const T=wf(e),V=1048575&p.providerIndexes,z=p.directiveStart,se=p.providerIndexes>>20;if(No(e)||!e.multi){const ce=new Aa(T,s,la),xe=Ed(_,t,s?V:V+se,z);-1===xe?(ju(vl(p,d),i,_),Cd(i,e,t.length),t.push(_),p.directiveStart++,p.directiveEnd++,s&&(p.providerIndexes+=1048576),n.push(ce),d.push(ce)):(n[xe]=ce,d[xe]=ce)}else{const ce=Ed(_,t,V+se,z),xe=Ed(_,t,V,V+se),dt=xe>=0&&n[xe];if(s&&!dt||!s&&!(ce>=0&&n[ce])){ju(vl(p,d),i,_);const Tt=function _E(e,t,n,r,s){const i=new Aa(e,n,la);return i.multi=[],i.index=t,i.componentProviders=0,_m(i,s,r&&!n),i}(s?vE:yE,n.length,s,r,T);!s&&dt&&(n[xe].providerFactory=Tt),Cd(i,e,t.length,0),t.push(_),p.directiveStart++,p.directiveEnd++,s&&(p.providerIndexes+=1048576),n.push(Tt),d.push(Tt)}else Cd(i,e,ce>-1?ce:xe,_m(n[s?xe:ce],T,!s&&r));!s&&r&&dt&&n[xe].componentProviders++}}}function Cd(e,t,n,r){const s=No(t),i=function r0(e){return!!e.useClass}(t);if(s||i){const _=(i?Me(t.useClass):t).prototype.ngOnDestroy;if(_){const T=e.destroyHooks||(e.destroyHooks=[]);if(!s&&t.multi){const V=T.indexOf(n);-1===V?T.push(n,[r,_]):T[V+1].push(r,_)}else T.push(n,_)}}}function _m(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Ed(e,t,n,r){for(let s=n;s<r;s++)if(t[s]===e)return s;return-1}function yE(e,t,n,r){return Dd(this.multi,[])}function vE(e,t,n,r){const s=this.multi;let i;if(this.providerFactory){const d=this.providerFactory.componentProviders,p=Ro(n,n[it],this.providerFactory.index,r);i=p.slice(0,d),Dd(s,i);for(let _=d;_<p.length;_++)i.push(p[_])}else i=[],Dd(s,i);return i}function Dd(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function bm(e,t=[]){return n=>{n.providersResolver=(r,s)=>function mE(e,t,n){const r=qe();if(r.firstCreatePass){const s=Wr(e);wd(n,r.data,r.blueprint,s,!0),wd(t,r.data,r.blueprint,s,!1)}}(r,s?s(e):e,t)}}class jo{}class wm{}function bE(e,t){return new Sd(e,t??null,[])}class Sd extends jo{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Sp(this);const s=Gn(t);this._bootstrapComponents=ho(s.bootstrap),this._r3Injector=Ff(t,n,[{provide:jo,useValue:this},{provide:ql,useValue:this.componentFactoryResolver},...r],ze(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Md extends wm{constructor(t){super(),this.moduleType=t}create(t){return new Sd(this.moduleType,t,[])}}class Cm extends jo{constructor(t){super(),this.componentFactoryResolver=new Sp(this),this.instance=null;const n=new ta([...t.providers,{provide:jo,useValue:this},{provide:ql,useValue:this.componentFactoryResolver}],t.parent||Hl(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Em(e,t,n=null){return new Cm({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let CE=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=yf(0,n.type),s=r.length>0?Em([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Wt({token:e,providedIn:"environment",factory:()=>new e(te(Yi))})}}return e})();function Dm(e){e.getStandaloneInjector=t=>t.get(CE).getOrCreateStandaloneInjector(e)}function Pm(e,t,n){const r=Bs()+e,s=ae();return s[r]===on?to(s,r,n?t.call(n):t()):Ya(s,r)}function Rm(e,t,n,r){return Nm(ae(),Bs(),e,t,n,r)}function xm(e,t,n,r,s,i,d,p,_){const T=Bs()+e,V=ae(),z=function Vi(e,t,n,r,s,i){const d=ko(e,t,n,r);return ko(e,t+2,s,i)||d}(V,T,n,r,s,i);return ko(V,T+4,d,p)||z?to(V,T+6,_?t.call(_,n,r,s,i,d,p):t(n,r,s,i,d,p)):Ya(V,T+6)}function ll(e,t){const n=e[t];return n===on?void 0:n}function Nm(e,t,n,r,s,i){const d=t+n;return zs(e,d,s)?to(e,d+1,i?r.call(i,s):r(s)):ll(e,d+1)}function Fm(e,t,n,r,s,i,d,p){const _=t+n;return function su(e,t,n,r,s){const i=ko(e,t,n,r);return zs(e,t+2,s)||i}(e,_,s,i,d)?to(e,_+3,p?r.call(p,s,i,d):r(s,i,d)):ll(e,_+3)}function Vm(e,t){const n=qe();let r;const s=e+en;n.firstCreatePass?(r=function jE(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[s]=r,r.onDestroy&&(n.destroyHooks??=[]).push(s,r.onDestroy)):r=n.data[s];const i=r.factory||(r.factory=ts(r.type)),p=jn(la);try{const _=yl(!1),T=i();return yl(_),function ww(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,ae(),s,T),T}finally{jn(p)}}function Um(e,t,n){const r=e+en,s=ae(),i=ht(s,r);return ul(s,r)?Nm(s,Bs(),t,i.transform,n,i):i.transform(n)}function $m(e,t,n,r){const s=e+en,i=ae(),d=ht(i,s);return ul(i,s)?function km(e,t,n,r,s,i,d){const p=t+n;return ko(e,p,s,i)?to(e,p+2,d?r.call(d,s,i):r(s,i)):ll(e,p+2)}(i,Bs(),t,d.transform,n,r,d):d.transform(n,r)}function Bm(e,t,n,r,s){const i=e+en,d=ae(),p=ht(d,i);return ul(d,i)?Fm(d,Bs(),t,p.transform,n,r,s,p):p.transform(n,r,s)}function ul(e,t){return e[it].data[t].pure}function $E(){return this._results[Symbol.iterator]()}class Ad{get changes(){return this._changes||(this._changes=new Zi)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Ad.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=$E)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const s=function ji(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Ov(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let s=e[r],i=t[r];if(n&&(s=n(s),i=n(i)),i!==s)return!1}return!0}(r._results,s,n))&&(r._results=s,r.length=s.length,r.last=s[this.length-1],r.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function HE(e,t,n,r=!0){const s=t[it];if(function __(e,t,n,r){const s=Un+r,i=n.length;r>0&&(n[s-1][dr]=t),r<i-Un?(t[dr]=n[s],yh(n,Un+r,t)):(n.push(t),t[dr]=null),t[yn]=n;const d=t[ps];null!==d&&n!==d&&function b_(e,t){const n=e[Ps];t[On]!==t[yn][yn][On]&&(e[bn]=!0),null===n?e[Ps]=[t]:n.push(t)}(d,t);const p=t[Vr];null!==p&&p.insertView(e),t[It]|=128}(s,t,e,n),r){const i=rc(n,e),d=t[kt],p=kl(d,e[Or]);null!==p&&function m_(e,t,n,r,s,i){r[rn]=s,r[Wn]=t,ja(e,r,n,1,s,i)}(s,e[Wn],d,t,p,i)}}let cl=(()=>{class e{static{this.__NG_ELEMENT_ID__=WE}}return e})();const zE=cl,GE=class extends zE{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const s=function BE(e,t,n,r){const s=t.tView,p=Yl(e,s,n,4096&e[It]?4096:16,null,t,null,null,null,r?.injector??null,r?.hydrationInfo??null);p[ps]=e[t.index];const T=e[Vr];return null!==T&&(p[Vr]=T.createEmbeddedView(s)),Xc(s,p,n),p}(this._declarationLView,this._declarationTContainer,t,{injector:n,hydrationInfo:r});return new Qa(s)}};function WE(){return bu(Ct(),ae())}function bu(e,t){return 4&e.type?new GE(t,e,ia(e,t)):null}function Hm(e){const t=e[li]??[],r=e[yn][kt];for(const s of t)KE(s,r);e[li]=wt}function KE(e,t){let n=0,r=e.firstChild;if(r){const s=e.data[sa];for(;n<s;){const i=r.nextSibling;Ll(t,r,!1),r=i,n++}}}function zm(e){Hm(e);for(let t=Un;t<e.length;t++)wu(e[t])}function wu(e){const t=e[it];for(let n=en;n<t.bindingStartIndex;n++)hr(e[n])?zm(e[n]):Array.isArray(e[n])&&wu(e[n])}let Gm=(e,t)=>null;function QE(e,t){const n=e[li];return t&&null!==n&&0!==n.length?n[0].data[Mc]===t?n.shift():(Hm(e),null):null}function Wm(e,t){return Gm(e,t)}let Cu=(()=>{class e{static{this.__NG_ELEMENT_ID__=YE}}return e})();function YE(){return Xm(Ct(),ae())}const ZE=Cu,Km=class extends ZE{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return ia(this._hostTNode,this._hostLView)}get injector(){return new ri(this._hostTNode,this._hostLView)}get parentInjector(){const t=_l(this._hostTNode,this._hostLView);if(ku(t)){const n=Oa(t,this._hostLView),r=Ia(t);return new ri(n[it].data[r+8],n)}return new ri(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=qm(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Un}createEmbeddedView(t,n,r){let s,i;"number"==typeof r?s=r:null!=r&&(s=r.index,i=r.injector);const d=Wm(this._lContainer,t.ssrId),p=t.createEmbeddedViewImpl(n||{},i,d),_=!!d&&!Il(this._hostTNode);return this.insertImpl(p,s,_),p}createComponent(t,n,r,s,i){const d=t&&!function Ra(e){return"function"==typeof e}(t);let p;if(d)p=n;else{const Ge=n||{};p=Ge.index,r=Ge.injector,s=Ge.projectableNodes,i=Ge.environmentInjector||Ge.ngModuleRef}const _=d?t:new Ja(Ft(t)),T=r||this.parentInjector;if(!i&&null==_.ngModule){const dt=(d?T:this.parentInjector).get(Yi,null);dt&&(i=dt)}const V=Ft(_.componentType??{}),z=Wm(this._lContainer,V?.id??null),ce=_.create(T,s,z?.firstChild??null,i),xe=!!z&&!Il(this._hostTNode);return this.insertImpl(ce.hostView,p,xe),ce}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const s=t._lView;if(function Bt(e){return hr(e[yn])}(s)){const _=this.indexOf(t);if(-1!==_)this.detach(_);else{const T=s[yn],V=new Km(T,T[Wn],T[yn]);V.detach(V.indexOf(t))}}const d=this._adjustIndex(n),p=this._lContainer;return HE(p,s,d,!r),t.attachToViewContainerRef(),yh(Id(p),d,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=qm(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Nl(this._lContainer,n);r&&(wl(Id(this._lContainer),n),Zu(r[it],r))}detach(t){const n=this._adjustIndex(t,-1),r=Nl(this._lContainer,n);return r&&null!=wl(Id(this._lContainer),n)?new Qa(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function qm(e){return e[8]}function Id(e){return e[8]||(e[8]=[])}function Xm(e,t){let n;const r=t[e.index];return hr(r)?n=r:(n=fp(r,t,null,e),t[e.index]=n,Zl(t,n)),Qm(n,t,e,r),new Km(n,e,t)}let Qm=Jm;function Jm(e,t,n,r){if(e[Or])return;let s;s=8&n.type?j(r):function eD(e,t){const n=e[kt],r=n.createComment(""),s=he(t,e);return xo(n,kl(n,s),r,function D_(e,t){return e.nextSibling(t)}(n,s),!1),r}(t,n),e[Or]=s}function tD(e,t,n,r){if(e[Or]&&e[li])return;const s=t[Ir],i=n.index-en,d=function Ol(e){let t=e.parent;for(;t;){if(Ah(t))return!0;t=t.parent}return!1}(n)||Il(n);if(!s||d||Kl(s,i))return Jm(e,t,n,r);const _=Oc(s,i),T=s.data[za]?.[i],[V,z]=function XE(e,t){const n=[];for(const r of t)for(let s=0;s<(r[zl]??1);s++){const i={data:r,firstChild:null};r[sa]>0&&(i.firstChild=e,e=au(r[sa],e)),n.push(i)}return[e,n]}(_,T);e[Or]=V,e[li]=z}class Od{constructor(t){this.queryList=t,this.matches=null}clone(){return new Od(this.queryList)}setDirty(){this.queryList.setDirty()}}class Pd{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,s=[];for(let i=0;i<r;i++){const d=n.getByIndex(i);s.push(this.queries[d.indexInDeclarationView].clone())}return new Pd(s)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==oy(t,n).matches&&this.queries[n].setDirty()}}class Ym{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class Rd{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const s=null!==n?n.length:0,i=this.getByIndex(r).embeddedTView(t,s);i&&(i.indexInDeclarationView=r,null!==n?n.push(i):n=[i])}return null!==n?new Rd(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class xd{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new xd(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let s=0;s<r.length;s++){const i=r[s];this.matchTNodeWithReadOption(t,n,rD(n,i)),this.matchTNodeWithReadOption(t,n,bl(n,t,i,!1,!1))}else r===cl?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,bl(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const s=this.metadata.read;if(null!==s)if(s===Wa||s===Cu||s===cl&&4&n.type)this.addMatch(n.index,-2);else{const i=bl(n,t,s,!1,!1);null!==i&&this.addMatch(n.index,i)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function rD(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function iD(e,t,n,r){return-1===n?function sD(e,t){return 11&e.type?ia(e,t):4&e.type?bu(e,t):null}(t,e):-2===n?function oD(e,t,n){return n===Wa?ia(t,e):n===cl?bu(t,e):n===Cu?Xm(t,e):void 0}(e,t,r):Ro(e,e[it],n,t)}function Zm(e,t,n,r){const s=t[Vr].queries[r];if(null===s.matches){const i=e.data,d=n.matches,p=[];for(let _=0;_<d.length;_+=2){const T=d[_];p.push(T<0?null:iD(t,i[T],d[_+1],n.metadata.read))}s.matches=p}return s.matches}function Nd(e,t,n,r){const s=e.queries.getByIndex(n),i=s.matches;if(null!==i){const d=Zm(e,t,s,n);for(let p=0;p<i.length;p+=2){const _=i[p];if(_>0)r.push(d[p/2]);else{const T=i[p+1],V=t[-_];for(let z=Un;z<V.length;z++){const se=V[z];se[ps]===se[yn]&&Nd(se[it],se,T,r)}if(null!==V[Ps]){const z=V[Ps];for(let se=0;se<z.length;se++){const ce=z[se];Nd(ce[it],ce,T,r)}}}}}return r}function ey(e){const t=ae(),n=qe(),r=Ee();_e(r+1);const s=oy(n,r);if(e.dirty&&function Jt(e){return 4==(4&e[It])}(t)===(2==(2&s.metadata.flags))){if(null===s.matches)e.reset([]);else{const i=s.crossesNgTemplate?Nd(n,t,r,[]):Zm(n,t,s,r);e.reset(i,A0),e.notifyOnChanges()}return!0}return!1}function ty(e,t,n){const r=qe();r.firstCreatePass&&(iy(r,new Ym(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),sy(r,ae(),t)}function ny(e,t,n,r){const s=qe();if(s.firstCreatePass){const i=Ct();iy(s,new Ym(t,n,r),i.index),function lD(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(s,e),2==(2&n)&&(s.staticContentQueries=!0)}sy(s,ae(),n)}function ry(){return function aD(e,t){return e[Vr].queries[t].queryList}(ae(),Ee())}function sy(e,t,n){const r=new Ad(4==(4&n));(function lb(e,t,n,r){const s=gp(t);s.push(n),e.firstCreatePass&&mp(e).push(r,s.length-1)})(e,t,r,r.destroy),null===t[Vr]&&(t[Vr]=new Pd),t[Vr].queries.push(new Od(r))}function iy(e,t,n){null===e.queries&&(e.queries=new Rd),e.queries.track(new xd(t,n))}function oy(e,t){return e.queries.getByIndex(t)}function ay(e,t){return bu(e,t)}function kd(e){return!!Gn(e)}const Dy=new Nt("Application Initializer");let Ud=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=Le(Dy,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const s of this.appInits){const i=s();if(ad(i))n.push(i);else if(Yp(i)){const d=new Promise((p,_)=>{i.subscribe({complete:p,error:_})});n.push(d)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(s=>{this.reject(s)}),0===n.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Wt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Sy=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Wt({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const Du=new Nt("LocaleId",{providedIn:"root",factory:()=>Le(Du,yt.Optional|yt.SkipSelf)||function ID(){return typeof $localize<"u"&&$localize.locale||Ca}()}),OD=new Nt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let My=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new me.t(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Wt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class RD{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let xD=(()=>{class e{compileModuleSync(n){return new Md(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),i=ho(Gn(n).declarations).reduce((d,p)=>{const _=Ft(p);return _&&d.push(new Ja(_)),d},[]);return new RD(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Wt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Oy=new Nt(""),Py=new Nt("");let Hd,tS=(()=>{class e{constructor(n,r,s){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Hd||(function nS(e){Hd=e}(s),s.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ws.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,s){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(d=>d.timeoutId!==i),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:i,updateCb:s})}whenStable(n,r,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,s){return[]}static{this.\u0275fac=function(r){return new(r||e)(te(ws),te(Ry),te(Py))}}static{this.\u0275prov=Wt({token:e,factory:e.\u0275fac})}}return e})(),Ry=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Hd?.findTestabilityInTree(this,n,r)??null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Wt({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),To=null;const zd=new Nt("PlatformDestroyListeners"),Gd=new Nt("appBootstrapListener");class iS{constructor(t,n){this.name=t,this.token=n}}function lS(e){try{const{rootComponent:t,appProviders:n,platformProviders:r}=e,s=function aS(e=[]){if(To)return To;const t=function Fy(e=[],t){return Gi.create({name:t,providers:[{provide:yc,useValue:"platform"},{provide:zd,useValue:new Set([()=>To=null])},...e]})}(e);return To=t,function Ny(){!function Q(e){S=e}(()=>{throw new Qe(600,!1)})}(),function ky(e){e.get(Ef,null)?.forEach(n=>n())}(t),t}(r),i=[fS(),...n||[]],p=new Cm({providers:i,parent:s,debugName:"",runEnvironmentInitializers:!1}).injector,_=p.get(ws);return _.run(()=>{p.resolveInjectorInitializers();const T=p.get(So,null);let V;_.runOutsideAngular(()=>{V=_.onError.subscribe({next:ce=>{T.handleError(ce)}})});const z=()=>p.destroy(),se=s.get(zd);return se.add(z),p.onDestroy(()=>{V.unsubscribe(),se.delete(z)}),function Vy(e,t,n){try{const r=n();return ad(r)?r.catch(s=>{throw t.runOutsideAngular(()=>e.handleError(s)),s}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(T,_,()=>{const ce=p.get(Ud);return ce.runInitializers(),ce.donePromise.then(()=>{!function Xg(e){Dt(e,"Expected localeId to be defined"),"string"==typeof e&&(qg=e.toLowerCase().replace(/_/g,"-"))}(p.get(Du,Ca)||Ca);const Ge=p.get(Sa);return void 0!==t&&Ge.bootstrap(t),Ge})})})}catch(t){return Promise.reject(t)}}let Sa=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Le(By),this.zoneIsStable=Le($f),this.componentTypes=[],this.components=[],this.isStable=Le(My).hasPendingTasks.pipe((0,Ut.n)(n=>n?(0,oe.of)(!1):this.zoneIsStable),(0,ct.F)(),Ve()),this._injector=Le(Yi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const s=n instanceof Af;if(!this._injector.get(Ud).done)throw!s&&qr(n),new Qe(405,!1);let d;d=s?n:this._injector.get(ql).resolveComponentFactory(n),this.componentTypes.push(d.componentType);const p=function sS(e){return e.isBoundToModule}(d)?void 0:this._injector.get(jo),T=d.create(Gi.NULL,[],r||d.selector,p),V=T.location.nativeElement,z=T.injector.get(Oy,null);return z?.registerApplication(V),T.onDestroy(()=>{this.detachView(T.hostView),Mu(this.components,T),z?.unregisterApplication(V)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new Qe(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Mu(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Gd,[]);r.push(...this._bootstrapListeners),r.forEach(s=>s(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Mu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Qe(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Wt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Mu(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const By=new Nt("",{providedIn:"root",factory:()=>Le(So).handleError.bind(void 0)});function dS(){const e=Le(ws),t=Le(So);return n=>e.runOutsideAngular(()=>t.handleError(n))}let hS=(()=>{class e{constructor(){this.zone=Le(ws),this.applicationRef=Le(Sa)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Wt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Hy(e){return[{provide:ws,useFactory:e},{provide:Ba,multi:!0,useFactory:()=>{const t=Le(hS,{optional:!0});return()=>t.initialize()}},{provide:By,useFactory:dS},{provide:$f,useFactory:Bf}]}function fS(e){return pc([[],Hy(()=>new ws(function jy(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}(e)))])}let pS=(()=>{class e{static{this.__NG_ELEMENT_ID__=gS}}return e})();function gS(e){return function mS(e,t,n){if(Ur(e)&&!n){const r=$t(e.index,t);return new Qa(r,r)}return 47&e.type?new Qa(t[On],t):null}(Ct(),ae(),16==(16&e))}class qy{constructor(){}supports(t){return ru(t)}create(t){return new wS(t)}}const bS=(e,t)=>t;class wS{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||bS}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,s=0,i=null;for(;n||r;){const d=!r||n&&n.currentIndex<Qy(r,s,i)?n:r,p=Qy(d,s,i),_=d.currentIndex;if(d===r)s--,r=r._nextRemoved;else if(n=n._next,null==d.previousIndex)s++;else{i||(i=[]);const T=p-s,V=_-s;if(T!=V){for(let se=0;se<T;se++){const ce=se<i.length?i[se]:i[se]=0,xe=ce+se;V<=xe&&xe<T&&(i[se]=ce+1)}i[d.previousIndex]=V-T}}p!==_&&t(d,p,_)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!ru(t))throw new Qe(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let s,i,d,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let p=0;p<this.length;p++)i=t[p],d=this._trackByFn(p,i),null!==n&&Object.is(n.trackById,d)?(r&&(n=this._verifyReinsertion(n,i,d,p)),Object.is(n.item,i)||this._addIdentityChange(n,i)):(n=this._mismatch(n,i,d,p),r=!0),n=n._next}else s=0,function ew(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,p=>{d=this._trackByFn(s,p),null!==n&&Object.is(n.trackById,d)?(r&&(n=this._verifyReinsertion(n,p,d,s)),Object.is(n.item,p)||this._addIdentityChange(n,p)):(n=this._mismatch(n,p,d,s),r=!0),n=n._next,s++}),this.length=s;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,s){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,i,s)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,s))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,i,s)):t=this._addAfter(new CS(n,r),i,s),t}_verifyReinsertion(t,n,r,s){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?t=this._reinsertAfter(i,t._prev,s):t.currentIndex!=s&&(t.currentIndex=s,this._addToMoves(t,s)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const s=t._prevRemoved,i=t._nextRemoved;return null===s?this._removalsHead=i:s._nextRemoved=i,null===i?this._removalsTail=s:i._prevRemoved=s,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const s=null===n?this._itHead:n._next;return t._next=s,t._prev=n,null===s?this._itTail=t:s._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new Xy),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Xy),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class CS{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ES{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class Xy{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new ES,this.map.set(n,r)),r.add(t)}get(t,n){const s=this.map.get(t);return s?s.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Qy(e,t,n){const r=e.previousIndex;if(null===r)return r;let s=0;return n&&r<n.length&&(s=n[r]),r+t+s}class Jy{constructor(){}supports(t){return t instanceof Map||Jc(t)}create(){return new DS}}class DS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Jc(t)))throw new Qe(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,s)=>{if(n&&n.key===s)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const i=this._getOrCreateRecordForKey(s,r);n=this._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const s=this._records.get(t);this._maybeAddToChanges(s,n);const i=s._prev,d=s._next;return i&&(i._next=d),d&&(d._prev=i),s._next=null,s._prev=null,s}const r=new SS(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class SS{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Yy(){return new Jd([new qy])}let Jd=(()=>{class e{static{this.\u0275prov=Wt({token:e,providedIn:"root",factory:Yy})}constructor(n){this.factories=n}static create(n,r){if(null!=r){const s=r.factories.slice();n=n.concat(s)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||Yy()),deps:[[e,new Dl,new El]]}}find(n){const r=this.factories.find(s=>s.supports(n));if(null!=r)return r;throw new Qe(901,!1)}}return e})();function Zy(){return new Yd([new Jy])}let Yd=(()=>{class e{static{this.\u0275prov=Wt({token:e,providedIn:"root",factory:Zy})}constructor(n){this.factories=n}static create(n,r){if(r){const s=r.factories.slice();n=n.concat(s)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||Zy()),deps:[[e,new Dl,new El]]}}find(n){const r=this.factories.find(s=>s.supports(n));if(r)return r;throw new Qe(901,!1)}}return e})(),av=!1;function LS(){return pc([{provide:Ql,useFactory:()=>{let e=!0;return aa()&&(e=!!Le(Ha,{optional:!0})?.get(Ac,null)),e&&Le(Df).add("hydration"),e}},{provide:Ba,useValue:()=>{aa()&&Le(Ql)&&(function jS(){const e=Zo();let t;for(const n of e.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===y0){t=n;break}if(!t)throw new Qe(-507,!1)}(),function kS(){av||(av=!0,function _0(){Sf=v0}(),function Dw(){qp=Ew}(),function tC(){Mg=eC}(),function Tw(){Qp=Mw}(),function bw(){Gp=_w}(),function nD(){Qm=tD}(),function JE(){Gm=QE}(),function ab(){ap=ob}())}())},multi:!0},{provide:qf,useFactory:()=>aa()&&Le(Ql)},{provide:Gd,useFactory:()=>{if(aa()&&Le(Ql)){const e=Le(Sa);return Le(Gi),()=>{(function FS(e,t){return e.isStable.pipe((0,At.$)(r=>r)).toPromise().then(()=>{})})(e).then(()=>{ws.assertInAngularZone(),function qE(e){const t=e._views;for(const n of t){const r=Mf(n);null!==r&&null!==r[rn]&&($n(r)?wu(r):(wu(r[rn]),zm(r)))}}(e)})}}return()=>{}},multi:!0}])}function VS(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function $S(e){const t=Ft(e);if(!t)return null;const n=new Ja(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},4341:(at,pe,F)=>{"use strict";F.d(pe,{Zm:()=>ct,me:()=>ze,YN:()=>vr,tU:()=>Fn,BC:()=>Yt,cb:()=>Kt,cV:()=>qs,vS:()=>Qs,xH:()=>dr,Fm:()=>Ts,YS:()=>Ys,wz:()=>yn,qT:()=>Ui,y7:()=>js});var u=F(6276),G=F(177),E=F(6648),ge=F(1985),re=F(3073),H=F(8750),X=F(9326),de=F(4360),fe=F(6450),me=F(8496),De=F(6354);let Je=(()=>{class P{constructor(D,$){this._renderer=D,this._elementRef=$,this.onChange=ne=>{},this.onTouched=()=>{}}setProperty(D,$){this._renderer.setProperty(this._elementRef.nativeElement,D,$)}registerOnTouched(D){this.onTouched=D}registerOnChange(D){this.onChange=D}setDisabledState(D){this.setProperty("disabled",D)}static{this.\u0275fac=function($){return new($||P)(u.rXU(u.sFG),u.rXU(u.aKT))}}static{this.\u0275dir=u.FsC({type:P})}}return P})(),Ve=(()=>{class P extends Je{static{this.\u0275fac=function(){let D;return function(ne){return(D||(D=u.xGo(P)))(ne||P)}}()}static{this.\u0275dir=u.FsC({type:P,features:[u.Vt3]})}}return P})();const He=new u.nKC("NgValueAccessor"),Ut={provide:He,useExisting:(0,u.Rfq)(()=>ct),multi:!0};let ct=(()=>{class P extends Ve{writeValue(D){this.setProperty("checked",D)}static{this.\u0275fac=function(){let D;return function(ne){return(D||(D=u.xGo(P)))(ne||P)}}()}static{this.\u0275dir=u.FsC({type:P,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function($,ne){1&$&&u.bIt("change",function(Ht){return ne.onChange(Ht.target.checked)})("blur",function(){return ne.onTouched()})},features:[u.Jv_([Ut]),u.Vt3]})}}return P})();const At={provide:He,useExisting:(0,u.Rfq)(()=>ze),multi:!0},zt=new u.nKC("CompositionEventMode");let ze=(()=>{class P extends Je{constructor(D,$,ne){super(D,$),this._compositionMode=ne,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ot(){const P=(0,G.QT)()?(0,G.QT)().getUserAgent():"";return/android (\d+)/.test(P.toLowerCase())}())}writeValue(D){this.setProperty("value",D??"")}_handleInput(D){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(D)}_compositionStart(){this._composing=!0}_compositionEnd(D){this._composing=!1,this._compositionMode&&this.onChange(D)}static{this.\u0275fac=function($){return new($||P)(u.rXU(u.sFG),u.rXU(u.aKT),u.rXU(zt,8))}}static{this.\u0275dir=u.FsC({type:P,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function($,ne){1&$&&u.bIt("input",function(Ht){return ne._handleInput(Ht.target.value)})("blur",function(){return ne.onTouched()})("compositionstart",function(){return ne._compositionStart()})("compositionend",function(Ht){return ne._compositionEnd(Ht.target.value)})},features:[u.Jv_([At]),u.Vt3]})}}return P})();const gt=new u.nKC("NgValidators"),Me=new u.nKC("NgAsyncValidators");function Qe(P){return function We(P){return null==P||("string"==typeof P||Array.isArray(P))&&0===P.length}(P.value)?{required:!0}:null}function Mn(P){return null}function jt(P){return null!=P}function ue(P){return(0,u.jNT)(P)?(0,E.H)(P):P}function ve(P){let k={};return P.forEach(D=>{k=null!=D?{...k,...D}:k}),0===Object.keys(k).length?null:k}function be(P,k){return k.map(D=>D(P))}function Ue(P){return P.map(k=>function Ae(P){return!P.validate}(k)?k:D=>k.validate(D))}function Et(P){return null!=P?function Ke(P){if(!P)return null;const k=P.filter(jt);return 0==k.length?null:function(D){return ve(be(D,k))}}(Ue(P)):null}function xn(P){return null!=P?function un(P){if(!P)return null;const k=P.filter(jt);return 0==k.length?null:function(D){return function oe(...P){const k=(0,X.ms)(P),{args:D,keys:$}=(0,re.D)(P),ne=new ge.c(vt=>{const{length:Ht}=D;if(!Ht)return void vt.complete();const $r=new Array(Ht);let vs=Ht,es=Ht;for(let Dr=0;Dr<Ht;Dr++){let ui=!1;(0,H.Tg)(D[Dr]).subscribe((0,de._)(vt,Lr=>{ui||(ui=!0,es--),$r[Dr]=Lr},()=>vs--,void 0,()=>{(!vs||!ui)&&(es||vt.next($?(0,me.e)($,$r):$r),vt.complete())}))}});return k?ne.pipe((0,fe.I)(k)):ne}(be(D,k).map(ue)).pipe((0,De.T)(ve))}}(Ue(P)):null}function Pt(P,k){return null===P?[k]:Array.isArray(P)?[...P,k]:[P,k]}function Zn(P){return P?Array.isArray(P)?P:[P]:[]}function Dt(P,k){return Array.isArray(P)?P.includes(k):P===k}function lt(P,k){const D=Zn(k);return Zn(P).forEach(ne=>{Dt(D,ne)||D.push(ne)}),D}function pt(P,k){return Zn(k).filter(D=>!Dt(P,D))}class ir{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(k){this._rawValidators=k||[],this._composedValidatorFn=Et(this._rawValidators)}_setAsyncValidators(k){this._rawAsyncValidators=k||[],this._composedAsyncValidatorFn=xn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(k){this._onDestroyCallbacks.push(k)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(k=>k()),this._onDestroyCallbacks=[]}reset(k=void 0){this.control&&this.control.reset(k)}hasError(k,D){return!!this.control&&this.control.hasError(k,D)}getError(k,D){return this.control?this.control.getError(k,D):null}}class Cn extends ir{get formDirective(){return null}get path(){return null}}class Wt extends ir{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Rr{constructor(k){this._cd=k}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Yt=(()=>{class P extends Rr{constructor(D){super(D)}static{this.\u0275fac=function($){return new($||P)(u.rXU(Wt,2))}}static{this.\u0275dir=u.FsC({type:P,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function($,ne){2&$&&u.AVh("ng-untouched",ne.isUntouched)("ng-touched",ne.isTouched)("ng-pristine",ne.isPristine)("ng-dirty",ne.isDirty)("ng-valid",ne.isValid)("ng-invalid",ne.isInvalid)("ng-pending",ne.isPending)},features:[u.Vt3]})}}return P})(),Kt=(()=>{class P extends Rr{constructor(D){super(D)}static{this.\u0275fac=function($){return new($||P)(u.rXU(Cn,10))}}static{this.\u0275dir=u.FsC({type:P,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function($,ne){2&$&&u.AVh("ng-untouched",ne.isUntouched)("ng-touched",ne.isTouched)("ng-pristine",ne.isPristine)("ng-dirty",ne.isDirty)("ng-valid",ne.isValid)("ng-invalid",ne.isInvalid)("ng-pending",ne.isPending)("ng-submitted",ne.isSubmitted)},features:[u.Vt3]})}}return P})();const lr="VALID",br="INVALID",er="PENDING",xr="DISABLED";function Es(P){return(K(P)?P.validators:P)||null}function Oe(P,k){return(K(k)?k.asyncValidators:P)||null}function K(P){return null!=P&&!Array.isArray(P)&&"object"==typeof P}class nt{constructor(k,D){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(k),this._assignAsyncValidators(D)}get validator(){return this._composedValidatorFn}set validator(k){this._rawValidators=this._composedValidatorFn=k}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(k){this._rawAsyncValidators=this._composedAsyncValidatorFn=k}get parent(){return this._parent}get valid(){return this.status===lr}get invalid(){return this.status===br}get pending(){return this.status==er}get disabled(){return this.status===xr}get enabled(){return this.status!==xr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(k){this._assignValidators(k)}setAsyncValidators(k){this._assignAsyncValidators(k)}addValidators(k){this.setValidators(lt(k,this._rawValidators))}addAsyncValidators(k){this.setAsyncValidators(lt(k,this._rawAsyncValidators))}removeValidators(k){this.setValidators(pt(k,this._rawValidators))}removeAsyncValidators(k){this.setAsyncValidators(pt(k,this._rawAsyncValidators))}hasValidator(k){return Dt(this._rawValidators,k)}hasAsyncValidator(k){return Dt(this._rawAsyncValidators,k)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(k={}){this.touched=!0,this._parent&&!k.onlySelf&&this._parent.markAsTouched(k)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(k=>k.markAllAsTouched())}markAsUntouched(k={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(D=>{D.markAsUntouched({onlySelf:!0})}),this._parent&&!k.onlySelf&&this._parent._updateTouched(k)}markAsDirty(k={}){this.pristine=!1,this._parent&&!k.onlySelf&&this._parent.markAsDirty(k)}markAsPristine(k={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(D=>{D.markAsPristine({onlySelf:!0})}),this._parent&&!k.onlySelf&&this._parent._updatePristine(k)}markAsPending(k={}){this.status=er,!1!==k.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!k.onlySelf&&this._parent.markAsPending(k)}disable(k={}){const D=this._parentMarkedDirty(k.onlySelf);this.status=xr,this.errors=null,this._forEachChild($=>{$.disable({...k,onlySelf:!0})}),this._updateValue(),!1!==k.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...k,skipPristineCheck:D}),this._onDisabledChange.forEach($=>$(!0))}enable(k={}){const D=this._parentMarkedDirty(k.onlySelf);this.status=lr,this._forEachChild($=>{$.enable({...k,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:k.emitEvent}),this._updateAncestors({...k,skipPristineCheck:D}),this._onDisabledChange.forEach($=>$(!1))}_updateAncestors(k){this._parent&&!k.onlySelf&&(this._parent.updateValueAndValidity(k),k.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(k){this._parent=k}getRawValue(){return this.value}updateValueAndValidity(k={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===lr||this.status===er)&&this._runAsyncValidator(k.emitEvent)),!1!==k.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!k.onlySelf&&this._parent.updateValueAndValidity(k)}_updateTreeValidity(k={emitEvent:!0}){this._forEachChild(D=>D._updateTreeValidity(k)),this.updateValueAndValidity({onlySelf:!0,emitEvent:k.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xr:lr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(k){if(this.asyncValidator){this.status=er,this._hasOwnPendingAsyncValidator=!0;const D=ue(this.asyncValidator(this));this._asyncValidationSubscription=D.subscribe($=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors($,{emitEvent:k})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(k,D={}){this.errors=k,this._updateControlsErrors(!1!==D.emitEvent)}get(k){let D=k;return null==D||(Array.isArray(D)||(D=D.split(".")),0===D.length)?null:D.reduce(($,ne)=>$&&$._find(ne),this)}getError(k,D){const $=D?this.get(D):this;return $&&$.errors?$.errors[k]:null}hasError(k,D){return!!this.getError(k,D)}get root(){let k=this;for(;k._parent;)k=k._parent;return k}_updateControlsErrors(k){this.status=this._calculateStatus(),k&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(k)}_initObservables(){this.valueChanges=new u.bkB,this.statusChanges=new u.bkB}_calculateStatus(){return this._allControlsDisabled()?xr:this.errors?br:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(er)?er:this._anyControlsHaveStatus(br)?br:lr}_anyControlsHaveStatus(k){return this._anyControls(D=>D.status===k)}_anyControlsDirty(){return this._anyControls(k=>k.dirty)}_anyControlsTouched(){return this._anyControls(k=>k.touched)}_updatePristine(k={}){this.pristine=!this._anyControlsDirty(),this._parent&&!k.onlySelf&&this._parent._updatePristine(k)}_updateTouched(k={}){this.touched=this._anyControlsTouched(),this._parent&&!k.onlySelf&&this._parent._updateTouched(k)}_registerOnCollectionChange(k){this._onCollectionChange=k}_setUpdateStrategy(k){K(k)&&null!=k.updateOn&&(this._updateOn=k.updateOn)}_parentMarkedDirty(k){return!k&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(k){return null}_assignValidators(k){this._rawValidators=Array.isArray(k)?k.slice():k,this._composedValidatorFn=function Ws(P){return Array.isArray(P)?Et(P):P||null}(this._rawValidators)}_assignAsyncValidators(k){this._rawAsyncValidators=Array.isArray(k)?k.slice():k,this._composedAsyncValidatorFn=function ye(P){return Array.isArray(P)?xn(P):P||null}(this._rawAsyncValidators)}}class St extends nt{constructor(k,D,$){super(Es(D),Oe($,D)),this.controls=k,this._initObservables(),this._setUpdateStrategy(D),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(k,D){return this.controls[k]?this.controls[k]:(this.controls[k]=D,D.setParent(this),D._registerOnCollectionChange(this._onCollectionChange),D)}addControl(k,D,$={}){this.registerControl(k,D),this.updateValueAndValidity({emitEvent:$.emitEvent}),this._onCollectionChange()}removeControl(k,D={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),delete this.controls[k],this.updateValueAndValidity({emitEvent:D.emitEvent}),this._onCollectionChange()}setControl(k,D,$={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),delete this.controls[k],D&&this.registerControl(k,D),this.updateValueAndValidity({emitEvent:$.emitEvent}),this._onCollectionChange()}contains(k){return this.controls.hasOwnProperty(k)&&this.controls[k].enabled}setValue(k,D={}){(function Se(P,k,D){P._forEachChild(($,ne)=>{if(void 0===D[ne])throw new u.wOt(1002,"")})})(this,0,k),Object.keys(k).forEach($=>{(function ie(P,k,D){const $=P.controls;if(!(k?Object.keys($):$).length)throw new u.wOt(1e3,"");if(!$[D])throw new u.wOt(1001,"")})(this,!0,$),this.controls[$].setValue(k[$],{onlySelf:!0,emitEvent:D.emitEvent})}),this.updateValueAndValidity(D)}patchValue(k,D={}){null!=k&&(Object.keys(k).forEach($=>{const ne=this.controls[$];ne&&ne.patchValue(k[$],{onlySelf:!0,emitEvent:D.emitEvent})}),this.updateValueAndValidity(D))}reset(k={},D={}){this._forEachChild(($,ne)=>{$.reset(k?k[ne]:null,{onlySelf:!0,emitEvent:D.emitEvent})}),this._updatePristine(D),this._updateTouched(D),this.updateValueAndValidity(D)}getRawValue(){return this._reduceChildren({},(k,D,$)=>(k[$]=D.getRawValue(),k))}_syncPendingControls(){let k=this._reduceChildren(!1,(D,$)=>!!$._syncPendingControls()||D);return k&&this.updateValueAndValidity({onlySelf:!0}),k}_forEachChild(k){Object.keys(this.controls).forEach(D=>{const $=this.controls[D];$&&k($,D)})}_setUpControls(){this._forEachChild(k=>{k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(k){for(const[D,$]of Object.entries(this.controls))if(this.contains(D)&&k($))return!0;return!1}_reduceValue(){return this._reduceChildren({},(D,$,ne)=>(($.enabled||this.disabled)&&(D[ne]=$.value),D))}_reduceChildren(k,D){let $=k;return this._forEachChild((ne,vt)=>{$=D($,ne,vt)}),$}_allControlsDisabled(){for(const k of Object.keys(this.controls))if(this.controls[k].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(k){return this.controls.hasOwnProperty(k)?this.controls[k]:null}}const En=new u.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Nr}),Nr="always";function J(P,k,D=Nr){Ze(P,k),k.valueAccessor.writeValue(P.value),(P.disabled||"always"===D)&&k.valueAccessor.setDisabledState?.(P.disabled),function cn(P,k){k.valueAccessor.registerOnChange(D=>{P._pendingValue=D,P._pendingChange=!0,P._pendingDirty=!0,"change"===P.updateOn&&In(P,k)})}(P,k),function Hn(P,k){const D=($,ne)=>{k.valueAccessor.writeValue($),ne&&k.viewToModelUpdate($)};P.registerOnChange(D),k._registerOnDestroy(()=>{P._unregisterOnChange(D)})}(P,k),function Vt(P,k){k.valueAccessor.registerOnTouched(()=>{P._pendingTouched=!0,"blur"===P.updateOn&&P._pendingChange&&In(P,k),"submit"!==P.updateOn&&P.markAsTouched()})}(P,k),function Le(P,k){if(k.valueAccessor.setDisabledState){const D=$=>{k.valueAccessor.setDisabledState($)};P.registerOnDisabledChange(D),k._registerOnDestroy(()=>{P._unregisterOnDisabledChange(D)})}}(P,k)}function Pe(P,k){P.forEach(D=>{D.registerOnValidatorChange&&D.registerOnValidatorChange(k)})}function Ze(P,k){const D=function pn(P){return P._rawValidators}(P);null!==k.validator?P.setValidators(Pt(D,k.validator)):"function"==typeof D&&P.setValidators([D]);const $=function Ln(P){return P._rawAsyncValidators}(P);null!==k.asyncValidator?P.setAsyncValidators(Pt($,k.asyncValidator)):"function"==typeof $&&P.setAsyncValidators([$]);const ne=()=>P.updateValueAndValidity();Pe(k._rawValidators,ne),Pe(k._rawAsyncValidators,ne)}function In(P,k){P._pendingDirty&&P.markAsDirty(),P.setValue(P._pendingValue,{emitModelToViewChange:!1}),k.viewToModelUpdate(P._pendingValue),P._pendingChange=!1}const Ds={provide:Cn,useExisting:(0,u.Rfq)(()=>qs)},ds=(()=>Promise.resolve())();let qs=(()=>{class P extends Cn{constructor(D,$,ne){super(),this.callSetDisabledState=ne,this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.bkB,this.form=new St({},Et(D),xn($))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(D){ds.then(()=>{const $=this._findContainer(D.path);D.control=$.registerControl(D.name,D.control),J(D.control,D,this.callSetDisabledState),D.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(D)})}getControl(D){return this.form.get(D.path)}removeControl(D){ds.then(()=>{const $=this._findContainer(D.path);$&&$.removeControl(D.name),this._directives.delete(D)})}addFormGroup(D){ds.then(()=>{const $=this._findContainer(D.path),ne=new St({});(function dn(P,k){Ze(P,k)})(ne,D),$.registerControl(D.name,ne),ne.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(D){ds.then(()=>{const $=this._findContainer(D.path);$&&$.removeControl(D.name)})}getFormGroup(D){return this.form.get(D.path)}updateModel(D,$){ds.then(()=>{this.form.get(D.path).setValue($)})}setValue(D){this.control.setValue(D)}onSubmit(D){return this.submitted=!0,function Dn(P,k){P._syncPendingControls(),k.forEach(D=>{const $=D.control;"submit"===$.updateOn&&$._pendingChange&&(D.viewToModelUpdate($._pendingValue),$._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(D),"dialog"===D?.target?.method}onReset(){this.resetForm()}resetForm(D=void 0){this.form.reset(D),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(D){return D.pop(),D.length?this.form.get(D):this.form}static{this.\u0275fac=function($){return new($||P)(u.rXU(gt,10),u.rXU(Me,10),u.rXU(En,8))}}static{this.\u0275dir=u.FsC({type:P,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function($,ne){1&$&&u.bIt("submit",function(Ht){return ne.onSubmit(Ht)})("reset",function(){return ne.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u.Jv_([Ds]),u.Vt3]})}}return P})();function Kr(P,k){const D=P.indexOf(k);D>-1&&P.splice(D,1)}function Br(P){return"object"==typeof P&&null!==P&&2===Object.keys(P).length&&"value"in P&&"disabled"in P}const ks=class extends nt{constructor(k=null,D,$){super(Es(D),Oe($,D)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(k),this._setUpdateStrategy(D),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),K(D)&&(D.nonNullable||D.initialValueIsDefault)&&(this.defaultValue=Br(k)?k.value:k)}setValue(k,D={}){this.value=this._pendingValue=k,this._onChange.length&&!1!==D.emitModelToViewChange&&this._onChange.forEach($=>$(this.value,!1!==D.emitViewToModelChange)),this.updateValueAndValidity(D)}patchValue(k,D={}){this.setValue(k,D)}reset(k=this.defaultValue,D={}){this._applyFormState(k),this.markAsPristine(D),this.markAsUntouched(D),this.setValue(this.value,D),this._pendingChange=!1}_updateValue(){}_anyControls(k){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(k){this._onChange.push(k)}_unregisterOnChange(k){Kr(this._onChange,k)}registerOnDisabledChange(k){this._onDisabledChange.push(k)}_unregisterOnDisabledChange(k){Kr(this._onDisabledChange,k)}_forEachChild(k){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(k){Br(k)?(this.value=this._pendingValue=k.value,k.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=k}},Ri={provide:Wt,useExisting:(0,u.Rfq)(()=>Qs)},bi=(()=>Promise.resolve())();let Qs=(()=>{class P extends Wt{constructor(D,$,ne,vt,Ht,$r){super(),this._changeDetectorRef=Ht,this.callSetDisabledState=$r,this.control=new ks,this._registered=!1,this.name="",this.update=new u.bkB,this._parent=D,this._setValidators($),this._setAsyncValidators(ne),this.valueAccessor=function wr(P,k){if(!k)return null;let D,$,ne;return Array.isArray(k),k.forEach(vt=>{vt.constructor===ze?D=vt:function Jn(P){return Object.getPrototypeOf(P.constructor)===Ve}(vt)?$=vt:ne=vt}),ne||$||D||null}(0,vt)}ngOnChanges(D){if(this._checkForErrors(),!this._registered||"name"in D){if(this._registered&&(this._checkName(),this.formDirective)){const $=D.name.previousValue;this.formDirective.removeControl({name:$,path:this._getPath($)})}this._setUpControl()}"isDisabled"in D&&this._updateDisabled(D),function Ar(P,k){if(!P.hasOwnProperty("model"))return!1;const D=P.model;return!!D.isFirstChange()||!Object.is(k,D.currentValue)}(D,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(D){this.viewModel=D,this.update.emit(D)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){J(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(D){bi.then(()=>{this.control.setValue(D,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(D){const $=D.isDisabled.currentValue,ne=0!==$&&(0,u.L39)($);bi.then(()=>{ne&&!this.control.disabled?this.control.disable():!ne&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(D){return this._parent?function le(P,k){return[...k.path,P]}(D,this._parent):[D]}static{this.\u0275fac=function($){return new($||P)(u.rXU(Cn,9),u.rXU(gt,10),u.rXU(Me,10),u.rXU(He,10),u.rXU(u.gRc,8),u.rXU(En,8))}}static{this.\u0275dir=u.FsC({type:P,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u.Jv_([Ri]),u.Vt3,u.OA$]})}}return P})(),Ui=(()=>{class P{static{this.\u0275fac=function($){return new($||P)}}static{this.\u0275dir=u.FsC({type:P,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return P})();const oi={provide:He,useExisting:(0,u.Rfq)(()=>Ts),multi:!0};let Ms=(()=>{class P{static{this.\u0275fac=function($){return new($||P)}}static{this.\u0275mod=u.$C({type:P})}static{this.\u0275inj=u.G2t({})}}return P})(),hs=(()=>{class P{constructor(){this._accessors=[]}add(D,$){this._accessors.push([D,$])}remove(D){for(let $=this._accessors.length-1;$>=0;--$)if(this._accessors[$][1]===D)return void this._accessors.splice($,1)}select(D){this._accessors.forEach($=>{this._isSameGroup($,D)&&$[1]!==D&&$[1].fireUncheck(D.value)})}_isSameGroup(D,$){return!!D[0].control&&D[0]._parent===$._control._parent&&D[1].name===$.name}static{this.\u0275fac=function($){return new($||P)}}static{this.\u0275prov=u.jDH({token:P,factory:P.\u0275fac,providedIn:Ms})}}return P})(),Ts=(()=>{class P extends Ve{constructor(D,$,ne,vt){super(D,$),this._registry=ne,this._injector=vt,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,u.WQX)(En,{optional:!0})??Nr}ngOnInit(){this._control=this._injector.get(Wt),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(D){this._state=D===this.value,this.setProperty("checked",this._state)}registerOnChange(D){this._fn=D,this.onChange=()=>{D(this.value),this._registry.select(this)}}setDisabledState(D){(this.setDisabledStateFired||D||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",D),this.setDisabledStateFired=!0}fireUncheck(D){this.writeValue(D)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function($){return new($||P)(u.rXU(u.sFG),u.rXU(u.aKT),u.rXU(hs),u.rXU(u.zZn))}}static{this.\u0275dir=u.FsC({type:P,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function($,ne){1&$&&u.bIt("change",function(){return ne.onChange()})("blur",function(){return ne.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[u.Jv_([oi]),u.Vt3]})}}return P})();const rn={provide:He,useExisting:(0,u.Rfq)(()=>yn),multi:!0};function it(P,k){return null==P?`${k}`:(k&&"object"==typeof k&&(k="Object"),`${P}: ${k}`.slice(0,50))}let yn=(()=>{class P extends Ve{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(D){this._compareWith=D}writeValue(D){this.value=D;const ne=it(this._getOptionId(D),D);this.setProperty("value",ne)}registerOnChange(D){this.onChange=$=>{this.value=this._getOptionValue($),D(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(D){for(const $ of this._optionMap.keys())if(this._compareWith(this._optionMap.get($),D))return $;return null}_getOptionValue(D){const $=function It(P){return P.split(":")[0]}(D);return this._optionMap.has($)?this._optionMap.get($):D}static{this.\u0275fac=function(){let D;return function(ne){return(D||(D=u.xGo(P)))(ne||P)}}()}static{this.\u0275dir=u.FsC({type:P,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function($,ne){1&$&&u.bIt("change",function(Ht){return ne.onChange(Ht.target.value)})("blur",function(){return ne.onTouched()})},inputs:{compareWith:"compareWith"},features:[u.Jv_([rn]),u.Vt3]})}}return P})(),dr=(()=>{class P{constructor(D,$,ne){this._element=D,this._renderer=$,this._select=ne,this._select&&(this.id=this._select._registerOption())}set ngValue(D){null!=this._select&&(this._select._optionMap.set(this.id,D),this._setElementValue(it(this.id,D)),this._select.writeValue(this._select.value))}set value(D){this._setElementValue(D),this._select&&this._select.writeValue(this._select.value)}_setElementValue(D){this._renderer.setProperty(this._element.nativeElement,"value",D)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function($){return new($||P)(u.rXU(u.aKT),u.rXU(u.sFG),u.rXU(yn,9))}}static{this.\u0275dir=u.FsC({type:P,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return P})();const ai={provide:He,useExisting:(0,u.Rfq)(()=>Er),multi:!0};function Wn(P,k){return null==P?`${k}`:("string"==typeof k&&(k=`'${k}'`),k&&"object"==typeof k&&(k="Object"),`${P}: ${k}`.slice(0,50))}let Er=(()=>{class P extends Ve{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(D){this._compareWith=D}writeValue(D){let $;if(this.value=D,Array.isArray(D)){const ne=D.map(vt=>this._getOptionId(vt));$=(vt,Ht)=>{vt._setSelected(ne.indexOf(Ht.toString())>-1)}}else $=(ne,vt)=>{ne._setSelected(!1)};this._optionMap.forEach($)}registerOnChange(D){this.onChange=$=>{const ne=[],vt=$.selectedOptions;if(void 0!==vt){const Ht=vt;for(let $r=0;$r<Ht.length;$r++){const es=this._getOptionValue(Ht[$r].value);ne.push(es)}}else{const Ht=$.options;for(let $r=0;$r<Ht.length;$r++){const vs=Ht[$r];if(vs.selected){const es=this._getOptionValue(vs.value);ne.push(es)}}}this.value=ne,D(ne)}}_registerOption(D){const $=(this._idCounter++).toString();return this._optionMap.set($,D),$}_getOptionId(D){for(const $ of this._optionMap.keys())if(this._compareWith(this._optionMap.get($)._value,D))return $;return null}_getOptionValue(D){const $=function zr(P){return P.split(":")[0]}(D);return this._optionMap.has($)?this._optionMap.get($)._value:D}static{this.\u0275fac=function(){let D;return function(ne){return(D||(D=u.xGo(P)))(ne||P)}}()}static{this.\u0275dir=u.FsC({type:P,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function($,ne){1&$&&u.bIt("change",function(Ht){return ne.onChange(Ht.target)})("blur",function(){return ne.onTouched()})},inputs:{compareWith:"compareWith"},features:[u.Jv_([ai]),u.Vt3]})}}return P})(),js=(()=>{class P{constructor(D,$,ne){this._element=D,this._renderer=$,this._select=ne,this._select&&(this.id=this._select._registerOption(this))}set ngValue(D){null!=this._select&&(this._value=D,this._setElementValue(Wn(this.id,D)),this._select.writeValue(this._select.value))}set value(D){this._select?(this._value=D,this._setElementValue(Wn(this.id,D)),this._select.writeValue(this._select.value)):this._setElementValue(D)}_setElementValue(D){this._renderer.setProperty(this._element.nativeElement,"value",D)}_setSelected(D){this._renderer.setProperty(this._element.nativeElement,"selected",D)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function($){return new($||P)(u.rXU(u.aKT),u.rXU(u.sFG),u.rXU(Er,9))}}static{this.\u0275dir=u.FsC({type:P,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return P})();let Xr=(()=>{class P{constructor(){this._validator=Mn}ngOnChanges(D){if(this.inputName in D){const $=this.normalizeInput(D[this.inputName].currentValue);this._enabled=this.enabled($),this._validator=this._enabled?this.createValidator($):Mn,this._onChange&&this._onChange()}}validate(D){return this._validator(D)}registerOnValidatorChange(D){this._onChange=D}enabled(D){return null!=D}static{this.\u0275fac=function($){return new($||P)}}static{this.\u0275dir=u.FsC({type:P,features:[u.OA$]})}}return P})();const Vr={provide:gt,useExisting:(0,u.Rfq)(()=>Ys),multi:!0};let Ys=(()=>{class P extends Xr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=u.L39,this.createValidator=D=>Qe}enabled(D){return D}static{this.\u0275fac=function(){let D;return function(ne){return(D||(D=u.xGo(P)))(ne||P)}}()}static{this.\u0275dir=u.FsC({type:P,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function($,ne){2&$&&u.BMQ("required",ne._enabled?"":null)},inputs:{required:"required"},features:[u.Jv_([Vr]),u.Vt3]})}}return P})();const Bi={provide:gt,useExisting:(0,u.Rfq)(()=>Fn),multi:!0};let Fn=(()=>{class P extends Xr{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=D=>function kt(P){return"number"==typeof P?P:parseInt(P,10)}(D),this.createValidator=D=>function gr(P){return k=>function tt(P){return null!=P&&"number"==typeof P.length}(k.value)&&k.value.length>P?{maxlength:{requiredLength:P,actualLength:k.value.length}}:null}(D)}static{this.\u0275fac=function(){let D;return function(ne){return(D||(D=u.xGo(P)))(ne||P)}}()}static{this.\u0275dir=u.FsC({type:P,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function($,ne){2&$&&u.BMQ("maxlength",ne._enabled?ne.maxlength:null)},inputs:{maxlength:"maxlength"},features:[u.Jv_([Bi]),u.Vt3]})}}return P})(),Un=(()=>{class P{static{this.\u0275fac=function($){return new($||P)}}static{this.\u0275mod=u.$C({type:P})}static{this.\u0275inj=u.G2t({imports:[Ms]})}}return P})(),vr=(()=>{class P{static withConfig(D){return{ngModule:P,providers:[{provide:En,useValue:D.callSetDisabledState??Nr}]}}static{this.\u0275fac=function($){return new($||P)}}static{this.\u0275mod=u.$C({type:P})}static{this.\u0275inj=u.G2t({imports:[Un]})}}return P})()},345:(at,pe,F)=>{"use strict";F.d(pe,{$x:()=>er,B7:()=>Ot,B8:()=>be,W8:()=>ir,hE:()=>Rr});var u=F(6276),G=F(177),E=F(1626);class ge extends G.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class re extends ge{static makeCurrent(){(0,G.ZD)(new re)}onAndCancel(ye,K,ie){return ye.addEventListener(K,ie),()=>{ye.removeEventListener(K,ie)}}dispatchEvent(ye,K){ye.dispatchEvent(K)}remove(ye){ye.parentNode&&ye.parentNode.removeChild(ye)}createElement(ye,K){return(K=K||this.getDefaultDocument()).createElement(ye)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ye){return ye.nodeType===Node.ELEMENT_NODE}isShadowRoot(ye){return ye instanceof DocumentFragment}getGlobalEventTarget(ye,K){return"window"===K?window:"document"===K?ye:"body"===K?ye.body:null}getBaseHref(ye){const K=function X(){return H=H||document.querySelector("base"),H?H.getAttribute("href"):null}();return null==K?null:function fe(Oe){de=de||document.createElement("a"),de.setAttribute("href",Oe);const ye=de.pathname;return"/"===ye.charAt(0)?ye:`/${ye}`}(K)}resetBaseElement(){H=null}getUserAgent(){return window.navigator.userAgent}getCookie(ye){return(0,G._b)(document.cookie,ye)}}let de,H=null,oe=(()=>{class Oe{build(){return new XMLHttpRequest}static{this.\u0275fac=function(ie){return new(ie||Oe)}}static{this.\u0275prov=u.jDH({token:Oe,factory:Oe.\u0275fac})}}return Oe})();const De=new u.nKC("EventManagerPlugins");let Je=(()=>{class Oe{constructor(K,ie){this._zone=ie,this._eventNameToPlugin=new Map,K.forEach(Se=>{Se.manager=this}),this._plugins=K.slice().reverse()}addEventListener(K,ie,Se){return this._findPluginFor(ie).addEventListener(K,ie,Se)}getZone(){return this._zone}_findPluginFor(K){let ie=this._eventNameToPlugin.get(K);if(ie)return ie;if(ie=this._plugins.find(nt=>nt.supports(K)),!ie)throw new u.wOt(5101,!1);return this._eventNameToPlugin.set(K,ie),ie}static{this.\u0275fac=function(ie){return new(ie||Oe)(u.KVO(De),u.KVO(u.SKi))}}static{this.\u0275prov=u.jDH({token:Oe,factory:Oe.\u0275fac})}}return Oe})();class Ve{constructor(ye){this._doc=ye}}const He="ng-app-id";let Ut=(()=>{class Oe{constructor(K,ie,Se,nt={}){this.doc=K,this.appId=ie,this.nonce=Se,this.platformId=nt,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,G.Vy)(nt),this.resetHostNodes()}addStyles(K){for(const ie of K)1===this.changeUsageCount(ie,1)&&this.onStyleAdded(ie)}removeStyles(K){for(const ie of K)this.changeUsageCount(ie,-1)<=0&&this.onStyleRemoved(ie)}ngOnDestroy(){const K=this.styleNodesInDOM;K&&(K.forEach(ie=>ie.remove()),K.clear());for(const ie of this.getAllStyles())this.onStyleRemoved(ie);this.resetHostNodes()}addHost(K){this.hostNodes.add(K);for(const ie of this.getAllStyles())this.addStyleToHost(K,ie)}removeHost(K){this.hostNodes.delete(K)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(K){for(const ie of this.hostNodes)this.addStyleToHost(ie,K)}onStyleRemoved(K){const ie=this.styleRef;ie.get(K)?.elements?.forEach(Se=>Se.remove()),ie.delete(K)}collectServerRenderedStyles(){const K=this.doc.head?.querySelectorAll(`style[${He}="${this.appId}"]`);if(K?.length){const ie=new Map;return K.forEach(Se=>{null!=Se.textContent&&ie.set(Se.textContent,Se)}),ie}return null}changeUsageCount(K,ie){const Se=this.styleRef;if(Se.has(K)){const nt=Se.get(K);return nt.usage+=ie,nt.usage}return Se.set(K,{usage:ie,elements:[]}),ie}getStyleElement(K,ie){const Se=this.styleNodesInDOM,nt=Se?.get(ie);if(nt?.parentNode===K)return Se.delete(ie),nt.removeAttribute(He),nt;{const St=this.doc.createElement("style");return this.nonce&&St.setAttribute("nonce",this.nonce),St.textContent=ie,this.platformIsServer&&St.setAttribute(He,this.appId),St}}addStyleToHost(K,ie){const Se=this.getStyleElement(K,ie);K.appendChild(Se);const nt=this.styleRef,St=nt.get(ie)?.elements;St?St.push(Se):nt.set(ie,{elements:[Se],usage:1})}resetHostNodes(){const K=this.hostNodes;K.clear(),K.add(this.doc.head)}static{this.\u0275fac=function(ie){return new(ie||Oe)(u.KVO(G.qQ),u.KVO(u.sZ2),u.KVO(u.BIS,8),u.KVO(u.Agw))}}static{this.\u0275prov=u.jDH({token:Oe,factory:Oe.\u0275fac})}}return Oe})();const ct={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},At=/%COMP%/g,tt=new u.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Xe(Oe,ye){return ye.map(K=>K.replace(At,Oe))}let Ot=(()=>{class Oe{constructor(K,ie,Se,nt,St,mn,Xt,Vn=null){this.eventManager=K,this.sharedStylesHost=ie,this.appId=Se,this.removeStylesOnCompDestroy=nt,this.doc=St,this.platformId=mn,this.ngZone=Xt,this.nonce=Vn,this.rendererByCompId=new Map,this.platformIsServer=(0,G.Vy)(mn),this.defaultRenderer=new Mt(K,St,Xt,this.platformIsServer)}createRenderer(K,ie){if(!K||!ie)return this.defaultRenderer;this.platformIsServer&&ie.encapsulation===u.gXe.ShadowDom&&(ie={...ie,encapsulation:u.gXe.Emulated});const Se=this.getOrCreateRenderer(K,ie);return Se instanceof gr?Se.applyToHost(K):Se instanceof xt&&Se.applyStyles(),Se}getOrCreateRenderer(K,ie){const Se=this.rendererByCompId;let nt=Se.get(ie.id);if(!nt){const St=this.doc,mn=this.ngZone,Xt=this.eventManager,Vn=this.sharedStylesHost,ur=this.removeStylesOnCompDestroy,En=this.platformIsServer;switch(ie.encapsulation){case u.gXe.Emulated:nt=new gr(Xt,Vn,ie,this.appId,ur,St,mn,En);break;case u.gXe.ShadowDom:return new st(Xt,Vn,K,ie,St,mn,this.nonce,En);default:nt=new xt(Xt,Vn,ie,ur,St,mn,En)}Se.set(ie.id,nt)}return nt}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(ie){return new(ie||Oe)(u.KVO(Je),u.KVO(Ut),u.KVO(u.sZ2),u.KVO(tt),u.KVO(G.qQ),u.KVO(u.Agw),u.KVO(u.SKi),u.KVO(u.BIS))}}static{this.\u0275prov=u.jDH({token:Oe,factory:Oe.\u0275fac})}}return Oe})();class Mt{constructor(ye,K,ie,Se){this.eventManager=ye,this.doc=K,this.ngZone=ie,this.platformIsServer=Se,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ye,K){return K?this.doc.createElementNS(ct[K]||K,ye):this.doc.createElement(ye)}createComment(ye){return this.doc.createComment(ye)}createText(ye){return this.doc.createTextNode(ye)}appendChild(ye,K){(mt(ye)?ye.content:ye).appendChild(K)}insertBefore(ye,K,ie){ye&&(mt(ye)?ye.content:ye).insertBefore(K,ie)}removeChild(ye,K){ye&&ye.removeChild(K)}selectRootElement(ye,K){let ie="string"==typeof ye?this.doc.querySelector(ye):ye;if(!ie)throw new u.wOt(-5104,!1);return K||(ie.textContent=""),ie}parentNode(ye){return ye.parentNode}nextSibling(ye){return ye.nextSibling}setAttribute(ye,K,ie,Se){if(Se){K=Se+":"+K;const nt=ct[Se];nt?ye.setAttributeNS(nt,K,ie):ye.setAttribute(K,ie)}else ye.setAttribute(K,ie)}removeAttribute(ye,K,ie){if(ie){const Se=ct[ie];Se?ye.removeAttributeNS(Se,K):ye.removeAttribute(`${ie}:${K}`)}else ye.removeAttribute(K)}addClass(ye,K){ye.classList.add(K)}removeClass(ye,K){ye.classList.remove(K)}setStyle(ye,K,ie,Se){Se&(u.czy.DashCase|u.czy.Important)?ye.style.setProperty(K,ie,Se&u.czy.Important?"important":""):ye.style[K]=ie}removeStyle(ye,K,ie){ie&u.czy.DashCase?ye.style.removeProperty(K):ye.style[K]=""}setProperty(ye,K,ie){ye[K]=ie}setValue(ye,K){ye.nodeValue=K}listen(ye,K,ie){if("string"==typeof ye&&!(ye=(0,G.QT)().getGlobalEventTarget(this.doc,ye)))throw new Error(`Unsupported event target ${ye} for event ${K}`);return this.eventManager.addEventListener(ye,K,this.decoratePreventDefault(ie))}decoratePreventDefault(ye){return K=>{if("__ngUnwrap__"===K)return ye;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>ye(K)):ye(K))&&K.preventDefault()}}}function mt(Oe){return"TEMPLATE"===Oe.tagName&&void 0!==Oe.content}class st extends Mt{constructor(ye,K,ie,Se,nt,St,mn,Xt){super(ye,nt,St,Xt),this.sharedStylesHost=K,this.hostEl=ie,this.shadowRoot=ie.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Vn=Xe(Se.id,Se.styles);for(const ur of Vn){const En=document.createElement("style");mn&&En.setAttribute("nonce",mn),En.textContent=ur,this.shadowRoot.appendChild(En)}}nodeOrShadowRoot(ye){return ye===this.hostEl?this.shadowRoot:ye}appendChild(ye,K){return super.appendChild(this.nodeOrShadowRoot(ye),K)}insertBefore(ye,K,ie){return super.insertBefore(this.nodeOrShadowRoot(ye),K,ie)}removeChild(ye,K){return super.removeChild(this.nodeOrShadowRoot(ye),K)}parentNode(ye){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ye)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class xt extends Mt{constructor(ye,K,ie,Se,nt,St,mn,Xt){super(ye,nt,St,mn),this.sharedStylesHost=K,this.removeStylesOnCompDestroy=Se,this.styles=Xt?Xe(Xt,ie.styles):ie.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class gr extends xt{constructor(ye,K,ie,Se,nt,St,mn,Xt){const Vn=Se+"-"+ie.id;super(ye,K,ie,nt,St,mn,Xt,Vn),this.contentAttr=function gt(Oe){return"_ngcontent-%COMP%".replace(At,Oe)}(Vn),this.hostAttr=function Me(Oe){return"_nghost-%COMP%".replace(At,Oe)}(Vn)}applyToHost(ye){this.applyStyles(),this.setAttribute(ye,this.hostAttr,"")}createElement(ye,K){const ie=super.createElement(ye,K);return super.setAttribute(ie,this.contentAttr,""),ie}}let sr=(()=>{class Oe extends Ve{constructor(K){super(K)}supports(K){return!0}addEventListener(K,ie,Se){return K.addEventListener(ie,Se,!1),()=>this.removeEventListener(K,ie,Se)}removeEventListener(K,ie,Se){return K.removeEventListener(ie,Se)}static{this.\u0275fac=function(ie){return new(ie||Oe)(u.KVO(G.qQ))}}static{this.\u0275prov=u.jDH({token:Oe,factory:Oe.\u0275fac})}}return Oe})();const Mn=["alt","control","meta","shift"],jt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ue={alt:Oe=>Oe.altKey,control:Oe=>Oe.ctrlKey,meta:Oe=>Oe.metaKey,shift:Oe=>Oe.shiftKey};let ve=(()=>{class Oe extends Ve{constructor(K){super(K)}supports(K){return null!=Oe.parseEventName(K)}addEventListener(K,ie,Se){const nt=Oe.parseEventName(ie),St=Oe.eventCallback(nt.fullKey,Se,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,G.QT)().onAndCancel(K,nt.domEventName,St))}static parseEventName(K){const ie=K.toLowerCase().split("."),Se=ie.shift();if(0===ie.length||"keydown"!==Se&&"keyup"!==Se)return null;const nt=Oe._normalizeKey(ie.pop());let St="",mn=ie.indexOf("code");if(mn>-1&&(ie.splice(mn,1),St="code."),Mn.forEach(Vn=>{const ur=ie.indexOf(Vn);ur>-1&&(ie.splice(ur,1),St+=Vn+".")}),St+=nt,0!=ie.length||0===nt.length)return null;const Xt={};return Xt.domEventName=Se,Xt.fullKey=St,Xt}static matchEventFullKeyCode(K,ie){let Se=jt[K.key]||K.key,nt="";return ie.indexOf("code.")>-1&&(Se=K.code,nt="code."),!(null==Se||!Se)&&(Se=Se.toLowerCase()," "===Se?Se="space":"."===Se&&(Se="dot"),Mn.forEach(St=>{St!==Se&&(0,ue[St])(K)&&(nt+=St+".")}),nt+=Se,nt===ie)}static eventCallback(K,ie,Se){return nt=>{Oe.matchEventFullKeyCode(nt,K)&&Se.runGuarded(()=>ie(nt))}}static _normalizeKey(K){return"esc"===K?"escape":K}static{this.\u0275fac=function(ie){return new(ie||Oe)(u.KVO(G.qQ))}}static{this.\u0275prov=u.jDH({token:Oe,factory:Oe.\u0275fac})}}return Oe})();function be(Oe,ye){return(0,u.TL3)({rootComponent:Oe,...Ue(ye)})}function Ue(Oe){return{appProviders:[...Dt,...Oe?.providers??[]],platformProviders:Pt}}const Pt=[{provide:u.Agw,useValue:G.AJ},{provide:u.PLl,useValue:function Et(){re.makeCurrent()},multi:!0},{provide:G.qQ,useFactory:function xn(){return(0,u.TL$)(document),document},deps:[]}],Dt=[{provide:u.H8p,useValue:"root"},{provide:u.zcH,useFactory:function un(){return new u.zcH},deps:[]},{provide:De,useClass:sr,multi:!0,deps:[G.qQ,u.SKi,u.Agw]},{provide:De,useClass:ve,multi:!0,deps:[G.qQ]},Ot,Ut,Je,{provide:u._9s,useExisting:Ot},{provide:G.N0,useClass:oe,deps:[]},[]];let ir=(()=>{class Oe{constructor(K){this._doc=K,this._dom=(0,G.QT)()}addTag(K,ie=!1){return K?this._getOrCreateElement(K,ie):null}addTags(K,ie=!1){return K?K.reduce((Se,nt)=>(nt&&Se.push(this._getOrCreateElement(nt,ie)),Se),[]):[]}getTag(K){return K&&this._doc.querySelector(`meta[${K}]`)||null}getTags(K){if(!K)return[];const ie=this._doc.querySelectorAll(`meta[${K}]`);return ie?[].slice.call(ie):[]}updateTag(K,ie){if(!K)return null;ie=ie||this._parseSelector(K);const Se=this.getTag(ie);return Se?this._setMetaElementAttributes(K,Se):this._getOrCreateElement(K,!0)}removeTag(K){this.removeTagElement(this.getTag(K))}removeTagElement(K){K&&this._dom.remove(K)}_getOrCreateElement(K,ie=!1){if(!ie){const St=this._parseSelector(K),mn=this.getTags(St).filter(Xt=>this._containsAttributes(K,Xt))[0];if(void 0!==mn)return mn}const Se=this._dom.createElement("meta");return this._setMetaElementAttributes(K,Se),this._doc.getElementsByTagName("head")[0].appendChild(Se),Se}_setMetaElementAttributes(K,ie){return Object.keys(K).forEach(Se=>ie.setAttribute(this._getMetaKeyMap(Se),K[Se])),ie}_parseSelector(K){const ie=K.name?"name":"property";return`${ie}="${K[ie]}"`}_containsAttributes(K,ie){return Object.keys(K).every(Se=>ie.getAttribute(this._getMetaKeyMap(Se))===K[Se])}_getMetaKeyMap(K){return Cn[K]||K}static{this.\u0275fac=function(ie){return new(ie||Oe)(u.KVO(G.qQ))}}static{this.\u0275prov=u.jDH({token:Oe,factory:function(ie){let Se=null;return Se=ie?new ie:function pt(){return new ir((0,u.KVO)(G.qQ))}(),Se},providedIn:"root"})}}return Oe})();const Cn={httpEquiv:"http-equiv"};let Rr=(()=>{class Oe{constructor(K){this._doc=K}getTitle(){return this._doc.title}setTitle(K){this._doc.title=K||""}static{this.\u0275fac=function(ie){return new(ie||Oe)(u.KVO(G.qQ))}}static{this.\u0275prov=u.jDH({token:Oe,factory:function(ie){let Se=null;return Se=ie?new ie:function Wt(){return new Rr((0,u.KVO)(G.qQ))}(),Se},providedIn:"root"})}}return Oe})();function er(...Oe){const ye=[],K=new Set;for(const{\u0275providers:ie,\u0275kind:Se}of Oe)K.add(Se),ie.length&&ye.push(ie);return(0,u.EmA)([[],K.has(0)?[]:(0,u.M8M)(),K.has(1)?[]:(0,E.$m)(),ye])}typeof window<"u"&&window},8435:(at,pe,F)=>{"use strict";F.d(pe,{nX:()=>ut,Ix:()=>I,Wk:()=>ee,wQ:()=>he,iI:()=>Mr,n3:()=>dr,lh:()=>m});var u=F(6276),G=F(1985),E=F(8071),re=F(6648),H=F(7673),X=F(4412),de=F(3073),fe=F(3669),me=F(6450),oe=F(9326),De=F(8496),Je=F(4360),Ve=F(5225);function He(...g){const b=(0,oe.lI)(g),f=(0,oe.ms)(g),{args:C,keys:O}=(0,de.D)(g);if(0===C.length)return(0,re.H)([],b);const U=new G.c(function Ut(g,b,f=fe.D){return C=>{ct(b,()=>{const{length:O}=g,U=new Array(O);let q=O,Ee=O;for(let _e=0;_e<O;_e++)ct(b,()=>{const ft=(0,re.H)(g[_e],b);let Gt=!1;ft.subscribe((0,Je._)(C,Bn=>{U[_e]=Bn,Gt||(Gt=!0,Ee--),Ee||C.next(f(U.slice()))},()=>{--q||C.complete()}))},C)},C)}}(C,b,O?q=>(0,De.e)(O,q):fe.D));return f?U.pipe((0,me.I)(f)):U}function ct(g,b,f){g?(0,Ve.N)(f,g,b):b()}var At=F(9350),ot=F(8793),zt=F(8750);function ze(g){return new G.c(b=>{(0,zt.Tg)(g()).subscribe(b)})}var We=F(1203),tt=F(8810),gt=F(983),Me=F(8359),Xe=F(9974);function Ot(){return(0,Xe.N)((g,b)=>{let f=null;g._refCount++;const C=(0,Je._)(b,void 0,void 0,void 0,()=>{if(!g||g._refCount<=0||0<--g._refCount)return void(f=null);const O=g._connection,U=f;f=null,O&&(!U||O===U)&&O.unsubscribe(),b.unsubscribe()});g.subscribe(C),C.closed||(f=g.connect())})}class Mt extends G.c{constructor(b,f){super(),this.source=b,this.subjectFactory=f,this._subject=null,this._refCount=0,this._connection=null,(0,Xe.S)(b)&&(this.lift=b.lift)}_subscribe(b){return this.getSubject().subscribe(b)}getSubject(){const b=this._subject;return(!b||b.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:b}=this;this._subject=this._connection=null,b?.unsubscribe()}connect(){let b=this._connection;if(!b){b=this._connection=new Me.yU;const f=this.getSubject();b.add(this.source.subscribe((0,Je._)(f,void 0,()=>{this._teardown(),f.complete()},C=>{this._teardown(),f.error(C)},()=>this._teardown()))),b.closed&&(this._connection=null,b=Me.yU.EMPTY)}return b}refCount(){return Ot()(this)}}var fn=F(1413),Qe=F(177),mt=F(6354),st=F(5558),xt=F(6697),gr=F(9172),sr=F(5964),Mn=F(1397),jt=F(1594),ue=F(274),ve=F(8141),be=F(9437);var Ke=F(9901);function Et(g){return g<=0?()=>gt.w:(0,Xe.N)((b,f)=>{let C=[];b.subscribe((0,Je._)(f,O=>{C.push(O),g<C.length&&C.shift()},()=>{for(const O of C)f.next(O);f.complete()},void 0,()=>{C=null}))})}var un=F(3774),pn=F(980),Ln=F(5343),Dt=F(6365),lt=F(345);const pt="primary",ir=Symbol("RouteTitle");class Cn{constructor(b){this.params=b||{}}has(b){return Object.prototype.hasOwnProperty.call(this.params,b)}get(b){if(this.has(b)){const f=this.params[b];return Array.isArray(f)?f[0]:f}return null}getAll(b){if(this.has(b)){const f=this.params[b];return Array.isArray(f)?f:[f]}return[]}get keys(){return Object.keys(this.params)}}function Wt(g){return new Cn(g)}function Rr(g,b,f){const C=f.path.split("/");if(C.length>g.length||"full"===f.pathMatch&&(b.hasChildren()||C.length<g.length))return null;const O={};for(let U=0;U<C.length;U++){const q=C[U],Ee=g[U];if(q.startsWith(":"))O[q.substring(1)]=Ee;else if(q!==Ee.path)return null}return{consumed:g.slice(0,C.length),posParams:O}}function gn(g,b){const f=g?Object.keys(g):void 0,C=b?Object.keys(b):void 0;if(!f||!C||f.length!=C.length)return!1;let O;for(let U=0;U<f.length;U++)if(O=f[U],!Yt(g[O],b[O]))return!1;return!0}function Yt(g,b){if(Array.isArray(g)&&Array.isArray(b)){if(g.length!==b.length)return!1;const f=[...g].sort(),C=[...b].sort();return f.every((O,U)=>C[U]===O)}return g===b}function Kt(g){return g.length>0?g[g.length-1]:null}function Kn(g){return function ge(g){return!!g&&(g instanceof G.c||(0,E.T)(g.lift)&&(0,E.T)(g.subscribe))}(g)?g:(0,u.jNT)(g)?(0,re.H)(Promise.resolve(g)):(0,H.of)(g)}const Zt={exact:function Gs(g,b,f){if(!Xn(g.segments,b.segments)||!jn(g.segments,b.segments,f)||g.numberOfChildren!==b.numberOfChildren)return!1;for(const C in b.children)if(!g.children[C]||!Gs(g.children[C],b.children[C],f))return!1;return!0},subset:Ns},mr={exact:function ar(g,b){return gn(g,b)},subset:function yt(g,b){return Object.keys(b).length<=Object.keys(g).length&&Object.keys(b).every(f=>Yt(g[f],b[f]))},ignored:()=>!0};function _r(g,b,f){return Zt[f.paths](g.root,b.root,f.matrixParams)&&mr[f.queryParams](g.queryParams,b.queryParams)&&!("exact"===f.fragment&&g.fragment!==b.fragment)}function Ns(g,b,f){return qt(g,b,b.segments,f)}function qt(g,b,f,C){if(g.segments.length>f.length){const O=g.segments.slice(0,f.length);return!(!Xn(O,f)||b.hasChildren()||!jn(O,f,C))}if(g.segments.length===f.length){if(!Xn(g.segments,f)||!jn(g.segments,f,C))return!1;for(const O in b.children)if(!g.children[O]||!Ns(g.children[O],b.children[O],C))return!1;return!0}{const O=f.slice(0,g.segments.length),U=f.slice(g.segments.length);return!!(Xn(g.segments,O)&&jn(g.segments,O,C)&&g.children[pt])&&qt(g.children[pt],b,U,C)}}function jn(g,b,f){return b.every((C,O)=>mr[f](g[O].parameters,C.parameters))}class yr{constructor(b=new an([],{}),f={},C=null){this.root=b,this.queryParams=f,this.fragment=C}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wt(this.queryParams)),this._queryParamMap}toString(){return br.serialize(this)}}class an{constructor(b,f){this.segments=b,this.children=f,this.parent=null,Object.values(f).forEach(C=>C.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return er(this)}}class nn{constructor(b,f){this.path=b,this.parameters=f}get parameterMap(){return this._parameterMap||(this._parameterMap=Wt(this.parameters)),this._parameterMap}toString(){return Se(this)}}function Xn(g,b){return g.length===b.length&&g.every((f,C)=>f.path===b[C].path)}let Qn=(()=>{class g{static{this.\u0275fac=function(C){return new(C||g)}}static{this.\u0275prov=u.jDH({token:g,factory:function(){return new lr},providedIn:"root"})}}return g})();class lr{parse(b){const f=new te(b);return new yr(f.parseRootSegment(),f.parseQueryParams(),f.parseFragment())}serialize(b){const f=`/${xr(b.root,!0)}`,C=function St(g){const b=Object.keys(g).map(f=>{const C=g[f];return Array.isArray(C)?C.map(O=>`${Ws(f)}=${Ws(O)}`).join("&"):`${Ws(f)}=${Ws(C)}`}).filter(f=>!!f);return b.length?`?${b.join("&")}`:""}(b.queryParams);return`${f}${C}${"string"==typeof b.fragment?`#${function Oe(g){return encodeURI(g)}(b.fragment)}`:""}`}}const br=new lr;function er(g){return g.segments.map(b=>Se(b)).join("/")}function xr(g,b){if(!g.hasChildren())return er(g);if(b){const f=g.children[pt]?xr(g.children[pt],!1):"",C=[];return Object.entries(g.children).forEach(([O,U])=>{O!==pt&&C.push(`${O}:${xr(U,!1)}`)}),C.length>0?`${f}(${C.join("//")})`:f}{const f=function Nt(g,b){let f=[];return Object.entries(g.children).forEach(([C,O])=>{C===pt&&(f=f.concat(b(O,C)))}),Object.entries(g.children).forEach(([C,O])=>{C!==pt&&(f=f.concat(b(O,C)))}),f}(g,(C,O)=>O===pt?[xr(g.children[pt],!1)]:[`${O}:${xr(C,!1)}`]);return 1===Object.keys(g.children).length&&null!=g.children[pt]?`${er(g)}/${f[0]}`:`${er(g)}/(${f.join("//")})`}}function Es(g){return encodeURIComponent(g).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ws(g){return Es(g).replace(/%3B/gi,";")}function ye(g){return Es(g).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function K(g){return decodeURIComponent(g)}function ie(g){return K(g.replace(/\+/g,"%20"))}function Se(g){return`${ye(g.path)}${function nt(g){return Object.keys(g).map(b=>`;${ye(b)}=${ye(g[b])}`).join("")}(g.parameters)}`}const mn=/^[^\/()?;#]+/;function Xt(g){const b=g.match(mn);return b?b[0]:""}const Vn=/^[^\/()?;=#]+/,En=/^[^=?&#]+/,le=/^[^&#]+/;class te{constructor(b){this.url=b,this.remaining=b}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new an([],{}):new an([],this.parseChildren())}parseQueryParams(){const b={};if(this.consumeOptional("?"))do{this.parseQueryParam(b)}while(this.consumeOptional("&"));return b}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const b=[];for(this.peekStartsWith("(")||b.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),b.push(this.parseSegment());let f={};this.peekStartsWith("/(")&&(this.capture("/"),f=this.parseParens(!0));let C={};return this.peekStartsWith("(")&&(C=this.parseParens(!1)),(b.length>0||Object.keys(f).length>0)&&(C[pt]=new an(b,f)),C}parseSegment(){const b=Xt(this.remaining);if(""===b&&this.peekStartsWith(";"))throw new u.wOt(4009,!1);return this.capture(b),new nn(K(b),this.parseMatrixParams())}parseMatrixParams(){const b={};for(;this.consumeOptional(";");)this.parseParam(b);return b}parseParam(b){const f=function ur(g){const b=g.match(Vn);return b?b[0]:""}(this.remaining);if(!f)return;this.capture(f);let C="";if(this.consumeOptional("=")){const O=Xt(this.remaining);O&&(C=O,this.capture(C))}b[K(f)]=K(C)}parseQueryParam(b){const f=function Nr(g){const b=g.match(En);return b?b[0]:""}(this.remaining);if(!f)return;this.capture(f);let C="";if(this.consumeOptional("=")){const q=function J(g){const b=g.match(le);return b?b[0]:""}(this.remaining);q&&(C=q,this.capture(C))}const O=ie(f),U=ie(C);if(b.hasOwnProperty(O)){let q=b[O];Array.isArray(q)||(q=[q],b[O]=q),q.push(U)}else b[O]=U}parseParens(b){const f={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const C=Xt(this.remaining),O=this.remaining[C.length];if("/"!==O&&")"!==O&&";"!==O)throw new u.wOt(4010,!1);let U;C.indexOf(":")>-1?(U=C.slice(0,C.indexOf(":")),this.capture(U),this.capture(":")):b&&(U=pt);const q=this.parseChildren();f[U]=1===Object.keys(q).length?q[pt]:new an([],q),this.consumeOptional("//")}return f}peekStartsWith(b){return this.remaining.startsWith(b)}consumeOptional(b){return!!this.peekStartsWith(b)&&(this.remaining=this.remaining.substring(b.length),!0)}capture(b){if(!this.consumeOptional(b))throw new u.wOt(4011,!1)}}function Pe(g){return g.segments.length>0?new an([],{[pt]:g}):g}function Le(g){const b={};for(const C of Object.keys(g.children)){const U=Le(g.children[C]);if(C===pt&&0===U.segments.length&&U.hasChildren())for(const[q,Ee]of Object.entries(U.children))b[q]=Ee;else(U.segments.length>0||U.hasChildren())&&(b[C]=U)}return function Ze(g){if(1===g.numberOfChildren&&g.children[pt]){const b=g.children[pt];return new an(g.segments.concat(b.segments),b.children)}return g}(new an(g.segments,b))}function $e(g){return g instanceof yr}function Vt(g){let b;const O=Pe(function f(U){const q={};for(const _e of U.children){const ft=f(_e);q[_e.outlet]=ft}const Ee=new an(U.url,q);return U===g&&(b=Ee),Ee}(g.root));return b??O}function In(g,b,f,C){let O=g;for(;O.parent;)O=O.parent;if(0===b.length)return Tn(O,O,O,f,C);const U=function wt(g){if("string"==typeof g[0]&&1===g.length&&"/"===g[0])return new tr(!0,0,g);let b=0,f=!1;const C=g.reduce((O,U,q)=>{if("object"==typeof U&&null!=U){if(U.outlets){const Ee={};return Object.entries(U.outlets).forEach(([_e,ft])=>{Ee[_e]="string"==typeof ft?ft.split("/"):ft}),[...O,{outlets:Ee}]}if(U.segmentPath)return[...O,U.segmentPath]}return"string"!=typeof U?[...O,U]:0===q?(U.split("/").forEach((Ee,_e)=>{0==_e&&"."===Ee||(0==_e&&""===Ee?f=!0:".."===Ee?b++:""!=Ee&&O.push(Ee))}),O):[...O,U]},[]);return new tr(f,b,C)}(b);if(U.toRoot())return Tn(O,O,new an([],{}),f,C);const q=function Tr(g,b,f){if(g.isAbsolute)return new ln(b,!0,0);if(!f)return new ln(b,!1,NaN);if(null===f.parent)return new ln(f,!0,0);const C=Hn(g.commands[0])?0:1;return function Ar(g,b,f){let C=g,O=b,U=f;for(;U>O;){if(U-=O,C=C.parent,!C)throw new u.wOt(4005,!1);O=C.segments.length}return new ln(C,!1,O-U)}(f,f.segments.length-1+C,g.numberOfDoubleDots)}(U,O,g),Ee=q.processChildren?wr(q.segmentGroup,q.index,U.commands):Dn(q.segmentGroup,q.index,U.commands);return Tn(O,q.segmentGroup,Ee,f,C)}function Hn(g){return"object"==typeof g&&null!=g&&!g.outlets&&!g.segmentPath}function dn(g){return"object"==typeof g&&null!=g&&g.outlets}function Tn(g,b,f,C,O){let q,U={};C&&Object.entries(C).forEach(([_e,ft])=>{U[_e]=Array.isArray(ft)?ft.map(Gt=>`${Gt}`):`${ft}`}),q=g===b?f:kr(g,b,f);const Ee=Pe(Le(q));return new yr(Ee,U,O)}function kr(g,b,f){const C={};return Object.entries(g.children).forEach(([O,U])=>{C[O]=U===b?f:kr(U,b,f)}),new an(g.segments,C)}class tr{constructor(b,f,C){if(this.isAbsolute=b,this.numberOfDoubleDots=f,this.commands=C,b&&C.length>0&&Hn(C[0]))throw new u.wOt(4003,!1);const O=C.find(dn);if(O&&O!==Kt(C))throw new u.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ln{constructor(b,f,C){this.segmentGroup=b,this.processChildren=f,this.index=C}}function Dn(g,b,f){if(g||(g=new an([],{})),0===g.segments.length&&g.hasChildren())return wr(g,b,f);const C=function Ks(g,b,f){let C=0,O=b;const U={match:!1,pathIndex:0,commandIndex:0};for(;O<g.segments.length;){if(C>=f.length)return U;const q=g.segments[O],Ee=f[C];if(dn(Ee))break;const _e=`${Ee}`,ft=C<f.length-1?f[C+1]:null;if(O>0&&void 0===_e)break;if(_e&&ft&&"object"==typeof ft&&void 0===ft.outlets){if(!qs(_e,ft,q))return U;C+=2}else{if(!qs(_e,{},q))return U;C++}O++}return{match:!0,pathIndex:O,commandIndex:C}}(g,b,f),O=f.slice(C.commandIndex);if(C.match&&C.pathIndex<g.segments.length){const U=new an(g.segments.slice(0,C.pathIndex),{});return U.children[pt]=new an(g.segments.slice(C.pathIndex),g.children),wr(U,0,O)}return C.match&&0===O.length?new an(g.segments,{}):C.match&&!g.hasChildren()?cr(g,b,f):C.match?wr(g,0,O):cr(g,b,f)}function wr(g,b,f){if(0===f.length)return new an(g.segments,{});{const C=function Jn(g){return dn(g[0])?g[0].outlets:{[pt]:g}}(f),O={};if(Object.keys(C).some(U=>U!==pt)&&g.children[pt]&&1===g.numberOfChildren&&0===g.children[pt].segments.length){const U=wr(g.children[pt],b,f);return new an(g.segments,U.children)}return Object.entries(C).forEach(([U,q])=>{"string"==typeof q&&(q=[q]),null!==q&&(O[U]=Dn(g.children[U],b,q))}),Object.entries(g.children).forEach(([U,q])=>{void 0===C[U]&&(O[U]=q)}),new an(g.segments,O)}}function cr(g,b,f){const C=g.segments.slice(0,b);let O=0;for(;O<f.length;){const U=f[O];if(dn(U)){const _e=Ds(U.outlets);return new an(C,_e)}if(0===O&&Hn(f[0])){C.push(new nn(g.segments[b].path,ds(f[0]))),O++;continue}const q=dn(U)?U.outlets[pt]:`${U}`,Ee=O<f.length-1?f[O+1]:null;q&&Ee&&Hn(Ee)?(C.push(new nn(q,ds(Ee))),O+=2):(C.push(new nn(q,{})),O++)}return new an(C,{})}function Ds(g){const b={};return Object.entries(g).forEach(([f,C])=>{"string"==typeof C&&(C=[C]),null!==C&&(b[f]=cr(new an([],{}),0,C))}),b}function ds(g){const b={};return Object.entries(g).forEach(([f,C])=>b[f]=`${C}`),b}function qs(g,b,f){return g==f.path&&gn(b,f.parameters)}const Kr="imperative";class Br{constructor(b,f){this.id=b,this.url=f}}class ks extends Br{constructor(b,f,C="imperative",O=null){super(b,f),this.type=0,this.navigationTrigger=C,this.restoredState=O}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Fs extends Br{constructor(b,f,C){super(b,f),this.urlAfterRedirects=C,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Cr extends Br{constructor(b,f,C,O){super(b,f),this.reason=C,this.code=O,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Xs extends Br{constructor(b,f,C,O){super(b,f),this.reason=C,this.code=O,this.type=16}}class Oi extends Br{constructor(b,f,C,O){super(b,f),this.error=C,this.target=O,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class zn extends Br{constructor(b,f,C,O){super(b,f),this.urlAfterRedirects=C,this.state=O,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vi extends Br{constructor(b,f,C,O){super(b,f),this.urlAfterRedirects=C,this.state=O,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ii extends Br{constructor(b,f,C,O,U){super(b,f),this.urlAfterRedirects=C,this.state=O,this.shouldActivate=U,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Pi extends Br{constructor(b,f,C,O){super(b,f),this.urlAfterRedirects=C,this.state=O,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _i extends Br{constructor(b,f,C,O){super(b,f),this.urlAfterRedirects=C,this.state=O,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ri{constructor(b){this.route=b,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bi{constructor(b){this.route=b,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Qs{constructor(b){this.snapshot=b,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ui{constructor(b){this.snapshot=b,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $i{constructor(b){this.snapshot=b,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xi{constructor(b){this.snapshot=b,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oi{constructor(b,f,C){this.routerEvent=b,this.position=f,this.anchor=C,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ss{}class Ms{constructor(b){this.url=b}}class Ts{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new As,this.attachRef=null}}let As=(()=>{class g{constructor(){this.contexts=new Map}onChildOutletCreated(f,C){const O=this.getOrCreateContext(f);O.outlet=C,this.contexts.set(f,O)}onChildOutletDestroyed(f){const C=this.getContext(f);C&&(C.outlet=null,C.attachRef=null)}onOutletDeactivated(){const f=this.contexts;return this.contexts=new Map,f}onOutletReAttached(f){this.contexts=f}getOrCreateContext(f){let C=this.getContext(f);return C||(C=new Ts,this.contexts.set(f,C)),C}getContext(f){return this.contexts.get(f)||null}static{this.\u0275fac=function(C){return new(C||g)}}static{this.\u0275prov=u.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();class Ls{constructor(b){this._root=b}get root(){return this._root.value}parent(b){const f=this.pathFromRoot(b);return f.length>1?f[f.length-2]:null}children(b){const f=Js(b,this._root);return f?f.children.map(C=>C.value):[]}firstChild(b){const f=Js(b,this._root);return f&&f.children.length>0?f.children[0].value:null}siblings(b){const f=wi(b,this._root);return f.length<2?[]:f[f.length-2].children.map(O=>O.value).filter(O=>O!==b)}pathFromRoot(b){return wi(b,this._root).map(f=>f.value)}}function Js(g,b){if(g===b.value)return b;for(const f of b.children){const C=Js(g,f);if(C)return C}return null}function wi(g,b){if(g===b.value)return[b];for(const f of b.children){const C=wi(g,f);if(C.length)return C.unshift(b),C}return[]}class Ft{constructor(b,f){this.value=b,this.children=f}toString(){return`TreeNode(${this.value})`}}function Nn(g){const b={};return g&&g.children.forEach(f=>b[f.value.outlet]=f),b}class or extends Ls{constructor(b,f){super(b),this.snapshot=f,rn(this,b)}toString(){return this.snapshot.toString()}}function qr(g,b){const f=function Gn(g,b){const q=new Hr([],{},{},"",{},pt,b,null,{});return new Fr("",new Ft(q,[]))}(0,b),C=new X.t([new nn("",{})]),O=new X.t({}),U=new X.t({}),q=new X.t({}),Ee=new X.t(""),_e=new ut(C,O,q,Ee,U,pt,b,f.root);return _e.snapshot=f.root,new or(new Ft(_e,[]),f)}class ut{constructor(b,f,C,O,U,q,Ee,_e){this.urlSubject=b,this.paramsSubject=f,this.queryParamsSubject=C,this.fragmentSubject=O,this.dataSubject=U,this.outlet=q,this.component=Ee,this._futureSnapshot=_e,this.title=this.dataSubject?.pipe((0,mt.T)(ft=>ft[ir]))??(0,H.of)(void 0),this.url=b,this.params=f,this.queryParams=C,this.fragment=O,this.data=U}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,mt.T)(b=>Wt(b)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,mt.T)(b=>Wt(b)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function fs(g,b="emptyOnly"){const f=g.pathFromRoot;let C=0;if("always"!==b)for(C=f.length-1;C>=1;){const O=f[C],U=f[C-1];if(O.routeConfig&&""===O.routeConfig.path)C--;else{if(U.component)break;C--}}return function Is(g){return g.reduce((b,f)=>({params:{...b.params,...f.params},data:{...b.data,...f.data},resolve:{...f.data,...b.resolve,...f.routeConfig?.data,...f._resolvedData}}),{params:{},data:{},resolve:{}})}(f.slice(C))}class Hr{get title(){return this.data?.[ir]}constructor(b,f,C,O,U,q,Ee,_e,ft){this.url=b,this.params=f,this.queryParams=C,this.fragment=O,this.data=U,this.outlet=q,this.component=Ee,this.routeConfig=_e,this._resolve=ft}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Wt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(C=>C.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Fr extends Ls{constructor(b,f){super(f),this.url=b,rn(this,f)}toString(){return it(this._root)}}function rn(g,b){b.value._routerState=g,b.children.forEach(f=>rn(g,f))}function it(g){const b=g.children.length>0?` { ${g.children.map(it).join(", ")} } `:"";return`${g.value}${b}`}function It(g){if(g.snapshot){const b=g.snapshot,f=g._futureSnapshot;g.snapshot=f,gn(b.queryParams,f.queryParams)||g.queryParamsSubject.next(f.queryParams),b.fragment!==f.fragment&&g.fragmentSubject.next(f.fragment),gn(b.params,f.params)||g.paramsSubject.next(f.params),function Cs(g,b){if(g.length!==b.length)return!1;for(let f=0;f<g.length;++f)if(!gn(g[f],b[f]))return!1;return!0}(b.url,f.url)||g.urlSubject.next(f.url),gn(b.data,f.data)||g.dataSubject.next(f.data)}else g.snapshot=g._futureSnapshot,g.dataSubject.next(g._futureSnapshot.data)}function yn(g,b){const f=gn(g.params,b.params)&&function qn(g,b){return Xn(g,b)&&g.every((f,C)=>gn(f.parameters,b[C].parameters))}(g.url,b.url);return f&&!(!g.parent!=!b.parent)&&(!g.parent||yn(g.parent,b.parent))}let dr=(()=>{class g{constructor(){this.activated=null,this._activatedRoute=null,this.name=pt,this.activateEvents=new u.bkB,this.deactivateEvents=new u.bkB,this.attachEvents=new u.bkB,this.detachEvents=new u.bkB,this.parentContexts=(0,u.WQX)(As),this.location=(0,u.WQX)(u.c1b),this.changeDetector=(0,u.WQX)(u.gRc),this.environmentInjector=(0,u.WQX)(u.uvJ),this.inputBinder=(0,u.WQX)(Wn,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(f){if(f.name){const{firstChange:C,previousValue:O}=f.name;if(C)return;this.isTrackedInParentContexts(O)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(O)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(f){return this.parentContexts.getContext(f)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const f=this.parentContexts.getContext(this.name);f?.route&&(f.attachRef?this.attach(f.attachRef,f.route):this.activateWith(f.route,f.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.wOt(4012,!1);this.location.detach();const f=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(f.instance),f}attach(f,C){this.activated=f,this._activatedRoute=C,this.location.insert(f.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(f.instance)}deactivate(){if(this.activated){const f=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(f)}}activateWith(f,C){if(this.isActivated)throw new u.wOt(4013,!1);this._activatedRoute=f;const O=this.location,q=f.snapshot.component,Ee=this.parentContexts.getOrCreateContext(this.name).children,_e=new ai(f,Ee,O.injector);this.activated=O.createComponent(q,{index:O.length,injector:_e,environmentInjector:C??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(C){return new(C||g)}}static{this.\u0275dir=u.FsC({type:g,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[u.OA$]})}}return g})();class ai{constructor(b,f,C){this.route=b,this.childContexts=f,this.parent=C}get(b,f){return b===ut?this.route:b===As?this.childContexts:this.parent.get(b,f)}}const Wn=new u.nKC("");let zr=(()=>{class g{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(f){this.unsubscribeFromRouteData(f),this.subscribeToRouteData(f)}unsubscribeFromRouteData(f){this.outletDataSubscriptions.get(f)?.unsubscribe(),this.outletDataSubscriptions.delete(f)}subscribeToRouteData(f){const{activatedRoute:C}=f,O=He([C.queryParams,C.params,C.data]).pipe((0,st.n)(([U,q,Ee],_e)=>(Ee={...U,...q,...Ee},0===_e?(0,H.of)(Ee):Promise.resolve(Ee)))).subscribe(U=>{if(!f.isActivated||!f.activatedComponentRef||f.activatedRoute!==C||null===C.component)return void this.unsubscribeFromRouteData(f);const q=(0,u.HJs)(C.component);if(q)for(const{templateName:Ee}of q.inputs)f.activatedComponentRef.setInput(Ee,U[Ee]);else this.unsubscribeFromRouteData(f)});this.outletDataSubscriptions.set(f,O)}static{this.\u0275fac=function(C){return new(C||g)}}static{this.\u0275prov=u.jDH({token:g,factory:g.\u0275fac})}}return g})();function Er(g,b,f){if(f&&g.shouldReuseRoute(b.value,f.value.snapshot)){const C=f.value;C._futureSnapshot=b.value;const O=function js(g,b,f){return b.children.map(C=>{for(const O of f.children)if(g.shouldReuseRoute(C.value,O.value.snapshot))return Er(g,C,O);return Er(g,C)})}(g,b,f);return new Ft(C,O)}{if(g.shouldAttach(b.value)){const U=g.retrieve(b.value);if(null!==U){const q=U.route;return q.value._futureSnapshot=b.value,q.children=b.children.map(Ee=>Er(g,Ee)),q}}const C=function kt(g){return new ut(new X.t(g.url),new X.t(g.params),new X.t(g.queryParams),new X.t(g.fragment),new X.t(g.data),g.outlet,g.component,g)}(b.value),O=b.children.map(U=>Er(g,U));return new Ft(C,O)}}const jr="ngNavigationCancelingError";function Xr(g,b){const{redirectTo:f,navigationBehaviorOptions:C}=$e(b)?{redirectTo:b,navigationBehaviorOptions:void 0}:b,O=Qr(!1,0,b);return O.url=f,O.navigationBehaviorOptions=C,O}function Qr(g,b,f){const C=new Error("NavigationCancelingError: "+(g||""));return C[jr]=!0,C.cancellationCode=b,f&&(C.url=f),C}function ps(g){return g&&g[jr]}let Os=(()=>{class g{static{this.\u0275fac=function(C){return new(C||g)}}static{this.\u0275cmp=u.VBU({type:g,selectors:[["ng-component"]],standalone:!0,features:[u.aNF],decls:1,vars:0,template:function(C,O){1&C&&u.nrm(0,"router-outlet")},dependencies:[dr],encapsulation:2})}}return g})();function Fn(g){const b=g.children&&g.children.map(Fn),f=b?{...g,children:b}:{...g};return!f.component&&!f.loadComponent&&(b||f.loadChildren)&&f.outlet&&f.outlet!==pt&&(f.component=Os),f}function bn(g){return g.outlet||pt}function Gr(g){if(!g)return null;if(g.routeConfig?._injector)return g.routeConfig._injector;for(let b=g.parent;b;b=b.parent){const f=b.routeConfig;if(f?._loadedInjector)return f._loadedInjector;if(f?._injector)return f._injector}return null}class Un{constructor(b,f,C,O,U){this.routeReuseStrategy=b,this.futureState=f,this.currState=C,this.forwardEvent=O,this.inputBindingEnabled=U}activate(b){const f=this.futureState._root,C=this.currState?this.currState._root:null;this.deactivateChildRoutes(f,C,b),It(this.futureState.root),this.activateChildRoutes(f,C,b)}deactivateChildRoutes(b,f,C){const O=Nn(f);b.children.forEach(U=>{const q=U.value.outlet;this.deactivateRoutes(U,O[q],C),delete O[q]}),Object.values(O).forEach(U=>{this.deactivateRouteAndItsChildren(U,C)})}deactivateRoutes(b,f,C){const O=b.value,U=f?f.value:null;if(O===U)if(O.component){const q=C.getContext(O.outlet);q&&this.deactivateChildRoutes(b,f,q.children)}else this.deactivateChildRoutes(b,f,C);else U&&this.deactivateRouteAndItsChildren(f,C)}deactivateRouteAndItsChildren(b,f){b.value.component&&this.routeReuseStrategy.shouldDetach(b.value.snapshot)?this.detachAndStoreRouteSubtree(b,f):this.deactivateRouteAndOutlet(b,f)}detachAndStoreRouteSubtree(b,f){const C=f.getContext(b.value.outlet),O=C&&b.value.component?C.children:f,U=Nn(b);for(const q of Object.keys(U))this.deactivateRouteAndItsChildren(U[q],O);if(C&&C.outlet){const q=C.outlet.detach(),Ee=C.children.onOutletDeactivated();this.routeReuseStrategy.store(b.value.snapshot,{componentRef:q,route:b,contexts:Ee})}}deactivateRouteAndOutlet(b,f){const C=f.getContext(b.value.outlet),O=C&&b.value.component?C.children:f,U=Nn(b);for(const q of Object.keys(U))this.deactivateRouteAndItsChildren(U[q],O);C&&(C.outlet&&(C.outlet.deactivate(),C.children.onOutletDeactivated()),C.attachRef=null,C.route=null)}activateChildRoutes(b,f,C){const O=Nn(f);b.children.forEach(U=>{this.activateRoutes(U,O[U.value.outlet],C),this.forwardEvent(new xi(U.value.snapshot))}),b.children.length&&this.forwardEvent(new Ui(b.value.snapshot))}activateRoutes(b,f,C){const O=b.value,U=f?f.value:null;if(It(O),O===U)if(O.component){const q=C.getOrCreateContext(O.outlet);this.activateChildRoutes(b,f,q.children)}else this.activateChildRoutes(b,f,C);else if(O.component){const q=C.getOrCreateContext(O.outlet);if(this.routeReuseStrategy.shouldAttach(O.snapshot)){const Ee=this.routeReuseStrategy.retrieve(O.snapshot);this.routeReuseStrategy.store(O.snapshot,null),q.children.onOutletReAttached(Ee.contexts),q.attachRef=Ee.componentRef,q.route=Ee.route.value,q.outlet&&q.outlet.attach(Ee.componentRef,Ee.route.value),It(Ee.route.value),this.activateChildRoutes(b,null,q.children)}else{const Ee=Gr(O.snapshot);q.attachRef=null,q.route=O,q.injector=Ee,q.outlet&&q.outlet.activateWith(O,q.injector),this.activateChildRoutes(b,null,q.children)}}else this.activateChildRoutes(b,null,C)}}class ms{constructor(b){this.path=b,this.route=this.path[this.path.length-1]}}class $n{constructor(b,f){this.component=b,this.route=f}}function hr(g,b,f){const C=g._root;return Zr(C,b?b._root:null,f,[C.value])}function Ur(g,b){const f=Symbol(),C=b.get(g,f);return C===f?"function"!=typeof g||(0,u.LfX)(g)?b.get(g):g:C}function Zr(g,b,f,C,O={canDeactivateChecks:[],canActivateChecks:[]}){const U=Nn(b);return g.children.forEach(q=>{(function Wr(g,b,f,C,O={canDeactivateChecks:[],canActivateChecks:[]}){const U=g.value,q=b?b.value:null,Ee=f?f.getContext(g.value.outlet):null;if(q&&U.routeConfig===q.routeConfig){const _e=function Pn(g,b,f){if("function"==typeof f)return f(g,b);switch(f){case"pathParamsChange":return!Xn(g.url,b.url);case"pathParamsOrQueryParamsChange":return!Xn(g.url,b.url)||!gn(g.queryParams,b.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yn(g,b)||!gn(g.queryParams,b.queryParams);default:return!yn(g,b)}}(q,U,U.routeConfig.runGuardsAndResolvers);_e?O.canActivateChecks.push(new ms(C)):(U.data=q.data,U._resolvedData=q._resolvedData),Zr(g,b,U.component?Ee?Ee.children:null:f,C,O),_e&&Ee&&Ee.outlet&&Ee.outlet.isActivated&&O.canDeactivateChecks.push(new $n(Ee.outlet.component,q))}else q&&vr(b,Ee,O),O.canActivateChecks.push(new ms(C)),Zr(g,null,U.component?Ee?Ee.children:null:f,C,O)})(q,U[q.value.outlet],f,C.concat([q.value]),O),delete U[q.value.outlet]}),Object.entries(U).forEach(([q,Ee])=>vr(Ee,f.getContext(q),O)),O}function vr(g,b,f){const C=Nn(g),O=g.value;Object.entries(C).forEach(([U,q])=>{vr(q,O.component?b?b.children.getContext(U):null:b,f)}),f.canDeactivateChecks.push(new $n(O.component&&b&&b.outlet&&b.outlet.isActivated?b.outlet.component:null,O))}function ys(g){return"function"==typeof g}function vs(g){return g instanceof At.G||"EmptyError"===g?.name}const es=Symbol("INITIAL_VALUE");function Dr(){return(0,st.n)(g=>He(g.map(b=>b.pipe((0,xt.s)(1),(0,gr.Z)(es)))).pipe((0,mt.T)(b=>{for(const f of b)if(!0!==f){if(f===es)return es;if(!1===f||f instanceof yr)return f}return!0}),(0,sr.p)(b=>b!==es),(0,xt.s)(1)))}function ts(g){return(0,We.F)((0,ve.M)(b=>{if($e(b))throw Xr(0,b)}),(0,mt.T)(b=>!0===b))}class Ni{constructor(b){this.segmentGroup=b||null}}class _s{constructor(b){this.urlTree=b}}function Yn(g){return(0,tt.$)(new Ni(g))}function ns(g){return(0,tt.$)(new _s(g))}class Xi{constructor(b,f){this.urlSerializer=b,this.urlTree=f}noMatchError(b){return new u.wOt(4002,!1)}lineralizeSegments(b,f){let C=[],O=f.root;for(;;){if(C=C.concat(O.segments),0===O.numberOfChildren)return(0,H.of)(C);if(O.numberOfChildren>1||!O.children[pt])return(0,tt.$)(new u.wOt(4e3,!1));O=O.children[pt]}}applyRedirectCommands(b,f,C){return this.applyRedirectCreateUrlTree(f,this.urlSerializer.parse(f),b,C)}applyRedirectCreateUrlTree(b,f,C,O){const U=this.createSegmentGroup(b,f.root,C,O);return new yr(U,this.createQueryParams(f.queryParams,this.urlTree.queryParams),f.fragment)}createQueryParams(b,f){const C={};return Object.entries(b).forEach(([O,U])=>{if("string"==typeof U&&U.startsWith(":")){const Ee=U.substring(1);C[O]=f[Ee]}else C[O]=U}),C}createSegmentGroup(b,f,C,O){const U=this.createSegments(b,f.segments,C,O);let q={};return Object.entries(f.children).forEach(([Ee,_e])=>{q[Ee]=this.createSegmentGroup(b,_e,C,O)}),new an(U,q)}createSegments(b,f,C,O){return f.map(U=>U.path.startsWith(":")?this.findPosParam(b,U,O):this.findOrReturn(U,C))}findPosParam(b,f,C){const O=C[f.path.substring(1)];if(!O)throw new u.wOt(4001,!1);return O}findOrReturn(b,f){let C=0;for(const O of f){if(O.path===b.path)return f.splice(C),O;C++}return b}}const Hi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function mo(g,b,f,C,O){const U=zi(g,b,f);return U.matched?(C=function Vr(g,b){return g.providers&&!g._injector&&(g._injector=(0,u.Ol2)(g.providers,b,`Route: ${g.path}`)),g._injector??b}(b,C),function xs(g,b,f,C){const O=b.canMatch;if(!O||0===O.length)return(0,H.of)(!0);const U=O.map(q=>{const Ee=Ur(q,g);return Kn(function vt(g){return g&&ys(g.canMatch)}(Ee)?Ee.canMatch(b,f):g.runInContext(()=>Ee(b,f)))});return(0,H.of)(U).pipe(Dr(),ts())}(C,b,f).pipe((0,mt.T)(q=>!0===q?U:{...Hi}))):(0,H.of)(U)}function zi(g,b,f){if(""===b.path)return"full"===b.pathMatch&&(g.hasChildren()||f.length>0)?{...Hi}:{matched:!0,consumedSegments:[],remainingSegments:f,parameters:{},positionalParamSegments:{}};const O=(b.matcher||Rr)(f,g,b);if(!O)return{...Hi};const U={};Object.entries(O.posParams??{}).forEach(([Ee,_e])=>{U[Ee]=_e.path});const q=O.consumed.length>0?{...U,...O.consumed[O.consumed.length-1].parameters}:U;return{matched:!0,consumedSegments:O.consumed,remainingSegments:f.slice(O.consumed.length),parameters:q,positionalParamSegments:O.posParams??{}}}function io(g,b,f,C){return f.length>0&&function di(g,b,f){return f.some(C=>Us(g,b,C)&&bn(C)!==pt)}(g,f,C)?{segmentGroup:new an(b,ao(C,new an(f,g.children))),slicedSegments:[]}:0===f.length&&function hi(g,b,f){return f.some(C=>Us(g,b,C))}(g,f,C)?{segmentGroup:new an(g.segments,oo(g,0,f,C,g.children)),slicedSegments:f}:{segmentGroup:new an(g.segments,g.children),slicedSegments:f}}function oo(g,b,f,C,O){const U={};for(const q of C)if(Us(g,f,q)&&!O[bn(q)]){const Ee=new an([],{});U[bn(q)]=Ee}return{...O,...U}}function ao(g,b){const f={};f[pt]=b;for(const C of g)if(""===C.path&&bn(C)!==pt){const O=new an([],{});f[bn(C)]=O}return f}function Us(g,b,f){return(!(g.hasChildren()||b.length>0)||"full"!==f.pathMatch)&&""===f.path}class ki{constructor(b,f,C,O,U,q,Ee){this.injector=b,this.configLoader=f,this.rootComponentType=C,this.config=O,this.urlTree=U,this.paramsInheritanceStrategy=q,this.urlSerializer=Ee,this.allowRedirects=!0,this.applyRedirects=new Xi(this.urlSerializer,this.urlTree)}noMatchError(b){return new u.wOt(4002,!1)}recognize(){const b=io(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,b,pt).pipe((0,be.W)(f=>{if(f instanceof _s)return this.allowRedirects=!1,this.urlTree=f.urlTree,this.match(f.urlTree);throw f instanceof Ni?this.noMatchError(f):f}),(0,mt.T)(f=>{const C=new Hr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},pt,this.rootComponentType,null,{}),O=new Ft(C,f),U=new Fr("",O),q=function cn(g,b,f=null,C=null){return In(Vt(g),b,f,C)}(C,[],this.urlTree.queryParams,this.urlTree.fragment);return q.queryParams=this.urlTree.queryParams,U.url=this.urlSerializer.serialize(q),this.inheritParamsAndData(U._root),{state:U,tree:q}}))}match(b){return this.processSegmentGroup(this.injector,this.config,b.root,pt).pipe((0,be.W)(C=>{throw C instanceof Ni?this.noMatchError(C):C}))}inheritParamsAndData(b){const f=b.value,C=fs(f,this.paramsInheritanceStrategy);f.params=Object.freeze(C.params),f.data=Object.freeze(C.data),b.children.forEach(O=>this.inheritParamsAndData(O))}processSegmentGroup(b,f,C,O){return 0===C.segments.length&&C.hasChildren()?this.processChildren(b,f,C):this.processSegment(b,f,C,C.segments,O,!0)}processChildren(b,f,C){const O=[];for(const U of Object.keys(C.children))"primary"===U?O.unshift(U):O.push(U);return(0,re.H)(O).pipe((0,ue.H)(U=>{const q=C.children[U],Ee=function Or(g,b){const f=g.filter(C=>bn(C)===b);return f.push(...g.filter(C=>bn(C)!==b)),f}(f,U);return this.processSegmentGroup(b,Ee,q,U)}),function Ue(g,b){return(0,Xe.N)(function Ae(g,b,f,C,O){return(U,q)=>{let Ee=f,_e=b,ft=0;U.subscribe((0,Je._)(q,Gt=>{const Bn=ft++;_e=Ee?g(_e,Gt,Bn):(Ee=!0,Gt),C&&q.next(_e)},O&&(()=>{Ee&&q.next(_e),q.complete()})))}}(g,b,arguments.length>=2,!0))}((U,q)=>(U.push(...q),U)),(0,Ke.U)(null),function xn(g,b){const f=arguments.length>=2;return C=>C.pipe(g?(0,sr.p)((O,U)=>g(O,U,C)):fe.D,Et(1),f?(0,Ke.U)(b):(0,un.v)(()=>new At.G))}(),(0,Mn.Z)(U=>{if(null===U)return Yn(C);const q=Mi(U);return function lo(g){g.sort((b,f)=>b.value.outlet===pt?-1:f.value.outlet===pt?1:b.value.outlet.localeCompare(f.value.outlet))}(q),(0,H.of)(q)}))}processSegment(b,f,C,O,U,q){return(0,re.H)(f).pipe((0,ue.H)(Ee=>this.processSegmentAgainstRoute(Ee._injector??b,f,Ee,C,O,U,q).pipe((0,be.W)(_e=>{if(_e instanceof Ni)return(0,H.of)(null);throw _e}))),(0,jt.$)(Ee=>!!Ee),(0,be.W)(Ee=>{if(vs(Ee))return function Si(g,b,f){return 0===b.length&&!g.children[f]}(C,O,U)?(0,H.of)([]):Yn(C);throw Ee}))}processSegmentAgainstRoute(b,f,C,O,U,q,Ee){return function Sr(g,b,f,C){return!!(bn(g)===C||C!==pt&&Us(b,f,g))&&("**"===g.path||zi(b,g,f).matched)}(C,O,U,q)?void 0===C.redirectTo?this.matchSegmentAgainstRoute(b,O,C,U,q,Ee):Ee&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(b,O,f,C,U,q):Yn(O):Yn(O)}expandSegmentAgainstRouteUsingRedirect(b,f,C,O,U,q){return"**"===O.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(b,C,O,q):this.expandRegularSegmentAgainstRouteUsingRedirect(b,f,C,O,U,q)}expandWildCardWithParamsAgainstRouteUsingRedirect(b,f,C,O){const U=this.applyRedirects.applyRedirectCommands([],C.redirectTo,{});return C.redirectTo.startsWith("/")?ns(U):this.applyRedirects.lineralizeSegments(C,U).pipe((0,Mn.Z)(q=>{const Ee=new an(q,{});return this.processSegment(b,f,Ee,q,O,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(b,f,C,O,U,q){const{matched:Ee,consumedSegments:_e,remainingSegments:ft,positionalParamSegments:Gt}=zi(f,O,U);if(!Ee)return Yn(f);const Bn=this.applyRedirects.applyRedirectCommands(_e,O.redirectTo,Gt);return O.redirectTo.startsWith("/")?ns(Bn):this.applyRedirects.lineralizeSegments(O,Bn).pipe((0,Mn.Z)(Sn=>this.processSegment(b,C,f,Sn.concat(ft),q,!1)))}matchSegmentAgainstRoute(b,f,C,O,U,q){let Ee;if("**"===C.path){const _e=O.length>0?Kt(O).parameters:{},ft=new Hr(O,_e,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,y(C),bn(C),C.component??C._loadedComponent??null,C,L(C));Ee=(0,H.of)({snapshot:ft,consumedSegments:[],remainingSegments:[]}),f.children={}}else Ee=mo(f,C,O,b).pipe((0,mt.T)(({matched:_e,consumedSegments:ft,remainingSegments:Gt,parameters:Bn})=>_e?{snapshot:new Hr(ft,Bn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,y(C),bn(C),C.component??C._loadedComponent??null,C,L(C)),consumedSegments:ft,remainingSegments:Gt}:null));return Ee.pipe((0,st.n)(_e=>null===_e?Yn(f):this.getChildConfig(b=C._injector??b,C,O).pipe((0,st.n)(({routes:ft})=>{const Gt=C._loadedInjector??b,{snapshot:Bn,consumedSegments:Sn,remainingSegments:Li}=_e,{segmentGroup:bo,slicedSegments:wo}=io(f,Sn,Li,ft);if(0===wo.length&&bo.hasChildren())return this.processChildren(Gt,ft,bo).pipe((0,mt.T)(Co=>null===Co?null:[new Ft(Bn,Co)]));if(0===ft.length&&0===wo.length)return(0,H.of)([new Ft(Bn,[])]);const Oo=bn(C)===U;return this.processSegment(Gt,ft,bo,wo,Oo?pt:U,!0).pipe((0,mt.T)(Co=>[new Ft(Bn,Co)]))}))))}getChildConfig(b,f,C){return f.children?(0,H.of)({routes:f.children,injector:b}):f.loadChildren?void 0!==f._loadedRoutes?(0,H.of)({routes:f._loadedRoutes,injector:f._loadedInjector}):function Lt(g,b,f,C){const O=b.canLoad;if(void 0===O||0===O.length)return(0,H.of)(!0);const U=O.map(q=>{const Ee=Ur(q,g);return Kn(function k(g){return g&&ys(g.canLoad)}(Ee)?Ee.canLoad(b,f):g.runInContext(()=>Ee(b,f)))});return(0,H.of)(U).pipe(Dr(),ts())}(b,f,C).pipe((0,Mn.Z)(O=>O?this.configLoader.loadChildren(b,f).pipe((0,ve.M)(U=>{f._loadedRoutes=U.routes,f._loadedInjector=U.injector})):function qi(g){return(0,tt.$)(Qr(!1,3))}())):(0,H.of)({routes:[],injector:b})}}function uo(g){const b=g.value.routeConfig;return b&&""===b.path}function Mi(g){const b=[],f=new Set;for(const C of g){if(!uo(C)){b.push(C);continue}const O=b.find(U=>C.value.routeConfig===U.value.routeConfig);void 0!==O?(O.children.push(...C.children),f.add(O)):b.push(C)}for(const C of f){const O=Mi(C.children);b.push(new Ft(C.value,O))}return b.filter(C=>!f.has(C))}function y(g){return g.data||{}}function L(g){return g.resolve||{}}function An(g){return"string"==typeof g.title||null===g.title}function wn(g){return(0,st.n)(b=>{const f=g(b);return f?(0,re.H)(f).pipe((0,mt.T)(()=>b)):(0,H.of)(b)})}const sn=new u.nKC("ROUTES");let Qt=(()=>{class g{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,u.WQX)(u.Ql9)}loadComponent(f){if(this.componentLoaders.get(f))return this.componentLoaders.get(f);if(f._loadedComponent)return(0,H.of)(f._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(f);const C=Kn(f.loadComponent()).pipe((0,mt.T)(fr),(0,ve.M)(U=>{this.onLoadEndListener&&this.onLoadEndListener(f),f._loadedComponent=U}),(0,pn.j)(()=>{this.componentLoaders.delete(f)})),O=new Mt(C,()=>new fn.B).pipe(Ot());return this.componentLoaders.set(f,O),O}loadChildren(f,C){if(this.childrenLoaders.get(C))return this.childrenLoaders.get(C);if(C._loadedRoutes)return(0,H.of)({routes:C._loadedRoutes,injector:C._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(C);const U=function nr(g,b,f,C){return Kn(g.loadChildren()).pipe((0,mt.T)(fr),(0,Mn.Z)(O=>O instanceof u.Co$||Array.isArray(O)?(0,H.of)(O):(0,re.H)(b.compileModuleAsync(O))),(0,mt.T)(O=>{C&&C(g);let U,q,Ee=!1;return Array.isArray(O)?(q=O,!0):(U=O.create(f).injector,q=U.get(sn,[],{optional:!0,self:!0}).flat()),{routes:q.map(Fn),injector:U}}))}(C,this.compiler,f,this.onLoadEndListener).pipe((0,pn.j)(()=>{this.childrenLoaders.delete(C)})),q=new Mt(U,()=>new fn.B).pipe(Ot());return this.childrenLoaders.set(C,q),q}static{this.\u0275fac=function(C){return new(C||g)}}static{this.\u0275prov=u.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();function fr(g){return function Rn(g){return g&&"object"==typeof g&&"default"in g}(g)?g.default:g}let ss=(()=>{class g{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new fn.B,this.transitionAbortSubject=new fn.B,this.configLoader=(0,u.WQX)(Qt),this.environmentInjector=(0,u.WQX)(u.uvJ),this.urlSerializer=(0,u.WQX)(Qn),this.rootContexts=(0,u.WQX)(As),this.inputBindingEnabled=null!==(0,u.WQX)(Wn,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,H.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=O=>this.events.next(new bi(O)),this.configLoader.onLoadStartListener=O=>this.events.next(new Ri(O))}complete(){this.transitions?.complete()}handleNavigationRequest(f){const C=++this.navigationId;this.transitions?.next({...this.transitions.value,...f,id:C})}setupNavigations(f,C,O){return this.transitions=new X.t({id:0,currentUrlTree:C,currentRawUrl:C,currentBrowserUrl:C,extractedUrl:f.urlHandlingStrategy.extract(C),urlAfterRedirects:f.urlHandlingStrategy.extract(C),rawUrl:C,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Kr,restoredState:null,currentSnapshot:O.snapshot,targetSnapshot:null,currentRouterState:O,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,sr.p)(U=>0!==U.id),(0,mt.T)(U=>({...U,extractedUrl:f.urlHandlingStrategy.extract(U.rawUrl)})),(0,st.n)(U=>{this.currentTransition=U;let q=!1,Ee=!1;return(0,H.of)(U).pipe((0,ve.M)(_e=>{this.currentNavigation={id:_e.id,initialUrl:_e.rawUrl,extractedUrl:_e.extractedUrl,trigger:_e.source,extras:_e.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,st.n)(_e=>{const ft=_e.currentBrowserUrl.toString(),Gt=!f.navigated||_e.extractedUrl.toString()!==ft||ft!==_e.currentUrlTree.toString();if(!Gt&&"reload"!==(_e.extras.onSameUrlNavigation??f.onSameUrlNavigation)){const Sn="";return this.events.next(new Xs(_e.id,this.urlSerializer.serialize(_e.rawUrl),Sn,0)),_e.resolve(null),gt.w}if(f.urlHandlingStrategy.shouldProcessUrl(_e.rawUrl))return(0,H.of)(_e).pipe((0,st.n)(Sn=>{const Li=this.transitions?.getValue();return this.events.next(new ks(Sn.id,this.urlSerializer.serialize(Sn.extractedUrl),Sn.source,Sn.restoredState)),Li!==this.transitions?.getValue()?gt.w:Promise.resolve(Sn)}),function S(g,b,f,C,O,U){return(0,Mn.Z)(q=>function fi(g,b,f,C,O,U,q="emptyOnly"){return new ki(g,b,f,C,O,q,U).recognize()}(g,b,f,C,q.extractedUrl,O,U).pipe((0,mt.T)(({state:Ee,tree:_e})=>({...q,targetSnapshot:Ee,urlAfterRedirects:_e}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,f.config,this.urlSerializer,f.paramsInheritanceStrategy),(0,ve.M)(Sn=>{U.targetSnapshot=Sn.targetSnapshot,U.urlAfterRedirects=Sn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Sn.urlAfterRedirects};const Li=new zn(Sn.id,this.urlSerializer.serialize(Sn.extractedUrl),this.urlSerializer.serialize(Sn.urlAfterRedirects),Sn.targetSnapshot);this.events.next(Li)}));if(Gt&&f.urlHandlingStrategy.shouldProcessUrl(_e.currentRawUrl)){const{id:Sn,extractedUrl:Li,source:bo,restoredState:wo,extras:Oo}=_e,Co=new ks(Sn,this.urlSerializer.serialize(Li),bo,wo);this.events.next(Co);const Ru=qr(0,this.rootComponentType).snapshot;return this.currentTransition=U={..._e,targetSnapshot:Ru,urlAfterRedirects:Li,extras:{...Oo,skipLocationChange:!1,replaceUrl:!1}},(0,H.of)(U)}{const Sn="";return this.events.next(new Xs(_e.id,this.urlSerializer.serialize(_e.extractedUrl),Sn,1)),_e.resolve(null),gt.w}}),(0,ve.M)(_e=>{const ft=new vi(_e.id,this.urlSerializer.serialize(_e.extractedUrl),this.urlSerializer.serialize(_e.urlAfterRedirects),_e.targetSnapshot);this.events.next(ft)}),(0,mt.T)(_e=>(this.currentTransition=U={..._e,guards:hr(_e.targetSnapshot,_e.currentSnapshot,this.rootContexts)},U)),function ui(g,b){return(0,Mn.Z)(f=>{const{targetSnapshot:C,currentSnapshot:O,guards:{canActivateChecks:U,canDeactivateChecks:q}}=f;return 0===q.length&&0===U.length?(0,H.of)({...f,guardsResult:!0}):function Lr(g,b,f,C){return(0,re.H)(g).pipe((0,Mn.Z)(O=>function go(g,b,f,C,O){const U=b&&b.routeConfig?b.routeConfig.canDeactivate:null;if(!U||0===U.length)return(0,H.of)(!0);const q=U.map(Ee=>{const _e=Gr(b)??O,ft=Ur(Ee,_e);return Kn(function ne(g){return g&&ys(g.canDeactivate)}(ft)?ft.canDeactivate(g,b,f,C):_e.runInContext(()=>ft(g,b,f,C))).pipe((0,jt.$)())});return(0,H.of)(q).pipe(Dr())}(O.component,O.route,f,b,C)),(0,jt.$)(O=>!0!==O,!0))}(q,C,O,g).pipe((0,Mn.Z)(Ee=>Ee&&function P(g){return"boolean"==typeof g}(Ee)?function Ci(g,b,f,C){return(0,re.H)(b).pipe((0,ue.H)(O=>(0,ot.x)(function so(g,b){return null!==g&&b&&b(new Qs(g)),(0,H.of)(!0)}(O.route.parent,C),function Ei(g,b){return null!==g&&b&&b(new $i(g)),(0,H.of)(!0)}(O.route,C),function ci(g,b,f){const C=b[b.length-1],U=b.slice(0,b.length-1).reverse().map(q=>function Rs(g){const b=g.routeConfig?g.routeConfig.canActivateChild:null;return b&&0!==b.length?{node:g,guards:b}:null}(q)).filter(q=>null!==q).map(q=>ze(()=>{const Ee=q.guards.map(_e=>{const ft=Gr(q.node)??f,Gt=Ur(_e,ft);return Kn(function $(g){return g&&ys(g.canActivateChild)}(Gt)?Gt.canActivateChild(C,g):ft.runInContext(()=>Gt(C,g))).pipe((0,jt.$)())});return(0,H.of)(Ee).pipe(Dr())}));return(0,H.of)(U).pipe(Dr())}(g,O.path,f),function Di(g,b,f){const C=b.routeConfig?b.routeConfig.canActivate:null;if(!C||0===C.length)return(0,H.of)(!0);const O=C.map(U=>ze(()=>{const q=Gr(b)??f,Ee=Ur(U,q);return Kn(function D(g){return g&&ys(g.canActivate)}(Ee)?Ee.canActivate(b,g):q.runInContext(()=>Ee(b,g))).pipe((0,jt.$)())}));return(0,H.of)(O).pipe(Dr())}(g,O.route,f))),(0,jt.$)(O=>!0!==O,!0))}(C,U,g,b):(0,H.of)(Ee)),(0,mt.T)(Ee=>({...f,guardsResult:Ee})))})}(this.environmentInjector,_e=>this.events.next(_e)),(0,ve.M)(_e=>{if(U.guardsResult=_e.guardsResult,$e(_e.guardsResult))throw Xr(0,_e.guardsResult);const ft=new ii(_e.id,this.urlSerializer.serialize(_e.extractedUrl),this.urlSerializer.serialize(_e.urlAfterRedirects),_e.targetSnapshot,!!_e.guardsResult);this.events.next(ft)}),(0,sr.p)(_e=>!!_e.guardsResult||(this.cancelNavigationTransition(_e,"",3),!1)),wn(_e=>{if(_e.guards.canActivateChecks.length)return(0,H.of)(_e).pipe((0,ve.M)(ft=>{const Gt=new Pi(ft.id,this.urlSerializer.serialize(ft.extractedUrl),this.urlSerializer.serialize(ft.urlAfterRedirects),ft.targetSnapshot);this.events.next(Gt)}),(0,st.n)(ft=>{let Gt=!1;return(0,H.of)(ft).pipe(function N(g,b){return(0,Mn.Z)(f=>{const{targetSnapshot:C,guards:{canActivateChecks:O}}=f;if(!O.length)return(0,H.of)(f);let U=0;return(0,re.H)(O).pipe((0,ue.H)(q=>function Q(g,b,f,C){const O=g.routeConfig,U=g._resolve;return void 0!==O?.title&&!An(O)&&(U[ir]=O.title),function we(g,b,f,C){const O=function Te(g){return[...Object.keys(g),...Object.getOwnPropertySymbols(g)]}(g);if(0===O.length)return(0,H.of)({});const U={};return(0,re.H)(O).pipe((0,Mn.Z)(q=>function _t(g,b,f,C){const O=Gr(b)??C,U=Ur(g,O);return Kn(U.resolve?U.resolve(b,f):O.runInContext(()=>U(b,f)))}(g[q],b,f,C).pipe((0,jt.$)(),(0,ve.M)(Ee=>{U[q]=Ee}))),Et(1),function Pt(g){return(0,mt.T)(()=>g)}(U),(0,be.W)(q=>vs(q)?gt.w:(0,tt.$)(q)))}(U,g,b,C).pipe((0,mt.T)(q=>(g._resolvedData=q,g.data=fs(g,f).resolve,O&&An(O)&&(g.data[ir]=O.title),null)))}(q.route,C,g,b)),(0,ve.M)(()=>U++),Et(1),(0,Mn.Z)(q=>U===O.length?(0,H.of)(f):gt.w))})}(f.paramsInheritanceStrategy,this.environmentInjector),(0,ve.M)({next:()=>Gt=!0,complete:()=>{Gt||this.cancelNavigationTransition(ft,"",2)}}))}),(0,ve.M)(ft=>{const Gt=new _i(ft.id,this.urlSerializer.serialize(ft.extractedUrl),this.urlSerializer.serialize(ft.urlAfterRedirects),ft.targetSnapshot);this.events.next(Gt)}))}),wn(_e=>{const ft=Gt=>{const Bn=[];Gt.routeConfig?.loadComponent&&!Gt.routeConfig._loadedComponent&&Bn.push(this.configLoader.loadComponent(Gt.routeConfig).pipe((0,ve.M)(Sn=>{Gt.component=Sn}),(0,mt.T)(()=>{})));for(const Sn of Gt.children)Bn.push(...ft(Sn));return Bn};return He(ft(_e.targetSnapshot.root)).pipe((0,Ke.U)(),(0,xt.s)(1))}),wn(()=>this.afterPreactivation()),(0,mt.T)(_e=>{const ft=function kn(g,b,f){const C=Er(g,b._root,f?f._root:void 0);return new or(C,b)}(f.routeReuseStrategy,_e.targetSnapshot,_e.currentRouterState);return this.currentTransition=U={..._e,targetRouterState:ft},U}),(0,ve.M)(()=>{this.events.next(new Ss)}),((g,b,f,C)=>(0,mt.T)(O=>(new Un(b,O.targetRouterState,O.currentRouterState,f,C).activate(g),O)))(this.rootContexts,f.routeReuseStrategy,_e=>this.events.next(_e),this.inputBindingEnabled),(0,xt.s)(1),(0,ve.M)({next:_e=>{q=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Fs(_e.id,this.urlSerializer.serialize(_e.extractedUrl),this.urlSerializer.serialize(_e.urlAfterRedirects))),f.titleStrategy?.updateTitle(_e.targetRouterState.snapshot),_e.resolve(!0)},complete:()=>{q=!0}}),function Zn(g){return(0,Xe.N)((b,f)=>{(0,zt.Tg)(g).subscribe((0,Je._)(f,()=>f.complete(),Ln.l)),!f.closed&&b.subscribe(f)})}(this.transitionAbortSubject.pipe((0,ve.M)(_e=>{throw _e}))),(0,pn.j)(()=>{q||Ee||this.cancelNavigationTransition(U,"",1),this.currentNavigation?.id===U.id&&(this.currentNavigation=null)}),(0,be.W)(_e=>{if(Ee=!0,ps(_e))this.events.next(new Cr(U.id,this.urlSerializer.serialize(U.extractedUrl),_e.message,_e.cancellationCode)),function On(g){return ps(g)&&$e(g.url)}(_e)?this.events.next(new Ms(_e.url)):U.resolve(!1);else{this.events.next(new Oi(U.id,this.urlSerializer.serialize(U.extractedUrl),_e,U.targetSnapshot??void 0));try{U.resolve(f.errorHandler(_e))}catch(ft){U.reject(ft)}}return gt.w}))}))}cancelNavigationTransition(f,C,O){const U=new Cr(f.id,this.urlSerializer.serialize(f.extractedUrl),C,O);this.events.next(U),f.resolve(!1)}static{this.\u0275fac=function(C){return new(C||g)}}static{this.\u0275prov=u.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();function is(g){return g!==Kr}let $s=(()=>{class g{buildTitle(f){let C,O=f.root;for(;void 0!==O;)C=this.getResolvedTitleForRoute(O)??C,O=O.children.find(U=>U.outlet===pt);return C}getResolvedTitleForRoute(f){return f.data[ir]}static{this.\u0275fac=function(C){return new(C||g)}}static{this.\u0275prov=u.jDH({token:g,factory:function(){return(0,u.WQX)(os)},providedIn:"root"})}}return g})(),os=(()=>{class g extends $s{constructor(f){super(),this.title=f}updateTitle(f){const C=this.buildTitle(f);void 0!==C&&this.title.setTitle(C)}static{this.\u0275fac=function(C){return new(C||g)(u.KVO(lt.hE))}}static{this.\u0275prov=u.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})(),Zs=(()=>{class g{static{this.\u0275fac=function(C){return new(C||g)}}static{this.\u0275prov=u.jDH({token:g,factory:function(){return(0,u.WQX)(ei)},providedIn:"root"})}}return g})();class as{shouldDetach(b){return!1}store(b,f){}shouldAttach(b){return!1}retrieve(b){return null}shouldReuseRoute(b,f){return b.routeConfig===f.routeConfig}}let ei=(()=>{class g extends as{static{this.\u0275fac=function(){let f;return function(O){return(f||(f=u.xGo(g)))(O||g)}}()}static{this.\u0275prov=u.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();const Fi=new u.nKC("",{providedIn:"root",factory:()=>({})});let Ao=(()=>{class g{static{this.\u0275fac=function(C){return new(C||g)}}static{this.\u0275prov=u.jDH({token:g,factory:function(){return(0,u.WQX)(yo)},providedIn:"root"})}}return g})(),yo=(()=>{class g{shouldProcessUrl(f){return!0}extract(f){return f}merge(f,C){return f}static{this.\u0275fac=function(C){return new(C||g)}}static{this.\u0275prov=u.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();var ti=function(g){return g[g.COMPLETE=0]="COMPLETE",g[g.FAILED=1]="FAILED",g[g.REDIRECTING=2]="REDIRECTING",g}(ti||{});function vo(g,b){g.events.pipe((0,sr.p)(f=>f instanceof Fs||f instanceof Cr||f instanceof Oi||f instanceof Xs),(0,mt.T)(f=>f instanceof Fs||f instanceof Xs?ti.COMPLETE:f instanceof Cr&&(0===f.code||1===f.code)?ti.REDIRECTING:ti.FAILED),(0,sr.p)(f=>f!==ti.REDIRECTING),(0,xt.s)(1)).subscribe(()=>{b()})}function A(g){throw g}function h(g,b,f){return b.parse("/")}const c={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},w={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let I=(()=>{class g{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,u.WQX)(u.H3F),this.isNgZoneEnabled=!1,this._events=new fn.B,this.options=(0,u.WQX)(Fi,{optional:!0})||{},this.pendingTasks=(0,u.WQX)(u.$K3),this.errorHandler=this.options.errorHandler||A,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||h,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,u.WQX)(Ao),this.routeReuseStrategy=(0,u.WQX)(Zs),this.titleStrategy=(0,u.WQX)($s),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,u.WQX)(sn,{optional:!0})?.flat()??[],this.navigationTransitions=(0,u.WQX)(ss),this.urlSerializer=(0,u.WQX)(Qn),this.location=(0,u.WQX)(Qe.aZ),this.componentInputBindingEnabled=!!(0,u.WQX)(Wn,{optional:!0}),this.eventsSubscription=new Me.yU,this.isNgZoneEnabled=(0,u.WQX)(u.SKi)instanceof u.SKi&&u.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new yr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=qr(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(f=>{this.lastSuccessfulId=f.id,this.currentPageId=this.browserPageId},f=>{this.console.warn(`Unhandled Navigation Error: ${f}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const f=this.navigationTransitions.events.subscribe(C=>{try{const{currentTransition:O}=this.navigationTransitions;if(null===O)return void(Y(C)&&this._events.next(C));if(C instanceof ks)is(O.source)&&(this.browserUrlTree=O.extractedUrl);else if(C instanceof Xs)this.rawUrlTree=O.rawUrl;else if(C instanceof zn){if("eager"===this.urlUpdateStrategy){if(!O.extras.skipLocationChange){const U=this.urlHandlingStrategy.merge(O.urlAfterRedirects,O.rawUrl);this.setBrowserUrl(U,O)}this.browserUrlTree=O.urlAfterRedirects}}else if(C instanceof Ss)this.currentUrlTree=O.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(O.urlAfterRedirects,O.rawUrl),this.routerState=O.targetRouterState,"deferred"===this.urlUpdateStrategy&&(O.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,O),this.browserUrlTree=O.urlAfterRedirects);else if(C instanceof Cr)0!==C.code&&1!==C.code&&(this.navigated=!0),(3===C.code||2===C.code)&&this.restoreHistory(O);else if(C instanceof Ms){const U=this.urlHandlingStrategy.merge(C.url,O.currentRawUrl),q={skipLocationChange:O.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||is(O.source)};this.scheduleNavigation(U,Kr,null,q,{resolve:O.resolve,reject:O.reject,promise:O.promise})}C instanceof Oi&&this.restoreHistory(O,!0),C instanceof Fs&&(this.navigated=!0),Y(C)&&this._events.next(C)}catch(O){this.navigationTransitions.transitionAbortSubject.next(O)}});this.eventsSubscription.add(f)}resetRootComponentType(f){this.routerState.root.component=f,this.navigationTransitions.rootComponentType=f}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const f=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Kr,f)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(f=>{const C="popstate"===f.type?"popstate":"hashchange";"popstate"===C&&setTimeout(()=>{this.navigateToSyncWithBrowser(f.url,C,f.state)},0)}))}navigateToSyncWithBrowser(f,C,O){const U={replaceUrl:!0},q=O?.navigationId?O:null;if(O){const _e={...O};delete _e.navigationId,delete _e.\u0275routerPageId,0!==Object.keys(_e).length&&(U.state=_e)}const Ee=this.parseUrl(f);this.scheduleNavigation(Ee,C,q,U)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(f){this.config=f.map(Fn),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(f,C={}){const{relativeTo:O,queryParams:U,fragment:q,queryParamsHandling:Ee,preserveFragment:_e}=C,ft=_e?this.currentUrlTree.fragment:q;let Bn,Gt=null;switch(Ee){case"merge":Gt={...this.currentUrlTree.queryParams,...U};break;case"preserve":Gt=this.currentUrlTree.queryParams;break;default:Gt=U||null}null!==Gt&&(Gt=this.removeEmptyProps(Gt));try{Bn=Vt(O?O.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof f[0]||!f[0].startsWith("/"))&&(f=[]),Bn=this.currentUrlTree.root}return In(Bn,f,Gt,ft??null)}navigateByUrl(f,C={skipLocationChange:!1}){const O=$e(f)?f:this.parseUrl(f),U=this.urlHandlingStrategy.merge(O,this.rawUrlTree);return this.scheduleNavigation(U,Kr,null,C)}navigate(f,C={skipLocationChange:!1}){return function j(g){for(let b=0;b<g.length;b++)if(null==g[b])throw new u.wOt(4008,!1)}(f),this.navigateByUrl(this.createUrlTree(f,C),C)}serializeUrl(f){return this.urlSerializer.serialize(f)}parseUrl(f){let C;try{C=this.urlSerializer.parse(f)}catch(O){C=this.malformedUriErrorHandler(O,this.urlSerializer,f)}return C}isActive(f,C){let O;if(O=!0===C?{...c}:!1===C?{...w}:C,$e(f))return _r(this.currentUrlTree,f,O);const U=this.parseUrl(f);return _r(this.currentUrlTree,U,O)}removeEmptyProps(f){return Object.keys(f).reduce((C,O)=>{const U=f[O];return null!=U&&(C[O]=U),C},{})}scheduleNavigation(f,C,O,U,q){if(this.disposed)return Promise.resolve(!1);let Ee,_e,ft;q?(Ee=q.resolve,_e=q.reject,ft=q.promise):ft=new Promise((Bn,Sn)=>{Ee=Bn,_e=Sn});const Gt=this.pendingTasks.add();return vo(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Gt))}),this.navigationTransitions.handleNavigationRequest({source:C,restoredState:O,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:f,extras:U,resolve:Ee,reject:_e,promise:ft,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ft.catch(Bn=>Promise.reject(Bn))}setBrowserUrl(f,C){const O=this.urlSerializer.serialize(f);if(this.location.isCurrentPathEqualTo(O)||C.extras.replaceUrl){const q={...C.extras.state,...this.generateNgRouterState(C.id,this.browserPageId)};this.location.replaceState(O,"",q)}else{const U={...C.extras.state,...this.generateNgRouterState(C.id,this.browserPageId+1)};this.location.go(O,"",U)}}restoreHistory(f,C=!1){if("computed"===this.canceledNavigationResolution){const U=this.currentPageId-this.browserPageId;0!==U?this.location.historyGo(U):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===U&&(this.resetState(f),this.browserUrlTree=f.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(C&&this.resetState(f),this.resetUrlToCurrentUrlTree())}resetState(f){this.routerState=f.currentRouterState,this.currentUrlTree=f.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,f.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(f,C){return"computed"===this.canceledNavigationResolution?{navigationId:f,\u0275routerPageId:C}:{navigationId:f}}static{this.\u0275fac=function(C){return new(C||g)}}static{this.\u0275prov=u.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();function Y(g){return!(g instanceof Ss||g instanceof Ms)}let ee=(()=>{class g{constructor(f,C,O,U,q,Ee){this.router=f,this.route=C,this.tabIndexAttribute=O,this.renderer=U,this.el=q,this.locationStrategy=Ee,this.href=null,this.commands=null,this.onChanges=new fn.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const _e=q.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_e||"area"===_e,this.isAnchorElement?this.subscription=f.events.subscribe(ft=>{ft instanceof Fs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(f){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",f)}ngOnChanges(f){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(f){null!=f?(this.commands=Array.isArray(f)?f:[f],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(f,C,O,U,q){return!!(null===this.urlTree||this.isAnchorElement&&(0!==f||C||O||U||q||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const f=null===this.href?null:(0,u.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",f)}applyAttributeValue(f,C){const O=this.renderer,U=this.el.nativeElement;null!==C?O.setAttribute(U,f,C):O.removeAttribute(U,f)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(C){return new(C||g)(u.rXU(I),u.rXU(ut),u.kS0("tabindex"),u.rXU(u.sFG),u.rXU(u.aKT),u.rXU(Qe.hb))}}static{this.\u0275dir=u.FsC({type:g,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(C,O){1&C&&u.bIt("click",function(q){return O.onClick(q.button,q.ctrlKey,q.shiftKey,q.altKey,q.metaKey)}),2&C&&u.BMQ("target",O.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",u.L39],skipLocationChange:["skipLocationChange","skipLocationChange",u.L39],replaceUrl:["replaceUrl","replaceUrl",u.L39],routerLink:"routerLink"},standalone:!0,features:[u.GFd,u.OA$]})}}return g})(),he=(()=>{class g{get isActive(){return this._isActive}constructor(f,C,O,U,q){this.router=f,this.element=C,this.renderer=O,this.cdr=U,this.link=q,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new u.bkB,this.routerEventsSubscription=f.events.subscribe(Ee=>{Ee instanceof Fs&&this.update()})}ngAfterContentInit(){(0,H.of)(this.links.changes,(0,H.of)(null)).pipe((0,Dt.U)()).subscribe(f=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const f=[...this.links.toArray(),this.link].filter(C=>!!C).map(C=>C.onChanges);this.linkInputChangesSubscription=(0,re.H)(f).pipe((0,Dt.U)()).subscribe(C=>{this._isActive!==this.isLinkActive(this.router)(C)&&this.update()})}set routerLinkActive(f){const C=Array.isArray(f)?f:f.split(" ");this.classes=C.filter(O=>!!O)}ngOnChanges(f){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const f=this.hasActiveLinks();this._isActive!==f&&(this._isActive=f,this.cdr.markForCheck(),this.classes.forEach(C=>{f?this.renderer.addClass(this.element.nativeElement,C):this.renderer.removeClass(this.element.nativeElement,C)}),f&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(f))})}isLinkActive(f){const C=function Ie(g){return!!g.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return O=>!!O.urlTree&&f.isActive(O.urlTree,C)}hasActiveLinks(){const f=this.isLinkActive(this.router);return this.link&&f(this.link)||this.links.some(f)}static{this.\u0275fac=function(C){return new(C||g)(u.rXU(I),u.rXU(u.aKT),u.rXU(u.sFG),u.rXU(u.gRc),u.rXU(ee,8))}}static{this.\u0275dir=u.FsC({type:g,selectors:[["","routerLinkActive",""]],contentQueries:function(C,O,U){if(1&C&&u.wni(U,ee,5),2&C){let q;u.mGM(q=u.lsd())&&(O.links=q)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[u.OA$]})}}return g})();class rt{}let Jt=(()=>{class g{constructor(f,C,O,U,q){this.router=f,this.injector=O,this.preloadingStrategy=U,this.loader=q}setUpPreloading(){this.subscription=this.router.events.pipe((0,sr.p)(f=>f instanceof Fs),(0,ue.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(f,C){const O=[];for(const U of C){U.providers&&!U._injector&&(U._injector=(0,u.Ol2)(U.providers,f,`Route: ${U.path}`));const q=U._injector??f,Ee=U._loadedInjector??q;(U.loadChildren&&!U._loadedRoutes&&void 0===U.canLoad||U.loadComponent&&!U._loadedComponent)&&O.push(this.preloadConfig(q,U)),(U.children||U._loadedRoutes)&&O.push(this.processRoutes(Ee,U.children??U._loadedRoutes))}return(0,re.H)(O).pipe((0,Dt.U)())}preloadConfig(f,C){return this.preloadingStrategy.preload(C,()=>{let O;O=C.loadChildren&&void 0===C.canLoad?this.loader.loadChildren(f,C):(0,H.of)(null);const U=O.pipe((0,Mn.Z)(q=>null===q?(0,H.of)(void 0):(C._loadedRoutes=q.routes,C._loadedInjector=q.injector,this.processRoutes(q.injector??f,q.routes))));if(C.loadComponent&&!C._loadedComponent){const q=this.loader.loadComponent(C);return(0,re.H)([U,q]).pipe((0,Dt.U)())}return U})}static{this.\u0275fac=function(C){return new(C||g)(u.KVO(I),u.KVO(u.Ql9),u.KVO(u.uvJ),u.KVO(rt),u.KVO(Qt))}}static{this.\u0275prov=u.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();const Rt=new u.nKC("");let Bt=(()=>{class g{constructor(f,C,O,U,q={}){this.urlSerializer=f,this.transitions=C,this.viewportScroller=O,this.zone=U,this.options=q,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},q.scrollPositionRestoration=q.scrollPositionRestoration||"disabled",q.anchorScrolling=q.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(f=>{f instanceof ks?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=f.navigationTrigger,this.restoredId=f.restoredState?f.restoredState.navigationId:0):f instanceof Fs?(this.lastId=f.id,this.scheduleScrollEvent(f,this.urlSerializer.parse(f.urlAfterRedirects).fragment)):f instanceof Xs&&0===f.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(f,this.urlSerializer.parse(f.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(f=>{f instanceof oi&&(f.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(f.position):f.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(f.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(f,C){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new oi(f,"popstate"===this.lastSource?this.store[this.restoredId]:null,C))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(C){u.QTQ()}}static{this.\u0275prov=u.jDH({token:g,factory:g.\u0275fac})}}return g})();function m(g,...b){return(0,u.EmA)([{provide:sn,multi:!0,useValue:g},[],{provide:ut,useFactory:a,deps:[I]},{provide:u.iLQ,multi:!0,useFactory:R},b.map(f=>f.\u0275providers)])}function a(g){return g.routerState.root}function o(g,b){return{\u0275kind:g,\u0275providers:b}}function R(){const g=(0,u.WQX)(u.zZn);return b=>{const f=g.get(u.o8S);if(b!==f.components[0])return;const C=g.get(I),O=g.get(B);1===g.get(W)&&C.initialNavigation(),g.get(Be,null,u.$GK.Optional)?.setUpPreloading(),g.get(Rt,null,u.$GK.Optional)?.init(),C.resetRootComponentType(f.componentTypes[0]),O.closed||(O.next(),O.complete(),O.unsubscribe())}}const B=new u.nKC("",{factory:()=>new fn.B}),W=new u.nKC("",{providedIn:"root",factory:()=>1}),Be=new u.nKC("");function Ne(g){return o(0,[{provide:Be,useExisting:Jt},{provide:rt,useExisting:g}])}const ae=new u.nKC("ROUTER_FORROOT_GUARD"),qe=[Qe.aZ,{provide:Qn,useClass:lr},I,As,{provide:ut,useFactory:a,deps:[I]},Qt,[]];function hn(){return new u.NEm("Router",I)}let Mr=(()=>{class g{constructor(f){}static forRoot(f,C){return{ngModule:g,providers:[qe,[],{provide:sn,multi:!0,useValue:f},{provide:ae,useFactory:_n,deps:[[I,new u.Xx1,new u.kdw]]},{provide:Fi,useValue:C||{}},C?.useHash?{provide:Qe.hb,useClass:Qe.fw}:{provide:Qe.hb,useClass:Qe.Sm},{provide:Rt,useFactory:()=>{const g=(0,u.WQX)(Qe.Xr),b=(0,u.WQX)(u.SKi),f=(0,u.WQX)(Fi),C=(0,u.WQX)(ss),O=(0,u.WQX)(Qn);return f.scrollOffset&&g.setOffset(f.scrollOffset),new Bt(O,C,g,b,f)}},C?.preloadingStrategy?Ne(C.preloadingStrategy).\u0275providers:[],{provide:u.NEm,multi:!0,useFactory:hn},C?.initialNavigation?Ti(C):[],C?.bindToComponentInputs?o(8,[zr,{provide:Wn,useExisting:zr}]).\u0275providers:[],[{provide:ls,useFactory:R},{provide:u.iLQ,multi:!0,useExisting:ls}]]}}static forChild(f){return{ngModule:g,providers:[{provide:sn,multi:!0,useValue:f}]}}static{this.\u0275fac=function(C){return new(C||g)(u.KVO(ae,8))}}static{this.\u0275mod=u.$C({type:g})}static{this.\u0275inj=u.G2t({})}}return g})();function _n(g){return"guarded"}function Ti(g){return["disabled"===g.initialNavigation?o(3,[{provide:u.hnV,multi:!0,useFactory:()=>{const b=(0,u.WQX)(I);return()=>{b.setUpLocationChangeListener()}}},{provide:W,useValue:2}]).\u0275providers:[],"enabledBlocking"===g.initialNavigation?o(2,[{provide:W,useValue:0},{provide:u.hnV,multi:!0,deps:[u.zZn],useFactory:b=>{const f=b.get(Qe.hj,Promise.resolve());return()=>f.then(()=>new Promise(C=>{const O=b.get(I),U=b.get(B);vo(O,()=>{C(!0)}),b.get(ss).afterPreactivation=()=>(C(!0),U.closed?(0,H.of)(void 0):U),O.initialNavigation()}))}}]).\u0275providers:[]]}const ls=new u.nKC("")},467:(at,pe,F)=>{"use strict";function u(E,ge,re,H,X,de,fe){try{var me=E[de](fe),oe=me.value}catch(De){return void re(De)}me.done?ge(oe):Promise.resolve(oe).then(H,X)}function G(E){return function(){var ge=this,re=arguments;return new Promise(function(H,X){var de=E.apply(ge,re);function fe(oe){u(de,H,X,fe,me,"next",oe)}function me(oe){u(de,H,X,fe,me,"throw",oe)}fe(void 0)})}}F.d(pe,{A:()=>G})}},at=>{at(at.s=52)}]);