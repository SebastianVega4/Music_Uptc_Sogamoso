"use strict";(self.webpackChunkuptc_music=self.webpackChunkuptc_music||[]).push([[689],{8689:(W,m,c)=>{c.r(m),c.d(m,{HomeComponent:()=>Q});var g=c(177),n=c(540),d=c(4341),b=c(5905),p=c(1180),f=c(3824);function h(i,s){1&i&&n.nrm(0,"i",11)}function v(i,s){1&i&&n.nrm(0,"i",12)}function C(i,s){1&i&&(n.j41(0,"div",16),n.EFF(1," No se encontraron resultados. Intenta con otras palabras. "),n.k0s())}function x(i,s){if(1&i){const t=n.RV6();n.j41(0,"div",17)(1,"div",18)(2,"div",19)(3,"div",20),n.nrm(4,"img",21),n.k0s(),n.j41(5,"div",22)(6,"div",23)(7,"h6",24),n.EFF(8),n.k0s(),n.j41(9,"button",25),n.bIt("click",function(){const r=n.eBV(t).$implicit,a=n.XpG(2);return n.Njj(a.playPreview(r.preview_url))}),n.nrm(10,"i",26),n.nI1(11,"async"),n.k0s()(),n.j41(12,"p",27),n.EFF(13),n.k0s(),n.j41(14,"p",28),n.EFF(15),n.k0s()(),n.j41(16,"div",29)(17,"div",30)(18,"input",31),n.bIt("ngModelChange",function(o){const a=n.eBV(t).$implicit;return n.Njj(a.dedication=o)}),n.k0s()(),n.j41(19,"button",32),n.bIt("click",function(){const r=n.eBV(t).$implicit,a=n.XpG(2);return n.Njj(a.vote(r))}),n.nrm(20,"i",33),n.EFF(21,"Votar "),n.k0s()()()()()}if(2&i){const t=s.$implicit,e=n.XpG(2);n.R7$(4),n.Y8G("src",t.image,n.B4B)("alt",t.name),n.R7$(4),n.JRh(t.name),n.R7$(1),n.Y8G("disabled",!t.preview_url)("title",t.preview_url?"Escuchar previa":"Previa no disponible"),n.R7$(1),n.Y8G("ngClass",e.audioService.isCurrentSong(t.preview_url)&&n.bMT(11,9,e.audioService.isPlaying$)?"fa-pause":"fa-play"),n.R7$(3),n.JRh(t.artists.join(", ")),n.R7$(2),n.JRh(e.formatDuration(t.duration_ms)),n.R7$(3),n.Y8G("ngModel",t.dedication)}}function P(i,s){if(1&i&&(n.j41(0,"div"),n.DNE(1,C,2,0,"div",13),n.j41(2,"div",14),n.DNE(3,x,22,11,"div",15),n.k0s()()),2&i){const t=n.XpG();n.R7$(1),n.Y8G("ngIf",0===t.results.length&&!t.isLoading),n.R7$(2),n.Y8G("ngForOf",t.results)}}let M=(()=>{class i{spotifyService;votingService;audioService;voteCasted=new n.bkB;query="";results=[];isLoading=!1;searchPerformed=!1;constructor(t,e,o){this.spotifyService=t,this.votingService=e,this.audioService=o}search(){this.query.trim()&&(this.isLoading=!0,this.searchPerformed=!0,this.audioService.stop(),this.spotifyService.searchTracks(this.query).subscribe({next:t=>{this.results=t,this.isLoading=!1},error:t=>{console.error("Error al buscar:",t),this.isLoading=!1,alert("Error al buscar canciones. Intenta nuevamente.")}}))}vote(t){this.votingService.voteForSong(t.id,{name:t.name,artists:t.artists,image:t.album?.images?.[0]?.url||t.image,preview_url:t.preview_url,album:t.album?.name||"Unknown Album"},!1,t.dedication).subscribe({next:()=>{alert("\xa1Tu voto ha sido registrado!"),this.query="",this.results=[],this.searchPerformed=!1,this.voteCasted.emit()},error:o=>{409===o.status?alert("Ya has votado por esta canci\xf3n."):alert("Error al registrar tu voto. Intenta nuevamente.")}})}playPreview(t){t?this.audioService.play(t):alert("Esta canci\xf3n no tiene vista previa disponible.")}formatDuration(t){const e=Math.floor(t/6e4),o=(t%6e4/1e3).toFixed(0);return`${e}:${parseInt(o)<10?"0":""}${o}`}static \u0275fac=function(e){return new(e||i)(n.rXU(b.e),n.rXU(p.Z),n.rXU(f.U))};static \u0275cmp=n.VBU({type:i,selectors:[["app-search"]],outputs:{voteCasted:"voteCasted"},standalone:!0,features:[n.aNF],decls:13,vars:5,consts:[[1,"card","mb-4"],[1,"card-header"],[1,"mb-0"],[1,"fas","fa-search","me-2"],[1,"card-body"],[1,"input-group","mb-3"],["type","text","placeholder","Nombre de canci\xf3n o artista...",1,"form-control",3,"ngModel","ngModelChange","keyup.enter"],[1,"btn","btn-primary",3,"disabled","click"],["class","fas fa-search me-1",4,"ngIf"],["class","fas fa-spinner fa-spin me-1",4,"ngIf"],[4,"ngIf"],[1,"fas","fa-search","me-1"],[1,"fas","fa-spinner","fa-spin","me-1"],["class","alert alert-info",4,"ngIf"],[1,"results-container"],["class","card mb-2 track-card",4,"ngFor","ngForOf"],[1,"alert","alert-info"],[1,"card","mb-2","track-card"],[1,"card-body","py-2"],[1,"row","align-items-center"],[1,"col-3","col-sm-2"],[1,"img-fluid","rounded",3,"src","alt"],[1,"col-5","col-sm-6"],[1,"d-flex","align-items-center","mb-1"],[1,"mb-0","text-truncate","me-2"],[1,"btn","btn-sm","btn-outline-primary","rounded-circle","p-0","d-flex","align-items-center","justify-content-center",2,"width","24px","height","24px",3,"disabled","title","click"],[1,"fas",2,"font-size","10px",3,"ngClass"],[1,"text-muted","mb-1","small","text-truncate"],[1,"text-muted","mb-0","small"],[1,"col-4","col-sm-4","text-end"],[1,"mb-2"],["type","text","placeholder","Dedicatoria (opcional)",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"btn","btn-success","btn-sm","w-100",3,"click"],[1,"fas","fa-thumbs-up","me-1"]],template:function(e,o){1&e&&(n.j41(0,"div",0)(1,"div",1)(2,"h5",2),n.nrm(3,"i",3),n.EFF(4,"Buscar canciones en Spotify "),n.k0s()(),n.j41(5,"div",4)(6,"div",5)(7,"input",6),n.bIt("ngModelChange",function(a){return o.query=a})("keyup.enter",function(){return o.search()}),n.k0s(),n.j41(8,"button",7),n.bIt("click",function(){return o.search()}),n.DNE(9,h,1,0,"i",8),n.DNE(10,v,1,0,"i",9),n.EFF(11," Buscar "),n.k0s()(),n.DNE(12,P,4,2,"div",10),n.k0s()()),2&e&&(n.R7$(7),n.Y8G("ngModel",o.query),n.R7$(1),n.Y8G("disabled",o.isLoading),n.R7$(1),n.Y8G("ngIf",!o.isLoading),n.R7$(1),n.Y8G("ngIf",o.isLoading),n.R7$(2),n.Y8G("ngIf",o.searchPerformed))},dependencies:[g.MD,g.YU,g.Sq,g.bT,g.Jj,d.YN,d.me,d.BC,d.vS],styles:[".track-card[_ngcontent-%COMP%]{transition:transform .2s,background-color .2s}.track-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);background-color:#282828}.results-container[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}@media (max-width: 576px){.track-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:.75rem}.track-card[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.9rem}.track-card[_ngcontent-%COMP%]   .btn-sm[_ngcontent-%COMP%]{padding:.2rem .5rem;font-size:.8rem}}.text-truncate[_ngcontent-%COMP%]{color:#fff;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"]})}return i})();var O=c(1584),y=c(5455);function k(i,s){1&i&&(n.j41(0,"span"),n.EFF(1,"Actualizar"),n.k0s())}function w(i,s){1&i&&(n.j41(0,"span"),n.EFF(1,"Actualizando..."),n.k0s())}function S(i,s){if(1&i&&(n.j41(0,"span"),n.EFF(1),n.k0s()),2&i){const t=n.XpG();n.R7$(1),n.SpI("Espera ",t.countdown,"s")}}function R(i,s){1&i&&(n.j41(0,"div",7),n.nrm(1,"div",8),n.j41(2,"p"),n.EFF(3,"Cargando canciones..."),n.k0s()())}function j(i,s){if(1&i&&(n.j41(0,"small",34)(1,"i",35),n.EFF(2,":"),n.k0s(),n.EFF(3),n.k0s()),2&i){const t=n.XpG().$implicit;n.R7$(3),n.SpI("",t.dedication," ")}}function F(i,s){if(1&i){const t=n.RV6();n.j41(0,"div",17)(1,"div",18),n.nrm(2,"img",19),n.j41(3,"button",20),n.bIt("click",function(){const r=n.eBV(t).$implicit,a=n.XpG(3);return n.Njj(a.playPreview(r.preview_url))}),n.nrm(4,"i",21),n.nI1(5,"async"),n.k0s()(),n.j41(6,"div",22)(7,"div",23)(8,"h6",24),n.EFF(9),n.k0s(),n.j41(10,"p",25),n.EFF(11),n.k0s(),n.DNE(12,j,4,1,"small",26),n.k0s(),n.j41(13,"div",27)(14,"span",28),n.nrm(15,"i",29),n.EFF(16),n.k0s()(),n.j41(17,"div")(18,"button",30),n.bIt("click",function(){const r=n.eBV(t).$implicit,a=n.XpG(3);return n.Njj(a.vote(r,!1))}),n.nrm(19,"i",31),n.EFF(20),n.k0s(),n.j41(21,"button",32),n.bIt("click",function(){const r=n.eBV(t).$implicit,a=n.XpG(3);return n.Njj(a.vote(r,!0))}),n.nrm(22,"i",33),n.EFF(23),n.k0s()()()()}if(2&i){const t=s.$implicit,e=n.XpG(3);n.R7$(2),n.Y8G("src",t.image,n.B4B)("alt",t.name),n.R7$(1),n.Y8G("disabled",!t.preview_url)("title",t.preview_url?"Escuchar previa":"Previa no disponible"),n.R7$(1),n.Y8G("ngClass",e.audioService.isCurrentSong(t.preview_url)&&n.bMT(5,15,e.audioService.isPlaying$)?"fa-pause":"fa-play"),n.R7$(5),n.JRh(t.name),n.R7$(2),n.JRh(t.artists.join(", ")),n.R7$(1),n.Y8G("ngIf",t.dedication),n.R7$(4),n.SpI("",e.formatTimeAgo(t.createdat)," "),n.R7$(2),n.AVh("active",e.hasUserLiked(t.id)),n.R7$(2),n.SpI("",t.votes||0," "),n.R7$(1),n.AVh("active",e.hasUserDisliked(t.id)),n.R7$(2),n.SpI("",t.dislikes||0," ")}}function V(i,s){if(1&i&&(n.j41(0,"div",14)(1,"h2"),n.EFF(2,"Reci\xe9n Agregadas"),n.k0s(),n.j41(3,"div",15),n.DNE(4,F,24,17,"div",16),n.k0s()()),2&i){const t=n.XpG(2);n.R7$(4),n.Y8G("ngForOf",t.recentlyAddedSongs)}}function E(i,s){if(1&i&&(n.j41(0,"small",44),n.nrm(1,"i",35),n.EFF(2),n.k0s()),2&i){const t=n.XpG().$implicit;n.R7$(2),n.SpI("",t.dedication," ")}}function $(i,s){if(1&i){const t=n.RV6();n.j41(0,"tr")(1,"td"),n.EFF(2),n.k0s(),n.j41(3,"td")(4,"div",36)(5,"div",37),n.nrm(6,"img",38),n.j41(7,"button",39),n.bIt("click",function(){const r=n.eBV(t).$implicit,a=n.XpG(2);return n.Njj(a.playPreview(r.preview_url))}),n.nrm(8,"i",21),n.nI1(9,"async"),n.k0s()(),n.j41(10,"div",40)(11,"span"),n.EFF(12),n.k0s(),n.DNE(13,E,3,1,"small",41),n.k0s()()(),n.j41(14,"td"),n.EFF(15),n.k0s(),n.j41(16,"td")(17,"div",42)(18,"button",30),n.bIt("click",function(){const r=n.eBV(t).$implicit,a=n.XpG(2);return n.Njj(a.vote(r,!1))}),n.nrm(19,"i",31),n.EFF(20),n.k0s(),n.j41(21,"button",32),n.bIt("click",function(){const r=n.eBV(t).$implicit,a=n.XpG(2);return n.Njj(a.vote(r,!0))}),n.nrm(22,"i",33),n.EFF(23),n.k0s()()(),n.j41(24,"td")(25,"span",43),n.EFF(26),n.k0s()()()}if(2&i){const t=s.$implicit,e=s.index,o=n.XpG(2);n.R7$(2),n.JRh(e+1),n.R7$(4),n.Y8G("src",t.image,n.B4B)("alt",t.name),n.R7$(1),n.Y8G("disabled",!t.preview_url)("title",t.preview_url?"Escuchar previa":"Previa no disponible"),n.R7$(1),n.Y8G("ngClass",o.audioService.isCurrentSong(t.preview_url)&&n.bMT(9,16,o.audioService.isPlaying$)?"fa-pause":"fa-play"),n.R7$(4),n.JRh(t.name),n.R7$(1),n.Y8G("ngIf",t.dedication),n.R7$(2),n.JRh(t.artists.join(", ")),n.R7$(3),n.AVh("active",o.hasUserLiked(t.id)),n.R7$(2),n.SpI(" ",t.votes||0," "),n.R7$(1),n.AVh("active",o.hasUserDisliked(t.id)),n.R7$(2),n.SpI(" ",t.dislikes||0," "),n.R7$(3),n.JRh(o.formatTimeAgo(t.createdat))}}function I(i,s){if(1&i&&(n.j41(0,"div",9),n.DNE(1,V,5,1,"div",10),n.j41(2,"h2"),n.EFF(3,"Ranking General"),n.k0s(),n.j41(4,"div",11)(5,"table",12)(6,"thead")(7,"tr")(8,"th"),n.EFF(9,"#"),n.k0s(),n.j41(10,"th"),n.EFF(11,"T\xedtulo"),n.k0s(),n.j41(12,"th"),n.EFF(13,"Artista"),n.k0s(),n.j41(14,"th"),n.EFF(15,"Votos"),n.k0s(),n.j41(16,"th"),n.EFF(17,"Agregada"),n.k0s()()(),n.j41(18,"tbody"),n.DNE(19,$,27,18,"tr",13),n.k0s()()()()),2&i){const t=n.XpG();n.R7$(1),n.Y8G("ngIf",t.recentlyAddedSongs.length>0),n.R7$(18),n.Y8G("ngForOf",t.songs)}}let T=(()=>{class i{votingService;audioService;modalService;songs=[];recentlyAddedSongs=[];isLoading=!0;isRefreshing=!1;userVotes=new Map;pollingSubscription=null;refreshCooldown=30;countdown=0;timerSubscription=null;constructor(t,e,o){this.votingService=t,this.audioService=e,this.modalService=o}ngOnInit(){this.startPolling()}ngOnDestroy(){this.pollingSubscription&&this.pollingSubscription.unsubscribe(),this.timerSubscription&&this.timerSubscription.unsubscribe()}startPolling(){this.pollingSubscription=this.votingService.getRankedSongsPolling().subscribe({next:t=>{this.songs=t,this.votingService.getRecentlyAddedSongs().subscribe({next:e=>{this.recentlyAddedSongs=e}}),this.isLoading=!1},error:t=>{console.error("Error al cargar canciones:",t),this.isLoading=!1}})}forceRefresh(){this.isRefreshing||this.countdown>0||(this.isRefreshing=!0,this.votingService.forceRefresh().subscribe({next:t=>{this.songs=t,this.votingService.getRecentlyAddedSongs().subscribe({next:e=>{this.recentlyAddedSongs=e,this.isRefreshing=!1,this.startCooldown()}})},error:t=>{console.error("Error al forzar actualizaci\xf3n:",t),this.isRefreshing=!1,this.startCooldown()}}))}hasUserLiked(t){return this.userVotes.has(t)&&!1===this.userVotes.get(t)}hasUserDisliked(t){return this.userVotes.has(t)&&!0===this.userVotes.get(t)}formatTimeAgo(t){try{if(!t)return"reciente";let e;if("string"!=typeof t)return"Reciente";if(e=t.includes("Z")||t.includes("+")?new Date(t):new Date(t+"Z"),isNaN(e.getTime()))return console.warn("Fecha inv\xe1lida:",t),"Reciente";const r=Math.floor(((new Date).getTime()-e.getTime())/1e3),a=Math.floor(r/60),l=Math.floor(r/3600),_=Math.floor(r/86400);return r<60?`${r} s`:a<60?`Hace ${a} min ${r%60} s`:l<24?`Hace ${l} h ${a%60} min`:1===_?"Ayer":`Hace ${_} d`}catch(e){return console.error("Error formateando fecha:",e,"Fecha recibida:",t),"Reciente"}}startCooldown(){this.timerSubscription&&this.timerSubscription.unsubscribe(),this.countdown=this.refreshCooldown,this.timerSubscription=(0,O.O)(0,1e3).subscribe(()=>{this.countdown>0?this.countdown--:this.timerSubscription&&(this.timerSubscription.unsubscribe(),this.timerSubscription=null)})}vote(t,e=!1){const o={name:t.name,artists:t.artists,image:t.image,album:t.album,preview_url:t.preview_url};this.votingService.voteForSong(t.id,o,e).subscribe({next:r=>{r.deleted?this.modalService.alert("La canci\xf3n ha sido eliminada por recibir muchos dislikes","Canci\xf3n Eliminada","warning").subscribe():(this.modalService.alert(`\xa1Tu ${e?"dislike":"like"} ha sido registrado!`,"Voto Registrado","success").subscribe(),this.userVotes.set(t.id,e)),this.forceRefresh()},error:r=>{409===r.status?this.modalService.confirm("Ya has votado por esta canci\xf3n. \xbfQuieres cambiar tu voto?","Cambiar Voto").subscribe(a=>{a&&this.votingService.changeVote(t.id,o,e).subscribe({next:l=>{l.deleted?this.modalService.alert("La canci\xf3n ha sido eliminada por recibir muchos dislikes","Canci\xf3n Eliminada","warning").subscribe():(this.modalService.alert("\xa1Tu voto ha sido cambiado!","Voto Cambiado","success").subscribe(),this.userVotes.set(t.id,e)),this.forceRefresh()},error:l=>{this.modalService.alert("Error al cambiar tu voto. Intenta nuevamente.","Error","danger").subscribe()}})}):this.modalService.alert("Error al registrar tu voto. Intenta nuevamente.","Error","danger").subscribe()}})}playPreview(t){t?this.audioService.play(t):this.modalService.alert("Esta canci\xf3n no tiene vista previa disponible.","Sin Vista Previa","info").subscribe()}static \u0275fac=function(e){return new(e||i)(n.rXU(p.Z),n.rXU(f.U),n.rXU(y.B))};static \u0275cmp=n.VBU({type:i,selectors:[["app-voting-list"]],standalone:!0,features:[n.aNF],decls:11,vars:8,consts:[[1,"spotify-container"],[1,"header"],[1,"btn-refresh",3,"disabled","click"],[1,"fas","fa-sync-alt"],[4,"ngIf"],["class","loader",4,"ngIf"],["class","content",4,"ngIf"],[1,"loader"],[1,"spinner"],[1,"content"],["class","recently-added",4,"ngIf"],[1,"song-table-container"],[1,"song-table"],[4,"ngFor","ngForOf"],[1,"recently-added"],[1,"recent-songs-grid"],["class","recent-song-card",4,"ngFor","ngForOf"],[1,"recent-song-card"],[1,"recent-song-image-container"],[1,"recent-song-image",3,"src","alt"],[1,"btn-play-overlay",3,"disabled","title","click"],[1,"fas",3,"ngClass"],[1,"recent-song-content"],[1,"recent-song-info"],[1,"recent-song-title"],[1,"recent-song-artist"],["class","text-info fst-italic d-block mt-1",4,"ngIf"],[1,"recent-song-meta"],[1,"badge","bg-secondary"],[1,"fas","fa-clock","me-1"],[1,"btn-vote","like-btn",3,"click"],[1,"fas","fa-thumbs-up"],[1,"btn-vote","dislike-btn",3,"click"],[1,"fas","fa-thumbs-down"],[1,"text-info","fst-italic","d-block","mt-1"],[1,"fas","fa-heart","me-1"],[1,"song-cell"],[1,"position-relative"],[3,"src","alt"],[1,"btn-play-mini",3,"disabled","title","click"],[1,"d-flex","flex-column"],["class","text-info fst-italic",4,"ngIf"],[1,"vote-actions"],[1,"time-ago"],[1,"text-info","fst-italic"]],template:function(e,o){1&e&&(n.j41(0,"div",0)(1,"div",1)(2,"h1"),n.EFF(3,"Votaci\xf3n de Canciones"),n.k0s(),n.j41(4,"button",2),n.bIt("click",function(){return o.forceRefresh()}),n.nrm(5,"i",3),n.DNE(6,k,2,0,"span",4),n.DNE(7,w,2,0,"span",4),n.DNE(8,S,2,1,"span",4),n.k0s()(),n.DNE(9,R,4,0,"div",5),n.DNE(10,I,20,2,"div",6),n.k0s()),2&e&&(n.R7$(4),n.Y8G("disabled",o.isRefreshing||o.countdown>0),n.R7$(1),n.AVh("fa-spin",o.isRefreshing),n.R7$(1),n.Y8G("ngIf",!o.isRefreshing&&0===o.countdown),n.R7$(1),n.Y8G("ngIf",o.isRefreshing),n.R7$(1),n.Y8G("ngIf",!o.isRefreshing&&o.countdown>0),n.R7$(1),n.Y8G("ngIf",o.isLoading),n.R7$(1),n.Y8G("ngIf",!o.isLoading))},dependencies:[g.MD,g.YU,g.Sq,g.bT,g.Jj],styles:['.spotify-container[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border:1px solid rgba(255,255,255,.1);border-radius:16px;padding:2rem;color:var(--text-primary);box-shadow:0 10px 30px #0003;margin-bottom:2rem}.spotify-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding-bottom:1rem;border-bottom:1px solid rgba(255,255,255,.1)}.spotify-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:800;background:linear-gradient(135deg,var(--text-primary) 0%,var(--primary-color) 100%);-webkit-text-fill-color:transparent;-webkit-background-clip:text;background-clip:text;margin:0}.btn-refresh[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color) 0%,#1aa34a 100%);color:var(--text-primary);border:none;padding:.8rem 1.5rem;border-radius:50px;cursor:pointer;font-weight:700;transition:all .3s ease;display:flex;align-items:center;gap:.5rem;box-shadow:0 5px 15px #1db9544d}.btn-refresh[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 8px 20px #1db95466}.btn-refresh[_ngcontent-%COMP%]:disabled{opacity:.7;transform:none;box-shadow:none;cursor:not-allowed}.loader[_ngcontent-%COMP%]{text-align:center;padding:3rem}.loader[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{border:4px solid rgba(255,255,255,.2);border-left-color:var(--primary-color);border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem;box-shadow:0 0 15px #1db9544d}.loader[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:1rem}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin-bottom:1.5rem;padding-bottom:.8rem;border-bottom:2px solid rgba(255,255,255,.1);color:var(--text-primary)}.recently-added[_ngcontent-%COMP%]{margin-bottom:3rem}.recently-added[_ngcontent-%COMP%]   .song-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.8rem}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]{display:flex;align-items:center;background:rgba(42,42,42,.5);padding:1rem;border-radius:12px;transition:all .3s ease;border:1px solid rgba(255,255,255,.05)}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]:hover{background:rgba(42,42,42,.7);transform:translateY(-3px);border-color:#1db95433;box-shadow:0 8px 25px #0003}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:8px;margin-right:1rem;box-shadow:0 4px 15px #0000004d;transition:all .3s ease}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]{flex-grow:1;min-width:0}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;margin:0;color:var(--text-primary)}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary);margin:.3rem 0 0}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]   .song-actions[_ngcontent-%COMP%]{margin-left:1rem}.song-table-container[_ngcontent-%COMP%]{overflow-x:auto;border-radius:12px;background:rgba(42,42,42,.3);padding:1rem}.song-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.song-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .song-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;text-align:left;border-bottom:1px solid rgba(255,255,255,.1)}.song-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.9rem;text-transform:uppercase;font-weight:600;letter-spacing:.5px}.song-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:all .3s ease}.song-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.05)}.song-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.song-cell[_ngcontent-%COMP%]{display:flex;align-items:center}.song-cell[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:8px;margin-right:1rem;box-shadow:0 4px 15px #0000004d}.vote-count[_ngcontent-%COMP%]{display:flex;align-items:center;font-weight:700;color:var(--text-primary)}.vote-count[_ngcontent-%COMP%]   .fa-thumbs-up[_ngcontent-%COMP%]{color:var(--primary-color);margin-right:.5rem;font-size:1.1rem}.btn-vote[_ngcontent-%COMP%]{background:transparent;color:var(--primary-color);border:2px solid var(--primary-color);padding:.5rem 1.2rem;border-radius:50px;cursor:pointer;transition:all .3s ease;font-weight:700}.btn-vote[_ngcontent-%COMP%]:hover{background:var(--primary-color);color:var(--text-primary);transform:translateY(-2px);box-shadow:0 5px 15px #1db9544d}.btn-vote-small[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color) 0%,#1aa34a 100%);color:var(--text-primary);border:none;padding:.6rem 1.2rem;border-radius:50px;cursor:pointer;font-weight:700;transition:all .3s ease;box-shadow:0 4px 12px #1db9544d}.btn-vote-small[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 16px #1db95466}@media (max-width: 768px){.spotify-container[_ngcontent-%COMP%]{padding:1.5rem}.header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.song-table[_ngcontent-%COMP%]{font-size:.9rem}.song-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .song-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.8rem}.song-cell[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.song-cell[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:0;margin-bottom:.5rem}}.recently-added[_ngcontent-%COMP%]{margin-bottom:2rem}.recently-added[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;margin-bottom:1rem;padding-bottom:.5rem;border-bottom:2px solid rgba(255,255,255,.1);color:var(--text-primary)}.recent-songs-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1rem;margin-bottom:1.5rem}.recent-song-card[_ngcontent-%COMP%]{background:rgba(42,42,42,.5);border-radius:10px;padding:.8rem;display:flex;align-items:center;transition:all .3s ease;border:1px solid rgba(255,255,255,.05);position:relative;overflow:hidden;gap:.8rem;min-height:80px}.recent-song-card[_ngcontent-%COMP%]:hover{background:rgba(42,42,42,.7);transform:translateY(-3px);border-color:#1db95433;box-shadow:0 5px 15px #0003}.recent-song-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:3px;height:100%;background:linear-gradient(to bottom,var(--primary-color),var(--accent-purple))}.recent-song-image-container[_ngcontent-%COMP%]{flex-shrink:0;width:50px;height:50px;border-radius:6px;overflow:hidden;position:relative}.recent-song-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .3s ease}.recent-song-card[_ngcontent-%COMP%]:hover   .recent-song-image[_ngcontent-%COMP%]{transform:scale(1.1)}.recent-song-content[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;gap:.4rem;min-width:0}.recent-song-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{display:flex;gap:.5rem;margin-top:.3rem}.recent-song-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child   .btn-vote[_ngcontent-%COMP%]{padding:.25rem .6rem;font-size:.75rem;border-radius:4px;min-width:auto}.recent-song-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child   .btn-vote[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.7rem;margin-right:.3rem}.recent-song-info[_ngcontent-%COMP%]{min-width:0}.recent-song-title[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:var(--text-primary);margin:0;line-height:1.2;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}.recent-song-artist[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-secondary);margin:0;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}.recent-song-meta[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.recent-song-meta[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.3rem .6rem;border-radius:12px;font-size:.7rem;font-weight:600}.recent-song-meta[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.6rem}.dislike-btn[_ngcontent-%COMP%]{background:transparent;color:#f44336;border:2px solid #f44336}.dislike-btn[_ngcontent-%COMP%]:hover, .dislike-btn.active[_ngcontent-%COMP%]{background:#f44336;color:#fff}.like-btn[_ngcontent-%COMP%]{background:transparent;color:var(--primary-color);border:2px solid var(--primary-color)}.like-btn[_ngcontent-%COMP%]:hover, .like-btn.active[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff}.vote-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.vote-actions[_ngcontent-%COMP%]   .btn-vote[_ngcontent-%COMP%]{padding:.3rem .6rem;border-radius:4px;font-size:.8rem}.vote-actions[_ngcontent-%COMP%]   .btn-vote[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.4rem}.dislike-count[_ngcontent-%COMP%]{display:flex;align-items:center;font-weight:700;color:#f44336;margin-left:1rem}.dislike-count[_ngcontent-%COMP%]   .fa-thumbs-down[_ngcontent-%COMP%]{margin-right:.3rem;font-size:.9rem}.recent-song-actions[_ngcontent-%COMP%]{flex-shrink:0}.recent-song-actions[_ngcontent-%COMP%]   .btn-vote[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color) 0%,#1aa34a 100%);color:var(--text-primary);border:none;width:32px;height:32px;border-radius:50%;cursor:pointer;font-weight:600;transition:all .3s ease;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px #1db9544d}.recent-song-actions[_ngcontent-%COMP%]   .btn-vote[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 4px 12px #1db95466}.recent-song-actions[_ngcontent-%COMP%]   .btn-vote[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem}@media (max-width: 480px){.recent-songs-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.recent-song-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .3s ease}.recent-song-card[_ngcontent-%COMP%]:hover   .recent-song-image[_ngcontent-%COMP%]{transform:scale(1.1)}.recent-song-content[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;gap:.4rem;min-width:0}.recent-song-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{display:flex;gap:.5rem;margin-top:.3rem}.recent-song-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child   .btn-vote[_ngcontent-%COMP%]{padding:.25rem .6rem;font-size:.75rem;border-radius:4px;min-width:auto}.recent-song-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child   .btn-vote[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.7rem;margin-right:.3rem}.recent-song-info[_ngcontent-%COMP%]{min-width:0}.recent-song-title[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:var(--text-primary);margin:0;line-height:1.2;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}.recent-song-artist[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-secondary);margin:0;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}.recent-song-meta[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.recent-song-meta[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.3rem .6rem;border-radius:12px;font-size:.7rem;font-weight:600}.recent-song-meta[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.6rem}.dislike-btn[_ngcontent-%COMP%]{background:transparent;color:#f44336;border:2px solid #f44336}.dislike-btn[_ngcontent-%COMP%]:hover, .dislike-btn.active[_ngcontent-%COMP%]{background:#f44336;color:#fff}.like-btn[_ngcontent-%COMP%]{background:transparent;color:var(--primary-color);border:2px solid var(--primary-color)}.like-btn[_ngcontent-%COMP%]:hover, .like-btn.active[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff}.vote-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.vote-actions[_ngcontent-%COMP%]   .btn-vote[_ngcontent-%COMP%]{padding:.3rem .6rem;border-radius:4px;font-size:.8rem}.dislike-count[_ngcontent-%COMP%]{display:flex;align-items:center;font-weight:700;color:#f44336;margin-left:1rem}.dislike-count[_ngcontent-%COMP%]   .fa-thumbs-down[_ngcontent-%COMP%]{margin-right:.3rem;font-size:.9rem}.recent-song-actions[_ngcontent-%COMP%]{flex-shrink:0}.recent-song-actions[_ngcontent-%COMP%]   .btn-vote[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color) 0%,#1aa34a 100%);color:var(--text-primary);border:none;width:32px;height:32px;border-radius:50%;cursor:pointer;font-weight:600;transition:all .3s ease;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px #1db9544d}.recent-song-actions[_ngcontent-%COMP%]   .btn-vote[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 4px 12px #1db95466}.recent-song-actions[_ngcontent-%COMP%]   .btn-vote[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem}}@media (max-width: 1024px){.recent-songs-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(250px,1fr))}}@media (max-width: 768px){.recent-songs-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:.8rem}.recent-song-card[_ngcontent-%COMP%]{padding:.7rem;gap:.6rem}.recent-song-image-container[_ngcontent-%COMP%]{width:45px;height:45px}.recent-song-title[_ngcontent-%COMP%]{font-size:.85rem}.recent-song-artist[_ngcontent-%COMP%]{font-size:.7rem}}@media (max-width: 480px){.recent-songs-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.recent-song-meta[_ngcontent-%COMP%]{flex-wrap:wrap;gap:.3rem}.recent-song-actions[_ngcontent-%COMP%]   .btn-vote[_ngcontent-%COMP%]{width:28px;height:28px}.recent-song-actions[_ngcontent-%COMP%]   .btn-vote[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.7rem}}.btn-play-overlay[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(0,0,0,.6);border:1px solid rgba(255,255,255,.5);color:#fff;width:30px;height:30px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;opacity:0;transition:all .2s ease;z-index:10}.btn-play-overlay[_ngcontent-%COMP%]:hover{background:var(--primary-color);border-color:var(--primary-color);transform:translate(-50%,-50%) scale(1.1)}.btn-play-overlay[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.5;background:rgba(100,100,100,.6)}.btn-play-overlay[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:12px;margin-left:1px}.recent-song-image-container[_ngcontent-%COMP%]:hover   .btn-play-overlay[_ngcontent-%COMP%], .btn-play-overlay[_ngcontent-%COMP%]:focus{opacity:1}@media (hover: none){.btn-play-overlay[_ngcontent-%COMP%]{opacity:1;background:rgba(0,0,0,.4)}}.btn-play-mini[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(0,0,0,.6);border:none;color:#fff;width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;opacity:0;transition:all .2s ease}.btn-play-mini[_ngcontent-%COMP%]:hover{background:var(--primary-color);transform:translate(-50%,-50%) scale(1.1)}.btn-play-mini[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.5}.song-cell[_ngcontent-%COMP%]   .position-relative[_ngcontent-%COMP%]:hover   .btn-play-mini[_ngcontent-%COMP%]{opacity:1}']})}return i})();var G=c(605),u=c(878);function z(i,s){1&i&&n.nrm(0,"div",21)}function N(i,s){1&i&&n.nrm(0,"div",21)}function Y(i,s){1&i&&n.nrm(0,"div",21)}function D(i,s){if(1&i&&(n.j41(0,"div",22),n.nrm(1,"i",23),n.j41(2,"span"),n.EFF(3),n.k0s()()),2&i){const t=n.XpG(2);n.R7$(3),n.SpI("Votaste por: ",t.getVoteTypeName(t.lastVoteType),"")}}function B(i,s){if(1&i){const t=n.RV6();n.j41(0,"div",1)(1,"div",2),n.nrm(2,"div",3),n.k0s(),n.j41(3,"div",4)(4,"div",5)(5,"div",6),n.nrm(6,"i",7),n.j41(7,"span"),n.EFF(8),n.k0s()(),n.j41(9,"button",8),n.bIt("click",function(){n.eBV(t);const o=n.XpG();return n.Njj(o.forceRefresh())}),n.nrm(10,"i",9),n.k0s()()(),n.j41(11,"div",10)(12,"button",11),n.bIt("click",function(){n.eBV(t);const o=n.XpG();return n.Njj(o.vote("next"))}),n.j41(13,"div",12),n.nrm(14,"i",13),n.j41(15,"span"),n.EFF(16,"Siguiente"),n.k0s(),n.j41(17,"div",14),n.EFF(18),n.k0s()(),n.DNE(19,z,1,0,"div",15),n.k0s(),n.j41(20,"button",16),n.bIt("click",function(){n.eBV(t);const o=n.XpG();return n.Njj(o.vote("genre_change"))}),n.j41(21,"div",12),n.nrm(22,"i",17),n.j41(23,"span"),n.EFF(24,"Cambiar g\xe9nero"),n.k0s(),n.j41(25,"div",14),n.EFF(26),n.k0s()(),n.DNE(27,N,1,0,"div",15),n.k0s(),n.j41(28,"button",18),n.bIt("click",function(){n.eBV(t);const o=n.XpG();return n.Njj(o.vote("repeat"))}),n.j41(29,"div",12),n.nrm(30,"i",19),n.j41(31,"span"),n.EFF(32,"Mismo g\xe9nero"),n.k0s(),n.j41(33,"div",14),n.EFF(34),n.k0s()(),n.DNE(35,Y,1,0,"div",15),n.k0s()(),n.DNE(36,D,4,1,"div",20),n.k0s()}if(2&i){const t=n.XpG();n.R7$(1),n.AVh("visible",t.isLoading),n.R7$(7),n.SpI("",t.votingStatus.total_votes," votos (beta) "),n.R7$(4),n.AVh("voted",t.hasVoted("next")),n.Y8G("disabled",t.hasVoted("next")||t.isLoading),n.R7$(5),n.AVh("updating",t.isUpdatingNext),n.R7$(1),n.SpI(" ",t.votingStatus.votes.next," "),n.R7$(1),n.Y8G("ngIf",t.hasVoted("next")),n.R7$(1),n.AVh("voted",t.hasVoted("genre_change")),n.Y8G("disabled",t.hasVoted("genre_change")||t.isLoading),n.R7$(5),n.AVh("updating",t.isUpdatingGenre),n.R7$(1),n.SpI(" ",t.votingStatus.votes.genre_change," "),n.R7$(1),n.Y8G("ngIf",t.hasVoted("genre_change")),n.R7$(1),n.AVh("voted",t.hasVoted("repeat")),n.Y8G("disabled",t.hasVoted("repeat")||t.isLoading),n.R7$(5),n.AVh("updating",t.isUpdatingRepeat),n.R7$(1),n.SpI(" ",t.votingStatus.votes.repeat," "),n.R7$(1),n.Y8G("ngIf",t.hasVoted("repeat")),n.R7$(1),n.Y8G("ngIf",t.lastVoteType)}}let U=(()=>{class i{votingService;spotifyService;cdr;votingStatus=null;currentSong=null;userVotes=[];lastVoteType="";isLoading=!1;isUpdatingNext=!1;isUpdatingGenre=!1;isUpdatingRepeat=!1;votingSubscription;songSubscription;statusPollingSubscription;constructor(t,e,o){this.votingService=t,this.spotifyService=e,this.cdr=o}ngOnInit(){this.loadVotingStatus(),this.votingSubscription=(0,G.Y)(2e3).subscribe(()=>{this.currentSong&&this.currentSong.is_playing&&this.loadVotingStatus()}),this.songSubscription=this.spotifyService.getAdminCurrentlyPlayingPolling().subscribe(t=>{this.currentSong=t,t&&t.id!==this.votingStatus?.current_song_id&&(this.userVotes=[],this.lastVoteType="",this.loadVotingStatus())})}forceRefresh(){this.loadVotingStatus(),this.showNotification("Votaciones actualizadas","success")}ngOnDestroy(){this.votingSubscription&&this.votingSubscription.unsubscribe(),this.songSubscription&&this.songSubscription.unsubscribe(),this.statusPollingSubscription&&this.statusPollingSubscription.unsubscribe()}loadVotingStatus(){this.votingService.getVotingStatusImmediate().subscribe({next:t=>{t&&t.votes?this.votingStatus=t:console.warn("Datos de votaci\xf3n inv\xe1lidos recibidos:",t)},error:t=>{console.error("Error loading voting status:",t),setTimeout(()=>this.loadVotingStatus(),1e3)}})}vote(t){this.hasVoted(t)?this.showNotification("Ya has votado por esta opci\xf3n","warning"):this.votingService.submitVote(t).subscribe({next:e=>{this.userVotes.push(t),this.lastVoteType=t,this.votingStatus=e.status,this.showNotification(`Voto registrado: ${this.getVoteTypeName(t)}`,"success"),this.loadVotingStatus(),this.cdr.detectChanges(),setTimeout(()=>{this.lastVoteType="",this.cdr.detectChanges()},3e3)},error:e=>{console.error("Error submitting vote:",e);let o="Error al votar";e.message.includes("Ya has votado por")&&(this.userVotes.push(t),o=e.message,this.loadVotingStatus()),this.showNotification(o,"warning"),this.cdr.detectChanges()}})}showNotification(t,e){const o=document.createElement("div");o.style.cssText="\n      position: fixed;\n      top: 90px;\n      right: 20px;\n      padding: 12px 20px;\n      border-radius: 8px;\n      color: white;\n      font-weight: 600;\n      z-index: 10000;\n      animation: slideIn 0.3s ease;\n    ",o.style.background="success"===e?"linear-gradient(135deg, #1ed760, #19a34a)":"error"===e?"linear-gradient(135deg, #ff4d4d, #cc0000)":"linear-gradient(135deg, #ff9a00, #e67e00)",o.textContent=t,document.body.appendChild(o),setTimeout(()=>{o.style.animation="slideOut 0.3s ease",setTimeout(()=>{document.body.contains(o)&&document.body.removeChild(o)},300)},3e3)}hasVoted(t){return this.userVotes.includes(t)}getVoteTypeName(t){return{next:"siguiente canci\xf3n",genre_change:"cambiar de g\xe9nero",repeat:"mantener g\xe9nero"}[t]||t}static \u0275fac=function(e){return new(e||i)(n.rXU(p.Z),n.rXU(u.K),n.rXU(n.gRc))};static \u0275cmp=n.VBU({type:i,selectors:[["app-voting"]],standalone:!0,features:[n.aNF],decls:1,vars:1,consts:[["class","voting-container",4,"ngIf"],[1,"voting-container"],[1,"loading-overlay"],[1,"spinner"],[1,"voting-header"],[1,"header-controls"],[1,"total-votes"],[1,"fas","fa-users"],["title","Actualizar votos",1,"refresh-btn",3,"click"],[1,"fas","fa-sync-alt"],[1,"voting-options"],[1,"vote-btn","next",3,"disabled","click"],[1,"btn-content"],[1,"fas","fa-forward"],[1,"vote-count"],["class","pulse-ring",4,"ngIf"],[1,"vote-btn","genre",3,"disabled","click"],[1,"fas","fa-random"],[1,"vote-btn","repeat",3,"disabled","click"],[1,"fas","fa-redo"],["class","voting-feedback",4,"ngIf"],[1,"pulse-ring"],[1,"voting-feedback"],[1,"fas","fa-check-circle"]],template:function(e,o){1&e&&n.DNE(0,B,37,25,"div",0),2&e&&n.Y8G("ngIf",o.votingStatus&&(null==o.currentSong?null:o.currentSong.is_playing))},dependencies:[g.MD,g.bT],styles:['.voting-container[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(30,215,96,.15),rgba(29,185,84,.1));-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-radius:16px;padding:1rem;margin:1rem 0;border:1px solid rgba(30,215,96,.3);width:100%;max-width:100%;box-shadow:0 0 20px #1ed76040,inset 0 1px #ffffff1a;position:relative;overflow:hidden}.voting-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:2px;background:linear-gradient(90deg,transparent,rgba(30,215,96,.8),transparent);animation:_ngcontent-%COMP%_neonGlow 3s ease-in-out infinite}.voting-header[_ngcontent-%COMP%]{margin-bottom:1rem;text-align:center}.voting-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#1ed760;margin:0 0 .5rem;font-weight:700;font-size:1.1rem;text-shadow:0 0 10px rgba(30,215,96,.5);letter-spacing:.5px}.total-votes[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;color:#ffffffb3;font-size:.85rem}.total-votes[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#1ed760}.voting-options[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:.8rem;margin-bottom:1rem}.vote-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:.8rem .5rem;border:2px solid rgba(30,215,96,.3);border-radius:12px;background:rgba(25,20,20,.6);color:#fff;transition:all .3s ease;cursor:pointer;flex:1;min-width:0;min-height:80px;position:relative}.vote-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:rgba(30,215,96,.2);border-color:#1ed760;transform:translateY(-2px);box-shadow:0 5px 15px #1ed7604d}.vote-btn[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.vote-btn.voted[_ngcontent-%COMP%]{background:rgba(30,215,96,.25);border-color:#1ed760}.vote-btn.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .vote-btn.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .vote-btn.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   .vote-count[_ngcontent-%COMP%]{color:#1ed760;text-shadow:0 0 8px rgba(30,215,96,.6)}.vote-btn.next[_ngcontent-%COMP%]{border-color:#1ed76066}.vote-btn.next[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#1ed760}.vote-btn.genre[_ngcontent-%COMP%]{border-color:#569af766}.vote-btn.genre[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#569af7}.vote-btn.genre.voted[_ngcontent-%COMP%]{background:rgba(86,154,247,.25);border-color:#569af7}.vote-btn.genre.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .vote-btn.genre.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .vote-btn.genre.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   .vote-count[_ngcontent-%COMP%]{color:#569af7;text-shadow:0 0 8px rgba(86,154,247,.6)}.vote-btn.repeat[_ngcontent-%COMP%]{border-color:#ff9a0066}.vote-btn.repeat[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#ff9a00}.vote-btn.repeat.voted[_ngcontent-%COMP%]{background:rgba(255,154,0,.25);border-color:#ff9a00}.vote-btn.repeat.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .vote-btn.repeat.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .vote-btn.repeat.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   .vote-count[_ngcontent-%COMP%]{color:#ff9a00;text-shadow:0 0 8px rgba(255,154,0,.6)}.btn-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.4rem;z-index:2}.btn-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;transition:all .3s ease}.btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;font-size:.75rem;text-align:center;transition:all .3s ease}.btn-content[_ngcontent-%COMP%]   .vote-count[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;color:#fff;transition:all .3s ease}.pulse-ring[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:60px;height:60px;border:2px solid #1ed760;border-radius:50%;animation:_ngcontent-%COMP%_pulse 2s infinite;opacity:.6}.voting-feedback[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;padding-top:.8rem;border-top:1px solid rgba(255,255,255,.1);color:#1ed760;font-weight:600;font-size:.9rem}.voting-feedback[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bounce .5s ease-in-out}@keyframes _ngcontent-%COMP%_neonGlow{0%,to{opacity:.5}50%{opacity:1}}@keyframes _ngcontent-%COMP%_pulse{0%{transform:translate(-50%,-50%) scale(.8);opacity:.6}50%{transform:translate(-50%,-50%) scale(1.1);opacity:.3}to{transform:translate(-50%,-50%) scale(.8);opacity:.6}}@keyframes _ngcontent-%COMP%_bounce{0%,20%,50%,80%,to{transform:translateY(0)}40%{transform:translateY(-5px)}60%{transform:translateY(-3px)}}@media (max-width: 768px){.voting-container[_ngcontent-%COMP%]{padding:.8rem;margin:.8rem 0}.voting-options[_ngcontent-%COMP%]{gap:.5rem}.vote-btn[_ngcontent-%COMP%]{padding:.6rem .4rem;min-height:70px}.vote-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.vote-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.7rem}.vote-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   .vote-count[_ngcontent-%COMP%]{font-size:.9rem}.voting-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 480px){.voting-options[_ngcontent-%COMP%]{flex-direction:column;gap:.6rem}.vote-btn[_ngcontent-%COMP%]{min-height:60px;flex-direction:row;justify-content:flex-start;padding:.8rem}.vote-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]{flex-direction:row;gap:.8rem;align-items:center}.vote-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:0}.vote-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8rem;flex-grow:1;text-align:left}.vote-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   .vote-count[_ngcontent-%COMP%]{font-size:1rem}}.voting-container[_ngcontent-%COMP%]{position:relative}.loading-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:rgba(0,0,0,.7);display:flex;align-items:center;justify-content:center;border-radius:16px;z-index:10;opacity:0;visibility:hidden;transition:all .3s ease}.loading-overlay.visible[_ngcontent-%COMP%]{opacity:1;visibility:visible}.loading-overlay[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:30px;height:30px;border:3px solid rgba(30,215,96,.3);border-top:3px solid #1ed760;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.vote-count[_ngcontent-%COMP%]{transition:all .3s ease}.vote-count.updating[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulseUpdate .5s ease;color:#1ed760}@keyframes _ngcontent-%COMP%_pulseUpdate{0%{transform:scale(1)}50%{transform:scale(1.2)}to{transform:scale(1)}}.header-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.refresh-btn[_ngcontent-%COMP%]{background:rgba(255,255,255,.1);border:none;border-radius:50%;width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease}.refresh-btn[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.2);transform:rotate(180deg)}.refresh-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff;font-size:14px}']})}return i})();var L=c(6181),A=c(2915);function X(i,s){if(1&i&&(n.j41(0,"div",12)(1,"div",13),n.nrm(2,"img",14),n.k0s(),n.j41(3,"div",15)(4,"h4",16),n.EFF(5),n.k0s(),n.j41(6,"p",17),n.EFF(7),n.k0s()()()),2&i){const t=n.XpG();n.R7$(2),n.Y8G("src",t.nextSong.image||"assets/default-song.png",n.B4B),n.R7$(3),n.JRh(t.nextSong.name),n.R7$(2),n.JRh(t.nextSong.artists.join(", "))}}function J(i,s){1&i&&(n.j41(0,"div",18)(1,"p",19),n.EFF(2,"No hay canciones en la cola de Spotify"),n.k0s()())}function H(i,s){1&i&&(n.j41(0,"div",20)(1,"div",21),n.nrm(2,"i",22),n.j41(3,"p",23),n.EFF(4,"No hay m\xfasica sonando."),n.k0s()()())}function Z(i,s){if(1&i&&(n.j41(0,"p",39),n.nrm(1,"i",40),n.EFF(2),n.k0s()),2&i){const t=n.XpG(2);n.R7$(2),n.SpI("",t.adminCurrentlyPlaying.dedication," ")}}function q(i,s){if(1&i){const t=n.RV6();n.j41(0,"div",24)(1,"div",25),n.nrm(2,"img",26),n.k0s(),n.j41(3,"div",27)(4,"div",28)(5,"h3",29),n.EFF(6),n.k0s(),n.j41(7,"p",30),n.EFF(8),n.k0s(),n.DNE(9,Z,3,1,"p",31),n.k0s(),n.j41(10,"div",32)(11,"span",33),n.EFF(12),n.k0s(),n.j41(13,"div",34),n.nrm(14,"div",35),n.k0s(),n.j41(15,"span",33),n.EFF(16),n.k0s()()(),n.j41(17,"div",36)(18,"button",37),n.bIt("click",function(){n.eBV(t);const o=n.XpG();return n.Njj(o.forceUpdate())}),n.nrm(19,"i",38),n.k0s()()()}if(2&i){const t=n.XpG();n.R7$(2),n.Mz_("alt","Car\xe1tula de ",t.adminCurrentlyPlaying.name,""),n.Y8G("src",t.adminCurrentlyPlaying.image,n.B4B),n.R7$(4),n.JRh(t.adminCurrentlyPlaying.name),n.R7$(2),n.JRh(t.adminCurrentlyPlaying.artists),n.R7$(1),n.Y8G("ngIf",t.adminCurrentlyPlaying.dedication),n.R7$(3),n.JRh(t.formatTime(t.progress*t.songDurationMs/100)),n.R7$(2),n.xc7("width",t.progress,"%"),n.R7$(2),n.JRh(t.formatTime(t.songDurationMs)),n.R7$(2),n.Y8G("disabled",t.isUpdating),n.R7$(1),n.AVh("fa-spin",t.isUpdating)}}function K(i,s){1&i&&n.nrm(0,"app-voting")}let Q=(()=>{class i{spotifyService;votingService;queueService;metaService;adminCurrentlyPlaying=null;progress=0;songDurationMs=0;isUpdating=!1;nextSong=null;pollingSubscription=null;progressInterval=null;songInitialProgressMs=0;lastSyncTime=0;constructor(t,e,o,r){this.spotifyService=t,this.votingService=e,this.queueService=o,this.metaService=r}ngOnInit(){this.metaService.updatePageData("Votaci\xf3n en Vivo","Vota por las canciones que quieres escuchar. \xa1T\xfa eliges la m\xfasica!"),this.startAdminSpotifyPolling(),this.loadNextSong(),setInterval(()=>{this.loadNextSong()},3e4)}ngOnDestroy(){this.pollingSubscription&&this.pollingSubscription.unsubscribe(),this.stopProgressBar()}loadNextSong(){this.queueService.getNextSong().subscribe({next:t=>{this.nextSong=t&&t.next_song?t.next_song:null},error:t=>{console.error("Error loading next song:",t),this.nextSong=null}})}startAdminSpotifyPolling(){this.pollingSubscription=this.spotifyService.getAdminCurrentlyPlayingPolling().subscribe({next:t=>{t&&t.is_playing?this.adminCurrentlyPlaying&&this.adminCurrentlyPlaying.id===t.id?this.syncProgressBar(t.progress_ms,t.duration_ms):(this.adminCurrentlyPlaying=t,this.startProgressBar(t.progress_ms,t.duration_ms),this.checkAndRemovePlayingSong(),this.loadNextSong()):(this.adminCurrentlyPlaying=null,this.stopProgressBar())},error:t=>{console.error("Error al obtener reproducci\xf3n actual del admin:",t),this.adminCurrentlyPlaying=null,this.stopProgressBar()}})}forceUpdate(){this.isUpdating||(this.isUpdating=!0,this.spotifyService.getAdminCurrentlyPlaying().subscribe({next:t=>{t&&t.is_playing?this.adminCurrentlyPlaying&&this.adminCurrentlyPlaying.id===t.id?this.syncProgressBar(t.progress_ms,t.duration_ms):(this.adminCurrentlyPlaying=t,this.startProgressBar(t.progress_ms,t.duration_ms)):(this.adminCurrentlyPlaying=null,this.stopProgressBar()),this.isUpdating=!1},error:t=>{console.error("Error al forzar la actualizaci\xf3n:",t),this.adminCurrentlyPlaying=null,this.stopProgressBar(),this.isUpdating=!1}}))}startProgressBar(t,e){this.stopProgressBar(),this.syncProgressBar(t,e),this.progressInterval=setInterval(()=>{this.updateProgress()},500)}syncProgressBar(t,e){this.songInitialProgressMs=t,this.songDurationMs=e,this.lastSyncTime=Date.now(),this.updateProgress()}updateProgress(){if(!this.adminCurrentlyPlaying||this.songDurationMs<=0)return void(this.progress=0);const t=Date.now()-this.lastSyncTime;this.progress=Math.min((this.songInitialProgressMs+t)/this.songDurationMs*100,100),this.progress>=100&&this.stopProgressBar()}stopProgressBar(){this.progressInterval&&(clearInterval(this.progressInterval),this.progressInterval=null)}onVoteCasted(){const t=document.querySelector("app-voting-list");t&&t.forceRefresh&&t.forceRefresh()}checkAndRemovePlayingSong(){this.adminCurrentlyPlaying&&this.adminCurrentlyPlaying.id&&setTimeout(()=>{this.spotifyService.checkAndRemovePlayingSongFromRanking().subscribe({next:t=>{t.deleted&&(console.log("Canci\xf3n eliminada del ranking:",t.song.name),this.votingService.forceRefresh().subscribe())},error:t=>{console.error("Error al verificar canci\xf3n en reproducci\xf3n:",t)}})},3e3)}formatTime(t){if(!t)return"0:00";const e=Math.floor(t/1e3),r=e%60;return`${Math.floor(e/60)}:${r<10?"0":""}${r}`}static \u0275fac=function(e){return new(e||i)(n.rXU(u.K),n.rXU(p.Z),n.rXU(L.F),n.rXU(A.R))};static \u0275cmp=n.VBU({type:i,selectors:[["app-home"]],standalone:!0,features:[n.aNF],decls:16,vars:5,consts:[[1,"home-container"],[1,"next-song-section","compact-card","fade-in"],[1,"card-header"],[1,"fas","fa-forward","text-primary"],[1,"header-title"],["class","next-song-content",4,"ngIf","ngIfElse"],["noNextSong",""],["noSongPlaying",""],["class","now-playing-section compact-card fade-in",4,"ngIf","ngIfElse"],[1,"voting-section"],[4,"ngIf"],[3,"voteCasted"],[1,"next-song-content"],[1,"album-art-mini"],["alt","Car\xe1tula",1,"album-art-img",3,"src"],[1,"song-info-mini"],[1,"song-title-mini"],[1,"song-artist-mini"],[1,"no-next-song-content"],[1,"text-muted","small","mb-0"],[1,"no-song-playing","compact-card","fade-in"],[1,"card-body"],[1,"fas","fa-music-slash","text-muted"],[1,"text-muted"],[1,"now-playing-section","compact-card","fade-in"],[1,"album-art-container"],[1,"album-art",3,"src","alt"],[1,"song-info-container"],[1,"song-details"],[1,"song-title"],[1,"song-artist"],["class","text-info fst-italic mb-0 mt-1",4,"ngIf"],[1,"progress-container"],[1,"time-display"],[1,"progress"],[1,"progress-bar"],[1,"update-button-container"],["title","Actualizar",1,"btn","btn-icon",3,"disabled","click"],[1,"fas","fa-sync-alt"],[1,"text-info","fst-italic","mb-0","mt-1"],[1,"fas","fa-heart","me-1"]],template:function(e,o){if(1&e&&(n.j41(0,"div",0)(1,"div",1)(2,"div",2),n.nrm(3,"i",3),n.j41(4,"span",4),n.EFF(5,"Siguiente en la cola"),n.k0s()(),n.DNE(6,X,8,3,"div",5),n.DNE(7,J,3,0,"ng-template",null,6,n.C5r),n.k0s(),n.DNE(9,H,5,0,"ng-template",null,7,n.C5r),n.DNE(11,q,20,12,"div",8),n.j41(12,"div",9),n.DNE(13,K,1,0,"app-voting",10),n.k0s(),n.j41(14,"app-search",11),n.bIt("voteCasted",function(){return o.onVoteCasted()}),n.k0s(),n.nrm(15,"app-voting-list"),n.k0s()),2&e){const r=n.sdS(8),a=n.sdS(10);n.R7$(6),n.Y8G("ngIf",o.nextSong)("ngIfElse",r),n.R7$(5),n.Y8G("ngIf",o.adminCurrentlyPlaying)("ngIfElse",a),n.R7$(2),n.Y8G("ngIf",o.adminCurrentlyPlaying)}},dependencies:[g.MD,g.bT,M,T,U],styles:['@charset "UTF-8";.home-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.compact-card[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:var(--card-bg);border:1px solid var(--hover-bg);border-radius:12px;overflow:hidden;padding:.2rem;gap:1rem;transition:border-color .3s ease}.compact-card[_ngcontent-%COMP%]:hover{border-color:var(--primary-color)}.album-art-container[_ngcontent-%COMP%]{flex-shrink:0}.album-art[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:8px;box-shadow:0 4px 15px #00000080}.song-info-container[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;justify-content:center;gap:.5rem;min-width:0}.song-details[_ngcontent-%COMP%]   .song-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:var(--text-primary);margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.song-details[_ngcontent-%COMP%]   .song-artist[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary);margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.update-button-container[_ngcontent-%COMP%]{flex-shrink:0;margin-left:auto}.btn-icon[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--text-secondary);font-size:1.2rem;cursor:pointer;padding:.5rem;border-radius:50%}.btn-icon[_ngcontent-%COMP%]:hover{color:var(--text-primary);background-color:var(--hover-bg)}.btn-icon[_ngcontent-%COMP%]:disabled{color:var(--text-tertiary);cursor:not-allowed}.progress-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;width:100%}.progress-container[_ngcontent-%COMP%]   .time-display[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-secondary);min-width:40px;text-align:center}.progress-container[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{flex-grow:1;height:6px;background-color:#444;border-radius:3px;overflow:hidden}.progress-container[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background-color:var(--primary-color);height:100%;transition:width .25s linear}.no-song-playing[_ngcontent-%COMP%]{justify-content:center}.no-song-playing[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.no-song-playing[_ngcontent-%COMP%]   .fa-music-slash[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--text-tertiary)}.no-song-playing[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-secondary);font-weight:500}@media (max-width: 768px){.compact-card[_ngcontent-%COMP%]{padding:.75rem;gap:.75rem}.album-art[_ngcontent-%COMP%]{width:60px;height:60px}.song-details[_ngcontent-%COMP%]   .song-title[_ngcontent-%COMP%]{font-size:1rem}.song-details[_ngcontent-%COMP%]   .song-artist[_ngcontent-%COMP%]{font-size:.8rem}.progress-container[_ngcontent-%COMP%]{max-width:100%}}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out;box-shadow:0 4px 15px #035f0b93}.fade-in[_ngcontent-%COMP%]:hover{box-shadow:0 8px 20px #00000080}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.voting-section[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;margin:1.5rem 0}.next-song-section[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;padding:1rem;gap:.5rem;background-color:#ffffff0d;border:1px solid rgba(255,255,255,.1)}.next-song-section[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-bottom:.5rem;width:100%;border-bottom:1px solid rgba(255,255,255,.1);padding-bottom:.5rem}.next-song-section[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .header-title[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:var(--text-secondary);text-transform:uppercase;letter-spacing:1px}.next-song-section[_ngcontent-%COMP%]   .next-song-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;width:100%}.next-song-section[_ngcontent-%COMP%]   .album-art-mini[_ngcontent-%COMP%]{flex-shrink:0}.next-song-section[_ngcontent-%COMP%]   .album-art-mini[_ngcontent-%COMP%]   .album-art-img[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:6px;object-fit:cover}.next-song-section[_ngcontent-%COMP%]   .song-info-mini[_ngcontent-%COMP%]{flex-grow:1;min-width:0}.next-song-section[_ngcontent-%COMP%]   .song-info-mini[_ngcontent-%COMP%]   .song-title-mini[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;color:var(--text-primary);margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.next-song-section[_ngcontent-%COMP%]   .song-info-mini[_ngcontent-%COMP%]   .song-artist-mini[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-secondary);margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}']})}return i})()}}]);