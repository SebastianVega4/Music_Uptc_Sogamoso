(self.webpackChunkuptc_music=self.webpackChunkuptc_music||[]).push([[792],{3205:(Je,oe,O)=>{"use strict";O.d(oe,{u:()=>L});var c=O(1626),Q=O(5312),w=O(4412),ce=O(8141),q=O(540);let L=(()=>{class H{http;apiUrl=Q.c.apiUrl;currentUserSubject=new w.t(null);currentUser=this.currentUserSubject.asObservable();constructor(ue){this.http=ue;const de=localStorage.getItem("adminToken"),Z=localStorage.getItem("adminUser");de&&Z&&this.currentUserSubject.next(JSON.parse(Z))}login(ue,de){return this.http.post(`${this.apiUrl}/api/auth/login`,{email:ue,password:de}).pipe((0,ce.M)(Z=>{Z.token&&(localStorage.setItem("adminToken",Z.token),localStorage.setItem("adminUser",JSON.stringify(Z.user)),localStorage.setItem("auth_token",Z.token),this.currentUserSubject.next(Z.user))}))}logout(){localStorage.removeItem("adminToken"),localStorage.removeItem("adminUser"),this.currentUserSubject.next(null)}isLoggedIn(){return!!localStorage.getItem("adminToken")}getAuthToken(){return localStorage.getItem("adminToken")}getAuthHeaders(){const ue=this.getToken();return new c.Lr(ue?{Authorization:`Bearer ${ue}`,"Content-Type":"application/json"}:{"Content-Type":"application/json"})}getToken(){return localStorage.getItem("adminToken")}static \u0275fac=function(de){return new(de||H)(q.KVO(c.Qq))};static \u0275prov=q.jDH({token:H,factory:H.\u0275fac,providedIn:"root"})}return H})()},5455:(Je,oe,O)=>{"use strict";O.d(oe,{B:()=>ce});var c=O(4412),Q=O(1413),w=O(540);let ce=(()=>{class q{modalState=new c.t(null);modalResult=new Q.B;modalState$=this.modalState.asObservable();constructor(){}open(H){return this.modalState.next(H),this.modalResult=new Q.B,this.modalResult.asObservable()}confirm(H,ne="Confirmaci\xf3n"){return this.open({title:ne,message:H,type:"confirm",showCancel:!0,confirmText:"Confirmar",cancelText:"Cancelar"})}alert(H,ne="Alerta",ue="info"){return this.open({title:ne,message:H,type:ue,showCancel:!1,confirmText:"Aceptar"})}close(H){this.modalResult.next(H),this.modalResult.complete(),this.modalState.next(null)}static \u0275fac=function(ne){return new(ne||q)};static \u0275prov=w.jDH({token:q,factory:q.\u0275fac,providedIn:"root"})}return q})()},5312:(Je,oe,O)=>{"use strict";O.d(oe,{c:()=>c});const c={production:!1,apiUrl:"https://music-uptc-sogamoso-back.vercel.app",supabaseUrl:"https://nkojabtbosvzbfcveyfm.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5rb2phYnRib3N2emJmY3ZleWZtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTczNjgwNzAsImV4cCI6MjA3Mjk0NDA3MH0.rJdadnVoVBw-vrt2XCm3619YzSIX3jSaxRftJQdAw00"}},1675:(Je,oe,O)=>{"use strict";var c=O(345),Q=O(8435),w=O(540),ce=O(3205);const L=[{path:"",loadComponent:()=>Promise.all([O.e(158),O.e(76),O.e(689)]).then(O.bind(O,8689)).then(d=>d.HomeComponent)},{path:"home",loadComponent:()=>Promise.all([O.e(158),O.e(76),O.e(689)]).then(O.bind(O,8689)).then(d=>d.HomeComponent)},{path:"ranking",loadComponent:()=>Promise.all([O.e(76),O.e(325)]).then(O.bind(O,3325)).then(d=>d.RankingComponent)},{path:"about",loadComponent:()=>Promise.all([O.e(76),O.e(783)]).then(O.bind(O,4783)).then(d=>d.AboutComponent)},{path:"discussion",loadComponent:()=>Promise.all([O.e(76),O.e(179)]).then(O.bind(O,1179)).then(d=>d.DiscussionComponent)},{path:"discussion/thread/:id",loadComponent:()=>Promise.all([O.e(76),O.e(221)]).then(O.bind(O,1221)).then(d=>d.ThreadDetailComponent)},{path:"admin-login",loadComponent:()=>O.e(880).then(O.bind(O,2880)).then(d=>d.AdminLoginComponent)},{path:"admin-panel",loadComponent:()=>Promise.all([O.e(158),O.e(76),O.e(136)]).then(O.bind(O,136)).then(d=>d.AdminPanelComponent),canActivate:[(()=>{class d{authService;router;constructor(s,u){this.authService=s,this.router=u}canActivate(){return!!this.authService.isLoggedIn()||(this.router.navigate(["/admin-login"]),!1)}static \u0275fac=function(u){return new(u||d)(w.KVO(ce.u),w.KVO(Q.Ix))};static \u0275prov=w.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})()]},{path:"**",redirectTo:""}];var H=O(1626);const ne={providers:[(0,Q.lh)(L),(0,H.$R)(),(0,c.$x)()]};var ue=O(177),de=O(4341),Z=O(8359),me=O(7673),He=O(6354),Ie=O(6697),Oe=O(4412),wt=O(8141),Qe=O(9437),at=O(5312),G=O(467),Ne=O(5215);class ye extends Error{constructor(a,s="FunctionsError",u){super(a),this.name=s,this.context=u}}class ze extends ye{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class Be extends ye{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class Fe extends ye{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var Le=function(d){return d.Any="any",d.ApNortheast1="ap-northeast-1",d.ApNortheast2="ap-northeast-2",d.ApSouth1="ap-south-1",d.ApSoutheast1="ap-southeast-1",d.ApSoutheast2="ap-southeast-2",d.CaCentral1="ca-central-1",d.EuCentral1="eu-central-1",d.EuWest1="eu-west-1",d.EuWest2="eu-west-2",d.EuWest3="eu-west-3",d.SaEast1="sa-east-1",d.UsEast1="us-east-1",d.UsWest1="us-west-1",d.UsWest2="us-west-2",d}(Le||{});class ft{constructor(a,{headers:s={},customFetch:u,region:g=Le.Any}={}){var d;this.url=a,this.headers=s,this.region=g,this.fetch=(d=u)?(...a)=>d(...a):(...a)=>fetch(...a)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return(0,Ne.__awaiter)(this,arguments,void 0,function*(s,u={}){var g;let D,I;try{const{headers:R,method:F,body:V,signal:W,timeout:pe}=u;let De={},{region:Pe}=u;Pe||(Pe=this.region);const Se=new URL(`${this.url}/${s}`);let We;Pe&&"any"!==Pe&&(De["x-region"]=Pe,Se.searchParams.set("forceFunctionRegion",Pe)),V&&(R&&!Object.prototype.hasOwnProperty.call(R,"Content-Type")||!R)?typeof Blob<"u"&&V instanceof Blob||V instanceof ArrayBuffer?(De["Content-Type"]="application/octet-stream",We=V):"string"==typeof V?(De["Content-Type"]="text/plain",We=V):typeof FormData<"u"&&V instanceof FormData?We=V:(De["Content-Type"]="application/json",We=JSON.stringify(V)):We=V;let nt=W;pe&&(I=new AbortController,D=setTimeout(()=>I.abort(),pe),W?(nt=I.signal,W.addEventListener("abort",()=>I.abort())):nt=I.signal);const it=yield this.fetch(Se.toString(),{method:F||"POST",headers:Object.assign(Object.assign(Object.assign({},De),this.headers),R),body:We,signal:nt}).catch(mt=>{throw new ze(mt)}),Yt=it.headers.get("x-relay-error");if(Yt&&"true"===Yt)throw new Be(it);if(!it.ok)throw new Fe(it);let Ct,sn=(null!==(g=it.headers.get("Content-Type"))&&void 0!==g?g:"text/plain").split(";")[0].trim();return Ct="application/json"===sn?yield it.json():"application/octet-stream"===sn||"application/pdf"===sn?yield it.blob():"text/event-stream"===sn?it:"multipart/form-data"===sn?yield it.formData():yield it.text(),{data:Ct,error:null,response:it}}catch(R){return{data:null,error:R,response:R instanceof Fe||R instanceof Be?R.context:void 0}}finally{D&&clearTimeout(D)}})}}var Ae=O(4060),nn=O.t(Ae,2);const{PostgrestClient:Cn}=Ae||nn,se=class Rn{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&null!==(a=navigator.userAgent)&&void 0!==a&&a.includes("Vercel-Edge"))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const g=parseInt(s.node.replace(/^v/,"").split(".")[0]);return g>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${g} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${g} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let s=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(s+=`\n\nSuggested solution: ${a.workaround}`),new Error(s)}static createWebSocket(a,s){return new(this.getWebSocketConstructor())(a,s)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return"native"===a.type||"ws"===a.type}catch{return!1}}};var Gt=function(d){return d[d.connecting=0]="connecting",d[d.open=1]="open",d[d.closing=2]="closing",d[d.closed=3]="closed",d}(Gt||{}),Lt=function(d){return d.closed="closed",d.errored="errored",d.joined="joined",d.joining="joining",d.leaving="leaving",d}(Lt||{}),fn=function(d){return d.close="phx_close",d.error="phx_error",d.join="phx_join",d.reply="phx_reply",d.leave="phx_leave",d.access_token="access_token",d}(fn||{}),vt=function(d){return d.websocket="websocket",d}(vt||{}),cn=function(d){return d.Connecting="connecting",d.Open="open",d.Closing="closing",d.Closed="closed",d}(cn||{});class st{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,s){return a.event!==this.BROADCAST_EVENT||a.payload instanceof ArrayBuffer||"string"!=typeof a.payload.event?s(JSON.stringify([a.join_ref,a.ref,a.topic,a.event,a.payload])):s(this._binaryEncodeUserBroadcastPush(a))}_binaryEncodeUserBroadcastPush(a){var s;return this._isArrayBuffer(null===(s=a.payload)||void 0===s?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var s,u;const g=null!==(u=null===(s=a.payload)||void 0===s?void 0:s.payload)&&void 0!==u?u:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,g)}_encodeJsonUserBroadcastPush(a){var s,u;const g=null!==(u=null===(s=a.payload)||void 0===s?void 0:s.payload)&&void 0!==u?u:{},I=(new TextEncoder).encode(JSON.stringify(g)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,I)}_encodeUserBroadcastPush(a,s,u){var g,D;const I=a.topic,R=null!==(g=a.ref)&&void 0!==g?g:"",F=null!==(D=a.join_ref)&&void 0!==D?D:"",V=a.payload.event,W=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},pe=0===Object.keys(W).length?"":JSON.stringify(W);if(F.length>255)throw new Error(`joinRef length ${F.length} exceeds maximum of 255`);if(R.length>255)throw new Error(`ref length ${R.length} exceeds maximum of 255`);if(I.length>255)throw new Error(`topic length ${I.length} exceeds maximum of 255`);if(V.length>255)throw new Error(`userEvent length ${V.length} exceeds maximum of 255`);if(pe.length>255)throw new Error(`metadata length ${pe.length} exceeds maximum of 255`);const Pe=new ArrayBuffer(this.HEADER_LENGTH+(this.USER_BROADCAST_PUSH_META_LENGTH+F.length+R.length+I.length+V.length+pe.length));let Se=new DataView(Pe),We=0;Se.setUint8(We++,this.KINDS.userBroadcastPush),Se.setUint8(We++,F.length),Se.setUint8(We++,R.length),Se.setUint8(We++,I.length),Se.setUint8(We++,V.length),Se.setUint8(We++,pe.length),Se.setUint8(We++,s),Array.from(F,it=>Se.setUint8(We++,it.charCodeAt(0))),Array.from(R,it=>Se.setUint8(We++,it.charCodeAt(0))),Array.from(I,it=>Se.setUint8(We++,it.charCodeAt(0))),Array.from(V,it=>Se.setUint8(We++,it.charCodeAt(0))),Array.from(pe,it=>Se.setUint8(We++,it.charCodeAt(0)));var nt=new Uint8Array(Pe.byteLength+u.byteLength);return nt.set(new Uint8Array(Pe),0),nt.set(new Uint8Array(u),Pe.byteLength),nt.buffer}decode(a,s){if(this._isArrayBuffer(a))return s(this._binaryDecode(a));if("string"==typeof a){const u=JSON.parse(a),[g,D,I,R,F]=u;return s({join_ref:g,ref:D,topic:I,event:R,payload:F})}return s({})}_binaryDecode(a){const s=new DataView(a),u=s.getUint8(0),g=new TextDecoder;if(u===this.KINDS.userBroadcast)return this._decodeUserBroadcast(a,s,g)}_decodeUserBroadcast(a,s,u){const g=s.getUint8(1),D=s.getUint8(2),I=s.getUint8(3),R=s.getUint8(4);let F=this.HEADER_LENGTH+4;const V=u.decode(a.slice(F,F+g));F+=g;const W=u.decode(a.slice(F,F+D));F+=D;const pe=u.decode(a.slice(F,F+I));F+=I;const De=a.slice(F,a.byteLength),Pe=R===this.JSON_ENCODING?JSON.parse(u.decode(De)):De,Se={type:this.BROADCAST_EVENT,event:W,payload:Pe};return I>0&&(Se.meta=JSON.parse(pe)),{join_ref:null,ref:null,topic:V,event:this.BROADCAST_EVENT,payload:Se}}_isArrayBuffer(a){var s;return a instanceof ArrayBuffer||"ArrayBuffer"===(null===(s=a?.constructor)||void 0===s?void 0:s.name)}_pick(a,s){return a&&"object"==typeof a?Object.fromEntries(Object.entries(a).filter(([u])=>s.includes(u))):{}}}class Jt{constructor(a,s){this.callback=a,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Re=function(d){return d.abstime="abstime",d.bool="bool",d.date="date",d.daterange="daterange",d.float4="float4",d.float8="float8",d.int2="int2",d.int4="int4",d.int4range="int4range",d.int8="int8",d.int8range="int8range",d.json="json",d.jsonb="jsonb",d.money="money",d.numeric="numeric",d.oid="oid",d.reltime="reltime",d.text="text",d.time="time",d.timestamp="timestamp",d.timestamptz="timestamptz",d.timetz="timetz",d.tsrange="tsrange",d.tstzrange="tstzrange",d}(Re||{});const Kn=(d,a,s={})=>{var u;const g=null!==(u=s.skipTypes)&&void 0!==u?u:[];return a?Object.keys(a).reduce((D,I)=>(D[I]=Br(I,d,a,g),D),{}):{}},Br=(d,a,s,u)=>{const g=a.find(R=>R.name===d),D=g?.type,I=s[d];return D&&!u.includes(D)?Qo(D,I):gt(I)},Qo=(d,a)=>{if("_"===d.charAt(0)){const s=d.slice(1,d.length);return pr(a,s)}switch(d){case Re.bool:return Vt(a);case Re.float4:case Re.float8:case Re.int2:case Re.int4:case Re.int8:case Re.numeric:case Re.oid:return Ot(a);case Re.json:case Re.jsonb:return Mn(a);case Re.timestamp:return rr(a);default:return gt(a)}},gt=d=>d,Vt=d=>{switch(d){case"t":return!0;case"f":return!1;default:return d}},Ot=d=>{if("string"==typeof d){const a=parseFloat(d);if(!Number.isNaN(a))return a}return d},Mn=d=>{if("string"==typeof d)try{return JSON.parse(d)}catch(a){return console.log(`JSON parse error: ${a}`),d}return d},pr=(d,a)=>{if("string"!=typeof d)return d;const s=d.length-1;if("{"===d[0]&&"}"===d[s]){let D;const I=d.slice(1,s);try{D=JSON.parse("["+I+"]")}catch{D=I?I.split(","):[]}return D.map(R=>Qo(a,R))}return d},rr=d=>"string"==typeof d?d.replace(" ","T"):d,Cr=d=>{const a=new URL(d);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname=""===a.pathname||"/"===a.pathname?"/api/broadcast":a.pathname+"/api/broadcast",a.href};class xn{constructor(a,s,u={},g=1e4){this.channel=a,this.event=s,this.payload=u,this.timeout=g,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,s){var u;return this._hasReceived(a)&&s(null===(u=this.receivedResp)||void 0===u?void 0:u.response),this.recHooks.push({status:a,callback:s}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(a,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:s}){this.recHooks.filter(u=>u.status===a).forEach(u=>u.callback(s))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}class en{constructor(a,s){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const u=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(u.state,{},g=>{const{onJoin:D,onLeave:I,onSync:R}=this.caller;this.joinRef=this.channel._joinRef(),this.state=en.syncState(this.state,g,D,I),this.pendingDiffs.forEach(F=>{this.state=en.syncDiff(this.state,F,D,I)}),this.pendingDiffs=[],R()}),this.channel._on(u.diff,{},g=>{const{onJoin:D,onLeave:I,onSync:R}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(g):(this.state=en.syncDiff(this.state,g,D,I),R())}),this.onJoin((g,D,I)=>{this.channel._trigger("presence",{event:"join",key:g,currentPresences:D,newPresences:I})}),this.onLeave((g,D,I)=>{this.channel._trigger("presence",{event:"leave",key:g,currentPresences:D,leftPresences:I})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,s,u,g){const D=this.cloneDeep(a),I=this.transformState(s),R={},F={};return this.map(D,(V,W)=>{I[V]||(F[V]=W)}),this.map(I,(V,W)=>{const pe=D[V];if(pe){const De=W.map(nt=>nt.presence_ref),Pe=pe.map(nt=>nt.presence_ref),Se=W.filter(nt=>Pe.indexOf(nt.presence_ref)<0),We=pe.filter(nt=>De.indexOf(nt.presence_ref)<0);Se.length>0&&(R[V]=Se),We.length>0&&(F[V]=We)}else R[V]=W}),this.syncDiff(D,{joins:R,leaves:F},u,g)}static syncDiff(a,s,u,g){const{joins:D,leaves:I}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return u||(u=()=>{}),g||(g=()=>{}),this.map(D,(R,F)=>{var V;const W=null!==(V=a[R])&&void 0!==V?V:[];if(a[R]=this.cloneDeep(F),W.length>0){const pe=a[R].map(Pe=>Pe.presence_ref),De=W.filter(Pe=>pe.indexOf(Pe.presence_ref)<0);a[R].unshift(...De)}u(R,W,F)}),this.map(I,(R,F)=>{let V=a[R];if(!V)return;const W=F.map(pe=>pe.presence_ref);V=V.filter(pe=>W.indexOf(pe.presence_ref)<0),a[R]=V,g(R,V,F),0===V.length&&delete a[R]}),a}static map(a,s){return Object.getOwnPropertyNames(a).map(u=>s(u,a[u]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((s,u)=>{const g=a[u];return s[u]="metas"in g?g.metas.map(D=>(D.presence_ref=D.phx_ref,delete D.phx_ref,delete D.phx_ref_prev,D)):g,s},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var zt=function(d){return d.BROADCAST="broadcast",d.PRESENCE="presence",d.POSTGRES_CHANGES="postgres_changes",d.SYSTEM="system",d}(zt||{}),yt=function(d){return d.SUBSCRIBED="SUBSCRIBED",d.TIMED_OUT="TIMED_OUT",d.CLOSED="CLOSED",d.CHANNEL_ERROR="CHANNEL_ERROR",d}(yt||{});class Bt{constructor(a,s={config:{}},u){var g,D;if(this.topic=a,this.params=s,this.socket=u,this.bindings={},this.state=Lt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new xn(this,fn.join,this.params,this.timeout),this.rejoinTimer=new Jt(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Lt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(I=>I.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Lt.closed,this.socket._remove(this)}),this._onError(I=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,I),this.state=Lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",I=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,I),this.state=Lt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(fn.reply,{},(I,R)=>{this._trigger(this._replyEventName(R),I)}),this.presence=new en(this),this.broadcastEndpointURL=Cr(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&null!==(D=null===(g=this.params.config)||void 0===g?void 0:g.broadcast)&&void 0!==D&&D.replay)throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,s=this.timeout){var g,D,I,u=this;if(this.socket.isConnected()||this.socket.connect(),this.state==Lt.closed){const{config:{broadcast:R,presence:F,private:V}}=this.params,W=null!==(D=null===(g=this.bindings.postgres_changes)||void 0===g?void 0:g.map(Se=>Se.filter))&&void 0!==D?D:[],pe=!!this.bindings[zt.PRESENCE]&&this.bindings[zt.PRESENCE].length>0||!0===(null===(I=this.params.config.presence)||void 0===I?void 0:I.enabled),De={},Pe={broadcast:R,presence:Object.assign(Object.assign({},F),{enabled:pe}),postgres_changes:W,private:V};this.socket.accessTokenValue&&(De.access_token=this.socket.accessTokenValue),this._onError(Se=>a?.(yt.CHANNEL_ERROR,Se)),this._onClose(()=>a?.(yt.CLOSED)),this.updateJoinPayload(Object.assign({config:Pe},De)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",function(){var Se=(0,G.A)(function*({postgres_changes:We}){var nt;if(u.socket.setAuth(),void 0!==We){const it=u.bindings.postgres_changes,Yt=null!==(nt=it?.length)&&void 0!==nt?nt:0,sn=[];for(let Ct=0;Ct<Yt;Ct++){const mt=it[Ct],{filter:{event:Fn,schema:oo,table:On,filter:Wn}}=mt,ls=We&&We[Ct];if(!ls||ls.event!==Fn||ls.schema!==oo||ls.table!==On||ls.filter!==Wn)return u.unsubscribe(),u.state=Lt.errored,void a?.(yt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));sn.push(Object.assign(Object.assign({},mt),{id:ls.id}))}return u.bindings.postgres_changes=sn,void(a&&a(yt.SUBSCRIBED))}a?.(yt.SUBSCRIBED)});return function(We){return Se.apply(this,arguments)}}()).receive("error",Se=>{this.state=Lt.errored,a?.(yt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(Se).join(", ")||"error")))}).receive("timeout",()=>{a?.(yt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(a){var s=this;return(0,G.A)(function*(u,g={}){return yield s.send({type:"presence",event:"track",payload:u},g.timeout||s.timeout)}).apply(this,arguments)}untrack(){var a=this;return(0,G.A)(function*(s={}){return yield a.send({type:"presence",event:"untrack"},s)}).apply(this,arguments)}on(a,s,u){return this.state===Lt.joined&&a===zt.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(a,s,u)}httpSend(a,s){var u=this;return(0,G.A)(function*(g,D,I={}){var R;const F=u.socket.accessTokenValue?`Bearer ${u.socket.accessTokenValue}`:"";if(null==D)return Promise.reject("Payload is required for httpSend()");const V={method:"POST",headers:{Authorization:F,apikey:u.socket.apiKey?u.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:u.subTopic,event:g,payload:D,private:u.private}]})},W=yield u._fetchWithTimeout(u.broadcastEndpointURL,V,null!==(R=I.timeout)&&void 0!==R?R:u.timeout);if(202===W.status)return{success:!0};let pe=W.statusText;try{const De=yield W.json();pe=De.error||De.message||pe}catch{}return Promise.reject(new Error(pe))}).apply(this,arguments)}send(a){var s=this;return(0,G.A)(function*(u,g={}){var D,I;if(s._canPush()||"broadcast"!==u.type)return new Promise(R=>{var F,V,W;const pe=s._push(u.type,u,g.timeout||s.timeout);"broadcast"===u.type&&!(null!==(W=null===(V=null===(F=s.params)||void 0===F?void 0:F.config)||void 0===V?void 0:V.broadcast)&&void 0!==W&&W.ack)&&R("ok"),pe.receive("ok",()=>R("ok")),pe.receive("error",()=>R("error")),pe.receive("timeout",()=>R("timed out"))});{console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:R,payload:F}=u,W={method:"POST",headers:{Authorization:s.socket.accessTokenValue?`Bearer ${s.socket.accessTokenValue}`:"",apikey:s.socket.apiKey?s.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:s.subTopic,event:R,payload:F,private:s.private}]})};try{const pe=yield s._fetchWithTimeout(s.broadcastEndpointURL,W,null!==(D=g.timeout)&&void 0!==D?D:s.timeout);return yield null===(I=pe.body)||void 0===I?void 0:I.cancel(),pe.ok?"ok":"error"}catch(pe){return"AbortError"===pe.name?"timed out":"error"}}}).apply(this,arguments)}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=Lt.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(fn.close,"leave",this._joinRef())};this.joinPush.destroy();let u=null;return new Promise(g=>{u=new xn(this,fn.leave,{},a),u.receive("ok",()=>{s(),g("ok")}).receive("timeout",()=>{s(),g("timed out")}).receive("error",()=>{g("error")}),u.send(),this._canPush()||u.trigger("ok",{})}).finally(()=>{u?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Lt.closed,this.bindings={}}_fetchWithTimeout(a,s,u){var g=this;return(0,G.A)(function*(){const D=new AbortController,I=setTimeout(()=>D.abort(),u),R=yield g.socket.fetch(a,Object.assign(Object.assign({},s),{signal:D.signal}));return clearTimeout(I),R})()}_push(a,s,u=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let g=new xn(this,a,s,u);return this._canPush()?g.send():this._addToPushBuffer(g),g}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>100){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(a,s,u){return s}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,s,u){var g,D;const I=a.toLocaleLowerCase(),{close:R,error:F,leave:V,join:W}=fn;if(u&&[R,F,V,W].indexOf(I)>=0&&u!==this._joinRef())return;let De=this._onMessage(I,s,u);if(s&&!De)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(I)?null===(g=this.bindings.postgres_changes)||void 0===g||g.filter(Pe=>{var Se,We,nt;return"*"===(null===(Se=Pe.filter)||void 0===Se?void 0:Se.event)||(null===(nt=null===(We=Pe.filter)||void 0===We?void 0:We.event)||void 0===nt?void 0:nt.toLocaleLowerCase())===I}).map(Pe=>Pe.callback(De,u)):null===(D=this.bindings[I])||void 0===D||D.filter(Pe=>{var Se,We,nt,it,Yt,sn;if(["broadcast","presence","postgres_changes"].includes(I)){if("id"in Pe){const Ct=Pe.id,mt=null===(Se=Pe.filter)||void 0===Se?void 0:Se.event;return Ct&&(null===(We=s.ids)||void 0===We?void 0:We.includes(Ct))&&("*"===mt||mt?.toLocaleLowerCase()===(null===(nt=s.data)||void 0===nt?void 0:nt.type.toLocaleLowerCase()))}{const Ct=null===(Yt=null===(it=Pe?.filter)||void 0===it?void 0:it.event)||void 0===Yt?void 0:Yt.toLocaleLowerCase();return"*"===Ct||Ct===(null===(sn=s?.event)||void 0===sn?void 0:sn.toLocaleLowerCase())}}return Pe.type.toLocaleLowerCase()===I}).map(Pe=>{if("object"==typeof De&&"ids"in De){const Se=De.data,{schema:We,table:nt,commit_timestamp:it,type:Yt,errors:sn}=Se;De=Object.assign(Object.assign({},{schema:We,table:nt,commit_timestamp:it,eventType:Yt,new:{},old:{},errors:sn}),this._getPayloadRecords(Se))}Pe.callback(De,u)})}_isClosed(){return this.state===Lt.closed}_isJoined(){return this.state===Lt.joined}_isJoining(){return this.state===Lt.joining}_isLeaving(){return this.state===Lt.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,s,u){const g=a.toLocaleLowerCase(),D={type:g,filter:s,callback:u};return this.bindings[g]?this.bindings[g].push(D):this.bindings[g]=[D],this}_off(a,s){const u=a.toLocaleLowerCase();return this.bindings[u]&&(this.bindings[u]=this.bindings[u].filter(g=>{var D;return!((null===(D=g.type)||void 0===D?void 0:D.toLocaleLowerCase())===u&&Bt.isEqual(g.filter,s))})),this}static isEqual(a,s){if(Object.keys(a).length!==Object.keys(s).length)return!1;for(const u in a)if(a[u]!==s[u])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(fn.close,{},a)}_onError(a){this._on(fn.error,{},s=>a(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Lt.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const s={new:{},old:{}};return("INSERT"===a.type||"UPDATE"===a.type)&&(s.new=Kn(a.columns,a.record)),("UPDATE"===a.type||"DELETE"===a.type)&&(s.old=Kn(a.columns,a.old_record)),s}}const dn=()=>{},zr=[1e3,2e3,5e3,1e4];class gr{constructor(a,s){var u;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.transport=null,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=dn,this.ref=0,this.reconnectTimer=null,this.vsn="1.0.0",this.logger=dn,this.conn=null,this.sendBuffer=[],this.serializer=new st,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=g=>g?(...D)=>g(...D):(...D)=>fetch(...D),null===(u=s?.params)||void 0===u||!u.apikey)throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${a}/${vt.websocket}`,this.httpEndpoint=Cr(a),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=se.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const s=a.message;throw s.includes("Node.js")?new Error(`${s}\n\nTo use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const u=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(u),this._setConnectionState("disconnected")},"function"==typeof this.conn.close&&(a?this.conn.close(a,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(a){var s=this;return(0,G.A)(function*(){const u=yield a.unsubscribe();return 0===s.channels.length&&s.disconnect(),u})()}removeAllChannels(){var a=this;return(0,G.A)(function*(){const s=yield Promise.all(a.channels.map(u=>u.unsubscribe()));return a.channels=[],a.disconnect(),s})()}log(a,s,u){this.logger(a,s,u)}connectionState(){switch(this.conn&&this.conn.readyState){case Gt.connecting:return cn.Connecting;case Gt.open:return cn.Open;case Gt.closing:return cn.Closing;default:return cn.Closed}}isConnected(){return this.connectionState()===cn.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(a,s={config:{}}){const u=`realtime:${a}`,g=this.getChannels().find(D=>D.topic===u);if(g)return g;{const D=new Bt(`realtime:${a}`,s,this);return this.channels.push(D),D}}push(a){const{topic:s,event:u,payload:g,ref:D}=a,I=()=>{this.encode(a,R=>{var F;null===(F=this.conn)||void 0===F||F.send(R)})};this.log("push",`${s} ${u} (${D})`,g),this.isConnected()?I():this.sendBuffer.push(I)}setAuth(){var a=this;return(0,G.A)(function*(s=null){a._authPromise=a._performAuth(s);try{yield a._authPromise}finally{a._authPromise=null}}).apply(this,arguments)}sendHeartbeat(){var a=this;return(0,G.A)(function*(){var s;if(a.isConnected()){if(a.pendingHeartbeatRef){a.pendingHeartbeatRef=null,a.log("transport","heartbeat timeout. Attempting to re-establish connection");try{a.heartbeatCallback("timeout")}catch(u){a.log("error","error in heartbeat callback",u)}return a._wasManualDisconnect=!1,null===(s=a.conn)||void 0===s||s.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var u;a.isConnected()||null===(u=a.reconnectTimer)||void 0===u||u.scheduleTimeout()},100)}a.pendingHeartbeatRef=a._makeRef(),a.push({topic:"phoenix",event:"heartbeat",payload:{},ref:a.pendingHeartbeatRef});try{a.heartbeatCallback("sent")}catch(u){a.log("error","error in heartbeat callback",u)}a._setAuthSafely("heartbeat")}else try{a.heartbeatCallback("disconnected")}catch(u){a.log("error","error in heartbeat callback",u)}})()}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return this.ref=a===this.ref?0:a,this.ref.toString()}_leaveOpenTopic(a){let s=this.channels.find(u=>u.topic===a&&(u._isJoined()||u._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${a}"`),s.unsubscribe())}_remove(a){this.channels=this.channels.filter(s=>s.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,s=>{if("phoenix"===s.topic&&"phx_reply"===s.event)try{this.heartbeatCallback("ok"===s.payload.status?"ok":"error")}catch(V){this.log("error","error in heartbeat callback",V)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:u,event:g,payload:D,ref:I}=s;this.log("receive",`${D.status||""} ${u} ${g} ${I?`(${I})`:""}`.trim(),D),this.channels.filter(V=>V._isMember(u)).forEach(V=>V._trigger(g,D,I)),this._triggerStateCallbacks("message",s)})}_clearTimer(a){var s;"heartbeat"===a&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===a&&(null===(s=this.reconnectTimer)||void 0===s||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Gt.open||this.conn.readyState===Gt.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.log("worker",this.workerUrl?`starting worker for from ${this.workerUrl}`:"starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{"keepAlive"===s.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(a){var s;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(s=this.reconnectTimer)||void 0===s||s.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(fn.error))}_appendParams(a,s){if(0===Object.keys(s).length)return a;const u=a.match(/\?/)?"&":"?";return`${a}${u}${new URLSearchParams(s)}`}_workerObjectUrl(a){let s;if(a)s=a;else{const u=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});s=URL.createObjectURL(u)}return s}_setConnectionState(a,s=!1){this._connectionState=a,"connecting"===a?this._wasManualDisconnect=!1:"disconnecting"===a&&(this._wasManualDisconnect=s)}_performAuth(){var a=this;return(0,G.A)(function*(s=null){let u;u=s||(a.accessToken?yield a.accessToken():a.accessTokenValue),a.accessTokenValue!=u&&(a.accessTokenValue=u,a.channels.forEach(g=>{u&&g.updateJoinPayload({access_token:u,version:"realtime-js/2.86.0"}),g.joinedOnce&&g._isJoined()&&g._push(fn.access_token,{access_token:u})}))}).apply(this,arguments)}_waitForAuthIfNeeded(){var a=this;return(0,G.A)(function*(){a._authPromise&&(yield a._authPromise)})()}_setAuthSafely(a="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${a}`,s)})}_triggerStateCallbacks(a,s){try{this.stateChangeCallbacks[a].forEach(u=>{try{u(s)}catch(g){this.log("error",`error in ${a} callback`,g)}})}catch(u){this.log("error",`error triggering ${a} callbacks`,u)}}_setupReconnectionTimer(){var a=this;this.reconnectTimer=new Jt((0,G.A)(function*(){setTimeout((0,G.A)(function*(){yield a._waitForAuthIfNeeded(),a.isConnected()||a.connect()}),10)}),this.reconnectAfterMs)}_initializeOptions(a){var s,u,g,D,I,R,F,V,W,pe,De,Pe;switch(this.transport=null!==(s=a?.transport)&&void 0!==s?s:null,this.timeout=null!==(u=a?.timeout)&&void 0!==u?u:1e4,this.heartbeatIntervalMs=null!==(g=a?.heartbeatIntervalMs)&&void 0!==g?g:25e3,this.worker=null!==(D=a?.worker)&&void 0!==D&&D,this.accessToken=null!==(I=a?.accessToken)&&void 0!==I?I:null,this.heartbeatCallback=null!==(R=a?.heartbeatCallback)&&void 0!==R?R:dn,this.vsn=null!==(F=a?.vsn)&&void 0!==F?F:"1.0.0",a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(V=a?.reconnectAfterMs)&&void 0!==V?V:Se=>zr[Se-1]||1e4,this.vsn){case"1.0.0":this.encode=null!==(W=a?.encode)&&void 0!==W?W:(Se,We)=>We(JSON.stringify(Se)),this.decode=null!==(pe=a?.decode)&&void 0!==pe?pe:(Se,We)=>We(JSON.parse(Se));break;case"2.0.0":this.encode=null!==(De=a?.encode)&&void 0!==De?De:this.serializer.encode.bind(this.serializer),this.decode=null!==(Pe=a?.decode)&&void 0!==Pe?Pe:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}class It extends Error{constructor(a){super(a),this.__isStorageError=!0,this.name="StorageError"}}function xt(d){return"object"==typeof d&&null!==d&&"__isStorageError"in d}class er extends It{constructor(a,s,u){super(a),this.name="StorageApiError",this.status=s,this.statusCode=u}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Wr extends It{constructor(a,s){super(a),this.name="StorageUnknownError",this.originalError=s}}const Pr=d=>d?(...a)=>d(...a):(...a)=>fetch(...a),re=d=>{if(Array.isArray(d))return d.map(s=>re(s));if("function"==typeof d||d!==Object(d))return d;const a={};return Object.entries(d).forEach(([s,u])=>{const g=s.replace(/([-_][a-z])/gi,D=>D.toUpperCase().replace(/[-_]/g,""));a[g]=re(u)}),a},ve=d=>{var a;return d.msg||d.message||d.error_description||("string"==typeof d.error?d.error:null===(a=d.error)||void 0===a?void 0:a.message)||JSON.stringify(d)},Ze=(d,a,s)=>(0,Ne.__awaiter)(void 0,void 0,void 0,function*(){const u=yield Response;d instanceof u&&!s?.noResolveJson?d.json().then(g=>{const D=d.status||500,I=g?.statusCode||D+"";a(new er(ve(g),D,I))}).catch(g=>{a(new Wr(ve(g),g))}):a(new Wr(ve(d),d))}),lt=(d,a,s,u)=>{const g={method:d,headers:a?.headers||{}};return"GET"!==d&&u?((d=>{if("object"!=typeof d||null===d)return!1;const a=Object.getPrototypeOf(d);return!(null!==a&&a!==Object.prototype&&null!==Object.getPrototypeOf(a)||Symbol.toStringTag in d||Symbol.iterator in d)})(u)?(g.headers=Object.assign({"Content-Type":"application/json"},a?.headers),g.body=JSON.stringify(u)):g.body=u,a?.duplex&&(g.duplex=a.duplex),Object.assign(Object.assign({},g),s)):g};function jt(d,a,s,u,g,D){return(0,Ne.__awaiter)(this,void 0,void 0,function*(){return new Promise((I,R)=>{d(s,lt(a,u,g,D)).then(F=>{if(!F.ok)throw F;return u?.noResolveJson?F:F.json()}).then(F=>I(F)).catch(F=>Ze(F,R,u))})})}function Rt(d,a,s,u){return(0,Ne.__awaiter)(this,void 0,void 0,function*(){return jt(d,"GET",a,s,u)})}function Qt(d,a,s,u,g){return(0,Ne.__awaiter)(this,void 0,void 0,function*(){return jt(d,"POST",a,u,g,s)})}function mr(d,a,s,u,g){return(0,Ne.__awaiter)(this,void 0,void 0,function*(){return jt(d,"PUT",a,u,g,s)})}function Yr(d,a,s,u,g){return(0,Ne.__awaiter)(this,void 0,void 0,function*(){return jt(d,"DELETE",a,u,g,s)})}class te{constructor(a,s){this.downloadFn=a,this.shouldThrowOnError=s}then(a,s){return this.execute().then(a,s)}execute(){return(0,Ne.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(xt(a))return{data:null,error:a};throw a}})}}var z;z=Symbol.toStringTag;const $e={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},je={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ue{constructor(a,s={},u,g){this.shouldThrowOnError=!1,this.url=a,this.headers=s,this.bucketId=u,this.fetch=Pr(g)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(a,s,u,g){return(0,Ne.__awaiter)(this,void 0,void 0,function*(){try{let D;const I=Object.assign(Object.assign({},je),g);let R=Object.assign(Object.assign({},this.headers),"POST"===a&&{"x-upsert":String(I.upsert)});const F=I.metadata;typeof Blob<"u"&&u instanceof Blob?(D=new FormData,D.append("cacheControl",I.cacheControl),F&&D.append("metadata",this.encodeMetadata(F)),D.append("",u)):typeof FormData<"u"&&u instanceof FormData?(D=u,D.has("cacheControl")||D.append("cacheControl",I.cacheControl),F&&!D.has("metadata")&&D.append("metadata",this.encodeMetadata(F))):(D=u,R["cache-control"]=`max-age=${I.cacheControl}`,R["content-type"]=I.contentType,F&&(R["x-metadata"]=this.toBase64(this.encodeMetadata(F))),(typeof ReadableStream<"u"&&D instanceof ReadableStream||D&&"object"==typeof D&&"pipe"in D&&"function"==typeof D.pipe)&&!I.duplex&&(I.duplex="half")),g?.headers&&(R=Object.assign(Object.assign({},R),g.headers));const V=this._removeEmptyFolders(s),W=this._getFinalPath(V),pe=yield("PUT"==a?mr:Qt)(this.fetch,`${this.url}/object/${W}`,D,Object.assign({headers:R},I?.duplex?{duplex:I.duplex}:{}));return{data:{path:V,id:pe.Id,fullPath:pe.Key},error:null}}catch(D){if(this.shouldThrowOnError)throw D;if(xt(D))return{data:null,error:D};throw D}})}upload(a,s,u){return(0,Ne.__awaiter)(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",a,s,u)})}uploadToSignedUrl(a,s,u,g){return(0,Ne.__awaiter)(this,void 0,void 0,function*(){const D=this._removeEmptyFolders(a),I=this._getFinalPath(D),R=new URL(this.url+`/object/upload/sign/${I}`);R.searchParams.set("token",s);try{let F;const V=Object.assign({upsert:je.upsert},g),W=Object.assign(Object.assign({},this.headers),{"x-upsert":String(V.upsert)});return typeof Blob<"u"&&u instanceof Blob?(F=new FormData,F.append("cacheControl",V.cacheControl),F.append("",u)):typeof FormData<"u"&&u instanceof FormData?(F=u,F.append("cacheControl",V.cacheControl)):(F=u,W["cache-control"]=`max-age=${V.cacheControl}`,W["content-type"]=V.contentType),{data:{path:D,fullPath:(yield mr(this.fetch,R.toString(),F,{headers:W})).Key},error:null}}catch(F){if(this.shouldThrowOnError)throw F;if(xt(F))return{data:null,error:F};throw F}})}createSignedUploadUrl(a,s){return(0,Ne.__awaiter)(this,void 0,void 0,function*(){try{let u=this._getFinalPath(a);const g=Object.assign({},this.headers);s?.upsert&&(g["x-upsert"]="true");const D=yield Qt(this.fetch,`${this.url}/object/upload/sign/${u}`,{},{headers:g}),I=new URL(this.url+D.url),R=I.searchParams.get("token");if(!R)throw new It("No token returned by API");return{data:{signedUrl:I.toString(),path:a,token:R},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(xt(u))return{data:null,error:u};throw u}})}update(a,s,u){return(0,Ne.__awaiter)(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",a,s,u)})}move(a,s,u){return(0,Ne.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:a,destinationKey:s,destinationBucket:u?.destinationBucket},{headers:this.headers}),error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(xt(g))return{data:null,error:g};throw g}})}copy(a,s,u){return(0,Ne.__awaiter)(this,void 0,void 0,function*(){try{return{data:{path:(yield Qt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:a,destinationKey:s,destinationBucket:u?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(xt(g))return{data:null,error:g};throw g}})}createSignedUrl(a,s,u){return(0,Ne.__awaiter)(this,void 0,void 0,function*(){try{let g=this._getFinalPath(a),D=yield Qt(this.fetch,`${this.url}/object/sign/${g}`,Object.assign({expiresIn:s},u?.transform?{transform:u.transform}:{}),{headers:this.headers});const I=u?.download?`&download=${!0===u.download?"":u.download}`:"";return D={signedUrl:encodeURI(`${this.url}${D.signedURL}${I}`)},{data:D,error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(xt(g))return{data:null,error:g};throw g}})}createSignedUrls(a,s,u){return(0,Ne.__awaiter)(this,void 0,void 0,function*(){try{const g=yield Qt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:a},{headers:this.headers}),D=u?.download?`&download=${!0===u.download?"":u.download}`:"";return{data:g.map(I=>Object.assign(Object.assign({},I),{signedUrl:I.signedURL?encodeURI(`${this.url}${I.signedURL}${D}`):null})),error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(xt(g))return{data:null,error:g};throw g}})}download(a,s){const g=typeof s?.transform<"u"?"render/image/authenticated":"object",D=this.transformOptsToQueryString(s?.transform||{}),I=D?`?${D}`:"",R=this._getFinalPath(a);return new class X{constructor(a,s){this.downloadFn=a,this.shouldThrowOnError=s,this[z]="BlobDownloadBuilder",this.promise=null}asStream(){return new te(this.downloadFn,this.shouldThrowOnError)}then(a,s){return this.getPromise().then(a,s)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return(0,Ne.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(xt(a))return{data:null,error:a};throw a}})}}(()=>Rt(this.fetch,`${this.url}/${g}/${R}${I}`,{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}info(a){return(0,Ne.__awaiter)(this,void 0,void 0,function*(){const s=this._getFinalPath(a);try{const u=yield Rt(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:re(u),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(xt(u))return{data:null,error:u};throw u}})}exists(a){return(0,Ne.__awaiter)(this,void 0,void 0,function*(){const s=this._getFinalPath(a);try{return yield function Ln(d,a,s,u){return(0,Ne.__awaiter)(this,void 0,void 0,function*(){return jt(d,"HEAD",a,Object.assign(Object.assign({},s),{noResolveJson:!0}),u)})}(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(xt(u)&&u instanceof Wr){const g=u.originalError;if([400,404].includes(g?.status))return{data:!1,error:u}}throw u}})}getPublicUrl(a,s){const u=this._getFinalPath(a),g=[],D=s?.download?`download=${!0===s.download?"":s.download}`:"";""!==D&&g.push(D);const R=typeof s?.transform<"u"?"render/image":"object",F=this.transformOptsToQueryString(s?.transform||{});""!==F&&g.push(F);let V=g.join("&");return""!==V&&(V=`?${V}`),{data:{publicUrl:encodeURI(`${this.url}/${R}/public/${u}${V}`)}}}remove(a){return(0,Ne.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Yr(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:a},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(xt(s))return{data:null,error:s};throw s}})}list(a,s,u){return(0,Ne.__awaiter)(this,void 0,void 0,function*(){try{const g=Object.assign(Object.assign(Object.assign({},$e),s),{prefix:a||""});return{data:yield Qt(this.fetch,`${this.url}/object/list/${this.bucketId}`,g,{headers:this.headers},u),error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(xt(g))return{data:null,error:g};throw g}})}listV2(a,s){return(0,Ne.__awaiter)(this,void 0,void 0,function*(){try{const u=Object.assign({},a);return{data:yield Qt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,u,{headers:this.headers},s),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(xt(u))return{data:null,error:u};throw u}})}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const s=[];return a.width&&s.push(`width=${a.width}`),a.height&&s.push(`height=${a.height}`),a.resize&&s.push(`resize=${a.resize}`),a.format&&s.push(`format=${a.format}`),a.quality&&s.push(`quality=${a.quality}`),s.join("&")}}const _t={"X-Client-Info":"storage-js/2.86.0"};class Pn{constructor(a,s={},u,g){this.shouldThrowOnError=!1;const D=new URL(a);g?.useNewHostname&&/supabase\.(co|in|red)$/.test(D.hostname)&&!D.hostname.includes("storage.supabase.")&&(D.hostname=D.hostname.replace("supabase.","storage.supabase.")),this.url=D.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_t),s),this.fetch=Pr(u)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(a){return(0,Ne.__awaiter)(this,void 0,void 0,function*(){try{const s=this.listBucketOptionsToQueryString(a);return{data:yield Rt(this.fetch,`${this.url}/bucket${s}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(xt(s))return{data:null,error:s};throw s}})}getBucket(a){return(0,Ne.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Rt(this.fetch,`${this.url}/bucket/${a}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(xt(s))return{data:null,error:s};throw s}})}createBucket(a){return(0,Ne.__awaiter)(this,arguments,void 0,function*(s,u={public:!1}){try{return{data:yield Qt(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:u.type,public:u.public,file_size_limit:u.fileSizeLimit,allowed_mime_types:u.allowedMimeTypes},{headers:this.headers}),error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(xt(g))return{data:null,error:g};throw g}})}updateBucket(a,s){return(0,Ne.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield mr(this.fetch,`${this.url}/bucket/${a}`,{id:a,name:a,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(xt(u))return{data:null,error:u};throw u}})}emptyBucket(a){return(0,Ne.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/bucket/${a}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(xt(s))return{data:null,error:s};throw s}})}deleteBucket(a){return(0,Ne.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Yr(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(xt(s))return{data:null,error:s};throw s}})}listBucketOptionsToQueryString(a){const s={};return a&&("limit"in a&&(s.limit=String(a.limit)),"offset"in a&&(s.offset=String(a.offset)),a.search&&(s.search=a.search),a.sortColumn&&(s.sortColumn=a.sortColumn),a.sortOrder&&(s.sortOrder=a.sortOrder)),Object.keys(s).length>0?"?"+new URLSearchParams(s).toString():""}}var jn=class extends Error{constructor(d,a){super(d),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown="CommitStateUnknownException"===a.icebergType||[500,502,504].includes(a.status)&&!0===a.icebergType?.includes("CommitState")}isNotFound(){return 404===this.status}isConflict(){return 409===this.status}isAuthenticationTimeout(){return 419===this.status}};function Zr(){return(Zr=(0,G.A)(function*(d){return d&&"none"!==d.type?"bearer"===d.type?{Authorization:`Bearer ${d.token}`}:"header"===d.type?{[d.name]:d.value}:"custom"===d.type?yield d.getHeaders():{}:{}})).apply(this,arguments)}function Kt(d){return d.join("\x1f")}function wn(d){return d.join("\x1f")}class sr{constructor(a,s={},u){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_t),s),this.fetch=Pr(u)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return(0,Ne.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/bucket`,{name:a},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(xt(s))return{data:null,error:s};throw s}})}listBuckets(a){return(0,Ne.__awaiter)(this,void 0,void 0,function*(){try{const s=new URLSearchParams;void 0!==a?.limit&&s.set("limit",a.limit.toString()),void 0!==a?.offset&&s.set("offset",a.offset.toString()),a?.sortColumn&&s.set("sortColumn",a.sortColumn),a?.sortOrder&&s.set("sortOrder",a.sortOrder),a?.search&&s.set("search",a.search);const u=s.toString(),g=u?`${this.url}/bucket?${u}`:`${this.url}/bucket`;return{data:yield Rt(this.fetch,g,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(xt(s))return{data:null,error:s};throw s}})}deleteBucket(a){return(0,Ne.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Yr(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(xt(s))return{data:null,error:s};throw s}})}from(a){if(!(d=a)||"string"!=typeof d||0===d.length||d.length>100||d.trim()!==d||d.includes("/")||d.includes("\\")||!/^[\w!.\*'() &$@=;:+,?-]+$/.test(d))throw new It("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");var d;return new class{constructor(d){let a="v1";d.catalogName&&(a+=`/${d.catalogName}`);const s=d.baseUrl.endsWith("/")?d.baseUrl:`${d.baseUrl}/`;this.client=function Vn(d){const a=d.fetchImpl??globalThis.fetch;return{request(s){return(0,G.A)(function*({method:u,path:g,query:D,body:I,headers:R}){const F=function Nn(d,a,s){const u=new URL(a,d);if(s)for(const[g,D]of Object.entries(s))void 0!==D&&u.searchParams.set(g,D);return u.toString()}(d.baseUrl,g,D),V=yield function Un(d){return Zr.apply(this,arguments)}(d.auth),W=yield a(F,{method:u,headers:{...I?{"Content-Type":"application/json"}:{},...V,...R},body:I?JSON.stringify(I):void 0}),pe=yield W.text(),De=(W.headers.get("content-type")||"").includes("application/json"),Pe=De&&pe?JSON.parse(pe):pe;if(!W.ok){const Se=De?Pe:void 0,We=Se?.error;throw new jn(We?.message??`Request failed with status ${W.status}`,{status:W.status,icebergType:We?.type,icebergCode:We?.code,details:Se})}return{status:W.status,headers:W.headers,data:Pe}}).apply(this,arguments)}}}({baseUrl:s,auth:d.auth,fetchImpl:d.fetch}),this.accessDelegation=d.accessDelegation?.join(","),this.namespaceOps=new class{constructor(d,a=""){this.client=d,this.prefix=a}listNamespaces(d){var a=this;return(0,G.A)(function*(){const s=d?{parent:Kt(d.namespace)}:void 0;return(yield a.client.request({method:"GET",path:`${a.prefix}/namespaces`,query:s})).data.namespaces.map(g=>({namespace:g}))})()}createNamespace(d,a){var s=this;return(0,G.A)(function*(){const u={namespace:d.namespace,properties:a?.properties};return(yield s.client.request({method:"POST",path:`${s.prefix}/namespaces`,body:u})).data})()}dropNamespace(d){var a=this;return(0,G.A)(function*(){yield a.client.request({method:"DELETE",path:`${a.prefix}/namespaces/${Kt(d.namespace)}`})})()}loadNamespaceMetadata(d){var a=this;return(0,G.A)(function*(){return{properties:(yield a.client.request({method:"GET",path:`${a.prefix}/namespaces/${Kt(d.namespace)}`})).data.properties}})()}namespaceExists(d){var a=this;return(0,G.A)(function*(){try{return yield a.client.request({method:"HEAD",path:`${a.prefix}/namespaces/${Kt(d.namespace)}`}),!0}catch(s){if(s instanceof jn&&404===s.status)return!1;throw s}})()}createNamespaceIfNotExists(d,a){var s=this;return(0,G.A)(function*(){try{return yield s.createNamespace(d,a)}catch(u){if(u instanceof jn&&409===u.status)return;throw u}})()}}(this.client,a),this.tableOps=new class{constructor(d,a="",s){this.client=d,this.prefix=a,this.accessDelegation=s}listTables(d){var a=this;return(0,G.A)(function*(){return(yield a.client.request({method:"GET",path:`${a.prefix}/namespaces/${wn(d.namespace)}/tables`})).data.identifiers})()}createTable(d,a){var s=this;return(0,G.A)(function*(){const u={};return s.accessDelegation&&(u["X-Iceberg-Access-Delegation"]=s.accessDelegation),(yield s.client.request({method:"POST",path:`${s.prefix}/namespaces/${wn(d.namespace)}/tables`,body:a,headers:u})).data.metadata})()}updateTable(d,a){var s=this;return(0,G.A)(function*(){const u=yield s.client.request({method:"POST",path:`${s.prefix}/namespaces/${wn(d.namespace)}/tables/${d.name}`,body:a});return{"metadata-location":u.data["metadata-location"],metadata:u.data.metadata}})()}dropTable(d,a){var s=this;return(0,G.A)(function*(){yield s.client.request({method:"DELETE",path:`${s.prefix}/namespaces/${wn(d.namespace)}/tables/${d.name}`,query:{purgeRequested:String(a?.purge??!1)}})})()}loadTable(d){var a=this;return(0,G.A)(function*(){const s={};return a.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=a.accessDelegation),(yield a.client.request({method:"GET",path:`${a.prefix}/namespaces/${wn(d.namespace)}/tables/${d.name}`,headers:s})).data.metadata})()}tableExists(d){var a=this;return(0,G.A)(function*(){const s={};a.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=a.accessDelegation);try{return yield a.client.request({method:"HEAD",path:`${a.prefix}/namespaces/${wn(d.namespace)}/tables/${d.name}`,headers:s}),!0}catch(u){if(u instanceof jn&&404===u.status)return!1;throw u}})()}createTableIfNotExists(d,a){var s=this;return(0,G.A)(function*(){try{return yield s.createTable(d,a)}catch(u){if(u instanceof jn&&409===u.status)return yield s.loadTable({namespace:d.namespace,name:a.name});throw u}})()}}(this.client,a,this.accessDelegation)}listNamespaces(d){var a=this;return(0,G.A)(function*(){return a.namespaceOps.listNamespaces(d)})()}createNamespace(d,a){var s=this;return(0,G.A)(function*(){return s.namespaceOps.createNamespace(d,a)})()}dropNamespace(d){var a=this;return(0,G.A)(function*(){yield a.namespaceOps.dropNamespace(d)})()}loadNamespaceMetadata(d){var a=this;return(0,G.A)(function*(){return a.namespaceOps.loadNamespaceMetadata(d)})()}listTables(d){var a=this;return(0,G.A)(function*(){return a.tableOps.listTables(d)})()}createTable(d,a){var s=this;return(0,G.A)(function*(){return s.tableOps.createTable(d,a)})()}updateTable(d,a){var s=this;return(0,G.A)(function*(){return s.tableOps.updateTable(d,a)})()}dropTable(d,a){var s=this;return(0,G.A)(function*(){yield s.tableOps.dropTable(d,a)})()}loadTable(d){var a=this;return(0,G.A)(function*(){return a.tableOps.loadTable(d)})()}namespaceExists(d){var a=this;return(0,G.A)(function*(){return a.namespaceOps.namespaceExists(d)})()}tableExists(d){var a=this;return(0,G.A)(function*(){return a.tableOps.tableExists(d)})()}createNamespaceIfNotExists(d,a){var s=this;return(0,G.A)(function*(){return s.namespaceOps.createNamespaceIfNotExists(d,a)})()}createTableIfNotExists(d,a){var s=this;return(0,G.A)(function*(){return s.tableOps.createTableIfNotExists(d,a)})()}}({baseUrl:this.url,catalogName:a,auth:{type:"custom",getHeaders:()=>(0,Ne.__awaiter)(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const to={"X-Client-Info":"storage-js/2.86.0","Content-Type":"application/json"};class ir extends Error{constructor(a){super(a),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function In(d){return"object"==typeof d&&null!==d&&"__isStorageVectorsError"in d}class wr extends ir{constructor(a,s,u){super(a),this.name="StorageVectorsApiError",this.status=s,this.statusCode=u}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class bo extends ir{constructor(a,s){super(a),this.name="StorageVectorsUnknownError",this.originalError=s}}const ar=d=>d?(...a)=>d(...a):(...a)=>fetch(...a),hs=d=>d.msg||d.message||d.error_description||d.error||JSON.stringify(d),vr=(d,a,s)=>(0,Ne.__awaiter)(void 0,void 0,void 0,function*(){if(d&&"object"==typeof d&&"status"in d&&"ok"in d&&"number"==typeof d.status&&!s?.noResolveJson){const g=d.status||500,D=d;"function"==typeof D.json?D.json().then(I=>{const R=I?.statusCode||I?.code||g+"";a(new wr(hs(I),g,R))}).catch(()=>{a(new wr(D.statusText||`HTTP ${g} error`,g,g+""))}):a(new wr(D.statusText||`HTTP ${g} error`,g,g+""))}else a(new bo(hs(d),d))}),ai=(d,a,s,u)=>{const g={method:d,headers:a?.headers||{}};return"GET"!==d&&u?((d=>{if("object"!=typeof d||null===d)return!1;const a=Object.getPrototypeOf(d);return!(null!==a&&a!==Object.prototype&&null!==Object.getPrototypeOf(a)||Symbol.toStringTag in d||Symbol.iterator in d)})(u)?(g.headers=Object.assign({"Content-Type":"application/json"},a?.headers),g.body=JSON.stringify(u)):g.body=u,Object.assign(Object.assign({},g),s)):g};function tr(d,a,s,u,g){return(0,Ne.__awaiter)(this,void 0,void 0,function*(){return function fs(d,a,s,u,g,D){return(0,Ne.__awaiter)(this,void 0,void 0,function*(){return new Promise((I,R)=>{d(s,ai(a,u,g,D)).then(F=>{if(!F.ok)throw F;if(u?.noResolveJson)return F;const V=F.headers.get("content-type");return V&&V.includes("application/json")?F.json():{}}).then(F=>I(F)).catch(F=>vr(F,R,u))})})}(d,"POST",a,u,g,s)})}class ps{constructor(a,s={},u){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},to),s),this.fetch=ar(u)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(a){return(0,Ne.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield tr(this.fetch,`${this.url}/CreateIndex`,a,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(In(s))return{data:null,error:s};throw s}})}getIndex(a,s){return(0,Ne.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:a,indexName:s},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(In(u))return{data:null,error:u};throw u}})}listIndexes(a){return(0,Ne.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/ListIndexes`,a,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(In(s))return{data:null,error:s};throw s}})}deleteIndex(a,s){return(0,Ne.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield tr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:a,indexName:s},{headers:this.headers}))||{},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(In(u))return{data:null,error:u};throw u}})}}class Ss{constructor(a,s={},u){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},to),s),this.fetch=ar(u)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(a){return(0,Ne.__awaiter)(this,void 0,void 0,function*(){try{if(a.vectors.length<1||a.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield tr(this.fetch,`${this.url}/PutVectors`,a,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(In(s))return{data:null,error:s};throw s}})}getVectors(a){return(0,Ne.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/GetVectors`,a,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(In(s))return{data:null,error:s};throw s}})}listVectors(a){return(0,Ne.__awaiter)(this,void 0,void 0,function*(){try{if(void 0!==a.segmentCount){if(a.segmentCount<1||a.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(void 0!==a.segmentIndex&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw new Error("segmentIndex must be between 0 and "+(a.segmentCount-1))}return{data:yield tr(this.fetch,`${this.url}/ListVectors`,a,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(In(s))return{data:null,error:s};throw s}})}queryVectors(a){return(0,Ne.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/QueryVectors`,a,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(In(s))return{data:null,error:s};throw s}})}deleteVectors(a){return(0,Ne.__awaiter)(this,void 0,void 0,function*(){try{if(a.keys.length<1||a.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield tr(this.fetch,`${this.url}/DeleteVectors`,a,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(In(s))return{data:null,error:s};throw s}})}}class Hs{constructor(a,s={},u){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},to),s),this.fetch=ar(u)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return(0,Ne.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield tr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(In(s))return{data:null,error:s};throw s}})}getBucket(a){return(0,Ne.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:a},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(In(s))return{data:null,error:s};throw s}})}listBuckets(){return(0,Ne.__awaiter)(this,arguments,void 0,function*(a={}){try{return{data:yield tr(this.fetch,`${this.url}/ListVectorBuckets`,a,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(In(s))return{data:null,error:s};throw s}})}deleteBucket(a){return(0,Ne.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield tr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(In(s))return{data:null,error:s};throw s}})}}class gs extends Hs{constructor(a,s={}){super(a,s.headers||{},s.fetch)}from(a){return new Ms(this.url,this.headers,a,this.fetch)}createBucket(a){const s=Object.create(null,{createBucket:{get:()=>super.createBucket}});return(0,Ne.__awaiter)(this,void 0,void 0,function*(){return s.createBucket.call(this,a)})}getBucket(a){const s=Object.create(null,{getBucket:{get:()=>super.getBucket}});return(0,Ne.__awaiter)(this,void 0,void 0,function*(){return s.getBucket.call(this,a)})}listBuckets(){const a=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return(0,Ne.__awaiter)(this,arguments,void 0,function*(s={}){return a.listBuckets.call(this,s)})}deleteBucket(a){const s=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return(0,Ne.__awaiter)(this,void 0,void 0,function*(){return s.deleteBucket.call(this,a)})}}class Ms extends ps{constructor(a,s,u,g){super(a,s,g),this.vectorBucketName=u}createIndex(a){const s=Object.create(null,{createIndex:{get:()=>super.createIndex}});return(0,Ne.__awaiter)(this,void 0,void 0,function*(){return s.createIndex.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const a=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return(0,Ne.__awaiter)(this,arguments,void 0,function*(s={}){return a.listIndexes.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName}))})}getIndex(a){const s=Object.create(null,{getIndex:{get:()=>super.getIndex}});return(0,Ne.__awaiter)(this,void 0,void 0,function*(){return s.getIndex.call(this,this.vectorBucketName,a)})}deleteIndex(a){const s=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return(0,Ne.__awaiter)(this,void 0,void 0,function*(){return s.deleteIndex.call(this,this.vectorBucketName,a)})}index(a){return new Is(this.url,this.headers,this.vectorBucketName,a,this.fetch)}}class Is extends Ss{constructor(a,s,u,g,D){super(a,s,D),this.vectorBucketName=u,this.indexName=g}putVectors(a){const s=Object.create(null,{putVectors:{get:()=>super.putVectors}});return(0,Ne.__awaiter)(this,void 0,void 0,function*(){return s.putVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(a){const s=Object.create(null,{getVectors:{get:()=>super.getVectors}});return(0,Ne.__awaiter)(this,void 0,void 0,function*(){return s.getVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const a=Object.create(null,{listVectors:{get:()=>super.listVectors}});return(0,Ne.__awaiter)(this,arguments,void 0,function*(s={}){return a.listVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(a){const s=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return(0,Ne.__awaiter)(this,void 0,void 0,function*(){return s.queryVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(a){const s=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return(0,Ne.__awaiter)(this,void 0,void 0,function*(){return s.deleteVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Yo extends Pn{constructor(a,s={},u,g){super(a,s,u,g)}from(a){return new Ue(this.url,this.headers,a,this.fetch)}get vectors(){return new gs(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new sr(this.url+"/iceberg",this.headers,this.fetch)}}let Eo="";Eo=typeof Deno<"u"?"deno":typeof document<"u"?"web":typeof navigator<"u"&&"ReactNative"===navigator.product?"react-native":"node";const ms={headers:{"X-Client-Info":`supabase-js-${Eo}/2.86.0`}},So={schema:"public"},vs={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},yr={},Ht=(d,a,s)=>{const u=(d=>d?(...a)=>d(...a):(...a)=>fetch(...a))(s),g=Headers;return function(){var D=(0,G.A)(function*(I,R){var F;const V=null!==(F=yield a())&&void 0!==F?F:d;let W=new g(R?.headers);return W.has("apikey")||W.set("apikey",d),W.has("Authorization")||W.set("Authorization",`Bearer ${V}`),u(I,Object.assign(Object.assign({},R),{headers:W}))});return function(I,R){return D.apply(this,arguments)}}()},Er=3e4,Io="X-Supabase-Api-Version",bn={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},lo=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class Yn extends Error{constructor(a,s,u){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=u}}function Ye(d){return"object"==typeof d&&null!==d&&"__isAuthError"in d}class bt extends Yn{constructor(a,s,u){super(a,s,u),this.name="AuthApiError",this.status=s,this.code=u}}class Kr extends Yn{constructor(a,s){super(a),this.name="AuthUnknownError",this.originalError=s}}class Zn extends Yn{constructor(a,s,u,g){super(a,u,g),this.name=s,this.status=u}}class Xt extends Zn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class lr extends Zn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _r extends Zn{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class ho extends Zn{constructor(a,s=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class fo extends Zn{constructor(a,s=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Sr extends Zn{constructor(a,s){super(a,"AuthRetryableFetchError",s,void 0)}}function po(d){return Ye(d)&&"AuthRetryableFetchError"===d.name}class Fr extends Zn{constructor(a,s,u){super(a,"AuthWeakPasswordError",s,"weak_password"),this.reasons=u}}class As extends Zn{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const ro="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),zs=" \t\n\r=".split(""),qr=(()=>{const d=new Array(128);for(let a=0;a<d.length;a+=1)d[a]=-1;for(let a=0;a<zs.length;a+=1)d[zs[a].charCodeAt(0)]=-2;for(let a=0;a<ro.length;a+=1)d[ro[a].charCodeAt(0)]=a;return d})();function go(d,a,s){if(null!==d)for(a.queue=a.queue<<8|d,a.queuedBits+=8;a.queuedBits>=6;)s(ro[a.queue>>a.queuedBits-6&63]),a.queuedBits-=6;else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;)s(ro[a.queue>>a.queuedBits-6&63]),a.queuedBits-=6}function mo(d,a,s){const u=qr[d];if(!(u>-1)){if(-2===u)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(d)}"`)}for(a.queue=a.queue<<6|u,a.queuedBits+=6;a.queuedBits>=8;)s(a.queue>>a.queuedBits-8&255),a.queuedBits-=8}function $n(d){const a=[],s=I=>{a.push(String.fromCodePoint(I))},u={utf8seq:0,codepoint:0},g={queue:0,queuedBits:0},D=I=>{!function Bn(d,a,s){if(0===a.utf8seq){if(d<=127)return void s(d);for(let u=1;u<6;u+=1)if(!(d>>7-u&1)){a.utf8seq=u;break}if(2===a.utf8seq)a.codepoint=31&d;else if(3===a.utf8seq)a.codepoint=15&d;else{if(4!==a.utf8seq)throw new Error("Invalid UTF-8 sequence");a.codepoint=7&d}a.utf8seq-=1}else if(a.utf8seq>0){if(d<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|63&d,a.utf8seq-=1,0===a.utf8seq&&s(a.codepoint)}}(I,u,s)};for(let I=0;I<d.length;I+=1)mo(d.charCodeAt(I),g,D);return a.join("")}function _i(d,a){if(!(d<=127)){if(d<=2047)return a(192|d>>6),void a(128|63&d);if(d<=65535)return a(224|d>>12),a(128|d>>6&63),void a(128|63&d);if(d<=1114111)return a(240|d>>18),a(128|d>>12&63),a(128|d>>6&63),void a(128|63&d);throw new Error(`Unrecognized Unicode codepoint: ${d.toString(16)}`)}a(d)}function Ao(d){const a=[],s={queue:0,queuedBits:0},u=g=>{a.push(g)};for(let g=0;g<d.length;g+=1)mo(d.charCodeAt(g),s,u);return new Uint8Array(a)}function cr(d){const a=[],s={queue:0,queuedBits:0},u=g=>{a.push(g)};return d.forEach(g=>go(g,s,u)),go(null,s,u),a.join("")}const A=()=>typeof window<"u"&&typeof document<"u",b={tested:!1,writable:!1},k=()=>{if(!A())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch{return!1}if(b.tested)return b.writable;const d=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(d,d),globalThis.localStorage.removeItem(d),b.tested=!0,b.writable=!0}catch{b.tested=!0,b.writable=!1}return b.writable},rt=d=>d?(...a)=>d(...a):(...a)=>fetch(...a),Tt=d=>"object"==typeof d&&null!==d&&"status"in d&&"ok"in d&&"json"in d&&"function"==typeof d.json,qn=function(){var d=(0,G.A)(function*(a,s,u){yield a.setItem(s,JSON.stringify(u))});return function(s,u,g){return d.apply(this,arguments)}}(),br=function(){var d=(0,G.A)(function*(a,s){const u=yield a.getItem(s);if(!u)return null;try{return JSON.parse(u)}catch{return u}});return function(s,u){return d.apply(this,arguments)}}(),Xn=function(){var d=(0,G.A)(function*(a,s){yield a.removeItem(s)});return function(s,u){return d.apply(this,arguments)}}();class Mr{constructor(){this.promise=new Mr.promiseConstructor((a,s)=>{this.resolve=a,this.reject=s})}}function es(d){const a=d.split(".");if(3!==a.length)throw new As("Invalid JWT structure");for(let u=0;u<a.length;u++)if(!lo.test(a[u]))throw new As("JWT not in base64url format");return{header:JSON.parse($n(a[0])),payload:JSON.parse($n(a[1])),signature:Ao(a[2]),raw:{header:a[0],payload:a[1]}}}function ts(){return(ts=(0,G.A)(function*(d){return yield new Promise(a=>{setTimeout(()=>a(null),d)})})).apply(this,arguments)}function Fa(d){return("0"+d.toString(16)).substr(-2)}function Ws(){return(Ws=(0,G.A)(function*(d){const s=(new TextEncoder).encode(d),u=yield crypto.subtle.digest("SHA-256",s),g=new Uint8Array(u);return Array.from(g).map(D=>String.fromCharCode(D)).join("")})).apply(this,arguments)}function Ks(){return Ks=(0,G.A)(function*(d){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),d;const s=yield function Ci(d){return Ws.apply(this,arguments)}(d);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}),Ks.apply(this,arguments)}function ns(d,a){return Os.apply(this,arguments)}function Os(){return Os=(0,G.A)(function*(d,a,s=!1){const u=function bi(){const a=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",u=s.length;let g="";for(let D=0;D<56;D++)g+=s.charAt(Math.floor(Math.random()*u));return g}return crypto.getRandomValues(a),Array.from(a,Fa).join("")}();let g=u;s&&(g+="/PASSWORD_RECOVERY"),yield qn(d,`${a}-code-verifier`,g);const D=yield function wi(d){return Ks.apply(this,arguments)}(u);return[D,u===D?"plain":"s256"]}),Os.apply(this,arguments)}Mr.promiseConstructor=Promise;const Wo=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i,nr=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function To(d){if(!nr.test(d))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function hr(){return new Proxy({},{get:(a,s)=>{if("__isUserNotAvailableProxy"===s)return!0;if("symbol"==typeof s){const u=s.toString();if("Symbol(Symbol.toPrimitive)"===u||"Symbol(Symbol.toStringTag)"===u||"Symbol(util.inspect.custom)"===u)return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Rs(d){return JSON.parse(JSON.stringify(d))}const vo=d=>d.msg||d.message||d.error_description||d.error||JSON.stringify(d),li=[502,503,504];function qs(d){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,G.A)(function*(d){var a;if(!Tt(d))throw new Sr(vo(d),0);if(li.includes(d.status))throw new Sr(vo(d),d.status);let s,u;try{s=yield d.json()}catch(D){throw new Kr(vo(D),D)}const g=function Lr(d){const a=d.headers.get(Io);if(!a||!a.match(Wo))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}(d);if(g&&g.getTime()>=bn["2024-01-01"].timestamp&&"object"==typeof s&&s&&"string"==typeof s.code?u=s.code:"object"==typeof s&&s&&"string"==typeof s.error_code&&(u=s.error_code),u){if("weak_password"===u)throw new Fr(vo(s),d.status,(null===(a=s.weak_password)||void 0===a?void 0:a.reasons)||[]);if("session_not_found"===u)throw new Xt}else if("object"==typeof s&&s&&"object"==typeof s.weak_password&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((D,I)=>D&&"string"==typeof I,!0))throw new Fr(vo(s),d.status,s.weak_password.reasons);throw new bt(vo(s),d.status||500,u)})).apply(this,arguments)}const ci=(d,a,s,u)=>{const g={method:d,headers:a?.headers||{}};return"GET"===d?g:(g.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),g.body=JSON.stringify(u),Object.assign(Object.assign({},g),s))};function ht(d,a,s,u){return Js.apply(this,arguments)}function Js(){return Js=(0,G.A)(function*(d,a,s,u){var g;const D=Object.assign({},u?.headers);D[Io]||(D[Io]=bn["2024-01-01"].name),u?.jwt&&(D.Authorization=`Bearer ${u.jwt}`);const I=null!==(g=u?.query)&&void 0!==g?g:{};u?.redirectTo&&(I.redirect_to=u.redirectTo);const R=Object.keys(I).length?"?"+new URLSearchParams(I).toString():"",F=yield function Di(d,a,s,u,g,D){return Qs.apply(this,arguments)}(d,a,s+R,{headers:D,noResolveJson:u?.noResolveJson},{},u?.body);return u?.xform?u?.xform(F):{data:Object.assign({},F),error:null}}),Js.apply(this,arguments)}function Qs(){return(Qs=(0,G.A)(function*(d,a,s,u,g,D){const I=ci(a,u,g,D);let R;try{R=yield d(s,Object.assign({},I))}catch(F){throw console.error(F),new Sr(vo(F),0)}if(R.ok||(yield qs(R)),u?.noResolveJson)return R;try{return yield R.json()}catch(F){yield qs(F)}})).apply(this,arguments)}function Ir(d){var a;let s=null;return function x(d){return d.access_token&&d.refresh_token&&d.expires_in}(d)&&(s=Object.assign({},d),d.expires_at||(s.expires_at=function dr(d){return Math.round(Date.now()/1e3)+d}(d.expires_in))),{data:{session:s,user:null!==(a=d.user)&&void 0!==a?a:d},error:null}}function _s(d){const a=Ir(d);return!a.error&&d.weak_password&&"object"==typeof d.weak_password&&Array.isArray(d.weak_password.reasons)&&d.weak_password.reasons.length&&d.weak_password.message&&"string"==typeof d.weak_password.message&&d.weak_password.reasons.reduce((s,u)=>s&&"string"==typeof u,!0)&&(a.data.weak_password=d.weak_password),a}function jr(d){var a;return{data:{user:null!==(a=d.user)&&void 0!==a?a:d},error:null}}function rs(d){return{data:d,error:null}}function Pu(d){const{action_link:a,email_otp:s,hashed_token:u,redirect_to:g,verification_type:D}=d,I=(0,Ne.__rest)(d,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:a,email_otp:s,hashed_token:u,redirect_to:g,verification_type:D},user:Object.assign({},I)},error:null}}function m(d){return d}const tt=["global","local","others"];class rn{constructor({url:a="",headers:s={},fetch:u}){this.url=a,this.headers=s,this.fetch=rt(u),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(a){var s=this;return(0,G.A)(function*(u,g=tt[0]){if(tt.indexOf(g)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${tt.join(", ")}`);try{return yield ht(s.fetch,"POST",`${s.url}/logout?scope=${g}`,{headers:s.headers,jwt:u,noResolveJson:!0}),{data:null,error:null}}catch(D){if(Ye(D))return{data:null,error:D};throw D}}).apply(this,arguments)}inviteUserByEmail(a){var s=this;return(0,G.A)(function*(u,g={}){try{return yield ht(s.fetch,"POST",`${s.url}/invite`,{body:{email:u,data:g.data},headers:s.headers,redirectTo:g.redirectTo,xform:jr})}catch(D){if(Ye(D))return{data:{user:null},error:D};throw D}}).apply(this,arguments)}generateLink(a){var s=this;return(0,G.A)(function*(){try{const{options:u}=a,g=(0,Ne.__rest)(a,["options"]),D=Object.assign(Object.assign({},g),u);return"newEmail"in g&&(D.new_email=g?.newEmail,delete D.newEmail),yield ht(s.fetch,"POST",`${s.url}/admin/generate_link`,{body:D,headers:s.headers,xform:Pu,redirectTo:u?.redirectTo})}catch(u){if(Ye(u))return{data:{properties:null,user:null},error:u};throw u}})()}createUser(a){var s=this;return(0,G.A)(function*(){try{return yield ht(s.fetch,"POST",`${s.url}/admin/users`,{body:a,headers:s.headers,xform:jr})}catch(u){if(Ye(u))return{data:{user:null},error:u};throw u}})()}listUsers(a){var s=this;return(0,G.A)(function*(){var u,g,D,I,R,F,V;try{const W={nextPage:null,lastPage:0,total:0},pe=yield ht(s.fetch,"GET",`${s.url}/admin/users`,{headers:s.headers,noResolveJson:!0,query:{page:null!==(g=null===(u=a?.page)||void 0===u?void 0:u.toString())&&void 0!==g?g:"",per_page:null!==(I=null===(D=a?.perPage)||void 0===D?void 0:D.toString())&&void 0!==I?I:""},xform:m});if(pe.error)throw pe.error;const De=yield pe.json(),Pe=null!==(R=pe.headers.get("x-total-count"))&&void 0!==R?R:0,Se=null!==(V=null===(F=pe.headers.get("link"))||void 0===F?void 0:F.split(","))&&void 0!==V?V:[];return Se.length>0&&(Se.forEach(We=>{const nt=parseInt(We.split(";")[0].split("=")[1].substring(0,1)),it=JSON.parse(We.split(";")[1].split("=")[1]);W[`${it}Page`]=nt}),W.total=parseInt(Pe)),{data:Object.assign(Object.assign({},De),W),error:null}}catch(W){if(Ye(W))return{data:{users:[]},error:W};throw W}})()}getUserById(a){var s=this;return(0,G.A)(function*(){To(a);try{return yield ht(s.fetch,"GET",`${s.url}/admin/users/${a}`,{headers:s.headers,xform:jr})}catch(u){if(Ye(u))return{data:{user:null},error:u};throw u}})()}updateUserById(a,s){var u=this;return(0,G.A)(function*(){To(a);try{return yield ht(u.fetch,"PUT",`${u.url}/admin/users/${a}`,{body:s,headers:u.headers,xform:jr})}catch(g){if(Ye(g))return{data:{user:null},error:g};throw g}})()}deleteUser(a){var s=this;return(0,G.A)(function*(u,g=!1){To(u);try{return yield ht(s.fetch,"DELETE",`${s.url}/admin/users/${u}`,{headers:s.headers,body:{should_soft_delete:g},xform:jr})}catch(D){if(Ye(D))return{data:{user:null},error:D};throw D}}).apply(this,arguments)}_listFactors(a){var s=this;return(0,G.A)(function*(){To(a.userId);try{const{data:u,error:g}=yield ht(s.fetch,"GET",`${s.url}/admin/users/${a.userId}/factors`,{headers:s.headers,xform:D=>({data:{factors:D},error:null})});return{data:u,error:g}}catch(u){if(Ye(u))return{data:null,error:u};throw u}})()}_deleteFactor(a){var s=this;return(0,G.A)(function*(){To(a.userId),To(a.id);try{return{data:yield ht(s.fetch,"DELETE",`${s.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:s.headers}),error:null}}catch(u){if(Ye(u))return{data:null,error:u};throw u}})()}_listOAuthClients(a){var s=this;return(0,G.A)(function*(){var u,g,D,I,R,F,V;try{const W={nextPage:null,lastPage:0,total:0},pe=yield ht(s.fetch,"GET",`${s.url}/admin/oauth/clients`,{headers:s.headers,noResolveJson:!0,query:{page:null!==(g=null===(u=a?.page)||void 0===u?void 0:u.toString())&&void 0!==g?g:"",per_page:null!==(I=null===(D=a?.perPage)||void 0===D?void 0:D.toString())&&void 0!==I?I:""},xform:m});if(pe.error)throw pe.error;const De=yield pe.json(),Pe=null!==(R=pe.headers.get("x-total-count"))&&void 0!==R?R:0,Se=null!==(V=null===(F=pe.headers.get("link"))||void 0===F?void 0:F.split(","))&&void 0!==V?V:[];return Se.length>0&&(Se.forEach(We=>{const nt=parseInt(We.split(";")[0].split("=")[1].substring(0,1)),it=JSON.parse(We.split(";")[1].split("=")[1]);W[`${it}Page`]=nt}),W.total=parseInt(Pe)),{data:Object.assign(Object.assign({},De),W),error:null}}catch(W){if(Ye(W))return{data:{clients:[]},error:W};throw W}})()}_createOAuthClient(a){var s=this;return(0,G.A)(function*(){try{return yield ht(s.fetch,"POST",`${s.url}/admin/oauth/clients`,{body:a,headers:s.headers,xform:u=>({data:u,error:null})})}catch(u){if(Ye(u))return{data:null,error:u};throw u}})()}_getOAuthClient(a){var s=this;return(0,G.A)(function*(){try{return yield ht(s.fetch,"GET",`${s.url}/admin/oauth/clients/${a}`,{headers:s.headers,xform:u=>({data:u,error:null})})}catch(u){if(Ye(u))return{data:null,error:u};throw u}})()}_updateOAuthClient(a,s){var u=this;return(0,G.A)(function*(){try{return yield ht(u.fetch,"PUT",`${u.url}/admin/oauth/clients/${a}`,{body:s,headers:u.headers,xform:g=>({data:g,error:null})})}catch(g){if(Ye(g))return{data:null,error:g};throw g}})()}_deleteOAuthClient(a){var s=this;return(0,G.A)(function*(){try{return yield ht(s.fetch,"DELETE",`${s.url}/admin/oauth/clients/${a}`,{headers:s.headers,noResolveJson:!0}),{data:null,error:null}}catch(u){if(Ye(u))return{data:null,error:u};throw u}})()}_regenerateOAuthClientSecret(a){var s=this;return(0,G.A)(function*(){try{return yield ht(s.fetch,"POST",`${s.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:s.headers,xform:u=>({data:u,error:null})})}catch(u){if(Ye(u))return{data:null,error:u};throw u}})()}}function ln(d={}){return{getItem:a=>d[a]||null,setItem:(a,s)=>{d[a]=s},removeItem:a=>{delete d[a]}}}const Ut={debug:!!(globalThis&&k()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))};class Nt extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class Tn extends Nt{}function Hn(d,a,s){return Ar.apply(this,arguments)}function Ar(){return Ar=(0,G.A)(function*(d,a,s){Ut.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",d,a);const u=new globalThis.AbortController;return a>0&&setTimeout(()=>{u.abort(),Ut.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",d)},a),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(d,0===a?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:u.signal},function(){var g=(0,G.A)(function*(D){if(!D){if(0===a)throw Ut.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",d),new Tn(`Acquiring an exclusive Navigator LockManager lock "${d}" immediately failed`);if(Ut.debug)try{const I=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(I,null,"  "))}catch(I){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",I)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield s()}Ut.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",d,D.name);try{return yield s()}finally{Ut.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",d,D.name)}});return function(D){return g.apply(this,arguments)}}()))}),Ar.apply(this,arguments)}function Ro(d){if(!/^0x[a-fA-F0-9]{40}$/.test(d))throw new Error(`@supabase/auth-js: Address "${d}" is invalid.`);return d.toLowerCase()}function di(d){const a=(new TextEncoder).encode(d);return"0x"+Array.from(a,u=>u.toString(16).padStart(2,"0")).join("")}class Gn extends Error{constructor({message:a,code:s,cause:u,name:g}){var D;super(a,{cause:u}),this.__isWebAuthnError=!0,this.name=null!==(D=g??(u instanceof Error?u.name:void 0))&&void 0!==D?D:"Unknown Error",this.code=s}}class ss extends Gn{constructor(a,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:a}),this.name="WebAuthnUnknownError",this.originalError=s}}function Ui({error:d,options:a}){var s,u,g;const{publicKey:D}=a;if(!D)throw Error("options was missing required publicKey property");if("AbortError"===d.name){if(a.signal instanceof AbortSignal)return new Gn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:d})}else if("ConstraintError"===d.name){if(!0===(null===(s=D.authenticatorSelection)||void 0===s?void 0:s.requireResidentKey))return new Gn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:d});if("conditional"===a.mediation&&"required"===(null===(u=D.authenticatorSelection)||void 0===u?void 0:u.userVerification))return new Gn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:d});if("required"===(null===(g=D.authenticatorSelection)||void 0===g?void 0:g.userVerification))return new Gn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:d})}else{if("InvalidStateError"===d.name)return new Gn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:d});if("NotAllowedError"===d.name)return new Gn({message:d.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:d});if("NotSupportedError"===d.name)return 0===D.pubKeyCredParams.filter(R=>"public-key"===R.type).length?new Gn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:d}):new Gn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:d});if("SecurityError"===d.name){const I=window.location.hostname;if(!mn(I))return new Gn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:d});if(D.rp.id!==I)return new Gn({message:`The RP ID "${D.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:d})}else if("TypeError"===d.name){if(D.user.id.byteLength<1||D.user.id.byteLength>64)return new Gn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:d})}else if("UnknownError"===d.name)return new Gn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:d})}return new Gn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:d})}function Vi({error:d,options:a}){const{publicKey:s}=a;if(!s)throw Error("options was missing required publicKey property");if("AbortError"===d.name){if(a.signal instanceof AbortSignal)return new Gn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:d})}else{if("NotAllowedError"===d.name)return new Gn({message:d.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:d});if("SecurityError"===d.name){const u=window.location.hostname;if(!mn(u))return new Gn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:d});if(s.rpId!==u)return new Gn({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:d})}else if("UnknownError"===d.name)return new Gn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:d})}return new Gn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:d})}const Si=new class Ua{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}};function Jr(d){if(!d)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(d);const{challenge:a,user:s,excludeCredentials:u}=d,g=(0,Ne.__rest)(d,["challenge","user","excludeCredentials"]),D=Ao(a).buffer,I=Object.assign(Object.assign({},s),{id:Ao(s.id).buffer}),R=Object.assign(Object.assign({},g),{challenge:D,user:I});if(u&&u.length>0){R.excludeCredentials=new Array(u.length);for(let F=0;F<u.length;F++){const V=u[F];R.excludeCredentials[F]=Object.assign(Object.assign({},V),{id:Ao(V.id).buffer,type:V.type||"public-key",transports:V.transports})}}return R}function xo(d){if(!d)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(d);const{challenge:a,allowCredentials:s}=d,u=(0,Ne.__rest)(d,["challenge","allowCredentials"]),g=Ao(a).buffer,D=Object.assign(Object.assign({},u),{challenge:g});if(s&&s.length>0){D.allowCredentials=new Array(s.length);for(let I=0;I<s.length;I++){const R=s[I];D.allowCredentials[I]=Object.assign(Object.assign({},R),{id:Ao(R.id).buffer,type:R.type||"public-key",transports:R.transports})}}return D}function Mi(d){var a;if("toJSON"in d&&"function"==typeof d.toJSON)return d.toJSON();const s=d;return{id:d.id,rawId:d.id,response:{attestationObject:cr(new Uint8Array(d.response.attestationObject)),clientDataJSON:cr(new Uint8Array(d.response.clientDataJSON))},type:"public-key",clientExtensionResults:d.getClientExtensionResults(),authenticatorAttachment:null!==(a=s.authenticatorAttachment)&&void 0!==a?a:void 0}}function Ys(d){var a;if("toJSON"in d&&"function"==typeof d.toJSON)return d.toJSON();const s=d,u=d.getClientExtensionResults(),g=d.response;return{id:d.id,rawId:d.id,response:{authenticatorData:cr(new Uint8Array(g.authenticatorData)),clientDataJSON:cr(new Uint8Array(g.clientDataJSON)),signature:cr(new Uint8Array(g.signature)),userHandle:g.userHandle?cr(new Uint8Array(g.userHandle)):void 0},type:"public-key",clientExtensionResults:u,authenticatorAttachment:null!==(a=s.authenticatorAttachment)&&void 0!==a?a:void 0}}function mn(d){return"localhost"===d||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(d)}function hi(){var d,a;return!!(A()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"==typeof(null===(d=navigator?.credentials)||void 0===d?void 0:d.create)&&"function"==typeof(null===(a=navigator?.credentials)||void 0===a?void 0:a.get))}function Or(){return(Or=(0,G.A)(function*(d){try{const a=yield navigator.credentials.create(d);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new ss("Browser returned unexpected credential type",a)}:{data:null,error:new ss("Empty credential response",a)}}catch(a){return{data:null,error:Ui({error:a,options:d})}}})).apply(this,arguments)}function fi(){return(fi=(0,G.A)(function*(d){try{const a=yield navigator.credentials.get(d);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new ss("Browser returned unexpected credential type",a)}:{data:null,error:new ss("Empty credential response",a)}}catch(a){return{data:null,error:Vi({error:a,options:d})}}})).apply(this,arguments)}const is={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Ur={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function pi(...d){const a=g=>null!==g&&"object"==typeof g&&!Array.isArray(g),s=g=>g instanceof ArrayBuffer||ArrayBuffer.isView(g),u={};for(const g of d)if(g)for(const D in g){const I=g[D];if(void 0!==I)if(Array.isArray(I))u[D]=I;else if(s(I))u[D]=I;else if(a(I)){const R=u[D];u[D]=a(R)?pi(R,I):pi(I)}else u[D]=I}return u}class as{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(a){var s=this;return(0,G.A)(function*(){return s.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))})()}_challenge(a,s){var u=this;return(0,G.A)(function*({factorId:g,webauthn:D,friendlyName:I,signal:R},F){try{const{data:V,error:W}=yield u.client.mfa.challenge({factorId:g,webauthn:D});if(!V)return{data:null,error:W};const pe=R??Si.createNewAbortSignal();if("create"===V.webauthn.type){const{user:De}=V.webauthn.credential_options.publicKey;De.name||(De.name=`${De.id}:${I}`),De.displayName||(De.displayName=De.name)}switch(V.webauthn.type){case"create":{const De=function $i(d,a){return pi(is,d,a||{})}(V.webauthn.credential_options.publicKey,F?.create),{data:Pe,error:Se}=yield function Zs(d){return Or.apply(this,arguments)}({publicKey:De,signal:pe});return Pe?{data:{factorId:g,challengeId:V.id,webauthn:{type:V.webauthn.type,credential_response:Pe}},error:null}:{data:null,error:Se}}case"request":{const De=function Ko(d,a){return pi(Ur,d,a||{})}(V.webauthn.credential_options.publicKey,F?.request),{data:Pe,error:Se}=yield function Nu(d){return fi.apply(this,arguments)}(Object.assign(Object.assign({},V.webauthn.credential_options),{publicKey:De,signal:pe}));return Pe?{data:{factorId:g,challengeId:V.id,webauthn:{type:V.webauthn.type,credential_response:Pe}},error:null}:{data:null,error:Se}}}}catch(V){return Ye(V)?{data:null,error:V}:{data:null,error:new Kr("Unexpected error in challenge",V)}}}).apply(this,arguments)}_verify(a){var s=this;return(0,G.A)(function*({challengeId:u,factorId:g,webauthn:D}){return s.client.mfa.verify({factorId:g,challengeId:u,webauthn:D})}).apply(this,arguments)}_authenticate(a,s){var u=this;return(0,G.A)(function*({factorId:g,webauthn:{rpId:D=(typeof window<"u"?window.location.hostname:void 0),rpOrigins:I=(typeof window<"u"?[window.location.origin]:void 0),signal:R}={}},F){if(!D)return{data:null,error:new Yn("rpId is required for WebAuthn authentication")};try{if(!hi())return{data:null,error:new Kr("Browser does not support WebAuthn",null)};const{data:V,error:W}=yield u.challenge({factorId:g,webauthn:{rpId:D,rpOrigins:I},signal:R},{request:F});if(!V)return{data:null,error:W};const{webauthn:pe}=V;return u._verify({factorId:g,challengeId:V.challengeId,webauthn:{type:pe.type,rpId:D,rpOrigins:I,credential_response:pe.credential_response}})}catch(V){return Ye(V)?{data:null,error:V}:{data:null,error:new Kr("Unexpected error in authenticate",V)}}}).apply(this,arguments)}_register(a,s){var u=this;return(0,G.A)(function*({friendlyName:g,webauthn:{rpId:D=(typeof window<"u"?window.location.hostname:void 0),rpOrigins:I=(typeof window<"u"?[window.location.origin]:void 0),signal:R}={}},F){if(!D)return{data:null,error:new Yn("rpId is required for WebAuthn registration")};try{if(!hi())return{data:null,error:new Kr("Browser does not support WebAuthn",null)};const{data:V,error:W}=yield u._enroll({friendlyName:g});if(!V)return yield u.client.mfa.listFactors().then(Pe=>{var Se;return null===(Se=Pe.data)||void 0===Se?void 0:Se.all.find(We=>"webauthn"===We.factor_type&&We.friendly_name===g&&"unverified"!==We.status)}).then(Pe=>Pe?u.client.mfa.unenroll({factorId:Pe?.id}):void 0),{data:null,error:W};const{data:pe,error:De}=yield u._challenge({factorId:V.id,friendlyName:V.friendly_name,webauthn:{rpId:D,rpOrigins:I},signal:R},{create:F});return pe?u._verify({factorId:V.id,challengeId:pe.challengeId,webauthn:{rpId:D,rpOrigins:I,type:pe.webauthn.type,credential_response:pe.webauthn.credential_response}}):{data:null,error:De}}catch(V){return Ye(V)?{data:null,error:V}:{data:null,error:new Kr("Unexpected error in register",V)}}}).apply(this,arguments)}}!function Oo(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}();const Va={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:{"X-Client-Info":"gotrue-js/2.86.0"},flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};function $a(d,a,s){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,G.A)(function*(d,a,s){return yield s()})).apply(this,arguments)}const us={},Hi=(()=>{class d{get jwks(){var s,u;return null!==(u=null===(s=us[this.storageKey])||void 0===s?void 0:s.jwks)&&void 0!==u?u:{keys:[]}}set jwks(s){us[this.storageKey]=Object.assign(Object.assign({},us[this.storageKey]),{jwks:s})}get jwks_cached_at(){var s,u;return null!==(u=null===(s=us[this.storageKey])||void 0===s?void 0:s.cachedAt)&&void 0!==u?u:Number.MIN_SAFE_INTEGER}set jwks_cached_at(s){us[this.storageKey]=Object.assign(Object.assign({},us[this.storageKey]),{cachedAt:s})}constructor(s){var g,D,I,u=this;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const R=Object.assign(Object.assign({},Va),s);if(this.storageKey=R.storageKey,this.instanceID=null!==(g=d.nextInstanceID[this.storageKey])&&void 0!==g?g:0,d.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!R.debug,"function"==typeof R.debug&&(this.logger=R.debug),this.instanceID>0&&A()){const F=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(F),this.logDebugMessages&&console.trace(F)}if(this.persistSession=R.persistSession,this.autoRefreshToken=R.autoRefreshToken,this.admin=new rn({url:R.url,headers:R.headers,fetch:R.fetch}),this.url=R.url,this.headers=R.headers,this.fetch=rt(R.fetch),this.lock=R.lock||$a,this.detectSessionInUrl=R.detectSessionInUrl,this.flowType=R.flowType,this.hasCustomAuthorizationHeader=R.hasCustomAuthorizationHeader,this.throwOnError=R.throwOnError,this.lock=R.lock?R.lock:A()&&null!==(D=globalThis?.navigator)&&void 0!==D&&D.locks?Hn:$a,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new as(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(R.storage?this.storage=R.storage:k()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ln(this.memoryStorage)),R.userStorage&&(this.userStorage=R.userStorage)):(this.memoryStorage={},this.storage=ln(this.memoryStorage)),A()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(F){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",F)}null===(I=this.broadcastChannel)||void 0===I||I.addEventListener("message",function(){var F=(0,G.A)(function*(V){u._debug("received broadcast notification from other tab or client",V),yield u._notifyAllSubscribers(V.data.event,V.data.session,!1)});return function(V){return F.apply(this,arguments)}}())}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(s){if(this.throwOnError&&s&&s.error)throw s.error;return s}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (2.86.0) ${(new Date).toISOString()}`}_debug(...s){return this.logDebugMessages&&this.logger(this._logPrefix(),...s),this}initialize(){var s=this;return(0,G.A)(function*(){return s.initializePromise||(s.initializePromise=(0,G.A)(function*(){return yield s._acquireLock(-1,(0,G.A)(function*(){return yield s._initialize()}))})()),yield s.initializePromise})()}_initialize(){var s=this;return(0,G.A)(function*(){var u;try{let g={},D="none";if(A()&&(g=function K(d){const a={},s=new URL(d);if(s.hash&&"#"===s.hash[0])try{new URLSearchParams(s.hash.substring(1)).forEach((g,D)=>{a[D]=g})}catch{}return s.searchParams.forEach((u,g)=>{a[g]=u}),a}(window.location.href),s._isImplicitGrantCallback(g)?D="implicit":(yield s._isPKCECallback(g))&&(D="pkce")),A()&&s.detectSessionInUrl&&"none"!==D){const{data:I,error:R}=yield s._getSessionFromURL(g,D);if(R){if(s._debug("#_initialize()","error detecting session from URL",R),function ys(d){return Ye(d)&&"AuthImplicitGrantRedirectError"===d.name}(R)){const W=null===(u=R.details)||void 0===u?void 0:u.code;if("identity_already_exists"===W||"identity_not_found"===W||"single_identity_not_deletable"===W)return{error:R}}return yield s._removeSession(),{error:R}}const{session:F,redirectType:V}=I;return s._debug("#_initialize()","detected session in URL",F,"redirect type",V),yield s._saveSession(F),setTimeout((0,G.A)(function*(){"recovery"===V?yield s._notifyAllSubscribers("PASSWORD_RECOVERY",F):yield s._notifyAllSubscribers("SIGNED_IN",F)}),0),{error:null}}return yield s._recoverAndRefresh(),{error:null}}catch(g){return Ye(g)?s._returnResult({error:g}):s._returnResult({error:new Kr("Unexpected error during initialization",g)})}finally{yield s._handleVisibilityChange(),s._debug("#_initialize()","end")}})()}signInAnonymously(s){var u=this;return(0,G.A)(function*(){var g,D,I;try{const R=yield ht(u.fetch,"POST",`${u.url}/signup`,{headers:u.headers,body:{data:null!==(D=null===(g=s?.options)||void 0===g?void 0:g.data)&&void 0!==D?D:{},gotrue_meta_security:{captcha_token:null===(I=s?.options)||void 0===I?void 0:I.captchaToken}},xform:Ir}),{data:F,error:V}=R;if(V||!F)return u._returnResult({data:{user:null,session:null},error:V});const W=F.session,pe=F.user;return F.session&&(yield u._saveSession(F.session),yield u._notifyAllSubscribers("SIGNED_IN",W)),u._returnResult({data:{user:pe,session:W},error:null})}catch(R){if(Ye(R))return u._returnResult({data:{user:null,session:null},error:R});throw R}})()}signUp(s){var u=this;return(0,G.A)(function*(){var g,D,I;try{let R;if("email"in s){const{email:De,password:Pe,options:Se}=s;let We=null,nt=null;"pkce"===u.flowType&&([We,nt]=yield ns(u.storage,u.storageKey)),R=yield ht(u.fetch,"POST",`${u.url}/signup`,{headers:u.headers,redirectTo:Se?.emailRedirectTo,body:{email:De,password:Pe,data:null!==(g=Se?.data)&&void 0!==g?g:{},gotrue_meta_security:{captcha_token:Se?.captchaToken},code_challenge:We,code_challenge_method:nt},xform:Ir})}else{if(!("phone"in s))throw new _r("You must provide either an email or phone number and a password");{const{phone:De,password:Pe,options:Se}=s;R=yield ht(u.fetch,"POST",`${u.url}/signup`,{headers:u.headers,body:{phone:De,password:Pe,data:null!==(D=Se?.data)&&void 0!==D?D:{},channel:null!==(I=Se?.channel)&&void 0!==I?I:"sms",gotrue_meta_security:{captcha_token:Se?.captchaToken}},xform:Ir})}}const{data:F,error:V}=R;if(V||!F)return u._returnResult({data:{user:null,session:null},error:V});const W=F.session,pe=F.user;return F.session&&(yield u._saveSession(F.session),yield u._notifyAllSubscribers("SIGNED_IN",W)),u._returnResult({data:{user:pe,session:W},error:null})}catch(R){if(Ye(R))return u._returnResult({data:{user:null,session:null},error:R});throw R}})()}signInWithPassword(s){var u=this;return(0,G.A)(function*(){try{let g;if("email"in s){const{email:R,password:F,options:V}=s;g=yield ht(u.fetch,"POST",`${u.url}/token?grant_type=password`,{headers:u.headers,body:{email:R,password:F,gotrue_meta_security:{captcha_token:V?.captchaToken}},xform:_s})}else{if(!("phone"in s))throw new _r("You must provide either an email or phone number and a password");{const{phone:R,password:F,options:V}=s;g=yield ht(u.fetch,"POST",`${u.url}/token?grant_type=password`,{headers:u.headers,body:{phone:R,password:F,gotrue_meta_security:{captcha_token:V?.captchaToken}},xform:_s})}}const{data:D,error:I}=g;if(I)return u._returnResult({data:{user:null,session:null},error:I});if(!D||!D.session||!D.user){const R=new lr;return u._returnResult({data:{user:null,session:null},error:R})}return D.session&&(yield u._saveSession(D.session),yield u._notifyAllSubscribers("SIGNED_IN",D.session)),u._returnResult({data:Object.assign({user:D.user,session:D.session},D.weak_password?{weakPassword:D.weak_password}:null),error:I})}catch(g){if(Ye(g))return u._returnResult({data:{user:null,session:null},error:g});throw g}})()}signInWithOAuth(s){var u=this;return(0,G.A)(function*(){var g,D,I,R;return yield u._handleProviderSignIn(s.provider,{redirectTo:null===(g=s.options)||void 0===g?void 0:g.redirectTo,scopes:null===(D=s.options)||void 0===D?void 0:D.scopes,queryParams:null===(I=s.options)||void 0===I?void 0:I.queryParams,skipBrowserRedirect:null===(R=s.options)||void 0===R?void 0:R.skipBrowserRedirect})})()}exchangeCodeForSession(s){var u=this;return(0,G.A)(function*(){return yield u.initializePromise,u._acquireLock(-1,(0,G.A)(function*(){return u._exchangeCodeForSession(s)}))})()}signInWithWeb3(s){var u=this;return(0,G.A)(function*(){const{chain:g}=s;switch(g){case"ethereum":return yield u.signInWithEthereum(s);case"solana":return yield u.signInWithSolana(s);default:throw new Error(`@supabase/auth-js: Unsupported chain "${g}"`)}})()}signInWithEthereum(s){var u=this;return(0,G.A)(function*(){var g,D,I,R,F,V,W,pe,De,Pe,Se;let We,nt;if("message"in s)We=s.message,nt=s.signature;else{const{wallet:Yt,statement:sn,options:Ct}=s;let mt;if(A())if("object"==typeof Yt)mt=Yt;else{const No=window;if(!("ethereum"in No)||"object"!=typeof No.ethereum||!("request"in No.ethereum)||"function"!=typeof No.ethereum.request)throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");mt=No.ethereum}else{if("object"!=typeof Yt||!Ct?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");mt=Yt}const Fn=new URL(null!==(g=Ct?.url)&&void 0!==g?g:window.location.href),oo=yield mt.request({method:"eth_requestAccounts"}).then(No=>No).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!oo||0===oo.length)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const On=Ro(oo[0]);let Wn=null===(D=Ct?.signInWithEthereum)||void 0===D?void 0:D.chainId;Wn||(Wn=function bs(d){return parseInt(d,16)}(yield mt.request({method:"eth_chainId"}))),We=function Ei(d){var a;const{chainId:s,domain:u,expirationTime:g,issuedAt:D=new Date,nonce:I,notBefore:R,requestId:F,resources:V,scheme:W,uri:pe,version:De}=d;if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!u)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(I&&I.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${I}`);if(!pe)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==De)throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${De}`);if(null!==(a=d.statement)&&void 0!==a&&a.includes("\n"))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${d.statement}`);const nt=`${W?`${W}://${u}`:u} wants you to sign in with your Ethereum account:\n${Ro(d.address)}\n\n${d.statement?`${d.statement}\n`:""}`;let it=`URI: ${pe}\nVersion: ${De}\nChain ID: ${s}${I?`\nNonce: ${I}`:""}\nIssued At: ${D.toISOString()}`;if(g&&(it+=`\nExpiration Time: ${g.toISOString()}`),R&&(it+=`\nNot Before: ${R.toISOString()}`),F&&(it+=`\nRequest ID: ${F}`),V){let Yt="\nResources:";for(const sn of V){if(!sn||"string"!=typeof sn)throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${sn}`);Yt+=`\n- ${sn}`}it+=Yt}return`${nt}\n${it}`}({domain:Fn.host,address:On,statement:sn,uri:Fn.href,version:"1",chainId:Wn,nonce:null===(I=Ct?.signInWithEthereum)||void 0===I?void 0:I.nonce,issuedAt:null!==(F=null===(R=Ct?.signInWithEthereum)||void 0===R?void 0:R.issuedAt)&&void 0!==F?F:new Date,expirationTime:null===(V=Ct?.signInWithEthereum)||void 0===V?void 0:V.expirationTime,notBefore:null===(W=Ct?.signInWithEthereum)||void 0===W?void 0:W.notBefore,requestId:null===(pe=Ct?.signInWithEthereum)||void 0===pe?void 0:pe.requestId,resources:null===(De=Ct?.signInWithEthereum)||void 0===De?void 0:De.resources}),nt=yield mt.request({method:"personal_sign",params:[di(We),On]})}try{const{data:it,error:Yt}=yield ht(u.fetch,"POST",`${u.url}/token?grant_type=web3`,{headers:u.headers,body:Object.assign({chain:"ethereum",message:We,signature:nt},null!==(Pe=s.options)&&void 0!==Pe&&Pe.captchaToken?{gotrue_meta_security:{captcha_token:null===(Se=s.options)||void 0===Se?void 0:Se.captchaToken}}:null),xform:Ir});if(Yt)throw Yt;if(!it||!it.session||!it.user){const sn=new lr;return u._returnResult({data:{user:null,session:null},error:sn})}return it.session&&(yield u._saveSession(it.session),yield u._notifyAllSubscribers("SIGNED_IN",it.session)),u._returnResult({data:Object.assign({},it),error:Yt})}catch(it){if(Ye(it))return u._returnResult({data:{user:null,session:null},error:it});throw it}})()}signInWithSolana(s){var u=this;return(0,G.A)(function*(){var g,D,I,R,F,V,W,pe,De,Pe,Se,We;let nt,it;if("message"in s)nt=s.message,it=s.signature;else{const{wallet:sn,statement:Ct,options:mt}=s;let Fn;if(A())if("object"==typeof sn)Fn=sn;else{const On=window;if(!("solana"in On)||"object"!=typeof On.solana||!("signIn"in On.solana&&"function"==typeof On.solana.signIn||"signMessage"in On.solana&&"function"==typeof On.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");Fn=On.solana}else{if("object"!=typeof sn||!mt?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Fn=sn}const oo=new URL(null!==(g=mt?.url)&&void 0!==g?g:window.location.href);if("signIn"in Fn&&Fn.signIn){const On=yield Fn.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},mt?.signInWithSolana),{version:"1",domain:oo.host,uri:oo.href}),Ct?{statement:Ct}:null));let Wn;if(Array.isArray(On)&&On[0]&&"object"==typeof On[0])Wn=On[0];else{if(!(On&&"object"==typeof On&&"signedMessage"in On&&"signature"in On))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");Wn=On}if(!("signedMessage"in Wn&&"signature"in Wn&&("string"==typeof Wn.signedMessage||Wn.signedMessage instanceof Uint8Array)&&Wn.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");nt="string"==typeof Wn.signedMessage?Wn.signedMessage:(new TextDecoder).decode(Wn.signedMessage),it=Wn.signature}else{if(!("signMessage"in Fn&&"function"==typeof Fn.signMessage&&"publicKey"in Fn&&"object"==typeof Fn&&Fn.publicKey&&"toBase58"in Fn.publicKey&&"function"==typeof Fn.publicKey.toBase58))throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");nt=[`${oo.host} wants you to sign in with your Solana account:`,Fn.publicKey.toBase58(),...Ct?["",Ct,""]:[""],"Version: 1",`URI: ${oo.href}`,`Issued At: ${null!==(I=null===(D=mt?.signInWithSolana)||void 0===D?void 0:D.issuedAt)&&void 0!==I?I:(new Date).toISOString()}`,...null!==(R=mt?.signInWithSolana)&&void 0!==R&&R.notBefore?[`Not Before: ${mt.signInWithSolana.notBefore}`]:[],...null!==(F=mt?.signInWithSolana)&&void 0!==F&&F.expirationTime?[`Expiration Time: ${mt.signInWithSolana.expirationTime}`]:[],...null!==(V=mt?.signInWithSolana)&&void 0!==V&&V.chainId?[`Chain ID: ${mt.signInWithSolana.chainId}`]:[],...null!==(W=mt?.signInWithSolana)&&void 0!==W&&W.nonce?[`Nonce: ${mt.signInWithSolana.nonce}`]:[],...null!==(pe=mt?.signInWithSolana)&&void 0!==pe&&pe.requestId?[`Request ID: ${mt.signInWithSolana.requestId}`]:[],...null!==(Pe=null===(De=mt?.signInWithSolana)||void 0===De?void 0:De.resources)&&void 0!==Pe&&Pe.length?["Resources",...mt.signInWithSolana.resources.map(Wn=>`- ${Wn}`)]:[]].join("\n");const On=yield Fn.signMessage((new TextEncoder).encode(nt),"utf8");if(!(On&&On instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");it=On}}try{const{data:Yt,error:sn}=yield ht(u.fetch,"POST",`${u.url}/token?grant_type=web3`,{headers:u.headers,body:Object.assign({chain:"solana",message:nt,signature:cr(it)},null!==(Se=s.options)&&void 0!==Se&&Se.captchaToken?{gotrue_meta_security:{captcha_token:null===(We=s.options)||void 0===We?void 0:We.captchaToken}}:null),xform:Ir});if(sn)throw sn;if(!Yt||!Yt.session||!Yt.user){const Ct=new lr;return u._returnResult({data:{user:null,session:null},error:Ct})}return Yt.session&&(yield u._saveSession(Yt.session),yield u._notifyAllSubscribers("SIGNED_IN",Yt.session)),u._returnResult({data:Object.assign({},Yt),error:sn})}catch(Yt){if(Ye(Yt))return u._returnResult({data:{user:null,session:null},error:Yt});throw Yt}})()}_exchangeCodeForSession(s){var u=this;return(0,G.A)(function*(){const g=yield br(u.storage,`${u.storageKey}-code-verifier`),[D,I]=(g??"").split("/");try{const{data:R,error:F}=yield ht(u.fetch,"POST",`${u.url}/token?grant_type=pkce`,{headers:u.headers,body:{auth_code:s,code_verifier:D},xform:Ir});if(yield Xn(u.storage,`${u.storageKey}-code-verifier`),F)throw F;if(!R||!R.session||!R.user){const V=new lr;return u._returnResult({data:{user:null,session:null,redirectType:null},error:V})}return R.session&&(yield u._saveSession(R.session),yield u._notifyAllSubscribers("SIGNED_IN",R.session)),u._returnResult({data:Object.assign(Object.assign({},R),{redirectType:I??null}),error:F})}catch(R){if(Ye(R))return u._returnResult({data:{user:null,session:null,redirectType:null},error:R});throw R}})()}signInWithIdToken(s){var u=this;return(0,G.A)(function*(){try{const{options:g,provider:D,token:I,access_token:R,nonce:F}=s,V=yield ht(u.fetch,"POST",`${u.url}/token?grant_type=id_token`,{headers:u.headers,body:{provider:D,id_token:I,access_token:R,nonce:F,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Ir}),{data:W,error:pe}=V;if(pe)return u._returnResult({data:{user:null,session:null},error:pe});if(!W||!W.session||!W.user){const De=new lr;return u._returnResult({data:{user:null,session:null},error:De})}return W.session&&(yield u._saveSession(W.session),yield u._notifyAllSubscribers("SIGNED_IN",W.session)),u._returnResult({data:W,error:pe})}catch(g){if(Ye(g))return u._returnResult({data:{user:null,session:null},error:g});throw g}})()}signInWithOtp(s){var u=this;return(0,G.A)(function*(){var g,D,I,R,F;try{if("email"in s){const{email:V,options:W}=s;let pe=null,De=null;"pkce"===u.flowType&&([pe,De]=yield ns(u.storage,u.storageKey));const{error:Pe}=yield ht(u.fetch,"POST",`${u.url}/otp`,{headers:u.headers,body:{email:V,data:null!==(g=W?.data)&&void 0!==g?g:{},create_user:null===(D=W?.shouldCreateUser)||void 0===D||D,gotrue_meta_security:{captcha_token:W?.captchaToken},code_challenge:pe,code_challenge_method:De},redirectTo:W?.emailRedirectTo});return u._returnResult({data:{user:null,session:null},error:Pe})}if("phone"in s){const{phone:V,options:W}=s,{data:pe,error:De}=yield ht(u.fetch,"POST",`${u.url}/otp`,{headers:u.headers,body:{phone:V,data:null!==(I=W?.data)&&void 0!==I?I:{},create_user:null===(R=W?.shouldCreateUser)||void 0===R||R,gotrue_meta_security:{captcha_token:W?.captchaToken},channel:null!==(F=W?.channel)&&void 0!==F?F:"sms"}});return u._returnResult({data:{user:null,session:null,messageId:pe?.message_id},error:De})}throw new _r("You must provide either an email or phone number.")}catch(V){if(Ye(V))return u._returnResult({data:{user:null,session:null},error:V});throw V}})()}verifyOtp(s){var u=this;return(0,G.A)(function*(){var g,D;try{let I,R;"options"in s&&(I=null===(g=s.options)||void 0===g?void 0:g.redirectTo,R=null===(D=s.options)||void 0===D?void 0:D.captchaToken);const{data:F,error:V}=yield ht(u.fetch,"POST",`${u.url}/verify`,{headers:u.headers,body:Object.assign(Object.assign({},s),{gotrue_meta_security:{captcha_token:R}}),redirectTo:I,xform:Ir});if(V)throw V;if(!F)throw new Error("An error occurred on token verification.");const W=F.session,pe=F.user;return W?.access_token&&(yield u._saveSession(W),yield u._notifyAllSubscribers("recovery"==s.type?"PASSWORD_RECOVERY":"SIGNED_IN",W)),u._returnResult({data:{user:pe,session:W},error:null})}catch(I){if(Ye(I))return u._returnResult({data:{user:null,session:null},error:I});throw I}})()}signInWithSSO(s){var u=this;return(0,G.A)(function*(){var g,D,I,R,F;try{let V=null,W=null;"pkce"===u.flowType&&([V,W]=yield ns(u.storage,u.storageKey));const pe=yield ht(u.fetch,"POST",`${u.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in s?{provider_id:s.providerId}:null),"domain"in s?{domain:s.domain}:null),{redirect_to:null!==(D=null===(g=s.options)||void 0===g?void 0:g.redirectTo)&&void 0!==D?D:void 0}),null!==(I=s?.options)&&void 0!==I&&I.captchaToken?{gotrue_meta_security:{captcha_token:s.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:V,code_challenge_method:W}),headers:u.headers,xform:rs});return!(null===(R=pe.data)||void 0===R)&&R.url&&A()&&!(null!==(F=s.options)&&void 0!==F&&F.skipBrowserRedirect)&&window.location.assign(pe.data.url),u._returnResult(pe)}catch(V){if(Ye(V))return u._returnResult({data:null,error:V});throw V}})()}reauthenticate(){var s=this;return(0,G.A)(function*(){return yield s.initializePromise,yield s._acquireLock(-1,(0,G.A)(function*(){return yield s._reauthenticate()}))})()}_reauthenticate(){var s=this;return(0,G.A)(function*(){try{return yield s._useSession(function(){var u=(0,G.A)(function*(g){const{data:{session:D},error:I}=g;if(I)throw I;if(!D)throw new Xt;const{error:R}=yield ht(s.fetch,"GET",`${s.url}/reauthenticate`,{headers:s.headers,jwt:D.access_token});return s._returnResult({data:{user:null,session:null},error:R})});return function(g){return u.apply(this,arguments)}}())}catch(u){if(Ye(u))return s._returnResult({data:{user:null,session:null},error:u});throw u}})()}resend(s){var u=this;return(0,G.A)(function*(){try{const g=`${u.url}/resend`;if("email"in s){const{email:D,type:I,options:R}=s,{error:F}=yield ht(u.fetch,"POST",g,{headers:u.headers,body:{email:D,type:I,gotrue_meta_security:{captcha_token:R?.captchaToken}},redirectTo:R?.emailRedirectTo});return u._returnResult({data:{user:null,session:null},error:F})}if("phone"in s){const{phone:D,type:I,options:R}=s,{data:F,error:V}=yield ht(u.fetch,"POST",g,{headers:u.headers,body:{phone:D,type:I,gotrue_meta_security:{captcha_token:R?.captchaToken}}});return u._returnResult({data:{user:null,session:null,messageId:F?.message_id},error:V})}throw new _r("You must provide either an email or phone number and a type")}catch(g){if(Ye(g))return u._returnResult({data:{user:null,session:null},error:g});throw g}})()}getSession(){var s=this;return(0,G.A)(function*(){return yield s.initializePromise,yield s._acquireLock(-1,(0,G.A)(function*(){return s._useSession(function(){var g=(0,G.A)(function*(D){return D});return function(D){return g.apply(this,arguments)}}())}))})()}_acquireLock(s,u){var g=this;return(0,G.A)(function*(){g._debug("#_acquireLock","begin",s);try{if(g.lockAcquired){const D=g.pendingInLock.length?g.pendingInLock[g.pendingInLock.length-1]:Promise.resolve(),I=(0,G.A)(function*(){return yield D,yield u()})();return g.pendingInLock.push((0,G.A)(function*(){try{yield I}catch{}})()),I}return yield g.lock(`lock:${g.storageKey}`,s,(0,G.A)(function*(){g._debug("#_acquireLock","lock acquired for storage key",g.storageKey);try{g.lockAcquired=!0;const D=u();for(g.pendingInLock.push((0,G.A)(function*(){try{yield D}catch{}})()),yield D;g.pendingInLock.length;){const I=[...g.pendingInLock];yield Promise.all(I),g.pendingInLock.splice(0,I.length)}return yield D}finally{g._debug("#_acquireLock","lock released for storage key",g.storageKey),g.lockAcquired=!1}}))}finally{g._debug("#_acquireLock","end")}})()}_useSession(s){var u=this;return(0,G.A)(function*(){u._debug("#_useSession","begin");try{const g=yield u.__loadSession();return yield s(g)}finally{u._debug("#_useSession","end")}})()}__loadSession(){var s=this;return(0,G.A)(function*(){s._debug("#__loadSession()","begin"),s.lockAcquired||s._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let u=null;const g=yield br(s.storage,s.storageKey);if(s._debug("#getSession()","session from storage",g),null!==g&&(s._isValidSession(g)?u=g:(s._debug("#getSession()","session from storage is not valid"),yield s._removeSession())),!u)return{data:{session:null},error:null};const D=!!u.expires_at&&1e3*u.expires_at-Date.now()<9e4;if(s._debug("#__loadSession()",`session has${D?"":" not"} expired`,"expires_at",u.expires_at),!D){if(s.userStorage){const F=yield br(s.userStorage,s.storageKey+"-user");u.user=F?.user?F.user:hr()}if(s.storage.isServer&&u.user&&!u.user.__isUserNotAvailableProxy){const F={value:s.suppressGetSessionWarning};u.user=function ui(d,a){return new Proxy(d,{get:(s,u,g)=>{if("__isInsecureUserWarningProxy"===u)return!0;if("symbol"==typeof u){const D=u.toString();if("Symbol(Symbol.toPrimitive)"===D||"Symbol(Symbol.toStringTag)"===D||"Symbol(util.inspect.custom)"===D||"Symbol(nodejs.util.inspect.custom)"===D)return Reflect.get(s,u,g)}return!a.value&&"string"==typeof u&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(s,u,g)}})}(u.user,F),F.value&&(s.suppressGetSessionWarning=!0)}return{data:{session:u},error:null}}const{data:I,error:R}=yield s._callRefreshToken(u.refresh_token);return s._returnResult(R?{data:{session:null},error:R}:{data:{session:I},error:null})}finally{s._debug("#__loadSession()","end")}})()}getUser(s){var u=this;return(0,G.A)(function*(){return s?yield u._getUser(s):(yield u.initializePromise,yield u._acquireLock(-1,(0,G.A)(function*(){return yield u._getUser()})))})()}_getUser(s){var u=this;return(0,G.A)(function*(){try{return s?yield ht(u.fetch,"GET",`${u.url}/user`,{headers:u.headers,jwt:s,xform:jr}):yield u._useSession(function(){var g=(0,G.A)(function*(D){var I,R,F;const{data:V,error:W}=D;if(W)throw W;return null!==(I=V.session)&&void 0!==I&&I.access_token||u.hasCustomAuthorizationHeader?yield ht(u.fetch,"GET",`${u.url}/user`,{headers:u.headers,jwt:null!==(F=null===(R=V.session)||void 0===R?void 0:R.access_token)&&void 0!==F?F:void 0,xform:jr}):{data:{user:null},error:new Xt}});return function(D){return g.apply(this,arguments)}}())}catch(g){if(Ye(g))return function co(d){return Ye(d)&&"AuthSessionMissingError"===d.name}(g)&&(yield u._removeSession(),yield Xn(u.storage,`${u.storageKey}-code-verifier`)),u._returnResult({data:{user:null},error:g});throw g}})()}updateUser(s){var u=this;return(0,G.A)(function*(g,D={}){return yield u.initializePromise,yield u._acquireLock(-1,(0,G.A)(function*(){return yield u._updateUser(g,D)}))}).apply(this,arguments)}_updateUser(s){var u=this;return(0,G.A)(function*(g,D={}){try{return yield u._useSession(function(){var I=(0,G.A)(function*(R){const{data:F,error:V}=R;if(V)throw V;if(!F.session)throw new Xt;const W=F.session;let pe=null,De=null;"pkce"===u.flowType&&null!=g.email&&([pe,De]=yield ns(u.storage,u.storageKey));const{data:Pe,error:Se}=yield ht(u.fetch,"PUT",`${u.url}/user`,{headers:u.headers,redirectTo:D?.emailRedirectTo,body:Object.assign(Object.assign({},g),{code_challenge:pe,code_challenge_method:De}),jwt:W.access_token,xform:jr});if(Se)throw Se;return W.user=Pe.user,yield u._saveSession(W),yield u._notifyAllSubscribers("USER_UPDATED",W),u._returnResult({data:{user:W.user},error:null})});return function(R){return I.apply(this,arguments)}}())}catch(I){if(Ye(I))return u._returnResult({data:{user:null},error:I});throw I}}).apply(this,arguments)}setSession(s){var u=this;return(0,G.A)(function*(){return yield u.initializePromise,yield u._acquireLock(-1,(0,G.A)(function*(){return yield u._setSession(s)}))})()}_setSession(s){var u=this;return(0,G.A)(function*(){try{if(!s.access_token||!s.refresh_token)throw new Xt;const g=Date.now()/1e3;let D=g,I=!0,R=null;const{payload:F}=es(s.access_token);if(F.exp&&(D=F.exp,I=D<=g),I){const{data:V,error:W}=yield u._callRefreshToken(s.refresh_token);if(W)return u._returnResult({data:{user:null,session:null},error:W});if(!V)return{data:{user:null,session:null},error:null};R=V}else{const{data:V,error:W}=yield u._getUser(s.access_token);if(W)throw W;R={access_token:s.access_token,refresh_token:s.refresh_token,user:V.user,token_type:"bearer",expires_in:D-g,expires_at:D},yield u._saveSession(R),yield u._notifyAllSubscribers("SIGNED_IN",R)}return u._returnResult({data:{user:R.user,session:R},error:null})}catch(g){if(Ye(g))return u._returnResult({data:{session:null,user:null},error:g});throw g}})()}refreshSession(s){var u=this;return(0,G.A)(function*(){return yield u.initializePromise,yield u._acquireLock(-1,(0,G.A)(function*(){return yield u._refreshSession(s)}))})()}_refreshSession(s){var u=this;return(0,G.A)(function*(){try{return yield u._useSession(function(){var g=(0,G.A)(function*(D){var I;if(!s){const{data:V,error:W}=D;if(W)throw W;s=null!==(I=V.session)&&void 0!==I?I:void 0}if(!s?.refresh_token)throw new Xt;const{data:R,error:F}=yield u._callRefreshToken(s.refresh_token);return u._returnResult(F?{data:{user:null,session:null},error:F}:R?{data:{user:R.user,session:R},error:null}:{data:{user:null,session:null},error:null})});return function(D){return g.apply(this,arguments)}}())}catch(g){if(Ye(g))return u._returnResult({data:{user:null,session:null},error:g});throw g}})()}_getSessionFromURL(s,u){var g=this;return(0,G.A)(function*(){try{if(!A())throw new ho("No browser detected.");if(s.error||s.error_description||s.error_code)throw new ho(s.error_description||"Error in URL with unspecified error_description",{error:s.error||"unspecified_error",code:s.error_code||"unspecified_code"});switch(u){case"implicit":if("pkce"===g.flowType)throw new fo("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===g.flowType)throw new ho("Not a valid implicit grant flow url.")}if("pkce"===u){if(g._debug("#_initialize()","begin","is PKCE flow",!0),!s.code)throw new fo("No code detected.");const{data:Ct,error:mt}=yield g._exchangeCodeForSession(s.code);if(mt)throw mt;const Fn=new URL(window.location.href);return Fn.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Fn.toString()),{data:{session:Ct.session,redirectType:null},error:null}}const{provider_token:D,provider_refresh_token:I,access_token:R,refresh_token:F,expires_in:V,expires_at:W,token_type:pe}=s;if(!(R&&V&&F&&pe))throw new ho("No session defined in URL");const De=Math.round(Date.now()/1e3),Pe=parseInt(V);let Se=De+Pe;W&&(Se=parseInt(W));const We=Se-De;1e3*We<=Er&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${We}s, should have been closer to ${Pe}s`);const nt=Se-Pe;De-nt>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",nt,Se,De):De-nt<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",nt,Se,De);const{data:it,error:Yt}=yield g._getUser(R);if(Yt)throw Yt;const sn={provider_token:D,provider_refresh_token:I,access_token:R,expires_in:Pe,expires_at:Se,refresh_token:F,token_type:pe,user:it.user};return window.location.hash="",g._debug("#_getSessionFromURL()","clearing window.location.hash"),g._returnResult({data:{session:sn,redirectType:s.type},error:null})}catch(D){if(Ye(D))return g._returnResult({data:{session:null,redirectType:null},error:D});throw D}})()}_isImplicitGrantCallback(s){return!(!s.access_token&&!s.error_description)}_isPKCECallback(s){var u=this;return(0,G.A)(function*(){const g=yield br(u.storage,`${u.storageKey}-code-verifier`);return!(!s.code||!g)})()}signOut(){var s=this;return(0,G.A)(function*(u={scope:"global"}){return yield s.initializePromise,yield s._acquireLock(-1,(0,G.A)(function*(){return yield s._signOut(u)}))}).apply(this,arguments)}_signOut(){var s=this;return(0,G.A)(function*({scope:u}={scope:"global"}){return yield s._useSession(function(){var g=(0,G.A)(function*(D){var I;const{data:R,error:F}=D;if(F)return s._returnResult({error:F});const V=null===(I=R.session)||void 0===I?void 0:I.access_token;if(V){const{error:W}=yield s.admin.signOut(V,u);if(W&&(!function Go(d){return Ye(d)&&"AuthApiError"===d.name}(W)||404!==W.status&&401!==W.status&&403!==W.status))return s._returnResult({error:W})}return"others"!==u&&(yield s._removeSession(),yield Xn(s.storage,`${s.storageKey}-code-verifier`)),s._returnResult({error:null})});return function(D){return g.apply(this,arguments)}}())}).apply(this,arguments)}onAuthStateChange(s){var u=this;const g=function M(){return Symbol("auth-callback")}(),D={id:g,callback:s,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",g),this.stateChangeEmitters.delete(g)}};return this._debug("#onAuthStateChange()","registered callback with id",g),this.stateChangeEmitters.set(g,D),(0,G.A)(function*(){yield u.initializePromise,yield u._acquireLock(-1,(0,G.A)(function*(){u._emitInitialSession(g)}))})(),{data:{subscription:D}}}_emitInitialSession(s){var u=this;return(0,G.A)(function*(){return yield u._useSession(function(){var g=(0,G.A)(function*(D){var I,R;try{const{data:{session:F},error:V}=D;if(V)throw V;yield null===(I=u.stateChangeEmitters.get(s))||void 0===I?void 0:I.callback("INITIAL_SESSION",F),u._debug("INITIAL_SESSION","callback id",s,"session",F)}catch(F){yield null===(R=u.stateChangeEmitters.get(s))||void 0===R?void 0:R.callback("INITIAL_SESSION",null),u._debug("INITIAL_SESSION","callback id",s,"error",F),console.error(F)}});return function(D){return g.apply(this,arguments)}}())})()}resetPasswordForEmail(s){var u=this;return(0,G.A)(function*(g,D={}){let I=null,R=null;"pkce"===u.flowType&&([I,R]=yield ns(u.storage,u.storageKey,!0));try{return yield ht(u.fetch,"POST",`${u.url}/recover`,{body:{email:g,code_challenge:I,code_challenge_method:R,gotrue_meta_security:{captcha_token:D.captchaToken}},headers:u.headers,redirectTo:D.redirectTo})}catch(F){if(Ye(F))return u._returnResult({data:null,error:F});throw F}}).apply(this,arguments)}getUserIdentities(){var s=this;return(0,G.A)(function*(){var u;try{const{data:g,error:D}=yield s.getUser();if(D)throw D;return s._returnResult({data:{identities:null!==(u=g.user.identities)&&void 0!==u?u:[]},error:null})}catch(g){if(Ye(g))return s._returnResult({data:null,error:g});throw g}})()}linkIdentity(s){var u=this;return(0,G.A)(function*(){return"token"in s?u.linkIdentityIdToken(s):u.linkIdentityOAuth(s)})()}linkIdentityOAuth(s){var u=this;return(0,G.A)(function*(){var g;try{const{data:D,error:I}=yield u._useSession(function(){var R=(0,G.A)(function*(F){var V,W,pe,De,Pe;const{data:Se,error:We}=F;if(We)throw We;const nt=yield u._getUrlForProvider(`${u.url}/user/identities/authorize`,s.provider,{redirectTo:null===(V=s.options)||void 0===V?void 0:V.redirectTo,scopes:null===(W=s.options)||void 0===W?void 0:W.scopes,queryParams:null===(pe=s.options)||void 0===pe?void 0:pe.queryParams,skipBrowserRedirect:!0});return yield ht(u.fetch,"GET",nt,{headers:u.headers,jwt:null!==(Pe=null===(De=Se.session)||void 0===De?void 0:De.access_token)&&void 0!==Pe?Pe:void 0})});return function(F){return R.apply(this,arguments)}}());if(I)throw I;return A()&&!(null!==(g=s.options)&&void 0!==g&&g.skipBrowserRedirect)&&window.location.assign(D?.url),u._returnResult({data:{provider:s.provider,url:D?.url},error:null})}catch(D){if(Ye(D))return u._returnResult({data:{provider:s.provider,url:null},error:D});throw D}})()}linkIdentityIdToken(s){var u=this;return(0,G.A)(function*(){return yield u._useSession(function(){var g=(0,G.A)(function*(D){var I;try{const{error:R,data:{session:F}}=D;if(R)throw R;const{options:V,provider:W,token:pe,access_token:De,nonce:Pe}=s,Se=yield ht(u.fetch,"POST",`${u.url}/token?grant_type=id_token`,{headers:u.headers,jwt:null!==(I=F?.access_token)&&void 0!==I?I:void 0,body:{provider:W,id_token:pe,access_token:De,nonce:Pe,link_identity:!0,gotrue_meta_security:{captcha_token:V?.captchaToken}},xform:Ir}),{data:We,error:nt}=Se;return nt?u._returnResult({data:{user:null,session:null},error:nt}):We&&We.session&&We.user?(We.session&&(yield u._saveSession(We.session),yield u._notifyAllSubscribers("USER_UPDATED",We.session)),u._returnResult({data:We,error:nt})):u._returnResult({data:{user:null,session:null},error:new lr})}catch(R){if(Ye(R))return u._returnResult({data:{user:null,session:null},error:R});throw R}});return function(D){return g.apply(this,arguments)}}())})()}unlinkIdentity(s){var u=this;return(0,G.A)(function*(){try{return yield u._useSession(function(){var g=(0,G.A)(function*(D){var I,R;const{data:F,error:V}=D;if(V)throw V;return yield ht(u.fetch,"DELETE",`${u.url}/user/identities/${s.identity_id}`,{headers:u.headers,jwt:null!==(R=null===(I=F.session)||void 0===I?void 0:I.access_token)&&void 0!==R?R:void 0})});return function(D){return g.apply(this,arguments)}}())}catch(g){if(Ye(g))return u._returnResult({data:null,error:g});throw g}})()}_refreshAccessToken(s){var u=this;return(0,G.A)(function*(){const g=`#_refreshAccessToken(${s.substring(0,5)}...)`;u._debug(g,"begin");try{const D=Date.now();return yield function ka(d,a){return new Promise((u,g)=>{(0,G.A)(function*(){for(let D=0;D<1/0;D++)try{const I=yield d(D);if(!a(D,null,I))return void u(I)}catch(I){if(!a(D,I))return void g(I)}})()})}(function(){var I=(0,G.A)(function*(R){return R>0&&(yield function Ts(d){return ts.apply(this,arguments)}(200*Math.pow(2,R-1))),u._debug(g,"refreshing attempt",R),yield ht(u.fetch,"POST",`${u.url}/token?grant_type=refresh_token`,{body:{refresh_token:s},headers:u.headers,xform:Ir})});return function(R){return I.apply(this,arguments)}}(),(I,R)=>{const F=200*Math.pow(2,I);return R&&po(R)&&Date.now()+F-D<Er})}catch(D){if(u._debug(g,"error",D),Ye(D))return u._returnResult({data:{session:null,user:null},error:D});throw D}finally{u._debug(g,"end")}})()}_isValidSession(s){return"object"==typeof s&&null!==s&&"access_token"in s&&"refresh_token"in s&&"expires_at"in s}_handleProviderSignIn(s,u){var g=this;return(0,G.A)(function*(){const D=yield g._getUrlForProvider(`${g.url}/authorize`,s,{redirectTo:u.redirectTo,scopes:u.scopes,queryParams:u.queryParams});return g._debug("#_handleProviderSignIn()","provider",s,"options",u,"url",D),A()&&!u.skipBrowserRedirect&&window.location.assign(D),{data:{provider:s,url:D},error:null}})()}_recoverAndRefresh(){var s=this;return(0,G.A)(function*(){var u,g;const D="#_recoverAndRefresh()";s._debug(D,"begin");try{const I=yield br(s.storage,s.storageKey);if(I&&s.userStorage){let F=yield br(s.userStorage,s.storageKey+"-user");!s.storage.isServer&&Object.is(s.storage,s.userStorage)&&!F&&(F={user:I.user},yield qn(s.userStorage,s.storageKey+"-user",F)),I.user=null!==(u=F?.user)&&void 0!==u?u:hr()}else if(I&&!I.user&&!I.user){const F=yield br(s.storage,s.storageKey+"-user");F&&F?.user?(I.user=F.user,yield Xn(s.storage,s.storageKey+"-user"),yield qn(s.storage,s.storageKey,I)):I.user=hr()}if(s._debug(D,"session from storage",I),!s._isValidSession(I))return s._debug(D,"session is not valid"),void(null!==I&&(yield s._removeSession()));const R=1e3*(null!==(g=I.expires_at)&&void 0!==g?g:1/0)-Date.now()<9e4;if(s._debug(D,`session has${R?"":" not"} expired with margin of 90000s`),R){if(s.autoRefreshToken&&I.refresh_token){const{error:F}=yield s._callRefreshToken(I.refresh_token);F&&(console.error(F),po(F)||(s._debug(D,"refresh failed with a non-retryable error, removing the session",F),yield s._removeSession()))}}else if(I.user&&!0===I.user.__isUserNotAvailableProxy)try{const{data:F,error:V}=yield s._getUser(I.access_token);!V&&F?.user?(I.user=F.user,yield s._saveSession(I),yield s._notifyAllSubscribers("SIGNED_IN",I)):s._debug(D,"could not get user data, skipping SIGNED_IN notification")}catch(F){console.error("Error getting user data:",F),s._debug(D,"error getting user data, skipping SIGNED_IN notification",F)}else yield s._notifyAllSubscribers("SIGNED_IN",I)}catch(I){return s._debug(D,"error",I),void console.error(I)}finally{s._debug(D,"end")}})()}_callRefreshToken(s){var u=this;return(0,G.A)(function*(){var g,D;if(!s)throw new Xt;if(u.refreshingDeferred)return u.refreshingDeferred.promise;const I=`#_callRefreshToken(${s.substring(0,5)}...)`;u._debug(I,"begin");try{u.refreshingDeferred=new Mr;const{data:R,error:F}=yield u._refreshAccessToken(s);if(F)throw F;if(!R.session)throw new Xt;yield u._saveSession(R.session),yield u._notifyAllSubscribers("TOKEN_REFRESHED",R.session);const V={data:R.session,error:null};return u.refreshingDeferred.resolve(V),V}catch(R){if(u._debug(I,"error",R),Ye(R)){const F={data:null,error:R};return po(R)||(yield u._removeSession()),null===(g=u.refreshingDeferred)||void 0===g||g.resolve(F),F}throw null===(D=u.refreshingDeferred)||void 0===D||D.reject(R),R}finally{u.refreshingDeferred=null,u._debug(I,"end")}})()}_notifyAllSubscribers(s,u){var g=this;return(0,G.A)(function*(D,I,R=!0){const F=`#_notifyAllSubscribers(${D})`;g._debug(F,"begin",I,`broadcast = ${R}`);try{g.broadcastChannel&&R&&g.broadcastChannel.postMessage({event:D,session:I});const V=[],W=Array.from(g.stateChangeEmitters.values()).map(function(){var pe=(0,G.A)(function*(De){try{yield De.callback(D,I)}catch(Pe){V.push(Pe)}});return function(De){return pe.apply(this,arguments)}}());if(yield Promise.all(W),V.length>0){for(let pe=0;pe<V.length;pe+=1)console.error(V[pe]);throw V[0]}}finally{g._debug(F,"end")}}).apply(this,arguments)}_saveSession(s){var u=this;return(0,G.A)(function*(){u._debug("#_saveSession()",s),u.suppressGetSessionWarning=!0;const g=Object.assign({},s);if(u.userStorage){(!g.user||!0!==g.user.__isUserNotAvailableProxy)&&g.user&&(yield qn(u.userStorage,u.storageKey+"-user",{user:g.user}));const I=Object.assign({},g);delete I.user;const R=Rs(I);yield qn(u.storage,u.storageKey,R)}else{const I=Rs(g);yield qn(u.storage,u.storageKey,I)}})()}_removeSession(){var s=this;return(0,G.A)(function*(){s._debug("#_removeSession()"),yield Xn(s.storage,s.storageKey),yield Xn(s.storage,s.storageKey+"-code-verifier"),yield Xn(s.storage,s.storageKey+"-user"),s.userStorage&&(yield Xn(s.userStorage,s.storageKey+"-user")),yield s._notifyAllSubscribers("SIGNED_OUT",null)})()}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const s=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{s&&A()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",s)}catch(u){console.error("removing visibilitychange callback failed",u)}}_startAutoRefresh(){var s=this;return(0,G.A)(function*(){yield s._stopAutoRefresh(),s._debug("#_startAutoRefresh()");const u=setInterval(()=>s._autoRefreshTokenTick(),Er);s.autoRefreshTicker=u,u&&"object"==typeof u&&"function"==typeof u.unref?u.unref():typeof Deno<"u"&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(u),setTimeout((0,G.A)(function*(){yield s.initializePromise,yield s._autoRefreshTokenTick()}),0)})()}_stopAutoRefresh(){var s=this;return(0,G.A)(function*(){s._debug("#_stopAutoRefresh()");const u=s.autoRefreshTicker;s.autoRefreshTicker=null,u&&clearInterval(u)})()}startAutoRefresh(){var s=this;return(0,G.A)(function*(){s._removeVisibilityChangedCallback(),yield s._startAutoRefresh()})()}stopAutoRefresh(){var s=this;return(0,G.A)(function*(){s._removeVisibilityChangedCallback(),yield s._stopAutoRefresh()})()}_autoRefreshTokenTick(){var s=this;return(0,G.A)(function*(){s._debug("#_autoRefreshTokenTick()","begin");try{yield s._acquireLock(0,(0,G.A)(function*(){try{const u=Date.now();try{return yield s._useSession(function(){var g=(0,G.A)(function*(D){const{data:{session:I}}=D;if(!I||!I.refresh_token||!I.expires_at)return void s._debug("#_autoRefreshTokenTick()","no session");const R=Math.floor((1e3*I.expires_at-u)/Er);s._debug("#_autoRefreshTokenTick()",`access token expires in ${R} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),R<=3&&(yield s._callRefreshToken(I.refresh_token))});return function(D){return g.apply(this,arguments)}}())}catch(g){console.error("Auto refresh tick failed with error. This is likely a transient error.",g)}}finally{s._debug("#_autoRefreshTokenTick()","end")}}))}catch(u){if(!(u.isAcquireTimeout||u instanceof Nt))throw u;s._debug("auto refresh token tick lock not available")}})()}_handleVisibilityChange(){var s=this;return(0,G.A)(function*(){if(s._debug("#_handleVisibilityChange()"),!A()||!window?.addEventListener)return s.autoRefreshToken&&s.startAutoRefresh(),!1;try{s.visibilityChangedCallback=(0,G.A)(function*(){return yield s._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",s.visibilityChangedCallback),yield s._onVisibilityChanged(!0)}catch(u){console.error("_handleVisibilityChange",u)}})()}_onVisibilityChanged(s){var u=this;return(0,G.A)(function*(){const g=`#_onVisibilityChanged(${s})`;u._debug(g,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(u.autoRefreshToken&&u._startAutoRefresh(),s||(yield u.initializePromise,yield u._acquireLock(-1,(0,G.A)(function*(){"visible"===document.visibilityState?yield u._recoverAndRefresh():u._debug(g,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&u.autoRefreshToken&&u._stopAutoRefresh()})()}_getUrlForProvider(s,u,g){var D=this;return(0,G.A)(function*(){const I=[`provider=${encodeURIComponent(u)}`];if(g?.redirectTo&&I.push(`redirect_to=${encodeURIComponent(g.redirectTo)}`),g?.scopes&&I.push(`scopes=${encodeURIComponent(g.scopes)}`),"pkce"===D.flowType){const[R,F]=yield ns(D.storage,D.storageKey),V=new URLSearchParams({code_challenge:`${encodeURIComponent(R)}`,code_challenge_method:`${encodeURIComponent(F)}`});I.push(V.toString())}if(g?.queryParams){const R=new URLSearchParams(g.queryParams);I.push(R.toString())}return g?.skipBrowserRedirect&&I.push(`skip_http_redirect=${g.skipBrowserRedirect}`),`${s}?${I.join("&")}`})()}_unenroll(s){var u=this;return(0,G.A)(function*(){try{return yield u._useSession(function(){var g=(0,G.A)(function*(D){var I;const{data:R,error:F}=D;return F?u._returnResult({data:null,error:F}):yield ht(u.fetch,"DELETE",`${u.url}/factors/${s.factorId}`,{headers:u.headers,jwt:null===(I=R?.session)||void 0===I?void 0:I.access_token})});return function(D){return g.apply(this,arguments)}}())}catch(g){if(Ye(g))return u._returnResult({data:null,error:g});throw g}})()}_enroll(s){var u=this;return(0,G.A)(function*(){try{return yield u._useSession(function(){var g=(0,G.A)(function*(D){var I,R;const{data:F,error:V}=D;if(V)return u._returnResult({data:null,error:V});const W=Object.assign({friendly_name:s.friendlyName,factor_type:s.factorType},"phone"===s.factorType?{phone:s.phone}:"totp"===s.factorType?{issuer:s.issuer}:{}),{data:pe,error:De}=yield ht(u.fetch,"POST",`${u.url}/factors`,{body:W,headers:u.headers,jwt:null===(I=F?.session)||void 0===I?void 0:I.access_token});return De?u._returnResult({data:null,error:De}):("totp"===s.factorType&&"totp"===pe.type&&!(null===(R=pe?.totp)||void 0===R)&&R.qr_code&&(pe.totp.qr_code=`data:image/svg+xml;utf-8,${pe.totp.qr_code}`),u._returnResult({data:pe,error:null}))});return function(D){return g.apply(this,arguments)}}())}catch(g){if(Ye(g))return u._returnResult({data:null,error:g});throw g}})()}_verify(s){var u=this;return(0,G.A)(function*(){return u._acquireLock(-1,(0,G.A)(function*(){try{return yield u._useSession(function(){var g=(0,G.A)(function*(D){var I;const{data:R,error:F}=D;if(F)return u._returnResult({data:null,error:F});const V=Object.assign({challenge_id:s.challengeId},"webauthn"in s?{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_response:"create"===s.webauthn.type?Mi(s.webauthn.credential_response):Ys(s.webauthn.credential_response)})}:{code:s.code}),{data:W,error:pe}=yield ht(u.fetch,"POST",`${u.url}/factors/${s.factorId}/verify`,{body:V,headers:u.headers,jwt:null===(I=R?.session)||void 0===I?void 0:I.access_token});return pe?u._returnResult({data:null,error:pe}):(yield u._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+W.expires_in},W)),yield u._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",W),u._returnResult({data:W,error:pe}))});return function(D){return g.apply(this,arguments)}}())}catch(g){if(Ye(g))return u._returnResult({data:null,error:g});throw g}}))})()}_challenge(s){var u=this;return(0,G.A)(function*(){return u._acquireLock(-1,(0,G.A)(function*(){try{return yield u._useSession(function(){var g=(0,G.A)(function*(D){var I;const{data:R,error:F}=D;if(F)return u._returnResult({data:null,error:F});const V=yield ht(u.fetch,"POST",`${u.url}/factors/${s.factorId}/challenge`,{body:s,headers:u.headers,jwt:null===(I=R?.session)||void 0===I?void 0:I.access_token});if(V.error)return V;const{data:W}=V;if("webauthn"!==W.type)return{data:W,error:null};switch(W.webauthn.type){case"create":return{data:Object.assign(Object.assign({},W),{webauthn:Object.assign(Object.assign({},W.webauthn),{credential_options:Object.assign(Object.assign({},W.webauthn.credential_options),{publicKey:Jr(W.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},W),{webauthn:Object.assign(Object.assign({},W.webauthn),{credential_options:Object.assign(Object.assign({},W.webauthn.credential_options),{publicKey:xo(W.webauthn.credential_options.publicKey)})})}),error:null}}});return function(D){return g.apply(this,arguments)}}())}catch(g){if(Ye(g))return u._returnResult({data:null,error:g});throw g}}))})()}_challengeAndVerify(s){var u=this;return(0,G.A)(function*(){const{data:g,error:D}=yield u._challenge({factorId:s.factorId});return D?u._returnResult({data:null,error:D}):yield u._verify({factorId:s.factorId,challengeId:g.id,code:s.code})})()}_listFactors(){var s=this;return(0,G.A)(function*(){var u;const{data:{user:g},error:D}=yield s.getUser();if(D)return{data:null,error:D};const I={all:[],phone:[],totp:[],webauthn:[]};for(const R of null!==(u=g?.factors)&&void 0!==u?u:[])I.all.push(R),"verified"===R.status&&I[R.factor_type].push(R);return{data:I,error:null}})()}_getAuthenticatorAssuranceLevel(){var s=this;return(0,G.A)(function*(){var u,g;const{data:{session:D},error:I}=yield s.getSession();if(I)return s._returnResult({data:null,error:I});if(!D)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:R}=es(D.access_token);let F=null;R.aal&&(F=R.aal);let V=F;return(null!==(g=null===(u=D.user.factors)||void 0===u?void 0:u.filter(De=>"verified"===De.status))&&void 0!==g?g:[]).length>0&&(V="aal2"),{data:{currentLevel:F,nextLevel:V,currentAuthenticationMethods:R.amr||[]},error:null}})()}_getAuthorizationDetails(s){var u=this;return(0,G.A)(function*(){try{return yield u._useSession(function(){var g=(0,G.A)(function*(D){const{data:{session:I},error:R}=D;return R?u._returnResult({data:null,error:R}):I?yield ht(u.fetch,"GET",`${u.url}/oauth/authorizations/${s}`,{headers:u.headers,jwt:I.access_token,xform:F=>({data:F,error:null})}):u._returnResult({data:null,error:new Xt})});return function(D){return g.apply(this,arguments)}}())}catch(g){if(Ye(g))return u._returnResult({data:null,error:g});throw g}})()}_approveAuthorization(s,u){var g=this;return(0,G.A)(function*(){try{return yield g._useSession(function(){var D=(0,G.A)(function*(I){const{data:{session:R},error:F}=I;if(F)return g._returnResult({data:null,error:F});if(!R)return g._returnResult({data:null,error:new Xt});const V=yield ht(g.fetch,"POST",`${g.url}/oauth/authorizations/${s}/consent`,{headers:g.headers,jwt:R.access_token,body:{action:"approve"},xform:W=>({data:W,error:null})});return V.data&&V.data.redirect_url&&A()&&!u?.skipBrowserRedirect&&window.location.assign(V.data.redirect_url),V});return function(I){return D.apply(this,arguments)}}())}catch(D){if(Ye(D))return g._returnResult({data:null,error:D});throw D}})()}_denyAuthorization(s,u){var g=this;return(0,G.A)(function*(){try{return yield g._useSession(function(){var D=(0,G.A)(function*(I){const{data:{session:R},error:F}=I;if(F)return g._returnResult({data:null,error:F});if(!R)return g._returnResult({data:null,error:new Xt});const V=yield ht(g.fetch,"POST",`${g.url}/oauth/authorizations/${s}/consent`,{headers:g.headers,jwt:R.access_token,body:{action:"deny"},xform:W=>({data:W,error:null})});return V.data&&V.data.redirect_url&&A()&&!u?.skipBrowserRedirect&&window.location.assign(V.data.redirect_url),V});return function(I){return D.apply(this,arguments)}}())}catch(D){if(Ye(D))return g._returnResult({data:null,error:D});throw D}})()}_listOAuthGrants(){var s=this;return(0,G.A)(function*(){try{return yield s._useSession(function(){var u=(0,G.A)(function*(g){const{data:{session:D},error:I}=g;return I?s._returnResult({data:null,error:I}):D?yield ht(s.fetch,"GET",`${s.url}/user/oauth/grants`,{headers:s.headers,jwt:D.access_token,xform:R=>({data:R,error:null})}):s._returnResult({data:null,error:new Xt})});return function(g){return u.apply(this,arguments)}}())}catch(u){if(Ye(u))return s._returnResult({data:null,error:u});throw u}})()}_revokeOAuthGrant(s){var u=this;return(0,G.A)(function*(){try{return yield u._useSession(function(){var g=(0,G.A)(function*(D){const{data:{session:I},error:R}=D;return R?u._returnResult({data:null,error:R}):I?(yield ht(u.fetch,"DELETE",`${u.url}/user/oauth/grants`,{headers:u.headers,jwt:I.access_token,query:{client_id:s.clientId},noResolveJson:!0}),{data:{},error:null}):u._returnResult({data:null,error:new Xt})});return function(D){return g.apply(this,arguments)}}())}catch(g){if(Ye(g))return u._returnResult({data:null,error:g});throw g}})()}fetchJwk(s){var u=this;return(0,G.A)(function*(g,D={keys:[]}){let I=D.keys.find(W=>W.kid===g);if(I)return I;const R=Date.now();if(I=u.jwks.keys.find(W=>W.kid===g),I&&u.jwks_cached_at+6e5>R)return I;const{data:F,error:V}=yield ht(u.fetch,"GET",`${u.url}/.well-known/jwks.json`,{headers:u.headers});if(V)throw V;return F.keys&&0!==F.keys.length&&(u.jwks=F,u.jwks_cached_at=R,I=F.keys.find(W=>W.kid===g),I)?I:null}).apply(this,arguments)}getClaims(s){var u=this;return(0,G.A)(function*(g,D={}){try{let I=g;if(!I){const{data:nt,error:it}=yield u.getSession();if(it||!nt.session)return u._returnResult({data:null,error:it});I=nt.session.access_token}const{header:R,payload:F,signature:V,raw:{header:W,payload:pe}}=es(I);D?.allowExpired||function ji(d){if(!d)throw new Error("Missing exp claim");if(d<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(F.exp);const De=R.alg&&!R.alg.startsWith("HS")&&R.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?yield u.fetchJwk(R.kid,D?.keys?{keys:D.keys}:D?.jwks):null;if(!De){const{error:nt}=yield u.getUser(I);if(nt)throw nt;return{data:{claims:F,header:R,signature:V},error:null}}const Pe=function La(d){switch(d){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(R.alg),Se=yield crypto.subtle.importKey("jwk",De,Pe,!0,["verify"]);if(!(yield crypto.subtle.verify(Pe,Se,V,function un(d){const a=[];return function kn(d,a){for(let s=0;s<d.length;s+=1){let u=d.charCodeAt(s);if(u>55295&&u<=56319){const g=1024*(u-55296)&65535;u=65536+(d.charCodeAt(s+1)-56320&65535|g),s+=1}_i(u,a)}}(d,s=>a.push(s)),new Uint8Array(a)}(`${W}.${pe}`))))throw new As("Invalid JWT signature");return{data:{claims:F,header:R,signature:V},error:null}}catch(I){if(Ye(I))return u._returnResult({data:null,error:I});throw I}}).apply(this,arguments)}}return d.nextInstanceID={},d})();class Ha extends Hi{constructor(a){super(a)}}class ku{constructor(a,s,u){var g,D,I;this.supabaseUrl=a,this.supabaseKey=s;const R=function $o(d){const a=d?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(function _n(d){return d.endsWith("/")?d:d+"/"}(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}(a);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",R),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",R),this.storageUrl=new URL("storage/v1",R),this.functionsUrl=new URL("functions/v1",R);const F=`sb-${R.hostname.split(".")[0]}-auth-token`,W=function ur(d,a){var s,u;const{db:g,auth:D,realtime:I,global:R}=d,{db:F,auth:V,realtime:W,global:pe}=a,De={db:Object.assign(Object.assign({},F),g),auth:Object.assign(Object.assign({},V),D),realtime:Object.assign(Object.assign({},W),I),storage:{},global:Object.assign(Object.assign(Object.assign({},pe),R),{headers:Object.assign(Object.assign({},null!==(s=pe?.headers)&&void 0!==s?s:{}),null!==(u=R?.headers)&&void 0!==u?u:{})}),accessToken:(Pe=(0,G.A)(function*(){return""}),function(){return Pe.apply(this,arguments)})};var Pe;return d.accessToken?De.accessToken=d.accessToken:delete De.accessToken,De}(u??{},{db:So,realtime:yr,auth:Object.assign(Object.assign({},vs),{storageKey:F}),global:ms});this.storageKey=null!==(g=W.auth.storageKey)&&void 0!==g?g:"",this.headers=null!==(D=W.global.headers)&&void 0!==D?D:{},W.accessToken?(this.accessToken=W.accessToken,this.auth=new Proxy({},{get:(pe,De)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(De)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(I=W.auth)&&void 0!==I?I:{},this.headers,W.global.fetch),this.fetch=Ht(s,this._getAccessToken.bind(this),W.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},W.realtime)),this.accessToken&&this.accessToken().then(pe=>this.realtime.setAuth(pe)).catch(pe=>console.warn("Failed to set initial Realtime auth token:",pe)),this.rest=new Cn(new URL("rest/v1",R).href,{headers:this.headers,schema:W.db.schema,fetch:this.fetch}),this.storage=new Yo(this.storageUrl.href,this.headers,this.fetch,u?.storage),W.accessToken||this._listenForAuthEvents()}get functions(){return new ft(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,s={},u={head:!1,get:!1,count:void 0}){return this.rest.rpc(a,s,u)}channel(a,s={config:{}}){return this.realtime.channel(a,s)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var a=this;return(0,G.A)(function*(){var s,u;if(a.accessToken)return yield a.accessToken();const{data:g}=yield a.auth.getSession();return null!==(u=null===(s=g.session)||void 0===s?void 0:s.access_token)&&void 0!==u?u:a.supabaseKey})()}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:s,detectSessionInUrl:u,storage:g,userStorage:D,storageKey:I,flowType:R,lock:F,debug:V,throwOnError:W},pe,De){return new Ha({url:this.authUrl.href,headers:Object.assign(Object.assign({},{Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`}),pe),storageKey:I,autoRefreshToken:a,persistSession:s,detectSessionInUrl:u,storage:g,userStorage:D,flowType:R,lock:F,debug:V,throwOnError:W,fetch:De,hasCustomAuthorizationHeader:Object.keys(this.headers).some(Se=>"authorization"===Se.toLowerCase())})}_initRealtimeClient(a){return new gr(this.realtimeUrl.href,Object.assign(Object.assign({},a),{params:Object.assign({apikey:this.supabaseKey},a?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,u)=>{this._handleTokenChanged(s,"CLIENT",u?.access_token)})}_handleTokenChanged(a,s,u){"TOKEN_REFRESHED"!==a&&"SIGNED_IN"!==a||this.changedAccessToken===u?"SIGNED_OUT"===a&&(this.realtime.setAuth(),"STORAGE"==s&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=u,this.realtime.setAuth(u))}}(function ei(){if(typeof window<"u"||typeof process>"u")return!1;const d=process.version;if(null==d)return!1;const a=d.match(/^v(\d+)\./);return!!a&&parseInt(a[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");let za=(()=>{class d{http;apiUrl=at.c.apiUrl;supabase;channel=null;messagesSubject=new Oe.t([]);messages$=this.messagesSubject.asObservable();typingUsersSubject=new Oe.t([]);typingUsers$=this.typingUsersSubject.asObservable();statsSubject=new Oe.t(null);stats$=this.statsSubject.asObservable();connectedSubject=new Oe.t(!0);connected$=this.connectedSubject.asObservable();onlineUsersSubject=new Oe.t(1);onlineUsers$=this.onlineUsersSubject.asObservable();currentUser="Usuario";userId=this.generateUserId();currentRoom="general";isTyping=!1;subscriptions=[];constructor(s){this.http=s,this.supabase=((d,a,s)=>new ku(d,a,s))(at.c.supabaseUrl,at.c.supabaseKey,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:localStorage},realtime:{params:{eventsPerSecond:10}}}),this.loadUserFromStorage(),this.loadInitialHistory().subscribe(()=>{this.setupRealtimeSubscription()}),this.subscriptions.push(this.setupPeriodicStats(),this.setupOnlineUsersCheck())}ngOnDestroy(){this.subscriptions.forEach(s=>s.unsubscribe()),this.setTyping(!1),this.channel&&this.supabase.removeChannel(this.channel)}setupRealtimeSubscription(){this.channel=this.supabase.channel("chat-messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages",filter:`room=eq.${this.currentRoom}`},s=>{this.handleNewMessage(s)}).on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages",filter:"message_type=eq.system"},s=>{this.handleSystemMessage(s)}).subscribe(s=>{console.log("Canal de Supabase:",s),this.connectedSubject.next("SUBSCRIBED"===s)})}handleNewMessage(s){const u={id:s.new.id,user:s.new.user_name,user_id:s.new.user_id,message:s.new.message,timestamp:s.new.created_at,room:s.new.room,type:s.new.message_type||"message"},g=this.messagesSubject.value;if(!g.find(D=>D.id===u.id)){const I=[...g,u].sort((R,F)=>new Date(R.timestamp).getTime()-new Date(F.timestamp).getTime()).slice(-200);this.messagesSubject.next(I)}}getAuthToken(){return localStorage.getItem("auth_token")}handleSystemMessage(s){this.handleNewMessage(s)}setupPeriodicStats(){return new Z.yU(()=>{const s=setInterval(()=>{this.loadStatsObservable().subscribe()},3e4);return()=>clearInterval(s)})}setupOnlineUsersCheck(){return new Z.yU(()=>{const s=setInterval(()=>{this.checkOnlineUsers().subscribe()},15e3);return()=>clearInterval(s)})}loadUserFromStorage(){const s=localStorage.getItem("chat_user_name");s&&(this.currentUser=s)}loadInitialHistory(){return this.http.get(`${this.apiUrl}/api/chat/messages?limit=100`).pipe((0,wt.M)({next:s=>{this.messagesSubject.next(s.messages||[]),this.connectedSubject.next(!0)},error:s=>{console.error("Error loading initial history:",s),this.connectedSubject.next(!1)}}),(0,Qe.W)(s=>(console.error("API call failed for initial history:",s),this.connectedSubject.next(!1),(0,me.of)(null))))}checkOnlineUsers(){return this.http.get(`${this.apiUrl}/api/chat/online-users`).pipe((0,Qe.W)(s=>(0,me.of)({online_users:1})),(0,wt.M)(s=>this.onlineUsersSubject.next(s.online_users)))}sendMessage(s){const u=this.getAuthToken(),g={"Content-Type":"application/json"};u&&(g.Authorization=`Bearer ${u}`);const D={message:s.trim(),user:this.currentUser,user_id:this.userId,room:this.currentRoom};return this.http.post(`${this.apiUrl}/api/chat/send`,D,{headers:g}).pipe((0,wt.M)(I=>{I.success&&I.message&&this.setTyping(!1)}))}deleteMessage(s){const u=this.getAuthToken(),g={};return u&&(g.Authorization=`Bearer ${u}`),this.http.delete(`${this.apiUrl}/api/chat/messages/${s}`,{headers:g})}isAdmin(){return!!this.getAuthToken()}setTyping(s){this.isTyping!==s&&(this.isTyping=s,this.http.post(`${this.apiUrl}/api/chat/typing`,{user:this.currentUser,room:this.currentRoom,is_typing:s}).pipe((0,Qe.W)(()=>(0,me.of)(null))).subscribe())}setUser(s){s&&s.trim()&&(this.currentUser=s.trim(),localStorage.setItem("chat_user_name",this.currentUser))}getUser(){return this.currentUser}loadStatsObservable(){return this.http.get(`${this.apiUrl}/api/chat/stats`).pipe((0,Qe.W)(()=>(0,me.of)(null)),(0,wt.M)(s=>{s&&this.statsSubject.next(s)}))}loadStats(){this.loadStatsObservable().subscribe()}validateUsername(s){const u=this.getAuthToken(),g={"Content-Type":"application/json"};return u&&(g.Authorization=`Bearer ${u}`),this.http.post(`${this.apiUrl}/api/chat/validate-username`,{username:s},{headers:g}).pipe((0,Qe.W)(D=>(0,me.of)({valid:!1,error:"Error validando nombre"})))}generateUserId(){let s=localStorage.getItem("chat_user_id");return s||(s=`user_${Math.random().toString(36).substring(2,11)}`,localStorage.setItem("chat_user_id",s)),s}static \u0275fac=function(u){return new(u||d)(w.KVO(H.Qq))};static \u0275prov=w.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})();const Fu=["messagesContainer"],Gi=["chatContainer"];function Wa(d,a){if(1&d&&(w.j41(0,"span",14),w.EFF(1),w.k0s()),2&d){const s=w.XpG(2);w.R7$(1),w.JRh(s.unreadMessages)}}function Ka(d,a){1&d&&(w.j41(0,"div",22),w.nrm(1,"i",23),w.EFF(2," Reconectando... "),w.k0s())}function Me(d,a){if(1&d){const s=w.RV6();w.j41(0,"div",24)(1,"div",25),w.nrm(2,"i",26),w.EFF(3),w.k0s(),w.j41(4,"button",27),w.bIt("click",function(){w.eBV(s);const g=w.XpG(3);return w.Njj(g.showUserModal=!0)}),w.nrm(5,"i",28),w.k0s(),w.j41(6,"button",29),w.bIt("click",function(){w.eBV(s);const g=w.XpG(3);return w.Njj(g.isChatOpen=!1)}),w.nrm(7,"i",30),w.k0s()()}if(2&d){const s=a.ngIf;w.R7$(3),w.SpI(" ",s,"")}}function tn(d,a){if(1&d&&(w.j41(0,"div",15)(1,"div",16)(2,"h4"),w.nrm(3,"i",17),w.EFF(4," Chat Musical"),w.k0s(),w.j41(5,"div",18),w.nrm(6,"span",19),w.EFF(7),w.k0s(),w.DNE(8,Ka,3,0,"div",20),w.k0s(),w.DNE(9,Me,8,1,"div",21),w.nI1(10,"async"),w.k0s()),2&d){const s=a.ngIf,u=w.XpG(2);w.R7$(5),w.AVh("connected",s)("disconnected",!s),w.R7$(2),w.SpI(" ",s?"Conectado":"Reconectando..."," "),w.R7$(1),w.Y8G("ngIf",!s),w.R7$(1),w.Y8G("ngIf",w.bMT(10,7,u.onlineUsers$))}}function zi(d,a){if(1&d&&(w.j41(0,"div",31)(1,"div",32)(2,"small"),w.EFF(3),w.k0s()(),w.j41(4,"div",32)(5,"small"),w.EFF(6),w.k0s()()()),2&d){const s=a.ngIf;w.R7$(3),w.SpI("Total: ",null==s?null:s.total_messages,""),w.R7$(3),w.SpI("Hoy: ",null==s?null:s.messages_today,"")}}function Wi(d,a){if(1&d){const s=w.RV6();w.j41(0,"button",42),w.bIt("click",function(){w.eBV(s);const g=w.XpG(2).$implicit,D=w.XpG(3);return w.Njj(D.deleteMessage(g.id))}),w.nrm(1,"i",43),w.k0s()}}function fr(d,a){if(1&d&&(w.j41(0,"div",38)(1,"strong",39),w.EFF(2),w.k0s(),w.j41(3,"span",40),w.EFF(4),w.k0s(),w.DNE(5,Wi,2,0,"button",41),w.nI1(6,"async"),w.k0s()),2&d){const s=w.XpG().$implicit,u=w.XpG(3);w.R7$(2),w.JRh(s.user),w.R7$(2),w.JRh(u.formatTime(s.timestamp)),w.R7$(1),w.Y8G("ngIf",w.bMT(6,3,u.isAdmin$))}}function Ki(d,a){if(1&d&&(w.j41(0,"div",35),w.DNE(1,fr,7,5,"div",36),w.j41(2,"div",37),w.EFF(3),w.k0s()()),2&d){const s=a.$implicit,u=w.XpG(2).ngIf;w.AVh("system-message","system"===s.type)("own-message",s.user===u&&"message"===s.type),w.R7$(1),w.Y8G("ngIf","message"===s.type),w.R7$(2),w.JRh(s.message)}}function xs(d,a){if(1&d&&(w.j41(0,"div")(1,"div",33)(2,"span"),w.EFF(3),w.k0s()(),w.DNE(4,Ki,4,6,"div",34),w.k0s()),2&d){const s=a.$implicit,u=w.XpG(2);w.R7$(3),w.JRh(s.label),w.R7$(1),w.Y8G("ngForOf",s.messages)("ngForTrackBy",u.trackByMessage)}}function Po(d,a){if(1&d&&(w.j41(0,"div")(1,"div",46),w.nrm(2,"span")(3,"span")(4,"span"),w.k0s(),w.j41(5,"span",47),w.EFF(6),w.k0s()()),2&d){const s=w.XpG().ngIf;w.R7$(6),w.Lme("",s.join(", ")," ",1===s.length?"est\xe1 escribiendo...":"est\xe1n escribiendo...","")}}function qi(d,a){if(1&d&&(w.j41(0,"div",44),w.DNE(1,Po,7,2,"div",45),w.k0s()),2&d){const s=a.ngIf;w.R7$(1),w.Y8G("ngIf",s.length>0)}}function Xi(d,a){if(1&d){const s=w.RV6();w.j41(0,"div",48)(1,"input",49,50),w.bIt("ngModelChange",function(g){w.eBV(s);const D=w.XpG(2);return w.Njj(D.newMessage=g)})("input",function(){w.eBV(s);const g=w.XpG(2);return w.Njj(g.onInputChange())})("keyup.enter",function(){w.eBV(s);const g=w.XpG(2);return w.Njj(g.sendMessage())}),w.k0s(),w.j41(3,"button",51),w.bIt("click",function(){w.eBV(s);const g=w.XpG(2);return w.Njj(g.sendMessage())}),w.nrm(4,"i",52),w.k0s()()}if(2&d){const s=a.ngIf,u=w.XpG(2);w.R7$(1),w.FS9("placeholder",s?"Escribe un mensaje...":"Conectando..."),w.Y8G("ngModel",u.newMessage)("disabled",!s),w.R7$(2),w.Y8G("disabled",!u.newMessage.trim()||!s)}}function Lu(d,a){if(1&d&&(w.j41(0,"div",61)(1,"small",62),w.EFF(2),w.k0s()()),2&d){const s=w.XpG(3);w.R7$(2),w.JRh(s.usernameError)}}function ql(d,a){if(1&d){const s=w.RV6();w.j41(0,"div",53),w.bIt("click",function(){w.eBV(s);const g=w.XpG(2);return w.Njj(g.showUserModal=!1)}),w.j41(1,"div",54),w.bIt("click",function(g){return g.stopPropagation()}),w.j41(2,"h4"),w.EFF(3,"Cambiar Nombre"),w.k0s(),w.j41(4,"input",55,56),w.bIt("keyup",function(){w.eBV(s);const g=w.sdS(5),D=w.XpG(2);return w.Njj(D.onUsernameInput(g.value))})("keyup.enter",function(){w.eBV(s);const g=w.sdS(5),D=w.XpG(2);return w.Njj(D.updateUser(g.value))}),w.k0s(),w.DNE(6,Lu,3,1,"div",57),w.j41(7,"div",58)(8,"button",59),w.bIt("click",function(){w.eBV(s);const g=w.XpG(2);return w.Njj(g.showUserModal=!1)}),w.EFF(9,"Cancelar"),w.k0s(),w.j41(10,"button",60),w.bIt("click",function(){w.eBV(s);const g=w.sdS(5),D=w.XpG(2);return w.Njj(D.updateUser(g.value))}),w.EFF(11," Guardar "),w.k0s()()()()}if(2&d){const s=w.XpG().ngIf,u=w.XpG();w.R7$(4),w.Y8G("value",s),w.R7$(2),w.Y8G("ngIf",u.usernameError),w.R7$(4),w.Y8G("disabled",u.usernameError)}}function qa(d,a){if(1&d){const s=w.RV6();w.j41(0,"div",1)(1,"button",2),w.bIt("click",function(){w.eBV(s);const g=w.XpG();return w.Njj(g.toggleChat())}),w.nrm(2,"i",3),w.DNE(3,Wa,2,1,"span",4),w.k0s(),w.j41(4,"div",5),w.DNE(5,tn,11,9,"div",6),w.nI1(6,"async"),w.DNE(7,zi,7,2,"div",7),w.nI1(8,"async"),w.j41(9,"div",8,9),w.DNE(11,xs,5,3,"div",10),w.nI1(12,"async"),w.DNE(13,qi,2,1,"div",11),w.nI1(14,"async"),w.k0s(),w.DNE(15,Xi,5,4,"div",12),w.nI1(16,"async"),w.DNE(17,ql,12,3,"div",13),w.k0s()()}if(2&d){const s=w.XpG();w.R7$(1),w.AVh("has-unread",s.unreadMessages>0),w.R7$(2),w.Y8G("ngIf",s.unreadMessages>0),w.R7$(1),w.AVh("open",s.isChatOpen),w.R7$(1),w.Y8G("ngIf",w.bMT(6,11,s.connected$)),w.R7$(2),w.Y8G("ngIf",w.bMT(8,13,s.stats$)),w.R7$(4),w.Y8G("ngForOf",w.bMT(12,15,s.groupedMessages$)),w.R7$(2),w.Y8G("ngIf",w.bMT(14,17,s.typingUsers$)),w.R7$(2),w.Y8G("ngIf",w.bMT(16,19,s.connected$)),w.R7$(2),w.Y8G("ngIf",s.showUserModal)}}let Vr=(()=>{class d{chatService;cdr;elementRef;messagesContainer;chatContainer;isChatOpen=!1;newMessage="";showUserModal=!1;unreadMessages=0;usernameError="";previousMessageCount=0;messages$;groupedMessages$;typingUsers$;onlineUsers$;connected$;stats$;currentUser$;isAdmin$;subscriptions=new Z.yU;typingTimeout;constructor(s,u,g){this.chatService=s,this.cdr=u,this.elementRef=g,this.messages$=this.chatService.messages$,this.typingUsers$=this.chatService.typingUsers$,this.onlineUsers$=this.chatService.onlineUsers$,this.connected$=this.chatService.connected$,this.stats$=this.chatService.stats$,this.currentUser$=(0,me.of)(this.chatService.getUser()),this.connected$=this.chatService.connected$,this.stats$=this.chatService.stats$,this.currentUser$=(0,me.of)(this.chatService.getUser()),this.isAdmin$=(0,me.of)(this.chatService.isAdmin()),this.groupedMessages$=this.messages$.pipe((0,He.T)(D=>this.groupMessagesByDate(D)))}ngOnInit(){const s=this.messages$.subscribe(u=>{setTimeout(()=>{this.handleNewMessages(u),this.cdr.detectChanges(),this.autoScrollToBottom()})});this.subscriptions.add(s),setTimeout(()=>{this.chatService.loadInitialHistory().subscribe()},1e3)}onUsernameInput(s){const u=s.trim();u?this.chatService.validateUsername(u).subscribe({next:g=>{this.usernameError=g.valid?"":g.error||"",this.cdr.markForCheck()},error:()=>{this.usernameError="",this.cdr.markForCheck()}}):(this.usernameError="",this.cdr.markForCheck())}ngOnDestroy(){this.subscriptions.unsubscribe(),this.typingTimeout&&clearTimeout(this.typingTimeout)}handleNewMessages(s){if(!this.messagesContainer)return;const u=s.length,g=this.previousMessageCount;if(this.previousMessageCount=u,this.isChatOpen){const D=u-g;D>0&&g>0&&(this.unreadMessages+=D)}else{const D=u-g;D>0&&(this.unreadMessages+=D,this.showNewMessageNotification(this.unreadMessages))}}sendMessage(){this.connected$.pipe((0,Ie.s)(1)).subscribe(s=>{if(this.newMessage.trim()&&s){const u=this.newMessage.trim();this.newMessage="",this.cdr.markForCheck(),this.chatService.sendMessage(u).subscribe({next:()=>{this.stopTyping(),this.scrollToBottom()},error:g=>{this.newMessage=u,this.cdr.markForCheck(),g.error&&g.error.error&&alert(g.error.error)}})}})}scrollToBottom(){this.messagesContainer&&setTimeout(()=>{try{this.messagesContainer.nativeElement.scrollTop=this.messagesContainer.nativeElement.scrollHeight}catch(s){console.error("Error en scroll:",s)}},50)}showNewMessageNotification(s){!document.hasFocus()&&"Notification"in window&&"granted"===Notification.permission&&new Notification(`Tienes ${s} nuevo${s>1?"s":""} mensaje${s>1?"s":""}`)}toggleChat(){this.isChatOpen=!this.isChatOpen,this.isChatOpen&&(this.unreadMessages=0,this.chatService.loadStats(),setTimeout(()=>{this.scrollToBottom(),this.chatService.loadInitialHistory().subscribe()},100))}setupRealtimeMessages(){const s=this.messages$.subscribe(u=>{const g=this.isNearBottom();this.handleNewMessages(u),this.cdr.markForCheck(),g&&this.autoScrollToBottom()});this.subscriptions.add(s)}isNearBottom(){if(!this.messagesContainer)return!0;const s=this.messagesContainer.nativeElement;return s.scrollHeight-(s.scrollTop+s.clientHeight)<=150}autoScrollToBottom(){this.messagesContainer&&setTimeout(()=>{const s=this.messagesContainer.nativeElement;s.scrollTop=s.scrollHeight},100)}onInputChange(){this.connected$.pipe((0,Ie.s)(1)).subscribe(s=>{this.newMessage.trim()&&s?(this.chatService.setTyping(!0),this.typingTimeout&&clearTimeout(this.typingTimeout),this.typingTimeout=setTimeout(()=>this.stopTyping(),2500)):this.stopTyping()})}stopTyping(){this.typingTimeout&&(clearTimeout(this.typingTimeout),this.typingTimeout=null),this.chatService.setTyping(!1)}updateUser(s){const u=s.trim();u&&this.chatService.validateUsername(u).subscribe({next:g=>{g.valid?(this.chatService.setUser(u),this.currentUser$=(0,me.of)(u),this.showUserModal=!1,this.usernameError="",this.cdr.markForCheck(),g.is_admin&&console.log("\u2705 Modo administrador activado para el chat")):(this.usernameError=g.error||"Nombre no v\xe1lido",this.cdr.markForCheck())},error:()=>{this.usernameError="Error validando el nombre de usuario",this.cdr.markForCheck()}})}formatTime(s){return new Date(s).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})}trackByMessage(s,u){return u.id}onDocumentClick(s){this.isChatOpen&&!this.elementRef.nativeElement.contains(s.target)&&(this.isChatOpen=!1,this.cdr.markForCheck())}deleteMessage(s){confirm("\xbfEst\xe1s seguro de que quieres eliminar este mensaje?")&&this.chatService.deleteMessage(s).subscribe({next:()=>{},error:u=>{console.error("Error al eliminar mensaje:",u),alert("No se pudo eliminar el mensaje")}})}groupMessagesByDate(s){const u=[],g=new Date;g.setHours(0,0,0,0);const D=new Date(g);return D.setDate(D.getDate()-1),s.forEach(I=>{const R=new Date(I.timestamp),F=new Date(R);F.setHours(0,0,0,0);let V="";V=F.getTime()===g.getTime()?"Hoy":F.getTime()===D.getTime()?"Ayer":R.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"});let W=u[u.length-1];W&&W.label===V?W.messages.push(I):u.push({label:V,messages:[I]})}),u}static \u0275fac=function(u){return new(u||d)(w.rXU(za),w.rXU(w.gRc),w.rXU(w.aKT))};static \u0275cmp=w.VBU({type:d,selectors:[["app-floating-chat"]],viewQuery:function(u,g){if(1&u&&(w.GBs(Fu,5),w.GBs(Gi,5)),2&u){let D;w.mGM(D=w.lsd())&&(g.messagesContainer=D.first),w.mGM(D=w.lsd())&&(g.chatContainer=D.first)}},hostBindings:function(u,g){1&u&&w.bIt("click",function(I){return g.onDocumentClick(I)},!1,w.EBC)},standalone:!0,features:[w.aNF],decls:2,vars:3,consts:[["class","floating-chat-container",4,"ngIf"],[1,"floating-chat-container"],[1,"floating-chat-button",3,"click"],[1,"fas","fa-comments"],["class","unread-badge",4,"ngIf"],[1,"chat-window"],["class","chat-header",4,"ngIf"],["class","chat-stats",4,"ngIf"],[1,"messages-container"],["messagesContainer",""],[4,"ngFor","ngForOf"],["class","typing-indicator",4,"ngIf"],["class","input-container",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"unread-badge"],[1,"chat-header"],[1,"header-left"],[1,"fas","fa-comments","me-2"],[1,"connection-status"],[1,"status-dot"],["class","reconnection-message",4,"ngIf"],["class","header-right",4,"ngIf"],[1,"reconnection-message"],[1,"fas","fa-sync-alt","fa-spin"],[1,"header-right"],[1,"online-users"],[1,"fas","fa-users","me-1"],["title","Cambiar usuario",1,"btn-user",3,"click"],[1,"fas","fa-user-edit"],["title","Cerrar chat",1,"btn-close",3,"click"],[1,"fas","fa-times"],[1,"chat-stats"],[1,"stat-item"],[1,"date-divider"],["class","message",3,"system-message","own-message",4,"ngFor","ngForOf","ngForTrackBy"],[1,"message"],["class","message-header",4,"ngIf"],[1,"message-content"],[1,"message-header"],[1,"username"],[1,"message-time"],["class","btn-delete-msg","title","Eliminar mensaje",3,"click",4,"ngIf"],["title","Eliminar mensaje",1,"btn-delete-msg",3,"click"],[1,"fas","fa-trash-alt"],[1,"typing-indicator"],[4,"ngIf"],[1,"typing-dots"],[1,"typing-text"],[1,"input-container"],["type","text",1,"message-input",3,"ngModel","disabled","placeholder","ngModelChange","input","keyup.enter"],["messageInput",""],[1,"send-button",3,"disabled","click"],[1,"fas","fa-paper-plane"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],["type","text","placeholder","Tu nombre de usuario","maxlength","20",1,"user-input",3,"value","keyup","keyup.enter"],["userInput",""],["class","validation-message",4,"ngIf"],[1,"modal-actions"],[1,"btn-cancel",3,"click"],[1,"btn-save",3,"disabled","click"],[1,"validation-message"],[1,"text-danger"]],template:function(u,g){1&u&&(w.DNE(0,qa,18,21,"div",0),w.nI1(1,"async")),2&u&&w.Y8G("ngIf",w.bMT(1,1,g.currentUser$))},dependencies:[ue.MD,ue.Sq,ue.bT,ue.Jj,de.YN,de.me,de.BC,de.vS],styles:[".floating-chat-container[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;z-index:10002}.floating-chat-button[_ngcontent-%COMP%]{position:relative;width:70px;height:70px;border-radius:50%;background:linear-gradient(135deg,var(--primary-color),#1db954);color:#fff;border:none;cursor:pointer;box-shadow:0 6px 25px #1db95480;display:flex;align-items:center;justify-content:center;font-size:1.8rem;transition:all .3s ease}.floating-chat-button[_ngcontent-%COMP%]:hover{transform:scale(1.15);box-shadow:0 8px 30px #1db954b3}.floating-chat-button.has-unread[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s infinite}.floating-chat-button[_ngcontent-%COMP%]   .unread-badge[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;background:#e74c3c;color:#fff;border-radius:50%;width:24px;height:24px;font-size:.8rem;display:flex;align-items:center;justify-content:center;font-weight:700;border:2px solid var(--card-bg)}.chat-window[_ngcontent-%COMP%]{position:absolute;bottom:85px;right:0;width:450px;height:650px;background:var(--card-bg);border:1px solid var(--hover-bg);border-radius:16px;box-shadow:0 15px 50px #0006;display:flex;flex-direction:column;opacity:0;transform:translateY(20px) scale(.95);pointer-events:none;transition:all .3s cubic-bezier(.4,0,.2,1)}.chat-window.open[_ngcontent-%COMP%]{opacity:1;transform:translateY(0) scale(1);pointer-events:all}.chat-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.25rem;background:linear-gradient(135deg,var(--hover-bg),var(--card-bg));border-bottom:1px solid var(--border-color);border-radius:16px 16px 0 0}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;color:var(--text-primary);font-size:1.1rem;font-weight:600}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .connection-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.75rem;padding:.3rem .6rem;border-radius:20px;background:var(--bg-color);font-weight:500}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .connection-status.connected[_ngcontent-%COMP%]{color:#10b981;background:rgba(16,185,129,.1)}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .connection-status.connected[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{background:#10b981;box-shadow:0 0 8px #10b98180}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .connection-status.disconnected[_ngcontent-%COMP%]{color:#ef4444;background:rgba(239,68,68,.1)}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .connection-status.disconnected[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{background:#ef4444}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .connection-status[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%;animation:_ngcontent-%COMP%_pulse 2s infinite}.chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .online-users[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem;padding:.4rem .8rem;background:var(--bg-color);border-radius:20px;font-size:.8rem;color:var(--text-secondary);font-weight:500}.chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn-user[_ngcontent-%COMP%], .chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--text-secondary);padding:.5rem;border-radius:8px;cursor:pointer;transition:all .2s ease}.chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn-user[_ngcontent-%COMP%]:hover, .chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{background:var(--hover-bg);color:var(--text-primary);transform:scale(1.1)}.chat-stats[_ngcontent-%COMP%]{display:flex;gap:1.5rem;padding:.75rem 1.25rem;background:var(--bg-color);border-bottom:1px solid var(--border-color)}.chat-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.75rem;font-weight:500}.messages-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:1.25rem;display:flex;flex-direction:column;gap:.75rem;background:var(--bg-color)}.message[_ngcontent-%COMP%]{max-width:90%;padding:.75rem 1rem;border-radius:16px;background:var(--hover-bg);animation:_ngcontent-%COMP%_messageSlide .25s ease-out;border:1px solid transparent;transition:all .2s ease}.message[_ngcontent-%COMP%]:hover{border-color:var(--border-color);transform:translateY(-1px)}.message.own-message[_ngcontent-%COMP%]{align-self:flex-end;background:linear-gradient(135deg,var(--primary-color),#1a8cff);color:#fff;box-shadow:0 4px 15px #1db9544d}.message.own-message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{color:#fffffff2}.message.own-message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%]{color:#fffc}.message.system-message[_ngcontent-%COMP%]{align-self:center;background:transparent;text-align:center;color:var(--text-secondary);font-style:italic;max-width:100%;border:1px dashed var(--border-color)}.message.system-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{font-size:.85rem;font-weight:500}.message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.3rem}.message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600;color:var(--text-primary)}.message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%]{font-size:.7rem;opacity:.8;color:var(--text-secondary)}.message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .btn-delete-msg[_ngcontent-%COMP%]{background:transparent;border:none;color:#ef444499;margin-left:auto;padding:4px;border-radius:50%;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;width:24px;height:24px}.message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .btn-delete-msg[_ngcontent-%COMP%]:hover{background:rgba(239,68,68,.15);color:#ef4444;transform:scale(1.1)}.message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{word-wrap:break-word;line-height:1.4;font-size:.9rem}.typing-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem 1rem;color:var(--text-secondary);font-size:.85rem;font-style:italic;background:var(--hover-bg);border-radius:12px;margin-top:.5rem}.typing-indicator[_ngcontent-%COMP%]   .typing-dots[_ngcontent-%COMP%]{display:flex;gap:3px}.typing-indicator[_ngcontent-%COMP%]   .typing-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:6px;height:6px;border-radius:50%;background:var(--primary-color);animation:_ngcontent-%COMP%_typingBounce 1.4s infinite ease-in-out}.typing-indicator[_ngcontent-%COMP%]   .typing-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){animation-delay:-.32s}.typing-indicator[_ngcontent-%COMP%]   .typing-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.16s}.date-divider[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:1rem 0}.date-divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:rgba(0,0,0,.2);color:var(--text-secondary);padding:.25rem .75rem;border-radius:12px;font-size:.75rem;font-weight:500}.input-container[_ngcontent-%COMP%]{display:flex;padding:1rem;border-top:1px solid var(--border-color);background:var(--card-bg);gap:.75rem;align-items:center}.input-container[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]{flex:1;padding:.75rem 1rem;border:2px solid var(--border-color);border-radius:25px;background:var(--bg-color);color:var(--text-primary);font-size:.9rem;transition:all .3s ease}.input-container[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #1db9541a}.input-container[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.input-container[_ngcontent-%COMP%]   .send-button[_ngcontent-%COMP%]{padding:.75rem;background:linear-gradient(135deg,var(--primary-color),#1db954);color:#fff;border:none;border-radius:50%;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center}.input-container[_ngcontent-%COMP%]   .send-button[_ngcontent-%COMP%]:hover:not(:disabled){transform:scale(1.1) rotate(5deg);box-shadow:0 6px 20px #1db95466}.input-container[_ngcontent-%COMP%]   .send-button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none}.modal-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:rgba(0,0,0,.8);display:flex;align-items:center;justify-content:center;z-index:10;border-radius:16px;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.modal-content[_ngcontent-%COMP%]{background:var(--card-bg);padding:2rem;border-radius:16px;width:90%;max-width:400px;border:1px solid var(--border-color);box-shadow:0 20px 60px #0000004d}.modal-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 1.5rem;color:var(--text-primary);font-size:1.2rem;font-weight:600;text-align:center}.modal-content[_ngcontent-%COMP%]   .user-input[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:2px solid var(--border-color);border-radius:12px;background:var(--bg-color);color:var(--text-primary);margin-bottom:1.5rem;font-size:1rem;transition:all .3s ease}.modal-content[_ngcontent-%COMP%]   .user-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #1db9541a}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;justify-content:flex-end}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]{padding:.6rem 1.25rem;border:none;border-radius:8px;cursor:pointer;font-size:.9rem;font-weight:500;transition:all .3s ease}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background:transparent;color:var(--text-secondary);border:2px solid var(--border-color)}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover{background:var(--hover-bg);border-color:var(--text-secondary)}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color),#1db954);color:#fff}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #1db9544d}@keyframes _ngcontent-%COMP%_messageSlide{0%{opacity:0;transform:translateY(8px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}@keyframes _ngcontent-%COMP%_typingBounce{0%,80%,to{transform:scale(.8);opacity:.5}40%{transform:scale(1.2);opacity:1}}@keyframes _ngcontent-%COMP%_pulse{0%,to{box-shadow:0 6px 25px #1db95480}50%{box-shadow:0 6px 30px #1db954cc}}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:3px}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--text-secondary)}.messages-container[_ngcontent-%COMP%]{scroll-behavior:smooth;overflow-anchor:auto}@media (max-width: 768px){.floating-chat-container[_ngcontent-%COMP%]{bottom:15px;right:15px}.floating-chat-button[_ngcontent-%COMP%]{width:60px;height:60px;font-size:1.5rem}.chat-window[_ngcontent-%COMP%]{width:380px;height:550px;bottom:75px}}@media (max-width: 480px){.floating-chat-container[_ngcontent-%COMP%]{bottom:10px;right:10px}.chat-window[_ngcontent-%COMP%]{width:calc(100vw - 30px);height:70vh;right:-5px;bottom:65px}.floating-chat-button[_ngcontent-%COMP%]{width:55px;height:55px;font-size:1.3rem}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideInUp{0%{transform:translateY(30px);opacity:0}to{transform:translateY(0);opacity:1}}.chat-window[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.connection-status[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s infinite}.message[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--primary-color);outline-offset:2px}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.reconnection-message[_ngcontent-%COMP%]{text-align:center;padding:1rem;color:var(--text-secondary);font-size:.9rem}.reconnection-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem}.reconnect-info[_ngcontent-%COMP%]{font-size:.7rem;opacity:.8}.reconnect-info[_ngcontent-%COMP%]{font-size:.7rem;opacity:.8;margin-left:.3rem}.reconnection-message[_ngcontent-%COMP%]{text-align:center;padding:.5rem;color:var(--text-secondary);font-size:.8rem;background:rgba(239,68,68,.1);border-radius:8px;margin-top:.5rem}.reconnection-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.connection-status.disconnected[_ngcontent-%COMP%]{background:rgba(239,68,68,.15)!important;border:1px solid rgba(239,68,68,.3)}.connection-status.connected[_ngcontent-%COMP%]{background:rgba(16,185,129,.15)!important;border:1px solid rgba(16,185,129,.3)}.validation-message[_ngcontent-%COMP%]{margin:-.5rem 0 1rem;text-align:center}.validation-message[_ngcontent-%COMP%]   .text-danger[_ngcontent-%COMP%]{color:#e74c3c;font-size:.8rem;font-weight:500}.modal-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none!important}.modal-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]:disabled:hover{box-shadow:none!important;transform:none!important}"],changeDetection:0})}return d})();function _(d,a){return{type:7,name:d,definitions:a,options:{}}}function S(d,a=null){return{type:4,styles:a,timings:d}}function le(d){return{type:6,styles:d,offset:null}}function Et(d,a,s=null){return{type:1,expr:d,animation:a,options:s}}var Ja=O(5455);function Xl(d,a){1&d&&w.nrm(0,"i",13)}function Jl(d,a){1&d&&w.nrm(0,"i",14)}function Qr(d,a){1&d&&w.nrm(0,"i",15)}function ni(d,a){1&d&&w.nrm(0,"i",16)}function zn(d,a){if(1&d){const s=w.RV6();w.j41(0,"button",17),w.bIt("click",function(){w.eBV(s);const g=w.XpG(2);return w.Njj(g.cancel())}),w.EFF(1),w.k0s()}if(2&d){const s=w.XpG(2);w.R7$(1),w.SpI(" ",s.config.cancelText||"Cancelar"," ")}}function Ql(d,a){if(1&d){const s=w.RV6();w.j41(0,"div",1),w.bIt("click",function(g){w.eBV(s);const D=w.XpG();return w.Njj(D.closeBackdrop(g))}),w.j41(1,"div",2)(2,"div",3)(3,"div",4),w.DNE(4,Xl,1,0,"i",5),w.DNE(5,Jl,1,0,"i",6),w.DNE(6,Qr,1,0,"i",7),w.DNE(7,ni,1,0,"i",8),w.k0s(),w.j41(8,"h3"),w.EFF(9),w.k0s()(),w.j41(10,"div",9)(11,"p"),w.EFF(12),w.k0s()(),w.j41(13,"div",10),w.DNE(14,zn,2,1,"button",11),w.j41(15,"button",12),w.bIt("click",function(){w.eBV(s);const g=w.XpG();return w.Njj(g.confirm())}),w.EFF(16),w.k0s()()()()}if(2&d){const s=w.XpG();w.Y8G("@fadeInOut",void 0),w.R7$(1),w.Y8G("@scaleIn",void 0),w.R7$(1),w.Y8G("ngClass",s.config.type||"info"),w.R7$(2),w.Y8G("ngIf","success"===s.config.type),w.R7$(1),w.Y8G("ngIf","warning"===s.config.type||"danger"===s.config.type),w.R7$(1),w.Y8G("ngIf","info"===s.config.type),w.R7$(1),w.Y8G("ngIf","confirm"===s.config.type),w.R7$(2),w.JRh(s.config.title),w.R7$(3),w.JRh(s.config.message),w.R7$(2),w.Y8G("ngIf",s.config.showCancel),w.R7$(1),w.Y8G("ngClass",s.config.type||"info"),w.R7$(1),w.SpI(" ",s.config.confirmText||"Aceptar"," ")}}let Yl=(()=>{class d{modalService;config=null;constructor(s){this.modalService=s}ngOnInit(){this.modalService.modalState$.subscribe(s=>{this.config=s})}confirm(){this.modalService.close(!0)}cancel(){this.modalService.close(!1)}closeBackdrop(s){s.target.classList.contains("modal-backdrop")&&(this.config?.showCancel?this.cancel():this.confirm())}static \u0275fac=function(u){return new(u||d)(w.rXU(Ja.B))};static \u0275cmp=w.VBU({type:d,selectors:[["app-modal"]],standalone:!0,features:[w.aNF],decls:1,vars:1,consts:[["class","modal-backdrop",3,"click",4,"ngIf"],[1,"modal-backdrop",3,"click"],[1,"modal-container"],[1,"modal-header",3,"ngClass"],[1,"icon-container"],["class","fas fa-check-circle",4,"ngIf"],["class","fas fa-exclamation-circle",4,"ngIf"],["class","fas fa-info-circle",4,"ngIf"],["class","fas fa-question-circle",4,"ngIf"],[1,"modal-body"],[1,"modal-footer"],["class","btn-cancel",3,"click",4,"ngIf"],[1,"btn-confirm",3,"ngClass","click"],[1,"fas","fa-check-circle"],[1,"fas","fa-exclamation-circle"],[1,"fas","fa-info-circle"],[1,"fas","fa-question-circle"],[1,"btn-cancel",3,"click"]],template:function(u,g){1&u&&w.DNE(0,Ql,17,12,"div",0),2&u&&w.Y8G("ngIf",g.config)},dependencies:[ue.MD,ue.YU,ue.bT],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0009;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);z-index:100000;display:flex;align-items:center;justify-content:center;padding:1rem}.modal-container[_ngcontent-%COMP%]{background:#1e1e1e;background:linear-gradient(145deg,#252525,#1a1a1a);border:1px solid rgba(255,255,255,.1);border-radius:16px;width:100%;max-width:450px;box-shadow:0 20px 50px #00000080;overflow:hidden;color:#fff}.modal-header[_ngcontent-%COMP%]{padding:1.5rem;display:flex;flex-direction:column;align-items:center;text-align:center;border-bottom:1px solid rgba(255,255,255,.05)}.modal-header[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem}.modal-header[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{filter:drop-shadow(0 0 10px rgba(255,255,255,.2))}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:700}.modal-header.success[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .modal-header.success[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#1ed760}.modal-header.warning[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .modal-header.warning[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#ffca28}.modal-header.danger[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .modal-header.danger[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#ff5252}.modal-header.info[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .modal-header.info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#2196f3}.modal-header.confirm[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#1ed760}.modal-header.confirm[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff}.modal-body[_ngcontent-%COMP%]{padding:1.5rem;text-align:center}.modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;line-height:1.6;color:#e0e0e0;white-space:pre-line}.modal-footer[_ngcontent-%COMP%]{padding:1.5rem;display:flex;justify-content:center;gap:1rem;background-color:#0003}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.8rem 1.5rem;border-radius:50px;border:none;font-weight:600;font-size:1rem;cursor:pointer;transition:all .2s ease;min-width:120px}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #0000004d}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:translateY(0)}.modal-footer[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background-color:transparent;border:1px solid rgba(255,255,255,.2);color:#e0e0e0}.modal-footer[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;color:#fff}.modal-footer[_ngcontent-%COMP%]   .btn-confirm[_ngcontent-%COMP%]{color:#fff}.modal-footer[_ngcontent-%COMP%]   .btn-confirm.success[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-confirm.confirm[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1ed760,#16a34a);box-shadow:0 4px 15px #1ed7604d}.modal-footer[_ngcontent-%COMP%]   .btn-confirm.warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffca28,#ffb300);color:#000;box-shadow:0 4px 15px #ffca284d}.modal-footer[_ngcontent-%COMP%]   .btn-confirm.danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff5252,#d32f2f);box-shadow:0 4px 15px #ff52524d}.modal-footer[_ngcontent-%COMP%]   .btn-confirm.info[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2196f3,#1976d2);box-shadow:0 4px 15px #2196f34d}"],data:{animation:[_("fadeInOut",[Et(":enter",[le({opacity:0}),S("200ms ease-out",le({opacity:1}))]),Et(":leave",[S("200ms ease-in",le({opacity:0}))])]),_("scaleIn",[Et(":enter",[le({transform:"scale(0.9)",opacity:0}),S("200ms cubic-bezier(0.25, 0.8, 0.25, 1)",le({transform:"scale(1)",opacity:1}))]),Et(":leave",[S("150ms ease-in",le({transform:"scale(0.9)",opacity:0}))])])]}})}return d})();const Zl=function(){return{exact:!0}};(0,c.B8)((()=>{class d{title="UPTC Music";isMenuOpen=!1;toggleMenu(){this.isMenuOpen=!this.isMenuOpen}static \u0275fac=function(u){return new(u||d)};static \u0275cmp=w.VBU({type:d,selectors:[["app-root"]],standalone:!0,features:[w.aNF],decls:47,vars:6,consts:[[1,"main-container"],[1,"main-header"],[1,"container","d-flex","justify-content-between","align-items-center"],[1,"logo-container"],["routerLink","/",1,"text-decoration-none","text-white","d-flex","align-items-center"],[1,"logo-icon"],[1,"fab","fa-spotify"],[1,"app-title","mb-0","ms-2"],[1,"hamburger-menu","d-md-none",3,"click"],[1,"fas",3,"ngClass"],[1,"main-nav"],["routerLink","/","routerLinkActive","active",3,"routerLinkActiveOptions","click"],[1,"fas","fa-home","me-1"],["routerLink","/discussion","routerLinkActive","active",3,"click"],[1,"fas","fa-comments","me-1"],["routerLink","/ranking","routerLinkActive","active",3,"click"],[1,"fas","fa-trophy","me-1"],["routerLink","/about","routerLinkActive","active",3,"click"],[1,"fas","fa-info-circle","me-1"],["routerLink","/admin-login","routerLinkActive","active",3,"click"],[1,"fas","fa-lock","me-1"],[1,"content-area"],[1,"container"],[1,"now-playing-bar"],[1,"footer-content","text-center"],[1,"footer-text","mb-0"],[1,"footer-text","mb-1"],[1,"social-links"],["href","https://github.com/SebastianVega4","target","_blank"],[1,"fab","fa-github","me-1"],["href","https://www.linkedin.com/in/johan-sebastian-vega-ruiz-b1292011b/","target","_blank"],[1,"fab","fa-linkedin","me-1"],["href","https://www.instagram.com/sebastian.vegar/","target","_blank"],[1,"fab","fa-instagram","me-1"]],template:function(u,g){1&u&&(w.j41(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3)(4,"a",4)(5,"div",5),w.nrm(6,"i",6),w.k0s(),w.j41(7,"h1",7),w.EFF(8),w.k0s()()(),w.j41(9,"button",8),w.bIt("click",function(){return g.toggleMenu()}),w.nrm(10,"i",9),w.k0s(),w.j41(11,"nav",10)(12,"a",11),w.bIt("click",function(){return g.toggleMenu()}),w.nrm(13,"i",12),w.EFF(14,"Inicio "),w.k0s(),w.j41(15,"a",13),w.bIt("click",function(){return g.toggleMenu()}),w.nrm(16,"i",14),w.EFF(17,"Foro "),w.k0s(),w.j41(18,"a",15),w.bIt("click",function(){return g.toggleMenu()}),w.nrm(19,"i",16),w.EFF(20,"Ranking "),w.k0s(),w.j41(21,"a",17),w.bIt("click",function(){return g.toggleMenu()}),w.nrm(22,"i",18),w.EFF(23,"About "),w.k0s(),w.j41(24,"a",19),w.bIt("click",function(){return g.toggleMenu()}),w.nrm(25,"i",20),w.k0s()()()(),w.j41(26,"main",21)(27,"div",22),w.nrm(28,"router-outlet"),w.k0s()(),w.nrm(29,"app-floating-chat")(30,"app-modal"),w.k0s(),w.j41(31,"footer",23)(32,"div",24)(33,"p",25),w.EFF(34,"Desarrollado por:"),w.k0s(),w.j41(35,"p",26),w.EFF(36,"Estudiante de Ingenier\xeda de Sistemas - UPTC Sogamoso 2025-II"),w.k0s(),w.j41(37,"div",27)(38,"a",28),w.nrm(39,"i",29),w.EFF(40,"GitHub "),w.k0s(),w.j41(41,"a",30),w.nrm(42,"i",31),w.EFF(43,"LinkedIn "),w.k0s(),w.j41(44,"a",32),w.nrm(45,"i",33),w.EFF(46,"Instagram "),w.k0s()()()()),2&u&&(w.R7$(8),w.JRh(g.title),w.R7$(2),w.Y8G("ngClass",g.isMenuOpen?"fa-times":"fa-bars"),w.R7$(1),w.AVh("active",g.isMenuOpen),w.R7$(1),w.Y8G("routerLinkActiveOptions",w.lJ4(5,Zl)))},dependencies:[Q.iI,Q.n3,Q.Wk,Q.wQ,ue.MD,ue.YU,Vr,Yl],styles:[".main-header[_ngcontent-%COMP%]{padding:0rem;background:var(--glass-bg);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border-bottom:1px solid rgba(255,255,255,.1);top:0;z-index:10000;box-shadow:0 4px 30px #0000004d}.logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.8rem}.logo-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,var(--primary-color) 0%,var(--accent-purple) 100%);display:flex;align-items:center;justify-content:center;box-shadow:0 0 15px #1db95466}.logo-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--text-primary)}.app-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;color:var(--text-primary);margin:0;letter-spacing:-.5px;background:linear-gradient(135deg,var(--text-primary) 0%,var(--primary-color) 100%);-webkit-text-fill-color:transparent;-webkit-background-clip:text;background-clip:text}.main-nav[_ngcontent-%COMP%]{display:flex;gap:1rem}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--text-secondary);text-decoration:none;font-weight:600;padding:.5rem 1rem;border-radius:50px;transition:all .3s ease;display:flex;align-items:center}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--text-primary);background:rgba(255,255,255,.05);transform:translateY(-2px)}.main-nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:var(--text-primary);background:rgba(29,185,84,.15);box-shadow:0 0 15px #1db95433}.main-nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color)}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem;transition:color .3s ease}.now-playing-bar[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border-top:1px solid rgba(255,255,255,.1);padding:1rem;color:var(--text-primary);display:flex;align-items:center;justify-content:center;position:relative;z-index:5}.footer-content[_ngcontent-%COMP%]{width:100%;text-align:center}.footer-text[_ngcontent-%COMP%]{font-size:.8rem;margin:.3rem 0;color:var(--text-secondary)}.social-links[_ngcontent-%COMP%]{margin-top:.5rem}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--text-secondary);text-decoration:none;margin:0 .8rem;font-size:.9rem;transition:all .3s ease;display:inline-flex;align-items:center}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--primary-color);transform:translateY(-2px)}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.3rem;font-size:1rem}@media (max-width: 768px){.main-header[_ngcontent-%COMP%]{padding:.8rem 1rem}.main-header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative}.main-header[_ngcontent-%COMP%]   .hamburger-menu[_ngcontent-%COMP%]{display:block;background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer;position:relative;z-index:10001}.main-header[_ngcontent-%COMP%]   .main-nav[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;width:100%;background-color:#000000f2;flex-direction:column;align-items:center;padding:1rem 0;display:none;z-index:1000;border-bottom:1px solid rgba(255,255,255,.1);gap:0}.main-header[_ngcontent-%COMP%]   .main-nav.active[_ngcontent-%COMP%]{display:flex}.main-header[_ngcontent-%COMP%]   .main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:100%;text-align:center;padding:1rem;margin:0;border-bottom:1px solid rgba(255,255,255,.05);border-radius:0}.main-header[_ngcontent-%COMP%]   .main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-child{border-bottom:none}.main-header[_ngcontent-%COMP%]   .main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;transform:none}.app-title[_ngcontent-%COMP%]{font-size:1.2rem}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:0 .5rem;font-size:.8rem}}@media (min-width: 769px){.hamburger-menu[_ngcontent-%COMP%]{display:none}.main-nav[_ngcontent-%COMP%]{display:flex!important}}"]})}return d})(),ne).catch(d=>console.error(d))},5958:(Je,oe,O)=>{"use strict";var c=O(9293).default;Object.defineProperty(oe,"__esModule",{value:!0});const w=O(5215).__importDefault(O(4659));oe.default=class ce{constructor(L){var H,ne;this.shouldThrowOnError=!1,this.method=L.method,this.url=L.url,this.headers=new Headers(L.headers),this.schema=L.schema,this.body=L.body,this.shouldThrowOnError=null!==(H=L.shouldThrowOnError)&&void 0!==H&&H,this.signal=L.signal,this.isMaybeSingle=null!==(ne=L.isMaybeSingle)&&void 0!==ne&&ne,this.fetch=L.fetch?L.fetch:fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(L,H){return this.headers=new Headers(this.headers),this.headers.set(L,H),this}then(L,H){var ne=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let de=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(function(){var Z=c(function*(me){var He,Ie,Oe,wt;let Qe=null,at=null,G=null,Ne=me.status,Ve=me.statusText;if(me.ok){if("HEAD"!==ne.method){const Fe=yield me.text();""===Fe||(at="text/csv"===ne.headers.get("Accept")||ne.headers.get("Accept")&&null!==(He=ne.headers.get("Accept"))&&void 0!==He&&He.includes("application/vnd.pgrst.plan+text")?Fe:JSON.parse(Fe))}const ze=null===(Ie=ne.headers.get("Prefer"))||void 0===Ie?void 0:Ie.match(/count=(exact|planned|estimated)/),Be=null===(Oe=me.headers.get("content-range"))||void 0===Oe?void 0:Oe.split("/");ze&&Be&&Be.length>1&&(G=parseInt(Be[1])),ne.isMaybeSingle&&"GET"===ne.method&&Array.isArray(at)&&(at.length>1?(Qe={code:"PGRST116",details:`Results contain ${at.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},at=null,G=null,Ne=406,Ve="Not Acceptable"):at=1===at.length?at[0]:null)}else{const ze=yield me.text();try{Qe=JSON.parse(ze),Array.isArray(Qe)&&404===me.status&&(at=[],Qe=null,Ne=200,Ve="OK")}catch{404===me.status&&""===ze?(Ne=204,Ve="No Content"):Qe={message:ze}}if(Qe&&ne.isMaybeSingle&&!(null===(wt=Qe?.details)||void 0===wt)&&wt.includes("0 rows")&&(Qe=null,Ne=200,Ve="OK"),Qe&&ne.shouldThrowOnError)throw new w.default(Qe)}return{error:Qe,data:at,count:G,status:Ne,statusText:Ve}});return function(me){return Z.apply(this,arguments)}}());return this.shouldThrowOnError||(de=de.catch(Z=>{var me,He,Ie,Oe,wt,Qe;let at="";const G=Z?.cause;if(G){const Ne=null!==(me=G?.message)&&void 0!==me?me:"",Ve=null!==(He=G?.code)&&void 0!==He?He:"";at=`${null!==(Ie=Z?.name)&&void 0!==Ie?Ie:"FetchError"}: ${Z?.message}`,at+=`\n\nCaused by: ${null!==(Oe=G?.name)&&void 0!==Oe?Oe:"Error"}: ${Ne}`,Ve&&(at+=` (${Ve})`),G?.stack&&(at+=`\n${G.stack}`)}else at=null!==(wt=Z?.stack)&&void 0!==wt?wt:"";return{error:{message:`${null!==(Qe=Z?.name)&&void 0!==Qe?Qe:"FetchError"}: ${Z?.message}`,details:at,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),de.then(L,H)}returns(){return this}overrideTypes(){return this}}},3242:(Je,oe,O)=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});const c=O(5215),Q=c.__importDefault(O(8666)),w=c.__importDefault(O(3608));class ce{constructor(L,{headers:H={},schema:ne,fetch:ue}={}){this.url=L,this.headers=new Headers(H),this.schemaName=ne,this.fetch=ue}from(L){if(!L||"string"!=typeof L||""===L.trim())throw new Error("Invalid relation name: relation must be a non-empty string.");const H=new URL(`${this.url}/${L}`);return new Q.default(H,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(L){return new ce(this.url,{headers:this.headers,schema:L,fetch:this.fetch})}rpc(L,H={},{head:ne=!1,get:ue=!1,count:de}={}){var Z;let me;const He=new URL(`${this.url}/rpc/${L}`);let Ie;ne||ue?(me=ne?"HEAD":"GET",Object.entries(H).filter(([wt,Qe])=>void 0!==Qe).map(([wt,Qe])=>[wt,Array.isArray(Qe)?`{${Qe.join(",")}}`:`${Qe}`]).forEach(([wt,Qe])=>{He.searchParams.append(wt,Qe)})):(me="POST",Ie=H);const Oe=new Headers(this.headers);return de&&Oe.set("Prefer",`count=${de}`),new w.default({method:me,url:He,headers:Oe,schema:this.schemaName,body:Ie,fetch:null!==(Z=this.fetch)&&void 0!==Z?Z:fetch})}}oe.default=ce},4659:(Je,oe)=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});class O extends Error{constructor(Q){super(Q.message),this.name="PostgrestError",this.details=Q.details,this.hint=Q.hint,this.code=Q.code}}oe.default=O},3608:(Je,oe,O)=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});const Q=O(5215).__importDefault(O(3342)),w=new RegExp("[,()]");oe.default=class ce extends Q.default{eq(L,H){return this.url.searchParams.append(L,`eq.${H}`),this}neq(L,H){return this.url.searchParams.append(L,`neq.${H}`),this}gt(L,H){return this.url.searchParams.append(L,`gt.${H}`),this}gte(L,H){return this.url.searchParams.append(L,`gte.${H}`),this}lt(L,H){return this.url.searchParams.append(L,`lt.${H}`),this}lte(L,H){return this.url.searchParams.append(L,`lte.${H}`),this}like(L,H){return this.url.searchParams.append(L,`like.${H}`),this}likeAllOf(L,H){return this.url.searchParams.append(L,`like(all).{${H.join(",")}}`),this}likeAnyOf(L,H){return this.url.searchParams.append(L,`like(any).{${H.join(",")}}`),this}ilike(L,H){return this.url.searchParams.append(L,`ilike.${H}`),this}ilikeAllOf(L,H){return this.url.searchParams.append(L,`ilike(all).{${H.join(",")}}`),this}ilikeAnyOf(L,H){return this.url.searchParams.append(L,`ilike(any).{${H.join(",")}}`),this}regexMatch(L,H){return this.url.searchParams.append(L,`match.${H}`),this}regexIMatch(L,H){return this.url.searchParams.append(L,`imatch.${H}`),this}is(L,H){return this.url.searchParams.append(L,`is.${H}`),this}isDistinct(L,H){return this.url.searchParams.append(L,`isdistinct.${H}`),this}in(L,H){const ne=Array.from(new Set(H)).map(ue=>"string"==typeof ue&&w.test(ue)?`"${ue}"`:`${ue}`).join(",");return this.url.searchParams.append(L,`in.(${ne})`),this}contains(L,H){return"string"==typeof H?this.url.searchParams.append(L,`cs.${H}`):Array.isArray(H)?this.url.searchParams.append(L,`cs.{${H.join(",")}}`):this.url.searchParams.append(L,`cs.${JSON.stringify(H)}`),this}containedBy(L,H){return"string"==typeof H?this.url.searchParams.append(L,`cd.${H}`):Array.isArray(H)?this.url.searchParams.append(L,`cd.{${H.join(",")}}`):this.url.searchParams.append(L,`cd.${JSON.stringify(H)}`),this}rangeGt(L,H){return this.url.searchParams.append(L,`sr.${H}`),this}rangeGte(L,H){return this.url.searchParams.append(L,`nxl.${H}`),this}rangeLt(L,H){return this.url.searchParams.append(L,`sl.${H}`),this}rangeLte(L,H){return this.url.searchParams.append(L,`nxr.${H}`),this}rangeAdjacent(L,H){return this.url.searchParams.append(L,`adj.${H}`),this}overlaps(L,H){return this.url.searchParams.append(L,"string"==typeof H?`ov.${H}`:`ov.{${H.join(",")}}`),this}textSearch(L,H,{config:ne,type:ue}={}){let de="";return"plain"===ue?de="pl":"phrase"===ue?de="ph":"websearch"===ue&&(de="w"),this.url.searchParams.append(L,`${de}fts${void 0===ne?"":`(${ne})`}.${H}`),this}match(L){return Object.entries(L).forEach(([H,ne])=>{this.url.searchParams.append(H,`eq.${ne}`)}),this}not(L,H,ne){return this.url.searchParams.append(L,`not.${H}.${ne}`),this}or(L,{foreignTable:H,referencedTable:ne=H}={}){return this.url.searchParams.append(ne?`${ne}.or`:"or",`(${L})`),this}filter(L,H,ne){return this.url.searchParams.append(L,`${H}.${ne}`),this}}},8666:(Je,oe,O)=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});const Q=O(5215).__importDefault(O(3608));oe.default=class w{constructor(q,{headers:L={},schema:H,fetch:ne}){this.url=q,this.headers=new Headers(L),this.schema=H,this.fetch=ne}select(q,L){const{head:H=!1,count:ne}=L??{},ue=H?"HEAD":"GET";let de=!1;const Z=(q??"*").split("").map(me=>/\s/.test(me)&&!de?"":('"'===me&&(de=!de),me)).join("");return this.url.searchParams.set("select",Z),ne&&this.headers.append("Prefer",`count=${ne}`),new Q.default({method:ue,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(q,{count:L,defaultToNull:H=!0}={}){var ne;if(L&&this.headers.append("Prefer",`count=${L}`),H||this.headers.append("Prefer","missing=default"),Array.isArray(q)){const de=q.reduce((Z,me)=>Z.concat(Object.keys(me)),[]);if(de.length>0){const Z=[...new Set(de)].map(me=>`"${me}"`);this.url.searchParams.set("columns",Z.join(","))}}return new Q.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:q,fetch:null!==(ne=this.fetch)&&void 0!==ne?ne:fetch})}upsert(q,{onConflict:L,ignoreDuplicates:H=!1,count:ne,defaultToNull:ue=!0}={}){var de;if(this.headers.append("Prefer",`resolution=${H?"ignore":"merge"}-duplicates`),void 0!==L&&this.url.searchParams.set("on_conflict",L),ne&&this.headers.append("Prefer",`count=${ne}`),ue||this.headers.append("Prefer","missing=default"),Array.isArray(q)){const me=q.reduce((He,Ie)=>He.concat(Object.keys(Ie)),[]);if(me.length>0){const He=[...new Set(me)].map(Ie=>`"${Ie}"`);this.url.searchParams.set("columns",He.join(","))}}return new Q.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:q,fetch:null!==(de=this.fetch)&&void 0!==de?de:fetch})}update(q,{count:L}={}){var H;return L&&this.headers.append("Prefer",`count=${L}`),new Q.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:q,fetch:null!==(H=this.fetch)&&void 0!==H?H:fetch})}delete({count:q}={}){var L;return q&&this.headers.append("Prefer",`count=${q}`),new Q.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(L=this.fetch)&&void 0!==L?L:fetch})}}},3342:(Je,oe,O)=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});const Q=O(5215).__importDefault(O(5958));oe.default=class w extends Q.default{select(q){let L=!1;const H=(q??"*").split("").map(ne=>/\s/.test(ne)&&!L?"":('"'===ne&&(L=!L),ne)).join("");return this.url.searchParams.set("select",H),this.headers.append("Prefer","return=representation"),this}order(q,{ascending:L=!0,nullsFirst:H,foreignTable:ne,referencedTable:ue=ne}={}){const de=ue?`${ue}.order`:"order",Z=this.url.searchParams.get(de);return this.url.searchParams.set(de,`${Z?`${Z},`:""}${q}.${L?"asc":"desc"}${void 0===H?"":H?".nullsfirst":".nullslast"}`),this}limit(q,{foreignTable:L,referencedTable:H=L}={}){return this.url.searchParams.set(typeof H>"u"?"limit":`${H}.limit`,`${q}`),this}range(q,L,{foreignTable:H,referencedTable:ne=H}={}){const de=typeof ne>"u"?"limit":`${ne}.limit`;return this.url.searchParams.set(typeof ne>"u"?"offset":`${ne}.offset`,`${q}`),this.url.searchParams.set(de,""+(L-q+1)),this}abortSignal(q){return this.signal=q,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.headers.set("Accept","GET"===this.method?"application/json":"application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:q=!1,verbose:L=!1,settings:H=!1,buffers:ne=!1,wal:ue=!1,format:de="text"}={}){var Z;const me=[q?"analyze":null,L?"verbose":null,H?"settings":null,ne?"buffers":null,ue?"wal":null].filter(Boolean).join("|"),He=null!==(Z=this.headers.get("Accept"))&&void 0!==Z?Z:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${de}; for="${He}"; options=${me};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(q){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${q}`),this}}},4060:(Je,oe,O)=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0}),oe.PostgrestError=oe.PostgrestBuilder=oe.PostgrestTransformBuilder=oe.PostgrestFilterBuilder=oe.PostgrestQueryBuilder=oe.PostgrestClient=void 0;const c=O(5215),Q=c.__importDefault(O(3242));oe.PostgrestClient=Q.default;const w=c.__importDefault(O(8666));oe.PostgrestQueryBuilder=w.default;const ce=c.__importDefault(O(3608));oe.PostgrestFilterBuilder=ce.default;const q=c.__importDefault(O(3342));oe.PostgrestTransformBuilder=q.default;const L=c.__importDefault(O(5958));oe.PostgrestBuilder=L.default;const H=c.__importDefault(O(4659));oe.PostgrestError=H.default,oe.default={PostgrestClient:Q.default,PostgrestQueryBuilder:w.default,PostgrestFilterBuilder:ce.default,PostgrestTransformBuilder:q.default,PostgrestBuilder:L.default,PostgrestError:H.default}},4412:(Je,oe,O)=>{"use strict";O.d(oe,{t:()=>Q});var c=O(1413);class Q extends c.B{constructor(ce){super(),this._value=ce}get value(){return this.getValue()}_subscribe(ce){const q=super._subscribe(ce);return!q.closed&&ce.next(this._value),q}getValue(){const{hasError:ce,thrownError:q,_value:L}=this;if(ce)throw q;return this._throwIfClosed(),L}next(ce){super.next(this._value=ce)}}},1985:(Je,oe,O)=>{"use strict";O.d(oe,{c:()=>ne});var c=O(7707),Q=O(8359),w=O(3494),ce=O(1203),q=O(1026),L=O(8071),H=O(9786);let ne=(()=>{class me{constructor(Ie){Ie&&(this._subscribe=Ie)}lift(Ie){const Oe=new me;return Oe.source=this,Oe.operator=Ie,Oe}subscribe(Ie,Oe,wt){const Qe=function Z(me){return me&&me instanceof c.vU||function de(me){return me&&(0,L.T)(me.next)&&(0,L.T)(me.error)&&(0,L.T)(me.complete)}(me)&&(0,Q.Uv)(me)}(Ie)?Ie:new c.Ms(Ie,Oe,wt);return(0,H.Y)(()=>{const{operator:at,source:G}=this;Qe.add(at?at.call(Qe,G):G?this._subscribe(Qe):this._trySubscribe(Qe))}),Qe}_trySubscribe(Ie){try{return this._subscribe(Ie)}catch(Oe){Ie.error(Oe)}}forEach(Ie,Oe){return new(Oe=ue(Oe))((wt,Qe)=>{const at=new c.Ms({next:G=>{try{Ie(G)}catch(Ne){Qe(Ne),at.unsubscribe()}},error:Qe,complete:wt});this.subscribe(at)})}_subscribe(Ie){var Oe;return null===(Oe=this.source)||void 0===Oe?void 0:Oe.subscribe(Ie)}[w.s](){return this}pipe(...Ie){return(0,ce.m)(Ie)(this)}toPromise(Ie){return new(Ie=ue(Ie))((Oe,wt)=>{let Qe;this.subscribe(at=>Qe=at,at=>wt(at),()=>Oe(Qe))})}}return me.create=He=>new me(He),me})();function ue(me){var He;return null!==(He=me??q.$.Promise)&&void 0!==He?He:Promise}},1413:(Je,oe,O)=>{"use strict";O.d(oe,{B:()=>H});var c=O(1985),Q=O(8359);const ce=(0,O(1853).L)(ue=>function(){ue(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var q=O(7908),L=O(9786);let H=(()=>{class ue extends c.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Z){const me=new ne(this,this);return me.operator=Z,me}_throwIfClosed(){if(this.closed)throw new ce}next(Z){(0,L.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const me of this.currentObservers)me.next(Z)}})}error(Z){(0,L.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Z;const{observers:me}=this;for(;me.length;)me.shift().error(Z)}})}complete(){(0,L.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Z}=this;for(;Z.length;)Z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Z;return(null===(Z=this.observers)||void 0===Z?void 0:Z.length)>0}_trySubscribe(Z){return this._throwIfClosed(),super._trySubscribe(Z)}_subscribe(Z){return this._throwIfClosed(),this._checkFinalizedStatuses(Z),this._innerSubscribe(Z)}_innerSubscribe(Z){const{hasError:me,isStopped:He,observers:Ie}=this;return me||He?Q.Kn:(this.currentObservers=null,Ie.push(Z),new Q.yU(()=>{this.currentObservers=null,(0,q.o)(Ie,Z)}))}_checkFinalizedStatuses(Z){const{hasError:me,thrownError:He,isStopped:Ie}=this;me?Z.error(He):Ie&&Z.complete()}asObservable(){const Z=new c.c;return Z.source=this,Z}}return ue.create=(de,Z)=>new ne(de,Z),ue})();class ne extends H{constructor(de,Z){super(),this.destination=de,this.source=Z}next(de){var Z,me;null===(me=null===(Z=this.destination)||void 0===Z?void 0:Z.next)||void 0===me||me.call(Z,de)}error(de){var Z,me;null===(me=null===(Z=this.destination)||void 0===Z?void 0:Z.error)||void 0===me||me.call(Z,de)}complete(){var de,Z;null===(Z=null===(de=this.destination)||void 0===de?void 0:de.complete)||void 0===Z||Z.call(de)}_subscribe(de){var Z,me;return null!==(me=null===(Z=this.source)||void 0===Z?void 0:Z.subscribe(de))&&void 0!==me?me:Q.Kn}}},7707:(Je,oe,O)=>{"use strict";O.d(oe,{Ms:()=>wt,vU:()=>me});var c=O(8071),Q=O(8359),w=O(1026),ce=O(5334),q=O(5343);const L=ue("C",void 0,void 0);function ue(Ve,ye,ze){return{kind:Ve,value:ye,error:ze}}var de=O(9270),Z=O(9786);class me extends Q.yU{constructor(ye){super(),this.isStopped=!1,ye?(this.destination=ye,(0,Q.Uv)(ye)&&ye.add(this)):this.destination=Ne}static create(ye,ze,Be){return new wt(ye,ze,Be)}next(ye){this.isStopped?G(function ne(Ve){return ue("N",Ve,void 0)}(ye),this):this._next(ye)}error(ye){this.isStopped?G(function H(Ve){return ue("E",void 0,Ve)}(ye),this):(this.isStopped=!0,this._error(ye))}complete(){this.isStopped?G(L,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ye){this.destination.next(ye)}_error(ye){try{this.destination.error(ye)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const He=Function.prototype.bind;function Ie(Ve,ye){return He.call(Ve,ye)}class Oe{constructor(ye){this.partialObserver=ye}next(ye){const{partialObserver:ze}=this;if(ze.next)try{ze.next(ye)}catch(Be){Qe(Be)}}error(ye){const{partialObserver:ze}=this;if(ze.error)try{ze.error(ye)}catch(Be){Qe(Be)}else Qe(ye)}complete(){const{partialObserver:ye}=this;if(ye.complete)try{ye.complete()}catch(ze){Qe(ze)}}}class wt extends me{constructor(ye,ze,Be){let Fe;if(super(),(0,c.T)(ye)||!ye)Fe={next:ye??void 0,error:ze??void 0,complete:Be??void 0};else{let Le;this&&w.$.useDeprecatedNextContext?(Le=Object.create(ye),Le.unsubscribe=()=>this.unsubscribe(),Fe={next:ye.next&&Ie(ye.next,Le),error:ye.error&&Ie(ye.error,Le),complete:ye.complete&&Ie(ye.complete,Le)}):Fe=ye}this.destination=new Oe(Fe)}}function Qe(Ve){w.$.useDeprecatedSynchronousErrorHandling?(0,Z.l)(Ve):(0,ce.m)(Ve)}function G(Ve,ye){const{onStoppedNotification:ze}=w.$;ze&&de.f.setTimeout(()=>ze(Ve,ye))}const Ne={closed:!0,next:q.l,error:function at(Ve){throw Ve},complete:q.l}},8359:(Je,oe,O)=>{"use strict";O.d(oe,{Kn:()=>L,yU:()=>q,Uv:()=>H});var c=O(8071);const w=(0,O(1853).L)(ue=>function(Z){ue(this),this.message=Z?`${Z.length} errors occurred during unsubscription:\n${Z.map((me,He)=>`${He+1}) ${me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Z});var ce=O(7908);class q{constructor(de){this.initialTeardown=de,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let de;if(!this.closed){this.closed=!0;const{_parentage:Z}=this;if(Z)if(this._parentage=null,Array.isArray(Z))for(const Ie of Z)Ie.remove(this);else Z.remove(this);const{initialTeardown:me}=this;if((0,c.T)(me))try{me()}catch(Ie){de=Ie instanceof w?Ie.errors:[Ie]}const{_finalizers:He}=this;if(He){this._finalizers=null;for(const Ie of He)try{ne(Ie)}catch(Oe){de=de??[],Oe instanceof w?de=[...de,...Oe.errors]:de.push(Oe)}}if(de)throw new w(de)}}add(de){var Z;if(de&&de!==this)if(this.closed)ne(de);else{if(de instanceof q){if(de.closed||de._hasParent(this))return;de._addParent(this)}(this._finalizers=null!==(Z=this._finalizers)&&void 0!==Z?Z:[]).push(de)}}_hasParent(de){const{_parentage:Z}=this;return Z===de||Array.isArray(Z)&&Z.includes(de)}_addParent(de){const{_parentage:Z}=this;this._parentage=Array.isArray(Z)?(Z.push(de),Z):Z?[Z,de]:de}_removeParent(de){const{_parentage:Z}=this;Z===de?this._parentage=null:Array.isArray(Z)&&(0,ce.o)(Z,de)}remove(de){const{_finalizers:Z}=this;Z&&(0,ce.o)(Z,de),de instanceof q&&de._removeParent(this)}}q.EMPTY=(()=>{const ue=new q;return ue.closed=!0,ue})();const L=q.EMPTY;function H(ue){return ue instanceof q||ue&&"closed"in ue&&(0,c.T)(ue.remove)&&(0,c.T)(ue.add)&&(0,c.T)(ue.unsubscribe)}function ne(ue){(0,c.T)(ue)?ue():ue.unsubscribe()}},1026:(Je,oe,O)=>{"use strict";O.d(oe,{$:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8793:(Je,oe,O)=>{"use strict";O.d(oe,{x:()=>q});var c=O(6365),w=O(9326),ce=O(6648);function q(...L){return function Q(){return(0,c.U)(1)}()((0,ce.H)(L,(0,w.lI)(L)))}},983:(Je,oe,O)=>{"use strict";O.d(oe,{w:()=>Q});const Q=new(O(1985).c)(q=>q.complete())},6648:(Je,oe,O)=>{"use strict";O.d(oe,{H:()=>Be});var c=O(8750),Q=O(5225),w=O(9974),ce=O(4360);function q(Fe,Le=0){return(0,w.N)((ft,Ae)=>{ft.subscribe((0,ce._)(Ae,nn=>(0,Q.N)(Ae,Fe,()=>Ae.next(nn),Le),()=>(0,Q.N)(Ae,Fe,()=>Ae.complete(),Le),nn=>(0,Q.N)(Ae,Fe,()=>Ae.error(nn),Le)))})}function L(Fe,Le=0){return(0,w.N)((ft,Ae)=>{Ae.add(Fe.schedule(()=>ft.subscribe(Ae),Le))})}var ue=O(1985),Z=O(4761),me=O(8071);function Ie(Fe,Le){if(!Fe)throw new Error("Iterable cannot be null");return new ue.c(ft=>{(0,Q.N)(ft,Le,()=>{const Ae=Fe[Symbol.asyncIterator]();(0,Q.N)(ft,Le,()=>{Ae.next().then(nn=>{nn.done?ft.complete():ft.next(nn.value)})},0,!0)})})}var Oe=O(5055),wt=O(9858),Qe=O(7441),at=O(5397),G=O(7953),Ne=O(591),Ve=O(5196);function Be(Fe,Le){return Le?function ze(Fe,Le){if(null!=Fe){if((0,Oe.l)(Fe))return function H(Fe,Le){return(0,c.Tg)(Fe).pipe(L(Le),q(Le))}(Fe,Le);if((0,Qe.X)(Fe))return function de(Fe,Le){return new ue.c(ft=>{let Ae=0;return Le.schedule(function(){Ae===Fe.length?ft.complete():(ft.next(Fe[Ae++]),ft.closed||this.schedule())})})}(Fe,Le);if((0,wt.y)(Fe))return function ne(Fe,Le){return(0,c.Tg)(Fe).pipe(L(Le),q(Le))}(Fe,Le);if((0,G.T)(Fe))return Ie(Fe,Le);if((0,at.x)(Fe))return function He(Fe,Le){return new ue.c(ft=>{let Ae;return(0,Q.N)(ft,Le,()=>{Ae=Fe[Z.l](),(0,Q.N)(ft,Le,()=>{let nn,Cn;try{({value:nn,done:Cn}=Ae.next())}catch(Ft){return void ft.error(Ft)}Cn?ft.complete():ft.next(nn)},0,!0)}),()=>(0,me.T)(Ae?.return)&&Ae.return()})}(Fe,Le);if((0,Ve.U)(Fe))return function ye(Fe,Le){return Ie((0,Ve.C)(Fe),Le)}(Fe,Le)}throw(0,Ne.L)(Fe)}(Fe,Le):(0,c.Tg)(Fe)}},8750:(Je,oe,O)=>{"use strict";O.d(oe,{Tg:()=>He});var c=O(5215),Q=O(7441),w=O(9858),ce=O(1985),q=O(5055),L=O(7953),H=O(591),ne=O(5397),ue=O(5196),de=O(8071),Z=O(5334),me=O(3494);function He(Ve){if(Ve instanceof ce.c)return Ve;if(null!=Ve){if((0,q.l)(Ve))return function Ie(Ve){return new ce.c(ye=>{const ze=Ve[me.s]();if((0,de.T)(ze.subscribe))return ze.subscribe(ye);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ve);if((0,Q.X)(Ve))return function Oe(Ve){return new ce.c(ye=>{for(let ze=0;ze<Ve.length&&!ye.closed;ze++)ye.next(Ve[ze]);ye.complete()})}(Ve);if((0,w.y)(Ve))return function wt(Ve){return new ce.c(ye=>{Ve.then(ze=>{ye.closed||(ye.next(ze),ye.complete())},ze=>ye.error(ze)).then(null,Z.m)})}(Ve);if((0,L.T)(Ve))return at(Ve);if((0,ne.x)(Ve))return function Qe(Ve){return new ce.c(ye=>{for(const ze of Ve)if(ye.next(ze),ye.closed)return;ye.complete()})}(Ve);if((0,ue.U)(Ve))return function G(Ve){return at((0,ue.C)(Ve))}(Ve)}throw(0,H.L)(Ve)}function at(Ve){return new ce.c(ye=>{(function Ne(Ve,ye){var ze,Be,Fe,Le;return(0,c.__awaiter)(this,void 0,void 0,function*(){try{for(ze=(0,c.__asyncValues)(Ve);!(Be=yield ze.next()).done;)if(ye.next(Be.value),ye.closed)return}catch(ft){Fe={error:ft}}finally{try{Be&&!Be.done&&(Le=ze.return)&&(yield Le.call(ze))}finally{if(Fe)throw Fe.error}}ye.complete()})})(Ve,ye).catch(ze=>ye.error(ze))})}},7673:(Je,oe,O)=>{"use strict";O.d(oe,{of:()=>w});var c=O(9326),Q=O(6648);function w(...ce){const q=(0,c.lI)(ce);return(0,Q.H)(ce,q)}},8810:(Je,oe,O)=>{"use strict";O.d(oe,{$:()=>w});var c=O(1985),Q=O(8071);function w(ce,q){const L=(0,Q.T)(ce)?ce:()=>ce,H=ne=>ne.error(L());return new c.c(q?ne=>q.schedule(H,0,ne):H)}},4360:(Je,oe,O)=>{"use strict";O.d(oe,{_:()=>Q});var c=O(7707);function Q(ce,q,L,H,ne){return new w(ce,q,L,H,ne)}class w extends c.vU{constructor(q,L,H,ne,ue,de){super(q),this.onFinalize=ue,this.shouldUnsubscribe=de,this._next=L?function(Z){try{L(Z)}catch(me){q.error(me)}}:super._next,this._error=ne?function(Z){try{ne(Z)}catch(me){q.error(me)}finally{this.unsubscribe()}}:super._error,this._complete=H?function(){try{H()}catch(Z){q.error(Z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var q;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:L}=this;super.unsubscribe(),!L&&(null===(q=this.onFinalize)||void 0===q||q.call(this))}}}},9437:(Je,oe,O)=>{"use strict";O.d(oe,{W:()=>ce});var c=O(8750),Q=O(4360),w=O(9974);function ce(q){return(0,w.N)((L,H)=>{let de,ne=null,ue=!1;ne=L.subscribe((0,Q._)(H,void 0,void 0,Z=>{de=(0,c.Tg)(q(Z,ce(q)(L))),ne?(ne.unsubscribe(),ne=null,de.subscribe(H)):ue=!0})),ue&&(ne.unsubscribe(),ne=null,de.subscribe(H))})}},274:(Je,oe,O)=>{"use strict";O.d(oe,{H:()=>w});var c=O(1397),Q=O(8071);function w(ce,q){return(0,Q.T)(q)?(0,c.Z)(ce,q,1):(0,c.Z)(ce,1)}},9901:(Je,oe,O)=>{"use strict";O.d(oe,{U:()=>w});var c=O(9974),Q=O(4360);function w(ce){return(0,c.N)((q,L)=>{let H=!1;q.subscribe((0,Q._)(L,ne=>{H=!0,L.next(ne)},()=>{H||L.next(ce),L.complete()}))})}},5964:(Je,oe,O)=>{"use strict";O.d(oe,{p:()=>w});var c=O(9974),Q=O(4360);function w(ce,q){return(0,c.N)((L,H)=>{let ne=0;L.subscribe((0,Q._)(H,ue=>ce.call(q,ue,ne++)&&H.next(ue)))})}},980:(Je,oe,O)=>{"use strict";O.d(oe,{j:()=>Q});var c=O(9974);function Q(w){return(0,c.N)((ce,q)=>{try{ce.subscribe(q)}finally{q.add(w)}})}},1594:(Je,oe,O)=>{"use strict";O.d(oe,{$:()=>H});var c=O(9350),Q=O(5964),w=O(6697),ce=O(9901),q=O(3774),L=O(3669);function H(ne,ue){const de=arguments.length>=2;return Z=>Z.pipe(ne?(0,Q.p)((me,He)=>ne(me,He,Z)):L.D,(0,w.s)(1),de?(0,ce.U)(ue):(0,q.v)(()=>new c.G))}},6354:(Je,oe,O)=>{"use strict";O.d(oe,{T:()=>w});var c=O(9974),Q=O(4360);function w(ce,q){return(0,c.N)((L,H)=>{let ne=0;L.subscribe((0,Q._)(H,ue=>{H.next(ce.call(q,ue,ne++))}))})}},6365:(Je,oe,O)=>{"use strict";O.d(oe,{U:()=>w});var c=O(1397),Q=O(3669);function w(ce=1/0){return(0,c.Z)(Q.D,ce)}},1397:(Je,oe,O)=>{"use strict";O.d(oe,{Z:()=>ne});var c=O(6354),Q=O(8750),w=O(9974),ce=O(5225),q=O(4360),H=O(8071);function ne(ue,de,Z=1/0){return(0,H.T)(de)?ne((me,He)=>(0,c.T)((Ie,Oe)=>de(me,Ie,He,Oe))((0,Q.Tg)(ue(me,He))),Z):("number"==typeof de&&(Z=de),(0,w.N)((me,He)=>function L(ue,de,Z,me,He,Ie,Oe,wt){const Qe=[];let at=0,G=0,Ne=!1;const Ve=()=>{Ne&&!Qe.length&&!at&&de.complete()},ye=Be=>at<me?ze(Be):Qe.push(Be),ze=Be=>{Ie&&de.next(Be),at++;let Fe=!1;(0,Q.Tg)(Z(Be,G++)).subscribe((0,q._)(de,Le=>{He?.(Le),Ie?ye(Le):de.next(Le)},()=>{Fe=!0},void 0,()=>{if(Fe)try{for(at--;Qe.length&&at<me;){const Le=Qe.shift();Oe?(0,ce.N)(de,Oe,()=>ze(Le)):ze(Le)}Ve()}catch(Le){de.error(Le)}}))};return ue.subscribe((0,q._)(de,ye,()=>{Ne=!0,Ve()})),()=>{wt?.()}}(me,He,ue,Z)))}},9172:(Je,oe,O)=>{"use strict";O.d(oe,{Z:()=>ce});var c=O(8793),Q=O(9326),w=O(9974);function ce(...q){const L=(0,Q.lI)(q);return(0,w.N)((H,ne)=>{(L?(0,c.x)(q,H,L):(0,c.x)(q,H)).subscribe(ne)})}},5558:(Je,oe,O)=>{"use strict";O.d(oe,{n:()=>ce});var c=O(8750),Q=O(9974),w=O(4360);function ce(q,L){return(0,Q.N)((H,ne)=>{let ue=null,de=0,Z=!1;const me=()=>Z&&!ue&&ne.complete();H.subscribe((0,w._)(ne,He=>{ue?.unsubscribe();let Ie=0;const Oe=de++;(0,c.Tg)(q(He,Oe)).subscribe(ue=(0,w._)(ne,wt=>ne.next(L?L(He,wt,Oe,Ie++):wt),()=>{ue=null,me()}))},()=>{Z=!0,me()}))})}},6697:(Je,oe,O)=>{"use strict";O.d(oe,{s:()=>ce});var c=O(983),Q=O(9974),w=O(4360);function ce(q){return q<=0?()=>c.w:(0,Q.N)((L,H)=>{let ne=0;L.subscribe((0,w._)(H,ue=>{++ne<=q&&(H.next(ue),q<=ne&&H.complete())}))})}},8141:(Je,oe,O)=>{"use strict";O.d(oe,{M:()=>q});var c=O(8071),Q=O(9974),w=O(4360),ce=O(3669);function q(L,H,ne){const ue=(0,c.T)(L)||H||ne?{next:L,error:H,complete:ne}:L;return ue?(0,Q.N)((de,Z)=>{var me;null===(me=ue.subscribe)||void 0===me||me.call(ue);let He=!0;de.subscribe((0,w._)(Z,Ie=>{var Oe;null===(Oe=ue.next)||void 0===Oe||Oe.call(ue,Ie),Z.next(Ie)},()=>{var Ie;He=!1,null===(Ie=ue.complete)||void 0===Ie||Ie.call(ue),Z.complete()},Ie=>{var Oe;He=!1,null===(Oe=ue.error)||void 0===Oe||Oe.call(ue,Ie),Z.error(Ie)},()=>{var Ie,Oe;He&&(null===(Ie=ue.unsubscribe)||void 0===Ie||Ie.call(ue)),null===(Oe=ue.finalize)||void 0===Oe||Oe.call(ue)}))}):ce.D}},3774:(Je,oe,O)=>{"use strict";O.d(oe,{v:()=>ce});var c=O(9350),Q=O(9974),w=O(4360);function ce(L=q){return(0,Q.N)((H,ne)=>{let ue=!1;H.subscribe((0,w._)(ne,de=>{ue=!0,ne.next(de)},()=>ue?ne.complete():ne.error(L())))})}function q(){return new c.G}},9270:(Je,oe,O)=>{"use strict";O.d(oe,{f:()=>c});const c={setTimeout(Q,w,...ce){const{delegate:q}=c;return q?.setTimeout?q.setTimeout(Q,w,...ce):setTimeout(Q,w,...ce)},clearTimeout(Q){const{delegate:w}=c;return(w?.clearTimeout||clearTimeout)(Q)},delegate:void 0}},4761:(Je,oe,O)=>{"use strict";O.d(oe,{l:()=>Q});const Q=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Je,oe,O)=>{"use strict";O.d(oe,{s:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(Je,oe,O)=>{"use strict";O.d(oe,{G:()=>Q});const Q=(0,O(1853).L)(w=>function(){w(this),this.name="EmptyError",this.message="no elements in sequence"})},9326:(Je,oe,O)=>{"use strict";O.d(oe,{R0:()=>L,lI:()=>q,ms:()=>ce});var c=O(8071),Q=O(9470);function w(H){return H[H.length-1]}function ce(H){return(0,c.T)(w(H))?H.pop():void 0}function q(H){return(0,Q.m)(w(H))?H.pop():void 0}function L(H,ne){return"number"==typeof w(H)?H.pop():ne}},3073:(Je,oe,O)=>{"use strict";O.d(oe,{D:()=>q});const{isArray:c}=Array,{getPrototypeOf:Q,prototype:w,keys:ce}=Object;function q(H){if(1===H.length){const ne=H[0];if(c(ne))return{args:ne,keys:null};if(function L(H){return H&&"object"==typeof H&&Q(H)===w}(ne)){const ue=ce(ne);return{args:ue.map(de=>ne[de]),keys:ue}}}return{args:H,keys:null}}},7908:(Je,oe,O)=>{"use strict";function c(Q,w){if(Q){const ce=Q.indexOf(w);0<=ce&&Q.splice(ce,1)}}O.d(oe,{o:()=>c})},1853:(Je,oe,O)=>{"use strict";function c(Q){const ce=Q(q=>{Error.call(q),q.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}O.d(oe,{L:()=>c})},8496:(Je,oe,O)=>{"use strict";function c(Q,w){return Q.reduce((ce,q,L)=>(ce[q]=w[L],ce),{})}O.d(oe,{e:()=>c})},9786:(Je,oe,O)=>{"use strict";O.d(oe,{Y:()=>w,l:()=>ce});var c=O(1026);let Q=null;function w(q){if(c.$.useDeprecatedSynchronousErrorHandling){const L=!Q;if(L&&(Q={errorThrown:!1,error:null}),q(),L){const{errorThrown:H,error:ne}=Q;if(Q=null,H)throw ne}}else q()}function ce(q){c.$.useDeprecatedSynchronousErrorHandling&&Q&&(Q.errorThrown=!0,Q.error=q)}},5225:(Je,oe,O)=>{"use strict";function c(Q,w,ce,q=0,L=!1){const H=w.schedule(function(){ce(),L?Q.add(this.schedule(null,q)):this.unsubscribe()},q);if(Q.add(H),!L)return H}O.d(oe,{N:()=>c})},3669:(Je,oe,O)=>{"use strict";function c(Q){return Q}O.d(oe,{D:()=>c})},7441:(Je,oe,O)=>{"use strict";O.d(oe,{X:()=>c});const c=Q=>Q&&"number"==typeof Q.length&&"function"!=typeof Q},7953:(Je,oe,O)=>{"use strict";O.d(oe,{T:()=>Q});var c=O(8071);function Q(w){return Symbol.asyncIterator&&(0,c.T)(w?.[Symbol.asyncIterator])}},8071:(Je,oe,O)=>{"use strict";function c(Q){return"function"==typeof Q}O.d(oe,{T:()=>c})},5055:(Je,oe,O)=>{"use strict";O.d(oe,{l:()=>w});var c=O(3494),Q=O(8071);function w(ce){return(0,Q.T)(ce[c.s])}},5397:(Je,oe,O)=>{"use strict";O.d(oe,{x:()=>w});var c=O(4761),Q=O(8071);function w(ce){return(0,Q.T)(ce?.[c.l])}},9858:(Je,oe,O)=>{"use strict";O.d(oe,{y:()=>Q});var c=O(8071);function Q(w){return(0,c.T)(w?.then)}},5196:(Je,oe,O)=>{"use strict";O.d(oe,{C:()=>w,U:()=>ce});var c=O(5215),Q=O(8071);function w(q){return(0,c.__asyncGenerator)(this,arguments,function*(){const H=q.getReader();try{for(;;){const{value:ne,done:ue}=yield(0,c.__await)(H.read());if(ue)return yield(0,c.__await)(void 0);yield yield(0,c.__await)(ne)}}finally{H.releaseLock()}})}function ce(q){return(0,Q.T)(q?.getReader)}},9470:(Je,oe,O)=>{"use strict";O.d(oe,{m:()=>Q});var c=O(8071);function Q(w){return w&&(0,c.T)(w.schedule)}},9974:(Je,oe,O)=>{"use strict";O.d(oe,{N:()=>w,S:()=>Q});var c=O(8071);function Q(ce){return(0,c.T)(ce?.lift)}function w(ce){return q=>{if(Q(q))return q.lift(function(L){try{return ce(L,this)}catch(H){this.error(H)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Je,oe,O)=>{"use strict";O.d(oe,{I:()=>ce});var c=O(6354);const{isArray:Q}=Array;function ce(q){return(0,c.T)(L=>function w(q,L){return Q(L)?q(...L):q(L)}(q,L))}},5343:(Je,oe,O)=>{"use strict";function c(){}O.d(oe,{l:()=>c})},1203:(Je,oe,O)=>{"use strict";O.d(oe,{F:()=>Q,m:()=>w});var c=O(3669);function Q(...ce){return w(ce)}function w(ce){return 0===ce.length?c.D:1===ce.length?ce[0]:function(L){return ce.reduce((H,ne)=>ne(H),L)}}},5334:(Je,oe,O)=>{"use strict";O.d(oe,{m:()=>w});var c=O(1026),Q=O(9270);function w(ce){Q.f.setTimeout(()=>{const{onUnhandledError:q}=c.$;if(!q)throw ce;q(ce)})}},591:(Je,oe,O)=>{"use strict";function c(Q){return new TypeError(`You provided ${null!==Q&&"object"==typeof Q?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(oe,{L:()=>c})},5215:(Je,oe,O)=>{"use strict";O.r(oe),O.d(oe,{__addDisposableResource:()=>Ge,__assign:()=>w,__asyncDelegator:()=>ze,__asyncGenerator:()=>ye,__asyncValues:()=>Be,__await:()=>Ve,__awaiter:()=>me,__classPrivateFieldGet:()=>Cn,__classPrivateFieldIn:()=>vn,__classPrivateFieldSet:()=>Ft,__createBinding:()=>Ie,__decorate:()=>q,__disposeResources:()=>et,__esDecorate:()=>H,__exportStar:()=>Oe,__extends:()=>Q,__generator:()=>He,__importDefault:()=>nn,__importStar:()=>Ae,__makeTemplateObject:()=>Fe,__metadata:()=>Z,__param:()=>L,__propKey:()=>ue,__read:()=>Qe,__rest:()=>ce,__rewriteRelativeImportExtension:()=>dt,__runInitializers:()=>ne,__setFunctionName:()=>de,__spread:()=>at,__spreadArray:()=>Ne,__spreadArrays:()=>G,__values:()=>wt,default:()=>Rn});var c=function(se,ae){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(he,ge){he.__proto__=ge}||function(he,ge){for(var ke in ge)Object.prototype.hasOwnProperty.call(ge,ke)&&(he[ke]=ge[ke])})(se,ae)};function Q(se,ae){if("function"!=typeof ae&&null!==ae)throw new TypeError("Class extends value "+String(ae)+" is not a constructor or null");function he(){this.constructor=se}c(se,ae),se.prototype=null===ae?Object.create(ae):(he.prototype=ae.prototype,new he)}var w=function(){return w=Object.assign||function(ae){for(var he,ge=1,ke=arguments.length;ge<ke;ge++)for(var xe in he=arguments[ge])Object.prototype.hasOwnProperty.call(he,xe)&&(ae[xe]=he[xe]);return ae},w.apply(this,arguments)};function ce(se,ae){var he={};for(var ge in se)Object.prototype.hasOwnProperty.call(se,ge)&&ae.indexOf(ge)<0&&(he[ge]=se[ge]);if(null!=se&&"function"==typeof Object.getOwnPropertySymbols){var ke=0;for(ge=Object.getOwnPropertySymbols(se);ke<ge.length;ke++)ae.indexOf(ge[ke])<0&&Object.prototype.propertyIsEnumerable.call(se,ge[ke])&&(he[ge[ke]]=se[ge[ke]])}return he}function q(se,ae,he,ge){var ot,ke=arguments.length,xe=ke<3?ae:null===ge?ge=Object.getOwnPropertyDescriptor(ae,he):ge;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)xe=Reflect.decorate(se,ae,he,ge);else for(var Mt=se.length-1;Mt>=0;Mt--)(ot=se[Mt])&&(xe=(ke<3?ot(xe):ke>3?ot(ae,he,xe):ot(ae,he))||xe);return ke>3&&xe&&Object.defineProperty(ae,he,xe),xe}function L(se,ae){return function(he,ge){ae(he,ge,se)}}function H(se,ae,he,ge,ke,xe){function ot(Re){if(void 0!==Re&&"function"!=typeof Re)throw new TypeError("Function expected");return Re}for(var Lt,Mt=ge.kind,yn="getter"===Mt?"get":"setter"===Mt?"set":"value",pt=!ae&&se?ge.static?se:se.prototype:null,Gt=ae||(pt?Object.getOwnPropertyDescriptor(pt,ge.name):{}),fn=!1,vt=he.length-1;vt>=0;vt--){var cn={};for(var st in ge)cn[st]="access"===st?{}:ge[st];for(var st in ge.access)cn.access[st]=ge.access[st];cn.addInitializer=function(Re){if(fn)throw new TypeError("Cannot add initializers after decoration has completed");xe.push(ot(Re||null))};var Jt=(0,he[vt])("accessor"===Mt?{get:Gt.get,set:Gt.set}:Gt[yn],cn);if("accessor"===Mt){if(void 0===Jt)continue;if(null===Jt||"object"!=typeof Jt)throw new TypeError("Object expected");(Lt=ot(Jt.get))&&(Gt.get=Lt),(Lt=ot(Jt.set))&&(Gt.set=Lt),(Lt=ot(Jt.init))&&ke.unshift(Lt)}else(Lt=ot(Jt))&&("field"===Mt?ke.unshift(Lt):Gt[yn]=Lt)}pt&&Object.defineProperty(pt,ge.name,Gt),fn=!0}function ne(se,ae,he){for(var ge=arguments.length>2,ke=0;ke<ae.length;ke++)he=ge?ae[ke].call(se,he):ae[ke].call(se);return ge?he:void 0}function ue(se){return"symbol"==typeof se?se:"".concat(se)}function de(se,ae,he){return"symbol"==typeof ae&&(ae=ae.description?"[".concat(ae.description,"]"):""),Object.defineProperty(se,"name",{configurable:!0,value:he?"".concat(he," ",ae):ae})}function Z(se,ae){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(se,ae)}function me(se,ae,he,ge){return new(he||(he=Promise))(function(xe,ot){function Mt(Gt){try{pt(ge.next(Gt))}catch(Lt){ot(Lt)}}function yn(Gt){try{pt(ge.throw(Gt))}catch(Lt){ot(Lt)}}function pt(Gt){Gt.done?xe(Gt.value):function ke(xe){return xe instanceof he?xe:new he(function(ot){ot(xe)})}(Gt.value).then(Mt,yn)}pt((ge=ge.apply(se,ae||[])).next())})}function He(se,ae){var ge,ke,xe,he={label:0,sent:function(){if(1&xe[0])throw xe[1];return xe[1]},trys:[],ops:[]},ot=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return ot.next=Mt(0),ot.throw=Mt(1),ot.return=Mt(2),"function"==typeof Symbol&&(ot[Symbol.iterator]=function(){return this}),ot;function Mt(pt){return function(Gt){return function yn(pt){if(ge)throw new TypeError("Generator is already executing.");for(;ot&&(ot=0,pt[0]&&(he=0)),he;)try{if(ge=1,ke&&(xe=2&pt[0]?ke.return:pt[0]?ke.throw||((xe=ke.return)&&xe.call(ke),0):ke.next)&&!(xe=xe.call(ke,pt[1])).done)return xe;switch(ke=0,xe&&(pt=[2&pt[0],xe.value]),pt[0]){case 0:case 1:xe=pt;break;case 4:return he.label++,{value:pt[1],done:!1};case 5:he.label++,ke=pt[1],pt=[0];continue;case 7:pt=he.ops.pop(),he.trys.pop();continue;default:if(!(xe=(xe=he.trys).length>0&&xe[xe.length-1])&&(6===pt[0]||2===pt[0])){he=0;continue}if(3===pt[0]&&(!xe||pt[1]>xe[0]&&pt[1]<xe[3])){he.label=pt[1];break}if(6===pt[0]&&he.label<xe[1]){he.label=xe[1],xe=pt;break}if(xe&&he.label<xe[2]){he.label=xe[2],he.ops.push(pt);break}xe[2]&&he.ops.pop(),he.trys.pop();continue}pt=ae.call(se,he)}catch(Gt){pt=[6,Gt],ke=0}finally{ge=xe=0}if(5&pt[0])throw pt[1];return{value:pt[0]?pt[1]:void 0,done:!0}}([pt,Gt])}}}var Ie=Object.create?function(se,ae,he,ge){void 0===ge&&(ge=he);var ke=Object.getOwnPropertyDescriptor(ae,he);(!ke||("get"in ke?!ae.__esModule:ke.writable||ke.configurable))&&(ke={enumerable:!0,get:function(){return ae[he]}}),Object.defineProperty(se,ge,ke)}:function(se,ae,he,ge){void 0===ge&&(ge=he),se[ge]=ae[he]};function Oe(se,ae){for(var he in se)"default"!==he&&!Object.prototype.hasOwnProperty.call(ae,he)&&Ie(ae,se,he)}function wt(se){var ae="function"==typeof Symbol&&Symbol.iterator,he=ae&&se[ae],ge=0;if(he)return he.call(se);if(se&&"number"==typeof se.length)return{next:function(){return se&&ge>=se.length&&(se=void 0),{value:se&&se[ge++],done:!se}}};throw new TypeError(ae?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qe(se,ae){var he="function"==typeof Symbol&&se[Symbol.iterator];if(!he)return se;var ke,ot,ge=he.call(se),xe=[];try{for(;(void 0===ae||ae-- >0)&&!(ke=ge.next()).done;)xe.push(ke.value)}catch(Mt){ot={error:Mt}}finally{try{ke&&!ke.done&&(he=ge.return)&&he.call(ge)}finally{if(ot)throw ot.error}}return xe}function at(){for(var se=[],ae=0;ae<arguments.length;ae++)se=se.concat(Qe(arguments[ae]));return se}function G(){for(var se=0,ae=0,he=arguments.length;ae<he;ae++)se+=arguments[ae].length;var ge=Array(se),ke=0;for(ae=0;ae<he;ae++)for(var xe=arguments[ae],ot=0,Mt=xe.length;ot<Mt;ot++,ke++)ge[ke]=xe[ot];return ge}function Ne(se,ae,he){if(he||2===arguments.length)for(var xe,ge=0,ke=ae.length;ge<ke;ge++)(xe||!(ge in ae))&&(xe||(xe=Array.prototype.slice.call(ae,0,ge)),xe[ge]=ae[ge]);return se.concat(xe||Array.prototype.slice.call(ae))}function Ve(se){return this instanceof Ve?(this.v=se,this):new Ve(se)}function ye(se,ae,he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ke,ge=he.apply(se,ae||[]),xe=[];return ke=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Mt("next"),Mt("throw"),Mt("return",function ot(vt){return function(cn){return Promise.resolve(cn).then(vt,Lt)}}),ke[Symbol.asyncIterator]=function(){return this},ke;function Mt(vt,cn){ge[vt]&&(ke[vt]=function(st){return new Promise(function(Jt,Re){xe.push([vt,st,Jt,Re])>1||yn(vt,st)})},cn&&(ke[vt]=cn(ke[vt])))}function yn(vt,cn){try{!function pt(vt){vt.value instanceof Ve?Promise.resolve(vt.value.v).then(Gt,Lt):fn(xe[0][2],vt)}(ge[vt](cn))}catch(st){fn(xe[0][3],st)}}function Gt(vt){yn("next",vt)}function Lt(vt){yn("throw",vt)}function fn(vt,cn){vt(cn),xe.shift(),xe.length&&yn(xe[0][0],xe[0][1])}}function ze(se){var ae,he;return ae={},ge("next"),ge("throw",function(ke){throw ke}),ge("return"),ae[Symbol.iterator]=function(){return this},ae;function ge(ke,xe){ae[ke]=se[ke]?function(ot){return(he=!he)?{value:Ve(se[ke](ot)),done:!1}:xe?xe(ot):ot}:xe}}function Be(se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,ae=se[Symbol.asyncIterator];return ae?ae.call(se):(se=wt(se),he={},ge("next"),ge("throw"),ge("return"),he[Symbol.asyncIterator]=function(){return this},he);function ge(xe){he[xe]=se[xe]&&function(ot){return new Promise(function(Mt,yn){!function ke(xe,ot,Mt,yn){Promise.resolve(yn).then(function(pt){xe({value:pt,done:Mt})},ot)}(Mt,yn,(ot=se[xe](ot)).done,ot.value)})}}}function Fe(se,ae){return Object.defineProperty?Object.defineProperty(se,"raw",{value:ae}):se.raw=ae,se}var Le=Object.create?function(se,ae){Object.defineProperty(se,"default",{enumerable:!0,value:ae})}:function(se,ae){se.default=ae},ft=function(se){return(ft=Object.getOwnPropertyNames||function(ae){var he=[];for(var ge in ae)Object.prototype.hasOwnProperty.call(ae,ge)&&(he[he.length]=ge);return he})(se)};function Ae(se){if(se&&se.__esModule)return se;var ae={};if(null!=se)for(var he=ft(se),ge=0;ge<he.length;ge++)"default"!==he[ge]&&Ie(ae,se,he[ge]);return Le(ae,se),ae}function nn(se){return se&&se.__esModule?se:{default:se}}function Cn(se,ae,he,ge){if("a"===he&&!ge)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof ae?se!==ae||!ge:!ae.has(se))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===he?ge:"a"===he?ge.call(se):ge?ge.value:ae.get(se)}function Ft(se,ae,he,ge,ke){if("m"===ge)throw new TypeError("Private method is not writable");if("a"===ge&&!ke)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof ae?se!==ae||!ke:!ae.has(se))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===ge?ke.call(se,he):ke?ke.value=he:ae.set(se,he),he}function vn(se,ae){if(null===ae||"object"!=typeof ae&&"function"!=typeof ae)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof se?ae===se:se.has(ae)}function Ge(se,ae,he){if(null!=ae){if("object"!=typeof ae&&"function"!=typeof ae)throw new TypeError("Object expected.");var ge,ke;if(he){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");ge=ae[Symbol.asyncDispose]}if(void 0===ge){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");ge=ae[Symbol.dispose],he&&(ke=ge)}if("function"!=typeof ge)throw new TypeError("Object not disposable.");ke&&(ge=function(){try{ke.call(this)}catch(xe){return Promise.reject(xe)}}),se.stack.push({value:ae,dispose:ge,async:he})}else he&&se.stack.push({async:!0});return ae}var Jn="function"==typeof SuppressedError?SuppressedError:function(se,ae,he){var ge=new Error(he);return ge.name="SuppressedError",ge.error=se,ge.suppressed=ae,ge};function et(se){function ae(xe){se.error=se.hasError?new Jn(xe,se.error,"An error was suppressed during disposal."):xe,se.hasError=!0}var he,ge=0;return function ke(){for(;he=se.stack.pop();)try{if(!he.async&&1===ge)return ge=0,se.stack.push(he),Promise.resolve().then(ke);if(he.dispose){var xe=he.dispose.call(he.value);if(he.async)return ge|=2,Promise.resolve(xe).then(ke,function(ot){return ae(ot),ke()})}else ge|=1}catch(ot){ae(ot)}if(1===ge)return se.hasError?Promise.reject(se.error):Promise.resolve();if(se.hasError)throw se.error}()}function dt(se,ae){return"string"==typeof se&&/^\.\.?\//.test(se)?se.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(he,ge,ke,xe,ot){return ge?ae?".jsx":".js":!ke||xe&&ot?ke+xe+"."+ot.toLowerCase()+"js":he}):se}const Rn={__extends:Q,__assign:w,__rest:ce,__decorate:q,__param:L,__esDecorate:H,__runInitializers:ne,__propKey:ue,__setFunctionName:de,__metadata:Z,__awaiter:me,__generator:He,__createBinding:Ie,__exportStar:Oe,__values:wt,__read:Qe,__spread:at,__spreadArrays:G,__spreadArray:Ne,__await:Ve,__asyncGenerator:ye,__asyncDelegator:ze,__asyncValues:Be,__makeTemplateObject:Fe,__importStar:Ae,__importDefault:nn,__classPrivateFieldGet:Cn,__classPrivateFieldSet:Ft,__classPrivateFieldIn:vn,__addDisposableResource:Ge,__disposeResources:et,__rewriteRelativeImportExtension:dt}},9293:Je=>{function oe(c,Q,w,ce,q,L,H){try{var ne=c[L](H),ue=ne.value}catch(de){return void w(de)}ne.done?Q(ue):Promise.resolve(ue).then(ce,q)}Je.exports=function O(c){return function(){var Q=this,w=arguments;return new Promise(function(ce,q){var L=c.apply(Q,w);function H(ue){oe(L,ce,q,H,ne,"next",ue)}function ne(ue){oe(L,ce,q,H,ne,"throw",ue)}H(void 0)})}},Je.exports.__esModule=!0,Je.exports.default=Je.exports},177:(Je,oe,O)=>{"use strict";O.d(oe,{AJ:()=>Mo,B3:()=>wo,Jj:()=>Es,MD:()=>$o,N0:()=>Yn,QT:()=>w,Sm:()=>Oe,Sq:()=>Pt,VF:()=>q,Vy:()=>Ke,Xr:()=>Io,YU:()=>Vn,ZD:()=>ce,_b:()=>Nn,aZ:()=>Qe,bT:()=>sr,fw:()=>wt,hb:()=>He,hj:()=>ne,qQ:()=>L});var c=O(540);let Q=null;function w(){return Q}function ce(m){Q||(Q=m)}class q{}const L=new c.nKC("DocumentToken");let H=(()=>{class m{historyGo(C){throw new Error("Not implemented")}static{this.\u0275fac=function(T){return new(T||m)}}static{this.\u0275prov=c.jDH({token:m,factory:function(){return(0,c.WQX)(ue)},providedIn:"platform"})}}return m})();const ne=new c.nKC("Location Initialized");let ue=(()=>{class m extends H{constructor(){super(),this._doc=(0,c.WQX)(L),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return w().getBaseHref(this._doc)}onPopState(C){const T=w().getGlobalEventTarget(this._doc,"window");return T.addEventListener("popstate",C,!1),()=>T.removeEventListener("popstate",C)}onHashChange(C){const T=w().getGlobalEventTarget(this._doc,"window");return T.addEventListener("hashchange",C,!1),()=>T.removeEventListener("hashchange",C)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(C){this._location.pathname=C}pushState(C,T,B){this._history.pushState(C,T,B)}replaceState(C,T,B){this._history.replaceState(C,T,B)}forward(){this._history.forward()}back(){this._history.back()}historyGo(C=0){this._history.go(C)}getState(){return this._history.state}static{this.\u0275fac=function(T){return new(T||m)}}static{this.\u0275prov=c.jDH({token:m,factory:function(){return new m},providedIn:"platform"})}}return m})();function de(m,x){if(0==m.length)return x;if(0==x.length)return m;let C=0;return m.endsWith("/")&&C++,x.startsWith("/")&&C++,2==C?m+x.substring(1):1==C?m+x:m+"/"+x}function Z(m){const x=m.match(/#|\?|$/),C=x&&x.index||m.length;return m.slice(0,C-("/"===m[C-1]?1:0))+m.slice(C)}function me(m){return m&&"?"!==m[0]?"?"+m:m}let He=(()=>{class m{historyGo(C){throw new Error("Not implemented")}static{this.\u0275fac=function(T){return new(T||m)}}static{this.\u0275prov=c.jDH({token:m,factory:function(){return(0,c.WQX)(Oe)},providedIn:"root"})}}return m})();const Ie=new c.nKC("appBaseHref");let Oe=(()=>{class m extends He{constructor(C,T){super(),this._platformLocation=C,this._removeListenerFns=[],this._baseHref=T??this._platformLocation.getBaseHrefFromDOM()??(0,c.WQX)(L).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(C){this._removeListenerFns.push(this._platformLocation.onPopState(C),this._platformLocation.onHashChange(C))}getBaseHref(){return this._baseHref}prepareExternalUrl(C){return de(this._baseHref,C)}path(C=!1){const T=this._platformLocation.pathname+me(this._platformLocation.search),B=this._platformLocation.hash;return B&&C?`${T}${B}`:T}pushState(C,T,B,fe){const we=this.prepareExternalUrl(B+me(fe));this._platformLocation.pushState(C,T,we)}replaceState(C,T,B,fe){const we=this.prepareExternalUrl(B+me(fe));this._platformLocation.replaceState(C,T,we)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(C=0){this._platformLocation.historyGo?.(C)}static{this.\u0275fac=function(T){return new(T||m)(c.KVO(H),c.KVO(Ie,8))}}static{this.\u0275prov=c.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})(),wt=(()=>{class m extends He{constructor(C,T){super(),this._platformLocation=C,this._baseHref="",this._removeListenerFns=[],null!=T&&(this._baseHref=T)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(C){this._removeListenerFns.push(this._platformLocation.onPopState(C),this._platformLocation.onHashChange(C))}getBaseHref(){return this._baseHref}path(C=!1){let T=this._platformLocation.hash;return null==T&&(T="#"),T.length>0?T.substring(1):T}prepareExternalUrl(C){const T=de(this._baseHref,C);return T.length>0?"#"+T:T}pushState(C,T,B,fe){let we=this.prepareExternalUrl(B+me(fe));0==we.length&&(we=this._platformLocation.pathname),this._platformLocation.pushState(C,T,we)}replaceState(C,T,B,fe){let we=this.prepareExternalUrl(B+me(fe));0==we.length&&(we=this._platformLocation.pathname),this._platformLocation.replaceState(C,T,we)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(C=0){this._platformLocation.historyGo?.(C)}static{this.\u0275fac=function(T){return new(T||m)(c.KVO(H),c.KVO(Ie,8))}}static{this.\u0275prov=c.jDH({token:m,factory:m.\u0275fac})}}return m})(),Qe=(()=>{class m{constructor(C){this._subject=new c.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=C;const T=this._locationStrategy.getBaseHref();this._basePath=function Ve(m){if(new RegExp("^(https?:)?//").test(m)){const[,C]=m.split(/\/\/[^\/]+/);return C}return m}(Z(Ne(T))),this._locationStrategy.onPopState(B=>{this._subject.emit({url:this.path(!0),pop:!0,state:B.state,type:B.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(C=!1){return this.normalize(this._locationStrategy.path(C))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(C,T=""){return this.path()==this.normalize(C+me(T))}normalize(C){return m.stripTrailingSlash(function G(m,x){if(!m||!x.startsWith(m))return x;const C=x.substring(m.length);return""===C||["/",";","?","#"].includes(C[0])?C:x}(this._basePath,Ne(C)))}prepareExternalUrl(C){return C&&"/"!==C[0]&&(C="/"+C),this._locationStrategy.prepareExternalUrl(C)}go(C,T="",B=null){this._locationStrategy.pushState(B,"",C,T),this._notifyUrlChangeListeners(this.prepareExternalUrl(C+me(T)),B)}replaceState(C,T="",B=null){this._locationStrategy.replaceState(B,"",C,T),this._notifyUrlChangeListeners(this.prepareExternalUrl(C+me(T)),B)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(C=0){this._locationStrategy.historyGo?.(C)}onUrlChange(C){return this._urlChangeListeners.push(C),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(T=>{this._notifyUrlChangeListeners(T.url,T.state)})),()=>{const T=this._urlChangeListeners.indexOf(C);this._urlChangeListeners.splice(T,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(C="",T){this._urlChangeListeners.forEach(B=>B(C,T))}subscribe(C,T,B){return this._subject.subscribe({next:C,error:T,complete:B})}static{this.normalizeQueryParams=me}static{this.joinWithSlash=de}static{this.stripTrailingSlash=Z}static{this.\u0275fac=function(T){return new(T||m)(c.KVO(He))}}static{this.\u0275prov=c.jDH({token:m,factory:function(){return function at(){return new Qe((0,c.KVO)(He))}()},providedIn:"root"})}}return m})();function Ne(m){return m.replace(/\/index.html$/,"")}function Nn(m,x){x=encodeURIComponent(x);for(const C of m.split(";")){const T=C.indexOf("="),[B,fe]=-1==T?[C,""]:[C.slice(0,T),C.slice(T+1)];if(B.trim()===x)return decodeURIComponent(fe)}return null}const Un=/\s+/,Zr=[];let Vn=(()=>{class m{constructor(C,T,B,fe){this._iterableDiffers=C,this._keyValueDiffers=T,this._ngEl=B,this._renderer=fe,this.initialClasses=Zr,this.stateMap=new Map}set klass(C){this.initialClasses=null!=C?C.trim().split(Un):Zr}set ngClass(C){this.rawClass="string"==typeof C?C.trim().split(Un):C}ngDoCheck(){for(const T of this.initialClasses)this._updateState(T,!0);const C=this.rawClass;if(Array.isArray(C)||C instanceof Set)for(const T of C)this._updateState(T,!0);else if(null!=C)for(const T of Object.keys(C))this._updateState(T,!!C[T]);this._applyStateDiff()}_updateState(C,T){const B=this.stateMap.get(C);void 0!==B?(B.enabled!==T&&(B.changed=!0,B.enabled=T),B.touched=!0):this.stateMap.set(C,{enabled:T,changed:!0,touched:!0})}_applyStateDiff(){for(const C of this.stateMap){const T=C[0],B=C[1];B.changed?(this._toggleClass(T,B.enabled),B.changed=!1):B.touched||(B.enabled&&this._toggleClass(T,!1),this.stateMap.delete(T)),B.touched=!1}}_toggleClass(C,T){(C=C.trim()).length>0&&C.split(Un).forEach(B=>{T?this._renderer.addClass(this._ngEl.nativeElement,B):this._renderer.removeClass(this._ngEl.nativeElement,B)})}static{this.\u0275fac=function(T){return new(T||m)(c.rXU(c._q3),c.rXU(c.MKu),c.rXU(c.aKT),c.rXU(c.sFG))}}static{this.\u0275dir=c.FsC({type:m,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return m})();class wn{constructor(x,C,T,B){this.$implicit=x,this.ngForOf=C,this.index=T,this.count=B}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Pt=(()=>{class m{set ngForOf(C){this._ngForOf=C,this._ngForOfDirty=!0}set ngForTrackBy(C){this._trackByFn=C}get ngForTrackBy(){return this._trackByFn}constructor(C,T,B){this._viewContainer=C,this._template=T,this._differs=B,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(C){C&&(this._template=C)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const C=this._ngForOf;!this._differ&&C&&(this._differ=this._differs.find(C).create(this.ngForTrackBy))}if(this._differ){const C=this._differ.diff(this._ngForOf);C&&this._applyChanges(C)}}_applyChanges(C){const T=this._viewContainer;C.forEachOperation((B,fe,we)=>{if(null==B.previousIndex)T.createEmbeddedView(this._template,new wn(B.item,this._ngForOf,-1,-1),null===we?void 0:we);else if(null==we)T.remove(null===fe?void 0:fe);else if(null!==fe){const tt=T.get(fe);T.move(tt,we),Dn(tt,B)}});for(let B=0,fe=T.length;B<fe;B++){const tt=T.get(B).context;tt.index=B,tt.count=fe,tt.ngForOf=this._ngForOf}C.forEachIdentityChange(B=>{Dn(T.get(B.currentIndex),B)})}static ngTemplateContextGuard(C,T){return!0}static{this.\u0275fac=function(T){return new(T||m)(c.rXU(c.c1b),c.rXU(c.C4Q),c.rXU(c._q3))}}static{this.\u0275dir=c.FsC({type:m,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return m})();function Dn(m,x){m.context.$implicit=x.item}let sr=(()=>{class m{constructor(C,T){this._viewContainer=C,this._context=new to,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=T}set ngIf(C){this._context.$implicit=this._context.ngIf=C,this._updateView()}set ngIfThen(C){ir("ngIfThen",C),this._thenTemplateRef=C,this._thenViewRef=null,this._updateView()}set ngIfElse(C){ir("ngIfElse",C),this._elseTemplateRef=C,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(C,T){return!0}static{this.\u0275fac=function(T){return new(T||m)(c.rXU(c.c1b),c.rXU(c.C4Q))}}static{this.\u0275dir=c.FsC({type:m,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return m})();class to{constructor(){this.$implicit=null,this.ngIf=null}}function ir(m,x){if(x&&!x.createEmbeddedView)throw new Error(`${m} must be a TemplateRef, but received '${(0,c.Tbb)(x)}'.`)}let wo=(()=>{class m{constructor(C,T,B){this._ngEl=C,this._differs=T,this._renderer=B,this._ngStyle=null,this._differ=null}set ngStyle(C){this._ngStyle=C,!this._differ&&C&&(this._differ=this._differs.find(C).create())}ngDoCheck(){if(this._differ){const C=this._differ.diff(this._ngStyle);C&&this._applyChanges(C)}}_setStyle(C,T){const[B,fe]=C.split("."),we=-1===B.indexOf("-")?void 0:c.czy.DashCase;null!=T?this._renderer.setStyle(this._ngEl.nativeElement,B,fe?`${T}${fe}`:T,we):this._renderer.removeStyle(this._ngEl.nativeElement,B,we)}_applyChanges(C){C.forEachRemovedItem(T=>this._setStyle(T.key,null)),C.forEachAddedItem(T=>this._setStyle(T.key,T.currentValue)),C.forEachChangedItem(T=>this._setStyle(T.key,T.currentValue))}static{this.\u0275fac=function(T){return new(T||m)(c.rXU(c.aKT),c.rXU(c.MKu),c.rXU(c.sFG))}}static{this.\u0275dir=c.FsC({type:m,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return m})();class ai{createSubscription(x,C){return(0,c.O8t)(()=>x.subscribe({next:C,error:T=>{throw T}}))}dispose(x){(0,c.O8t)(()=>x.unsubscribe())}}class fs{createSubscription(x,C){return x.then(C,T=>{throw T})}dispose(x){}}const Nr=new fs,tr=new ai;let Es=(()=>{class m{constructor(C){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=C}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(C){return this._obj?C!==this._obj?(this._dispose(),this.transform(C)):this._latestValue:(C&&this._subscribe(C),this._latestValue)}_subscribe(C){this._obj=C,this._strategy=this._selectStrategy(C),this._subscription=this._strategy.createSubscription(C,T=>this._updateLatestValue(C,T))}_selectStrategy(C){if((0,c.jNT)(C))return Nr;if((0,c.zjR)(C))return tr;throw function vr(m,x){return new c.wOt(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(C,T){C===this._obj&&(this._latestValue=T,this._ref.markForCheck())}static{this.\u0275fac=function(T){return new(T||m)(c.rXU(c.gRc,16))}}static{this.\u0275pipe=c.EJ8({name:"async",type:m,pure:!1,standalone:!0})}}return m})(),$o=(()=>{class m{static{this.\u0275fac=function(T){return new(T||m)}}static{this.\u0275mod=c.$C({type:m})}static{this.\u0275inj=c.G2t({})}}return m})();const Mo="browser",Er="server";function Ke(m){return m===Er}let Io=(()=>{class m{static{this.\u0275prov=(0,c.jDH)({token:m,providedIn:"root",factory:()=>new bn((0,c.KVO)(L),window)})}}return m})();class bn{constructor(x,C){this.document=x,this.window=C,this.offset=()=>[0,0]}setOffset(x){this.offset=Array.isArray(x)?()=>x:x}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(x){this.supportsScrolling()&&this.window.scrollTo(x[0],x[1])}scrollToAnchor(x){if(!this.supportsScrolling())return;const C=function lo(m,x){const C=m.getElementById(x)||m.getElementsByName(x)[0];if(C)return C;if("function"==typeof m.createTreeWalker&&m.body&&"function"==typeof m.body.attachShadow){const T=m.createTreeWalker(m.body,NodeFilter.SHOW_ELEMENT);let B=T.currentNode;for(;B;){const fe=B.shadowRoot;if(fe){const we=fe.getElementById(x)||fe.querySelector(`[name="${x}"]`);if(we)return we}B=T.nextNode()}}return null}(this.document,x);C&&(this.scrollToElement(C),C.focus())}setHistoryScrollRestoration(x){this.supportsScrolling()&&(this.window.history.scrollRestoration=x)}scrollToElement(x){const C=x.getBoundingClientRect(),T=C.left+this.window.pageXOffset,B=C.top+this.window.pageYOffset,fe=this.offset();this.window.scrollTo(T-fe[0],B-fe[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Yn{}},1626:(Je,oe,O)=>{"use strict";O.d(oe,{$R:()=>gr,$m:()=>Yr,Lr:()=>Oe,Nl:()=>ze,Qq:()=>se,q1:()=>ve});var c=O(540),Q=O(7673),w=O(6648),ce=O(1985),q=O(274),L=O(5964),H=O(6354),ne=O(980),ue=O(5558),de=O(8141),Z=O(1594),me=O(177);class He{}class Ie{}class Oe{constructor(z){this.normalizedNames=new Map,this.lazyUpdate=null,z?"string"==typeof z?this.lazyInit=()=>{this.headers=new Map,z.split("\n").forEach(X=>{const _e=X.indexOf(":");if(_e>0){const $e=X.slice(0,_e),je=$e.toLowerCase(),Ue=X.slice(_e+1).trim();this.maybeSetNormalizedName($e,je),this.headers.has(je)?this.headers.get(je).push(Ue):this.headers.set(je,[Ue])}})}:typeof Headers<"u"&&z instanceof Headers?(this.headers=new Map,z.forEach((X,_e)=>{this.setHeaderEntries(_e,X)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(z).forEach(([X,_e])=>{this.setHeaderEntries(X,_e)})}:this.headers=new Map}has(z){return this.init(),this.headers.has(z.toLowerCase())}get(z){this.init();const X=this.headers.get(z.toLowerCase());return X&&X.length>0?X[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(z){return this.init(),this.headers.get(z.toLowerCase())||null}append(z,X){return this.clone({name:z,value:X,op:"a"})}set(z,X){return this.clone({name:z,value:X,op:"s"})}delete(z,X){return this.clone({name:z,value:X,op:"d"})}maybeSetNormalizedName(z,X){this.normalizedNames.has(X)||this.normalizedNames.set(X,z)}init(){this.lazyInit&&(this.lazyInit instanceof Oe?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(z=>this.applyUpdate(z)),this.lazyUpdate=null))}copyFrom(z){z.init(),Array.from(z.headers.keys()).forEach(X=>{this.headers.set(X,z.headers.get(X)),this.normalizedNames.set(X,z.normalizedNames.get(X))})}clone(z){const X=new Oe;return X.lazyInit=this.lazyInit&&this.lazyInit instanceof Oe?this.lazyInit:this,X.lazyUpdate=(this.lazyUpdate||[]).concat([z]),X}applyUpdate(z){const X=z.name.toLowerCase();switch(z.op){case"a":case"s":let _e=z.value;if("string"==typeof _e&&(_e=[_e]),0===_e.length)return;this.maybeSetNormalizedName(z.name,X);const $e=("a"===z.op?this.headers.get(X):void 0)||[];$e.push(..._e),this.headers.set(X,$e);break;case"d":const je=z.value;if(je){let Ue=this.headers.get(X);if(!Ue)return;Ue=Ue.filter(ct=>-1===je.indexOf(ct)),0===Ue.length?(this.headers.delete(X),this.normalizedNames.delete(X)):this.headers.set(X,Ue)}else this.headers.delete(X),this.normalizedNames.delete(X)}}setHeaderEntries(z,X){const _e=(Array.isArray(X)?X:[X]).map(je=>je.toString()),$e=z.toLowerCase();this.headers.set($e,_e),this.maybeSetNormalizedName(z,$e)}forEach(z){this.init(),Array.from(this.normalizedNames.keys()).forEach(X=>z(this.normalizedNames.get(X),this.headers.get(X)))}}class Qe{encodeKey(z){return Ve(z)}encodeValue(z){return Ve(z)}decodeKey(z){return decodeURIComponent(z)}decodeValue(z){return decodeURIComponent(z)}}const G=/%(\d[a-f0-9])/gi,Ne={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ve(te){return encodeURIComponent(te).replace(G,(z,X)=>Ne[X]??z)}function ye(te){return`${te}`}class ze{constructor(z={}){if(this.updates=null,this.cloneFrom=null,this.encoder=z.encoder||new Qe,z.fromString){if(z.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function at(te,z){const X=new Map;return te.length>0&&te.replace(/^\?/,"").split("&").forEach($e=>{const je=$e.indexOf("="),[Ue,ct]=-1==je?[z.decodeKey($e),""]:[z.decodeKey($e.slice(0,je)),z.decodeValue($e.slice(je+1))],_t=X.get(Ue)||[];_t.push(ct),X.set(Ue,_t)}),X}(z.fromString,this.encoder)}else z.fromObject?(this.map=new Map,Object.keys(z.fromObject).forEach(X=>{const _e=z.fromObject[X],$e=Array.isArray(_e)?_e.map(ye):[ye(_e)];this.map.set(X,$e)})):this.map=null}has(z){return this.init(),this.map.has(z)}get(z){this.init();const X=this.map.get(z);return X?X[0]:null}getAll(z){return this.init(),this.map.get(z)||null}keys(){return this.init(),Array.from(this.map.keys())}append(z,X){return this.clone({param:z,value:X,op:"a"})}appendAll(z){const X=[];return Object.keys(z).forEach(_e=>{const $e=z[_e];Array.isArray($e)?$e.forEach(je=>{X.push({param:_e,value:je,op:"a"})}):X.push({param:_e,value:$e,op:"a"})}),this.clone(X)}set(z,X){return this.clone({param:z,value:X,op:"s"})}delete(z,X){return this.clone({param:z,value:X,op:"d"})}toString(){return this.init(),this.keys().map(z=>{const X=this.encoder.encodeKey(z);return this.map.get(z).map(_e=>X+"="+this.encoder.encodeValue(_e)).join("&")}).filter(z=>""!==z).join("&")}clone(z){const X=new ze({encoder:this.encoder});return X.cloneFrom=this.cloneFrom||this,X.updates=(this.updates||[]).concat(z),X}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(z=>this.map.set(z,this.cloneFrom.map.get(z))),this.updates.forEach(z=>{switch(z.op){case"a":case"s":const X=("a"===z.op?this.map.get(z.param):void 0)||[];X.push(ye(z.value)),this.map.set(z.param,X);break;case"d":if(void 0===z.value){this.map.delete(z.param);break}{let _e=this.map.get(z.param)||[];const $e=_e.indexOf(ye(z.value));-1!==$e&&_e.splice($e,1),_e.length>0?this.map.set(z.param,_e):this.map.delete(z.param)}}}),this.cloneFrom=this.updates=null)}}class Fe{constructor(){this.map=new Map}set(z,X){return this.map.set(z,X),this}get(z){return this.map.has(z)||this.map.set(z,z.defaultValue()),this.map.get(z)}delete(z){return this.map.delete(z),this}has(z){return this.map.has(z)}keys(){return this.map.keys()}}function ft(te){return typeof ArrayBuffer<"u"&&te instanceof ArrayBuffer}function Ae(te){return typeof Blob<"u"&&te instanceof Blob}function nn(te){return typeof FormData<"u"&&te instanceof FormData}class Ft{constructor(z,X,_e,$e){let je;if(this.url=X,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=z.toUpperCase(),function Le(te){switch(te){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||$e?(this.body=void 0!==_e?_e:null,je=$e):je=_e,je&&(this.reportProgress=!!je.reportProgress,this.withCredentials=!!je.withCredentials,je.responseType&&(this.responseType=je.responseType),je.headers&&(this.headers=je.headers),je.context&&(this.context=je.context),je.params&&(this.params=je.params)),this.headers||(this.headers=new Oe),this.context||(this.context=new Fe),this.params){const Ue=this.params.toString();if(0===Ue.length)this.urlWithParams=X;else{const ct=X.indexOf("?");this.urlWithParams=X+(-1===ct?"?":ct<X.length-1?"&":"")+Ue}}else this.params=new ze,this.urlWithParams=X}serializeBody(){return null===this.body?null:ft(this.body)||Ae(this.body)||nn(this.body)||function Cn(te){return typeof URLSearchParams<"u"&&te instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ze?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||nn(this.body)?null:Ae(this.body)?this.body.type||null:ft(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ze?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(z={}){const X=z.method||this.method,_e=z.url||this.url,$e=z.responseType||this.responseType,je=void 0!==z.body?z.body:this.body,Ue=void 0!==z.withCredentials?z.withCredentials:this.withCredentials,ct=void 0!==z.reportProgress?z.reportProgress:this.reportProgress;let _t=z.headers||this.headers,Pn=z.params||this.params;const jn=z.context??this.context;return void 0!==z.setHeaders&&(_t=Object.keys(z.setHeaders).reduce((Nn,Un)=>Nn.set(Un,z.setHeaders[Un]),_t)),z.setParams&&(Pn=Object.keys(z.setParams).reduce((Nn,Un)=>Nn.set(Un,z.setParams[Un]),Pn)),new Ft(X,_e,je,{params:Pn,headers:_t,context:jn,reportProgress:ct,responseType:$e,withCredentials:Ue})}}var vn=function(te){return te[te.Sent=0]="Sent",te[te.UploadProgress=1]="UploadProgress",te[te.ResponseHeader=2]="ResponseHeader",te[te.DownloadProgress=3]="DownloadProgress",te[te.Response=4]="Response",te[te.User=5]="User",te}(vn||{});class Ge{constructor(z,X=200,_e="OK"){this.headers=z.headers||new Oe,this.status=void 0!==z.status?z.status:X,this.statusText=z.statusText||_e,this.url=z.url||null,this.ok=this.status>=200&&this.status<300}}class Jn extends Ge{constructor(z={}){super(z),this.type=vn.ResponseHeader}clone(z={}){return new Jn({headers:z.headers||this.headers,status:void 0!==z.status?z.status:this.status,statusText:z.statusText||this.statusText,url:z.url||this.url||void 0})}}class et extends Ge{constructor(z={}){super(z),this.type=vn.Response,this.body=void 0!==z.body?z.body:null}clone(z={}){return new et({body:void 0!==z.body?z.body:this.body,headers:z.headers||this.headers,status:void 0!==z.status?z.status:this.status,statusText:z.statusText||this.statusText,url:z.url||this.url||void 0})}}class dt extends Ge{constructor(z){super(z,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${z.url||"(unknown url)"}`:`Http failure response for ${z.url||"(unknown url)"}: ${z.status} ${z.statusText}`,this.error=z.error||null}}function Rn(te,z){return{body:z,headers:te.headers,context:te.context,observe:te.observe,params:te.params,reportProgress:te.reportProgress,responseType:te.responseType,withCredentials:te.withCredentials}}let se=(()=>{class te{constructor(X){this.handler=X}request(X,_e,$e={}){let je;if(X instanceof Ft)je=X;else{let _t,Pn;_t=$e.headers instanceof Oe?$e.headers:new Oe($e.headers),$e.params&&(Pn=$e.params instanceof ze?$e.params:new ze({fromObject:$e.params})),je=new Ft(X,_e,void 0!==$e.body?$e.body:null,{headers:_t,context:$e.context,params:Pn,reportProgress:$e.reportProgress,responseType:$e.responseType||"json",withCredentials:$e.withCredentials})}const Ue=(0,Q.of)(je).pipe((0,q.H)(_t=>this.handler.handle(_t)));if(X instanceof Ft||"events"===$e.observe)return Ue;const ct=Ue.pipe((0,L.p)(_t=>_t instanceof et));switch($e.observe||"body"){case"body":switch(je.responseType){case"arraybuffer":return ct.pipe((0,H.T)(_t=>{if(null!==_t.body&&!(_t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _t.body}));case"blob":return ct.pipe((0,H.T)(_t=>{if(null!==_t.body&&!(_t.body instanceof Blob))throw new Error("Response is not a Blob.");return _t.body}));case"text":return ct.pipe((0,H.T)(_t=>{if(null!==_t.body&&"string"!=typeof _t.body)throw new Error("Response is not a string.");return _t.body}));default:return ct.pipe((0,H.T)(_t=>_t.body))}case"response":return ct;default:throw new Error(`Unreachable: unhandled observe type ${$e.observe}}`)}}delete(X,_e={}){return this.request("DELETE",X,_e)}get(X,_e={}){return this.request("GET",X,_e)}head(X,_e={}){return this.request("HEAD",X,_e)}jsonp(X,_e){return this.request("JSONP",X,{params:(new ze).append(_e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(X,_e={}){return this.request("OPTIONS",X,_e)}patch(X,_e,$e={}){return this.request("PATCH",X,Rn($e,_e))}post(X,_e,$e={}){return this.request("POST",X,Rn($e,_e))}put(X,_e,$e={}){return this.request("PUT",X,Rn($e,_e))}static{this.\u0275fac=function(_e){return new(_e||te)(c.KVO(He))}}static{this.\u0275prov=c.jDH({token:te,factory:te.\u0275fac})}}return te})();function yn(te,z){return z(te)}function pt(te,z){return(X,_e)=>z.intercept(X,{handle:$e=>te($e,_e)})}const Lt=new c.nKC(""),fn=new c.nKC(""),vt=new c.nKC("");function cn(){let te=null;return(z,X)=>{null===te&&(te=((0,c.WQX)(Lt,{optional:!0})??[]).reduceRight(pt,yn));const _e=(0,c.WQX)(c.$K3),$e=_e.add();return te(z,X).pipe((0,ne.j)(()=>_e.remove($e)))}}let st=(()=>{class te extends He{constructor(X,_e){super(),this.backend=X,this.injector=_e,this.chain=null,this.pendingTasks=(0,c.WQX)(c.$K3)}handle(X){if(null===this.chain){const $e=Array.from(new Set([...this.injector.get(fn),...this.injector.get(vt,[])]));this.chain=$e.reduceRight((je,Ue)=>function Gt(te,z,X){return(_e,$e)=>X.runInContext(()=>z(_e,je=>te(je,$e)))}(je,Ue,this.injector),yn)}const _e=this.pendingTasks.add();return this.chain(X,$e=>this.backend.handle($e)).pipe((0,ne.j)(()=>this.pendingTasks.remove(_e)))}static{this.\u0275fac=function(_e){return new(_e||te)(c.KVO(Ie),c.KVO(c.uvJ))}}static{this.\u0275prov=c.jDH({token:te,factory:te.\u0275fac})}}return te})();const Cr=/^\)\]\}',?\n/;let Hr=(()=>{class te{constructor(X){this.xhrFactory=X}handle(X){if("JSONP"===X.method)throw new c.wOt(-2800,!1);const _e=this.xhrFactory;return(_e.\u0275loadImpl?(0,w.H)(_e.\u0275loadImpl()):(0,Q.of)(null)).pipe((0,ue.n)(()=>new ce.c(je=>{const Ue=_e.build();if(Ue.open(X.method,X.urlWithParams),X.withCredentials&&(Ue.withCredentials=!0),X.headers.forEach((Kt,qt)=>Ue.setRequestHeader(Kt,qt.join(","))),X.headers.has("Accept")||Ue.setRequestHeader("Accept","application/json, text/plain, */*"),!X.headers.has("Content-Type")){const Kt=X.detectContentTypeHeader();null!==Kt&&Ue.setRequestHeader("Content-Type",Kt)}if(X.responseType){const Kt=X.responseType.toLowerCase();Ue.responseType="json"!==Kt?Kt:"text"}const ct=X.serializeBody();let _t=null;const Pn=()=>{if(null!==_t)return _t;const Kt=Ue.statusText||"OK",qt=new Oe(Ue.getAllResponseHeaders()),wn=function xn(te){return"responseURL"in te&&te.responseURL?te.responseURL:/^X-Request-URL:/m.test(te.getAllResponseHeaders())?te.getResponseHeader("X-Request-URL"):null}(Ue)||X.url;return _t=new Jn({headers:qt,status:Ue.status,statusText:Kt,url:wn}),_t},jn=()=>{let{headers:Kt,status:qt,statusText:wn,url:Pt}=Pn(),Dn=null;204!==qt&&(Dn=typeof Ue.response>"u"?Ue.responseText:Ue.response),0===qt&&(qt=Dn?200:0);let eo=qt>=200&&qt<300;if("json"===X.responseType&&"string"==typeof Dn){const sr=Dn;Dn=Dn.replace(Cr,"");try{Dn=""!==Dn?JSON.parse(Dn):null}catch(to){Dn=sr,eo&&(eo=!1,Dn={error:to,text:Dn})}}eo?(je.next(new et({body:Dn,headers:Kt,status:qt,statusText:wn,url:Pt||void 0})),je.complete()):je.error(new dt({error:Dn,headers:Kt,status:qt,statusText:wn,url:Pt||void 0}))},Nn=Kt=>{const{url:qt}=Pn(),wn=new dt({error:Kt,status:Ue.status||0,statusText:Ue.statusText||"Unknown Error",url:qt||void 0});je.error(wn)};let Un=!1;const Zr=Kt=>{Un||(je.next(Pn()),Un=!0);let qt={type:vn.DownloadProgress,loaded:Kt.loaded};Kt.lengthComputable&&(qt.total=Kt.total),"text"===X.responseType&&Ue.responseText&&(qt.partialText=Ue.responseText),je.next(qt)},Vn=Kt=>{let qt={type:vn.UploadProgress,loaded:Kt.loaded};Kt.lengthComputable&&(qt.total=Kt.total),je.next(qt)};return Ue.addEventListener("load",jn),Ue.addEventListener("error",Nn),Ue.addEventListener("timeout",Nn),Ue.addEventListener("abort",Nn),X.reportProgress&&(Ue.addEventListener("progress",Zr),null!==ct&&Ue.upload&&Ue.upload.addEventListener("progress",Vn)),Ue.send(ct),je.next({type:vn.Sent}),()=>{Ue.removeEventListener("error",Nn),Ue.removeEventListener("abort",Nn),Ue.removeEventListener("load",jn),Ue.removeEventListener("timeout",Nn),X.reportProgress&&(Ue.removeEventListener("progress",Zr),null!==ct&&Ue.upload&&Ue.upload.removeEventListener("progress",Vn)),Ue.readyState!==Ue.DONE&&Ue.abort()}})))}static{this.\u0275fac=function(_e){return new(_e||te)(c.KVO(me.N0))}}static{this.\u0275prov=c.jDH({token:te,factory:te.\u0275fac})}}return te})();const en=new c.nKC("XSRF_ENABLED"),zt=new c.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),or=new c.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Bt{}let dn=(()=>{class te{constructor(X,_e,$e){this.doc=X,this.platform=_e,this.cookieName=$e,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const X=this.doc.cookie||"";return X!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,me._b)(X,this.cookieName),this.lastCookieString=X),this.lastToken}static{this.\u0275fac=function(_e){return new(_e||te)(c.KVO(me.qQ),c.KVO(c.Agw),c.KVO(zt))}}static{this.\u0275prov=c.jDH({token:te,factory:te.\u0275fac})}}return te})();function Gr(te,z){const X=te.url.toLowerCase();if(!(0,c.WQX)(en)||"GET"===te.method||"HEAD"===te.method||X.startsWith("http://")||X.startsWith("https://"))return z(te);const _e=(0,c.WQX)(Bt).getToken(),$e=(0,c.WQX)(or);return null!=_e&&!te.headers.has($e)&&(te=te.clone({headers:te.headers.set($e,_e)})),z(te)}var Wt=function(te){return te[te.Interceptors=0]="Interceptors",te[te.LegacyInterceptors=1]="LegacyInterceptors",te[te.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",te[te.NoXsrfProtection=3]="NoXsrfProtection",te[te.JsonpSupport=4]="JsonpSupport",te[te.RequestsMadeViaParent=5]="RequestsMadeViaParent",te[te.Fetch=6]="Fetch",te}(Wt||{});function Qn(te,z){return{\u0275kind:te,\u0275providers:z}}function gr(...te){const z=[se,Hr,st,{provide:He,useExisting:st},{provide:Ie,useExisting:Hr},{provide:fn,useValue:Gr,multi:!0},{provide:en,useValue:!0},{provide:Bt,useClass:dn}];for(const X of te)z.push(...X.\u0275providers);return(0,c.EmA)(z)}const xt=new c.nKC("LEGACY_INTERCEPTOR_FN");let ve=(()=>{class te{static{this.\u0275fac=function(_e){return new(_e||te)}}static{this.\u0275mod=c.$C({type:te})}static{this.\u0275inj=c.G2t({providers:[gr(Qn(Wt.LegacyInterceptors,[{provide:xt,useFactory:cn},{provide:fn,useExisting:xt,multi:!0}]))]})}}return te})();const lt=new c.nKC(""),jt=["GET","HEAD"];function Rt(te,z){const{isCacheActive:X}=(0,c.WQX)(lt);if(!X||!jt.includes(te.method))return z(te);const _e=(0,c.WQX)(c.pJN),$e=function mr(te){const{params:z,method:X,responseType:_e,url:$e}=te,ct=function Ln(te){let z=0;for(const X of te)z=Math.imul(31,z)+X.charCodeAt(0)<<0;return z+=2147483648,z.toString()}(X+"."+_e+"."+$e+"?"+z.keys().sort().map(_t=>`${_t}=${z.getAll(_t)}`).join("&"));return(0,c.zw6)(ct)}(te),je=_e.get($e,null);if(je){let Ue=je.body;switch(je.responseType){case"arraybuffer":Ue=(new TextEncoder).encode(je.body).buffer;break;case"blob":Ue=new Blob([je.body])}return(0,Q.of)(new et({body:Ue,headers:new Oe(je.headers),status:je.status,statusText:je.statusText,url:je.url}))}return z(te).pipe((0,de.M)(Ue=>{Ue instanceof et&&_e.set($e,{body:Ue.body,headers:Qt(Ue.headers),status:Ue.status,statusText:Ue.statusText,url:Ue.url||"",responseType:te.responseType})}))}function Qt(te){const z={};for(const X of te.keys()){const _e=te.getAll(X);null!==_e&&(z[X]=_e)}return z}function Yr(){return[{provide:lt,useFactory:()=>((0,c.WQX)(c.KOA).add("httpcache"),{isCacheActive:!0})},{provide:vt,useValue:Rt,multi:!0,deps:[c.pJN,lt]},{provide:c.iLQ,multi:!0,useFactory:()=>{const te=(0,c.WQX)(c.o8S),z=(0,c.WQX)(lt);return()=>{te.isStable.pipe((0,Z.$)(X=>X)).toPromise().then(()=>{z.isCacheActive=!1})}}}]}},540:(Je,oe,O)=>{"use strict";O.d(oe,{iLQ:()=>dh,sZ2:()=>Uf,hnV:()=>Uv,o8S:()=>Pa,BIS:()=>v0,gRc:()=>bS,Ql9:()=>UE,Ocv:()=>FE,Z63:()=>uu,aKT:()=>hu,uvJ:()=>Fs,zcH:()=>mi,bkB:()=>Ls,$GK:()=>yt,nKC:()=>It,zZn:()=>Cs,_q3:()=>vh,MKu:()=>yh,xe9:()=>Bl,Co$:()=>jm,Vns:()=>Fi,NEm:()=>dS,SKi:()=>$r,Xx1:()=>Hu,Agw:()=>Uc,PLl:()=>Vf,sFG:()=>P0,_9s:()=>Kf,czy:()=>Qu,kdw:()=>Gu,C4Q:()=>Ou,NYb:()=>aS,giA:()=>Kv,pJN:()=>lu,RxE:()=>qf,c1b:()=>Vl,gXe:()=>qt,L39:()=>zS,Ol2:()=>Vm,w6W:()=>ED,Rfq:()=>ft,WQX:()=>ct,QuC:()=>uo,EmA:()=>xc,zw6:()=>y0,HJs:()=>KS,O8t:()=>os,H3F:()=>Vv,KOA:()=>$f,H8p:()=>kc,$K3:()=>$v,KH2:()=>Ta,wOt:()=>Ge,WHO:()=>zv,e01:()=>Wv,H5H:()=>jd,Zy3:()=>Jn,mq5:()=>lm,JZv:()=>Wt,TL3:()=>pS,LfX:()=>pr,plB:()=>th,jNT:()=>Id,zjR:()=>gg,TL$:()=>L_,Tbb:()=>Be,M8M:()=>HS,Vt3:()=>pd,GFd:()=>qp,OA$:()=>Ei,Jv_:()=>Lm,aNF:()=>$m,R7$:()=>_p,BMQ:()=>md,ZvI:()=>Qg,AVh:()=>Nd,wni:()=>vv,VBU:()=>Gs,FsC:()=>ao,jDH:()=>gt,G2t:()=>Ot,$C:()=>So,EJ8:()=>Vo,rXU:()=>ma,nrm:()=>Ed,k0s:()=>Tl,j41:()=>Al,RV6:()=>pg,xGo:()=>Rh,KVO:()=>je,kS0:()=>oc,QTQ:()=>Cp,bIt:()=>Ad,lsd:()=>yv,XpG:()=>bg,nI1:()=>nv,bMT:()=>rv,Y8G:()=>wd,FS9:()=>Td,Mz_:()=>Ol,lJ4:()=>qm,eq3:()=>Xm,l4e:()=>Jm,mGM:()=>gv,sdS:()=>cg,Njj:()=>Wi,EBC:()=>ip,eBV:()=>zi,B4B:()=>Oc,n$t:()=>Rf,xc7:()=>Pd,DNE:()=>ag,C5r:()=>wv,EFF:()=>Bg,JRh:()=>Fd,SpI:()=>Pl,Lme:()=>Ld,GBs:()=>mv});var c=O(1413),Q=O(8359),w=O(1985),ce=O(6365),q=O(8750),L=O(983),H=O(9326),ne=O(6648),de=O(4412),Z=O(7673),me=O(7707),He=O(9974);function Ie(e={}){const{connector:t=(()=>new c.B),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=e;return i=>{let l,f,v,E=0,P=!1,j=!1;const J=()=>{f?.unsubscribe(),f=void 0},ee=()=>{J(),l=v=void 0,P=j=!1},be=()=>{const Te=l;ee(),Te?.unsubscribe()};return(0,He.N)((Te,Xe)=>{E++,!j&&!P&&J();const ut=v=v??t();Xe.add(()=>{E--,0===E&&!j&&!P&&(f=Oe(be,o))}),ut.subscribe(Xe),!l&&E>0&&(l=new me.Ms({next:Ee=>ut.next(Ee),error:Ee=>{j=!0,J(),f=Oe(ee,n,Ee),ut.error(Ee)},complete:()=>{P=!0,J(),f=Oe(ee,r),ut.complete()}}),(0,q.Tg)(Te).subscribe(l))})(i)}}function Oe(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new me.Ms({next:()=>{r.unsubscribe(),e()}});return(0,q.Tg)(t(...n)).subscribe(r)}var wt=O(5558),Qe=O(3669),at=O(4360);function Ne(e,t){return e===t}var Ve=O(1594);function ye(e){for(let t in e)if(e[t]===ye)return t;throw Error("Could not find renamed property on target object.")}function ze(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Be(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Be).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Fe(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Le=ye({__forward_ref__:ye});function ft(e){return e.__forward_ref__=ft,e.toString=function(){return Be(this())},e}function Ae(e){return nn(e)?e():e}function nn(e){return"function"==typeof e&&e.hasOwnProperty(Le)&&e.__forward_ref__===ft}function Cn(e){return e&&!!e.\u0275providers}const vn="https://g.co/ng/security#xss";class Ge extends Error{constructor(t,n){super(Jn(t,n)),this.code=t}}function Jn(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}function et(e){return"string"==typeof e?e:null==e?"":String(e)}function he(e,t){throw new Ge(-201,!1)}function Jt(e,t){null==e&&function Re(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function gt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ot(e){return{providers:e.providers||[],imports:e.imports||[]}}function Mn(e){return rr(e,Hr)||rr(e,Uo)}function pr(e){return null!==Mn(e)}function rr(e,t){return e.hasOwnProperty(t)?e[t]:null}function xn(e){return e&&(e.hasOwnProperty(en)||e.hasOwnProperty(zt))?e[en]:null}const Hr=ye({\u0275prov:ye}),en=ye({\u0275inj:ye}),Uo=ye({ngInjectableDef:ye}),zt=ye({ngInjectorDef:ye});var yt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(yt||{});let or;function dn(e){const t=or;return or=e,t}function Gr(e,t,n){const r=Mn(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&yt.Optional?null:void 0!==t?t:void he(Be(e))}const Wt=globalThis;class It{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=gt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const jt={},Rt="__NG_DI_FLAG__",Qt="ngTempTokenPath",Ln=/\n/gm,te="__source";let z;function _e(e){const t=z;return z=e,t}function $e(e,t=yt.Default){if(void 0===z)throw new Ge(-203,!1);return null===z?Gr(e,void 0,t):z.get(e,t&yt.Optional?null:void 0,t)}function je(e,t=yt.Default){return(function Bt(){return or}()||$e)(Ae(e),t)}function ct(e,t=yt.Default){return je(e,_t(t))}function _t(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Pn(e){const t=[];for(let n=0;n<e.length;n++){const r=Ae(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Ge(900,!1);let o,i=yt.Default;for(let l=0;l<r.length;l++){const f=r[l],v=Nn(f);"number"==typeof v?-1===v?o=f.token:i|=v:o=f}t.push(je(o,i))}else t.push(je(r))}return t}function jn(e,t){return e[Rt]=t,e.prototype[Rt]=t,e}function Nn(e){return e[Rt]}function Vn(e){return{toString:e}.toString()}var Kt=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Kt||{}),qt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(qt||{});const wn={},Pt=[],Dn=ye({\u0275cmp:ye}),eo=ye({\u0275dir:ye}),sr=ye({\u0275pipe:ye}),to=ye({\u0275mod:ye}),ir=ye({\u0275fac:ye}),In=ye({__NG_ELEMENT_ID__:ye}),wr=ye({__NG_ENV_ID__:ye});function bo(e,t,n){let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const i=t.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}n=o+1}}function no(e,t,n){let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const i=n[r++],l=n[r++],f=n[r++];e.setAttribute(t,l,f,i)}else{const i=o,l=n[++r];Co(i)?e.setProperty(t,i,l):e.setAttribute(t,i,l),r++}}return r}function ar(e){return 3===e||4===e||6===e}function Co(e){return 64===e.charCodeAt(0)}function Dr(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||wo(e,n,o,null,-1===n||2===n?t[++r]:null)}}return e}function wo(e,t,n,r,o){let i=0,l=e.length;if(-1===t)l=-1;else for(;i<e.length;){const f=e[i++];if("number"==typeof f){if(f===t){l=-1;break}if(f>t){l=i-1;break}}}for(;i<e.length;){const f=e[i];if("number"==typeof f)break;if(f===n){if(null===r)return void(null!==o&&(e[i+1]=o));if(r===e[i+1])return void(e[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==l&&(e.splice(l,0,t),i=l+1),e.splice(i++,0,n),null!==r&&e.splice(i++,0,r),null!==o&&e.splice(i++,0,o)}const Do="ng-template";function hs(e,t,n){let r=0,o=!0;for(;r<e.length;){let i=e[r++];if("string"==typeof i&&o){const l=e[r++];if(n&&"class"===i&&-1!==bo(l.toLowerCase(),t,0))return!0}else{if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}"number"==typeof i&&(o=!1)}}return!1}function vr(e){return 4===e.type&&e.value!==Do}function ai(e,t,n){return t===(4!==e.type||n?e.value:Do)}function fs(e,t,n){let r=4;const o=e.attrs||[],i=function ps(e){for(let t=0;t<e.length;t++)if(ar(e[t]))return t;return e.length}(o);let l=!1;for(let f=0;f<t.length;f++){const v=t[f];if("number"!=typeof v){if(!l)if(4&r){if(r=2|1&r,""!==v&&!ai(e,v,n)||""===v&&1===t.length){if(Nr(r))return!1;l=!0}}else{const E=8&r?v:t[++f];if(8&r&&null!==e.attrs){if(!hs(e.attrs,E,n)){if(Nr(r))return!1;l=!0}continue}const j=tr(8&r?"class":v,o,vr(e),n);if(-1===j){if(Nr(r))return!1;l=!0;continue}if(""!==E){let J;J=j>i?"":o[j+1].toLowerCase();const ee=8&r?J:null;if(ee&&-1!==bo(ee,E,0)||2&r&&E!==J){if(Nr(r))return!1;l=!0}}}}else{if(!l&&!Nr(r)&&!Nr(v))return!1;if(l&&Nr(v))continue;l=!1,r=v|1&r}}return Nr(r)||l}function Nr(e){return 0==(1&e)}function tr(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let i=!1;for(;o<t.length;){const l=t[o];if(l===e)return o;if(3===l||6===l)i=!0;else{if(1===l||2===l){let f=t[++o];for(;"string"==typeof f;)f=t[++o];continue}if(4===l)break;if(0===l){o+=4;continue}}o+=i?1:2}return-1}return function Ss(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Es(e,t,n=!1){for(let r=0;r<t.length;r++)if(fs(e,t[r],n))return!0;return!1}function gs(e,t){return e?":not("+t.trim()+")":t}function Ms(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let l=e[n];if("string"==typeof l)if(2&r){const f=e[++n];o+="["+l+(f.length>0?'="'+f+'"':"")+"]"}else 8&r?o+="."+l:4&r&&(o+=" "+l);else""!==o&&!Nr(l)&&(t+=gs(i,o),o=""),r=l,i=i||!Nr(r);n++}return""!==o&&(t+=gs(i,o)),t}function Gs(e){return Vn(()=>{const t=$o(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Kt.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||qt.Emulated,styles:e.styles||Pt,_:null,schemas:e.schemas||null,tView:null,id:""};Mo(n);const r=e.dependencies;return n.directiveDefs=Er(r,!1),n.pipeDefs=Er(r,!0),n.id=function Ho(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of n)t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function Zo(e){return Ht(e)||An(e)}function ms(e){return null!==e}function So(e){return Vn(()=>({type:e.type,bootstrap:e.bootstrap||Pt,declarations:e.declarations||Pt,imports:e.imports||Pt,exports:e.exports||Pt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function yr(e,t){if(null==e)return wn;const n={};for(const r in e)if(e.hasOwnProperty(r)){let o=e[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),n[o]=r,t&&(t[o]=i)}return n}function ao(e){return Vn(()=>{const t=$o(e);return Mo(t),t})}function Vo(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Ht(e){return e[Dn]||null}function An(e){return e[eo]||null}function _n(e){return e[sr]||null}function uo(e){const t=Ht(e)||An(e)||_n(e);return null!==t&&t.standalone}function ur(e,t){const n=e[to]||null;if(!n&&!0===t)throw new Error(`Type ${Be(e)} does not have '\u0275mod' property.`);return n}function $o(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||wn,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Pt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:yr(e.inputs,t),outputs:yr(e.outputs)}}function Mo(e){e.features?.forEach(t=>t(e))}function Er(e,t){if(!e)return null;const n=t?_n:Zo;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(ms)}const hn=0,Ke=1,At=2,an=3,kr=4,Io=5,bn=6,lo=7,En=8,Yn=9,Ye=10,bt=11,Go=12,Kr=13,Zn=14,Xt=15,co=16,lr=17,_r=18,ho=19,ys=20,fo=21,Sr=22,po=23,Fr=24,Dt=25,ro=1,zs=2,qr=7,mo=9,zo=10,$n=11;function kn(e){return Array.isArray(e)&&"object"==typeof e[ro]}function Bn(e){return Array.isArray(e)&&!0===e[ro]}function Ao(e){return 0!=(4&e.flags)}function un(e){return e.componentOffset>-1}function cr(e){return 1==(1&e.flags)}function dr(e){return!!e.template}function M(e){return 0!=(512&e[At])}function Wo(e,t){return e.hasOwnProperty(ir)?e[ir]:null}let nr=null,To=!1;function hr(e){const t=nr;return nr=e,t}const ui={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function vo(e){if(!_s(e)||e.dirty){if(!e.producerMustRecompute(e)&&!Js(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function Xs(e){e.dirty=!0,function li(e){if(void 0===e.liveConsumerNode)return;const t=To;To=!0;try{for(const n of e.liveConsumerNode)n.dirty||Xs(n)}finally{To=t}}(e),e.consumerMarkedDirty?.(e)}function ci(e){return e&&(e.nextProducerIndex=0),hr(e)}function ht(e,t){if(hr(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(_s(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Ir(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Js(e){jr(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(vo(n),r!==n.version))return!0}return!1}function Di(e){if(jr(e),_s(e))for(let t=0;t<e.producerNode.length;t++)Ir(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Ir(e,t){if(function rs(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),jr(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)Ir(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];jr(o),o.producerIndexOfThis[r]=t}}function _s(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function jr(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let fe=null;function os(e){const t=hr(null);try{return e()}finally{hr(t)}}const Oo=()=>{},Ro=(()=>({...ui,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:Oo}))();class di{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Ei(){return Gn}function Gn(e){return e.type.prototype.ngOnChanges&&(e.setInput=ja),ss}function ss(){const e=Vi(this),t=e?.current;if(t){const n=e.previous;if(n===wn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function ja(e,t,n,r){const o=this.declaredInputs[n],i=Vi(e)||function Ua(e,t){return e[Ui]=t}(e,{previous:wn,current:null}),l=i.current||(i.current={}),f=i.previous,v=f[o];l[o]=new di(v&&v.currentValue,t,f===wn),e[r]=t}Ei.ngInherit=!0;const Ui="__ngSimpleChanges__";function Vi(e){return e[Ui]||null}const xo=function(e,t,n){};function mn(e){for(;Array.isArray(e);)e=e[hn];return e}function Zs(e,t){return mn(t[e])}function Or(e,t){return mn(t[e.index])}function fi(e,t){return e.data[t]}function is(e,t){return e[t]}function Ur(e,t){const n=t[e];return kn(n)?n:n[hn]}function as(e,t){return null==t?null:e[t]}function Va(e){e[lr]=0}function $a(e){1024&e[At]||(e[At]|=1024,us(e,1))}function Ii(e){1024&e[At]&&(e[At]&=-1025,us(e,-1))}function us(e,t){let n=e[an];if(null===n)return;n[Io]+=t;let r=n;for(n=n[an];null!==n&&(1===t&&1===r[Io]||-1===t&&0===r[Io]);)n[Io]+=t,r=n,n=n[an]}const St={lFrame:Ti(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ga(){return St.bindingsEnabled}function ei(){return null!==St.skipHydrationRootTNode}function Me(){return St.lFrame.lView}function tn(){return St.lFrame.tView}function zi(e){return St.lFrame.contextLView=e,e[En]}function Wi(e){return St.lFrame.contextLView=null,e}function fr(){let e=Ki();for(;null!==e&&64===e.type;)e=e.parent;return e}function Ki(){return St.lFrame.currentTNode}function Po(e,t){const n=St.lFrame;n.currentTNode=e,n.isParent=t}function qi(){return St.lFrame.isParent}function Vr(){const e=St.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function h(){return St.lFrame.bindingIndex++}function _(e){const t=St.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function $(e,t){const n=St.lFrame;n.bindingIndex=n.bindingRootIndex=e,ie(t)}function ie(e){St.lFrame.currentDirectiveIndex=e}function Et(){return St.lFrame.currentQueryIndex}function gn(e){St.lFrame.currentQueryIndex=e}function on(e){const t=e[Ke];return 2===t.type?t.declTNode:1===t.type?e[bn]:null}function qo(e,t,n){if(n&yt.SkipSelf){let o=t,i=e;for(;!(o=o.parent,null!==o||n&yt.Host||(o=on(i),null===o||(i=i[Zn],10&o.type))););if(null===o)return!1;t=o,e=i}const r=St.lFrame=ti();return r.currentTNode=t,r.lView=e,!0}function Ps(e){const t=ti(),n=e[Ke];St.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function ti(){const e=St.lFrame,t=null===e?null:e.child;return null===t?Ti(e):t}function Ti(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Ns(){const e=St.lFrame;return St.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Xa=Ns;function Ja(){const e=Ns();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Qr(){return St.lFrame.selectedIndex}function ni(e){St.lFrame.selectedIndex=e}function zn(){const e=St.lFrame;return fi(e.tView,e.selectedIndex)}function d(){return St.lFrame.currentNamespace}let a=!0;function s(){return a}function u(e){a=e}function D(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const i=e.data[n].type.prototype,{ngAfterContentInit:l,ngAfterContentChecked:f,ngAfterViewInit:v,ngAfterViewChecked:E,ngOnDestroy:P}=i;l&&(e.contentHooks??=[]).push(-n,l),f&&((e.contentHooks??=[]).push(n,f),(e.contentCheckHooks??=[]).push(n,f)),v&&(e.viewHooks??=[]).push(-n,v),E&&((e.viewHooks??=[]).push(n,E),(e.viewCheckHooks??=[]).push(n,E)),null!=P&&(e.destroyHooks??=[]).push(n,P)}}function I(e,t,n){V(e,t,3,n)}function R(e,t,n,r){(3&e[At])===n&&V(e,t,n,r)}function F(e,t){let n=e[At];(3&n)===t&&(n&=8191,n+=1,e[At]=n)}function V(e,t,n,r){const i=r??-1,l=t.length-1;let f=0;for(let v=void 0!==r?65535&e[lr]:0;v<l;v++)if("number"==typeof t[v+1]){if(f=t[v],null!=r&&f>=r)break}else t[v]<0&&(e[lr]+=65536),(f<i||-1==i)&&(pe(e,n,t,v),e[lr]=(4294901760&e[lr])+v+2),v++}function W(e,t){xo(4,e,t);const n=hr(null);try{t.call(e)}finally{hr(n),xo(5,e,t)}}function pe(e,t,n,r){const o=n[r]<0,i=n[r+1],f=e[o?-n[r]:n[r]];o?e[At]>>13<e[lr]>>16&&(3&e[At])===t&&(e[At]+=8192,W(f,i)):W(f,i)}const De=-1;class Pe{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Fn(e){return e!==De}function oo(e){return 32767&e}function Wn(e,t){let n=function On(e){return e>>16}(e),r=t;for(;n>0;)r=r[Zn],n--;return r}let ls=!0;function No(e){const t=ls;return ls=e,t}const wh=255,Dh=5;let Dy=0;const ks={};function ju(e,t){const n=Eh(e,t);if(-1!==n)return n;const r=t[Ke];r.firstCreatePass&&(e.injectorIndex=t.length,tc(r.data,e),tc(t,null),tc(r.blueprint,null));const o=Uu(e,t),i=e.injectorIndex;if(Fn(o)){const l=oo(o),f=Wn(o,t),v=f[Ke].data;for(let E=0;E<8;E++)t[i+E]=f[l+E]|v[l+E]}return t[i+8]=o,i}function tc(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Eh(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Uu(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){if(r=xh(o),null===r)return De;if(n++,o=o[Zn],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return De}function nc(e,t,n){!function Ey(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(In)&&(r=n[In]),null==r&&(r=n[In]=Dy++);const o=r&wh;t.data[e+(o>>Dh)]|=1<<o}(e,t,n)}function Sh(e,t,n){if(n&yt.Optional||void 0!==e)return e;he()}function Mh(e,t,n,r){if(n&yt.Optional&&void 0===r&&(r=null),!(n&(yt.Self|yt.Host))){const o=e[Yn],i=dn(void 0);try{return o?o.get(t,r,n&yt.Optional):Gr(t,r,n&yt.Optional)}finally{dn(i)}}return Sh(r,0,n)}function Ih(e,t,n,r=yt.Default,o){if(null!==e){if(2048&t[At]&&!(r&yt.Self)){const l=function Oy(e,t,n,r,o){let i=e,l=t;for(;null!==i&&null!==l&&2048&l[At]&&!(512&l[At]);){const f=Ah(i,l,n,r|yt.Self,ks);if(f!==ks)return f;let v=i.parent;if(!v){const E=l[ys];if(E){const P=E.get(n,ks,r);if(P!==ks)return P}v=xh(l),l=l[Zn]}i=v}return o}(e,t,n,r,ks);if(l!==ks)return l}const i=Ah(e,t,n,r,ks);if(i!==ks)return i}return Mh(t,n,r,o)}function Ah(e,t,n,r,o){const i=function Iy(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(In)?e[In]:void 0;return"number"==typeof t?t>=0?t&wh:Ty:t}(n);if("function"==typeof i){if(!qo(t,e,r))return r&yt.Host?Sh(o,0,r):Mh(t,n,r,o);try{let l;if(l=i(r),null!=l||r&yt.Optional)return l;he()}finally{Xa()}}else if("number"==typeof i){let l=null,f=Eh(e,t),v=De,E=r&yt.Host?t[Xt][bn]:null;for((-1===f||r&yt.SkipSelf)&&(v=-1===f?Uu(e,t):t[f+8],v!==De&&Oh(r,!1)?(l=t[Ke],f=oo(v),t=Wn(v,t)):f=-1);-1!==f;){const P=t[Ke];if(Th(i,f,P.data)){const j=My(f,t,n,l,r,E);if(j!==ks)return j}v=t[f+8],v!==De&&Oh(r,t[Ke].data[f+8]===E)&&Th(i,f,t)?(l=P,f=oo(v),t=Wn(v,t)):f=-1}}return o}function My(e,t,n,r,o,i){const l=t[Ke],f=l.data[e+8],P=Vu(f,l,n,null==r?un(f)&&ls:r!=l&&0!=(3&f.type),o&yt.Host&&i===f);return null!==P?Oi(t,l,P,f):ks}function Vu(e,t,n,r,o){const i=e.providerIndexes,l=t.data,f=1048575&i,v=e.directiveStart,P=i>>20,J=o?f+P:e.directiveEnd;for(let ee=r?f:f+P;ee<J;ee++){const be=l[ee];if(ee<v&&n===be||ee>=v&&be.type===n)return ee}if(o){const ee=l[v];if(ee&&dr(ee)&&ee.type===n)return v}return null}function Oi(e,t,n,r){let o=e[n];const i=t.data;if(function Se(e){return e instanceof Pe}(o)){const l=o;l.resolving&&function Rn(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Ge(-200,`Circular dependency in DI detected for ${e}${n}`)}(function dt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():et(e)}(i[n]));const f=No(l.canSeeViewProviders);l.resolving=!0;const E=l.injectImpl?dn(l.injectImpl):null;qo(e,r,yt.Default);try{o=e[n]=l.factory(void 0,i,e,r),t.firstCreatePass&&n>=r.directiveStart&&function g(e,t,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){const l=Gn(t);(n.preOrderHooks??=[]).push(e,l),(n.preOrderCheckHooks??=[]).push(e,l)}o&&(n.preOrderHooks??=[]).push(0-e,o),i&&((n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i))}(n,i[n],t)}finally{null!==E&&dn(E),No(f),l.resolving=!1,Xa()}}return o}function Th(e,t,n){return!!(n[t+(e>>Dh)]&1<<e)}function Oh(e,t){return!(e&yt.Self||e&yt.Host&&t)}class yo{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Ih(this._tNode,this._lView,t,_t(r),n)}}function Ty(){return new yo(fr(),Me())}function Rh(e){return Vn(()=>{const t=e.prototype.constructor,n=t[ir]||rc(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const i=o[ir]||rc(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function rc(e){return nn(e)?()=>{const t=rc(Ae(e));return t&&t()}:Wo(e)}function xh(e){const t=e[Ke],n=t.type;return 2===n?t.declTNode:1===n?e[bn]:null}function oc(e){return function Sy(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let o=0;for(;o<r;){const i=n[o];if(ar(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<r&&"string"==typeof n[o];)o++;else{if(i===t)return n[o+1];o+=2}}}return null}(fr(),e)}const Qi="__parameters__";function Zi(e,t,n){return Vn(()=>{const r=function sc(e){return function(...n){if(e){const r=e(...n);for(const o in r)this[o]=r[o]}}}(t);function o(...i){if(this instanceof o)return r.apply(this,i),this;const l=new o(...i);return f.annotation=l,f;function f(v,E,P){const j=v.hasOwnProperty(Qi)?v[Qi]:Object.defineProperty(v,Qi,{value:[]})[Qi];for(;j.length<=P;)j.push(null);return(j[P]=j[P]||[]).push(l),v}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function ta(e,t){e.forEach(n=>Array.isArray(n)?ta(n,t):t(n))}function Nh(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function $u(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Xo(e,t,n){let r=na(e,t);return r>=0?e[1|r]=n:(r=~r,function Ly(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(1===o)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function ic(e,t){const n=na(e,t);if(n>=0)return e[1|n]}function na(e,t){return function kh(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){const i=r+(o-r>>1),l=e[i<<n];if(t===l)return i<<n;l>t?o=i:r=i+1}return~(o<<n)}(e,t,1)}const Hu=jn(Zi("Optional"),8),Gu=jn(Zi("SkipSelf"),4),oa="ngSkipHydration";function zh(e){const t=oa.toLowerCase(),n=e.mergedAttrs;if(null===n)return!1;for(let r=0;r<n.length;r+=2){const o=n[r];if("number"==typeof o)return!1;if("string"==typeof o&&o.toLowerCase()===t)return!0}return!1}function Wh(e){return e.hasAttribute(oa)}function Xu(e){return 128==(128&e.flags)}var Qu=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Qu||{});const o_=/^>|^->|<!--|-->|--!>|<!-$/g,s_=/(<|>)/g,i_="\u200b$1\u200b";const dc=new Map;let a_=0;const fc="__ngContext__";function so(e,t){kn(t)?(e[fc]=t[ho],function l_(e){dc.set(e[ho],e)}(t)):e[fc]=t}let pc;function gc(e,t){return pc(e,t)}function nu(e){const t=e[an];return Bn(t)?t[an]:t}function tf(e){return rf(e[Go])}function nf(e){return rf(e[kr])}function rf(e){for(;null!==e&&!Bn(e);)e=e[kr];return e}function sa(e,t,n,r,o){if(null!=r){let i,l=!1;Bn(r)?i=r:kn(r)&&(l=!0,r=r[hn]);const f=mn(r);0===e&&null!==n?null==o?lf(t,n,f):Ri(t,n,f,o||null,!0):1===e&&null!==n?Ri(t,n,f,o||null,!0):2===e?rl(t,f,l):3===e&&t.destroyNode(f),null!=i&&function R_(e,t,n,r,o){const i=n[qr];i!==mn(n)&&sa(t,e,r,i,o);for(let f=$n;f<n.length;f++){const v=n[f];ou(v[Ke],v,e,t,r,i)}}(t,e,i,n,o)}}function Yu(e,t){return e.createText(t)}function mc(e,t){return e.createComment(function Kh(e){return e.replace(o_,t=>t.replace(s_,i_))}(t))}function Zu(e,t,n){return e.createElement(t,n)}function af(e,t){const n=e[mo],r=n.indexOf(t);Ii(t),n.splice(r,1)}function el(e,t){if(e.length<=$n)return;const n=$n+t,r=e[n];if(r){const o=r[co];null!==o&&o!==e&&af(o,r),t>0&&(e[n-1][kr]=r[kr]);const i=$u(e,$n+t);!function b_(e,t){ou(e,t,t[bt],2,null,null),t[hn]=null,t[bn]=null}(r[Ke],r);const l=i[_r];null!==l&&l.detachView(i[Ke]),r[an]=null,r[kr]=null,r[At]&=-129}return r}function vc(e,t){if(!(256&t[At])){const n=t[bt];t[po]&&Di(t[po]),t[Fr]&&Di(t[Fr]),n.destroyNode&&ou(e,t,n,3,null,null),function D_(e){let t=e[Go];if(!t)return yc(e[Ke],e);for(;t;){let n=null;if(kn(t))n=t[Go];else{const r=t[$n];r&&(n=r)}if(!n){for(;t&&!t[kr]&&t!==e;)kn(t)&&yc(t[Ke],t),t=t[an];null===t&&(t=e),kn(t)&&yc(t[Ke],t),n=t&&t[kr]}t=n}}(t)}}function yc(e,t){if(!(256&t[At])){t[At]&=-129,t[At]|=256,function I_(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const o=t[n[r]];if(!(o instanceof Pe)){const i=n[r+1];if(Array.isArray(i))for(let l=0;l<i.length;l+=2){const f=o[i[l]],v=i[l+1];xo(4,f,v);try{v.call(f)}finally{xo(5,f,v)}}else{xo(4,o,i);try{i.call(o)}finally{xo(5,o,i)}}}}}(e,t),function M_(e,t){const n=e.cleanup,r=t[lo];if(null!==n)for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const l=n[i+3];l>=0?r[l]():r[-l].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);null!==r&&(t[lo]=null);const o=t[fo];if(null!==o){t[fo]=null;for(let i=0;i<o.length;i++)(0,o[i])()}}(e,t),1===t[Ke].type&&t[bt].destroy();const n=t[co];if(null!==n&&Bn(t[an])){n!==t[an]&&af(n,t);const r=t[_r];null!==r&&r.detachView(e)}!function c_(e){dc.delete(e[ho])}(t)}}function _c(e,t,n){return function uf(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[hn];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:i}=e.data[r.directiveStart+o];if(i===qt.None||i===qt.Emulated)return null}return Or(r,n)}}(e,t.parent,n)}function Ri(e,t,n,r,o){e.insertBefore(t,n,r,o)}function lf(e,t,n){e.appendChild(t,n)}function cf(e,t,n,r,o){null!==r?Ri(e,t,n,r,o):lf(e,t,n)}function tl(e,t){return e.parentNode(t)}let bc,Ec,sl,ff=function hf(e,t,n){return 40&e.type?Or(e,n):null};function nl(e,t,n,r){const o=_c(e,r,t),i=t[bt],f=function df(e,t,n){return ff(e,t,n)}(r.parent||t[bn],r,t);if(null!=o)if(Array.isArray(n))for(let v=0;v<n.length;v++)cf(i,o,n[v],f,!1);else cf(i,o,n,f,!1);void 0!==bc&&bc(i,r,t,n,o)}function ru(e,t){if(null!==t){const n=t.type;if(3&n)return Or(t,e);if(4&n)return Cc(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return ru(e,r);{const o=e[t.index];return Bn(o)?Cc(-1,o):mn(o)}}if(32&n)return gc(t,e)()||mn(e[t.index]);{const r=gf(e,t);return null!==r?Array.isArray(r)?r[0]:ru(nu(e[Xt]),r):ru(e,t.next)}}return null}function gf(e,t){return null!==t?e[Xt][bn].projection[t.projection]:null}function Cc(e,t){const n=$n+e+1;if(n<t.length){const r=t[n],o=r[Ke].firstChild;if(null!==o)return ru(r,o)}return t[qr]}function rl(e,t,n){const r=tl(e,t);r&&function A_(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}function mf(e){e.textContent=""}function wc(e,t,n,r,o,i,l){for(;null!=n;){const f=r[n.index],v=n.type;if(l&&0===t&&(f&&so(mn(f),r),n.flags|=2),32!=(32&n.flags))if(8&v)wc(e,t,n.child,r,o,i,!1),sa(t,e,o,f,i);else if(32&v){const E=gc(n,r);let P;for(;P=E();)sa(t,e,o,P,i);sa(t,e,o,f,i)}else 16&v?vf(e,t,r,n,o,i):sa(t,e,o,f,i);n=l?n.projectionNext:n.next}}function ou(e,t,n,r,o,i){wc(n,r,e.firstChild,t,o,i,!1)}function vf(e,t,n,r,o,i){const l=n[Xt],v=l[bn].projection[r.projection];if(Array.isArray(v))for(let E=0;E<v.length;E++)sa(t,e,o,v[E],i);else{let E=v;const P=l[an];Xu(r)&&(E.flags|=128),wc(e,t,E,P,o,i,!0)}}function yf(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function _f(e,t,n){const{mergedAttrs:r,classes:o,styles:i}=n;null!==r&&no(e,t,r),null!==o&&yf(e,t,o),null!==i&&function P_(e,t,n){e.setAttribute(t,"style",n)}(e,t,i)}function L_(e){Ec=e}function aa(){if(void 0!==Ec)return Ec;if(typeof document<"u")return document;throw new Ge(210,!1)}function wf(e){return function Sc(){if(void 0===sl&&(sl=null,Wt.trustedTypes))try{sl=Wt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return sl}()?.createScriptURL(e)||e}class Df{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${vn})`}}function gi(e){return e instanceof Df?e.changingThisBreaksApplicationSecurity:e}function su(e,t){const n=function H_(e){return e instanceof Df&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${vn})`)}return n===t}const K_=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var ua=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(ua||{});function Oc(e){const t=au();return t?t.sanitize(ua.URL,e)||"":su(e,"URL")?gi(e):function Mc(e){return(e=String(e)).match(K_)?e:"unsafe:"+e}(et(e))}function Of(e){const t=au();if(t)return wf(t.sanitize(ua.RESOURCE_URL,e)||"");if(su(e,"ResourceURL"))return wf(gi(e));throw new Ge(904,!1)}function Rf(e,t,n){return function s0(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Of:Oc}(t,n)(e)}function au(){const e=Me();return e&&e[Ye].sanitizer}const uu=new It("ENVIRONMENT_INITIALIZER"),xf=new It("INJECTOR",-1),Pf=new It("INJECTOR_DEF_TYPES");class Rc{get(t,n=jt){if(n===jt){const r=new Error(`NullInjectorError: No provider for ${Be(t)}!`);throw r.name="NullInjectorError",r}return n}}function xc(e){return{\u0275providers:e}}function a0(...e){return{\u0275providers:Nf(0,e),\u0275fromNgModule:!0}}function Nf(e,...t){const n=[],r=new Set;let o;const i=l=>{n.push(l)};return ta(t,l=>{const f=l;al(f,i,[],r)&&(o||=[],o.push(f))}),void 0!==o&&kf(o,i),n}function kf(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:o}=e[n];Pc(o,i=>{t(i,r)})}}function al(e,t,n,r){if(!(e=Ae(e)))return!1;let o=null,i=xn(e);const l=!i&&Ht(e);if(i||l){if(l&&!l.standalone)return!1;o=e}else{const v=e.ngModule;if(i=xn(v),!i)return!1;o=v}const f=r.has(o);if(l){if(f)return!1;if(r.add(o),l.dependencies){const v="function"==typeof l.dependencies?l.dependencies():l.dependencies;for(const E of v)al(E,t,n,r)}}else{if(!i)return!1;{if(null!=i.imports&&!f){let E;r.add(o);try{ta(i.imports,P=>{al(P,t,n,r)&&(E||=[],E.push(P))})}finally{}void 0!==E&&kf(E,t)}if(!f){const E=Wo(o)||(()=>new o);t({provide:o,useFactory:E,deps:Pt},o),t({provide:Pf,useValue:o,multi:!0},o),t({provide:uu,useValue:()=>je(o),multi:!0},o)}const v=i.providers;if(null!=v&&!f){const E=e;Pc(v,P=>{t(P,E)})}}}return o!==e&&void 0!==e.providers}function Pc(e,t){for(let n of e)Cn(n)&&(n=n.\u0275providers),Array.isArray(n)?Pc(n,t):t(n)}const u0=ye({provide:String,useValue:ye});function Nc(e){return null!==e&&"object"==typeof e&&u0 in e}function xi(e){return"function"==typeof e}const kc=new It("Set Injector scope."),ul={},c0={};let Fc;function ll(){return void 0===Fc&&(Fc=new Rc),Fc}class Fs{}class la extends Fs{get destroyed(){return this._destroyed}constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,jc(t,l=>this.processProvider(l)),this.records.set(xf,ca(void 0,this)),o.has("environment")&&this.records.set(Fs,ca(void 0,this));const i=this.records.get(kc);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Pf.multi,Pt,yt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=_e(this),r=dn(void 0);try{return t()}finally{_e(n),dn(r)}}get(t,n=jt,r=yt.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(wr))return t[wr](this);r=_t(r);const i=_e(this),l=dn(void 0);try{if(!(r&yt.SkipSelf)){let v=this.records.get(t);if(void 0===v){const E=function g0(e){return"function"==typeof e||"object"==typeof e&&e instanceof It}(t)&&Mn(t);v=E&&this.injectableDefInScope(E)?ca(Lc(t),ul):null,this.records.set(t,v)}if(null!=v)return this.hydrate(t,v)}return(r&yt.Self?ll():this.parent).get(t,n=r&yt.Optional&&n===jt?null:n)}catch(f){if("NullInjectorError"===f.name){if((f[Qt]=f[Qt]||[]).unshift(Be(t)),i)throw f;return function Un(e,t,n,r){const o=e[Qt];throw t[te]&&o.unshift(t[te]),e.message=function Zr(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=Be(t);if(Array.isArray(t))o=t.map(Be).join(" -> ");else if("object"==typeof t){let i=[];for(let l in t)if(t.hasOwnProperty(l)){let f=t[l];i.push(l+":"+("string"==typeof f?JSON.stringify(f):Be(f)))}o=`{${i.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(Ln,"\n  ")}`}("\n"+e.message,o,n,r),e.ngTokenPath=o,e[Qt]=null,e}(f,t,"R3InjectorError",this.source)}throw f}finally{dn(l),_e(i)}}resolveInjectorInitializers(){const t=_e(this),n=dn(void 0);try{const o=this.get(uu.multi,Pt,yt.Self);for(const i of o)i()}finally{_e(t),dn(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(Be(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ge(205,!1)}processProvider(t){let n=xi(t=Ae(t))?t:Ae(t&&t.provide);const r=function h0(e){return Nc(e)?ca(void 0,e.useValue):ca(jf(e),ul)}(t);if(xi(t)||!0!==t.multi)this.records.get(n);else{let o=this.records.get(n);o||(o=ca(void 0,ul,!0),o.factory=()=>Pn(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===ul&&(n.value=c0,n.value=n.factory()),"object"==typeof n.value&&n.value&&function p0(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Ae(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Lc(e){const t=Mn(e),n=null!==t?t.factory:Wo(e);if(null!==n)return n;if(e instanceof It)throw new Ge(204,!1);if(e instanceof Function)return function d0(e){const t=e.length;if(t>0)throw function Za(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new Ge(204,!1);const n=function Cr(e){return e&&(e[Hr]||e[Uo])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Ge(204,!1)}function jf(e,t,n){let r;if(xi(e)){const o=Ae(e);return Wo(o)||Lc(o)}if(Nc(e))r=()=>Ae(e.useValue);else if(function Lf(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Pn(e.deps||[]));else if(function Ff(e){return!(!e||!e.useExisting)}(e))r=()=>je(Ae(e.useExisting));else{const o=Ae(e&&(e.useClass||e.provide));if(!function f0(e){return!!e.deps}(e))return Wo(o)||Lc(o);r=()=>new o(...Pn(e.deps))}return r}function ca(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function jc(e,t){for(const n of e)Array.isArray(n)?jc(n,t):n&&Cn(n)?jc(n.\u0275providers,t):t(n)}const Uf=new It("AppId",{providedIn:"root",factory:()=>m0}),m0="ng",Vf=new It("Platform Initializer"),Uc=new It("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),v0=new It("CSP nonce",{providedIn:"root",factory:()=>aa().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),$f=new It("",{providedIn:"root",factory:()=>new Set});function y0(e){return e}function _0(){const e=new lu;return"browser"===ct(Uc)&&(e.store=function b0(e,t){const n=e.getElementById(t+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+t,r)}return{}}(aa(),ct(Uf))),e}let lu=(()=>{class e{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=gt({token:e,providedIn:"root",factory:_0})}get(n,r){return void 0!==this.store[n]?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(const n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return e})();const Vc="h",$c="b";var da=function(e){return e.FirstChild="f",e.NextSibling="n",e}(da||{});const Bc="e",Hc="t",cu="c",cl="x",ha="r",Gc="i",zc="n",dl="d",Wc="__\u0275nghData__",du="ngh",C0="nghm";let Bf=(e,t,n)=>null;function w0(e,t,n=!1){let r=e.getAttribute(du);if(null==r)return null;const[o,i]=r.split("|");if(r=n?i:o,!r)return null;const l=n?o:i?`|${i}`:"";let f={};if(""!==r){const E=t.get(lu,null,{optional:!0});null!==E&&(f=E.get(Wc,[])[Number(r)])}const v={data:f,firstChild:e.firstChild??null};return n&&(v.firstChild=e,hl(v,0,e.nextSibling)),l?e.setAttribute(du,l):e.removeAttribute(du),v}function Kc(e,t,n=!1){return Bf(e,t,n)}function Hf(e){let t=e._lView;return 2===t[Ke].type?null:(M(t)&&(t=t[Dt]),t)}function hl(e,t,n){e.segmentHeads??={},e.segmentHeads[t]=n}function qc(e,t){return e.segmentHeads?.[t]??null}function Gf(e,t){return e.data[cu]?.[t]??null}function Xc(e,t){const n=Gf(e,t)??[];let r=0;for(let o of n)r+=o[ha]*(o[cl]??1);return r}function fl(e,t){if(typeof e.disconnectedNodes>"u"){const n=e.data[dl];e.disconnectedNodes=n?new Set(n):null}return!!e.disconnectedNodes?.has(t)}class A0{}class zf{}class O0{resolveComponentFactory(t){throw function T0(e){const t=Error(`No component factory found for ${Be(e)}.`);return t.ngComponent=e,t}(t)}}let pl=(()=>{class e{static{this.NULL=new O0}}return e})();function R0(){return fa(fr(),Me())}function fa(e,t){return new hu(Or(e,t))}let hu=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=R0}}return e})();function x0(e){return e instanceof hu?e.nativeElement:e}class Kf{}let P0=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function N0(){const e=Me(),n=Ur(fr().index,e);return(kn(n)?n:e)[bt]}()}}return e})(),k0=(()=>{class e{static{this.\u0275prov=gt({token:e,providedIn:"root",factory:()=>null})}}return e})();class qf{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const F0=new qf("16.2.12"),Jc={};function Yf(e,t=null,n=null,r){const o=Zf(e,t,n,r);return o.resolveInjectorInitializers(),o}function Zf(e,t=null,n=null,r,o=new Set){const i=[n||Pt,a0(e)];return r=r||("object"==typeof e?void 0:Be(e)),new la(i,t||ll(),r||null,o)}let Cs=(()=>{class e{static{this.THROW_IF_NOT_FOUND=jt}static{this.NULL=new Rc}static create(n,r){if(Array.isArray(n))return Yf({name:""},r,n,"");{const o=n.name??"";return Yf({name:o},n.parent,n.providers,o)}}static{this.\u0275prov=gt({token:e,providedIn:"any",factory:()=>je(xf)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();function Yc(e){return e.ngOriginalError}class mi{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Yc(t);for(;n&&Yc(n);)n=Yc(n);return n||null}}function Zc(e){return t=>{setTimeout(e,void 0,t)}}const Ls=class G0 extends c.B{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let o=t,i=n||(()=>null),l=r;if(t&&"object"==typeof t){const v=t;o=v.next?.bind(v),i=v.error?.bind(v),l=v.complete?.bind(v)}this.__isAsync&&(i=Zc(i),o&&(o=Zc(o)),l&&(l=Zc(l)));const f=super.subscribe({next:o,error:i,complete:l});return t instanceof Q.yU&&t.add(f),f}};function tp(...e){}class $r{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ls(!1),this.onMicrotaskEmpty=new Ls(!1),this.onStable=new Ls(!1),this.onError=new Ls(!1),typeof Zone>"u")throw new Ge(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function z0(){const e="function"==typeof Wt.requestAnimationFrame;let t=Wt[e?"requestAnimationFrame":"setTimeout"],n=Wt[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function q0(e){const t=()=>{!function K0(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Wt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,td(e),e.isCheckStableRunning=!0,ed(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),td(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,i,l,f)=>{if(function J0(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(f))return n.invokeTask(o,i,l,f);try{return np(e),n.invokeTask(o,i,l,f)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||e.shouldCoalesceRunChangeDetection)&&t(),rp(e)}},onInvoke:(n,r,o,i,l,f,v)=>{try{return np(e),n.invoke(o,i,l,f,v)}finally{e.shouldCoalesceRunChangeDetection&&t(),rp(e)}},onHasTask:(n,r,o,i)=>{n.hasTask(o,i),r===o&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,td(e),ed(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(n,r,o,i)=>(n.handleError(o,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!$r.isInAngularZone())throw new Ge(909,!1)}static assertNotInAngularZone(){if($r.isInAngularZone())throw new Ge(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){const i=this._inner,l=i.scheduleEventTask("NgZoneEvent: "+o,t,W0,tp,tp);try{return i.runTask(l,n,r)}finally{i.cancelTask(l)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const W0={};function ed(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function td(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function np(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function rp(e){e._nesting--,ed(e)}const op=new It("",{providedIn:"root",factory:sp});function sp(){const e=ct($r);let t=!0;return function ue(...e){const t=(0,H.lI)(e),n=(0,H.R0)(e,1/0),r=e;return r.length?1===r.length?(0,q.Tg)(r[0]):(0,ce.U)(n)((0,ne.H)(r,t)):L.w}(new w.c(o=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{o.next(t),o.complete()})}),new w.c(o=>{let i;e.runOutsideAngular(()=>{i=e.onStable.subscribe(()=>{$r.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,o.next(!0))})})});const l=e.onUnstable.subscribe(()=>{$r.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{o.next(!1)}))});return()=>{i.unsubscribe(),l.unsubscribe()}}).pipe(Ie()))}function ip(e){return e.ownerDocument}function oi(e){return e instanceof Function?e():e}function ga(e){return"browser"===(e??ct(Cs)).get(Uc)}let nd=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=gt({token:e,providedIn:"root",factory:()=>new e})}}return e})();function fu(e){for(;e;){e[At]|=64;const t=nu(e);if(M(e)&&!t)return e;e=t}return null}const ml=new It(""),dp=new It("",{providedIn:"root",factory:()=>!1});let vl=null;function gp(e,t){return e[t]??yp()}function mp(e,t){const n=yp();n.producerNode?.length&&(e[t]=vl,n.lView=e,vl=vp())}const sb={...ui,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{fu(e.lView)},lView:null};function vp(){return Object.create(sb)}function yp(){return vl??=vp(),vl}const $t={};function _p(e){bp(tn(),Me(),Qr()+e,!1)}function bp(e,t,n,r){if(!r)if(3==(3&t[At])){const i=e.preOrderCheckHooks;null!==i&&I(t,i,n)}else{const i=e.preOrderHooks;null!==i&&R(t,i,0,n)}ni(n)}function ma(e,t=yt.Default){const n=Me();return null===n?je(e,t):Ih(fr(),n,Ae(e),t)}function Cp(){throw new Error("invalid")}function yl(e,t,n,r,o,i,l,f,v,E,P){const j=t.blueprint.slice();return j[hn]=o,j[At]=140|r,(null!==E||e&&2048&e[At])&&(j[At]|=2048),Va(j),j[an]=j[Zn]=e,j[En]=n,j[Ye]=l||e&&e[Ye],j[bt]=f||e&&e[bt],j[Yn]=v||e&&e[Yn]||null,j[bn]=i,j[ho]=function u_(){return a_++}(),j[Sr]=P,j[ys]=E,j[Xt]=2==t.type?e[Xt]:j,j}function va(e,t,n,r,o){let i=e.data[t];if(null===i)i=function rd(e,t,n,r,o){const i=Ki(),l=qi(),v=e.data[t]=function fb(e,t,n,r,o,i){let l=t?t.injectorIndex:-1,f=0;return ei()&&(f|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:l,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:f,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,l?i:i&&i.parent,n,t,r,o);return null===e.firstChild&&(e.firstChild=v),null!==i&&(l?null==i.child&&null!==v.parent&&(i.child=v):null===i.next&&(i.next=v,v.prev=i)),v}(e,t,n,r,o),function S(){return St.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=n,i.value=r,i.attrs=o;const l=function xs(){const e=St.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();i.injectorIndex=null===l?-1:l.injectorIndex}return Po(i,!0),i}function pu(e,t,n,r){if(0===n)return-1;const o=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function wp(e,t,n,r,o){const i=gp(t,po),l=Qr(),f=2&r;try{ni(-1),f&&t.length>Dt&&bp(e,t,Dt,!1),xo(f?2:0,o);const E=f?i:null,P=ci(E);try{null!==E&&(E.dirty=!1),n(r,o)}finally{ht(E,P)}}finally{f&&null===t[po]&&mp(t,po),ni(l),xo(f?3:1,o)}}function od(e,t,n){if(Ao(t)){const r=hr(null);try{const i=t.directiveEnd;for(let l=t.directiveStart;l<i;l++){const f=e.data[l];f.contentQueries&&f.contentQueries(1,n[l],l)}}finally{hr(r)}}}function sd(e,t,n){Ga()&&(function bb(e,t,n,r){const o=n.directiveStart,i=n.directiveEnd;un(n)&&function Ib(e,t,n){const r=Or(t,e),o=Dp(n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const f=_l(e,yl(e,o,null,l,r,t,null,e[Ye].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=f}(t,n,e.data[o+n.componentOffset]),e.firstCreatePass||ju(n,t),so(r,t);const l=n.initialInputs;for(let f=o;f<i;f++){const v=e.data[f],E=Oi(t,e,f,n);so(E,t),null!==l&&Ab(0,f-o,E,v,0,l),dr(v)&&(Ur(n.index,t)[En]=Oi(t,e,f,n))}}(e,t,n,Or(n,t)),64==(64&n.flags)&&Ap(e,t,n))}function id(e,t,n=Or){const r=t.localNames;if(null!==r){let o=t.index+1;for(let i=0;i<r.length;i+=2){const l=r[i+1],f=-1===l?n(t,e):e[l];e[o++]=f}}}function Dp(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=ad(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function ad(e,t,n,r,o,i,l,f,v,E,P){const j=Dt+r,J=j+o,ee=function ab(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:$t);return n}(j,J),be="function"==typeof E?E():E;return ee[Ke]={type:e,blueprint:ee,template:n,queries:null,viewQuery:f,declTNode:t,data:ee.slice().fill(null,j),bindingStartIndex:j,expandoStartIndex:J,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof l?l():l,firstChild:null,schemas:v,consts:be,incompleteFirstPass:!1,ssrId:P}}let Ep=e=>null;function cb(e){Wh(e)?mf(e):function S0(e){const t=aa(),n=t.createNodeIterator(e,NodeFilter.SHOW_COMMENT,{acceptNode(i){const l=function E0(e){return e.textContent?.replace(/\s/gm,"")}(i);return"ngetn"===l||"ngtns"===l?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}});let r;const o=[];for(;r=n.nextNode();)o.push(r);for(const i of o)"ngetn"===i.textContent?i.replaceWith(t.createTextNode("")):i.remove()}(e)}function Sp(e,t,n,r){for(let o in e)if(e.hasOwnProperty(o)){n=null===n?{}:n;const i=e[o];null===r?Mp(n,t,o,i):r.hasOwnProperty(o)&&Mp(n,t,r[o],i)}return n}function Mp(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function Jo(e,t,n,r,o,i,l,f){const v=Or(t,n);let P,E=t.inputs;!f&&null!=E&&(P=E[r])?(hd(e,n,P,r,o),un(t)&&function mb(e,t){const n=Ur(t,e);16&n[At]||(n[At]|=64)}(n,t.index)):3&t.type&&(r=function gb(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),o=null!=l?l(o,t.value||"",r):o,i.setProperty(v,r,o))}function ud(e,t,n,r){if(Ga()){const o=null===r?null:{"":-1},i=function wb(e,t){const n=e.directiveRegistry;let r=null,o=null;if(n)for(let i=0;i<n.length;i++){const l=n[i];if(Es(t,l.selectors,!1))if(r||(r=[]),dr(l))if(null!==l.findHostDirectiveDefs){const f=[];o=o||new Map,l.findHostDirectiveDefs(l,f,o),r.unshift(...f,l),ld(e,t,f.length)}else r.unshift(l),ld(e,t,0);else o=o||new Map,l.findHostDirectiveDefs?.(l,r,o),r.push(l)}return null===r?null:[r,o]}(e,n);let l,f;null===i?l=f=null:[l,f]=i,null!==l&&Ip(e,t,n,l,o,f),o&&function Db(e,t,n){if(t){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const i=n[t[o+1]];if(null==i)throw new Ge(-301,!1);r.push(t[o],i)}}}(n,r,o)}n.mergedAttrs=Dr(n.mergedAttrs,n.attrs)}function Ip(e,t,n,r,o,i){for(let E=0;E<r.length;E++)nc(ju(n,t),e,r[E].type);!function Sb(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let E=0;E<r.length;E++){const P=r[E];P.providersResolver&&P.providersResolver(P)}let l=!1,f=!1,v=pu(e,t,r.length,null);for(let E=0;E<r.length;E++){const P=r[E];n.mergedAttrs=Dr(n.mergedAttrs,P.hostAttrs),Mb(e,n,t,v,P),Eb(v,P,o),null!==P.contentQueries&&(n.flags|=4),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(n.flags|=64);const j=P.type.prototype;!l&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),l=!0),!f&&(j.ngOnChanges||j.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),f=!0),v++}!function pb(e,t,n){const o=t.directiveEnd,i=e.data,l=t.attrs,f=[];let v=null,E=null;for(let P=t.directiveStart;P<o;P++){const j=i[P],J=n?n.get(j):null,be=J?J.outputs:null;v=Sp(j.inputs,P,v,J?J.inputs:null),E=Sp(j.outputs,P,E,be);const Te=null===v||null===l||vr(t)?null:Tb(v,P,l);f.push(Te)}null!==v&&(v.hasOwnProperty("class")&&(t.flags|=8),v.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=f,t.inputs=v,t.outputs=E}(e,n,i)}function Ap(e,t,n){const r=n.directiveStart,o=n.directiveEnd,i=n.index,l=function le(){return St.lFrame.currentDirectiveIndex}();try{ni(i);for(let f=r;f<o;f++){const v=e.data[f],E=t[f];ie(f),(null!==v.hostBindings||0!==v.hostVars||null!==v.hostAttrs)&&Cb(v,E)}}finally{ni(-1),ie(l)}}function Cb(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function ld(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function Eb(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;dr(t)&&(n[""]=e)}}function Mb(e,t,n,r,o){e.data[r]=o;const i=o.factory||(o.factory=Wo(o.type)),l=new Pe(i,dr(o),ma);e.blueprint[r]=l,n[r]=l,function yb(e,t,n,r,o){const i=o.hostBindings;if(i){let l=e.hostBindingOpCodes;null===l&&(l=e.hostBindingOpCodes=[]);const f=~t.index;(function _b(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(l)!=f&&l.push(f),l.push(n,r,i)}}(e,t,r,pu(e,n,o.hostVars,$t),o)}function js(e,t,n,r,o,i){const l=Or(e,t);!function cd(e,t,n,r,o,i,l){if(null==i)e.removeAttribute(t,o,n);else{const f=null==l?et(i):l(i,r||"",o);e.setAttribute(t,o,f,n)}}(t[bt],l,i,e.value,n,r,o)}function Ab(e,t,n,r,o,i){const l=i[t];if(null!==l)for(let f=0;f<l.length;)Tp(r,n,l[f++],l[f++],l[f++])}function Tp(e,t,n,r,o){const i=hr(null);try{const l=e.inputTransforms;null!==l&&l.hasOwnProperty(r)&&(o=l[r].call(t,o)),null!==e.setInput?e.setInput(t,o,n,r):t[r]=o}finally{hr(i)}}function Tb(e,t,n){let r=null,o=0;for(;o<n.length;){const i=n[o];if(0!==i)if(5!==i){if("number"==typeof i)break;if(e.hasOwnProperty(i)){null===r&&(r=[]);const l=e[i];for(let f=0;f<l.length;f+=2)if(l[f]===t){r.push(i,l[f+1],n[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function Op(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}function Rp(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r+1];if(-1!==i){const l=e.data[i];gn(n[r]),l.contentQueries(2,t[i],i)}}}function _l(e,t){return e[Go]?e[Kr][kr]=t:e[Go]=t,e[Kr]=t,t}function dd(e,t,n){gn(0);const r=hr(null);try{t(e,n)}finally{hr(r)}}function xp(e){return e[lo]||(e[lo]=[])}function Pp(e){return e.cleanup||(e.cleanup=[])}function kp(e,t){const n=e[Yn],r=n?n.get(mi,null):null;r&&r.handleError(t)}function hd(e,t,n,r,o){for(let i=0;i<n.length;){const l=n[i++],f=n[i++];Tp(e.data[l],t[l],r,f,o)}}function si(e,t,n){const r=Zs(t,e);!function sf(e,t,n){e.setValue(t,n)}(e[bt],r,n)}function Ob(e,t){const n=Ur(t,e),r=n[Ke];!function Rb(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const o=n[hn];null!==o&&null===n[Sr]&&(n[Sr]=Kc(o,n[Yn])),fd(r,n,n[En])}function fd(e,t,n){Ps(t);try{const r=e.viewQuery;null!==r&&dd(1,r,n);const o=e.template;null!==o&&wp(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Rp(e,t),e.staticViewQueries&&dd(2,e.viewQuery,n);const i=e.components;null!==i&&function xb(e,t){for(let n=0;n<t.length;n++)Ob(e,t[n])}(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[At]&=-5,Ja()}}let Fp=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,r,o){const i=typeof Zone>"u"?null:Zone.current,l=function Tr(e,t,n){const r=Object.create(Ro);n&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=t;const o=l=>{r.cleanupFn=l};return r.ref={notify:()=>Xs(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Js(r))return;r.hasRun=!0;const l=ci(r);try{r.cleanupFn(),r.cleanupFn=Oo,r.fn(o)}finally{ht(r,l)}},cleanup:()=>r.cleanupFn()},r.ref}(n,E=>{this.all.has(E)&&this.queue.set(E,i)},o);let f;this.all.add(l),l.notify();const v=()=>{l.cleanup(),f?.(),this.all.delete(l),this.queue.delete(l)};return f=r?.onDestroy(v),{destroy:v}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=gt({token:e,providedIn:"root",factory:()=>new e})}}return e})();function bl(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,i=0;if(null!==t)for(let l=0;l<t.length;l++){const f=t[l];"number"==typeof f?i=f:1==i?o=Fe(o,f):2==i&&(r=Fe(r,f+": "+t[++l]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function gu(e,t,n,r,o=!1){for(;null!==n;){const i=t[n.index];null!==i&&r.push(mn(i)),Bn(i)&&Lp(i,r);const l=n.type;if(8&l)gu(e,t,n.child,r);else if(32&l){const f=gc(n,t);let v;for(;v=f();)r.push(v)}else if(16&l){const f=gf(t,n);if(Array.isArray(f))r.push(...f);else{const v=nu(t[Xt]);gu(v[Ke],v,f,r,!0)}}n=o?n.projectionNext:n.next}return r}function Lp(e,t){for(let n=$n;n<e.length;n++){const r=e[n],o=r[Ke].firstChild;null!==o&&gu(r[Ke],r,o,t)}e[qr]!==e[hn]&&t.push(e[qr])}function Cl(e,t,n,r=!0){const o=t[Ye],i=o.rendererFactory,l=o.afterRenderEventManager;i.begin?.(),l?.begin();try{jp(e,t,e.template,n)}catch(v){throw r&&kp(t,v),v}finally{i.end?.(),o.effectManager?.flush(),l?.end()}}function jp(e,t,n,r){const o=t[At];if(256!=(256&o)){t[Ye].effectManager?.flush(),Ps(t);try{Va(t),function y(e){return St.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&wp(e,t,n,2,r);const l=3==(3&o);if(l){const E=e.preOrderCheckHooks;null!==E&&I(t,E,null)}else{const E=e.preOrderHooks;null!==E&&R(t,E,0,null),F(t,0)}if(function kb(e){for(let t=tf(e);null!==t;t=nf(t)){if(!t[zs])continue;const n=t[mo];for(let r=0;r<n.length;r++){$a(n[r])}}}(t),Up(t,2),null!==e.contentQueries&&Rp(e,t),l){const E=e.contentCheckHooks;null!==E&&I(t,E)}else{const E=e.contentHooks;null!==E&&R(t,E,1),F(t,1)}!function ib(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=gp(t,Fr);try{for(let o=0;o<n.length;o++){const i=n[o];if(i<0)ni(~i);else{const l=i,f=n[++o],v=n[++o];$(f,l),r.dirty=!1;const E=ci(r);try{v(2,t[l])}finally{ht(r,E)}}}}finally{null===t[Fr]&&mp(t,Fr),ni(-1)}}(e,t);const f=e.components;null!==f&&$p(t,f,0);const v=e.viewQuery;if(null!==v&&dd(2,v,r),l){const E=e.viewCheckHooks;null!==E&&I(t,E)}else{const E=e.viewHooks;null!==E&&R(t,E,2),F(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[At]&=-73,Ii(t)}finally{Ja()}}}function Up(e,t){for(let n=tf(e);null!==n;n=nf(n))for(let r=$n;r<n.length;r++)Vp(n[r],t)}function Fb(e,t,n){Vp(Ur(t,e),n)}function Vp(e,t){if(!function $i(e){return 128==(128&e[At])}(e))return;const n=e[Ke],r=e[At];if(80&r&&0===t||1024&r||2===t)jp(n,e,n.template,e[En]);else if(e[Io]>0){Up(e,1);const o=n.components;null!==o&&$p(e,o,1)}}function $p(e,t,n){for(let r=0;r<t.length;r++)Fb(e,t[r],n)}class mu{get rootNodes(){const t=this._lView,n=t[Ke];return gu(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[En]}set context(t){this._lView[En]=t}get destroyed(){return 256==(256&this._lView[At])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[an];if(Bn(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(el(t,r),$u(n,r))}this._attachedToViewContainer=!1}vc(this._lView[Ke],this._lView)}onDestroy(t){!function Bi(e,t){if(256==(256&e[At]))throw new Ge(911,!1);null===e[fo]&&(e[fo]=[]),e[fo].push(t)}(this._lView,t)}markForCheck(){fu(this._cdRefInjectingView||this._lView)}detach(){this._lView[At]&=-129}reattach(){this._lView[At]|=128}detectChanges(){Cl(this._lView[Ke],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ge(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function w_(e,t){ou(e,t,t[bt],2,null,null)}(this._lView[Ke],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Ge(902,!1);this._appRef=t}}class Lb extends mu{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Cl(t[Ke],t,t[En],!1)}checkNoChanges(){}get context(){return null}}class Bp extends pl{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Ht(t);return new vu(n,this.ngModule)}}function Hp(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class Ub{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=_t(r);const o=this.injector.get(t,Jc,r);return o!==Jc||n===Jc?o:this.parentInjector.get(t,n,r)}}class vu extends zf{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=Hp(t.inputs);if(null!==n)for(const o of r)n.hasOwnProperty(o.propName)&&(o.transform=n[o.propName]);return r}get outputs(){return Hp(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function Is(e){return e.map(Ms).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,o){let i=(o=o||this.ngModule)instanceof Fs?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const l=i?new Ub(t,i):t,f=l.get(Kf,null);if(null===f)throw new Ge(407,!1);const j={rendererFactory:f,sanitizer:l.get(k0,null),effectManager:l.get(Fp,null),afterRenderEventManager:l.get(nd,null)},J=f.createRenderer(null,this.componentDef),ee=this.componentDef.selectors[0][0]||"div",be=r?function ub(e,t,n,r){const i=r.get(dp,!1)||n===qt.ShadowDom,l=e.selectRootElement(t,i);return function lb(e){Ep(e)}(l),l}(J,r,this.componentDef.encapsulation,l):Zu(J,ee,function jb(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(ee)),ut=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Ee=null;null!==be&&(Ee=Kc(be,l,!0));const kt=ad(0,null,null,1,0,null,null,null,null,null,null),Zt=yl(null,kt,null,ut,null,null,j,J,l,null,Ee);let Sn,jo;Ps(Zt);try{const ii=this.componentDef;let Na,bh=null;ii.findHostDirectiveDefs?(Na=[],bh=new Map,ii.findHostDirectiveDefs(ii,Na,bh),Na.push(ii)):Na=[ii];const qS=function $b(e,t){const n=e[Ke],r=Dt;return e[r]=t,va(n,r,2,"#host",null)}(Zt,be),XS=function Bb(e,t,n,r,o,i,l){const f=o[Ke];!function Hb(e,t,n,r){for(const o of e)t.mergedAttrs=Dr(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(bl(t,t.mergedAttrs,!0),null!==n&&_f(r,n,t))}(r,e,t,l);let v=null;null!==t&&(v=Kc(t,o[Yn]));const E=i.rendererFactory.createRenderer(t,n);let P=16;n.signals?P=4096:n.onPush&&(P=64);const j=yl(o,Dp(n),null,P,o[e.index],e,i,E,null,null,v);return f.firstCreatePass&&ld(f,e,r.length-1),_l(o,j),o[e.index]=j}(qS,be,ii,Na,Zt,j,J);jo=fi(kt,Dt),be&&function zb(e,t,n,r){if(r)no(e,n,["ng-version",F0.full]);else{const{attrs:o,classes:i}=function Yo(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let i=e[r];if("string"==typeof i)2===o?""!==i&&t.push(i,e[++r]):8===o&&n.push(i);else{if(!Nr(o))break;o=i}r++}return{attrs:t,classes:n}}(t.selectors[0]);o&&no(e,n,o),i&&i.length>0&&yf(e,n,i.join(" "))}}(J,ii,be,r),void 0!==n&&function Wb(e,t,n){const r=e.projection=[];for(let o=0;o<t.length;o++){const i=n[o];r.push(null!=i?Array.from(i):null)}}(jo,this.ngContentSelectors,n),Sn=function Gb(e,t,n,r,o,i){const l=fr(),f=o[Ke],v=Or(l,o);Ip(f,o,l,n,null,r);for(let P=0;P<n.length;P++)so(Oi(o,f,l.directiveStart+P,l),o);Ap(f,o,l),v&&so(v,o);const E=Oi(o,f,l.directiveStart+l.componentOffset,l);if(e[En]=o[En]=E,null!==i)for(const P of i)P(E,t);return od(f,l,e),E}(XS,ii,Na,bh,Zt,[Kb]),fd(kt,Zt,null)}finally{Ja()}return new Vb(this.componentType,Sn,fa(jo,Zt),Zt,jo)}}class Vb extends A0{constructor(t,n,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Lb(o),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const i=this._rootLView;hd(i[Ke],i,o,t,n),this.previousInputValues.set(t,n),fu(Ur(this._tNode.index,i))}}get injector(){return new yo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function Kb(){const e=fr();D(Me()[Ke],e)}function pd(e){let t=function Gp(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let o;if(dr(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Ge(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);const l=e;l.inputs=wl(e.inputs),l.inputTransforms=wl(e.inputTransforms),l.declaredInputs=wl(e.declaredInputs),l.outputs=wl(e.outputs);const f=o.hostBindings;f&&Qb(e,f);const v=o.viewQuery,E=o.contentQueries;if(v&&Xb(e,v),E&&Jb(e,E),ze(e.inputs,o.inputs),ze(e.declaredInputs,o.declaredInputs),ze(e.outputs,o.outputs),null!==o.inputTransforms&&(null===l.inputTransforms&&(l.inputTransforms={}),ze(l.inputTransforms,o.inputTransforms)),dr(o)&&o.data.animation){const P=e.data;P.animation=(P.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let l=0;l<i.length;l++){const f=i[l];f&&f.ngInherit&&f(e),f===pd&&(n=!1)}}t=Object.getPrototypeOf(t)}!function qb(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=Dr(o.hostAttrs,n=Dr(n,o.hostAttrs))}}(r)}function wl(e){return e===wn?{}:e===Pt?[]:e}function Xb(e,t){const n=e.viewQuery;e.viewQuery=n?(r,o)=>{t(r,o),n(r,o)}:t}function Jb(e,t){const n=e.contentQueries;e.contentQueries=n?(r,o,i)=>{t(r,o,i),n(r,o,i)}:t}function Qb(e,t){const n=e.hostBindings;e.hostBindings=n?(r,o)=>{t(r,o),n(r,o)}:t}function qp(e){const t=e.inputConfig,n={};for(const r in t)if(t.hasOwnProperty(r)){const o=t[r];Array.isArray(o)&&o[2]&&(n[r]=o[2])}e.inputTransforms=n}function Dl(e){return!!gd(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function gd(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Us(e,t,n){return e[t]=n}function yu(e,t){return e[t]}function io(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Pi(e,t,n,r){const o=io(e,t,n);return io(e,t+1,r)||o}function md(e,t,n,r){const o=Me();return io(o,h(),t)&&(tn(),js(zn(),o,e,t,n,r)),md}function _a(e,t,n,r){return io(e,h(),n)?t+et(n)+r:$t}function ba(e,t,n,r,o,i){const f=Pi(e,function p(){return St.lFrame.bindingIndex}(),n,o);return _(2),f?t+et(n)+r+et(o)+i:$t}const pC=new RegExp(`^(\\d+)*(${$c}|${Vc})*(.*)`);function bd(e){return e.index-Dt}function Ml(e,t,n,r){let o=null;const i=bd(r),l=e.data[zc];if(l?.[i])o=function _C(e,t){const[n,...r]=function mC(e){const t=e.match(pC),[n,r,o,i]=t,l=r?parseInt(r,10):o,f=[];for(const[v,E,P]of i.matchAll(/(f|n)(\d*)/g)){const j=parseInt(P,10)||1;f.push(E,j)}return[l,...f]}(e);let o;return o=n===Vc?t[Xt][hn]:n===$c?function ap(e){return e.ownerDocument.body}(t[Xt][hn]):mn(t[Number(n)+Dt]),function yC(e,t){let n=e;for(let r=0;r<t.length;r+=2){const o=t[r],i=t[r+1];for(let l=0;l<i;l++)switch(o){case da.FirstChild:n=n.firstChild;break;case da.NextSibling:n=n.nextSibling}}return n}(o,r)}(l[i],n);else if(t.firstChild===r)o=e.firstChild;else{const f=null===r.prev,v=r.prev??r.parent;if(function vC(e){return!e.prev&&8===e.parent?.type}(r))o=qc(e,bd(r.parent));else{let E=Or(v,n);if(f)o=E.firstChild;else{const P=bd(v),j=qc(e,P);o=2===v.type&&j?Il(Xc(e,P)+1,j):E.nextSibling}}}return o}function Il(e,t){let n=t;for(let r=0;r<e;r++)n=n.nextSibling;return n}function ag(e,t,n,r,o,i,l,f){const v=Me(),E=tn(),P=e+Dt,j=E.firstCreatePass?function wC(e,t,n,r,o,i,l,f,v){const E=t.consts,P=va(t,e,4,l||null,as(E,f));ud(t,n,P,as(E,v)),D(t,P);const j=P.tView=ad(2,P,r,o,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,E,null);return null!==t.queries&&(t.queries.template(t,P),j.queries=t.queries.embeddedTView(P)),P}(P,E,v,t,n,r,o,i,l):E.data[P];Po(j,!1);const J=ug(E,v,j,e);s()&&nl(E,v,J,j),so(J,v),_l(v,v[P]=Op(J,v,J,j)),cr(j)&&sd(E,v,j),null!=l&&id(v,j,f)}let ug=lg;function lg(e,t,n,r){return u(!0),t[bt].createComment("")}function DC(e,t,n,r){const o=t[Sr],i=!o||ei()||fl(o,r);if(u(i),i)return lg(0,t);const l=o.data[Hc]?.[r]??null;null!==l&&null!==n.tView&&null===n.tView.ssrId&&(n.tView.ssrId=l);const f=Ml(o,e,t,n);return hl(o,r,f),Il(Xc(o,r),f)}function cg(e){return is(function Lu(){return St.lFrame.contextLView}(),Dt+e)}function wd(e,t,n){const r=Me();return io(r,h(),t)&&Jo(tn(),zn(),r,e,t,r[bt],n,!1),wd}function Dd(e,t,n,r,o){const l=o?"class":"style";hd(e,n,t.inputs[l],l,r)}function Al(e,t,n,r){const o=Me(),i=tn(),l=Dt+e,f=o[bt],v=i.firstCreatePass?function MC(e,t,n,r,o,i){const l=t.consts,v=va(t,e,2,r,as(l,o));return ud(t,n,v,as(l,i)),null!==v.attrs&&bl(v,v.attrs,!1),null!==v.mergedAttrs&&bl(v,v.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,v),v}(l,i,o,t,n,r):i.data[l],E=dg(i,o,v,f,t,e);o[l]=E;const P=cr(v);return Po(v,!0),_f(f,E,v),32!=(32&v.flags)&&s()&&nl(i,o,E,v),0===function Hi(){return St.lFrame.elementDepthCount}()&&so(E,o),function Ha(){St.lFrame.elementDepthCount++}(),P&&(sd(i,o,v),od(i,v,o)),null!==r&&id(o,v),Al}function Tl(){let e=fr();qi()?function Xi(){St.lFrame.isParent=!1}():(e=e.parent,Po(e,!1));const t=e;(function za(e){return St.skipHydrationRootTNode===e})(t)&&function Ka(){St.skipHydrationRootTNode=null}(),function ku(){St.lFrame.elementDepthCount--}();const n=tn();return n.firstCreatePass&&(D(n,e),Ao(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Yt(e){return 0!=(8&e.flags)}(t)&&Dd(n,t,Me(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function sn(e){return 0!=(16&e.flags)}(t)&&Dd(n,t,Me(),t.stylesWithoutHost,!1),Tl}function Ed(e,t,n,r){return Al(e,t,n,r),Tl(),Ed}let dg=(e,t,n,r,o,i)=>(u(!0),Zu(r,o,d()));function IC(e,t,n,r,o,i){const l=t[Sr],f=!l||ei()||fl(l,i);if(u(f),f)return Zu(r,o,d());const v=Ml(l,e,t,n);return Gf(l,i)&&hl(l,i,v.nextSibling),l&&(zh(n)||Wh(v))&&un(n)&&(function Gi(e){St.skipHydrationRootTNode=e}(n),mf(v)),v}let fg=(e,t,n,r)=>(u(!0),mc(t[bt],""));function OC(e,t,n,r){let o;const i=t[Sr],l=!i||ei();if(u(l),l)return mc(t[bt],"");const f=Ml(i,e,t,n),v=function I0(e,t){const n=e.data;let r=n[Bc]?.[t]??null;return null===r&&n[cu]?.[t]&&(r=Xc(e,t)),r}(i,r);return hl(i,r,f),o=Il(v,f),o}function pg(){return Me()}function Id(e){return!!e&&"function"==typeof e.then}function gg(e){return!!e&&"function"==typeof e.subscribe}function Ad(e,t,n,r){const o=Me(),i=tn(),l=fr();return function vg(e,t,n,r,o,i,l){const f=cr(r),E=e.firstCreatePass&&Pp(e),P=t[En],j=xp(t);let J=!0;if(3&r.type||l){const Te=Or(r,t),Xe=l?l(Te):Te,ut=j.length,Ee=l?Zt=>l(mn(Zt[r.index])):r.index;let kt=null;if(!l&&f&&(kt=function xC(e,t,n,r){const o=e.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const l=o[i];if(l===n&&o[i+1]===r){const f=t[lo],v=o[i+2];return f.length>v?f[v]:null}"string"==typeof l&&(i+=2)}return null}(e,t,o,r.index)),null!==kt)(kt.__ngLastListenerFn__||kt).__ngNextListenerFn__=i,kt.__ngLastListenerFn__=i,J=!1;else{i=_g(r,t,P,i,!1);const Zt=n.listen(Xe,o,i);j.push(i,Zt),E&&E.push(o,Ee,ut,ut+1)}}else i=_g(r,t,P,i,!1);const ee=r.outputs;let be;if(J&&null!==ee&&(be=ee[o])){const Te=be.length;if(Te)for(let Xe=0;Xe<Te;Xe+=2){const Sn=t[be[Xe]][be[Xe+1]].subscribe(i),jo=j.length;j.push(i,Sn),E&&E.push(o,r.index,jo,-(jo+1))}}}(i,o,o[bt],l,e,t,r),Ad}function yg(e,t,n,r){try{return xo(6,t,n),!1!==n(r)}catch(o){return kp(e,o),!1}finally{xo(7,t,n)}}function _g(e,t,n,r,o){return function i(l){if(l===Function)return r;fu(e.componentOffset>-1?Ur(e.index,t):t);let v=yg(t,n,r,l),E=i.__ngNextListenerFn__;for(;E;)v=yg(t,n,E,l)&&v,E=E.__ngNextListenerFn__;return o&&!1===v&&l.preventDefault(),v}}function bg(e=1){return function Xl(e){return(St.lFrame.contextLView=function Jl(e,t){for(;e>0;)t=t[Zn],e--;return t}(e,St.lFrame.contextLView))[En]}(e)}function Td(e,t,n){return Ol(e,"",t,"",n),Td}function Ol(e,t,n,r,o){const i=Me(),l=_a(i,t,n,r);return l!==$t&&Jo(tn(),zn(),i,e,l,i[bt],o,!1),Ol}function Rl(e,t){return e<<17|t<<2}function vi(e){return e>>17&32767}function Od(e){return 2|e}function Ni(e){return(131068&e)>>2}function Rd(e,t){return-131069&e|t<<2}function xd(e){return 1|e}function Tg(e,t,n,r,o){const i=e[n+1],l=null===t;let f=r?vi(i):Ni(i),v=!1;for(;0!==f&&(!1===v||l);){const P=e[f+1];$C(e[f],t)&&(v=!0,e[f+1]=r?xd(P):Od(P)),f=r?vi(P):Ni(P)}v&&(e[n+1]=r?Od(i):xd(i))}function $C(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&na(e,t)>=0}const xr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Og(e){return e.substring(xr.key,xr.keyEnd)}function Rg(e,t){const n=xr.textEnd;return n===t?-1:(t=xr.keyEnd=function zC(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,xr.key=t,n),Ia(e,t,n))}function Ia(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Pd(e,t,n){return ws(e,t,n,!1),Pd}function Nd(e,t){return ws(e,t,null,!0),Nd}function $s(e,t){for(let n=function HC(e){return function Pg(e){xr.key=0,xr.keyEnd=0,xr.value=0,xr.valueEnd=0,xr.textEnd=e.length}(e),Rg(e,Ia(e,0,xr.textEnd))}(t);n>=0;n=Rg(t,n))Xo(e,Og(t),!0)}function ws(e,t,n,r){const o=Me(),i=tn(),l=_(2);i.firstUpdatePass&&Lg(i,e,l,r),t!==$t&&io(o,l,t)&&Ug(i,i.data[Qr()],o,o[bt],e,o[l+1]=function rw(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Be(gi(e)))),e}(t,n),r,l)}function Fg(e,t){return t>=e.expandoStartIndex}function Lg(e,t,n,r){const o=e.data;if(null===o[n+1]){const i=o[Qr()],l=Fg(e,n);$g(i,r)&&null===t&&!l&&(t=!1),t=function JC(e,t,n,r){const o=function qe(e){const t=St.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let i=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(n=wu(n=kd(null,e,t,n,r),t.attrs,r),i=null);else{const l=t.directiveStylingLast;if(-1===l||e[l]!==o)if(n=kd(o,e,t,n,r),null===i){let v=function QC(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Ni(r))return e[vi(r)]}(e,t,r);void 0!==v&&Array.isArray(v)&&(v=kd(null,e,t,v[1],r),v=wu(v,t.attrs,r),function YC(e,t,n,r){e[vi(n?t.classBindings:t.styleBindings)]=r}(e,t,r,v))}else i=function ZC(e,t,n){let r;const o=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<o;i++)r=wu(r,e[i].hostAttrs,n);return wu(r,t.attrs,n)}(e,t,r)}return void 0!==i&&(r?t.residualClasses=i:t.residualStyles=i),n}(o,i,t,r),function UC(e,t,n,r,o,i){let l=i?t.classBindings:t.styleBindings,f=vi(l),v=Ni(l);e[r]=n;let P,E=!1;if(Array.isArray(n)?(P=n[1],(null===P||na(n,P)>0)&&(E=!0)):P=n,o)if(0!==v){const J=vi(e[f+1]);e[r+1]=Rl(J,f),0!==J&&(e[J+1]=Rd(e[J+1],r)),e[f+1]=function LC(e,t){return 131071&e|t<<17}(e[f+1],r)}else e[r+1]=Rl(f,0),0!==f&&(e[f+1]=Rd(e[f+1],r)),f=r;else e[r+1]=Rl(v,0),0===f?f=r:e[v+1]=Rd(e[v+1],r),v=r;E&&(e[r+1]=Od(e[r+1])),Tg(e,P,r,!0),Tg(e,P,r,!1),function VC(e,t,n,r,o){const i=o?e.residualClasses:e.residualStyles;null!=i&&"string"==typeof t&&na(i,t)>=0&&(n[r+1]=xd(n[r+1]))}(t,P,e,r,i),l=Rl(f,v),i?t.classBindings=l:t.styleBindings=l}(o,i,t,n,l,r)}}function kd(e,t,n,r,o){let i=null;const l=n.directiveEnd;let f=n.directiveStylingLast;for(-1===f?f=n.directiveStart:f++;f<l&&(i=t[f],r=wu(r,i.hostAttrs,o),i!==e);)f++;return null!==e&&(n.directiveStylingLast=f),r}function wu(e,t,n){const r=n?1:2;let o=-1;if(null!==t)for(let i=0;i<t.length;i++){const l=t[i];"number"==typeof l?o=l:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Xo(e,l,!!n||t[++i]))}return void 0===e?null:e}function Ug(e,t,n,r,o,i,l,f){if(!(3&t.type))return;const v=e.data,E=v[f+1],P=function jC(e){return 1==(1&e)}(E)?Vg(v,t,n,o,Ni(E),l):void 0;xl(P)||(xl(i)||function FC(e){return 2==(2&e)}(E)&&(i=Vg(v,null,n,o,f,l)),function x_(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let i=-1===r.indexOf("-")?void 0:Qu.DashCase;null==o?e.removeStyle(n,r,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Qu.Important),e.setStyle(n,r,o,i))}}(r,l,Zs(Qr(),n),o,i))}function Vg(e,t,n,r,o,i){const l=null===t;let f;for(;o>0;){const v=e[o],E=Array.isArray(v),P=E?v[1]:v,j=null===P;let J=n[o+1];J===$t&&(J=j?Pt:void 0);let ee=j?ic(J,r):P===r?J:void 0;if(E&&!xl(ee)&&(ee=ic(v,r)),xl(ee)&&(f=ee,l))return f;const be=e[o+1];o=l?vi(be):Ni(be)}if(null!==t){let v=i?t.residualClasses:t.residualStyles;null!=v&&(f=ic(v,r))}return f}function xl(e){return void 0!==e}function $g(e,t){return 0!=(e.flags&(t?8:16))}function Bg(e,t=""){const n=Me(),r=tn(),o=e+Dt,i=r.firstCreatePass?va(r,o,1,t,null):r.data[o],l=Hg(r,n,i,t,e);n[o]=l,s()&&nl(r,n,l,i),Po(i,!1)}let Hg=(e,t,n,r,o)=>(u(!0),Yu(t[bt],r));function ow(e,t,n,r,o){const i=t[Sr],l=!i||ei()||fl(i,o);return u(l),l?Yu(t[bt],r):Ml(i,e,t,n)}function Fd(e){return Pl("",e,""),Fd}function Pl(e,t,n){const r=Me(),o=_a(r,e,t,n);return o!==$t&&si(r,Qr(),o),Pl}function Ld(e,t,n,r,o){const i=Me(),l=ba(i,e,t,n,r,o);return l!==$t&&si(i,Qr(),l),Ld}function Qg(e,t,n){!function Ds(e,t,n,r){const o=tn(),i=_(2);o.firstUpdatePass&&Lg(o,null,i,r);const l=Me();if(n!==$t&&io(l,i,n)){const f=o.data[Qr()];if($g(f,r)&&!Fg(o,i)){let v=r?f.classesWithoutHost:f.stylesWithoutHost;null!==v&&(n=Fe(v,n||"")),Dd(o,f,l,n,r)}else!function nw(e,t,n,r,o,i,l,f){o===$t&&(o=Pt);let v=0,E=0,P=0<o.length?o[0]:null,j=0<i.length?i[0]:null;for(;null!==P||null!==j;){const J=v<o.length?o[v+1]:void 0,ee=E<i.length?i[E+1]:void 0;let Te,be=null;P===j?(v+=2,E+=2,J!==ee&&(be=j,Te=ee)):null===j||null!==P&&P<j?(v+=2,be=P):(E+=2,be=j,Te=ee),null!==be&&Ug(e,t,n,r,be,Te,l,f),P=v<o.length?o[v]:null,j=E<i.length?i[E]:null}}(o,f,l,l[bt],l[i+1],l[i+1]=function ew(e,t,n){if(null==n||""===n)return Pt;const r=[],o=gi(n);if(Array.isArray(o))for(let i=0;i<o.length;i++)e(r,o[i],!0);else if("object"==typeof o)for(const i in o)o.hasOwnProperty(i)&&e(r,i,o[i]);else"string"==typeof o&&t(r,o);return r}(e,t,n),r,i)}}(Xo,$s,_a(Me(),e,t,n),!0)}const ki=void 0;var Ew=["en",[["a","p"],["AM","PM"],ki],[["AM","PM"],ki,ki],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ki,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ki,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ki,"{1} 'at' {0}",ki],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Dw(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Aa={};function jd(e){const t=function Sw(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=cm(t);if(n)return n;const r=t.split("-")[0];if(n=cm(r),n)return n;if("en"===r)return Ew;throw new Ge(701,!1)}function lm(e){return jd(e)[Ta.PluralCase]}function cm(e){return e in Aa||(Aa[e]=Wt.ng&&Wt.ng.common&&Wt.ng.common.locales&&Wt.ng.common.locales[e]),Aa[e]}var Ta=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Ta||{});const Oa="en-US";let dm=Oa;function $d(e,t,n,r,o){if(e=Ae(e),Array.isArray(e))for(let i=0;i<e.length;i++)$d(e[i],t,n,r,o);else{const i=tn(),l=Me(),f=fr();let v=xi(e)?e:Ae(e.provide);const E=jf(e),P=1048575&f.providerIndexes,j=f.directiveStart,J=f.providerIndexes>>20;if(xi(e)||!e.multi){const ee=new Pe(E,o,ma),be=Hd(v,t,o?P:P+J,j);-1===be?(nc(ju(f,l),i,v),Bd(i,e,t.length),t.push(v),f.directiveStart++,f.directiveEnd++,o&&(f.providerIndexes+=1048576),n.push(ee),l.push(ee)):(n[be]=ee,l[be]=ee)}else{const ee=Hd(v,t,P+J,j),be=Hd(v,t,P,P+J),Xe=be>=0&&n[be];if(o&&!Xe||!o&&!(ee>=0&&n[ee])){nc(ju(f,l),i,v);const ut=function DD(e,t,n,r,o){const i=new Pe(e,n,ma);return i.multi=[],i.index=t,i.componentProviders=0,Fm(i,o,r&&!n),i}(o?wD:CD,n.length,o,r,E);!o&&Xe&&(n[be].providerFactory=ut),Bd(i,e,t.length,0),t.push(v),f.directiveStart++,f.directiveEnd++,o&&(f.providerIndexes+=1048576),n.push(ut),l.push(ut)}else Bd(i,e,ee>-1?ee:be,Fm(n[o?be:ee],E,!o&&r));!o&&r&&Xe&&n[be].componentProviders++}}}function Bd(e,t,n,r){const o=xi(t),i=function l0(e){return!!e.useClass}(t);if(o||i){const v=(i?Ae(t.useClass):t).prototype.ngOnDestroy;if(v){const E=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const P=E.indexOf(n);-1===P?E.push(n,[r,v]):E[P+1].push(r,v)}else E.push(n,v)}}}function Fm(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Hd(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function CD(e,t,n,r){return Gd(this.multi,[])}function wD(e,t,n,r){const o=this.multi;let i;if(this.providerFactory){const l=this.providerFactory.componentProviders,f=Oi(n,n[Ke],this.providerFactory.index,r);i=f.slice(0,l),Gd(o,i);for(let v=l;v<f.length;v++)i.push(f[v])}else i=[],Gd(o,i);return i}function Gd(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Lm(e,t=[]){return n=>{n.providersResolver=(r,o)=>function bD(e,t,n){const r=tn();if(r.firstCreatePass){const o=dr(e);$d(n,r.data,r.blueprint,o,!0),$d(t,r.data,r.blueprint,o,!1)}}(r,o?o(e):e,t)}}class Fi{}class jm{}function ED(e,t){return new zd(e,t??null,[])}class zd extends Fi{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Bp(this);const o=ur(t);this._bootstrapComponents=oi(o.bootstrap),this._r3Injector=Zf(t,n,[{provide:Fi,useValue:this},{provide:pl,useValue:this.componentFactoryResolver},...r],Be(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Wd extends jm{constructor(t){super(),this.moduleType=t}create(t){return new zd(this.moduleType,t,[])}}class Um extends Fi{constructor(t){super(),this.componentFactoryResolver=new Bp(this),this.instance=null;const n=new la([...t.providers,{provide:Fi,useValue:this},{provide:pl,useValue:this.componentFactoryResolver}],t.parent||ll(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Vm(e,t,n=null){return new Um({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let MD=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=Nf(0,n.type),o=r.length>0?Vm([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=gt({token:e,providedIn:"environment",factory:()=>new e(je(Fs))})}}return e})();function $m(e){e.getStandaloneInjector=t=>t.get(MD).getOrCreateStandaloneInjector(e)}function qm(e,t,n){const r=Vr()+e,o=Me();return o[r]===$t?Us(o,r,n?t.call(n):t()):yu(o,r)}function Xm(e,t,n,r){return Qm(Me(),Vr(),e,t,n,r)}function Jm(e,t,n,r,o,i,l,f,v){const E=Vr()+e,P=Me(),j=function ds(e,t,n,r,o,i){const l=Pi(e,t,n,r);return Pi(e,t+2,o,i)||l}(P,E,n,r,o,i);return Pi(P,E+4,l,f)||j?Us(P,E+6,v?t.call(v,n,r,o,i,l,f):t(n,r,o,i,l,f)):yu(P,E+6)}function Qm(e,t,n,r,o,i){const l=t+n;return io(e,l,o)?Us(e,l+1,i?r.call(i,o):r(o)):function Au(e,t){const n=e[t];return n===$t?void 0:n}(e,l+1)}function nv(e,t){const n=tn();let r;const o=e+Dt;n.firstCreatePass?(r=function BD(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks??=[]).push(o,r.onDestroy)):r=n.data[o];const i=r.factory||(r.factory=Wo(r.type)),f=dn(ma);try{const v=No(!1),E=i();return No(v),function SC(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,Me(),o,E),E}finally{dn(f)}}function rv(e,t,n){const r=e+Dt,o=Me(),i=is(o,r);return function Tu(e,t){return e[Ke].data[t].pure}(o,r)?Qm(o,Vr(),t,i.transform,n,i):i.transform(n)}function KD(){return this._results[Symbol.iterator]()}class qd{get changes(){return this._changes||(this._changes=new Ls)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=qd.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=KD)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const o=function cs(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function ky(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],i=t[r];if(n&&(o=n(o),i=n(i)),i!==o)return!1}return!0}(r._results,o,n))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function XD(e,t,n,r=!0){const o=t[Ke];if(function E_(e,t,n,r){const o=$n+r,i=n.length;r>0&&(n[o-1][kr]=t),r<i-$n?(t[kr]=n[o],Nh(n,$n+r,t)):(n.push(t),t[kr]=null),t[an]=n;const l=t[co];null!==l&&n!==l&&function S_(e,t){const n=e[mo];t[Xt]!==t[an][an][Xt]&&(e[zs]=!0),null===n?e[mo]=[t]:n.push(t)}(l,t);const f=t[_r];null!==f&&f.insertView(e),t[At]|=128}(o,t,e,n),r){const i=Cc(n,e),l=t[bt],f=tl(l,e[qr]);null!==f&&function C_(e,t,n,r,o,i){r[hn]=o,r[bn]=t,ou(e,r,n,1,o,i)}(o,e[bn],l,t,f,i)}}let Ou=(()=>{class e{static{this.__NG_ELEMENT_ID__=YD}}return e})();const JD=Ou,QD=class extends JD{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const o=function qD(e,t,n,r){const o=t.tView,f=yl(e,o,n,4096&e[At]?4096:16,null,t,null,null,null,r?.injector??null,r?.hydrationInfo??null);f[co]=e[t.index];const E=e[_r];return null!==E&&(f[_r]=E.createEmbeddedView(o)),fd(o,f,n),f}(this._declarationLView,this._declarationTContainer,t,{injector:n,hydrationInfo:r});return new mu(o)}};function YD(){return jl(fr(),Me())}function jl(e,t){return 4&e.type?new QD(t,e,fa(e,t)):null}function ov(e){const t=e[zo]??[],r=e[an][bt];for(const o of t)ZD(o,r);e[zo]=Pt}function ZD(e,t){let n=0,r=e.firstChild;if(r){const o=e.data[ha];for(;n<o;){const i=r.nextSibling;rl(t,r,!1),r=i,n++}}}function sv(e){ov(e);for(let t=$n;t<e.length;t++)Ul(e[t])}function Ul(e){const t=e[Ke];for(let n=Dt;n<t.bindingStartIndex;n++)Bn(e[n])?sv(e[n]):Array.isArray(e[n])&&Ul(e[n])}let iv=(e,t)=>null;function nE(e,t){const n=e[zo];return t&&null!==n&&0!==n.length?n[0].data[Gc]===t?n.shift():(ov(e),null):null}function av(e,t){return iv(e,t)}let Vl=(()=>{class e{static{this.__NG_ELEMENT_ID__=oE}}return e})();function oE(){return cv(fr(),Me())}const sE=Vl,uv=class extends sE{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return fa(this._hostTNode,this._hostLView)}get injector(){return new yo(this._hostTNode,this._hostLView)}get parentInjector(){const t=Uu(this._hostTNode,this._hostLView);if(Fn(t)){const n=Wn(t,this._hostLView),r=oo(t);return new yo(n[Ke].data[r+8],n)}return new yo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=lv(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-$n}createEmbeddedView(t,n,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const l=av(this._lContainer,t.ssrId),f=t.createEmbeddedViewImpl(n||{},i,l),v=!!l&&!Xu(this._hostTNode);return this.insertImpl(f,o,v),f}createComponent(t,n,r,o,i){const l=t&&!function Ya(e){return"function"==typeof e}(t);let f;if(l)f=n;else{const Te=n||{};f=Te.index,r=Te.injector,o=Te.projectableNodes,i=Te.environmentInjector||Te.ngModuleRef}const v=l?t:new vu(Ht(t)),E=r||this.parentInjector;if(!i&&null==v.ngModule){const Xe=(l?E:this.parentInjector).get(Fs,null);Xe&&(i=Xe)}const P=Ht(v.componentType??{}),j=av(this._lContainer,P?.id??null),ee=v.create(E,o,j?.firstChild??null,i),be=!!j&&!Xu(this._hostTNode);return this.insertImpl(ee.hostView,f,be),ee}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const o=t._lView;if(function Ko(e){return Bn(e[an])}(o)){const v=this.indexOf(t);if(-1!==v)this.detach(v);else{const E=o[an],P=new uv(E,E[bn],E[an]);P.detach(P.indexOf(t))}}const l=this._adjustIndex(n),f=this._lContainer;return XD(f,o,l,!r),t.attachToViewContainerRef(),Nh(Xd(f),l,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=lv(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=el(this._lContainer,n);r&&($u(Xd(this._lContainer),n),vc(r[Ke],r))}detach(t){const n=this._adjustIndex(t,-1),r=el(this._lContainer,n);return r&&null!=$u(Xd(this._lContainer),n)?new mu(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function lv(e){return e[8]}function Xd(e){return e[8]||(e[8]=[])}function cv(e,t){let n;const r=t[e.index];return Bn(r)?n=r:(n=Op(r,t,null,e),t[e.index]=n,_l(t,n)),dv(n,t,e,r),new uv(n,e,t)}let dv=hv;function hv(e,t,n,r){if(e[qr])return;let o;o=8&n.type?mn(r):function iE(e,t){const n=e[bt],r=n.createComment(""),o=Or(t,e);return Ri(n,tl(n,o),r,function T_(e,t){return e.nextSibling(t)}(n,o),!1),r}(t,n),e[qr]=o}function aE(e,t,n,r){if(e[qr]&&e[zo])return;const o=t[Sr],i=n.index-Dt,l=function Ju(e){let t=e.parent;for(;t;){if(zh(t))return!0;t=t.parent}return!1}(n)||Xu(n);if(!o||l||fl(o,i))return hv(e,t,n,r);const v=qc(o,i),E=o.data[cu]?.[i],[P,j]=function tE(e,t){const n=[];for(const r of t)for(let o=0;o<(r[cl]??1);o++){const i={data:r,firstChild:null};r[ha]>0&&(i.firstChild=e,e=Il(r[ha],e)),n.push(i)}return[e,n]}(v,E);e[qr]=P,e[zo]=j}class Jd{constructor(t){this.queryList=t,this.matches=null}clone(){return new Jd(this.queryList)}setDirty(){this.queryList.setDirty()}}class Qd{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,o=[];for(let i=0;i<r;i++){const l=n.getByIndex(i);o.push(this.queries[l.indexInDeclarationView].clone())}return new Qd(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==Cv(t,n).matches&&this.queries[n].setDirty()}}class fv{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class Yd{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const o=null!==n?n.length:0,i=this.getByIndex(r).embeddedTView(t,o);i&&(i.indexInDeclarationView=r,null!==n?n.push(i):n=[i])}return null!==n?new Yd(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Zd{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Zd(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const i=r[o];this.matchTNodeWithReadOption(t,n,lE(n,i)),this.matchTNodeWithReadOption(t,n,Vu(n,t,i,!1,!1))}else r===Ou?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Vu(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===hu||o===Vl||o===Ou&&4&n.type)this.addMatch(n.index,-2);else{const i=Vu(n,t,o,!1,!1);null!==i&&this.addMatch(n.index,i)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function lE(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function dE(e,t,n,r){return-1===n?function cE(e,t){return 11&e.type?fa(e,t):4&e.type?jl(e,t):null}(t,e):-2===n?function hE(e,t,n){return n===hu?fa(t,e):n===Ou?jl(t,e):n===Vl?cv(t,e):void 0}(e,t,r):Oi(e,e[Ke],n,t)}function pv(e,t,n,r){const o=t[_r].queries[r];if(null===o.matches){const i=e.data,l=n.matches,f=[];for(let v=0;v<l.length;v+=2){const E=l[v];f.push(E<0?null:dE(t,i[E],l[v+1],n.metadata.read))}o.matches=f}return o.matches}function eh(e,t,n,r){const o=e.queries.getByIndex(n),i=o.matches;if(null!==i){const l=pv(e,t,o,n);for(let f=0;f<i.length;f+=2){const v=i[f];if(v>0)r.push(l[f/2]);else{const E=i[f+1],P=t[-v];for(let j=$n;j<P.length;j++){const J=P[j];J[co]===J[an]&&eh(J[Ke],J,E,r)}if(null!==P[mo]){const j=P[mo];for(let J=0;J<j.length;J++){const ee=j[J];eh(ee[Ke],ee,E,r)}}}}}return r}function gv(e){const t=Me(),n=tn(),r=Et();gn(r+1);const o=Cv(n,r);if(e.dirty&&function pi(e){return 4==(4&e[At])}(t)===(2==(2&o.metadata.flags))){if(null===o.matches)e.reset([]);else{const i=o.crossesNgTemplate?eh(n,t,r,[]):pv(n,t,o,r);e.reset(i,x0),e.notifyOnChanges()}return!0}return!1}function mv(e,t,n){const r=tn();r.firstCreatePass&&(bv(r,new fv(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),_v(r,Me(),t)}function vv(e,t,n,r){const o=tn();if(o.firstCreatePass){const i=fr();bv(o,new fv(t,n,r),i.index),function pE(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(o,e),2==(2&n)&&(o.staticContentQueries=!0)}_v(o,Me(),n)}function yv(){return function fE(e,t){return e[_r].queries[t].queryList}(Me(),Et())}function _v(e,t,n){const r=new qd(4==(4&n));(function hb(e,t,n,r){const o=xp(t);o.push(n),e.firstCreatePass&&Pp(e).push(r,o.length-1)})(e,t,r,r.destroy),null===t[_r]&&(t[_r]=new Qd),t[_r].queries.push(new Jd(r))}function bv(e,t,n){null===e.queries&&(e.queries=new Yd),e.queries.track(new Zd(t,n))}function Cv(e,t){return e.queries.getByIndex(t)}function wv(e,t){return jl(e,t)}function th(e){return!!ur(e)}const Uv=new It("Application Initializer");let ih=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=ct(Uv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const o of this.appInits){const i=o();if(Id(i))n.push(i);else if(gg(i)){const l=new Promise((f,v)=>{i.subscribe({complete:f,error:v})});n.push(l)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Vv=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const Bl=new It("LocaleId",{providedIn:"root",factory:()=>ct(Bl,yt.Optional|yt.SkipSelf)||function kE(){return typeof $localize<"u"&&$localize.locale||Oa}()}),FE=new It("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let $v=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new de.t(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class jE{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let UE=(()=>{class e{compileModuleSync(n){return new Wd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),i=oi(ur(n).declarations).reduce((l,f)=>{const v=Ht(f);return v&&l.push(new vu(v)),l},[]);return new jE(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const zv=new It(""),Wv=new It("");let lh,aS=(()=>{class e{constructor(n,r,o){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,lh||(function uS(e){lh=e}(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$r.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(l=>l.timeoutId!==i),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:i,updateCb:o})}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}static{this.\u0275fac=function(r){return new(r||e)(je($r),je(Kv),je(Wv))}}static{this.\u0275prov=gt({token:e,factory:e.\u0275fac})}}return e})(),Kv=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return lh?.findTestabilityInTree(this,n,r)??null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),yi=null;const ch=new It("PlatformDestroyListeners"),dh=new It("appBootstrapListener");class dS{constructor(t,n){this.name=t,this.token=n}}function pS(e){try{const{rootComponent:t,appProviders:n,platformProviders:r}=e,o=function fS(e=[]){if(yi)return yi;const t=function Qv(e=[],t){return Cs.create({name:t,providers:[{provide:kc,useValue:"platform"},{provide:ch,useValue:new Set([()=>yi=null])},...e]})}(e);return yi=t,function Xv(){!function tt(e){fe=e}(()=>{throw new Ge(600,!1)})}(),function Jv(e){e.get(Vf,null)?.forEach(n=>n())}(t),t}(r),i=[_S(),...n||[]],f=new Um({providers:i,parent:o,debugName:"",runEnvironmentInitializers:!1}).injector,v=f.get($r);return v.run(()=>{f.resolveInjectorInitializers();const E=f.get(mi,null);let P;v.runOutsideAngular(()=>{P=v.onError.subscribe({next:ee=>{E.handleError(ee)}})});const j=()=>f.destroy(),J=o.get(ch);return J.add(j),f.onDestroy(()=>{P.unsubscribe(),J.delete(j)}),function ey(e,t,n){try{const r=n();return Id(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(E,v,()=>{const ee=f.get(ih);return ee.runInitializers(),ee.donePromise.then(()=>{!function hm(e){Jt(e,"Expected localeId to be defined"),"string"==typeof e&&(dm=e.toLowerCase().replace(/_/g,"-"))}(f.get(Bl,Oa)||Oa);const Te=f.get(Pa);return void 0!==t&&Te.bootstrap(t),Te})})})}catch(t){return Promise.reject(t)}}let Pa=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ct(ry),this.zoneIsStable=ct(op),this.componentTypes=[],this.components=[],this.isStable=ct($v).hasPendingTasks.pipe((0,wt.n)(n=>n?(0,Z.of)(!1):this.zoneIsStable),function G(e,t=Qe.D){return e=e??Ne,(0,He.N)((n,r)=>{let o,i=!0;n.subscribe((0,at._)(r,l=>{const f=t(l);(i||!e(o,f))&&(i=!1,o=f,r.next(l))}))})}(),Ie()),this._injector=ct(Fs)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const o=n instanceof zf;if(!this._injector.get(ih).done)throw!o&&uo(n),new Ge(405,!1);let l;l=o?n:this._injector.get(pl).resolveComponentFactory(n),this.componentTypes.push(l.componentType);const f=function cS(e){return e.isBoundToModule}(l)?void 0:this._injector.get(Fi),E=l.create(Cs.NULL,[],r||l.selector,f),P=E.location.nativeElement,j=E.injector.get(zv,null);return j?.registerApplication(P),E.onDestroy(()=>{this.detachView(E.hostView),Gl(this.components,E),j?.unregisterApplication(P)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Ge(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Gl(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(dh,[]);r.push(...this._bootstrapListeners),r.forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Gl(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Ge(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Gl(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ry=new It("",{providedIn:"root",factory:()=>ct(mi).handleError.bind(void 0)});function vS(){const e=ct($r),t=ct(mi);return n=>e.runOutsideAngular(()=>t.handleError(n))}let yS=(()=>{class e{constructor(){this.zone=ct($r),this.applicationRef=ct(Pa)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=gt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function oy(e){return[{provide:$r,useFactory:e},{provide:uu,multi:!0,useFactory:()=>{const t=ct(yS,{optional:!0});return()=>t.initialize()}},{provide:ry,useFactory:vS},{provide:op,useFactory:sp}]}function _S(e){return xc([[],oy(()=>new $r(function Zv(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}(e)))])}let bS=(()=>{class e{static{this.__NG_ELEMENT_ID__=CS}}return e})();function CS(e){return function wS(e,t,n){if(un(e)&&!n){const r=Ur(e.index,t);return new mu(r,r)}return 47&e.type?new mu(t[Xt],t):null}(fr(),Me(),16==(16&e))}class ly{constructor(){}supports(t){return Dl(t)}create(t){return new IS(t)}}const MS=(e,t)=>t;class IS{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||MS}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,i=null;for(;n||r;){const l=!r||n&&n.currentIndex<dy(r,o,i)?n:r,f=dy(l,o,i),v=l.currentIndex;if(l===r)o--,r=r._nextRemoved;else if(n=n._next,null==l.previousIndex)o++;else{i||(i=[]);const E=f-o,P=v-o;if(E!=P){for(let J=0;J<E;J++){const ee=J<i.length?i[J]:i[J]=0,be=ee+J;P<=be&&be<E&&(i[J]=ee+1)}i[l.previousIndex]=P-E}}f!==v&&t(l,f,v)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Dl(t))throw new Ge(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,i,l,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let f=0;f<this.length;f++)i=t[f],l=this._trackByFn(f,i),null!==n&&Object.is(n.trackById,l)?(r&&(n=this._verifyReinsertion(n,i,l,f)),Object.is(n.item,i)||this._addIdentityChange(n,i)):(n=this._mismatch(n,i,l,f),r=!0),n=n._next}else o=0,function oC(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,f=>{l=this._trackByFn(o,f),null!==n&&Object.is(n.trackById,l)?(r&&(n=this._verifyReinsertion(n,f,l,o)),Object.is(n.item,f)||this._addIdentityChange(n,f)):(n=this._mismatch(n,f,l,o),r=!0),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,i,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,i,o)):t=this._addAfter(new AS(n,r),i,o),t}_verifyReinsertion(t,n,r,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?t=this._reinsertAfter(i,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,i=t._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const o=null===n?this._itHead:n._next;return t._next=o,t._prev=n,null===o?this._itTail=t:o._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new cy),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new cy),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class AS{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class TS{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class cy{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new TS,this.map.set(n,r)),r.add(t)}get(t,n){const o=this.map.get(t);return o?o.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dy(e,t,n){const r=e.previousIndex;if(null===r)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}class hy{constructor(){}supports(t){return t instanceof Map||gd(t)}create(){return new OS}}class OS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||gd(t)))throw new Ge(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,o)=>{if(n&&n.key===o)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const i=this._getOrCreateRecordForKey(o,r);n=this._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const o=this._records.get(t);this._maybeAddToChanges(o,n);const i=o._prev,l=o._next;return i&&(i._next=l),l&&(l._prev=i),o._next=null,o._prev=null,o}const r=new RS(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class RS{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fy(){return new vh([new ly])}let vh=(()=>{class e{static{this.\u0275prov=gt({token:e,providedIn:"root",factory:fy})}constructor(n){this.factories=n}static create(n,r){if(null!=r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||fy()),deps:[[e,new Gu,new Hu]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(null!=r)return r;throw new Ge(901,!1)}}return e})();function py(){return new yh([new hy])}let yh=(()=>{class e{static{this.\u0275prov=gt({token:e,providedIn:"root",factory:py})}constructor(n){this.factories=n}static create(n,r){if(r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||py()),deps:[[e,new Gu,new Hu]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(r)return r;throw new Ge(901,!1)}}return e})(),wy=!1;function HS(){return xc([{provide:ml,useFactory:()=>{let e=!0;return ga()&&(e=!!ct(lu,{optional:!0})?.get(Wc,null)),e&&ct($f).add("hydration"),e}},{provide:uu,useValue:()=>{ga()&&ct(ml)&&(function GS(){const e=aa();let t;for(const n of e.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===C0){t=n;break}if(!t)throw new Ge(-507,!1)}(),function $S(){wy||(wy=!0,function D0(){Bf=w0}(),function AC(){dg=IC}(),function sw(){Hg=ow}(),function RC(){fg=OC}(),function EC(){ug=DC}(),function uE(){dv=aE}(),function rE(){iv=nE}(),function db(){Ep=cb}())}())},multi:!0},{provide:dp,useFactory:()=>ga()&&ct(ml)},{provide:dh,useFactory:()=>{if(ga()&&ct(ml)){const e=ct(Pa);return ct(Cs),()=>{(function BS(e,t){return e.isStable.pipe((0,Ve.$)(r=>r)).toPromise().then(()=>{})})(e).then(()=>{$r.assertInAngularZone(),function eE(e){const t=e._views;for(const n of t){const r=Hf(n);null!==r&&null!==r[hn]&&(kn(r)?Ul(r):(Ul(r[hn]),sv(r)))}}(e)})}}return()=>{}},multi:!0}])}function zS(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function KS(e){const t=Ht(e);if(!t)return null;const n=new vu(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},4341:(Je,oe,O)=>{"use strict";O.d(oe,{Zm:()=>Qe,me:()=>Ve,YN:()=>cr,tU:()=>Fr,BC:()=>Vt,cb:()=>Ot,cV:()=>bo,vS:()=>ps,xH:()=>Ke,YS:()=>lr,wz:()=>hn,qT:()=>Ss,y7:()=>lo});var c=O(540),Q=O(177),w=O(6648),ce=O(1985),q=O(3073),L=O(8750),H=O(9326),ne=O(4360),ue=O(6450),de=O(8496),me=O(6354);let He=(()=>{class M{constructor(b,k){this._renderer=b,this._elementRef=k,this.onChange=K=>{},this.onTouched=()=>{}}setProperty(b,k){this._renderer.setProperty(this._elementRef.nativeElement,b,k)}registerOnTouched(b){this.onTouched=b}registerOnChange(b){this.onChange=b}setDisabledState(b){this.setProperty("disabled",b)}static{this.\u0275fac=function(k){return new(k||M)(c.rXU(c.sFG),c.rXU(c.aKT))}}static{this.\u0275dir=c.FsC({type:M})}}return M})(),Ie=(()=>{class M extends He{static{this.\u0275fac=function(){let b;return function(K){return(b||(b=c.xGo(M)))(K||M)}}()}static{this.\u0275dir=c.FsC({type:M,features:[c.Vt3]})}}return M})();const Oe=new c.nKC("NgValueAccessor"),wt={provide:Oe,useExisting:(0,c.Rfq)(()=>Qe),multi:!0};let Qe=(()=>{class M extends Ie{writeValue(b){this.setProperty("checked",b)}static{this.\u0275fac=function(){let b;return function(K){return(b||(b=c.xGo(M)))(K||M)}}()}static{this.\u0275dir=c.FsC({type:M,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(k,K){1&k&&c.bIt("change",function(Tt){return K.onChange(Tt.target.checked)})("blur",function(){return K.onTouched()})},features:[c.Jv_([wt]),c.Vt3]})}}return M})();const at={provide:Oe,useExisting:(0,c.Rfq)(()=>Ve),multi:!0},Ne=new c.nKC("CompositionEventMode");let Ve=(()=>{class M extends He{constructor(b,k,K){super(b,k),this._compositionMode=K,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function G(){const M=(0,Q.QT)()?(0,Q.QT)().getUserAgent():"";return/android (\d+)/.test(M.toLowerCase())}())}writeValue(b){this.setProperty("value",b??"")}_handleInput(b){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(b)}_compositionStart(){this._composing=!0}_compositionEnd(b){this._composing=!1,this._compositionMode&&this.onChange(b)}static{this.\u0275fac=function(k){return new(k||M)(c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(Ne,8))}}static{this.\u0275dir=c.FsC({type:M,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(k,K){1&k&&c.bIt("input",function(Tt){return K._handleInput(Tt.target.value)})("blur",function(){return K.onTouched()})("compositionstart",function(){return K._compositionStart()})("compositionend",function(Tt){return K._compositionEnd(Tt.target.value)})},features:[c.Jv_([at]),c.Vt3]})}}return M})();const Be=new c.nKC("NgValidators"),Fe=new c.nKC("NgAsyncValidators");function Cn(M){return function ye(M){return null==M||("string"==typeof M||Array.isArray(M))&&0===M.length}(M.value)?{required:!0}:null}function dt(M){return null}function Rn(M){return null!=M}function se(M){return(0,c.jNT)(M)?(0,w.H)(M):M}function ae(M){let A={};return M.forEach(b=>{A=null!=b?{...A,...b}:A}),0===Object.keys(A).length?null:A}function he(M,A){return A.map(b=>b(M))}function ke(M){return M.map(A=>function ge(M){return!M.validate}(A)?A:b=>A.validate(b))}function ot(M){return null!=M?function xe(M){if(!M)return null;const A=M.filter(Rn);return 0==A.length?null:function(b){return ae(he(b,A))}}(ke(M)):null}function yn(M){return null!=M?function Mt(M){if(!M)return null;const A=M.filter(Rn);return 0==A.length?null:function(b){return function Z(...M){const A=(0,H.ms)(M),{args:b,keys:k}=(0,q.D)(M),K=new ce.c(rt=>{const{length:Tt}=b;if(!Tt)return void rt.complete();const qn=new Array(Tt);let br=Tt,Xn=Tt;for(let Mr=0;Mr<Tt;Mr++){let es=!1;(0,L.Tg)(b[Mr]).subscribe((0,ne._)(rt,Ts=>{es||(es=!0,Xn--),qn[Mr]=Ts},()=>br--,void 0,()=>{(!br||!es)&&(Xn||rt.next(k?(0,de.e)(k,qn):qn),rt.complete())}))}});return A?K.pipe((0,ue.I)(A)):K}(he(b,A).map(se)).pipe((0,me.T)(ae))}}(ke(M)):null}function pt(M,A){return null===M?[A]:Array.isArray(M)?[...M,A]:[M,A]}function fn(M){return M?Array.isArray(M)?M:[M]:[]}function vt(M,A){return Array.isArray(M)?M.includes(A):M===A}function cn(M,A){const b=fn(A);return fn(M).forEach(K=>{vt(b,K)||b.push(K)}),b}function st(M,A){return fn(A).filter(b=>!vt(M,b))}class Jt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(A){this._rawValidators=A||[],this._composedValidatorFn=ot(this._rawValidators)}_setAsyncValidators(A){this._rawAsyncValidators=A||[],this._composedAsyncValidatorFn=yn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(A){this._onDestroyCallbacks.push(A)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(A=>A()),this._onDestroyCallbacks=[]}reset(A=void 0){this.control&&this.control.reset(A)}hasError(A,b){return!!this.control&&this.control.hasError(A,b)}getError(A,b){return this.control?this.control.getError(A,b):null}}class Re extends Jt{get formDirective(){return null}get path(){return null}}class Kn extends Jt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Br{constructor(A){this._cd=A}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Vt=(()=>{class M extends Br{constructor(b){super(b)}static{this.\u0275fac=function(k){return new(k||M)(c.rXU(Kn,2))}}static{this.\u0275dir=c.FsC({type:M,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(k,K){2&k&&c.AVh("ng-untouched",K.isUntouched)("ng-touched",K.isTouched)("ng-pristine",K.isPristine)("ng-dirty",K.isDirty)("ng-valid",K.isValid)("ng-invalid",K.isInvalid)("ng-pending",K.isPending)},features:[c.Vt3]})}}return M})(),Ot=(()=>{class M extends Br{constructor(b){super(b)}static{this.\u0275fac=function(k){return new(k||M)(c.rXU(Re,10))}}static{this.\u0275dir=c.FsC({type:M,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(k,K){2&k&&c.AVh("ng-untouched",K.isUntouched)("ng-touched",K.isTouched)("ng-pristine",K.isPristine)("ng-dirty",K.isDirty)("ng-valid",K.isValid)("ng-invalid",K.isInvalid)("ng-pending",K.isPending)("ng-submitted",K.isSubmitted)},features:[c.Vt3]})}}return M})();const gr="VALID",It="INVALID",xt="PENDING",er="DISABLED";function Wr(M){return(U(M)?M.validators:M)||null}function Ce(M,A){return(U(A)?A.asyncValidators:M)||null}function U(M){return null!=M&&!Array.isArray(M)&&"object"==typeof M}class Ze{constructor(A,b){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(A),this._assignAsyncValidators(b)}get validator(){return this._composedValidatorFn}set validator(A){this._rawValidators=this._composedValidatorFn=A}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(A){this._rawAsyncValidators=this._composedAsyncValidatorFn=A}get parent(){return this._parent}get valid(){return this.status===gr}get invalid(){return this.status===It}get pending(){return this.status==xt}get disabled(){return this.status===er}get enabled(){return this.status!==er}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(A){this._assignValidators(A)}setAsyncValidators(A){this._assignAsyncValidators(A)}addValidators(A){this.setValidators(cn(A,this._rawValidators))}addAsyncValidators(A){this.setAsyncValidators(cn(A,this._rawAsyncValidators))}removeValidators(A){this.setValidators(st(A,this._rawValidators))}removeAsyncValidators(A){this.setAsyncValidators(st(A,this._rawAsyncValidators))}hasValidator(A){return vt(this._rawValidators,A)}hasAsyncValidator(A){return vt(this._rawAsyncValidators,A)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(A={}){this.touched=!0,this._parent&&!A.onlySelf&&this._parent.markAsTouched(A)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(A=>A.markAllAsTouched())}markAsUntouched(A={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(b=>{b.markAsUntouched({onlySelf:!0})}),this._parent&&!A.onlySelf&&this._parent._updateTouched(A)}markAsDirty(A={}){this.pristine=!1,this._parent&&!A.onlySelf&&this._parent.markAsDirty(A)}markAsPristine(A={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(b=>{b.markAsPristine({onlySelf:!0})}),this._parent&&!A.onlySelf&&this._parent._updatePristine(A)}markAsPending(A={}){this.status=xt,!1!==A.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!A.onlySelf&&this._parent.markAsPending(A)}disable(A={}){const b=this._parentMarkedDirty(A.onlySelf);this.status=er,this.errors=null,this._forEachChild(k=>{k.disable({...A,onlySelf:!0})}),this._updateValue(),!1!==A.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...A,skipPristineCheck:b}),this._onDisabledChange.forEach(k=>k(!0))}enable(A={}){const b=this._parentMarkedDirty(A.onlySelf);this.status=gr,this._forEachChild(k=>{k.enable({...A,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:A.emitEvent}),this._updateAncestors({...A,skipPristineCheck:b}),this._onDisabledChange.forEach(k=>k(!1))}_updateAncestors(A){this._parent&&!A.onlySelf&&(this._parent.updateValueAndValidity(A),A.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(A){this._parent=A}getRawValue(){return this.value}updateValueAndValidity(A={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gr||this.status===xt)&&this._runAsyncValidator(A.emitEvent)),!1!==A.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!A.onlySelf&&this._parent.updateValueAndValidity(A)}_updateTreeValidity(A={emitEvent:!0}){this._forEachChild(b=>b._updateTreeValidity(A)),this.updateValueAndValidity({onlySelf:!0,emitEvent:A.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?er:gr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(A){if(this.asyncValidator){this.status=xt,this._hasOwnPendingAsyncValidator=!0;const b=se(this.asyncValidator(this));this._asyncValidationSubscription=b.subscribe(k=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(k,{emitEvent:A})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(A,b={}){this.errors=A,this._updateControlsErrors(!1!==b.emitEvent)}get(A){let b=A;return null==b||(Array.isArray(b)||(b=b.split(".")),0===b.length)?null:b.reduce((k,K)=>k&&k._find(K),this)}getError(A,b){const k=b?this.get(b):this;return k&&k.errors?k.errors[A]:null}hasError(A,b){return!!this.getError(A,b)}get root(){let A=this;for(;A._parent;)A=A._parent;return A}_updateControlsErrors(A){this.status=this._calculateStatus(),A&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(A)}_initObservables(){this.valueChanges=new c.bkB,this.statusChanges=new c.bkB}_calculateStatus(){return this._allControlsDisabled()?er:this.errors?It:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xt)?xt:this._anyControlsHaveStatus(It)?It:gr}_anyControlsHaveStatus(A){return this._anyControls(b=>b.status===A)}_anyControlsDirty(){return this._anyControls(A=>A.dirty)}_anyControlsTouched(){return this._anyControls(A=>A.touched)}_updatePristine(A={}){this.pristine=!this._anyControlsDirty(),this._parent&&!A.onlySelf&&this._parent._updatePristine(A)}_updateTouched(A={}){this.touched=this._anyControlsTouched(),this._parent&&!A.onlySelf&&this._parent._updateTouched(A)}_registerOnCollectionChange(A){this._onCollectionChange=A}_setUpdateStrategy(A){U(A)&&null!=A.updateOn&&(this._updateOn=A.updateOn)}_parentMarkedDirty(A){return!A&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(A){return null}_assignValidators(A){this._rawValidators=Array.isArray(A)?A.slice():A,this._composedValidatorFn=function Pr(M){return Array.isArray(M)?ot(M):M||null}(this._rawValidators)}_assignAsyncValidators(A){this._rawAsyncValidators=Array.isArray(A)?A.slice():A,this._composedAsyncValidatorFn=function re(M){return Array.isArray(M)?yn(M):M||null}(this._rawAsyncValidators)}}class lt extends Ze{constructor(A,b,k){super(Wr(b),Ce(k,b)),this.controls=A,this._initObservables(),this._setUpdateStrategy(b),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(A,b){return this.controls[A]?this.controls[A]:(this.controls[A]=b,b.setParent(this),b._registerOnCollectionChange(this._onCollectionChange),b)}addControl(A,b,k={}){this.registerControl(A,b),this.updateValueAndValidity({emitEvent:k.emitEvent}),this._onCollectionChange()}removeControl(A,b={}){this.controls[A]&&this.controls[A]._registerOnCollectionChange(()=>{}),delete this.controls[A],this.updateValueAndValidity({emitEvent:b.emitEvent}),this._onCollectionChange()}setControl(A,b,k={}){this.controls[A]&&this.controls[A]._registerOnCollectionChange(()=>{}),delete this.controls[A],b&&this.registerControl(A,b),this.updateValueAndValidity({emitEvent:k.emitEvent}),this._onCollectionChange()}contains(A){return this.controls.hasOwnProperty(A)&&this.controls[A].enabled}setValue(A,b={}){(function ve(M,A,b){M._forEachChild((k,K)=>{if(void 0===b[K])throw new c.wOt(1002,"")})})(this,0,A),Object.keys(A).forEach(k=>{(function Y(M,A,b){const k=M.controls;if(!(A?Object.keys(k):k).length)throw new c.wOt(1e3,"");if(!k[b])throw new c.wOt(1001,"")})(this,!0,k),this.controls[k].setValue(A[k],{onlySelf:!0,emitEvent:b.emitEvent})}),this.updateValueAndValidity(b)}patchValue(A,b={}){null!=A&&(Object.keys(A).forEach(k=>{const K=this.controls[k];K&&K.patchValue(A[k],{onlySelf:!0,emitEvent:b.emitEvent})}),this.updateValueAndValidity(b))}reset(A={},b={}){this._forEachChild((k,K)=>{k.reset(A?A[K]:null,{onlySelf:!0,emitEvent:b.emitEvent})}),this._updatePristine(b),this._updateTouched(b),this.updateValueAndValidity(b)}getRawValue(){return this._reduceChildren({},(A,b,k)=>(A[k]=b.getRawValue(),A))}_syncPendingControls(){let A=this._reduceChildren(!1,(b,k)=>!!k._syncPendingControls()||b);return A&&this.updateValueAndValidity({onlySelf:!0}),A}_forEachChild(A){Object.keys(this.controls).forEach(b=>{const k=this.controls[b];k&&A(k,b)})}_setUpControls(){this._forEachChild(A=>{A.setParent(this),A._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(A){for(const[b,k]of Object.entries(this.controls))if(this.contains(b)&&A(k))return!0;return!1}_reduceValue(){return this._reduceChildren({},(b,k,K)=>((k.enabled||this.disabled)&&(b[K]=k.value),b))}_reduceChildren(A,b){let k=A;return this._forEachChild((K,rt)=>{k=b(k,K,rt)}),k}_allControlsDisabled(){for(const A of Object.keys(this.controls))if(this.controls[A].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(A){return this.controls.hasOwnProperty(A)?this.controls[A]:null}}const Ln=new c.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Yr}),Yr="always";function z(M,A,b=Yr){je(M,A),A.valueAccessor.writeValue(M.value),(M.disabled||"always"===b)&&A.valueAccessor.setDisabledState?.(M.disabled),function ct(M,A){A.valueAccessor.registerOnChange(b=>{M._pendingValue=b,M._pendingChange=!0,M._pendingDirty=!0,"change"===M.updateOn&&Pn(M,A)})}(M,A),function jn(M,A){const b=(k,K)=>{A.valueAccessor.writeValue(k),K&&A.viewToModelUpdate(k)};M.registerOnChange(b),A._registerOnDestroy(()=>{M._unregisterOnChange(b)})}(M,A),function _t(M,A){A.valueAccessor.registerOnTouched(()=>{M._pendingTouched=!0,"blur"===M.updateOn&&M._pendingChange&&Pn(M,A),"submit"!==M.updateOn&&M.markAsTouched()})}(M,A),function $e(M,A){if(A.valueAccessor.setDisabledState){const b=k=>{A.valueAccessor.setDisabledState(k)};M.registerOnDisabledChange(b),A._registerOnDestroy(()=>{M._unregisterOnDisabledChange(b)})}}(M,A)}function _e(M,A){M.forEach(b=>{b.registerOnValidatorChange&&b.registerOnValidatorChange(A)})}function je(M,A){const b=function Gt(M){return M._rawValidators}(M);null!==A.validator?M.setValidators(pt(b,A.validator)):"function"==typeof b&&M.setValidators([b]);const k=function Lt(M){return M._rawAsyncValidators}(M);null!==A.asyncValidator?M.setAsyncValidators(pt(k,A.asyncValidator)):"function"==typeof k&&M.setAsyncValidators([k]);const K=()=>M.updateValueAndValidity();_e(A._rawValidators,K),_e(A._rawAsyncValidators,K)}function Pn(M,A){M._pendingDirty&&M.markAsDirty(),M.setValue(M._pendingValue,{emitModelToViewChange:!1}),A.viewToModelUpdate(M._pendingValue),M._pendingChange=!1}const In={provide:Re,useExisting:(0,c.Rfq)(()=>bo)},wr=(()=>Promise.resolve())();let bo=(()=>{class M extends Re{constructor(b,k,K){super(),this.callSetDisabledState=K,this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.bkB,this.form=new lt({},ot(b),yn(k))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(b){wr.then(()=>{const k=this._findContainer(b.path);b.control=k.registerControl(b.name,b.control),z(b.control,b,this.callSetDisabledState),b.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(b)})}getControl(b){return this.form.get(b.path)}removeControl(b){wr.then(()=>{const k=this._findContainer(b.path);k&&k.removeControl(b.name),this._directives.delete(b)})}addFormGroup(b){wr.then(()=>{const k=this._findContainer(b.path),K=new lt({});(function Nn(M,A){je(M,A)})(K,b),k.registerControl(b.name,K),K.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(b){wr.then(()=>{const k=this._findContainer(b.path);k&&k.removeControl(b.name)})}getFormGroup(b){return this.form.get(b.path)}updateModel(b,k){wr.then(()=>{this.form.get(b.path).setValue(k)})}setValue(b){this.control.setValue(b)}onSubmit(b){return this.submitted=!0,function eo(M,A){M._syncPendingControls(),A.forEach(b=>{const k=b.control;"submit"===k.updateOn&&k._pendingChange&&(b.viewToModelUpdate(k._pendingValue),k._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(b),"dialog"===b?.target?.method}onReset(){this.resetForm()}resetForm(b=void 0){this.form.reset(b),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(b){return b.pop(),b.length?this.form.get(b):this.form}static{this.\u0275fac=function(k){return new(k||M)(c.rXU(Be,10),c.rXU(Fe,10),c.rXU(Ln,8))}}static{this.\u0275dir=c.FsC({type:M,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(k,K){1&k&&c.bIt("submit",function(Tt){return K.onSubmit(Tt)})("reset",function(){return K.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c.Jv_([In]),c.Vt3]})}}return M})();function no(M,A){const b=M.indexOf(A);b>-1&&M.splice(b,1)}function ar(M){return"object"==typeof M&&null!==M&&2===Object.keys(M).length&&"value"in M&&"disabled"in M}const Co=class extends Ze{constructor(A=null,b,k){super(Wr(b),Ce(k,b)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(A),this._setUpdateStrategy(b),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),U(b)&&(b.nonNullable||b.initialValueIsDefault)&&(this.defaultValue=ar(A)?A.value:A)}setValue(A,b={}){this.value=this._pendingValue=A,this._onChange.length&&!1!==b.emitModelToViewChange&&this._onChange.forEach(k=>k(this.value,!1!==b.emitViewToModelChange)),this.updateValueAndValidity(b)}patchValue(A,b={}){this.setValue(A,b)}reset(A=this.defaultValue,b={}){this._applyFormState(A),this.markAsPristine(b),this.markAsUntouched(b),this.setValue(this.value,b),this._pendingChange=!1}_updateValue(){}_anyControls(A){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(A){this._onChange.push(A)}_unregisterOnChange(A){no(this._onChange,A)}registerOnDisabledChange(A){this._onDisabledChange.push(A)}_unregisterOnDisabledChange(A){no(this._onDisabledChange,A)}_forEachChild(A){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(A){ar(A)?(this.value=this._pendingValue=A.value,A.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=A}},Es={provide:Kn,useExisting:(0,c.Rfq)(()=>ps)},Bs=(()=>Promise.resolve())();let ps=(()=>{class M extends Kn{constructor(b,k,K,rt,Tt,qn){super(),this._changeDetectorRef=Tt,this.callSetDisabledState=qn,this.control=new Co,this._registered=!1,this.name="",this.update=new c.bkB,this._parent=b,this._setValidators(k),this._setAsyncValidators(K),this.valueAccessor=function sr(M,A){if(!A)return null;let b,k,K;return Array.isArray(A),A.forEach(rt=>{rt.constructor===Ve?b=rt:function Dn(M){return Object.getPrototypeOf(M.constructor)===Ie}(rt)?k=rt:K=rt}),K||k||b||null}(0,rt)}ngOnChanges(b){if(this._checkForErrors(),!this._registered||"name"in b){if(this._registered&&(this._checkName(),this.formDirective)){const k=b.name.previousValue;this.formDirective.removeControl({name:k,path:this._getPath(k)})}this._setUpControl()}"isDisabled"in b&&this._updateDisabled(b),function Pt(M,A){if(!M.hasOwnProperty("model"))return!1;const b=M.model;return!!b.isFirstChange()||!Object.is(A,b.currentValue)}(b,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(b){this.viewModel=b,this.update.emit(b)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){z(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(b){Bs.then(()=>{this.control.setValue(b,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(b){const k=b.isDisabled.currentValue,K=0!==k&&(0,c.L39)(k);Bs.then(()=>{K&&!this.control.disabled?this.control.disable():!K&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(b){return this._parent?function te(M,A){return[...A.path,M]}(b,this._parent):[b]}static{this.\u0275fac=function(k){return new(k||M)(c.rXU(Re,9),c.rXU(Be,10),c.rXU(Fe,10),c.rXU(Oe,10),c.rXU(c.gRc,8),c.rXU(Ln,8))}}static{this.\u0275dir=c.FsC({type:M,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c.Jv_([Es]),c.Vt3,c.OA$]})}}return M})(),Ss=(()=>{class M{static{this.\u0275fac=function(k){return new(k||M)}}static{this.\u0275dir=c.FsC({type:M,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return M})(),Yo=(()=>{class M{static{this.\u0275fac=function(k){return new(k||M)}}static{this.\u0275mod=c.$C({type:M})}static{this.\u0275inj=c.G2t({})}}return M})();const Er={provide:Oe,useExisting:(0,c.Rfq)(()=>hn),multi:!0};function Bo(M,A){return null==M?`${A}`:(A&&"object"==typeof A&&(A="Object"),`${M}: ${A}`.slice(0,50))}let hn=(()=>{class M extends Ie{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(b){this._compareWith=b}writeValue(b){this.value=b;const K=Bo(this._getOptionId(b),b);this.setProperty("value",K)}registerOnChange(b){this.onChange=k=>{this.value=this._getOptionValue(k),b(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(b){for(const k of this._optionMap.keys())if(this._compareWith(this._optionMap.get(k),b))return k;return null}_getOptionValue(b){const k=function Ho(M){return M.split(":")[0]}(b);return this._optionMap.has(k)?this._optionMap.get(k):b}static{this.\u0275fac=function(){let b;return function(K){return(b||(b=c.xGo(M)))(K||M)}}()}static{this.\u0275dir=c.FsC({type:M,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(k,K){1&k&&c.bIt("change",function(Tt){return K.onChange(Tt.target.value)})("blur",function(){return K.onTouched()})},inputs:{compareWith:"compareWith"},features:[c.Jv_([Er]),c.Vt3]})}}return M})(),Ke=(()=>{class M{constructor(b,k,K){this._element=b,this._renderer=k,this._select=K,this._select&&(this.id=this._select._registerOption())}set ngValue(b){null!=this._select&&(this._select._optionMap.set(this.id,b),this._setElementValue(Bo(this.id,b)),this._select.writeValue(this._select.value))}set value(b){this._setElementValue(b),this._select&&this._select.writeValue(this._select.value)}_setElementValue(b){this._renderer.setProperty(this._element.nativeElement,"value",b)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(k){return new(k||M)(c.rXU(c.aKT),c.rXU(c.sFG),c.rXU(hn,9))}}static{this.\u0275dir=c.FsC({type:M,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return M})();const At={provide:Oe,useExisting:(0,c.Rfq)(()=>bn),multi:!0};function an(M,A){return null==M?`${A}`:("string"==typeof A&&(A=`'${A}'`),A&&"object"==typeof A&&(A="Object"),`${M}: ${A}`.slice(0,50))}let bn=(()=>{class M extends Ie{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(b){this._compareWith=b}writeValue(b){let k;if(this.value=b,Array.isArray(b)){const K=b.map(rt=>this._getOptionId(rt));k=(rt,Tt)=>{rt._setSelected(K.indexOf(Tt.toString())>-1)}}else k=(K,rt)=>{K._setSelected(!1)};this._optionMap.forEach(k)}registerOnChange(b){this.onChange=k=>{const K=[],rt=k.selectedOptions;if(void 0!==rt){const Tt=rt;for(let qn=0;qn<Tt.length;qn++){const Xn=this._getOptionValue(Tt[qn].value);K.push(Xn)}}else{const Tt=k.options;for(let qn=0;qn<Tt.length;qn++){const br=Tt[qn];if(br.selected){const Xn=this._getOptionValue(br.value);K.push(Xn)}}}this.value=K,b(K)}}_registerOption(b){const k=(this._idCounter++).toString();return this._optionMap.set(k,b),k}_getOptionId(b){for(const k of this._optionMap.keys())if(this._compareWith(this._optionMap.get(k)._value,b))return k;return null}_getOptionValue(b){const k=function kr(M){return M.split(":")[0]}(b);return this._optionMap.has(k)?this._optionMap.get(k)._value:b}static{this.\u0275fac=function(){let b;return function(K){return(b||(b=c.xGo(M)))(K||M)}}()}static{this.\u0275dir=c.FsC({type:M,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(k,K){1&k&&c.bIt("change",function(Tt){return K.onChange(Tt.target)})("blur",function(){return K.onTouched()})},inputs:{compareWith:"compareWith"},features:[c.Jv_([At]),c.Vt3]})}}return M})(),lo=(()=>{class M{constructor(b,k,K){this._element=b,this._renderer=k,this._select=K,this._select&&(this.id=this._select._registerOption(this))}set ngValue(b){null!=this._select&&(this._value=b,this._setElementValue(an(this.id,b)),this._select.writeValue(this._select.value))}set value(b){this._select?(this._value=b,this._setElementValue(an(this.id,b)),this._select.writeValue(this._select.value)):this._setElementValue(b)}_setElementValue(b){this._renderer.setProperty(this._element.nativeElement,"value",b)}_setSelected(b){this._renderer.setProperty(this._element.nativeElement,"selected",b)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(k){return new(k||M)(c.rXU(c.aKT),c.rXU(c.sFG),c.rXU(bn,9))}}static{this.\u0275dir=c.FsC({type:M,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return M})();let Ye=(()=>{class M{constructor(){this._validator=dt}ngOnChanges(b){if(this.inputName in b){const k=this.normalizeInput(b[this.inputName].currentValue);this._enabled=this.enabled(k),this._validator=this._enabled?this.createValidator(k):dt,this._onChange&&this._onChange()}}validate(b){return this._validator(b)}registerOnValidatorChange(b){this._onChange=b}enabled(b){return null!=b}static{this.\u0275fac=function(k){return new(k||M)}}static{this.\u0275dir=c.FsC({type:M,features:[c.OA$]})}}return M})();const Xt={provide:Be,useExisting:(0,c.Rfq)(()=>lr),multi:!0};let lr=(()=>{class M extends Ye{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.L39,this.createValidator=b=>Cn}enabled(b){return b}static{this.\u0275fac=function(){let b;return function(K){return(b||(b=c.xGo(M)))(K||M)}}()}static{this.\u0275dir=c.FsC({type:M,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(k,K){2&k&&c.BMQ("required",K._enabled?"":null)},inputs:{required:"required"},features:[c.Jv_([Xt]),c.Vt3]})}}return M})();const po={provide:Be,useExisting:(0,c.Rfq)(()=>Fr),multi:!0};let Fr=(()=>{class M extends Ye{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=b=>function En(M){return"number"==typeof M?M:parseInt(M,10)}(b),this.createValidator=b=>function Jn(M){return A=>function ze(M){return null!=M&&"number"==typeof M.length}(A.value)&&A.value.length>M?{maxlength:{requiredLength:M,actualLength:A.value.length}}:null}(b)}static{this.\u0275fac=function(){let b;return function(K){return(b||(b=c.xGo(M)))(K||M)}}()}static{this.\u0275dir=c.FsC({type:M,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(k,K){2&k&&c.BMQ("maxlength",K._enabled?K.maxlength:null)},inputs:{maxlength:"maxlength"},features:[c.Jv_([po]),c.Vt3]})}}return M})(),go=(()=>{class M{static{this.\u0275fac=function(k){return new(k||M)}}static{this.\u0275mod=c.$C({type:M})}static{this.\u0275inj=c.G2t({imports:[Yo]})}}return M})(),cr=(()=>{class M{static withConfig(b){return{ngModule:M,providers:[{provide:Ln,useValue:b.callSetDisabledState??Yr}]}}static{this.\u0275fac=function(k){return new(k||M)}}static{this.\u0275mod=c.$C({type:M})}static{this.\u0275inj=c.G2t({imports:[go]})}}return M})()},345:(Je,oe,O)=>{"use strict";O.d(oe,{$x:()=>xt,B8:()=>he,W8:()=>Jt,hE:()=>Br});var c=O(540),Q=O(177),w=O(1626);class ce extends Q.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class q extends ce{static makeCurrent(){(0,Q.ZD)(new q)}onAndCancel(re,U,Y){return re.addEventListener(U,Y),()=>{re.removeEventListener(U,Y)}}dispatchEvent(re,U){re.dispatchEvent(U)}remove(re){re.parentNode&&re.parentNode.removeChild(re)}createElement(re,U){return(U=U||this.getDefaultDocument()).createElement(re)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(re){return re.nodeType===Node.ELEMENT_NODE}isShadowRoot(re){return re instanceof DocumentFragment}getGlobalEventTarget(re,U){return"window"===U?window:"document"===U?re:"body"===U?re.body:null}getBaseHref(re){const U=function H(){return L=L||document.querySelector("base"),L?L.getAttribute("href"):null}();return null==U?null:function ue(Ce){ne=ne||document.createElement("a"),ne.setAttribute("href",Ce);const re=ne.pathname;return"/"===re.charAt(0)?re:`/${re}`}(U)}resetBaseElement(){L=null}getUserAgent(){return window.navigator.userAgent}getCookie(re){return(0,Q._b)(document.cookie,re)}}let ne,L=null,Z=(()=>{class Ce{build(){return new XMLHttpRequest}static{this.\u0275fac=function(Y){return new(Y||Ce)}}static{this.\u0275prov=c.jDH({token:Ce,factory:Ce.\u0275fac})}}return Ce})();const me=new c.nKC("EventManagerPlugins");let He=(()=>{class Ce{constructor(U,Y){this._zone=Y,this._eventNameToPlugin=new Map,U.forEach(ve=>{ve.manager=this}),this._plugins=U.slice().reverse()}addEventListener(U,Y,ve){return this._findPluginFor(Y).addEventListener(U,Y,ve)}getZone(){return this._zone}_findPluginFor(U){let Y=this._eventNameToPlugin.get(U);if(Y)return Y;if(Y=this._plugins.find(Ze=>Ze.supports(U)),!Y)throw new c.wOt(5101,!1);return this._eventNameToPlugin.set(U,Y),Y}static{this.\u0275fac=function(Y){return new(Y||Ce)(c.KVO(me),c.KVO(c.SKi))}}static{this.\u0275prov=c.jDH({token:Ce,factory:Ce.\u0275fac})}}return Ce})();class Ie{constructor(re){this._doc=re}}const Oe="ng-app-id";let wt=(()=>{class Ce{constructor(U,Y,ve,Ze={}){this.doc=U,this.appId=Y,this.nonce=ve,this.platformId=Ze,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,Q.Vy)(Ze),this.resetHostNodes()}addStyles(U){for(const Y of U)1===this.changeUsageCount(Y,1)&&this.onStyleAdded(Y)}removeStyles(U){for(const Y of U)this.changeUsageCount(Y,-1)<=0&&this.onStyleRemoved(Y)}ngOnDestroy(){const U=this.styleNodesInDOM;U&&(U.forEach(Y=>Y.remove()),U.clear());for(const Y of this.getAllStyles())this.onStyleRemoved(Y);this.resetHostNodes()}addHost(U){this.hostNodes.add(U);for(const Y of this.getAllStyles())this.addStyleToHost(U,Y)}removeHost(U){this.hostNodes.delete(U)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(U){for(const Y of this.hostNodes)this.addStyleToHost(Y,U)}onStyleRemoved(U){const Y=this.styleRef;Y.get(U)?.elements?.forEach(ve=>ve.remove()),Y.delete(U)}collectServerRenderedStyles(){const U=this.doc.head?.querySelectorAll(`style[${Oe}="${this.appId}"]`);if(U?.length){const Y=new Map;return U.forEach(ve=>{null!=ve.textContent&&Y.set(ve.textContent,ve)}),Y}return null}changeUsageCount(U,Y){const ve=this.styleRef;if(ve.has(U)){const Ze=ve.get(U);return Ze.usage+=Y,Ze.usage}return ve.set(U,{usage:Y,elements:[]}),Y}getStyleElement(U,Y){const ve=this.styleNodesInDOM,Ze=ve?.get(Y);if(Ze?.parentNode===U)return ve.delete(Y),Ze.removeAttribute(Oe),Ze;{const lt=this.doc.createElement("style");return this.nonce&&lt.setAttribute("nonce",this.nonce),lt.textContent=Y,this.platformIsServer&&lt.setAttribute(Oe,this.appId),lt}}addStyleToHost(U,Y){const ve=this.getStyleElement(U,Y);U.appendChild(ve);const Ze=this.styleRef,lt=Ze.get(Y)?.elements;lt?lt.push(ve):Ze.set(Y,{elements:[ve],usage:1})}resetHostNodes(){const U=this.hostNodes;U.clear(),U.add(this.doc.head)}static{this.\u0275fac=function(Y){return new(Y||Ce)(c.KVO(Q.qQ),c.KVO(c.sZ2),c.KVO(c.BIS,8),c.KVO(c.Agw))}}static{this.\u0275prov=c.jDH({token:Ce,factory:Ce.\u0275fac})}}return Ce})();const Qe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},at=/%COMP%/g,G="%COMP%",Ne=`_nghost-${G}`,Ve=`_ngcontent-${G}`,ze=new c.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Le(Ce,re){return re.map(U=>U.replace(at,Ce))}let ft=(()=>{class Ce{constructor(U,Y,ve,Ze,lt,jt,Rt,Qt=null){this.eventManager=U,this.sharedStylesHost=Y,this.appId=ve,this.removeStylesOnCompDestroy=Ze,this.doc=lt,this.platformId=jt,this.ngZone=Rt,this.nonce=Qt,this.rendererByCompId=new Map,this.platformIsServer=(0,Q.Vy)(jt),this.defaultRenderer=new Ae(U,lt,Rt,this.platformIsServer)}createRenderer(U,Y){if(!U||!Y)return this.defaultRenderer;this.platformIsServer&&Y.encapsulation===c.gXe.ShadowDom&&(Y={...Y,encapsulation:c.gXe.Emulated});const ve=this.getOrCreateRenderer(U,Y);return ve instanceof Jn?ve.applyToHost(U):ve instanceof Ge&&ve.applyStyles(),ve}getOrCreateRenderer(U,Y){const ve=this.rendererByCompId;let Ze=ve.get(Y.id);if(!Ze){const lt=this.doc,jt=this.ngZone,Rt=this.eventManager,Qt=this.sharedStylesHost,mr=this.removeStylesOnCompDestroy,Ln=this.platformIsServer;switch(Y.encapsulation){case c.gXe.Emulated:Ze=new Jn(Rt,Qt,Y,this.appId,mr,lt,jt,Ln);break;case c.gXe.ShadowDom:return new vn(Rt,Qt,U,Y,lt,jt,this.nonce,Ln);default:Ze=new Ge(Rt,Qt,Y,mr,lt,jt,Ln)}ve.set(Y.id,Ze)}return Ze}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(Y){return new(Y||Ce)(c.KVO(He),c.KVO(wt),c.KVO(c.sZ2),c.KVO(ze),c.KVO(Q.qQ),c.KVO(c.Agw),c.KVO(c.SKi),c.KVO(c.BIS))}}static{this.\u0275prov=c.jDH({token:Ce,factory:Ce.\u0275fac})}}return Ce})();class Ae{constructor(re,U,Y,ve){this.eventManager=re,this.doc=U,this.ngZone=Y,this.platformIsServer=ve,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(re,U){return U?this.doc.createElementNS(Qe[U]||U,re):this.doc.createElement(re)}createComment(re){return this.doc.createComment(re)}createText(re){return this.doc.createTextNode(re)}appendChild(re,U){(Ft(re)?re.content:re).appendChild(U)}insertBefore(re,U,Y){re&&(Ft(re)?re.content:re).insertBefore(U,Y)}removeChild(re,U){re&&re.removeChild(U)}selectRootElement(re,U){let Y="string"==typeof re?this.doc.querySelector(re):re;if(!Y)throw new c.wOt(-5104,!1);return U||(Y.textContent=""),Y}parentNode(re){return re.parentNode}nextSibling(re){return re.nextSibling}setAttribute(re,U,Y,ve){if(ve){U=ve+":"+U;const Ze=Qe[ve];Ze?re.setAttributeNS(Ze,U,Y):re.setAttribute(U,Y)}else re.setAttribute(U,Y)}removeAttribute(re,U,Y){if(Y){const ve=Qe[Y];ve?re.removeAttributeNS(ve,U):re.removeAttribute(`${Y}:${U}`)}else re.removeAttribute(U)}addClass(re,U){re.classList.add(U)}removeClass(re,U){re.classList.remove(U)}setStyle(re,U,Y,ve){ve&(c.czy.DashCase|c.czy.Important)?re.style.setProperty(U,Y,ve&c.czy.Important?"important":""):re.style[U]=Y}removeStyle(re,U,Y){Y&c.czy.DashCase?re.style.removeProperty(U):re.style[U]=""}setProperty(re,U,Y){re[U]=Y}setValue(re,U){re.nodeValue=U}listen(re,U,Y){if("string"==typeof re&&!(re=(0,Q.QT)().getGlobalEventTarget(this.doc,re)))throw new Error(`Unsupported event target ${re} for event ${U}`);return this.eventManager.addEventListener(re,U,this.decoratePreventDefault(Y))}decoratePreventDefault(re){return U=>{if("__ngUnwrap__"===U)return re;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>re(U)):re(U))&&U.preventDefault()}}}function Ft(Ce){return"TEMPLATE"===Ce.tagName&&void 0!==Ce.content}class vn extends Ae{constructor(re,U,Y,ve,Ze,lt,jt,Rt){super(re,Ze,lt,Rt),this.sharedStylesHost=U,this.hostEl=Y,this.shadowRoot=Y.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Qt=Le(ve.id,ve.styles);for(const mr of Qt){const Ln=document.createElement("style");jt&&Ln.setAttribute("nonce",jt),Ln.textContent=mr,this.shadowRoot.appendChild(Ln)}}nodeOrShadowRoot(re){return re===this.hostEl?this.shadowRoot:re}appendChild(re,U){return super.appendChild(this.nodeOrShadowRoot(re),U)}insertBefore(re,U,Y){return super.insertBefore(this.nodeOrShadowRoot(re),U,Y)}removeChild(re,U){return super.removeChild(this.nodeOrShadowRoot(re),U)}parentNode(re){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(re)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ge extends Ae{constructor(re,U,Y,ve,Ze,lt,jt,Rt){super(re,Ze,lt,jt),this.sharedStylesHost=U,this.removeStylesOnCompDestroy=ve,this.styles=Rt?Le(Rt,Y.styles):Y.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Jn extends Ge{constructor(re,U,Y,ve,Ze,lt,jt,Rt){const Qt=ve+"-"+Y.id;super(re,U,Y,Ze,lt,jt,Rt,Qt),this.contentAttr=function Be(Ce){return Ve.replace(at,Ce)}(Qt),this.hostAttr=function Fe(Ce){return Ne.replace(at,Ce)}(Qt)}applyToHost(re){this.applyStyles(),this.setAttribute(re,this.hostAttr,"")}createElement(re,U){const Y=super.createElement(re,U);return super.setAttribute(Y,this.contentAttr,""),Y}}let et=(()=>{class Ce extends Ie{constructor(U){super(U)}supports(U){return!0}addEventListener(U,Y,ve){return U.addEventListener(Y,ve,!1),()=>this.removeEventListener(U,Y,ve)}removeEventListener(U,Y,ve){return U.removeEventListener(Y,ve)}static{this.\u0275fac=function(Y){return new(Y||Ce)(c.KVO(Q.qQ))}}static{this.\u0275prov=c.jDH({token:Ce,factory:Ce.\u0275fac})}}return Ce})();const dt=["alt","control","meta","shift"],Rn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},se={alt:Ce=>Ce.altKey,control:Ce=>Ce.ctrlKey,meta:Ce=>Ce.metaKey,shift:Ce=>Ce.shiftKey};let ae=(()=>{class Ce extends Ie{constructor(U){super(U)}supports(U){return null!=Ce.parseEventName(U)}addEventListener(U,Y,ve){const Ze=Ce.parseEventName(Y),lt=Ce.eventCallback(Ze.fullKey,ve,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,Q.QT)().onAndCancel(U,Ze.domEventName,lt))}static parseEventName(U){const Y=U.toLowerCase().split("."),ve=Y.shift();if(0===Y.length||"keydown"!==ve&&"keyup"!==ve)return null;const Ze=Ce._normalizeKey(Y.pop());let lt="",jt=Y.indexOf("code");if(jt>-1&&(Y.splice(jt,1),lt="code."),dt.forEach(Qt=>{const mr=Y.indexOf(Qt);mr>-1&&(Y.splice(mr,1),lt+=Qt+".")}),lt+=Ze,0!=Y.length||0===Ze.length)return null;const Rt={};return Rt.domEventName=ve,Rt.fullKey=lt,Rt}static matchEventFullKeyCode(U,Y){let ve=Rn[U.key]||U.key,Ze="";return Y.indexOf("code.")>-1&&(ve=U.code,Ze="code."),!(null==ve||!ve)&&(ve=ve.toLowerCase()," "===ve?ve="space":"."===ve&&(ve="dot"),dt.forEach(lt=>{lt!==ve&&(0,se[lt])(U)&&(Ze+=lt+".")}),Ze+=ve,Ze===Y)}static eventCallback(U,Y,ve){return Ze=>{Ce.matchEventFullKeyCode(Ze,U)&&ve.runGuarded(()=>Y(Ze))}}static _normalizeKey(U){return"esc"===U?"escape":U}static{this.\u0275fac=function(Y){return new(Y||Ce)(c.KVO(Q.qQ))}}static{this.\u0275prov=c.jDH({token:Ce,factory:Ce.\u0275fac})}}return Ce})();function he(Ce,re){return(0,c.TL3)({rootComponent:Ce,...ke(re)})}function ke(Ce){return{appProviders:[...vt,...Ce?.providers??[]],platformProviders:pt}}const pt=[{provide:c.Agw,useValue:Q.AJ},{provide:c.PLl,useValue:function ot(){q.makeCurrent()},multi:!0},{provide:Q.qQ,useFactory:function yn(){return(0,c.TL$)(document),document},deps:[]}],vt=[{provide:c.H8p,useValue:"root"},{provide:c.zcH,useFactory:function Mt(){return new c.zcH},deps:[]},{provide:me,useClass:et,multi:!0,deps:[Q.qQ,c.SKi,c.Agw]},{provide:me,useClass:ae,multi:!0,deps:[Q.qQ]},ft,wt,He,{provide:c._9s,useExisting:ft},{provide:Q.N0,useClass:Z,deps:[]},[]];let Jt=(()=>{class Ce{constructor(U){this._doc=U,this._dom=(0,Q.QT)()}addTag(U,Y=!1){return U?this._getOrCreateElement(U,Y):null}addTags(U,Y=!1){return U?U.reduce((ve,Ze)=>(Ze&&ve.push(this._getOrCreateElement(Ze,Y)),ve),[]):[]}getTag(U){return U&&this._doc.querySelector(`meta[${U}]`)||null}getTags(U){if(!U)return[];const Y=this._doc.querySelectorAll(`meta[${U}]`);return Y?[].slice.call(Y):[]}updateTag(U,Y){if(!U)return null;Y=Y||this._parseSelector(U);const ve=this.getTag(Y);return ve?this._setMetaElementAttributes(U,ve):this._getOrCreateElement(U,!0)}removeTag(U){this.removeTagElement(this.getTag(U))}removeTagElement(U){U&&this._dom.remove(U)}_getOrCreateElement(U,Y=!1){if(!Y){const lt=this._parseSelector(U),jt=this.getTags(lt).filter(Rt=>this._containsAttributes(U,Rt))[0];if(void 0!==jt)return jt}const ve=this._dom.createElement("meta");return this._setMetaElementAttributes(U,ve),this._doc.getElementsByTagName("head")[0].appendChild(ve),ve}_setMetaElementAttributes(U,Y){return Object.keys(U).forEach(ve=>Y.setAttribute(this._getMetaKeyMap(ve),U[ve])),Y}_parseSelector(U){const Y=U.name?"name":"property";return`${Y}="${U[Y]}"`}_containsAttributes(U,Y){return Object.keys(U).every(ve=>Y.getAttribute(this._getMetaKeyMap(ve))===U[ve])}_getMetaKeyMap(U){return Re[U]||U}static{this.\u0275fac=function(Y){return new(Y||Ce)(c.KVO(Q.qQ))}}static{this.\u0275prov=c.jDH({token:Ce,factory:function(Y){let ve=null;return ve=Y?new Y:function st(){return new Jt((0,c.KVO)(Q.qQ))}(),ve},providedIn:"root"})}}return Ce})();const Re={httpEquiv:"http-equiv"};let Br=(()=>{class Ce{constructor(U){this._doc=U}getTitle(){return this._doc.title}setTitle(U){this._doc.title=U||""}static{this.\u0275fac=function(Y){return new(Y||Ce)(c.KVO(Q.qQ))}}static{this.\u0275prov=c.jDH({token:Ce,factory:function(Y){let ve=null;return ve=Y?new Y:function Kn(){return new Br((0,c.KVO)(Q.qQ))}(),ve},providedIn:"root"})}}return Ce})();function xt(...Ce){const re=[],U=new Set;for(const{\u0275providers:Y,\u0275kind:ve}of Ce)U.add(ve),Y.length&&re.push(Y);return(0,c.EmA)([[],U.has(0)?[]:(0,c.M8M)(),U.has(1)?[]:(0,w.$m)(),re])}typeof window<"u"&&window},8435:(Je,oe,O)=>{"use strict";O.d(oe,{nX:()=>_n,Ix:()=>Jr,Wk:()=>Ys,wQ:()=>mn,iI:()=>Me,n3:()=>Ke,lh:()=>pi});var c=O(540),Q=O(1985),w=O(8071),q=O(6648),L=O(7673),H=O(4412),ne=O(3073),ue=O(3669),de=O(6450),Z=O(9326),me=O(8496),He=O(4360),Ie=O(5225);function Oe(...p){const y=(0,Z.lI)(p),h=(0,Z.ms)(p),{args:_,keys:S}=(0,ne.D)(p);if(0===_.length)return(0,q.H)([],y);const N=new Q.c(function wt(p,y,h=ue.D){return _=>{Qe(y,()=>{const{length:S}=p,N=new Array(S);let $=S,le=S;for(let ie=0;ie<S;ie++)Qe(y,()=>{const qe=(0,q.H)(p[ie],y);let Et=!1;qe.subscribe((0,He._)(_,gn=>{N[ie]=gn,Et||(Et=!0,le--),le||_.next(h(N.slice()))},()=>{--$||_.complete()}))},_)},_)}}(_,y,S?$=>(0,me.e)(S,$):ue.D));return h?N.pipe((0,de.I)(h)):N}function Qe(p,y,h){p?(0,Ie.N)(h,p,y):y()}var at=O(9350),G=O(8793),Ne=O(8750);function Ve(p){return new Q.c(y=>{(0,Ne.Tg)(p()).subscribe(y)})}var ye=O(1203),ze=O(8810),Be=O(983),Fe=O(8359),Le=O(9974);function ft(){return(0,Le.N)((p,y)=>{let h=null;p._refCount++;const _=(0,He._)(y,void 0,void 0,void 0,()=>{if(!p||p._refCount<=0||0<--p._refCount)return void(h=null);const S=p._connection,N=h;h=null,S&&(!N||S===N)&&S.unsubscribe(),y.unsubscribe()});p.subscribe(_),_.closed||(h=p.connect())})}class Ae extends Q.c{constructor(y,h){super(),this.source=y,this.subjectFactory=h,this._subject=null,this._refCount=0,this._connection=null,(0,Le.S)(y)&&(this.lift=y.lift)}_subscribe(y){return this.getSubject().subscribe(y)}getSubject(){const y=this._subject;return(!y||y.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:y}=this;this._subject=this._connection=null,y?.unsubscribe()}connect(){let y=this._connection;if(!y){y=this._connection=new Fe.yU;const h=this.getSubject();y.add(this.source.subscribe((0,He._)(h,void 0,()=>{this._teardown(),h.complete()},_=>{this._teardown(),h.error(_)},()=>this._teardown()))),y.closed&&(this._connection=null,y=Fe.yU.EMPTY)}return y}refCount(){return ft()(this)}}var nn=O(1413),Cn=O(177),Ft=O(6354),vn=O(5558),Ge=O(6697),Jn=O(9172),et=O(5964),dt=O(1397),Rn=O(1594),se=O(274),ae=O(8141),he=O(9437);var xe=O(9901);function ot(p){return p<=0?()=>Be.w:(0,Le.N)((y,h)=>{let _=[];y.subscribe((0,He._)(h,S=>{_.push(S),p<_.length&&_.shift()},()=>{for(const S of _)h.next(S);h.complete()},void 0,()=>{_=null}))})}var Mt=O(3774),Gt=O(980),Lt=O(5343),vt=O(6365),cn=O(345);const st="primary",Jt=Symbol("RouteTitle");class Re{constructor(y){this.params=y||{}}has(y){return Object.prototype.hasOwnProperty.call(this.params,y)}get(y){if(this.has(y)){const h=this.params[y];return Array.isArray(h)?h[0]:h}return null}getAll(y){if(this.has(y)){const h=this.params[y];return Array.isArray(h)?h:[h]}return[]}get keys(){return Object.keys(this.params)}}function Kn(p){return new Re(p)}function Br(p,y,h){const _=h.path.split("/");if(_.length>p.length||"full"===h.pathMatch&&(y.hasChildren()||_.length<p.length))return null;const S={};for(let N=0;N<_.length;N++){const $=_[N],le=p[N];if($.startsWith(":"))S[$.substring(1)]=le;else if($!==le.path)return null}return{consumed:p.slice(0,_.length),posParams:S}}function gt(p,y){const h=p?Object.keys(p):void 0,_=y?Object.keys(y):void 0;if(!h||!_||h.length!=_.length)return!1;let S;for(let N=0;N<h.length;N++)if(S=h[N],!Vt(p[S],y[S]))return!1;return!0}function Vt(p,y){if(Array.isArray(p)&&Array.isArray(y)){if(p.length!==y.length)return!1;const h=[...p].sort(),_=[...y].sort();return h.every((S,N)=>_[N]===S)}return p===y}function Ot(p){return p.length>0?p[p.length-1]:null}function Mn(p){return function ce(p){return!!p&&(p instanceof Q.c||(0,w.T)(p.lift)&&(0,w.T)(p.subscribe))}(p)?p:(0,c.jNT)(p)?(0,q.H)(Promise.resolve(p)):(0,L.of)(p)}const pr={exact:function Hr(p,y,h){if(!zr(p.segments,y.segments)||!yt(p.segments,y.segments,h)||p.numberOfChildren!==y.numberOfChildren)return!1;for(const _ in y.children)if(!p.children[_]||!Hr(p.children[_],y.children[_],h))return!1;return!0},subset:Uo},rr={exact:function xn(p,y){return gt(p,y)},subset:function en(p,y){return Object.keys(y).length<=Object.keys(p).length&&Object.keys(y).every(h=>Vt(p[h],y[h]))},ignored:()=>!0};function Cr(p,y,h){return pr[h.paths](p.root,y.root,h.matrixParams)&&rr[h.queryParams](p.queryParams,y.queryParams)&&!("exact"===h.fragment&&p.fragment!==y.fragment)}function Uo(p,y,h){return zt(p,y,y.segments,h)}function zt(p,y,h,_){if(p.segments.length>h.length){const S=p.segments.slice(0,h.length);return!(!zr(S,h)||y.hasChildren()||!yt(S,h,_))}if(p.segments.length===h.length){if(!zr(p.segments,h)||!yt(p.segments,h,_))return!1;for(const S in y.children)if(!p.children[S]||!Uo(p.children[S],y.children[S],_))return!1;return!0}{const S=h.slice(0,p.segments.length),N=h.slice(p.segments.length);return!!(zr(p.segments,S)&&yt(p.segments,S,_)&&p.children[st])&&zt(p.children[st],y,N,_)}}function yt(p,y,h){return y.every((_,S)=>rr[h](p[S].parameters,_.parameters))}class or{constructor(y=new Bt([],{}),h={},_=null){this.root=y,this.queryParams=h,this.fragment=_}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Kn(this.queryParams)),this._queryParamMap}toString(){return It.serialize(this)}}class Bt{constructor(y,h){this.segments=y,this.children=h,this.parent=null,Object.values(h).forEach(_=>_.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xt(this)}}class dn{constructor(y,h){this.path=y,this.parameters=h}get parameterMap(){return this._parameterMap||(this._parameterMap=Kn(this.parameters)),this._parameterMap}toString(){return ve(this)}}function zr(p,y){return p.length===y.length&&p.every((h,_)=>h.path===y[_].path)}let Qn=(()=>{class p{static{this.\u0275fac=function(_){return new(_||p)}}static{this.\u0275prov=c.jDH({token:p,factory:function(){return new gr},providedIn:"root"})}}return p})();class gr{parse(y){const h=new X(y);return new or(h.parseRootSegment(),h.parseQueryParams(),h.parseFragment())}serialize(y){const h=`/${er(y.root,!0)}`,_=function lt(p){const y=Object.keys(p).map(h=>{const _=p[h];return Array.isArray(_)?_.map(S=>`${Pr(h)}=${Pr(S)}`).join("&"):`${Pr(h)}=${Pr(_)}`}).filter(h=>!!h);return y.length?`?${y.join("&")}`:""}(y.queryParams);return`${h}${_}${"string"==typeof y.fragment?`#${function Ce(p){return encodeURI(p)}(y.fragment)}`:""}`}}const It=new gr;function xt(p){return p.segments.map(y=>ve(y)).join("/")}function er(p,y){if(!p.hasChildren())return xt(p);if(y){const h=p.children[st]?er(p.children[st],!1):"",_=[];return Object.entries(p.children).forEach(([S,N])=>{S!==st&&_.push(`${S}:${er(N,!1)}`)}),_.length>0?`${h}(${_.join("//")})`:h}{const h=function Wt(p,y){let h=[];return Object.entries(p.children).forEach(([_,S])=>{_===st&&(h=h.concat(y(S,_)))}),Object.entries(p.children).forEach(([_,S])=>{_!==st&&(h=h.concat(y(S,_)))}),h}(p,(_,S)=>S===st?[er(p.children[st],!1)]:[`${S}:${er(_,!1)}`]);return 1===Object.keys(p.children).length&&null!=p.children[st]?`${xt(p)}/${h[0]}`:`${xt(p)}/(${h.join("//")})`}}function Wr(p){return encodeURIComponent(p).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pr(p){return Wr(p).replace(/%3B/gi,";")}function re(p){return Wr(p).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function U(p){return decodeURIComponent(p)}function Y(p){return U(p.replace(/\+/g,"%20"))}function ve(p){return`${re(p.path)}${function Ze(p){return Object.keys(p).map(y=>`;${re(y)}=${re(p[y])}`).join("")}(p.parameters)}`}const jt=/^[^\/()?;#]+/;function Rt(p){const y=p.match(jt);return y?y[0]:""}const Qt=/^[^\/()?;=#]+/,Ln=/^[^=?&#]+/,te=/^[^&#]+/;class X{constructor(y){this.url=y,this.remaining=y}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bt([],{}):new Bt([],this.parseChildren())}parseQueryParams(){const y={};if(this.consumeOptional("?"))do{this.parseQueryParam(y)}while(this.consumeOptional("&"));return y}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const y=[];for(this.peekStartsWith("(")||y.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),y.push(this.parseSegment());let h={};this.peekStartsWith("/(")&&(this.capture("/"),h=this.parseParens(!0));let _={};return this.peekStartsWith("(")&&(_=this.parseParens(!1)),(y.length>0||Object.keys(h).length>0)&&(_[st]=new Bt(y,h)),_}parseSegment(){const y=Rt(this.remaining);if(""===y&&this.peekStartsWith(";"))throw new c.wOt(4009,!1);return this.capture(y),new dn(U(y),this.parseMatrixParams())}parseMatrixParams(){const y={};for(;this.consumeOptional(";");)this.parseParam(y);return y}parseParam(y){const h=function mr(p){const y=p.match(Qt);return y?y[0]:""}(this.remaining);if(!h)return;this.capture(h);let _="";if(this.consumeOptional("=")){const S=Rt(this.remaining);S&&(_=S,this.capture(_))}y[U(h)]=U(_)}parseQueryParam(y){const h=function Yr(p){const y=p.match(Ln);return y?y[0]:""}(this.remaining);if(!h)return;this.capture(h);let _="";if(this.consumeOptional("=")){const $=function z(p){const y=p.match(te);return y?y[0]:""}(this.remaining);$&&(_=$,this.capture(_))}const S=Y(h),N=Y(_);if(y.hasOwnProperty(S)){let $=y[S];Array.isArray($)||($=[$],y[S]=$),$.push(N)}else y[S]=N}parseParens(y){const h={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const _=Rt(this.remaining),S=this.remaining[_.length];if("/"!==S&&")"!==S&&";"!==S)throw new c.wOt(4010,!1);let N;_.indexOf(":")>-1?(N=_.slice(0,_.indexOf(":")),this.capture(N),this.capture(":")):y&&(N=st);const $=this.parseChildren();h[N]=1===Object.keys($).length?$[st]:new Bt([],$),this.consumeOptional("//")}return h}peekStartsWith(y){return this.remaining.startsWith(y)}consumeOptional(y){return!!this.peekStartsWith(y)&&(this.remaining=this.remaining.substring(y.length),!0)}capture(y){if(!this.consumeOptional(y))throw new c.wOt(4011,!1)}}function _e(p){return p.segments.length>0?new Bt([],{[st]:p}):p}function $e(p){const y={};for(const _ of Object.keys(p.children)){const N=$e(p.children[_]);if(_===st&&0===N.segments.length&&N.hasChildren())for(const[$,le]of Object.entries(N.children))y[$]=le;else(N.segments.length>0||N.hasChildren())&&(y[_]=N)}return function je(p){if(1===p.numberOfChildren&&p.children[st]){const y=p.children[st];return new Bt(p.segments.concat(y.segments),y.children)}return p}(new Bt(p.segments,y))}function Ue(p){return p instanceof or}function _t(p){let y;const S=_e(function h(N){const $={};for(const ie of N.children){const qe=h(ie);$[ie.outlet]=qe}const le=new Bt(N.url,$);return N===p&&(y=le),le}(p.root));return y??S}function Pn(p,y,h,_){let S=p;for(;S.parent;)S=S.parent;if(0===y.length)return Un(S,S,S,h,_);const N=function Kt(p){if("string"==typeof p[0]&&1===p.length&&"/"===p[0])return new Vn(!0,0,p);let y=0,h=!1;const _=p.reduce((S,N,$)=>{if("object"==typeof N&&null!=N){if(N.outlets){const le={};return Object.entries(N.outlets).forEach(([ie,qe])=>{le[ie]="string"==typeof qe?qe.split("/"):qe}),[...S,{outlets:le}]}if(N.segmentPath)return[...S,N.segmentPath]}return"string"!=typeof N?[...S,N]:0===$?(N.split("/").forEach((le,ie)=>{0==ie&&"."===le||(0==ie&&""===le?h=!0:".."===le?y++:""!=le&&S.push(le))}),S):[...S,N]},[]);return new Vn(h,y,_)}(y);if(N.toRoot())return Un(S,S,new Bt([],{}),h,_);const $=function wn(p,y,h){if(p.isAbsolute)return new qt(y,!0,0);if(!h)return new qt(y,!1,NaN);if(null===h.parent)return new qt(h,!0,0);const _=jn(p.commands[0])?0:1;return function Pt(p,y,h){let _=p,S=y,N=h;for(;N>S;){if(N-=S,_=_.parent,!_)throw new c.wOt(4005,!1);S=_.segments.length}return new qt(_,!1,S-N)}(h,h.segments.length-1+_,p.numberOfDoubleDots)}(N,S,p),le=$.processChildren?sr($.segmentGroup,$.index,N.commands):eo($.segmentGroup,$.index,N.commands);return Un(S,$.segmentGroup,le,h,_)}function jn(p){return"object"==typeof p&&null!=p&&!p.outlets&&!p.segmentPath}function Nn(p){return"object"==typeof p&&null!=p&&p.outlets}function Un(p,y,h,_,S){let $,N={};_&&Object.entries(_).forEach(([ie,qe])=>{N[ie]=Array.isArray(qe)?qe.map(Et=>`${Et}`):`${qe}`}),$=p===y?h:Zr(p,y,h);const le=_e($e($));return new or(le,N,S)}function Zr(p,y,h){const _={};return Object.entries(p.children).forEach(([S,N])=>{_[S]=N===y?h:Zr(N,y,h)}),new Bt(p.segments,_)}class Vn{constructor(y,h,_){if(this.isAbsolute=y,this.numberOfDoubleDots=h,this.commands=_,y&&_.length>0&&jn(_[0]))throw new c.wOt(4003,!1);const S=_.find(Nn);if(S&&S!==Ot(_))throw new c.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qt{constructor(y,h,_){this.segmentGroup=y,this.processChildren=h,this.index=_}}function eo(p,y,h){if(p||(p=new Bt([],{})),0===p.segments.length&&p.hasChildren())return sr(p,y,h);const _=function to(p,y,h){let _=0,S=y;const N={match:!1,pathIndex:0,commandIndex:0};for(;S<p.segments.length;){if(_>=h.length)return N;const $=p.segments[S],le=h[_];if(Nn(le))break;const ie=`${le}`,qe=_<h.length-1?h[_+1]:null;if(S>0&&void 0===ie)break;if(ie&&qe&&"object"==typeof qe&&void 0===qe.outlets){if(!bo(ie,qe,$))return N;_+=2}else{if(!bo(ie,{},$))return N;_++}S++}return{match:!0,pathIndex:S,commandIndex:_}}(p,y,h),S=h.slice(_.commandIndex);if(_.match&&_.pathIndex<p.segments.length){const N=new Bt(p.segments.slice(0,_.pathIndex),{});return N.children[st]=new Bt(p.segments.slice(_.pathIndex),p.children),sr(N,0,S)}return _.match&&0===S.length?new Bt(p.segments,{}):_.match&&!p.hasChildren()?ir(p,y,h):_.match?sr(p,0,S):ir(p,y,h)}function sr(p,y,h){if(0===h.length)return new Bt(p.segments,{});{const _=function Dn(p){return Nn(p[0])?p[0].outlets:{[st]:p}}(h),S={};if(Object.keys(_).some(N=>N!==st)&&p.children[st]&&1===p.numberOfChildren&&0===p.children[st].segments.length){const N=sr(p.children[st],y,h);return new Bt(p.segments,N.children)}return Object.entries(_).forEach(([N,$])=>{"string"==typeof $&&($=[$]),null!==$&&(S[N]=eo(p.children[N],y,$))}),Object.entries(p.children).forEach(([N,$])=>{void 0===_[N]&&(S[N]=$)}),new Bt(p.segments,S)}}function ir(p,y,h){const _=p.segments.slice(0,y);let S=0;for(;S<h.length;){const N=h[S];if(Nn(N)){const ie=In(N.outlets);return new Bt(_,ie)}if(0===S&&jn(h[0])){_.push(new dn(p.segments[y].path,wr(h[0]))),S++;continue}const $=Nn(N)?N.outlets[st]:`${N}`,le=S<h.length-1?h[S+1]:null;$&&le&&jn(le)?(_.push(new dn($,wr(le))),S+=2):(_.push(new dn($,{})),S++)}return new Bt(_,{})}function In(p){const y={};return Object.entries(p).forEach(([h,_])=>{"string"==typeof _&&(_=[_]),null!==_&&(y[h]=ir(new Bt([],{}),0,_))}),y}function wr(p){const y={};return Object.entries(p).forEach(([h,_])=>y[h]=`${_}`),y}function bo(p,y,h){return p==h.path&&gt(y,h.parameters)}const no="imperative";class ar{constructor(y,h){this.id=y,this.url=h}}class Co extends ar{constructor(y,h,_="imperative",S=null){super(y,h),this.type=0,this.navigationTrigger=_,this.restoredState=S}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Dr extends ar{constructor(y,h,_){super(y,h),this.urlAfterRedirects=_,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class wo extends ar{constructor(y,h,_,S){super(y,h),this.reason=_,this.code=S,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Do extends ar{constructor(y,h,_,S){super(y,h),this.reason=_,this.code=S,this.type=16}}class hs extends ar{constructor(y,h,_,S){super(y,h),this.error=_,this.target=S,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class vr extends ar{constructor(y,h,_,S){super(y,h),this.urlAfterRedirects=_,this.state=S,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ai extends ar{constructor(y,h,_,S){super(y,h),this.urlAfterRedirects=_,this.state=S,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fs extends ar{constructor(y,h,_,S,N){super(y,h),this.urlAfterRedirects=_,this.state=S,this.shouldActivate=N,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Nr extends ar{constructor(y,h,_,S){super(y,h),this.urlAfterRedirects=_,this.state=S,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tr extends ar{constructor(y,h,_,S){super(y,h),this.urlAfterRedirects=_,this.state=S,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Es{constructor(y){this.route=y,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Bs{constructor(y){this.route=y,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ps{constructor(y){this.snapshot=y,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ss{constructor(y){this.snapshot=y,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hs{constructor(y){this.snapshot=y,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gs{constructor(y){this.snapshot=y,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ms{constructor(y,h,_){this.routerEvent=y,this.position=h,this.anchor=_,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Is{}class Yo{constructor(y){this.url=y}}class Eo{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Zo,this.attachRef=null}}let Zo=(()=>{class p{constructor(){this.contexts=new Map}onChildOutletCreated(h,_){const S=this.getOrCreateContext(h);S.outlet=_,this.contexts.set(h,S)}onChildOutletDestroyed(h){const _=this.getContext(h);_&&(_.outlet=null,_.attachRef=null)}onOutletDeactivated(){const h=this.contexts;return this.contexts=new Map,h}onOutletReAttached(h){this.contexts=h}getOrCreateContext(h){let _=this.getContext(h);return _||(_=new Eo,this.contexts.set(h,_)),_}getContext(h){return this.contexts.get(h)||null}static{this.\u0275fac=function(_){return new(_||p)}}static{this.\u0275prov=c.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();class ms{constructor(y){this._root=y}get root(){return this._root.value}parent(y){const h=this.pathFromRoot(y);return h.length>1?h[h.length-2]:null}children(y){const h=So(y,this._root);return h?h.children.map(_=>_.value):[]}firstChild(y){const h=So(y,this._root);return h&&h.children.length>0?h.children[0].value:null}siblings(y){const h=vs(y,this._root);return h.length<2?[]:h[h.length-2].children.map(S=>S.value).filter(S=>S!==y)}pathFromRoot(y){return vs(y,this._root).map(h=>h.value)}}function So(p,y){if(p===y.value)return y;for(const h of y.children){const _=So(p,h);if(_)return _}return null}function vs(p,y){if(p===y.value)return[y];for(const h of y.children){const _=vs(p,h);if(_.length)return _.unshift(y),_}return[]}class yr{constructor(y,h){this.value=y,this.children=h}toString(){return`TreeNode(${this.value})`}}function ao(p){const y={};return p&&p.children.forEach(h=>y[h.value.outlet]=h),y}class Vo extends ms{constructor(y,h){super(y),this.snapshot=h,Er(this,y)}toString(){return this.snapshot.toString()}}function Ht(p,y){const h=function An(p,y){const $=new $o([],{},{},"",{},st,y,null,{});return new Mo("",new yr($,[]))}(0,y),_=new H.t([new dn("",{})]),S=new H.t({}),N=new H.t({}),$=new H.t({}),le=new H.t(""),ie=new _n(_,S,$,le,N,st,y,h.root);return ie.snapshot=h.root,new Vo(new yr(ie,[]),h)}class _n{constructor(y,h,_,S,N,$,le,ie){this.urlSubject=y,this.paramsSubject=h,this.queryParamsSubject=_,this.fragmentSubject=S,this.dataSubject=N,this.outlet=$,this.component=le,this._futureSnapshot=ie,this.title=this.dataSubject?.pipe((0,Ft.T)(qe=>qe[Jt]))??(0,L.of)(void 0),this.url=y,this.params=h,this.queryParams=_,this.fragment=S,this.data=N}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ft.T)(y=>Kn(y)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ft.T)(y=>Kn(y)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function uo(p,y="emptyOnly"){const h=p.pathFromRoot;let _=0;if("always"!==y)for(_=h.length-1;_>=1;){const S=h[_],N=h[_-1];if(S.routeConfig&&""===S.routeConfig.path)_--;else{if(N.component)break;_--}}return function ur(p){return p.reduce((y,h)=>({params:{...y.params,...h.params},data:{...y.data,...h.data},resolve:{...h.data,...y.resolve,...h.routeConfig?.data,...h._resolvedData}}),{params:{},data:{},resolve:{}})}(h.slice(_))}class $o{get title(){return this.data?.[Jt]}constructor(y,h,_,S,N,$,le,ie,qe){this.url=y,this.params=h,this.queryParams=_,this.fragment=S,this.data=N,this.outlet=$,this.component=le,this.routeConfig=ie,this._resolve=qe}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Kn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Kn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(_=>_.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Mo extends ms{constructor(y,h){super(h),this.url=y,Er(this,h)}toString(){return Bo(this._root)}}function Er(p,y){y.value._routerState=p,y.children.forEach(h=>Er(p,h))}function Bo(p){const y=p.children.length>0?` { ${p.children.map(Bo).join(", ")} } `:"";return`${p.value}${y}`}function Ho(p){if(p.snapshot){const y=p.snapshot,h=p._futureSnapshot;p.snapshot=h,gt(y.queryParams,h.queryParams)||p.queryParamsSubject.next(h.queryParams),y.fragment!==h.fragment&&p.fragmentSubject.next(h.fragment),gt(y.params,h.params)||p.paramsSubject.next(h.params),function Qo(p,y){if(p.length!==y.length)return!1;for(let h=0;h<p.length;++h)if(!gt(p[h],y[h]))return!1;return!0}(y.url,h.url)||p.urlSubject.next(h.url),gt(y.data,h.data)||p.dataSubject.next(h.data)}else p.snapshot=p._futureSnapshot,p.dataSubject.next(p._futureSnapshot.data)}function hn(p,y){const h=gt(p.params,y.params)&&function Gr(p,y){return zr(p,y)&&p.every((h,_)=>gt(h.parameters,y[_].parameters))}(p.url,y.url);return h&&!(!p.parent!=!y.parent)&&(!p.parent||hn(p.parent,y.parent))}let Ke=(()=>{class p{constructor(){this.activated=null,this._activatedRoute=null,this.name=st,this.activateEvents=new c.bkB,this.deactivateEvents=new c.bkB,this.attachEvents=new c.bkB,this.detachEvents=new c.bkB,this.parentContexts=(0,c.WQX)(Zo),this.location=(0,c.WQX)(c.c1b),this.changeDetector=(0,c.WQX)(c.gRc),this.environmentInjector=(0,c.WQX)(c.uvJ),this.inputBinder=(0,c.WQX)(an,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(h){if(h.name){const{firstChange:_,previousValue:S}=h.name;if(_)return;this.isTrackedInParentContexts(S)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(S)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(h){return this.parentContexts.getContext(h)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const h=this.parentContexts.getContext(this.name);h?.route&&(h.attachRef?this.attach(h.attachRef,h.route):this.activateWith(h.route,h.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.wOt(4012,!1);this.location.detach();const h=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(h.instance),h}attach(h,_){this.activated=h,this._activatedRoute=_,this.location.insert(h.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(h.instance)}deactivate(){if(this.activated){const h=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(h)}}activateWith(h,_){if(this.isActivated)throw new c.wOt(4013,!1);this._activatedRoute=h;const S=this.location,$=h.snapshot.component,le=this.parentContexts.getOrCreateContext(this.name).children,ie=new At(h,le,S.injector);this.activated=S.createComponent($,{index:S.length,injector:ie,environmentInjector:_??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(_){return new(_||p)}}static{this.\u0275dir=c.FsC({type:p,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.OA$]})}}return p})();class At{constructor(y,h,_){this.route=y,this.childContexts=h,this.parent=_}get(y,h){return y===_n?this.route:y===Zo?this.childContexts:this.parent.get(y,h)}}const an=new c.nKC("");let kr=(()=>{class p{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(h){this.unsubscribeFromRouteData(h),this.subscribeToRouteData(h)}unsubscribeFromRouteData(h){this.outletDataSubscriptions.get(h)?.unsubscribe(),this.outletDataSubscriptions.delete(h)}subscribeToRouteData(h){const{activatedRoute:_}=h,S=Oe([_.queryParams,_.params,_.data]).pipe((0,vn.n)(([N,$,le],ie)=>(le={...N,...$,...le},0===ie?(0,L.of)(le):Promise.resolve(le)))).subscribe(N=>{if(!h.isActivated||!h.activatedComponentRef||h.activatedRoute!==_||null===_.component)return void this.unsubscribeFromRouteData(h);const $=(0,c.HJs)(_.component);if($)for(const{templateName:le}of $.inputs)h.activatedComponentRef.setInput(le,N[le]);else this.unsubscribeFromRouteData(h)});this.outletDataSubscriptions.set(h,S)}static{this.\u0275fac=function(_){return new(_||p)}}static{this.\u0275prov=c.jDH({token:p,factory:p.\u0275fac})}}return p})();function bn(p,y,h){if(h&&p.shouldReuseRoute(y.value,h.value.snapshot)){const _=h.value;_._futureSnapshot=y.value;const S=function lo(p,y,h){return y.children.map(_=>{for(const S of h.children)if(p.shouldReuseRoute(_.value,S.value.snapshot))return bn(p,_,S);return bn(p,_)})}(p,y,h);return new yr(_,S)}{if(p.shouldAttach(y.value)){const N=p.retrieve(y.value);if(null!==N){const $=N.route;return $.value._futureSnapshot=y.value,$.children=y.children.map(le=>bn(p,le)),$}}const _=function En(p){return new _n(new H.t(p.url),new H.t(p.params),new H.t(p.queryParams),new H.t(p.fragment),new H.t(p.data),p.outlet,p.component,p)}(y.value),S=y.children.map(N=>bn(p,N));return new yr(_,S)}}const Yn="ngNavigationCancelingError";function Ye(p,y){const{redirectTo:h,navigationBehaviorOptions:_}=Ue(y)?{redirectTo:y,navigationBehaviorOptions:void 0}:y,S=bt(!1,0,y);return S.url=h,S.navigationBehaviorOptions=_,S}function bt(p,y,h){const _=new Error("NavigationCancelingError: "+(p||""));return _[Yn]=!0,_.cancellationCode=y,h&&(_.url=h),_}function Kr(p){return p&&p[Yn]}let Zn=(()=>{class p{static{this.\u0275fac=function(_){return new(_||p)}}static{this.\u0275cmp=c.VBU({type:p,selectors:[["ng-component"]],standalone:!0,features:[c.aNF],decls:1,vars:0,template:function(_,S){1&_&&c.nrm(0,"router-outlet")},dependencies:[Ke],encapsulation:2})}}return p})();function Fr(p){const y=p.children&&p.children.map(Fr),h=y?{...p,children:y}:{...p};return!h.component&&!h.loadComponent&&(y||h.loadChildren)&&h.outlet&&h.outlet!==st&&(h.component=Zn),h}function Dt(p){return p.outlet||st}function ro(p){if(!p)return null;if(p.routeConfig?._injector)return p.routeConfig._injector;for(let y=p.parent;y;y=y.parent){const h=y.routeConfig;if(h?._loadedInjector)return h._loadedInjector;if(h?._injector)return h._injector}return null}class go{constructor(y,h,_,S,N){this.routeReuseStrategy=y,this.futureState=h,this.currState=_,this.forwardEvent=S,this.inputBindingEnabled=N}activate(y){const h=this.futureState._root,_=this.currState?this.currState._root:null;this.deactivateChildRoutes(h,_,y),Ho(this.futureState.root),this.activateChildRoutes(h,_,y)}deactivateChildRoutes(y,h,_){const S=ao(h);y.children.forEach(N=>{const $=N.value.outlet;this.deactivateRoutes(N,S[$],_),delete S[$]}),Object.values(S).forEach(N=>{this.deactivateRouteAndItsChildren(N,_)})}deactivateRoutes(y,h,_){const S=y.value,N=h?h.value:null;if(S===N)if(S.component){const $=_.getContext(S.outlet);$&&this.deactivateChildRoutes(y,h,$.children)}else this.deactivateChildRoutes(y,h,_);else N&&this.deactivateRouteAndItsChildren(h,_)}deactivateRouteAndItsChildren(y,h){y.value.component&&this.routeReuseStrategy.shouldDetach(y.value.snapshot)?this.detachAndStoreRouteSubtree(y,h):this.deactivateRouteAndOutlet(y,h)}detachAndStoreRouteSubtree(y,h){const _=h.getContext(y.value.outlet),S=_&&y.value.component?_.children:h,N=ao(y);for(const $ of Object.keys(N))this.deactivateRouteAndItsChildren(N[$],S);if(_&&_.outlet){const $=_.outlet.detach(),le=_.children.onOutletDeactivated();this.routeReuseStrategy.store(y.value.snapshot,{componentRef:$,route:y,contexts:le})}}deactivateRouteAndOutlet(y,h){const _=h.getContext(y.value.outlet),S=_&&y.value.component?_.children:h,N=ao(y);for(const $ of Object.keys(N))this.deactivateRouteAndItsChildren(N[$],S);_&&(_.outlet&&(_.outlet.deactivate(),_.children.onOutletDeactivated()),_.attachRef=null,_.route=null)}activateChildRoutes(y,h,_){const S=ao(h);y.children.forEach(N=>{this.activateRoutes(N,S[N.value.outlet],_),this.forwardEvent(new gs(N.value.snapshot))}),y.children.length&&this.forwardEvent(new Ss(y.value.snapshot))}activateRoutes(y,h,_){const S=y.value,N=h?h.value:null;if(Ho(S),S===N)if(S.component){const $=_.getOrCreateContext(S.outlet);this.activateChildRoutes(y,h,$.children)}else this.activateChildRoutes(y,h,_);else if(S.component){const $=_.getOrCreateContext(S.outlet);if(this.routeReuseStrategy.shouldAttach(S.snapshot)){const le=this.routeReuseStrategy.retrieve(S.snapshot);this.routeReuseStrategy.store(S.snapshot,null),$.children.onOutletReAttached(le.contexts),$.attachRef=le.componentRef,$.route=le.route.value,$.outlet&&$.outlet.attach(le.componentRef,le.route.value),Ho(le.route.value),this.activateChildRoutes(y,null,$.children)}else{const le=ro(S.snapshot);$.attachRef=null,$.route=S,$.injector=le,$.outlet&&$.outlet.activateWith(S,$.injector),this.activateChildRoutes(y,null,$.children)}}else this.activateChildRoutes(y,null,_)}}class mo{constructor(y){this.path=y,this.route=this.path[this.path.length-1]}}class zo{constructor(y,h){this.component=y,this.route=h}}function $n(p,y,h){const _=p._root;return Bn(_,y?y._root:null,h,[_.value])}function kn(p,y){const h=Symbol(),_=y.get(p,h);return _===h?"function"!=typeof p||(0,c.LfX)(p)?y.get(p):p:_}function Bn(p,y,h,_,S={canDeactivateChecks:[],canActivateChecks:[]}){const N=ao(y);return p.children.forEach($=>{(function Ao(p,y,h,_,S={canDeactivateChecks:[],canActivateChecks:[]}){const N=p.value,$=y?y.value:null,le=h?h.getContext(p.value.outlet):null;if($&&N.routeConfig===$.routeConfig){const ie=function un(p,y,h){if("function"==typeof h)return h(p,y);switch(h){case"pathParamsChange":return!zr(p.url,y.url);case"pathParamsOrQueryParamsChange":return!zr(p.url,y.url)||!gt(p.queryParams,y.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hn(p,y)||!gt(p.queryParams,y.queryParams);default:return!hn(p,y)}}($,N,N.routeConfig.runGuardsAndResolvers);ie?S.canActivateChecks.push(new mo(_)):(N.data=$.data,N._resolvedData=$._resolvedData),Bn(p,y,N.component?le?le.children:null:h,_,S),ie&&le&&le.outlet&&le.outlet.isActivated&&S.canDeactivateChecks.push(new zo(le.outlet.component,$))}else $&&cr(y,le,S),S.canActivateChecks.push(new mo(_)),Bn(p,null,N.component?le?le.children:null:h,_,S)})($,N[$.value.outlet],h,_.concat([$.value]),S),delete N[$.value.outlet]}),Object.entries(N).forEach(([$,le])=>cr(le,h.getContext($),S)),S}function cr(p,y,h){const _=ao(p),S=p.value;Object.entries(_).forEach(([N,$])=>{cr($,S.component?y?y.children.getContext(N):null:y,h)}),h.canDeactivateChecks.push(new zo(S.component&&y&&y.outlet&&y.outlet.isActivated?y.outlet.component:null,S))}function dr(p){return"function"==typeof p}function br(p){return p instanceof at.G||"EmptyError"===p?.name}const Xn=Symbol("INITIAL_VALUE");function Mr(){return(0,vn.n)(p=>Oe(p.map(y=>y.pipe((0,Ge.s)(1),(0,Jn.Z)(Xn)))).pipe((0,Ft.T)(y=>{for(const h of y)if(!0!==h){if(h===Xn)return Xn;if(!1===h||h instanceof or)return h}return!0}),(0,et.p)(y=>y!==Xn),(0,Ge.s)(1)))}function Ks(p){return(0,ye.F)((0,ae.M)(y=>{if(Ue(y))throw Ye(0,y)}),(0,Ft.T)(y=>!0===y))}class Os{constructor(y){this.segmentGroup=y||null}}class Wo{constructor(y){this.urlTree=y}}function Lr(p){return(0,ze.$)(new Os(p))}function ji(p){return(0,ze.$)(new Wo(p))}class To{constructor(y,h){this.urlSerializer=y,this.urlTree=h}noMatchError(y){return new c.wOt(4002,!1)}lineralizeSegments(y,h){let _=[],S=h.root;for(;;){if(_=_.concat(S.segments),0===S.numberOfChildren)return(0,L.of)(_);if(S.numberOfChildren>1||!S.children[st])return(0,ze.$)(new c.wOt(4e3,!1));S=S.children[st]}}applyRedirectCommands(y,h,_){return this.applyRedirectCreateUrlTree(h,this.urlSerializer.parse(h),y,_)}applyRedirectCreateUrlTree(y,h,_,S){const N=this.createSegmentGroup(y,h.root,_,S);return new or(N,this.createQueryParams(h.queryParams,this.urlTree.queryParams),h.fragment)}createQueryParams(y,h){const _={};return Object.entries(y).forEach(([S,N])=>{if("string"==typeof N&&N.startsWith(":")){const le=N.substring(1);_[S]=h[le]}else _[S]=N}),_}createSegmentGroup(y,h,_,S){const N=this.createSegments(y,h.segments,_,S);let $={};return Object.entries(h.children).forEach(([le,ie])=>{$[le]=this.createSegmentGroup(y,ie,_,S)}),new Bt(N,$)}createSegments(y,h,_,S){return h.map(N=>N.path.startsWith(":")?this.findPosParam(y,N,S):this.findOrReturn(N,_))}findPosParam(y,h,_){const S=_[h.path.substring(1)];if(!S)throw new c.wOt(4001,!1);return S}findOrReturn(y,h){let _=0;for(const S of h){if(S.path===y.path)return h.splice(_),S;_++}return y}}const hr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ui(p,y,h,_,S){const N=Rs(p,y,h);return N.matched?(_=function Xt(p,y){return p.providers&&!p._injector&&(p._injector=(0,c.Ol2)(p.providers,y,`Route: ${p.path}`)),p._injector??y}(y,_),function ns(p,y,h,_){const S=y.canMatch;if(!S||0===S.length)return(0,L.of)(!0);const N=S.map($=>{const le=kn($,p);return Mn(function rt(p){return p&&dr(p.canMatch)}(le)?le.canMatch(y,h):p.runInContext(()=>le(y,h)))});return(0,L.of)(N).pipe(Mr(),Ks())}(_,y,h).pipe((0,Ft.T)($=>!0===$?N:{...hr}))):(0,L.of)(N)}function Rs(p,y,h){if(""===y.path)return"full"===y.pathMatch&&(p.hasChildren()||h.length>0)?{...hr}:{matched:!0,consumedSegments:[],remainingSegments:h,parameters:{},positionalParamSegments:{}};const S=(y.matcher||Br)(h,p,y);if(!S)return{...hr};const N={};Object.entries(S.posParams??{}).forEach(([le,ie])=>{N[le]=ie.path});const $=S.consumed.length>0?{...N,...S.consumed[S.consumed.length-1].parameters}:N;return{matched:!0,consumedSegments:S.consumed,remainingSegments:h.slice(S.consumed.length),parameters:$,positionalParamSegments:S.posParams??{}}}function vo(p,y,h,_){return h.length>0&&function Xs(p,y,h){return h.some(_=>ht(p,y,_)&&Dt(_)!==st)}(p,h,_)?{segmentGroup:new Bt(y,qs(_,new Bt(h,p.children))),slicedSegments:[]}:0===h.length&&function ci(p,y,h){return h.some(_=>ht(p,y,_))}(p,h,_)?{segmentGroup:new Bt(p.segments,li(p,0,h,_,p.children)),slicedSegments:h}:{segmentGroup:new Bt(p.segments,p.children),slicedSegments:h}}function li(p,y,h,_,S){const N={};for(const $ of _)if(ht(p,h,$)&&!S[Dt($)]){const le=new Bt([],{});N[Dt($)]=le}return{...S,...N}}function qs(p,y){const h={};h[st]=y;for(const _ of p)if(""===_.path&&Dt(_)!==st){const S=new Bt([],{});h[Dt(_)]=S}return h}function ht(p,y,h){return(!(p.hasChildren()||y.length>0)||"full"!==h.pathMatch)&&""===h.path}class Ir{constructor(y,h,_,S,N,$,le){this.injector=y,this.configLoader=h,this.rootComponentType=_,this.config=S,this.urlTree=N,this.paramsInheritanceStrategy=$,this.urlSerializer=le,this.allowRedirects=!0,this.applyRedirects=new To(this.urlSerializer,this.urlTree)}noMatchError(y){return new c.wOt(4002,!1)}recognize(){const y=vo(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,y,st).pipe((0,he.W)(h=>{if(h instanceof Wo)return this.allowRedirects=!1,this.urlTree=h.urlTree,this.match(h.urlTree);throw h instanceof Os?this.noMatchError(h):h}),(0,Ft.T)(h=>{const _=new $o([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},st,this.rootComponentType,null,{}),S=new yr(_,h),N=new Mo("",S),$=function ct(p,y,h=null,_=null){return Pn(_t(p),y,h,_)}(_,[],this.urlTree.queryParams,this.urlTree.fragment);return $.queryParams=this.urlTree.queryParams,N.url=this.urlSerializer.serialize($),this.inheritParamsAndData(N._root),{state:N,tree:$}}))}match(y){return this.processSegmentGroup(this.injector,this.config,y.root,st).pipe((0,he.W)(_=>{throw _ instanceof Os?this.noMatchError(_):_}))}inheritParamsAndData(y){const h=y.value,_=uo(h,this.paramsInheritanceStrategy);h.params=Object.freeze(_.params),h.data=Object.freeze(_.data),y.children.forEach(S=>this.inheritParamsAndData(S))}processSegmentGroup(y,h,_,S){return 0===_.segments.length&&_.hasChildren()?this.processChildren(y,h,_):this.processSegment(y,h,_,_.segments,S,!0)}processChildren(y,h,_){const S=[];for(const N of Object.keys(_.children))"primary"===N?S.unshift(N):S.push(N);return(0,q.H)(S).pipe((0,se.H)(N=>{const $=_.children[N],le=function As(p,y){const h=p.filter(_=>Dt(_)===y);return h.push(...p.filter(_=>Dt(_)!==y)),h}(h,N);return this.processSegmentGroup(y,le,$,N)}),function ke(p,y){return(0,Le.N)(function ge(p,y,h,_,S){return(N,$)=>{let le=h,ie=y,qe=0;N.subscribe((0,He._)($,Et=>{const gn=qe++;ie=le?p(ie,Et,gn):(le=!0,Et),_&&$.next(ie)},S&&(()=>{le&&$.next(ie),$.complete()})))}}(p,y,arguments.length>=2,!0))}((N,$)=>(N.push(...$),N)),(0,xe.U)(null),function yn(p,y){const h=arguments.length>=2;return _=>_.pipe(p?(0,et.p)((S,N)=>p(S,N,_)):ue.D,ot(1),h?(0,xe.U)(y):(0,Mt.v)(()=>new at.G))}(),(0,dt.Z)(N=>{if(null===N)return Lr(_);const $=rs(N);return function _s(p){p.sort((y,h)=>y.value.outlet===st?-1:h.value.outlet===st?1:y.value.outlet.localeCompare(h.value.outlet))}($),(0,L.of)($)}))}processSegment(y,h,_,S,N,$){return(0,q.H)(h).pipe((0,se.H)(le=>this.processSegmentAgainstRoute(le._injector??y,h,le,_,S,N,$).pipe((0,he.W)(ie=>{if(ie instanceof Os)return(0,L.of)(null);throw ie}))),(0,Rn.$)(le=>!!le),(0,he.W)(le=>{if(br(le))return function Di(p,y,h){return 0===y.length&&!p.children[h]}(_,S,N)?(0,L.of)([]):Lr(_);throw le}))}processSegmentAgainstRoute(y,h,_,S,N,$,le){return function Js(p,y,h,_){return!!(Dt(p)===_||_!==st&&ht(y,h,p))&&("**"===p.path||Rs(y,p,h).matched)}(_,S,N,$)?void 0===_.redirectTo?this.matchSegmentAgainstRoute(y,S,_,N,$,le):le&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(y,S,h,_,N,$):Lr(S):Lr(S)}expandSegmentAgainstRouteUsingRedirect(y,h,_,S,N,$){return"**"===S.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(y,_,S,$):this.expandRegularSegmentAgainstRouteUsingRedirect(y,h,_,S,N,$)}expandWildCardWithParamsAgainstRouteUsingRedirect(y,h,_,S){const N=this.applyRedirects.applyRedirectCommands([],_.redirectTo,{});return _.redirectTo.startsWith("/")?ji(N):this.applyRedirects.lineralizeSegments(_,N).pipe((0,dt.Z)($=>{const le=new Bt($,{});return this.processSegment(y,h,le,$,S,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(y,h,_,S,N,$){const{matched:le,consumedSegments:ie,remainingSegments:qe,positionalParamSegments:Et}=Rs(h,S,N);if(!le)return Lr(h);const gn=this.applyRedirects.applyRedirectCommands(ie,S.redirectTo,Et);return S.redirectTo.startsWith("/")?ji(gn):this.applyRedirects.lineralizeSegments(S,gn).pipe((0,dt.Z)(on=>this.processSegment(y,_,h,on.concat(qe),$,!1)))}matchSegmentAgainstRoute(y,h,_,S,N,$){let le;if("**"===_.path){const ie=S.length>0?Ot(S).parameters:{},qe=new $o(S,ie,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,m(_),Dt(_),_.component??_._loadedComponent??null,_,x(_));le=(0,L.of)({snapshot:qe,consumedSegments:[],remainingSegments:[]}),h.children={}}else le=ui(h,_,S,y).pipe((0,Ft.T)(({matched:ie,consumedSegments:qe,remainingSegments:Et,parameters:gn})=>ie?{snapshot:new $o(qe,gn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,m(_),Dt(_),_.component??_._loadedComponent??null,_,x(_)),consumedSegments:qe,remainingSegments:Et}:null));return le.pipe((0,vn.n)(ie=>null===ie?Lr(h):this.getChildConfig(y=_._injector??y,_,S).pipe((0,vn.n)(({routes:qe})=>{const Et=_._loadedInjector??y,{snapshot:gn,consumedSegments:on,remainingSegments:qo}=ie,{segmentGroup:Ps,slicedSegments:ti}=vo(h,on,qo,qe);if(0===ti.length&&Ps.hasChildren())return this.processChildren(Et,qe,Ps).pipe((0,Ft.T)(Ns=>null===Ns?null:[new yr(gn,Ns)]));if(0===qe.length&&0===ti.length)return(0,L.of)([new yr(gn,[])]);const Ti=Dt(_)===N;return this.processSegment(Et,qe,Ps,ti,Ti?st:N,!0).pipe((0,Ft.T)(Ns=>[new yr(gn,Ns)]))}))))}getChildConfig(y,h,_){return h.children?(0,L.of)({routes:h.children,injector:y}):h.loadChildren?void 0!==h._loadedRoutes?(0,L.of)({routes:h._loadedRoutes,injector:h._loadedInjector}):function wi(p,y,h,_){const S=y.canLoad;if(void 0===S||0===S.length)return(0,L.of)(!0);const N=S.map($=>{const le=kn($,p);return Mn(function A(p){return p&&dr(p.canLoad)}(le)?le.canLoad(y,h):p.runInContext(()=>le(y,h)))});return(0,L.of)(N).pipe(Mr(),Ks())}(y,h,_).pipe((0,dt.Z)(S=>S?this.configLoader.loadChildren(y,h).pipe((0,ae.M)(N=>{h._loadedRoutes=N.routes,h._loadedInjector=N.injector})):function nr(p){return(0,ze.$)(bt(!1,3))}())):(0,L.of)({routes:[],injector:y})}}function jr(p){const y=p.value.routeConfig;return y&&""===y.path}function rs(p){const y=[],h=new Set;for(const _ of p){if(!jr(_)){y.push(_);continue}const S=y.find(N=>_.value.routeConfig===N.value.routeConfig);void 0!==S?(S.children.push(..._.children),h.add(S)):y.push(_)}for(const _ of h){const S=rs(_.children);y.push(new yr(_.value,S))}return y.filter(_=>!h.has(_))}function m(p){return p.data||{}}function x(p){return p.resolve||{}}function rn(p){return"string"==typeof p.title||null===p.title}function ln(p){return(0,vn.n)(y=>{const h=p(y);return h?(0,q.H)(h).pipe((0,Ft.T)(()=>y)):(0,L.of)(y)})}const Ut=new c.nKC("ROUTES");let Nt=(()=>{class p{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.WQX)(c.Ql9)}loadComponent(h){if(this.componentLoaders.get(h))return this.componentLoaders.get(h);if(h._loadedComponent)return(0,L.of)(h._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(h);const _=Mn(h.loadComponent()).pipe((0,Ft.T)(Hn),(0,ae.M)(N=>{this.onLoadEndListener&&this.onLoadEndListener(h),h._loadedComponent=N}),(0,Gt.j)(()=>{this.componentLoaders.delete(h)})),S=new Ae(_,()=>new nn.B).pipe(ft());return this.componentLoaders.set(h,S),S}loadChildren(h,_){if(this.childrenLoaders.get(_))return this.childrenLoaders.get(_);if(_._loadedRoutes)return(0,L.of)({routes:_._loadedRoutes,injector:_._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(_);const N=function Tn(p,y,h,_){return Mn(p.loadChildren()).pipe((0,Ft.T)(Hn),(0,dt.Z)(S=>S instanceof c.Co$||Array.isArray(S)?(0,L.of)(S):(0,q.H)(y.compileModuleAsync(S))),(0,Ft.T)(S=>{_&&_(p);let N,$,le=!1;return Array.isArray(S)?($=S,!0):(N=S.create(h).injector,$=N.get(Ut,[],{optional:!0,self:!0}).flat()),{routes:$.map(Fr),injector:N}}))}(_,this.compiler,h,this.onLoadEndListener).pipe((0,Gt.j)(()=>{this.childrenLoaders.delete(_)})),$=new Ae(N,()=>new nn.B).pipe(ft());return this.childrenLoaders.set(_,$),$}static{this.\u0275fac=function(_){return new(_||p)}}static{this.\u0275prov=c.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();function Hn(p){return function pn(p){return p&&"object"==typeof p&&"default"in p}(p)?p.default:p}let Ar=(()=>{class p{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new nn.B,this.transitionAbortSubject=new nn.B,this.configLoader=(0,c.WQX)(Nt),this.environmentInjector=(0,c.WQX)(c.uvJ),this.urlSerializer=(0,c.WQX)(Qn),this.rootContexts=(0,c.WQX)(Zo),this.inputBindingEnabled=null!==(0,c.WQX)(an,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,L.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=S=>this.events.next(new Bs(S)),this.configLoader.onLoadStartListener=S=>this.events.next(new Es(S))}complete(){this.transitions?.complete()}handleNavigationRequest(h){const _=++this.navigationId;this.transitions?.next({...this.transitions.value,...h,id:_})}setupNavigations(h,_,S){return this.transitions=new H.t({id:0,currentUrlTree:_,currentRawUrl:_,currentBrowserUrl:_,extractedUrl:h.urlHandlingStrategy.extract(_),urlAfterRedirects:h.urlHandlingStrategy.extract(_),rawUrl:_,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:no,restoredState:null,currentSnapshot:S.snapshot,targetSnapshot:null,currentRouterState:S,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,et.p)(N=>0!==N.id),(0,Ft.T)(N=>({...N,extractedUrl:h.urlHandlingStrategy.extract(N.rawUrl)})),(0,vn.n)(N=>{this.currentTransition=N;let $=!1,le=!1;return(0,L.of)(N).pipe((0,ae.M)(ie=>{this.currentNavigation={id:ie.id,initialUrl:ie.rawUrl,extractedUrl:ie.extractedUrl,trigger:ie.source,extras:ie.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,vn.n)(ie=>{const qe=ie.currentBrowserUrl.toString(),Et=!h.navigated||ie.extractedUrl.toString()!==qe||qe!==ie.currentUrlTree.toString();if(!Et&&"reload"!==(ie.extras.onSameUrlNavigation??h.onSameUrlNavigation)){const on="";return this.events.next(new Do(ie.id,this.urlSerializer.serialize(ie.rawUrl),on,0)),ie.resolve(null),Be.w}if(h.urlHandlingStrategy.shouldProcessUrl(ie.rawUrl))return(0,L.of)(ie).pipe((0,vn.n)(on=>{const qo=this.transitions?.getValue();return this.events.next(new Co(on.id,this.urlSerializer.serialize(on.extractedUrl),on.source,on.restoredState)),qo!==this.transitions?.getValue()?Be.w:Promise.resolve(on)}),function C(p,y,h,_,S,N){return(0,dt.Z)($=>function Qs(p,y,h,_,S,N,$="emptyOnly"){return new Ir(p,y,h,_,S,$,N).recognize()}(p,y,h,_,$.extractedUrl,S,N).pipe((0,Ft.T)(({state:le,tree:ie})=>({...$,targetSnapshot:le,urlAfterRedirects:ie}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,h.config,this.urlSerializer,h.paramsInheritanceStrategy),(0,ae.M)(on=>{N.targetSnapshot=on.targetSnapshot,N.urlAfterRedirects=on.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:on.urlAfterRedirects};const qo=new vr(on.id,this.urlSerializer.serialize(on.extractedUrl),this.urlSerializer.serialize(on.urlAfterRedirects),on.targetSnapshot);this.events.next(qo)}));if(Et&&h.urlHandlingStrategy.shouldProcessUrl(ie.currentRawUrl)){const{id:on,extractedUrl:qo,source:Ps,restoredState:ti,extras:Ti}=ie,Ns=new Co(on,this.urlSerializer.serialize(qo),Ps,ti);this.events.next(Ns);const Xa=Ht(0,this.rootComponentType).snapshot;return this.currentTransition=N={...ie,targetSnapshot:Xa,urlAfterRedirects:qo,extras:{...Ti,skipLocationChange:!1,replaceUrl:!1}},(0,L.of)(N)}{const on="";return this.events.next(new Do(ie.id,this.urlSerializer.serialize(ie.extractedUrl),on,1)),ie.resolve(null),Be.w}}),(0,ae.M)(ie=>{const qe=new ai(ie.id,this.urlSerializer.serialize(ie.extractedUrl),this.urlSerializer.serialize(ie.urlAfterRedirects),ie.targetSnapshot);this.events.next(qe)}),(0,Ft.T)(ie=>(this.currentTransition=N={...ie,guards:$n(ie.targetSnapshot,ie.currentSnapshot,this.rootContexts)},N)),function es(p,y){return(0,dt.Z)(h=>{const{targetSnapshot:_,currentSnapshot:S,guards:{canActivateChecks:N,canDeactivateChecks:$}}=h;return 0===$.length&&0===N.length?(0,L.of)({...h,guardsResult:!0}):function Ts(p,y,h,_){return(0,q.H)(p).pipe((0,dt.Z)(S=>function Ws(p,y,h,_,S){const N=y&&y.routeConfig?y.routeConfig.canDeactivate:null;if(!N||0===N.length)return(0,L.of)(!0);const $=N.map(le=>{const ie=ro(y)??S,qe=kn(le,ie);return Mn(function K(p){return p&&dr(p.canDeactivate)}(qe)?qe.canDeactivate(p,y,h,_):ie.runInContext(()=>qe(p,y,h,_))).pipe((0,Rn.$)())});return(0,L.of)($).pipe(Mr())}(S.component,S.route,h,y,_)),(0,Rn.$)(S=>!0!==S,!0))}($,_,S,p).pipe((0,dt.Z)(le=>le&&function M(p){return"boolean"==typeof p}(le)?function ts(p,y,h,_){return(0,q.H)(y).pipe((0,se.H)(S=>(0,G.x)(function Fa(p,y){return null!==p&&y&&y(new ps(p)),(0,L.of)(!0)}(S.route.parent,_),function ka(p,y){return null!==p&&y&&y(new Hs(p)),(0,L.of)(!0)}(S.route,_),function Ci(p,y,h){const _=y[y.length-1],N=y.slice(0,y.length-1).reverse().map($=>function _i(p){const y=p.routeConfig?p.routeConfig.canActivateChild:null;return y&&0!==y.length?{node:p,guards:y}:null}($)).filter($=>null!==$).map($=>Ve(()=>{const le=$.guards.map(ie=>{const qe=ro($.node)??h,Et=kn(ie,qe);return Mn(function k(p){return p&&dr(p.canActivateChild)}(Et)?Et.canActivateChild(_,p):qe.runInContext(()=>Et(_,p))).pipe((0,Rn.$)())});return(0,L.of)(le).pipe(Mr())}));return(0,L.of)(N).pipe(Mr())}(p,S.path,h),function bi(p,y,h){const _=y.routeConfig?y.routeConfig.canActivate:null;if(!_||0===_.length)return(0,L.of)(!0);const S=_.map(N=>Ve(()=>{const $=ro(y)??h,le=kn(N,$);return Mn(function b(p){return p&&dr(p.canActivate)}(le)?le.canActivate(y,p):$.runInContext(()=>le(y,p))).pipe((0,Rn.$)())}));return(0,L.of)(S).pipe(Mr())}(p,S.route,h))),(0,Rn.$)(S=>!0!==S,!0))}(_,N,p,y):(0,L.of)(le)),(0,Ft.T)(le=>({...h,guardsResult:le})))})}(this.environmentInjector,ie=>this.events.next(ie)),(0,ae.M)(ie=>{if(N.guardsResult=ie.guardsResult,Ue(ie.guardsResult))throw Ye(0,ie.guardsResult);const qe=new fs(ie.id,this.urlSerializer.serialize(ie.extractedUrl),this.urlSerializer.serialize(ie.urlAfterRedirects),ie.targetSnapshot,!!ie.guardsResult);this.events.next(qe)}),(0,et.p)(ie=>!!ie.guardsResult||(this.cancelNavigationTransition(ie,"",3),!1)),ln(ie=>{if(ie.guards.canActivateChecks.length)return(0,L.of)(ie).pipe((0,ae.M)(qe=>{const Et=new Nr(qe.id,this.urlSerializer.serialize(qe.extractedUrl),this.urlSerializer.serialize(qe.urlAfterRedirects),qe.targetSnapshot);this.events.next(Et)}),(0,vn.n)(qe=>{let Et=!1;return(0,L.of)(qe).pipe(function T(p,y){return(0,dt.Z)(h=>{const{targetSnapshot:_,guards:{canActivateChecks:S}}=h;if(!S.length)return(0,L.of)(h);let N=0;return(0,q.H)(S).pipe((0,se.H)($=>function B(p,y,h,_){const S=p.routeConfig,N=p._resolve;return void 0!==S?.title&&!rn(S)&&(N[Jt]=S.title),function fe(p,y,h,_){const S=function we(p){return[...Object.keys(p),...Object.getOwnPropertySymbols(p)]}(p);if(0===S.length)return(0,L.of)({});const N={};return(0,q.H)(S).pipe((0,dt.Z)($=>function tt(p,y,h,_){const S=ro(y)??_,N=kn(p,S);return Mn(N.resolve?N.resolve(y,h):S.runInContext(()=>N(y,h)))}(p[$],y,h,_).pipe((0,Rn.$)(),(0,ae.M)(le=>{N[$]=le}))),ot(1),function pt(p){return(0,Ft.T)(()=>p)}(N),(0,he.W)($=>br($)?Be.w:(0,ze.$)($)))}(N,p,y,_).pipe((0,Ft.T)($=>(p._resolvedData=$,p.data=uo(p,h).resolve,S&&rn(S)&&(p.data[Jt]=S.title),null)))}($.route,_,p,y)),(0,ae.M)(()=>N++),ot(1),(0,dt.Z)($=>N===S.length?(0,L.of)(h):Be.w))})}(h.paramsInheritanceStrategy,this.environmentInjector),(0,ae.M)({next:()=>Et=!0,complete:()=>{Et||this.cancelNavigationTransition(qe,"",2)}}))}),(0,ae.M)(qe=>{const Et=new tr(qe.id,this.urlSerializer.serialize(qe.extractedUrl),this.urlSerializer.serialize(qe.urlAfterRedirects),qe.targetSnapshot);this.events.next(Et)}))}),ln(ie=>{const qe=Et=>{const gn=[];Et.routeConfig?.loadComponent&&!Et.routeConfig._loadedComponent&&gn.push(this.configLoader.loadComponent(Et.routeConfig).pipe((0,ae.M)(on=>{Et.component=on}),(0,Ft.T)(()=>{})));for(const on of Et.children)gn.push(...qe(on));return gn};return Oe(qe(ie.targetSnapshot.root)).pipe((0,xe.U)(),(0,Ge.s)(1))}),ln(()=>this.afterPreactivation()),(0,Ft.T)(ie=>{const qe=function Io(p,y,h){const _=bn(p,y._root,h?h._root:void 0);return new Vo(_,y)}(h.routeReuseStrategy,ie.targetSnapshot,ie.currentRouterState);return this.currentTransition=N={...ie,targetRouterState:qe},N}),(0,ae.M)(()=>{this.events.next(new Is)}),((p,y,h,_)=>(0,Ft.T)(S=>(new go(y,S.targetRouterState,S.currentRouterState,h,_).activate(p),S)))(this.rootContexts,h.routeReuseStrategy,ie=>this.events.next(ie),this.inputBindingEnabled),(0,Ge.s)(1),(0,ae.M)({next:ie=>{$=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Dr(ie.id,this.urlSerializer.serialize(ie.extractedUrl),this.urlSerializer.serialize(ie.urlAfterRedirects))),h.titleStrategy?.updateTitle(ie.targetRouterState.snapshot),ie.resolve(!0)},complete:()=>{$=!0}}),function fn(p){return(0,Le.N)((y,h)=>{(0,Ne.Tg)(p).subscribe((0,He._)(h,()=>h.complete(),Lt.l)),!h.closed&&y.subscribe(h)})}(this.transitionAbortSubject.pipe((0,ae.M)(ie=>{throw ie}))),(0,Gt.j)(()=>{$||le||this.cancelNavigationTransition(N,"",1),this.currentNavigation?.id===N.id&&(this.currentNavigation=null)}),(0,he.W)(ie=>{if(le=!0,Kr(ie))this.events.next(new wo(N.id,this.urlSerializer.serialize(N.extractedUrl),ie.message,ie.cancellationCode)),function Go(p){return Kr(p)&&Ue(p.url)}(ie)?this.events.next(new Yo(ie.url)):N.resolve(!1);else{this.events.next(new hs(N.id,this.urlSerializer.serialize(N.extractedUrl),ie,N.targetSnapshot??void 0));try{N.resolve(h.errorHandler(ie))}catch(qe){N.reject(qe)}}return Be.w}))}))}cancelNavigationTransition(h,_,S){const N=new wo(h.id,this.urlSerializer.serialize(h.extractedUrl),_,S);this.events.next(N),h.resolve(!1)}static{this.\u0275fac=function(_){return new(_||p)}}static{this.\u0275prov=c.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();function Xr(p){return p!==no}let os=(()=>{class p{buildTitle(h){let _,S=h.root;for(;void 0!==S;)_=this.getResolvedTitleForRoute(S)??_,S=S.children.find(N=>N.outlet===st);return _}getResolvedTitleForRoute(h){return h.data[Jt]}static{this.\u0275fac=function(_){return new(_||p)}}static{this.\u0275prov=c.jDH({token:p,factory:function(){return(0,c.WQX)(Tr)},providedIn:"root"})}}return p})(),Tr=(()=>{class p extends os{constructor(h){super(),this.title=h}updateTitle(h){const _=this.buildTitle(h);void 0!==_&&this.title.setTitle(_)}static{this.\u0275fac=function(_){return new(_||p)(c.KVO(cn.hE))}}static{this.\u0275prov=c.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})(),Oo=(()=>{class p{static{this.\u0275fac=function(_){return new(_||p)}}static{this.\u0275prov=c.jDH({token:p,factory:function(){return(0,c.WQX)(bs)},providedIn:"root"})}}return p})();class Ro{shouldDetach(y){return!1}store(y,h){}shouldAttach(y){return!1}retrieve(y){return null}shouldReuseRoute(y,h){return y.routeConfig===h.routeConfig}}let bs=(()=>{class p extends Ro{static{this.\u0275fac=function(){let h;return function(S){return(h||(h=c.xGo(p)))(S||p)}}()}static{this.\u0275prov=c.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();const di=new c.nKC("",{providedIn:"root",factory:()=>({})});let Ei=(()=>{class p{static{this.\u0275fac=function(_){return new(_||p)}}static{this.\u0275prov=c.jDH({token:p,factory:function(){return(0,c.WQX)(Gn)},providedIn:"root"})}}return p})(),Gn=(()=>{class p{shouldProcessUrl(h){return!0}extract(h){return h}merge(h,_){return h}static{this.\u0275fac=function(_){return new(_||p)}}static{this.\u0275prov=c.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();var ss=function(p){return p[p.COMPLETE=0]="COMPLETE",p[p.FAILED=1]="FAILED",p[p.REDIRECTING=2]="REDIRECTING",p}(ss||{});function ja(p,y){p.events.pipe((0,et.p)(h=>h instanceof Dr||h instanceof wo||h instanceof hs||h instanceof Do),(0,Ft.T)(h=>h instanceof Dr||h instanceof Do?ss.COMPLETE:h instanceof wo&&(0===h.code||1===h.code)?ss.REDIRECTING:ss.FAILED),(0,et.p)(h=>h!==ss.REDIRECTING),(0,Ge.s)(1)).subscribe(()=>{y()})}function Ui(p){throw p}function Vi(p,y,h){return y.parse("/")}const Ua={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Si={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Jr=(()=>{class p{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.WQX)(c.H3F),this.isNgZoneEnabled=!1,this._events=new nn.B,this.options=(0,c.WQX)(di,{optional:!0})||{},this.pendingTasks=(0,c.WQX)(c.$K3),this.errorHandler=this.options.errorHandler||Ui,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Vi,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.WQX)(Ei),this.routeReuseStrategy=(0,c.WQX)(Oo),this.titleStrategy=(0,c.WQX)(os),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,c.WQX)(Ut,{optional:!0})?.flat()??[],this.navigationTransitions=(0,c.WQX)(Ar),this.urlSerializer=(0,c.WQX)(Qn),this.location=(0,c.WQX)(Cn.aZ),this.componentInputBindingEnabled=!!(0,c.WQX)(an,{optional:!0}),this.eventsSubscription=new Fe.yU,this.isNgZoneEnabled=(0,c.WQX)(c.SKi)instanceof c.SKi&&c.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new or,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ht(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(h=>{this.lastSuccessfulId=h.id,this.currentPageId=this.browserPageId},h=>{this.console.warn(`Unhandled Navigation Error: ${h}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const h=this.navigationTransitions.events.subscribe(_=>{try{const{currentTransition:S}=this.navigationTransitions;if(null===S)return void(Mi(_)&&this._events.next(_));if(_ instanceof Co)Xr(S.source)&&(this.browserUrlTree=S.extractedUrl);else if(_ instanceof Do)this.rawUrlTree=S.rawUrl;else if(_ instanceof vr){if("eager"===this.urlUpdateStrategy){if(!S.extras.skipLocationChange){const N=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);this.setBrowserUrl(N,S)}this.browserUrlTree=S.urlAfterRedirects}}else if(_ instanceof Is)this.currentUrlTree=S.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl),this.routerState=S.targetRouterState,"deferred"===this.urlUpdateStrategy&&(S.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,S),this.browserUrlTree=S.urlAfterRedirects);else if(_ instanceof wo)0!==_.code&&1!==_.code&&(this.navigated=!0),(3===_.code||2===_.code)&&this.restoreHistory(S);else if(_ instanceof Yo){const N=this.urlHandlingStrategy.merge(_.url,S.currentRawUrl),$={skipLocationChange:S.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Xr(S.source)};this.scheduleNavigation(N,no,null,$,{resolve:S.resolve,reject:S.reject,promise:S.promise})}_ instanceof hs&&this.restoreHistory(S,!0),_ instanceof Dr&&(this.navigated=!0),Mi(_)&&this._events.next(_)}catch(S){this.navigationTransitions.transitionAbortSubject.next(S)}});this.eventsSubscription.add(h)}resetRootComponentType(h){this.routerState.root.component=h,this.navigationTransitions.rootComponentType=h}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const h=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),no,h)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(h=>{const _="popstate"===h.type?"popstate":"hashchange";"popstate"===_&&setTimeout(()=>{this.navigateToSyncWithBrowser(h.url,_,h.state)},0)}))}navigateToSyncWithBrowser(h,_,S){const N={replaceUrl:!0},$=S?.navigationId?S:null;if(S){const ie={...S};delete ie.navigationId,delete ie.\u0275routerPageId,0!==Object.keys(ie).length&&(N.state=ie)}const le=this.parseUrl(h);this.scheduleNavigation(le,_,$,N)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(h){this.config=h.map(Fr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(h,_={}){const{relativeTo:S,queryParams:N,fragment:$,queryParamsHandling:le,preserveFragment:ie}=_,qe=ie?this.currentUrlTree.fragment:$;let gn,Et=null;switch(le){case"merge":Et={...this.currentUrlTree.queryParams,...N};break;case"preserve":Et=this.currentUrlTree.queryParams;break;default:Et=N||null}null!==Et&&(Et=this.removeEmptyProps(Et));try{gn=_t(S?S.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof h[0]||!h[0].startsWith("/"))&&(h=[]),gn=this.currentUrlTree.root}return Pn(gn,h,Et,qe??null)}navigateByUrl(h,_={skipLocationChange:!1}){const S=Ue(h)?h:this.parseUrl(h),N=this.urlHandlingStrategy.merge(S,this.rawUrlTree);return this.scheduleNavigation(N,no,null,_)}navigate(h,_={skipLocationChange:!1}){return function xo(p){for(let y=0;y<p.length;y++)if(null==p[y])throw new c.wOt(4008,!1)}(h),this.navigateByUrl(this.createUrlTree(h,_),_)}serializeUrl(h){return this.urlSerializer.serialize(h)}parseUrl(h){let _;try{_=this.urlSerializer.parse(h)}catch(S){_=this.malformedUriErrorHandler(S,this.urlSerializer,h)}return _}isActive(h,_){let S;if(S=!0===_?{...Ua}:!1===_?{...Si}:_,Ue(h))return Cr(this.currentUrlTree,h,S);const N=this.parseUrl(h);return Cr(this.currentUrlTree,N,S)}removeEmptyProps(h){return Object.keys(h).reduce((_,S)=>{const N=h[S];return null!=N&&(_[S]=N),_},{})}scheduleNavigation(h,_,S,N,$){if(this.disposed)return Promise.resolve(!1);let le,ie,qe;$?(le=$.resolve,ie=$.reject,qe=$.promise):qe=new Promise((gn,on)=>{le=gn,ie=on});const Et=this.pendingTasks.add();return ja(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Et))}),this.navigationTransitions.handleNavigationRequest({source:_,restoredState:S,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:h,extras:N,resolve:le,reject:ie,promise:qe,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),qe.catch(gn=>Promise.reject(gn))}setBrowserUrl(h,_){const S=this.urlSerializer.serialize(h);if(this.location.isCurrentPathEqualTo(S)||_.extras.replaceUrl){const $={..._.extras.state,...this.generateNgRouterState(_.id,this.browserPageId)};this.location.replaceState(S,"",$)}else{const N={..._.extras.state,...this.generateNgRouterState(_.id,this.browserPageId+1)};this.location.go(S,"",N)}}restoreHistory(h,_=!1){if("computed"===this.canceledNavigationResolution){const N=this.currentPageId-this.browserPageId;0!==N?this.location.historyGo(N):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===N&&(this.resetState(h),this.browserUrlTree=h.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(_&&this.resetState(h),this.resetUrlToCurrentUrlTree())}resetState(h){this.routerState=h.currentRouterState,this.currentUrlTree=h.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,h.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(h,_){return"computed"===this.canceledNavigationResolution?{navigationId:h,\u0275routerPageId:_}:{navigationId:h}}static{this.\u0275fac=function(_){return new(_||p)}}static{this.\u0275prov=c.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();function Mi(p){return!(p instanceof Is||p instanceof Yo)}let Ys=(()=>{class p{constructor(h,_,S,N,$,le){this.router=h,this.route=_,this.tabIndexAttribute=S,this.renderer=N,this.el=$,this.locationStrategy=le,this.href=null,this.commands=null,this.onChanges=new nn.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const ie=$.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===ie||"area"===ie,this.isAnchorElement?this.subscription=h.events.subscribe(qe=>{qe instanceof Dr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(h){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",h)}ngOnChanges(h){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(h){null!=h?(this.commands=Array.isArray(h)?h:[h],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(h,_,S,N,$){return!!(null===this.urlTree||this.isAnchorElement&&(0!==h||_||S||N||$||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const h=null===this.href?null:(0,c.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",h)}applyAttributeValue(h,_){const S=this.renderer,N=this.el.nativeElement;null!==_?S.setAttribute(N,h,_):S.removeAttribute(N,h)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(_){return new(_||p)(c.rXU(Jr),c.rXU(_n),c.kS0("tabindex"),c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(Cn.hb))}}static{this.\u0275dir=c.FsC({type:p,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(_,S){1&_&&c.bIt("click",function($){return S.onClick($.button,$.ctrlKey,$.shiftKey,$.altKey,$.metaKey)}),2&_&&c.BMQ("target",S.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",c.L39],skipLocationChange:["skipLocationChange","skipLocationChange",c.L39],replaceUrl:["replaceUrl","replaceUrl",c.L39],routerLink:"routerLink"},standalone:!0,features:[c.GFd,c.OA$]})}}return p})(),mn=(()=>{class p{get isActive(){return this._isActive}constructor(h,_,S,N,$){this.router=h,this.element=_,this.renderer=S,this.cdr=N,this.link=$,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new c.bkB,this.routerEventsSubscription=h.events.subscribe(le=>{le instanceof Dr&&this.update()})}ngAfterContentInit(){(0,L.of)(this.links.changes,(0,L.of)(null)).pipe((0,vt.U)()).subscribe(h=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const h=[...this.links.toArray(),this.link].filter(_=>!!_).map(_=>_.onChanges);this.linkInputChangesSubscription=(0,q.H)(h).pipe((0,vt.U)()).subscribe(_=>{this._isActive!==this.isLinkActive(this.router)(_)&&this.update()})}set routerLinkActive(h){const _=Array.isArray(h)?h:h.split(" ");this.classes=_.filter(S=>!!S)}ngOnChanges(h){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const h=this.hasActiveLinks();this._isActive!==h&&(this._isActive=h,this.cdr.markForCheck(),this.classes.forEach(_=>{h?this.renderer.addClass(this.element.nativeElement,_):this.renderer.removeClass(this.element.nativeElement,_)}),h&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(h))})}isLinkActive(h){const _=function hi(p){return!!p.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return S=>!!S.urlTree&&h.isActive(S.urlTree,_)}hasActiveLinks(){const h=this.isLinkActive(this.router);return this.link&&h(this.link)||this.links.some(h)}static{this.\u0275fac=function(_){return new(_||p)(c.rXU(Jr),c.rXU(c.aKT),c.rXU(c.sFG),c.rXU(c.gRc),c.rXU(Ys,8))}}static{this.\u0275dir=c.FsC({type:p,selectors:[["","routerLinkActive",""]],contentQueries:function(_,S,N){if(1&_&&c.wni(N,Ys,5),2&_){let $;c.mGM($=c.lsd())&&(S.links=$)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[c.OA$]})}}return p})();class Zs{}let fi=(()=>{class p{constructor(h,_,S,N,$){this.router=h,this.injector=S,this.preloadingStrategy=N,this.loader=$}setUpPreloading(){this.subscription=this.router.events.pipe((0,et.p)(h=>h instanceof Dr),(0,se.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(h,_){const S=[];for(const N of _){N.providers&&!N._injector&&(N._injector=(0,c.Ol2)(N.providers,h,`Route: ${N.path}`));const $=N._injector??h,le=N._loadedInjector??$;(N.loadChildren&&!N._loadedRoutes&&void 0===N.canLoad||N.loadComponent&&!N._loadedComponent)&&S.push(this.preloadConfig($,N)),(N.children||N._loadedRoutes)&&S.push(this.processRoutes(le,N.children??N._loadedRoutes))}return(0,q.H)(S).pipe((0,vt.U)())}preloadConfig(h,_){return this.preloadingStrategy.preload(_,()=>{let S;S=_.loadChildren&&void 0===_.canLoad?this.loader.loadChildren(h,_):(0,L.of)(null);const N=S.pipe((0,dt.Z)($=>null===$?(0,L.of)(void 0):(_._loadedRoutes=$.routes,_._loadedInjector=$.injector,this.processRoutes($.injector??h,$.routes))));if(_.loadComponent&&!_._loadedComponent){const $=this.loader.loadComponent(_);return(0,q.H)([N,$]).pipe((0,vt.U)())}return N})}static{this.\u0275fac=function(_){return new(_||p)(c.KVO(Jr),c.KVO(c.Ql9),c.KVO(c.uvJ),c.KVO(Zs),c.KVO(Nt))}}static{this.\u0275prov=c.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})();const is=new c.nKC("");let Ur=(()=>{class p{constructor(h,_,S,N,$={}){this.urlSerializer=h,this.transitions=_,this.viewportScroller=S,this.zone=N,this.options=$,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},$.scrollPositionRestoration=$.scrollPositionRestoration||"disabled",$.anchorScrolling=$.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(h=>{h instanceof Co?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=h.navigationTrigger,this.restoredId=h.restoredState?h.restoredState.navigationId:0):h instanceof Dr?(this.lastId=h.id,this.scheduleScrollEvent(h,this.urlSerializer.parse(h.urlAfterRedirects).fragment)):h instanceof Do&&0===h.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(h,this.urlSerializer.parse(h.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(h=>{h instanceof Ms&&(h.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(h.position):h.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(h.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(h,_){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ms(h,"popstate"===this.lastSource?this.store[this.restoredId]:null,_))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(_){c.QTQ()}}static{this.\u0275prov=c.jDH({token:p,factory:p.\u0275fac})}}return p})();function pi(p,...y){return(0,c.EmA)([{provide:Ut,multi:!0,useValue:p},[],{provide:_n,useFactory:$i,deps:[Jr]},{provide:c.iLQ,multi:!0,useFactory:us},y.map(h=>h.\u0275providers)])}function $i(p){return p.routerState.root}function Ko(p,y){return{\u0275kind:p,\u0275providers:y}}function us(){const p=(0,c.WQX)(c.zZn);return y=>{const h=p.get(c.o8S);if(y!==h.components[0])return;const _=p.get(Jr),S=p.get(Bi);1===p.get(Ai)&&_.initialNavigation(),p.get(Hi,null,c.$GK.Optional)?.setUpPreloading(),p.get(is,null,c.$GK.Optional)?.init(),_.resetRootComponentType(h.componentTypes[0]),S.closed||(S.next(),S.complete(),S.unsubscribe())}}const Bi=new c.nKC("",{factory:()=>new nn.B}),Ai=new c.nKC("",{providedIn:"root",factory:()=>1}),Hi=new c.nKC("");function Ha(p){return Ko(0,[{provide:Hi,useExisting:fi},{provide:Zs,useExisting:p}])}const Gi=new c.nKC("ROUTER_FORROOT_GUARD"),Wa=[Cn.aZ,{provide:Qn,useClass:gr},Jr,Zo,{provide:_n,useFactory:$i,deps:[Jr]},Nt,[]];function Ka(){return new c.NEm("Router",Jr)}let Me=(()=>{class p{constructor(h){}static forRoot(h,_){return{ngModule:p,providers:[Wa,[],{provide:Ut,multi:!0,useValue:h},{provide:Gi,useFactory:fr,deps:[[Jr,new c.Xx1,new c.kdw]]},{provide:di,useValue:_||{}},_?.useHash?{provide:Cn.hb,useClass:Cn.fw}:{provide:Cn.hb,useClass:Cn.Sm},{provide:is,useFactory:()=>{const p=(0,c.WQX)(Cn.Xr),y=(0,c.WQX)(c.SKi),h=(0,c.WQX)(di),_=(0,c.WQX)(Ar),S=(0,c.WQX)(Qn);return h.scrollOffset&&p.setOffset(h.scrollOffset),new Ur(S,_,p,y,h)}},_?.preloadingStrategy?Ha(_.preloadingStrategy).\u0275providers:[],{provide:c.NEm,multi:!0,useFactory:Ka},_?.initialNavigation?Ki(_):[],_?.bindToComponentInputs?Ko(8,[kr,{provide:an,useExisting:kr}]).\u0275providers:[],[{provide:xs,useFactory:us},{provide:c.iLQ,multi:!0,useExisting:xs}]]}}static forChild(h){return{ngModule:p,providers:[{provide:Ut,multi:!0,useValue:h}]}}static{this.\u0275fac=function(_){return new(_||p)(c.KVO(Gi,8))}}static{this.\u0275mod=c.$C({type:p})}static{this.\u0275inj=c.G2t({})}}return p})();function fr(p){return"guarded"}function Ki(p){return["disabled"===p.initialNavigation?Ko(3,[{provide:c.hnV,multi:!0,useFactory:()=>{const y=(0,c.WQX)(Jr);return()=>{y.setUpLocationChangeListener()}}},{provide:Ai,useValue:2}]).\u0275providers:[],"enabledBlocking"===p.initialNavigation?Ko(2,[{provide:Ai,useValue:0},{provide:c.hnV,multi:!0,deps:[c.zZn],useFactory:y=>{const h=y.get(Cn.hj,Promise.resolve());return()=>h.then(()=>new Promise(_=>{const S=y.get(Jr),N=y.get(Bi);ja(S,()=>{_(!0)}),y.get(Ar).afterPreactivation=()=>(_(!0),N.closed?(0,L.of)(void 0):N),S.initialNavigation()}))}}]).\u0275providers:[]]}const xs=new c.nKC("")},467:(Je,oe,O)=>{"use strict";function c(w,ce,q,L,H,ne,ue){try{var de=w[ne](ue),Z=de.value}catch(me){return void q(me)}de.done?ce(Z):Promise.resolve(Z).then(L,H)}function Q(w){return function(){var ce=this,q=arguments;return new Promise(function(L,H){var ne=w.apply(ce,q);function ue(Z){c(ne,L,H,ue,de,"next",Z)}function de(Z){c(ne,L,H,ue,de,"throw",Z)}ue(void 0)})}}O.d(oe,{A:()=>Q})}},Je=>{Je(Je.s=1675)}]);