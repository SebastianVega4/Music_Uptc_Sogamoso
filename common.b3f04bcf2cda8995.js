"use strict";(self.webpackChunkuptc_music=self.webpackChunkuptc_music||[]).push([[76],{8440:(m,_,s)=>{s.d(_,{m:()=>i});var u=s(1626),l=s(5321),o=s(5312),p=s(6354),d=s(6276),r=s(3205);let i=(()=>{class a{http;authService;supabase;apiUrl=`${o.c.apiUrl}/api/buitres`;constructor(t,e){this.http=t,this.authService=e,this.supabase=(0,l.UU)(o.c.supabaseUrl,o.c.supabaseKey)}getSongNotes(t){return this.http.get(`${this.apiUrl}/people/${t}/songs`,{headers:this.getAuthHeaders()})}addSongNote(t,e,n,g="song",c=""){return this.http.post(`${this.apiUrl}/people/${t}/songs`,{track_data:e,dedication:n,type:g,bg_color:c},{headers:this.getAuthHeaders()})}deleteSongNote(t){return this.http.delete(`${this.apiUrl}/songs/${t}`,{headers:this.getAuthHeaders()})}searchSongs(t){return this.http.get(`${o.c.apiUrl}/api/search`,{params:{q:t},headers:this.getAuthHeaders()})}getAuthHeaders(){const t=this.authService.getBuitresToken(),e={};return t&&(e.Authorization=`Bearer ${t}`),e}getPeople(t="",e="recent"){let n=(new u.Nl).set("search",t).set("sortBy",e);return this.http.get(`${this.apiUrl}/people`,{params:n,headers:this.getAuthHeaders()})}getTotalPeopleCount(){return this.http.get(`${this.apiUrl}/people/count`,{headers:this.getAuthHeaders()}).pipe((0,p.T)(t=>t.count))}getPersonById(t){return this.http.get(`${this.apiUrl}/people/${t}`,{headers:this.getAuthHeaders()})}createPerson(t,e,n,g=""){return this.http.post(`${this.apiUrl}/people`,{name:t,description:e,gender:n,email:g},{headers:this.getAuthHeaders()})}updatePerson(t,e){return this.http.patch(`${this.apiUrl}/people/${t}`,e,{headers:this.getAuthHeaders()})}deletePerson(t){return this.http.delete(`${this.apiUrl}/people/${t}`,{headers:this.getAuthHeaders()})}getDetails(t){return this.http.get(`${this.apiUrl}/people/${t}/details`,{headers:this.getAuthHeaders()})}addOrIncrementDetail(t,e,n){return this.http.post(`${this.apiUrl}/people/${t}/details`,{content:e,fingerprint:n},{headers:this.getAuthHeaders()})}deleteDetail(t){return this.http.delete(`${this.apiUrl}/details/${t}`,{headers:this.getAuthHeaders()})}getComments(t){return this.http.get(`${this.apiUrl}/people/${t}/comments`,{headers:this.getAuthHeaders()})}addComment(t,e,n){return this.http.post(`${this.apiUrl}/people/${t}/comments`,{content:e,fingerprint:n},{headers:this.getAuthHeaders()})}deleteComment(t){return this.http.delete(`${this.apiUrl}/comments/${t}`,{headers:this.getAuthHeaders()})}likeComment(t,e){return this.http.post(`${this.apiUrl}/comments/${t}/like`,{fingerprint:e},{headers:this.getAuthHeaders()})}votePerson(t,e,n){return this.http.post(`${this.apiUrl}/people/${t}/vote`,{type:e,fingerprint:n},{headers:this.getAuthHeaders()})}mergePersons(t,e){return this.http.post(`${this.apiUrl}/merge`,{keepId:t,removeId:e},{headers:this.getAuthHeaders()})}subscribeToChanges(t,e){return this.supabase.channel(`public:${t}`).on("postgres_changes",{event:"*",schema:"public",table:t},e).subscribe()}uploadImage(t){const e=new FormData;return e.append("file",t),this.http.post(`${o.c.apiUrl}/api/upload`,e)}static \u0275fac=function(e){return new(e||a)(d.KVO(u.Qq),d.KVO(r.u))};static \u0275prov=d.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})()},2915:(m,_,s)=>{s.d(_,{R:()=>o});var u=s(6276),l=s(345);let o=(()=>{class p{title;meta;constructor(r,i){this.title=r,this.meta=i}updateTitle(r){this.title.setTitle(`${r} | MusicaUPTC`)}updateTags(r){r.forEach(i=>{this.meta.updateTag(i)})}updatePageData(r,i,a){this.updateTitle(r);const h=[{name:"description",content:i},{property:"og:title",content:r},{property:"og:description",content:i},{property:"twitter:card",content:"summary_large_image"},{property:"twitter:title",content:r},{property:"twitter:description",content:i}];a&&(h.push({property:"og:image",content:a}),h.push({property:"twitter:image",content:a})),this.updateTags(h)}static \u0275fac=function(i){return new(i||p)(u.KVO(l.hE),u.KVO(l.W8))};static \u0275prov=u.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})()},7483:(m,_,s)=>{s.d(_,{l:()=>d});var u=s(5312),l=s(6276),o=s(1626),p=s(3205);let d=(()=>{class r{http;authService;apiUrl=u.c.apiUrl;constructor(a,h){this.http=a,this.authService=h}getSchedules(){return this.http.get(`${this.apiUrl}/api/schedules`)}updateSchedules(a){const h=this.authService.getAuthHeaders();return this.http.put(`${this.apiUrl}/api/schedules`,a,{headers:h})}static \u0275fac=function(h){return new(h||r)(l.KVO(o.Qq),l.KVO(p.u))};static \u0275prov=l.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})()},152:(m,_,s)=>{s.d(_,{B:()=>p});var u=s(3888),l=s(9974),o=s(4360);function p(d,r=u.E){return(0,l.N)((i,a)=>{let h=null,t=null,e=null;const n=()=>{if(h){h.unsubscribe(),h=null;const c=t;t=null,a.next(c)}};function g(){const c=e+d,E=r.now();if(E<c)return h=this.schedule(void 0,c-E),void a.add(h);n()}i.subscribe((0,o._)(a,c=>{t=c,e=r.now(),h||(h=r.schedule(g,d),a.add(h))},()=>{n(),a.complete()},void 0,()=>{t=h=null}))})}}}]);