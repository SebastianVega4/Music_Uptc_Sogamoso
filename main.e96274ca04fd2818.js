(self.webpackChunkuptc_music=self.webpackChunkuptc_music||[]).push([[792],{3205:(Ye,se,R)=>{"use strict";R.d(se,{u:()=>L});var l=R(1626),U=R(5312),C=R(4412),ie=R(8141),J=R(6276);let L=(()=>{class H{http;apiUrl=U.c.apiUrl;currentUserSubject=new C.t(null);currentUser=this.currentUserSubject.asObservable();constructor(ae){this.http=ae;const he=localStorage.getItem("adminToken"),ee=localStorage.getItem("adminUser");he&&ee&&this.currentUserSubject.next(JSON.parse(ee))}login(ae,he){return this.http.post(`${this.apiUrl}/api/auth/login`,{email:ae,password:he}).pipe((0,ie.M)(ee=>{ee.token&&(localStorage.setItem("adminToken",ee.token),localStorage.setItem("adminUser",JSON.stringify(ee.user)),localStorage.setItem("auth_token",ee.token),this.currentUserSubject.next(ee.user))}))}logout(){localStorage.removeItem("adminToken"),localStorage.removeItem("adminUser"),this.currentUserSubject.next(null)}isLoggedIn(){return!!localStorage.getItem("adminToken")}getAuthToken(){return localStorage.getItem("adminToken")}getAuthHeaders(){const ae=this.getToken();return new l.Lr(ae?{Authorization:`Bearer ${ae}`,"Content-Type":"application/json"}:{"Content-Type":"application/json"})}getToken(){return localStorage.getItem("adminToken")}static \u0275fac=function(he){return new(he||H)(J.KVO(l.Qq))};static \u0275prov=J.jDH({token:H,factory:H.\u0275fac,providedIn:"root"})}return H})()},5455:(Ye,se,R)=>{"use strict";R.d(se,{B:()=>ie});var l=R(4412),U=R(1413),C=R(6276);let ie=(()=>{class J{modalState=new l.t(null);modalResult=new U.B;modalState$=this.modalState.asObservable();constructor(){}open(H){return this.modalState.next(H),this.modalResult=new U.B,this.modalResult.asObservable()}confirm(H,oe="Confirmaci\xf3n"){return this.open({title:oe,message:H,type:"confirm",showCancel:!0,confirmText:"Confirmar",cancelText:"Cancelar"})}alert(H,oe="Alerta",ae="info"){return this.open({title:oe,message:H,type:ae,showCancel:!1,confirmText:"Aceptar"})}close(H){this.modalResult.next(H),this.modalResult.complete(),this.modalState.next(null)}static \u0275fac=function(oe){return new(oe||J)};static \u0275prov=C.jDH({token:J,factory:J.\u0275fac,providedIn:"root"})}return J})()},5312:(Ye,se,R)=>{"use strict";R.d(se,{c:()=>l});const l={production:!1,apiUrl:"https://music-uptc-sogamoso-back.vercel.app",supabaseUrl:"https://nkojabtbosvzbfcveyfm.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5rb2phYnRib3N2emJmY3ZleWZtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTczNjgwNzAsImV4cCI6MjA3Mjk0NDA3MH0.rJdadnVoVBw-vrt2XCm3619YzSIX3jSaxRftJQdAw00"}},8153:(Ye,se,R)=>{"use strict";var l=R(345),U=R(8435),C=R(6276),ie=R(3205);const L=[{path:"",loadComponent:()=>Promise.all([R.e(158),R.e(76),R.e(689)]).then(R.bind(R,8689)).then(Z=>Z.HomeComponent)},{path:"home",loadComponent:()=>Promise.all([R.e(158),R.e(76),R.e(689)]).then(R.bind(R,8689)).then(Z=>Z.HomeComponent)},{path:"ranking",loadComponent:()=>Promise.all([R.e(76),R.e(325)]).then(R.bind(R,3325)).then(Z=>Z.RankingComponent)},{path:"about",loadComponent:()=>Promise.all([R.e(76),R.e(783)]).then(R.bind(R,4783)).then(Z=>Z.AboutComponent)},{path:"discussion",loadComponent:()=>Promise.all([R.e(76),R.e(179)]).then(R.bind(R,1179)).then(Z=>Z.DiscussionComponent)},{path:"discussion/thread/:id",loadComponent:()=>Promise.all([R.e(76),R.e(221)]).then(R.bind(R,1221)).then(Z=>Z.ThreadDetailComponent)},{path:"admin-login",loadComponent:()=>R.e(880).then(R.bind(R,2880)).then(Z=>Z.AdminLoginComponent)},{path:"admin-panel",loadComponent:()=>Promise.all([R.e(158),R.e(76),R.e(136)]).then(R.bind(R,136)).then(Z=>Z.AdminPanelComponent),canActivate:[(()=>{class Z{authService;router;constructor(G,ye){this.authService=G,this.router=ye}canActivate(){return!!this.authService.isLoggedIn()||(this.router.navigate(["/admin-login"]),!1)}static \u0275fac=function(ye){return new(ye||Z)(C.KVO(ie.u),C.KVO(U.Ix))};static \u0275prov=C.jDH({token:Z,factory:Z.\u0275fac,providedIn:"root"})}return Z})()]},{path:"buitres",loadComponent:()=>Promise.all([R.e(76),R.e(60)]).then(R.bind(R,9060)).then(Z=>Z.BuitresComponent)},{path:"buitres/person/:id",loadComponent:()=>Promise.all([R.e(76),R.e(355)]).then(R.bind(R,9355)).then(Z=>Z.BuitresDetailComponent)},{path:"**",redirectTo:""}];var H=R(1626);const oe={providers:[(0,U.lh)(L),(0,H.$R)(),(0,l.$x)()]};var ae=R(177),he=R(4341),ee=R(8359),ve=R(7673),Ge=R(6354),xe=R(6697),Fe=R(4412),St=R(8141),Ze=R(9437),pt=R(5312),et=R(5321);let Gt=(()=>{class Z{http;apiUrl=pt.c.apiUrl;supabase;channel=null;messagesSubject=new Fe.t([]);messages$=this.messagesSubject.asObservable();typingUsersSubject=new Fe.t([]);typingUsers$=this.typingUsersSubject.asObservable();statsSubject=new Fe.t(null);stats$=this.statsSubject.asObservable();connectedSubject=new Fe.t(!0);connected$=this.connectedSubject.asObservable();onlineUsersSubject=new Fe.t(1);onlineUsers$=this.onlineUsersSubject.asObservable();currentUser="Usuario";userId=this.generateUserId();currentRoom="general";isTyping=!1;subscriptions=[];constructor(G){this.http=G,this.supabase=(0,et.UU)(pt.c.supabaseUrl,pt.c.supabaseKey,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:localStorage},realtime:{params:{eventsPerSecond:10}}}),this.loadUserFromStorage(),this.loadInitialHistory().subscribe(()=>{this.setupRealtimeSubscription()}),this.subscriptions.push(this.setupPeriodicStats(),this.setupOnlineUsersCheck())}ngOnDestroy(){this.subscriptions.forEach(G=>G.unsubscribe()),this.setTyping(!1),this.channel&&this.supabase.removeChannel(this.channel)}setupRealtimeSubscription(){this.channel=this.supabase.channel("chat-messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages",filter:`room=eq.${this.currentRoom}`},G=>{this.handleNewMessage(G)}).on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages",filter:"message_type=eq.system"},G=>{this.handleSystemMessage(G)}).subscribe(G=>{console.log("Canal de Supabase:",G),this.connectedSubject.next("SUBSCRIBED"===G)})}handleNewMessage(G){const ye={id:G.new.id,user:G.new.user_name,user_id:G.new.user_id,message:G.new.message,timestamp:G.new.created_at,room:G.new.room,type:G.new.message_type||"message"},Te=this.messagesSubject.value;if(!Te.find(ze=>ze.id===ye.id)){const wt=[...Te,ye].sort((er,fn)=>new Date(er.timestamp).getTime()-new Date(fn.timestamp).getTime()).slice(-200);this.messagesSubject.next(wt)}}getAuthToken(){return localStorage.getItem("auth_token")}handleSystemMessage(G){this.handleNewMessage(G)}setupPeriodicStats(){return new ee.yU(()=>{const G=setInterval(()=>{this.loadStatsObservable().subscribe()},3e4);return()=>clearInterval(G)})}setupOnlineUsersCheck(){return new ee.yU(()=>{const G=setInterval(()=>{this.checkOnlineUsers().subscribe()},15e3);return()=>clearInterval(G)})}loadUserFromStorage(){const G=localStorage.getItem("chat_user_name");G&&(this.currentUser=G)}loadInitialHistory(){return this.http.get(`${this.apiUrl}/api/chat/messages?limit=100`).pipe((0,St.M)({next:G=>{this.messagesSubject.next(G.messages||[]),this.connectedSubject.next(!0)},error:G=>{console.error("Error loading initial history:",G),this.connectedSubject.next(!1)}}),(0,Ze.W)(G=>(console.error("API call failed for initial history:",G),this.connectedSubject.next(!1),(0,ve.of)(null))))}checkOnlineUsers(){return this.http.get(`${this.apiUrl}/api/chat/online-users`).pipe((0,Ze.W)(G=>(0,ve.of)({online_users:1})),(0,St.M)(G=>this.onlineUsersSubject.next(G.online_users)))}sendMessage(G){const ye=this.getAuthToken(),Te={"Content-Type":"application/json"};ye&&(Te.Authorization=`Bearer ${ye}`);const ze={message:G.trim(),user:this.currentUser,user_id:this.userId,room:this.currentRoom};return this.http.post(`${this.apiUrl}/api/chat/send`,ze,{headers:Te}).pipe((0,St.M)(wt=>{wt.success&&wt.message&&this.setTyping(!1)}))}deleteMessage(G){const ye=this.getAuthToken(),Te={};return ye&&(Te.Authorization=`Bearer ${ye}`),this.http.delete(`${this.apiUrl}/api/chat/messages/${G}`,{headers:Te})}isAdmin(){return!!this.getAuthToken()}setTyping(G){this.isTyping!==G&&(this.isTyping=G,this.http.post(`${this.apiUrl}/api/chat/typing`,{user:this.currentUser,room:this.currentRoom,is_typing:G}).pipe((0,Ze.W)(()=>(0,ve.of)(null))).subscribe())}setUser(G){G&&G.trim()&&(this.currentUser=G.trim(),localStorage.setItem("chat_user_name",this.currentUser))}getUser(){return this.currentUser}loadStatsObservable(){return this.http.get(`${this.apiUrl}/api/chat/stats`).pipe((0,Ze.W)(()=>(0,ve.of)(null)),(0,St.M)(G=>{G&&this.statsSubject.next(G)}))}loadStats(){this.loadStatsObservable().subscribe()}validateUsername(G){const ye=this.getAuthToken(),Te={"Content-Type":"application/json"};return ye&&(Te.Authorization=`Bearer ${ye}`),this.http.post(`${this.apiUrl}/api/chat/validate-username`,{username:G},{headers:Te}).pipe((0,Ze.W)(ze=>(0,ve.of)({valid:!1,error:"Error validando nombre"})))}generateUserId(){let G=localStorage.getItem("chat_user_id");return G||(G=`user_${Math.random().toString(36).substring(2,11)}`,localStorage.setItem("chat_user_id",G)),G}static \u0275fac=function(ye){return new(ye||Z)(C.KVO(H.Qq))};static \u0275prov=C.jDH({token:Z,factory:Z.\u0275fac,providedIn:"root"})}return Z})();const Ne=["messagesContainer"],je=["chatContainer"];function Ke(Z,Ie){if(1&Z&&(C.j41(0,"span",14),C.EFF(1),C.k0s()),2&Z){const G=C.XpG(2);C.R7$(1),C.JRh(G.unreadMessages)}}function st(Z,Ie){1&Z&&(C.j41(0,"div",22),C.nrm(1,"i",23),C.EFF(2," Reconectando... "),C.k0s())}function be(Z,Ie){if(1&Z){const G=C.RV6();C.j41(0,"div",24)(1,"div",25),C.nrm(2,"i",26),C.EFF(3),C.k0s(),C.j41(4,"button",27),C.bIt("click",function(){C.eBV(G);const Te=C.XpG(3);return C.Njj(Te.showUserModal=!0)}),C.nrm(5,"i",28),C.k0s(),C.j41(6,"button",29),C.bIt("click",function(){C.eBV(G);const Te=C.XpG(3);return C.Njj(Te.isChatOpen=!1)}),C.nrm(7,"i",30),C.k0s()()}if(2&Z){const G=Ie.ngIf;C.R7$(3),C.SpI(" ",G,"")}}function $e(Z,Ie){if(1&Z&&(C.j41(0,"div",15)(1,"div",16)(2,"h4"),C.nrm(3,"i",17),C.EFF(4," Chat Musical"),C.k0s(),C.j41(5,"div",18),C.nrm(6,"span",19),C.EFF(7),C.k0s(),C.DNE(8,st,3,0,"div",20),C.k0s(),C.DNE(9,be,8,1,"div",21),C.nI1(10,"async"),C.k0s()),2&Z){const G=Ie.ngIf,ye=C.XpG(2);C.R7$(5),C.AVh("connected",G)("disconnected",!G),C.R7$(2),C.SpI(" ",G?"Conectado":"Reconectando..."," "),C.R7$(1),C.Y8G("ngIf",!G),C.R7$(1),C.Y8G("ngIf",C.bMT(10,7,ye.onlineUsers$))}}function bt(Z,Ie){if(1&Z&&(C.j41(0,"div",31)(1,"div",32)(2,"small"),C.EFF(3),C.k0s()(),C.j41(4,"div",32)(5,"small"),C.EFF(6),C.k0s()()()),2&Z){const G=Ie.ngIf;C.R7$(3),C.SpI("Total: ",null==G?null:G.total_messages,""),C.R7$(3),C.SpI("Hoy: ",null==G?null:G.messages_today,"")}}function mt(Z,Ie){if(1&Z){const G=C.RV6();C.j41(0,"button",42),C.bIt("click",function(){C.eBV(G);const Te=C.XpG(2).$implicit,ze=C.XpG(3);return C.Njj(ze.deleteMessage(Te.id))}),C.nrm(1,"i",43),C.k0s()}}function tn(Z,Ie){if(1&Z&&(C.j41(0,"div",38)(1,"strong",39),C.EFF(2),C.k0s(),C.j41(3,"span",40),C.EFF(4),C.k0s(),C.DNE(5,mt,2,0,"button",41),C.nI1(6,"async"),C.k0s()),2&Z){const G=C.XpG().$implicit,ye=C.XpG(3);C.R7$(2),C.JRh(G.user),C.R7$(2),C.JRh(ye.formatTime(G.timestamp)),C.R7$(1),C.Y8G("ngIf",C.bMT(6,3,ye.isAdmin$))}}function Be(Z,Ie){if(1&Z&&(C.j41(0,"div",35),C.DNE(1,tn,7,5,"div",36),C.j41(2,"div",37),C.EFF(3),C.k0s()()),2&Z){const G=Ie.$implicit,ye=C.XpG(2).ngIf;C.AVh("system-message","system"===G.type)("own-message",G.user===ye&&"message"===G.type),C.R7$(1),C.Y8G("ngIf","message"===G.type),C.R7$(2),C.JRh(G.message)}}function at(Z,Ie){if(1&Z&&(C.j41(0,"div")(1,"div",33)(2,"span"),C.EFF(3),C.k0s()(),C.DNE(4,Be,4,6,"div",34),C.k0s()),2&Z){const G=Ie.$implicit,ye=C.XpG(2);C.R7$(3),C.JRh(G.label),C.R7$(1),C.Y8G("ngForOf",G.messages)("ngForTrackBy",ye.trackByMessage)}}function Xe(Z,Ie){if(1&Z&&(C.j41(0,"div")(1,"div",46),C.nrm(2,"span")(3,"span")(4,"span"),C.k0s(),C.j41(5,"span",47),C.EFF(6),C.k0s()()),2&Z){const G=C.XpG().ngIf;C.R7$(6),C.Lme("",G.join(", ")," ",1===G.length?"est\xe1 escribiendo...":"est\xe1n escribiendo...","")}}function Et(Z,Ie){if(1&Z&&(C.j41(0,"div",44),C.DNE(1,Xe,7,2,"div",45),C.k0s()),2&Z){const G=Ie.ngIf;C.R7$(1),C.Y8G("ngIf",G.length>0)}}function Vn(Z,Ie){if(1&Z){const G=C.RV6();C.j41(0,"div",48)(1,"input",49,50),C.bIt("ngModelChange",function(Te){C.eBV(G);const ze=C.XpG(2);return C.Njj(ze.newMessage=Te)})("input",function(){C.eBV(G);const Te=C.XpG(2);return C.Njj(Te.onInputChange())})("keyup.enter",function(){C.eBV(G);const Te=C.XpG(2);return C.Njj(Te.sendMessage())}),C.k0s(),C.j41(3,"button",51),C.bIt("click",function(){C.eBV(G);const Te=C.XpG(2);return C.Njj(Te.sendMessage())}),C.nrm(4,"i",52),C.k0s()()}if(2&Z){const G=Ie.ngIf,ye=C.XpG(2);C.R7$(1),C.FS9("placeholder",G?"Escribe un mensaje...":"Conectando..."),C.Y8G("ngModel",ye.newMessage)("disabled",!G),C.R7$(2),C.Y8G("disabled",!ye.newMessage.trim()||!G)}}function Rn(Z,Ie){if(1&Z&&(C.j41(0,"div",61)(1,"small",62),C.EFF(2),C.k0s()()),2&Z){const G=C.XpG(3);C.R7$(2),C.JRh(G.usernameError)}}function un(Z,Ie){if(1&Z){const G=C.RV6();C.j41(0,"div",53),C.bIt("click",function(){C.eBV(G);const Te=C.XpG(2);return C.Njj(Te.showUserModal=!1)}),C.j41(1,"div",54),C.bIt("click",function(Te){return Te.stopPropagation()}),C.j41(2,"h4"),C.EFF(3,"Cambiar Nombre"),C.k0s(),C.j41(4,"input",55,56),C.bIt("keyup",function(){C.eBV(G);const Te=C.sdS(5),ze=C.XpG(2);return C.Njj(ze.onUsernameInput(Te.value))})("keyup.enter",function(){C.eBV(G);const Te=C.sdS(5),ze=C.XpG(2);return C.Njj(ze.updateUser(Te.value))}),C.k0s(),C.DNE(6,Rn,3,1,"div",57),C.j41(7,"div",58)(8,"button",59),C.bIt("click",function(){C.eBV(G);const Te=C.XpG(2);return C.Njj(Te.showUserModal=!1)}),C.EFF(9,"Cancelar"),C.k0s(),C.j41(10,"button",60),C.bIt("click",function(){C.eBV(G);const Te=C.sdS(5),ze=C.XpG(2);return C.Njj(ze.updateUser(Te.value))}),C.EFF(11," Guardar "),C.k0s()()()()}if(2&Z){const G=C.XpG().ngIf,ye=C.XpG();C.R7$(4),C.Y8G("value",G),C.R7$(2),C.Y8G("ngIf",ye.usernameError),C.R7$(4),C.Y8G("disabled",ye.usernameError)}}function Mt(Z,Ie){if(1&Z){const G=C.RV6();C.j41(0,"div",1)(1,"button",2),C.bIt("click",function(){C.eBV(G);const Te=C.XpG();return C.Njj(Te.toggleChat())}),C.nrm(2,"i",3),C.DNE(3,Ke,2,1,"span",4),C.k0s(),C.j41(4,"div",5),C.DNE(5,$e,11,9,"div",6),C.nI1(6,"async"),C.DNE(7,bt,7,2,"div",7),C.nI1(8,"async"),C.j41(9,"div",8,9),C.DNE(11,at,5,3,"div",10),C.nI1(12,"async"),C.DNE(13,Et,2,1,"div",11),C.nI1(14,"async"),C.k0s(),C.DNE(15,Vn,5,4,"div",12),C.nI1(16,"async"),C.DNE(17,un,12,3,"div",13),C.k0s()()}if(2&Z){const G=C.XpG();C.R7$(1),C.AVh("has-unread",G.unreadMessages>0),C.R7$(2),C.Y8G("ngIf",G.unreadMessages>0),C.R7$(1),C.AVh("open",G.isChatOpen),C.R7$(1),C.Y8G("ngIf",C.bMT(6,11,G.connected$)),C.R7$(2),C.Y8G("ngIf",C.bMT(8,13,G.stats$)),C.R7$(4),C.Y8G("ngForOf",C.bMT(12,15,G.groupedMessages$)),C.R7$(2),C.Y8G("ngIf",C.bMT(14,17,G.typingUsers$)),C.R7$(2),C.Y8G("ngIf",C.bMT(16,19,G.connected$)),C.R7$(2),C.Y8G("ngIf",G.showUserModal)}}let te=(()=>{class Z{chatService;cdr;elementRef;messagesContainer;chatContainer;isChatOpen=!1;newMessage="";showUserModal=!1;unreadMessages=0;usernameError="";previousMessageCount=0;messages$;groupedMessages$;typingUsers$;onlineUsers$;connected$;stats$;currentUser$;isAdmin$;subscriptions=new ee.yU;typingTimeout;constructor(G,ye,Te){this.chatService=G,this.cdr=ye,this.elementRef=Te,this.messages$=this.chatService.messages$,this.typingUsers$=this.chatService.typingUsers$,this.onlineUsers$=this.chatService.onlineUsers$,this.connected$=this.chatService.connected$,this.stats$=this.chatService.stats$,this.currentUser$=(0,ve.of)(this.chatService.getUser()),this.connected$=this.chatService.connected$,this.stats$=this.chatService.stats$,this.currentUser$=(0,ve.of)(this.chatService.getUser()),this.isAdmin$=(0,ve.of)(this.chatService.isAdmin()),this.groupedMessages$=this.messages$.pipe((0,Ge.T)(ze=>this.groupMessagesByDate(ze)))}ngOnInit(){const G=this.messages$.subscribe(ye=>{setTimeout(()=>{this.handleNewMessages(ye),this.cdr.detectChanges(),this.autoScrollToBottom()})});this.subscriptions.add(G),setTimeout(()=>{this.chatService.loadInitialHistory().subscribe()},1e3)}onUsernameInput(G){const ye=G.trim();ye?this.chatService.validateUsername(ye).subscribe({next:Te=>{this.usernameError=Te.valid?"":Te.error||"",this.cdr.markForCheck()},error:()=>{this.usernameError="",this.cdr.markForCheck()}}):(this.usernameError="",this.cdr.markForCheck())}ngOnDestroy(){this.subscriptions.unsubscribe(),this.typingTimeout&&clearTimeout(this.typingTimeout)}handleNewMessages(G){if(!this.messagesContainer)return;const ye=G.length,Te=this.previousMessageCount;if(this.previousMessageCount=ye,this.isChatOpen){const ze=ye-Te;ze>0&&Te>0&&(this.unreadMessages+=ze)}else{const ze=ye-Te;ze>0&&(this.unreadMessages+=ze,this.showNewMessageNotification(this.unreadMessages))}}sendMessage(){this.connected$.pipe((0,xe.s)(1)).subscribe(G=>{if(this.newMessage.trim()&&G){const ye=this.newMessage.trim();this.newMessage="",this.cdr.markForCheck(),this.chatService.sendMessage(ye).subscribe({next:()=>{this.stopTyping(),this.scrollToBottom()},error:Te=>{this.newMessage=ye,this.cdr.markForCheck(),Te.error&&Te.error.error&&alert(Te.error.error)}})}})}scrollToBottom(){this.messagesContainer&&setTimeout(()=>{try{this.messagesContainer.nativeElement.scrollTop=this.messagesContainer.nativeElement.scrollHeight}catch(G){console.error("Error en scroll:",G)}},50)}showNewMessageNotification(G){!document.hasFocus()&&"Notification"in window&&"granted"===Notification.permission&&new Notification(`Tienes ${G} nuevo${G>1?"s":""} mensaje${G>1?"s":""}`)}toggleChat(){this.isChatOpen=!this.isChatOpen,this.isChatOpen&&(this.unreadMessages=0,this.chatService.loadStats(),setTimeout(()=>{this.scrollToBottom(),this.chatService.loadInitialHistory().subscribe()},100))}setupRealtimeMessages(){const G=this.messages$.subscribe(ye=>{const Te=this.isNearBottom();this.handleNewMessages(ye),this.cdr.markForCheck(),Te&&this.autoScrollToBottom()});this.subscriptions.add(G)}isNearBottom(){if(!this.messagesContainer)return!0;const G=this.messagesContainer.nativeElement;return G.scrollHeight-(G.scrollTop+G.clientHeight)<=150}autoScrollToBottom(){this.messagesContainer&&setTimeout(()=>{const G=this.messagesContainer.nativeElement;G.scrollTop=G.scrollHeight},100)}onInputChange(){this.connected$.pipe((0,xe.s)(1)).subscribe(G=>{this.newMessage.trim()&&G?(this.chatService.setTyping(!0),this.typingTimeout&&clearTimeout(this.typingTimeout),this.typingTimeout=setTimeout(()=>this.stopTyping(),2500)):this.stopTyping()})}stopTyping(){this.typingTimeout&&(clearTimeout(this.typingTimeout),this.typingTimeout=null),this.chatService.setTyping(!1)}updateUser(G){const ye=G.trim();ye&&this.chatService.validateUsername(ye).subscribe({next:Te=>{Te.valid?(this.chatService.setUser(ye),this.currentUser$=(0,ve.of)(ye),this.showUserModal=!1,this.usernameError="",this.cdr.markForCheck(),Te.is_admin&&console.log("\u2705 Modo administrador activado para el chat")):(this.usernameError=Te.error||"Nombre no v\xe1lido",this.cdr.markForCheck())},error:()=>{this.usernameError="Error validando el nombre de usuario",this.cdr.markForCheck()}})}formatTime(G){return new Date(G).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})}trackByMessage(G,ye){return ye.id}onDocumentClick(G){this.isChatOpen&&!this.elementRef.nativeElement.contains(G.target)&&(this.isChatOpen=!1,this.cdr.markForCheck())}deleteMessage(G){confirm("\xbfEst\xe1s seguro de que quieres eliminar este mensaje?")&&this.chatService.deleteMessage(G).subscribe({next:()=>{},error:ye=>{console.error("Error al eliminar mensaje:",ye),alert("No se pudo eliminar el mensaje")}})}groupMessagesByDate(G){const ye=[],Te=new Date;Te.setHours(0,0,0,0);const ze=new Date(Te);return ze.setDate(ze.getDate()-1),G.forEach(wt=>{const er=new Date(wt.timestamp),fn=new Date(er);fn.setHours(0,0,0,0);let _t="";_t=fn.getTime()===Te.getTime()?"Hoy":fn.getTime()===ze.getTime()?"Ayer":er.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"});let Dn=ye[ye.length-1];Dn&&Dn.label===_t?Dn.messages.push(wt):ye.push({label:_t,messages:[wt]})}),ye}static \u0275fac=function(ye){return new(ye||Z)(C.rXU(Gt),C.rXU(C.gRc),C.rXU(C.aKT))};static \u0275cmp=C.VBU({type:Z,selectors:[["app-floating-chat"]],viewQuery:function(ye,Te){if(1&ye&&(C.GBs(Ne,5),C.GBs(je,5)),2&ye){let ze;C.mGM(ze=C.lsd())&&(Te.messagesContainer=ze.first),C.mGM(ze=C.lsd())&&(Te.chatContainer=ze.first)}},hostBindings:function(ye,Te){1&ye&&C.bIt("click",function(wt){return Te.onDocumentClick(wt)},!1,C.EBC)},standalone:!0,features:[C.aNF],decls:2,vars:3,consts:[["class","floating-chat-container",4,"ngIf"],[1,"floating-chat-container"],[1,"floating-chat-button",3,"click"],[1,"fas","fa-comments"],["class","unread-badge",4,"ngIf"],[1,"chat-window"],["class","chat-header",4,"ngIf"],["class","chat-stats",4,"ngIf"],[1,"messages-container"],["messagesContainer",""],[4,"ngFor","ngForOf"],["class","typing-indicator",4,"ngIf"],["class","input-container",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"unread-badge"],[1,"chat-header"],[1,"header-left"],[1,"fas","fa-comments","me-2"],[1,"connection-status"],[1,"status-dot"],["class","reconnection-message",4,"ngIf"],["class","header-right",4,"ngIf"],[1,"reconnection-message"],[1,"fas","fa-sync-alt","fa-spin"],[1,"header-right"],[1,"online-users"],[1,"fas","fa-users","me-1"],["title","Cambiar usuario",1,"btn-user",3,"click"],[1,"fas","fa-user-edit"],["title","Cerrar chat",1,"btn-close",3,"click"],[1,"fas","fa-times"],[1,"chat-stats"],[1,"stat-item"],[1,"date-divider"],["class","message",3,"system-message","own-message",4,"ngFor","ngForOf","ngForTrackBy"],[1,"message"],["class","message-header",4,"ngIf"],[1,"message-content"],[1,"message-header"],[1,"username"],[1,"message-time"],["class","btn-delete-msg","title","Eliminar mensaje",3,"click",4,"ngIf"],["title","Eliminar mensaje",1,"btn-delete-msg",3,"click"],[1,"fas","fa-trash-alt"],[1,"typing-indicator"],[4,"ngIf"],[1,"typing-dots"],[1,"typing-text"],[1,"input-container"],["type","text",1,"message-input",3,"ngModel","disabled","placeholder","ngModelChange","input","keyup.enter"],["messageInput",""],[1,"send-button",3,"disabled","click"],[1,"fas","fa-paper-plane"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],["type","text","placeholder","Tu nombre de usuario","maxlength","20",1,"user-input",3,"value","keyup","keyup.enter"],["userInput",""],["class","validation-message",4,"ngIf"],[1,"modal-actions"],[1,"btn-cancel",3,"click"],[1,"btn-save",3,"disabled","click"],[1,"validation-message"],[1,"text-danger"]],template:function(ye,Te){1&ye&&(C.DNE(0,Mt,18,21,"div",0),C.nI1(1,"async")),2&ye&&C.Y8G("ngIf",C.bMT(1,1,Te.currentUser$))},dependencies:[ae.MD,ae.Sq,ae.bT,ae.Jj,he.YN,he.me,he.BC,he.vS],styles:[".floating-chat-container[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;z-index:10002}.floating-chat-button[_ngcontent-%COMP%]{position:relative;width:70px;height:70px;border-radius:50%;background:linear-gradient(135deg,var(--primary-color),#1db954);color:#fff;border:none;cursor:pointer;box-shadow:0 6px 25px #1db95480;display:flex;align-items:center;justify-content:center;font-size:1.8rem;transition:all .3s ease}.floating-chat-button[_ngcontent-%COMP%]:hover{transform:scale(1.15);box-shadow:0 8px 30px #1db954b3}.floating-chat-button.has-unread[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s infinite}.floating-chat-button[_ngcontent-%COMP%]   .unread-badge[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;background:#e74c3c;color:#fff;border-radius:50%;width:24px;height:24px;font-size:.8rem;display:flex;align-items:center;justify-content:center;font-weight:700;border:2px solid var(--card-bg)}.chat-window[_ngcontent-%COMP%]{position:absolute;bottom:85px;right:0;width:450px;height:650px;background:var(--card-bg);border:1px solid var(--hover-bg);border-radius:16px;box-shadow:0 15px 50px #0006;display:flex;flex-direction:column;opacity:0;transform:translateY(20px) scale(.95);pointer-events:none;transition:all .3s cubic-bezier(.4,0,.2,1)}.chat-window.open[_ngcontent-%COMP%]{opacity:1;transform:translateY(0) scale(1);pointer-events:all}.chat-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.25rem;background:linear-gradient(135deg,var(--hover-bg),var(--card-bg));border-bottom:1px solid var(--border-color);border-radius:16px 16px 0 0}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;color:var(--text-primary);font-size:1.1rem;font-weight:600}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .connection-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.75rem;padding:.3rem .6rem;border-radius:20px;background:var(--bg-color);font-weight:500}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .connection-status.connected[_ngcontent-%COMP%]{color:#10b981;background:rgba(16,185,129,.1)}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .connection-status.connected[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{background:#10b981;box-shadow:0 0 8px #10b98180}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .connection-status.disconnected[_ngcontent-%COMP%]{color:#ef4444;background:rgba(239,68,68,.1)}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .connection-status.disconnected[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{background:#ef4444}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .connection-status[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%;animation:_ngcontent-%COMP%_pulse 2s infinite}.chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .online-users[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem;padding:.4rem .8rem;background:var(--bg-color);border-radius:20px;font-size:.8rem;color:var(--text-secondary);font-weight:500}.chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn-user[_ngcontent-%COMP%], .chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--text-secondary);padding:.5rem;border-radius:8px;cursor:pointer;transition:all .2s ease}.chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn-user[_ngcontent-%COMP%]:hover, .chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{background:var(--hover-bg);color:var(--text-primary);transform:scale(1.1)}.chat-stats[_ngcontent-%COMP%]{display:flex;gap:1.5rem;padding:.75rem 1.25rem;background:var(--bg-color);border-bottom:1px solid var(--border-color)}.chat-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.75rem;font-weight:500}.messages-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:1.25rem;display:flex;flex-direction:column;gap:.75rem;background:var(--bg-color)}.message[_ngcontent-%COMP%]{max-width:90%;padding:.75rem 1rem;border-radius:16px;background:var(--hover-bg);animation:_ngcontent-%COMP%_messageSlide .25s ease-out;border:1px solid transparent;transition:all .2s ease}.message[_ngcontent-%COMP%]:hover{border-color:var(--border-color);transform:translateY(-1px)}.message.own-message[_ngcontent-%COMP%]{align-self:flex-end;background:linear-gradient(135deg,var(--primary-color),#1a8cff);color:#fff;box-shadow:0 4px 15px #1db9544d}.message.own-message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{color:#fffffff2}.message.own-message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%]{color:#fffc}.message.system-message[_ngcontent-%COMP%]{align-self:center;background:transparent;text-align:center;color:var(--text-secondary);font-style:italic;max-width:100%;border:1px dashed var(--border-color)}.message.system-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{font-size:.85rem;font-weight:500}.message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.3rem}.message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600;color:var(--text-primary)}.message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%]{font-size:.7rem;opacity:.8;color:var(--text-secondary)}.message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .btn-delete-msg[_ngcontent-%COMP%]{background:transparent;border:none;color:#ef444499;margin-left:auto;padding:4px;border-radius:50%;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;width:24px;height:24px}.message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .btn-delete-msg[_ngcontent-%COMP%]:hover{background:rgba(239,68,68,.15);color:#ef4444;transform:scale(1.1)}.message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{word-wrap:break-word;line-height:1.4;font-size:.9rem}.typing-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem 1rem;color:var(--text-secondary);font-size:.85rem;font-style:italic;background:var(--hover-bg);border-radius:12px;margin-top:.5rem}.typing-indicator[_ngcontent-%COMP%]   .typing-dots[_ngcontent-%COMP%]{display:flex;gap:3px}.typing-indicator[_ngcontent-%COMP%]   .typing-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:6px;height:6px;border-radius:50%;background:var(--primary-color);animation:_ngcontent-%COMP%_typingBounce 1.4s infinite ease-in-out}.typing-indicator[_ngcontent-%COMP%]   .typing-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){animation-delay:-.32s}.typing-indicator[_ngcontent-%COMP%]   .typing-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.16s}.date-divider[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:1rem 0}.date-divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:rgba(0,0,0,.2);color:var(--text-secondary);padding:.25rem .75rem;border-radius:12px;font-size:.75rem;font-weight:500}.input-container[_ngcontent-%COMP%]{display:flex;padding:1rem;border-top:1px solid var(--border-color);background:var(--card-bg);gap:.75rem;align-items:center}.input-container[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]{flex:1;padding:.75rem 1rem;border:2px solid var(--border-color);border-radius:25px;background:var(--bg-color);color:var(--text-primary);font-size:.9rem;transition:all .3s ease}.input-container[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #1db9541a}.input-container[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.input-container[_ngcontent-%COMP%]   .send-button[_ngcontent-%COMP%]{padding:.75rem;background:linear-gradient(135deg,var(--primary-color),#1db954);color:#fff;border:none;border-radius:50%;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center}.input-container[_ngcontent-%COMP%]   .send-button[_ngcontent-%COMP%]:hover:not(:disabled){transform:scale(1.1) rotate(5deg);box-shadow:0 6px 20px #1db95466}.input-container[_ngcontent-%COMP%]   .send-button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none}.modal-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:rgba(0,0,0,.8);display:flex;align-items:center;justify-content:center;z-index:10;border-radius:16px;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.modal-content[_ngcontent-%COMP%]{background:var(--card-bg);padding:2rem;border-radius:16px;width:90%;max-width:400px;border:1px solid var(--border-color);box-shadow:0 20px 60px #0000004d}.modal-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 1.5rem;color:var(--text-primary);font-size:1.2rem;font-weight:600;text-align:center}.modal-content[_ngcontent-%COMP%]   .user-input[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:2px solid var(--border-color);border-radius:12px;background:var(--bg-color);color:var(--text-primary);margin-bottom:1.5rem;font-size:1rem;transition:all .3s ease}.modal-content[_ngcontent-%COMP%]   .user-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #1db9541a}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;justify-content:flex-end}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]{padding:.6rem 1.25rem;border:none;border-radius:8px;cursor:pointer;font-size:.9rem;font-weight:500;transition:all .3s ease}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background:transparent;color:var(--text-secondary);border:2px solid var(--border-color)}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover{background:var(--hover-bg);border-color:var(--text-secondary)}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color),#1db954);color:#fff}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #1db9544d}@keyframes _ngcontent-%COMP%_messageSlide{0%{opacity:0;transform:translateY(8px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}@keyframes _ngcontent-%COMP%_typingBounce{0%,80%,to{transform:scale(.8);opacity:.5}40%{transform:scale(1.2);opacity:1}}@keyframes _ngcontent-%COMP%_pulse{0%,to{box-shadow:0 6px 25px #1db95480}50%{box-shadow:0 6px 30px #1db954cc}}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:3px}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--text-secondary)}.messages-container[_ngcontent-%COMP%]{scroll-behavior:smooth;overflow-anchor:auto}@media (max-width: 768px){.floating-chat-container[_ngcontent-%COMP%]{bottom:15px;right:15px}.floating-chat-button[_ngcontent-%COMP%]{width:60px;height:60px;font-size:1.5rem}.chat-window[_ngcontent-%COMP%]{width:380px;height:550px;bottom:75px}}@media (max-width: 480px){.floating-chat-container[_ngcontent-%COMP%]{bottom:10px;right:10px}.chat-window[_ngcontent-%COMP%]{width:calc(100vw - 30px);height:70vh;right:-5px;bottom:65px}.floating-chat-button[_ngcontent-%COMP%]{width:55px;height:55px;font-size:1.3rem}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideInUp{0%{transform:translateY(30px);opacity:0}to{transform:translateY(0);opacity:1}}.chat-window[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.connection-status[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s infinite}.message[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--primary-color);outline-offset:2px}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.reconnection-message[_ngcontent-%COMP%]{text-align:center;padding:1rem;color:var(--text-secondary);font-size:.9rem}.reconnection-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem}.reconnect-info[_ngcontent-%COMP%]{font-size:.7rem;opacity:.8}.reconnect-info[_ngcontent-%COMP%]{font-size:.7rem;opacity:.8;margin-left:.3rem}.reconnection-message[_ngcontent-%COMP%]{text-align:center;padding:.5rem;color:var(--text-secondary);font-size:.8rem;background:rgba(239,68,68,.1);border-radius:8px;margin-top:.5rem}.reconnection-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.connection-status.disconnected[_ngcontent-%COMP%]{background:rgba(239,68,68,.15)!important;border:1px solid rgba(239,68,68,.3)}.connection-status.connected[_ngcontent-%COMP%]{background:rgba(16,185,129,.15)!important;border:1px solid rgba(16,185,129,.3)}.validation-message[_ngcontent-%COMP%]{margin:-.5rem 0 1rem;text-align:center}.validation-message[_ngcontent-%COMP%]   .text-danger[_ngcontent-%COMP%]{color:#e74c3c;font-size:.8rem;font-weight:500}.modal-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none!important}.modal-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]:disabled:hover{box-shadow:none!important;transform:none!important}"],changeDetection:0})}return Z})();function Pe(Z,Ie){return{type:7,name:Z,definitions:Ie,options:{}}}function Le(Z,Ie=null){return{type:4,styles:Ie,timings:Z}}function Zt(Z){return{type:6,styles:Z,offset:null}}function ln(Z,Ie,G=null){return{type:1,expr:Z,animation:Ie,options:G}}var Or=R(5455);function Xt(Z,Ie){1&Z&&C.nrm(0,"i",13)}function kt(Z,Ie){1&Z&&C.nrm(0,"i",14)}function Pt(Z,Ie){1&Z&&C.nrm(0,"i",15)}function wn(Z,Ie){1&Z&&C.nrm(0,"i",16)}function Ft(Z,Ie){if(1&Z){const G=C.RV6();C.j41(0,"button",17),C.bIt("click",function(){C.eBV(G);const Te=C.XpG(2);return C.Njj(Te.cancel())}),C.EFF(1),C.k0s()}if(2&Z){const G=C.XpG(2);C.R7$(1),C.SpI(" ",G.config.cancelText||"Cancelar"," ")}}function zn(Z,Ie){if(1&Z){const G=C.RV6();C.j41(0,"div",1),C.bIt("click",function(Te){C.eBV(G);const ze=C.XpG();return C.Njj(ze.closeBackdrop(Te))}),C.j41(1,"div",2)(2,"div",3)(3,"div",4),C.DNE(4,Xt,1,0,"i",5),C.DNE(5,kt,1,0,"i",6),C.DNE(6,Pt,1,0,"i",7),C.DNE(7,wn,1,0,"i",8),C.k0s(),C.j41(8,"h3"),C.EFF(9),C.k0s()(),C.j41(10,"div",9)(11,"p"),C.EFF(12),C.k0s()(),C.j41(13,"div",10),C.DNE(14,Ft,2,1,"button",11),C.j41(15,"button",12),C.bIt("click",function(){C.eBV(G);const Te=C.XpG();return C.Njj(Te.confirm())}),C.EFF(16),C.k0s()()()()}if(2&Z){const G=C.XpG();C.Y8G("@fadeInOut",void 0),C.R7$(1),C.Y8G("@scaleIn",void 0),C.R7$(1),C.Y8G("ngClass",G.config.type||"info"),C.R7$(2),C.Y8G("ngIf","success"===G.config.type),C.R7$(1),C.Y8G("ngIf","warning"===G.config.type||"danger"===G.config.type),C.R7$(1),C.Y8G("ngIf","info"===G.config.type),C.R7$(1),C.Y8G("ngIf","confirm"===G.config.type),C.R7$(2),C.JRh(G.config.title),C.R7$(3),C.JRh(G.config.message),C.R7$(2),C.Y8G("ngIf",G.config.showCancel),C.R7$(1),C.Y8G("ngClass",G.config.type||"info"),C.R7$(1),C.SpI(" ",G.config.confirmText||"Aceptar"," ")}}let Yn=(()=>{class Z{modalService;config=null;constructor(G){this.modalService=G}ngOnInit(){this.modalService.modalState$.subscribe(G=>{this.config=G})}confirm(){this.modalService.close(!0)}cancel(){this.modalService.close(!1)}closeBackdrop(G){G.target.classList.contains("modal-backdrop")&&(this.config?.showCancel?this.cancel():this.confirm())}static \u0275fac=function(ye){return new(ye||Z)(C.rXU(Or.B))};static \u0275cmp=C.VBU({type:Z,selectors:[["app-modal"]],standalone:!0,features:[C.aNF],decls:1,vars:1,consts:[["class","modal-backdrop",3,"click",4,"ngIf"],[1,"modal-backdrop",3,"click"],[1,"modal-container"],[1,"modal-header",3,"ngClass"],[1,"icon-container"],["class","fas fa-check-circle",4,"ngIf"],["class","fas fa-exclamation-circle",4,"ngIf"],["class","fas fa-info-circle",4,"ngIf"],["class","fas fa-question-circle",4,"ngIf"],[1,"modal-body"],[1,"modal-footer"],["class","btn-cancel",3,"click",4,"ngIf"],[1,"btn-confirm",3,"ngClass","click"],[1,"fas","fa-check-circle"],[1,"fas","fa-exclamation-circle"],[1,"fas","fa-info-circle"],[1,"fas","fa-question-circle"],[1,"btn-cancel",3,"click"]],template:function(ye,Te){1&ye&&C.DNE(0,zn,17,12,"div",0),2&ye&&C.Y8G("ngIf",Te.config)},dependencies:[ae.MD,ae.YU,ae.bT],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0009;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);z-index:100000;display:flex;align-items:center;justify-content:center;padding:1rem}.modal-container[_ngcontent-%COMP%]{background:#1e1e1e;background:linear-gradient(145deg,#252525,#1a1a1a);border:1px solid rgba(255,255,255,.1);border-radius:16px;width:100%;max-width:450px;box-shadow:0 20px 50px #00000080;overflow:hidden;color:#fff}.modal-header[_ngcontent-%COMP%]{padding:1.5rem;display:flex;flex-direction:column;align-items:center;text-align:center;border-bottom:1px solid rgba(255,255,255,.05)}.modal-header[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem}.modal-header[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{filter:drop-shadow(0 0 10px rgba(255,255,255,.2))}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:700}.modal-header.success[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .modal-header.success[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#1ed760}.modal-header.warning[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .modal-header.warning[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#ffca28}.modal-header.danger[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .modal-header.danger[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#ff5252}.modal-header.info[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .modal-header.info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#2196f3}.modal-header.confirm[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#1ed760}.modal-header.confirm[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff}.modal-body[_ngcontent-%COMP%]{padding:1.5rem;text-align:center}.modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;line-height:1.6;color:#e0e0e0;white-space:pre-line}.modal-footer[_ngcontent-%COMP%]{padding:1.5rem;display:flex;justify-content:center;gap:1rem;background-color:#0003}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.8rem 1.5rem;border-radius:50px;border:none;font-weight:600;font-size:1rem;cursor:pointer;transition:all .2s ease;min-width:120px}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #0000004d}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:translateY(0)}.modal-footer[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background-color:transparent;border:1px solid rgba(255,255,255,.2);color:#e0e0e0}.modal-footer[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;color:#fff}.modal-footer[_ngcontent-%COMP%]   .btn-confirm[_ngcontent-%COMP%]{color:#fff}.modal-footer[_ngcontent-%COMP%]   .btn-confirm.success[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-confirm.confirm[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1ed760,#16a34a);box-shadow:0 4px 15px #1ed7604d}.modal-footer[_ngcontent-%COMP%]   .btn-confirm.warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffca28,#ffb300);color:#000;box-shadow:0 4px 15px #ffca284d}.modal-footer[_ngcontent-%COMP%]   .btn-confirm.danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff5252,#d32f2f);box-shadow:0 4px 15px #ff52524d}.modal-footer[_ngcontent-%COMP%]   .btn-confirm.info[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2196f3,#1976d2);box-shadow:0 4px 15px #2196f34d}"],data:{animation:[Pe("fadeInOut",[ln(":enter",[Zt({opacity:0}),Le("200ms ease-out",Zt({opacity:1}))]),ln(":leave",[Le("200ms ease-in",Zt({opacity:0}))])]),Pe("scaleIn",[ln(":enter",[Zt({transform:"scale(0.9)",opacity:0}),Le("200ms cubic-bezier(0.25, 0.8, 0.25, 1)",Zt({transform:"scale(1)",opacity:1}))]),ln(":leave",[Le("150ms ease-in",Zt({transform:"scale(0.9)",opacity:0}))])])]}})}return Z})();const Ln=function(){return{exact:!0}};(0,l.B8)((()=>{class Z{title="UPTC Music";isMenuOpen=!1;toggleMenu(){this.isMenuOpen=!this.isMenuOpen}static \u0275fac=function(ye){return new(ye||Z)};static \u0275cmp=C.VBU({type:Z,selectors:[["app-root"]],standalone:!0,features:[C.aNF],decls:50,vars:6,consts:[[1,"main-container"],[1,"main-header"],[1,"container","d-flex","justify-content-between","align-items-center"],[1,"logo-container"],["routerLink","/",1,"text-decoration-none","text-white","d-flex","align-items-center"],[1,"logo-icon"],[1,"fab","fa-spotify"],[1,"app-title","mb-0","ms-2"],[1,"hamburger-menu","d-md-none",3,"click"],[1,"fas",3,"ngClass"],[1,"main-nav"],["routerLink","/","routerLinkActive","active",3,"routerLinkActiveOptions","click"],[1,"fas","fa-home","me-1"],["routerLink","/discussion","routerLinkActive","active",3,"click"],[1,"fas","fa-comments","me-1"],["routerLink","/ranking","routerLinkActive","active",3,"click"],[1,"fas","fa-trophy","me-1"],["routerLink","/buitres","routerLinkActive","active",3,"click"],[1,"fas","fa-search","me-1"],["routerLink","/about","routerLinkActive","active",3,"click"],[1,"fas","fa-info-circle","me-1"],["routerLink","/admin-login","routerLinkActive","active",3,"click"],[1,"fas","fa-lock","me-1"],[1,"content-area"],[1,"container"],[1,"now-playing-bar"],[1,"footer-content","text-center"],[1,"footer-text","mb-0"],[1,"footer-text","mb-1"],[1,"social-links"],["href","https://github.com/SebastianVega4","target","_blank"],[1,"fab","fa-github","me-1"],["href","https://www.linkedin.com/in/johan-sebastian-vega-ruiz-b1292011b/","target","_blank"],[1,"fab","fa-linkedin","me-1"],["href","https://www.instagram.com/sebastian.vegar/","target","_blank"],[1,"fab","fa-instagram","me-1"]],template:function(ye,Te){1&ye&&(C.j41(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3)(4,"a",4)(5,"div",5),C.nrm(6,"i",6),C.k0s(),C.j41(7,"h1",7),C.EFF(8),C.k0s()()(),C.j41(9,"button",8),C.bIt("click",function(){return Te.toggleMenu()}),C.nrm(10,"i",9),C.k0s(),C.j41(11,"nav",10)(12,"a",11),C.bIt("click",function(){return Te.toggleMenu()}),C.nrm(13,"i",12),C.EFF(14,"Inicio "),C.k0s(),C.j41(15,"a",13),C.bIt("click",function(){return Te.toggleMenu()}),C.nrm(16,"i",14),C.EFF(17,"Foro "),C.k0s(),C.j41(18,"a",15),C.bIt("click",function(){return Te.toggleMenu()}),C.nrm(19,"i",16),C.EFF(20,"Ranking "),C.k0s(),C.j41(21,"a",17),C.bIt("click",function(){return Te.toggleMenu()}),C.nrm(22,"i",18),C.EFF(23,"Buitres "),C.k0s(),C.j41(24,"a",19),C.bIt("click",function(){return Te.toggleMenu()}),C.nrm(25,"i",20),C.EFF(26,"About "),C.k0s(),C.j41(27,"a",21),C.bIt("click",function(){return Te.toggleMenu()}),C.nrm(28,"i",22),C.k0s()()()(),C.j41(29,"main",23)(30,"div",24),C.nrm(31,"router-outlet"),C.k0s()(),C.nrm(32,"app-floating-chat")(33,"app-modal"),C.k0s(),C.j41(34,"footer",25)(35,"div",26)(36,"p",27),C.EFF(37,"Desarrollado por:"),C.k0s(),C.j41(38,"p",28),C.EFF(39,"Estudiante de Ingenier\xeda de Sistemas - UPTC Sogamoso 2025-II"),C.k0s(),C.j41(40,"div",29)(41,"a",30),C.nrm(42,"i",31),C.EFF(43,"GitHub "),C.k0s(),C.j41(44,"a",32),C.nrm(45,"i",33),C.EFF(46,"LinkedIn "),C.k0s(),C.j41(47,"a",34),C.nrm(48,"i",35),C.EFF(49,"Instagram "),C.k0s()()()()),2&ye&&(C.R7$(8),C.JRh(Te.title),C.R7$(2),C.Y8G("ngClass",Te.isMenuOpen?"fa-times":"fa-bars"),C.R7$(1),C.AVh("active",Te.isMenuOpen),C.R7$(1),C.Y8G("routerLinkActiveOptions",C.lJ4(5,Ln)))},dependencies:[U.iI,U.n3,U.Wk,U.wQ,ae.MD,ae.YU,te,Yn],styles:[".main-header[_ngcontent-%COMP%]{padding:0rem;background:var(--glass-bg);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border-bottom:1px solid rgba(255,255,255,.1);top:0;z-index:10000;box-shadow:0 4px 30px #0000004d}.logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.8rem}.logo-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,var(--primary-color) 0%,var(--accent-purple) 100%);display:flex;align-items:center;justify-content:center;box-shadow:0 0 15px #1db95466}.logo-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--text-primary)}.app-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;color:var(--text-primary);margin:0;letter-spacing:-.5px;background:linear-gradient(135deg,var(--text-primary) 0%,var(--primary-color) 100%);-webkit-text-fill-color:transparent;-webkit-background-clip:text;background-clip:text}.main-nav[_ngcontent-%COMP%]{display:flex;gap:1rem}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--text-secondary);text-decoration:none;font-weight:600;padding:.5rem 1rem;border-radius:50px;transition:all .3s ease;display:flex;align-items:center}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--text-primary);background:rgba(255,255,255,.05);transform:translateY(-2px)}.main-nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:var(--text-primary);background:rgba(29,185,84,.15);box-shadow:0 0 15px #1db95433}.main-nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color)}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem;transition:color .3s ease}.now-playing-bar[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border-top:1px solid rgba(255,255,255,.1);padding:1rem;color:var(--text-primary);display:flex;align-items:center;justify-content:center;position:relative;z-index:5}.footer-content[_ngcontent-%COMP%]{width:100%;text-align:center}.footer-text[_ngcontent-%COMP%]{font-size:.8rem;margin:.3rem 0;color:var(--text-secondary)}.social-links[_ngcontent-%COMP%]{margin-top:.5rem}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--text-secondary);text-decoration:none;margin:0 .8rem;font-size:.9rem;transition:all .3s ease;display:inline-flex;align-items:center}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--primary-color);transform:translateY(-2px)}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.3rem;font-size:1rem}@media (max-width: 768px){.main-header[_ngcontent-%COMP%]{padding:.8rem 1rem}.main-header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative}.main-header[_ngcontent-%COMP%]   .hamburger-menu[_ngcontent-%COMP%]{display:block;background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer;position:relative;z-index:10001}.main-header[_ngcontent-%COMP%]   .main-nav[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;width:100%;background-color:#000000f2;flex-direction:column;align-items:center;padding:1rem 0;display:none;z-index:1000;border-bottom:1px solid rgba(255,255,255,.1);gap:0}.main-header[_ngcontent-%COMP%]   .main-nav.active[_ngcontent-%COMP%]{display:flex}.main-header[_ngcontent-%COMP%]   .main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:100%;text-align:center;padding:1rem;margin:0;border-bottom:1px solid rgba(255,255,255,.05);border-radius:0}.main-header[_ngcontent-%COMP%]   .main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-child{border-bottom:none}.main-header[_ngcontent-%COMP%]   .main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;transform:none}.app-title[_ngcontent-%COMP%]{font-size:1.2rem}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:0 .5rem;font-size:.8rem}}@media (min-width: 769px){.hamburger-menu[_ngcontent-%COMP%]{display:none}.main-nav[_ngcontent-%COMP%]{display:flex!important}}"]})}return Z})(),oe).catch(Z=>console.error(Z))},5958:(Ye,se,R)=>{"use strict";var l=R(9293).default;Object.defineProperty(se,"__esModule",{value:!0});const C=R(5215).__importDefault(R(4659));se.default=class ie{constructor(L){var H,oe;this.shouldThrowOnError=!1,this.method=L.method,this.url=L.url,this.headers=new Headers(L.headers),this.schema=L.schema,this.body=L.body,this.shouldThrowOnError=null!==(H=L.shouldThrowOnError)&&void 0!==H&&H,this.signal=L.signal,this.isMaybeSingle=null!==(oe=L.isMaybeSingle)&&void 0!==oe&&oe,this.fetch=L.fetch?L.fetch:fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(L,H){return this.headers=new Headers(this.headers),this.headers.set(L,H),this}then(L,H){var oe=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let he=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(function(){var ee=l(function*(ve){var Ge,xe,Fe,St;let Ze=null,pt=null,et=null,Gt=ve.status,Ne=ve.statusText;if(ve.ok){if("HEAD"!==oe.method){const be=yield ve.text();""===be||(pt="text/csv"===oe.headers.get("Accept")||oe.headers.get("Accept")&&null!==(Ge=oe.headers.get("Accept"))&&void 0!==Ge&&Ge.includes("application/vnd.pgrst.plan+text")?be:JSON.parse(be))}const Ke=null===(xe=oe.headers.get("Prefer"))||void 0===xe?void 0:xe.match(/count=(exact|planned|estimated)/),st=null===(Fe=ve.headers.get("content-range"))||void 0===Fe?void 0:Fe.split("/");Ke&&st&&st.length>1&&(et=parseInt(st[1])),oe.isMaybeSingle&&"GET"===oe.method&&Array.isArray(pt)&&(pt.length>1?(Ze={code:"PGRST116",details:`Results contain ${pt.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},pt=null,et=null,Gt=406,Ne="Not Acceptable"):pt=1===pt.length?pt[0]:null)}else{const Ke=yield ve.text();try{Ze=JSON.parse(Ke),Array.isArray(Ze)&&404===ve.status&&(pt=[],Ze=null,Gt=200,Ne="OK")}catch{404===ve.status&&""===Ke?(Gt=204,Ne="No Content"):Ze={message:Ke}}if(Ze&&oe.isMaybeSingle&&!(null===(St=Ze?.details)||void 0===St)&&St.includes("0 rows")&&(Ze=null,Gt=200,Ne="OK"),Ze&&oe.shouldThrowOnError)throw new C.default(Ze)}return{error:Ze,data:pt,count:et,status:Gt,statusText:Ne}});return function(ve){return ee.apply(this,arguments)}}());return this.shouldThrowOnError||(he=he.catch(ee=>{var ve,Ge,xe,Fe,St,Ze;let pt="";const et=ee?.cause;if(et){const Gt=null!==(ve=et?.message)&&void 0!==ve?ve:"",Ne=null!==(Ge=et?.code)&&void 0!==Ge?Ge:"";pt=`${null!==(xe=ee?.name)&&void 0!==xe?xe:"FetchError"}: ${ee?.message}`,pt+=`\n\nCaused by: ${null!==(Fe=et?.name)&&void 0!==Fe?Fe:"Error"}: ${Gt}`,Ne&&(pt+=` (${Ne})`),et?.stack&&(pt+=`\n${et.stack}`)}else pt=null!==(St=ee?.stack)&&void 0!==St?St:"";return{error:{message:`${null!==(Ze=ee?.name)&&void 0!==Ze?Ze:"FetchError"}: ${ee?.message}`,details:pt,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),he.then(L,H)}returns(){return this}overrideTypes(){return this}}},3242:(Ye,se,R)=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});const l=R(5215),U=l.__importDefault(R(8666)),C=l.__importDefault(R(3608));class ie{constructor(L,{headers:H={},schema:oe,fetch:ae}={}){this.url=L,this.headers=new Headers(H),this.schemaName=oe,this.fetch=ae}from(L){if(!L||"string"!=typeof L||""===L.trim())throw new Error("Invalid relation name: relation must be a non-empty string.");const H=new URL(`${this.url}/${L}`);return new U.default(H,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(L){return new ie(this.url,{headers:this.headers,schema:L,fetch:this.fetch})}rpc(L,H={},{head:oe=!1,get:ae=!1,count:he}={}){var ee;let ve;const Ge=new URL(`${this.url}/rpc/${L}`);let xe;oe||ae?(ve=oe?"HEAD":"GET",Object.entries(H).filter(([St,Ze])=>void 0!==Ze).map(([St,Ze])=>[St,Array.isArray(Ze)?`{${Ze.join(",")}}`:`${Ze}`]).forEach(([St,Ze])=>{Ge.searchParams.append(St,Ze)})):(ve="POST",xe=H);const Fe=new Headers(this.headers);return he&&Fe.set("Prefer",`count=${he}`),new C.default({method:ve,url:Ge,headers:Fe,schema:this.schemaName,body:xe,fetch:null!==(ee=this.fetch)&&void 0!==ee?ee:fetch})}}se.default=ie},4659:(Ye,se)=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});class R extends Error{constructor(U){super(U.message),this.name="PostgrestError",this.details=U.details,this.hint=U.hint,this.code=U.code}}se.default=R},3608:(Ye,se,R)=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});const U=R(5215).__importDefault(R(3342)),C=new RegExp("[,()]");se.default=class ie extends U.default{eq(L,H){return this.url.searchParams.append(L,`eq.${H}`),this}neq(L,H){return this.url.searchParams.append(L,`neq.${H}`),this}gt(L,H){return this.url.searchParams.append(L,`gt.${H}`),this}gte(L,H){return this.url.searchParams.append(L,`gte.${H}`),this}lt(L,H){return this.url.searchParams.append(L,`lt.${H}`),this}lte(L,H){return this.url.searchParams.append(L,`lte.${H}`),this}like(L,H){return this.url.searchParams.append(L,`like.${H}`),this}likeAllOf(L,H){return this.url.searchParams.append(L,`like(all).{${H.join(",")}}`),this}likeAnyOf(L,H){return this.url.searchParams.append(L,`like(any).{${H.join(",")}}`),this}ilike(L,H){return this.url.searchParams.append(L,`ilike.${H}`),this}ilikeAllOf(L,H){return this.url.searchParams.append(L,`ilike(all).{${H.join(",")}}`),this}ilikeAnyOf(L,H){return this.url.searchParams.append(L,`ilike(any).{${H.join(",")}}`),this}regexMatch(L,H){return this.url.searchParams.append(L,`match.${H}`),this}regexIMatch(L,H){return this.url.searchParams.append(L,`imatch.${H}`),this}is(L,H){return this.url.searchParams.append(L,`is.${H}`),this}isDistinct(L,H){return this.url.searchParams.append(L,`isdistinct.${H}`),this}in(L,H){const oe=Array.from(new Set(H)).map(ae=>"string"==typeof ae&&C.test(ae)?`"${ae}"`:`${ae}`).join(",");return this.url.searchParams.append(L,`in.(${oe})`),this}contains(L,H){return"string"==typeof H?this.url.searchParams.append(L,`cs.${H}`):Array.isArray(H)?this.url.searchParams.append(L,`cs.{${H.join(",")}}`):this.url.searchParams.append(L,`cs.${JSON.stringify(H)}`),this}containedBy(L,H){return"string"==typeof H?this.url.searchParams.append(L,`cd.${H}`):Array.isArray(H)?this.url.searchParams.append(L,`cd.{${H.join(",")}}`):this.url.searchParams.append(L,`cd.${JSON.stringify(H)}`),this}rangeGt(L,H){return this.url.searchParams.append(L,`sr.${H}`),this}rangeGte(L,H){return this.url.searchParams.append(L,`nxl.${H}`),this}rangeLt(L,H){return this.url.searchParams.append(L,`sl.${H}`),this}rangeLte(L,H){return this.url.searchParams.append(L,`nxr.${H}`),this}rangeAdjacent(L,H){return this.url.searchParams.append(L,`adj.${H}`),this}overlaps(L,H){return this.url.searchParams.append(L,"string"==typeof H?`ov.${H}`:`ov.{${H.join(",")}}`),this}textSearch(L,H,{config:oe,type:ae}={}){let he="";return"plain"===ae?he="pl":"phrase"===ae?he="ph":"websearch"===ae&&(he="w"),this.url.searchParams.append(L,`${he}fts${void 0===oe?"":`(${oe})`}.${H}`),this}match(L){return Object.entries(L).forEach(([H,oe])=>{this.url.searchParams.append(H,`eq.${oe}`)}),this}not(L,H,oe){return this.url.searchParams.append(L,`not.${H}.${oe}`),this}or(L,{foreignTable:H,referencedTable:oe=H}={}){return this.url.searchParams.append(oe?`${oe}.or`:"or",`(${L})`),this}filter(L,H,oe){return this.url.searchParams.append(L,`${H}.${oe}`),this}}},8666:(Ye,se,R)=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});const U=R(5215).__importDefault(R(3608));se.default=class C{constructor(J,{headers:L={},schema:H,fetch:oe}){this.url=J,this.headers=new Headers(L),this.schema=H,this.fetch=oe}select(J,L){const{head:H=!1,count:oe}=L??{},ae=H?"HEAD":"GET";let he=!1;const ee=(J??"*").split("").map(ve=>/\s/.test(ve)&&!he?"":('"'===ve&&(he=!he),ve)).join("");return this.url.searchParams.set("select",ee),oe&&this.headers.append("Prefer",`count=${oe}`),new U.default({method:ae,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(J,{count:L,defaultToNull:H=!0}={}){var oe;if(L&&this.headers.append("Prefer",`count=${L}`),H||this.headers.append("Prefer","missing=default"),Array.isArray(J)){const he=J.reduce((ee,ve)=>ee.concat(Object.keys(ve)),[]);if(he.length>0){const ee=[...new Set(he)].map(ve=>`"${ve}"`);this.url.searchParams.set("columns",ee.join(","))}}return new U.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:J,fetch:null!==(oe=this.fetch)&&void 0!==oe?oe:fetch})}upsert(J,{onConflict:L,ignoreDuplicates:H=!1,count:oe,defaultToNull:ae=!0}={}){var he;if(this.headers.append("Prefer",`resolution=${H?"ignore":"merge"}-duplicates`),void 0!==L&&this.url.searchParams.set("on_conflict",L),oe&&this.headers.append("Prefer",`count=${oe}`),ae||this.headers.append("Prefer","missing=default"),Array.isArray(J)){const ve=J.reduce((Ge,xe)=>Ge.concat(Object.keys(xe)),[]);if(ve.length>0){const Ge=[...new Set(ve)].map(xe=>`"${xe}"`);this.url.searchParams.set("columns",Ge.join(","))}}return new U.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:J,fetch:null!==(he=this.fetch)&&void 0!==he?he:fetch})}update(J,{count:L}={}){var H;return L&&this.headers.append("Prefer",`count=${L}`),new U.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:J,fetch:null!==(H=this.fetch)&&void 0!==H?H:fetch})}delete({count:J}={}){var L;return J&&this.headers.append("Prefer",`count=${J}`),new U.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(L=this.fetch)&&void 0!==L?L:fetch})}}},3342:(Ye,se,R)=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});const U=R(5215).__importDefault(R(5958));se.default=class C extends U.default{select(J){let L=!1;const H=(J??"*").split("").map(oe=>/\s/.test(oe)&&!L?"":('"'===oe&&(L=!L),oe)).join("");return this.url.searchParams.set("select",H),this.headers.append("Prefer","return=representation"),this}order(J,{ascending:L=!0,nullsFirst:H,foreignTable:oe,referencedTable:ae=oe}={}){const he=ae?`${ae}.order`:"order",ee=this.url.searchParams.get(he);return this.url.searchParams.set(he,`${ee?`${ee},`:""}${J}.${L?"asc":"desc"}${void 0===H?"":H?".nullsfirst":".nullslast"}`),this}limit(J,{foreignTable:L,referencedTable:H=L}={}){return this.url.searchParams.set(typeof H>"u"?"limit":`${H}.limit`,`${J}`),this}range(J,L,{foreignTable:H,referencedTable:oe=H}={}){const he=typeof oe>"u"?"limit":`${oe}.limit`;return this.url.searchParams.set(typeof oe>"u"?"offset":`${oe}.offset`,`${J}`),this.url.searchParams.set(he,""+(L-J+1)),this}abortSignal(J){return this.signal=J,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.headers.set("Accept","GET"===this.method?"application/json":"application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:J=!1,verbose:L=!1,settings:H=!1,buffers:oe=!1,wal:ae=!1,format:he="text"}={}){var ee;const ve=[J?"analyze":null,L?"verbose":null,H?"settings":null,oe?"buffers":null,ae?"wal":null].filter(Boolean).join("|"),Ge=null!==(ee=this.headers.get("Accept"))&&void 0!==ee?ee:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${he}; for="${Ge}"; options=${ve};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(J){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${J}`),this}}},4060:(Ye,se,R)=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0}),se.PostgrestError=se.PostgrestBuilder=se.PostgrestTransformBuilder=se.PostgrestFilterBuilder=se.PostgrestQueryBuilder=se.PostgrestClient=void 0;const l=R(5215),U=l.__importDefault(R(3242));se.PostgrestClient=U.default;const C=l.__importDefault(R(8666));se.PostgrestQueryBuilder=C.default;const ie=l.__importDefault(R(3608));se.PostgrestFilterBuilder=ie.default;const J=l.__importDefault(R(3342));se.PostgrestTransformBuilder=J.default;const L=l.__importDefault(R(5958));se.PostgrestBuilder=L.default;const H=l.__importDefault(R(4659));se.PostgrestError=H.default,se.default={PostgrestClient:U.default,PostgrestQueryBuilder:C.default,PostgrestFilterBuilder:ie.default,PostgrestTransformBuilder:J.default,PostgrestBuilder:L.default,PostgrestError:H.default}},5321:(Ye,se,R)=>{"use strict";R.d(se,{UU:()=>gi});var l=R(467),U=R(5215);class ie extends Error{constructor(a,i="FunctionsError",u){super(a),this.name=i,this.context=u}}class J extends ie{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class L extends ie{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class H extends ie{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var oe=function(g){return g.Any="any",g.ApNortheast1="ap-northeast-1",g.ApNortheast2="ap-northeast-2",g.ApSouth1="ap-south-1",g.ApSoutheast1="ap-southeast-1",g.ApSoutheast2="ap-southeast-2",g.CaCentral1="ca-central-1",g.EuCentral1="eu-central-1",g.EuWest1="eu-west-1",g.EuWest2="eu-west-2",g.EuWest3="eu-west-3",g.SaEast1="sa-east-1",g.UsEast1="us-east-1",g.UsWest1="us-west-1",g.UsWest2="us-west-2",g}(oe||{});class ae{constructor(a,{headers:i={},customFetch:u,region:v=oe.Any}={}){var g;this.url=a,this.headers=i,this.region=v,this.fetch=(g=u)?(...a)=>g(...a):(...a)=>fetch(...a)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return(0,U.__awaiter)(this,arguments,void 0,function*(i,u={}){var v;let E,O;try{const{headers:I,method:F,body:B,signal:K,timeout:me}=u;let Oe={},{region:Ve}=u;Ve||(Ve=this.region);const Me=new URL(`${this.url}/${i}`);let We;Ve&&"any"!==Ve&&(Oe["x-region"]=Ve,Me.searchParams.set("forceFunctionRegion",Ve)),B&&(I&&!Object.prototype.hasOwnProperty.call(I,"Content-Type")||!I)?typeof Blob<"u"&&B instanceof Blob||B instanceof ArrayBuffer?(Oe["Content-Type"]="application/octet-stream",We=B):"string"==typeof B?(Oe["Content-Type"]="text/plain",We=B):typeof FormData<"u"&&B instanceof FormData?We=B:(Oe["Content-Type"]="application/json",We=JSON.stringify(B)):We=B;let dt=K;me&&(O=new AbortController,E=setTimeout(()=>O.abort(),me),K?(dt=O.signal,K.addEventListener("abort",()=>O.abort())):dt=O.signal);const ht=yield this.fetch(Me.toString(),{method:F||"POST",headers:Object.assign(Object.assign(Object.assign({},Oe),this.headers),I),body:We,signal:dt}).catch(He=>{throw new J(He)}),Wt=ht.headers.get("x-relay-error");if(Wt&&"true"===Wt)throw new L(ht);if(!ht.ok)throw new H(ht);let ue,rn=(null!==(v=ht.headers.get("Content-Type"))&&void 0!==v?v:"text/plain").split(";")[0].trim();return ue="application/json"===rn?yield ht.json():"application/octet-stream"===rn||"application/pdf"===rn?yield ht.blob():"text/event-stream"===rn?ht:"multipart/form-data"===rn?yield ht.formData():yield ht.text(),{data:ue,error:null,response:ht}}catch(I){return{data:null,error:I,response:I instanceof H||I instanceof L?I.context:void 0}}finally{E&&clearTimeout(E)}})}}var he=R(4060),ee=R.t(he,2);const{PostgrestClient:ve}=he||ee,Gt=class et{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&null!==(a=navigator.userAgent)&&void 0!==a&&a.includes("Vercel-Edge"))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const v=parseInt(i.node.replace(/^v/,"").split(".")[0]);return v>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${v} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${v} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let i=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(i+=`\n\nSuggested solution: ${a.workaround}`),new Error(i)}static createWebSocket(a,i){return new(this.getWebSocketConstructor())(a,i)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return"native"===a.type||"ws"===a.type}catch{return!1}}};var Be=function(g){return g[g.connecting=0]="connecting",g[g.open=1]="open",g[g.closing=2]="closing",g[g.closed=3]="closed",g}(Be||{}),at=function(g){return g.closed="closed",g.errored="errored",g.joined="joined",g.joining="joining",g.leaving="leaving",g}(at||{}),Xe=function(g){return g.close="phx_close",g.error="phx_error",g.join="phx_join",g.reply="phx_reply",g.leave="phx_leave",g.access_token="access_token",g}(Xe||{}),Et=function(g){return g.websocket="websocket",g}(Et||{}),Vn=function(g){return g.Connecting="connecting",g.Open="open",g.Closing="closing",g.Closed="closed",g}(Vn||{});class Rn{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,i){return a.event!==this.BROADCAST_EVENT||a.payload instanceof ArrayBuffer||"string"!=typeof a.payload.event?i(JSON.stringify([a.join_ref,a.ref,a.topic,a.event,a.payload])):i(this._binaryEncodeUserBroadcastPush(a))}_binaryEncodeUserBroadcastPush(a){var i;return this._isArrayBuffer(null===(i=a.payload)||void 0===i?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var i,u;const v=null!==(u=null===(i=a.payload)||void 0===i?void 0:i.payload)&&void 0!==u?u:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,v)}_encodeJsonUserBroadcastPush(a){var i,u;const v=null!==(u=null===(i=a.payload)||void 0===i?void 0:i.payload)&&void 0!==u?u:{},O=(new TextEncoder).encode(JSON.stringify(v)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,O)}_encodeUserBroadcastPush(a,i,u){var v,E;const O=a.topic,I=null!==(v=a.ref)&&void 0!==v?v:"",F=null!==(E=a.join_ref)&&void 0!==E?E:"",B=a.payload.event,K=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},me=0===Object.keys(K).length?"":JSON.stringify(K);if(F.length>255)throw new Error(`joinRef length ${F.length} exceeds maximum of 255`);if(I.length>255)throw new Error(`ref length ${I.length} exceeds maximum of 255`);if(O.length>255)throw new Error(`topic length ${O.length} exceeds maximum of 255`);if(B.length>255)throw new Error(`userEvent length ${B.length} exceeds maximum of 255`);if(me.length>255)throw new Error(`metadata length ${me.length} exceeds maximum of 255`);const Ve=new ArrayBuffer(this.HEADER_LENGTH+(this.USER_BROADCAST_PUSH_META_LENGTH+F.length+I.length+O.length+B.length+me.length));let Me=new DataView(Ve),We=0;Me.setUint8(We++,this.KINDS.userBroadcastPush),Me.setUint8(We++,F.length),Me.setUint8(We++,I.length),Me.setUint8(We++,O.length),Me.setUint8(We++,B.length),Me.setUint8(We++,me.length),Me.setUint8(We++,i),Array.from(F,ht=>Me.setUint8(We++,ht.charCodeAt(0))),Array.from(I,ht=>Me.setUint8(We++,ht.charCodeAt(0))),Array.from(O,ht=>Me.setUint8(We++,ht.charCodeAt(0))),Array.from(B,ht=>Me.setUint8(We++,ht.charCodeAt(0))),Array.from(me,ht=>Me.setUint8(We++,ht.charCodeAt(0)));var dt=new Uint8Array(Ve.byteLength+u.byteLength);return dt.set(new Uint8Array(Ve),0),dt.set(new Uint8Array(u),Ve.byteLength),dt.buffer}decode(a,i){if(this._isArrayBuffer(a))return i(this._binaryDecode(a));if("string"==typeof a){const u=JSON.parse(a),[v,E,O,I,F]=u;return i({join_ref:v,ref:E,topic:O,event:I,payload:F})}return i({})}_binaryDecode(a){const i=new DataView(a),u=i.getUint8(0),v=new TextDecoder;if(u===this.KINDS.userBroadcast)return this._decodeUserBroadcast(a,i,v)}_decodeUserBroadcast(a,i,u){const v=i.getUint8(1),E=i.getUint8(2),O=i.getUint8(3),I=i.getUint8(4);let F=this.HEADER_LENGTH+4;const B=u.decode(a.slice(F,F+v));F+=v;const K=u.decode(a.slice(F,F+E));F+=E;const me=u.decode(a.slice(F,F+O));F+=O;const Oe=a.slice(F,a.byteLength),Ve=I===this.JSON_ENCODING?JSON.parse(u.decode(Oe)):Oe,Me={type:this.BROADCAST_EVENT,event:K,payload:Ve};return O>0&&(Me.meta=JSON.parse(me)),{join_ref:null,ref:null,topic:B,event:this.BROADCAST_EVENT,payload:Me}}_isArrayBuffer(a){var i;return a instanceof ArrayBuffer||"ArrayBuffer"===(null===(i=a?.constructor)||void 0===i?void 0:i.name)}_pick(a,i){return a&&"object"==typeof a?Object.fromEntries(Object.entries(a).filter(([u])=>i.includes(u))):{}}}class un{constructor(a,i){this.callback=a,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Mt=function(g){return g.abstime="abstime",g.bool="bool",g.date="date",g.daterange="daterange",g.float4="float4",g.float8="float8",g.int2="int2",g.int4="int4",g.int4range="int4range",g.int8="int8",g.int8range="int8range",g.json="json",g.jsonb="jsonb",g.money="money",g.numeric="numeric",g.oid="oid",g.reltime="reltime",g.text="text",g.time="time",g.timestamp="timestamp",g.timestamptz="timestamptz",g.timetz="timetz",g.tsrange="tsrange",g.tstzrange="tstzrange",g}(Mt||{});const te=(g,a,i={})=>{var u;const v=null!==(u=i.skipTypes)&&void 0!==u?u:[];return a?Object.keys(a).reduce((E,O)=>(E[O]=le(O,g,a,v),E),{}):{}},le=(g,a,i,u)=>{const v=a.find(I=>I.name===g),E=v?.type,O=i[g];return E&&!u.includes(E)?fe(E,O):Ce(O)},fe=(g,a)=>{if("_"===g.charAt(0)){const i=g.slice(1,g.length);return Kt(a,i)}switch(g){case Mt.bool:return Pe(a);case Mt.float4:case Mt.float8:case Mt.int2:case Mt.int4:case Mt.int8:case Mt.numeric:case Mt.oid:return Le(a);case Mt.json:case Mt.jsonb:return ut(a);case Mt.timestamp:return Zt(a);default:return Ce(a)}},Ce=g=>g,Pe=g=>{switch(g){case"t":return!0;case"f":return!1;default:return g}},Le=g=>{if("string"==typeof g){const a=parseFloat(g);if(!Number.isNaN(a))return a}return g},ut=g=>{if("string"==typeof g)try{return JSON.parse(g)}catch(a){return console.log(`JSON parse error: ${a}`),g}return g},Kt=(g,a)=>{if("string"!=typeof g)return g;const i=g.length-1;if("{"===g[0]&&"}"===g[i]){let E;const O=g.slice(1,i);try{E=JSON.parse("["+O+"]")}catch{E=O?O.split(","):[]}return E.map(I=>fe(a,I))}return g},Zt=g=>"string"==typeof g?g.replace(" ","T"):g,Ct=g=>{const a=new URL(g);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname=""===a.pathname||"/"===a.pathname?"/api/broadcast":a.pathname+"/api/broadcast",a.href};class Qt{constructor(a,i,u={},v=1e4){this.channel=a,this.event=i,this.payload=u,this.timeout=v,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,i){var u;return this._hasReceived(a)&&i(null===(u=this.receivedResp)||void 0===u?void 0:u.response),this.recHooks.push({status:a,callback:i}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(a,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:i}){this.recHooks.filter(u=>u.status===a).forEach(u=>u.callback(i))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}class xn{constructor(a,i){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const u=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(u.state,{},v=>{const{onJoin:E,onLeave:O,onSync:I}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xn.syncState(this.state,v,E,O),this.pendingDiffs.forEach(F=>{this.state=xn.syncDiff(this.state,F,E,O)}),this.pendingDiffs=[],I()}),this.channel._on(u.diff,{},v=>{const{onJoin:E,onLeave:O,onSync:I}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(v):(this.state=xn.syncDiff(this.state,v,E,O),I())}),this.onJoin((v,E,O)=>{this.channel._trigger("presence",{event:"join",key:v,currentPresences:E,newPresences:O})}),this.onLeave((v,E,O)=>{this.channel._trigger("presence",{event:"leave",key:v,currentPresences:E,leftPresences:O})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,i,u,v){const E=this.cloneDeep(a),O=this.transformState(i),I={},F={};return this.map(E,(B,K)=>{O[B]||(F[B]=K)}),this.map(O,(B,K)=>{const me=E[B];if(me){const Oe=K.map(dt=>dt.presence_ref),Ve=me.map(dt=>dt.presence_ref),Me=K.filter(dt=>Ve.indexOf(dt.presence_ref)<0),We=me.filter(dt=>Oe.indexOf(dt.presence_ref)<0);Me.length>0&&(I[B]=Me),We.length>0&&(F[B]=We)}else I[B]=K}),this.syncDiff(E,{joins:I,leaves:F},u,v)}static syncDiff(a,i,u,v){const{joins:E,leaves:O}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return u||(u=()=>{}),v||(v=()=>{}),this.map(E,(I,F)=>{var B;const K=null!==(B=a[I])&&void 0!==B?B:[];if(a[I]=this.cloneDeep(F),K.length>0){const me=a[I].map(Ve=>Ve.presence_ref),Oe=K.filter(Ve=>me.indexOf(Ve.presence_ref)<0);a[I].unshift(...Oe)}u(I,K,F)}),this.map(O,(I,F)=>{let B=a[I];if(!B)return;const K=F.map(me=>me.presence_ref);B=B.filter(me=>K.indexOf(me.presence_ref)<0),a[I]=B,v(I,B,F),0===B.length&&delete a[I]}),a}static map(a,i){return Object.getOwnPropertyNames(a).map(u=>i(u,a[u]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((i,u)=>{const v=a[u];return i[u]="metas"in v?v.metas.map(E=>(E.presence_ref=E.phx_ref,delete E.phx_ref,delete E.phx_ref_prev,E)):v,i},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var tt=function(g){return g.BROADCAST="broadcast",g.PRESENCE="presence",g.POSTGRES_CHANGES="postgres_changes",g.SYSTEM="system",g}(tt||{}),it=function(g){return g.SUBSCRIBED="SUBSCRIBED",g.TIMED_OUT="TIMED_OUT",g.CLOSED="CLOSED",g.CHANNEL_ERROR="CHANNEL_ERROR",g}(it||{});class on{constructor(a,i={config:{}},u){var v,E;if(this.topic=a,this.params=i,this.socket=u,this.bindings={},this.state=at.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Qt(this,Xe.join,this.params,this.timeout),this.rejoinTimer=new un(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=at.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(O=>O.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=at.closed,this.socket._remove(this)}),this._onError(O=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,O),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",O=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,O),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xe.reply,{},(O,I)=>{this._trigger(this._replyEventName(I),O)}),this.presence=new xn(this),this.broadcastEndpointURL=Ct(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&null!==(E=null===(v=this.params.config)||void 0===v?void 0:v.broadcast)&&void 0!==E&&E.replay)throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,i=this.timeout){var v,E,O,u=this;if(this.socket.isConnected()||this.socket.connect(),this.state==at.closed){const{config:{broadcast:I,presence:F,private:B}}=this.params,K=null!==(E=null===(v=this.bindings.postgres_changes)||void 0===v?void 0:v.map(Me=>Me.filter))&&void 0!==E?E:[],me=!!this.bindings[tt.PRESENCE]&&this.bindings[tt.PRESENCE].length>0||!0===(null===(O=this.params.config.presence)||void 0===O?void 0:O.enabled),Oe={},Ve={broadcast:I,presence:Object.assign(Object.assign({},F),{enabled:me}),postgres_changes:K,private:B};this.socket.accessTokenValue&&(Oe.access_token=this.socket.accessTokenValue),this._onError(Me=>a?.(it.CHANNEL_ERROR,Me)),this._onClose(()=>a?.(it.CLOSED)),this.updateJoinPayload(Object.assign({config:Ve},Oe)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",function(){var Me=(0,l.A)(function*({postgres_changes:We}){var dt;if(u.socket.setAuth(),void 0!==We){const ht=u.bindings.postgres_changes,Wt=null!==(dt=ht?.length)&&void 0!==dt?dt:0,rn=[];for(let ue=0;ue<Wt;ue++){const He=ht[ue],{filter:{event:kn,schema:ho,table:Ut,filter:Zn}}=He,Jr=We&&We[ue];if(!Jr||Jr.event!==kn||Jr.schema!==ho||Jr.table!==Ut||Jr.filter!==Zn)return u.unsubscribe(),u.state=at.errored,void a?.(it.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));rn.push(Object.assign(Object.assign({},He),{id:Jr.id}))}return u.bindings.postgres_changes=rn,void(a&&a(it.SUBSCRIBED))}a?.(it.SUBSCRIBED)});return function(We){return Me.apply(this,arguments)}}()).receive("error",Me=>{this.state=at.errored,a?.(it.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(Me).join(", ")||"error")))}).receive("timeout",()=>{a?.(it.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(a){var i=this;return(0,l.A)(function*(u,v={}){return yield i.send({type:"presence",event:"track",payload:u},v.timeout||i.timeout)}).apply(this,arguments)}untrack(){var a=this;return(0,l.A)(function*(i={}){return yield a.send({type:"presence",event:"untrack"},i)}).apply(this,arguments)}on(a,i,u){return this.state===at.joined&&a===tt.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(a,i,u)}httpSend(a,i){var u=this;return(0,l.A)(function*(v,E,O={}){var I;const F=u.socket.accessTokenValue?`Bearer ${u.socket.accessTokenValue}`:"";if(null==E)return Promise.reject("Payload is required for httpSend()");const B={method:"POST",headers:{Authorization:F,apikey:u.socket.apiKey?u.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:u.subTopic,event:v,payload:E,private:u.private}]})},K=yield u._fetchWithTimeout(u.broadcastEndpointURL,B,null!==(I=O.timeout)&&void 0!==I?I:u.timeout);if(202===K.status)return{success:!0};let me=K.statusText;try{const Oe=yield K.json();me=Oe.error||Oe.message||me}catch{}return Promise.reject(new Error(me))}).apply(this,arguments)}send(a){var i=this;return(0,l.A)(function*(u,v={}){var E,O;if(i._canPush()||"broadcast"!==u.type)return new Promise(I=>{var F,B,K;const me=i._push(u.type,u,v.timeout||i.timeout);"broadcast"===u.type&&!(null!==(K=null===(B=null===(F=i.params)||void 0===F?void 0:F.config)||void 0===B?void 0:B.broadcast)&&void 0!==K&&K.ack)&&I("ok"),me.receive("ok",()=>I("ok")),me.receive("error",()=>I("error")),me.receive("timeout",()=>I("timed out"))});{console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:I,payload:F}=u,K={method:"POST",headers:{Authorization:i.socket.accessTokenValue?`Bearer ${i.socket.accessTokenValue}`:"",apikey:i.socket.apiKey?i.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:i.subTopic,event:I,payload:F,private:i.private}]})};try{const me=yield i._fetchWithTimeout(i.broadcastEndpointURL,K,null!==(E=v.timeout)&&void 0!==E?E:i.timeout);return yield null===(O=me.body)||void 0===O?void 0:O.cancel(),me.ok?"ok":"error"}catch(me){return"AbortError"===me.name?"timed out":"error"}}}).apply(this,arguments)}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=at.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xe.close,"leave",this._joinRef())};this.joinPush.destroy();let u=null;return new Promise(v=>{u=new Qt(this,Xe.leave,{},a),u.receive("ok",()=>{i(),v("ok")}).receive("timeout",()=>{i(),v("timed out")}).receive("error",()=>{v("error")}),u.send(),this._canPush()||u.trigger("ok",{})}).finally(()=>{u?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=at.closed,this.bindings={}}_fetchWithTimeout(a,i,u){var v=this;return(0,l.A)(function*(){const E=new AbortController,O=setTimeout(()=>E.abort(),u),I=yield v.socket.fetch(a,Object.assign(Object.assign({},i),{signal:E.signal}));return clearTimeout(O),I})()}_push(a,i,u=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let v=new Qt(this,a,i,u);return this._canPush()?v.send():this._addToPushBuffer(v),v}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>100){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(a,i,u){return i}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,i,u){var v,E;const O=a.toLocaleLowerCase(),{close:I,error:F,leave:B,join:K}=Xe;if(u&&[I,F,B,K].indexOf(O)>=0&&u!==this._joinRef())return;let Oe=this._onMessage(O,i,u);if(i&&!Oe)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(O)?null===(v=this.bindings.postgres_changes)||void 0===v||v.filter(Ve=>{var Me,We,dt;return"*"===(null===(Me=Ve.filter)||void 0===Me?void 0:Me.event)||(null===(dt=null===(We=Ve.filter)||void 0===We?void 0:We.event)||void 0===dt?void 0:dt.toLocaleLowerCase())===O}).map(Ve=>Ve.callback(Oe,u)):null===(E=this.bindings[O])||void 0===E||E.filter(Ve=>{var Me,We,dt,ht,Wt,rn;if(["broadcast","presence","postgres_changes"].includes(O)){if("id"in Ve){const ue=Ve.id,He=null===(Me=Ve.filter)||void 0===Me?void 0:Me.event;return ue&&(null===(We=i.ids)||void 0===We?void 0:We.includes(ue))&&("*"===He||He?.toLocaleLowerCase()===(null===(dt=i.data)||void 0===dt?void 0:dt.type.toLocaleLowerCase()))}{const ue=null===(Wt=null===(ht=Ve?.filter)||void 0===ht?void 0:ht.event)||void 0===Wt?void 0:Wt.toLocaleLowerCase();return"*"===ue||ue===(null===(rn=i?.event)||void 0===rn?void 0:rn.toLocaleLowerCase())}}return Ve.type.toLocaleLowerCase()===O}).map(Ve=>{if("object"==typeof Oe&&"ids"in Oe){const Me=Oe.data,{schema:We,table:dt,commit_timestamp:ht,type:Wt,errors:rn}=Me;Oe=Object.assign(Object.assign({},{schema:We,table:dt,commit_timestamp:ht,eventType:Wt,new:{},old:{},errors:rn}),this._getPayloadRecords(Me))}Ve.callback(Oe,u)})}_isClosed(){return this.state===at.closed}_isJoined(){return this.state===at.joined}_isJoining(){return this.state===at.joining}_isLeaving(){return this.state===at.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,i,u){const v=a.toLocaleLowerCase(),E={type:v,filter:i,callback:u};return this.bindings[v]?this.bindings[v].push(E):this.bindings[v]=[E],this}_off(a,i){const u=a.toLocaleLowerCase();return this.bindings[u]&&(this.bindings[u]=this.bindings[u].filter(v=>{var E;return!((null===(E=v.type)||void 0===E?void 0:E.toLocaleLowerCase())===u&&on.isEqual(v.filter,i))})),this}static isEqual(a,i){if(Object.keys(a).length!==Object.keys(i).length)return!1;for(const u in a)if(a[u]!==i[u])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(Xe.close,{},a)}_onError(a){this._on(Xe.error,{},i=>a(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=at.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const i={new:{},old:{}};return("INSERT"===a.type||"UPDATE"===a.type)&&(i.new=te(a.columns,a.record)),("UPDATE"===a.type||"DELETE"===a.type)&&(i.old=te(a.columns,a.old_record)),i}}const Nt=()=>{},Or=[1e3,2e3,5e3,1e4];class Pt{constructor(a,i){var u;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.transport=null,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Nt,this.ref=0,this.reconnectTimer=null,this.vsn="1.0.0",this.logger=Nt,this.conn=null,this.sendBuffer=[],this.serializer=new Rn,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=v=>v?(...E)=>v(...E):(...E)=>fetch(...E),null===(u=i?.params)||void 0===u||!u.apikey)throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${a}/${Et.websocket}`,this.httpEndpoint=Ct(a),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Gt.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const i=a.message;throw i.includes("Node.js")?new Error(`${i}\n\nTo use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const u=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(u),this._setConnectionState("disconnected")},"function"==typeof this.conn.close&&(a?this.conn.close(a,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(a){var i=this;return(0,l.A)(function*(){const u=yield a.unsubscribe();return 0===i.channels.length&&i.disconnect(),u})()}removeAllChannels(){var a=this;return(0,l.A)(function*(){const i=yield Promise.all(a.channels.map(u=>u.unsubscribe()));return a.channels=[],a.disconnect(),i})()}log(a,i,u){this.logger(a,i,u)}connectionState(){switch(this.conn&&this.conn.readyState){case Be.connecting:return Vn.Connecting;case Be.open:return Vn.Open;case Be.closing:return Vn.Closing;default:return Vn.Closed}}isConnected(){return this.connectionState()===Vn.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(a,i={config:{}}){const u=`realtime:${a}`,v=this.getChannels().find(E=>E.topic===u);if(v)return v;{const E=new on(`realtime:${a}`,i,this);return this.channels.push(E),E}}push(a){const{topic:i,event:u,payload:v,ref:E}=a,O=()=>{this.encode(a,I=>{var F;null===(F=this.conn)||void 0===F||F.send(I)})};this.log("push",`${i} ${u} (${E})`,v),this.isConnected()?O():this.sendBuffer.push(O)}setAuth(){var a=this;return(0,l.A)(function*(i=null){a._authPromise=a._performAuth(i);try{yield a._authPromise}finally{a._authPromise=null}}).apply(this,arguments)}sendHeartbeat(){var a=this;return(0,l.A)(function*(){var i;if(a.isConnected()){if(a.pendingHeartbeatRef){a.pendingHeartbeatRef=null,a.log("transport","heartbeat timeout. Attempting to re-establish connection");try{a.heartbeatCallback("timeout")}catch(u){a.log("error","error in heartbeat callback",u)}return a._wasManualDisconnect=!1,null===(i=a.conn)||void 0===i||i.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var u;a.isConnected()||null===(u=a.reconnectTimer)||void 0===u||u.scheduleTimeout()},100)}a.pendingHeartbeatRef=a._makeRef(),a.push({topic:"phoenix",event:"heartbeat",payload:{},ref:a.pendingHeartbeatRef});try{a.heartbeatCallback("sent")}catch(u){a.log("error","error in heartbeat callback",u)}a._setAuthSafely("heartbeat")}else try{a.heartbeatCallback("disconnected")}catch(u){a.log("error","error in heartbeat callback",u)}})()}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return this.ref=a===this.ref?0:a,this.ref.toString()}_leaveOpenTopic(a){let i=this.channels.find(u=>u.topic===a&&(u._isJoined()||u._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${a}"`),i.unsubscribe())}_remove(a){this.channels=this.channels.filter(i=>i.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,i=>{if("phoenix"===i.topic&&"phx_reply"===i.event)try{this.heartbeatCallback("ok"===i.payload.status?"ok":"error")}catch(B){this.log("error","error in heartbeat callback",B)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:u,event:v,payload:E,ref:O}=i;this.log("receive",`${E.status||""} ${u} ${v} ${O?`(${O})`:""}`.trim(),E),this.channels.filter(B=>B._isMember(u)).forEach(B=>B._trigger(v,E,O)),this._triggerStateCallbacks("message",i)})}_clearTimer(a){var i;"heartbeat"===a&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===a&&(null===(i=this.reconnectTimer)||void 0===i||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Be.open||this.conn.readyState===Be.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.log("worker",this.workerUrl?`starting worker for from ${this.workerUrl}`:"starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{"keepAlive"===i.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(a){var i;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(i=this.reconnectTimer)||void 0===i||i.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(Xe.error))}_appendParams(a,i){if(0===Object.keys(i).length)return a;const u=a.match(/\?/)?"&":"?";return`${a}${u}${new URLSearchParams(i)}`}_workerObjectUrl(a){let i;if(a)i=a;else{const u=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});i=URL.createObjectURL(u)}return i}_setConnectionState(a,i=!1){this._connectionState=a,"connecting"===a?this._wasManualDisconnect=!1:"disconnecting"===a&&(this._wasManualDisconnect=i)}_performAuth(){var a=this;return(0,l.A)(function*(i=null){let u;u=i||(a.accessToken?yield a.accessToken():a.accessTokenValue),a.accessTokenValue!=u&&(a.accessTokenValue=u,a.channels.forEach(v=>{u&&v.updateJoinPayload({access_token:u,version:"realtime-js/2.86.0"}),v.joinedOnce&&v._isJoined()&&v._push(Xe.access_token,{access_token:u})}))}).apply(this,arguments)}_waitForAuthIfNeeded(){var a=this;return(0,l.A)(function*(){a._authPromise&&(yield a._authPromise)})()}_setAuthSafely(a="general"){this.setAuth().catch(i=>{this.log("error",`error setting auth in ${a}`,i)})}_triggerStateCallbacks(a,i){try{this.stateChangeCallbacks[a].forEach(u=>{try{u(i)}catch(v){this.log("error",`error in ${a} callback`,v)}})}catch(u){this.log("error",`error triggering ${a} callbacks`,u)}}_setupReconnectionTimer(){var a=this;this.reconnectTimer=new un((0,l.A)(function*(){setTimeout((0,l.A)(function*(){yield a._waitForAuthIfNeeded(),a.isConnected()||a.connect()}),10)}),this.reconnectAfterMs)}_initializeOptions(a){var i,u,v,E,O,I,F,B,K,me,Oe,Ve;switch(this.transport=null!==(i=a?.transport)&&void 0!==i?i:null,this.timeout=null!==(u=a?.timeout)&&void 0!==u?u:1e4,this.heartbeatIntervalMs=null!==(v=a?.heartbeatIntervalMs)&&void 0!==v?v:25e3,this.worker=null!==(E=a?.worker)&&void 0!==E&&E,this.accessToken=null!==(O=a?.accessToken)&&void 0!==O?O:null,this.heartbeatCallback=null!==(I=a?.heartbeatCallback)&&void 0!==I?I:Nt,this.vsn=null!==(F=a?.vsn)&&void 0!==F?F:"1.0.0",a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(B=a?.reconnectAfterMs)&&void 0!==B?B:Me=>Or[Me-1]||1e4,this.vsn){case"1.0.0":this.encode=null!==(K=a?.encode)&&void 0!==K?K:(Me,We)=>We(JSON.stringify(Me)),this.decode=null!==(me=a?.decode)&&void 0!==me?me:(Me,We)=>We(JSON.parse(Me));break;case"2.0.0":this.encode=null!==(Oe=a?.encode)&&void 0!==Oe?Oe:this.serializer.encode.bind(this.serializer),this.decode=null!==(Ve=a?.decode)&&void 0!==Ve?Ve:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}class wn extends Error{constructor(a){super(a),this.__isStorageError=!0,this.name="StorageError"}}function Ft(g){return"object"==typeof g&&null!==g&&"__isStorageError"in g}class zn extends wn{constructor(a,i,u){super(a),this.name="StorageApiError",this.status=i,this.statusCode=u}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Yn extends wn{constructor(a,i){super(a),this.name="StorageUnknownError",this.originalError=i}}const Ln=g=>g?(...a)=>g(...a):(...a)=>fetch(...a),Z=g=>{if(Array.isArray(g))return g.map(i=>Z(i));if("function"==typeof g||g!==Object(g))return g;const a={};return Object.entries(g).forEach(([i,u])=>{const v=i.replace(/([-_][a-z])/gi,E=>E.toUpperCase().replace(/[-_]/g,""));a[v]=Z(u)}),a},ye=g=>{var a;return g.msg||g.message||g.error_description||("string"==typeof g.error?g.error:null===(a=g.error)||void 0===a?void 0:a.message)||JSON.stringify(g)},Te=(g,a,i)=>(0,U.__awaiter)(void 0,void 0,void 0,function*(){const u=yield Response;g instanceof u&&!i?.noResolveJson?g.json().then(v=>{const E=g.status||500,O=v?.statusCode||E+"";a(new zn(ye(v),E,O))}).catch(v=>{a(new Yn(ye(v),v))}):a(new Yn(ye(g),g))}),ze=(g,a,i,u)=>{const v={method:g,headers:a?.headers||{}};return"GET"!==g&&u?((g=>{if("object"!=typeof g||null===g)return!1;const a=Object.getPrototypeOf(g);return!(null!==a&&a!==Object.prototype&&null!==Object.getPrototypeOf(a)||Symbol.toStringTag in g||Symbol.iterator in g)})(u)?(v.headers=Object.assign({"Content-Type":"application/json"},a?.headers),v.body=JSON.stringify(u)):v.body=u,a?.duplex&&(v.duplex=a.duplex),Object.assign(Object.assign({},v),i)):v};function wt(g,a,i,u,v,E){return(0,U.__awaiter)(this,void 0,void 0,function*(){return new Promise((O,I)=>{g(i,ze(a,u,v,E)).then(F=>{if(!F.ok)throw F;return u?.noResolveJson?F:F.json()}).then(F=>O(F)).catch(F=>Te(F,I,u))})})}function er(g,a,i,u){return(0,U.__awaiter)(this,void 0,void 0,function*(){return wt(g,"GET",a,i,u)})}function fn(g,a,i,u,v){return(0,U.__awaiter)(this,void 0,void 0,function*(){return wt(g,"POST",a,u,v,i)})}function _t(g,a,i,u,v){return(0,U.__awaiter)(this,void 0,void 0,function*(){return wt(g,"PUT",a,u,v,i)})}function Wn(g,a,i,u,v){return(0,U.__awaiter)(this,void 0,void 0,function*(){return wt(g,"DELETE",a,u,v,i)})}class eo{constructor(a,i){this.downloadFn=a,this.shouldThrowOnError=i}then(a,i){return this.execute().then(a,i)}execute(){return(0,U.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ft(a))return{data:null,error:a};throw a}})}}var $n;$n=Symbol.toStringTag;const Ro={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ee={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ce{constructor(a,i={},u,v){this.shouldThrowOnError=!1,this.url=a,this.headers=i,this.bucketId=u,this.fetch=Ln(v)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(a,i,u,v){return(0,U.__awaiter)(this,void 0,void 0,function*(){try{let E;const O=Object.assign(Object.assign({},Ee),v);let I=Object.assign(Object.assign({},this.headers),"POST"===a&&{"x-upsert":String(O.upsert)});const F=O.metadata;typeof Blob<"u"&&u instanceof Blob?(E=new FormData,E.append("cacheControl",O.cacheControl),F&&E.append("metadata",this.encodeMetadata(F)),E.append("",u)):typeof FormData<"u"&&u instanceof FormData?(E=u,E.has("cacheControl")||E.append("cacheControl",O.cacheControl),F&&!E.has("metadata")&&E.append("metadata",this.encodeMetadata(F))):(E=u,I["cache-control"]=`max-age=${O.cacheControl}`,I["content-type"]=O.contentType,F&&(I["x-metadata"]=this.toBase64(this.encodeMetadata(F))),(typeof ReadableStream<"u"&&E instanceof ReadableStream||E&&"object"==typeof E&&"pipe"in E&&"function"==typeof E.pipe)&&!O.duplex&&(O.duplex="half")),v?.headers&&(I=Object.assign(Object.assign({},I),v.headers));const B=this._removeEmptyFolders(i),K=this._getFinalPath(B),me=yield("PUT"==a?_t:fn)(this.fetch,`${this.url}/object/${K}`,E,Object.assign({headers:I},O?.duplex?{duplex:O.duplex}:{}));return{data:{path:B,id:me.Id,fullPath:me.Key},error:null}}catch(E){if(this.shouldThrowOnError)throw E;if(Ft(E))return{data:null,error:E};throw E}})}upload(a,i,u){return(0,U.__awaiter)(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",a,i,u)})}uploadToSignedUrl(a,i,u,v){return(0,U.__awaiter)(this,void 0,void 0,function*(){const E=this._removeEmptyFolders(a),O=this._getFinalPath(E),I=new URL(this.url+`/object/upload/sign/${O}`);I.searchParams.set("token",i);try{let F;const B=Object.assign({upsert:Ee.upsert},v),K=Object.assign(Object.assign({},this.headers),{"x-upsert":String(B.upsert)});return typeof Blob<"u"&&u instanceof Blob?(F=new FormData,F.append("cacheControl",B.cacheControl),F.append("",u)):typeof FormData<"u"&&u instanceof FormData?(F=u,F.append("cacheControl",B.cacheControl)):(F=u,K["cache-control"]=`max-age=${B.cacheControl}`,K["content-type"]=B.contentType),{data:{path:E,fullPath:(yield _t(this.fetch,I.toString(),F,{headers:K})).Key},error:null}}catch(F){if(this.shouldThrowOnError)throw F;if(Ft(F))return{data:null,error:F};throw F}})}createSignedUploadUrl(a,i){return(0,U.__awaiter)(this,void 0,void 0,function*(){try{let u=this._getFinalPath(a);const v=Object.assign({},this.headers);i?.upsert&&(v["x-upsert"]="true");const E=yield fn(this.fetch,`${this.url}/object/upload/sign/${u}`,{},{headers:v}),O=new URL(this.url+E.url),I=O.searchParams.get("token");if(!I)throw new wn("No token returned by API");return{data:{signedUrl:O.toString(),path:a,token:I},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ft(u))return{data:null,error:u};throw u}})}update(a,i,u){return(0,U.__awaiter)(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",a,i,u)})}move(a,i,u){return(0,U.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:a,destinationKey:i,destinationBucket:u?.destinationBucket},{headers:this.headers}),error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(Ft(v))return{data:null,error:v};throw v}})}copy(a,i,u){return(0,U.__awaiter)(this,void 0,void 0,function*(){try{return{data:{path:(yield fn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:a,destinationKey:i,destinationBucket:u?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(Ft(v))return{data:null,error:v};throw v}})}createSignedUrl(a,i,u){return(0,U.__awaiter)(this,void 0,void 0,function*(){try{let v=this._getFinalPath(a),E=yield fn(this.fetch,`${this.url}/object/sign/${v}`,Object.assign({expiresIn:i},u?.transform?{transform:u.transform}:{}),{headers:this.headers});const O=u?.download?`&download=${!0===u.download?"":u.download}`:"";return E={signedUrl:encodeURI(`${this.url}${E.signedURL}${O}`)},{data:E,error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(Ft(v))return{data:null,error:v};throw v}})}createSignedUrls(a,i,u){return(0,U.__awaiter)(this,void 0,void 0,function*(){try{const v=yield fn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:a},{headers:this.headers}),E=u?.download?`&download=${!0===u.download?"":u.download}`:"";return{data:v.map(O=>Object.assign(Object.assign({},O),{signedUrl:O.signedURL?encodeURI(`${this.url}${O.signedURL}${E}`):null})),error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(Ft(v))return{data:null,error:v};throw v}})}download(a,i){const v=typeof i?.transform<"u"?"render/image/authenticated":"object",E=this.transformOptsToQueryString(i?.transform||{}),O=E?`?${E}`:"",I=this._getFinalPath(a);return new class cr{constructor(a,i){this.downloadFn=a,this.shouldThrowOnError=i,this[$n]="BlobDownloadBuilder",this.promise=null}asStream(){return new eo(this.downloadFn,this.shouldThrowOnError)}then(a,i){return this.getPromise().then(a,i)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return(0,U.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ft(a))return{data:null,error:a};throw a}})}}(()=>er(this.fetch,`${this.url}/${v}/${I}${O}`,{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}info(a){return(0,U.__awaiter)(this,void 0,void 0,function*(){const i=this._getFinalPath(a);try{const u=yield er(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:Z(u),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ft(u))return{data:null,error:u};throw u}})}exists(a){return(0,U.__awaiter)(this,void 0,void 0,function*(){const i=this._getFinalPath(a);try{return yield function Dn(g,a,i,u){return(0,U.__awaiter)(this,void 0,void 0,function*(){return wt(g,"HEAD",a,Object.assign(Object.assign({},i),{noResolveJson:!0}),u)})}(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ft(u)&&u instanceof Yn){const v=u.originalError;if([400,404].includes(v?.status))return{data:!1,error:u}}throw u}})}getPublicUrl(a,i){const u=this._getFinalPath(a),v=[],E=i?.download?`download=${!0===i.download?"":i.download}`:"";""!==E&&v.push(E);const I=typeof i?.transform<"u"?"render/image":"object",F=this.transformOptsToQueryString(i?.transform||{});""!==F&&v.push(F);let B=v.join("&");return""!==B&&(B=`?${B}`),{data:{publicUrl:encodeURI(`${this.url}/${I}/public/${u}${B}`)}}}remove(a){return(0,U.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Wn(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:a},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ft(i))return{data:null,error:i};throw i}})}list(a,i,u){return(0,U.__awaiter)(this,void 0,void 0,function*(){try{const v=Object.assign(Object.assign(Object.assign({},Ro),i),{prefix:a||""});return{data:yield fn(this.fetch,`${this.url}/object/list/${this.bucketId}`,v,{headers:this.headers},u),error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(Ft(v))return{data:null,error:v};throw v}})}listV2(a,i){return(0,U.__awaiter)(this,void 0,void 0,function*(){try{const u=Object.assign({},a);return{data:yield fn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,u,{headers:this.headers},i),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ft(u))return{data:null,error:u};throw u}})}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const i=[];return a.width&&i.push(`width=${a.width}`),a.height&&i.push(`height=${a.height}`),a.resize&&i.push(`resize=${a.resize}`),a.format&&i.push(`format=${a.format}`),a.quality&&i.push(`quality=${a.quality}`),i.join("&")}}const V="2.86.0",Y={"X-Client-Info":`storage-js/${V}`};class _e{constructor(a,i={},u,v){this.shouldThrowOnError=!1;const E=new URL(a);v?.useNewHostname&&/supabase\.(co|in|red)$/.test(E.hostname)&&!E.hostname.includes("storage.supabase.")&&(E.hostname=E.hostname.replace("supabase.","storage.supabase.")),this.url=E.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Y),i),this.fetch=Ln(u)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(a){return(0,U.__awaiter)(this,void 0,void 0,function*(){try{const i=this.listBucketOptionsToQueryString(a);return{data:yield er(this.fetch,`${this.url}/bucket${i}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ft(i))return{data:null,error:i};throw i}})}getBucket(a){return(0,U.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield er(this.fetch,`${this.url}/bucket/${a}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ft(i))return{data:null,error:i};throw i}})}createBucket(a){return(0,U.__awaiter)(this,arguments,void 0,function*(i,u={public:!1}){try{return{data:yield fn(this.fetch,`${this.url}/bucket`,{id:i,name:i,type:u.type,public:u.public,file_size_limit:u.fileSizeLimit,allowed_mime_types:u.allowedMimeTypes},{headers:this.headers}),error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(Ft(v))return{data:null,error:v};throw v}})}updateBucket(a,i){return(0,U.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield _t(this.fetch,`${this.url}/bucket/${a}`,{id:a,name:a,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ft(u))return{data:null,error:u};throw u}})}emptyBucket(a){return(0,U.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/bucket/${a}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ft(i))return{data:null,error:i};throw i}})}deleteBucket(a){return(0,U.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Wn(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ft(i))return{data:null,error:i};throw i}})}listBucketOptionsToQueryString(a){const i={};return a&&("limit"in a&&(i.limit=String(a.limit)),"offset"in a&&(i.offset=String(a.offset)),a.search&&(i.search=a.search),a.sortColumn&&(i.sortColumn=a.sortColumn),a.sortOrder&&(i.sortOrder=a.sortOrder)),Object.keys(i).length>0?"?"+new URLSearchParams(i).toString():""}}var qe=class extends Error{constructor(g,a){super(g),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown="CommitStateUnknownException"===a.icebergType||[500,502,504].includes(a.status)&&!0===a.icebergType?.includes("CommitState")}isNotFound(){return 404===this.status}isConflict(){return 409===this.status}isAuthenticationTimeout(){return 419===this.status}};function $t(){return($t=(0,l.A)(function*(g){return g&&"none"!==g.type?"bearer"===g.type?{Authorization:`Bearer ${g.token}`}:"header"===g.type?{[g.name]:g.value}:"custom"===g.type?yield g.getHeaders():{}:{}})).apply(this,arguments)}function rr(g){return g.join("\x1f")}function pr(g){return g.join("\x1f")}class Se{constructor(a,i={},u){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Y),i),this.fetch=Ln(u)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return(0,U.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/bucket`,{name:a},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ft(i))return{data:null,error:i};throw i}})}listBuckets(a){return(0,U.__awaiter)(this,void 0,void 0,function*(){try{const i=new URLSearchParams;void 0!==a?.limit&&i.set("limit",a.limit.toString()),void 0!==a?.offset&&i.set("offset",a.offset.toString()),a?.sortColumn&&i.set("sortColumn",a.sortColumn),a?.sortOrder&&i.set("sortOrder",a.sortOrder),a?.search&&i.set("search",a.search);const u=i.toString(),v=u?`${this.url}/bucket?${u}`:`${this.url}/bucket`;return{data:yield er(this.fetch,v,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ft(i))return{data:null,error:i};throw i}})}deleteBucket(a){return(0,U.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Wn(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ft(i))return{data:null,error:i};throw i}})}from(a){if(!(g=a)||"string"!=typeof g||0===g.length||g.length>100||g.trim()!==g||g.includes("/")||g.includes("\\")||!/^[\w!.\*'() &$@=;:+,?-]+$/.test(g))throw new wn("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");var g;return new class{constructor(g){let a="v1";g.catalogName&&(a+=`/${g.catalogName}`);const i=g.baseUrl.endsWith("/")?g.baseUrl:`${g.baseUrl}/`;this.client=function jn(g){const a=g.fetchImpl??globalThis.fetch;return{request(i){return(0,l.A)(function*({method:u,path:v,query:E,body:O,headers:I}){const F=function vt(g,a,i){const u=new URL(a,g);if(i)for(const[v,E]of Object.entries(i))void 0!==E&&u.searchParams.set(v,E);return u.toString()}(g.baseUrl,v,E),B=yield function en(g){return $t.apply(this,arguments)}(g.auth),K=yield a(F,{method:u,headers:{...O?{"Content-Type":"application/json"}:{},...B,...I},body:O?JSON.stringify(O):void 0}),me=yield K.text(),Oe=(K.headers.get("content-type")||"").includes("application/json"),Ve=Oe&&me?JSON.parse(me):me;if(!K.ok){const Me=Oe?Ve:void 0,We=Me?.error;throw new qe(We?.message??`Request failed with status ${K.status}`,{status:K.status,icebergType:We?.type,icebergCode:We?.code,details:Me})}return{status:K.status,headers:K.headers,data:Ve}}).apply(this,arguments)}}}({baseUrl:i,auth:g.auth,fetchImpl:g.fetch}),this.accessDelegation=g.accessDelegation?.join(","),this.namespaceOps=new class{constructor(g,a=""){this.client=g,this.prefix=a}listNamespaces(g){var a=this;return(0,l.A)(function*(){const i=g?{parent:rr(g.namespace)}:void 0;return(yield a.client.request({method:"GET",path:`${a.prefix}/namespaces`,query:i})).data.namespaces.map(v=>({namespace:v}))})()}createNamespace(g,a){var i=this;return(0,l.A)(function*(){const u={namespace:g.namespace,properties:a?.properties};return(yield i.client.request({method:"POST",path:`${i.prefix}/namespaces`,body:u})).data})()}dropNamespace(g){var a=this;return(0,l.A)(function*(){yield a.client.request({method:"DELETE",path:`${a.prefix}/namespaces/${rr(g.namespace)}`})})()}loadNamespaceMetadata(g){var a=this;return(0,l.A)(function*(){return{properties:(yield a.client.request({method:"GET",path:`${a.prefix}/namespaces/${rr(g.namespace)}`})).data.properties}})()}namespaceExists(g){var a=this;return(0,l.A)(function*(){try{return yield a.client.request({method:"HEAD",path:`${a.prefix}/namespaces/${rr(g.namespace)}`}),!0}catch(i){if(i instanceof qe&&404===i.status)return!1;throw i}})()}createNamespaceIfNotExists(g,a){var i=this;return(0,l.A)(function*(){try{return yield i.createNamespace(g,a)}catch(u){if(u instanceof qe&&409===u.status)return;throw u}})()}}(this.client,a),this.tableOps=new class{constructor(g,a="",i){this.client=g,this.prefix=a,this.accessDelegation=i}listTables(g){var a=this;return(0,l.A)(function*(){return(yield a.client.request({method:"GET",path:`${a.prefix}/namespaces/${pr(g.namespace)}/tables`})).data.identifiers})()}createTable(g,a){var i=this;return(0,l.A)(function*(){const u={};return i.accessDelegation&&(u["X-Iceberg-Access-Delegation"]=i.accessDelegation),(yield i.client.request({method:"POST",path:`${i.prefix}/namespaces/${pr(g.namespace)}/tables`,body:a,headers:u})).data.metadata})()}updateTable(g,a){var i=this;return(0,l.A)(function*(){const u=yield i.client.request({method:"POST",path:`${i.prefix}/namespaces/${pr(g.namespace)}/tables/${g.name}`,body:a});return{"metadata-location":u.data["metadata-location"],metadata:u.data.metadata}})()}dropTable(g,a){var i=this;return(0,l.A)(function*(){yield i.client.request({method:"DELETE",path:`${i.prefix}/namespaces/${pr(g.namespace)}/tables/${g.name}`,query:{purgeRequested:String(a?.purge??!1)}})})()}loadTable(g){var a=this;return(0,l.A)(function*(){const i={};return a.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=a.accessDelegation),(yield a.client.request({method:"GET",path:`${a.prefix}/namespaces/${pr(g.namespace)}/tables/${g.name}`,headers:i})).data.metadata})()}tableExists(g){var a=this;return(0,l.A)(function*(){const i={};a.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=a.accessDelegation);try{return yield a.client.request({method:"HEAD",path:`${a.prefix}/namespaces/${pr(g.namespace)}/tables/${g.name}`,headers:i}),!0}catch(u){if(u instanceof qe&&404===u.status)return!1;throw u}})()}createTableIfNotExists(g,a){var i=this;return(0,l.A)(function*(){try{return yield i.createTable(g,a)}catch(u){if(u instanceof qe&&409===u.status)return yield i.loadTable({namespace:g.namespace,name:a.name});throw u}})()}}(this.client,a,this.accessDelegation)}listNamespaces(g){var a=this;return(0,l.A)(function*(){return a.namespaceOps.listNamespaces(g)})()}createNamespace(g,a){var i=this;return(0,l.A)(function*(){return i.namespaceOps.createNamespace(g,a)})()}dropNamespace(g){var a=this;return(0,l.A)(function*(){yield a.namespaceOps.dropNamespace(g)})()}loadNamespaceMetadata(g){var a=this;return(0,l.A)(function*(){return a.namespaceOps.loadNamespaceMetadata(g)})()}listTables(g){var a=this;return(0,l.A)(function*(){return a.tableOps.listTables(g)})()}createTable(g,a){var i=this;return(0,l.A)(function*(){return i.tableOps.createTable(g,a)})()}updateTable(g,a){var i=this;return(0,l.A)(function*(){return i.tableOps.updateTable(g,a)})()}dropTable(g,a){var i=this;return(0,l.A)(function*(){yield i.tableOps.dropTable(g,a)})()}loadTable(g){var a=this;return(0,l.A)(function*(){return a.tableOps.loadTable(g)})()}namespaceExists(g){var a=this;return(0,l.A)(function*(){return a.namespaceOps.namespaceExists(g)})()}tableExists(g){var a=this;return(0,l.A)(function*(){return a.tableOps.tableExists(g)})()}createNamespaceIfNotExists(g,a){var i=this;return(0,l.A)(function*(){return i.namespaceOps.createNamespaceIfNotExists(g,a)})()}createTableIfNotExists(g,a){var i=this;return(0,l.A)(function*(){return i.tableOps.createTableIfNotExists(g,a)})()}}({baseUrl:this.url,catalogName:a,auth:{type:"custom",getHeaders:()=>(0,U.__awaiter)(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Ae={"X-Client-Info":`storage-js/${V}`,"Content-Type":"application/json"};class Je extends Error{constructor(a){super(a),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ke(g){return"object"==typeof g&&null!==g&&"__isStorageVectorsError"in g}class qt extends Je{constructor(a,i,u){super(a),this.name="StorageVectorsApiError",this.status=i,this.statusCode=u}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ot extends Je{constructor(a,i){super(a),this.name="StorageVectorsUnknownError",this.originalError=i}}const dr=g=>g?(...a)=>g(...a):(...a)=>fetch(...a),ft=g=>g.msg||g.message||g.error_description||g.error||JSON.stringify(g),nn=(g,a,i)=>(0,U.__awaiter)(void 0,void 0,void 0,function*(){if(g&&"object"==typeof g&&"status"in g&&"ok"in g&&"number"==typeof g.status&&!i?.noResolveJson){const v=g.status||500,E=g;"function"==typeof E.json?E.json().then(O=>{const I=O?.statusCode||O?.code||v+"";a(new qt(ft(O),v,I))}).catch(()=>{a(new qt(E.statusText||`HTTP ${v} error`,v,v+""))}):a(new qt(E.statusText||`HTTP ${v} error`,v,v+""))}else a(new Ot(ft(g),g))}),Sr=(g,a,i,u)=>{const v={method:g,headers:a?.headers||{}};return"GET"!==g&&u?((g=>{if("object"!=typeof g||null===g)return!1;const a=Object.getPrototypeOf(g);return!(null!==a&&a!==Object.prototype&&null!==Object.getPrototypeOf(a)||Symbol.toStringTag in g||Symbol.iterator in g)})(u)?(v.headers=Object.assign({"Content-Type":"application/json"},a?.headers),v.body=JSON.stringify(u)):v.body=u,Object.assign(Object.assign({},v),i)):v};function cn(g,a,i,u,v){return(0,U.__awaiter)(this,void 0,void 0,function*(){return function ar(g,a,i,u,v,E){return(0,U.__awaiter)(this,void 0,void 0,function*(){return new Promise((O,I)=>{g(i,Sr(a,u,v,E)).then(F=>{if(!F.ok)throw F;if(u?.noResolveJson)return F;const B=F.headers.get("content-type");return B&&B.includes("application/json")?F.json():{}}).then(F=>O(F)).catch(F=>nn(F,I,u))})})}(g,"POST",a,u,v,i)})}class Po{constructor(a,i={},u){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ae),i),this.fetch=dr(u)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(a){return(0,U.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield cn(this.fetch,`${this.url}/CreateIndex`,a,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ke(i))return{data:null,error:i};throw i}})}getIndex(a,i){return(0,U.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:a,indexName:i},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(ke(u))return{data:null,error:u};throw u}})}listIndexes(a){return(0,U.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/ListIndexes`,a,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ke(i))return{data:null,error:i};throw i}})}deleteIndex(a,i){return(0,U.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield cn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:a,indexName:i},{headers:this.headers}))||{},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(ke(u))return{data:null,error:u};throw u}})}}class mo{constructor(a,i={},u){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ae),i),this.fetch=dr(u)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(a){return(0,U.__awaiter)(this,void 0,void 0,function*(){try{if(a.vectors.length<1||a.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield cn(this.fetch,`${this.url}/PutVectors`,a,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ke(i))return{data:null,error:i};throw i}})}getVectors(a){return(0,U.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/GetVectors`,a,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ke(i))return{data:null,error:i};throw i}})}listVectors(a){return(0,U.__awaiter)(this,void 0,void 0,function*(){try{if(void 0!==a.segmentCount){if(a.segmentCount<1||a.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(void 0!==a.segmentIndex&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw new Error("segmentIndex must be between 0 and "+(a.segmentCount-1))}return{data:yield cn(this.fetch,`${this.url}/ListVectors`,a,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ke(i))return{data:null,error:i};throw i}})}queryVectors(a){return(0,U.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/QueryVectors`,a,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ke(i))return{data:null,error:i};throw i}})}deleteVectors(a){return(0,U.__awaiter)(this,void 0,void 0,function*(){try{if(a.keys.length<1||a.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield cn(this.fetch,`${this.url}/DeleteVectors`,a,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ke(i))return{data:null,error:i};throw i}})}}class Rr{constructor(a,i={},u){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ae),i),this.fetch=dr(u)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return(0,U.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield cn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ke(i))return{data:null,error:i};throw i}})}getBucket(a){return(0,U.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:a},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ke(i))return{data:null,error:i};throw i}})}listBuckets(){return(0,U.__awaiter)(this,arguments,void 0,function*(a={}){try{return{data:yield cn(this.fetch,`${this.url}/ListVectorBuckets`,a,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ke(i))return{data:null,error:i};throw i}})}deleteBucket(a){return(0,U.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield cn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ke(i))return{data:null,error:i};throw i}})}}class vo extends Rr{constructor(a,i={}){super(a,i.headers||{},i.fetch)}from(a){return new Mr(this.url,this.headers,a,this.fetch)}createBucket(a){const i=Object.create(null,{createBucket:{get:()=>super.createBucket}});return(0,U.__awaiter)(this,void 0,void 0,function*(){return i.createBucket.call(this,a)})}getBucket(a){const i=Object.create(null,{getBucket:{get:()=>super.getBucket}});return(0,U.__awaiter)(this,void 0,void 0,function*(){return i.getBucket.call(this,a)})}listBuckets(){const a=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return(0,U.__awaiter)(this,arguments,void 0,function*(i={}){return a.listBuckets.call(this,i)})}deleteBucket(a){const i=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return(0,U.__awaiter)(this,void 0,void 0,function*(){return i.deleteBucket.call(this,a)})}}class Mr extends Po{constructor(a,i,u,v){super(a,i,v),this.vectorBucketName=u}createIndex(a){const i=Object.create(null,{createIndex:{get:()=>super.createIndex}});return(0,U.__awaiter)(this,void 0,void 0,function*(){return i.createIndex.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const a=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return(0,U.__awaiter)(this,arguments,void 0,function*(i={}){return a.listIndexes.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName}))})}getIndex(a){const i=Object.create(null,{getIndex:{get:()=>super.getIndex}});return(0,U.__awaiter)(this,void 0,void 0,function*(){return i.getIndex.call(this,this.vectorBucketName,a)})}deleteIndex(a){const i=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return(0,U.__awaiter)(this,void 0,void 0,function*(){return i.deleteIndex.call(this,this.vectorBucketName,a)})}index(a){return new gr(this.url,this.headers,this.vectorBucketName,a,this.fetch)}}class gr extends mo{constructor(a,i,u,v,E){super(a,i,E),this.vectorBucketName=u,this.indexName=v}putVectors(a){const i=Object.create(null,{putVectors:{get:()=>super.putVectors}});return(0,U.__awaiter)(this,void 0,void 0,function*(){return i.putVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(a){const i=Object.create(null,{getVectors:{get:()=>super.getVectors}});return(0,U.__awaiter)(this,void 0,void 0,function*(){return i.getVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const a=Object.create(null,{listVectors:{get:()=>super.listVectors}});return(0,U.__awaiter)(this,arguments,void 0,function*(i={}){return a.listVectors.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(a){const i=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return(0,U.__awaiter)(this,void 0,void 0,function*(){return i.queryVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(a){const i=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return(0,U.__awaiter)(this,void 0,void 0,function*(){return i.deleteVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class to extends _e{constructor(a,i={},u,v){super(a,i,u,v)}from(a){return new ce(this.url,this.headers,a,this.fetch)}get vectors(){return new vo(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Se(this.url+"/iceberg",this.headers,this.fetch)}}let mr="";mr=typeof Deno<"u"?"deno":typeof document<"u"?"web":typeof navigator<"u"&&"ReactNative"===navigator.product?"react-native":"node";const gs={headers:{"X-Client-Info":`supabase-js-${mr}/2.86.0`}},An={schema:"public"},Ws={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},xs={},vs=(g,a,i)=>{const u=(g=>g?(...a)=>g(...a):(...a)=>fetch(...a))(i),v=Headers;return function(){var E=(0,l.A)(function*(O,I){var F;const B=null!==(F=yield a())&&void 0!==F?F:g;let K=new v(I?.headers);return K.has("apikey")||K.set("apikey",g),K.has("Authorization")||K.set("Authorization",`Bearer ${B}`),u(O,Object.assign(Object.assign({},I),{headers:K}))});return function(O,I){return E.apply(this,arguments)}}()},ro=3e4,At="X-Supabase-Api-Version",_n={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Hn=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class Tn extends Error{constructor(a,i,u){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=u}}function ot(g){return"object"==typeof g&&null!==g&&"__isAuthError"in g}class yo extends Tn{constructor(a,i,u){super(a,i,u),this.name="AuthApiError",this.status=i,this.code=u}}class Ir extends Tn{constructor(a,i){super(a),this.name="AuthUnknownError",this.originalError=i}}class vr extends Tn{constructor(a,i,u,v){super(a,u,v),this.name=i,this.status=u}}class Bt extends vr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Dt extends vr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Yt extends vr{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class qn extends vr{constructor(a,i=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Pn extends vr{constructor(a,i=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zr extends vr{constructor(a,i){super(a,"AuthRetryableFetchError",i,void 0)}}function En(g){return ot(g)&&"AuthRetryableFetchError"===g.name}class tr extends vr{constructor(a,i,u){super(a,"AuthWeakPasswordError",i,"weak_password"),this.reasons=u}}class It extends vr{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const yr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),xr=" \t\n\r=".split(""),Pr=(()=>{const g=new Array(128);for(let a=0;a<g.length;a+=1)g[a]=-1;for(let a=0;a<xr.length;a+=1)g[xr[a].charCodeAt(0)]=-2;for(let a=0;a<yr.length;a+=1)g[yr[a].charCodeAt(0)]=a;return g})();function gn(g,a,i){if(null!==g)for(a.queue=a.queue<<8|g,a.queuedBits+=8;a.queuedBits>=6;)i(yr[a.queue>>a.queuedBits-6&63]),a.queuedBits-=6;else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;)i(yr[a.queue>>a.queuedBits-6&63]),a.queuedBits-=6}function io(g,a,i){const u=Pr[g];if(!(u>-1)){if(-2===u)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(g)}"`)}for(a.queue=a.queue<<6|u,a.queuedBits+=6;a.queuedBits>=8;)i(a.queue>>a.queuedBits-8&255),a.queuedBits-=8}function _r(g){const a=[],i=O=>{a.push(String.fromCodePoint(O))},u={utf8seq:0,codepoint:0},v={queue:0,queuedBits:0},E=O=>{!function lo(g,a,i){if(0===a.utf8seq){if(g<=127)return void i(g);for(let u=1;u<6;u+=1)if(!(g>>7-u&1)){a.utf8seq=u;break}if(2===a.utf8seq)a.codepoint=31&g;else if(3===a.utf8seq)a.codepoint=15&g;else{if(4!==a.utf8seq)throw new Error("Invalid UTF-8 sequence");a.codepoint=7&g}a.utf8seq-=1}else if(a.utf8seq>0){if(g<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|63&g,a.utf8seq-=1,0===a.utf8seq&&i(a.codepoint)}}(O,u,i)};for(let O=0;O<g.length;O+=1)io(g.charCodeAt(O),v,E);return a.join("")}function uo(g,a){if(!(g<=127)){if(g<=2047)return a(192|g>>6),void a(128|63&g);if(g<=65535)return a(224|g>>12),a(128|g>>6&63),void a(128|63&g);if(g<=1114111)return a(240|g>>18),a(128|g>>12&63),a(128|g>>6&63),void a(128|63&g);throw new Error(`Unrecognized Unicode codepoint: ${g.toString(16)}`)}a(g)}function ur(g){const a=[],i={queue:0,queuedBits:0},u=v=>{a.push(v)};for(let v=0;v<g.length;v+=1)io(g.charCodeAt(v),i,u);return new Uint8Array(a)}function Nr(g){const a=[],i={queue:0,queuedBits:0},u=v=>{a.push(v)};return g.forEach(v=>gn(v,i,u)),gn(null,i,u),a.join("")}const bn=()=>typeof window<"u"&&typeof document<"u",Gn={tested:!1,writable:!1},br=()=>{if(!bn())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch{return!1}if(Gn.tested)return Gn.writable;const g=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(g,g),globalThis.localStorage.removeItem(g),Gn.tested=!0,Gn.writable=!0}catch{Gn.tested=!0,Gn.writable=!1}return Gn.writable},Uo=g=>g?(...a)=>g(...a):(...a)=>fetch(...a),qo=g=>"object"==typeof g&&null!==g&&"status"in g&&"ok"in g&&"json"in g&&"function"==typeof g.json,Sn=function(){var g=(0,l.A)(function*(a,i,u){yield a.setItem(i,JSON.stringify(u))});return function(i,u,v){return g.apply(this,arguments)}}(),wo=function(){var g=(0,l.A)(function*(a,i){const u=yield a.getItem(i);if(!u)return null;try{return JSON.parse(u)}catch{return u}});return function(i,u){return g.apply(this,arguments)}}(),Mn=function(){var g=(0,l.A)(function*(a,i){yield a.removeItem(i)});return function(i,u){return g.apply(this,arguments)}}();class Jn{constructor(){this.promise=new Jn.promiseConstructor((a,i)=>{this.resolve=a,this.reject=i})}}function Jo(g){const a=g.split(".");if(3!==a.length)throw new It("Invalid JWT structure");for(let u=0;u<a.length;u++)if(!Hn.test(a[u]))throw new It("JWT not in base64url format");return{header:JSON.parse(_r(a[0])),payload:JSON.parse(_r(a[1])),signature:ur(a[2]),raw:{header:a[0],payload:a[1]}}}function Wr(){return(Wr=(0,l.A)(function*(g){return yield new Promise(a=>{setTimeout(()=>a(null),g)})})).apply(this,arguments)}function Cn(g){return("0"+g.toString(16)).substr(-2)}function M(){return(M=(0,l.A)(function*(g){const i=(new TextEncoder).encode(g),u=yield crypto.subtle.digest("SHA-256",i),v=new Uint8Array(u);return Array.from(v).map(E=>String.fromCharCode(E)).join("")})).apply(this,arguments)}function b(){return b=(0,l.A)(function*(g){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),g;const i=yield function os(g){return M.apply(this,arguments)}(g);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}),b.apply(this,arguments)}function k(g,a){return q.apply(this,arguments)}function q(){return q=(0,l.A)(function*(g,a,i=!1){const u=function Qo(){const a=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",u=i.length;let v="";for(let E=0;E<56;E++)v+=i.charAt(Math.floor(Math.random()*u));return v}return crypto.getRandomValues(a),Array.from(a,Cn).join("")}();let v=u;i&&(v+="/PASSWORD_RECOVERY"),yield Sn(g,`${a}-code-verifier`,v);const E=yield function T(g){return b.apply(this,arguments)}(u);return[E,u===E?"plain":"s256"]}),q.apply(this,arguments)}Jn.promiseConstructor=Promise;const gt=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i,Fr=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function lr(g){if(!Fr.test(g))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Yo(){return new Proxy({},{get:(a,i)=>{if("__isUserNotAvailableProxy"===i)return!0;if("symbol"==typeof i){const u=i.toString();if("Symbol(Symbol.toPrimitive)"===u||"Symbol(Symbol.toStringTag)"===u||"Symbol(util.inspect.custom)"===u)return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ss(g){return JSON.parse(JSON.stringify(g))}const is=g=>g.msg||g.message||g.error_description||g.error||JSON.stringify(g),si=[502,503,504];function Cs(g){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,l.A)(function*(g){var a;if(!qo(g))throw new zr(is(g),0);if(si.includes(g.status))throw new zr(is(g),g.status);let i,u;try{i=yield g.json()}catch(E){throw new Ir(is(E),E)}const v=function Rt(g){const a=g.headers.get(At);if(!a||!a.match(gt))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}(g);if(v&&v.getTime()>=_n["2024-01-01"].timestamp&&"object"==typeof i&&i&&"string"==typeof i.code?u=i.code:"object"==typeof i&&i&&"string"==typeof i.error_code&&(u=i.error_code),u){if("weak_password"===u)throw new tr(is(i),g.status,(null===(a=i.weak_password)||void 0===a?void 0:a.reasons)||[]);if("session_not_found"===u)throw new Bt}else if("object"==typeof i&&i&&"object"==typeof i.weak_password&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((E,O)=>E&&"string"==typeof O,!0))throw new tr(is(i),g.status,i.weak_password.reasons);throw new yo(is(i),g.status||500,u)})).apply(this,arguments)}const ya=(g,a,i,u)=>{const v={method:g,headers:a?.headers||{}};return"GET"===g?v:(v.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),v.body=JSON.stringify(u),Object.assign(Object.assign({},v),i))};function Tt(g,a,i,u){return Kr.apply(this,arguments)}function Kr(){return Kr=(0,l.A)(function*(g,a,i,u){var v;const E=Object.assign({},u?.headers);E[At]||(E[At]=_n["2024-01-01"].name),u?.jwt&&(E.Authorization=`Bearer ${u.jwt}`);const O=null!==(v=u?.query)&&void 0!==v?v:{};u?.redirectTo&&(O.redirect_to=u.redirectTo);const I=Object.keys(O).length?"?"+new URLSearchParams(O).toString():"",F=yield function co(g,a,i,u,v,E){return ws.apply(this,arguments)}(g,a,i+I,{headers:E,noResolveJson:u?.noResolveJson},{},u?.body);return u?.xform?u?.xform(F):{data:Object.assign({},F),error:null}}),Kr.apply(this,arguments)}function ws(){return(ws=(0,l.A)(function*(g,a,i,u,v,E){const O=ya(a,u,v,E);let I;try{I=yield g(i,Object.assign({},O))}catch(F){throw console.error(F),new zr(is(F),0)}if(I.ok||(yield Cs(I)),u?.noResolveJson)return I;try{return yield I.json()}catch(F){yield Cs(F)}})).apply(this,arguments)}function Xr(g){var a;let i=null;return function js(g){return g.access_token&&g.refresh_token&&g.expires_in}(g)&&(i=Object.assign({},g),g.expires_at||(i.expires_at=function Vt(g){return Math.round(Date.now()/1e3)+g}(g.expires_in))),{data:{session:i,user:null!==(a=g.user)&&void 0!==a?a:g},error:null}}function Nn(g){const a=Xr(g);return!a.error&&g.weak_password&&"object"==typeof g.weak_password&&Array.isArray(g.weak_password.reasons)&&g.weak_password.reasons.length&&g.weak_password.message&&"string"==typeof g.weak_password.message&&g.weak_password.reasons.reduce((i,u)=>i&&"string"==typeof u,!0)&&(a.data.weak_password=g.weak_password),a}function Lr(g){var a;return{data:{user:null!==(a=g.user)&&void 0!==a?a:g},error:null}}function jr(g){return{data:g,error:null}}function ii(g){const{action_link:a,email_otp:i,hashed_token:u,redirect_to:v,verification_type:E}=g,O=(0,U.__rest)(g,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:a,email_otp:i,hashed_token:u,redirect_to:v,verification_type:E},user:Object.assign({},O)},error:null}}function Xs(g){return g}const Vs=["global","local","others"];class li{constructor({url:a="",headers:i={},fetch:u}){this.url=a,this.headers=i,this.fetch=Uo(u),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(a){var i=this;return(0,l.A)(function*(u,v=Vs[0]){if(Vs.indexOf(v)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Vs.join(", ")}`);try{return yield Tt(i.fetch,"POST",`${i.url}/logout?scope=${v}`,{headers:i.headers,jwt:u,noResolveJson:!0}),{data:null,error:null}}catch(E){if(ot(E))return{data:null,error:E};throw E}}).apply(this,arguments)}inviteUserByEmail(a){var i=this;return(0,l.A)(function*(u,v={}){try{return yield Tt(i.fetch,"POST",`${i.url}/invite`,{body:{email:u,data:v.data},headers:i.headers,redirectTo:v.redirectTo,xform:Lr})}catch(E){if(ot(E))return{data:{user:null},error:E};throw E}}).apply(this,arguments)}generateLink(a){var i=this;return(0,l.A)(function*(){try{const{options:u}=a,v=(0,U.__rest)(a,["options"]),E=Object.assign(Object.assign({},v),u);return"newEmail"in v&&(E.new_email=v?.newEmail,delete E.newEmail),yield Tt(i.fetch,"POST",`${i.url}/admin/generate_link`,{body:E,headers:i.headers,xform:ii,redirectTo:u?.redirectTo})}catch(u){if(ot(u))return{data:{properties:null,user:null},error:u};throw u}})()}createUser(a){var i=this;return(0,l.A)(function*(){try{return yield Tt(i.fetch,"POST",`${i.url}/admin/users`,{body:a,headers:i.headers,xform:Lr})}catch(u){if(ot(u))return{data:{user:null},error:u};throw u}})()}listUsers(a){var i=this;return(0,l.A)(function*(){var u,v,E,O,I,F,B;try{const K={nextPage:null,lastPage:0,total:0},me=yield Tt(i.fetch,"GET",`${i.url}/admin/users`,{headers:i.headers,noResolveJson:!0,query:{page:null!==(v=null===(u=a?.page)||void 0===u?void 0:u.toString())&&void 0!==v?v:"",per_page:null!==(O=null===(E=a?.perPage)||void 0===E?void 0:E.toString())&&void 0!==O?O:""},xform:Xs});if(me.error)throw me.error;const Oe=yield me.json(),Ve=null!==(I=me.headers.get("x-total-count"))&&void 0!==I?I:0,Me=null!==(B=null===(F=me.headers.get("link"))||void 0===F?void 0:F.split(","))&&void 0!==B?B:[];return Me.length>0&&(Me.forEach(We=>{const dt=parseInt(We.split(";")[0].split("=")[1].substring(0,1)),ht=JSON.parse(We.split(";")[1].split("=")[1]);K[`${ht}Page`]=dt}),K.total=parseInt(Ve)),{data:Object.assign(Object.assign({},Oe),K),error:null}}catch(K){if(ot(K))return{data:{users:[]},error:K};throw K}})()}getUserById(a){var i=this;return(0,l.A)(function*(){lr(a);try{return yield Tt(i.fetch,"GET",`${i.url}/admin/users/${a}`,{headers:i.headers,xform:Lr})}catch(u){if(ot(u))return{data:{user:null},error:u};throw u}})()}updateUserById(a,i){var u=this;return(0,l.A)(function*(){lr(a);try{return yield Tt(u.fetch,"PUT",`${u.url}/admin/users/${a}`,{body:i,headers:u.headers,xform:Lr})}catch(v){if(ot(v))return{data:{user:null},error:v};throw v}})()}deleteUser(a){var i=this;return(0,l.A)(function*(u,v=!1){lr(u);try{return yield Tt(i.fetch,"DELETE",`${i.url}/admin/users/${u}`,{headers:i.headers,body:{should_soft_delete:v},xform:Lr})}catch(E){if(ot(E))return{data:{user:null},error:E};throw E}}).apply(this,arguments)}_listFactors(a){var i=this;return(0,l.A)(function*(){lr(a.userId);try{const{data:u,error:v}=yield Tt(i.fetch,"GET",`${i.url}/admin/users/${a.userId}/factors`,{headers:i.headers,xform:E=>({data:{factors:E},error:null})});return{data:u,error:v}}catch(u){if(ot(u))return{data:null,error:u};throw u}})()}_deleteFactor(a){var i=this;return(0,l.A)(function*(){lr(a.userId),lr(a.id);try{return{data:yield Tt(i.fetch,"DELETE",`${i.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:i.headers}),error:null}}catch(u){if(ot(u))return{data:null,error:u};throw u}})()}_listOAuthClients(a){var i=this;return(0,l.A)(function*(){var u,v,E,O,I,F,B;try{const K={nextPage:null,lastPage:0,total:0},me=yield Tt(i.fetch,"GET",`${i.url}/admin/oauth/clients`,{headers:i.headers,noResolveJson:!0,query:{page:null!==(v=null===(u=a?.page)||void 0===u?void 0:u.toString())&&void 0!==v?v:"",per_page:null!==(O=null===(E=a?.perPage)||void 0===E?void 0:E.toString())&&void 0!==O?O:""},xform:Xs});if(me.error)throw me.error;const Oe=yield me.json(),Ve=null!==(I=me.headers.get("x-total-count"))&&void 0!==I?I:0,Me=null!==(B=null===(F=me.headers.get("link"))||void 0===F?void 0:F.split(","))&&void 0!==B?B:[];return Me.length>0&&(Me.forEach(We=>{const dt=parseInt(We.split(";")[0].split("=")[1].substring(0,1)),ht=JSON.parse(We.split(";")[1].split("=")[1]);K[`${ht}Page`]=dt}),K.total=parseInt(Ve)),{data:Object.assign(Object.assign({},Oe),K),error:null}}catch(K){if(ot(K))return{data:{clients:[]},error:K};throw K}})()}_createOAuthClient(a){var i=this;return(0,l.A)(function*(){try{return yield Tt(i.fetch,"POST",`${i.url}/admin/oauth/clients`,{body:a,headers:i.headers,xform:u=>({data:u,error:null})})}catch(u){if(ot(u))return{data:null,error:u};throw u}})()}_getOAuthClient(a){var i=this;return(0,l.A)(function*(){try{return yield Tt(i.fetch,"GET",`${i.url}/admin/oauth/clients/${a}`,{headers:i.headers,xform:u=>({data:u,error:null})})}catch(u){if(ot(u))return{data:null,error:u};throw u}})()}_updateOAuthClient(a,i){var u=this;return(0,l.A)(function*(){try{return yield Tt(u.fetch,"PUT",`${u.url}/admin/oauth/clients/${a}`,{body:i,headers:u.headers,xform:v=>({data:v,error:null})})}catch(v){if(ot(v))return{data:null,error:v};throw v}})()}_deleteOAuthClient(a){var i=this;return(0,l.A)(function*(){try{return yield Tt(i.fetch,"DELETE",`${i.url}/admin/oauth/clients/${a}`,{headers:i.headers,noResolveJson:!0}),{data:null,error:null}}catch(u){if(ot(u))return{data:null,error:u};throw u}})()}_regenerateOAuthClientSecret(a){var i=this;return(0,l.A)(function*(){try{return yield Tt(i.fetch,"POST",`${i.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:i.headers,xform:u=>({data:u,error:null})})}catch(u){if(ot(u))return{data:null,error:u};throw u}})()}}function as(g={}){return{getItem:a=>g[a]||null,setItem:(a,i)=>{g[a]=i},removeItem:a=>{delete g[a]}}}const Eo={debug:!!(globalThis&&br()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))};class us extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class ls extends us{}function _a(g,a,i){return di.apply(this,arguments)}function di(){return di=(0,l.A)(function*(g,a,i){Eo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",g,a);const u=new globalThis.AbortController;return a>0&&setTimeout(()=>{u.abort(),Eo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",g)},a),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(g,0===a?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:u.signal},function(){var v=(0,l.A)(function*(E){if(!E){if(0===a)throw Eo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",g),new ls(`Acquiring an exclusive Navigator LockManager lock "${g}" immediately failed`);if(Eo.debug)try{const O=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(O,null,"  "))}catch(O){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",O)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield i()}Eo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",g,E.name);try{return yield i()}finally{Eo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",g,E.name)}});return function(E){return v.apply(this,arguments)}}()))}),di.apply(this,arguments)}function w(g){if(!/^0x[a-fA-F0-9]{40}$/.test(g))throw new Error(`@supabase/auth-js: Address "${g}" is invalid.`);return g.toLowerCase()}function z(g){const a=(new TextEncoder).encode(g);return"0x"+Array.from(a,u=>u.toString(16).padStart(2,"0")).join("")}class we extends Error{constructor({message:a,code:i,cause:u,name:v}){var E;super(a,{cause:u}),this.__isWebAuthnError=!0,this.name=null!==(E=v??(u instanceof Error?u.name:void 0))&&void 0!==E?E:"Unknown Error",this.code=i}}class lt extends we{constructor(a,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:a}),this.name="WebAuthnUnknownError",this.originalError=i}}function sn({error:g,options:a}){var i,u,v;const{publicKey:E}=a;if(!E)throw Error("options was missing required publicKey property");if("AbortError"===g.name){if(a.signal instanceof AbortSignal)return new we({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:g})}else if("ConstraintError"===g.name){if(!0===(null===(i=E.authenticatorSelection)||void 0===i?void 0:i.requireResidentKey))return new we({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:g});if("conditional"===a.mediation&&"required"===(null===(u=E.authenticatorSelection)||void 0===u?void 0:u.userVerification))return new we({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:g});if("required"===(null===(v=E.authenticatorSelection)||void 0===v?void 0:v.userVerification))return new we({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:g})}else{if("InvalidStateError"===g.name)return new we({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:g});if("NotAllowedError"===g.name)return new we({message:g.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:g});if("NotSupportedError"===g.name)return 0===E.pubKeyCredParams.filter(I=>"public-key"===I.type).length?new we({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:g}):new we({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:g});if("SecurityError"===g.name){const O=window.location.hostname;if(!So(O))return new we({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:g});if(E.rp.id!==O)return new we({message:`The RP ID "${E.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:g})}else if("TypeError"===g.name){if(E.user.id.byteLength<1||E.user.id.byteLength>64)return new we({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:g})}else if("UnknownError"===g.name)return new we({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:g})}return new we({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:g})}function zt({error:g,options:a}){const{publicKey:i}=a;if(!i)throw Error("options was missing required publicKey property");if("AbortError"===g.name){if(a.signal instanceof AbortSignal)return new we({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:g})}else{if("NotAllowedError"===g.name)return new we({message:g.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:g});if("SecurityError"===g.name){const u=window.location.hostname;if(!So(u))return new we({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:g});if(i.rpId!==u)return new we({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:g})}else if("UnknownError"===g.name)return new we({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:g})}return new we({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:g})}const Un=new class jt{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}};function mn(g){if(!g)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(g);const{challenge:a,user:i,excludeCredentials:u}=g,v=(0,U.__rest)(g,["challenge","user","excludeCredentials"]),E=ur(a).buffer,O=Object.assign(Object.assign({},i),{id:ur(i.id).buffer}),I=Object.assign(Object.assign({},v),{challenge:E,user:O});if(u&&u.length>0){I.excludeCredentials=new Array(u.length);for(let F=0;F<u.length;F++){const B=u[F];I.excludeCredentials[F]=Object.assign(Object.assign({},B),{id:ur(B.id).buffer,type:B.type||"public-key",transports:B.transports})}}return I}function Qn(g){if(!g)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(g);const{challenge:a,allowCredentials:i}=g,u=(0,U.__rest)(g,["challenge","allowCredentials"]),v=ur(a).buffer,E=Object.assign(Object.assign({},u),{challenge:v});if(i&&i.length>0){E.allowCredentials=new Array(i.length);for(let O=0;O<i.length;O++){const I=i[O];E.allowCredentials[O]=Object.assign(Object.assign({},I),{id:ur(I.id).buffer,type:I.type||"public-key",transports:I.transports})}}return E}function Ur(g){var a;if("toJSON"in g&&"function"==typeof g.toJSON)return g.toJSON();const i=g;return{id:g.id,rawId:g.id,response:{attestationObject:Nr(new Uint8Array(g.response.attestationObject)),clientDataJSON:Nr(new Uint8Array(g.response.clientDataJSON))},type:"public-key",clientExtensionResults:g.getClientExtensionResults(),authenticatorAttachment:null!==(a=i.authenticatorAttachment)&&void 0!==a?a:void 0}}function Vr(g){var a;if("toJSON"in g&&"function"==typeof g.toJSON)return g.toJSON();const i=g,u=g.getClientExtensionResults(),v=g.response;return{id:g.id,rawId:g.id,response:{authenticatorData:Nr(new Uint8Array(v.authenticatorData)),clientDataJSON:Nr(new Uint8Array(v.clientDataJSON)),signature:Nr(new Uint8Array(v.signature)),userHandle:v.userHandle?Nr(new Uint8Array(v.userHandle)):void 0},type:"public-key",clientExtensionResults:u,authenticatorAttachment:null!==(a=i.authenticatorAttachment)&&void 0!==a?a:void 0}}function So(g){return"localhost"===g||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(g)}function $r(){var g,a;return!!(bn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"==typeof(null===(g=navigator?.credentials)||void 0===g?void 0:g.create)&&"function"==typeof(null===(a=navigator?.credentials)||void 0===a?void 0:a.get))}function Br(){return(Br=(0,l.A)(function*(g){try{const a=yield navigator.credentials.create(g);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new lt("Browser returned unexpected credential type",a)}:{data:null,error:new lt("Empty credential response",a)}}catch(a){return{data:null,error:sn({error:a,options:g})}}})).apply(this,arguments)}function Ds(){return(Ds=(0,l.A)(function*(g){try{const a=yield navigator.credentials.get(g);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new lt("Browser returned unexpected credential type",a)}:{data:null,error:new lt("Empty credential response",a)}}catch(a){return{data:null,error:zt({error:a,options:g})}}})).apply(this,arguments)}const ba={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Ii={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Bo(...g){const a=v=>null!==v&&"object"==typeof v&&!Array.isArray(v),i=v=>v instanceof ArrayBuffer||ArrayBuffer.isView(v),u={};for(const v of g)if(v)for(const E in v){const O=v[E];if(void 0!==O)if(Array.isArray(O))u[E]=O;else if(i(O))u[E]=O;else if(a(O)){const I=u[E];u[E]=a(I)?Bo(I,O):Bo(O)}else u[E]=O}return u}class Ca{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(a){var i=this;return(0,l.A)(function*(){return i.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))})()}_challenge(a,i){var u=this;return(0,l.A)(function*({factorId:v,webauthn:E,friendlyName:O,signal:I},F){try{const{data:B,error:K}=yield u.client.mfa.challenge({factorId:v,webauthn:E});if(!B)return{data:null,error:K};const me=I??Un.createNewAbortSignal();if("create"===B.webauthn.type){const{user:Oe}=B.webauthn.credential_options.publicKey;Oe.name||(Oe.name=`${Oe.id}:${O}`),Oe.displayName||(Oe.displayName=Oe.name)}switch(B.webauthn.type){case"create":{const Oe=function Ai(g,a){return Bo(ba,g,a||{})}(B.webauthn.credential_options.publicKey,F?.create),{data:Ve,error:Me}=yield function Vo(g){return Br.apply(this,arguments)}({publicKey:Oe,signal:me});return Ve?{data:{factorId:v,challengeId:B.id,webauthn:{type:B.webauthn.type,credential_response:Ve}},error:null}:{data:null,error:Me}}case"request":{const Oe=function hi(g,a){return Bo(Ii,g,a||{})}(B.webauthn.credential_options.publicKey,F?.request),{data:Ve,error:Me}=yield function $o(g){return Ds.apply(this,arguments)}(Object.assign(Object.assign({},B.webauthn.credential_options),{publicKey:Oe,signal:me}));return Ve?{data:{factorId:v,challengeId:B.id,webauthn:{type:B.webauthn.type,credential_response:Ve}},error:null}:{data:null,error:Me}}}}catch(B){return ot(B)?{data:null,error:B}:{data:null,error:new Ir("Unexpected error in challenge",B)}}}).apply(this,arguments)}_verify(a){var i=this;return(0,l.A)(function*({challengeId:u,factorId:v,webauthn:E}){return i.client.mfa.verify({factorId:v,challengeId:u,webauthn:E})}).apply(this,arguments)}_authenticate(a,i){var u=this;return(0,l.A)(function*({factorId:v,webauthn:{rpId:E=(typeof window<"u"?window.location.hostname:void 0),rpOrigins:O=(typeof window<"u"?[window.location.origin]:void 0),signal:I}={}},F){if(!E)return{data:null,error:new Tn("rpId is required for WebAuthn authentication")};try{if(!$r())return{data:null,error:new Ir("Browser does not support WebAuthn",null)};const{data:B,error:K}=yield u.challenge({factorId:v,webauthn:{rpId:E,rpOrigins:O},signal:I},{request:F});if(!B)return{data:null,error:K};const{webauthn:me}=B;return u._verify({factorId:v,challengeId:B.challengeId,webauthn:{type:me.type,rpId:E,rpOrigins:O,credential_response:me.credential_response}})}catch(B){return ot(B)?{data:null,error:B}:{data:null,error:new Ir("Unexpected error in authenticate",B)}}}).apply(this,arguments)}_register(a,i){var u=this;return(0,l.A)(function*({friendlyName:v,webauthn:{rpId:E=(typeof window<"u"?window.location.hostname:void 0),rpOrigins:O=(typeof window<"u"?[window.location.origin]:void 0),signal:I}={}},F){if(!E)return{data:null,error:new Tn("rpId is required for WebAuthn registration")};try{if(!$r())return{data:null,error:new Ir("Browser does not support WebAuthn",null)};const{data:B,error:K}=yield u._enroll({friendlyName:v});if(!B)return yield u.client.mfa.listFactors().then(Ve=>{var Me;return null===(Me=Ve.data)||void 0===Me?void 0:Me.all.find(We=>"webauthn"===We.factor_type&&We.friendly_name===v&&"unverified"!==We.status)}).then(Ve=>Ve?u.client.mfa.unenroll({factorId:Ve?.id}):void 0),{data:null,error:K};const{data:me,error:Oe}=yield u._challenge({factorId:B.id,friendlyName:B.friendly_name,webauthn:{rpId:E,rpOrigins:O},signal:I},{create:F});return me?u._verify({factorId:B.id,challengeId:me.challengeId,webauthn:{rpId:E,rpOrigins:O,type:me.webauthn.type,credential_response:me.webauthn.credential_response}}):{data:null,error:Oe}}catch(B){return ot(B)?{data:null,error:B}:{data:null,error:new Ir("Unexpected error in register",B)}}}).apply(this,arguments)}}!function x(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}();const Mo={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:{"X-Client-Info":"gotrue-js/2.86.0"},flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};function fi(g,a,i){return fr.apply(this,arguments)}function fr(){return(fr=(0,l.A)(function*(g,a,i){return yield i()})).apply(this,arguments)}const dn={},$s=(()=>{class g{get jwks(){var i,u;return null!==(u=null===(i=dn[this.storageKey])||void 0===i?void 0:i.jwks)&&void 0!==u?u:{keys:[]}}set jwks(i){dn[this.storageKey]=Object.assign(Object.assign({},dn[this.storageKey]),{jwks:i})}get jwks_cached_at(){var i,u;return null!==(u=null===(i=dn[this.storageKey])||void 0===i?void 0:i.cachedAt)&&void 0!==u?u:Number.MIN_SAFE_INTEGER}set jwks_cached_at(i){dn[this.storageKey]=Object.assign(Object.assign({},dn[this.storageKey]),{cachedAt:i})}constructor(i){var v,E,O,u=this;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const I=Object.assign(Object.assign({},Mo),i);if(this.storageKey=I.storageKey,this.instanceID=null!==(v=g.nextInstanceID[this.storageKey])&&void 0!==v?v:0,g.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!I.debug,"function"==typeof I.debug&&(this.logger=I.debug),this.instanceID>0&&bn()){const F=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(F),this.logDebugMessages&&console.trace(F)}if(this.persistSession=I.persistSession,this.autoRefreshToken=I.autoRefreshToken,this.admin=new li({url:I.url,headers:I.headers,fetch:I.fetch}),this.url=I.url,this.headers=I.headers,this.fetch=Uo(I.fetch),this.lock=I.lock||fi,this.detectSessionInUrl=I.detectSessionInUrl,this.flowType=I.flowType,this.hasCustomAuthorizationHeader=I.hasCustomAuthorizationHeader,this.throwOnError=I.throwOnError,this.lock=I.lock?I.lock:bn()&&null!==(E=globalThis?.navigator)&&void 0!==E&&E.locks?_a:fi,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ca(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(I.storage?this.storage=I.storage:br()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=as(this.memoryStorage)),I.userStorage&&(this.userStorage=I.userStorage)):(this.memoryStorage={},this.storage=as(this.memoryStorage)),bn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(F){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",F)}null===(O=this.broadcastChannel)||void 0===O||O.addEventListener("message",function(){var F=(0,l.A)(function*(B){u._debug("received broadcast notification from other tab or client",B),yield u._notifyAllSubscribers(B.data.event,B.data.session,!1)});return function(B){return F.apply(this,arguments)}}())}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(i){if(this.throwOnError&&i&&i.error)throw i.error;return i}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (2.86.0) ${(new Date).toISOString()}`}_debug(...i){return this.logDebugMessages&&this.logger(this._logPrefix(),...i),this}initialize(){var i=this;return(0,l.A)(function*(){return i.initializePromise||(i.initializePromise=(0,l.A)(function*(){return yield i._acquireLock(-1,(0,l.A)(function*(){return yield i._initialize()}))})()),yield i.initializePromise})()}_initialize(){var i=this;return(0,l.A)(function*(){var u;try{let v={},E="none";if(bn()&&(v=function Co(g){const a={},i=new URL(g);if(i.hash&&"#"===i.hash[0])try{new URLSearchParams(i.hash.substring(1)).forEach((v,E)=>{a[E]=v})}catch{}return i.searchParams.forEach((u,v)=>{a[v]=u}),a}(window.location.href),i._isImplicitGrantCallback(v)?E="implicit":(yield i._isPKCECallback(v))&&(E="pkce")),bn()&&i.detectSessionInUrl&&"none"!==E){const{data:O,error:I}=yield i._getSessionFromURL(v,E);if(I){if(i._debug("#_initialize()","error detecting session from URL",I),function Xo(g){return ot(g)&&"AuthImplicitGrantRedirectError"===g.name}(I)){const K=null===(u=I.details)||void 0===u?void 0:u.code;if("identity_already_exists"===K||"identity_not_found"===K||"single_identity_not_deletable"===K)return{error:I}}return yield i._removeSession(),{error:I}}const{session:F,redirectType:B}=O;return i._debug("#_initialize()","detected session in URL",F,"redirect type",B),yield i._saveSession(F),setTimeout((0,l.A)(function*(){"recovery"===B?yield i._notifyAllSubscribers("PASSWORD_RECOVERY",F):yield i._notifyAllSubscribers("SIGNED_IN",F)}),0),{error:null}}return yield i._recoverAndRefresh(),{error:null}}catch(v){return ot(v)?i._returnResult({error:v}):i._returnResult({error:new Ir("Unexpected error during initialization",v)})}finally{yield i._handleVisibilityChange(),i._debug("#_initialize()","end")}})()}signInAnonymously(i){var u=this;return(0,l.A)(function*(){var v,E,O;try{const I=yield Tt(u.fetch,"POST",`${u.url}/signup`,{headers:u.headers,body:{data:null!==(E=null===(v=i?.options)||void 0===v?void 0:v.data)&&void 0!==E?E:{},gotrue_meta_security:{captcha_token:null===(O=i?.options)||void 0===O?void 0:O.captchaToken}},xform:Xr}),{data:F,error:B}=I;if(B||!F)return u._returnResult({data:{user:null,session:null},error:B});const K=F.session,me=F.user;return F.session&&(yield u._saveSession(F.session),yield u._notifyAllSubscribers("SIGNED_IN",K)),u._returnResult({data:{user:me,session:K},error:null})}catch(I){if(ot(I))return u._returnResult({data:{user:null,session:null},error:I});throw I}})()}signUp(i){var u=this;return(0,l.A)(function*(){var v,E,O;try{let I;if("email"in i){const{email:Oe,password:Ve,options:Me}=i;let We=null,dt=null;"pkce"===u.flowType&&([We,dt]=yield k(u.storage,u.storageKey)),I=yield Tt(u.fetch,"POST",`${u.url}/signup`,{headers:u.headers,redirectTo:Me?.emailRedirectTo,body:{email:Oe,password:Ve,data:null!==(v=Me?.data)&&void 0!==v?v:{},gotrue_meta_security:{captcha_token:Me?.captchaToken},code_challenge:We,code_challenge_method:dt},xform:Xr})}else{if(!("phone"in i))throw new Yt("You must provide either an email or phone number and a password");{const{phone:Oe,password:Ve,options:Me}=i;I=yield Tt(u.fetch,"POST",`${u.url}/signup`,{headers:u.headers,body:{phone:Oe,password:Ve,data:null!==(E=Me?.data)&&void 0!==E?E:{},channel:null!==(O=Me?.channel)&&void 0!==O?O:"sms",gotrue_meta_security:{captcha_token:Me?.captchaToken}},xform:Xr})}}const{data:F,error:B}=I;if(B||!F)return u._returnResult({data:{user:null,session:null},error:B});const K=F.session,me=F.user;return F.session&&(yield u._saveSession(F.session),yield u._notifyAllSubscribers("SIGNED_IN",K)),u._returnResult({data:{user:me,session:K},error:null})}catch(I){if(ot(I))return u._returnResult({data:{user:null,session:null},error:I});throw I}})()}signInWithPassword(i){var u=this;return(0,l.A)(function*(){try{let v;if("email"in i){const{email:I,password:F,options:B}=i;v=yield Tt(u.fetch,"POST",`${u.url}/token?grant_type=password`,{headers:u.headers,body:{email:I,password:F,gotrue_meta_security:{captcha_token:B?.captchaToken}},xform:Nn})}else{if(!("phone"in i))throw new Yt("You must provide either an email or phone number and a password");{const{phone:I,password:F,options:B}=i;v=yield Tt(u.fetch,"POST",`${u.url}/token?grant_type=password`,{headers:u.headers,body:{phone:I,password:F,gotrue_meta_security:{captcha_token:B?.captchaToken}},xform:Nn})}}const{data:E,error:O}=v;if(O)return u._returnResult({data:{user:null,session:null},error:O});if(!E||!E.session||!E.user){const I=new Dt;return u._returnResult({data:{user:null,session:null},error:I})}return E.session&&(yield u._saveSession(E.session),yield u._notifyAllSubscribers("SIGNED_IN",E.session)),u._returnResult({data:Object.assign({user:E.user,session:E.session},E.weak_password?{weakPassword:E.weak_password}:null),error:O})}catch(v){if(ot(v))return u._returnResult({data:{user:null,session:null},error:v});throw v}})()}signInWithOAuth(i){var u=this;return(0,l.A)(function*(){var v,E,O,I;return yield u._handleProviderSignIn(i.provider,{redirectTo:null===(v=i.options)||void 0===v?void 0:v.redirectTo,scopes:null===(E=i.options)||void 0===E?void 0:E.scopes,queryParams:null===(O=i.options)||void 0===O?void 0:O.queryParams,skipBrowserRedirect:null===(I=i.options)||void 0===I?void 0:I.skipBrowserRedirect})})()}exchangeCodeForSession(i){var u=this;return(0,l.A)(function*(){return yield u.initializePromise,u._acquireLock(-1,(0,l.A)(function*(){return u._exchangeCodeForSession(i)}))})()}signInWithWeb3(i){var u=this;return(0,l.A)(function*(){const{chain:v}=i;switch(v){case"ethereum":return yield u.signInWithEthereum(i);case"solana":return yield u.signInWithSolana(i);default:throw new Error(`@supabase/auth-js: Unsupported chain "${v}"`)}})()}signInWithEthereum(i){var u=this;return(0,l.A)(function*(){var v,E,O,I,F,B,K,me,Oe,Ve,Me;let We,dt;if("message"in i)We=i.message,dt=i.signature;else{const{wallet:Wt,statement:rn,options:ue}=i;let He;if(bn())if("object"==typeof Wt)He=Wt;else{const sr=window;if(!("ethereum"in sr)||"object"!=typeof sr.ethereum||!("request"in sr.ethereum)||"function"!=typeof sr.ethereum.request)throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");He=sr.ethereum}else{if("object"!=typeof Wt||!ue?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");He=Wt}const kn=new URL(null!==(v=ue?.url)&&void 0!==v?v:window.location.href),ho=yield He.request({method:"eth_requestAccounts"}).then(sr=>sr).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ho||0===ho.length)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Ut=w(ho[0]);let Zn=null===(E=ue?.signInWithEthereum)||void 0===E?void 0:E.chainId;Zn||(Zn=function A(g){return parseInt(g,16)}(yield He.request({method:"eth_chainId"}))),We=function ge(g){var a;const{chainId:i,domain:u,expirationTime:v,issuedAt:E=new Date,nonce:O,notBefore:I,requestId:F,resources:B,scheme:K,uri:me,version:Oe}=g;if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!u)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(O&&O.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${O}`);if(!me)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==Oe)throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${Oe}`);if(null!==(a=g.statement)&&void 0!==a&&a.includes("\n"))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${g.statement}`);const dt=`${K?`${K}://${u}`:u} wants you to sign in with your Ethereum account:\n${w(g.address)}\n\n${g.statement?`${g.statement}\n`:""}`;let ht=`URI: ${me}\nVersion: ${Oe}\nChain ID: ${i}${O?`\nNonce: ${O}`:""}\nIssued At: ${E.toISOString()}`;if(v&&(ht+=`\nExpiration Time: ${v.toISOString()}`),I&&(ht+=`\nNot Before: ${I.toISOString()}`),F&&(ht+=`\nRequest ID: ${F}`),B){let Wt="\nResources:";for(const rn of B){if(!rn||"string"!=typeof rn)throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${rn}`);Wt+=`\n- ${rn}`}ht+=Wt}return`${dt}\n${ht}`}({domain:kn.host,address:Ut,statement:rn,uri:kn.href,version:"1",chainId:Zn,nonce:null===(O=ue?.signInWithEthereum)||void 0===O?void 0:O.nonce,issuedAt:null!==(F=null===(I=ue?.signInWithEthereum)||void 0===I?void 0:I.issuedAt)&&void 0!==F?F:new Date,expirationTime:null===(B=ue?.signInWithEthereum)||void 0===B?void 0:B.expirationTime,notBefore:null===(K=ue?.signInWithEthereum)||void 0===K?void 0:K.notBefore,requestId:null===(me=ue?.signInWithEthereum)||void 0===me?void 0:me.requestId,resources:null===(Oe=ue?.signInWithEthereum)||void 0===Oe?void 0:Oe.resources}),dt=yield He.request({method:"personal_sign",params:[z(We),Ut]})}try{const{data:ht,error:Wt}=yield Tt(u.fetch,"POST",`${u.url}/token?grant_type=web3`,{headers:u.headers,body:Object.assign({chain:"ethereum",message:We,signature:dt},null!==(Ve=i.options)&&void 0!==Ve&&Ve.captchaToken?{gotrue_meta_security:{captcha_token:null===(Me=i.options)||void 0===Me?void 0:Me.captchaToken}}:null),xform:Xr});if(Wt)throw Wt;if(!ht||!ht.session||!ht.user){const rn=new Dt;return u._returnResult({data:{user:null,session:null},error:rn})}return ht.session&&(yield u._saveSession(ht.session),yield u._notifyAllSubscribers("SIGNED_IN",ht.session)),u._returnResult({data:Object.assign({},ht),error:Wt})}catch(ht){if(ot(ht))return u._returnResult({data:{user:null,session:null},error:ht});throw ht}})()}signInWithSolana(i){var u=this;return(0,l.A)(function*(){var v,E,O,I,F,B,K,me,Oe,Ve,Me,We;let dt,ht;if("message"in i)dt=i.message,ht=i.signature;else{const{wallet:rn,statement:ue,options:He}=i;let kn;if(bn())if("object"==typeof rn)kn=rn;else{const Ut=window;if(!("solana"in Ut)||"object"!=typeof Ut.solana||!("signIn"in Ut.solana&&"function"==typeof Ut.solana.signIn||"signMessage"in Ut.solana&&"function"==typeof Ut.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");kn=Ut.solana}else{if("object"!=typeof rn||!He?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");kn=rn}const ho=new URL(null!==(v=He?.url)&&void 0!==v?v:window.location.href);if("signIn"in kn&&kn.signIn){const Ut=yield kn.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},He?.signInWithSolana),{version:"1",domain:ho.host,uri:ho.href}),ue?{statement:ue}:null));let Zn;if(Array.isArray(Ut)&&Ut[0]&&"object"==typeof Ut[0])Zn=Ut[0];else{if(!(Ut&&"object"==typeof Ut&&"signedMessage"in Ut&&"signature"in Ut))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");Zn=Ut}if(!("signedMessage"in Zn&&"signature"in Zn&&("string"==typeof Zn.signedMessage||Zn.signedMessage instanceof Uint8Array)&&Zn.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");dt="string"==typeof Zn.signedMessage?Zn.signedMessage:(new TextDecoder).decode(Zn.signedMessage),ht=Zn.signature}else{if(!("signMessage"in kn&&"function"==typeof kn.signMessage&&"publicKey"in kn&&"object"==typeof kn&&kn.publicKey&&"toBase58"in kn.publicKey&&"function"==typeof kn.publicKey.toBase58))throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");dt=[`${ho.host} wants you to sign in with your Solana account:`,kn.publicKey.toBase58(),...ue?["",ue,""]:[""],"Version: 1",`URI: ${ho.href}`,`Issued At: ${null!==(O=null===(E=He?.signInWithSolana)||void 0===E?void 0:E.issuedAt)&&void 0!==O?O:(new Date).toISOString()}`,...null!==(I=He?.signInWithSolana)&&void 0!==I&&I.notBefore?[`Not Before: ${He.signInWithSolana.notBefore}`]:[],...null!==(F=He?.signInWithSolana)&&void 0!==F&&F.expirationTime?[`Expiration Time: ${He.signInWithSolana.expirationTime}`]:[],...null!==(B=He?.signInWithSolana)&&void 0!==B&&B.chainId?[`Chain ID: ${He.signInWithSolana.chainId}`]:[],...null!==(K=He?.signInWithSolana)&&void 0!==K&&K.nonce?[`Nonce: ${He.signInWithSolana.nonce}`]:[],...null!==(me=He?.signInWithSolana)&&void 0!==me&&me.requestId?[`Request ID: ${He.signInWithSolana.requestId}`]:[],...null!==(Ve=null===(Oe=He?.signInWithSolana)||void 0===Oe?void 0:Oe.resources)&&void 0!==Ve&&Ve.length?["Resources",...He.signInWithSolana.resources.map(Zn=>`- ${Zn}`)]:[]].join("\n");const Ut=yield kn.signMessage((new TextEncoder).encode(dt),"utf8");if(!(Ut&&Ut instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");ht=Ut}}try{const{data:Wt,error:rn}=yield Tt(u.fetch,"POST",`${u.url}/token?grant_type=web3`,{headers:u.headers,body:Object.assign({chain:"solana",message:dt,signature:Nr(ht)},null!==(Me=i.options)&&void 0!==Me&&Me.captchaToken?{gotrue_meta_security:{captcha_token:null===(We=i.options)||void 0===We?void 0:We.captchaToken}}:null),xform:Xr});if(rn)throw rn;if(!Wt||!Wt.session||!Wt.user){const ue=new Dt;return u._returnResult({data:{user:null,session:null},error:ue})}return Wt.session&&(yield u._saveSession(Wt.session),yield u._notifyAllSubscribers("SIGNED_IN",Wt.session)),u._returnResult({data:Object.assign({},Wt),error:rn})}catch(Wt){if(ot(Wt))return u._returnResult({data:{user:null,session:null},error:Wt});throw Wt}})()}_exchangeCodeForSession(i){var u=this;return(0,l.A)(function*(){const v=yield wo(u.storage,`${u.storageKey}-code-verifier`),[E,O]=(v??"").split("/");try{const{data:I,error:F}=yield Tt(u.fetch,"POST",`${u.url}/token?grant_type=pkce`,{headers:u.headers,body:{auth_code:i,code_verifier:E},xform:Xr});if(yield Mn(u.storage,`${u.storageKey}-code-verifier`),F)throw F;if(!I||!I.session||!I.user){const B=new Dt;return u._returnResult({data:{user:null,session:null,redirectType:null},error:B})}return I.session&&(yield u._saveSession(I.session),yield u._notifyAllSubscribers("SIGNED_IN",I.session)),u._returnResult({data:Object.assign(Object.assign({},I),{redirectType:O??null}),error:F})}catch(I){if(ot(I))return u._returnResult({data:{user:null,session:null,redirectType:null},error:I});throw I}})()}signInWithIdToken(i){var u=this;return(0,l.A)(function*(){try{const{options:v,provider:E,token:O,access_token:I,nonce:F}=i,B=yield Tt(u.fetch,"POST",`${u.url}/token?grant_type=id_token`,{headers:u.headers,body:{provider:E,id_token:O,access_token:I,nonce:F,gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Xr}),{data:K,error:me}=B;if(me)return u._returnResult({data:{user:null,session:null},error:me});if(!K||!K.session||!K.user){const Oe=new Dt;return u._returnResult({data:{user:null,session:null},error:Oe})}return K.session&&(yield u._saveSession(K.session),yield u._notifyAllSubscribers("SIGNED_IN",K.session)),u._returnResult({data:K,error:me})}catch(v){if(ot(v))return u._returnResult({data:{user:null,session:null},error:v});throw v}})()}signInWithOtp(i){var u=this;return(0,l.A)(function*(){var v,E,O,I,F;try{if("email"in i){const{email:B,options:K}=i;let me=null,Oe=null;"pkce"===u.flowType&&([me,Oe]=yield k(u.storage,u.storageKey));const{error:Ve}=yield Tt(u.fetch,"POST",`${u.url}/otp`,{headers:u.headers,body:{email:B,data:null!==(v=K?.data)&&void 0!==v?v:{},create_user:null===(E=K?.shouldCreateUser)||void 0===E||E,gotrue_meta_security:{captcha_token:K?.captchaToken},code_challenge:me,code_challenge_method:Oe},redirectTo:K?.emailRedirectTo});return u._returnResult({data:{user:null,session:null},error:Ve})}if("phone"in i){const{phone:B,options:K}=i,{data:me,error:Oe}=yield Tt(u.fetch,"POST",`${u.url}/otp`,{headers:u.headers,body:{phone:B,data:null!==(O=K?.data)&&void 0!==O?O:{},create_user:null===(I=K?.shouldCreateUser)||void 0===I||I,gotrue_meta_security:{captcha_token:K?.captchaToken},channel:null!==(F=K?.channel)&&void 0!==F?F:"sms"}});return u._returnResult({data:{user:null,session:null,messageId:me?.message_id},error:Oe})}throw new Yt("You must provide either an email or phone number.")}catch(B){if(ot(B))return u._returnResult({data:{user:null,session:null},error:B});throw B}})()}verifyOtp(i){var u=this;return(0,l.A)(function*(){var v,E;try{let O,I;"options"in i&&(O=null===(v=i.options)||void 0===v?void 0:v.redirectTo,I=null===(E=i.options)||void 0===E?void 0:E.captchaToken);const{data:F,error:B}=yield Tt(u.fetch,"POST",`${u.url}/verify`,{headers:u.headers,body:Object.assign(Object.assign({},i),{gotrue_meta_security:{captcha_token:I}}),redirectTo:O,xform:Xr});if(B)throw B;if(!F)throw new Error("An error occurred on token verification.");const K=F.session,me=F.user;return K?.access_token&&(yield u._saveSession(K),yield u._notifyAllSubscribers("recovery"==i.type?"PASSWORD_RECOVERY":"SIGNED_IN",K)),u._returnResult({data:{user:me,session:K},error:null})}catch(O){if(ot(O))return u._returnResult({data:{user:null,session:null},error:O});throw O}})()}signInWithSSO(i){var u=this;return(0,l.A)(function*(){var v,E,O,I,F;try{let B=null,K=null;"pkce"===u.flowType&&([B,K]=yield k(u.storage,u.storageKey));const me=yield Tt(u.fetch,"POST",`${u.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in i?{provider_id:i.providerId}:null),"domain"in i?{domain:i.domain}:null),{redirect_to:null!==(E=null===(v=i.options)||void 0===v?void 0:v.redirectTo)&&void 0!==E?E:void 0}),null!==(O=i?.options)&&void 0!==O&&O.captchaToken?{gotrue_meta_security:{captcha_token:i.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:B,code_challenge_method:K}),headers:u.headers,xform:jr});return!(null===(I=me.data)||void 0===I)&&I.url&&bn()&&!(null!==(F=i.options)&&void 0!==F&&F.skipBrowserRedirect)&&window.location.assign(me.data.url),u._returnResult(me)}catch(B){if(ot(B))return u._returnResult({data:null,error:B});throw B}})()}reauthenticate(){var i=this;return(0,l.A)(function*(){return yield i.initializePromise,yield i._acquireLock(-1,(0,l.A)(function*(){return yield i._reauthenticate()}))})()}_reauthenticate(){var i=this;return(0,l.A)(function*(){try{return yield i._useSession(function(){var u=(0,l.A)(function*(v){const{data:{session:E},error:O}=v;if(O)throw O;if(!E)throw new Bt;const{error:I}=yield Tt(i.fetch,"GET",`${i.url}/reauthenticate`,{headers:i.headers,jwt:E.access_token});return i._returnResult({data:{user:null,session:null},error:I})});return function(v){return u.apply(this,arguments)}}())}catch(u){if(ot(u))return i._returnResult({data:{user:null,session:null},error:u});throw u}})()}resend(i){var u=this;return(0,l.A)(function*(){try{const v=`${u.url}/resend`;if("email"in i){const{email:E,type:O,options:I}=i,{error:F}=yield Tt(u.fetch,"POST",v,{headers:u.headers,body:{email:E,type:O,gotrue_meta_security:{captcha_token:I?.captchaToken}},redirectTo:I?.emailRedirectTo});return u._returnResult({data:{user:null,session:null},error:F})}if("phone"in i){const{phone:E,type:O,options:I}=i,{data:F,error:B}=yield Tt(u.fetch,"POST",v,{headers:u.headers,body:{phone:E,type:O,gotrue_meta_security:{captcha_token:I?.captchaToken}}});return u._returnResult({data:{user:null,session:null,messageId:F?.message_id},error:B})}throw new Yt("You must provide either an email or phone number and a type")}catch(v){if(ot(v))return u._returnResult({data:{user:null,session:null},error:v});throw v}})()}getSession(){var i=this;return(0,l.A)(function*(){return yield i.initializePromise,yield i._acquireLock(-1,(0,l.A)(function*(){return i._useSession(function(){var v=(0,l.A)(function*(E){return E});return function(E){return v.apply(this,arguments)}}())}))})()}_acquireLock(i,u){var v=this;return(0,l.A)(function*(){v._debug("#_acquireLock","begin",i);try{if(v.lockAcquired){const E=v.pendingInLock.length?v.pendingInLock[v.pendingInLock.length-1]:Promise.resolve(),O=(0,l.A)(function*(){return yield E,yield u()})();return v.pendingInLock.push((0,l.A)(function*(){try{yield O}catch{}})()),O}return yield v.lock(`lock:${v.storageKey}`,i,(0,l.A)(function*(){v._debug("#_acquireLock","lock acquired for storage key",v.storageKey);try{v.lockAcquired=!0;const E=u();for(v.pendingInLock.push((0,l.A)(function*(){try{yield E}catch{}})()),yield E;v.pendingInLock.length;){const O=[...v.pendingInLock];yield Promise.all(O),v.pendingInLock.splice(0,O.length)}return yield E}finally{v._debug("#_acquireLock","lock released for storage key",v.storageKey),v.lockAcquired=!1}}))}finally{v._debug("#_acquireLock","end")}})()}_useSession(i){var u=this;return(0,l.A)(function*(){u._debug("#_useSession","begin");try{const v=yield u.__loadSession();return yield i(v)}finally{u._debug("#_useSession","end")}})()}__loadSession(){var i=this;return(0,l.A)(function*(){i._debug("#__loadSession()","begin"),i.lockAcquired||i._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let u=null;const v=yield wo(i.storage,i.storageKey);if(i._debug("#getSession()","session from storage",v),null!==v&&(i._isValidSession(v)?u=v:(i._debug("#getSession()","session from storage is not valid"),yield i._removeSession())),!u)return{data:{session:null},error:null};const E=!!u.expires_at&&1e3*u.expires_at-Date.now()<9e4;if(i._debug("#__loadSession()",`session has${E?"":" not"} expired`,"expires_at",u.expires_at),!E){if(i.userStorage){const F=yield wo(i.userStorage,i.storageKey+"-user");u.user=F?.user?F.user:Yo()}if(i.storage.isServer&&u.user&&!u.user.__isUserNotAvailableProxy){const F={value:i.suppressGetSessionWarning};u.user=function bs(g,a){return new Proxy(g,{get:(i,u,v)=>{if("__isInsecureUserWarningProxy"===u)return!0;if("symbol"==typeof u){const E=u.toString();if("Symbol(Symbol.toPrimitive)"===E||"Symbol(Symbol.toStringTag)"===E||"Symbol(util.inspect.custom)"===E||"Symbol(nodejs.util.inspect.custom)"===E)return Reflect.get(i,u,v)}return!a.value&&"string"==typeof u&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(i,u,v)}})}(u.user,F),F.value&&(i.suppressGetSessionWarning=!0)}return{data:{session:u},error:null}}const{data:O,error:I}=yield i._callRefreshToken(u.refresh_token);return i._returnResult(I?{data:{session:null},error:I}:{data:{session:O},error:null})}finally{i._debug("#__loadSession()","end")}})()}getUser(i){var u=this;return(0,l.A)(function*(){return i?yield u._getUser(i):(yield u.initializePromise,yield u._acquireLock(-1,(0,l.A)(function*(){return yield u._getUser()})))})()}_getUser(i){var u=this;return(0,l.A)(function*(){try{return i?yield Tt(u.fetch,"GET",`${u.url}/user`,{headers:u.headers,jwt:i,xform:Lr}):yield u._useSession(function(){var v=(0,l.A)(function*(E){var O,I,F;const{data:B,error:K}=E;if(K)throw K;return null!==(O=B.session)&&void 0!==O&&O.access_token||u.hasCustomAuthorizationHeader?yield Tt(u.fetch,"GET",`${u.url}/user`,{headers:u.headers,jwt:null!==(F=null===(I=B.session)||void 0===I?void 0:I.access_token)&&void 0!==F?F:void 0,xform:Lr}):{data:{user:null},error:new Bt}});return function(E){return v.apply(this,arguments)}}())}catch(v){if(ot(v))return function Qe(g){return ot(g)&&"AuthSessionMissingError"===g.name}(v)&&(yield u._removeSession(),yield Mn(u.storage,`${u.storageKey}-code-verifier`)),u._returnResult({data:{user:null},error:v});throw v}})()}updateUser(i){var u=this;return(0,l.A)(function*(v,E={}){return yield u.initializePromise,yield u._acquireLock(-1,(0,l.A)(function*(){return yield u._updateUser(v,E)}))}).apply(this,arguments)}_updateUser(i){var u=this;return(0,l.A)(function*(v,E={}){try{return yield u._useSession(function(){var O=(0,l.A)(function*(I){const{data:F,error:B}=I;if(B)throw B;if(!F.session)throw new Bt;const K=F.session;let me=null,Oe=null;"pkce"===u.flowType&&null!=v.email&&([me,Oe]=yield k(u.storage,u.storageKey));const{data:Ve,error:Me}=yield Tt(u.fetch,"PUT",`${u.url}/user`,{headers:u.headers,redirectTo:E?.emailRedirectTo,body:Object.assign(Object.assign({},v),{code_challenge:me,code_challenge_method:Oe}),jwt:K.access_token,xform:Lr});if(Me)throw Me;return K.user=Ve.user,yield u._saveSession(K),yield u._notifyAllSubscribers("USER_UPDATED",K),u._returnResult({data:{user:K.user},error:null})});return function(I){return O.apply(this,arguments)}}())}catch(O){if(ot(O))return u._returnResult({data:{user:null},error:O});throw O}}).apply(this,arguments)}setSession(i){var u=this;return(0,l.A)(function*(){return yield u.initializePromise,yield u._acquireLock(-1,(0,l.A)(function*(){return yield u._setSession(i)}))})()}_setSession(i){var u=this;return(0,l.A)(function*(){try{if(!i.access_token||!i.refresh_token)throw new Bt;const v=Date.now()/1e3;let E=v,O=!0,I=null;const{payload:F}=Jo(i.access_token);if(F.exp&&(E=F.exp,O=E<=v),O){const{data:B,error:K}=yield u._callRefreshToken(i.refresh_token);if(K)return u._returnResult({data:{user:null,session:null},error:K});if(!B)return{data:{user:null,session:null},error:null};I=B}else{const{data:B,error:K}=yield u._getUser(i.access_token);if(K)throw K;I={access_token:i.access_token,refresh_token:i.refresh_token,user:B.user,token_type:"bearer",expires_in:E-v,expires_at:E},yield u._saveSession(I),yield u._notifyAllSubscribers("SIGNED_IN",I)}return u._returnResult({data:{user:I.user,session:I},error:null})}catch(v){if(ot(v))return u._returnResult({data:{session:null,user:null},error:v});throw v}})()}refreshSession(i){var u=this;return(0,l.A)(function*(){return yield u.initializePromise,yield u._acquireLock(-1,(0,l.A)(function*(){return yield u._refreshSession(i)}))})()}_refreshSession(i){var u=this;return(0,l.A)(function*(){try{return yield u._useSession(function(){var v=(0,l.A)(function*(E){var O;if(!i){const{data:B,error:K}=E;if(K)throw K;i=null!==(O=B.session)&&void 0!==O?O:void 0}if(!i?.refresh_token)throw new Bt;const{data:I,error:F}=yield u._callRefreshToken(i.refresh_token);return u._returnResult(F?{data:{user:null,session:null},error:F}:I?{data:{user:I.user,session:I},error:null}:{data:{user:null,session:null},error:null})});return function(E){return v.apply(this,arguments)}}())}catch(v){if(ot(v))return u._returnResult({data:{user:null,session:null},error:v});throw v}})()}_getSessionFromURL(i,u){var v=this;return(0,l.A)(function*(){try{if(!bn())throw new qn("No browser detected.");if(i.error||i.error_description||i.error_code)throw new qn(i.error_description||"Error in URL with unspecified error_description",{error:i.error||"unspecified_error",code:i.error_code||"unspecified_code"});switch(u){case"implicit":if("pkce"===v.flowType)throw new Pn("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===v.flowType)throw new qn("Not a valid implicit grant flow url.")}if("pkce"===u){if(v._debug("#_initialize()","begin","is PKCE flow",!0),!i.code)throw new Pn("No code detected.");const{data:ue,error:He}=yield v._exchangeCodeForSession(i.code);if(He)throw He;const kn=new URL(window.location.href);return kn.searchParams.delete("code"),window.history.replaceState(window.history.state,"",kn.toString()),{data:{session:ue.session,redirectType:null},error:null}}const{provider_token:E,provider_refresh_token:O,access_token:I,refresh_token:F,expires_in:B,expires_at:K,token_type:me}=i;if(!(I&&B&&F&&me))throw new qn("No session defined in URL");const Oe=Math.round(Date.now()/1e3),Ve=parseInt(B);let Me=Oe+Ve;K&&(Me=parseInt(K));const We=Me-Oe;1e3*We<=ro&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${We}s, should have been closer to ${Ve}s`);const dt=Me-Ve;Oe-dt>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",dt,Me,Oe):Oe-dt<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",dt,Me,Oe);const{data:ht,error:Wt}=yield v._getUser(I);if(Wt)throw Wt;const rn={provider_token:E,provider_refresh_token:O,access_token:I,expires_in:Ve,expires_at:Me,refresh_token:F,token_type:me,user:ht.user};return window.location.hash="",v._debug("#_getSessionFromURL()","clearing window.location.hash"),v._returnResult({data:{session:rn,redirectType:i.type},error:null})}catch(E){if(ot(E))return v._returnResult({data:{session:null,redirectType:null},error:E});throw E}})()}_isImplicitGrantCallback(i){return!(!i.access_token&&!i.error_description)}_isPKCECallback(i){var u=this;return(0,l.A)(function*(){const v=yield wo(u.storage,`${u.storageKey}-code-verifier`);return!(!i.code||!v)})()}signOut(){var i=this;return(0,l.A)(function*(u={scope:"global"}){return yield i.initializePromise,yield i._acquireLock(-1,(0,l.A)(function*(){return yield i._signOut(u)}))}).apply(this,arguments)}_signOut(){var i=this;return(0,l.A)(function*({scope:u}={scope:"global"}){return yield i._useSession(function(){var v=(0,l.A)(function*(E){var O;const{data:I,error:F}=E;if(F)return i._returnResult({error:F});const B=null===(O=I.session)||void 0===O?void 0:O.access_token;if(B){const{error:K}=yield i.admin.signOut(B,u);if(K&&(!function Ko(g){return ot(g)&&"AuthApiError"===g.name}(K)||404!==K.status&&401!==K.status&&403!==K.status))return i._returnResult({error:K})}return"others"!==u&&(yield i._removeSession(),yield Mn(i.storage,`${i.storageKey}-code-verifier`)),i._returnResult({error:null})});return function(E){return v.apply(this,arguments)}}())}).apply(this,arguments)}onAuthStateChange(i){var u=this;const v=function Ks(){return Symbol("auth-callback")}(),E={id:v,callback:i,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",v),this.stateChangeEmitters.delete(v)}};return this._debug("#onAuthStateChange()","registered callback with id",v),this.stateChangeEmitters.set(v,E),(0,l.A)(function*(){yield u.initializePromise,yield u._acquireLock(-1,(0,l.A)(function*(){u._emitInitialSession(v)}))})(),{data:{subscription:E}}}_emitInitialSession(i){var u=this;return(0,l.A)(function*(){return yield u._useSession(function(){var v=(0,l.A)(function*(E){var O,I;try{const{data:{session:F},error:B}=E;if(B)throw B;yield null===(O=u.stateChangeEmitters.get(i))||void 0===O?void 0:O.callback("INITIAL_SESSION",F),u._debug("INITIAL_SESSION","callback id",i,"session",F)}catch(F){yield null===(I=u.stateChangeEmitters.get(i))||void 0===I?void 0:I.callback("INITIAL_SESSION",null),u._debug("INITIAL_SESSION","callback id",i,"error",F),console.error(F)}});return function(E){return v.apply(this,arguments)}}())})()}resetPasswordForEmail(i){var u=this;return(0,l.A)(function*(v,E={}){let O=null,I=null;"pkce"===u.flowType&&([O,I]=yield k(u.storage,u.storageKey,!0));try{return yield Tt(u.fetch,"POST",`${u.url}/recover`,{body:{email:v,code_challenge:O,code_challenge_method:I,gotrue_meta_security:{captcha_token:E.captchaToken}},headers:u.headers,redirectTo:E.redirectTo})}catch(F){if(ot(F))return u._returnResult({data:null,error:F});throw F}}).apply(this,arguments)}getUserIdentities(){var i=this;return(0,l.A)(function*(){var u;try{const{data:v,error:E}=yield i.getUser();if(E)throw E;return i._returnResult({data:{identities:null!==(u=v.user.identities)&&void 0!==u?u:[]},error:null})}catch(v){if(ot(v))return i._returnResult({data:null,error:v});throw v}})()}linkIdentity(i){var u=this;return(0,l.A)(function*(){return"token"in i?u.linkIdentityIdToken(i):u.linkIdentityOAuth(i)})()}linkIdentityOAuth(i){var u=this;return(0,l.A)(function*(){var v;try{const{data:E,error:O}=yield u._useSession(function(){var I=(0,l.A)(function*(F){var B,K,me,Oe,Ve;const{data:Me,error:We}=F;if(We)throw We;const dt=yield u._getUrlForProvider(`${u.url}/user/identities/authorize`,i.provider,{redirectTo:null===(B=i.options)||void 0===B?void 0:B.redirectTo,scopes:null===(K=i.options)||void 0===K?void 0:K.scopes,queryParams:null===(me=i.options)||void 0===me?void 0:me.queryParams,skipBrowserRedirect:!0});return yield Tt(u.fetch,"GET",dt,{headers:u.headers,jwt:null!==(Ve=null===(Oe=Me.session)||void 0===Oe?void 0:Oe.access_token)&&void 0!==Ve?Ve:void 0})});return function(F){return I.apply(this,arguments)}}());if(O)throw O;return bn()&&!(null!==(v=i.options)&&void 0!==v&&v.skipBrowserRedirect)&&window.location.assign(E?.url),u._returnResult({data:{provider:i.provider,url:E?.url},error:null})}catch(E){if(ot(E))return u._returnResult({data:{provider:i.provider,url:null},error:E});throw E}})()}linkIdentityIdToken(i){var u=this;return(0,l.A)(function*(){return yield u._useSession(function(){var v=(0,l.A)(function*(E){var O;try{const{error:I,data:{session:F}}=E;if(I)throw I;const{options:B,provider:K,token:me,access_token:Oe,nonce:Ve}=i,Me=yield Tt(u.fetch,"POST",`${u.url}/token?grant_type=id_token`,{headers:u.headers,jwt:null!==(O=F?.access_token)&&void 0!==O?O:void 0,body:{provider:K,id_token:me,access_token:Oe,nonce:Ve,link_identity:!0,gotrue_meta_security:{captcha_token:B?.captchaToken}},xform:Xr}),{data:We,error:dt}=Me;return dt?u._returnResult({data:{user:null,session:null},error:dt}):We&&We.session&&We.user?(We.session&&(yield u._saveSession(We.session),yield u._notifyAllSubscribers("USER_UPDATED",We.session)),u._returnResult({data:We,error:dt})):u._returnResult({data:{user:null,session:null},error:new Dt})}catch(I){if(ot(I))return u._returnResult({data:{user:null,session:null},error:I});throw I}});return function(E){return v.apply(this,arguments)}}())})()}unlinkIdentity(i){var u=this;return(0,l.A)(function*(){try{return yield u._useSession(function(){var v=(0,l.A)(function*(E){var O,I;const{data:F,error:B}=E;if(B)throw B;return yield Tt(u.fetch,"DELETE",`${u.url}/user/identities/${i.identity_id}`,{headers:u.headers,jwt:null!==(I=null===(O=F.session)||void 0===O?void 0:O.access_token)&&void 0!==I?I:void 0})});return function(E){return v.apply(this,arguments)}}())}catch(v){if(ot(v))return u._returnResult({data:null,error:v});throw v}})()}_refreshAccessToken(i){var u=this;return(0,l.A)(function*(){const v=`#_refreshAccessToken(${i.substring(0,5)}...)`;u._debug(v,"begin");try{const E=Date.now();return yield function kr(g,a){return new Promise((u,v)=>{(0,l.A)(function*(){for(let E=0;E<1/0;E++)try{const O=yield g(E);if(!a(E,null,O))return void u(O)}catch(O){if(!a(E,O))return void v(O)}})()})}(function(){var O=(0,l.A)(function*(I){return I>0&&(yield function Cr(g){return Wr.apply(this,arguments)}(200*Math.pow(2,I-1))),u._debug(v,"refreshing attempt",I),yield Tt(u.fetch,"POST",`${u.url}/token?grant_type=refresh_token`,{body:{refresh_token:i},headers:u.headers,xform:Xr})});return function(I){return O.apply(this,arguments)}}(),(O,I)=>{const F=200*Math.pow(2,O);return I&&En(I)&&Date.now()+F-E<ro})}catch(E){if(u._debug(v,"error",E),ot(E))return u._returnResult({data:{session:null,user:null},error:E});throw E}finally{u._debug(v,"end")}})()}_isValidSession(i){return"object"==typeof i&&null!==i&&"access_token"in i&&"refresh_token"in i&&"expires_at"in i}_handleProviderSignIn(i,u){var v=this;return(0,l.A)(function*(){const E=yield v._getUrlForProvider(`${v.url}/authorize`,i,{redirectTo:u.redirectTo,scopes:u.scopes,queryParams:u.queryParams});return v._debug("#_handleProviderSignIn()","provider",i,"options",u,"url",E),bn()&&!u.skipBrowserRedirect&&window.location.assign(E),{data:{provider:i,url:E},error:null}})()}_recoverAndRefresh(){var i=this;return(0,l.A)(function*(){var u,v;const E="#_recoverAndRefresh()";i._debug(E,"begin");try{const O=yield wo(i.storage,i.storageKey);if(O&&i.userStorage){let F=yield wo(i.userStorage,i.storageKey+"-user");!i.storage.isServer&&Object.is(i.storage,i.userStorage)&&!F&&(F={user:O.user},yield Sn(i.userStorage,i.storageKey+"-user",F)),O.user=null!==(u=F?.user)&&void 0!==u?u:Yo()}else if(O&&!O.user&&!O.user){const F=yield wo(i.storage,i.storageKey+"-user");F&&F?.user?(O.user=F.user,yield Mn(i.storage,i.storageKey+"-user"),yield Sn(i.storage,i.storageKey,O)):O.user=Yo()}if(i._debug(E,"session from storage",O),!i._isValidSession(O))return i._debug(E,"session is not valid"),void(null!==O&&(yield i._removeSession()));const I=1e3*(null!==(v=O.expires_at)&&void 0!==v?v:1/0)-Date.now()<9e4;if(i._debug(E,`session has${I?"":" not"} expired with margin of 90000s`),I){if(i.autoRefreshToken&&O.refresh_token){const{error:F}=yield i._callRefreshToken(O.refresh_token);F&&(console.error(F),En(F)||(i._debug(E,"refresh failed with a non-retryable error, removing the session",F),yield i._removeSession()))}}else if(O.user&&!0===O.user.__isUserNotAvailableProxy)try{const{data:F,error:B}=yield i._getUser(O.access_token);!B&&F?.user?(O.user=F.user,yield i._saveSession(O),yield i._notifyAllSubscribers("SIGNED_IN",O)):i._debug(E,"could not get user data, skipping SIGNED_IN notification")}catch(F){console.error("Error getting user data:",F),i._debug(E,"error getting user data, skipping SIGNED_IN notification",F)}else yield i._notifyAllSubscribers("SIGNED_IN",O)}catch(O){return i._debug(E,"error",O),void console.error(O)}finally{i._debug(E,"end")}})()}_callRefreshToken(i){var u=this;return(0,l.A)(function*(){var v,E;if(!i)throw new Bt;if(u.refreshingDeferred)return u.refreshingDeferred.promise;const O=`#_callRefreshToken(${i.substring(0,5)}...)`;u._debug(O,"begin");try{u.refreshingDeferred=new Jn;const{data:I,error:F}=yield u._refreshAccessToken(i);if(F)throw F;if(!I.session)throw new Bt;yield u._saveSession(I.session),yield u._notifyAllSubscribers("TOKEN_REFRESHED",I.session);const B={data:I.session,error:null};return u.refreshingDeferred.resolve(B),B}catch(I){if(u._debug(O,"error",I),ot(I)){const F={data:null,error:I};return En(I)||(yield u._removeSession()),null===(v=u.refreshingDeferred)||void 0===v||v.resolve(F),F}throw null===(E=u.refreshingDeferred)||void 0===E||E.reject(I),I}finally{u.refreshingDeferred=null,u._debug(O,"end")}})()}_notifyAllSubscribers(i,u){var v=this;return(0,l.A)(function*(E,O,I=!0){const F=`#_notifyAllSubscribers(${E})`;v._debug(F,"begin",O,`broadcast = ${I}`);try{v.broadcastChannel&&I&&v.broadcastChannel.postMessage({event:E,session:O});const B=[],K=Array.from(v.stateChangeEmitters.values()).map(function(){var me=(0,l.A)(function*(Oe){try{yield Oe.callback(E,O)}catch(Ve){B.push(Ve)}});return function(Oe){return me.apply(this,arguments)}}());if(yield Promise.all(K),B.length>0){for(let me=0;me<B.length;me+=1)console.error(B[me]);throw B[0]}}finally{v._debug(F,"end")}}).apply(this,arguments)}_saveSession(i){var u=this;return(0,l.A)(function*(){u._debug("#_saveSession()",i),u.suppressGetSessionWarning=!0;const v=Object.assign({},i);if(u.userStorage){(!v.user||!0!==v.user.__isUserNotAvailableProxy)&&v.user&&(yield Sn(u.userStorage,u.storageKey+"-user",{user:v.user}));const O=Object.assign({},v);delete O.user;const I=ss(O);yield Sn(u.storage,u.storageKey,I)}else{const O=ss(v);yield Sn(u.storage,u.storageKey,O)}})()}_removeSession(){var i=this;return(0,l.A)(function*(){i._debug("#_removeSession()"),yield Mn(i.storage,i.storageKey),yield Mn(i.storage,i.storageKey+"-code-verifier"),yield Mn(i.storage,i.storageKey+"-user"),i.userStorage&&(yield Mn(i.userStorage,i.storageKey+"-user")),yield i._notifyAllSubscribers("SIGNED_OUT",null)})()}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const i=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{i&&bn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",i)}catch(u){console.error("removing visibilitychange callback failed",u)}}_startAutoRefresh(){var i=this;return(0,l.A)(function*(){yield i._stopAutoRefresh(),i._debug("#_startAutoRefresh()");const u=setInterval(()=>i._autoRefreshTokenTick(),ro);i.autoRefreshTicker=u,u&&"object"==typeof u&&"function"==typeof u.unref?u.unref():typeof Deno<"u"&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(u),setTimeout((0,l.A)(function*(){yield i.initializePromise,yield i._autoRefreshTokenTick()}),0)})()}_stopAutoRefresh(){var i=this;return(0,l.A)(function*(){i._debug("#_stopAutoRefresh()");const u=i.autoRefreshTicker;i.autoRefreshTicker=null,u&&clearInterval(u)})()}startAutoRefresh(){var i=this;return(0,l.A)(function*(){i._removeVisibilityChangedCallback(),yield i._startAutoRefresh()})()}stopAutoRefresh(){var i=this;return(0,l.A)(function*(){i._removeVisibilityChangedCallback(),yield i._stopAutoRefresh()})()}_autoRefreshTokenTick(){var i=this;return(0,l.A)(function*(){i._debug("#_autoRefreshTokenTick()","begin");try{yield i._acquireLock(0,(0,l.A)(function*(){try{const u=Date.now();try{return yield i._useSession(function(){var v=(0,l.A)(function*(E){const{data:{session:O}}=E;if(!O||!O.refresh_token||!O.expires_at)return void i._debug("#_autoRefreshTokenTick()","no session");const I=Math.floor((1e3*O.expires_at-u)/ro);i._debug("#_autoRefreshTokenTick()",`access token expires in ${I} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),I<=3&&(yield i._callRefreshToken(O.refresh_token))});return function(E){return v.apply(this,arguments)}}())}catch(v){console.error("Auto refresh tick failed with error. This is likely a transient error.",v)}}finally{i._debug("#_autoRefreshTokenTick()","end")}}))}catch(u){if(!(u.isAcquireTimeout||u instanceof us))throw u;i._debug("auto refresh token tick lock not available")}})()}_handleVisibilityChange(){var i=this;return(0,l.A)(function*(){if(i._debug("#_handleVisibilityChange()"),!bn()||!window?.addEventListener)return i.autoRefreshToken&&i.startAutoRefresh(),!1;try{i.visibilityChangedCallback=(0,l.A)(function*(){return yield i._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",i.visibilityChangedCallback),yield i._onVisibilityChanged(!0)}catch(u){console.error("_handleVisibilityChange",u)}})()}_onVisibilityChanged(i){var u=this;return(0,l.A)(function*(){const v=`#_onVisibilityChanged(${i})`;u._debug(v,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(u.autoRefreshToken&&u._startAutoRefresh(),i||(yield u.initializePromise,yield u._acquireLock(-1,(0,l.A)(function*(){"visible"===document.visibilityState?yield u._recoverAndRefresh():u._debug(v,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&u.autoRefreshToken&&u._stopAutoRefresh()})()}_getUrlForProvider(i,u,v){var E=this;return(0,l.A)(function*(){const O=[`provider=${encodeURIComponent(u)}`];if(v?.redirectTo&&O.push(`redirect_to=${encodeURIComponent(v.redirectTo)}`),v?.scopes&&O.push(`scopes=${encodeURIComponent(v.scopes)}`),"pkce"===E.flowType){const[I,F]=yield k(E.storage,E.storageKey),B=new URLSearchParams({code_challenge:`${encodeURIComponent(I)}`,code_challenge_method:`${encodeURIComponent(F)}`});O.push(B.toString())}if(v?.queryParams){const I=new URLSearchParams(v.queryParams);O.push(I.toString())}return v?.skipBrowserRedirect&&O.push(`skip_http_redirect=${v.skipBrowserRedirect}`),`${i}?${O.join("&")}`})()}_unenroll(i){var u=this;return(0,l.A)(function*(){try{return yield u._useSession(function(){var v=(0,l.A)(function*(E){var O;const{data:I,error:F}=E;return F?u._returnResult({data:null,error:F}):yield Tt(u.fetch,"DELETE",`${u.url}/factors/${i.factorId}`,{headers:u.headers,jwt:null===(O=I?.session)||void 0===O?void 0:O.access_token})});return function(E){return v.apply(this,arguments)}}())}catch(v){if(ot(v))return u._returnResult({data:null,error:v});throw v}})()}_enroll(i){var u=this;return(0,l.A)(function*(){try{return yield u._useSession(function(){var v=(0,l.A)(function*(E){var O,I;const{data:F,error:B}=E;if(B)return u._returnResult({data:null,error:B});const K=Object.assign({friendly_name:i.friendlyName,factor_type:i.factorType},"phone"===i.factorType?{phone:i.phone}:"totp"===i.factorType?{issuer:i.issuer}:{}),{data:me,error:Oe}=yield Tt(u.fetch,"POST",`${u.url}/factors`,{body:K,headers:u.headers,jwt:null===(O=F?.session)||void 0===O?void 0:O.access_token});return Oe?u._returnResult({data:null,error:Oe}):("totp"===i.factorType&&"totp"===me.type&&!(null===(I=me?.totp)||void 0===I)&&I.qr_code&&(me.totp.qr_code=`data:image/svg+xml;utf-8,${me.totp.qr_code}`),u._returnResult({data:me,error:null}))});return function(E){return v.apply(this,arguments)}}())}catch(v){if(ot(v))return u._returnResult({data:null,error:v});throw v}})()}_verify(i){var u=this;return(0,l.A)(function*(){return u._acquireLock(-1,(0,l.A)(function*(){try{return yield u._useSession(function(){var v=(0,l.A)(function*(E){var O;const{data:I,error:F}=E;if(F)return u._returnResult({data:null,error:F});const B=Object.assign({challenge_id:i.challengeId},"webauthn"in i?{webauthn:Object.assign(Object.assign({},i.webauthn),{credential_response:"create"===i.webauthn.type?Ur(i.webauthn.credential_response):Vr(i.webauthn.credential_response)})}:{code:i.code}),{data:K,error:me}=yield Tt(u.fetch,"POST",`${u.url}/factors/${i.factorId}/verify`,{body:B,headers:u.headers,jwt:null===(O=I?.session)||void 0===O?void 0:O.access_token});return me?u._returnResult({data:null,error:me}):(yield u._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+K.expires_in},K)),yield u._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",K),u._returnResult({data:K,error:me}))});return function(E){return v.apply(this,arguments)}}())}catch(v){if(ot(v))return u._returnResult({data:null,error:v});throw v}}))})()}_challenge(i){var u=this;return(0,l.A)(function*(){return u._acquireLock(-1,(0,l.A)(function*(){try{return yield u._useSession(function(){var v=(0,l.A)(function*(E){var O;const{data:I,error:F}=E;if(F)return u._returnResult({data:null,error:F});const B=yield Tt(u.fetch,"POST",`${u.url}/factors/${i.factorId}/challenge`,{body:i,headers:u.headers,jwt:null===(O=I?.session)||void 0===O?void 0:O.access_token});if(B.error)return B;const{data:K}=B;if("webauthn"!==K.type)return{data:K,error:null};switch(K.webauthn.type){case"create":return{data:Object.assign(Object.assign({},K),{webauthn:Object.assign(Object.assign({},K.webauthn),{credential_options:Object.assign(Object.assign({},K.webauthn.credential_options),{publicKey:mn(K.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},K),{webauthn:Object.assign(Object.assign({},K.webauthn),{credential_options:Object.assign(Object.assign({},K.webauthn.credential_options),{publicKey:Qn(K.webauthn.credential_options.publicKey)})})}),error:null}}});return function(E){return v.apply(this,arguments)}}())}catch(v){if(ot(v))return u._returnResult({data:null,error:v});throw v}}))})()}_challengeAndVerify(i){var u=this;return(0,l.A)(function*(){const{data:v,error:E}=yield u._challenge({factorId:i.factorId});return E?u._returnResult({data:null,error:E}):yield u._verify({factorId:i.factorId,challengeId:v.id,code:i.code})})()}_listFactors(){var i=this;return(0,l.A)(function*(){var u;const{data:{user:v},error:E}=yield i.getUser();if(E)return{data:null,error:E};const O={all:[],phone:[],totp:[],webauthn:[]};for(const I of null!==(u=v?.factors)&&void 0!==u?u:[])O.all.push(I),"verified"===I.status&&O[I.factor_type].push(I);return{data:O,error:null}})()}_getAuthenticatorAssuranceLevel(){var i=this;return(0,l.A)(function*(){var u,v;const{data:{session:E},error:O}=yield i.getSession();if(O)return i._returnResult({data:null,error:O});if(!E)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:I}=Jo(E.access_token);let F=null;I.aal&&(F=I.aal);let B=F;return(null!==(v=null===(u=E.user.factors)||void 0===u?void 0:u.filter(Oe=>"verified"===Oe.status))&&void 0!==v?v:[]).length>0&&(B="aal2"),{data:{currentLevel:F,nextLevel:B,currentAuthenticationMethods:I.amr||[]},error:null}})()}_getAuthorizationDetails(i){var u=this;return(0,l.A)(function*(){try{return yield u._useSession(function(){var v=(0,l.A)(function*(E){const{data:{session:O},error:I}=E;return I?u._returnResult({data:null,error:I}):O?yield Tt(u.fetch,"GET",`${u.url}/oauth/authorizations/${i}`,{headers:u.headers,jwt:O.access_token,xform:F=>({data:F,error:null})}):u._returnResult({data:null,error:new Bt})});return function(E){return v.apply(this,arguments)}}())}catch(v){if(ot(v))return u._returnResult({data:null,error:v});throw v}})()}_approveAuthorization(i,u){var v=this;return(0,l.A)(function*(){try{return yield v._useSession(function(){var E=(0,l.A)(function*(O){const{data:{session:I},error:F}=O;if(F)return v._returnResult({data:null,error:F});if(!I)return v._returnResult({data:null,error:new Bt});const B=yield Tt(v.fetch,"POST",`${v.url}/oauth/authorizations/${i}/consent`,{headers:v.headers,jwt:I.access_token,body:{action:"approve"},xform:K=>({data:K,error:null})});return B.data&&B.data.redirect_url&&bn()&&!u?.skipBrowserRedirect&&window.location.assign(B.data.redirect_url),B});return function(O){return E.apply(this,arguments)}}())}catch(E){if(ot(E))return v._returnResult({data:null,error:E});throw E}})()}_denyAuthorization(i,u){var v=this;return(0,l.A)(function*(){try{return yield v._useSession(function(){var E=(0,l.A)(function*(O){const{data:{session:I},error:F}=O;if(F)return v._returnResult({data:null,error:F});if(!I)return v._returnResult({data:null,error:new Bt});const B=yield Tt(v.fetch,"POST",`${v.url}/oauth/authorizations/${i}/consent`,{headers:v.headers,jwt:I.access_token,body:{action:"deny"},xform:K=>({data:K,error:null})});return B.data&&B.data.redirect_url&&bn()&&!u?.skipBrowserRedirect&&window.location.assign(B.data.redirect_url),B});return function(O){return E.apply(this,arguments)}}())}catch(E){if(ot(E))return v._returnResult({data:null,error:E});throw E}})()}_listOAuthGrants(){var i=this;return(0,l.A)(function*(){try{return yield i._useSession(function(){var u=(0,l.A)(function*(v){const{data:{session:E},error:O}=v;return O?i._returnResult({data:null,error:O}):E?yield Tt(i.fetch,"GET",`${i.url}/user/oauth/grants`,{headers:i.headers,jwt:E.access_token,xform:I=>({data:I,error:null})}):i._returnResult({data:null,error:new Bt})});return function(v){return u.apply(this,arguments)}}())}catch(u){if(ot(u))return i._returnResult({data:null,error:u});throw u}})()}_revokeOAuthGrant(i){var u=this;return(0,l.A)(function*(){try{return yield u._useSession(function(){var v=(0,l.A)(function*(E){const{data:{session:O},error:I}=E;return I?u._returnResult({data:null,error:I}):O?(yield Tt(u.fetch,"DELETE",`${u.url}/user/oauth/grants`,{headers:u.headers,jwt:O.access_token,query:{client_id:i.clientId},noResolveJson:!0}),{data:{},error:null}):u._returnResult({data:null,error:new Bt})});return function(E){return v.apply(this,arguments)}}())}catch(v){if(ot(v))return u._returnResult({data:null,error:v});throw v}})()}fetchJwk(i){var u=this;return(0,l.A)(function*(v,E={keys:[]}){let O=E.keys.find(K=>K.kid===v);if(O)return O;const I=Date.now();if(O=u.jwks.keys.find(K=>K.kid===v),O&&u.jwks_cached_at+6e5>I)return O;const{data:F,error:B}=yield Tt(u.fetch,"GET",`${u.url}/.well-known/jwks.json`,{headers:u.headers});if(B)throw B;return F.keys&&0!==F.keys.length&&(u.jwks=F,u.jwks_cached_at=I,O=F.keys.find(K=>K.kid===v),O)?O:null}).apply(this,arguments)}getClaims(i){var u=this;return(0,l.A)(function*(v,E={}){try{let O=v;if(!O){const{data:dt,error:ht}=yield u.getSession();if(ht||!dt.session)return u._returnResult({data:null,error:ht});O=dt.session.access_token}const{header:I,payload:F,signature:B,raw:{header:K,payload:me}}=Jo(O);E?.allowExpired||function wr(g){if(!g)throw new Error("Missing exp claim");if(g<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(F.exp);const Oe=I.alg&&!I.alg.startsWith("HS")&&I.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?yield u.fetchJwk(I.kid,E?.keys?{keys:E.keys}:E?.jwks):null;if(!Oe){const{error:dt}=yield u.getUser(O);if(dt)throw dt;return{data:{claims:F,header:I,signature:B},error:null}}const Ve=function Do(g){switch(g){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(I.alg),Me=yield crypto.subtle.importKey("jwk",Oe,Ve,!0,["verify"]);if(!(yield crypto.subtle.verify(Ve,Me,B,function bo(g){const a=[];return function jo(g,a){for(let i=0;i<g.length;i+=1){let u=g.charCodeAt(i);if(u>55295&&u<=56319){const v=1024*(u-55296)&65535;u=65536+(g.charCodeAt(i+1)-56320&65535|v),i+=1}uo(u,a)}}(g,i=>a.push(i)),new Uint8Array(a)}(`${K}.${me}`))))throw new It("Invalid JWT signature");return{data:{claims:F,header:I,signature:B},error:null}}catch(O){if(ot(O))return u._returnResult({data:null,error:O});throw O}}).apply(this,arguments)}}return g.nextInstanceID={},g})();class qr extends $s{constructor(a){super(a)}}class wa{constructor(a,i,u){var v,E,O;this.supabaseUrl=a,this.supabaseKey=i;const I=function ys(g){const a=g?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(function zo(g){return g.endsWith("/")?g:g+"/"}(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}(a);if(!i)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",I),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",I),this.storageUrl=new URL("storage/v1",I),this.functionsUrl=new URL("functions/v1",I);const F=`sb-${I.hostname.split(".")[0]}-auth-token`,K=function Fs(g,a){var i,u;const{db:v,auth:E,realtime:O,global:I}=g,{db:F,auth:B,realtime:K,global:me}=a,Oe={db:Object.assign(Object.assign({},F),v),auth:Object.assign(Object.assign({},B),E),realtime:Object.assign(Object.assign({},K),O),storage:{},global:Object.assign(Object.assign(Object.assign({},me),I),{headers:Object.assign(Object.assign({},null!==(i=me?.headers)&&void 0!==i?i:{}),null!==(u=I?.headers)&&void 0!==u?u:{})}),accessToken:(Ve=(0,l.A)(function*(){return""}),function(){return Ve.apply(this,arguments)})};var Ve;return g.accessToken?Oe.accessToken=g.accessToken:delete Oe.accessToken,Oe}(u??{},{db:An,realtime:xs,auth:Object.assign(Object.assign({},Ws),{storageKey:F}),global:gs});this.storageKey=null!==(v=K.auth.storageKey)&&void 0!==v?v:"",this.headers=null!==(E=K.global.headers)&&void 0!==E?E:{},K.accessToken?(this.accessToken=K.accessToken,this.auth=new Proxy({},{get:(me,Oe)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(Oe)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(O=K.auth)&&void 0!==O?O:{},this.headers,K.global.fetch),this.fetch=vs(i,this._getAccessToken.bind(this),K.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},K.realtime)),this.accessToken&&this.accessToken().then(me=>this.realtime.setAuth(me)).catch(me=>console.warn("Failed to set initial Realtime auth token:",me)),this.rest=new ve(new URL("rest/v1",I).href,{headers:this.headers,schema:K.db.schema,fetch:this.fetch}),this.storage=new to(this.storageUrl.href,this.headers,this.fetch,u?.storage),K.accessToken||this._listenForAuthEvents()}get functions(){return new ae(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,i={},u={head:!1,get:!1,count:void 0}){return this.rest.rpc(a,i,u)}channel(a,i={config:{}}){return this.realtime.channel(a,i)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var a=this;return(0,l.A)(function*(){var i,u;if(a.accessToken)return yield a.accessToken();const{data:v}=yield a.auth.getSession();return null!==(u=null===(i=v.session)||void 0===i?void 0:i.access_token)&&void 0!==u?u:a.supabaseKey})()}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:i,detectSessionInUrl:u,storage:v,userStorage:E,storageKey:O,flowType:I,lock:F,debug:B,throwOnError:K},me,Oe){return new qr({url:this.authUrl.href,headers:Object.assign(Object.assign({},{Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`}),me),storageKey:O,autoRefreshToken:a,persistSession:i,detectSessionInUrl:u,storage:v,userStorage:E,flowType:I,lock:F,debug:B,throwOnError:K,fetch:Oe,hasCustomAuthorizationHeader:Object.keys(this.headers).some(Me=>"authorization"===Me.toLowerCase())})}_initRealtimeClient(a){return new Pt(this.realtimeUrl.href,Object.assign(Object.assign({},a),{params:Object.assign({apikey:this.supabaseKey},a?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,u)=>{this._handleTokenChanged(i,"CLIENT",u?.access_token)})}_handleTokenChanged(a,i,u){"TOKEN_REFRESHED"!==a&&"SIGNED_IN"!==a||this.changedAccessToken===u?"SIGNED_OUT"===a&&(this.realtime.setAuth(),"STORAGE"==i&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=u,this.realtime.setAuth(u))}}const gi=(g,a,i)=>new wa(g,a,i);(function Oi(){if(typeof window<"u"||typeof process>"u")return!1;const g=process.version;if(null==g)return!1;const a=g.match(/^v(\d+)\./);return!!a&&parseInt(a[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")},4412:(Ye,se,R)=>{"use strict";R.d(se,{t:()=>U});var l=R(1413);class U extends l.B{constructor(ie){super(),this._value=ie}get value(){return this.getValue()}_subscribe(ie){const J=super._subscribe(ie);return!J.closed&&ie.next(this._value),J}getValue(){const{hasError:ie,thrownError:J,_value:L}=this;if(ie)throw J;return this._throwIfClosed(),L}next(ie){super.next(this._value=ie)}}},1985:(Ye,se,R)=>{"use strict";R.d(se,{c:()=>oe});var l=R(7707),U=R(8359),C=R(3494),ie=R(1203),J=R(1026),L=R(8071),H=R(9786);let oe=(()=>{class ve{constructor(xe){xe&&(this._subscribe=xe)}lift(xe){const Fe=new ve;return Fe.source=this,Fe.operator=xe,Fe}subscribe(xe,Fe,St){const Ze=function ee(ve){return ve&&ve instanceof l.vU||function he(ve){return ve&&(0,L.T)(ve.next)&&(0,L.T)(ve.error)&&(0,L.T)(ve.complete)}(ve)&&(0,U.Uv)(ve)}(xe)?xe:new l.Ms(xe,Fe,St);return(0,H.Y)(()=>{const{operator:pt,source:et}=this;Ze.add(pt?pt.call(Ze,et):et?this._subscribe(Ze):this._trySubscribe(Ze))}),Ze}_trySubscribe(xe){try{return this._subscribe(xe)}catch(Fe){xe.error(Fe)}}forEach(xe,Fe){return new(Fe=ae(Fe))((St,Ze)=>{const pt=new l.Ms({next:et=>{try{xe(et)}catch(Gt){Ze(Gt),pt.unsubscribe()}},error:Ze,complete:St});this.subscribe(pt)})}_subscribe(xe){var Fe;return null===(Fe=this.source)||void 0===Fe?void 0:Fe.subscribe(xe)}[C.s](){return this}pipe(...xe){return(0,ie.m)(xe)(this)}toPromise(xe){return new(xe=ae(xe))((Fe,St)=>{let Ze;this.subscribe(pt=>Ze=pt,pt=>St(pt),()=>Fe(Ze))})}}return ve.create=Ge=>new ve(Ge),ve})();function ae(ve){var Ge;return null!==(Ge=ve??J.$.Promise)&&void 0!==Ge?Ge:Promise}},1413:(Ye,se,R)=>{"use strict";R.d(se,{B:()=>H});var l=R(1985),U=R(8359);const ie=(0,R(1853).L)(ae=>function(){ae(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var J=R(7908),L=R(9786);let H=(()=>{class ae extends l.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ee){const ve=new oe(this,this);return ve.operator=ee,ve}_throwIfClosed(){if(this.closed)throw new ie}next(ee){(0,L.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ve of this.currentObservers)ve.next(ee)}})}error(ee){(0,L.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ee;const{observers:ve}=this;for(;ve.length;)ve.shift().error(ee)}})}complete(){(0,L.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ee}=this;for(;ee.length;)ee.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ee;return(null===(ee=this.observers)||void 0===ee?void 0:ee.length)>0}_trySubscribe(ee){return this._throwIfClosed(),super._trySubscribe(ee)}_subscribe(ee){return this._throwIfClosed(),this._checkFinalizedStatuses(ee),this._innerSubscribe(ee)}_innerSubscribe(ee){const{hasError:ve,isStopped:Ge,observers:xe}=this;return ve||Ge?U.Kn:(this.currentObservers=null,xe.push(ee),new U.yU(()=>{this.currentObservers=null,(0,J.o)(xe,ee)}))}_checkFinalizedStatuses(ee){const{hasError:ve,thrownError:Ge,isStopped:xe}=this;ve?ee.error(Ge):xe&&ee.complete()}asObservable(){const ee=new l.c;return ee.source=this,ee}}return ae.create=(he,ee)=>new oe(he,ee),ae})();class oe extends H{constructor(he,ee){super(),this.destination=he,this.source=ee}next(he){var ee,ve;null===(ve=null===(ee=this.destination)||void 0===ee?void 0:ee.next)||void 0===ve||ve.call(ee,he)}error(he){var ee,ve;null===(ve=null===(ee=this.destination)||void 0===ee?void 0:ee.error)||void 0===ve||ve.call(ee,he)}complete(){var he,ee;null===(ee=null===(he=this.destination)||void 0===he?void 0:he.complete)||void 0===ee||ee.call(he)}_subscribe(he){var ee,ve;return null!==(ve=null===(ee=this.source)||void 0===ee?void 0:ee.subscribe(he))&&void 0!==ve?ve:U.Kn}}},7707:(Ye,se,R)=>{"use strict";R.d(se,{Ms:()=>St,vU:()=>ve});var l=R(8071),U=R(8359),C=R(1026),ie=R(5334),J=R(5343);const L=ae("C",void 0,void 0);function ae(Ne,je,Ke){return{kind:Ne,value:je,error:Ke}}var he=R(9270),ee=R(9786);class ve extends U.yU{constructor(je){super(),this.isStopped=!1,je?(this.destination=je,(0,U.Uv)(je)&&je.add(this)):this.destination=Gt}static create(je,Ke,st){return new St(je,Ke,st)}next(je){this.isStopped?et(function oe(Ne){return ae("N",Ne,void 0)}(je),this):this._next(je)}error(je){this.isStopped?et(function H(Ne){return ae("E",void 0,Ne)}(je),this):(this.isStopped=!0,this._error(je))}complete(){this.isStopped?et(L,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(je){this.destination.next(je)}_error(je){try{this.destination.error(je)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ge=Function.prototype.bind;function xe(Ne,je){return Ge.call(Ne,je)}class Fe{constructor(je){this.partialObserver=je}next(je){const{partialObserver:Ke}=this;if(Ke.next)try{Ke.next(je)}catch(st){Ze(st)}}error(je){const{partialObserver:Ke}=this;if(Ke.error)try{Ke.error(je)}catch(st){Ze(st)}else Ze(je)}complete(){const{partialObserver:je}=this;if(je.complete)try{je.complete()}catch(Ke){Ze(Ke)}}}class St extends ve{constructor(je,Ke,st){let be;if(super(),(0,l.T)(je)||!je)be={next:je??void 0,error:Ke??void 0,complete:st??void 0};else{let $e;this&&C.$.useDeprecatedNextContext?($e=Object.create(je),$e.unsubscribe=()=>this.unsubscribe(),be={next:je.next&&xe(je.next,$e),error:je.error&&xe(je.error,$e),complete:je.complete&&xe(je.complete,$e)}):be=je}this.destination=new Fe(be)}}function Ze(Ne){C.$.useDeprecatedSynchronousErrorHandling?(0,ee.l)(Ne):(0,ie.m)(Ne)}function et(Ne,je){const{onStoppedNotification:Ke}=C.$;Ke&&he.f.setTimeout(()=>Ke(Ne,je))}const Gt={closed:!0,next:J.l,error:function pt(Ne){throw Ne},complete:J.l}},8359:(Ye,se,R)=>{"use strict";R.d(se,{Kn:()=>L,yU:()=>J,Uv:()=>H});var l=R(8071);const C=(0,R(1853).L)(ae=>function(ee){ae(this),this.message=ee?`${ee.length} errors occurred during unsubscription:\n${ee.map((ve,Ge)=>`${Ge+1}) ${ve.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ee});var ie=R(7908);class J{constructor(he){this.initialTeardown=he,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let he;if(!this.closed){this.closed=!0;const{_parentage:ee}=this;if(ee)if(this._parentage=null,Array.isArray(ee))for(const xe of ee)xe.remove(this);else ee.remove(this);const{initialTeardown:ve}=this;if((0,l.T)(ve))try{ve()}catch(xe){he=xe instanceof C?xe.errors:[xe]}const{_finalizers:Ge}=this;if(Ge){this._finalizers=null;for(const xe of Ge)try{oe(xe)}catch(Fe){he=he??[],Fe instanceof C?he=[...he,...Fe.errors]:he.push(Fe)}}if(he)throw new C(he)}}add(he){var ee;if(he&&he!==this)if(this.closed)oe(he);else{if(he instanceof J){if(he.closed||he._hasParent(this))return;he._addParent(this)}(this._finalizers=null!==(ee=this._finalizers)&&void 0!==ee?ee:[]).push(he)}}_hasParent(he){const{_parentage:ee}=this;return ee===he||Array.isArray(ee)&&ee.includes(he)}_addParent(he){const{_parentage:ee}=this;this._parentage=Array.isArray(ee)?(ee.push(he),ee):ee?[ee,he]:he}_removeParent(he){const{_parentage:ee}=this;ee===he?this._parentage=null:Array.isArray(ee)&&(0,ie.o)(ee,he)}remove(he){const{_finalizers:ee}=this;ee&&(0,ie.o)(ee,he),he instanceof J&&he._removeParent(this)}}J.EMPTY=(()=>{const ae=new J;return ae.closed=!0,ae})();const L=J.EMPTY;function H(ae){return ae instanceof J||ae&&"closed"in ae&&(0,l.T)(ae.remove)&&(0,l.T)(ae.add)&&(0,l.T)(ae.unsubscribe)}function oe(ae){(0,l.T)(ae)?ae():ae.unsubscribe()}},1026:(Ye,se,R)=>{"use strict";R.d(se,{$:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8793:(Ye,se,R)=>{"use strict";R.d(se,{x:()=>J});var l=R(6365),C=R(9326),ie=R(6648);function J(...L){return function U(){return(0,l.U)(1)}()((0,ie.H)(L,(0,C.lI)(L)))}},983:(Ye,se,R)=>{"use strict";R.d(se,{w:()=>U});const U=new(R(1985).c)(J=>J.complete())},6648:(Ye,se,R)=>{"use strict";R.d(se,{H:()=>st});var l=R(8750),U=R(5225),C=R(9974),ie=R(4360);function J(be,$e=0){return(0,C.N)((bt,mt)=>{bt.subscribe((0,ie._)(mt,tn=>(0,U.N)(mt,be,()=>mt.next(tn),$e),()=>(0,U.N)(mt,be,()=>mt.complete(),$e),tn=>(0,U.N)(mt,be,()=>mt.error(tn),$e)))})}function L(be,$e=0){return(0,C.N)((bt,mt)=>{mt.add(be.schedule(()=>bt.subscribe(mt),$e))})}var ae=R(1985),ee=R(4761),ve=R(8071);function xe(be,$e){if(!be)throw new Error("Iterable cannot be null");return new ae.c(bt=>{(0,U.N)(bt,$e,()=>{const mt=be[Symbol.asyncIterator]();(0,U.N)(bt,$e,()=>{mt.next().then(tn=>{tn.done?bt.complete():bt.next(tn.value)})},0,!0)})})}var Fe=R(5055),St=R(9858),Ze=R(7441),pt=R(5397),et=R(7953),Gt=R(591),Ne=R(5196);function st(be,$e){return $e?function Ke(be,$e){if(null!=be){if((0,Fe.l)(be))return function H(be,$e){return(0,l.Tg)(be).pipe(L($e),J($e))}(be,$e);if((0,Ze.X)(be))return function he(be,$e){return new ae.c(bt=>{let mt=0;return $e.schedule(function(){mt===be.length?bt.complete():(bt.next(be[mt++]),bt.closed||this.schedule())})})}(be,$e);if((0,St.y)(be))return function oe(be,$e){return(0,l.Tg)(be).pipe(L($e),J($e))}(be,$e);if((0,et.T)(be))return xe(be,$e);if((0,pt.x)(be))return function Ge(be,$e){return new ae.c(bt=>{let mt;return(0,U.N)(bt,$e,()=>{mt=be[ee.l](),(0,U.N)(bt,$e,()=>{let tn,Be;try{({value:tn,done:Be}=mt.next())}catch(at){return void bt.error(at)}Be?bt.complete():bt.next(tn)},0,!0)}),()=>(0,ve.T)(mt?.return)&&mt.return()})}(be,$e);if((0,Ne.U)(be))return function je(be,$e){return xe((0,Ne.C)(be),$e)}(be,$e)}throw(0,Gt.L)(be)}(be,$e):(0,l.Tg)(be)}},8750:(Ye,se,R)=>{"use strict";R.d(se,{Tg:()=>Ge});var l=R(5215),U=R(7441),C=R(9858),ie=R(1985),J=R(5055),L=R(7953),H=R(591),oe=R(5397),ae=R(5196),he=R(8071),ee=R(5334),ve=R(3494);function Ge(Ne){if(Ne instanceof ie.c)return Ne;if(null!=Ne){if((0,J.l)(Ne))return function xe(Ne){return new ie.c(je=>{const Ke=Ne[ve.s]();if((0,he.T)(Ke.subscribe))return Ke.subscribe(je);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ne);if((0,U.X)(Ne))return function Fe(Ne){return new ie.c(je=>{for(let Ke=0;Ke<Ne.length&&!je.closed;Ke++)je.next(Ne[Ke]);je.complete()})}(Ne);if((0,C.y)(Ne))return function St(Ne){return new ie.c(je=>{Ne.then(Ke=>{je.closed||(je.next(Ke),je.complete())},Ke=>je.error(Ke)).then(null,ee.m)})}(Ne);if((0,L.T)(Ne))return pt(Ne);if((0,oe.x)(Ne))return function Ze(Ne){return new ie.c(je=>{for(const Ke of Ne)if(je.next(Ke),je.closed)return;je.complete()})}(Ne);if((0,ae.U)(Ne))return function et(Ne){return pt((0,ae.C)(Ne))}(Ne)}throw(0,H.L)(Ne)}function pt(Ne){return new ie.c(je=>{(function Gt(Ne,je){var Ke,st,be,$e;return(0,l.__awaiter)(this,void 0,void 0,function*(){try{for(Ke=(0,l.__asyncValues)(Ne);!(st=yield Ke.next()).done;)if(je.next(st.value),je.closed)return}catch(bt){be={error:bt}}finally{try{st&&!st.done&&($e=Ke.return)&&(yield $e.call(Ke))}finally{if(be)throw be.error}}je.complete()})})(Ne,je).catch(Ke=>je.error(Ke))})}},7673:(Ye,se,R)=>{"use strict";R.d(se,{of:()=>C});var l=R(9326),U=R(6648);function C(...ie){const J=(0,l.lI)(ie);return(0,U.H)(ie,J)}},8810:(Ye,se,R)=>{"use strict";R.d(se,{$:()=>C});var l=R(1985),U=R(8071);function C(ie,J){const L=(0,U.T)(ie)?ie:()=>ie,H=oe=>oe.error(L());return new l.c(J?oe=>J.schedule(H,0,oe):H)}},4360:(Ye,se,R)=>{"use strict";R.d(se,{_:()=>U});var l=R(7707);function U(ie,J,L,H,oe){return new C(ie,J,L,H,oe)}class C extends l.vU{constructor(J,L,H,oe,ae,he){super(J),this.onFinalize=ae,this.shouldUnsubscribe=he,this._next=L?function(ee){try{L(ee)}catch(ve){J.error(ve)}}:super._next,this._error=oe?function(ee){try{oe(ee)}catch(ve){J.error(ve)}finally{this.unsubscribe()}}:super._error,this._complete=H?function(){try{H()}catch(ee){J.error(ee)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var J;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:L}=this;super.unsubscribe(),!L&&(null===(J=this.onFinalize)||void 0===J||J.call(this))}}}},9437:(Ye,se,R)=>{"use strict";R.d(se,{W:()=>ie});var l=R(8750),U=R(4360),C=R(9974);function ie(J){return(0,C.N)((L,H)=>{let he,oe=null,ae=!1;oe=L.subscribe((0,U._)(H,void 0,void 0,ee=>{he=(0,l.Tg)(J(ee,ie(J)(L))),oe?(oe.unsubscribe(),oe=null,he.subscribe(H)):ae=!0})),ae&&(oe.unsubscribe(),oe=null,he.subscribe(H))})}},274:(Ye,se,R)=>{"use strict";R.d(se,{H:()=>C});var l=R(1397),U=R(8071);function C(ie,J){return(0,U.T)(J)?(0,l.Z)(ie,J,1):(0,l.Z)(ie,1)}},9901:(Ye,se,R)=>{"use strict";R.d(se,{U:()=>C});var l=R(9974),U=R(4360);function C(ie){return(0,l.N)((J,L)=>{let H=!1;J.subscribe((0,U._)(L,oe=>{H=!0,L.next(oe)},()=>{H||L.next(ie),L.complete()}))})}},3294:(Ye,se,R)=>{"use strict";R.d(se,{F:()=>ie});var l=R(3669),U=R(9974),C=R(4360);function ie(L,H=l.D){return L=L??J,(0,U.N)((oe,ae)=>{let he,ee=!0;oe.subscribe((0,C._)(ae,ve=>{const Ge=H(ve);(ee||!L(he,Ge))&&(ee=!1,he=Ge,ae.next(ve))}))})}function J(L,H){return L===H}},5964:(Ye,se,R)=>{"use strict";R.d(se,{p:()=>C});var l=R(9974),U=R(4360);function C(ie,J){return(0,l.N)((L,H)=>{let oe=0;L.subscribe((0,U._)(H,ae=>ie.call(J,ae,oe++)&&H.next(ae)))})}},980:(Ye,se,R)=>{"use strict";R.d(se,{j:()=>U});var l=R(9974);function U(C){return(0,l.N)((ie,J)=>{try{ie.subscribe(J)}finally{J.add(C)}})}},1594:(Ye,se,R)=>{"use strict";R.d(se,{$:()=>H});var l=R(9350),U=R(5964),C=R(6697),ie=R(9901),J=R(3774),L=R(3669);function H(oe,ae){const he=arguments.length>=2;return ee=>ee.pipe(oe?(0,U.p)((ve,Ge)=>oe(ve,Ge,ee)):L.D,(0,C.s)(1),he?(0,ie.U)(ae):(0,J.v)(()=>new l.G))}},6354:(Ye,se,R)=>{"use strict";R.d(se,{T:()=>C});var l=R(9974),U=R(4360);function C(ie,J){return(0,l.N)((L,H)=>{let oe=0;L.subscribe((0,U._)(H,ae=>{H.next(ie.call(J,ae,oe++))}))})}},6365:(Ye,se,R)=>{"use strict";R.d(se,{U:()=>C});var l=R(1397),U=R(3669);function C(ie=1/0){return(0,l.Z)(U.D,ie)}},1397:(Ye,se,R)=>{"use strict";R.d(se,{Z:()=>oe});var l=R(6354),U=R(8750),C=R(9974),ie=R(5225),J=R(4360),H=R(8071);function oe(ae,he,ee=1/0){return(0,H.T)(he)?oe((ve,Ge)=>(0,l.T)((xe,Fe)=>he(ve,xe,Ge,Fe))((0,U.Tg)(ae(ve,Ge))),ee):("number"==typeof he&&(ee=he),(0,C.N)((ve,Ge)=>function L(ae,he,ee,ve,Ge,xe,Fe,St){const Ze=[];let pt=0,et=0,Gt=!1;const Ne=()=>{Gt&&!Ze.length&&!pt&&he.complete()},je=st=>pt<ve?Ke(st):Ze.push(st),Ke=st=>{xe&&he.next(st),pt++;let be=!1;(0,U.Tg)(ee(st,et++)).subscribe((0,J._)(he,$e=>{Ge?.($e),xe?je($e):he.next($e)},()=>{be=!0},void 0,()=>{if(be)try{for(pt--;Ze.length&&pt<ve;){const $e=Ze.shift();Fe?(0,ie.N)(he,Fe,()=>Ke($e)):Ke($e)}Ne()}catch($e){he.error($e)}}))};return ae.subscribe((0,J._)(he,je,()=>{Gt=!0,Ne()})),()=>{St?.()}}(ve,Ge,ae,ee)))}},9172:(Ye,se,R)=>{"use strict";R.d(se,{Z:()=>ie});var l=R(8793),U=R(9326),C=R(9974);function ie(...J){const L=(0,U.lI)(J);return(0,C.N)((H,oe)=>{(L?(0,l.x)(J,H,L):(0,l.x)(J,H)).subscribe(oe)})}},5558:(Ye,se,R)=>{"use strict";R.d(se,{n:()=>ie});var l=R(8750),U=R(9974),C=R(4360);function ie(J,L){return(0,U.N)((H,oe)=>{let ae=null,he=0,ee=!1;const ve=()=>ee&&!ae&&oe.complete();H.subscribe((0,C._)(oe,Ge=>{ae?.unsubscribe();let xe=0;const Fe=he++;(0,l.Tg)(J(Ge,Fe)).subscribe(ae=(0,C._)(oe,St=>oe.next(L?L(Ge,St,Fe,xe++):St),()=>{ae=null,ve()}))},()=>{ee=!0,ve()}))})}},6697:(Ye,se,R)=>{"use strict";R.d(se,{s:()=>ie});var l=R(983),U=R(9974),C=R(4360);function ie(J){return J<=0?()=>l.w:(0,U.N)((L,H)=>{let oe=0;L.subscribe((0,C._)(H,ae=>{++oe<=J&&(H.next(ae),J<=oe&&H.complete())}))})}},8141:(Ye,se,R)=>{"use strict";R.d(se,{M:()=>J});var l=R(8071),U=R(9974),C=R(4360),ie=R(3669);function J(L,H,oe){const ae=(0,l.T)(L)||H||oe?{next:L,error:H,complete:oe}:L;return ae?(0,U.N)((he,ee)=>{var ve;null===(ve=ae.subscribe)||void 0===ve||ve.call(ae);let Ge=!0;he.subscribe((0,C._)(ee,xe=>{var Fe;null===(Fe=ae.next)||void 0===Fe||Fe.call(ae,xe),ee.next(xe)},()=>{var xe;Ge=!1,null===(xe=ae.complete)||void 0===xe||xe.call(ae),ee.complete()},xe=>{var Fe;Ge=!1,null===(Fe=ae.error)||void 0===Fe||Fe.call(ae,xe),ee.error(xe)},()=>{var xe,Fe;Ge&&(null===(xe=ae.unsubscribe)||void 0===xe||xe.call(ae)),null===(Fe=ae.finalize)||void 0===Fe||Fe.call(ae)}))}):ie.D}},3774:(Ye,se,R)=>{"use strict";R.d(se,{v:()=>ie});var l=R(9350),U=R(9974),C=R(4360);function ie(L=J){return(0,U.N)((H,oe)=>{let ae=!1;H.subscribe((0,C._)(oe,he=>{ae=!0,oe.next(he)},()=>ae?oe.complete():oe.error(L())))})}function J(){return new l.G}},9270:(Ye,se,R)=>{"use strict";R.d(se,{f:()=>l});const l={setTimeout(U,C,...ie){const{delegate:J}=l;return J?.setTimeout?J.setTimeout(U,C,...ie):setTimeout(U,C,...ie)},clearTimeout(U){const{delegate:C}=l;return(C?.clearTimeout||clearTimeout)(U)},delegate:void 0}},4761:(Ye,se,R)=>{"use strict";R.d(se,{l:()=>U});const U=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Ye,se,R)=>{"use strict";R.d(se,{s:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(Ye,se,R)=>{"use strict";R.d(se,{G:()=>U});const U=(0,R(1853).L)(C=>function(){C(this),this.name="EmptyError",this.message="no elements in sequence"})},9326:(Ye,se,R)=>{"use strict";R.d(se,{R0:()=>L,lI:()=>J,ms:()=>ie});var l=R(8071),U=R(9470);function C(H){return H[H.length-1]}function ie(H){return(0,l.T)(C(H))?H.pop():void 0}function J(H){return(0,U.m)(C(H))?H.pop():void 0}function L(H,oe){return"number"==typeof C(H)?H.pop():oe}},3073:(Ye,se,R)=>{"use strict";R.d(se,{D:()=>J});const{isArray:l}=Array,{getPrototypeOf:U,prototype:C,keys:ie}=Object;function J(H){if(1===H.length){const oe=H[0];if(l(oe))return{args:oe,keys:null};if(function L(H){return H&&"object"==typeof H&&U(H)===C}(oe)){const ae=ie(oe);return{args:ae.map(he=>oe[he]),keys:ae}}}return{args:H,keys:null}}},7908:(Ye,se,R)=>{"use strict";function l(U,C){if(U){const ie=U.indexOf(C);0<=ie&&U.splice(ie,1)}}R.d(se,{o:()=>l})},1853:(Ye,se,R)=>{"use strict";function l(U){const ie=U(J=>{Error.call(J),J.stack=(new Error).stack});return ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie}R.d(se,{L:()=>l})},8496:(Ye,se,R)=>{"use strict";function l(U,C){return U.reduce((ie,J,L)=>(ie[J]=C[L],ie),{})}R.d(se,{e:()=>l})},9786:(Ye,se,R)=>{"use strict";R.d(se,{Y:()=>C,l:()=>ie});var l=R(1026);let U=null;function C(J){if(l.$.useDeprecatedSynchronousErrorHandling){const L=!U;if(L&&(U={errorThrown:!1,error:null}),J(),L){const{errorThrown:H,error:oe}=U;if(U=null,H)throw oe}}else J()}function ie(J){l.$.useDeprecatedSynchronousErrorHandling&&U&&(U.errorThrown=!0,U.error=J)}},5225:(Ye,se,R)=>{"use strict";function l(U,C,ie,J=0,L=!1){const H=C.schedule(function(){ie(),L?U.add(this.schedule(null,J)):this.unsubscribe()},J);if(U.add(H),!L)return H}R.d(se,{N:()=>l})},3669:(Ye,se,R)=>{"use strict";function l(U){return U}R.d(se,{D:()=>l})},7441:(Ye,se,R)=>{"use strict";R.d(se,{X:()=>l});const l=U=>U&&"number"==typeof U.length&&"function"!=typeof U},7953:(Ye,se,R)=>{"use strict";R.d(se,{T:()=>U});var l=R(8071);function U(C){return Symbol.asyncIterator&&(0,l.T)(C?.[Symbol.asyncIterator])}},8071:(Ye,se,R)=>{"use strict";function l(U){return"function"==typeof U}R.d(se,{T:()=>l})},5055:(Ye,se,R)=>{"use strict";R.d(se,{l:()=>C});var l=R(3494),U=R(8071);function C(ie){return(0,U.T)(ie[l.s])}},5397:(Ye,se,R)=>{"use strict";R.d(se,{x:()=>C});var l=R(4761),U=R(8071);function C(ie){return(0,U.T)(ie?.[l.l])}},9858:(Ye,se,R)=>{"use strict";R.d(se,{y:()=>U});var l=R(8071);function U(C){return(0,l.T)(C?.then)}},5196:(Ye,se,R)=>{"use strict";R.d(se,{C:()=>C,U:()=>ie});var l=R(5215),U=R(8071);function C(J){return(0,l.__asyncGenerator)(this,arguments,function*(){const H=J.getReader();try{for(;;){const{value:oe,done:ae}=yield(0,l.__await)(H.read());if(ae)return yield(0,l.__await)(void 0);yield yield(0,l.__await)(oe)}}finally{H.releaseLock()}})}function ie(J){return(0,U.T)(J?.getReader)}},9470:(Ye,se,R)=>{"use strict";R.d(se,{m:()=>U});var l=R(8071);function U(C){return C&&(0,l.T)(C.schedule)}},9974:(Ye,se,R)=>{"use strict";R.d(se,{N:()=>C,S:()=>U});var l=R(8071);function U(ie){return(0,l.T)(ie?.lift)}function C(ie){return J=>{if(U(J))return J.lift(function(L){try{return ie(L,this)}catch(H){this.error(H)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(Ye,se,R)=>{"use strict";R.d(se,{I:()=>ie});var l=R(6354);const{isArray:U}=Array;function ie(J){return(0,l.T)(L=>function C(J,L){return U(L)?J(...L):J(L)}(J,L))}},5343:(Ye,se,R)=>{"use strict";function l(){}R.d(se,{l:()=>l})},1203:(Ye,se,R)=>{"use strict";R.d(se,{F:()=>U,m:()=>C});var l=R(3669);function U(...ie){return C(ie)}function C(ie){return 0===ie.length?l.D:1===ie.length?ie[0]:function(L){return ie.reduce((H,oe)=>oe(H),L)}}},5334:(Ye,se,R)=>{"use strict";R.d(se,{m:()=>C});var l=R(1026),U=R(9270);function C(ie){U.f.setTimeout(()=>{const{onUnhandledError:J}=l.$;if(!J)throw ie;J(ie)})}},591:(Ye,se,R)=>{"use strict";function l(U){return new TypeError(`You provided ${null!==U&&"object"==typeof U?"an invalid object":`'${U}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(se,{L:()=>l})},5215:(Ye,se,R)=>{"use strict";R.r(se),R.d(se,{__addDisposableResource:()=>Et,__assign:()=>C,__asyncDelegator:()=>Ke,__asyncGenerator:()=>je,__asyncValues:()=>st,__await:()=>Ne,__awaiter:()=>ve,__classPrivateFieldGet:()=>Be,__classPrivateFieldIn:()=>Xe,__classPrivateFieldSet:()=>at,__createBinding:()=>xe,__decorate:()=>J,__disposeResources:()=>Rn,__esDecorate:()=>H,__exportStar:()=>Fe,__extends:()=>U,__generator:()=>Ge,__importDefault:()=>tn,__importStar:()=>mt,__makeTemplateObject:()=>be,__metadata:()=>ee,__param:()=>L,__propKey:()=>ae,__read:()=>Ze,__rest:()=>ie,__rewriteRelativeImportExtension:()=>un,__runInitializers:()=>oe,__setFunctionName:()=>he,__spread:()=>pt,__spreadArray:()=>Gt,__spreadArrays:()=>et,__values:()=>St,default:()=>Mt});var l=function(te,le){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(fe,Ce){fe.__proto__=Ce}||function(fe,Ce){for(var Pe in Ce)Object.prototype.hasOwnProperty.call(Ce,Pe)&&(fe[Pe]=Ce[Pe])})(te,le)};function U(te,le){if("function"!=typeof le&&null!==le)throw new TypeError("Class extends value "+String(le)+" is not a constructor or null");function fe(){this.constructor=te}l(te,le),te.prototype=null===le?Object.create(le):(fe.prototype=le.prototype,new fe)}var C=function(){return C=Object.assign||function(le){for(var fe,Ce=1,Pe=arguments.length;Ce<Pe;Ce++)for(var Le in fe=arguments[Ce])Object.prototype.hasOwnProperty.call(fe,Le)&&(le[Le]=fe[Le]);return le},C.apply(this,arguments)};function ie(te,le){var fe={};for(var Ce in te)Object.prototype.hasOwnProperty.call(te,Ce)&&le.indexOf(Ce)<0&&(fe[Ce]=te[Ce]);if(null!=te&&"function"==typeof Object.getOwnPropertySymbols){var Pe=0;for(Ce=Object.getOwnPropertySymbols(te);Pe<Ce.length;Pe++)le.indexOf(Ce[Pe])<0&&Object.prototype.propertyIsEnumerable.call(te,Ce[Pe])&&(fe[Ce[Pe]]=te[Ce[Pe]])}return fe}function J(te,le,fe,Ce){var ut,Pe=arguments.length,Le=Pe<3?le:null===Ce?Ce=Object.getOwnPropertyDescriptor(le,fe):Ce;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Le=Reflect.decorate(te,le,fe,Ce);else for(var Kt=te.length-1;Kt>=0;Kt--)(ut=te[Kt])&&(Le=(Pe<3?ut(Le):Pe>3?ut(le,fe,Le):ut(le,fe))||Le);return Pe>3&&Le&&Object.defineProperty(le,fe,Le),Le}function L(te,le){return function(fe,Ce){le(fe,Ce,te)}}function H(te,le,fe,Ce,Pe,Le){function ut(on){if(void 0!==on&&"function"!=typeof on)throw new TypeError("Function expected");return on}for(var ln,Kt=Ce.kind,Zt="getter"===Kt?"get":"setter"===Kt?"set":"value",Ct=!le&&te?Ce.static?te:te.prototype:null,Qt=le||(Ct?Object.getOwnPropertyDescriptor(Ct,Ce.name):{}),xn=!1,ct=fe.length-1;ct>=0;ct--){var tt={};for(var it in Ce)tt[it]="access"===it?{}:Ce[it];for(var it in Ce.access)tt.access[it]=Ce.access[it];tt.addInitializer=function(on){if(xn)throw new TypeError("Cannot add initializers after decoration has completed");Le.push(ut(on||null))};var Fn=(0,fe[ct])("accessor"===Kt?{get:Qt.get,set:Qt.set}:Qt[Zt],tt);if("accessor"===Kt){if(void 0===Fn)continue;if(null===Fn||"object"!=typeof Fn)throw new TypeError("Object expected");(ln=ut(Fn.get))&&(Qt.get=ln),(ln=ut(Fn.set))&&(Qt.set=ln),(ln=ut(Fn.init))&&Pe.unshift(ln)}else(ln=ut(Fn))&&("field"===Kt?Pe.unshift(ln):Qt[Zt]=ln)}Ct&&Object.defineProperty(Ct,Ce.name,Qt),xn=!0}function oe(te,le,fe){for(var Ce=arguments.length>2,Pe=0;Pe<le.length;Pe++)fe=Ce?le[Pe].call(te,fe):le[Pe].call(te);return Ce?fe:void 0}function ae(te){return"symbol"==typeof te?te:"".concat(te)}function he(te,le,fe){return"symbol"==typeof le&&(le=le.description?"[".concat(le.description,"]"):""),Object.defineProperty(te,"name",{configurable:!0,value:fe?"".concat(fe," ",le):le})}function ee(te,le){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(te,le)}function ve(te,le,fe,Ce){return new(fe||(fe=Promise))(function(Le,ut){function Kt(Qt){try{Ct(Ce.next(Qt))}catch(ln){ut(ln)}}function Zt(Qt){try{Ct(Ce.throw(Qt))}catch(ln){ut(ln)}}function Ct(Qt){Qt.done?Le(Qt.value):function Pe(Le){return Le instanceof fe?Le:new fe(function(ut){ut(Le)})}(Qt.value).then(Kt,Zt)}Ct((Ce=Ce.apply(te,le||[])).next())})}function Ge(te,le){var Ce,Pe,Le,fe={label:0,sent:function(){if(1&Le[0])throw Le[1];return Le[1]},trys:[],ops:[]},ut=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return ut.next=Kt(0),ut.throw=Kt(1),ut.return=Kt(2),"function"==typeof Symbol&&(ut[Symbol.iterator]=function(){return this}),ut;function Kt(Ct){return function(Qt){return function Zt(Ct){if(Ce)throw new TypeError("Generator is already executing.");for(;ut&&(ut=0,Ct[0]&&(fe=0)),fe;)try{if(Ce=1,Pe&&(Le=2&Ct[0]?Pe.return:Ct[0]?Pe.throw||((Le=Pe.return)&&Le.call(Pe),0):Pe.next)&&!(Le=Le.call(Pe,Ct[1])).done)return Le;switch(Pe=0,Le&&(Ct=[2&Ct[0],Le.value]),Ct[0]){case 0:case 1:Le=Ct;break;case 4:return fe.label++,{value:Ct[1],done:!1};case 5:fe.label++,Pe=Ct[1],Ct=[0];continue;case 7:Ct=fe.ops.pop(),fe.trys.pop();continue;default:if(!(Le=(Le=fe.trys).length>0&&Le[Le.length-1])&&(6===Ct[0]||2===Ct[0])){fe=0;continue}if(3===Ct[0]&&(!Le||Ct[1]>Le[0]&&Ct[1]<Le[3])){fe.label=Ct[1];break}if(6===Ct[0]&&fe.label<Le[1]){fe.label=Le[1],Le=Ct;break}if(Le&&fe.label<Le[2]){fe.label=Le[2],fe.ops.push(Ct);break}Le[2]&&fe.ops.pop(),fe.trys.pop();continue}Ct=le.call(te,fe)}catch(Qt){Ct=[6,Qt],Pe=0}finally{Ce=Le=0}if(5&Ct[0])throw Ct[1];return{value:Ct[0]?Ct[1]:void 0,done:!0}}([Ct,Qt])}}}var xe=Object.create?function(te,le,fe,Ce){void 0===Ce&&(Ce=fe);var Pe=Object.getOwnPropertyDescriptor(le,fe);(!Pe||("get"in Pe?!le.__esModule:Pe.writable||Pe.configurable))&&(Pe={enumerable:!0,get:function(){return le[fe]}}),Object.defineProperty(te,Ce,Pe)}:function(te,le,fe,Ce){void 0===Ce&&(Ce=fe),te[Ce]=le[fe]};function Fe(te,le){for(var fe in te)"default"!==fe&&!Object.prototype.hasOwnProperty.call(le,fe)&&xe(le,te,fe)}function St(te){var le="function"==typeof Symbol&&Symbol.iterator,fe=le&&te[le],Ce=0;if(fe)return fe.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&Ce>=te.length&&(te=void 0),{value:te&&te[Ce++],done:!te}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ze(te,le){var fe="function"==typeof Symbol&&te[Symbol.iterator];if(!fe)return te;var Pe,ut,Ce=fe.call(te),Le=[];try{for(;(void 0===le||le-- >0)&&!(Pe=Ce.next()).done;)Le.push(Pe.value)}catch(Kt){ut={error:Kt}}finally{try{Pe&&!Pe.done&&(fe=Ce.return)&&fe.call(Ce)}finally{if(ut)throw ut.error}}return Le}function pt(){for(var te=[],le=0;le<arguments.length;le++)te=te.concat(Ze(arguments[le]));return te}function et(){for(var te=0,le=0,fe=arguments.length;le<fe;le++)te+=arguments[le].length;var Ce=Array(te),Pe=0;for(le=0;le<fe;le++)for(var Le=arguments[le],ut=0,Kt=Le.length;ut<Kt;ut++,Pe++)Ce[Pe]=Le[ut];return Ce}function Gt(te,le,fe){if(fe||2===arguments.length)for(var Le,Ce=0,Pe=le.length;Ce<Pe;Ce++)(Le||!(Ce in le))&&(Le||(Le=Array.prototype.slice.call(le,0,Ce)),Le[Ce]=le[Ce]);return te.concat(Le||Array.prototype.slice.call(le))}function Ne(te){return this instanceof Ne?(this.v=te,this):new Ne(te)}function je(te,le,fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,Ce=fe.apply(te,le||[]),Le=[];return Pe=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Kt("next"),Kt("throw"),Kt("return",function ut(ct){return function(tt){return Promise.resolve(tt).then(ct,ln)}}),Pe[Symbol.asyncIterator]=function(){return this},Pe;function Kt(ct,tt){Ce[ct]&&(Pe[ct]=function(it){return new Promise(function(Fn,on){Le.push([ct,it,Fn,on])>1||Zt(ct,it)})},tt&&(Pe[ct]=tt(Pe[ct])))}function Zt(ct,tt){try{!function Ct(ct){ct.value instanceof Ne?Promise.resolve(ct.value.v).then(Qt,ln):xn(Le[0][2],ct)}(Ce[ct](tt))}catch(it){xn(Le[0][3],it)}}function Qt(ct){Zt("next",ct)}function ln(ct){Zt("throw",ct)}function xn(ct,tt){ct(tt),Le.shift(),Le.length&&Zt(Le[0][0],Le[0][1])}}function Ke(te){var le,fe;return le={},Ce("next"),Ce("throw",function(Pe){throw Pe}),Ce("return"),le[Symbol.iterator]=function(){return this},le;function Ce(Pe,Le){le[Pe]=te[Pe]?function(ut){return(fe=!fe)?{value:Ne(te[Pe](ut)),done:!1}:Le?Le(ut):ut}:Le}}function st(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,le=te[Symbol.asyncIterator];return le?le.call(te):(te=St(te),fe={},Ce("next"),Ce("throw"),Ce("return"),fe[Symbol.asyncIterator]=function(){return this},fe);function Ce(Le){fe[Le]=te[Le]&&function(ut){return new Promise(function(Kt,Zt){!function Pe(Le,ut,Kt,Zt){Promise.resolve(Zt).then(function(Ct){Le({value:Ct,done:Kt})},ut)}(Kt,Zt,(ut=te[Le](ut)).done,ut.value)})}}}function be(te,le){return Object.defineProperty?Object.defineProperty(te,"raw",{value:le}):te.raw=le,te}var $e=Object.create?function(te,le){Object.defineProperty(te,"default",{enumerable:!0,value:le})}:function(te,le){te.default=le},bt=function(te){return(bt=Object.getOwnPropertyNames||function(le){var fe=[];for(var Ce in le)Object.prototype.hasOwnProperty.call(le,Ce)&&(fe[fe.length]=Ce);return fe})(te)};function mt(te){if(te&&te.__esModule)return te;var le={};if(null!=te)for(var fe=bt(te),Ce=0;Ce<fe.length;Ce++)"default"!==fe[Ce]&&xe(le,te,fe[Ce]);return $e(le,te),le}function tn(te){return te&&te.__esModule?te:{default:te}}function Be(te,le,fe,Ce){if("a"===fe&&!Ce)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof le?te!==le||!Ce:!le.has(te))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===fe?Ce:"a"===fe?Ce.call(te):Ce?Ce.value:le.get(te)}function at(te,le,fe,Ce,Pe){if("m"===Ce)throw new TypeError("Private method is not writable");if("a"===Ce&&!Pe)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof le?te!==le||!Pe:!le.has(te))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===Ce?Pe.call(te,fe):Pe?Pe.value=fe:le.set(te,fe),fe}function Xe(te,le){if(null===le||"object"!=typeof le&&"function"!=typeof le)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof te?le===te:te.has(le)}function Et(te,le,fe){if(null!=le){if("object"!=typeof le&&"function"!=typeof le)throw new TypeError("Object expected.");var Ce,Pe;if(fe){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");Ce=le[Symbol.asyncDispose]}if(void 0===Ce){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");Ce=le[Symbol.dispose],fe&&(Pe=Ce)}if("function"!=typeof Ce)throw new TypeError("Object not disposable.");Pe&&(Ce=function(){try{Pe.call(this)}catch(Le){return Promise.reject(Le)}}),te.stack.push({value:le,dispose:Ce,async:fe})}else fe&&te.stack.push({async:!0});return le}var Vn="function"==typeof SuppressedError?SuppressedError:function(te,le,fe){var Ce=new Error(fe);return Ce.name="SuppressedError",Ce.error=te,Ce.suppressed=le,Ce};function Rn(te){function le(Le){te.error=te.hasError?new Vn(Le,te.error,"An error was suppressed during disposal."):Le,te.hasError=!0}var fe,Ce=0;return function Pe(){for(;fe=te.stack.pop();)try{if(!fe.async&&1===Ce)return Ce=0,te.stack.push(fe),Promise.resolve().then(Pe);if(fe.dispose){var Le=fe.dispose.call(fe.value);if(fe.async)return Ce|=2,Promise.resolve(Le).then(Pe,function(ut){return le(ut),Pe()})}else Ce|=1}catch(ut){le(ut)}if(1===Ce)return te.hasError?Promise.reject(te.error):Promise.resolve();if(te.hasError)throw te.error}()}function un(te,le){return"string"==typeof te&&/^\.\.?\//.test(te)?te.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(fe,Ce,Pe,Le,ut){return Ce?le?".jsx":".js":!Pe||Le&&ut?Pe+Le+"."+ut.toLowerCase()+"js":fe}):te}const Mt={__extends:U,__assign:C,__rest:ie,__decorate:J,__param:L,__esDecorate:H,__runInitializers:oe,__propKey:ae,__setFunctionName:he,__metadata:ee,__awaiter:ve,__generator:Ge,__createBinding:xe,__exportStar:Fe,__values:St,__read:Ze,__spread:pt,__spreadArrays:et,__spreadArray:Gt,__await:Ne,__asyncGenerator:je,__asyncDelegator:Ke,__asyncValues:st,__makeTemplateObject:be,__importStar:mt,__importDefault:tn,__classPrivateFieldGet:Be,__classPrivateFieldSet:at,__classPrivateFieldIn:Xe,__addDisposableResource:Et,__disposeResources:Rn,__rewriteRelativeImportExtension:un}},9293:Ye=>{function se(l,U,C,ie,J,L,H){try{var oe=l[L](H),ae=oe.value}catch(he){return void C(he)}oe.done?U(ae):Promise.resolve(ae).then(ie,J)}Ye.exports=function R(l){return function(){var U=this,C=arguments;return new Promise(function(ie,J){var L=l.apply(U,C);function H(ae){se(L,ie,J,H,oe,"next",ae)}function oe(ae){se(L,ie,J,H,oe,"throw",ae)}H(void 0)})}},Ye.exports.__esModule=!0,Ye.exports.default=Ye.exports},177:(Ye,se,R)=>{"use strict";R.d(se,{AJ:()=>vr,B3:()=>mr,Jj:()=>vs,MD:()=>Ir,N0:()=>yr,P9:()=>yo,QT:()=>C,Sm:()=>Fe,Sq:()=>ar,VF:()=>J,Vy:()=>qn,Xr:()=>En,YU:()=>Xn,ZD:()=>ie,_b:()=>hn,aZ:()=>Ze,bT:()=>or,fw:()=>St,hb:()=>Ge,hj:()=>oe,qQ:()=>L,vh:()=>oo});var l=R(6276);let U=null;function C(){return U}function ie(p){U||(U=p)}class J{}const L=new l.nKC("DocumentToken");let H=(()=>{class p{historyGo(w){throw new Error("Not implemented")}static{this.\u0275fac=function(A){return new(A||p)}}static{this.\u0275prov=l.jDH({token:p,factory:function(){return(0,l.WQX)(ae)},providedIn:"platform"})}}return p})();const oe=new l.nKC("Location Initialized");let ae=(()=>{class p extends H{constructor(){super(),this._doc=(0,l.WQX)(L),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return C().getBaseHref(this._doc)}onPopState(w){const A=C().getGlobalEventTarget(this._doc,"window");return A.addEventListener("popstate",w,!1),()=>A.removeEventListener("popstate",w)}onHashChange(w){const A=C().getGlobalEventTarget(this._doc,"window");return A.addEventListener("hashchange",w,!1),()=>A.removeEventListener("hashchange",w)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(w){this._location.pathname=w}pushState(w,A,z){this._history.pushState(w,A,z)}replaceState(w,A,z){this._history.replaceState(w,A,z)}forward(){this._history.forward()}back(){this._history.back()}historyGo(w=0){this._history.go(w)}getState(){return this._history.state}static{this.\u0275fac=function(A){return new(A||p)}}static{this.\u0275prov=l.jDH({token:p,factory:function(){return new p},providedIn:"platform"})}}return p})();function he(p,x){if(0==p.length)return x;if(0==x.length)return p;let w=0;return p.endsWith("/")&&w++,x.startsWith("/")&&w++,2==w?p+x.substring(1):1==w?p+x:p+"/"+x}function ee(p){const x=p.match(/#|\?|$/),w=x&&x.index||p.length;return p.slice(0,w-("/"===p[w-1]?1:0))+p.slice(w)}function ve(p){return p&&"?"!==p[0]?"?"+p:p}let Ge=(()=>{class p{historyGo(w){throw new Error("Not implemented")}static{this.\u0275fac=function(A){return new(A||p)}}static{this.\u0275prov=l.jDH({token:p,factory:function(){return(0,l.WQX)(Fe)},providedIn:"root"})}}return p})();const xe=new l.nKC("appBaseHref");let Fe=(()=>{class p extends Ge{constructor(w,A){super(),this._platformLocation=w,this._removeListenerFns=[],this._baseHref=A??this._platformLocation.getBaseHrefFromDOM()??(0,l.WQX)(L).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(w){this._removeListenerFns.push(this._platformLocation.onPopState(w),this._platformLocation.onHashChange(w))}getBaseHref(){return this._baseHref}prepareExternalUrl(w){return he(this._baseHref,w)}path(w=!1){const A=this._platformLocation.pathname+ve(this._platformLocation.search),z=this._platformLocation.hash;return z&&w?`${A}${z}`:A}pushState(w,A,z,ge){const we=this.prepareExternalUrl(z+ve(ge));this._platformLocation.pushState(w,A,we)}replaceState(w,A,z,ge){const we=this.prepareExternalUrl(z+ve(ge));this._platformLocation.replaceState(w,A,we)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(w=0){this._platformLocation.historyGo?.(w)}static{this.\u0275fac=function(A){return new(A||p)(l.KVO(H),l.KVO(xe,8))}}static{this.\u0275prov=l.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})(),St=(()=>{class p extends Ge{constructor(w,A){super(),this._platformLocation=w,this._baseHref="",this._removeListenerFns=[],null!=A&&(this._baseHref=A)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(w){this._removeListenerFns.push(this._platformLocation.onPopState(w),this._platformLocation.onHashChange(w))}getBaseHref(){return this._baseHref}path(w=!1){let A=this._platformLocation.hash;return null==A&&(A="#"),A.length>0?A.substring(1):A}prepareExternalUrl(w){const A=he(this._baseHref,w);return A.length>0?"#"+A:A}pushState(w,A,z,ge){let we=this.prepareExternalUrl(z+ve(ge));0==we.length&&(we=this._platformLocation.pathname),this._platformLocation.pushState(w,A,we)}replaceState(w,A,z,ge){let we=this.prepareExternalUrl(z+ve(ge));0==we.length&&(we=this._platformLocation.pathname),this._platformLocation.replaceState(w,A,we)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(w=0){this._platformLocation.historyGo?.(w)}static{this.\u0275fac=function(A){return new(A||p)(l.KVO(H),l.KVO(xe,8))}}static{this.\u0275prov=l.jDH({token:p,factory:p.\u0275fac})}}return p})(),Ze=(()=>{class p{constructor(w){this._subject=new l.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=w;const A=this._locationStrategy.getBaseHref();this._basePath=function Ne(p){if(new RegExp("^(https?:)?//").test(p)){const[,w]=p.split(/\/\/[^\/]+/);return w}return p}(ee(Gt(A))),this._locationStrategy.onPopState(z=>{this._subject.emit({url:this.path(!0),pop:!0,state:z.state,type:z.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(w=!1){return this.normalize(this._locationStrategy.path(w))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(w,A=""){return this.path()==this.normalize(w+ve(A))}normalize(w){return p.stripTrailingSlash(function et(p,x){if(!p||!x.startsWith(p))return x;const w=x.substring(p.length);return""===w||["/",";","?","#"].includes(w[0])?w:x}(this._basePath,Gt(w)))}prepareExternalUrl(w){return w&&"/"!==w[0]&&(w="/"+w),this._locationStrategy.prepareExternalUrl(w)}go(w,A="",z=null){this._locationStrategy.pushState(z,"",w,A),this._notifyUrlChangeListeners(this.prepareExternalUrl(w+ve(A)),z)}replaceState(w,A="",z=null){this._locationStrategy.replaceState(z,"",w,A),this._notifyUrlChangeListeners(this.prepareExternalUrl(w+ve(A)),z)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(w=0){this._locationStrategy.historyGo?.(w)}onUrlChange(w){return this._urlChangeListeners.push(w),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(A=>{this._notifyUrlChangeListeners(A.url,A.state)})),()=>{const A=this._urlChangeListeners.indexOf(w);this._urlChangeListeners.splice(A,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(w="",A){this._urlChangeListeners.forEach(z=>z(w,A))}subscribe(w,A,z){return this._subject.subscribe({next:w,error:A,complete:z})}static{this.normalizeQueryParams=ve}static{this.joinWithSlash=he}static{this.stripTrailingSlash=ee}static{this.\u0275fac=function(A){return new(A||p)(l.KVO(Ge))}}static{this.\u0275prov=l.jDH({token:p,factory:function(){return function pt(){return new Ze((0,l.KVO)(Ge))}()},providedIn:"root"})}}return p})();function Gt(p){return p.replace(/\/index.html$/,"")}var be=function(p){return p[p.Format=0]="Format",p[p.Standalone=1]="Standalone",p}(be||{}),$e=function(p){return p[p.Narrow=0]="Narrow",p[p.Abbreviated=1]="Abbreviated",p[p.Wide=2]="Wide",p[p.Short=3]="Short",p}($e||{}),bt=function(p){return p[p.Short=0]="Short",p[p.Medium=1]="Medium",p[p.Long=2]="Long",p[p.Full=3]="Full",p}(bt||{}),mt=function(p){return p[p.Decimal=0]="Decimal",p[p.Group=1]="Group",p[p.List=2]="List",p[p.PercentSign=3]="PercentSign",p[p.PlusSign=4]="PlusSign",p[p.MinusSign=5]="MinusSign",p[p.Exponential=6]="Exponential",p[p.SuperscriptingExponent=7]="SuperscriptingExponent",p[p.PerMille=8]="PerMille",p[p.Infinity=9]="Infinity",p[p.NaN=10]="NaN",p[p.TimeSeparator=11]="TimeSeparator",p[p.CurrencyDecimal=12]="CurrencyDecimal",p[p.CurrencyGroup=13]="CurrencyGroup",p}(mt||{});function Mt(p,x){return ct((0,l.H5H)(p)[l.KH2.DateFormat],x)}function te(p,x){return ct((0,l.H5H)(p)[l.KH2.TimeFormat],x)}function le(p,x){return ct((0,l.H5H)(p)[l.KH2.DateTimeFormat],x)}function fe(p,x){const w=(0,l.H5H)(p),A=w[l.KH2.NumberSymbols][x];if(typeof A>"u"){if(x===mt.CurrencyDecimal)return w[l.KH2.NumberSymbols][mt.Decimal];if(x===mt.CurrencyGroup)return w[l.KH2.NumberSymbols][mt.Group]}return A}function Ct(p){if(!p[l.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${p[l.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ct(p,x){for(let w=x;w>-1;w--)if(typeof p[w]<"u")return p[w];throw new Error("Locale data API: locale data undefined")}function tt(p){const[x,w]=p.split(":");return{hours:+x,minutes:+w}}const Nt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ir={},Or=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Xt=function(p){return p[p.Short=0]="Short",p[p.ShortGMT=1]="ShortGMT",p[p.Long=2]="Long",p[p.Extended=3]="Extended",p}(Xt||{}),kt=function(p){return p[p.FullYear=0]="FullYear",p[p.Month=1]="Month",p[p.Date=2]="Date",p[p.Hours=3]="Hours",p[p.Minutes=4]="Minutes",p[p.Seconds=5]="Seconds",p[p.FractionalSeconds=6]="FractionalSeconds",p[p.Day=7]="Day",p}(kt||{}),Pt=function(p){return p[p.DayPeriods=0]="DayPeriods",p[p.Days=1]="Days",p[p.Months=2]="Months",p[p.Eras=3]="Eras",p}(Pt||{});function wn(p,x,w,A){let z=function Ro(p){if(ce(p))return p;if("number"==typeof p&&!isNaN(p))return new Date(p);if("string"==typeof p){if(p=p.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(p)){const[z,ge=1,we=1]=p.split("-").map(lt=>+lt);return Ft(z,ge-1,we)}const w=parseFloat(p);if(!isNaN(p-w))return new Date(w);let A;if(A=p.match(Nt))return function Ee(p){const x=new Date(0);let w=0,A=0;const z=p[8]?x.setUTCFullYear:x.setFullYear,ge=p[8]?x.setUTCHours:x.setHours;p[9]&&(w=Number(p[9]+p[10]),A=Number(p[9]+p[11])),z.call(x,Number(p[1]),Number(p[2])-1,Number(p[3]));const we=Number(p[4]||0)-w,lt=Number(p[5]||0)-A,pn=Number(p[6]||0),sn=Math.floor(1e3*parseFloat("0."+(p[7]||0)));return ge.call(x,we,lt,pn,sn),x}(A)}const x=new Date(p);if(!ce(x))throw new Error(`Unable to convert "${p}" into a date`);return x}(p);x=zn(w,x)||x;let lt,we=[];for(;x;){if(lt=Or.exec(x),!lt){we.push(x);break}{we=we.concat(lt.slice(1));const zt=we.pop();if(!zt)break;x=zt}}let pn=z.getTimezoneOffset();A&&(pn=$n(A,pn),z=function Gr(p,x,w){const A=w?-1:1,z=p.getTimezoneOffset();return function cr(p,x){return(p=new Date(p.getTime())).setMinutes(p.getMinutes()+x),p}(p,A*($n(x,z)-z))}(z,A,!0));let sn="";return we.forEach(zt=>{const jt=function eo(p){if(Wn[p])return Wn[p];let x;switch(p){case"G":case"GG":case"GGG":x=G(Pt.Eras,$e.Abbreviated);break;case"GGGG":x=G(Pt.Eras,$e.Wide);break;case"GGGGG":x=G(Pt.Eras,$e.Narrow);break;case"y":x=Z(kt.FullYear,1,0,!1,!0);break;case"yy":x=Z(kt.FullYear,2,0,!0,!0);break;case"yyy":x=Z(kt.FullYear,3,0,!1,!0);break;case"yyyy":x=Z(kt.FullYear,4,0,!1,!0);break;case"Y":x=Dn(1);break;case"YY":x=Dn(2,!0);break;case"YYY":x=Dn(3);break;case"YYYY":x=Dn(4);break;case"M":case"L":x=Z(kt.Month,1,1);break;case"MM":case"LL":x=Z(kt.Month,2,1);break;case"MMM":x=G(Pt.Months,$e.Abbreviated);break;case"MMMM":x=G(Pt.Months,$e.Wide);break;case"MMMMM":x=G(Pt.Months,$e.Narrow);break;case"LLL":x=G(Pt.Months,$e.Abbreviated,be.Standalone);break;case"LLLL":x=G(Pt.Months,$e.Wide,be.Standalone);break;case"LLLLL":x=G(Pt.Months,$e.Narrow,be.Standalone);break;case"w":x=_t(1);break;case"ww":x=_t(2);break;case"W":x=_t(1,!0);break;case"d":x=Z(kt.Date,1);break;case"dd":x=Z(kt.Date,2);break;case"c":case"cc":x=Z(kt.Day,1);break;case"ccc":x=G(Pt.Days,$e.Abbreviated,be.Standalone);break;case"cccc":x=G(Pt.Days,$e.Wide,be.Standalone);break;case"ccccc":x=G(Pt.Days,$e.Narrow,be.Standalone);break;case"cccccc":x=G(Pt.Days,$e.Short,be.Standalone);break;case"E":case"EE":case"EEE":x=G(Pt.Days,$e.Abbreviated);break;case"EEEE":x=G(Pt.Days,$e.Wide);break;case"EEEEE":x=G(Pt.Days,$e.Narrow);break;case"EEEEEE":x=G(Pt.Days,$e.Short);break;case"a":case"aa":case"aaa":x=G(Pt.DayPeriods,$e.Abbreviated);break;case"aaaa":x=G(Pt.DayPeriods,$e.Wide);break;case"aaaaa":x=G(Pt.DayPeriods,$e.Narrow);break;case"b":case"bb":case"bbb":x=G(Pt.DayPeriods,$e.Abbreviated,be.Standalone,!0);break;case"bbbb":x=G(Pt.DayPeriods,$e.Wide,be.Standalone,!0);break;case"bbbbb":x=G(Pt.DayPeriods,$e.Narrow,be.Standalone,!0);break;case"B":case"BB":case"BBB":x=G(Pt.DayPeriods,$e.Abbreviated,be.Format,!0);break;case"BBBB":x=G(Pt.DayPeriods,$e.Wide,be.Format,!0);break;case"BBBBB":x=G(Pt.DayPeriods,$e.Narrow,be.Format,!0);break;case"h":x=Z(kt.Hours,1,-12);break;case"hh":x=Z(kt.Hours,2,-12);break;case"H":x=Z(kt.Hours,1);break;case"HH":x=Z(kt.Hours,2);break;case"m":x=Z(kt.Minutes,1);break;case"mm":x=Z(kt.Minutes,2);break;case"s":x=Z(kt.Seconds,1);break;case"ss":x=Z(kt.Seconds,2);break;case"S":x=Z(kt.FractionalSeconds,1);break;case"SS":x=Z(kt.FractionalSeconds,2);break;case"SSS":x=Z(kt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":x=Te(Xt.Short);break;case"ZZZZZ":x=Te(Xt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":x=Te(Xt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":x=Te(Xt.Long);break;default:return null}return Wn[p]=x,x}(zt);sn+=jt?jt(z,w,pn):"''"===zt?"'":zt.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),sn}function Ft(p,x,w){const A=new Date(0);return A.setFullYear(p,x,w),A.setHours(0,0,0),A}function zn(p,x){const w=function Be(p){return(0,l.H5H)(p)[l.KH2.LocaleId]}(p);if(ir[w]=ir[w]||{},ir[w][x])return ir[w][x];let A="";switch(x){case"shortDate":A=Mt(p,bt.Short);break;case"mediumDate":A=Mt(p,bt.Medium);break;case"longDate":A=Mt(p,bt.Long);break;case"fullDate":A=Mt(p,bt.Full);break;case"shortTime":A=te(p,bt.Short);break;case"mediumTime":A=te(p,bt.Medium);break;case"longTime":A=te(p,bt.Long);break;case"fullTime":A=te(p,bt.Full);break;case"short":const z=zn(p,"shortTime"),ge=zn(p,"shortDate");A=Yn(le(p,bt.Short),[z,ge]);break;case"medium":const we=zn(p,"mediumTime"),lt=zn(p,"mediumDate");A=Yn(le(p,bt.Medium),[we,lt]);break;case"long":const pn=zn(p,"longTime"),sn=zn(p,"longDate");A=Yn(le(p,bt.Long),[pn,sn]);break;case"full":const zt=zn(p,"fullTime"),jt=zn(p,"fullDate");A=Yn(le(p,bt.Full),[zt,jt])}return A&&(ir[w][x]=A),A}function Yn(p,x){return x&&(p=p.replace(/\{([^}]+)}/g,function(w,A){return null!=x&&A in x?x[A]:w})),p}function Ln(p,x,w="-",A,z){let ge="";(p<0||z&&p<=0)&&(z?p=1-p:(p=-p,ge=w));let we=String(p);for(;we.length<x;)we="0"+we;return A&&(we=we.slice(we.length-x)),ge+we}function Z(p,x,w=0,A=!1,z=!1){return function(ge,we){let lt=function Ie(p,x){switch(p){case kt.FullYear:return x.getFullYear();case kt.Month:return x.getMonth();case kt.Date:return x.getDate();case kt.Hours:return x.getHours();case kt.Minutes:return x.getMinutes();case kt.Seconds:return x.getSeconds();case kt.FractionalSeconds:return x.getMilliseconds();case kt.Day:return x.getDay();default:throw new Error(`Unknown DateType value "${p}".`)}}(p,ge);if((w>0||lt>-w)&&(lt+=w),p===kt.Hours)0===lt&&-12===w&&(lt=12);else if(p===kt.FractionalSeconds)return function Hr(p,x){return Ln(p,3).substring(0,x)}(lt,x);const pn=fe(we,mt.MinusSign);return Ln(lt,x,pn,A,z)}}function G(p,x,w=be.Format,A=!1){return function(z,ge){return function ye(p,x,w,A,z,ge){switch(w){case Pt.Months:return function Et(p,x,w){const A=(0,l.H5H)(p),ge=ct([A[l.KH2.MonthsFormat],A[l.KH2.MonthsStandalone]],x);return ct(ge,w)}(x,z,A)[p.getMonth()];case Pt.Days:return function Xe(p,x,w){const A=(0,l.H5H)(p),ge=ct([A[l.KH2.DaysFormat],A[l.KH2.DaysStandalone]],x);return ct(ge,w)}(x,z,A)[p.getDay()];case Pt.DayPeriods:const we=p.getHours(),lt=p.getMinutes();if(ge){const sn=function Qt(p){const x=(0,l.H5H)(p);return Ct(x),(x[l.KH2.ExtraData][2]||[]).map(A=>"string"==typeof A?tt(A):[tt(A[0]),tt(A[1])])}(x),zt=function ln(p,x,w){const A=(0,l.H5H)(p);Ct(A);const ge=ct([A[l.KH2.ExtraData][0],A[l.KH2.ExtraData][1]],x)||[];return ct(ge,w)||[]}(x,z,A),jt=sn.findIndex(Un=>{if(Array.isArray(Un)){const[mn,Qn]=Un,Ur=we>=mn.hours&&lt>=mn.minutes,Vr=we<Qn.hours||we===Qn.hours&&lt<Qn.minutes;if(mn.hours<Qn.hours){if(Ur&&Vr)return!0}else if(Ur||Vr)return!0}else if(Un.hours===we&&Un.minutes===lt)return!0;return!1});if(-1!==jt)return zt[jt]}return function at(p,x,w){const A=(0,l.H5H)(p),ge=ct([A[l.KH2.DayPeriodsFormat],A[l.KH2.DayPeriodsStandalone]],x);return ct(ge,w)}(x,z,A)[we<12?0:1];case Pt.Eras:return function Vn(p,x){return ct((0,l.H5H)(p)[l.KH2.Eras],x)}(x,A)[p.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${w}`)}}(z,ge,p,x,w,A)}}function Te(p){return function(x,w,A){const z=-1*A,ge=fe(w,mt.MinusSign),we=z>0?Math.floor(z/60):Math.ceil(z/60);switch(p){case Xt.Short:return(z>=0?"+":"")+Ln(we,2,ge)+Ln(Math.abs(z%60),2,ge);case Xt.ShortGMT:return"GMT"+(z>=0?"+":"")+Ln(we,1,ge);case Xt.Long:return"GMT"+(z>=0?"+":"")+Ln(we,2,ge)+":"+Ln(Math.abs(z%60),2,ge);case Xt.Extended:return 0===A?"Z":(z>=0?"+":"")+Ln(we,2,ge)+":"+Ln(Math.abs(z%60),2,ge);default:throw new Error(`Unknown zone width "${p}"`)}}}const ze=0,wt=4;function fn(p){return Ft(p.getFullYear(),p.getMonth(),p.getDate()+(wt-p.getDay()))}function _t(p,x=!1){return function(w,A){let z;if(x){const ge=new Date(w.getFullYear(),w.getMonth(),1).getDay()-1,we=w.getDate();z=1+Math.floor((we+ge)/7)}else{const ge=fn(w),we=function er(p){const x=Ft(p,ze,1).getDay();return Ft(p,0,1+(x<=wt?wt:wt+7)-x)}(ge.getFullYear()),lt=ge.getTime()-we.getTime();z=1+Math.round(lt/6048e5)}return Ln(z,p,fe(A,mt.MinusSign))}}function Dn(p,x=!1){return function(w,A){return Ln(fn(w).getFullYear(),p,fe(A,mt.MinusSign),x)}}const Wn={};function $n(p,x){p=p.replace(/:/g,"");const w=Date.parse("Jan 01, 1970 00:00:00 "+p)/6e4;return isNaN(w)?x:w}function ce(p){return p instanceof Date&&!isNaN(p.valueOf())}function hn(p,x){x=encodeURIComponent(x);for(const w of p.split(";")){const A=w.indexOf("="),[z,ge]=-1==A?[w,""]:[w.slice(0,A),w.slice(A+1)];if(z.trim()===x)return decodeURIComponent(ge)}return null}const In=/\s+/,hr=[];let Xn=(()=>{class p{constructor(w,A,z,ge){this._iterableDiffers=w,this._keyValueDiffers=A,this._ngEl=z,this._renderer=ge,this.initialClasses=hr,this.stateMap=new Map}set klass(w){this.initialClasses=null!=w?w.trim().split(In):hr}set ngClass(w){this.rawClass="string"==typeof w?w.trim().split(In):w}ngDoCheck(){for(const A of this.initialClasses)this._updateState(A,!0);const w=this.rawClass;if(Array.isArray(w)||w instanceof Set)for(const A of w)this._updateState(A,!0);else if(null!=w)for(const A of Object.keys(w))this._updateState(A,!!w[A]);this._applyStateDiff()}_updateState(w,A){const z=this.stateMap.get(w);void 0!==z?(z.enabled!==A&&(z.changed=!0,z.enabled=A),z.touched=!0):this.stateMap.set(w,{enabled:A,changed:!0,touched:!0})}_applyStateDiff(){for(const w of this.stateMap){const A=w[0],z=w[1];z.changed?(this._toggleClass(A,z.enabled),z.changed=!1):z.touched||(z.enabled&&this._toggleClass(A,!1),this.stateMap.delete(A)),z.touched=!1}}_toggleClass(w,A){(w=w.trim()).length>0&&w.split(In).forEach(z=>{A?this._renderer.addClass(this._ngEl.nativeElement,z):this._renderer.removeClass(this._ngEl.nativeElement,z)})}static{this.\u0275fac=function(A){return new(A||p)(l.rXU(l._q3),l.rXU(l.MKu),l.rXU(l.aKT),l.rXU(l.sFG))}}static{this.\u0275dir=l.FsC({type:p,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return p})();class Sr{constructor(x,w,A,z){this.$implicit=x,this.ngForOf=w,this.index=A,this.count=z}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ar=(()=>{class p{set ngForOf(w){this._ngForOf=w,this._ngForOfDirty=!0}set ngForTrackBy(w){this._trackByFn=w}get ngForTrackBy(){return this._trackByFn}constructor(w,A,z){this._viewContainer=w,this._template=A,this._differs=z,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(w){w&&(this._template=w)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const w=this._ngForOf;!this._differ&&w&&(this._differ=this._differs.find(w).create(this.ngForTrackBy))}if(this._differ){const w=this._differ.diff(this._ngForOf);w&&this._applyChanges(w)}}_applyChanges(w){const A=this._viewContainer;w.forEachOperation((z,ge,we)=>{if(null==z.previousIndex)A.createEmbeddedView(this._template,new Sr(z.item,this._ngForOf,-1,-1),null===we?void 0:we);else if(null==we)A.remove(null===ge?void 0:ge);else if(null!==ge){const lt=A.get(ge);A.move(lt,we),Bn(lt,z)}});for(let z=0,ge=A.length;z<ge;z++){const lt=A.get(z).context;lt.index=z,lt.count=ge,lt.ngForOf=this._ngForOf}w.forEachIdentityChange(z=>{Bn(A.get(z.currentIndex),z)})}static ngTemplateContextGuard(w,A){return!0}static{this.\u0275fac=function(A){return new(A||p)(l.rXU(l.c1b),l.rXU(l.C4Q),l.rXU(l._q3))}}static{this.\u0275dir=l.FsC({type:p,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return p})();function Bn(p,x){p.context.$implicit=x.item}let or=(()=>{class p{constructor(w,A){this._viewContainer=w,this._context=new xo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=A}set ngIf(w){this._context.$implicit=this._context.ngIf=w,this._updateView()}set ngIfThen(w){Po("ngIfThen",w),this._thenTemplateRef=w,this._thenViewRef=null,this._updateView()}set ngIfElse(w){Po("ngIfElse",w),this._elseTemplateRef=w,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(w,A){return!0}static{this.\u0275fac=function(A){return new(A||p)(l.rXU(l.c1b),l.rXU(l.C4Q))}}static{this.\u0275dir=l.FsC({type:p,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return p})();class xo{constructor(){this.$implicit=null,this.ngIf=null}}function Po(p,x){if(x&&!x.createEmbeddedView)throw new Error(`${p} must be a TemplateRef, but received '${(0,l.Tbb)(x)}'.`)}let mr=(()=>{class p{constructor(w,A,z){this._ngEl=w,this._differs=A,this._renderer=z,this._ngStyle=null,this._differ=null}set ngStyle(w){this._ngStyle=w,!this._differ&&w&&(this._differ=this._differs.find(w).create())}ngDoCheck(){if(this._differ){const w=this._differ.diff(this._ngStyle);w&&this._applyChanges(w)}}_setStyle(w,A){const[z,ge]=w.split("."),we=-1===z.indexOf("-")?void 0:l.czy.DashCase;null!=A?this._renderer.setStyle(this._ngEl.nativeElement,z,ge?`${A}${ge}`:A,we):this._renderer.removeStyle(this._ngEl.nativeElement,z,we)}_applyChanges(w){w.forEachRemovedItem(A=>this._setStyle(A.key,null)),w.forEachAddedItem(A=>this._setStyle(A.key,A.currentValue)),w.forEachChangedItem(A=>this._setStyle(A.key,A.currentValue))}static{this.\u0275fac=function(A){return new(A||p)(l.rXU(l.aKT),l.rXU(l.MKu),l.rXU(l.sFG))}}static{this.\u0275dir=l.FsC({type:p,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return p})();function An(p,x){return new l.wOt(2100,!1)}class Ws{createSubscription(x,w){return(0,l.O8t)(()=>x.subscribe({next:w,error:A=>{throw A}}))}dispose(x){(0,l.O8t)(()=>x.unsubscribe())}}class xs{createSubscription(x,w){return x.then(w,A=>{throw A})}dispose(x){}}const Ps=new xs,ms=new Ws;let vs=(()=>{class p{constructor(w){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=w}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(w){return this._obj?w!==this._obj?(this._dispose(),this.transform(w)):this._latestValue:(w&&this._subscribe(w),this._latestValue)}_subscribe(w){this._obj=w,this._strategy=this._selectStrategy(w),this._subscription=this._strategy.createSubscription(w,A=>this._updateLatestValue(w,A))}_selectStrategy(w){if((0,l.jNT)(w))return Ps;if((0,l.zjR)(w))return ms;throw An()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(w,A){w===this._obj&&(this._latestValue=A,this._ref.markForCheck())}static{this.\u0275fac=function(A){return new(A||p)(l.rXU(l.gRc,16))}}static{this.\u0275pipe=l.EJ8({name:"async",type:p,pure:!1,standalone:!0})}}return p})();const Wo=new l.nKC("DATE_PIPE_DEFAULT_TIMEZONE"),ro=new l.nKC("DATE_PIPE_DEFAULT_OPTIONS");let oo=(()=>{class p{constructor(w,A,z){this.locale=w,this.defaultTimezone=A,this.defaultOptions=z}transform(w,A,z,ge){if(null==w||""===w||w!=w)return null;try{return wn(w,A??this.defaultOptions?.dateFormat??"mediumDate",ge||this.locale,z??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(we){throw An()}}static{this.\u0275fac=function(A){return new(A||p)(l.rXU(l.xe9,16),l.rXU(Wo,24),l.rXU(ro,24))}}static{this.\u0275pipe=l.EJ8({name:"date",type:p,pure:!0,standalone:!0})}}return p})(),yo=(()=>{class p{transform(w,A,z){if(null==w)return null;if(!this.supports(w))throw An();return w.slice(A,z)}supports(w){return"string"==typeof w||Array.isArray(w)}static{this.\u0275fac=function(A){return new(A||p)}}static{this.\u0275pipe=l.EJ8({name:"slice",type:p,pure:!1,standalone:!0})}}return p})(),Ir=(()=>{class p{static{this.\u0275fac=function(A){return new(A||p)}}static{this.\u0275mod=l.$C({type:p})}static{this.\u0275inj=l.G2t({})}}return p})();const vr="browser",Bt="server";function qn(p){return p===Bt}let En=(()=>{class p{static{this.\u0275prov=(0,l.jDH)({token:p,providedIn:"root",factory:()=>new tr((0,l.KVO)(L),window)})}}return p})();class tr{constructor(x,w){this.document=x,this.window=w,this.offset=()=>[0,0]}setOffset(x){this.offset=Array.isArray(x)?()=>x:x}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(x){this.supportsScrolling()&&this.window.scrollTo(x[0],x[1])}scrollToAnchor(x){if(!this.supportsScrolling())return;const w=function _o(p,x){const w=p.getElementById(x)||p.getElementsByName(x)[0];if(w)return w;if("function"==typeof p.createTreeWalker&&p.body&&"function"==typeof p.body.attachShadow){const A=p.createTreeWalker(p.body,NodeFilter.SHOW_ELEMENT);let z=A.currentNode;for(;z;){const ge=z.shadowRoot;if(ge){const we=ge.getElementById(x)||ge.querySelector(`[name="${x}"]`);if(we)return we}z=A.nextNode()}}return null}(this.document,x);w&&(this.scrollToElement(w),w.focus())}setHistoryScrollRestoration(x){this.supportsScrolling()&&(this.window.history.scrollRestoration=x)}scrollToElement(x){const w=x.getBoundingClientRect(),A=w.left+this.window.pageXOffset,z=w.top+this.window.pageYOffset,ge=this.offset();this.window.scrollTo(A-ge[0],z-ge[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class yr{}},1626:(Ye,se,R)=>{"use strict";R.d(se,{$R:()=>Wn,$m:()=>pr,Lr:()=>Fe,Nl:()=>Ke,Qq:()=>te,q1:()=>_e});var l=R(6276),U=R(7673),C=R(6648),ie=R(1985),J=R(274),L=R(5964),H=R(6354),oe=R(980),ae=R(5558),he=R(8141),ee=R(1594),ve=R(177);class Ge{}class xe{}class Fe{constructor(W){this.normalizedNames=new Map,this.lazyUpdate=null,W?"string"==typeof W?this.lazyInit=()=>{this.headers=new Map,W.split("\n").forEach(X=>{const Se=X.indexOf(":");if(Se>0){const Ae=X.slice(0,Se),Je=Ae.toLowerCase(),ke=X.slice(Se+1).trim();this.maybeSetNormalizedName(Ae,Je),this.headers.has(Je)?this.headers.get(Je).push(ke):this.headers.set(Je,[ke])}})}:typeof Headers<"u"&&W instanceof Headers?(this.headers=new Map,W.forEach((X,Se)=>{this.setHeaderEntries(Se,X)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(W).forEach(([X,Se])=>{this.setHeaderEntries(X,Se)})}:this.headers=new Map}has(W){return this.init(),this.headers.has(W.toLowerCase())}get(W){this.init();const X=this.headers.get(W.toLowerCase());return X&&X.length>0?X[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(W){return this.init(),this.headers.get(W.toLowerCase())||null}append(W,X){return this.clone({name:W,value:X,op:"a"})}set(W,X){return this.clone({name:W,value:X,op:"s"})}delete(W,X){return this.clone({name:W,value:X,op:"d"})}maybeSetNormalizedName(W,X){this.normalizedNames.has(X)||this.normalizedNames.set(X,W)}init(){this.lazyInit&&(this.lazyInit instanceof Fe?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(W=>this.applyUpdate(W)),this.lazyUpdate=null))}copyFrom(W){W.init(),Array.from(W.headers.keys()).forEach(X=>{this.headers.set(X,W.headers.get(X)),this.normalizedNames.set(X,W.normalizedNames.get(X))})}clone(W){const X=new Fe;return X.lazyInit=this.lazyInit&&this.lazyInit instanceof Fe?this.lazyInit:this,X.lazyUpdate=(this.lazyUpdate||[]).concat([W]),X}applyUpdate(W){const X=W.name.toLowerCase();switch(W.op){case"a":case"s":let Se=W.value;if("string"==typeof Se&&(Se=[Se]),0===Se.length)return;this.maybeSetNormalizedName(W.name,X);const Ae=("a"===W.op?this.headers.get(X):void 0)||[];Ae.push(...Se),this.headers.set(X,Ae);break;case"d":const Je=W.value;if(Je){let ke=this.headers.get(X);if(!ke)return;ke=ke.filter(qt=>-1===Je.indexOf(qt)),0===ke.length?(this.headers.delete(X),this.normalizedNames.delete(X)):this.headers.set(X,ke)}else this.headers.delete(X),this.normalizedNames.delete(X)}}setHeaderEntries(W,X){const Se=(Array.isArray(X)?X:[X]).map(Je=>Je.toString()),Ae=W.toLowerCase();this.headers.set(Ae,Se),this.maybeSetNormalizedName(W,Ae)}forEach(W){this.init(),Array.from(this.normalizedNames.keys()).forEach(X=>W(this.normalizedNames.get(X),this.headers.get(X)))}}class Ze{encodeKey(W){return Ne(W)}encodeValue(W){return Ne(W)}decodeKey(W){return decodeURIComponent(W)}decodeValue(W){return decodeURIComponent(W)}}const et=/%(\d[a-f0-9])/gi,Gt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ne(ne){return encodeURIComponent(ne).replace(et,(W,X)=>Gt[X]??W)}function je(ne){return`${ne}`}class Ke{constructor(W={}){if(this.updates=null,this.cloneFrom=null,this.encoder=W.encoder||new Ze,W.fromString){if(W.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function pt(ne,W){const X=new Map;return ne.length>0&&ne.replace(/^\?/,"").split("&").forEach(Ae=>{const Je=Ae.indexOf("="),[ke,qt]=-1==Je?[W.decodeKey(Ae),""]:[W.decodeKey(Ae.slice(0,Je)),W.decodeValue(Ae.slice(Je+1))],Ot=X.get(ke)||[];Ot.push(qt),X.set(ke,Ot)}),X}(W.fromString,this.encoder)}else W.fromObject?(this.map=new Map,Object.keys(W.fromObject).forEach(X=>{const Se=W.fromObject[X],Ae=Array.isArray(Se)?Se.map(je):[je(Se)];this.map.set(X,Ae)})):this.map=null}has(W){return this.init(),this.map.has(W)}get(W){this.init();const X=this.map.get(W);return X?X[0]:null}getAll(W){return this.init(),this.map.get(W)||null}keys(){return this.init(),Array.from(this.map.keys())}append(W,X){return this.clone({param:W,value:X,op:"a"})}appendAll(W){const X=[];return Object.keys(W).forEach(Se=>{const Ae=W[Se];Array.isArray(Ae)?Ae.forEach(Je=>{X.push({param:Se,value:Je,op:"a"})}):X.push({param:Se,value:Ae,op:"a"})}),this.clone(X)}set(W,X){return this.clone({param:W,value:X,op:"s"})}delete(W,X){return this.clone({param:W,value:X,op:"d"})}toString(){return this.init(),this.keys().map(W=>{const X=this.encoder.encodeKey(W);return this.map.get(W).map(Se=>X+"="+this.encoder.encodeValue(Se)).join("&")}).filter(W=>""!==W).join("&")}clone(W){const X=new Ke({encoder:this.encoder});return X.cloneFrom=this.cloneFrom||this,X.updates=(this.updates||[]).concat(W),X}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(W=>this.map.set(W,this.cloneFrom.map.get(W))),this.updates.forEach(W=>{switch(W.op){case"a":case"s":const X=("a"===W.op?this.map.get(W.param):void 0)||[];X.push(je(W.value)),this.map.set(W.param,X);break;case"d":if(void 0===W.value){this.map.delete(W.param);break}{let Se=this.map.get(W.param)||[];const Ae=Se.indexOf(je(W.value));-1!==Ae&&Se.splice(Ae,1),Se.length>0?this.map.set(W.param,Se):this.map.delete(W.param)}}}),this.cloneFrom=this.updates=null)}}class be{constructor(){this.map=new Map}set(W,X){return this.map.set(W,X),this}get(W){return this.map.has(W)||this.map.set(W,W.defaultValue()),this.map.get(W)}delete(W){return this.map.delete(W),this}has(W){return this.map.has(W)}keys(){return this.map.keys()}}function bt(ne){return typeof ArrayBuffer<"u"&&ne instanceof ArrayBuffer}function mt(ne){return typeof Blob<"u"&&ne instanceof Blob}function tn(ne){return typeof FormData<"u"&&ne instanceof FormData}class at{constructor(W,X,Se,Ae){let Je;if(this.url=X,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=W.toUpperCase(),function $e(ne){switch(ne){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ae?(this.body=void 0!==Se?Se:null,Je=Ae):Je=Se,Je&&(this.reportProgress=!!Je.reportProgress,this.withCredentials=!!Je.withCredentials,Je.responseType&&(this.responseType=Je.responseType),Je.headers&&(this.headers=Je.headers),Je.context&&(this.context=Je.context),Je.params&&(this.params=Je.params)),this.headers||(this.headers=new Fe),this.context||(this.context=new be),this.params){const ke=this.params.toString();if(0===ke.length)this.urlWithParams=X;else{const qt=X.indexOf("?");this.urlWithParams=X+(-1===qt?"?":qt<X.length-1?"&":"")+ke}}else this.params=new Ke,this.urlWithParams=X}serializeBody(){return null===this.body?null:bt(this.body)||mt(this.body)||tn(this.body)||function Be(ne){return typeof URLSearchParams<"u"&&ne instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ke?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||tn(this.body)?null:mt(this.body)?this.body.type||null:bt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ke?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(W={}){const X=W.method||this.method,Se=W.url||this.url,Ae=W.responseType||this.responseType,Je=void 0!==W.body?W.body:this.body,ke=void 0!==W.withCredentials?W.withCredentials:this.withCredentials,qt=void 0!==W.reportProgress?W.reportProgress:this.reportProgress;let Ot=W.headers||this.headers,Kn=W.params||this.params;const dr=W.context??this.context;return void 0!==W.setHeaders&&(Ot=Object.keys(W.setHeaders).reduce((hn,In)=>hn.set(In,W.setHeaders[In]),Ot)),W.setParams&&(Kn=Object.keys(W.setParams).reduce((hn,In)=>hn.set(In,W.setParams[In]),Kn)),new at(X,Se,Je,{params:Kn,headers:Ot,context:dr,reportProgress:qt,responseType:Ae,withCredentials:ke})}}var Xe=function(ne){return ne[ne.Sent=0]="Sent",ne[ne.UploadProgress=1]="UploadProgress",ne[ne.ResponseHeader=2]="ResponseHeader",ne[ne.DownloadProgress=3]="DownloadProgress",ne[ne.Response=4]="Response",ne[ne.User=5]="User",ne}(Xe||{});class Et{constructor(W,X=200,Se="OK"){this.headers=W.headers||new Fe,this.status=void 0!==W.status?W.status:X,this.statusText=W.statusText||Se,this.url=W.url||null,this.ok=this.status>=200&&this.status<300}}class Vn extends Et{constructor(W={}){super(W),this.type=Xe.ResponseHeader}clone(W={}){return new Vn({headers:W.headers||this.headers,status:void 0!==W.status?W.status:this.status,statusText:W.statusText||this.statusText,url:W.url||this.url||void 0})}}class Rn extends Et{constructor(W={}){super(W),this.type=Xe.Response,this.body=void 0!==W.body?W.body:null}clone(W={}){return new Rn({body:void 0!==W.body?W.body:this.body,headers:W.headers||this.headers,status:void 0!==W.status?W.status:this.status,statusText:W.statusText||this.statusText,url:W.url||this.url||void 0})}}class un extends Et{constructor(W){super(W,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${W.url||"(unknown url)"}`:`Http failure response for ${W.url||"(unknown url)"}: ${W.status} ${W.statusText}`,this.error=W.error||null}}function Mt(ne,W){return{body:W,headers:ne.headers,context:ne.context,observe:ne.observe,params:ne.params,reportProgress:ne.reportProgress,responseType:ne.responseType,withCredentials:ne.withCredentials}}let te=(()=>{class ne{constructor(X){this.handler=X}request(X,Se,Ae={}){let Je;if(X instanceof at)Je=X;else{let Ot,Kn;Ot=Ae.headers instanceof Fe?Ae.headers:new Fe(Ae.headers),Ae.params&&(Kn=Ae.params instanceof Ke?Ae.params:new Ke({fromObject:Ae.params})),Je=new at(X,Se,void 0!==Ae.body?Ae.body:null,{headers:Ot,context:Ae.context,params:Kn,reportProgress:Ae.reportProgress,responseType:Ae.responseType||"json",withCredentials:Ae.withCredentials})}const ke=(0,U.of)(Je).pipe((0,J.H)(Ot=>this.handler.handle(Ot)));if(X instanceof at||"events"===Ae.observe)return ke;const qt=ke.pipe((0,L.p)(Ot=>Ot instanceof Rn));switch(Ae.observe||"body"){case"body":switch(Je.responseType){case"arraybuffer":return qt.pipe((0,H.T)(Ot=>{if(null!==Ot.body&&!(Ot.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Ot.body}));case"blob":return qt.pipe((0,H.T)(Ot=>{if(null!==Ot.body&&!(Ot.body instanceof Blob))throw new Error("Response is not a Blob.");return Ot.body}));case"text":return qt.pipe((0,H.T)(Ot=>{if(null!==Ot.body&&"string"!=typeof Ot.body)throw new Error("Response is not a string.");return Ot.body}));default:return qt.pipe((0,H.T)(Ot=>Ot.body))}case"response":return qt;default:throw new Error(`Unreachable: unhandled observe type ${Ae.observe}}`)}}delete(X,Se={}){return this.request("DELETE",X,Se)}get(X,Se={}){return this.request("GET",X,Se)}head(X,Se={}){return this.request("HEAD",X,Se)}jsonp(X,Se){return this.request("JSONP",X,{params:(new Ke).append(Se,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(X,Se={}){return this.request("OPTIONS",X,Se)}patch(X,Se,Ae={}){return this.request("PATCH",X,Mt(Ae,Se))}post(X,Se,Ae={}){return this.request("POST",X,Mt(Ae,Se))}put(X,Se,Ae={}){return this.request("PUT",X,Mt(Ae,Se))}static{this.\u0275fac=function(Se){return new(Se||ne)(l.KVO(Ge))}}static{this.\u0275prov=l.jDH({token:ne,factory:ne.\u0275fac})}}return ne})();function Zt(ne,W){return W(ne)}function Ct(ne,W){return(X,Se)=>W.intercept(X,{handle:Ae=>ne(Ae,Se)})}const ln=new l.nKC(""),xn=new l.nKC(""),ct=new l.nKC("");function tt(){let ne=null;return(W,X)=>{null===ne&&(ne=((0,l.WQX)(ln,{optional:!0})??[]).reduceRight(Ct,Zt));const Se=(0,l.WQX)(l.$K3),Ae=Se.add();return ne(W,X).pipe((0,oe.j)(()=>Se.remove(Ae)))}}let it=(()=>{class ne extends Ge{constructor(X,Se){super(),this.backend=X,this.injector=Se,this.chain=null,this.pendingTasks=(0,l.WQX)(l.$K3)}handle(X){if(null===this.chain){const Ae=Array.from(new Set([...this.injector.get(xn),...this.injector.get(ct,[])]));this.chain=Ae.reduceRight((Je,ke)=>function Qt(ne,W,X){return(Se,Ae)=>X.runInContext(()=>W(Se,Je=>ne(Je,Ae)))}(Je,ke,this.injector),Zt)}const Se=this.pendingTasks.add();return this.chain(X,Ae=>this.backend.handle(Ae)).pipe((0,oe.j)(()=>this.pendingTasks.remove(Se)))}static{this.\u0275fac=function(Se){return new(Se||ne)(l.KVO(xe),l.KVO(l.uvJ))}}static{this.\u0275prov=l.jDH({token:ne,factory:ne.\u0275fac})}}return ne})();const Yn=/^\)\]\}',?\n/;let Hr=(()=>{class ne{constructor(X){this.xhrFactory=X}handle(X){if("JSONP"===X.method)throw new l.wOt(-2800,!1);const Se=this.xhrFactory;return(Se.\u0275loadImpl?(0,C.H)(Se.\u0275loadImpl()):(0,U.of)(null)).pipe((0,ae.n)(()=>new ie.c(Je=>{const ke=Se.build();if(ke.open(X.method,X.urlWithParams),X.withCredentials&&(ke.withCredentials=!0),X.headers.forEach((ft,nn)=>ke.setRequestHeader(ft,nn.join(","))),X.headers.has("Accept")||ke.setRequestHeader("Accept","application/json, text/plain, */*"),!X.headers.has("Content-Type")){const ft=X.detectContentTypeHeader();null!==ft&&ke.setRequestHeader("Content-Type",ft)}if(X.responseType){const ft=X.responseType.toLowerCase();ke.responseType="json"!==ft?ft:"text"}const qt=X.serializeBody();let Ot=null;const Kn=()=>{if(null!==Ot)return Ot;const ft=ke.statusText||"OK",nn=new Fe(ke.getAllResponseHeaders()),Sr=function Ln(ne){return"responseURL"in ne&&ne.responseURL?ne.responseURL:/^X-Request-URL:/m.test(ne.getAllResponseHeaders())?ne.getResponseHeader("X-Request-URL"):null}(ke)||X.url;return Ot=new Vn({headers:nn,status:ke.status,statusText:ft,url:Sr}),Ot},dr=()=>{let{headers:ft,status:nn,statusText:Sr,url:ar}=Kn(),Bn=null;204!==nn&&(Bn=typeof ke.response>"u"?ke.responseText:ke.response),0===nn&&(nn=Bn?200:0);let cn=nn>=200&&nn<300;if("json"===X.responseType&&"string"==typeof Bn){const or=Bn;Bn=Bn.replace(Yn,"");try{Bn=""!==Bn?JSON.parse(Bn):null}catch(xo){Bn=or,cn&&(cn=!1,Bn={error:xo,text:Bn})}}cn?(Je.next(new Rn({body:Bn,headers:ft,status:nn,statusText:Sr,url:ar||void 0})),Je.complete()):Je.error(new un({error:Bn,headers:ft,status:nn,statusText:Sr,url:ar||void 0}))},hn=ft=>{const{url:nn}=Kn(),Sr=new un({error:ft,status:ke.status||0,statusText:ke.statusText||"Unknown Error",url:nn||void 0});Je.error(Sr)};let In=!1;const hr=ft=>{In||(Je.next(Kn()),In=!0);let nn={type:Xe.DownloadProgress,loaded:ft.loaded};ft.lengthComputable&&(nn.total=ft.total),"text"===X.responseType&&ke.responseText&&(nn.partialText=ke.responseText),Je.next(nn)},Xn=ft=>{let nn={type:Xe.UploadProgress,loaded:ft.loaded};ft.lengthComputable&&(nn.total=ft.total),Je.next(nn)};return ke.addEventListener("load",dr),ke.addEventListener("error",hn),ke.addEventListener("timeout",hn),ke.addEventListener("abort",hn),X.reportProgress&&(ke.addEventListener("progress",hr),null!==qt&&ke.upload&&ke.upload.addEventListener("progress",Xn)),ke.send(qt),Je.next({type:Xe.Sent}),()=>{ke.removeEventListener("error",hn),ke.removeEventListener("abort",hn),ke.removeEventListener("load",dr),ke.removeEventListener("timeout",hn),X.reportProgress&&(ke.removeEventListener("progress",hr),null!==qt&&ke.upload&&ke.upload.removeEventListener("progress",Xn)),ke.readyState!==ke.DONE&&ke.abort()}})))}static{this.\u0275fac=function(Se){return new(Se||ne)(l.KVO(ve.N0))}}static{this.\u0275prov=l.jDH({token:ne,factory:ne.\u0275fac})}}return ne})();const Z=new l.nKC("XSRF_ENABLED"),G=new l.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Te=new l.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class ze{}let wt=(()=>{class ne{constructor(X,Se,Ae){this.doc=X,this.platform=Se,this.cookieName=Ae,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const X=this.doc.cookie||"";return X!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,ve._b)(X,this.cookieName),this.lastCookieString=X),this.lastToken}static{this.\u0275fac=function(Se){return new(Se||ne)(l.KVO(ve.qQ),l.KVO(l.Agw),l.KVO(G))}}static{this.\u0275prov=l.jDH({token:ne,factory:ne.\u0275fac})}}return ne})();function er(ne,W){const X=ne.url.toLowerCase();if(!(0,l.WQX)(Z)||"GET"===ne.method||"HEAD"===ne.method||X.startsWith("http://")||X.startsWith("https://"))return W(ne);const Se=(0,l.WQX)(ze).getToken(),Ae=(0,l.WQX)(Te);return null!=Se&&!ne.headers.has(Ae)&&(ne=ne.clone({headers:ne.headers.set(Ae,Se)})),W(ne)}var _t=function(ne){return ne[ne.Interceptors=0]="Interceptors",ne[ne.LegacyInterceptors=1]="LegacyInterceptors",ne[ne.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ne[ne.NoXsrfProtection=3]="NoXsrfProtection",ne[ne.JsonpSupport=4]="JsonpSupport",ne[ne.RequestsMadeViaParent=5]="RequestsMadeViaParent",ne[ne.Fetch=6]="Fetch",ne}(_t||{});function Dn(ne,W){return{\u0275kind:ne,\u0275providers:W}}function Wn(...ne){const W=[te,Hr,it,{provide:Ge,useExisting:it},{provide:xe,useExisting:Hr},{provide:xn,useValue:er,multi:!0},{provide:Z,useValue:!0},{provide:ze,useClass:wt}];for(const X of ne)W.push(...X.\u0275providers);return(0,l.EmA)(W)}const $n=new l.nKC("LEGACY_INTERCEPTOR_FN");let _e=(()=>{class ne{static{this.\u0275fac=function(Se){return new(Se||ne)}}static{this.\u0275mod=l.$C({type:ne})}static{this.\u0275inj=l.G2t({providers:[Wn(Dn(_t.LegacyInterceptors,[{provide:$n,useFactory:tt},{provide:xn,useExisting:$n,multi:!0}]))]})}}return ne})();const vt=new l.nKC(""),en=["GET","HEAD"];function $t(ne,W){const{isCacheActive:X}=(0,l.WQX)(vt);if(!X||!en.includes(ne.method))return W(ne);const Se=(0,l.WQX)(l.pJN),Ae=function rr(ne){const{params:W,method:X,responseType:Se,url:Ae}=ne,qt=function yn(ne){let W=0;for(const X of ne)W=Math.imul(31,W)+X.charCodeAt(0)<<0;return W+=2147483648,W.toString()}(X+"."+Se+"."+Ae+"?"+W.keys().sort().map(Ot=>`${Ot}=${W.getAll(Ot)}`).join("&"));return(0,l.zw6)(qt)}(ne),Je=Se.get(Ae,null);if(Je){let ke=Je.body;switch(Je.responseType){case"arraybuffer":ke=(new TextEncoder).encode(Je.body).buffer;break;case"blob":ke=new Blob([Je.body])}return(0,U.of)(new Rn({body:ke,headers:new Fe(Je.headers),status:Je.status,statusText:Je.statusText,url:Je.url}))}return W(ne).pipe((0,he.M)(ke=>{ke instanceof Rn&&Se.set(Ae,{body:ke.body,headers:jn(ke.headers),status:ke.status,statusText:ke.statusText,url:ke.url||"",responseType:ne.responseType})}))}function jn(ne){const W={};for(const X of ne.keys()){const Se=ne.getAll(X);null!==Se&&(W[X]=Se)}return W}function pr(){return[{provide:vt,useFactory:()=>((0,l.WQX)(l.KOA).add("httpcache"),{isCacheActive:!0})},{provide:ct,useValue:$t,multi:!0,deps:[l.pJN,vt]},{provide:l.iLQ,multi:!0,useFactory:()=>{const ne=(0,l.WQX)(l.o8S),W=(0,l.WQX)(vt);return()=>{ne.isStable.pipe((0,ee.$)(X=>X)).toPromise().then(()=>{W.isCacheActive=!1})}}}]}},6276:(Ye,se,R)=>{"use strict";R.d(se,{iLQ:()=>Gd,sZ2:()=>Cf,hnV:()=>Dv,o8S:()=>ma,BIS:()=>h0,gRc:()=>fS,Ql9:()=>xE,Ocv:()=>TE,Z63:()=>ja,aKT:()=>Ba,uvJ:()=>Ms,zcH:()=>ni,bkB:()=>Is,$GK:()=>Z,nKC:()=>_t,zZn:()=>hs,_q3:()=>Jd,MKu:()=>Qd,xe9:()=>bl,Co$:()=>bm,Vns:()=>Si,NEm:()=>oS,SKi:()=>Tr,Xx1:()=>Cu,Agw:()=>yc,PLl:()=>wf,sFG:()=>A0,_9s:()=>Tf,czy:()=>Tu,kdw:()=>wu,C4Q:()=>iu,NYb:()=>eS,giA:()=>Rv,pJN:()=>Ua,RxE:()=>Of,c1b:()=>yl,gXe:()=>hr,L39:()=>jS,Ol2:()=>wm,w6W:()=>_D,Rfq:()=>st,WQX:()=>Ae,QuC:()=>so,EmA:()=>dc,zw6:()=>f0,HJs:()=>VS,O8t:()=>Qn,H3F:()=>Ev,KOA:()=>Df,H8p:()=>pc,$K3:()=>Sv,KH2:()=>ha,wOt:()=>Be,WHO:()=>Tv,e01:()=>Ov,H5H:()=>vd,Zy3:()=>at,mq5:()=>zg,JZv:()=>wt,TL3:()=>aS,LfX:()=>kt,plB:()=>Nd,jNT:()=>id,zjR:()=>Qp,TL$:()=>x_,Tbb:()=>Ne,M8M:()=>FS,Vt3:()=>Kc,GFd:()=>Op,OA$:()=>Br,Jv_:()=>_m,aNF:()=>Dm,R7$:()=>tp,BMQ:()=>qc,ZvI:()=>Pg,AVh:()=>fd,wni:()=>tv,VBU:()=>Wo,FsC:()=>Lo,jDH:()=>Nt,G2t:()=>Or,$C:()=>ko,EJ8:()=>rs,rXU:()=>Zi,nrm:()=>rd,k0s:()=>al,j41:()=>il,RV6:()=>Jp,xGo:()=>fh,KVO:()=>X,kS0:()=>Ll,QTQ:()=>rp,bIt:()=>ad,lsd:()=>nv,XpG:()=>ng,nI1:()=>jm,bMT:()=>Um,i5U:()=>Vm,brH:()=>$m,Y8G:()=>td,FS9:()=>ud,Mz_:()=>ul,lJ4:()=>Om,eq3:()=>Rm,l4e:()=>xm,mGM:()=>Zm,sdS:()=>Wp,Njj:()=>ho,EBC:()=>Bf,eBV:()=>kn,B4B:()=>lc,n$t:()=>ff,xc7:()=>hd,DNE:()=>Hp,C5r:()=>iv,EFF:()=>Eg,JRh:()=>gd,SpI:()=>dl,Lme:()=>md,GBs:()=>ev});var l=R(1413),U=R(8359),C=R(1985),ie=R(6365),J=R(8750),L=R(983),H=R(9326),oe=R(6648),he=R(4412),ee=R(7673),ve=R(7707),Ge=R(9974);function xe(e={}){const{connector:t=(()=>new l.B),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=e;return s=>{let c,h,m,D=0,P=!1,j=!1;const Q=()=>{h?.unsubscribe(),h=void 0},re=()=>{Q(),c=m=void 0,P=j=!1},De=()=>{const Ue=c;re(),Ue?.unsubscribe()};return(0,Ge.N)((Ue,nt)=>{D++,!j&&!P&&Q();const yt=m=m??t();nt.add(()=>{D--,0===D&&!j&&!P&&(h=Fe(De,o))}),yt.subscribe(nt),!c&&D>0&&(c=new ve.Ms({next:Re=>yt.next(Re),error:Re=>{j=!0,Q(),h=Fe(re,n,Re),yt.error(Re)},complete:()=>{P=!0,Q(),h=Fe(re,r),yt.complete()}}),(0,J.Tg)(Ue).subscribe(c))})(s)}}function Fe(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new ve.Ms({next:()=>{r.unsubscribe(),e()}});return(0,J.Tg)(t(...n)).subscribe(r)}var St=R(5558),Ze=R(3294),pt=R(1594);function et(e){for(let t in e)if(e[t]===et)return t;throw Error("Could not find renamed property on target object.")}function Gt(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Ne(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Ne).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function je(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Ke=et({__forward_ref__:et});function st(e){return e.__forward_ref__=st,e.toString=function(){return Ne(this())},e}function be(e){return $e(e)?e():e}function $e(e){return"function"==typeof e&&e.hasOwnProperty(Ke)&&e.__forward_ref__===st}function bt(e){return e&&!!e.\u0275providers}const tn="https://g.co/ng/security#xss";class Be extends Error{constructor(t,n){super(at(t,n)),this.code=t}}function at(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}function Xe(e){return"string"==typeof e?e:null==e?"":String(e)}function Mt(e,t){throw new Be(-201,!1)}function ct(e,t){null==e&&function tt(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Nt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Or(e){return{providers:e.providers||[],imports:e.imports||[]}}function Xt(e){return Pt(e,zn)||Pt(e,Ln)}function kt(e){return null!==Xt(e)}function Pt(e,t){return e.hasOwnProperty(t)?e[t]:null}function Ft(e){return e&&(e.hasOwnProperty(Yn)||e.hasOwnProperty(Hr))?e[Yn]:null}const zn=et({\u0275prov:et}),Yn=et({\u0275inj:et}),Ln=et({ngInjectableDef:et}),Hr=et({ngInjectorDef:et});var Z=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Z||{});let Ie;function ye(e){const t=Ie;return Ie=e,t}function Te(e,t,n){const r=Xt(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Z.Optional?null:void 0!==t?t:void Mt(Ne(e))}const wt=globalThis;class _t{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Nt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const _e={},qe="__NG_DI_FLAG__",vt="ngTempTokenPath",$t=/\n/gm,rr="__source";let yn;function ne(e){const t=yn;return yn=e,t}function W(e,t=Z.Default){if(void 0===yn)throw new Be(-203,!1);return null===yn?Te(e,void 0,t):yn.get(e,t&Z.Optional?null:void 0,t)}function X(e,t=Z.Default){return(function G(){return Ie}()||W)(be(e),t)}function Ae(e,t=Z.Default){return X(e,Je(t))}function Je(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function ke(e){const t=[];for(let n=0;n<e.length;n++){const r=be(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Be(900,!1);let o,s=Z.Default;for(let c=0;c<r.length;c++){const h=r[c],m=Ot(h);"number"==typeof m?-1===m?o=h.token:s|=m:o=h}t.push(X(o,s))}else t.push(X(r))}return t}function qt(e,t){return e[qe]=t,e.prototype[qe]=t,e}function Ot(e){return e[qe]}function hn(e){return{toString:e}.toString()}var In=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(In||{}),hr=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(hr||{});const Xn={},ft=[],nn=et({\u0275cmp:et}),Sr=et({\u0275dir:et}),ar=et({\u0275pipe:et}),Bn=et({\u0275mod:et}),cn=et({\u0275fac:et}),or=et({__NG_ELEMENT_ID__:et}),xo=et({__NG_ENV_ID__:et});function Po(e,t,n){let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const s=t.length;if(o+s===r||e.charCodeAt(o+s)<=32)return o}n=o+1}}function mo(e,t,n){let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const s=n[r++],c=n[r++],h=n[r++];e.setAttribute(t,c,h,s)}else{const s=o,c=n[++r];vo(s)?e.setProperty(t,s,c):e.setAttribute(t,s,c),r++}}return r}function Rr(e){return 3===e||4===e||6===e}function vo(e){return 64===e.charCodeAt(0)}function Mr(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||gr(e,n,o,null,-1===n||2===n?t[++r]:null)}}return e}function gr(e,t,n,r,o){let s=0,c=e.length;if(-1===t)c=-1;else for(;s<e.length;){const h=e[s++];if("number"==typeof h){if(h===t){c=-1;break}if(h>t){c=s-1;break}}}for(;s<e.length;){const h=e[s];if("number"==typeof h)break;if(h===n){if(null===r)return void(null!==o&&(e[s+1]=o));if(r===e[s+1])return void(e[s+2]=o)}s++,null!==r&&s++,null!==o&&s++}-1!==c&&(e.splice(c,0,t),s=c+1),e.splice(s++,0,n),null!==r&&e.splice(s++,0,r),null!==o&&e.splice(s++,0,o)}const to="ng-template";function no(e,t,n){let r=0,o=!0;for(;r<e.length;){let s=e[r++];if("string"==typeof s&&o){const c=e[r++];if(n&&"class"===s&&-1!==Po(c.toLowerCase(),t,0))return!0}else{if(1===s){for(;r<e.length&&"string"==typeof(s=e[r++]);)if(s.toLowerCase()===t)return!0;return!1}"number"==typeof s&&(o=!1)}}return!1}function mr(e){return 4===e.type&&e.value!==to}function No(e,t,n){return t===(4!==e.type||n?e.value:to)}function gs(e,t,n){let r=4;const o=e.attrs||[],s=function ms(e){for(let t=0;t<e.length;t++)if(Rr(e[t]))return t;return e.length}(o);let c=!1;for(let h=0;h<t.length;h++){const m=t[h];if("number"!=typeof m){if(!c)if(4&r){if(r=2|1&r,""!==m&&!No(e,m,n)||""===m&&1===t.length){if(An(r))return!1;c=!0}}else{const D=8&r?m:t[++h];if(8&r&&null!==e.attrs){if(!no(e.attrs,D,n)){if(An(r))return!1;c=!0}continue}const j=Ws(8&r?"class":m,o,mr(e),n);if(-1===j){if(An(r))return!1;c=!0;continue}if(""!==D){let Q;Q=j>s?"":o[j+1].toLowerCase();const re=8&r?Q:null;if(re&&-1!==Po(re,D,0)||2&r&&D!==Q){if(An(r))return!1;c=!0}}}}else{if(!c&&!An(r)&&!An(m))return!1;if(c&&An(m))continue;c=!1,r=m|1&r}}return An(r)||c}function An(e){return 0==(1&e)}function Ws(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let s=!1;for(;o<t.length;){const c=t[o];if(c===e)return o;if(3===c||6===c)s=!0;else{if(1===c||2===c){let h=t[++o];for(;"string"==typeof h;)h=t[++o];continue}if(4===c)break;if(0===c){o+=4;continue}}o+=s?1:2}return-1}return function vs(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function xs(e,t,n=!1){for(let r=0;r<t.length;r++)if(gs(e,t[r],n))return!0;return!1}function zo(e,t){return e?":not("+t.trim()+")":t}function ks(e){let t=e[0],n=1,r=2,o="",s=!1;for(;n<e.length;){let c=e[n];if("string"==typeof c)if(2&r){const h=e[++n];o+="["+c+(h.length>0?'="'+h+'"':"")+"]"}else 8&r?o+="."+c:4&r&&(o+=" "+c);else""!==o&&!An(c)&&(t+=zo(s,o),o=""),r=c,s=s||!An(r);n++}return""!==o&&(t+=zo(s,o)),t}function Wo(e){return hn(()=>{const t=ot(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===In.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||hr.Emulated,styles:e.styles||ft,_:null,schemas:e.schemas||null,tView:null,id:""};yo(n);const r=e.dependencies;return n.directiveDefs=Ko(r,!1),n.pipeDefs=Ko(r,!0),n.id=function vr(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of n)t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function oo(e){return At(e)||_n(e)}function _s(e){return null!==e}function ko(e){return hn(()=>({type:e.type,bootstrap:e.bootstrap||ft,declarations:e.declarations||ft,imports:e.imports||ft,exports:e.exports||ft,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function ns(e,t){if(null==e)return Xn;const n={};for(const r in e)if(e.hasOwnProperty(r)){let o=e[r],s=o;Array.isArray(o)&&(s=o[1],o=o[0]),n[o]=r,t&&(t[o]=s)}return n}function Lo(e){return hn(()=>{const t=ot(e);return yo(t),t})}function rs(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function At(e){return e[nn]||null}function _n(e){return e[Sr]||null}function Hn(e){return e[ar]||null}function so(e){const t=At(e)||_n(e)||Hn(e);return null!==t&&t.standalone}function Tn(e,t){const n=e[Bn]||null;if(!n&&!0===t)throw new Error(`Type ${Ne(e)} does not have '\u0275mod' property.`);return n}function ot(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Xn,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||ft,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ns(e.inputs,t),outputs:ns(e.outputs)}}function yo(e){e.features?.forEach(t=>t(e))}function Ko(e,t){if(!e)return null;const n=t?Hn:oo;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(_s)}const Bt=0,Qe=1,Dt=2,Yt=3,qn=4,Xo=5,Pn=6,zr=7,En=8,tr=9,_o=10,It=11,yr=12,xr=13,Pr=14,gn=15,io=16,ao=17,_r=18,uo=19,jo=20,lo=21,ur=22,bo=23,Nr=24,Vt=25,bn=1,Gn=2,br=7,Uo=9,qo=10,Sn=11;function Mn(e){return Array.isArray(e)&&"object"==typeof e[bn]}function Jn(e){return Array.isArray(e)&&!0===e[bn]}function Jo(e){return 0!=(4&e.flags)}function Cr(e){return e.componentOffset>-1}function Wr(e){return 1==(1&e.flags)}function kr(e){return!!e.template}function Cn(e){return 0!=(512&e[Dt])}function Kr(e,t){return e.hasOwnProperty(cn)?e[cn]:null}let Nn=null,Lr=!1;function jr(e){const t=Nn;return Nn=e,t}const ii={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function js(e){if(!us(e)||e.dirty){if(!e.producerMustRecompute(e)&&!Vs(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function qs(e){e.dirty=!0,function ai(e){if(void 0===e.liveConsumerNode)return;const t=Lr;Lr=!0;try{for(const n of e.liveConsumerNode)n.dirty||qs(n)}finally{Lr=t}}(e),e.consumerMarkedDirty?.(e)}function Js(e){return e&&(e.nextProducerIndex=0),jr(e)}function ui(e,t){if(jr(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(us(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Eo(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Vs(e){ls(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(js(n),r!==n.version))return!0}return!1}function li(e){if(ls(e),us(e))for(let t=0;t<e.producerNode.length;t++)Eo(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Eo(e,t){if(function ci(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),ls(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)Eo(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],o=e.liveConsumerNode[t];ls(o),o.producerIndexOfThis[r]=t}}function us(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function ls(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let w=null;function Qn(e){const t=jr(null);try{return e()}finally{jr(t)}}const Vr=()=>{},So=(()=>({...ii,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:Vr}))();class Vo{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Br(){return $o}function $o(e){return e.type.prototype.ngOnChanges&&(e.setInput=ba),Ds}function Ds(){const e=Bo(this),t=e?.current;if(t){const n=e.previous;if(n===Xn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function ba(e,t,n,r){const o=this.declaredInputs[n],s=Bo(e)||function Ai(e,t){return e[Ii]=t}(e,{previous:Xn,current:null}),c=s.current||(s.current={}),h=s.previous,m=h[o];c[o]=new Vo(m&&m.currentValue,t,h===Xn),e[r]=t}Br.ngInherit=!0;const Ii="__ngSimpleChanges__";function Bo(e){return e[Ii]||null}const Mo=function(e,t,n){};function dn(e){for(;Array.isArray(e);)e=e[Bt];return e}function ds(e,t){return dn(t[e])}function Ar(e,t){return dn(t[e.index])}function Ti(e,t){return e.data[t]}function $s(e,t){return e[t]}function qr(e,t){const n=t[e];return Mn(n)?n:n[Bt]}function g(e,t){return null==t?null:e[t]}function a(e){e[ao]=0}function i(e){1024&e[Dt]||(e[Dt]|=1024,v(e,1))}function u(e){1024&e[Dt]&&(e[Dt]&=-1025,v(e,-1))}function v(e,t){let n=e[Yt];if(null===n)return;n[Xo]+=t;let r=n;for(n=n[Yt];null!==n&&(1===t&&1===r[Xo]||-1===t&&0===r[Xo]);)n[Xo]+=t,r=n,n=n[Yt]}const I={lFrame:Zo(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ve(){return I.bindingsEnabled}function Me(){return null!==I.skipHydrationRootTNode}function ue(){return I.lFrame.lView}function He(){return I.lFrame.tView}function kn(e){return I.lFrame.contextLView=e,e[En]}function ho(e){return I.lFrame.contextLView=null,e}function Ut(){let e=Zn();for(;null!==e&&64===e.type;)e=e.parent;return e}function Zn(){return I.lFrame.currentTNode}function sr(e,t){const n=I.lFrame;n.currentTNode=e,n.isParent=t}function Da(){return I.lFrame.isParent}function Qr(){const e=I.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function mi(){return I.lFrame.bindingIndex++}function f(e){const t=I.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function _(e,t){const n=I.lFrame;n.bindingIndex=n.bindingRootIndex=e,N(t)}function N(e){I.lFrame.currentDirectiveIndex=e}function pe(){return I.lFrame.currentQueryIndex}function de(e){I.lFrame.currentQueryIndex=e}function rt(e){const t=e[Qe];return 2===t.type?t.declTNode:1===t.type?e[Pn]:null}function xt(e,t,n){if(n&Z.SkipSelf){let o=t,s=e;for(;!(o=o.parent,null!==o||n&Z.Host||(o=rt(s),null===o||(s=s[Pr],10&o.type))););if(null===o)return!1;t=o,e=s}const r=I.lFrame=an();return r.currentTNode=t,r.lView=e,!0}function vn(e){const t=an(),n=e[Qe];I.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function an(){const e=I.lFrame,t=null===e?null:e.child;return null===t?Zo(e):t}function Zo(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Qs(){const e=I.lFrame;return I.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Ys=Qs;function vi(){const e=Qs();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function fo(){return I.lFrame.selectedIndex}function yi(e){I.lFrame.selectedIndex=e}function nr(){const e=I.lFrame;return Ti(e.tView,e.selectedIndex)}function eh(){return I.lFrame.currentNamespace}let th=!0;function du(){return th}function ei(e){th=e}function hu(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const s=e.data[n].type.prototype,{ngAfterContentInit:c,ngAfterContentChecked:h,ngAfterViewInit:m,ngAfterViewChecked:D,ngOnDestroy:P}=s;c&&(e.contentHooks??=[]).push(-n,c),h&&((e.contentHooks??=[]).push(n,h),(e.contentCheckHooks??=[]).push(n,h)),m&&(e.viewHooks??=[]).push(-n,m),D&&((e.viewHooks??=[]).push(n,D),(e.viewCheckHooks??=[]).push(n,D)),null!=P&&(e.destroyHooks??=[]).push(n,P)}}function fu(e,t,n){nh(e,t,3,n)}function pu(e,t,n,r){(3&e[Dt])===n&&nh(e,t,n,r)}function Ol(e,t){let n=e[Dt];(3&n)===t&&(n&=8191,n+=1,e[Dt]=n)}function nh(e,t,n,r){const s=r??-1,c=t.length-1;let h=0;for(let m=void 0!==r?65535&e[ao]:0;m<c;m++)if("number"==typeof t[m+1]){if(h=t[m],null!=r&&h>=r)break}else t[m]<0&&(e[ao]+=65536),(h<s||-1==s)&&(fy(e,n,t,m),e[ao]=(4294901760&e[ao])+m+2),m++}function rh(e,t){Mo(4,e,t);const n=jr(null);try{t.call(e)}finally{jr(n),Mo(5,e,t)}}function fy(e,t,n,r){const o=n[r]<0,s=n[r+1],h=e[o?-n[r]:n[r]];o?e[Dt]>>13<e[ao]>>16&&(3&e[Dt])===t&&(e[Dt]+=8192,rh(h,s)):rh(h,s)}const xi=-1;class Ea{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function xl(e){return e!==xi}function Sa(e){return 32767&e}function Ma(e,t){let n=function vy(e){return e>>16}(e),r=t;for(;n>0;)r=r[Pr],n--;return r}let Pl=!0;function gu(e){const t=Pl;return Pl=e,t}const oh=255,sh=5;let yy=0;const Ss={};function mu(e,t){const n=ih(e,t);if(-1!==n)return n;const r=t[Qe];r.firstCreatePass&&(e.injectorIndex=t.length,Nl(r.data,e),Nl(t,null),Nl(r.blueprint,null));const o=vu(e,t),s=e.injectorIndex;if(xl(o)){const c=Sa(o),h=Ma(o,t),m=h[Qe].data;for(let D=0;D<8;D++)t[s+D]=h[c+D]|m[c+D]}return t[s+8]=o,s}function Nl(e,t){e.push(0,0,0,0,0,0,0,0,t)}function ih(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function vu(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){if(r=ph(o),null===r)return xi;if(n++,o=o[Pr],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return xi}function kl(e,t,n){!function _y(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(or)&&(r=n[or]),null==r&&(r=n[or]=yy++);const o=r&oh;t.data[e+(o>>sh)]|=1<<o}(e,t,n)}function ah(e,t,n){if(n&Z.Optional||void 0!==e)return e;Mt()}function uh(e,t,n,r){if(n&Z.Optional&&void 0===r&&(r=null),!(n&(Z.Self|Z.Host))){const o=e[tr],s=ye(void 0);try{return o?o.get(t,r,n&Z.Optional):Te(t,r,n&Z.Optional)}finally{ye(s)}}return ah(r,0,n)}function lh(e,t,n,r=Z.Default,o){if(null!==e){if(2048&t[Dt]&&!(r&Z.Self)){const c=function Sy(e,t,n,r,o){let s=e,c=t;for(;null!==s&&null!==c&&2048&c[Dt]&&!(512&c[Dt]);){const h=ch(s,c,n,r|Z.Self,Ss);if(h!==Ss)return h;let m=s.parent;if(!m){const D=c[jo];if(D){const P=D.get(n,Ss,r);if(P!==Ss)return P}m=ph(c),c=c[Pr]}s=m}return o}(e,t,n,r,Ss);if(c!==Ss)return c}const s=ch(e,t,n,r,Ss);if(s!==Ss)return s}return uh(t,n,r,o)}function ch(e,t,n,r,o){const s=function wy(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(or)?e[or]:void 0;return"number"==typeof t?t>=0?t&oh:Ey:t}(n);if("function"==typeof s){if(!xt(t,e,r))return r&Z.Host?ah(o,0,r):uh(t,n,r,o);try{let c;if(c=s(r),null!=c||r&Z.Optional)return c;Mt()}finally{Ys()}}else if("number"==typeof s){let c=null,h=ih(e,t),m=xi,D=r&Z.Host?t[gn][Pn]:null;for((-1===h||r&Z.SkipSelf)&&(m=-1===h?vu(e,t):t[h+8],m!==xi&&hh(r,!1)?(c=t[Qe],h=Sa(m),t=Ma(m,t)):h=-1);-1!==h;){const P=t[Qe];if(dh(s,h,P.data)){const j=Cy(h,t,n,c,r,D);if(j!==Ss)return j}m=t[h+8],m!==xi&&hh(r,t[Qe].data[h+8]===D)&&dh(s,h,t)?(c=P,h=Sa(m),t=Ma(m,t)):h=-1}}return o}function Cy(e,t,n,r,o,s){const c=t[Qe],h=c.data[e+8],P=yu(h,c,n,null==r?Cr(h)&&Pl:r!=c&&0!=(3&h.type),o&Z.Host&&s===h);return null!==P?_i(t,c,P,h):Ss}function yu(e,t,n,r,o){const s=e.providerIndexes,c=t.data,h=1048575&s,m=e.directiveStart,P=s>>20,Q=o?h+P:e.directiveEnd;for(let re=r?h:h+P;re<Q;re++){const De=c[re];if(re<m&&n===De||re>=m&&De.type===n)return re}if(o){const re=c[m];if(re&&kr(re)&&re.type===n)return m}return null}function _i(e,t,n,r){let o=e[n];const s=t.data;if(function py(e){return e instanceof Ea}(o)){const c=o;c.resolving&&function Vn(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Be(-200,`Circular dependency in DI detected for ${e}${n}`)}(function Et(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Xe(e)}(s[n]));const h=gu(c.canSeeViewProviders);c.resolving=!0;const D=c.injectImpl?ye(c.injectImpl):null;xt(e,r,Z.Default);try{o=e[n]=c.factory(void 0,s,e,r),t.firstCreatePass&&n>=r.directiveStart&&function hy(e,t,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:s}=t.type.prototype;if(r){const c=$o(t);(n.preOrderHooks??=[]).push(e,c),(n.preOrderCheckHooks??=[]).push(e,c)}o&&(n.preOrderHooks??=[]).push(0-e,o),s&&((n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s))}(n,s[n],t)}finally{null!==D&&ye(D),gu(h),c.resolving=!1,Ys()}}return o}function dh(e,t,n){return!!(n[t+(e>>sh)]&1<<e)}function hh(e,t){return!(e&Z.Self||e&Z.Host&&t)}class po{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return lh(this._tNode,this._lView,t,Je(r),n)}}function Ey(){return new po(Ut(),ue())}function fh(e){return hn(()=>{const t=e.prototype.constructor,n=t[cn]||Fl(t),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const s=o[cn]||Fl(o);if(s&&s!==n)return s;o=Object.getPrototypeOf(o)}return s=>new s})}function Fl(e){return $e(e)?()=>{const t=Fl(be(e));return t&&t()}:Kr(e)}function ph(e){const t=e[Qe],n=t.type;return 2===n?t.declTNode:1===n?e[Pn]:null}function Ll(e){return function by(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let o=0;for(;o<r;){const s=n[o];if(Rr(s))break;if(0===s)o+=2;else if("number"==typeof s)for(o++;o<r&&"string"==typeof n[o];)o++;else{if(s===t)return n[o+1];o+=2}}}return null}(Ut(),e)}const Ni="__parameters__";function Fi(e,t,n){return hn(()=>{const r=function jl(e){return function(...n){if(e){const r=e(...n);for(const o in r)this[o]=r[o]}}}(t);function o(...s){if(this instanceof o)return r.apply(this,s),this;const c=new o(...s);return h.annotation=c,h;function h(m,D,P){const j=m.hasOwnProperty(Ni)?m[Ni]:Object.defineProperty(m,Ni,{value:[]})[Ni];for(;j.length<=P;)j.push(null);return(j[P]=j[P]||[]).push(c),m}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}function ji(e,t){e.forEach(n=>Array.isArray(n)?ji(n,t):t(n))}function mh(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function _u(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Ho(e,t,n){let r=Ui(e,t);return r>=0?e[1|r]=n:(r=~r,function xy(e,t,n,r){let o=e.length;if(o==t)e.push(n,r);else if(1===o)e.push(r,e[0]),e[0]=n;else{for(o--,e.push(e[o-1],e[o]);o>t;)e[o]=e[o-2],o--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Ul(e,t){const n=Ui(e,t);if(n>=0)return e[1|n]}function Ui(e,t){return function vh(e,t,n){let r=0,o=e.length>>n;for(;o!==r;){const s=r+(o-r>>1),c=e[s<<n];if(t===c)return s<<n;c>t?o=s:r=s+1}return~(o<<n)}(e,t,1)}const Cu=qt(Fi("Optional"),8),wu=qt(Fi("SkipSelf"),4),$i="ngSkipHydration";function Ih(e){const t=$i.toLowerCase(),n=e.mergedAttrs;if(null===n)return!1;for(let r=0;r<n.length;r+=2){const o=n[r];if("number"==typeof o)return!1;if("string"==typeof o&&o.toLowerCase()===t)return!0}return!1}function Ah(e){return e.hasAttribute($i)}function Iu(e){return 128==(128&e.flags)}var Tu=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Tu||{});const Zy=/^>|^->|<!--|-->|--!>|<!-$/g,e_=/(<|>)/g,t_="\u200b$1\u200b";const Gl=new Map;let n_=0;const Wl="__ngContext__";function Yr(e,t){Mn(t)?(e[Wl]=t[uo],function o_(e){Gl.set(e[uo],e)}(t)):e[Wl]=t}let Kl;function Xl(e,t){return Kl(e,t)}function xa(e){const t=e[Yt];return Jn(t)?t[Yt]:t}function Lh(e){return Uh(e[yr])}function jh(e){return Uh(e[qn])}function Uh(e){for(;null!==e&&!Jn(e);)e=e[qn];return e}function Bi(e,t,n,r,o){if(null!=r){let s,c=!1;Jn(r)?s=r:Mn(r)&&(c=!0,r=r[Bt]);const h=dn(r);0===e&&null!==n?null==o?Hh(t,n,h):bi(t,n,h,o||null,!0):1===e&&null!==n?bi(t,n,h,o||null,!0):2===e?ku(t,h,c):3===e&&t.destroyNode(h),null!=s&&function M_(e,t,n,r,o){const s=n[br];s!==dn(n)&&Bi(t,e,r,s,o);for(let h=Sn;h<n.length;h++){const m=n[h];Na(m[Qe],m,e,t,r,s)}}(t,e,s,n,o)}}function Ou(e,t){return e.createText(t)}function ql(e,t){return e.createComment(function Th(e){return e.replace(Zy,t=>t.replace(e_,t_))}(t))}function Ru(e,t,n){return e.createElement(t,n)}function $h(e,t){const n=e[Uo],r=n.indexOf(t);u(t),n.splice(r,1)}function xu(e,t){if(e.length<=Sn)return;const n=Sn+t,r=e[n];if(r){const o=r[io];null!==o&&o!==e&&$h(o,r),t>0&&(e[n-1][qn]=r[qn]);const s=_u(e,Sn+t);!function g_(e,t){Na(e,t,t[It],2,null,null),t[Bt]=null,t[Pn]=null}(r[Qe],r);const c=s[_r];null!==c&&c.detachView(s[Qe]),r[Yt]=null,r[qn]=null,r[Dt]&=-129}return r}function Jl(e,t){if(!(256&t[Dt])){const n=t[It];t[bo]&&li(t[bo]),t[Nr]&&li(t[Nr]),n.destroyNode&&Na(e,t,n,3,null,null),function y_(e){let t=e[yr];if(!t)return Ql(e[Qe],e);for(;t;){let n=null;if(Mn(t))n=t[yr];else{const r=t[Sn];r&&(n=r)}if(!n){for(;t&&!t[qn]&&t!==e;)Mn(t)&&Ql(t[Qe],t),t=t[Yt];null===t&&(t=e),Mn(t)&&Ql(t[Qe],t),n=t&&t[qn]}t=n}}(t)}}function Ql(e,t){if(!(256&t[Dt])){t[Dt]&=-129,t[Dt]|=256,function w_(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const o=t[n[r]];if(!(o instanceof Ea)){const s=n[r+1];if(Array.isArray(s))for(let c=0;c<s.length;c+=2){const h=o[s[c]],m=s[c+1];Mo(4,h,m);try{m.call(h)}finally{Mo(5,h,m)}}else{Mo(4,o,s);try{s.call(o)}finally{Mo(5,o,s)}}}}}(e,t),function C_(e,t){const n=e.cleanup,r=t[zr];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const c=n[s+3];c>=0?r[c]():r[-c].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(t[zr]=null);const o=t[lo];if(null!==o){t[lo]=null;for(let s=0;s<o.length;s++)(0,o[s])()}}(e,t),1===t[Qe].type&&t[It].destroy();const n=t[io];if(null!==n&&Jn(t[Yt])){n!==t[Yt]&&$h(n,t);const r=t[_r];null!==r&&r.detachView(e)}!function s_(e){Gl.delete(e[uo])}(t)}}function Yl(e,t,n){return function Bh(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[Bt];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:s}=e.data[r.directiveStart+o];if(s===hr.None||s===hr.Emulated)return null}return Ar(r,n)}}(e,t.parent,n)}function bi(e,t,n,r,o){e.insertBefore(t,n,r,o)}function Hh(e,t,n){e.appendChild(t,n)}function Gh(e,t,n,r,o){null!==r?bi(e,t,n,r,o):Hh(e,t,n)}function Pu(e,t){return e.parentNode(t)}let Zl,rc,Lu,Kh=function Wh(e,t,n){return 40&e.type?Ar(e,n):null};function Nu(e,t,n,r){const o=Yl(e,r,t),s=t[It],h=function zh(e,t,n){return Kh(e,t,n)}(r.parent||t[Pn],r,t);if(null!=o)if(Array.isArray(n))for(let m=0;m<n.length;m++)Gh(s,o,n[m],h,!1);else Gh(s,o,n,h,!1);void 0!==Zl&&Zl(s,r,t,n,o)}function Pa(e,t){if(null!==t){const n=t.type;if(3&n)return Ar(t,e);if(4&n)return ec(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Pa(e,r);{const o=e[t.index];return Jn(o)?ec(-1,o):dn(o)}}if(32&n)return Xl(t,e)()||dn(e[t.index]);{const r=qh(e,t);return null!==r?Array.isArray(r)?r[0]:Pa(xa(e[gn]),r):Pa(e,t.next)}}return null}function qh(e,t){return null!==t?e[gn][Pn].projection[t.projection]:null}function ec(e,t){const n=Sn+e+1;if(n<t.length){const r=t[n],o=r[Qe].firstChild;if(null!==o)return Pa(r,o)}return t[br]}function ku(e,t,n){const r=Pu(e,t);r&&function D_(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}function Jh(e){e.textContent=""}function tc(e,t,n,r,o,s,c){for(;null!=n;){const h=r[n.index],m=n.type;if(c&&0===t&&(h&&Yr(dn(h),r),n.flags|=2),32!=(32&n.flags))if(8&m)tc(e,t,n.child,r,o,s,!1),Bi(t,e,o,h,s);else if(32&m){const D=Xl(n,r);let P;for(;P=D();)Bi(t,e,o,P,s);Bi(t,e,o,h,s)}else 16&m?Qh(e,t,r,n,o,s):Bi(t,e,o,h,s);n=c?n.projectionNext:n.next}}function Na(e,t,n,r,o,s){tc(n,r,e.firstChild,t,o,s,!1)}function Qh(e,t,n,r,o,s){const c=n[gn],m=c[Pn].projection[r.projection];if(Array.isArray(m))for(let D=0;D<m.length;D++)Bi(t,e,o,m[D],s);else{let D=m;const P=c[Yt];Iu(r)&&(D.flags|=128),tc(e,t,D,P,o,s,!0)}}function Yh(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Zh(e,t,n){const{mergedAttrs:r,classes:o,styles:s}=n;null!==r&&mo(e,t,r),null!==o&&Yh(e,t,o),null!==s&&function A_(e,t,n){e.setAttribute(t,"style",n)}(e,t,s)}function x_(e){rc=e}function Gi(){if(void 0!==rc)return rc;if(typeof document<"u")return document;throw new Be(210,!1)}function nf(e){return function oc(){if(void 0===Lu&&(Lu=null,wt.trustedTypes))try{Lu=wt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Lu}()?.createScriptURL(e)||e}class rf{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${tn})`}}function ti(e){return e instanceof rf?e.changingThisBreaksApplicationSecurity:e}function ka(e,t){const n=function j_(e){return e instanceof rf&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${tn})`)}return n===t}const B_=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var zi=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(zi||{});function lc(e){const t=La();return t?t.sanitize(zi.URL,e)||"":ka(e,"URL")?ti(e):function sc(e){return(e=String(e)).match(B_)?e:"unsafe:"+e}(Xe(e))}function hf(e){const t=La();if(t)return nf(t.sanitize(zi.RESOURCE_URL,e)||"");if(ka(e,"ResourceURL"))return nf(ti(e));throw new Be(904,!1)}function ff(e,t,n){return function e0(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?hf:lc}(t,n)(e)}function La(){const e=ue();return e&&e[_o].sanitizer}const ja=new _t("ENVIRONMENT_INITIALIZER"),pf=new _t("INJECTOR",-1),gf=new _t("INJECTOR_DEF_TYPES");class cc{get(t,n=_e){if(n===_e){const r=new Error(`NullInjectorError: No provider for ${Ne(t)}!`);throw r.name="NullInjectorError",r}return n}}function dc(e){return{\u0275providers:e}}function t0(...e){return{\u0275providers:mf(0,e),\u0275fromNgModule:!0}}function mf(e,...t){const n=[],r=new Set;let o;const s=c=>{n.push(c)};return ji(t,c=>{const h=c;Uu(h,s,[],r)&&(o||=[],o.push(h))}),void 0!==o&&vf(o,s),n}function vf(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:o}=e[n];hc(o,s=>{t(s,r)})}}function Uu(e,t,n,r){if(!(e=be(e)))return!1;let o=null,s=Ft(e);const c=!s&&At(e);if(s||c){if(c&&!c.standalone)return!1;o=e}else{const m=e.ngModule;if(s=Ft(m),!s)return!1;o=m}const h=r.has(o);if(c){if(h)return!1;if(r.add(o),c.dependencies){const m="function"==typeof c.dependencies?c.dependencies():c.dependencies;for(const D of m)Uu(D,t,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!h){let D;r.add(o);try{ji(s.imports,P=>{Uu(P,t,n,r)&&(D||=[],D.push(P))})}finally{}void 0!==D&&vf(D,t)}if(!h){const D=Kr(o)||(()=>new o);t({provide:o,useFactory:D,deps:ft},o),t({provide:gf,useValue:o,multi:!0},o),t({provide:ja,useValue:()=>X(o),multi:!0},o)}const m=s.providers;if(null!=m&&!h){const D=e;hc(m,P=>{t(P,D)})}}}return o!==e&&void 0!==e.providers}function hc(e,t){for(let n of e)bt(n)&&(n=n.\u0275providers),Array.isArray(n)?hc(n,t):t(n)}const n0=et({provide:String,useValue:et});function fc(e){return null!==e&&"object"==typeof e&&n0 in e}function Ci(e){return"function"==typeof e}const pc=new _t("Set Injector scope."),Vu={},o0={};let gc;function $u(){return void 0===gc&&(gc=new cc),gc}class Ms{}class Wi extends Ms{get destroyed(){return this._destroyed}constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,vc(t,c=>this.processProvider(c)),this.records.set(pf,Ki(void 0,this)),o.has("environment")&&this.records.set(Ms,Ki(void 0,this));const s=this.records.get(pc);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(gf.multi,ft,Z.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=ne(this),r=ye(void 0);try{return t()}finally{ne(n),ye(r)}}get(t,n=_e,r=Z.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(xo))return t[xo](this);r=Je(r);const s=ne(this),c=ye(void 0);try{if(!(r&Z.SkipSelf)){let m=this.records.get(t);if(void 0===m){const D=function c0(e){return"function"==typeof e||"object"==typeof e&&e instanceof _t}(t)&&Xt(t);m=D&&this.injectableDefInScope(D)?Ki(mc(t),Vu):null,this.records.set(t,m)}if(null!=m)return this.hydrate(t,m)}return(r&Z.Self?$u():this.parent).get(t,n=r&Z.Optional&&n===_e?null:n)}catch(h){if("NullInjectorError"===h.name){if((h[vt]=h[vt]||[]).unshift(Ne(t)),s)throw h;return function Kn(e,t,n,r){const o=e[vt];throw t[rr]&&o.unshift(t[rr]),e.message=function dr(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=Ne(t);if(Array.isArray(t))o=t.map(Ne).join(" -> ");else if("object"==typeof t){let s=[];for(let c in t)if(t.hasOwnProperty(c)){let h=t[c];s.push(c+":"+("string"==typeof h?JSON.stringify(h):Ne(h)))}o=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace($t,"\n  ")}`}("\n"+e.message,o,n,r),e.ngTokenPath=o,e[vt]=null,e}(h,t,"R3InjectorError",this.source)}throw h}finally{ye(c),ne(s)}}resolveInjectorInitializers(){const t=ne(this),n=ye(void 0);try{const o=this.get(ja.multi,ft,Z.Self);for(const s of o)s()}finally{ne(t),ye(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(Ne(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Be(205,!1)}processProvider(t){let n=Ci(t=be(t))?t:be(t&&t.provide);const r=function a0(e){return fc(e)?Ki(void 0,e.useValue):Ki(bf(e),Vu)}(t);if(Ci(t)||!0!==t.multi)this.records.get(n);else{let o=this.records.get(n);o||(o=Ki(void 0,Vu,!0),o.factory=()=>ke(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===Vu&&(n.value=o0,n.value=n.factory()),"object"==typeof n.value&&n.value&&function l0(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=be(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function mc(e){const t=Xt(e),n=null!==t?t.factory:Kr(e);if(null!==n)return n;if(e instanceof _t)throw new Be(204,!1);if(e instanceof Function)return function s0(e){const t=e.length;if(t>0)throw function Ta(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new Be(204,!1);const n=function wn(e){return e&&(e[zn]||e[Ln])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Be(204,!1)}function bf(e,t,n){let r;if(Ci(e)){const o=be(e);return Kr(o)||mc(o)}if(fc(e))r=()=>be(e.useValue);else if(function _f(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...ke(e.deps||[]));else if(function yf(e){return!(!e||!e.useExisting)}(e))r=()=>X(be(e.useExisting));else{const o=be(e&&(e.useClass||e.provide));if(!function u0(e){return!!e.deps}(e))return Kr(o)||mc(o);r=()=>new o(...ke(e.deps))}return r}function Ki(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function vc(e,t){for(const n of e)Array.isArray(n)?vc(n,t):n&&bt(n)?vc(n.\u0275providers,t):t(n)}const Cf=new _t("AppId",{providedIn:"root",factory:()=>d0}),d0="ng",wf=new _t("Platform Initializer"),yc=new _t("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),h0=new _t("CSP nonce",{providedIn:"root",factory:()=>Gi().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),Df=new _t("",{providedIn:"root",factory:()=>new Set});function f0(e){return e}function p0(){const e=new Ua;return"browser"===Ae(yc)&&(e.store=function g0(e,t){const n=e.getElementById(t+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+t,r)}return{}}(Gi(),Ae(Cf))),e}let Ua=(()=>{class e{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=Nt({token:e,providedIn:"root",factory:p0})}get(n,r){return void 0!==this.store[n]?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(const n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return e})();const _c="h",bc="b";var Xi=function(e){return e.FirstChild="f",e.NextSibling="n",e}(Xi||{});const Cc="e",wc="t",Va="c",Bu="x",qi="r",Dc="i",Ec="n",Hu="d",Sc="__\u0275nghData__",$a="ngh",m0="nghm";let Ef=(e,t,n)=>null;function v0(e,t,n=!1){let r=e.getAttribute($a);if(null==r)return null;const[o,s]=r.split("|");if(r=n?s:o,!r)return null;const c=n?o:s?`|${s}`:"";let h={};if(""!==r){const D=t.get(Ua,null,{optional:!0});null!==D&&(h=D.get(Sc,[])[Number(r)])}const m={data:h,firstChild:e.firstChild??null};return n&&(m.firstChild=e,Gu(m,0,e.nextSibling)),c?e.setAttribute($a,c):e.removeAttribute($a),m}function Mc(e,t,n=!1){return Ef(e,t,n)}function Sf(e){let t=e._lView;return 2===t[Qe].type?null:(Cn(t)&&(t=t[Vt]),t)}function Gu(e,t,n){e.segmentHeads??={},e.segmentHeads[t]=n}function Ic(e,t){return e.segmentHeads?.[t]??null}function Mf(e,t){return e.data[Va]?.[t]??null}function Ac(e,t){const n=Mf(e,t)??[];let r=0;for(let o of n)r+=o[qi]*(o[Bu]??1);return r}function zu(e,t){if(typeof e.disconnectedNodes>"u"){const n=e.data[Hu];e.disconnectedNodes=n?new Set(n):null}return!!e.disconnectedNodes?.has(t)}class D0{}class If{}class S0{resolveComponentFactory(t){throw function E0(e){const t=Error(`No component factory found for ${Ne(e)}.`);return t.ngComponent=e,t}(t)}}let Wu=(()=>{class e{static{this.NULL=new S0}}return e})();function M0(){return Ji(Ut(),ue())}function Ji(e,t){return new Ba(Ar(e,t))}let Ba=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=M0}}return e})();function I0(e){return e instanceof Ba?e.nativeElement:e}class Tf{}let A0=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function T0(){const e=ue(),n=qr(Ut().index,e);return(Mn(n)?n:e)[It]}()}}return e})(),O0=(()=>{class e{static{this.\u0275prov=Nt({token:e,providedIn:"root",factory:()=>null})}}return e})();class Of{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const R0=new Of("16.2.12"),Tc={};function Nf(e,t=null,n=null,r){const o=kf(e,t,n,r);return o.resolveInjectorInitializers(),o}function kf(e,t=null,n=null,r,o=new Set){const s=[n||ft,t0(e)];return r=r||("object"==typeof e?void 0:Ne(e)),new Wi(s,t||$u(),r||null,o)}let hs=(()=>{class e{static{this.THROW_IF_NOT_FOUND=_e}static{this.NULL=new cc}static create(n,r){if(Array.isArray(n))return Nf({name:""},r,n,"");{const o=n.name??"";return Nf({name:o},n.parent,n.providers,o)}}static{this.\u0275prov=Nt({token:e,providedIn:"any",factory:()=>X(pf)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();function Rc(e){return e.ngOriginalError}class ni{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Rc(t);for(;n&&Rc(n);)n=Rc(n);return n||null}}function xc(e){return t=>{setTimeout(e,void 0,t)}}const Is=class U0 extends l.B{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let o=t,s=n||(()=>null),c=r;if(t&&"object"==typeof t){const m=t;o=m.next?.bind(m),s=m.error?.bind(m),c=m.complete?.bind(m)}this.__isAsync&&(s=xc(s),o&&(o=xc(o)),c&&(c=xc(c)));const h=super.subscribe({next:o,error:s,complete:c});return t instanceof U.yU&&t.add(h),h}};function Lf(...e){}class Tr{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Is(!1),this.onMicrotaskEmpty=new Is(!1),this.onStable=new Is(!1),this.onError=new Is(!1),typeof Zone>"u")throw new Be(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function V0(){const e="function"==typeof wt.requestAnimationFrame;let t=wt[e?"requestAnimationFrame":"setTimeout"],n=wt[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function H0(e){const t=()=>{!function B0(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(wt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Nc(e),e.isCheckStableRunning=!0,Pc(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Nc(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,s,c,h)=>{if(function z0(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(h))return n.invokeTask(o,s,c,h);try{return jf(e),n.invokeTask(o,s,c,h)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&t(),Uf(e)}},onInvoke:(n,r,o,s,c,h,m)=>{try{return jf(e),n.invoke(o,s,c,h,m)}finally{e.shouldCoalesceRunChangeDetection&&t(),Uf(e)}},onHasTask:(n,r,o,s)=>{n.hasTask(o,s),r===o&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,Nc(e),Pc(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,o,s)=>(n.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Tr.isInAngularZone())throw new Be(909,!1)}static assertNotInAngularZone(){if(Tr.isInAngularZone())throw new Be(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){const s=this._inner,c=s.scheduleEventTask("NgZoneEvent: "+o,t,$0,Lf,Lf);try{return s.runTask(c,n,r)}finally{s.cancelTask(c)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const $0={};function Pc(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Nc(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function jf(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Uf(e){e._nesting--,Pc(e)}const Vf=new _t("",{providedIn:"root",factory:$f});function $f(){const e=Ae(Tr);let t=!0;return function ae(...e){const t=(0,H.lI)(e),n=(0,H.R0)(e,1/0),r=e;return r.length?1===r.length?(0,J.Tg)(r[0]):(0,ie.U)(n)((0,oe.H)(r,t)):L.w}(new C.c(o=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{o.next(t),o.complete()})}),new C.c(o=>{let s;e.runOutsideAngular(()=>{s=e.onStable.subscribe(()=>{Tr.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,o.next(!0))})})});const c=e.onUnstable.subscribe(()=>{Tr.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{o.next(!1)}))});return()=>{s.unsubscribe(),c.unsubscribe()}}).pipe(xe()))}function Bf(e){return e.ownerDocument}function Hs(e){return e instanceof Function?e():e}function Yi(e){return"browser"===(e??Ae(hs)).get(yc)}let kc=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=Nt({token:e,providedIn:"root",factory:()=>new e})}}return e})();function Ha(e){for(;e;){e[Dt]|=64;const t=xa(e);if(Cn(e)&&!t)return e;e=t}return null}const Xu=new _t(""),Kf=new _t("",{providedIn:"root",factory:()=>!1});let qu=null;function Qf(e,t){return e[t]??ep()}function Yf(e,t){const n=ep();n.producerNode?.length&&(e[t]=qu,n.lView=e,qu=Zf())}const eb={...ii,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Ha(e.lView)},lView:null};function Zf(){return Object.create(eb)}function ep(){return qu??=Zf(),qu}const Ht={};function tp(e){np(He(),ue(),fo()+e,!1)}function np(e,t,n,r){if(!r)if(3==(3&t[Dt])){const s=e.preOrderCheckHooks;null!==s&&fu(t,s,n)}else{const s=e.preOrderHooks;null!==s&&pu(t,s,0,n)}yi(n)}function Zi(e,t=Z.Default){const n=ue();return null===n?X(e,t):lh(Ut(),n,be(e),t)}function rp(){throw new Error("invalid")}function Ju(e,t,n,r,o,s,c,h,m,D,P){const j=t.blueprint.slice();return j[Bt]=o,j[Dt]=140|r,(null!==D||e&&2048&e[Dt])&&(j[Dt]|=2048),a(j),j[Yt]=j[Pr]=e,j[En]=n,j[_o]=c||e&&e[_o],j[It]=h||e&&e[It],j[tr]=m||e&&e[tr]||null,j[Pn]=s,j[uo]=function r_(){return n_++}(),j[ur]=P,j[jo]=D,j[gn]=2==t.type?e[gn]:j,j}function ea(e,t,n,r,o){let s=e.data[t];if(null===s)s=function Fc(e,t,n,r,o){const s=Zn(),c=Da(),m=e.data[t]=function ub(e,t,n,r,o,s){let c=t?t.injectorIndex:-1,h=0;return Me()&&(h|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:c,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:h,providerIndexes:0,value:o,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,c?s:s&&s.parent,n,t,r,o);return null===e.firstChild&&(e.firstChild=m),null!==s&&(c?null==s.child&&null!==m.parent&&(s.child=m):null===s.next&&(s.next=m,m.prev=s)),m}(e,t,n,r,o),function y(){return I.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=o;const c=function Jr(){const e=I.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();s.injectorIndex=null===c?-1:c.injectorIndex}return sr(s,!0),s}function Ga(e,t,n,r){if(0===n)return-1;const o=t.length;for(let s=0;s<n;s++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function op(e,t,n,r,o){const s=Qf(t,bo),c=fo(),h=2&r;try{yi(-1),h&&t.length>Vt&&np(e,t,Vt,!1),Mo(h?2:0,o);const D=h?s:null,P=Js(D);try{null!==D&&(D.dirty=!1),n(r,o)}finally{ui(D,P)}}finally{h&&null===t[bo]&&Yf(t,bo),yi(c),Mo(h?3:1,o)}}function Lc(e,t,n){if(Jo(t)){const r=jr(null);try{const s=t.directiveEnd;for(let c=t.directiveStart;c<s;c++){const h=e.data[c];h.contentQueries&&h.contentQueries(1,n[c],c)}}finally{jr(r)}}}function jc(e,t,n){Ve()&&(function gb(e,t,n,r){const o=n.directiveStart,s=n.directiveEnd;Cr(n)&&function wb(e,t,n){const r=Ar(t,e),o=sp(n);let c=16;n.signals?c=4096:n.onPush&&(c=64);const h=Qu(e,Ju(e,o,null,c,r,t,null,e[_o].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=h}(t,n,e.data[o+n.componentOffset]),e.firstCreatePass||mu(n,t),Yr(r,t);const c=n.initialInputs;for(let h=o;h<s;h++){const m=e.data[h],D=_i(t,e,h,n);Yr(D,t),null!==c&&Db(0,h-o,D,m,0,c),kr(m)&&(qr(n.index,t)[En]=_i(t,e,h,n))}}(e,t,n,Ar(n,t)),64==(64&n.flags)&&cp(e,t,n))}function Uc(e,t,n=Ar){const r=t.localNames;if(null!==r){let o=t.index+1;for(let s=0;s<r.length;s+=2){const c=r[s+1],h=-1===c?n(t,e):e[c];e[o++]=h}}}function sp(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Vc(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Vc(e,t,n,r,o,s,c,h,m,D,P){const j=Vt+r,Q=j+o,re=function nb(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:Ht);return n}(j,Q),De="function"==typeof D?D():D;return re[Qe]={type:e,blueprint:re,template:n,queries:null,viewQuery:h,declTNode:t,data:re.slice().fill(null,j),bindingStartIndex:j,expandoStartIndex:Q,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof c?c():c,firstChild:null,schemas:m,consts:De,incompleteFirstPass:!1,ssrId:P}}let ip=e=>null;function sb(e){Ah(e)?Jh(e):function b0(e){const t=Gi(),n=t.createNodeIterator(e,NodeFilter.SHOW_COMMENT,{acceptNode(s){const c=function _0(e){return e.textContent?.replace(/\s/gm,"")}(s);return"ngetn"===c||"ngtns"===c?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}});let r;const o=[];for(;r=n.nextNode();)o.push(r);for(const s of o)"ngetn"===s.textContent?s.replaceWith(t.createTextNode("")):s.remove()}(e)}function ap(e,t,n,r){for(let o in e)if(e.hasOwnProperty(o)){n=null===n?{}:n;const s=e[o];null===r?up(n,t,o,s):r.hasOwnProperty(o)&&up(n,t,r[o],s)}return n}function up(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function Go(e,t,n,r,o,s,c,h){const m=Ar(t,n);let P,D=t.inputs;!h&&null!=D&&(P=D[r])?(zc(e,n,P,r,o),Cr(t)&&function db(e,t){const n=qr(t,e);16&n[Dt]||(n[Dt]|=64)}(n,t.index)):3&t.type&&(r=function cb(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),o=null!=c?c(o,t.value||"",r):o,s.setProperty(m,r,o))}function $c(e,t,n,r){if(Ve()){const o=null===r?null:{"":-1},s=function vb(e,t){const n=e.directiveRegistry;let r=null,o=null;if(n)for(let s=0;s<n.length;s++){const c=n[s];if(xs(t,c.selectors,!1))if(r||(r=[]),kr(c))if(null!==c.findHostDirectiveDefs){const h=[];o=o||new Map,c.findHostDirectiveDefs(c,h,o),r.unshift(...h,c),Bc(e,t,h.length)}else r.unshift(c),Bc(e,t,0);else o=o||new Map,c.findHostDirectiveDefs?.(c,r,o),r.push(c)}return null===r?null:[r,o]}(e,n);let c,h;null===s?c=h=null:[c,h]=s,null!==c&&lp(e,t,n,c,o,h),o&&function yb(e,t,n){if(t){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const s=n[t[o+1]];if(null==s)throw new Be(-301,!1);r.push(t[o],s)}}}(n,r,o)}n.mergedAttrs=Mr(n.mergedAttrs,n.attrs)}function lp(e,t,n,r,o,s){for(let D=0;D<r.length;D++)kl(mu(n,t),e,r[D].type);!function bb(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let D=0;D<r.length;D++){const P=r[D];P.providersResolver&&P.providersResolver(P)}let c=!1,h=!1,m=Ga(e,t,r.length,null);for(let D=0;D<r.length;D++){const P=r[D];n.mergedAttrs=Mr(n.mergedAttrs,P.hostAttrs),Cb(e,n,t,m,P),_b(m,P,o),null!==P.contentQueries&&(n.flags|=4),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(n.flags|=64);const j=P.type.prototype;!c&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),c=!0),!h&&(j.ngOnChanges||j.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),h=!0),m++}!function lb(e,t,n){const o=t.directiveEnd,s=e.data,c=t.attrs,h=[];let m=null,D=null;for(let P=t.directiveStart;P<o;P++){const j=s[P],Q=n?n.get(j):null,De=Q?Q.outputs:null;m=ap(j.inputs,P,m,Q?Q.inputs:null),D=ap(j.outputs,P,D,De);const Ue=null===m||null===c||mr(t)?null:Eb(m,P,c);h.push(Ue)}null!==m&&(m.hasOwnProperty("class")&&(t.flags|=8),m.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=h,t.inputs=m,t.outputs=D}(e,n,s)}function cp(e,t,n){const r=n.directiveStart,o=n.directiveEnd,s=n.index,c=function S(){return I.lFrame.currentDirectiveIndex}();try{yi(s);for(let h=r;h<o;h++){const m=e.data[h],D=t[h];N(h),(null!==m.hostBindings||0!==m.hostVars||null!==m.hostAttrs)&&mb(m,D)}}finally{yi(-1),N(c)}}function mb(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Bc(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function _b(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;kr(t)&&(n[""]=e)}}function Cb(e,t,n,r,o){e.data[r]=o;const s=o.factory||(o.factory=Kr(o.type)),c=new Ea(s,kr(o),Zi);e.blueprint[r]=c,n[r]=c,function fb(e,t,n,r,o){const s=o.hostBindings;if(s){let c=e.hostBindingOpCodes;null===c&&(c=e.hostBindingOpCodes=[]);const h=~t.index;(function pb(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(c)!=h&&c.push(h),c.push(n,r,s)}}(e,t,r,Ga(e,n,o.hostVars,Ht),o)}function As(e,t,n,r,o,s){const c=Ar(e,t);!function Hc(e,t,n,r,o,s,c){if(null==s)e.removeAttribute(t,o,n);else{const h=null==c?Xe(s):c(s,r||"",o);e.setAttribute(t,o,h,n)}}(t[It],c,s,e.value,n,r,o)}function Db(e,t,n,r,o,s){const c=s[t];if(null!==c)for(let h=0;h<c.length;)dp(r,n,c[h++],c[h++],c[h++])}function dp(e,t,n,r,o){const s=jr(null);try{const c=e.inputTransforms;null!==c&&c.hasOwnProperty(r)&&(o=c[r].call(t,o)),null!==e.setInput?e.setInput(t,o,n,r):t[r]=o}finally{jr(s)}}function Eb(e,t,n){let r=null,o=0;for(;o<n.length;){const s=n[o];if(0!==s)if(5!==s){if("number"==typeof s)break;if(e.hasOwnProperty(s)){null===r&&(r=[]);const c=e[s];for(let h=0;h<c.length;h+=2)if(c[h]===t){r.push(s,c[h+1],n[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function hp(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}function fp(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const c=e.data[s];de(n[r]),c.contentQueries(2,t[s],s)}}}function Qu(e,t){return e[yr]?e[xr][qn]=t:e[yr]=t,e[xr]=t,t}function Gc(e,t,n){de(0);const r=jr(null);try{t(e,n)}finally{jr(r)}}function pp(e){return e[zr]||(e[zr]=[])}function gp(e){return e.cleanup||(e.cleanup=[])}function vp(e,t){const n=e[tr],r=n?n.get(ni,null):null;r&&r.handleError(t)}function zc(e,t,n,r,o){for(let s=0;s<n.length;){const c=n[s++],h=n[s++];dp(e.data[c],t[c],r,h,o)}}function Gs(e,t,n){const r=ds(t,e);!function Vh(e,t,n){e.setValue(t,n)}(e[It],r,n)}function Sb(e,t){const n=qr(t,e),r=n[Qe];!function Mb(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const o=n[Bt];null!==o&&null===n[ur]&&(n[ur]=Mc(o,n[tr])),Wc(r,n,n[En])}function Wc(e,t,n){vn(t);try{const r=e.viewQuery;null!==r&&Gc(1,r,n);const o=e.template;null!==o&&op(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&fp(e,t),e.staticViewQueries&&Gc(2,e.viewQuery,n);const s=e.components;null!==s&&function Ib(e,t){for(let n=0;n<t.length;n++)Sb(e,t[n])}(t,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[Dt]&=-5,vi()}}let yp=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,r,o){const s=typeof Zone>"u"?null:Zone.current,c=function Ur(e,t,n){const r=Object.create(So);n&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=t;const o=c=>{r.cleanupFn=c};return r.ref={notify:()=>qs(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Vs(r))return;r.hasRun=!0;const c=Js(r);try{r.cleanupFn(),r.cleanupFn=Vr,r.fn(o)}finally{ui(r,c)}},cleanup:()=>r.cleanupFn()},r.ref}(n,D=>{this.all.has(D)&&this.queue.set(D,s)},o);let h;this.all.add(c),c.notify();const m=()=>{c.cleanup(),h?.(),this.all.delete(c),this.queue.delete(c)};return h=r?.onDestroy(m),{destroy:m}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=Nt({token:e,providedIn:"root",factory:()=>new e})}}return e})();function Yu(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,s=0;if(null!==t)for(let c=0;c<t.length;c++){const h=t[c];"number"==typeof h?s=h:1==s?o=je(o,h):2==s&&(r=je(r,h+": "+t[++c]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function za(e,t,n,r,o=!1){for(;null!==n;){const s=t[n.index];null!==s&&r.push(dn(s)),Jn(s)&&_p(s,r);const c=n.type;if(8&c)za(e,t,n.child,r);else if(32&c){const h=Xl(n,t);let m;for(;m=h();)r.push(m)}else if(16&c){const h=qh(t,n);if(Array.isArray(h))r.push(...h);else{const m=xa(t[gn]);za(m[Qe],m,h,r,!0)}}n=o?n.projectionNext:n.next}return r}function _p(e,t){for(let n=Sn;n<e.length;n++){const r=e[n],o=r[Qe].firstChild;null!==o&&za(r[Qe],r,o,t)}e[br]!==e[Bt]&&t.push(e[br])}function Zu(e,t,n,r=!0){const o=t[_o],s=o.rendererFactory,c=o.afterRenderEventManager;s.begin?.(),c?.begin();try{bp(e,t,e.template,n)}catch(m){throw r&&vp(t,m),m}finally{s.end?.(),o.effectManager?.flush(),c?.end()}}function bp(e,t,n,r){const o=t[Dt];if(256!=(256&o)){t[_o].effectManager?.flush(),vn(t);try{a(t),function Al(e){return I.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&op(e,t,n,2,r);const c=3==(3&o);if(c){const D=e.preOrderCheckHooks;null!==D&&fu(t,D,null)}else{const D=e.preOrderHooks;null!==D&&pu(t,D,0,null),Ol(t,0)}if(function Ob(e){for(let t=Lh(e);null!==t;t=jh(t)){if(!t[Gn])continue;const n=t[Uo];for(let r=0;r<n.length;r++){i(n[r])}}}(t),Cp(t,2),null!==e.contentQueries&&fp(e,t),c){const D=e.contentCheckHooks;null!==D&&fu(t,D)}else{const D=e.contentHooks;null!==D&&pu(t,D,1),Ol(t,1)}!function tb(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=Qf(t,Nr);try{for(let o=0;o<n.length;o++){const s=n[o];if(s<0)yi(~s);else{const c=s,h=n[++o],m=n[++o];_(h,c),r.dirty=!1;const D=Js(r);try{m(2,t[c])}finally{ui(r,D)}}}}finally{null===t[Nr]&&Yf(t,Nr),yi(-1)}}(e,t);const h=e.components;null!==h&&Dp(t,h,0);const m=e.viewQuery;if(null!==m&&Gc(2,m,r),c){const D=e.viewCheckHooks;null!==D&&fu(t,D)}else{const D=e.viewHooks;null!==D&&pu(t,D,2),Ol(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Dt]&=-73,u(t)}finally{vi()}}}function Cp(e,t){for(let n=Lh(e);null!==n;n=jh(n))for(let r=Sn;r<n.length;r++)wp(n[r],t)}function Rb(e,t,n){wp(qr(t,e),n)}function wp(e,t){if(!function gi(e){return 128==(128&e[Dt])}(e))return;const n=e[Qe],r=e[Dt];if(80&r&&0===t||1024&r||2===t)bp(n,e,n.template,e[En]);else if(e[Xo]>0){Cp(e,1);const o=n.components;null!==o&&Dp(e,o,1)}}function Dp(e,t,n){for(let r=0;r<t.length;r++)Rb(e,t[r],n)}class Wa{get rootNodes(){const t=this._lView,n=t[Qe];return za(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[En]}set context(t){this._lView[En]=t}get destroyed(){return 256==(256&this._lView[Dt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Yt];if(Jn(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(xu(t,r),_u(n,r))}this._attachedToViewContainer=!1}Jl(this._lView[Qe],this._lView)}onDestroy(t){!function E(e,t){if(256==(256&e[Dt]))throw new Be(911,!1);null===e[lo]&&(e[lo]=[]),e[lo].push(t)}(this._lView,t)}markForCheck(){Ha(this._cdRefInjectingView||this._lView)}detach(){this._lView[Dt]&=-129}reattach(){this._lView[Dt]|=128}detectChanges(){Zu(this._lView[Qe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function v_(e,t){Na(e,t,t[It],2,null,null)}(this._lView[Qe],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Be(902,!1);this._appRef=t}}class xb extends Wa{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Zu(t[Qe],t,t[En],!1)}checkNoChanges(){}get context(){return null}}class Ep extends Wu{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=At(t);return new Ka(n,this.ngModule)}}function Sp(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class Nb{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Je(r);const o=this.injector.get(t,Tc,r);return o!==Tc||n===Tc?o:this.parentInjector.get(t,n,r)}}class Ka extends If{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=Sp(t.inputs);if(null!==n)for(const o of r)n.hasOwnProperty(o.propName)&&(o.transform=n[o.propName]);return r}get outputs(){return Sp(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function Fs(e){return e.map(ks).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,o){let s=(o=o||this.ngModule)instanceof Ms?o:o?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const c=s?new Nb(t,s):t,h=c.get(Tf,null);if(null===h)throw new Be(407,!1);const j={rendererFactory:h,sanitizer:c.get(O0,null),effectManager:c.get(yp,null),afterRenderEventManager:c.get(kc,null)},Q=h.createRenderer(null,this.componentDef),re=this.componentDef.selectors[0][0]||"div",De=r?function rb(e,t,n,r){const s=r.get(Kf,!1)||n===hr.ShadowDom,c=e.selectRootElement(t,s);return function ob(e){ip(e)}(c),c}(Q,r,this.componentDef.encapsulation,c):Ru(Q,re,function Pb(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(re)),yt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Re=null;null!==De&&(Re=Mc(De,c,!0));const Lt=Vc(0,null,null,1,0,null,null,null,null,null,null),Jt=Ju(null,Lt,null,yt,null,null,j,Q,c,null,Re);let On,Oo;vn(Jt);try{const zs=this.componentDef;let va,Zd=null;zs.findHostDirectiveDefs?(va=[],Zd=new Map,zs.findHostDirectiveDefs(zs,va,Zd),va.push(zs)):va=[zs];const $S=function Fb(e,t){const n=e[Qe],r=Vt;return e[r]=t,ea(n,r,2,"#host",null)}(Jt,De),BS=function Lb(e,t,n,r,o,s,c){const h=o[Qe];!function jb(e,t,n,r){for(const o of e)t.mergedAttrs=Mr(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(Yu(t,t.mergedAttrs,!0),null!==n&&Zh(r,n,t))}(r,e,t,c);let m=null;null!==t&&(m=Mc(t,o[tr]));const D=s.rendererFactory.createRenderer(t,n);let P=16;n.signals?P=4096:n.onPush&&(P=64);const j=Ju(o,sp(n),null,P,o[e.index],e,s,D,null,null,m);return h.firstCreatePass&&Bc(h,e,r.length-1),Qu(o,j),o[e.index]=j}($S,De,zs,va,Jt,j,Q);Oo=Ti(Lt,Vt),De&&function Vb(e,t,n,r){if(r)mo(e,n,["ng-version",R0.full]);else{const{attrs:o,classes:s}=function ys(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===o?""!==s&&t.push(s,e[++r]):8===o&&n.push(s);else{if(!An(o))break;o=s}r++}return{attrs:t,classes:n}}(t.selectors[0]);o&&mo(e,n,o),s&&s.length>0&&Yh(e,n,s.join(" "))}}(Q,zs,De,r),void 0!==n&&function $b(e,t,n){const r=e.projection=[];for(let o=0;o<t.length;o++){const s=n[o];r.push(null!=s?Array.from(s):null)}}(Oo,this.ngContentSelectors,n),On=function Ub(e,t,n,r,o,s){const c=Ut(),h=o[Qe],m=Ar(c,o);lp(h,o,c,n,null,r);for(let P=0;P<n.length;P++)Yr(_i(o,h,c.directiveStart+P,c),o);cp(h,o,c),m&&Yr(m,o);const D=_i(o,h,c.directiveStart+c.componentOffset,c);if(e[En]=o[En]=D,null!==s)for(const P of s)P(D,t);return Lc(h,c,e),D}(BS,zs,va,Zd,Jt,[Bb]),Wc(Lt,Jt,null)}finally{vi()}return new kb(this.componentType,On,Ji(Oo,Jt),Jt,Oo)}}class kb extends D0{constructor(t,n,r,o,s){super(),this.location=r,this._rootLView=o,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new xb(o),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const s=this._rootLView;zc(s[Qe],s,o,t,n),this.previousInputValues.set(t,n),Ha(qr(this._tNode.index,s))}}get injector(){return new po(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function Bb(){const e=Ut();hu(ue()[Qe],e)}function Kc(e){let t=function Mp(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let o;if(kr(e))o=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Be(903,!1);o=t.\u0275dir}if(o){if(n){r.push(o);const c=e;c.inputs=el(e.inputs),c.inputTransforms=el(e.inputTransforms),c.declaredInputs=el(e.declaredInputs),c.outputs=el(e.outputs);const h=o.hostBindings;h&&Wb(e,h);const m=o.viewQuery,D=o.contentQueries;if(m&&Gb(e,m),D&&zb(e,D),Gt(e.inputs,o.inputs),Gt(e.declaredInputs,o.declaredInputs),Gt(e.outputs,o.outputs),null!==o.inputTransforms&&(null===c.inputTransforms&&(c.inputTransforms={}),Gt(c.inputTransforms,o.inputTransforms)),kr(o)&&o.data.animation){const P=e.data;P.animation=(P.animation||[]).concat(o.data.animation)}}const s=o.features;if(s)for(let c=0;c<s.length;c++){const h=s[c];h&&h.ngInherit&&h(e),h===Kc&&(n=!1)}}t=Object.getPrototypeOf(t)}!function Hb(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const o=e[r];o.hostVars=t+=o.hostVars,o.hostAttrs=Mr(o.hostAttrs,n=Mr(n,o.hostAttrs))}}(r)}function el(e){return e===Xn?{}:e===ft?[]:e}function Gb(e,t){const n=e.viewQuery;e.viewQuery=n?(r,o)=>{t(r,o),n(r,o)}:t}function zb(e,t){const n=e.contentQueries;e.contentQueries=n?(r,o,s)=>{t(r,o,s),n(r,o,s)}:t}function Wb(e,t){const n=e.hostBindings;e.hostBindings=n?(r,o)=>{t(r,o),n(r,o)}:t}function Op(e){const t=e.inputConfig,n={};for(const r in t)if(t.hasOwnProperty(r)){const o=t[r];Array.isArray(o)&&o[2]&&(n[r]=o[2])}e.inputTransforms=n}function tl(e){return!!Xc(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Xc(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Ts(e,t,n){return e[t]=n}function Xa(e,t){return e[t]}function Zr(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function wi(e,t,n,r){const o=Zr(e,t,n);return Zr(e,t+1,r)||o}function qc(e,t,n,r){const o=ue();return Zr(o,mi(),t)&&(He(),As(nr(),o,e,t,n,r)),qc}function na(e,t,n,r){return Zr(e,mi(),n)?t+Xe(n)+r:Ht}function ra(e,t,n,r,o,s){const h=wi(e,function Es(){return I.lFrame.bindingIndex}(),n,o);return f(2),h?t+Xe(n)+r+Xe(o)+s:Ht}const lC=new RegExp(`^(\\d+)*(${bc}|${_c})*(.*)`);function Zc(e){return e.index-Vt}function ol(e,t,n,r){let o=null;const s=Zc(r),c=e.data[Ec];if(c?.[s])o=function pC(e,t){const[n,...r]=function dC(e){const t=e.match(lC),[n,r,o,s]=t,c=r?parseInt(r,10):o,h=[];for(const[m,D,P]of s.matchAll(/(f|n)(\d*)/g)){const j=parseInt(P,10)||1;h.push(D,j)}return[c,...h]}(e);let o;return o=n===_c?t[gn][Bt]:n===bc?function Hf(e){return e.ownerDocument.body}(t[gn][Bt]):dn(t[Number(n)+Vt]),function fC(e,t){let n=e;for(let r=0;r<t.length;r+=2){const o=t[r],s=t[r+1];for(let c=0;c<s;c++)switch(o){case Xi.FirstChild:n=n.firstChild;break;case Xi.NextSibling:n=n.nextSibling}}return n}(o,r)}(c[s],n);else if(t.firstChild===r)o=e.firstChild;else{const h=null===r.prev,m=r.prev??r.parent;if(function hC(e){return!e.prev&&8===e.parent?.type}(r))o=Ic(e,Zc(r.parent));else{let D=Ar(m,n);if(h)o=D.firstChild;else{const P=Zc(m),j=Ic(e,P);o=2===m.type&&j?sl(Ac(e,P)+1,j):D.nextSibling}}}return o}function sl(e,t){let n=t;for(let r=0;r<e;r++)n=n.nextSibling;return n}function Hp(e,t,n,r,o,s,c,h){const m=ue(),D=He(),P=e+Vt,j=D.firstCreatePass?function vC(e,t,n,r,o,s,c,h,m){const D=t.consts,P=ea(t,e,4,c||null,g(D,h));$c(t,n,P,g(D,m)),hu(t,P);const j=P.tView=Vc(2,P,r,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,D,null);return null!==t.queries&&(t.queries.template(t,P),j.queries=t.queries.embeddedTView(P)),P}(P,D,m,t,n,r,o,s,c):D.data[P];sr(j,!1);const Q=Gp(D,m,j,e);du()&&Nu(D,m,Q,j),Yr(Q,m),Qu(m,m[P]=hp(Q,m,Q,j)),Wr(j)&&jc(D,m,j),null!=c&&Uc(m,j,h)}let Gp=zp;function zp(e,t,n,r){return ei(!0),t[It].createComment("")}function yC(e,t,n,r){const o=t[ur],s=!o||Me()||zu(o,r);if(ei(s),s)return zp(0,t);const c=o.data[wc]?.[r]??null;null!==c&&null!==n.tView&&null===n.tView.ssrId&&(n.tView.ssrId=c);const h=ol(o,e,t,n);return Gu(o,r,h),sl(Ac(o,r),h)}function Wp(e){return $s(function Ml(){return I.lFrame.contextLView}(),Vt+e)}function td(e,t,n){const r=ue();return Zr(r,mi(),t)&&Go(He(),nr(),r,e,t,r[It],n,!1),td}function nd(e,t,n,r,o){const c=o?"class":"style";zc(e,n,t.inputs[c],c,r)}function il(e,t,n,r){const o=ue(),s=He(),c=Vt+e,h=o[It],m=s.firstCreatePass?function CC(e,t,n,r,o,s){const c=t.consts,m=ea(t,e,2,r,g(c,o));return $c(t,n,m,g(c,s)),null!==m.attrs&&Yu(m,m.attrs,!1),null!==m.mergedAttrs&&Yu(m,m.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,m),m}(c,s,o,t,n,r):s.data[c],D=Kp(s,o,m,h,t,e);o[c]=D;const P=Wr(m);return sr(m,!0),Zh(h,D,m),32!=(32&m.flags)&&du()&&Nu(s,o,D,m),0===function K(){return I.lFrame.elementDepthCount}()&&Yr(D,o),function me(){I.lFrame.elementDepthCount++}(),P&&(jc(s,o,m),Lc(s,m,o)),null!==r&&Uc(o,m),il}function al(){let e=Ut();Da()?function Ri(){I.lFrame.isParent=!1}():(e=e.parent,sr(e,!1));const t=e;(function We(e){return I.skipHydrationRootTNode===e})(t)&&function rn(){I.skipHydrationRootTNode=null}(),function Oe(){I.lFrame.elementDepthCount--}();const n=He();return n.firstCreatePass&&(hu(n,e),Jo(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function gy(e){return 0!=(8&e.flags)}(t)&&nd(n,t,ue(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function my(e){return 0!=(16&e.flags)}(t)&&nd(n,t,ue(),t.stylesWithoutHost,!1),al}function rd(e,t,n,r){return il(e,t,n,r),al(),rd}let Kp=(e,t,n,r,o,s)=>(ei(!0),Ru(r,o,eh()));function wC(e,t,n,r,o,s){const c=t[ur],h=!c||Me()||zu(c,s);if(ei(h),h)return Ru(r,o,eh());const m=ol(c,e,t,n);return Mf(c,s)&&Gu(c,s,m.nextSibling),c&&(Ih(n)||Ah(m))&&Cr(n)&&(function ht(e){I.skipHydrationRootTNode=e}(n),Jh(m)),m}let qp=(e,t,n,r)=>(ei(!0),ql(t[It],""));function SC(e,t,n,r){let o;const s=t[ur],c=!s||Me();if(ei(c),c)return ql(t[It],"");const h=ol(s,e,t,n),m=function w0(e,t){const n=e.data;let r=n[Cc]?.[t]??null;return null===r&&n[Va]?.[t]&&(r=Ac(e,t)),r}(s,r);return Gu(s,r,h),o=sl(m,h),o}function Jp(){return ue()}function id(e){return!!e&&"function"==typeof e.then}function Qp(e){return!!e&&"function"==typeof e.subscribe}function ad(e,t,n,r){const o=ue(),s=He(),c=Ut();return function Zp(e,t,n,r,o,s,c){const h=Wr(r),D=e.firstCreatePass&&gp(e),P=t[En],j=pp(t);let Q=!0;if(3&r.type||c){const Ue=Ar(r,t),nt=c?c(Ue):Ue,yt=j.length,Re=c?Jt=>c(dn(Jt[r.index])):r.index;let Lt=null;if(!c&&h&&(Lt=function IC(e,t,n,r){const o=e.cleanup;if(null!=o)for(let s=0;s<o.length-1;s+=2){const c=o[s];if(c===n&&o[s+1]===r){const h=t[zr],m=o[s+2];return h.length>m?h[m]:null}"string"==typeof c&&(s+=2)}return null}(e,t,o,r.index)),null!==Lt)(Lt.__ngLastListenerFn__||Lt).__ngNextListenerFn__=s,Lt.__ngLastListenerFn__=s,Q=!1;else{s=tg(r,t,P,s,!1);const Jt=n.listen(nt,o,s);j.push(s,Jt),D&&D.push(o,Re,yt,yt+1)}}else s=tg(r,t,P,s,!1);const re=r.outputs;let De;if(Q&&null!==re&&(De=re[o])){const Ue=De.length;if(Ue)for(let nt=0;nt<Ue;nt+=2){const On=t[De[nt]][De[nt+1]].subscribe(s),Oo=j.length;j.push(s,On),D&&D.push(o,r.index,Oo,-(Oo+1))}}}(s,o,o[It],c,e,t,r),ad}function eg(e,t,n,r){try{return Mo(6,t,n),!1!==n(r)}catch(o){return vp(e,o),!1}finally{Mo(7,t,n)}}function tg(e,t,n,r,o){return function s(c){if(c===Function)return r;Ha(e.componentOffset>-1?qr(e.index,t):t);let m=eg(t,n,r,c),D=s.__ngNextListenerFn__;for(;D;)m=eg(t,n,D,c)&&m,D=D.__ngNextListenerFn__;return o&&!1===m&&c.preventDefault(),m}}function ng(e=1){return function Zs(e){return(I.lFrame.contextLView=function Tl(e,t){for(;e>0;)t=t[Pr],e--;return t}(e,I.lFrame.contextLView))[En]}(e)}function ud(e,t,n){return ul(e,"",t,"",n),ud}function ul(e,t,n,r,o){const s=ue(),c=na(s,t,n,r);return c!==Ht&&Go(He(),nr(),s,e,c,s[It],o,!1),ul}function ll(e,t){return e<<17|t<<2}function ri(e){return e>>17&32767}function ld(e){return 2|e}function Di(e){return(131068&e)>>2}function cd(e,t){return-131069&e|t<<2}function dd(e){return 1|e}function dg(e,t,n,r,o){const s=e[n+1],c=null===t;let h=r?ri(s):Di(s),m=!1;for(;0!==h&&(!1===m||c);){const P=e[h+1];FC(e[h],t)&&(m=!0,e[h+1]=r?dd(P):ld(P)),h=r?ri(P):Di(P)}m&&(e[n+1]=r?ld(s):dd(s))}function FC(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Ui(e,t)>=0}const Er={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function hg(e){return e.substring(Er.key,Er.keyEnd)}function fg(e,t){const n=Er.textEnd;return n===t?-1:(t=Er.keyEnd=function VC(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Er.key=t,n),ca(e,t,n))}function ca(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function hd(e,t,n){return fs(e,t,n,!1),hd}function fd(e,t){return fs(e,t,null,!0),fd}function Rs(e,t){for(let n=function jC(e){return function gg(e){Er.key=0,Er.keyEnd=0,Er.value=0,Er.valueEnd=0,Er.textEnd=e.length}(e),fg(e,ca(e,0,Er.textEnd))}(t);n>=0;n=fg(t,n))Ho(e,hg(t),!0)}function fs(e,t,n,r){const o=ue(),s=He(),c=f(2);s.firstUpdatePass&&_g(s,e,c,r),t!==Ht&&Zr(o,c,t)&&Cg(s,s.data[fo()],o,o[It],e,o[c+1]=function YC(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Ne(ti(e)))),e}(t,n),r,c)}function yg(e,t){return t>=e.expandoStartIndex}function _g(e,t,n,r){const o=e.data;if(null===o[n+1]){const s=o[fo()],c=yg(e,n);Dg(s,r)&&null===t&&!c&&(t=!1),t=function zC(e,t,n,r){const o=function $(e){const t=I.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let s=r?t.residualClasses:t.residualStyles;if(null===o)0===(r?t.classBindings:t.styleBindings)&&(n=Ya(n=pd(null,e,t,n,r),t.attrs,r),s=null);else{const c=t.directiveStylingLast;if(-1===c||e[c]!==o)if(n=pd(o,e,t,n,r),null===s){let m=function WC(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Di(r))return e[ri(r)]}(e,t,r);void 0!==m&&Array.isArray(m)&&(m=pd(null,e,t,m[1],r),m=Ya(m,t.attrs,r),function KC(e,t,n,r){e[ri(n?t.classBindings:t.styleBindings)]=r}(e,t,r,m))}else s=function XC(e,t,n){let r;const o=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<o;s++)r=Ya(r,e[s].hostAttrs,n);return Ya(r,t.attrs,n)}(e,t,r)}return void 0!==s&&(r?t.residualClasses=s:t.residualStyles=s),n}(o,s,t,r),function NC(e,t,n,r,o,s){let c=s?t.classBindings:t.styleBindings,h=ri(c),m=Di(c);e[r]=n;let P,D=!1;if(Array.isArray(n)?(P=n[1],(null===P||Ui(n,P)>0)&&(D=!0)):P=n,o)if(0!==m){const Q=ri(e[h+1]);e[r+1]=ll(Q,h),0!==Q&&(e[Q+1]=cd(e[Q+1],r)),e[h+1]=function xC(e,t){return 131071&e|t<<17}(e[h+1],r)}else e[r+1]=ll(h,0),0!==h&&(e[h+1]=cd(e[h+1],r)),h=r;else e[r+1]=ll(m,0),0===h?h=r:e[m+1]=cd(e[m+1],r),m=r;D&&(e[r+1]=ld(e[r+1])),dg(e,P,r,!0),dg(e,P,r,!1),function kC(e,t,n,r,o){const s=o?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&Ui(s,t)>=0&&(n[r+1]=dd(n[r+1]))}(t,P,e,r,s),c=ll(h,m),s?t.classBindings=c:t.styleBindings=c}(o,s,t,n,c,r)}}function pd(e,t,n,r,o){let s=null;const c=n.directiveEnd;let h=n.directiveStylingLast;for(-1===h?h=n.directiveStart:h++;h<c&&(s=t[h],r=Ya(r,s.hostAttrs,o),s!==e);)h++;return null!==e&&(n.directiveStylingLast=h),r}function Ya(e,t,n){const r=n?1:2;let o=-1;if(null!==t)for(let s=0;s<t.length;s++){const c=t[s];"number"==typeof c?o=c:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Ho(e,c,!!n||t[++s]))}return void 0===e?null:e}function Cg(e,t,n,r,o,s,c,h){if(!(3&t.type))return;const m=e.data,D=m[h+1],P=function PC(e){return 1==(1&e)}(D)?wg(m,t,n,o,Di(D),c):void 0;cl(P)||(cl(s)||function RC(e){return 2==(2&e)}(D)&&(s=wg(m,null,n,o,h,c)),function I_(e,t,n,r,o){if(t)o?e.addClass(n,r):e.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Tu.DashCase;null==o?e.removeStyle(n,r,s):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),s|=Tu.Important),e.setStyle(n,r,o,s))}}(r,c,ds(fo(),n),o,s))}function wg(e,t,n,r,o,s){const c=null===t;let h;for(;o>0;){const m=e[o],D=Array.isArray(m),P=D?m[1]:m,j=null===P;let Q=n[o+1];Q===Ht&&(Q=j?ft:void 0);let re=j?Ul(Q,r):P===r?Q:void 0;if(D&&!cl(re)&&(re=Ul(m,r)),cl(re)&&(h=re,c))return h;const De=e[o+1];o=c?ri(De):Di(De)}if(null!==t){let m=s?t.residualClasses:t.residualStyles;null!=m&&(h=Ul(m,r))}return h}function cl(e){return void 0!==e}function Dg(e,t){return 0!=(e.flags&(t?8:16))}function Eg(e,t=""){const n=ue(),r=He(),o=e+Vt,s=r.firstCreatePass?ea(r,o,1,t,null):r.data[o],c=Sg(r,n,s,t,e);n[o]=c,du()&&Nu(r,n,c,s),sr(s,!1)}let Sg=(e,t,n,r,o)=>(ei(!0),Ou(t[It],r));function ZC(e,t,n,r,o){const s=t[ur],c=!s||Me()||zu(s,o);return ei(c),c?Ou(t[It],r):ol(s,e,t,n)}function gd(e){return dl("",e,""),gd}function dl(e,t,n){const r=ue(),o=na(r,e,t,n);return o!==Ht&&Gs(r,fo(),o),dl}function md(e,t,n,r,o){const s=ue(),c=ra(s,e,t,n,r,o);return c!==Ht&&Gs(s,fo(),c),md}function Pg(e,t,n){!function ps(e,t,n,r){const o=He(),s=f(2);o.firstUpdatePass&&_g(o,null,s,r);const c=ue();if(n!==Ht&&Zr(c,s,n)){const h=o.data[fo()];if(Dg(h,r)&&!yg(o,s)){let m=r?h.classesWithoutHost:h.stylesWithoutHost;null!==m&&(n=je(m,n||"")),nd(o,h,c,n,r)}else!function QC(e,t,n,r,o,s,c,h){o===Ht&&(o=ft);let m=0,D=0,P=0<o.length?o[0]:null,j=0<s.length?s[0]:null;for(;null!==P||null!==j;){const Q=m<o.length?o[m+1]:void 0,re=D<s.length?s[D+1]:void 0;let Ue,De=null;P===j?(m+=2,D+=2,Q!==re&&(De=j,Ue=re)):null===j||null!==P&&P<j?(m+=2,De=P):(D+=2,De=j,Ue=re),null!==De&&Cg(e,t,n,r,De,Ue,c,h),P=m<o.length?o[m]:null,j=D<s.length?s[D]:null}}(o,h,c,c[It],c[s+1],c[s+1]=function qC(e,t,n){if(null==n||""===n)return ft;const r=[],o=ti(n);if(Array.isArray(o))for(let s=0;s<o.length;s++)e(r,o[s],!0);else if("object"==typeof o)for(const s in o)o.hasOwnProperty(s)&&e(r,s,o[s]);else"string"==typeof o&&t(r,o);return r}(e,t,n),r,s)}}(Ho,Rs,na(ue(),e,t,n),!0)}const Ei=void 0;var _w=["en",[["a","p"],["AM","PM"],Ei],[["AM","PM"],Ei,Ei],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ei,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ei,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ei,"{1} 'at' {0}",Ei],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function yw(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let da={};function vd(e){const t=function bw(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Wg(t);if(n)return n;const r=t.split("-")[0];if(n=Wg(r),n)return n;if("en"===r)return _w;throw new Be(701,!1)}function zg(e){return vd(e)[ha.PluralCase]}function Wg(e){return e in da||(da[e]=wt.ng&&wt.ng.common&&wt.ng.common.locales&&wt.ng.common.locales[e]),da[e]}var ha=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(ha||{});const fa="en-US";let Kg=fa;function bd(e,t,n,r,o){if(e=be(e),Array.isArray(e))for(let s=0;s<e.length;s++)bd(e[s],t,n,r,o);else{const s=He(),c=ue(),h=Ut();let m=Ci(e)?e:be(e.provide);const D=bf(e),P=1048575&h.providerIndexes,j=h.directiveStart,Q=h.providerIndexes>>20;if(Ci(e)||!e.multi){const re=new Ea(D,o,Zi),De=wd(m,t,o?P:P+Q,j);-1===De?(kl(mu(h,c),s,m),Cd(s,e,t.length),t.push(m),h.directiveStart++,h.directiveEnd++,o&&(h.providerIndexes+=1048576),n.push(re),c.push(re)):(n[De]=re,c[De]=re)}else{const re=wd(m,t,P+Q,j),De=wd(m,t,P,P+Q),nt=De>=0&&n[De];if(o&&!nt||!o&&!(re>=0&&n[re])){kl(mu(h,c),s,m);const yt=function yD(e,t,n,r,o){const s=new Ea(e,n,Zi);return s.multi=[],s.index=t,s.componentProviders=0,ym(s,o,r&&!n),s}(o?vD:mD,n.length,o,r,D);!o&&nt&&(n[De].providerFactory=yt),Cd(s,e,t.length,0),t.push(m),h.directiveStart++,h.directiveEnd++,o&&(h.providerIndexes+=1048576),n.push(yt),c.push(yt)}else Cd(s,e,re>-1?re:De,ym(n[o?De:re],D,!o&&r));!o&&r&&nt&&n[De].componentProviders++}}}function Cd(e,t,n,r){const o=Ci(t),s=function r0(e){return!!e.useClass}(t);if(o||s){const m=(s?be(t.useClass):t).prototype.ngOnDestroy;if(m){const D=e.destroyHooks||(e.destroyHooks=[]);if(!o&&t.multi){const P=D.indexOf(n);-1===P?D.push(n,[r,m]):D[P+1].push(r,m)}else D.push(n,m)}}}function ym(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function wd(e,t,n,r){for(let o=n;o<r;o++)if(t[o]===e)return o;return-1}function mD(e,t,n,r){return Dd(this.multi,[])}function vD(e,t,n,r){const o=this.multi;let s;if(this.providerFactory){const c=this.providerFactory.componentProviders,h=_i(n,n[Qe],this.providerFactory.index,r);s=h.slice(0,c),Dd(o,s);for(let m=c;m<h.length;m++)s.push(h[m])}else s=[],Dd(o,s);return s}function Dd(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function _m(e,t=[]){return n=>{n.providersResolver=(r,o)=>function gD(e,t,n){const r=He();if(r.firstCreatePass){const o=kr(e);bd(n,r.data,r.blueprint,o,!0),bd(t,r.data,r.blueprint,o,!1)}}(r,o?o(e):e,t)}}class Si{}class bm{}function _D(e,t){return new Ed(e,t??null,[])}class Ed extends Si{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ep(this);const o=Tn(t);this._bootstrapComponents=Hs(o.bootstrap),this._r3Injector=kf(t,n,[{provide:Si,useValue:this},{provide:Wu,useValue:this.componentFactoryResolver},...r],Ne(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Sd extends bm{constructor(t){super(),this.moduleType=t}create(t){return new Ed(this.moduleType,t,[])}}class Cm extends Si{constructor(t){super(),this.componentFactoryResolver=new Ep(this),this.instance=null;const n=new Wi([...t.providers,{provide:Si,useValue:this},{provide:Wu,useValue:this.componentFactoryResolver}],t.parent||$u(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function wm(e,t,n=null){return new Cm({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let CD=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=mf(0,n.type),o=r.length>0?wm([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Nt({token:e,providedIn:"environment",factory:()=>new e(X(Ms))})}}return e})();function Dm(e){e.getStandaloneInjector=t=>t.get(CD).getOrCreateStandaloneInjector(e)}function Om(e,t,n){const r=Qr()+e,o=ue();return o[r]===Ht?Ts(o,r,n?t.call(n):t()):Xa(o,r)}function Rm(e,t,n,r){return Pm(ue(),Qr(),e,t,n,r)}function xm(e,t,n,r,o,s,c,h,m){const D=Qr()+e,P=ue(),j=function ts(e,t,n,r,o,s){const c=wi(e,t,n,r);return wi(e,t+2,o,s)||c}(P,D,n,r,o,s);return wi(P,D+4,c,h)||j?Ts(P,D+6,m?t.call(m,n,r,o,s,c,h):t(n,r,o,s,c,h)):Xa(P,D+6)}function ou(e,t){const n=e[t];return n===Ht?void 0:n}function Pm(e,t,n,r,o,s){const c=t+n;return Zr(e,c,o)?Ts(e,c+1,s?r.call(s,o):r(o)):ou(e,c+1)}function km(e,t,n,r,o,s,c,h){const m=t+n;return function nl(e,t,n,r,o){const s=wi(e,t,n,r);return Zr(e,t+2,o)||s}(e,m,o,s,c)?Ts(e,m+3,h?r.call(h,o,s,c):r(o,s,c)):ou(e,m+3)}function jm(e,t){const n=He();let r;const o=e+Vt;n.firstCreatePass?(r=function LD(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks??=[]).push(o,r.onDestroy)):r=n.data[o];const s=r.factory||(r.factory=Kr(r.type)),h=ye(Zi);try{const m=gu(!1),D=s();return gu(m),function bC(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,ue(),o,D),D}finally{ye(h)}}function Um(e,t,n){const r=e+Vt,o=ue(),s=$s(o,r);return su(o,r)?Pm(o,Qr(),t,s.transform,n,s):s.transform(n)}function Vm(e,t,n,r){const o=e+Vt,s=ue(),c=$s(s,o);return su(s,o)?function Nm(e,t,n,r,o,s,c){const h=t+n;return wi(e,h,o,s)?Ts(e,h+2,c?r.call(c,o,s):r(o,s)):ou(e,h+2)}(s,Qr(),t,c.transform,n,r,c):c.transform(n,r)}function $m(e,t,n,r,o){const s=e+Vt,c=ue(),h=$s(c,s);return su(c,s)?km(c,Qr(),t,h.transform,n,r,o,h):h.transform(n,r,o)}function su(e,t){return e[Qe].data[t].pure}function VD(){return this._results[Symbol.iterator]()}class Id{get changes(){return this._changes||(this._changes=new Is)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Id.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=VD)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const o=function es(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Oy(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],s=t[r];if(n&&(o=n(o),s=n(s)),s!==o)return!1}return!0}(r._results,o,n))&&(r._results=o,r.length=o.length,r.last=o[this.length-1],r.first=o[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function BD(e,t,n,r=!0){const o=t[Qe];if(function __(e,t,n,r){const o=Sn+r,s=n.length;r>0&&(n[o-1][qn]=t),r<s-Sn?(t[qn]=n[o],mh(n,Sn+r,t)):(n.push(t),t[qn]=null),t[Yt]=n;const c=t[io];null!==c&&n!==c&&function b_(e,t){const n=e[Uo];t[gn]!==t[Yt][Yt][gn]&&(e[Gn]=!0),null===n?e[Uo]=[t]:n.push(t)}(c,t);const h=t[_r];null!==h&&h.insertView(e),t[Dt]|=128}(o,t,e,n),r){const s=ec(n,e),c=t[It],h=Pu(c,e[br]);null!==h&&function m_(e,t,n,r,o,s){r[Bt]=o,r[Pn]=t,Na(e,r,n,1,o,s)}(o,e[Pn],c,t,h,s)}}let iu=(()=>{class e{static{this.__NG_ELEMENT_ID__=zD}}return e})();const HD=iu,GD=class extends HD{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const o=function $D(e,t,n,r){const o=t.tView,h=Ju(e,o,n,4096&e[Dt]?4096:16,null,t,null,null,null,r?.injector??null,r?.hydrationInfo??null);h[io]=e[t.index];const D=e[_r];return null!==D&&(h[_r]=D.createEmbeddedView(o)),Wc(o,h,n),h}(this._declarationLView,this._declarationTContainer,t,{injector:n,hydrationInfo:r});return new Wa(o)}};function zD(){return ml(Ut(),ue())}function ml(e,t){return 4&e.type?new GD(t,e,Ji(e,t)):null}function Bm(e){const t=e[qo]??[],r=e[Yt][It];for(const o of t)WD(o,r);e[qo]=ft}function WD(e,t){let n=0,r=e.firstChild;if(r){const o=e.data[qi];for(;n<o;){const s=r.nextSibling;ku(t,r,!1),r=s,n++}}}function Hm(e){Bm(e);for(let t=Sn;t<e.length;t++)vl(e[t])}function vl(e){const t=e[Qe];for(let n=Vt;n<t.bindingStartIndex;n++)Jn(e[n])?Hm(e[n]):Array.isArray(e[n])&&vl(e[n])}let Gm=(e,t)=>null;function qD(e,t){const n=e[qo];return t&&null!==n&&0!==n.length?n[0].data[Dc]===t?n.shift():(Bm(e),null):null}function zm(e,t){return Gm(e,t)}let yl=(()=>{class e{static{this.__NG_ELEMENT_ID__=QD}}return e})();function QD(){return Xm(Ut(),ue())}const YD=yl,Wm=class extends YD{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Ji(this._hostTNode,this._hostLView)}get injector(){return new po(this._hostTNode,this._hostLView)}get parentInjector(){const t=vu(this._hostTNode,this._hostLView);if(xl(t)){const n=Ma(t,this._hostLView),r=Sa(t);return new po(n[Qe].data[r+8],n)}return new po(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Km(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Sn}createEmbeddedView(t,n,r){let o,s;"number"==typeof r?o=r:null!=r&&(o=r.index,s=r.injector);const c=zm(this._lContainer,t.ssrId),h=t.createEmbeddedViewImpl(n||{},s,c),m=!!c&&!Iu(this._hostTNode);return this.insertImpl(h,o,m),h}createComponent(t,n,r,o,s){const c=t&&!function Aa(e){return"function"==typeof e}(t);let h;if(c)h=n;else{const Ue=n||{};h=Ue.index,r=Ue.injector,o=Ue.projectableNodes,s=Ue.environmentInjector||Ue.ngModuleRef}const m=c?t:new Ka(At(t)),D=r||this.parentInjector;if(!s&&null==m.ngModule){const nt=(c?D:this.parentInjector).get(Ms,null);nt&&(s=nt)}const P=At(m.componentType??{}),j=zm(this._lContainer,P?.id??null),re=m.create(D,o,j?.firstChild??null,s),De=!!j&&!Iu(this._hostTNode);return this.insertImpl(re.hostView,h,De),re}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const o=t._lView;if(function Oi(e){return Jn(e[Yt])}(o)){const m=this.indexOf(t);if(-1!==m)this.detach(m);else{const D=o[Yt],P=new Wm(D,D[Pn],D[Yt]);P.detach(P.indexOf(t))}}const c=this._adjustIndex(n),h=this._lContainer;return BD(h,o,c,!r),t.attachToViewContainerRef(),mh(Ad(h),c,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Km(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=xu(this._lContainer,n);r&&(_u(Ad(this._lContainer),n),Jl(r[Qe],r))}detach(t){const n=this._adjustIndex(t,-1),r=xu(this._lContainer,n);return r&&null!=_u(Ad(this._lContainer),n)?new Wa(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Km(e){return e[8]}function Ad(e){return e[8]||(e[8]=[])}function Xm(e,t){let n;const r=t[e.index];return Jn(r)?n=r:(n=hp(r,t,null,e),t[e.index]=n,Qu(t,n)),qm(n,t,e,r),new Wm(n,e,t)}let qm=Jm;function Jm(e,t,n,r){if(e[br])return;let o;o=8&n.type?dn(r):function ZD(e,t){const n=e[It],r=n.createComment(""),o=Ar(t,e);return bi(n,Pu(n,o),r,function E_(e,t){return e.nextSibling(t)}(n,o),!1),r}(t,n),e[br]=o}function eE(e,t,n,r){if(e[br]&&e[qo])return;const o=t[ur],s=n.index-Vt,c=function Au(e){let t=e.parent;for(;t;){if(Ih(t))return!0;t=t.parent}return!1}(n)||Iu(n);if(!o||c||zu(o,s))return Jm(e,t,n,r);const m=Ic(o,s),D=o.data[Va]?.[s],[P,j]=function XD(e,t){const n=[];for(const r of t)for(let o=0;o<(r[Bu]??1);o++){const s={data:r,firstChild:null};r[qi]>0&&(s.firstChild=e,e=sl(r[qi],e)),n.push(s)}return[e,n]}(m,D);e[br]=P,e[qo]=j}class Td{constructor(t){this.queryList=t,this.matches=null}clone(){return new Td(this.queryList)}setDirty(){this.queryList.setDirty()}}class Od{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,o=[];for(let s=0;s<r;s++){const c=n.getByIndex(s);o.push(this.queries[c.indexInDeclarationView].clone())}return new Od(o)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==sv(t,n).matches&&this.queries[n].setDirty()}}class Qm{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class Rd{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const o=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(t,o);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new Rd(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class xd{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new xd(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const s=r[o];this.matchTNodeWithReadOption(t,n,nE(n,s)),this.matchTNodeWithReadOption(t,n,yu(n,t,s,!1,!1))}else r===iu?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,yu(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===Ba||o===yl||o===iu&&4&n.type)this.addMatch(n.index,-2);else{const s=yu(n,t,o,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function nE(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function oE(e,t,n,r){return-1===n?function rE(e,t){return 11&e.type?Ji(e,t):4&e.type?ml(e,t):null}(t,e):-2===n?function sE(e,t,n){return n===Ba?Ji(t,e):n===iu?ml(t,e):n===yl?Xm(t,e):void 0}(e,t,r):_i(e,e[Qe],n,t)}function Ym(e,t,n,r){const o=t[_r].queries[r];if(null===o.matches){const s=e.data,c=n.matches,h=[];for(let m=0;m<c.length;m+=2){const D=c[m];h.push(D<0?null:oE(t,s[D],c[m+1],n.metadata.read))}o.matches=h}return o.matches}function Pd(e,t,n,r){const o=e.queries.getByIndex(n),s=o.matches;if(null!==s){const c=Ym(e,t,o,n);for(let h=0;h<s.length;h+=2){const m=s[h];if(m>0)r.push(c[h/2]);else{const D=s[h+1],P=t[-m];for(let j=Sn;j<P.length;j++){const Q=P[j];Q[io]===Q[Yt]&&Pd(Q[Qe],Q,D,r)}if(null!==P[Uo]){const j=P[Uo];for(let Q=0;Q<j.length;Q++){const re=j[Q];Pd(re[Qe],re,D,r)}}}}}return r}function Zm(e){const t=ue(),n=He(),r=pe();de(r+1);const o=sv(n,r);if(e.dirty&&function wa(e){return 4==(4&e[Dt])}(t)===(2==(2&o.metadata.flags))){if(null===o.matches)e.reset([]);else{const s=o.crossesNgTemplate?Pd(n,t,r,[]):Ym(n,t,o,r);e.reset(s,I0),e.notifyOnChanges()}return!0}return!1}function ev(e,t,n){const r=He();r.firstCreatePass&&(ov(r,new Qm(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),rv(r,ue(),t)}function tv(e,t,n,r){const o=He();if(o.firstCreatePass){const s=Ut();ov(o,new Qm(t,n,r),s.index),function aE(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(o,e),2==(2&n)&&(o.staticContentQueries=!0)}rv(o,ue(),n)}function nv(){return function iE(e,t){return e[_r].queries[t].queryList}(ue(),pe())}function rv(e,t,n){const r=new Id(4==(4&n));(function ab(e,t,n,r){const o=pp(t);o.push(n),e.firstCreatePass&&gp(e).push(r,o.length-1)})(e,t,r,r.destroy),null===t[_r]&&(t[_r]=new Od),t[_r].queries.push(new Td(r))}function ov(e,t,n){null===e.queries&&(e.queries=new Rd),e.queries.track(new xd(t,n))}function sv(e,t){return e.queries.getByIndex(t)}function iv(e,t){return ml(e,t)}function Nd(e){return!!Tn(e)}const Dv=new _t("Application Initializer");let Ud=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=Ae(Dv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const o of this.appInits){const s=o();if(id(s))n.push(s);else if(Qp(s)){const c=new Promise((h,m)=>{s.subscribe({complete:h,error:m})});n.push(c)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Ev=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const bl=new _t("LocaleId",{providedIn:"root",factory:()=>Ae(bl,Z.Optional|Z.SkipSelf)||function AE(){return typeof $localize<"u"&&$localize.locale||fa}()}),TE=new _t("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Sv=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new he.t(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class RE{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let xE=(()=>{class e{compileModuleSync(n){return new Sd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Hs(Tn(n).declarations).reduce((c,h)=>{const m=At(h);return m&&c.push(new Ka(m)),c},[]);return new RE(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Tv=new _t(""),Ov=new _t("");let Bd,eS=(()=>{class e{constructor(n,r,o){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Bd||(function tS(e){Bd=e}(o),o.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Tr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,o){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(c=>c.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:o})}whenStable(n,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,o){return[]}static{this.\u0275fac=function(r){return new(r||e)(X(Tr),X(Rv),X(Ov))}}static{this.\u0275prov=Nt({token:e,factory:e.\u0275fac})}}return e})(),Rv=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Bd?.findTestabilityInTree(this,n,r)??null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),oi=null;const Hd=new _t("PlatformDestroyListeners"),Gd=new _t("appBootstrapListener");class oS{constructor(t,n){this.name=t,this.token=n}}function aS(e){try{const{rootComponent:t,appProviders:n,platformProviders:r}=e,o=function iS(e=[]){if(oi)return oi;const t=function kv(e=[],t){return hs.create({name:t,providers:[{provide:pc,useValue:"platform"},{provide:Hd,useValue:new Set([()=>oi=null])},...e]})}(e);return oi=t,function Pv(){!function z(e){w=e}(()=>{throw new Be(600,!1)})}(),function Nv(e){e.get(wf,null)?.forEach(n=>n())}(t),t}(r),s=[hS(),...n||[]],h=new Cm({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1}).injector,m=h.get(Tr);return m.run(()=>{h.resolveInjectorInitializers();const D=h.get(ni,null);let P;m.runOutsideAngular(()=>{P=m.onError.subscribe({next:re=>{D.handleError(re)}})});const j=()=>h.destroy(),Q=o.get(Hd);return Q.add(j),h.onDestroy(()=>{P.unsubscribe(),Q.delete(j)}),function jv(e,t,n){try{const r=n();return id(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(D,m,()=>{const re=h.get(Ud);return re.runInitializers(),re.donePromise.then(()=>{!function Xg(e){ct(e,"Expected localeId to be defined"),"string"==typeof e&&(Kg=e.toLowerCase().replace(/_/g,"-"))}(h.get(bl,fa)||fa);const Ue=h.get(ma);return void 0!==t&&Ue.bootstrap(t),Ue})})})}catch(t){return Promise.reject(t)}}let ma=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ae($v),this.zoneIsStable=Ae(Vf),this.componentTypes=[],this.components=[],this.isStable=Ae(Sv).hasPendingTasks.pipe((0,St.n)(n=>n?(0,ee.of)(!1):this.zoneIsStable),(0,Ze.F)(),xe()),this._injector=Ae(Ms)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const o=n instanceof If;if(!this._injector.get(Ud).done)throw!o&&so(n),new Be(405,!1);let c;c=o?n:this._injector.get(Wu).resolveComponentFactory(n),this.componentTypes.push(c.componentType);const h=function rS(e){return e.isBoundToModule}(c)?void 0:this._injector.get(Si),D=c.create(hs.NULL,[],r||c.selector,h),P=D.location.nativeElement,j=D.injector.get(Tv,null);return j?.registerApplication(P),D.onDestroy(()=>{this.detachView(D.hostView),wl(this.components,D),j?.unregisterApplication(P)}),this._loadComponent(D),D}tick(){if(this._runningTick)throw new Be(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;wl(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Gd,[]);r.push(...this._bootstrapListeners),r.forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>wl(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Be(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function wl(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const $v=new _t("",{providedIn:"root",factory:()=>Ae(ni).handleError.bind(void 0)});function cS(){const e=Ae(Tr),t=Ae(ni);return n=>e.runOutsideAngular(()=>t.handleError(n))}let dS=(()=>{class e{constructor(){this.zone=Ae(Tr),this.applicationRef=Ae(ma)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Nt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Bv(e){return[{provide:Tr,useFactory:e},{provide:ja,multi:!0,useFactory:()=>{const t=Ae(dS,{optional:!0});return()=>t.initialize()}},{provide:$v,useFactory:cS},{provide:Vf,useFactory:$f}]}function hS(e){return dc([[],Bv(()=>new Tr(function Lv(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}(e)))])}let fS=(()=>{class e{static{this.__NG_ELEMENT_ID__=pS}}return e})();function pS(e){return function gS(e,t,n){if(Cr(e)&&!n){const r=qr(e.index,t);return new Wa(r,r)}return 47&e.type?new Wa(t[gn],t):null}(Ut(),ue(),16==(16&e))}class Kv{constructor(){}supports(t){return tl(t)}create(t){return new bS(t)}}const _S=(e,t)=>t;class bS{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||_S}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,o=0,s=null;for(;n||r;){const c=!r||n&&n.currentIndex<qv(r,o,s)?n:r,h=qv(c,o,s),m=c.currentIndex;if(c===r)o--,r=r._nextRemoved;else if(n=n._next,null==c.previousIndex)o++;else{s||(s=[]);const D=h-o,P=m-o;if(D!=P){for(let Q=0;Q<D;Q++){const re=Q<s.length?s[Q]:s[Q]=0,De=re+Q;P<=De&&De<D&&(s[Q]=re+1)}s[c.previousIndex]=P-D}}h!==m&&t(c,h,m)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!tl(t))throw new Be(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let o,s,c,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let h=0;h<this.length;h++)s=t[h],c=this._trackByFn(h,s),null!==n&&Object.is(n.trackById,c)?(r&&(n=this._verifyReinsertion(n,s,c,h)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,c,h),r=!0),n=n._next}else o=0,function Zb(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,h=>{c=this._trackByFn(o,h),null!==n&&Object.is(n.trackById,c)?(r&&(n=this._verifyReinsertion(n,h,c,o)),Object.is(n.item,h)||this._addIdentityChange(n,h)):(n=this._mismatch(n,h,c,o),r=!0),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,o){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,s,o)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,s,o)):t=this._addAfter(new CS(n,r),s,o),t}_verifyReinsertion(t,n,r,o){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?t=this._reinsertAfter(s,t._prev,o):t.currentIndex!=o&&(t.currentIndex=o,this._addToMoves(t,o)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const o=t._prevRemoved,s=t._nextRemoved;return null===o?this._removalsHead=s:o._nextRemoved=s,null===s?this._removalsTail=o:s._prevRemoved=o,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const o=null===n?this._itHead:n._next;return t._next=o,t._prev=n,null===o?this._itTail=t:o._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new Xv),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Xv),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class CS{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class wS{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class Xv{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new wS,this.map.set(n,r)),r.add(t)}get(t,n){const o=this.map.get(t);return o?o.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qv(e,t,n){const r=e.previousIndex;if(null===r)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+t+o}class Jv{constructor(){}supports(t){return t instanceof Map||Xc(t)}create(){return new DS}}class DS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Xc(t)))throw new Be(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,o)=>{if(n&&n.key===o)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(o,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const o=this._records.get(t);this._maybeAddToChanges(o,n);const s=o._prev,c=o._next;return s&&(s._next=c),c&&(c._prev=s),o._next=null,o._prev=null,o}const r=new ES(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class ES{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Qv(){return new Jd([new Kv])}let Jd=(()=>{class e{static{this.\u0275prov=Nt({token:e,providedIn:"root",factory:Qv})}constructor(n){this.factories=n}static create(n,r){if(null!=r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||Qv()),deps:[[e,new wu,new Cu]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(null!=r)return r;throw new Be(901,!1)}}return e})();function Yv(){return new Qd([new Jv])}let Qd=(()=>{class e{static{this.\u0275prov=Nt({token:e,providedIn:"root",factory:Yv})}constructor(n){this.factories=n}static create(n,r){if(r){const o=r.factories.slice();n=n.concat(o)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||Yv()),deps:[[e,new wu,new Cu]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(r)return r;throw new Be(901,!1)}}return e})(),iy=!1;function FS(){return dc([{provide:Xu,useFactory:()=>{let e=!0;return Yi()&&(e=!!Ae(Ua,{optional:!0})?.get(Sc,null)),e&&Ae(Df).add("hydration"),e}},{provide:ja,useValue:()=>{Yi()&&Ae(Xu)&&(function LS(){const e=Gi();let t;for(const n of e.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===m0){t=n;break}if(!t)throw new Be(-507,!1)}(),function NS(){iy||(iy=!0,function y0(){Ef=v0}(),function DC(){Kp=wC}(),function ew(){Sg=ZC}(),function MC(){qp=SC}(),function _C(){Gp=yC}(),function tE(){qm=eE}(),function JD(){Gm=qD}(),function ib(){ip=sb}())}())},multi:!0},{provide:Kf,useFactory:()=>Yi()&&Ae(Xu)},{provide:Gd,useFactory:()=>{if(Yi()&&Ae(Xu)){const e=Ae(ma);return Ae(hs),()=>{(function kS(e,t){return e.isStable.pipe((0,pt.$)(r=>r)).toPromise().then(()=>{})})(e).then(()=>{Tr.assertInAngularZone(),function KD(e){const t=e._views;for(const n of t){const r=Sf(n);null!==r&&null!==r[Bt]&&(Mn(r)?vl(r):(vl(r[Bt]),Hm(r)))}}(e)})}}return()=>{}},multi:!0}])}function jS(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function VS(e){const t=At(e);if(!t)return null;const n=new Ka(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},4341:(Ye,se,R)=>{"use strict";R.d(se,{Zm:()=>Ze,me:()=>Ne,YN:()=>Qo,tU:()=>bn,BC:()=>kt,cb:()=>Pt,cV:()=>vo,vS:()=>zo,xH:()=>qn,Fm:()=>ko,YS:()=>jo,wz:()=>Yt,qT:()=>ks,y7:()=>_o});var l=R(6276),U=R(177),C=R(6648),ie=R(1985),J=R(3073),L=R(8750),H=R(9326),oe=R(4360),ae=R(6450),he=R(8496),ve=R(6354);let Ge=(()=>{class M{constructor(b,k){this._renderer=b,this._elementRef=k,this.onChange=q=>{},this.onTouched=()=>{}}setProperty(b,k){this._renderer.setProperty(this._elementRef.nativeElement,b,k)}registerOnTouched(b){this.onTouched=b}registerOnChange(b){this.onChange=b}setDisabledState(b){this.setProperty("disabled",b)}static{this.\u0275fac=function(k){return new(k||M)(l.rXU(l.sFG),l.rXU(l.aKT))}}static{this.\u0275dir=l.FsC({type:M})}}return M})(),xe=(()=>{class M extends Ge{static{this.\u0275fac=function(){let b;return function(q){return(b||(b=l.xGo(M)))(q||M)}}()}static{this.\u0275dir=l.FsC({type:M,features:[l.Vt3]})}}return M})();const Fe=new l.nKC("NgValueAccessor"),St={provide:Fe,useExisting:(0,l.Rfq)(()=>Ze),multi:!0};let Ze=(()=>{class M extends xe{writeValue(b){this.setProperty("checked",b)}static{this.\u0275fac=function(){let b;return function(q){return(b||(b=l.xGo(M)))(q||M)}}()}static{this.\u0275dir=l.FsC({type:M,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(k,q){1&k&&l.bIt("change",function(Rt){return q.onChange(Rt.target.checked)})("blur",function(){return q.onTouched()})},features:[l.Jv_([St]),l.Vt3]})}}return M})();const pt={provide:Fe,useExisting:(0,l.Rfq)(()=>Ne),multi:!0},Gt=new l.nKC("CompositionEventMode");let Ne=(()=>{class M extends Ge{constructor(b,k,q){super(b,k),this._compositionMode=q,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function et(){const M=(0,U.QT)()?(0,U.QT)().getUserAgent():"";return/android (\d+)/.test(M.toLowerCase())}())}writeValue(b){this.setProperty("value",b??"")}_handleInput(b){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(b)}_compositionStart(){this._composing=!0}_compositionEnd(b){this._composing=!1,this._compositionMode&&this.onChange(b)}static{this.\u0275fac=function(k){return new(k||M)(l.rXU(l.sFG),l.rXU(l.aKT),l.rXU(Gt,8))}}static{this.\u0275dir=l.FsC({type:M,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(k,q){1&k&&l.bIt("input",function(Rt){return q._handleInput(Rt.target.value)})("blur",function(){return q.onTouched()})("compositionstart",function(){return q._compositionStart()})("compositionend",function(Rt){return q._compositionEnd(Rt.target.value)})},features:[l.Jv_([pt]),l.Vt3]})}}return M})();const st=new l.nKC("NgValidators"),be=new l.nKC("NgAsyncValidators");function Be(M){return function je(M){return null==M||("string"==typeof M||Array.isArray(M))&&0===M.length}(M.value)?{required:!0}:null}function un(M){return null}function Mt(M){return null!=M}function te(M){return(0,l.jNT)(M)?(0,C.H)(M):M}function le(M){let T={};return M.forEach(b=>{T=null!=b?{...T,...b}:T}),0===Object.keys(T).length?null:T}function fe(M,T){return T.map(b=>b(M))}function Pe(M){return M.map(T=>function Ce(M){return!M.validate}(T)?T:b=>T.validate(b))}function ut(M){return null!=M?function Le(M){if(!M)return null;const T=M.filter(Mt);return 0==T.length?null:function(b){return le(fe(b,T))}}(Pe(M)):null}function Zt(M){return null!=M?function Kt(M){if(!M)return null;const T=M.filter(Mt);return 0==T.length?null:function(b){return function ee(...M){const T=(0,H.ms)(M),{args:b,keys:k}=(0,J.D)(M),q=new ie.c(gt=>{const{length:Rt}=b;if(!Rt)return void gt.complete();const wr=new Array(Rt);let Do=Rt,Fr=Rt;for(let lr=0;lr<Rt;lr++){let Yo=!1;(0,L.Tg)(b[lr]).subscribe((0,oe._)(gt,bs=>{Yo||(Yo=!0,Fr--),wr[lr]=bs},()=>Do--,void 0,()=>{(!Do||!Yo)&&(Fr||gt.next(k?(0,he.e)(k,wr):wr),gt.complete())}))}});return T?q.pipe((0,ae.I)(T)):q}(fe(b,T).map(te)).pipe((0,ve.T)(le))}}(Pe(M)):null}function Ct(M,T){return null===M?[T]:Array.isArray(M)?[...M,T]:[M,T]}function xn(M){return M?Array.isArray(M)?M:[M]:[]}function ct(M,T){return Array.isArray(M)?M.includes(T):M===T}function tt(M,T){const b=xn(T);return xn(M).forEach(q=>{ct(b,q)||b.push(q)}),b}function it(M,T){return xn(T).filter(b=>!ct(M,b))}class Fn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(T){this._rawValidators=T||[],this._composedValidatorFn=ut(this._rawValidators)}_setAsyncValidators(T){this._rawAsyncValidators=T||[],this._composedAsyncValidatorFn=Zt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(T){this._onDestroyCallbacks.push(T)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(T=>T()),this._onDestroyCallbacks=[]}reset(T=void 0){this.control&&this.control.reset(T)}hasError(T,b){return!!this.control&&this.control.hasError(T,b)}getError(T,b){return this.control?this.control.getError(T,b):null}}class on extends Fn{get formDirective(){return null}get path(){return null}}class Nt extends Fn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ir{constructor(T){this._cd=T}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let kt=(()=>{class M extends ir{constructor(b){super(b)}static{this.\u0275fac=function(k){return new(k||M)(l.rXU(Nt,2))}}static{this.\u0275dir=l.FsC({type:M,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(k,q){2&k&&l.AVh("ng-untouched",q.isUntouched)("ng-touched",q.isTouched)("ng-pristine",q.isPristine)("ng-dirty",q.isDirty)("ng-valid",q.isValid)("ng-invalid",q.isInvalid)("ng-pending",q.isPending)},features:[l.Vt3]})}}return M})(),Pt=(()=>{class M extends ir{constructor(b){super(b)}static{this.\u0275fac=function(k){return new(k||M)(l.rXU(on,10))}}static{this.\u0275dir=l.FsC({type:M,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(k,q){2&k&&l.AVh("ng-untouched",q.isUntouched)("ng-touched",q.isTouched)("ng-pristine",q.isPristine)("ng-dirty",q.isDirty)("ng-valid",q.isValid)("ng-invalid",q.isInvalid)("ng-pending",q.isPending)("ng-submitted",q.isSubmitted)},features:[l.Vt3]})}}return M})();const Wn="VALID",eo="INVALID",$n="PENDING",cr="DISABLED";function Gr(M){return(V(M)?M.validators:M)||null}function Ee(M,T){return(V(T)?T.asyncValidators:M)||null}function V(M){return null!=M&&!Array.isArray(M)&&"object"==typeof M}class qe{constructor(T,b){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(T),this._assignAsyncValidators(b)}get validator(){return this._composedValidatorFn}set validator(T){this._rawValidators=this._composedValidatorFn=T}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(T){this._rawAsyncValidators=this._composedAsyncValidatorFn=T}get parent(){return this._parent}get valid(){return this.status===Wn}get invalid(){return this.status===eo}get pending(){return this.status==$n}get disabled(){return this.status===cr}get enabled(){return this.status!==cr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(T){this._assignValidators(T)}setAsyncValidators(T){this._assignAsyncValidators(T)}addValidators(T){this.setValidators(tt(T,this._rawValidators))}addAsyncValidators(T){this.setAsyncValidators(tt(T,this._rawAsyncValidators))}removeValidators(T){this.setValidators(it(T,this._rawValidators))}removeAsyncValidators(T){this.setAsyncValidators(it(T,this._rawAsyncValidators))}hasValidator(T){return ct(this._rawValidators,T)}hasAsyncValidator(T){return ct(this._rawAsyncValidators,T)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(T={}){this.touched=!0,this._parent&&!T.onlySelf&&this._parent.markAsTouched(T)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(T=>T.markAllAsTouched())}markAsUntouched(T={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(b=>{b.markAsUntouched({onlySelf:!0})}),this._parent&&!T.onlySelf&&this._parent._updateTouched(T)}markAsDirty(T={}){this.pristine=!1,this._parent&&!T.onlySelf&&this._parent.markAsDirty(T)}markAsPristine(T={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(b=>{b.markAsPristine({onlySelf:!0})}),this._parent&&!T.onlySelf&&this._parent._updatePristine(T)}markAsPending(T={}){this.status=$n,!1!==T.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!T.onlySelf&&this._parent.markAsPending(T)}disable(T={}){const b=this._parentMarkedDirty(T.onlySelf);this.status=cr,this.errors=null,this._forEachChild(k=>{k.disable({...T,onlySelf:!0})}),this._updateValue(),!1!==T.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...T,skipPristineCheck:b}),this._onDisabledChange.forEach(k=>k(!0))}enable(T={}){const b=this._parentMarkedDirty(T.onlySelf);this.status=Wn,this._forEachChild(k=>{k.enable({...T,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:T.emitEvent}),this._updateAncestors({...T,skipPristineCheck:b}),this._onDisabledChange.forEach(k=>k(!1))}_updateAncestors(T){this._parent&&!T.onlySelf&&(this._parent.updateValueAndValidity(T),T.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(T){this._parent=T}getRawValue(){return this.value}updateValueAndValidity(T={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Wn||this.status===$n)&&this._runAsyncValidator(T.emitEvent)),!1!==T.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!T.onlySelf&&this._parent.updateValueAndValidity(T)}_updateTreeValidity(T={emitEvent:!0}){this._forEachChild(b=>b._updateTreeValidity(T)),this.updateValueAndValidity({onlySelf:!0,emitEvent:T.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?cr:Wn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(T){if(this.asyncValidator){this.status=$n,this._hasOwnPendingAsyncValidator=!0;const b=te(this.asyncValidator(this));this._asyncValidationSubscription=b.subscribe(k=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(k,{emitEvent:T})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(T,b={}){this.errors=T,this._updateControlsErrors(!1!==b.emitEvent)}get(T){let b=T;return null==b||(Array.isArray(b)||(b=b.split(".")),0===b.length)?null:b.reduce((k,q)=>k&&k._find(q),this)}getError(T,b){const k=b?this.get(b):this;return k&&k.errors?k.errors[T]:null}hasError(T,b){return!!this.getError(T,b)}get root(){let T=this;for(;T._parent;)T=T._parent;return T}_updateControlsErrors(T){this.status=this._calculateStatus(),T&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(T)}_initObservables(){this.valueChanges=new l.bkB,this.statusChanges=new l.bkB}_calculateStatus(){return this._allControlsDisabled()?cr:this.errors?eo:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($n)?$n:this._anyControlsHaveStatus(eo)?eo:Wn}_anyControlsHaveStatus(T){return this._anyControls(b=>b.status===T)}_anyControlsDirty(){return this._anyControls(T=>T.dirty)}_anyControlsTouched(){return this._anyControls(T=>T.touched)}_updatePristine(T={}){this.pristine=!this._anyControlsDirty(),this._parent&&!T.onlySelf&&this._parent._updatePristine(T)}_updateTouched(T={}){this.touched=this._anyControlsTouched(),this._parent&&!T.onlySelf&&this._parent._updateTouched(T)}_registerOnCollectionChange(T){this._onCollectionChange=T}_setUpdateStrategy(T){V(T)&&null!=T.updateOn&&(this._updateOn=T.updateOn)}_parentMarkedDirty(T){return!T&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(T){return null}_assignValidators(T){this._rawValidators=Array.isArray(T)?T.slice():T,this._composedValidatorFn=function Ro(M){return Array.isArray(M)?ut(M):M||null}(this._rawValidators)}_assignAsyncValidators(T){this._rawAsyncValidators=Array.isArray(T)?T.slice():T,this._composedAsyncValidatorFn=function ce(M){return Array.isArray(M)?Zt(M):M||null}(this._rawAsyncValidators)}}class vt extends qe{constructor(T,b,k){super(Gr(b),Ee(k,b)),this.controls=T,this._initObservables(),this._setUpdateStrategy(b),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(T,b){return this.controls[T]?this.controls[T]:(this.controls[T]=b,b.setParent(this),b._registerOnCollectionChange(this._onCollectionChange),b)}addControl(T,b,k={}){this.registerControl(T,b),this.updateValueAndValidity({emitEvent:k.emitEvent}),this._onCollectionChange()}removeControl(T,b={}){this.controls[T]&&this.controls[T]._registerOnCollectionChange(()=>{}),delete this.controls[T],this.updateValueAndValidity({emitEvent:b.emitEvent}),this._onCollectionChange()}setControl(T,b,k={}){this.controls[T]&&this.controls[T]._registerOnCollectionChange(()=>{}),delete this.controls[T],b&&this.registerControl(T,b),this.updateValueAndValidity({emitEvent:k.emitEvent}),this._onCollectionChange()}contains(T){return this.controls.hasOwnProperty(T)&&this.controls[T].enabled}setValue(T,b={}){(function _e(M,T,b){M._forEachChild((k,q)=>{if(void 0===b[q])throw new l.wOt(1002,"")})})(this,0,T),Object.keys(T).forEach(k=>{(function Y(M,T,b){const k=M.controls;if(!(T?Object.keys(k):k).length)throw new l.wOt(1e3,"");if(!k[b])throw new l.wOt(1001,"")})(this,!0,k),this.controls[k].setValue(T[k],{onlySelf:!0,emitEvent:b.emitEvent})}),this.updateValueAndValidity(b)}patchValue(T,b={}){null!=T&&(Object.keys(T).forEach(k=>{const q=this.controls[k];q&&q.patchValue(T[k],{onlySelf:!0,emitEvent:b.emitEvent})}),this.updateValueAndValidity(b))}reset(T={},b={}){this._forEachChild((k,q)=>{k.reset(T?T[q]:null,{onlySelf:!0,emitEvent:b.emitEvent})}),this._updatePristine(b),this._updateTouched(b),this.updateValueAndValidity(b)}getRawValue(){return this._reduceChildren({},(T,b,k)=>(T[k]=b.getRawValue(),T))}_syncPendingControls(){let T=this._reduceChildren(!1,(b,k)=>!!k._syncPendingControls()||b);return T&&this.updateValueAndValidity({onlySelf:!0}),T}_forEachChild(T){Object.keys(this.controls).forEach(b=>{const k=this.controls[b];k&&T(k,b)})}_setUpControls(){this._forEachChild(T=>{T.setParent(this),T._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(T){for(const[b,k]of Object.entries(this.controls))if(this.contains(b)&&T(k))return!0;return!1}_reduceValue(){return this._reduceChildren({},(b,k,q)=>((k.enabled||this.disabled)&&(b[q]=k.value),b))}_reduceChildren(T,b){let k=T;return this._forEachChild((q,gt)=>{k=b(k,q,gt)}),k}_allControlsDisabled(){for(const T of Object.keys(this.controls))if(this.controls[T].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(T){return this.controls.hasOwnProperty(T)?this.controls[T]:null}}const yn=new l.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>pr}),pr="always";function W(M,T,b=pr){Je(M,T),T.valueAccessor.writeValue(M.value),(M.disabled||"always"===b)&&T.valueAccessor.setDisabledState?.(M.disabled),function qt(M,T){T.valueAccessor.registerOnChange(b=>{M._pendingValue=b,M._pendingChange=!0,M._pendingDirty=!0,"change"===M.updateOn&&Kn(M,T)})}(M,T),function dr(M,T){const b=(k,q)=>{T.valueAccessor.writeValue(k),q&&T.viewToModelUpdate(k)};M.registerOnChange(b),T._registerOnDestroy(()=>{M._unregisterOnChange(b)})}(M,T),function Ot(M,T){T.valueAccessor.registerOnTouched(()=>{M._pendingTouched=!0,"blur"===M.updateOn&&M._pendingChange&&Kn(M,T),"submit"!==M.updateOn&&M.markAsTouched()})}(M,T),function Ae(M,T){if(T.valueAccessor.setDisabledState){const b=k=>{T.valueAccessor.setDisabledState(k)};M.registerOnDisabledChange(b),T._registerOnDestroy(()=>{M._unregisterOnDisabledChange(b)})}}(M,T)}function Se(M,T){M.forEach(b=>{b.registerOnValidatorChange&&b.registerOnValidatorChange(T)})}function Je(M,T){const b=function Qt(M){return M._rawValidators}(M);null!==T.validator?M.setValidators(Ct(b,T.validator)):"function"==typeof b&&M.setValidators([b]);const k=function ln(M){return M._rawAsyncValidators}(M);null!==T.asyncValidator?M.setAsyncValidators(Ct(k,T.asyncValidator)):"function"==typeof k&&M.setAsyncValidators([k]);const q=()=>M.updateValueAndValidity();Se(T._rawValidators,q),Se(T._rawAsyncValidators,q)}function Kn(M,T){M._pendingDirty&&M.markAsDirty(),M.setValue(M._pendingValue,{emitModelToViewChange:!1}),T.viewToModelUpdate(M._pendingValue),M._pendingChange=!1}const mo={provide:on,useExisting:(0,l.Rfq)(()=>vo)},Rr=(()=>Promise.resolve())();let vo=(()=>{class M extends on{constructor(b,k,q){super(),this.callSetDisabledState=q,this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.bkB,this.form=new vt({},ut(b),Zt(k))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(b){Rr.then(()=>{const k=this._findContainer(b.path);b.control=k.registerControl(b.name,b.control),W(b.control,b,this.callSetDisabledState),b.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(b)})}getControl(b){return this.form.get(b.path)}removeControl(b){Rr.then(()=>{const k=this._findContainer(b.path);k&&k.removeControl(b.name),this._directives.delete(b)})}addFormGroup(b){Rr.then(()=>{const k=this._findContainer(b.path),q=new vt({});(function hn(M,T){Je(M,T)})(q,b),k.registerControl(b.name,q),q.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(b){Rr.then(()=>{const k=this._findContainer(b.path);k&&k.removeControl(b.name)})}getFormGroup(b){return this.form.get(b.path)}updateModel(b,k){Rr.then(()=>{this.form.get(b.path).setValue(k)})}setValue(b){this.control.setValue(b)}onSubmit(b){return this.submitted=!0,function cn(M,T){M._syncPendingControls(),T.forEach(b=>{const k=b.control;"submit"===k.updateOn&&k._pendingChange&&(b.viewToModelUpdate(k._pendingValue),k._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(b),"dialog"===b?.target?.method}onReset(){this.resetForm()}resetForm(b=void 0){this.form.reset(b),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(b){return b.pop(),b.length?this.form.get(b):this.form}static{this.\u0275fac=function(k){return new(k||M)(l.rXU(st,10),l.rXU(be,10),l.rXU(yn,8))}}static{this.\u0275dir=l.FsC({type:M,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(k,q){1&k&&l.bIt("submit",function(Rt){return q.onSubmit(Rt)})("reset",function(){return q.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l.Jv_([mo]),l.Vt3]})}}return M})();function Mr(M,T){const b=M.indexOf(T);b>-1&&M.splice(b,1)}function gr(M){return"object"==typeof M&&null!==M&&2===Object.keys(M).length&&"value"in M&&"disabled"in M}const to=class extends qe{constructor(T=null,b,k){super(Gr(b),Ee(k,b)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(T),this._setUpdateStrategy(b),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),V(b)&&(b.nonNullable||b.initialValueIsDefault)&&(this.defaultValue=gr(T)?T.value:T)}setValue(T,b={}){this.value=this._pendingValue=T,this._onChange.length&&!1!==b.emitModelToViewChange&&this._onChange.forEach(k=>k(this.value,!1!==b.emitViewToModelChange)),this.updateValueAndValidity(b)}patchValue(T,b={}){this.setValue(T,b)}reset(T=this.defaultValue,b={}){this._applyFormState(T),this.markAsPristine(b),this.markAsUntouched(b),this.setValue(this.value,b),this._pendingChange=!1}_updateValue(){}_anyControls(T){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(T){this._onChange.push(T)}_unregisterOnChange(T){Mr(this._onChange,T)}registerOnDisabledChange(T){this._onDisabledChange.push(T)}_unregisterOnDisabledChange(T){Mr(this._onDisabledChange,T)}_forEachChild(T){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(T){gr(T)?(this.value=this._pendingValue=T.value,T.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=T}},vs={provide:Nt,useExisting:(0,l.Rfq)(()=>zo)},Ns=(()=>Promise.resolve())();let zo=(()=>{class M extends Nt{constructor(b,k,q,gt,Rt,wr){super(),this._changeDetectorRef=Rt,this.callSetDisabledState=wr,this.control=new to,this._registered=!1,this.name="",this.update=new l.bkB,this._parent=b,this._setValidators(k),this._setAsyncValidators(q),this.valueAccessor=function or(M,T){if(!T)return null;let b,k,q;return Array.isArray(T),T.forEach(gt=>{gt.constructor===Ne?b=gt:function Bn(M){return Object.getPrototypeOf(M.constructor)===xe}(gt)?k=gt:q=gt}),q||k||b||null}(0,gt)}ngOnChanges(b){if(this._checkForErrors(),!this._registered||"name"in b){if(this._registered&&(this._checkName(),this.formDirective)){const k=b.name.previousValue;this.formDirective.removeControl({name:k,path:this._getPath(k)})}this._setUpControl()}"isDisabled"in b&&this._updateDisabled(b),function ar(M,T){if(!M.hasOwnProperty("model"))return!1;const b=M.model;return!!b.isFirstChange()||!Object.is(T,b.currentValue)}(b,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(b){this.viewModel=b,this.update.emit(b)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){W(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(b){Ns.then(()=>{this.control.setValue(b,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(b){const k=b.isDisabled.currentValue,q=0!==k&&(0,l.L39)(k);Ns.then(()=>{q&&!this.control.disabled?this.control.disable():!q&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(b){return this._parent?function ne(M,T){return[...T.path,M]}(b,this._parent):[b]}static{this.\u0275fac=function(k){return new(k||M)(l.rXU(on,9),l.rXU(st,10),l.rXU(be,10),l.rXU(Fe,10),l.rXU(l.gRc,8),l.rXU(yn,8))}}static{this.\u0275dir=l.FsC({type:M,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l.Jv_([vs]),l.Vt3,l.OA$]})}}return M})(),ks=(()=>{class M{static{this.\u0275fac=function(k){return new(k||M)}}static{this.\u0275dir=l.FsC({type:M,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return M})();const Wo={provide:Fe,useExisting:(0,l.Rfq)(()=>ko),multi:!0};let oo=(()=>{class M{static{this.\u0275fac=function(k){return new(k||M)}}static{this.\u0275mod=l.$C({type:M})}static{this.\u0275inj=l.G2t({})}}return M})(),_s=(()=>{class M{constructor(){this._accessors=[]}add(b,k){this._accessors.push([b,k])}remove(b){for(let k=this._accessors.length-1;k>=0;--k)if(this._accessors[k][1]===b)return void this._accessors.splice(k,1)}select(b){this._accessors.forEach(k=>{this._isSameGroup(k,b)&&k[1]!==b&&k[1].fireUncheck(b.value)})}_isSameGroup(b,k){return!!b[0].control&&b[0]._parent===k._control._parent&&b[1].name===k.name}static{this.\u0275fac=function(k){return new(k||M)}}static{this.\u0275prov=l.jDH({token:M,factory:M.\u0275fac,providedIn:oo})}}return M})(),ko=(()=>{class M extends xe{constructor(b,k,q,gt){super(b,k),this._registry=q,this._injector=gt,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,l.WQX)(yn,{optional:!0})??pr}ngOnInit(){this._control=this._injector.get(Nt),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(b){this._state=b===this.value,this.setProperty("checked",this._state)}registerOnChange(b){this._fn=b,this.onChange=()=>{b(this.value),this._registry.select(this)}}setDisabledState(b){(this.setDisabledStateFired||b||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",b),this.setDisabledStateFired=!0}fireUncheck(b){this.writeValue(b)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(k){return new(k||M)(l.rXU(l.sFG),l.rXU(l.aKT),l.rXU(_s),l.rXU(l.zZn))}}static{this.\u0275dir=l.FsC({type:M,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(k,q){1&k&&l.bIt("change",function(){return q.onChange()})("blur",function(){return q.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[l.Jv_([Wo]),l.Vt3]})}}return M})();const Bt={provide:Fe,useExisting:(0,l.Rfq)(()=>Yt),multi:!0};function Qe(M,T){return null==M?`${T}`:(T&&"object"==typeof T&&(T="Object"),`${M}: ${T}`.slice(0,50))}let Yt=(()=>{class M extends xe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(b){this._compareWith=b}writeValue(b){this.value=b;const q=Qe(this._getOptionId(b),b);this.setProperty("value",q)}registerOnChange(b){this.onChange=k=>{this.value=this._getOptionValue(k),b(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(b){for(const k of this._optionMap.keys())if(this._compareWith(this._optionMap.get(k),b))return k;return null}_getOptionValue(b){const k=function Dt(M){return M.split(":")[0]}(b);return this._optionMap.has(k)?this._optionMap.get(k):b}static{this.\u0275fac=function(){let b;return function(q){return(b||(b=l.xGo(M)))(q||M)}}()}static{this.\u0275dir=l.FsC({type:M,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(k,q){1&k&&l.bIt("change",function(Rt){return q.onChange(Rt.target.value)})("blur",function(){return q.onTouched()})},inputs:{compareWith:"compareWith"},features:[l.Jv_([Bt]),l.Vt3]})}}return M})(),qn=(()=>{class M{constructor(b,k,q){this._element=b,this._renderer=k,this._select=q,this._select&&(this.id=this._select._registerOption())}set ngValue(b){null!=this._select&&(this._select._optionMap.set(this.id,b),this._setElementValue(Qe(this.id,b)),this._select.writeValue(this._select.value))}set value(b){this._setElementValue(b),this._select&&this._select.writeValue(this._select.value)}_setElementValue(b){this._renderer.setProperty(this._element.nativeElement,"value",b)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(k){return new(k||M)(l.rXU(l.aKT),l.rXU(l.sFG),l.rXU(Yt,9))}}static{this.\u0275dir=l.FsC({type:M,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return M})();const Xo={provide:Fe,useExisting:(0,l.Rfq)(()=>tr),multi:!0};function Pn(M,T){return null==M?`${T}`:("string"==typeof T&&(T=`'${T}'`),T&&"object"==typeof T&&(T="Object"),`${M}: ${T}`.slice(0,50))}let tr=(()=>{class M extends xe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(b){this._compareWith=b}writeValue(b){let k;if(this.value=b,Array.isArray(b)){const q=b.map(gt=>this._getOptionId(gt));k=(gt,Rt)=>{gt._setSelected(q.indexOf(Rt.toString())>-1)}}else k=(q,gt)=>{q._setSelected(!1)};this._optionMap.forEach(k)}registerOnChange(b){this.onChange=k=>{const q=[],gt=k.selectedOptions;if(void 0!==gt){const Rt=gt;for(let wr=0;wr<Rt.length;wr++){const Fr=this._getOptionValue(Rt[wr].value);q.push(Fr)}}else{const Rt=k.options;for(let wr=0;wr<Rt.length;wr++){const Do=Rt[wr];if(Do.selected){const Fr=this._getOptionValue(Do.value);q.push(Fr)}}}this.value=q,b(q)}}_registerOption(b){const k=(this._idCounter++).toString();return this._optionMap.set(k,b),k}_getOptionId(b){for(const k of this._optionMap.keys())if(this._compareWith(this._optionMap.get(k)._value,b))return k;return null}_getOptionValue(b){const k=function zr(M){return M.split(":")[0]}(b);return this._optionMap.has(k)?this._optionMap.get(k)._value:b}static{this.\u0275fac=function(){let b;return function(q){return(b||(b=l.xGo(M)))(q||M)}}()}static{this.\u0275dir=l.FsC({type:M,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(k,q){1&k&&l.bIt("change",function(Rt){return q.onChange(Rt.target)})("blur",function(){return q.onTouched()})},inputs:{compareWith:"compareWith"},features:[l.Jv_([Xo]),l.Vt3]})}}return M})(),_o=(()=>{class M{constructor(b,k,q){this._element=b,this._renderer=k,this._select=q,this._select&&(this.id=this._select._registerOption(this))}set ngValue(b){null!=this._select&&(this._value=b,this._setElementValue(Pn(this.id,b)),this._select.writeValue(this._select.value))}set value(b){this._select?(this._value=b,this._setElementValue(Pn(this.id,b)),this._select.writeValue(this._select.value)):this._setElementValue(b)}_setElementValue(b){this._renderer.setProperty(this._element.nativeElement,"value",b)}_setSelected(b){this._renderer.setProperty(this._element.nativeElement,"selected",b)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(k){return new(k||M)(l.rXU(l.aKT),l.rXU(l.sFG),l.rXU(tr,9))}}static{this.\u0275dir=l.FsC({type:M,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return M})();let xr=(()=>{class M{constructor(){this._validator=un}ngOnChanges(b){if(this.inputName in b){const k=this.normalizeInput(b[this.inputName].currentValue);this._enabled=this.enabled(k),this._validator=this._enabled?this.createValidator(k):un,this._onChange&&this._onChange()}}validate(b){return this._validator(b)}registerOnValidatorChange(b){this._onChange=b}enabled(b){return null!=b}static{this.\u0275fac=function(k){return new(k||M)}}static{this.\u0275dir=l.FsC({type:M,features:[l.OA$]})}}return M})();const _r={provide:st,useExisting:(0,l.Rfq)(()=>jo),multi:!0};let jo=(()=>{class M extends xr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.L39,this.createValidator=b=>Be}enabled(b){return b}static{this.\u0275fac=function(){let b;return function(q){return(b||(b=l.xGo(M)))(q||M)}}()}static{this.\u0275dir=l.FsC({type:M,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(k,q){2&k&&l.BMQ("required",q._enabled?"":null)},inputs:{required:"required"},features:[l.Jv_([_r]),l.Vt3]})}}return M})();const Ks={provide:st,useExisting:(0,l.Rfq)(()=>bn),multi:!0};let bn=(()=>{class M extends xr{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=b=>function It(M){return"number"==typeof M?M:parseInt(M,10)}(b),this.createValidator=b=>function Vn(M){return T=>function Ke(M){return null!=M&&"number"==typeof M.length}(T.value)&&T.value.length>M?{maxlength:{requiredLength:M,actualLength:T.value.length}}:null}(b)}static{this.\u0275fac=function(){let b;return function(q){return(b||(b=l.xGo(M)))(q||M)}}()}static{this.\u0275dir=l.FsC({type:M,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(k,q){2&k&&l.BMQ("maxlength",q._enabled?q.maxlength:null)},inputs:{maxlength:"maxlength"},features:[l.Jv_([Ks]),l.Vt3]})}}return M})(),Sn=(()=>{class M{static{this.\u0275fac=function(k){return new(k||M)}}static{this.\u0275mod=l.$C({type:M})}static{this.\u0275inj=l.G2t({imports:[oo]})}}return M})(),Qo=(()=>{class M{static withConfig(b){return{ngModule:M,providers:[{provide:yn,useValue:b.callSetDisabledState??pr}]}}static{this.\u0275fac=function(k){return new(k||M)}}static{this.\u0275mod=l.$C({type:M})}static{this.\u0275inj=l.G2t({imports:[Sn]})}}return M})()},345:(Ye,se,R)=>{"use strict";R.d(se,{$x:()=>$n,B8:()=>fe,W8:()=>Fn,hE:()=>ir});var l=R(6276),U=R(177),C=R(1626);class ie extends U.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class J extends ie{static makeCurrent(){(0,U.ZD)(new J)}onAndCancel(ce,V,Y){return ce.addEventListener(V,Y),()=>{ce.removeEventListener(V,Y)}}dispatchEvent(ce,V){ce.dispatchEvent(V)}remove(ce){ce.parentNode&&ce.parentNode.removeChild(ce)}createElement(ce,V){return(V=V||this.getDefaultDocument()).createElement(ce)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ce){return ce.nodeType===Node.ELEMENT_NODE}isShadowRoot(ce){return ce instanceof DocumentFragment}getGlobalEventTarget(ce,V){return"window"===V?window:"document"===V?ce:"body"===V?ce.body:null}getBaseHref(ce){const V=function H(){return L=L||document.querySelector("base"),L?L.getAttribute("href"):null}();return null==V?null:function ae(Ee){oe=oe||document.createElement("a"),oe.setAttribute("href",Ee);const ce=oe.pathname;return"/"===ce.charAt(0)?ce:`/${ce}`}(V)}resetBaseElement(){L=null}getUserAgent(){return window.navigator.userAgent}getCookie(ce){return(0,U._b)(document.cookie,ce)}}let oe,L=null,ee=(()=>{class Ee{build(){return new XMLHttpRequest}static{this.\u0275fac=function(Y){return new(Y||Ee)}}static{this.\u0275prov=l.jDH({token:Ee,factory:Ee.\u0275fac})}}return Ee})();const ve=new l.nKC("EventManagerPlugins");let Ge=(()=>{class Ee{constructor(V,Y){this._zone=Y,this._eventNameToPlugin=new Map,V.forEach(_e=>{_e.manager=this}),this._plugins=V.slice().reverse()}addEventListener(V,Y,_e){return this._findPluginFor(Y).addEventListener(V,Y,_e)}getZone(){return this._zone}_findPluginFor(V){let Y=this._eventNameToPlugin.get(V);if(Y)return Y;if(Y=this._plugins.find(qe=>qe.supports(V)),!Y)throw new l.wOt(5101,!1);return this._eventNameToPlugin.set(V,Y),Y}static{this.\u0275fac=function(Y){return new(Y||Ee)(l.KVO(ve),l.KVO(l.SKi))}}static{this.\u0275prov=l.jDH({token:Ee,factory:Ee.\u0275fac})}}return Ee})();class xe{constructor(ce){this._doc=ce}}const Fe="ng-app-id";let St=(()=>{class Ee{constructor(V,Y,_e,qe={}){this.doc=V,this.appId=Y,this.nonce=_e,this.platformId=qe,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,U.Vy)(qe),this.resetHostNodes()}addStyles(V){for(const Y of V)1===this.changeUsageCount(Y,1)&&this.onStyleAdded(Y)}removeStyles(V){for(const Y of V)this.changeUsageCount(Y,-1)<=0&&this.onStyleRemoved(Y)}ngOnDestroy(){const V=this.styleNodesInDOM;V&&(V.forEach(Y=>Y.remove()),V.clear());for(const Y of this.getAllStyles())this.onStyleRemoved(Y);this.resetHostNodes()}addHost(V){this.hostNodes.add(V);for(const Y of this.getAllStyles())this.addStyleToHost(V,Y)}removeHost(V){this.hostNodes.delete(V)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(V){for(const Y of this.hostNodes)this.addStyleToHost(Y,V)}onStyleRemoved(V){const Y=this.styleRef;Y.get(V)?.elements?.forEach(_e=>_e.remove()),Y.delete(V)}collectServerRenderedStyles(){const V=this.doc.head?.querySelectorAll(`style[${Fe}="${this.appId}"]`);if(V?.length){const Y=new Map;return V.forEach(_e=>{null!=_e.textContent&&Y.set(_e.textContent,_e)}),Y}return null}changeUsageCount(V,Y){const _e=this.styleRef;if(_e.has(V)){const qe=_e.get(V);return qe.usage+=Y,qe.usage}return _e.set(V,{usage:Y,elements:[]}),Y}getStyleElement(V,Y){const _e=this.styleNodesInDOM,qe=_e?.get(Y);if(qe?.parentNode===V)return _e.delete(Y),qe.removeAttribute(Fe),qe;{const vt=this.doc.createElement("style");return this.nonce&&vt.setAttribute("nonce",this.nonce),vt.textContent=Y,this.platformIsServer&&vt.setAttribute(Fe,this.appId),vt}}addStyleToHost(V,Y){const _e=this.getStyleElement(V,Y);V.appendChild(_e);const qe=this.styleRef,vt=qe.get(Y)?.elements;vt?vt.push(_e):qe.set(Y,{elements:[_e],usage:1})}resetHostNodes(){const V=this.hostNodes;V.clear(),V.add(this.doc.head)}static{this.\u0275fac=function(Y){return new(Y||Ee)(l.KVO(U.qQ),l.KVO(l.sZ2),l.KVO(l.BIS,8),l.KVO(l.Agw))}}static{this.\u0275prov=l.jDH({token:Ee,factory:Ee.\u0275fac})}}return Ee})();const Ze={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},pt=/%COMP%/g,Ke=new l.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function $e(Ee,ce){return ce.map(V=>V.replace(pt,Ee))}let bt=(()=>{class Ee{constructor(V,Y,_e,qe,vt,en,$t,jn=null){this.eventManager=V,this.sharedStylesHost=Y,this.appId=_e,this.removeStylesOnCompDestroy=qe,this.doc=vt,this.platformId=en,this.ngZone=$t,this.nonce=jn,this.rendererByCompId=new Map,this.platformIsServer=(0,U.Vy)(en),this.defaultRenderer=new mt(V,vt,$t,this.platformIsServer)}createRenderer(V,Y){if(!V||!Y)return this.defaultRenderer;this.platformIsServer&&Y.encapsulation===l.gXe.ShadowDom&&(Y={...Y,encapsulation:l.gXe.Emulated});const _e=this.getOrCreateRenderer(V,Y);return _e instanceof Vn?_e.applyToHost(V):_e instanceof Et&&_e.applyStyles(),_e}getOrCreateRenderer(V,Y){const _e=this.rendererByCompId;let qe=_e.get(Y.id);if(!qe){const vt=this.doc,en=this.ngZone,$t=this.eventManager,jn=this.sharedStylesHost,rr=this.removeStylesOnCompDestroy,yn=this.platformIsServer;switch(Y.encapsulation){case l.gXe.Emulated:qe=new Vn($t,jn,Y,this.appId,rr,vt,en,yn);break;case l.gXe.ShadowDom:return new Xe($t,jn,V,Y,vt,en,this.nonce,yn);default:qe=new Et($t,jn,Y,rr,vt,en,yn)}_e.set(Y.id,qe)}return qe}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(Y){return new(Y||Ee)(l.KVO(Ge),l.KVO(St),l.KVO(l.sZ2),l.KVO(Ke),l.KVO(U.qQ),l.KVO(l.Agw),l.KVO(l.SKi),l.KVO(l.BIS))}}static{this.\u0275prov=l.jDH({token:Ee,factory:Ee.\u0275fac})}}return Ee})();class mt{constructor(ce,V,Y,_e){this.eventManager=ce,this.doc=V,this.ngZone=Y,this.platformIsServer=_e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ce,V){return V?this.doc.createElementNS(Ze[V]||V,ce):this.doc.createElement(ce)}createComment(ce){return this.doc.createComment(ce)}createText(ce){return this.doc.createTextNode(ce)}appendChild(ce,V){(at(ce)?ce.content:ce).appendChild(V)}insertBefore(ce,V,Y){ce&&(at(ce)?ce.content:ce).insertBefore(V,Y)}removeChild(ce,V){ce&&ce.removeChild(V)}selectRootElement(ce,V){let Y="string"==typeof ce?this.doc.querySelector(ce):ce;if(!Y)throw new l.wOt(-5104,!1);return V||(Y.textContent=""),Y}parentNode(ce){return ce.parentNode}nextSibling(ce){return ce.nextSibling}setAttribute(ce,V,Y,_e){if(_e){V=_e+":"+V;const qe=Ze[_e];qe?ce.setAttributeNS(qe,V,Y):ce.setAttribute(V,Y)}else ce.setAttribute(V,Y)}removeAttribute(ce,V,Y){if(Y){const _e=Ze[Y];_e?ce.removeAttributeNS(_e,V):ce.removeAttribute(`${Y}:${V}`)}else ce.removeAttribute(V)}addClass(ce,V){ce.classList.add(V)}removeClass(ce,V){ce.classList.remove(V)}setStyle(ce,V,Y,_e){_e&(l.czy.DashCase|l.czy.Important)?ce.style.setProperty(V,Y,_e&l.czy.Important?"important":""):ce.style[V]=Y}removeStyle(ce,V,Y){Y&l.czy.DashCase?ce.style.removeProperty(V):ce.style[V]=""}setProperty(ce,V,Y){ce[V]=Y}setValue(ce,V){ce.nodeValue=V}listen(ce,V,Y){if("string"==typeof ce&&!(ce=(0,U.QT)().getGlobalEventTarget(this.doc,ce)))throw new Error(`Unsupported event target ${ce} for event ${V}`);return this.eventManager.addEventListener(ce,V,this.decoratePreventDefault(Y))}decoratePreventDefault(ce){return V=>{if("__ngUnwrap__"===V)return ce;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>ce(V)):ce(V))&&V.preventDefault()}}}function at(Ee){return"TEMPLATE"===Ee.tagName&&void 0!==Ee.content}class Xe extends mt{constructor(ce,V,Y,_e,qe,vt,en,$t){super(ce,qe,vt,$t),this.sharedStylesHost=V,this.hostEl=Y,this.shadowRoot=Y.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const jn=$e(_e.id,_e.styles);for(const rr of jn){const yn=document.createElement("style");en&&yn.setAttribute("nonce",en),yn.textContent=rr,this.shadowRoot.appendChild(yn)}}nodeOrShadowRoot(ce){return ce===this.hostEl?this.shadowRoot:ce}appendChild(ce,V){return super.appendChild(this.nodeOrShadowRoot(ce),V)}insertBefore(ce,V,Y){return super.insertBefore(this.nodeOrShadowRoot(ce),V,Y)}removeChild(ce,V){return super.removeChild(this.nodeOrShadowRoot(ce),V)}parentNode(ce){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ce)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Et extends mt{constructor(ce,V,Y,_e,qe,vt,en,$t){super(ce,qe,vt,en),this.sharedStylesHost=V,this.removeStylesOnCompDestroy=_e,this.styles=$t?$e($t,Y.styles):Y.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Vn extends Et{constructor(ce,V,Y,_e,qe,vt,en,$t){const jn=_e+"-"+Y.id;super(ce,V,Y,qe,vt,en,$t,jn),this.contentAttr=function st(Ee){return"_ngcontent-%COMP%".replace(pt,Ee)}(jn),this.hostAttr=function be(Ee){return"_nghost-%COMP%".replace(pt,Ee)}(jn)}applyToHost(ce){this.applyStyles(),this.setAttribute(ce,this.hostAttr,"")}createElement(ce,V){const Y=super.createElement(ce,V);return super.setAttribute(Y,this.contentAttr,""),Y}}let Rn=(()=>{class Ee extends xe{constructor(V){super(V)}supports(V){return!0}addEventListener(V,Y,_e){return V.addEventListener(Y,_e,!1),()=>this.removeEventListener(V,Y,_e)}removeEventListener(V,Y,_e){return V.removeEventListener(Y,_e)}static{this.\u0275fac=function(Y){return new(Y||Ee)(l.KVO(U.qQ))}}static{this.\u0275prov=l.jDH({token:Ee,factory:Ee.\u0275fac})}}return Ee})();const un=["alt","control","meta","shift"],Mt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},te={alt:Ee=>Ee.altKey,control:Ee=>Ee.ctrlKey,meta:Ee=>Ee.metaKey,shift:Ee=>Ee.shiftKey};let le=(()=>{class Ee extends xe{constructor(V){super(V)}supports(V){return null!=Ee.parseEventName(V)}addEventListener(V,Y,_e){const qe=Ee.parseEventName(Y),vt=Ee.eventCallback(qe.fullKey,_e,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,U.QT)().onAndCancel(V,qe.domEventName,vt))}static parseEventName(V){const Y=V.toLowerCase().split("."),_e=Y.shift();if(0===Y.length||"keydown"!==_e&&"keyup"!==_e)return null;const qe=Ee._normalizeKey(Y.pop());let vt="",en=Y.indexOf("code");if(en>-1&&(Y.splice(en,1),vt="code."),un.forEach(jn=>{const rr=Y.indexOf(jn);rr>-1&&(Y.splice(rr,1),vt+=jn+".")}),vt+=qe,0!=Y.length||0===qe.length)return null;const $t={};return $t.domEventName=_e,$t.fullKey=vt,$t}static matchEventFullKeyCode(V,Y){let _e=Mt[V.key]||V.key,qe="";return Y.indexOf("code.")>-1&&(_e=V.code,qe="code."),!(null==_e||!_e)&&(_e=_e.toLowerCase()," "===_e?_e="space":"."===_e&&(_e="dot"),un.forEach(vt=>{vt!==_e&&(0,te[vt])(V)&&(qe+=vt+".")}),qe+=_e,qe===Y)}static eventCallback(V,Y,_e){return qe=>{Ee.matchEventFullKeyCode(qe,V)&&_e.runGuarded(()=>Y(qe))}}static _normalizeKey(V){return"esc"===V?"escape":V}static{this.\u0275fac=function(Y){return new(Y||Ee)(l.KVO(U.qQ))}}static{this.\u0275prov=l.jDH({token:Ee,factory:Ee.\u0275fac})}}return Ee})();function fe(Ee,ce){return(0,l.TL3)({rootComponent:Ee,...Pe(ce)})}function Pe(Ee){return{appProviders:[...ct,...Ee?.providers??[]],platformProviders:Ct}}const Ct=[{provide:l.Agw,useValue:U.AJ},{provide:l.PLl,useValue:function ut(){J.makeCurrent()},multi:!0},{provide:U.qQ,useFactory:function Zt(){return(0,l.TL$)(document),document},deps:[]}],ct=[{provide:l.H8p,useValue:"root"},{provide:l.zcH,useFactory:function Kt(){return new l.zcH},deps:[]},{provide:ve,useClass:Rn,multi:!0,deps:[U.qQ,l.SKi,l.Agw]},{provide:ve,useClass:le,multi:!0,deps:[U.qQ]},bt,St,Ge,{provide:l._9s,useExisting:bt},{provide:U.N0,useClass:ee,deps:[]},[]];let Fn=(()=>{class Ee{constructor(V){this._doc=V,this._dom=(0,U.QT)()}addTag(V,Y=!1){return V?this._getOrCreateElement(V,Y):null}addTags(V,Y=!1){return V?V.reduce((_e,qe)=>(qe&&_e.push(this._getOrCreateElement(qe,Y)),_e),[]):[]}getTag(V){return V&&this._doc.querySelector(`meta[${V}]`)||null}getTags(V){if(!V)return[];const Y=this._doc.querySelectorAll(`meta[${V}]`);return Y?[].slice.call(Y):[]}updateTag(V,Y){if(!V)return null;Y=Y||this._parseSelector(V);const _e=this.getTag(Y);return _e?this._setMetaElementAttributes(V,_e):this._getOrCreateElement(V,!0)}removeTag(V){this.removeTagElement(this.getTag(V))}removeTagElement(V){V&&this._dom.remove(V)}_getOrCreateElement(V,Y=!1){if(!Y){const vt=this._parseSelector(V),en=this.getTags(vt).filter($t=>this._containsAttributes(V,$t))[0];if(void 0!==en)return en}const _e=this._dom.createElement("meta");return this._setMetaElementAttributes(V,_e),this._doc.getElementsByTagName("head")[0].appendChild(_e),_e}_setMetaElementAttributes(V,Y){return Object.keys(V).forEach(_e=>Y.setAttribute(this._getMetaKeyMap(_e),V[_e])),Y}_parseSelector(V){const Y=V.name?"name":"property";return`${Y}="${V[Y]}"`}_containsAttributes(V,Y){return Object.keys(V).every(_e=>Y.getAttribute(this._getMetaKeyMap(_e))===V[_e])}_getMetaKeyMap(V){return on[V]||V}static{this.\u0275fac=function(Y){return new(Y||Ee)(l.KVO(U.qQ))}}static{this.\u0275prov=l.jDH({token:Ee,factory:function(Y){let _e=null;return _e=Y?new Y:function it(){return new Fn((0,l.KVO)(U.qQ))}(),_e},providedIn:"root"})}}return Ee})();const on={httpEquiv:"http-equiv"};let ir=(()=>{class Ee{constructor(V){this._doc=V}getTitle(){return this._doc.title}setTitle(V){this._doc.title=V||""}static{this.\u0275fac=function(Y){return new(Y||Ee)(l.KVO(U.qQ))}}static{this.\u0275prov=l.jDH({token:Ee,factory:function(Y){let _e=null;return _e=Y?new Y:function Nt(){return new ir((0,l.KVO)(U.qQ))}(),_e},providedIn:"root"})}}return Ee})();function $n(...Ee){const ce=[],V=new Set;for(const{\u0275providers:Y,\u0275kind:_e}of Ee)V.add(_e),Y.length&&ce.push(Y);return(0,l.EmA)([[],V.has(0)?[]:(0,l.M8M)(),V.has(1)?[]:(0,C.$m)(),ce])}typeof window<"u"&&window},8435:(Ye,se,R)=>{"use strict";R.d(se,{nX:()=>ot,Ix:()=>fr,Wk:()=>ds,wQ:()=>Ar,iI:()=>ho,n3:()=>qn,lh:()=>g});var l=R(6276),U=R(1985),C=R(8071),J=R(6648),L=R(7673),H=R(4412),oe=R(3073),ae=R(3669),he=R(6450),ee=R(9326),ve=R(8496),Ge=R(4360),xe=R(5225);function Fe(...f){const y=(0,ee.lI)(f),d=(0,ee.ms)(f),{args:_,keys:S}=(0,oe.D)(f);if(0===_.length)return(0,J.H)([],y);const N=new U.c(function St(f,y,d=ae.D){return _=>{Ze(y,()=>{const{length:S}=f,N=new Array(S);let $=S,pe=S;for(let de=0;de<S;de++)Ze(y,()=>{const rt=(0,J.H)(f[de],y);let xt=!1;rt.subscribe((0,Ge._)(_,vn=>{N[de]=vn,xt||(xt=!0,pe--),pe||_.next(d(N.slice()))},()=>{--$||_.complete()}))},_)},_)}}(_,y,S?$=>(0,ve.e)(S,$):ae.D));return d?N.pipe((0,he.I)(d)):N}function Ze(f,y,d){f?(0,xe.N)(d,f,y):y()}var pt=R(9350),et=R(8793),Gt=R(8750);function Ne(f){return new U.c(y=>{(0,Gt.Tg)(f()).subscribe(y)})}var je=R(1203),Ke=R(8810),st=R(983),be=R(8359),$e=R(9974);function bt(){return(0,$e.N)((f,y)=>{let d=null;f._refCount++;const _=(0,Ge._)(y,void 0,void 0,void 0,()=>{if(!f||f._refCount<=0||0<--f._refCount)return void(d=null);const S=f._connection,N=d;d=null,S&&(!N||S===N)&&S.unsubscribe(),y.unsubscribe()});f.subscribe(_),_.closed||(d=f.connect())})}class mt extends U.c{constructor(y,d){super(),this.source=y,this.subjectFactory=d,this._subject=null,this._refCount=0,this._connection=null,(0,$e.S)(y)&&(this.lift=y.lift)}_subscribe(y){return this.getSubject().subscribe(y)}getSubject(){const y=this._subject;return(!y||y.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:y}=this;this._subject=this._connection=null,y?.unsubscribe()}connect(){let y=this._connection;if(!y){y=this._connection=new be.yU;const d=this.getSubject();y.add(this.source.subscribe((0,Ge._)(d,void 0,()=>{this._teardown(),d.complete()},_=>{this._teardown(),d.error(_)},()=>this._teardown()))),y.closed&&(this._connection=null,y=be.yU.EMPTY)}return y}refCount(){return bt()(this)}}var tn=R(1413),Be=R(177),at=R(6354),Xe=R(5558),Et=R(6697),Vn=R(9172),Rn=R(5964),un=R(1397),Mt=R(1594),te=R(274),le=R(8141),fe=R(9437);var Le=R(9901);function ut(f){return f<=0?()=>st.w:(0,$e.N)((y,d)=>{let _=[];y.subscribe((0,Ge._)(d,S=>{_.push(S),f<_.length&&_.shift()},()=>{for(const S of _)d.next(S);d.complete()},void 0,()=>{_=null}))})}var Kt=R(3774),Qt=R(980),ln=R(5343),ct=R(6365),tt=R(345);const it="primary",Fn=Symbol("RouteTitle");class on{constructor(y){this.params=y||{}}has(y){return Object.prototype.hasOwnProperty.call(this.params,y)}get(y){if(this.has(y)){const d=this.params[y];return Array.isArray(d)?d[0]:d}return null}getAll(y){if(this.has(y)){const d=this.params[y];return Array.isArray(d)?d:[d]}return[]}get keys(){return Object.keys(this.params)}}function Nt(f){return new on(f)}function ir(f,y,d){const _=d.path.split("/");if(_.length>f.length||"full"===d.pathMatch&&(y.hasChildren()||_.length<f.length))return null;const S={};for(let N=0;N<_.length;N++){const $=_[N],pe=f[N];if($.startsWith(":"))S[$.substring(1)]=pe;else if($!==pe.path)return null}return{consumed:f.slice(0,_.length),posParams:S}}function Xt(f,y){const d=f?Object.keys(f):void 0,_=y?Object.keys(y):void 0;if(!d||!_||d.length!=_.length)return!1;let S;for(let N=0;N<d.length;N++)if(S=d[N],!kt(f[S],y[S]))return!1;return!0}function kt(f,y){if(Array.isArray(f)&&Array.isArray(y)){if(f.length!==y.length)return!1;const d=[...f].sort(),_=[...y].sort();return d.every((S,N)=>_[N]===S)}return f===y}function Pt(f){return f.length>0?f[f.length-1]:null}function wn(f){return function ie(f){return!!f&&(f instanceof U.c||(0,C.T)(f.lift)&&(0,C.T)(f.subscribe))}(f)?f:(0,l.jNT)(f)?(0,J.H)(Promise.resolve(f)):(0,L.of)(f)}const Ft={exact:function Hr(f,y,d){if(!fn(f.segments,y.segments)||!ye(f.segments,y.segments,d)||f.numberOfChildren!==y.numberOfChildren)return!1;for(const _ in y.children)if(!f.children[_]||!Hr(f.children[_],y.children[_],d))return!1;return!0},subset:Ie},zn={exact:function Ln(f,y){return Xt(f,y)},subset:function Z(f,y){return Object.keys(y).length<=Object.keys(f).length&&Object.keys(y).every(d=>kt(f[d],y[d]))},ignored:()=>!0};function Yn(f,y,d){return Ft[d.paths](f.root,y.root,d.matrixParams)&&zn[d.queryParams](f.queryParams,y.queryParams)&&!("exact"===d.fragment&&f.fragment!==y.fragment)}function Ie(f,y,d){return G(f,y,y.segments,d)}function G(f,y,d,_){if(f.segments.length>d.length){const S=f.segments.slice(0,d.length);return!(!fn(S,d)||y.hasChildren()||!ye(S,d,_))}if(f.segments.length===d.length){if(!fn(f.segments,d)||!ye(f.segments,d,_))return!1;for(const S in y.children)if(!f.children[S]||!Ie(f.children[S],y.children[S],_))return!1;return!0}{const S=d.slice(0,f.segments.length),N=d.slice(f.segments.length);return!!(fn(f.segments,S)&&ye(f.segments,S,_)&&f.children[it])&&G(f.children[it],y,N,_)}}function ye(f,y,d){return y.every((_,S)=>zn[d](f[S].parameters,_.parameters))}class Te{constructor(y=new ze([],{}),d={},_=null){this.root=y,this.queryParams=d,this.fragment=_}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nt(this.queryParams)),this._queryParamMap}toString(){return eo.serialize(this)}}class ze{constructor(y,d){this.segments=y,this.children=d,this.parent=null,Object.values(d).forEach(_=>_.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $n(this)}}class wt{constructor(y,d){this.path=y,this.parameters=d}get parameterMap(){return this._parameterMap||(this._parameterMap=Nt(this.parameters)),this._parameterMap}toString(){return _e(this)}}function fn(f,y){return f.length===y.length&&f.every((d,_)=>d.path===y[_].path)}let Dn=(()=>{class f{static{this.\u0275fac=function(_){return new(_||f)}}static{this.\u0275prov=l.jDH({token:f,factory:function(){return new Wn},providedIn:"root"})}}return f})();class Wn{parse(y){const d=new X(y);return new Te(d.parseRootSegment(),d.parseQueryParams(),d.parseFragment())}serialize(y){const d=`/${cr(y.root,!0)}`,_=function vt(f){const y=Object.keys(f).map(d=>{const _=f[d];return Array.isArray(_)?_.map(S=>`${Ro(d)}=${Ro(S)}`).join("&"):`${Ro(d)}=${Ro(_)}`}).filter(d=>!!d);return y.length?`?${y.join("&")}`:""}(y.queryParams);return`${d}${_}${"string"==typeof y.fragment?`#${function Ee(f){return encodeURI(f)}(y.fragment)}`:""}`}}const eo=new Wn;function $n(f){return f.segments.map(y=>_e(y)).join("/")}function cr(f,y){if(!f.hasChildren())return $n(f);if(y){const d=f.children[it]?cr(f.children[it],!1):"",_=[];return Object.entries(f.children).forEach(([S,N])=>{S!==it&&_.push(`${S}:${cr(N,!1)}`)}),_.length>0?`${d}(${_.join("//")})`:d}{const d=function _t(f,y){let d=[];return Object.entries(f.children).forEach(([_,S])=>{_===it&&(d=d.concat(y(S,_)))}),Object.entries(f.children).forEach(([_,S])=>{_!==it&&(d=d.concat(y(S,_)))}),d}(f,(_,S)=>S===it?[cr(f.children[it],!1)]:[`${S}:${cr(_,!1)}`]);return 1===Object.keys(f.children).length&&null!=f.children[it]?`${$n(f)}/${d[0]}`:`${$n(f)}/(${d.join("//")})`}}function Gr(f){return encodeURIComponent(f).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ro(f){return Gr(f).replace(/%3B/gi,";")}function ce(f){return Gr(f).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function V(f){return decodeURIComponent(f)}function Y(f){return V(f.replace(/\+/g,"%20"))}function _e(f){return`${ce(f.path)}${function qe(f){return Object.keys(f).map(y=>`;${ce(y)}=${ce(f[y])}`).join("")}(f.parameters)}`}const en=/^[^\/()?;#]+/;function $t(f){const y=f.match(en);return y?y[0]:""}const jn=/^[^\/()?;=#]+/,yn=/^[^=?&#]+/,ne=/^[^&#]+/;class X{constructor(y){this.url=y,this.remaining=y}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ze([],{}):new ze([],this.parseChildren())}parseQueryParams(){const y={};if(this.consumeOptional("?"))do{this.parseQueryParam(y)}while(this.consumeOptional("&"));return y}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const y=[];for(this.peekStartsWith("(")||y.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),y.push(this.parseSegment());let d={};this.peekStartsWith("/(")&&(this.capture("/"),d=this.parseParens(!0));let _={};return this.peekStartsWith("(")&&(_=this.parseParens(!1)),(y.length>0||Object.keys(d).length>0)&&(_[it]=new ze(y,d)),_}parseSegment(){const y=$t(this.remaining);if(""===y&&this.peekStartsWith(";"))throw new l.wOt(4009,!1);return this.capture(y),new wt(V(y),this.parseMatrixParams())}parseMatrixParams(){const y={};for(;this.consumeOptional(";");)this.parseParam(y);return y}parseParam(y){const d=function rr(f){const y=f.match(jn);return y?y[0]:""}(this.remaining);if(!d)return;this.capture(d);let _="";if(this.consumeOptional("=")){const S=$t(this.remaining);S&&(_=S,this.capture(_))}y[V(d)]=V(_)}parseQueryParam(y){const d=function pr(f){const y=f.match(yn);return y?y[0]:""}(this.remaining);if(!d)return;this.capture(d);let _="";if(this.consumeOptional("=")){const $=function W(f){const y=f.match(ne);return y?y[0]:""}(this.remaining);$&&(_=$,this.capture(_))}const S=Y(d),N=Y(_);if(y.hasOwnProperty(S)){let $=y[S];Array.isArray($)||($=[$],y[S]=$),$.push(N)}else y[S]=N}parseParens(y){const d={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const _=$t(this.remaining),S=this.remaining[_.length];if("/"!==S&&")"!==S&&";"!==S)throw new l.wOt(4010,!1);let N;_.indexOf(":")>-1?(N=_.slice(0,_.indexOf(":")),this.capture(N),this.capture(":")):y&&(N=it);const $=this.parseChildren();d[N]=1===Object.keys($).length?$[it]:new ze([],$),this.consumeOptional("//")}return d}peekStartsWith(y){return this.remaining.startsWith(y)}consumeOptional(y){return!!this.peekStartsWith(y)&&(this.remaining=this.remaining.substring(y.length),!0)}capture(y){if(!this.consumeOptional(y))throw new l.wOt(4011,!1)}}function Se(f){return f.segments.length>0?new ze([],{[it]:f}):f}function Ae(f){const y={};for(const _ of Object.keys(f.children)){const N=Ae(f.children[_]);if(_===it&&0===N.segments.length&&N.hasChildren())for(const[$,pe]of Object.entries(N.children))y[$]=pe;else(N.segments.length>0||N.hasChildren())&&(y[_]=N)}return function Je(f){if(1===f.numberOfChildren&&f.children[it]){const y=f.children[it];return new ze(f.segments.concat(y.segments),y.children)}return f}(new ze(f.segments,y))}function ke(f){return f instanceof Te}function Ot(f){let y;const S=Se(function d(N){const $={};for(const de of N.children){const rt=d(de);$[de.outlet]=rt}const pe=new ze(N.url,$);return N===f&&(y=pe),pe}(f.root));return y??S}function Kn(f,y,d,_){let S=f;for(;S.parent;)S=S.parent;if(0===y.length)return In(S,S,S,d,_);const N=function ft(f){if("string"==typeof f[0]&&1===f.length&&"/"===f[0])return new Xn(!0,0,f);let y=0,d=!1;const _=f.reduce((S,N,$)=>{if("object"==typeof N&&null!=N){if(N.outlets){const pe={};return Object.entries(N.outlets).forEach(([de,rt])=>{pe[de]="string"==typeof rt?rt.split("/"):rt}),[...S,{outlets:pe}]}if(N.segmentPath)return[...S,N.segmentPath]}return"string"!=typeof N?[...S,N]:0===$?(N.split("/").forEach((pe,de)=>{0==de&&"."===pe||(0==de&&""===pe?d=!0:".."===pe?y++:""!=pe&&S.push(pe))}),S):[...S,N]},[]);return new Xn(d,y,_)}(y);if(N.toRoot())return In(S,S,new ze([],{}),d,_);const $=function Sr(f,y,d){if(f.isAbsolute)return new nn(y,!0,0);if(!d)return new nn(y,!1,NaN);if(null===d.parent)return new nn(d,!0,0);const _=dr(f.commands[0])?0:1;return function ar(f,y,d){let _=f,S=y,N=d;for(;N>S;){if(N-=S,_=_.parent,!_)throw new l.wOt(4005,!1);S=_.segments.length}return new nn(_,!1,S-N)}(d,d.segments.length-1+_,f.numberOfDoubleDots)}(N,S,f),pe=$.processChildren?or($.segmentGroup,$.index,N.commands):cn($.segmentGroup,$.index,N.commands);return In(S,$.segmentGroup,pe,d,_)}function dr(f){return"object"==typeof f&&null!=f&&!f.outlets&&!f.segmentPath}function hn(f){return"object"==typeof f&&null!=f&&f.outlets}function In(f,y,d,_,S){let $,N={};_&&Object.entries(_).forEach(([de,rt])=>{N[de]=Array.isArray(rt)?rt.map(xt=>`${xt}`):`${rt}`}),$=f===y?d:hr(f,y,d);const pe=Se(Ae($));return new Te(pe,N,S)}function hr(f,y,d){const _={};return Object.entries(f.children).forEach(([S,N])=>{_[S]=N===y?d:hr(N,y,d)}),new ze(f.segments,_)}class Xn{constructor(y,d,_){if(this.isAbsolute=y,this.numberOfDoubleDots=d,this.commands=_,y&&_.length>0&&dr(_[0]))throw new l.wOt(4003,!1);const S=_.find(hn);if(S&&S!==Pt(_))throw new l.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class nn{constructor(y,d,_){this.segmentGroup=y,this.processChildren=d,this.index=_}}function cn(f,y,d){if(f||(f=new ze([],{})),0===f.segments.length&&f.hasChildren())return or(f,y,d);const _=function xo(f,y,d){let _=0,S=y;const N={match:!1,pathIndex:0,commandIndex:0};for(;S<f.segments.length;){if(_>=d.length)return N;const $=f.segments[S],pe=d[_];if(hn(pe))break;const de=`${pe}`,rt=_<d.length-1?d[_+1]:null;if(S>0&&void 0===de)break;if(de&&rt&&"object"==typeof rt&&void 0===rt.outlets){if(!vo(de,rt,$))return N;_+=2}else{if(!vo(de,{},$))return N;_++}S++}return{match:!0,pathIndex:S,commandIndex:_}}(f,y,d),S=d.slice(_.commandIndex);if(_.match&&_.pathIndex<f.segments.length){const N=new ze(f.segments.slice(0,_.pathIndex),{});return N.children[it]=new ze(f.segments.slice(_.pathIndex),f.children),or(N,0,S)}return _.match&&0===S.length?new ze(f.segments,{}):_.match&&!f.hasChildren()?Po(f,y,d):_.match?or(f,0,S):Po(f,y,d)}function or(f,y,d){if(0===d.length)return new ze(f.segments,{});{const _=function Bn(f){return hn(f[0])?f[0].outlets:{[it]:f}}(d),S={};if(Object.keys(_).some(N=>N!==it)&&f.children[it]&&1===f.numberOfChildren&&0===f.children[it].segments.length){const N=or(f.children[it],y,d);return new ze(f.segments,N.children)}return Object.entries(_).forEach(([N,$])=>{"string"==typeof $&&($=[$]),null!==$&&(S[N]=cn(f.children[N],y,$))}),Object.entries(f.children).forEach(([N,$])=>{void 0===_[N]&&(S[N]=$)}),new ze(f.segments,S)}}function Po(f,y,d){const _=f.segments.slice(0,y);let S=0;for(;S<d.length;){const N=d[S];if(hn(N)){const de=mo(N.outlets);return new ze(_,de)}if(0===S&&dr(d[0])){_.push(new wt(f.segments[y].path,Rr(d[0]))),S++;continue}const $=hn(N)?N.outlets[it]:`${N}`,pe=S<d.length-1?d[S+1]:null;$&&pe&&dr(pe)?(_.push(new wt($,Rr(pe))),S+=2):(_.push(new wt($,{})),S++)}return new ze(_,{})}function mo(f){const y={};return Object.entries(f).forEach(([d,_])=>{"string"==typeof _&&(_=[_]),null!==_&&(y[d]=Po(new ze([],{}),0,_))}),y}function Rr(f){const y={};return Object.entries(f).forEach(([d,_])=>y[d]=`${_}`),y}function vo(f,y,d){return f==d.path&&Xt(y,d.parameters)}const Mr="imperative";class gr{constructor(y,d){this.id=y,this.url=d}}class to extends gr{constructor(y,d,_="imperative",S=null){super(y,d),this.type=0,this.navigationTrigger=_,this.restoredState=S}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class no extends gr{constructor(y,d,_){super(y,d),this.urlAfterRedirects=_,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class mr extends gr{constructor(y,d,_,S){super(y,d),this.reason=_,this.code=S,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class No extends gr{constructor(y,d,_,S){super(y,d),this.reason=_,this.code=S,this.type=16}}class gs extends gr{constructor(y,d,_,S){super(y,d),this.error=_,this.target=S,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class An extends gr{constructor(y,d,_,S){super(y,d),this.urlAfterRedirects=_,this.state=S,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ws extends gr{constructor(y,d,_,S){super(y,d),this.urlAfterRedirects=_,this.state=S,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xs extends gr{constructor(y,d,_,S,N){super(y,d),this.urlAfterRedirects=_,this.state=S,this.shouldActivate=N,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ps extends gr{constructor(y,d,_,S){super(y,d),this.urlAfterRedirects=_,this.state=S,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ms extends gr{constructor(y,d,_,S){super(y,d),this.urlAfterRedirects=_,this.state=S,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vs{constructor(y){this.route=y,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ns{constructor(y){this.route=y,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class zo{constructor(y){this.snapshot=y,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ks{constructor(y){this.snapshot=y,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fs{constructor(y){this.snapshot=y,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ys{constructor(y){this.snapshot=y,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wo{constructor(y,d,_){this.routerEvent=y,this.position=d,this.anchor=_,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ro{}class oo{constructor(y){this.url=y}}class ko{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Fo,this.attachRef=null}}let Fo=(()=>{class f{constructor(){this.contexts=new Map}onChildOutletCreated(d,_){const S=this.getOrCreateContext(d);S.outlet=_,this.contexts.set(d,S)}onChildOutletDestroyed(d){const _=this.getContext(d);_&&(_.outlet=null,_.attachRef=null)}onOutletDeactivated(){const d=this.contexts;return this.contexts=new Map,d}onOutletReAttached(d){this.contexts=d}getOrCreateContext(d){let _=this.getContext(d);return _||(_=new ko,this.contexts.set(d,_)),_}getContext(d){return this.contexts.get(d)||null}static{this.\u0275fac=function(_){return new(_||f)}}static{this.\u0275prov=l.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})();class ns{constructor(y){this._root=y}get root(){return this._root.value}parent(y){const d=this.pathFromRoot(y);return d.length>1?d[d.length-2]:null}children(y){const d=Lo(y,this._root);return d?d.children.map(_=>_.value):[]}firstChild(y){const d=Lo(y,this._root);return d&&d.children.length>0?d.children[0].value:null}siblings(y){const d=rs(y,this._root);return d.length<2?[]:d[d.length-2].children.map(S=>S.value).filter(S=>S!==y)}pathFromRoot(y){return rs(y,this._root).map(d=>d.value)}}function Lo(f,y){if(f===y.value)return y;for(const d of y.children){const _=Lo(f,d);if(_)return _}return null}function rs(f,y){if(f===y.value)return[y];for(const d of y.children){const _=rs(f,d);if(_.length)return _.unshift(y),_}return[]}class At{constructor(y,d){this.value=y,this.children=d}toString(){return`TreeNode(${this.value})`}}function _n(f){const y={};return f&&f.children.forEach(d=>y[d.value.outlet]=d),y}class Hn extends ns{constructor(y,d){super(y),this.snapshot=d,Bt(this,y)}toString(){return this.snapshot.toString()}}function so(f,y){const d=function Tn(f,y){const $=new Ir([],{},{},"",{},it,y,null,{});return new vr("",new At($,[]))}(0,y),_=new H.t([new wt("",{})]),S=new H.t({}),N=new H.t({}),$=new H.t({}),pe=new H.t(""),de=new ot(_,S,$,pe,N,it,y,d.root);return de.snapshot=d.root,new Hn(new At(de,[]),d)}class ot{constructor(y,d,_,S,N,$,pe,de){this.urlSubject=y,this.paramsSubject=d,this.queryParamsSubject=_,this.fragmentSubject=S,this.dataSubject=N,this.outlet=$,this.component=pe,this._futureSnapshot=de,this.title=this.dataSubject?.pipe((0,at.T)(rt=>rt[Fn]))??(0,L.of)(void 0),this.url=y,this.params=d,this.queryParams=_,this.fragment=S,this.data=N}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,at.T)(y=>Nt(y)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,at.T)(y=>Nt(y)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function yo(f,y="emptyOnly"){const d=f.pathFromRoot;let _=0;if("always"!==y)for(_=d.length-1;_>=1;){const S=d[_],N=d[_-1];if(S.routeConfig&&""===S.routeConfig.path)_--;else{if(N.component)break;_--}}return function Ko(f){return f.reduce((y,d)=>({params:{...y.params,...d.params},data:{...y.data,...d.data},resolve:{...d.data,...y.resolve,...d.routeConfig?.data,...d._resolvedData}}),{params:{},data:{},resolve:{}})}(d.slice(_))}class Ir{get title(){return this.data?.[Fn]}constructor(y,d,_,S,N,$,pe,de,rt){this.url=y,this.params=d,this.queryParams=_,this.fragment=S,this.data=N,this.outlet=$,this.component=pe,this.routeConfig=de,this._resolve=rt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Nt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(_=>_.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class vr extends ns{constructor(y,d){super(d),this.url=y,Bt(this,d)}toString(){return Qe(this._root)}}function Bt(f,y){y.value._routerState=f,y.children.forEach(d=>Bt(f,d))}function Qe(f){const y=f.children.length>0?` { ${f.children.map(Qe).join(", ")} } `:"";return`${f.value}${y}`}function Dt(f){if(f.snapshot){const y=f.snapshot,d=f._futureSnapshot;f.snapshot=d,Xt(y.queryParams,d.queryParams)||f.queryParamsSubject.next(d.queryParams),y.fragment!==d.fragment&&f.fragmentSubject.next(d.fragment),Xt(y.params,d.params)||f.paramsSubject.next(d.params),function Or(f,y){if(f.length!==y.length)return!1;for(let d=0;d<f.length;++d)if(!Xt(f[d],y[d]))return!1;return!0}(y.url,d.url)||f.urlSubject.next(d.url),Xt(y.data,d.data)||f.dataSubject.next(d.data)}else f.snapshot=f._futureSnapshot,f.dataSubject.next(f._futureSnapshot.data)}function Yt(f,y){const d=Xt(f.params,y.params)&&function er(f,y){return fn(f,y)&&f.every((d,_)=>Xt(d.parameters,y[_].parameters))}(f.url,y.url);return d&&!(!f.parent!=!y.parent)&&(!f.parent||Yt(f.parent,y.parent))}let qn=(()=>{class f{constructor(){this.activated=null,this._activatedRoute=null,this.name=it,this.activateEvents=new l.bkB,this.deactivateEvents=new l.bkB,this.attachEvents=new l.bkB,this.detachEvents=new l.bkB,this.parentContexts=(0,l.WQX)(Fo),this.location=(0,l.WQX)(l.c1b),this.changeDetector=(0,l.WQX)(l.gRc),this.environmentInjector=(0,l.WQX)(l.uvJ),this.inputBinder=(0,l.WQX)(Pn,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(d){if(d.name){const{firstChange:_,previousValue:S}=d.name;if(_)return;this.isTrackedInParentContexts(S)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(S)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(d){return this.parentContexts.getContext(d)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const d=this.parentContexts.getContext(this.name);d?.route&&(d.attachRef?this.attach(d.attachRef,d.route):this.activateWith(d.route,d.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.wOt(4012,!1);this.location.detach();const d=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(d.instance),d}attach(d,_){this.activated=d,this._activatedRoute=_,this.location.insert(d.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(d.instance)}deactivate(){if(this.activated){const d=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(d)}}activateWith(d,_){if(this.isActivated)throw new l.wOt(4013,!1);this._activatedRoute=d;const S=this.location,$=d.snapshot.component,pe=this.parentContexts.getOrCreateContext(this.name).children,de=new Xo(d,pe,S.injector);this.activated=S.createComponent($,{index:S.length,injector:de,environmentInjector:_??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(_){return new(_||f)}}static{this.\u0275dir=l.FsC({type:f,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.OA$]})}}return f})();class Xo{constructor(y,d,_){this.route=y,this.childContexts=d,this.parent=_}get(y,d){return y===ot?this.route:y===Fo?this.childContexts:this.parent.get(y,d)}}const Pn=new l.nKC("");let zr=(()=>{class f{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(d){this.unsubscribeFromRouteData(d),this.subscribeToRouteData(d)}unsubscribeFromRouteData(d){this.outletDataSubscriptions.get(d)?.unsubscribe(),this.outletDataSubscriptions.delete(d)}subscribeToRouteData(d){const{activatedRoute:_}=d,S=Fe([_.queryParams,_.params,_.data]).pipe((0,Xe.n)(([N,$,pe],de)=>(pe={...N,...$,...pe},0===de?(0,L.of)(pe):Promise.resolve(pe)))).subscribe(N=>{if(!d.isActivated||!d.activatedComponentRef||d.activatedRoute!==_||null===_.component)return void this.unsubscribeFromRouteData(d);const $=(0,l.HJs)(_.component);if($)for(const{templateName:pe}of $.inputs)d.activatedComponentRef.setInput(pe,N[pe]);else this.unsubscribeFromRouteData(d)});this.outletDataSubscriptions.set(d,S)}static{this.\u0275fac=function(_){return new(_||f)}}static{this.\u0275prov=l.jDH({token:f,factory:f.\u0275fac})}}return f})();function tr(f,y,d){if(d&&f.shouldReuseRoute(y.value,d.value.snapshot)){const _=d.value;_._futureSnapshot=y.value;const S=function _o(f,y,d){return y.children.map(_=>{for(const S of d.children)if(f.shouldReuseRoute(_.value,S.value.snapshot))return tr(f,_,S);return tr(f,_)})}(f,y,d);return new At(_,S)}{if(f.shouldAttach(y.value)){const N=f.retrieve(y.value);if(null!==N){const $=N.route;return $.value._futureSnapshot=y.value,$.children=y.children.map(pe=>tr(f,pe)),$}}const _=function It(f){return new ot(new H.t(f.url),new H.t(f.params),new H.t(f.queryParams),new H.t(f.fragment),new H.t(f.data),f.outlet,f.component,f)}(y.value),S=y.children.map(N=>tr(f,N));return new At(_,S)}}const yr="ngNavigationCancelingError";function xr(f,y){const{redirectTo:d,navigationBehaviorOptions:_}=ke(y)?{redirectTo:y,navigationBehaviorOptions:void 0}:y,S=Pr(!1,0,y);return S.url=d,S.navigationBehaviorOptions=_,S}function Pr(f,y,d){const _=new Error("NavigationCancelingError: "+(f||""));return _[yr]=!0,_.cancellationCode=y,d&&(_.url=d),_}function io(f){return f&&f[yr]}let ao=(()=>{class f{static{this.\u0275fac=function(_){return new(_||f)}}static{this.\u0275cmp=l.VBU({type:f,selectors:[["ng-component"]],standalone:!0,features:[l.aNF],decls:1,vars:0,template:function(_,S){1&_&&l.nrm(0,"router-outlet")},dependencies:[qn],encapsulation:2})}}return f})();function bn(f){const y=f.children&&f.children.map(bn),d=y?{...f,children:y}:{...f};return!d.component&&!d.loadComponent&&(y||d.loadChildren)&&d.outlet&&d.outlet!==it&&(d.component=ao),d}function Gn(f){return f.outlet||it}function Co(f){if(!f)return null;if(f.routeConfig?._injector)return f.routeConfig._injector;for(let y=f.parent;y;y=y.parent){const d=y.routeConfig;if(d?._loadedInjector)return d._loadedInjector;if(d?._injector)return d._injector}return null}class Sn{constructor(y,d,_,S,N){this.routeReuseStrategy=y,this.futureState=d,this.currState=_,this.forwardEvent=S,this.inputBindingEnabled=N}activate(y){const d=this.futureState._root,_=this.currState?this.currState._root:null;this.deactivateChildRoutes(d,_,y),Dt(this.futureState.root),this.activateChildRoutes(d,_,y)}deactivateChildRoutes(y,d,_){const S=_n(d);y.children.forEach(N=>{const $=N.value.outlet;this.deactivateRoutes(N,S[$],_),delete S[$]}),Object.values(S).forEach(N=>{this.deactivateRouteAndItsChildren(N,_)})}deactivateRoutes(y,d,_){const S=y.value,N=d?d.value:null;if(S===N)if(S.component){const $=_.getContext(S.outlet);$&&this.deactivateChildRoutes(y,d,$.children)}else this.deactivateChildRoutes(y,d,_);else N&&this.deactivateRouteAndItsChildren(d,_)}deactivateRouteAndItsChildren(y,d){y.value.component&&this.routeReuseStrategy.shouldDetach(y.value.snapshot)?this.detachAndStoreRouteSubtree(y,d):this.deactivateRouteAndOutlet(y,d)}detachAndStoreRouteSubtree(y,d){const _=d.getContext(y.value.outlet),S=_&&y.value.component?_.children:d,N=_n(y);for(const $ of Object.keys(N))this.deactivateRouteAndItsChildren(N[$],S);if(_&&_.outlet){const $=_.outlet.detach(),pe=_.children.onOutletDeactivated();this.routeReuseStrategy.store(y.value.snapshot,{componentRef:$,route:y,contexts:pe})}}deactivateRouteAndOutlet(y,d){const _=d.getContext(y.value.outlet),S=_&&y.value.component?_.children:d,N=_n(y);for(const $ of Object.keys(N))this.deactivateRouteAndItsChildren(N[$],S);_&&(_.outlet&&(_.outlet.deactivate(),_.children.onOutletDeactivated()),_.attachRef=null,_.route=null)}activateChildRoutes(y,d,_){const S=_n(d);y.children.forEach(N=>{this.activateRoutes(N,S[N.value.outlet],_),this.forwardEvent(new ys(N.value.snapshot))}),y.children.length&&this.forwardEvent(new ks(y.value.snapshot))}activateRoutes(y,d,_){const S=y.value,N=d?d.value:null;if(Dt(S),S===N)if(S.component){const $=_.getOrCreateContext(S.outlet);this.activateChildRoutes(y,d,$.children)}else this.activateChildRoutes(y,d,_);else if(S.component){const $=_.getOrCreateContext(S.outlet);if(this.routeReuseStrategy.shouldAttach(S.snapshot)){const pe=this.routeReuseStrategy.retrieve(S.snapshot);this.routeReuseStrategy.store(S.snapshot,null),$.children.onOutletReAttached(pe.contexts),$.attachRef=pe.componentRef,$.route=pe.route.value,$.outlet&&$.outlet.attach(pe.componentRef,pe.route.value),Dt(pe.route.value),this.activateChildRoutes(y,null,$.children)}else{const pe=Co(S.snapshot);$.attachRef=null,$.route=S,$.injector=pe,$.outlet&&$.outlet.activateWith(S,$.injector),this.activateChildRoutes(y,null,$.children)}}else this.activateChildRoutes(y,null,_)}}class wo{constructor(y){this.path=y,this.route=this.path[this.path.length-1]}}class Mn{constructor(y,d){this.component=y,this.route=d}}function Jn(f,y,d){const _=f._root;return Wr(_,y?y._root:null,d,[_.value])}function Cr(f,y){const d=Symbol(),_=y.get(f,d);return _===d?"function"!=typeof f||(0,l.LfX)(f)?y.get(f):f:_}function Wr(f,y,d,_,S={canDeactivateChecks:[],canActivateChecks:[]}){const N=_n(y);return f.children.forEach($=>{(function kr(f,y,d,_,S={canDeactivateChecks:[],canActivateChecks:[]}){const N=f.value,$=y?y.value:null,pe=d?d.getContext(f.value.outlet):null;if($&&N.routeConfig===$.routeConfig){const de=function Cn(f,y,d){if("function"==typeof d)return d(f,y);switch(d){case"pathParamsChange":return!fn(f.url,y.url);case"pathParamsOrQueryParamsChange":return!fn(f.url,y.url)||!Xt(f.queryParams,y.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Yt(f,y)||!Xt(f.queryParams,y.queryParams);default:return!Yt(f,y)}}($,N,N.routeConfig.runGuardsAndResolvers);de?S.canActivateChecks.push(new wo(_)):(N.data=$.data,N._resolvedData=$._resolvedData),Wr(f,y,N.component?pe?pe.children:null:d,_,S),de&&pe&&pe.outlet&&pe.outlet.isActivated&&S.canDeactivateChecks.push(new Mn(pe.outlet.component,$))}else $&&Qo(y,pe,S),S.canActivateChecks.push(new wo(_)),Wr(f,null,N.component?pe?pe.children:null:d,_,S)})($,N[$.value.outlet],d,_.concat([$.value]),S),delete N[$.value.outlet]}),Object.entries(N).forEach(([$,pe])=>Qo(pe,d.getContext($),S)),S}function Qo(f,y,d){const _=_n(f),S=f.value;Object.entries(_).forEach(([N,$])=>{Qo($,S.component?y?y.children.getContext(N):null:y,d)}),d.canDeactivateChecks.push(new Mn(S.component&&y&&y.outlet&&y.outlet.isActivated?y.outlet.component:null,S))}function os(f){return"function"==typeof f}function Do(f){return f instanceof pt.G||"EmptyError"===f?.name}const Fr=Symbol("INITIAL_VALUE");function lr(){return(0,Xe.n)(f=>Fe(f.map(y=>y.pipe((0,Et.s)(1),(0,Vn.Z)(Fr)))).pipe((0,at.T)(y=>{for(const d of y)if(!0!==d){if(d===Fr)return Fr;if(!1===d||d instanceof Te)return d}return!0}),(0,Rn.p)(y=>y!==Fr),(0,Et.s)(1)))}function Kr(f){return(0,je.F)((0,le.M)(y=>{if(ke(y))throw xr(0,y)}),(0,at.T)(y=>!0===y))}class ws{constructor(y){this.segmentGroup=y||null}}class Xr{constructor(y){this.urlTree=y}}function Nn(f){return(0,Ke.$)(new ws(f))}function Lr(f){return(0,Ke.$)(new Xr(f))}class Xs{constructor(y,d){this.urlSerializer=y,this.urlTree=d}noMatchError(y){return new l.wOt(4002,!1)}lineralizeSegments(y,d){let _=[],S=d.root;for(;;){if(_=_.concat(S.segments),0===S.numberOfChildren)return(0,L.of)(_);if(S.numberOfChildren>1||!S.children[it])return(0,Ke.$)(new l.wOt(4e3,!1));S=S.children[it]}}applyRedirectCommands(y,d,_){return this.applyRedirectCreateUrlTree(d,this.urlSerializer.parse(d),y,_)}applyRedirectCreateUrlTree(y,d,_,S){const N=this.createSegmentGroup(y,d.root,_,S);return new Te(N,this.createQueryParams(d.queryParams,this.urlTree.queryParams),d.fragment)}createQueryParams(y,d){const _={};return Object.entries(y).forEach(([S,N])=>{if("string"==typeof N&&N.startsWith(":")){const pe=N.substring(1);_[S]=d[pe]}else _[S]=N}),_}createSegmentGroup(y,d,_,S){const N=this.createSegments(y,d.segments,_,S);let $={};return Object.entries(d.children).forEach(([pe,de])=>{$[pe]=this.createSegmentGroup(y,de,_,S)}),new ze(N,$)}createSegments(y,d,_,S){return d.map(N=>N.path.startsWith(":")?this.findPosParam(y,N,S):this.findOrReturn(N,_))}findPosParam(y,d,_){const S=_[d.path.substring(1)];if(!S)throw new l.wOt(4001,!1);return S}findOrReturn(y,d){let _=0;for(const S of d){if(S.path===y.path)return d.splice(_),S;_++}return y}}const js={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ai(f,y,d,_,S){const N=Us(f,y,d);return N.matched?(_=function _r(f,y){return f.providers&&!f._injector&&(f._injector=(0,l.Ol2)(f.providers,y,`Route: ${f.path}`)),f._injector??y}(y,_),function co(f,y,d,_){const S=y.canMatch;if(!S||0===S.length)return(0,L.of)(!0);const N=S.map($=>{const pe=Cr($,f);return wn(function gt(f){return f&&os(f.canMatch)}(pe)?pe.canMatch(y,d):f.runInContext(()=>pe(y,d)))});return(0,L.of)(N).pipe(lr(),Kr())}(_,y,d).pipe((0,at.T)($=>!0===$?N:{...js}))):(0,L.of)(N)}function Us(f,y,d){if(""===y.path)return"full"===y.pathMatch&&(f.hasChildren()||d.length>0)?{...js}:{matched:!0,consumedSegments:[],remainingSegments:d,parameters:{},positionalParamSegments:{}};const S=(y.matcher||ir)(d,f,y);if(!S)return{...js};const N={};Object.entries(S.posParams??{}).forEach(([pe,de])=>{N[pe]=de.path});const $=S.consumed.length>0?{...N,...S.consumed[S.consumed.length-1].parameters}:N;return{matched:!0,consumedSegments:S.consumed,remainingSegments:d.slice(S.consumed.length),parameters:$,positionalParamSegments:S.posParams??{}}}function qs(f,y,d,_){return d.length>0&&function Vs(f,y,d){return d.some(_=>as(f,y,_)&&Gn(_)!==it)}(f,d,_)?{segmentGroup:new ze(y,ui(_,new ze(d,f.children))),slicedSegments:[]}:0===d.length&&function li(f,y,d){return d.some(_=>as(f,y,_))}(f,d,_)?{segmentGroup:new ze(f.segments,Js(f,0,d,_,f.children)),slicedSegments:d}:{segmentGroup:new ze(f.segments,f.children),slicedSegments:d}}function Js(f,y,d,_,S){const N={};for(const $ of _)if(as(f,d,$)&&!S[Gn($)]){const pe=new ze([],{});N[Gn($)]=pe}return{...S,...N}}function ui(f,y){const d={};d[it]=y;for(const _ of f)if(""===_.path&&Gn(_)!==it){const S=new ze([],{});d[Gn(_)]=S}return d}function as(f,y,d){return(!(f.hasChildren()||y.length>0)||"full"!==d.pathMatch)&&""===d.path}class ci{constructor(y,d,_,S,N,$,pe){this.injector=y,this.configLoader=d,this.rootComponentType=_,this.config=S,this.urlTree=N,this.paramsInheritanceStrategy=$,this.urlSerializer=pe,this.allowRedirects=!0,this.applyRedirects=new Xs(this.urlSerializer,this.urlTree)}noMatchError(y){return new l.wOt(4002,!1)}recognize(){const y=qs(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,y,it).pipe((0,fe.W)(d=>{if(d instanceof Xr)return this.allowRedirects=!1,this.urlTree=d.urlTree,this.match(d.urlTree);throw d instanceof ws?this.noMatchError(d):d}),(0,at.T)(d=>{const _=new Ir([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},it,this.rootComponentType,null,{}),S=new At(_,d),N=new vr("",S),$=function qt(f,y,d=null,_=null){return Kn(Ot(f),y,d,_)}(_,[],this.urlTree.queryParams,this.urlTree.fragment);return $.queryParams=this.urlTree.queryParams,N.url=this.urlSerializer.serialize($),this.inheritParamsAndData(N._root),{state:N,tree:$}}))}match(y){return this.processSegmentGroup(this.injector,this.config,y.root,it).pipe((0,fe.W)(_=>{throw _ instanceof ws?this.noMatchError(_):_}))}inheritParamsAndData(y){const d=y.value,_=yo(d,this.paramsInheritanceStrategy);d.params=Object.freeze(_.params),d.data=Object.freeze(_.data),y.children.forEach(S=>this.inheritParamsAndData(S))}processSegmentGroup(y,d,_,S){return 0===_.segments.length&&_.hasChildren()?this.processChildren(y,d,_):this.processSegment(y,d,_,_.segments,S,!0)}processChildren(y,d,_){const S=[];for(const N of Object.keys(_.children))"primary"===N?S.unshift(N):S.push(N);return(0,J.H)(S).pipe((0,te.H)(N=>{const $=_.children[N],pe=function br(f,y){const d=f.filter(_=>Gn(_)===y);return d.push(...f.filter(_=>Gn(_)!==y)),d}(d,N);return this.processSegmentGroup(y,pe,$,N)}),function Pe(f,y){return(0,$e.N)(function Ce(f,y,d,_,S){return(N,$)=>{let pe=d,de=y,rt=0;N.subscribe((0,Ge._)($,xt=>{const vn=rt++;de=pe?f(de,xt,vn):(pe=!0,xt),_&&$.next(de)},S&&(()=>{pe&&$.next(de),$.complete()})))}}(f,y,arguments.length>=2,!0))}((N,$)=>(N.push(...$),N)),(0,Le.U)(null),function Zt(f,y){const d=arguments.length>=2;return _=>_.pipe(f?(0,Rn.p)((S,N)=>f(S,N,_)):ae.D,ut(1),d?(0,Le.U)(y):(0,Kt.v)(()=>new pt.G))}(),(0,un.Z)(N=>{if(null===N)return Nn(_);const $=cs(N);return function _a(f){f.sort((y,d)=>y.value.outlet===it?-1:d.value.outlet===it?1:y.value.outlet.localeCompare(d.value.outlet))}($),(0,L.of)($)}))}processSegment(y,d,_,S,N,$){return(0,J.H)(d).pipe((0,te.H)(pe=>this.processSegmentAgainstRoute(pe._injector??y,d,pe,_,S,N,$).pipe((0,fe.W)(de=>{if(de instanceof ws)return(0,L.of)(null);throw de}))),(0,Mt.$)(pe=>!!pe),(0,fe.W)(pe=>{if(Do(pe))return function us(f,y,d){return 0===y.length&&!f.children[d]}(_,S,N)?(0,L.of)([]):Nn(_);throw pe}))}processSegmentAgainstRoute(y,d,_,S,N,$,pe){return function Eo(f,y,d,_){return!!(Gn(f)===_||_!==it&&as(y,d,f))&&("**"===f.path||Us(y,f,d).matched)}(_,S,N,$)?void 0===_.redirectTo?this.matchSegmentAgainstRoute(y,S,_,N,$,pe):pe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(y,S,d,_,N,$):Nn(S):Nn(S)}expandSegmentAgainstRouteUsingRedirect(y,d,_,S,N,$){return"**"===S.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(y,_,S,$):this.expandRegularSegmentAgainstRouteUsingRedirect(y,d,_,S,N,$)}expandWildCardWithParamsAgainstRouteUsingRedirect(y,d,_,S){const N=this.applyRedirects.applyRedirectCommands([],_.redirectTo,{});return _.redirectTo.startsWith("/")?Lr(N):this.applyRedirects.lineralizeSegments(_,N).pipe((0,un.Z)($=>{const pe=new ze($,{});return this.processSegment(y,d,pe,$,S,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(y,d,_,S,N,$){const{matched:pe,consumedSegments:de,remainingSegments:rt,positionalParamSegments:xt}=Us(d,S,N);if(!pe)return Nn(d);const vn=this.applyRedirects.applyRedirectCommands(de,S.redirectTo,xt);return S.redirectTo.startsWith("/")?Lr(vn):this.applyRedirects.lineralizeSegments(S,vn).pipe((0,un.Z)(an=>this.processSegment(y,_,d,an.concat(rt),$,!1)))}matchSegmentAgainstRoute(y,d,_,S,N,$){let pe;if("**"===_.path){const de=S.length>0?Pt(S).parameters:{},rt=new Ir(S,de,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,p(_),Gn(_),_.component??_._loadedComponent??null,_,x(_));pe=(0,L.of)({snapshot:rt,consumedSegments:[],remainingSegments:[]}),d.children={}}else pe=ai(d,_,S,y).pipe((0,at.T)(({matched:de,consumedSegments:rt,remainingSegments:xt,parameters:vn})=>de?{snapshot:new Ir(rt,vn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,p(_),Gn(_),_.component??_._loadedComponent??null,_,x(_)),consumedSegments:rt,remainingSegments:xt}:null));return pe.pipe((0,Xe.n)(de=>null===de?Nn(d):this.getChildConfig(y=_._injector??y,_,S).pipe((0,Xe.n)(({routes:rt})=>{const xt=_._loadedInjector??y,{snapshot:vn,consumedSegments:an,remainingSegments:Zo}=de,{segmentGroup:Qs,slicedSegments:Ys}=qs(d,an,Zo,rt);if(0===Ys.length&&Qs.hasChildren())return this.processChildren(xt,rt,Qs).pipe((0,at.T)(Zs=>null===Zs?null:[new At(vn,Zs)]));if(0===rt.length&&0===Ys.length)return(0,L.of)([new At(vn,[])]);const vi=Gn(_)===N;return this.processSegment(xt,rt,Qs,Ys,vi?it:N,!0).pipe((0,at.T)(Zs=>[new At(vn,Zs)]))}))))}getChildConfig(y,d,_){return d.children?(0,L.of)({routes:d.children,injector:y}):d.loadChildren?void 0!==d._loadedRoutes?(0,L.of)({routes:d._loadedRoutes,injector:d._loadedInjector}):function Tt(f,y,d,_){const S=y.canLoad;if(void 0===S||0===S.length)return(0,L.of)(!0);const N=S.map($=>{const pe=Cr($,f);return wn(function T(f){return f&&os(f.canLoad)}(pe)?pe.canLoad(y,d):f.runInContext(()=>pe(y,d)))});return(0,L.of)(N).pipe(lr(),Kr())}(y,d,_).pipe((0,un.Z)(S=>S?this.configLoader.loadChildren(y,d).pipe((0,le.M)(N=>{d._loadedRoutes=N.routes,d._loadedInjector=N.injector})):function ii(f){return(0,Ke.$)(Pr(!1,3))}())):(0,L.of)({routes:[],injector:y})}}function di(f){const y=f.value.routeConfig;return y&&""===y.path}function cs(f){const y=[],d=new Set;for(const _ of f){if(!di(_)){y.push(_);continue}const S=y.find(N=>_.value.routeConfig===N.value.routeConfig);void 0!==S?(S.children.push(..._.children),d.add(S)):y.push(_)}for(const _ of d){const S=cs(_.children);y.push(new At(_.value,S))}return y.filter(_=>!d.has(_))}function p(f){return f.data||{}}function x(f){return f.resolve||{}}function pn(f){return"string"==typeof f.title||null===f.title}function sn(f){return(0,Xe.n)(y=>{const d=f(y);return d?(0,J.H)(d).pipe((0,at.T)(()=>y)):(0,L.of)(y)})}const zt=new l.nKC("ROUTES");let jt=(()=>{class f{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.WQX)(l.Ql9)}loadComponent(d){if(this.componentLoaders.get(d))return this.componentLoaders.get(d);if(d._loadedComponent)return(0,L.of)(d._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(d);const _=wn(d.loadComponent()).pipe((0,at.T)(Qn),(0,le.M)(N=>{this.onLoadEndListener&&this.onLoadEndListener(d),d._loadedComponent=N}),(0,Qt.j)(()=>{this.componentLoaders.delete(d)})),S=new mt(_,()=>new tn.B).pipe(bt());return this.componentLoaders.set(d,S),S}loadChildren(d,_){if(this.childrenLoaders.get(_))return this.childrenLoaders.get(_);if(_._loadedRoutes)return(0,L.of)({routes:_._loadedRoutes,injector:_._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(_);const N=function Un(f,y,d,_){return wn(f.loadChildren()).pipe((0,at.T)(Qn),(0,un.Z)(S=>S instanceof l.Co$||Array.isArray(S)?(0,L.of)(S):(0,J.H)(y.compileModuleAsync(S))),(0,at.T)(S=>{_&&_(f);let N,$,pe=!1;return Array.isArray(S)?($=S,!0):(N=S.create(d).injector,$=N.get(zt,[],{optional:!0,self:!0}).flat()),{routes:$.map(bn),injector:N}}))}(_,this.compiler,d,this.onLoadEndListener).pipe((0,Qt.j)(()=>{this.childrenLoaders.delete(_)})),$=new mt(N,()=>new tn.B).pipe(bt());return this.childrenLoaders.set(_,$),$}static{this.\u0275fac=function(_){return new(_||f)}}static{this.\u0275prov=l.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})();function Qn(f){return function mn(f){return f&&"object"==typeof f&&"default"in f}(f)?f.default:f}let Ur=(()=>{class f{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new tn.B,this.transitionAbortSubject=new tn.B,this.configLoader=(0,l.WQX)(jt),this.environmentInjector=(0,l.WQX)(l.uvJ),this.urlSerializer=(0,l.WQX)(Dn),this.rootContexts=(0,l.WQX)(Fo),this.inputBindingEnabled=null!==(0,l.WQX)(Pn,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,L.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=S=>this.events.next(new Ns(S)),this.configLoader.onLoadStartListener=S=>this.events.next(new vs(S))}complete(){this.transitions?.complete()}handleNavigationRequest(d){const _=++this.navigationId;this.transitions?.next({...this.transitions.value,...d,id:_})}setupNavigations(d,_,S){return this.transitions=new H.t({id:0,currentUrlTree:_,currentRawUrl:_,currentBrowserUrl:_,extractedUrl:d.urlHandlingStrategy.extract(_),urlAfterRedirects:d.urlHandlingStrategy.extract(_),rawUrl:_,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Mr,restoredState:null,currentSnapshot:S.snapshot,targetSnapshot:null,currentRouterState:S,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Rn.p)(N=>0!==N.id),(0,at.T)(N=>({...N,extractedUrl:d.urlHandlingStrategy.extract(N.rawUrl)})),(0,Xe.n)(N=>{this.currentTransition=N;let $=!1,pe=!1;return(0,L.of)(N).pipe((0,le.M)(de=>{this.currentNavigation={id:de.id,initialUrl:de.rawUrl,extractedUrl:de.extractedUrl,trigger:de.source,extras:de.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Xe.n)(de=>{const rt=de.currentBrowserUrl.toString(),xt=!d.navigated||de.extractedUrl.toString()!==rt||rt!==de.currentUrlTree.toString();if(!xt&&"reload"!==(de.extras.onSameUrlNavigation??d.onSameUrlNavigation)){const an="";return this.events.next(new No(de.id,this.urlSerializer.serialize(de.rawUrl),an,0)),de.resolve(null),st.w}if(d.urlHandlingStrategy.shouldProcessUrl(de.rawUrl))return(0,L.of)(de).pipe((0,Xe.n)(an=>{const Zo=this.transitions?.getValue();return this.events.next(new to(an.id,this.urlSerializer.serialize(an.extractedUrl),an.source,an.restoredState)),Zo!==this.transitions?.getValue()?st.w:Promise.resolve(an)}),function w(f,y,d,_,S,N){return(0,un.Z)($=>function ls(f,y,d,_,S,N,$="emptyOnly"){return new ci(f,y,d,_,S,$,N).recognize()}(f,y,d,_,$.extractedUrl,S,N).pipe((0,at.T)(({state:pe,tree:de})=>({...$,targetSnapshot:pe,urlAfterRedirects:de}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,d.config,this.urlSerializer,d.paramsInheritanceStrategy),(0,le.M)(an=>{N.targetSnapshot=an.targetSnapshot,N.urlAfterRedirects=an.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:an.urlAfterRedirects};const Zo=new An(an.id,this.urlSerializer.serialize(an.extractedUrl),this.urlSerializer.serialize(an.urlAfterRedirects),an.targetSnapshot);this.events.next(Zo)}));if(xt&&d.urlHandlingStrategy.shouldProcessUrl(de.currentRawUrl)){const{id:an,extractedUrl:Zo,source:Qs,restoredState:Ys,extras:vi}=de,Zs=new to(an,this.urlSerializer.serialize(Zo),Qs,Ys);this.events.next(Zs);const Tl=so(0,this.rootComponentType).snapshot;return this.currentTransition=N={...de,targetSnapshot:Tl,urlAfterRedirects:Zo,extras:{...vi,skipLocationChange:!1,replaceUrl:!1}},(0,L.of)(N)}{const an="";return this.events.next(new No(de.id,this.urlSerializer.serialize(de.extractedUrl),an,1)),de.resolve(null),st.w}}),(0,le.M)(de=>{const rt=new Ws(de.id,this.urlSerializer.serialize(de.extractedUrl),this.urlSerializer.serialize(de.urlAfterRedirects),de.targetSnapshot);this.events.next(rt)}),(0,at.T)(de=>(this.currentTransition=N={...de,guards:Jn(de.targetSnapshot,de.currentSnapshot,this.rootContexts)},N)),function Yo(f,y){return(0,un.Z)(d=>{const{targetSnapshot:_,currentSnapshot:S,guards:{canActivateChecks:N,canDeactivateChecks:$}}=d;return 0===$.length&&0===N.length?(0,L.of)({...d,guardsResult:!0}):function bs(f,y,d,_){return(0,J.H)(f).pipe((0,un.Z)(S=>function ya(f,y,d,_,S){const N=y&&y.routeConfig?y.routeConfig.canDeactivate:null;if(!N||0===N.length)return(0,L.of)(!0);const $=N.map(pe=>{const de=Co(y)??S,rt=Cr(pe,de);return wn(function q(f){return f&&os(f.canDeactivate)}(rt)?rt.canDeactivate(f,y,d,_):de.runInContext(()=>rt(f,y,d,_))).pipe((0,Mt.$)())});return(0,L.of)($).pipe(lr())}(S.component,S.route,d,y,_)),(0,Mt.$)(S=>!0!==S,!0))}($,_,S,f).pipe((0,un.Z)(pe=>pe&&function M(f){return"boolean"==typeof f}(pe)?function ss(f,y,d,_){return(0,J.H)(y).pipe((0,te.H)(S=>(0,et.x)(function si(f,y){return null!==f&&y&&y(new zo(f)),(0,L.of)(!0)}(S.route.parent,_),function is(f,y){return null!==f&&y&&y(new Fs(f)),(0,L.of)(!0)}(S.route,_),function Ls(f,y,d){const _=y[y.length-1],N=y.slice(0,y.length-1).reverse().map($=>function Jo(f){const y=f.routeConfig?f.routeConfig.canActivateChild:null;return y&&0!==y.length?{node:f,guards:y}:null}($)).filter($=>null!==$).map($=>Ne(()=>{const pe=$.guards.map(de=>{const rt=Co($.node)??d,xt=Cr(de,rt);return wn(function k(f){return f&&os(f.canActivateChild)}(xt)?xt.canActivateChild(_,f):rt.runInContext(()=>xt(_,f))).pipe((0,Mt.$)())});return(0,L.of)(pe).pipe(lr())}));return(0,L.of)(N).pipe(lr())}(f,S.path,d),function Cs(f,y,d){const _=y.routeConfig?y.routeConfig.canActivate:null;if(!_||0===_.length)return(0,L.of)(!0);const S=_.map(N=>Ne(()=>{const $=Co(y)??d,pe=Cr(N,$);return wn(function b(f){return f&&os(f.canActivate)}(pe)?pe.canActivate(y,f):$.runInContext(()=>pe(y,f))).pipe((0,Mt.$)())}));return(0,L.of)(S).pipe(lr())}(f,S.route,d))),(0,Mt.$)(S=>!0!==S,!0))}(_,N,f,y):(0,L.of)(pe)),(0,at.T)(pe=>({...d,guardsResult:pe})))})}(this.environmentInjector,de=>this.events.next(de)),(0,le.M)(de=>{if(N.guardsResult=de.guardsResult,ke(de.guardsResult))throw xr(0,de.guardsResult);const rt=new xs(de.id,this.urlSerializer.serialize(de.extractedUrl),this.urlSerializer.serialize(de.urlAfterRedirects),de.targetSnapshot,!!de.guardsResult);this.events.next(rt)}),(0,Rn.p)(de=>!!de.guardsResult||(this.cancelNavigationTransition(de,"",3),!1)),sn(de=>{if(de.guards.canActivateChecks.length)return(0,L.of)(de).pipe((0,le.M)(rt=>{const xt=new Ps(rt.id,this.urlSerializer.serialize(rt.extractedUrl),this.urlSerializer.serialize(rt.urlAfterRedirects),rt.targetSnapshot);this.events.next(xt)}),(0,Xe.n)(rt=>{let xt=!1;return(0,L.of)(rt).pipe(function A(f,y){return(0,un.Z)(d=>{const{targetSnapshot:_,guards:{canActivateChecks:S}}=d;if(!S.length)return(0,L.of)(d);let N=0;return(0,J.H)(S).pipe((0,te.H)($=>function z(f,y,d,_){const S=f.routeConfig,N=f._resolve;return void 0!==S?.title&&!pn(S)&&(N[Fn]=S.title),function ge(f,y,d,_){const S=function we(f){return[...Object.keys(f),...Object.getOwnPropertySymbols(f)]}(f);if(0===S.length)return(0,L.of)({});const N={};return(0,J.H)(S).pipe((0,un.Z)($=>function lt(f,y,d,_){const S=Co(y)??_,N=Cr(f,S);return wn(N.resolve?N.resolve(y,d):S.runInContext(()=>N(y,d)))}(f[$],y,d,_).pipe((0,Mt.$)(),(0,le.M)(pe=>{N[$]=pe}))),ut(1),function Ct(f){return(0,at.T)(()=>f)}(N),(0,fe.W)($=>Do($)?st.w:(0,Ke.$)($)))}(N,f,y,_).pipe((0,at.T)($=>(f._resolvedData=$,f.data=yo(f,d).resolve,S&&pn(S)&&(f.data[Fn]=S.title),null)))}($.route,_,f,y)),(0,le.M)(()=>N++),ut(1),(0,un.Z)($=>N===S.length?(0,L.of)(d):st.w))})}(d.paramsInheritanceStrategy,this.environmentInjector),(0,le.M)({next:()=>xt=!0,complete:()=>{xt||this.cancelNavigationTransition(rt,"",2)}}))}),(0,le.M)(rt=>{const xt=new ms(rt.id,this.urlSerializer.serialize(rt.extractedUrl),this.urlSerializer.serialize(rt.urlAfterRedirects),rt.targetSnapshot);this.events.next(xt)}))}),sn(de=>{const rt=xt=>{const vn=[];xt.routeConfig?.loadComponent&&!xt.routeConfig._loadedComponent&&vn.push(this.configLoader.loadComponent(xt.routeConfig).pipe((0,le.M)(an=>{xt.component=an}),(0,at.T)(()=>{})));for(const an of xt.children)vn.push(...rt(an));return vn};return Fe(rt(de.targetSnapshot.root)).pipe((0,Le.U)(),(0,Et.s)(1))}),sn(()=>this.afterPreactivation()),(0,at.T)(de=>{const rt=function En(f,y,d){const _=tr(f,y._root,d?d._root:void 0);return new Hn(_,y)}(d.routeReuseStrategy,de.targetSnapshot,de.currentRouterState);return this.currentTransition=N={...de,targetRouterState:rt},N}),(0,le.M)(()=>{this.events.next(new ro)}),((f,y,d,_)=>(0,at.T)(S=>(new Sn(y,S.targetRouterState,S.currentRouterState,d,_).activate(f),S)))(this.rootContexts,d.routeReuseStrategy,de=>this.events.next(de),this.inputBindingEnabled),(0,Et.s)(1),(0,le.M)({next:de=>{$=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new no(de.id,this.urlSerializer.serialize(de.extractedUrl),this.urlSerializer.serialize(de.urlAfterRedirects))),d.titleStrategy?.updateTitle(de.targetRouterState.snapshot),de.resolve(!0)},complete:()=>{$=!0}}),function xn(f){return(0,$e.N)((y,d)=>{(0,Gt.Tg)(f).subscribe((0,Ge._)(d,()=>d.complete(),ln.l)),!d.closed&&y.subscribe(d)})}(this.transitionAbortSubject.pipe((0,le.M)(de=>{throw de}))),(0,Qt.j)(()=>{$||pe||this.cancelNavigationTransition(N,"",1),this.currentNavigation?.id===N.id&&(this.currentNavigation=null)}),(0,fe.W)(de=>{if(pe=!0,io(de))this.events.next(new mr(N.id,this.urlSerializer.serialize(N.extractedUrl),de.message,de.cancellationCode)),function gn(f){return io(f)&&ke(f.url)}(de)?this.events.next(new oo(de.url)):N.resolve(!1);else{this.events.next(new gs(N.id,this.urlSerializer.serialize(N.extractedUrl),de,N.targetSnapshot??void 0));try{N.resolve(d.errorHandler(de))}catch(rt){N.reject(rt)}}return st.w}))}))}cancelNavigationTransition(d,_,S){const N=new mr(d.id,this.urlSerializer.serialize(d.extractedUrl),_,S);this.events.next(N),d.resolve(!1)}static{this.\u0275fac=function(_){return new(_||f)}}static{this.\u0275prov=l.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})();function Vr(f){return f!==Mr}let So=(()=>{class f{buildTitle(d){let _,S=d.root;for(;void 0!==S;)_=this.getResolvedTitleForRoute(S)??_,S=S.children.find(N=>N.outlet===it);return _}getResolvedTitleForRoute(d){return d.data[Fn]}static{this.\u0275fac=function(_){return new(_||f)}}static{this.\u0275prov=l.jDH({token:f,factory:function(){return(0,l.WQX)($r)},providedIn:"root"})}}return f})(),$r=(()=>{class f extends So{constructor(d){super(),this.title=d}updateTitle(d){const _=this.buildTitle(d);void 0!==_&&this.title.setTitle(_)}static{this.\u0275fac=function(_){return new(_||f)(l.KVO(tt.hE))}}static{this.\u0275prov=l.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})(),Vo=(()=>{class f{static{this.\u0275fac=function(_){return new(_||f)}}static{this.\u0275prov=l.jDH({token:f,factory:function(){return(0,l.WQX)($o)},providedIn:"root"})}}return f})();class Br{shouldDetach(y){return!1}store(y,d){}shouldAttach(y){return!1}retrieve(y){return null}shouldReuseRoute(y,d){return y.routeConfig===d.routeConfig}}let $o=(()=>{class f extends Br{static{this.\u0275fac=function(){let d;return function(S){return(d||(d=l.xGo(f)))(S||f)}}()}static{this.\u0275prov=l.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})();const Ds=new l.nKC("",{providedIn:"root",factory:()=>({})});let ba=(()=>{class f{static{this.\u0275fac=function(_){return new(_||f)}}static{this.\u0275prov=l.jDH({token:f,factory:function(){return(0,l.WQX)(Ii)},providedIn:"root"})}}return f})(),Ii=(()=>{class f{shouldProcessUrl(d){return!0}extract(d){return d}merge(d,_){return d}static{this.\u0275fac=function(_){return new(_||f)}}static{this.\u0275prov=l.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})();var Bo=function(f){return f[f.COMPLETE=0]="COMPLETE",f[f.FAILED=1]="FAILED",f[f.REDIRECTING=2]="REDIRECTING",f}(Bo||{});function Ai(f,y){f.events.pipe((0,Rn.p)(d=>d instanceof no||d instanceof mr||d instanceof gs||d instanceof No),(0,at.T)(d=>d instanceof no||d instanceof No?Bo.COMPLETE:d instanceof mr&&(0===d.code||1===d.code)?Bo.REDIRECTING:Bo.FAILED),(0,Rn.p)(d=>d!==Bo.REDIRECTING),(0,Et.s)(1)).subscribe(()=>{y()})}function hi(f){throw f}function Ca(f,y,d){return y.parse("/")}const Mo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fi={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let fr=(()=>{class f{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.WQX)(l.H3F),this.isNgZoneEnabled=!1,this._events=new tn.B,this.options=(0,l.WQX)(Ds,{optional:!0})||{},this.pendingTasks=(0,l.WQX)(l.$K3),this.errorHandler=this.options.errorHandler||hi,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Ca,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.WQX)(ba),this.routeReuseStrategy=(0,l.WQX)(Vo),this.titleStrategy=(0,l.WQX)(So),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,l.WQX)(zt,{optional:!0})?.flat()??[],this.navigationTransitions=(0,l.WQX)(Ur),this.urlSerializer=(0,l.WQX)(Dn),this.location=(0,l.WQX)(Be.aZ),this.componentInputBindingEnabled=!!(0,l.WQX)(Pn,{optional:!0}),this.eventsSubscription=new be.yU,this.isNgZoneEnabled=(0,l.WQX)(l.SKi)instanceof l.SKi&&l.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Te,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=so(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(d=>{this.lastSuccessfulId=d.id,this.currentPageId=this.browserPageId},d=>{this.console.warn(`Unhandled Navigation Error: ${d}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const d=this.navigationTransitions.events.subscribe(_=>{try{const{currentTransition:S}=this.navigationTransitions;if(null===S)return void(pi(_)&&this._events.next(_));if(_ instanceof to)Vr(S.source)&&(this.browserUrlTree=S.extractedUrl);else if(_ instanceof No)this.rawUrlTree=S.rawUrl;else if(_ instanceof An){if("eager"===this.urlUpdateStrategy){if(!S.extras.skipLocationChange){const N=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);this.setBrowserUrl(N,S)}this.browserUrlTree=S.urlAfterRedirects}}else if(_ instanceof ro)this.currentUrlTree=S.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl),this.routerState=S.targetRouterState,"deferred"===this.urlUpdateStrategy&&(S.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,S),this.browserUrlTree=S.urlAfterRedirects);else if(_ instanceof mr)0!==_.code&&1!==_.code&&(this.navigated=!0),(3===_.code||2===_.code)&&this.restoreHistory(S);else if(_ instanceof oo){const N=this.urlHandlingStrategy.merge(_.url,S.currentRawUrl),$={skipLocationChange:S.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Vr(S.source)};this.scheduleNavigation(N,Mr,null,$,{resolve:S.resolve,reject:S.reject,promise:S.promise})}_ instanceof gs&&this.restoreHistory(S,!0),_ instanceof no&&(this.navigated=!0),pi(_)&&this._events.next(_)}catch(S){this.navigationTransitions.transitionAbortSubject.next(S)}});this.eventsSubscription.add(d)}resetRootComponentType(d){this.routerState.root.component=d,this.navigationTransitions.rootComponentType=d}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const d=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Mr,d)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(d=>{const _="popstate"===d.type?"popstate":"hashchange";"popstate"===_&&setTimeout(()=>{this.navigateToSyncWithBrowser(d.url,_,d.state)},0)}))}navigateToSyncWithBrowser(d,_,S){const N={replaceUrl:!0},$=S?.navigationId?S:null;if(S){const de={...S};delete de.navigationId,delete de.\u0275routerPageId,0!==Object.keys(de).length&&(N.state=de)}const pe=this.parseUrl(d);this.scheduleNavigation(pe,_,$,N)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(d){this.config=d.map(bn),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(d,_={}){const{relativeTo:S,queryParams:N,fragment:$,queryParamsHandling:pe,preserveFragment:de}=_,rt=de?this.currentUrlTree.fragment:$;let vn,xt=null;switch(pe){case"merge":xt={...this.currentUrlTree.queryParams,...N};break;case"preserve":xt=this.currentUrlTree.queryParams;break;default:xt=N||null}null!==xt&&(xt=this.removeEmptyProps(xt));try{vn=Ot(S?S.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof d[0]||!d[0].startsWith("/"))&&(d=[]),vn=this.currentUrlTree.root}return Kn(vn,d,xt,rt??null)}navigateByUrl(d,_={skipLocationChange:!1}){const S=ke(d)?d:this.parseUrl(d),N=this.urlHandlingStrategy.merge(S,this.rawUrlTree);return this.scheduleNavigation(N,Mr,null,_)}navigate(d,_={skipLocationChange:!1}){return function dn(f){for(let y=0;y<f.length;y++)if(null==f[y])throw new l.wOt(4008,!1)}(d),this.navigateByUrl(this.createUrlTree(d,_),_)}serializeUrl(d){return this.urlSerializer.serialize(d)}parseUrl(d){let _;try{_=this.urlSerializer.parse(d)}catch(S){_=this.malformedUriErrorHandler(S,this.urlSerializer,d)}return _}isActive(d,_){let S;if(S=!0===_?{...Mo}:!1===_?{...fi}:_,ke(d))return Yn(this.currentUrlTree,d,S);const N=this.parseUrl(d);return Yn(this.currentUrlTree,N,S)}removeEmptyProps(d){return Object.keys(d).reduce((_,S)=>{const N=d[S];return null!=N&&(_[S]=N),_},{})}scheduleNavigation(d,_,S,N,$){if(this.disposed)return Promise.resolve(!1);let pe,de,rt;$?(pe=$.resolve,de=$.reject,rt=$.promise):rt=new Promise((vn,an)=>{pe=vn,de=an});const xt=this.pendingTasks.add();return Ai(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(xt))}),this.navigationTransitions.handleNavigationRequest({source:_,restoredState:S,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:d,extras:N,resolve:pe,reject:de,promise:rt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),rt.catch(vn=>Promise.reject(vn))}setBrowserUrl(d,_){const S=this.urlSerializer.serialize(d);if(this.location.isCurrentPathEqualTo(S)||_.extras.replaceUrl){const $={..._.extras.state,...this.generateNgRouterState(_.id,this.browserPageId)};this.location.replaceState(S,"",$)}else{const N={..._.extras.state,...this.generateNgRouterState(_.id,this.browserPageId+1)};this.location.go(S,"",N)}}restoreHistory(d,_=!1){if("computed"===this.canceledNavigationResolution){const N=this.currentPageId-this.browserPageId;0!==N?this.location.historyGo(N):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===N&&(this.resetState(d),this.browserUrlTree=d.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(_&&this.resetState(d),this.resetUrlToCurrentUrlTree())}resetState(d){this.routerState=d.currentRouterState,this.currentUrlTree=d.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,d.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(d,_){return"computed"===this.canceledNavigationResolution?{navigationId:d,\u0275routerPageId:_}:{navigationId:d}}static{this.\u0275fac=function(_){return new(_||f)}}static{this.\u0275prov=l.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})();function pi(f){return!(f instanceof ro||f instanceof oo)}let ds=(()=>{class f{constructor(d,_,S,N,$,pe){this.router=d,this.route=_,this.tabIndexAttribute=S,this.renderer=N,this.el=$,this.locationStrategy=pe,this.href=null,this.commands=null,this.onChanges=new tn.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const de=$.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===de||"area"===de,this.isAnchorElement?this.subscription=d.events.subscribe(rt=>{rt instanceof no&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(d){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",d)}ngOnChanges(d){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(d){null!=d?(this.commands=Array.isArray(d)?d:[d],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(d,_,S,N,$){return!!(null===this.urlTree||this.isAnchorElement&&(0!==d||_||S||N||$||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const d=null===this.href?null:(0,l.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",d)}applyAttributeValue(d,_){const S=this.renderer,N=this.el.nativeElement;null!==_?S.setAttribute(N,d,_):S.removeAttribute(N,d)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(_){return new(_||f)(l.rXU(fr),l.rXU(ot),l.kS0("tabindex"),l.rXU(l.sFG),l.rXU(l.aKT),l.rXU(Be.hb))}}static{this.\u0275dir=l.FsC({type:f,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(_,S){1&_&&l.bIt("click",function($){return S.onClick($.button,$.ctrlKey,$.shiftKey,$.altKey,$.metaKey)}),2&_&&l.BMQ("target",S.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",l.L39],skipLocationChange:["skipLocationChange","skipLocationChange",l.L39],replaceUrl:["replaceUrl","replaceUrl",l.L39],routerLink:"routerLink"},standalone:!0,features:[l.GFd,l.OA$]})}}return f})(),Ar=(()=>{class f{get isActive(){return this._isActive}constructor(d,_,S,N,$){this.router=d,this.element=_,this.renderer=S,this.cdr=N,this.link=$,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new l.bkB,this.routerEventsSubscription=d.events.subscribe(pe=>{pe instanceof no&&this.update()})}ngAfterContentInit(){(0,L.of)(this.links.changes,(0,L.of)(null)).pipe((0,ct.U)()).subscribe(d=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const d=[...this.links.toArray(),this.link].filter(_=>!!_).map(_=>_.onChanges);this.linkInputChangesSubscription=(0,J.H)(d).pipe((0,ct.U)()).subscribe(_=>{this._isActive!==this.isLinkActive(this.router)(_)&&this.update()})}set routerLinkActive(d){const _=Array.isArray(d)?d:d.split(" ");this.classes=_.filter(S=>!!S)}ngOnChanges(d){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const d=this.hasActiveLinks();this._isActive!==d&&(this._isActive=d,this.cdr.markForCheck(),this.classes.forEach(_=>{d?this.renderer.addClass(this.element.nativeElement,_):this.renderer.removeClass(this.element.nativeElement,_)}),d&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(d))})}isLinkActive(d){const _=function cu(f){return!!f.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return S=>!!S.urlTree&&d.isActive(S.urlTree,_)}hasActiveLinks(){const d=this.isLinkActive(this.router);return this.link&&d(this.link)||this.links.some(d)}static{this.\u0275fac=function(_){return new(_||f)(l.rXU(fr),l.rXU(l.aKT),l.rXU(l.sFG),l.rXU(l.gRc),l.rXU(ds,8))}}static{this.\u0275dir=l.FsC({type:f,selectors:[["","routerLinkActive",""]],contentQueries:function(_,S,N){if(1&_&&l.wni(N,ds,5),2&_){let $;l.mGM($=l.lsd())&&(S.links=$)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[l.OA$]})}}return f})();class Ti{}let wa=(()=>{class f{constructor(d,_,S,N,$){this.router=d,this.injector=S,this.preloadingStrategy=N,this.loader=$}setUpPreloading(){this.subscription=this.router.events.pipe((0,Rn.p)(d=>d instanceof no),(0,te.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(d,_){const S=[];for(const N of _){N.providers&&!N._injector&&(N._injector=(0,l.Ol2)(N.providers,d,`Route: ${N.path}`));const $=N._injector??d,pe=N._loadedInjector??$;(N.loadChildren&&!N._loadedRoutes&&void 0===N.canLoad||N.loadComponent&&!N._loadedComponent)&&S.push(this.preloadConfig($,N)),(N.children||N._loadedRoutes)&&S.push(this.processRoutes(pe,N.children??N._loadedRoutes))}return(0,J.H)(S).pipe((0,ct.U)())}preloadConfig(d,_){return this.preloadingStrategy.preload(_,()=>{let S;S=_.loadChildren&&void 0===_.canLoad?this.loader.loadChildren(d,_):(0,L.of)(null);const N=S.pipe((0,un.Z)($=>null===$?(0,L.of)(void 0):(_._loadedRoutes=$.routes,_._loadedInjector=$.injector,this.processRoutes($.injector??d,$.routes))));if(_.loadComponent&&!_._loadedComponent){const $=this.loader.loadComponent(_);return(0,J.H)([N,$]).pipe((0,ct.U)())}return N})}static{this.\u0275fac=function(_){return new(_||f)(l.KVO(fr),l.KVO(l.Ql9),l.KVO(l.uvJ),l.KVO(Ti),l.KVO(jt))}}static{this.\u0275prov=l.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})();const gi=new l.nKC("");let Oi=(()=>{class f{constructor(d,_,S,N,$={}){this.urlSerializer=d,this.transitions=_,this.viewportScroller=S,this.zone=N,this.options=$,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},$.scrollPositionRestoration=$.scrollPositionRestoration||"disabled",$.anchorScrolling=$.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(d=>{d instanceof to?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=d.navigationTrigger,this.restoredId=d.restoredState?d.restoredState.navigationId:0):d instanceof no?(this.lastId=d.id,this.scheduleScrollEvent(d,this.urlSerializer.parse(d.urlAfterRedirects).fragment)):d instanceof No&&0===d.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(d,this.urlSerializer.parse(d.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(d=>{d instanceof Wo&&(d.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(d.position):d.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(d.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(d,_){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Wo(d,"popstate"===this.lastSource?this.store[this.restoredId]:null,_))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(_){l.QTQ()}}static{this.\u0275prov=l.jDH({token:f,factory:f.\u0275fac})}}return f})();function g(f,...y){return(0,l.EmA)([{provide:zt,multi:!0,useValue:f},[],{provide:ot,useFactory:a,deps:[fr]},{provide:l.iLQ,multi:!0,useFactory:I},y.map(d=>d.\u0275providers)])}function a(f){return f.routerState.root}function i(f,y){return{\u0275kind:f,\u0275providers:y}}function I(){const f=(0,l.WQX)(l.zZn);return y=>{const d=f.get(l.o8S);if(y!==d.components[0])return;const _=f.get(fr),S=f.get(F);1===f.get(B)&&_.initialNavigation(),f.get(Ve,null,l.$GK.Optional)?.setUpPreloading(),f.get(gi,null,l.$GK.Optional)?.init(),_.resetRootComponentType(d.componentTypes[0]),S.closed||(S.next(),S.complete(),S.unsubscribe())}}const F=new l.nKC("",{factory:()=>new tn.B}),B=new l.nKC("",{providedIn:"root",factory:()=>1}),Ve=new l.nKC("");function Me(f){return i(0,[{provide:Ve,useExisting:wa},{provide:Ti,useExisting:f}])}const ue=new l.nKC("ROUTER_FORROOT_GUARD"),He=[Be.aZ,{provide:Dn,useClass:Wn},fr,Fo,{provide:ot,useFactory:a,deps:[fr]},jt,[]];function kn(){return new l.NEm("Router",fr)}let ho=(()=>{class f{constructor(d){}static forRoot(d,_){return{ngModule:f,providers:[He,[],{provide:zt,multi:!0,useValue:d},{provide:ue,useFactory:sr,deps:[[fr,new l.Xx1,new l.kdw]]},{provide:Ds,useValue:_||{}},_?.useHash?{provide:Be.hb,useClass:Be.fw}:{provide:Be.hb,useClass:Be.Sm},{provide:gi,useFactory:()=>{const f=(0,l.WQX)(Be.Xr),y=(0,l.WQX)(l.SKi),d=(0,l.WQX)(Ds),_=(0,l.WQX)(Ur),S=(0,l.WQX)(Dn);return d.scrollOffset&&f.setOffset(d.scrollOffset),new Oi(S,_,f,y,d)}},_?.preloadingStrategy?Me(_.preloadingStrategy).\u0275providers:[],{provide:l.NEm,multi:!0,useFactory:kn},_?.initialNavigation?Da(_):[],_?.bindToComponentInputs?i(8,[zr,{provide:Pn,useExisting:zr}]).\u0275providers:[],[{provide:Ri,useFactory:I},{provide:l.iLQ,multi:!0,useExisting:Ri}]]}}static forChild(d){return{ngModule:f,providers:[{provide:zt,multi:!0,useValue:d}]}}static{this.\u0275fac=function(_){return new(_||f)(l.KVO(ue,8))}}static{this.\u0275mod=l.$C({type:f})}static{this.\u0275inj=l.G2t({})}}return f})();function sr(f){return"guarded"}function Da(f){return["disabled"===f.initialNavigation?i(3,[{provide:l.hnV,multi:!0,useFactory:()=>{const y=(0,l.WQX)(fr);return()=>{y.setUpLocationChangeListener()}}},{provide:B,useValue:2}]).\u0275providers:[],"enabledBlocking"===f.initialNavigation?i(2,[{provide:B,useValue:0},{provide:l.hnV,multi:!0,deps:[l.zZn],useFactory:y=>{const d=y.get(Be.hj,Promise.resolve());return()=>d.then(()=>new Promise(_=>{const S=y.get(fr),N=y.get(F);Ai(S,()=>{_(!0)}),y.get(Ur).afterPreactivation=()=>(_(!0),N.closed?(0,L.of)(void 0):N),S.initialNavigation()}))}}]).\u0275providers:[]]}const Ri=new l.nKC("")},467:(Ye,se,R)=>{"use strict";function l(C,ie,J,L,H,oe,ae){try{var he=C[oe](ae),ee=he.value}catch(ve){return void J(ve)}he.done?ie(ee):Promise.resolve(ee).then(L,H)}function U(C){return function(){var ie=this,J=arguments;return new Promise(function(L,H){var oe=C.apply(ie,J);function ae(ee){l(oe,L,H,ae,he,"next",ee)}function he(ee){l(oe,L,H,ae,he,"throw",ee)}ae(void 0)})}}R.d(se,{A:()=>U})}},Ye=>{Ye(Ye.s=8153)}]);