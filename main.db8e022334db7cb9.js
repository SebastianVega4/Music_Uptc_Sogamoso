(self.webpackChunkuptc_music=self.webpackChunkuptc_music||[]).push([[792],{287:(kn,Fe,Ve)=>{"use strict";function be(n){return"function"==typeof n}function je(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Lt=je(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Le(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class q{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(be(r))try{r()}catch(o){e=o instanceof Lt?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{ge(o)}catch(s){e=e??[],s instanceof Lt?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Lt(e)}}add(e){var t;if(e&&e!==this)if(this.closed)ge(e);else{if(e instanceof q){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Le(t,e)}remove(e){const{_finalizers:t}=this;t&&Le(t,e),e instanceof q&&e._removeParent(this)}}q.EMPTY=(()=>{const n=new q;return n.closed=!0,n})();const K=q.EMPTY;function ce(n){return n instanceof q||n&&"closed"in n&&be(n.remove)&&be(n.add)&&be(n.unsubscribe)}function ge(n){be(n)?n():n.unsubscribe()}const Ce={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},rt={setTimeout(n,e,...t){const{delegate:r}=rt;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=rt;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function dt(n){rt.setTimeout(()=>{const{onUnhandledError:e}=Ce;if(!e)throw n;e(n)})}function et(){}const Pt=Hr("C",void 0,void 0);function Hr(n,e,t){return{kind:n,value:e,error:t}}let rn=null;function dn(n){if(Ce.useDeprecatedSynchronousErrorHandling){const e=!rn;if(e&&(rn={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=rn;if(rn=null,t)throw r}}else n()}class Gs extends q{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ce(e)&&e.add(this)):this.destination=e8}static create(e,t,r){return new si(e,t,r)}next(e){this.isStopped?Cy(function Br(n){return Hr("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Cy(function Rn(n){return Hr("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Cy(Pt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ws=Function.prototype.bind;function Ji(n,e){return Ws.call(n,e)}class iS{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Xi(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Xi(r)}else Xi(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Xi(t)}}}class si extends Gs{constructor(e,t,r){let i;if(super(),be(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Ce.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ji(e.next,o),error:e.error&&Ji(e.error,o),complete:e.complete&&Ji(e.complete,o)}):i=e}this.destination=new iS(i)}}function Xi(n){Ce.useDeprecatedSynchronousErrorHandling?function Qn(n){Ce.useDeprecatedSynchronousErrorHandling&&rn&&(rn.errorThrown=!0,rn.error=n)}(n):dt(n)}function Cy(n,e){const{onStoppedNotification:t}=Ce;t&&rt.setTimeout(()=>t(n,e))}const e8={closed:!0,next:et,error:function ic(n){throw n},complete:et},wy="function"==typeof Symbol&&Symbol.observable||"@@observable";function Go(n){return n}function oS(n){return 0===n.length?Go:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let Mt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function r8(n){return n&&n instanceof Gs||function n8(n){return n&&be(n.next)&&be(n.error)&&be(n.complete)}(n)&&ce(n)}(t)?t:new si(t,r,i);return dn(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=sS(r))((i,o)=>{const s=new si({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[wy](){return this}pipe(...t){return oS(t)(this)}toPromise(t){return new(t=sS(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function sS(n){var e;return null!==(e=n??Ce.Promise)&&void 0!==e?e:Promise}const i8=je(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ai=(()=>{class n extends Mt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new aS(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new i8}next(t){dn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){dn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){dn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?K:(this.currentObservers=null,o.push(t),new q(()=>{this.currentObservers=null,Le(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new Mt;return t.source=this,t}}return n.create=(e,t)=>new aS(e,t),n})();class aS extends ai{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:K}}function cS(n){return be(n?.lift)}function on(n){return e=>{if(cS(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Xt(n,e,t,r,i){return new o8(n,e,t,r,i)}class o8 extends Gs{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function qe(n,e){return on((t,r)=>{let i=0;t.subscribe(Xt(r,o=>{r.next(n.call(e,o,i++))}))})}function Nf(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function Wo(n){return this instanceof Wo?(this.v=n,this):new Wo(n)}function hS(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Py(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){!function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}(a,c,(s=n[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const fS=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function pS(n){return be(n?.then)}function gS(n){return be(n[wy])}function mS(n){return Symbol.asyncIterator&&be(n?.[Symbol.asyncIterator])}function _S(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const yS=function O8(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function vS(n){return be(n?.[yS])}function bS(n){return function dS(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),o=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(g){return function(b){return Promise.resolve(b).then(g,h)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(g,b){r[g]&&(i[g]=function(I){return new Promise(function(E,S){o.push([g,I,E,S])>1||c(g,I)})},b&&(i[g]=b(i[g])))}function c(g,b){try{!function u(g){g.value instanceof Wo?Promise.resolve(g.value.v).then(l,h):f(o[0][2],g)}(r[g](b))}catch(I){f(o[0][3],I)}}function l(g){c("next",g)}function h(g){c("throw",g)}function f(g,b){g(b),o.shift(),o.length&&c(o[0][0],o[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Wo(t.read());if(i)return yield Wo(void 0);yield yield Wo(r)}}finally{t.releaseLock()}})}function CS(n){return be(n?.getReader)}function Mr(n){if(n instanceof Mt)return n;if(null!=n){if(gS(n))return function D8(n){return new Mt(e=>{const t=n[wy]();if(be(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(fS(n))return function k8(n){return new Mt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(pS(n))return function R8(n){return new Mt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,dt)})}(n);if(mS(n))return wS(n);if(vS(n))return function N8(n){return new Mt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(CS(n))return function F8(n){return wS(bS(n))}(n)}throw _S(n)}function wS(n){return new Mt(e=>{(function V8(n,e){var t,r,i,o;return function uS(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(h){s(h)}}function c(l){try{u(r.throw(l))}catch(h){s(h)}}function u(l){l.done?o(l.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=hS(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Zi(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function vn(n,e,t=1/0){return be(e)?vn((r,i)=>qe((o,s)=>e(r,o,i,s))(Mr(n(r,i))),t):("number"==typeof e&&(t=e),on((r,i)=>function L8(n,e,t,r,i,o,s,a){const c=[];let u=0,l=0,h=!1;const f=()=>{h&&!c.length&&!u&&e.complete()},g=I=>u<r?b(I):c.push(I),b=I=>{o&&e.next(I),u++;let E=!1;Mr(t(I,l++)).subscribe(Xt(e,S=>{i?.(S),o?g(S):e.next(S)},()=>{E=!0},void 0,()=>{if(E)try{for(u--;c.length&&u<r;){const S=c.shift();s?Zi(e,s,()=>b(S)):b(S)}f()}catch(S){e.error(S)}}))};return n.subscribe(Xt(e,g,()=>{h=!0,f()})),()=>{a?.()}}(r,i,n,t)))}function oc(n=1/0){return vn(Go,n)}const Ci=new Mt(n=>n.complete());function IS(n){return n&&be(n.schedule)}function Ay(n){return n[n.length-1]}function ES(n){return be(Ay(n))?n.pop():void 0}function Al(n){return IS(Ay(n))?n.pop():void 0}function Ff(n,e=0){return on((t,r)=>{t.subscribe(Xt(r,i=>Zi(r,n,()=>r.next(i),e),()=>Zi(r,n,()=>r.complete(),e),i=>Zi(r,n,()=>r.error(i),e)))})}function Vf(n,e=0){return on((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function TS(n,e){if(!n)throw new Error("Iterable cannot be null");return new Mt(t=>{Zi(t,e,()=>{const r=n[Symbol.asyncIterator]();Zi(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function sn(n,e){return e?function G8(n,e){if(null!=n){if(gS(n))return function $8(n,e){return Mr(n).pipe(Vf(e),Ff(e))}(n,e);if(fS(n))return function H8(n,e){return new Mt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(pS(n))return function B8(n,e){return Mr(n).pipe(Vf(e),Ff(e))}(n,e);if(mS(n))return TS(n,e);if(vS(n))return function z8(n,e){return new Mt(t=>{let r;return Zi(t,e,()=>{r=n[yS](),Zi(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>be(r?.return)&&r.return()})}(n,e);if(CS(n))return function q8(n,e){return TS(bS(n),e)}(n,e)}throw _S(n)}(n,e):Mr(n)}class hn extends ai{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function ye(...n){return sn(n,Al(n))}function PS(n={}){const{connector:e=(()=>new ai),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,c,u=0,l=!1,h=!1;const f=()=>{a?.unsubscribe(),a=void 0},g=()=>{f(),s=c=void 0,l=h=!1},b=()=>{const I=s;g(),I?.unsubscribe()};return on((I,E)=>{u++,!h&&!l&&f();const S=c=c??e();E.add(()=>{u--,0===u&&!h&&!l&&(a=Sy(b,i))}),S.subscribe(E),!s&&u>0&&(s=new si({next:M=>S.next(M),error:M=>{h=!0,f(),a=Sy(g,t,M),S.error(M)},complete:()=>{l=!0,f(),a=Sy(g,r),S.complete()}}),Mr(I).subscribe(s))})(o)}}function Sy(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new si({next:()=>{r.unsubscribe(),n()}});return Mr(e(...t)).subscribe(r)}function Yn(n,e){return on((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(Xt(r,c=>{i?.unsubscribe();let u=0;const l=o++;Mr(n(c,l)).subscribe(i=Xt(r,h=>r.next(e?e(c,h,l,u++):h),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Q8(n,e){return n===e}const Lf=je(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function eo(n,e){return on((t,r)=>{let i=0;t.subscribe(Xt(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Ko(n){return n<=0?()=>Ci:on((e,t)=>{let r=0;e.subscribe(Xt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Uf(n){return on((e,t)=>{let r=!1;e.subscribe(Xt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function MS(n=Y8){return on((e,t)=>{let r=!1;e.subscribe(Xt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Y8(){return new Lf}function to(n,e){const t=arguments.length>=2;return r=>r.pipe(n?eo((i,o)=>n(i,o,r)):Go,Ko(1),t?Uf(e):MS(()=>new Lf))}function ot(n){for(let e in n)if(n[e]===ot)return e;throw Error("Could not find renamed property on target object.")}function jf(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function an(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(an).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function xy(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const J8=ot({__forward_ref__:ot});function gt(n){return n.__forward_ref__=gt,n.toString=function(){return an(this())},n}function Te(n){return Oy(n)?n():n}function Oy(n){return"function"==typeof n&&n.hasOwnProperty(J8)&&n.__forward_ref__===gt}function Dy(n){return n&&!!n.\u0275providers}const AS="https://g.co/ng/security#xss";class Z extends Error{constructor(e,t){super(function Sl(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function Ae(n){return"string"==typeof n?n:null==n?"":String(n)}function ky(n,e){throw new Z(-201,!1)}function zr(n,e){null==n&&function Ie(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function pe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function qr(n){return{providers:n.providers||[],imports:n.imports||[]}}function $f(n){return SS(n,Hf)||SS(n,xS)}function SS(n,e){return n.hasOwnProperty(e)?n[e]:null}function Bf(n){return n&&(n.hasOwnProperty(Ry)||n.hasOwnProperty(oH))?n[Ry]:null}const Hf=ot({\u0275prov:ot}),Ry=ot({\u0275inj:ot}),xS=ot({ngInjectableDef:ot}),oH=ot({ngInjectorDef:ot});var $e=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}($e||{});let Ny;function pr(n){const e=Ny;return Ny=n,e}function DS(n,e,t){const r=$f(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&$e.Optional?null:void 0!==e?e:void ky(an(n))}const mt=globalThis;class ue{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=pe({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const xl={},jy="__NG_DI_FLAG__",zf="ngTempTokenPath",cH=/\n/gm,RS="__source";let sc;function Qo(n){const e=sc;return sc=n,e}function dH(n,e=$e.Default){if(void 0===sc)throw new Z(-203,!1);return null===sc?DS(n,void 0,e):sc.get(n,e&$e.Optional?null:void 0,e)}function le(n,e=$e.Default){return(function OS(){return Ny}()||dH)(Te(n),e)}function se(n,e=$e.Default){return le(n,qf(e))}function qf(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function $y(n){const e=[];for(let t=0;t<n.length;t++){const r=Te(n[t]);if(Array.isArray(r)){if(0===r.length)throw new Z(900,!1);let i,o=$e.Default;for(let s=0;s<r.length;s++){const a=r[s],c=hH(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}e.push(le(i,o))}else e.push(le(r))}return e}function Ol(n,e){return n[jy]=e,n.prototype[jy]=e,n}function hH(n){return n[jy]}function no(n){return{toString:n}.toString()}var Gf=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Gf||{}),ci=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(ci||{});const wi={},Je=[],Wf=ot({\u0275cmp:ot}),By=ot({\u0275dir:ot}),Hy=ot({\u0275pipe:ot}),FS=ot({\u0275mod:ot}),ro=ot({\u0275fac:ot}),Dl=ot({__NG_ELEMENT_ID__:ot}),VS=ot({__NG_ENV_ID__:ot});function LS(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function zy(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{const o=i,s=t[++r];jS(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function US(n){return 3===n||4===n||6===n}function jS(n){return 64===n.charCodeAt(0)}function kl(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||$S(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function $S(n,e,t,r,i){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}const BS="ng-template";function gH(n,e,t){let r=0,i=!0;for(;r<n.length;){let o=n[r++];if("string"==typeof o&&i){const s=n[r++];if(t&&"class"===o&&-1!==LS(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<n.length&&"string"==typeof(o=n[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function HS(n){return 4===n.type&&n.value!==BS}function mH(n,e,t){return e===(4!==n.type||t?n.value:BS)}function _H(n,e,t){let r=4;const i=n.attrs||[],o=function bH(n){for(let e=0;e<n.length;e++)if(US(n[e]))return e;return n.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!mH(n,c,t)||""===c&&1===e.length){if(ui(r))return!1;s=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==n.attrs){if(!gH(n.attrs,u,t)){if(ui(r))return!1;s=!0}continue}const h=yH(8&r?"class":c,i,HS(n),t);if(-1===h){if(ui(r))return!1;s=!0;continue}if(""!==u){let f;f=h>o?"":i[h+1].toLowerCase();const g=8&r?f:null;if(g&&-1!==LS(g,u,0)||2&r&&u!==f){if(ui(r))return!1;s=!0}}}}else{if(!s&&!ui(r)&&!ui(c))return!1;if(s&&ui(c))continue;s=!1,r=c|1&r}}return ui(r)||s}function ui(n){return 0==(1&n)}function yH(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const s=e[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function CH(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function zS(n,e,t=!1){for(let r=0;r<e.length;r++)if(_H(n,e[r],t))return!0;return!1}function qS(n,e){return n?":not("+e.trim()+")":e}function IH(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!ui(s)&&(e+=qS(o,i),i=""),r=s,o=o||!ui(r);t++}return""!==i&&(e+=qS(o,i)),e}function Jn(n){return no(()=>{const e=WS(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Gf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||ci.Emulated,styles:n.styles||Je,_:null,schemas:n.schemas||null,tView:null,id:""};KS(t);const r=n.dependencies;return t.directiveDefs=Kf(r,!1),t.pipeDefs=Kf(r,!0),t.id=function OH(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function MH(n){return Ke(n)||bn(n)}function AH(n){return null!==n}function li(n){return no(()=>({type:n.type,bootstrap:n.bootstrap||Je,declarations:n.declarations||Je,imports:n.imports||Je,exports:n.exports||Je,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function GS(n,e){if(null==n)return wi;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,e&&(e[i]=o)}return t}function Pe(n){return no(()=>{const e=WS(n);return KS(e),e})}function gr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ke(n){return n[Wf]||null}function bn(n){return n[By]||null}function Xn(n){return n[Hy]||null}function Sr(n,e){const t=n[FS]||null;if(!t&&!0===e)throw new Error(`Type ${an(n)} does not have '\u0275mod' property.`);return t}function WS(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||wi,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Je,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:GS(n.inputs,e),outputs:GS(n.outputs)}}function KS(n){n.features?.forEach(e=>e(n))}function Kf(n,e){if(!n)return null;const t=e?Xn:MH;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(AH)}const Ut=0,de=1,ke=2,At=3,di=4,Rl=5,Nn=6,cc=7,zt=8,Yo=9,uc=10,Se=11,Nl=12,QS=13,lc=14,qt=15,Fl=16,dc=17,Ii=18,Vl=19,YS=20,Jo=21,io=22,Ll=23,Ul=24,Be=25,qy=1,JS=2,Ei=7,hc=9,jl=10,Cn=11;function mr(n){return Array.isArray(n)&&"object"==typeof n[qy]}function Zn(n){return Array.isArray(n)&&!0===n[qy]}function Gy(n){return 0!=(4&n.flags)}function Qs(n){return n.componentOffset>-1}function Yf(n){return 1==(1&n.flags)}function hi(n){return!!n.template}function Wy(n){return 0!=(512&n[ke])}function Ys(n,e){return n.hasOwnProperty(ro)?n[ro]:null}let wn=null,Jf=!1;function Gr(n){const e=wn;return wn=n,e}const ex={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function nx(n){if(!$l(n)||n.dirty){if(!n.producerMustRecompute(n)&&!ox(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function ix(n){n.dirty=!0,function rx(n){if(void 0===n.liveConsumerNode)return;const e=Jf;Jf=!0;try{for(const t of n.liveConsumerNode)t.dirty||ix(t)}finally{Jf=e}}(n),n.consumerMarkedDirty?.(n)}function Qy(n){return n&&(n.nextProducerIndex=0),Gr(n)}function Yy(n,e){if(Gr(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if($l(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Xf(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function ox(n){fc(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(nx(t),r!==t.version))return!0}return!1}function sx(n){if(fc(n),$l(n))for(let e=0;e<n.producerNode.length;e++)Xf(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Xf(n,e){if(function cx(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),fc(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)Xf(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];fc(i),i.producerIndexOfThis[r]=e}}function $l(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function fc(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let ux=null;function hx(n){const e=Gr(null);try{return n()}finally{Gr(e)}}const fx=()=>{},zH=(()=>({...ex,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:fx}))();class qH{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Wr(){return px}function px(n){return n.type.prototype.ngOnChanges&&(n.setInput=WH),GH}function GH(){const n=mx(this),e=n?.current;if(e){const t=n.previous;if(t===wi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function WH(n,e,t,r){const i=this.declaredInputs[t],o=mx(n)||function KH(n,e){return n[gx]=e}(n,{previous:wi,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[i];s[i]=new qH(c&&c.currentValue,e,a===wi),n[r]=e}Wr.ngInherit=!0;const gx="__ngSimpleChanges__";function mx(n){return n[gx]||null}const Ti=function(n,e,t){};function _t(n){for(;Array.isArray(n);)n=n[Ut];return n}function Zf(n,e){return _t(e[n])}function _r(n,e){return _t(e[n.index])}function vx(n,e){return n.data[e]}function pc(n,e){return n[e]}function xr(n,e){const t=e[n];return mr(t)?t:t[Ut]}function Zo(n,e){return null==e?null:n[e]}function bx(n){n[dc]=0}function ez(n){1024&n[ke]||(n[ke]|=1024,wx(n,1))}function Cx(n){1024&n[ke]&&(n[ke]&=-1025,wx(n,-1))}function wx(n,e){let t=n[At];if(null===t)return;t[Rl]+=e;let r=t;for(t=t[At];null!==t&&(1===e&&1===r[Rl]||-1===e&&0===r[Rl]);)t[Rl]+=e,r=t,t=t[At]}const Ee={lFrame:kx(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Tx(){return Ee.bindingsEnabled}function gc(){return null!==Ee.skipHydrationRootTNode}function Q(){return Ee.lFrame.lView}function Qe(){return Ee.lFrame.tView}function ee(n){return Ee.lFrame.contextLView=n,n[zt]}function te(n){return Ee.lFrame.contextLView=null,n}function In(){let n=Px();for(;null!==n&&64===n.type;)n=n.parent;return n}function Px(){return Ee.lFrame.currentTNode}function Pi(n,e){const t=Ee.lFrame;t.currentTNode=n,t.isParent=e}function tv(){return Ee.lFrame.isParent}function er(){const n=Ee.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function mc(){return Ee.lFrame.bindingIndex++}function so(n){const e=Ee.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function hz(n,e){const t=Ee.lFrame;t.bindingIndex=t.bindingRootIndex=n,rv(e)}function rv(n){Ee.lFrame.currentDirectiveIndex=n}function xx(){return Ee.lFrame.currentQueryIndex}function ov(n){Ee.lFrame.currentQueryIndex=n}function pz(n){const e=n[de];return 2===e.type?e.declTNode:1===e.type?n[Nn]:null}function Ox(n,e,t){if(t&$e.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&$e.Host||(i=pz(o),null===i||(o=o[lc],10&i.type))););if(null===i)return!1;e=i,n=o}const r=Ee.lFrame=Dx();return r.currentTNode=e,r.lView=n,!0}function sv(n){const e=Dx(),t=n[de];Ee.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Dx(){const n=Ee.lFrame,e=null===n?null:n.child;return null===e?kx(n):e}function kx(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function Rx(){const n=Ee.lFrame;return Ee.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Nx=Rx;function av(){const n=Rx();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function tr(){return Ee.lFrame.selectedIndex}function Js(n){Ee.lFrame.selectedIndex=n}function kt(){const n=Ee.lFrame;return vx(n.tView,n.selectedIndex)}function Fx(){return Ee.lFrame.currentNamespace}let Vx=!0;function ep(){return Vx}function es(n){Vx=n}function tp(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),null!=l&&(n.destroyHooks??=[]).push(t,l)}}function np(n,e,t){Lx(n,e,3,t)}function rp(n,e,t,r){(3&n[ke])===t&&Lx(n,e,t,r)}function cv(n,e){let t=n[ke];(3&t)===e&&(t&=8191,t+=1,n[ke]=t)}function Lx(n,e,t,r){const o=r??-1,s=e.length-1;let a=0;for(let c=void 0!==r?65535&n[dc]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(n[dc]+=65536),(a<o||-1==o)&&(wz(n,t,e,c),n[dc]=(4294901760&n[dc])+c+2),c++}function Ux(n,e){Ti(4,n,e);const t=Gr(null);try{e.call(n)}finally{Gr(t),Ti(5,n,e)}}function wz(n,e,t,r){const i=t[r]<0,o=t[r+1],a=n[i?-t[r]:t[r]];i?n[ke]>>13<n[dc]>>16&&(3&n[ke])===e&&(n[ke]+=8192,Ux(a,o)):Ux(a,o)}const _c=-1;class Hl{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function lv(n){return n!==_c}function zl(n){return 32767&n}function ql(n,e){let t=function Pz(n){return n>>16}(n),r=e;for(;t>0;)r=r[lc],t--;return r}let dv=!0;function ip(n){const e=dv;return dv=n,e}const jx=255,$x=5;let Mz=0;const Mi={};function op(n,e){const t=Bx(n,e);if(-1!==t)return t;const r=e[de];r.firstCreatePass&&(n.injectorIndex=e.length,hv(r.data,n),hv(e,null),hv(r.blueprint,null));const i=sp(n,e),o=n.injectorIndex;if(lv(i)){const s=zl(i),a=ql(i,e),c=a[de].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function hv(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Bx(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function sp(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=Qx(i),null===r)return _c;if(t++,i=i[lc],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return _c}function fv(n,e,t){!function Az(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Dl)&&(r=t[Dl]),null==r&&(r=t[Dl]=Mz++);const i=r&jx;e.data[n+(i>>$x)]|=1<<i}(n,e,t)}function Hx(n,e,t){if(t&$e.Optional||void 0!==n)return n;ky()}function zx(n,e,t,r){if(t&$e.Optional&&void 0===r&&(r=null),!(t&($e.Self|$e.Host))){const i=n[Yo],o=pr(void 0);try{return i?i.get(e,r,t&$e.Optional):DS(e,r,t&$e.Optional)}finally{pr(o)}}return Hx(r,0,t)}function qx(n,e,t,r=$e.Default,i){if(null!==n){if(2048&e[ke]&&!(r&$e.Self)){const s=function Rz(n,e,t,r,i){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[ke]&&!(512&s[ke]);){const a=Gx(o,s,t,r|$e.Self,Mi);if(a!==Mi)return a;let c=o.parent;if(!c){const u=s[YS];if(u){const l=u.get(t,Mi,r);if(l!==Mi)return l}c=Qx(s),s=s[lc]}o=c}return i}(n,e,t,r,Mi);if(s!==Mi)return s}const o=Gx(n,e,t,r,Mi);if(o!==Mi)return o}return zx(e,t,r,i)}function Gx(n,e,t,r,i){const o=function Oz(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Dl)?n[Dl]:void 0;return"number"==typeof e?e>=0?e&jx:kz:e}(t);if("function"==typeof o){if(!Ox(e,n,r))return r&$e.Host?Hx(i,0,r):zx(e,t,r,i);try{let s;if(s=o(r),null!=s||r&$e.Optional)return s;ky()}finally{Nx()}}else if("number"==typeof o){let s=null,a=Bx(n,e),c=_c,u=r&$e.Host?e[qt][Nn]:null;for((-1===a||r&$e.SkipSelf)&&(c=-1===a?sp(n,e):e[a+8],c!==_c&&Kx(r,!1)?(s=e[de],a=zl(c),e=ql(c,e)):a=-1);-1!==a;){const l=e[de];if(Wx(o,a,l.data)){const h=xz(a,e,t,s,r,u);if(h!==Mi)return h}c=e[a+8],c!==_c&&Kx(r,e[de].data[a+8]===u)&&Wx(o,a,e)?(s=l,a=zl(c),e=ql(c,e)):a=-1}}return i}function xz(n,e,t,r,i,o){const s=e[de],a=s.data[n+8],l=ap(a,s,t,null==r?Qs(a)&&dv:r!=s&&0!=(3&a.type),i&$e.Host&&o===a);return null!==l?Xs(e,s,l,a):Mi}function ap(n,e,t,r,i){const o=n.providerIndexes,s=e.data,a=1048575&o,c=n.directiveStart,l=o>>20,f=i?a+l:n.directiveEnd;for(let g=r?a:a+l;g<f;g++){const b=s[g];if(g<c&&t===b||g>=c&&b.type===t)return g}if(i){const g=s[c];if(g&&hi(g)&&g.type===t)return c}return null}function Xs(n,e,t,r){let i=n[t];const o=e.data;if(function Iz(n){return n instanceof Hl}(i)){const s=i;s.resolving&&function X8(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Z(-200,`Circular dependency in DI detected for ${n}${t}`)}(function it(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ae(n)}(o[t]));const a=ip(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?pr(s.injectImpl):null;Ox(n,r,$e.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function Cz(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=px(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==u&&pr(u),ip(a),s.resolving=!1,Nx()}}return i}function Wx(n,e,t){return!!(t[e+(n>>$x)]&1<<n)}function Kx(n,e){return!(n&$e.Self||n&$e.Host&&e)}class nr{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return qx(this._tNode,this._lView,e,qf(r),t)}}function kz(){return new nr(In(),Q())}function En(n){return no(()=>{const e=n.prototype.constructor,t=e[ro]||pv(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[ro]||pv(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function pv(n){return Oy(n)?()=>{const e=pv(Te(n));return e&&e()}:Ys(n)}function Qx(n){const e=n[de],t=e.type;return 2===t?e.declTNode:1===t?n[Nn]:null}const vc="__parameters__";function Cc(n,e,t){return no(()=>{const r=function gv(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,u,l){const h=c.hasOwnProperty(vc)?c[vc]:Object.defineProperty(c,vc,{value:[]})[vc];for(;h.length<=l;)h.push(null);return(h[l]=h[l]||[]).push(s),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Ic(n,e){n.forEach(t=>Array.isArray(t)?Ic(t,e):e(t))}function Jx(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function up(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Or(n,e,t){let r=Ec(n,e);return r>=0?n[1|r]=t:(r=~r,function $z(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function mv(n,e){const t=Ec(n,e);if(t>=0)return n[1|t]}function Ec(n,e){return function Xx(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const rr=Ol(Cc("Optional"),8),dp=Ol(Cc("SkipSelf"),4),Pc="ngSkipHydration";function cO(n){const e=Pc.toLowerCase(),t=n.mergedAttrs;if(null===t)return!1;for(let r=0;r<t.length;r+=2){const i=t[r];if("number"==typeof i)return!1;if("string"==typeof i&&i.toLowerCase()===e)return!0}return!1}function uO(n){return n.hasAttribute(Pc)}function mp(n){return 128==(128&n.flags)}var ts=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(ts||{});const c9=/^>|^->|<!--|-->|--!>|<!-$/g,u9=/(<|>)/g,l9="\u200b$1\u200b";const Cv=new Map;let d9=0;const Iv="__ngContext__";function Fn(n,e){mr(e)?(n[Iv]=e[Vl],function f9(n){Cv.set(n[Vl],n)}(e)):n[Iv]=e}let Ev;function Tv(n,e){return Ev(n,e)}function Jl(n){const e=n[At];return Zn(e)?e[At]:e}function yO(n){return bO(n[Nl])}function vO(n){return bO(n[di])}function bO(n){for(;null!==n&&!Zn(n);)n=n[di];return n}function Mc(n,e,t,r,i){if(null!=r){let o,s=!1;Zn(r)?o=r:mr(r)&&(s=!0,r=r[Ut]);const a=_t(r);0===n&&null!==t?null==i?EO(e,t,a):Zs(e,t,a,i||null,!0):1===n&&null!==t?Zs(e,t,a,i||null,!0):2===n?Ip(e,a,s):3===n&&e.destroyNode(a),null!=o&&function N9(n,e,t,r,i){const o=t[Ei];o!==_t(t)&&Mc(e,n,r,o,i);for(let a=Cn;a<t.length;a++){const c=t[a];Zl(c[de],c,n,e,r,o)}}(e,n,o,t,i)}}function yp(n,e){return n.createText(e)}function Pv(n,e){return n.createComment(function lO(n){return n.replace(c9,e=>e.replace(u9,l9))}(e))}function vp(n,e,t){return n.createElement(e,t)}function wO(n,e){const t=n[hc],r=t.indexOf(e);Cx(e),t.splice(r,1)}function bp(n,e){if(n.length<=Cn)return;const t=Cn+e,r=n[t];if(r){const i=r[Fl];null!==i&&i!==n&&wO(i,r),e>0&&(n[t-1][di]=r[di]);const o=up(n,Cn+e);!function E9(n,e){Zl(n,e,e[Se],2,null,null),e[Ut]=null,e[Nn]=null}(r[de],r);const s=o[Ii];null!==s&&s.detachView(o[de]),r[At]=null,r[di]=null,r[ke]&=-129}return r}function Mv(n,e){if(!(256&e[ke])){const t=e[Se];e[Ll]&&sx(e[Ll]),e[Ul]&&sx(e[Ul]),t.destroyNode&&Zl(n,e,t,3,null,null),function M9(n){let e=n[Nl];if(!e)return Av(n[de],n);for(;e;){let t=null;if(mr(e))t=e[Nl];else{const r=e[Cn];r&&(t=r)}if(!t){for(;e&&!e[di]&&e!==n;)mr(e)&&Av(e[de],e),e=e[At];null===e&&(e=n),mr(e)&&Av(e[de],e),t=e&&e[di]}e=t}}(e)}}function Av(n,e){if(!(256&e[ke])){e[ke]&=-129,e[ke]|=256,function O9(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Hl)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];Ti(4,a,c);try{c.call(a)}finally{Ti(5,a,c)}}else{Ti(4,i,o);try{o.call(i)}finally{Ti(5,i,o)}}}}}(n,e),function x9(n,e){const t=n.cleanup,r=e[cc];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else t[o].call(r[t[o+1]]);null!==r&&(e[cc]=null);const i=e[Jo];if(null!==i){e[Jo]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(n,e),1===e[de].type&&e[Se].destroy();const t=e[Fl];if(null!==t&&Zn(e[At])){t!==e[At]&&wO(t,e);const r=e[Ii];null!==r&&r.detachView(n)}!function p9(n){Cv.delete(n[Vl])}(e)}}function Sv(n,e,t){return function IO(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[Ut];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=n.data[r.directiveStart+i];if(o===ci.None||o===ci.Emulated)return null}return _r(r,t)}}(n,e.parent,t)}function Zs(n,e,t,r,i){n.insertBefore(e,t,r,i)}function EO(n,e,t){n.appendChild(e,t)}function TO(n,e,t,r,i){null!==r?Zs(n,e,t,r,i):EO(n,e,t)}function Cp(n,e){return n.parentNode(e)}let xv,Rv,Tp,AO=function MO(n,e,t){return 40&n.type?_r(n,t):null};function wp(n,e,t,r){const i=Sv(n,r,e),o=e[Se],a=function PO(n,e,t){return AO(n,e,t)}(r.parent||e[Nn],r,e);if(null!=i)if(Array.isArray(t))for(let c=0;c<t.length;c++)TO(o,i,t[c],a,!1);else TO(o,i,t,a,!1);void 0!==xv&&xv(o,r,e,t,i)}function Xl(n,e){if(null!==e){const t=e.type;if(3&t)return _r(e,n);if(4&t)return Ov(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Xl(n,r);{const i=n[e.index];return Zn(i)?Ov(-1,i):_t(i)}}if(32&t)return Tv(e,n)()||_t(n[e.index]);{const r=xO(n,e);return null!==r?Array.isArray(r)?r[0]:Xl(Jl(n[qt]),r):Xl(n,e.next)}}return null}function xO(n,e){return null!==e?n[qt][Nn].projection[e.projection]:null}function Ov(n,e){const t=Cn+n+1;if(t<e.length){const r=e[t],i=r[de].firstChild;if(null!==i)return Xl(r,i)}return e[Ei]}function Ip(n,e,t){const r=Cp(n,e);r&&function D9(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}function OO(n){n.textContent=""}function Dv(n,e,t,r,i,o,s){for(;null!=t;){const a=r[t.index],c=t.type;if(s&&0===e&&(a&&Fn(_t(a),r),t.flags|=2),32!=(32&t.flags))if(8&c)Dv(n,e,t.child,r,i,o,!1),Mc(e,n,i,a,o);else if(32&c){const u=Tv(t,r);let l;for(;l=u();)Mc(e,n,i,l,o);Mc(e,n,i,a,o)}else 16&c?DO(n,e,r,t,i,o):Mc(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Zl(n,e,t,r,i,o){Dv(t,r,n.firstChild,e,i,o,!1)}function DO(n,e,t,r,i,o){const s=t[qt],c=s[Nn].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)Mc(e,n,i,c[u],o);else{let u=c;const l=s[At];mp(r)&&(u.flags|=128),Dv(n,e,u,l,i,o,!0)}}function kO(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function RO(n,e,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&zy(n,e,r),null!==i&&kO(n,e,i),null!==o&&function V9(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function Sc(){if(void 0!==Rv)return Rv;if(typeof document<"u")return document;throw new Z(210,!1)}function VO(n){return function Nv(){if(void 0===Tp&&(Tp=null,mt.trustedTypes))try{Tp=mt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Tp}()?.createScriptURL(n)||n}class LO{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${AS})`}}function ns(n){return n instanceof LO?n.changingThisBreaksApplicationSecurity:n}function ed(n,e){const t=function W9(n){return n instanceof LO&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${AS})`)}return t===e}const J9=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var xc=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(xc||{});function Dr(n){const e=nd();return e?e.sanitize(xc.URL,n)||"":ed(n,"URL")?ns(n):function Fv(n){return(n=String(n)).match(J9)?n:"unsafe:"+n}(Ae(n))}function qO(n){const e=nd();if(e)return VO(e.sanitize(xc.RESOURCE_URL,n)||"");if(ed(n,"ResourceURL"))return VO(ns(n));throw new Z(904,!1)}function nd(){const n=Q();return n&&n[uc].sanitizer}const Oc=new ue("ENVIRONMENT_INITIALIZER"),WO=new ue("INJECTOR",-1),KO=new ue("INJECTOR_DEF_TYPES");class jv{get(e,t=xl){if(t===xl){const r=new Error(`NullInjectorError: No provider for ${an(e)}!`);throw r.name="NullInjectorError",r}return t}}function rd(n){return{\u0275providers:n}}function QO(...n){return{\u0275providers:YO(0,n),\u0275fromNgModule:!0}}function YO(n,...e){const t=[],r=new Set;let i;const o=s=>{t.push(s)};return Ic(e,s=>{const a=s;Mp(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&JO(i,o),t}function JO(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];$v(i,o=>{e(o,r)})}}function Mp(n,e,t,r){if(!(n=Te(n)))return!1;let i=null,o=Bf(n);const s=!o&&Ke(n);if(o||s){if(s&&!s.standalone)return!1;i=n}else{const c=n.ngModule;if(o=Bf(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of c)Mp(u,e,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;r.add(i);try{Ic(o.imports,l=>{Mp(l,e,t,r)&&(u||=[],u.push(l))})}finally{}void 0!==u&&JO(u,e)}if(!a){const u=Ys(i)||(()=>new i);e({provide:i,useFactory:u,deps:Je},i),e({provide:KO,useValue:i,multi:!0},i),e({provide:Oc,useValue:()=>le(i),multi:!0},i)}const c=o.providers;if(null!=c&&!a){const u=n;$v(c,l=>{e(l,u)})}}}return i!==n&&void 0!==n.providers}function $v(n,e){for(let t of n)Dy(t)&&(t=t.\u0275providers),Array.isArray(t)?$v(t,e):e(t)}const lq=ot({provide:String,useValue:ot});function Bv(n){return null!==n&&"object"==typeof n&&lq in n}function ea(n){return"function"==typeof n}const Hv=new ue("Set Injector scope."),Ap={},hq={};let zv;function Sp(){return void 0===zv&&(zv=new jv),zv}class kr{}class Dc extends kr{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Gv(e,s=>this.processProvider(s)),this.records.set(WO,kc(void 0,this)),i.has("environment")&&this.records.set(kr,kc(void 0,this));const o=this.records.get(Hv);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(KO.multi,Je,$e.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=Qo(this),r=pr(void 0);try{return e()}finally{Qo(t),pr(r)}}get(e,t=xl,r=$e.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(VS))return e[VS](this);r=qf(r);const o=Qo(this),s=pr(void 0);try{if(!(r&$e.SkipSelf)){let c=this.records.get(e);if(void 0===c){const u=function _q(n){return"function"==typeof n||"object"==typeof n&&n instanceof ue}(e)&&$f(e);c=u&&this.injectableDefInScope(u)?kc(qv(e),Ap):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&$e.Self?Sp():this.parent).get(e,t=r&$e.Optional&&t===xl?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[zf]=a[zf]||[]).unshift(an(e)),o)throw a;return function fH(n,e,t,r){const i=n[zf];throw e[RS]&&i.unshift(e[RS]),n.message=function pH(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=an(e);if(Array.isArray(e))i=e.map(an).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):an(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(cH,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[zf]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{pr(s),Qo(o)}}resolveInjectorInitializers(){const e=Qo(this),t=pr(void 0);try{const i=this.get(Oc.multi,Je,$e.Self);for(const o of i)o()}finally{Qo(e),pr(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(an(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Z(205,!1)}processProvider(e){let t=ea(e=Te(e))?e:Te(e&&e.provide);const r=function pq(n){return Bv(n)?kc(void 0,n.useValue):kc(eD(n),Ap)}(e);if(ea(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=kc(void 0,Ap,!0),i.factory=()=>$y(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Ap&&(t.value=hq,t.value=t.factory()),"object"==typeof t.value&&t.value&&function mq(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=Te(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function qv(n){const e=$f(n),t=null!==e?e.factory:Ys(n);if(null!==t)return t;if(n instanceof ue)throw new Z(204,!1);if(n instanceof Function)return function fq(n){const e=n.length;if(e>0)throw function Kl(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new Z(204,!1);const t=function iH(n){return n&&(n[Hf]||n[xS])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Z(204,!1)}function eD(n,e,t){let r;if(ea(n)){const i=Te(n);return Ys(i)||qv(i)}if(Bv(n))r=()=>Te(n.useValue);else if(function ZO(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...$y(n.deps||[]));else if(function XO(n){return!(!n||!n.useExisting)}(n))r=()=>le(Te(n.useExisting));else{const i=Te(n&&(n.useClass||n.provide));if(!function gq(n){return!!n.deps}(n))return Ys(i)||qv(i);r=()=>new i(...$y(n.deps))}return r}function kc(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Gv(n,e){for(const t of n)Array.isArray(t)?Gv(t,e):t&&Dy(t)?Gv(t.\u0275providers,e):e(t)}const Wv=new ue("AppId",{providedIn:"root",factory:()=>yq}),yq="ng",tD=new ue("Platform Initializer"),co=new ue("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),nD=new ue("CSP nonce",{providedIn:"root",factory:()=>Sc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),rD=new ue("",{providedIn:"root",factory:()=>new Set});function vq(){const n=new Rc;return"browser"===se(co)&&(n.store=function bq(n,e){const t=n.getElementById(e+"-state");if(t?.textContent)try{return JSON.parse(t.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}(Sc(),se(Wv))),n}let Rc=(()=>{class n{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=pe({token:n,providedIn:"root",factory:vq})}get(t,r){return void 0!==this.store[t]?this.store[t]:r}set(t,r){this.store[t]=r}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(t,r){this.onSerializeCallbacks[t]=r}toJson(){for(const t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return n})();const Kv="h",Qv="b";var Nc=function(n){return n.FirstChild="f",n.NextSibling="n",n}(Nc||{});const Yv="e",Jv="t",id="c",xp="x",Fc="r",Xv="i",Zv="n",Op="d",eb="__\u0275nghData__",od="ngh";let iD=(n,e,t)=>null;function wq(n,e,t=!1){let r=n.getAttribute(od);if(null==r)return null;const[i,o]=r.split("|");if(r=t?o:i,!r)return null;const s=t?i:o?`|${o}`:"";let a={};if(""!==r){const u=e.get(Rc,null,{optional:!0});null!==u&&(a=u.get(eb,[])[Number(r)])}const c={data:a,firstChild:n.firstChild??null};return t&&(c.firstChild=n,Dp(c,0,n.nextSibling)),s?n.setAttribute(od,s):n.removeAttribute(od),c}function tb(n,e,t=!1){return iD(n,e,t)}function oD(n){let e=n._lView;return 2===e[de].type?null:(Wy(e)&&(e=e[Be]),e)}function Dp(n,e,t){n.segmentHeads??={},n.segmentHeads[e]=t}function nb(n,e){return n.segmentHeads?.[e]??null}function sD(n,e){return n.data[id]?.[e]??null}function rb(n,e){const t=sD(n,e)??[];let r=0;for(let i of t)r+=i[Fc]*(i[xp]??1);return r}function kp(n,e){if(typeof n.disconnectedNodes>"u"){const t=n.data[Op];n.disconnectedNodes=t?new Set(t):null}return!!n.disconnectedNodes?.has(e)}class Aq{}class aD{}class xq{resolveComponentFactory(e){throw function Sq(n){const e=Error(`No component factory found for ${an(n)}.`);return e.ngComponent=n,e}(e)}}let Rp=(()=>{class n{static{this.NULL=new xq}}return n})();function Oq(){return Vc(In(),Q())}function Vc(n,e){return new vr(_r(n,e))}let vr=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=Oq}}return n})();function Dq(n){return n instanceof vr?n.nativeElement:n}class uD{}let uo=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function kq(){const n=Q(),t=xr(In().index,n);return(mr(t)?t:n)[Se]}()}}return n})(),Rq=(()=>{class n{static{this.\u0275prov=pe({token:n,providedIn:"root",factory:()=>null})}}return n})();class Lc{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const lD=new Lc("16.2.12"),ib={};function pD(n,e=null,t=null,r){const i=gD(n,e,t,r);return i.resolveInjectorInitializers(),i}function gD(n,e=null,t=null,r,i=new Set){const o=[t||Je,QO(n)];return r=r||("object"==typeof n?void 0:an(n)),new Dc(o,e||Sp(),r||null,i)}let Vn=(()=>{class n{static{this.THROW_IF_NOT_FOUND=xl}static{this.NULL=new jv}static create(t,r){if(Array.isArray(t))return pD({name:""},r,t,"");{const i=t.name??"";return pD({name:i},t.parent,t.providers,i)}}static{this.\u0275prov=pe({token:n,providedIn:"any",factory:()=>le(WO)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();function sb(n){return n.ngOriginalError}class lo{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&sb(e);for(;t&&sb(t);)t=sb(t);return t||null}}function ab(n){return e=>{setTimeout(n,void 0,e)}}const Rt=class Bq extends ai{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=ab(o),i&&(i=ab(i)),s&&(s=ab(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof q&&e.add(a),a}};function _D(...n){}class Xe{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Rt(!1),this.onMicrotaskEmpty=new Rt(!1),this.onStable=new Rt(!1),this.onError=new Rt(!1),typeof Zone>"u")throw new Z(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function Hq(){const n="function"==typeof mt.requestAnimationFrame;let e=mt[n?"requestAnimationFrame":"setTimeout"],t=mt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function Gq(n){const e=()=>{!function qq(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(mt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,ub(n),n.isCheckStableRunning=!0,cb(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),ub(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{if(function Kq(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,o,s,a);try{return yD(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),vD(n)}},onInvoke:(t,r,i,o,s,a,c)=>{try{return yD(n),t.invoke(i,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),vD(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,ub(n),cb(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Xe.isInAngularZone())throw new Z(909,!1)}static assertNotInAngularZone(){if(Xe.isInAngularZone())throw new Z(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,zq,_D,_D);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const zq={};function cb(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function ub(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function yD(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function vD(n){n._nesting--,cb(n)}const bD=new ue("",{providedIn:"root",factory:CD});function CD(){const n=se(Xe);let e=!0;return function W8(...n){const e=Al(n),t=function j8(n,e){return"number"==typeof Ay(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Mr(r[0]):oc(t)(sn(r,e)):Ci}(new Mt(i=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Mt(i=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{Xe.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=n.onUnstable.subscribe(()=>{Xe.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(PS()))}function wD(n){return n.ownerDocument}function ho(n){return n instanceof Function?n():n}function jc(n){return"browser"===(n??se(Vn)).get(co)}let lb=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=pe({token:n,providedIn:"root",factory:()=>new n})}}return n})();function sd(n){for(;n;){n[ke]|=64;const e=Jl(n);if(Wy(n)&&!e)return n;n=e}return null}const Fp=new ue(""),MD=new ue("",{providedIn:"root",factory:()=>!1});let Vp=null;function OD(n,e){return n[e]??RD()}function DD(n,e){const t=RD();t.producerNode?.length&&(n[e]=Vp,t.lView=n,Vp=kD())}const rG={...ex,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{sd(n.lView)},lView:null};function kD(){return Object.create(rG)}function RD(){return Vp??=kD(),Vp}const xe={};function C(n){ND(Qe(),Q(),tr()+n,!1)}function ND(n,e,t,r){if(!r)if(3==(3&e[ke])){const o=n.preOrderCheckHooks;null!==o&&np(e,o,t)}else{const o=n.preOrderHooks;null!==o&&rp(e,o,0,t)}Js(t)}function W(n,e=$e.Default){const t=Q();return null===t?le(n,e):qx(In(),t,Te(n),e)}function Lp(n,e,t,r,i,o,s,a,c,u,l){const h=e.blueprint.slice();return h[Ut]=i,h[ke]=140|r,(null!==u||n&&2048&n[ke])&&(h[ke]|=2048),bx(h),h[At]=h[lc]=n,h[zt]=t,h[uc]=s||n&&n[uc],h[Se]=a||n&&n[Se],h[Yo]=c||n&&n[Yo]||null,h[Nn]=o,h[Vl]=function h9(){return d9++}(),h[io]=l,h[YS]=u,h[qt]=2==e.type?n[qt]:h,h}function $c(n,e,t,r,i){let o=n.data[e];if(null===o)o=function db(n,e,t,r,i){const o=Px(),s=tv(),c=n.data[e]=function dG(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return gc()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(n,e,t,r,i),function dz(){return Ee.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function Bl(){const n=Ee.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Pi(o,!0),o}function ad(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function VD(n,e,t,r,i){const o=OD(e,Ll),s=tr(),a=2&r;try{Js(-1),a&&e.length>Be&&ND(n,e,Be,!1),Ti(a?2:0,i);const u=a?o:null,l=Qy(u);try{null!==u&&(u.dirty=!1),t(r,i)}finally{Yy(u,l)}}finally{a&&null===e[Ll]&&DD(e,Ll),Js(s),Ti(a?3:1,i)}}function hb(n,e,t){if(Gy(e)){const r=Gr(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{Gr(r)}}}function fb(n,e,t){Tx()&&(function yG(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;Qs(t)&&function TG(n,e,t){const r=_r(e,n),i=LD(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=Up(n,Lp(n,i,null,s,r,e,null,n[uc].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||op(t,e),Fn(r,e);const s=t.initialInputs;for(let a=i;a<o;a++){const c=n.data[a],u=Xs(e,n,a,t);Fn(u,e),null!==s&&PG(0,a-i,u,c,0,s),hi(c)&&(xr(t.index,e)[zt]=Xs(e,n,a,t))}}(n,e,t,_r(t,e)),64==(64&t.flags)&&HD(n,e,t))}function pb(n,e,t=_r){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(e,n):n[s];n[i++]=a}}}function LD(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=gb(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function gb(n,e,t,r,i,o,s,a,c,u,l){const h=Be+r,f=h+i,g=function oG(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:xe);return t}(h,f),b="function"==typeof u?u():u;return g[de]={type:n,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:b,incompleteFirstPass:!1,ssrId:l}}let UD=n=>null;function cG(n){uO(n)?OO(n):function Tq(n){const e=Sc(),t=e.createNodeIterator(n,NodeFilter.SHOW_COMMENT,{acceptNode(o){const s=function Eq(n){return n.textContent?.replace(/\s/gm,"")}(o);return"ngetn"===s||"ngtns"===s?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}});let r;const i=[];for(;r=t.nextNode();)i.push(r);for(const o of i)"ngetn"===o.textContent?o.replaceWith(e.createTextNode("")):o.remove()}(n)}function jD(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const o=n[i];null===r?$D(t,e,i,o):r.hasOwnProperty(i)&&$D(t,e,r[i],o)}return t}function $D(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function Rr(n,e,t,r,i,o,s,a){const c=_r(e,t);let l,u=e.inputs;!a&&null!=u&&(l=u[r])?(bb(n,t,l,r,i),Qs(e)&&function pG(n,e){const t=xr(e,n);16&t[ke]||(t[ke]|=64)}(t,e.index)):3&e.type&&(r=function fG(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(c,r,i))}function mb(n,e,t,r){if(Tx()){const i=null===r?null:{"":-1},o=function bG(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(zS(e,s.selectors,!1))if(r||(r=[]),hi(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),_b(n,e,a.length)}else r.unshift(s),_b(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&BD(n,e,t,s,i,a),i&&function CG(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new Z(-301,!1);r.push(e[i],o)}}}(t,r,i)}t.mergedAttrs=kl(t.mergedAttrs,t.attrs)}function BD(n,e,t,r,i,o){for(let u=0;u<r.length;u++)fv(op(t,e),n,r[u].type);!function IG(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let u=0;u<r.length;u++){const l=r[u];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,c=ad(n,e,r.length,null);for(let u=0;u<r.length;u++){const l=r[u];t.mergedAttrs=kl(t.mergedAttrs,l.hostAttrs),EG(n,t,e,c,l),wG(c,l,i),null!==l.contentQueries&&(t.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(t.flags|=64);const h=l.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function hG(n,e,t){const i=e.directiveEnd,o=n.data,s=e.attrs,a=[];let c=null,u=null;for(let l=e.directiveStart;l<i;l++){const h=o[l],f=t?t.get(h):null,b=f?f.outputs:null;c=jD(h.inputs,l,c,f?f.inputs:null),u=jD(h.outputs,l,u,b);const I=null===c||null===s||HS(e)?null:MG(c,l,s);a.push(I)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}(n,t,o)}function HD(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function fz(){return Ee.lFrame.currentDirectiveIndex}();try{Js(o);for(let a=r;a<i;a++){const c=n.data[a],u=e[a];rv(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&vG(c,u)}}finally{Js(-1),rv(s)}}function vG(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function _b(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function wG(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;hi(e)&&(t[""]=n)}}function EG(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=Ys(i.type)),s=new Hl(o,hi(i),W);n.blueprint[r]=s,t[r]=s,function mG(n,e,t,r,i){const o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function _G(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,o)}}(n,e,r,ad(n,t,i.hostVars,xe),i)}function Ai(n,e,t,r,i,o){const s=_r(n,e);!function yb(n,e,t,r,i,o,s){if(null==o)n.removeAttribute(e,i,t);else{const a=null==s?Ae(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}(e[Se],s,o,n.value,t,r,i)}function PG(n,e,t,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)zD(r,t,s[a++],s[a++],s[a++])}function zD(n,e,t,r,i){const o=Gr(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==n.setInput?n.setInput(e,i,t,r):e[r]=i}finally{Gr(o)}}function MG(n,e,t){let r=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===r&&(r=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function qD(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null,null]}function GD(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const o=t[r+1];if(-1!==o){const s=n.data[o];ov(t[r]),s.contentQueries(2,e[o],o)}}}function Up(n,e){return n[Nl]?n[QS][di]=e:n[Nl]=e,n[QS]=e,e}function vb(n,e,t){ov(0);const r=Gr(null);try{e(n,t)}finally{Gr(r)}}function WD(n){return n[cc]||(n[cc]=[])}function KD(n){return n.cleanup||(n.cleanup=[])}function YD(n,e){const t=n[Yo],r=t?t.get(lo,null):null;r&&r.handleError(e)}function bb(n,e,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];zD(n.data[s],e[s],r,a,i)}}function fo(n,e,t){const r=Zf(e,n);!function CO(n,e,t){n.setValue(e,t)}(n[Se],r,t)}function AG(n,e){const t=xr(e,n),r=t[de];!function SG(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[Ut];null!==i&&null===t[io]&&(t[io]=tb(i,t[Yo])),Cb(r,t,t[zt])}function Cb(n,e,t){sv(e);try{const r=n.viewQuery;null!==r&&vb(1,r,t);const i=n.template;null!==i&&VD(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&GD(n,e),n.staticViewQueries&&vb(2,n.viewQuery,t);const o=n.components;null!==o&&function xG(n,e){for(let t=0;t<e.length;t++)AG(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ke]&=-5,av()}}let JD=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function HH(n,e,t){const r=Object.create(zH);t&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=e;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>ix(r),run:()=>{if(r.dirty=!1,r.hasRun&&!ox(r))return;r.hasRun=!0;const s=Qy(r);try{r.cleanupFn(),r.cleanupFn=fx,r.fn(i)}finally{Yy(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(t,u=>{this.all.has(u)&&this.queue.set(u,o)},i);let a;this.all.add(s),s.notify();const c=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=pe({token:n,providedIn:"root",factory:()=>new n})}}return n})();function jp(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=xy(i,a):2==o&&(r=xy(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function cd(n,e,t,r,i=!1){for(;null!==t;){const o=e[t.index];null!==o&&r.push(_t(o)),Zn(o)&&XD(o,r);const s=t.type;if(8&s)cd(n,e,t.child,r);else if(32&s){const a=Tv(t,e);let c;for(;c=a();)r.push(c)}else if(16&s){const a=xO(e,t);if(Array.isArray(a))r.push(...a);else{const c=Jl(e[qt]);cd(c[de],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function XD(n,e){for(let t=Cn;t<n.length;t++){const r=n[t],i=r[de].firstChild;null!==i&&cd(r[de],r,i,e)}n[Ei]!==n[Ut]&&e.push(n[Ei])}function $p(n,e,t,r=!0){const i=e[uc],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{ZD(n,e,n.template,t)}catch(c){throw r&&YD(e,c),c}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function ZD(n,e,t,r){const i=e[ke];if(256!=(256&i)){e[uc].effectManager?.flush(),sv(e);try{bx(e),function Ax(n){return Ee.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&VD(n,e,t,2,r);const s=3==(3&i);if(s){const u=n.preOrderCheckHooks;null!==u&&np(e,u,null)}else{const u=n.preOrderHooks;null!==u&&rp(e,u,0,null),cv(e,0)}if(function kG(n){for(let e=yO(n);null!==e;e=vO(e)){if(!e[JS])continue;const t=e[hc];for(let r=0;r<t.length;r++){ez(t[r])}}}(e),ek(e,2),null!==n.contentQueries&&GD(n,e),s){const u=n.contentCheckHooks;null!==u&&np(e,u)}else{const u=n.contentHooks;null!==u&&rp(e,u,1),cv(e,1)}!function iG(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const r=OD(e,Ul);try{for(let i=0;i<t.length;i++){const o=t[i];if(o<0)Js(~o);else{const s=o,a=t[++i],c=t[++i];hz(a,s),r.dirty=!1;const u=Qy(r);try{c(2,e[s])}finally{Yy(r,u)}}}}finally{null===e[Ul]&&DD(e,Ul),Js(-1)}}(n,e);const a=n.components;null!==a&&nk(e,a,0);const c=n.viewQuery;if(null!==c&&vb(2,c,r),s){const u=n.viewCheckHooks;null!==u&&np(e,u)}else{const u=n.viewHooks;null!==u&&rp(e,u,2),cv(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[ke]&=-73,Cx(e)}finally{av()}}}function ek(n,e){for(let t=yO(n);null!==t;t=vO(t))for(let r=Cn;r<t.length;r++)tk(t[r],e)}function RG(n,e,t){tk(xr(e,n),t)}function tk(n,e){if(!function XH(n){return 128==(128&n[ke])}(n))return;const t=n[de],r=n[ke];if(80&r&&0===e||1024&r||2===e)ZD(t,n,t.template,n[zt]);else if(n[Rl]>0){ek(n,1);const i=t.components;null!==i&&nk(n,i,1)}}function nk(n,e,t){for(let r=0;r<e.length;r++)RG(n,e[r],t)}class ud{get rootNodes(){const e=this._lView,t=e[de];return cd(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[zt]}set context(e){this._lView[zt]=e}get destroyed(){return 256==(256&this._lView[ke])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[At];if(Zn(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(bp(e,r),up(t,r))}this._attachedToViewContainer=!1}Mv(this._lView[de],this._lView)}onDestroy(e){!function Ix(n,e){if(256==(256&n[ke]))throw new Z(911,!1);null===n[Jo]&&(n[Jo]=[]),n[Jo].push(e)}(this._lView,e)}markForCheck(){sd(this._cdRefInjectingView||this._lView)}detach(){this._lView[ke]&=-129}reattach(){this._lView[ke]|=128}detectChanges(){$p(this._lView[de],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function P9(n,e){Zl(n,e,e[Se],2,null,null)}(this._lView[de],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Z(902,!1);this._appRef=e}}class NG extends ud{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;$p(e[de],e,e[zt],!1)}checkNoChanges(){}get context(){return null}}class rk extends Rp{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Ke(e);return new ld(t,this.ngModule)}}function ik(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class VG{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=qf(r);const i=this.injector.get(e,ib,r);return i!==ib||t===ib?i:this.parentInjector.get(e,t,r)}}class ld extends aD{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=ik(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return ik(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function EH(n){return n.map(IH).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=(i=i||this.ngModule)instanceof kr?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new VG(e,o):e,a=s.get(uD,null);if(null===a)throw new Z(407,!1);const h={rendererFactory:a,sanitizer:s.get(Rq,null),effectManager:s.get(JD,null),afterRenderEventManager:s.get(lb,null)},f=a.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",b=r?function sG(n,e,t,r){const o=r.get(MD,!1)||t===ci.ShadowDom,s=n.selectRootElement(e,o);return function aG(n){UD(n)}(s),s}(f,r,this.componentDef.encapsulation,s):vp(f,g,function FG(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(g)),S=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let M=null;null!==b&&(M=tb(b,s,!0));const V=gb(0,null,null,1,0,null,null,null,null,null,null),$=Lp(null,V,null,S,null,null,h,f,s,null,M);let z,ne;sv($);try{const O=this.componentDef;let P,A=null;O.findHostDirectiveDefs?(P=[],A=new Map,O.findHostDirectiveDefs(O,P,A),P.push(O)):P=[O];const k=function UG(n,e){const t=n[de],r=Be;return n[r]=e,$c(t,r,2,"#host",null)}($,b),R=function jG(n,e,t,r,i,o,s){const a=i[de];!function $G(n,e,t,r){for(const i of n)e.mergedAttrs=kl(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(jp(e,e.mergedAttrs,!0),null!==t&&RO(r,t,e))}(r,n,e,s);let c=null;null!==e&&(c=tb(e,i[Yo]));const u=o.rendererFactory.createRenderer(e,t);let l=16;t.signals?l=4096:t.onPush&&(l=64);const h=Lp(i,LD(t),null,l,i[n.index],n,o,u,null,null,c);return a.firstCreatePass&&_b(a,n,r.length-1),Up(i,h),i[n.index]=h}(k,b,O,P,$,h,f);ne=vx(V,Be),b&&function HG(n,e,t,r){if(r)zy(n,t,["ng-version",lD.full]);else{const{attrs:i,classes:o}=function TH(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!ui(i))break;i=o}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&zy(n,t,i),o&&o.length>0&&kO(n,t,o.join(" "))}}(f,O,b,r),void 0!==t&&function zG(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const o=t[i];r.push(null!=o?Array.from(o):null)}}(ne,this.ngContentSelectors,t),z=function BG(n,e,t,r,i,o){const s=In(),a=i[de],c=_r(s,i);BD(a,i,s,t,null,r);for(let l=0;l<t.length;l++)Fn(Xs(i,a,s.directiveStart+l,s),i);HD(a,i,s),c&&Fn(c,i);const u=Xs(i,a,s.directiveStart+s.componentOffset,s);if(n[zt]=i[zt]=u,null!==o)for(const l of o)l(u,e);return hb(a,s,n),u}(R,O,P,A,$,[qG]),Cb(V,$,null)}finally{av()}return new LG(this.componentType,z,Vc(ne,$),$,ne)}}class LG extends Aq{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new NG(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;bb(o[de],o,i,e,t),this.previousInputValues.set(e,t),sd(xr(this._tNode.index,o))}}get injector(){return new nr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function qG(){const n=In();tp(Q()[de],n)}function st(n){let e=function ok(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(hi(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Z(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const s=n;s.inputs=Bp(n.inputs),s.inputTransforms=Bp(n.inputTransforms),s.declaredInputs=Bp(n.declaredInputs),s.outputs=Bp(n.outputs);const a=i.hostBindings;a&&QG(n,a);const c=i.viewQuery,u=i.contentQueries;if(c&&WG(n,c),u&&KG(n,u),jf(n.inputs,i.inputs),jf(n.declaredInputs,i.declaredInputs),jf(n.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),jf(s.inputTransforms,i.inputTransforms)),hi(i)&&i.data.animation){const l=n.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===st&&(t=!1)}}e=Object.getPrototypeOf(e)}!function GG(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=kl(i.hostAttrs,t=kl(t,i.hostAttrs))}}(r)}function Bp(n){return n===wi?{}:n===Je?[]:n}function WG(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function KG(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,o)=>{e(r,i,o),t(r,i,o)}:e}function QG(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function uk(n){const e=n.inputConfig,t={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(t[r]=i[2])}n.inputTransforms=t}function Hp(n){return!!wb(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function wb(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Si(n,e,t){return n[e]=t}function dd(n,e){return n[e]}function Ln(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function ta(n,e,t,r){const i=Ln(n,e,t);return Ln(n,e+1,r)||i}function xi(n,e,t,r){const i=Q();return Ln(i,mc(),e)&&(Qe(),Ai(kt(),i,n,e,t,r)),xi}function Hc(n,e,t,r){return Ln(n,mc(),t)?e+Ae(t)+r:xe}function zc(n,e,t,r,i,o){const a=ta(n,function oo(){return Ee.lFrame.bindingIndex}(),t,i);return so(2),a?e+Ae(t)+r+Ae(i)+o:xe}const h7=new RegExp(`^(\\d+)*(${Qv}|${Kv})*(.*)`);function Pb(n){return n.index-Be}function Gp(n,e,t,r){let i=null;const o=Pb(r),s=n.data[Zv];if(s?.[o])i=function _7(n,e){const[t,...r]=function p7(n){const e=n.match(h7),[t,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(const[c,u,l]of o.matchAll(/(f|n)(\d*)/g)){const h=parseInt(l,10)||1;a.push(u,h)}return[s,...a]}(n);let i;return i=t===Kv?e[qt][Ut]:t===Qv?function ID(n){return n.ownerDocument.body}(e[qt][Ut]):_t(e[Number(t)+Be]),function m7(n,e){let t=n;for(let r=0;r<e.length;r+=2){const i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case Nc.FirstChild:t=t.firstChild;break;case Nc.NextSibling:t=t.nextSibling}}return t}(i,r)}(s[o],t);else if(e.firstChild===r)i=n.firstChild;else{const a=null===r.prev,c=r.prev??r.parent;if(function g7(n){return!n.prev&&8===n.parent?.type}(r))i=nb(n,Pb(r.parent));else{let u=_r(c,t);if(a)i=u.firstChild;else{const l=Pb(c),h=nb(n,l);i=2===c.type&&h?Wp(rb(n,l)+1,h):u.nextSibling}}}return i}function Wp(n,e){let t=e;for(let r=0;r<n;r++)t=t.nextSibling;return t}function Y(n,e,t,r,i,o,s,a){const c=Q(),u=Qe(),l=n+Be,h=u.firstCreatePass?function b7(n,e,t,r,i,o,s,a,c){const u=e.consts,l=$c(e,n,4,s||null,Zo(u,a));mb(e,t,l,Zo(u,c)),tp(e,l);const h=l.tView=gb(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,u,c,e,t,r,i,o,s):u.data[l];Pi(h,!1);const f=wk(u,c,h,n);ep()&&wp(u,c,f,h),Fn(f,c),Up(c,c[l]=qD(f,c,f,h)),Yf(h)&&fb(u,c,h),null!=s&&pb(c,h,a)}let wk=Ik;function Ik(n,e,t,r){return es(!0),e[Se].createComment("")}function C7(n,e,t,r){const i=e[io],o=!i||gc()||kp(i,r);if(es(o),o)return Ik(0,e);const s=i.data[Jv]?.[r]??null;null!==s&&null!==t.tView&&null===t.tView.ssrId&&(t.tView.ssrId=s);const a=Gp(i,n,e,t);return Dp(i,r,a),Wp(rb(i,r),a)}function po(n){return pc(function lz(){return Ee.lFrame.contextLView}(),Be+n)}function j(n,e,t){const r=Q();return Ln(r,mc(),e)&&Rr(Qe(),kt(),r,n,e,r[Se],t,!1),j}function Ab(n,e,t,r,i){const s=i?"class":"style";bb(n,t,e.inputs[s],s,r)}function _(n,e,t,r){const i=Q(),o=Qe(),s=Be+n,a=i[Se],c=o.firstCreatePass?function E7(n,e,t,r,i,o){const s=e.consts,c=$c(e,n,2,r,Zo(s,i));return mb(e,t,c,Zo(s,o)),null!==c.attrs&&jp(c,c.attrs,!1),null!==c.mergedAttrs&&jp(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,e,t,r):o.data[s],u=Ek(o,i,c,a,e,n);i[s]=u;const l=Yf(c);return Pi(c,!0),RO(a,u,c),32!=(32&c.flags)&&ep()&&wp(o,i,u,c),0===function nz(){return Ee.lFrame.elementDepthCount}()&&Fn(u,i),function rz(){Ee.lFrame.elementDepthCount++}(),l&&(fb(o,i,c),hb(o,c,i)),null!==r&&pb(i,c),_}function y(){let n=In();tv()?function nv(){Ee.lFrame.isParent=!1}():(n=n.parent,Pi(n,!1));const e=n;(function oz(n){return Ee.skipHydrationRootTNode===n})(e)&&function uz(){Ee.skipHydrationRootTNode=null}(),function iz(){Ee.lFrame.elementDepthCount--}();const t=Qe();return t.firstCreatePass&&(tp(t,n),Gy(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function Ez(n){return 0!=(8&n.flags)}(e)&&Ab(t,e,Q(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Tz(n){return 0!=(16&n.flags)}(e)&&Ab(t,e,Q(),e.stylesWithoutHost,!1),y}function D(n,e,t,r){return _(n,e,t,r),y(),D}let Ek=(n,e,t,r,i,o)=>(es(!0),vp(r,i,Fx()));function T7(n,e,t,r,i,o){const s=e[io],a=!s||gc()||kp(s,o);if(es(a),a)return vp(r,i,Fx());const c=Gp(s,n,e,t);return sD(s,o)&&Dp(s,o,c.nextSibling),s&&(cO(t)||uO(c))&&Qs(t)&&(function az(n){Ee.skipHydrationRootTNode=n}(t),OO(c)),c}let Pk=(n,e,t,r)=>(es(!0),Pv(e[Se],""));function A7(n,e,t,r){let i;const o=e[io],s=!o||gc();if(es(s),s)return Pv(e[Se],"");const a=Gp(o,n,e,t),c=function Mq(n,e){const t=n.data;let r=t[Yv]?.[e]??null;return null===r&&t[id]?.[e]&&(r=rb(n,e)),r}(o,r);return Dp(o,r,a),i=Wp(c,a),i}function Oe(){return Q()}function gd(n){return!!n&&"function"==typeof n.then}function Mk(n){return!!n&&"function"==typeof n.subscribe}function G(n,e,t,r){const i=Q(),o=Qe(),s=In();return function Sk(n,e,t,r,i,o,s){const a=Yf(r),u=n.firstCreatePass&&KD(n),l=e[zt],h=WD(e);let f=!0;if(3&r.type||s){const I=_r(r,e),E=s?s(I):I,S=h.length,M=s?$=>s(_t($[r.index])):r.index;let V=null;if(!s&&a&&(V=function x7(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=e[cc],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,e,i,r.index)),null!==V)(V.__ngLastListenerFn__||V).__ngNextListenerFn__=o,V.__ngLastListenerFn__=o,f=!1;else{o=Ok(r,e,l,o,!1);const $=t.listen(E,i,o);h.push(o,$),u&&u.push(i,M,S,S+1)}}else o=Ok(r,e,l,o,!1);const g=r.outputs;let b;if(f&&null!==g&&(b=g[i])){const I=b.length;if(I)for(let E=0;E<I;E+=2){const z=e[b[E]][b[E+1]].subscribe(o),ne=h.length;h.push(o,z),u&&u.push(i,r.index,ne,-(ne+1))}}}(o,i,i[Se],s,n,e,r),G}function xk(n,e,t,r){try{return Ti(6,e,t),!1!==t(r)}catch(i){return YD(n,i),!1}finally{Ti(7,e,t)}}function Ok(n,e,t,r,i){return function o(s){if(s===Function)return r;sd(n.componentOffset>-1?xr(n.index,e):e);let c=xk(e,t,r,s),u=o.__ngNextListenerFn__;for(;u;)c=xk(e,t,u,s)&&c,u=u.__ngNextListenerFn__;return i&&!1===c&&s.preventDefault(),c}}function U(n=1){return function gz(n){return(Ee.lFrame.contextLView=function mz(n,e){for(;n>0;)e=e[lc],n--;return e}(n,Ee.lFrame.contextLView))[zt]}(n)}function Kp(n,e,t){return Qp(n,"",e,"",t),Kp}function Qp(n,e,t,r,i){const o=Q(),s=Hc(o,e,t,r);return s!==xe&&Rr(Qe(),kt(),o,n,s,o[Se],i,!1),Qp}function Yp(n,e){return n<<17|e<<2}function rs(n){return n>>17&32767}function Ob(n){return 2|n}function na(n){return(131068&n)>>2}function Db(n,e){return-131069&n|e<<2}function kb(n){return 1|n}function jk(n,e,t,r,i){const o=n[t+1],s=null===e;let a=r?rs(o):na(o),c=!1;for(;0!==a&&(!1===c||s);){const l=n[a+1];U7(n[a],e)&&(c=!0,n[a+1]=r?kb(l):Ob(l)),a=r?rs(l):na(l)}c&&(n[t+1]=r?Ob(o):kb(o))}function U7(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Ec(n,e)>=0}const un={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function $k(n){return n.substring(un.key,un.keyEnd)}function Bk(n,e){const t=un.textEnd;return t===e?-1:(e=un.keyEnd=function H7(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,un.key=e,t),Jc(n,e,t))}function Jc(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function md(n,e,t){return fi(n,e,t,!1),md}function we(n,e){return fi(n,e,null,!0),we}function Di(n,e){for(let t=function $7(n){return function zk(n){un.key=0,un.keyEnd=0,un.value=0,un.valueEnd=0,un.textEnd=n.length}(n),Bk(n,Jc(n,0,un.textEnd))}(e);t>=0;t=Bk(e,t))Or(n,$k(e),!0)}function fi(n,e,t,r){const i=Q(),o=Qe(),s=so(2);o.firstUpdatePass&&Kk(o,n,s,r),e!==xe&&Ln(i,s,e)&&Yk(o,o.data[tr()],i,i[Se],n,i[s+1]=function tW(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=an(ns(n)))),n}(e,t),r,s)}function Wk(n,e){return e>=n.expandoStartIndex}function Kk(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[tr()],s=Wk(n,t);Xk(o,r)&&null===e&&!s&&(e=!1),e=function K7(n,e,t,r){const i=function iv(n){const e=Ee.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=_d(t=Rb(null,n,e,t,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==i)if(t=Rb(i,n,e,t,r),null===o){let c=function Q7(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==na(r))return n[rs(r)]}(n,e,r);void 0!==c&&Array.isArray(c)&&(c=Rb(null,n,e,c[1],r),c=_d(c,e.attrs,r),function Y7(n,e,t,r){n[rs(t?e.classBindings:e.styleBindings)]=r}(n,e,r,c))}else o=function J7(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=_d(r,n[o].hostAttrs,t);return _d(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function V7(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=rs(s),c=na(s);n[r]=t;let l,u=!1;if(Array.isArray(t)?(l=t[1],(null===l||Ec(t,l)>0)&&(u=!0)):l=t,i)if(0!==c){const f=rs(n[a+1]);n[r+1]=Yp(f,a),0!==f&&(n[f+1]=Db(n[f+1],r)),n[a+1]=function N7(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Yp(a,0),0!==a&&(n[a+1]=Db(n[a+1],r)),a=r;else n[r+1]=Yp(c,0),0===a?a=r:n[c+1]=Db(n[c+1],r),c=r;u&&(n[r+1]=Ob(n[r+1])),jk(n,l,r,!0),jk(n,l,r,!1),function L7(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Ec(o,e)>=0&&(t[r+1]=kb(t[r+1]))}(e,l,n,r,o),s=Yp(a,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,t,s,r)}}function Rb(n,e,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],r=_d(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function _d(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Or(n,s,!!t||e[++o]))}return void 0===n?null:n}function Yk(n,e,t,r,i,o,s,a){if(!(3&e.type))return;const c=n.data,u=c[a+1],l=function F7(n){return 1==(1&n)}(u)?Jk(c,e,t,i,na(u),s):void 0;Jp(l)||(Jp(o)||function R7(n){return 2==(2&n)}(u)&&(o=Jk(c,null,t,i,a,s)),function F9(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:ts.DashCase;null==i?n.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ts.Important),n.setStyle(t,r,i,o))}}(r,s,Zf(tr(),t),i,o))}function Jk(n,e,t,r,i,o){const s=null===e;let a;for(;i>0;){const c=n[i],u=Array.isArray(c),l=u?c[1]:c,h=null===l;let f=t[i+1];f===xe&&(f=h?Je:void 0);let g=h?mv(f,r):l===r?f:void 0;if(u&&!Jp(g)&&(g=mv(c,r)),Jp(g)&&(a=g,s))return a;const b=n[i+1];i=s?rs(b):na(b)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=mv(c,r))}return a}function Jp(n){return void 0!==n}function Xk(n,e){return 0!=(n.flags&(e?8:16))}function T(n,e=""){const t=Q(),r=Qe(),i=n+Be,o=r.firstCreatePass?$c(r,i,1,e,null):r.data[i],s=Zk(r,t,o,e,n);t[i]=s,ep()&&wp(r,t,s,o),Pi(o,!1)}let Zk=(n,e,t,r,i)=>(es(!0),yp(e[Se],r));function nW(n,e,t,r,i){const o=e[io],s=!o||gc()||kp(o,i);return es(s),s?yp(e[Se],r):Gp(o,n,e,t)}function he(n){return ve("",n,""),he}function ve(n,e,t){const r=Q(),i=Hc(r,n,e,t);return i!==xe&&fo(r,tr(),i),ve}function go(n,e,t,r,i){const o=Q(),s=zc(o,n,e,t,r,i);return s!==xe&&fo(o,tr(),s),go}function Xp(n,e,t){!function pi(n,e,t,r){const i=Qe(),o=so(2);i.firstUpdatePass&&Kk(i,null,o,r);const s=Q();if(t!==xe&&Ln(s,o,t)){const a=i.data[tr()];if(Xk(a,r)&&!Wk(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(t=xy(c,t||"")),Ab(i,a,s,t,r)}else!function eW(n,e,t,r,i,o,s,a){i===xe&&(i=Je);let c=0,u=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const f=c<i.length?i[c+1]:void 0,g=u<o.length?o[u+1]:void 0;let I,b=null;l===h?(c+=2,u+=2,f!==g&&(b=h,I=g)):null===h||null!==l&&l<h?(c+=2,b=l):(u+=2,b=h,I=g),null!==b&&Yk(n,e,t,r,b,I,s,a),l=c<i.length?i[c]:null,h=u<o.length?o[u]:null}}(i,a,s,s[Se],s[o+1],s[o+1]=function X7(n,e,t){if(null==t||""===t)return Je;const r=[],i=ns(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,o)}}(Or,Di,Hc(Q(),n,e,t),!0)}const Zc="en-US";let bR=Zc;function Vb(n,e,t,r,i){if(n=Te(n),Array.isArray(n))for(let o=0;o<n.length;o++)Vb(n[o],e,t,r,i);else{const o=Qe(),s=Q(),a=In();let c=ea(n)?n:Te(n.provide);const u=eD(n),l=1048575&a.providerIndexes,h=a.directiveStart,f=a.providerIndexes>>20;if(ea(n)||!n.multi){const g=new Hl(u,i,W),b=Ub(c,e,i?l:l+f,h);-1===b?(fv(op(a,s),o,c),Lb(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(g),s.push(g)):(t[b]=g,s[b]=g)}else{const g=Ub(c,e,l+f,h),b=Ub(c,e,l,l+f),E=b>=0&&t[b];if(i&&!E||!i&&!(g>=0&&t[g])){fv(op(a,s),o,c);const S=function CK(n,e,t,r,i){const o=new Hl(n,t,W);return o.multi=[],o.index=e,o.componentProviders=0,qR(o,i,r&&!t),o}(i?bK:vK,t.length,i,r,u);!i&&E&&(t[b].providerFactory=S),Lb(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(S),s.push(S)}else Lb(o,n,g>-1?g:b,qR(t[i?b:g],u,!i&&r));!i&&r&&E&&t[b].componentProviders++}}}function Lb(n,e,t,r){const i=ea(e),o=function dq(n){return!!n.useClass}(e);if(i||o){const c=(o?Te(e.useClass):e).prototype.ngOnDestroy;if(c){const u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const l=u.indexOf(t);-1===l?u.push(t,[r,c]):u[l+1].push(r,c)}else u.push(t,c)}}}function qR(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Ub(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function vK(n,e,t,r){return jb(this.multi,[])}function bK(n,e,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Xs(t,t[de],this.providerFactory.index,r);o=a.slice(0,s),jb(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],jb(i,o);return o}function jb(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function St(n,e=[]){return t=>{t.providersResolver=(r,i)=>function yK(n,e,t){const r=Qe();if(r.firstCreatePass){const i=hi(n);Vb(t,r.data,r.blueprint,i,!0),Vb(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class ia{}class GR{}class $b extends ia{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new rk(this);const i=Sr(e);this._bootstrapComponents=ho(i.bootstrap),this._r3Injector=gD(e,t,[{provide:ia,useValue:this},{provide:Rp,useValue:this.componentFactoryResolver},...r],an(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Bb extends GR{constructor(e){super(),this.moduleType=e}create(e){return new $b(this.moduleType,e,[])}}class WR extends ia{constructor(e){super(),this.componentFactoryResolver=new rk(this),this.instance=null;const t=new Dc([...e.providers,{provide:ia,useValue:this},{provide:Rp,useValue:this.componentFactoryResolver}],e.parent||Sp(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Hb(n,e,t=null){return new WR({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let EK=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=YO(0,t.type),i=r.length>0?Hb([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=pe({token:n,providedIn:"environment",factory:()=>new n(le(kr))})}}return n})();function or(n){n.getStandaloneInjector=e=>e.get(EK).getOrCreateStandaloneInjector(n)}function oa(n,e,t){const r=er()+n,i=Q();return i[r]===xe?Si(i,r,t?e.call(t):e()):dd(i,r)}function qb(n,e,t,r){return tN(Q(),er(),n,e,t,r)}function eN(n,e,t,r,i,o,s,a,c){const u=er()+n,l=Q(),h=function Qr(n,e,t,r,i,o){const s=ta(n,e,t,r);return ta(n,e+2,i,o)||s}(l,u,t,r,i,o);return ta(l,u+4,s,a)||h?Si(l,u+6,c?e.call(c,t,r,i,o,s,a):e(t,r,i,o,s,a)):dd(l,u+6)}function tN(n,e,t,r,i,o){const s=e+t;return Ln(n,s,i)?Si(n,s+1,o?r.call(o,i):r(i)):function Id(n,e){const t=n[e];return t===xe?void 0:t}(n,s+1)}function is(n,e){const t=Qe();let r;const i=n+Be;t.firstCreatePass?(r=function jK(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];const o=r.factory||(r.factory=Ys(r.type)),a=pr(W);try{const c=ip(!1),u=o();return ip(c),function I7(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,Q(),i,u),u}finally{pr(a)}}function os(n,e,t){const r=n+Be,i=Q(),o=pc(i,r);return function Ed(n,e){return n[de].data[e].pure}(i,r)?tN(i,er(),e,o.transform,t,o):o.transform(t)}function qK(){return this._results[Symbol.iterator]()}class Gb{get changes(){return this._changes||(this._changes=new Rt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Gb.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=qK)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function Kr(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Uz(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function WK(n,e,t,r=!0){const i=e[de];if(function A9(n,e,t,r){const i=Cn+r,o=t.length;r>0&&(t[i-1][di]=e),r<o-Cn?(e[di]=t[i],Jx(t,Cn+r,e)):(t.push(e),e[di]=null),e[At]=t;const s=e[Fl];null!==s&&t!==s&&function S9(n,e){const t=n[hc];e[qt]!==e[At][At][qt]&&(n[JS]=!0),null===t?n[hc]=[e]:t.push(e)}(s,e);const a=e[Ii];null!==a&&a.insertView(n),e[ke]|=128}(i,e,n,t),r){const o=Ov(t,n),s=e[Se],a=Cp(s,n[Ei]);null!==a&&function T9(n,e,t,r,i,o){r[Ut]=i,r[Nn]=e,Zl(n,r,t,1,i,o)}(i,n[Nn],s,e,a,o)}}let mo=(()=>{class n{static{this.__NG_ELEMENT_ID__=YK}}return n})();const KK=mo,QK=class extends KK{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=function GK(n,e,t,r){const i=e.tView,a=Lp(n,i,t,4096&n[ke]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Fl]=n[e.index];const u=n[Ii];return null!==u&&(a[Ii]=u.createEmbeddedView(i)),Cb(i,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:r});return new ud(i)}};function YK(){return rg(In(),Q())}function rg(n,e){return 4&n.type?new QK(e,n,Vc(n,e)):null}function sN(n){const e=n[jl]??[],r=n[At][Se];for(const i of e)JK(i,r);n[jl]=Je}function JK(n,e){let t=0,r=n.firstChild;if(r){const i=n.data[Fc];for(;t<i;){const o=r.nextSibling;Ip(e,r,!1),r=o,t++}}}function aN(n){sN(n);for(let e=Cn;e<n.length;e++)ig(n[e])}function ig(n){const e=n[de];for(let t=Be;t<e.bindingStartIndex;t++)Zn(n[t])?aN(n[t]):Array.isArray(n[t])&&ig(n[t])}let cN=(n,e)=>null;function eQ(n,e){const t=n[jl];return e&&null!==t&&0!==t.length?t[0].data[Xv]===e?t.shift():(sN(n),null):null}function uN(n,e){return cN(n,e)}let gi=(()=>{class n{static{this.__NG_ELEMENT_ID__=nQ}}return n})();function nQ(){return hN(In(),Q())}const rQ=gi,lN=class extends rQ{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Vc(this._hostTNode,this._hostLView)}get injector(){return new nr(this._hostTNode,this._hostLView)}get parentInjector(){const e=sp(this._hostTNode,this._hostLView);if(lv(e)){const t=ql(e,this._hostLView),r=zl(e);return new nr(t[de].data[r+8],t)}return new nr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=dN(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Cn}createEmbeddedView(e,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=uN(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s),c=!!s&&!mp(this._hostTNode);return this.insertImpl(a,i,c),a}createComponent(e,t,r,i,o){const s=e&&!function Wl(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const I=t||{};a=I.index,r=I.injector,i=I.projectableNodes,o=I.environmentInjector||I.ngModuleRef}const c=s?e:new ld(Ke(e)),u=r||this.parentInjector;if(!o&&null==c.ngModule){const E=(s?u:this.parentInjector).get(kr,null);E&&(o=E)}const l=Ke(c.componentType??{}),h=uN(this._lContainer,l?.id??null),g=c.create(u,i,h?.firstChild??null,o),b=!!h&&!mp(this._hostTNode);return this.insertImpl(g.hostView,a,b),g}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,r){const i=e._lView;if(function ZH(n){return Zn(n[At])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const u=i[At],l=new lN(u,u[Nn],u[At]);l.detach(l.indexOf(e))}}const s=this._adjustIndex(t),a=this._lContainer;return WK(a,i,s,!r),e.attachToViewContainerRef(),Jx(Wb(a),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=dN(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=bp(this._lContainer,t);r&&(up(Wb(this._lContainer),t),Mv(r[de],r))}detach(e){const t=this._adjustIndex(e,-1),r=bp(this._lContainer,t);return r&&null!=up(Wb(this._lContainer),t)?new ud(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function dN(n){return n[8]}function Wb(n){return n[8]||(n[8]=[])}function hN(n,e){let t;const r=e[n.index];return Zn(r)?t=r:(t=qD(r,e,null,n),e[n.index]=t,Up(e,t)),fN(t,e,n,r),new lN(t,n,e)}let fN=pN;function pN(n,e,t,r){if(n[Ei])return;let i;i=8&t.type?_t(r):function iQ(n,e){const t=n[Se],r=t.createComment(""),i=_r(e,n);return Zs(t,Cp(t,i),r,function k9(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[Ei]=i}function oQ(n,e,t,r){if(n[Ei]&&n[jl])return;const i=e[io],o=t.index-Be,s=function _p(n){let e=n.parent;for(;e;){if(cO(e))return!0;e=e.parent}return!1}(t)||mp(t);if(!i||s||kp(i,o))return pN(n,e,t,r);const c=nb(i,o),u=i.data[id]?.[o],[l,h]=function ZK(n,e){const t=[];for(const r of e)for(let i=0;i<(r[xp]??1);i++){const o={data:r,firstChild:null};r[Fc]>0&&(o.firstChild=n,n=Wp(r[Fc],n)),t.push(o)}return[n,t]}(c,u);n[Ei]=l,n[jl]=h}class Kb{constructor(e){this.queryList=e,this.matches=null}clone(){return new Kb(this.queryList)}setDirty(){this.queryList.setDirty()}}class Qb{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new Qb(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==bN(e,t).matches&&this.queries[t].setDirty()}}class gN{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class Yb{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new Yb(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Jb{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Jb(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,t,aQ(t,o)),this.matchTNodeWithReadOption(e,t,ap(t,e,o,!1,!1))}else r===mo?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ap(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===vr||i===gi||i===mo&&4&t.type)this.addMatch(t.index,-2);else{const o=ap(t,e,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function aQ(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function uQ(n,e,t,r){return-1===t?function cQ(n,e){return 11&n.type?Vc(n,e):4&n.type?rg(n,e):null}(e,n):-2===t?function lQ(n,e,t){return t===vr?Vc(e,n):t===mo?rg(e,n):t===gi?hN(e,n):void 0}(n,e,r):Xs(n,n[de],t,e)}function mN(n,e,t,r){const i=e[Ii].queries[r];if(null===i.matches){const o=n.data,s=t.matches,a=[];for(let c=0;c<s.length;c+=2){const u=s[c];a.push(u<0?null:uQ(e,o[u],s[c+1],t.metadata.read))}i.matches=a}return i.matches}function Xb(n,e,t,r){const i=n.queries.getByIndex(t),o=i.matches;if(null!==o){const s=mN(n,e,i,t);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)r.push(s[a/2]);else{const u=o[a+1],l=e[-c];for(let h=Cn;h<l.length;h++){const f=l[h];f[Fl]===f[At]&&Xb(f[de],f,u,r)}if(null!==l[hc]){const h=l[hc];for(let f=0;f<h.length;f++){const g=h[f];Xb(g[de],g,u,r)}}}}}return r}function og(n){const e=Q(),t=Qe(),r=xx();ov(r+1);const i=bN(t,r);if(n.dirty&&function JH(n){return 4==(4&n[ke])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?Xb(t,e,r,[]):mN(t,e,i,r);n.reset(o,Dq),n.notifyOnChanges()}return!0}return!1}function Zb(n,e,t){const r=Qe();r.firstCreatePass&&(vN(r,new gN(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),yN(r,Q(),e)}function sg(){return function dQ(n,e){return n[Ii].queries[e].queryList}(Q(),xx())}function yN(n,e,t){const r=new Gb(4==(4&t));(function lG(n,e,t,r){const i=WD(e);i.push(t),n.firstCreatePass&&KD(n).push(r,i.length-1)})(n,e,r,r.destroy),null===e[Ii]&&(e[Ii]=new Qb),e[Ii].queries.push(new Kb(r))}function vN(n,e,t){null===n.queries&&(n.queries=new Yb),n.queries.track(new Jb(e,t))}function bN(n,e){return n.queries.getByIndex(e)}function eu(n,e){return rg(n,e)}const oC=new ue("Application Initializer");let sC=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=se(oC,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const o=i();if(gd(o))t.push(o);else if(Mk(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),aC=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();const _o=new ue("LocaleId",{providedIn:"root",factory:()=>se(_o,$e.Optional|$e.SkipSelf)||function kQ(){return typeof $localize<"u"&&$localize.locale||Zc}()});let cg=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new hn(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class FQ{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let VN=(()=>{class n{compileModuleSync(t){return new Bb(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=ho(Sr(t).declarations).reduce((s,a)=>{const c=Ke(a);return c&&s.push(new ld(c)),s},[]);return new FQ(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const $N=new ue("");let ss=null;const fC=new ue("PlatformDestroyListeners"),Md=new ue("appBootstrapListener");class zN{constructor(e,t){this.name=e,this.token=t}}function uY(n){try{const{rootComponent:e,appProviders:t,platformProviders:r}=n,i=function cY(n=[]){if(ss)return ss;const e=function GN(n=[],e){return Vn.create({name:e,providers:[{provide:Hv,useValue:"platform"},{provide:fC,useValue:new Set([()=>ss=null])},...n]})}(n);return ss=e,function HN(){!function LH(n){ux=n}(()=>{throw new Z(600,!1)})}(),function qN(n){n.get(tD,null)?.forEach(t=>t())}(e),e}(r),o=[pY(),...t||[]],a=new WR({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(Xe);return c.run(()=>{a.resolveInjectorInitializers();const u=a.get(lo,null);let l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:g=>{u.handleError(g)}})});const h=()=>a.destroy(),f=i.get(fC);return f.add(h),a.onDestroy(()=>{l.unsubscribe(),f.delete(h)}),function QN(n,e,t){try{const r=t();return gd(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,c,()=>{const g=a.get(sC);return g.runInitializers(),g.donePromise.then(()=>{!function CR(n){zr(n,"Expected localeId to be defined"),"string"==typeof n&&(bR=n.toLowerCase().replace(/_/g,"-"))}(a.get(_o,Zc)||Zc);const I=a.get(sa);return void 0!==e&&I.bootstrap(e),I})})})}catch(e){return Promise.reject(e)}}let sa=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=se(XN),this.zoneIsStable=se(bD),this.componentTypes=[],this.components=[],this.isStable=se(cg).hasPendingTasks.pipe(Yn(t=>t?ye(!1):this.zoneIsStable),function K8(n,e=Go){return n=n??Q8,on((t,r)=>{let i,o=!0;t.subscribe(Xt(r,s=>{const a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}(),PS()),this._injector=se(kr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof aD;if(!this._injector.get(sC).done)throw!i&&function ac(n){const e=Ke(n)||bn(n)||Xn(n);return null!==e&&e.standalone}(t),new Z(405,!1);let s;s=i?t:this._injector.get(Rp).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function sY(n){return n.isBoundToModule}(s)?void 0:this._injector.get(ia),u=s.create(Vn.NULL,[],r||s.selector,a),l=u.location.nativeElement,h=u.injector.get($N,null);return h?.registerApplication(l),u.onDestroy(()=>{this.detachView(u.hostView),dg(this.components,u),h?.unregisterApplication(l)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new Z(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;dg(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(Md,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>dg(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Z(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function dg(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const XN=new ue("",{providedIn:"root",factory:()=>se(lo).handleError.bind(void 0)});function hY(){const n=se(Xe),e=se(lo);return t=>n.runOutsideAngular(()=>e.handleError(t))}let fY=(()=>{class n{constructor(){this.zone=se(Xe),this.applicationRef=se(sa)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function ZN(n){return[{provide:Xe,useFactory:n},{provide:Oc,multi:!0,useFactory:()=>{const e=se(fY,{optional:!0});return()=>e.initialize()}},{provide:XN,useFactory:hY},{provide:bD,useFactory:CD}]}function pY(n){return rd([[],ZN(()=>new Xe(function KN(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}(n)))])}let ru=(()=>{class n{static{this.__NG_ELEMENT_ID__=gY}}return n})();function gY(n){return function mY(n,e,t){if(Qs(n)&&!t){const r=xr(n.index,e);return new ud(r,r)}return 47&n.type?new ud(e[qt],e):null}(In(),Q(),16==(16&n))}class i2{constructor(){}supports(e){return Hp(e)}create(e){return new CY(e)}}const bY=(n,e)=>e;class CY{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||bY}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<s2(r,i,o)?t:r,a=s2(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const u=a-i,l=c-i;if(u!=l){for(let f=0;f<u;f++){const g=f<o.length?o[f]:o[f]=0,b=g+f;l<=b&&b<u&&(o[f]=g+1)}o[s.previousIndex]=l-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Hp(e))throw new Z(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function n7(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new wY(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new o2),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new o2),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class wY{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class IY{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class o2{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new IY,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function s2(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class a2{constructor(){}supports(e){return e instanceof Map||wb(e)}create(){return new EY}}class EY{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||wb(e)))throw new Z(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new TY(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class TY{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function c2(){return new pg([new i2])}let pg=(()=>{class n{static{this.\u0275prov=pe({token:n,providedIn:"root",factory:c2})}constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||c2()),deps:[[n,new dp,new rr]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new Z(901,!1)}}return n})();function u2(){return new Ad([new a2])}let Ad=(()=>{class n{static{this.\u0275prov=pe({token:n,providedIn:"root",factory:u2})}constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||u2()),deps:[[n,new dp,new rr]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new Z(901,!1)}}return n})(),_2=!1;function VY(){return rd([{provide:Fp,useFactory:()=>{let n=!0;return jc()&&(n=!!se(Rc,{optional:!0})?.get(eb,null)),n&&se(rD).add("hydration"),n}},{provide:Oc,useValue:()=>{jc()&&se(Fp)&&(function LY(){const n=Sc();let e;for(const t of n.body.childNodes)if(t.nodeType===Node.COMMENT_NODE&&"nghm"===t.textContent?.trim()){e=t;break}if(!e)throw new Z(-507,!1)}(),function NY(){_2||(_2=!0,function Iq(){iD=wq}(),function P7(){Ek=T7}(),function rW(){Zk=nW}(),function S7(){Pk=A7}(),function w7(){wk=C7}(),function sQ(){fN=oQ}(),function tQ(){cN=eQ}(),function uG(){UD=cG}())}())},multi:!0},{provide:MD,useFactory:()=>jc()&&se(Fp)},{provide:Md,useFactory:()=>{if(jc()&&se(Fp)){const n=se(sa);return se(Vn),()=>{(function FY(n,e){return n.isStable.pipe(to(r=>r)).toPromise().then(()=>{})})(n).then(()=>{Xe.assertInAngularZone(),function XK(n){const e=n._views;for(const t of e){const r=oD(t);null!==r&&null!==r[Ut]&&(mr(r)?ig(r):(ig(r[Ut]),aN(r)))}}(n)})}}return()=>{}},multi:!0}])}function iu(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let bC=null;function as(){return bC}class BY{}const Nr=new ue("DocumentToken");let CC=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:function(){return se(zY)},providedIn:"platform"})}}return n})();const HY=new ue("Location Initialized");let zY=(()=>{class n extends CC{constructor(){super(),this._doc=se(Nr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return as().getBaseHref(this._doc)}onPopState(t){const r=as().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=as().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:function(){return new n},providedIn:"platform"})}}return n})();function wC(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function y2(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function yo(n){return n&&"?"!==n[0]?"?"+n:n}let ca=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:function(){return se(b2)},providedIn:"root"})}}return n})();const v2=new ue("appBaseHref");let b2=(()=>{class n extends ca{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??se(Nr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return wC(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+yo(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+yo(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+yo(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(le(CC),le(v2,8))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),qY=(()=>{class n extends ca{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=wC(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+yo(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+yo(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(le(CC),le(v2,8))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})(),IC=(()=>{class n{constructor(t){this._subject=new Rt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function KY(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(y2(C2(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+yo(r))}normalize(t){return n.stripTrailingSlash(function WY(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,C2(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+yo(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+yo(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=yo}static{this.joinWithSlash=wC}static{this.stripTrailingSlash=y2}static{this.\u0275fac=function(r){return new(r||n)(le(ca))}}static{this.\u0275prov=pe({token:n,factory:function(){return function GY(){return new IC(le(ca))}()},providedIn:"root"})}}return n})();function C2(n){return n.replace(/\/index.html$/,"")}function x2(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}class RJ{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ki=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new RJ(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),k2(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{k2(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(W(gi),W(mo),W(pg))}}static{this.\u0275dir=Pe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function k2(n,e){n.context.$implicit=e.item}let Vr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new NJ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){R2("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){R2("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(W(gi),W(mo))}}static{this.\u0275dir=Pe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})();class NJ{constructor(){this.$implicit=null,this.ngIf=null}}function R2(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${an(e)}'.`)}let F2=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,o]=t.split("."),s=-1===i.indexOf("-")?void 0:ts.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static{this.\u0275fac=function(r){return new(r||n)(W(vr),W(Ad),W(uo))}}static{this.\u0275dir=Pe({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return n})();class UJ{createSubscription(e,t){return hx(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){hx(()=>e.unsubscribe())}}class jJ{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const $J=new jJ,BJ=new UJ;let V2=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(gd(t))return $J;if(Mk(t))return BJ;throw function _i(n,e){return new Z(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}static{this.\u0275fac=function(r){return new(r||n)(W(ru,16))}}static{this.\u0275pipe=gr({name:"async",type:n,pure:!1,standalone:!0})}}return n})(),Xr=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=li({type:n})}static{this.\u0275inj=qr({})}}return n})();function j2(n){return"server"===n}let uX=(()=>{class n{static{this.\u0275prov=pe({token:n,providedIn:"root",factory:()=>new lX(le(Nr),window)})}}return n})();class lX{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function dX(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class $2{}function su(n,e){return be(e)?vn(n,e,1):vn(n,1)}function Dd(n){return on((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function at(n,e,t){const r=be(n)||e||t?{next:n,error:e,complete:t}:n;return r?on((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Xt(o,c=>{var u;null===(u=r.next)||void 0===u||u.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,c),o.error(c)},()=>{var c,u;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):Go}class Ag{}class Sg{}class Zr{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Zr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Zr;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Zr?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class RX{encodeKey(e){return G2(e)}encodeValue(e){return G2(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const FX=/%(\d[a-f0-9])/gi,VX={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function G2(n){return encodeURIComponent(n).replace(FX,(e,t)=>VX[t]??e)}function xg(n){return`${n}`}class Co{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new RX,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function NX(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(xg):[xg(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Co({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(xg(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(xg(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class LX{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function W2(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function K2(n){return typeof Blob<"u"&&n instanceof Blob}function Q2(n){return typeof FormData<"u"&&n instanceof FormData}class kd{constructor(e,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function UX(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Zr),this.context||(this.context=new LX),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Co,this.urlWithParams=t}serializeBody(){return null===this.body?null:W2(this.body)||K2(this.body)||Q2(this.body)||function jX(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Co?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Q2(this.body)?null:K2(this.body)?this.body.type||null:W2(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Co?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,u=e.params||this.params;const l=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((h,f)=>h.set(f,e.setHeaders[f]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((h,f)=>h.set(f,e.setParams[f]),u)),new kd(t,r,o,{params:u,headers:c,context:l,reportProgress:a,responseType:i,withCredentials:s})}}var au=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(au||{});class jC{constructor(e,t=200,r="OK"){this.headers=e.headers||new Zr,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class $C extends jC{constructor(e={}){super(e),this.type=au.ResponseHeader}clone(e={}){return new $C({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class cu extends jC{constructor(e={}){super(e),this.type=au.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new cu({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Y2 extends jC{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function BC(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let yi=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof kd)o=t;else{let c,u;c=i.headers instanceof Zr?i.headers:new Zr(i.headers),i.params&&(u=i.params instanceof Co?i.params:new Co({fromObject:i.params})),o=new kd(t,r,void 0!==i.body?i.body:null,{headers:c,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=ye(o).pipe(su(c=>this.handler.handle(c)));if(t instanceof kd||"events"===i.observe)return s;const a=s.pipe(eo(c=>c instanceof cu));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(qe(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(qe(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(qe(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(qe(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Co).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,BC(i,r))}post(t,r,i={}){return this.request("POST",t,BC(i,r))}put(t,r,i={}){return this.request("PUT",t,BC(i,r))}static{this.\u0275fac=function(r){return new(r||n)(le(Ag))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})();function Z2(n,e){return e(n)}function BX(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const zX=new ue(""),Rd=new ue(""),eF=new ue("");function qX(){let n=null;return(e,t)=>{null===n&&(n=(se(zX,{optional:!0})??[]).reduceRight(BX,Z2));const r=se(cg),i=r.add();return n(e,t).pipe(Dd(()=>r.remove(i)))}}let tF=(()=>{class n extends Ag{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=se(cg)}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Rd),...this.injector.get(eF,[])]));this.chain=i.reduceRight((o,s)=>function HX(n,e,t){return(r,i)=>t.runInContext(()=>e(r,o=>n(o,i)))}(o,s,this.injector),Z2)}const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Dd(()=>this.pendingTasks.remove(r)))}static{this.\u0275fac=function(r){return new(r||n)(le(Sg),le(kr))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})();const QX=/^\)\]\}',?\n/;let rF=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Z(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?sn(r.\u0275loadImpl()):ye(null)).pipe(Yn(()=>new Mt(o=>{const s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((I,E)=>s.setRequestHeader(I,E.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const I=t.detectContentTypeHeader();null!==I&&s.setRequestHeader("Content-Type",I)}if(t.responseType){const I=t.responseType.toLowerCase();s.responseType="json"!==I?I:"text"}const a=t.serializeBody();let c=null;const u=()=>{if(null!==c)return c;const I=s.statusText||"OK",E=new Zr(s.getAllResponseHeaders()),S=function YX(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||t.url;return c=new $C({headers:E,status:s.status,statusText:I,url:S}),c},l=()=>{let{headers:I,status:E,statusText:S,url:M}=u(),V=null;204!==E&&(V=typeof s.response>"u"?s.responseText:s.response),0===E&&(E=V?200:0);let $=E>=200&&E<300;if("json"===t.responseType&&"string"==typeof V){const z=V;V=V.replace(QX,"");try{V=""!==V?JSON.parse(V):null}catch(ne){V=z,$&&($=!1,V={error:ne,text:V})}}$?(o.next(new cu({body:V,headers:I,status:E,statusText:S,url:M||void 0})),o.complete()):o.error(new Y2({error:V,headers:I,status:E,statusText:S,url:M||void 0}))},h=I=>{const{url:E}=u(),S=new Y2({error:I,status:s.status||0,statusText:s.statusText||"Unknown Error",url:E||void 0});o.error(S)};let f=!1;const g=I=>{f||(o.next(u()),f=!0);let E={type:au.DownloadProgress,loaded:I.loaded};I.lengthComputable&&(E.total=I.total),"text"===t.responseType&&s.responseText&&(E.partialText=s.responseText),o.next(E)},b=I=>{let E={type:au.UploadProgress,loaded:I.loaded};I.lengthComputable&&(E.total=I.total),o.next(E)};return s.addEventListener("load",l),s.addEventListener("error",h),s.addEventListener("timeout",h),s.addEventListener("abort",h),t.reportProgress&&(s.addEventListener("progress",g),null!==a&&s.upload&&s.upload.addEventListener("progress",b)),s.send(a),o.next({type:au.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",l),s.removeEventListener("timeout",h),t.reportProgress&&(s.removeEventListener("progress",g),null!==a&&s.upload&&s.upload.removeEventListener("progress",b)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(le($2))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})();const HC=new ue("XSRF_ENABLED"),iF=new ue("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),oF=new ue("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class sF{}let ZX=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=x2(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(le(Nr),le(co),le(iF))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})();function eZ(n,e){const t=n.url.toLowerCase();if(!se(HC)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=se(sF).getToken(),i=se(oF);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var cs=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(cs||{});function ua(n,e){return{\u0275kind:n,\u0275providers:e}}function aF(...n){const e=[yi,rF,tF,{provide:Ag,useExisting:tF},{provide:Sg,useExisting:rF},{provide:Rd,useValue:eZ,multi:!0},{provide:HC,useValue:!0},{provide:sF,useClass:ZX}];for(const t of n)e.push(...t.\u0275providers);return rd(e)}const cF=new ue("LEGACY_INTERCEPTOR_FN");let nZ=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=li({type:n})}static{this.\u0275inj=qr({providers:[aF(ua(cs.LegacyInterceptors,[{provide:cF,useFactory:qX},{provide:Rd,useExisting:cF,multi:!0}]))]})}}return n})();const Og=new ue(""),rZ=["GET","HEAD"];function iZ(n,e){const{isCacheActive:t}=se(Og);if(!t||!rZ.includes(n.method))return e(n);const r=se(Rc),i=function sZ(n){const{params:e,method:t,responseType:r,url:i}=n;return function aZ(n){let e=0;for(const t of n)e=Math.imul(31,e)+t.charCodeAt(0)<<0;return e+=2147483648,e.toString()}(t+"."+r+"."+i+"?"+e.keys().sort().map(c=>`${c}=${e.getAll(c)}`).join("&"))}(n),o=r.get(i,null);if(o){let s=o.body;switch(o.responseType){case"arraybuffer":s=(new TextEncoder).encode(o.body).buffer;break;case"blob":s=new Blob([o.body])}return ye(new cu({body:s,headers:new Zr(o.headers),status:o.status,statusText:o.statusText,url:o.url}))}return e(n).pipe(at(s=>{s instanceof cu&&r.set(i,{body:s.body,headers:oZ(s.headers),status:s.status,statusText:s.statusText,url:s.url||"",responseType:n.responseType})}))}function oZ(n){const e={};for(const t of n.keys()){const r=n.getAll(t);null!==r&&(e[t]=r)}return e}class uZ extends BY{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class zC extends uZ{static makeCurrent(){!function $Y(n){bC||(bC=n)}(new zC)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function lZ(){return Nd=Nd||document.querySelector("base"),Nd?Nd.getAttribute("href"):null}();return null==t?null:function dZ(n){Dg=Dg||document.createElement("a"),Dg.setAttribute("href",n);const e=Dg.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Nd=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return x2(document.cookie,e)}}let Dg,Nd=null,fZ=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})();const qC=new ue("EventManagerPlugins");let uF=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new Z(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(le(qC),le(Xe))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})();class lF{constructor(e){this._doc=e}}const GC="ng-app-id";let dF=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=j2(o),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${GC}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(GC),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(GC,this.appId),s}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(le(Nr),le(Wv),le(nD,8),le(co))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})();const WC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},KC=/%COMP%/g,_Z=new ue("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function fF(n,e){return e.map(t=>t.replace(KC,n))}let pF=(()=>{class n{constructor(t,r,i,o,s,a,c,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=j2(a),this.defaultRenderer=new QC(t,s,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ci.ShadowDom&&(r={...r,encapsulation:ci.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof mF?i.applyToHost(t):i instanceof YC&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case ci.Emulated:o=new mF(c,u,r,this.appId,l,s,a,h);break;case ci.ShadowDom:return new CZ(c,u,t,r,s,a,this.nonce,h);default:o=new YC(c,u,r,l,s,a,h)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(le(uF),le(dF),le(Wv),le(_Z),le(Nr),le(co),le(Xe),le(nD))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})();class QC{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(WC[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(gF(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(gF(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new Z(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=WC[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=WC[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(ts.DashCase|ts.Important)?e.style.setProperty(t,r,i&ts.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ts.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=as().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function gF(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class CZ extends QC{constructor(e,t,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=fF(i.id,i.styles);for(const l of u){const h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=l,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class YC extends QC{constructor(e,t,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?fF(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class mF extends YC{constructor(e,t,r,i,o,s,a,c){const u=i+"-"+r.id;super(e,t,r,o,s,a,c,u),this.contentAttr=function yZ(n){return"_ngcontent-%COMP%".replace(KC,n)}(u),this.hostAttr=function vZ(n){return"_nghost-%COMP%".replace(KC,n)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}const _F=["alt","control","meta","shift"],IZ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},EZ={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};function yF(n){return{appProviders:[...DZ,...n?.providers??[]],platformProviders:xZ}}const xZ=[{provide:co,useValue:"browser"},{provide:tD,useValue:function MZ(){zC.makeCurrent()},multi:!0},{provide:Nr,useFactory:function SZ(){return function $9(n){Rv=n}(document),document},deps:[]}],DZ=[{provide:Hv,useValue:"root"},{provide:lo,useFactory:function AZ(){return new lo},deps:[]},{provide:qC,useClass:(()=>{class n extends lF{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(le(Nr))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})(),multi:!0,deps:[Nr,Xe,co]},{provide:qC,useClass:(()=>{class n extends lF{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>as().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),_F.forEach(u=>{const l=r.indexOf(u);l>-1&&(r.splice(l,1),s+=u+".")}),s+=o,0!=r.length||0===o.length)return null;const c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=IZ[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),_F.forEach(s=>{s!==i&&(0,EZ[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(le(Nr))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})(),multi:!0,deps:[Nr]},pF,dF,uF,{provide:uD,useExisting:pF},{provide:$2,useClass:fZ,deps:[]},[]];let vF=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(le(Nr))}}static{this.\u0275prov=pe({token:n,factory:function(r){let i=null;return i=r?new r:function RZ(){return new vF(le(Nr))}(),i},providedIn:"root"})}}return n})();typeof window<"u"&&window;const{isArray:$Z}=Array,{getPrototypeOf:BZ,prototype:HZ,keys:zZ}=Object;function IF(n){if(1===n.length){const e=n[0];if($Z(e))return{args:e,keys:null};if(function qZ(n){return n&&"object"==typeof n&&BZ(n)===HZ}(e)){const t=zZ(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:GZ}=Array;function EF(n){return qe(e=>function WZ(n,e){return GZ(e)?n(...e):n(e)}(n,e))}function TF(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function XC(...n){const e=Al(n),t=ES(n),{args:r,keys:i}=IF(n);if(0===r.length)return sn([],e);const o=new Mt(function KZ(n,e,t=Go){return r=>{PF(e,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)PF(e,()=>{const u=sn(n[c],e);let l=!1;u.subscribe(Xt(r,h=>{o[c]=h,l||(l=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>TF(i,s):Go));return t?o.pipe(EF(t)):o}function PF(n,e,t){n?Zi(t,n,e):e()}function ZC(...n){return function QZ(){return oc(1)}()(sn(n,Al(n)))}function MF(n){return new Mt(e=>{Mr(n()).subscribe(e)})}function ls(n,e){const t=be(n)?n:()=>n,r=i=>i.error(t());return new Mt(e?i=>e.schedule(r,0,i):r)}function e0(){return on((n,e)=>{let t=null;n._refCount++;const r=Xt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class AF extends Mt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,cS(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new q;const t=this.getSubject();e.add(this.source.subscribe(Xt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=q.EMPTY)}return e}refCount(){return e0()(this)}}function kg(...n){const e=Al(n);return on((t,r)=>{(e?ZC(n,t,e):ZC(n,t)).subscribe(r)})}function Tn(n){return on((e,t)=>{let o,r=null,i=!1;r=e.subscribe(Xt(t,void 0,void 0,s=>{o=Mr(n(s,Tn(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function t0(n){return n<=0?()=>Ci:on((e,t)=>{let r=[];e.subscribe(Xt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}const Re="primary",Fd=Symbol("RouteTitle");class tee{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function uu(n){return new tee(n)}function nee(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ri(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!SF(n[i],e[i]))return!1;return!0}function SF(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function xF(n){return n.length>0?n[n.length-1]:null}function ds(n){return function jZ(n){return!!n&&(n instanceof Mt||be(n.lift)&&be(n.subscribe))}(n)?n:gd(n)?sn(Promise.resolve(n)):ye(n)}const iee={exact:function kF(n,e,t){if(!la(n.segments,e.segments)||!Rg(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!kF(n.children[r],e.children[r],t))return!1;return!0},subset:RF},OF={exact:function oee(n,e){return Ri(n,e)},subset:function see(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>SF(n[t],e[t]))},ignored:()=>!0};function DF(n,e,t){return iee[t.paths](n.root,e.root,t.matrixParams)&&OF[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function RF(n,e,t){return NF(n,e,e.segments,t)}function NF(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!la(i,t)||e.hasChildren()||!Rg(i,t,r))}if(n.segments.length===t.length){if(!la(n.segments,t)||!Rg(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!RF(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(la(n.segments,i)&&Rg(n.segments,i,r)&&n.children[Re])&&NF(n.children[Re],e,o,r)}}function Rg(n,e,t){return e.every((r,i)=>OF[t](n[i].parameters,r.parameters))}class lu{constructor(e=new ct([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=uu(this.queryParams)),this._queryParamMap}toString(){return uee.serialize(this)}}class ct{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ng(this)}}class Vd{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=uu(this.parameters)),this._parameterMap}toString(){return LF(this)}}function la(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Ld=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:function(){return new n0},providedIn:"root"})}}return n})();class n0{parse(e){const t=new bee(e);return new lu(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ud(e.root,!0)}`,r=function hee(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Fg(t)}=${Fg(i)}`).join("&"):`${Fg(t)}=${Fg(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function lee(n){return encodeURI(n)}(e.fragment)}`:""}`}}const uee=new n0;function Ng(n){return n.segments.map(e=>LF(e)).join("/")}function Ud(n,e){if(!n.hasChildren())return Ng(n);if(e){const t=n.children[Re]?Ud(n.children[Re],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Re&&r.push(`${i}:${Ud(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function cee(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Re&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Re&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===Re?[Ud(n.children[Re],!1)]:[`${i}:${Ud(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Re]?`${Ng(n)}/${t[0]}`:`${Ng(n)}/(${t.join("//")})`}}function FF(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fg(n){return FF(n).replace(/%3B/gi,";")}function r0(n){return FF(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vg(n){return decodeURIComponent(n)}function VF(n){return Vg(n.replace(/\+/g,"%20"))}function LF(n){return`${r0(n.path)}${function dee(n){return Object.keys(n).map(e=>`;${r0(e)}=${r0(n[e])}`).join("")}(n.parameters)}`}const fee=/^[^\/()?;#]+/;function o0(n){const e=n.match(fee);return e?e[0]:""}const pee=/^[^\/()?;=#]+/,mee=/^[^=?&#]+/,yee=/^[^&#]+/;class bee{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ct([],{}):new ct([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Re]=new ct(e,t)),r}parseSegment(){const e=o0(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Z(4009,!1);return this.capture(e),new Vd(Vg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function gee(n){const e=n.match(pee);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=o0(this.remaining);i&&(r=i,this.capture(r))}e[Vg(t)]=Vg(r)}parseQueryParam(e){const t=function _ee(n){const e=n.match(mee);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function vee(n){const e=n.match(yee);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=VF(t),o=VF(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=o0(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Z(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Re);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[Re]:new ct([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Z(4011,!1)}}function UF(n){return n.segments.length>0?new ct([],{[Re]:n}):n}function jF(n){const e={};for(const r of Object.keys(n.children)){const o=jF(n.children[r]);if(r===Re&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function Cee(n){if(1===n.numberOfChildren&&n.children[Re]){const e=n.children[Re];return new ct(n.segments.concat(e.segments),e.children)}return n}(new ct(n.segments,e))}function da(n){return n instanceof lu}function $F(n){let e;const i=UF(function t(o){const s={};for(const c of o.children){const u=t(c);s[c.outlet]=u}const a=new ct(o.url,s);return o===n&&(e=a),a}(n.root));return e??i}function BF(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return s0(i,i,i,t,r);const o=function Iee(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new zF(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new zF(t,e,r)}(e);if(o.toRoot())return s0(i,i,new ct([],{}),t,r);const s=function Eee(n,e,t){if(n.isAbsolute)return new Ug(e,!0,0);if(!t)return new Ug(e,!1,NaN);if(null===t.parent)return new Ug(t,!0,0);const r=Lg(n.commands[0])?0:1;return function Tee(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Z(4005,!1);i=r.segments.length}return new Ug(r,!1,i-o)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(o,i,n),a=s.processChildren?$d(s.segmentGroup,s.index,o.commands):qF(s.segmentGroup,s.index,o.commands);return s0(i,s.segmentGroup,a,t,r)}function Lg(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function jd(n){return"object"==typeof n&&null!=n&&n.outlets}function s0(n,e,t,r,i){let s,o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),s=n===e?t:HF(n,e,t);const a=UF(jF(s));return new lu(a,o,i)}function HF(n,e,t){const r={};return Object.entries(n.children).forEach(([i,o])=>{r[i]=o===e?t:HF(o,e,t)}),new ct(n.segments,r)}class zF{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Lg(r[0]))throw new Z(4003,!1);const i=r.find(jd);if(i&&i!==xF(r))throw new Z(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ug{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function qF(n,e,t){if(n||(n=new ct([],{})),0===n.segments.length&&n.hasChildren())return $d(n,e,t);const r=function Mee(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const s=n.segments[i],a=t[r];if(jd(a))break;const c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!WF(c,u,s))return o;r+=2}else{if(!WF(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new ct(n.segments.slice(0,r.pathIndex),{});return o.children[Re]=new ct(n.segments.slice(r.pathIndex),n.children),$d(o,0,i)}return r.match&&0===i.length?new ct(n.segments,{}):r.match&&!n.hasChildren()?a0(n,e,t):r.match?$d(n,0,i):a0(n,e,t)}function $d(n,e,t){if(0===t.length)return new ct(n.segments,{});{const r=function Pee(n){return jd(n[0])?n[0].outlets:{[Re]:n}}(t),i={};if(Object.keys(r).some(o=>o!==Re)&&n.children[Re]&&1===n.numberOfChildren&&0===n.children[Re].segments.length){const o=$d(n.children[Re],e,t);return new ct(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=qF(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new ct(n.segments,i)}}function a0(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(jd(o)){const c=Aee(o.outlets);return new ct(r,c)}if(0===i&&Lg(t[0])){r.push(new Vd(n.segments[e].path,GF(t[0]))),i++;continue}const s=jd(o)?o.outlets[Re]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Lg(a)?(r.push(new Vd(s,GF(a))),i+=2):(r.push(new Vd(s,{})),i++)}return new ct(r,{})}function Aee(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=a0(new ct([],{}),0,r))}),e}function GF(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function WF(n,e,t){return n==t.path&&Ri(e,t.parameters)}const Bd="imperative";class Ni{constructor(e,t){this.id=e,this.url=t}}class jg extends Ni{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class hs extends Ni{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Hd extends Ni{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class du extends Ni{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class $g extends Ni{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class KF extends Ni{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class See extends Ni{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xee extends Ni{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Oee extends Ni{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dee extends Ni{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kee{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ree{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Nee{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fee{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vee{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lee{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class QF{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class c0{}class u0{constructor(e){this.url=e}}class Uee{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new zd,this.attachRef=null}}let zd=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Uee,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class YF{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=l0(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=l0(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=d0(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return d0(e,this._root).map(t=>t.value)}}function l0(n,e){if(n===e.value)return e;for(const t of e.children){const r=l0(n,t);if(r)return r}return null}function d0(n,e){if(n===e.value)return[e];for(const t of e.children){const r=d0(n,t);if(r.length)return r.unshift(e),r}return[]}class wo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function hu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class JF extends YF{constructor(e,t){super(e),this.snapshot=t,h0(this,e)}toString(){return this.snapshot.toString()}}function XF(n,e){const t=function jee(n,e){const s=new Bg([],{},{},"",{},Re,e,null,{});return new eV("",new wo(s,[]))}(0,e),r=new hn([new Vd("",{})]),i=new hn({}),o=new hn({}),s=new hn({}),a=new hn(""),c=new ha(r,i,s,a,o,Re,e,t.root);return c.snapshot=t.root,new JF(new wo(c,[]),t)}class ha{constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(qe(u=>u[Fd]))??ye(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(qe(e=>uu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(qe(e=>uu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ZF(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function $ee(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Bg{get title(){return this.data?.[Fd]}constructor(e,t,r,i,o,s,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=uu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=uu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class eV extends YF{constructor(e,t){super(t),this.url=e,h0(this,t)}toString(){return tV(this._root)}}function h0(n,e){e.value._routerState=n,e.children.forEach(t=>h0(n,t))}function tV(n){const e=n.children.length>0?` { ${n.children.map(tV).join(", ")} } `:"";return`${n.value}${e}`}function f0(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ri(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Ri(e.params,t.params)||n.paramsSubject.next(t.params),function ree(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ri(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Ri(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function p0(n,e){const t=Ri(n.params,e.params)&&function aee(n,e){return la(n,e)&&n.every((t,r)=>Ri(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||p0(n.parent,e.parent))}let g0=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Re,this.activateEvents=new Rt,this.deactivateEvents=new Rt,this.attachEvents=new Rt,this.detachEvents=new Rt,this.parentContexts=se(zd),this.location=se(gi),this.changeDetector=se(ru),this.environmentInjector=se(kr),this.inputBinder=se(Hg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Z(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Z(4013,!1);this._activatedRoute=t;const i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Bee(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Pe({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Wr]})}}return n})();class Bee{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ha?this.route:e===zd?this.childContexts:this.parent.get(e,t)}}const Hg=new ue("");let nV=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=XC([r.queryParams,r.params,r.data]).pipe(Yn(([o,s,a],c)=>(a={...o,...s,...a},0===c?ye(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const s=function jY(n){const e=Ke(n);if(!e)return null;const t=new ld(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})();function qd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function zee(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return qd(n,r,i);return qd(n,r)})}(n,e,t);return new wo(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>qd(n,a)),s}}const r=function qee(n){return new ha(new hn(n.url),new hn(n.params),new hn(n.queryParams),new hn(n.fragment),new hn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>qd(n,o));return new wo(r,i)}}const m0="ngNavigationCancelingError";function rV(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=da(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=iV(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function iV(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[m0]=!0,r.cancellationCode=e,t&&(r.url=t),r}function oV(n){return n&&n[m0]}let sV=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Jn({type:n,selectors:[["ng-component"]],standalone:!0,features:[or],decls:1,vars:0,template:function(r,i){1&r&&D(0,"router-outlet")},dependencies:[g0],encapsulation:2})}}return n})();function _0(n){const e=n.children&&n.children.map(_0),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Re&&(t.component=sV),t}function vi(n){return n.outlet||Re}function Gd(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Zee{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),f0(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=hu(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=hu(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=hu(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=hu(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Lee(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Fee(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(f0(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),f0(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Gd(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class aV{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class zg{constructor(e,t){this.component=e,this.route=t}}function ete(n,e,t){const r=n._root;return Wd(r,e?e._root:null,t,[r.value])}function fu(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function rH(n){return null!==$f(n)}(n)?e.get(n):n:r}function Wd(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=hu(e);return n.children.forEach(s=>{(function nte(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function rte(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!la(n.url,e.url);case"pathParamsOrQueryParamsChange":return!la(n.url,e.url)||!Ri(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!p0(n,e)||!Ri(n.queryParams,e.queryParams);default:return!p0(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new aV(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Wd(n,e,o.component?a?a.children:null:t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new zg(a.outlet.component,s))}else s&&Kd(e,a,i),i.canActivateChecks.push(new aV(r)),Wd(n,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Kd(a,t.getContext(s),i)),i}function Kd(n,e,t){const r=hu(n),i=n.value;Object.entries(r).forEach(([o,s])=>{Kd(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new zg(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Qd(n){return"function"==typeof n}function cV(n){return n instanceof Lf||"EmptyError"===n?.name}const qg=Symbol("INITIAL_VALUE");function pu(){return Yn(n=>XC(n.map(e=>e.pipe(Ko(1),kg(qg)))).pipe(qe(e=>{for(const t of e)if(!0!==t){if(t===qg)return qg;if(!1===t||t instanceof lu)return t}return!0}),eo(e=>e!==qg),Ko(1)))}function uV(n){return function t8(...n){return oS(n)}(at(e=>{if(da(e))throw rV(0,e)}),qe(e=>!0===e))}class Gg{constructor(e){this.segmentGroup=e||null}}class lV{constructor(e){this.urlTree=e}}function gu(n){return ls(new Gg(n))}function dV(n){return ls(new lV(n))}class Ite{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new Z(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return ye(r);if(i.numberOfChildren>1||!i.children[Re])return ls(new Z(4e3,!1));i=i.children[Re]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new lu(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new ct(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Z(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const y0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ete(n,e,t,r,i){const o=v0(n,e,t);return o.matched?(r=function Wee(n,e){return n.providers&&!n._injector&&(n._injector=Hb(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function bte(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?ye(i.map(s=>{const a=fu(s,n);return ds(function ute(n){return n&&Qd(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(pu(),uV()):ye(!0)}(r,e,t).pipe(qe(s=>!0===s?o:{...y0}))):ye(o)}function v0(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...y0}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||nee)(t,n,e);if(!i)return{...y0};const o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function hV(n,e,t,r){return t.length>0&&function Mte(n,e,t){return t.some(r=>Wg(n,e,r)&&vi(r)!==Re)}(n,t,r)?{segmentGroup:new ct(e,Pte(r,new ct(t,n.children))),slicedSegments:[]}:0===t.length&&function Ate(n,e,t){return t.some(r=>Wg(n,e,r))}(n,t,r)?{segmentGroup:new ct(n.segments,Tte(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ct(n.segments,n.children),slicedSegments:t}}function Tte(n,e,t,r,i){const o={};for(const s of r)if(Wg(n,t,s)&&!i[vi(s)]){const a=new ct([],{});o[vi(s)]=a}return{...i,...o}}function Pte(n,e){const t={};t[Re]=e;for(const r of n)if(""===r.path&&vi(r)!==Re){const i=new ct([],{});t[vi(r)]=i}return t}function Wg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class Dte{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Ite(this.urlSerializer,this.urlTree)}noMatchError(e){return new Z(4002,!1)}recognize(){const e=hV(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Re).pipe(Tn(t=>{if(t instanceof lV)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Gg?this.noMatchError(t):t}),qe(t=>{const r=new Bg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Re,this.rootComponentType,null,{}),i=new wo(r,t),o=new eV("",i),s=function wee(n,e,t=null,r=null){return BF($F(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Re).pipe(Tn(r=>{throw r instanceof Gg?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=ZF(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return sn(i).pipe(su(o=>{const s=r.children[o],a=function Jee(n,e){const t=n.filter(r=>vi(r)===e);return t.push(...n.filter(r=>vi(r)!==e)),t}(t,o);return this.processSegmentGroup(e,a,s,o)}),function JZ(n,e){return on(function YZ(n,e,t,r,i){return(o,s)=>{let a=t,c=e,u=0;o.subscribe(Xt(s,l=>{const h=u++;c=a?n(c,l,h):(a=!0,l),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}(n,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),Uf(null),function XZ(n,e){const t=arguments.length>=2;return r=>r.pipe(n?eo((i,o)=>n(i,o,r)):Go,t0(1),t?Uf(e):MS(()=>new Lf))}(),vn(o=>{if(null===o)return gu(r);const s=fV(o);return function kte(n){n.sort((e,t)=>e.value.outlet===Re?-1:t.value.outlet===Re?1:e.value.outlet.localeCompare(t.value.outlet))}(s),ye(s)}))}processSegment(e,t,r,i,o,s){return sn(t).pipe(su(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,o,s).pipe(Tn(c=>{if(c instanceof Gg)return ye(null);throw c}))),to(a=>!!a),Tn(a=>{if(cV(a))return function xte(n,e,t){return 0===e.length&&!n.children[t]}(r,i,o)?ye([]):gu(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,o,s,a){return function Ste(n,e,t,r){return!!(vi(n)===r||r!==Re&&Wg(e,t,n))&&("**"===n.path||v0(e,n,t).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s):gu(i):gu(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?dV(o):this.applyRedirects.lineralizeSegments(r,o).pipe(vn(s=>{const a=new ct(s,{});return this.processSegment(e,t,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){const{matched:a,consumedSegments:c,remainingSegments:u,positionalParamSegments:l}=v0(t,i,o);if(!a)return gu(t);const h=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return i.redirectTo.startsWith("/")?dV(h):this.applyRedirects.lineralizeSegments(i,h).pipe(vn(f=>this.processSegment(e,r,t,f.concat(u),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a;if("**"===r.path){const c=i.length>0?xF(i).parameters:{};a=ye({snapshot:new Bg(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,pV(r),vi(r),r.component??r._loadedComponent??null,r,gV(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=Ete(t,r,i,e).pipe(qe(({matched:c,consumedSegments:u,remainingSegments:l,parameters:h})=>c?{snapshot:new Bg(u,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,pV(r),vi(r),r.component??r._loadedComponent??null,r,gV(r)),consumedSegments:u,remainingSegments:l}:null));return a.pipe(Yn(c=>null===c?gu(t):this.getChildConfig(e=r._injector??e,r,i).pipe(Yn(({routes:u})=>{const l=r._loadedInjector??e,{snapshot:h,consumedSegments:f,remainingSegments:g}=c,{segmentGroup:b,slicedSegments:I}=hV(t,f,g,u);if(0===I.length&&b.hasChildren())return this.processChildren(l,u,b).pipe(qe(S=>null===S?null:[new wo(h,S)]));if(0===u.length&&0===I.length)return ye([new wo(h,[])]);const E=vi(r)===o;return this.processSegment(l,u,b,I,E?Re:o,!0).pipe(qe(S=>[new wo(h,S)]))}))))}getChildConfig(e,t,r){return t.children?ye({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ye({routes:t._loadedRoutes,injector:t._loadedInjector}):function vte(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?ye(!0):ye(i.map(s=>{const a=fu(s,n);return ds(function ote(n){return n&&Qd(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(pu(),uV())}(e,t,r).pipe(vn(i=>i?this.configLoader.loadChildren(e,t).pipe(at(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function wte(n){return ls(iV(!1,3))}())):ye({routes:[],injector:e})}}function Rte(n){const e=n.value.routeConfig;return e&&""===e.path}function fV(n){const e=[],t=new Set;for(const r of n){if(!Rte(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=fV(r.children);e.push(new wo(r.value,i))}return e.filter(r=>!t.has(r))}function pV(n){return n.data||{}}function gV(n){return n.resolve||{}}function mV(n){return"string"==typeof n.title||null===n.title}function b0(n){return Yn(e=>{const t=n(e);return t?sn(t).pipe(qe(()=>e)):ye(e)})}const mu=new ue("ROUTES");let C0=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=se(VN)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ye(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=ds(t.loadComponent()).pipe(qe(_V),at(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Dd(()=>{this.componentLoaders.delete(t)})),i=new AF(r,()=>new ai).pipe(e0());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ye({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function $te(n,e,t,r){return ds(n.loadChildren()).pipe(qe(_V),vn(i=>i instanceof GR||Array.isArray(i)?ye(i):sn(e.compileModuleAsync(i))),qe(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(t).injector,s=o.get(mu,[],{optional:!0,self:!0}).flat()),{routes:s.map(_0),injector:o}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(Dd(()=>{this.childrenLoaders.delete(r)})),s=new AF(o,()=>new ai).pipe(e0());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function _V(n){return function Bte(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Kg=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ai,this.transitionAbortSubject=new ai,this.configLoader=se(C0),this.environmentInjector=se(kr),this.urlSerializer=se(Ld),this.rootContexts=se(zd),this.inputBindingEnabled=null!==se(Hg,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ye(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Ree(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new kee(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new hn({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Bd,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(eo(o=>0!==o.id),qe(o=>({...o,extractedUrl:t.urlHandlingStrategy.extract(o.rawUrl)})),Yn(o=>{this.currentTransition=o;let s=!1,a=!1;return ye(o).pipe(at(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Yn(c=>{const u=c.currentBrowserUrl.toString(),l=!t.navigated||c.extractedUrl.toString()!==u||u!==c.currentUrlTree.toString();if(!l&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const f="";return this.events.next(new du(c.id,this.urlSerializer.serialize(c.rawUrl),f,0)),c.resolve(null),Ci}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return ye(c).pipe(Yn(f=>{const g=this.transitions?.getValue();return this.events.next(new jg(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),g!==this.transitions?.getValue()?Ci:Promise.resolve(f)}),function Nte(n,e,t,r,i,o){return vn(s=>function Ote(n,e,t,r,i,o,s="emptyOnly"){return new Dte(n,e,t,r,i,s,o).recognize()}(n,e,t,r,s.extractedUrl,i,o).pipe(qe(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),at(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:f.urlAfterRedirects};const g=new KF(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}));if(l&&t.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:f,extractedUrl:g,source:b,restoredState:I,extras:E}=c,S=new jg(f,this.urlSerializer.serialize(g),b,I);this.events.next(S);const M=XF(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:M,urlAfterRedirects:g,extras:{...E,skipLocationChange:!1,replaceUrl:!1}},ye(o)}{const f="";return this.events.next(new du(c.id,this.urlSerializer.serialize(c.extractedUrl),f,1)),c.resolve(null),Ci}}),at(c=>{const u=new See(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),qe(c=>(this.currentTransition=o={...c,guards:ete(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function dte(n,e){return vn(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?ye({...t,guardsResult:!0}):function hte(n,e,t,r){return sn(n).pipe(vn(i=>function yte(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?ye(o.map(a=>{const c=Gd(e)??i,u=fu(a,c);return ds(function cte(n){return n&&Qd(n.canDeactivate)}(u)?u.canDeactivate(n,e,t,r):c.runInContext(()=>u(n,e,t,r))).pipe(to())})).pipe(pu()):ye(!0)}(i.component,i.route,t,e,r)),to(i=>!0!==i,!0))}(s,r,i,n).pipe(vn(a=>a&&function ite(n){return"boolean"==typeof n}(a)?function fte(n,e,t,r){return sn(e).pipe(su(i=>ZC(function gte(n,e){return null!==n&&e&&e(new Nee(n)),ye(!0)}(i.route.parent,r),function pte(n,e){return null!==n&&e&&e(new Vee(n)),ye(!0)}(i.route,r),function _te(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function tte(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>MF(()=>ye(s.guards.map(c=>{const u=Gd(s.node)??t,l=fu(c,u);return ds(function ate(n){return n&&Qd(n.canActivateChild)}(l)?l.canActivateChild(r,n):u.runInContext(()=>l(r,n))).pipe(to())})).pipe(pu())));return ye(o).pipe(pu())}(n,i.path,t),function mte(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ye(!0);const i=r.map(o=>MF(()=>{const s=Gd(e)??t,a=fu(o,s);return ds(function ste(n){return n&&Qd(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(to())}));return ye(i).pipe(pu())}(n,i.route,t))),to(i=>!0!==i,!0))}(r,o,n,e):ye(a)),qe(a=>({...t,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),at(c=>{if(o.guardsResult=c.guardsResult,da(c.guardsResult))throw rV(0,c.guardsResult);const u=new xee(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),eo(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),b0(c=>{if(c.guards.canActivateChecks.length)return ye(c).pipe(at(u=>{const l=new Oee(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),Yn(u=>{let l=!1;return ye(u).pipe(function Fte(n,e){return vn(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ye(t);let o=0;return sn(i).pipe(su(s=>function Vte(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!mV(i)&&(o[Fd]=i.title),function Lte(n,e,t,r){const i=function Ute(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return ye({});const o={};return sn(i).pipe(vn(s=>function jte(n,e,t,r){const i=Gd(e)??r,o=fu(n,i);return ds(o.resolve?o.resolve(e,t):i.runInContext(()=>o(e,t)))}(n[s],e,t,r).pipe(to(),at(a=>{o[s]=a}))),t0(1),function ZZ(n){return qe(()=>n)}(o),Tn(s=>cV(s)?Ci:ls(s)))}(o,n,e,r).pipe(qe(s=>(n._resolvedData=s,n.data=ZF(n,t).resolve,i&&mV(i)&&(n.data[Fd]=i.title),null)))}(s.route,r,n,e)),at(()=>o++),t0(1),vn(s=>o===i.length?ye(t):Ci))})}(t.paramsInheritanceStrategy,this.environmentInjector),at({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(u,"",2)}}))}),at(u=>{const l=new Dee(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}))}),b0(c=>{const u=l=>{const h=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(l.routeConfig).pipe(at(f=>{l.component=f}),qe(()=>{})));for(const f of l.children)h.push(...u(f));return h};return XC(u(c.targetSnapshot.root)).pipe(Uf(),Ko(1))}),b0(()=>this.afterPreactivation()),qe(c=>{const u=function Hee(n,e,t){const r=qd(n,e._root,t?t._root:void 0);return new JF(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:u},o}),at(()=>{this.events.next(new c0)}),((n,e,t,r)=>qe(i=>(new Zee(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Ko(1),at({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new hs(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),function eee(n){return on((e,t)=>{Mr(n).subscribe(Xt(t,()=>t.complete(),et)),!t.closed&&e.subscribe(t)})}(this.transitionAbortSubject.pipe(at(c=>{throw c}))),Dd(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Tn(c=>{if(a=!0,oV(c))this.events.next(new Hd(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function Gee(n){return oV(n)&&da(n.url)}(c)?this.events.next(new u0(c.url)):o.resolve(!1);else{this.events.next(new $g(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(c))}catch(u){o.reject(u)}}return Ci}))}))}cancelNavigationTransition(t,r,i){const o=new Hd(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function yV(n){return n!==Bd}let vV=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Re);return r}getResolvedTitleForRoute(t){return t.data[Fd]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:function(){return se(Hte)},providedIn:"root"})}}return n})(),Hte=(()=>{class n extends vV{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(le(vF))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),zte=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:function(){return se(Gte)},providedIn:"root"})}}return n})();class qte{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Gte=(()=>{class n extends qte{static{this.\u0275fac=function(){let t;return function(i){return(t||(t=En(n)))(i||n)}}()}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Qg=new ue("",{providedIn:"root",factory:()=>({})});let Wte=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:function(){return se(Kte)},providedIn:"root"})}}return n})(),Kte=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Yd=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Yd||{});function bV(n,e){n.events.pipe(eo(t=>t instanceof hs||t instanceof Hd||t instanceof $g||t instanceof du),qe(t=>t instanceof hs||t instanceof du?Yd.COMPLETE:t instanceof Hd&&(0===t.code||1===t.code)?Yd.REDIRECTING:Yd.FAILED),eo(t=>t!==Yd.REDIRECTING),Ko(1)).subscribe(()=>{e()})}function Qte(n){throw n}function Yte(n,e,t){return e.parse("/")}const Jte={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Xte={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let cr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=se(aC),this.isNgZoneEnabled=!1,this._events=new ai,this.options=se(Qg,{optional:!0})||{},this.pendingTasks=se(cg),this.errorHandler=this.options.errorHandler||Qte,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Yte,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=se(Wte),this.routeReuseStrategy=se(zte),this.titleStrategy=se(vV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=se(mu,{optional:!0})?.flat()??[],this.navigationTransitions=se(Kg),this.urlSerializer=se(Ld),this.location=se(IC),this.componentInputBindingEnabled=!!se(Hg,{optional:!0}),this.eventsSubscription=new q,this.isNgZoneEnabled=se(Xe)instanceof Xe&&Xe.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new lu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=XF(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(CV(r)&&this._events.next(r));if(r instanceof jg)yV(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof du)this.rawUrlTree=i.rawUrl;else if(r instanceof KF){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof c0)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Hd)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof u0){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||yV(i.source)};this.scheduleNavigation(o,Bd,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof $g&&this.restoreHistory(i,!0),r instanceof hs&&(this.navigated=!0),CV(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Bd,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(_0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s;let h,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...o};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}null!==l&&(l=this.removeEmptyProps(l));try{h=$F(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),h=this.currentUrlTree.root}return BF(h,t,l,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=da(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Bd,null,r)}navigate(t,r={skipLocationChange:!1}){return function Zte(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new Z(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...Jte}:!1===r?{...Xte}:r,da(t))return DF(this.currentUrlTree,t,i);const o=this.parseUrl(t);return DF(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((h,f)=>{a=h,c=f});const l=this.pendingTasks.add();return bV(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function CV(n){return!(n instanceof c0||n instanceof u0)}let fa=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new ai,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof hs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function GO(n,e,t){return function uq(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?qO:Dr}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(W(cr),W(ha),function cp(n){return function Sz(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(US(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===e)return t[i+1];i+=2}}}return null}(In(),n)}("tabindex"),W(uo),W(vr),W(ca))}}static{this.\u0275dir=Pe({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&G("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&xi("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",iu],skipLocationChange:["skipLocationChange","skipLocationChange",iu],replaceUrl:["replaceUrl","replaceUrl",iu],routerLink:"routerLink"},standalone:!0,features:[uk,Wr]})}}return n})(),wV=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Rt,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof hs&&this.update()})}ngAfterContentInit(){ye(this.links.changes,ye(null)).pipe(oc()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=sn(t).pipe(oc()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function ene(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static{this.\u0275fac=function(r){return new(r||n)(W(cr),W(vr),W(uo),W(ru),W(fa,8))}}static{this.\u0275dir=Pe({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(1&r&&function _N(n,e,t,r){const i=Qe();if(i.firstCreatePass){const o=In();vN(i,new gN(e,t,r),o.index),function hQ(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}yN(i,Q(),t)}(o,fa,5),2&r){let s;og(s=sg())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Wr]})}}return n})();class IV{}let tne=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(eo(t=>t instanceof hs),su(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=Hb(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return sn(i).pipe(oc())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):ye(null);const o=i.pipe(vn(s=>null===s?ye(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?sn([o,this.loader.loadComponent(r)]).pipe(oc()):o})}static{this.\u0275fac=function(r){return new(r||n)(le(cr),le(VN),le(kr),le(IV),le(C0))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const w0=new ue("");let EV=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof jg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof hs?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof du&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof QF&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new QF(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){!function FD(){throw new Error("invalid")}()}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})();function TV(n){return n.routerState.root}function Io(n,e){return{\u0275kind:n,\u0275providers:e}}function PV(){const n=se(Vn);return e=>{const t=n.get(sa);if(e!==t.components[0])return;const r=n.get(cr),i=n.get(MV);1===n.get(I0)&&r.initialNavigation(),n.get(AV,null,$e.Optional)?.setUpPreloading(),n.get(w0,null,$e.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const MV=new ue("",{factory:()=>new ai}),I0=new ue("",{providedIn:"root",factory:()=>1}),AV=new ue("");function sne(n){return Io(0,[{provide:AV,useExisting:tne},{provide:IV,useExisting:n}])}const SV=new ue("ROUTER_FORROOT_GUARD"),cne=[IC,{provide:Ld,useClass:n0},cr,zd,{provide:ha,useFactory:TV,deps:[cr]},C0,[]];function une(){return new zN("Router",cr)}let Jd=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[cne,[],{provide:mu,multi:!0,useValue:t},{provide:SV,useFactory:fne,deps:[[cr,new rr,new dp]]},{provide:Qg,useValue:r||{}},r?.useHash?{provide:ca,useClass:qY}:{provide:ca,useClass:b2},{provide:w0,useFactory:()=>{const n=se(uX),e=se(Xe),t=se(Qg),r=se(Kg),i=se(Ld);return t.scrollOffset&&n.setOffset(t.scrollOffset),new EV(i,r,n,e,t)}},r?.preloadingStrategy?sne(r.preloadingStrategy).\u0275providers:[],{provide:zN,multi:!0,useFactory:une},r?.initialNavigation?pne(r):[],r?.bindToComponentInputs?Io(8,[nV,{provide:Hg,useExisting:nV}]).\u0275providers:[],[{provide:xV,useFactory:PV},{provide:Md,multi:!0,useExisting:xV}]]}}static forChild(t){return{ngModule:n,providers:[{provide:mu,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(le(SV,8))}}static{this.\u0275mod=li({type:n})}static{this.\u0275inj=qr({})}}return n})();function fne(n){return"guarded"}function pne(n){return["disabled"===n.initialNavigation?Io(3,[{provide:oC,multi:!0,useFactory:()=>{const e=se(cr);return()=>{e.setUpLocationChangeListener()}}},{provide:I0,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Io(2,[{provide:I0,useValue:0},{provide:oC,multi:!0,deps:[Vn],useFactory:e=>{const t=e.get(HY,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(cr),o=e.get(MV);bV(i,()=>{r(!0)}),e.get(Kg).afterPreactivation=()=>(r(!0),o.closed?ye(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const xV=new ue("");function OV(n,e,t,r,i,o,s){try{var a=n[o](s),c=a.value}catch(u){return void t(u)}a.done?e(c):Promise.resolve(c).then(r,i)}function v(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function s(c){OV(o,r,i,s,a,"next",c)}function a(c){OV(o,r,i,s,a,"throw",c)}s(void 0)})}}const DV=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},T0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0;let f=(15&a)<<2|u>>6,g=63&u;c||(g=64,s||(f=64)),r.push(t[o>>2],t[(3&o)<<4|a>>4],t[f],t[g])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(DV(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const c=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const o=n[t++],s=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const u=i<n.length?t[n.charAt(i)]:64;++i;const h=i<n.length?t[n.charAt(i)]:64;if(++i,null==o||null==a||null==u||null==h)throw new vne;r.push(o<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==h&&r.push(u<<6&192|h))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class vne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Yg=function(n){return function(n){const e=DV(n);return T0.encodeByteArray(e,!0)}(n).replace(/\./g,"")},Jg=function(n){try{return T0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Xg=()=>{try{return function wne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Jg(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},RV=n=>{var e,t;return null===(t=null===(e=Xg())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},NV=()=>{var n;return null===(n=Xg())||void 0===n?void 0:n.config},FV=n=>{var e;return null===(e=Xg())||void 0===e?void 0:e[`_${n}`]};class Zg{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Wt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function P0(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function fs(){try{return"object"==typeof indexedDB}catch{return!1}}function Xd(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(t){e(t)}})}function M0(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ei extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fi.prototype.create)}}class Fi{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function Nne(n,e){return n.replace(Fne,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new ei(i,`${this.serviceName}: ${s} (${i}).`,r)}}const Fne=/\{\$([^}]+)}/g;function _u(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],s=e[i];if(UV(o)&&UV(s)){if(!_u(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function UV(n){return null!==n&&"object"==typeof n}function Zd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class Une{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function jne(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=A0),void 0===i.error&&(i.error=A0),void 0===i.complete&&(i.complete=A0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function A0(){}const $ne=1e3,Bne=2,Hne=144e5,zne=.5;function x0(n,e=$ne,t=Bne){const r=e*Math.pow(t,n),i=Math.round(zne*r*(Math.random()-.5)*2);return Math.min(Hne,r+i)}function Pn(n){return n&&n._delegate?n._delegate:n}class Un{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const pa="[DEFAULT]";class Gne{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Zg;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Kne(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:pa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return v(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=pa){return this.instances.has(e)}getOptions(e=pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===pa?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=pa){return this.component?this.component.multipleInstances?e:pa:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Qne{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Gne(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const O0=[];var He=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(He||{});const jV={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},Yne=He.INFO,Jne={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},Xne=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=Jne[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class yu{constructor(e){this.name=e,this._logLevel=Yne,this._logHandler=Xne,this._userLogHandler=null,O0.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?jV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const Zne=(n,e)=>e.some(t=>n instanceof t);let $V,BV;const HV=new WeakMap,D0=new WeakMap,zV=new WeakMap,k0=new WeakMap,R0=new WeakMap;let N0={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return D0.get(n);if("objectStoreNames"===e)return n.objectStoreNames||zV.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Eo(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function sre(n){return"function"==typeof n?function ore(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function tre(){return BV||(BV=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(F0(this),e),Eo(HV.get(this))}:function(...e){return Eo(n.apply(F0(this),e))}:function(e,...t){const r=n.call(F0(this),e,...t);return zV.set(r,e.sort?e.sort():[e]),Eo(r)}}(n):(n instanceof IDBTransaction&&function rre(n){if(D0.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});D0.set(n,e)}(n),Zne(n,function ere(){return $V||($V=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,N0):n)}function Eo(n){if(n instanceof IDBRequest)return function nre(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Eo(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&HV.set(t,n)}).catch(()=>{}),R0.set(e,n),e}(n);if(k0.has(n))return k0.get(n);const e=sre(n);return e!==n&&(k0.set(n,e),R0.set(e,n)),e}const F0=n=>R0.get(n);function tm(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(n,e),a=Eo(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Eo(s.result),c.oldVersion,c.newVersion,Eo(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}function V0(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",r=>e(r.oldVersion,r)),Eo(t).then(()=>{})}const are=["get","getKey","getAll","getAllKeys","count"],cre=["put","add","delete","clear"],L0=new Map;function qV(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(L0.get(e))return L0.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=cre.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!are.includes(t))return;const o=function(){var s=v(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[t](...c),i&&u.done]))[0]});return function(c){return s.apply(this,arguments)}}();return L0.set(e,o),o}!function ire(n){N0=n(N0)}(n=>({...n,get:(e,t,r)=>qV(e,t)||n.get(e,t,r),has:(e,t)=>!!qV(e,t)||n.has(e,t)}));class ure{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function lre(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const nm="@firebase/app",U0="0.10.13",To=new yu("@firebase/app"),rm="[DEFAULT]",Lre={[nm]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},ga=new Map,eh=new Map,th=new Map;function GV(n,e){try{n.container.addComponent(e)}catch(t){To.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ur(n){const e=n.name;if(th.has(e))return To.debug(`There were multiple attempts to register component ${e}.`),!1;th.set(e,n);for(const t of ga.values())GV(t,n);for(const t of eh.values())GV(t,n);return!0}function vu(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ps(n){return void 0!==n.settings}const ti=new Fi("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class WV{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Un("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ti.create("app-deleted",{appName:this._name})}}const ma="10.14.1";function KV(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:rm,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw ti.create("bad-app-name",{appName:String(i)});if(t||(t=NV()),!t)throw ti.create("no-options");const o=ga.get(i);if(o){if(_u(t,o.options)&&_u(r,o.config))return o;throw ti.create("duplicate-app",{appName:i})}const s=new Qne(i);for(const c of th.values())s.addComponent(c);const a=new WV(t,r,s);return ga.set(i,a),a}function j0(n=rm){const e=ga.get(n);if(!e&&n===rm&&NV())return KV();if(!e)throw ti.create("no-app",{appName:n});return e}function QV(){return Array.from(ga.values())}function Nt(n,e,t){var r;let i=null!==(r=Lre[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void To.warn(a.join(" "))}ur(new Un(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Hre="firebase-heartbeat-database",zre=1,nh="firebase-heartbeat-store";let B0=null;function YV(){return B0||(B0=tm(Hre,zre,{upgrade:(n,e)=>{if(0===e)try{n.createObjectStore(nh)}catch(t){console.warn(t)}}}).catch(n=>{throw ti.create("idb-open",{originalErrorMessage:n.message})})),B0}function H0(){return(H0=v(function*(n){try{const t=(yield YV()).transaction(nh),r=yield t.objectStore(nh).get(XV(n));return yield t.done,r}catch(e){if(e instanceof ei)To.warn(e.message);else{const t=ti.create("idb-get",{originalErrorMessage:e?.message});To.warn(t.message)}}})).apply(this,arguments)}function JV(n,e){return z0.apply(this,arguments)}function z0(){return(z0=v(function*(n,e){try{const r=(yield YV()).transaction(nh,"readwrite");yield r.objectStore(nh).put(e,XV(n)),yield r.done}catch(t){if(t instanceof ei)To.warn(t.message);else{const r=ti.create("idb-set",{originalErrorMessage:t?.message});To.warn(r.message)}}})).apply(this,arguments)}function XV(n){return`${n.name}!${n.options.appId}`}class Kre{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Yre(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return v(function*(){var t,r;try{const o=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ZV();return null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&(e._heartbeatsCache=yield e._heartbeatsCachePromise,null==(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats))||e._heartbeatsCache.lastSentHeartbeatDate===s||e._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(e._heartbeatsCache.heartbeats.push({date:s,agent:o}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=2592e6}),e._storage.overwrite(e._heartbeatsCache))}catch(i){To.warn(i)}})()}getHeartbeatsHeader(){var e=this;return v(function*(){var t;try{if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=ZV(),{heartbeatsToSend:i,unsentEntries:o}=function Qre(n,e=1024){const t=[];let r=n.slice();for(const i of n){const o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),eL(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),eL(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Yg(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(e._heartbeatsCache.heartbeats=o,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s}catch(r){return To.warn(r),""}})()}}function ZV(){return(new Date).toISOString().substring(0,10)}class Yre{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(function*(){return!!fs()&&Xd().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return v(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function qre(n){return H0.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var t=this;return v(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return JV(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return v(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return JV(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function eL(n){return Yg(JSON.stringify({version:2,heartbeats:n})).length}!function Jre(n){ur(new Un("platform-logger",e=>new ure(e),"PRIVATE")),ur(new Un("heartbeat",e=>new Kre(e),"PRIVATE")),Nt(nm,U0,n),Nt(nm,U0,"esm2017"),Nt("fire-js","")}(""),Nt("firebase","10.14.1","app");const tL="@firebase/installations",q0="0.6.9",nL=1e4,rL=`w:${q0}`,iL="FIS_v2",eie="https://firebaseinstallations.googleapis.com/v1",tie=36e5,Po=new Fi("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function oL(n){return n instanceof ei&&n.code.includes("request-failed")}function G0({projectId:n}){return`${eie}/projects/${n}/installations`}function sL(n){return{token:n.token,requestStatus:2,expiresIn:oie(n.expiresIn),creationTime:Date.now()}}function W0(n,e){return K0.apply(this,arguments)}function K0(){return(K0=v(function*(n,e){const r=(yield e.json()).error;return Po.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function aL({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Q0(n){return Y0.apply(this,arguments)}function Y0(){return(Y0=v(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function oie(n){return Number(n.replace("s","000"))}function J0(){return(J0=v(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=G0(n),i=aL(n),o=e.getImmediate({optional:!0});if(o){const u=yield o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:iL,appId:n.appId,sdkVersion:rL})},c=yield Q0(()=>fetch(r,a));if(c.ok){const u=yield c.json();return{fid:u.fid||t,registrationStatus:2,refreshToken:u.refreshToken,authToken:sL(u.authToken)}}throw yield W0("Create Installation",c)})).apply(this,arguments)}function uL(n){return new Promise(e=>{setTimeout(e,n)})}const uie=/^[cdef][\w-]{21}$/,X0="";function lie(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function die(n){return function cie(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return uie.test(t)?t:X0}catch{return X0}}function bu(n){return`${n.appName}!${n.appId}`}const Cu=new Map;function lL(n,e){const t=bu(n);dL(t,e),function pie(n,e){const t=function hL(){return!_a&&"BroadcastChannel"in self&&(_a=new BroadcastChannel("[Firebase] FID Change"),_a.onmessage=n=>{dL(n.data.key,n.data.fid)}),_a}();t&&t.postMessage({key:n,fid:e}),function fL(){0===Cu.size&&_a&&(_a.close(),_a=null)}()}(t,e)}function dL(n,e){const t=Cu.get(n);if(t)for(const r of t)r(e)}let _a=null;const gie="firebase-installations-database",mie=1,ya="firebase-installations-store";let Z0=null;function ew(){return Z0||(Z0=tm(gie,mie,{upgrade:(n,e)=>{0===e&&n.createObjectStore(ya)}})),Z0}function im(n,e){return tw.apply(this,arguments)}function tw(){return(tw=v(function*(n,e){const t=bu(n),i=(yield ew()).transaction(ya,"readwrite"),o=i.objectStore(ya),s=yield o.get(t);return yield o.put(e,t),yield i.done,(!s||s.fid!==e.fid)&&lL(n,e.fid),e})).apply(this,arguments)}function nw(n){return rw.apply(this,arguments)}function rw(){return(rw=v(function*(n){const e=bu(n),r=(yield ew()).transaction(ya,"readwrite");yield r.objectStore(ya).delete(e),yield r.done})).apply(this,arguments)}function rh(n,e){return iw.apply(this,arguments)}function iw(){return(iw=v(function*(n,e){const t=bu(n),i=(yield ew()).transaction(ya,"readwrite"),o=i.objectStore(ya),s=yield o.get(t),a=e(s);return void 0===a?yield o.delete(t):yield o.put(a,t),yield i.done,a&&(!s||s.fid!==a.fid)&&lL(n,a.fid),a})).apply(this,arguments)}function ow(n){return sw.apply(this,arguments)}function sw(){return sw=v(function*(n){let e;const t=yield rh(n.appConfig,r=>{const i=function _ie(n){return gL(n||{fid:lie(),registrationStatus:0})}(r),o=function yie(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Po.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function vie(n,e){return aw.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:bie(n)}:{installationEntry:e}}(n,i);return e=o.registrationPromise,o.installationEntry});return t.fid===X0?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),sw.apply(this,arguments)}function aw(){return aw=v(function*(n,e){try{const t=yield function aie(n,e){return J0.apply(this,arguments)}(n,e);return im(n.appConfig,t)}catch(t){throw oL(t)&&409===t.customData.serverCode?yield nw(n.appConfig):yield im(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),aw.apply(this,arguments)}function bie(n){return cw.apply(this,arguments)}function cw(){return(cw=v(function*(n){let e=yield pL(n.appConfig);for(;1===e.registrationStatus;)yield uL(100),e=yield pL(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield ow(n);return r||t}return e})).apply(this,arguments)}function pL(n){return rh(n,e=>{if(!e)throw Po.create("installation-not-found");return gL(e)})}function gL(n){return function Cie(n){return 1===n.registrationStatus&&n.registrationTime+nL<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function uw(){return(uw=v(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=function Iie(n,{fid:e}){return`${G0(n)}/${e}/authTokens:generate`}(n,t),i=function cL(n,{refreshToken:e}){const t=aL(n);return t.append("Authorization",function sie(n){return`${iL} ${n}`}(e)),t}(n,t),o=e.getImmediate({optional:!0});if(o){const u=yield o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:rL,appId:n.appId}})},c=yield Q0(()=>fetch(r,a));if(c.ok)return sL(yield c.json());throw yield W0("Generate Auth Token",c)})).apply(this,arguments)}function lw(n){return dw.apply(this,arguments)}function dw(){return dw=v(function*(n,e=!1){let t;const r=yield rh(n.appConfig,o=>{if(!_L(o))throw Po.create("not-registered");const s=o.authToken;if(!e&&function Pie(n){return 2===n.requestStatus&&!function Mie(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+tie}(n)}(s))return o;if(1===s.requestStatus)return t=function Eie(n,e){return hw.apply(this,arguments)}(n,e),o;{if(!navigator.onLine)throw Po.create("app-offline");const a=function Aie(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(o);return t=function Tie(n,e){return fw.apply(this,arguments)}(n,a),a}});return t?yield t:r.authToken}),dw.apply(this,arguments)}function hw(){return(hw=v(function*(n,e){let t=yield mL(n.appConfig);for(;1===t.authToken.requestStatus;)yield uL(100),t=yield mL(n.appConfig);const r=t.authToken;return 0===r.requestStatus?lw(n,e):r})).apply(this,arguments)}function mL(n){return rh(n,e=>{if(!_L(e))throw Po.create("not-registered");return function Sie(n){return 1===n.requestStatus&&n.requestTime+nL<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function fw(){return fw=v(function*(n,e){try{const t=yield function wie(n,e){return uw.apply(this,arguments)}(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield im(n.appConfig,r),t}catch(t){if(!oL(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield im(n.appConfig,r)}else yield nw(n.appConfig);throw t}}),fw.apply(this,arguments)}function _L(n){return void 0!==n&&2===n.registrationStatus}function pw(){return(pw=v(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield ow(e);return r?r.catch(console.error):lw(e).catch(console.error),t.fid})).apply(this,arguments)}function gw(){return gw=v(function*(n,e=!1){const t=n;return yield function Die(n){return mw.apply(this,arguments)}(t),(yield lw(t,e)).token}),gw.apply(this,arguments)}function mw(){return(mw=v(function*(n){const{registrationPromise:e}=yield ow(n);e&&(yield e)})).apply(this,arguments)}function vw(n){return Po.create("missing-app-config-values",{valueName:n})}const yL="installations",Vie=n=>{const e=n.getProvider("app").getImmediate(),t=function Nie(n){if(!n||!n.options)throw vw("App Configuration");if(!n.name)throw vw("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw vw(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:vu(e,"heartbeat"),_delete:()=>Promise.resolve()}},Lie=n=>{const t=vu(n.getProvider("app").getImmediate(),yL).getImmediate();return{getId:()=>function xie(n){return pw.apply(this,arguments)}(t),getToken:i=>function Oie(n){return gw.apply(this,arguments)}(t,i)}};(function Uie(){ur(new Un(yL,Vie,"PUBLIC")),ur(new Un("installations-internal",Lie,"PRIVATE"))})(),Nt(tL,q0),Nt(tL,q0,"esm2017");const bw="@firebase/remote-config",wr=new Fi("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Yie{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return v(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const o=yield t.client.fetch(e),s=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&s.push(t.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(s),o})()}}function Jie(n=navigator){return n.languages&&n.languages[0]||n.language}class Xie{constructor(e,t,r,i,o,s){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=s}fetch(e){var t=this;return v(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:Jie()},u={method:"POST",headers:a,body:JSON.stringify(c)},l=fetch(s,u),h=new Promise((S,M)=>{e.signal.addEventListener(()=>{const V=new Error("The operation was aborted.");V.name="AbortError",M(V)})});let f;try{yield Promise.race([l,h]),f=yield l}catch(S){let M="fetch-client-network";throw"AbortError"===S?.name&&(M="fetch-timeout"),wr.create(M,{originalErrorMessage:S?.message})}let g=f.status;const b=f.headers.get("ETag")||void 0;let I,E;if(200===f.status){let S;try{S=yield f.json()}catch(M){throw wr.create("fetch-client-parse",{originalErrorMessage:M?.message})}I=S.entries,E=S.state}if("INSTANCE_STATE_UNSPECIFIED"===E?g=500:"NO_CHANGE"===E?g=304:("NO_TEMPLATE"===E||"EMPTY_CONFIG"===E)&&(I={}),304!==g&&200!==g)throw wr.create("fetch-status",{httpStatus:g});return{status:g,eTag:b,config:I}})()}}class toe{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return v(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,t){var r=this;return v(function*(i,{throttleEndTimeMillis:o,backoffCount:s}){yield function Zie(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(wr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(i.signal,o);try{const a=yield r.client.fetch(i);return yield r.storage.deleteThrottleMetadata(),a}catch(a){if(!function eoe(n){if(!(n instanceof ei&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(a))throw a;const c={throttleEndTimeMillis:Date.now()+x0(s),backoffCount:s+1};return yield r.storage.setThrottleMetadata(c),r.attemptFetch(i,c)}}).apply(this,arguments)}}class ioe{constructor(e,t,r,i,o){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function sm(n,e){const t=n.target.error||void 0;return wr.create(e,{originalErrorMessage:t&&t?.message})}const va="app_namespace_store";class coe{constructor(e,t,r,i=function aoe(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(sm(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(va,{keyPath:"compositeKey"})}}catch(t){e(wr.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return v(function*(){const r=yield t.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([va],"readonly").objectStore(va),c=t.createCompositeKey(e);try{const u=a.get(c);u.onerror=l=>{o(sm(l,"storage-get"))},u.onsuccess=l=>{const h=l.target.result;i(h?h.value:void 0)}}catch(u){o(wr.create("storage-get",{originalErrorMessage:u?.message}))}})})()}set(e,t){var r=this;return v(function*(){const i=yield r.openDbPromise;return new Promise((o,s)=>{const c=i.transaction([va],"readwrite").objectStore(va),u=r.createCompositeKey(e);try{const l=c.put({compositeKey:u,value:t});l.onerror=h=>{s(sm(h,"storage-set"))},l.onsuccess=()=>{o()}}catch(l){s(wr.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var t=this;return v(function*(){const r=yield t.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([va],"readwrite").objectStore(va),c=t.createCompositeKey(e);try{const u=a.delete(c);u.onerror=l=>{o(sm(l,"storage-delete"))},u.onsuccess=()=>{i()}}catch(u){o(wr.create("storage-delete",{originalErrorMessage:u?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class uoe{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return v(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),o=yield t;o&&(e.lastFetchStatus=o);const s=yield r;s&&(e.lastSuccessfulFetchTimestampMillis=s);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function doe(){return Tw.apply(this,arguments)}function Tw(){return(Tw=v(function*(){if(!fs())return!1;try{return yield Xd()}catch{return!1}})).apply(this,arguments)}!function loe(){ur(new Un("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw wr.create("registration-window");if(!fs())throw wr.create("indexed-db-unavailable");const{projectId:o,apiKey:s,appId:a}=r.options;if(!o)throw wr.create("registration-project-id");if(!s)throw wr.create("registration-api-key");if(!a)throw wr.create("registration-app-id");const c=new coe(a,r.name,t=t||"firebase"),u=new uoe(c),l=new yu(bw);l.logLevel=He.ERROR;const h=new Xie(i,ma,t,o,s,a),f=new toe(h,c),g=new Yie(f,c,u,l),b=new ioe(r,g,u,c,l);return function Wie(n){const e=Pn(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(b),b},"PUBLIC").setMultipleInstances(!0)),Nt(bw,"0.4.9"),Nt(bw,"0.4.9","esm2017")}();const hoe="/firebase-messaging-sw.js",foe="/firebase-cloud-messaging-push-scope",wL="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",poe="https://fcmregistrations.googleapis.com/v1",IL="google.c.a.c_id",goe="google.c.a.c_l",moe="google.c.a.ts";var am=function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n}(am||{});function Mo(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function voe(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}const Pw="fcm_token_details_db",boe=5,EL="fcm_token_object_Store";function Mw(){return Mw=v(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(Pw))return null;let e=null;return(yield tm(Pw,boe,{upgrade:(r=v(function*(i,o,s,a){var c;if(o<2||!i.objectStoreNames.contains(EL))return;const u=a.objectStore(EL),l=yield u.index("fcmSenderId").get(n);if(yield u.clear(),l)if(2===o){const h=l;if(!h.auth||!h.p256dh||!h.endpoint)return;e={token:h.fcmToken,createTime:null!==(c=h.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:h.auth,p256dh:h.p256dh,endpoint:h.endpoint,swScope:h.swScope,vapidKey:"string"==typeof h.vapidKey?h.vapidKey:Mo(h.vapidKey)}}}else if(3===o){const h=l;e={token:h.fcmToken,createTime:h.createTime,subscriptionOptions:{auth:Mo(h.auth),p256dh:Mo(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:Mo(h.vapidKey)}}}else if(4===o){const h=l;e={token:h.fcmToken,createTime:h.createTime,subscriptionOptions:{auth:Mo(h.auth),p256dh:Mo(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:Mo(h.vapidKey)}}}}),function(o,s,a,c){return r.apply(this,arguments)})})).close(),yield V0(Pw),yield V0("fcm_vapid_details_db"),yield V0("undefined"),function woe(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),Mw.apply(this,arguments)}const Ioe="firebase-messaging-database",Eoe=1,ba="firebase-messaging-store";let Aw=null;function Sw(){return Aw||(Aw=tm(Ioe,Eoe,{upgrade:(n,e)=>{0===e&&n.createObjectStore(ba)}})),Aw}function xw(){return xw=v(function*(n){const e=Rw(n),r=yield(yield Sw()).transaction(ba).objectStore(ba).get(e);if(r)return r;{const i=yield function Coe(n){return Mw.apply(this,arguments)}(n.appConfig.senderId);if(i)return yield Ow(n,i),i}}),xw.apply(this,arguments)}function Ow(n,e){return Dw.apply(this,arguments)}function Dw(){return(Dw=v(function*(n,e){const t=Rw(n),i=(yield Sw()).transaction(ba,"readwrite");return yield i.objectStore(ba).put(e,t),yield i.done,e})).apply(this,arguments)}function Rw({appConfig:n}){return n.appId}const Mn=new Fi("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Moe(n,e){return Nw.apply(this,arguments)}function Nw(){return(Nw=v(function*(n,e){const t=yield Uw(n),r=ML(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(Lw(n.appConfig),i)).json()}catch(s){throw Mn.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error)throw Mn.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw Mn.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function Fw(){return(Fw=v(function*(n,e){const t=yield Uw(n),r=ML(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(`${Lw(n.appConfig)}/${e.token}`,i)).json()}catch(s){throw Mn.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error)throw Mn.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw Mn.create("token-update-no-token");return o.token})).apply(this,arguments)}function Vw(){return(Vw=v(function*(n,e){const r={method:"DELETE",headers:yield Uw(n)};try{const o=yield(yield fetch(`${Lw(n.appConfig)}/${e}`,r)).json();if(o.error)throw Mn.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(i){throw Mn.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function Lw({projectId:n}){return`${poe}/projects/${n}/registrations`}function Uw(n){return jw.apply(this,arguments)}function jw(){return(jw=v(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function ML({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==wL&&(i.web.applicationPubKey=r),i}const Soe=6048e5;function $w(){return $w=v(function*(n){const e=yield function koe(n,e){return qw.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Mo(e.getKey("auth")),p256dh:Mo(e.getKey("p256dh"))},r=yield function TL(n){return xw.apply(this,arguments)}(n.firebaseDependencies);if(r){if(function Roe(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(r.subscriptionOptions,t))return Date.now()>=r.createTime+Soe?function Doe(n,e){return Hw.apply(this,arguments)}(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield function PL(n,e){return Vw.apply(this,arguments)}(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return AL(n.firebaseDependencies,t)}return AL(n.firebaseDependencies,t)}),$w.apply(this,arguments)}function Hw(){return Hw=v(function*(n,e){try{const t=yield function Aoe(n,e){return Fw.apply(this,arguments)}(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield Ow(n.firebaseDependencies,r),t}catch(t){throw t}}),Hw.apply(this,arguments)}function AL(n,e){return zw.apply(this,arguments)}function zw(){return(zw=v(function*(n,e){const r={token:yield Moe(n,e),createTime:Date.now(),subscriptionOptions:e};return yield Ow(n,r),r.token})).apply(this,arguments)}function qw(){return(qw=v(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:voe(e)})})).apply(this,arguments)}function SL(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function Noe(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const o=e.notification.icon;o&&(n.notification.icon=o)}(e,n),function Foe(n,e){e.data&&(n.data=e.data)}(e,n),function Voe(n,e){var t,r,i,o,s;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=e.notification)||void 0===o?void 0:o.click_action;a&&(n.fcmOptions.link=a);const c=null===(s=e.fcmOptions)||void 0===s?void 0:s.analytics_label;c&&(n.fcmOptions.analyticsLabel=c)}(e,n),e}function Gw(n){return Mn.create("missing-app-config-values",{valueName:n})}!function Uoe(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));t.join("")}("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class $oe{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function joe(n){if(!n||!n.options)throw Gw("App Configuration Object");if(!n.name)throw Gw("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw Gw(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function Ww(){return(Ww=v(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(hoe,{scope:foe}),n.swRegistration.update().catch(()=>{})}catch(e){throw Mn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function Kw(){return(Kw=v(function*(n,e){if(!e&&!n.swRegistration&&(yield function xL(n){return Ww.apply(this,arguments)}(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Mn.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function Qw(){return(Qw=v(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=wL)})).apply(this,arguments)}function Yw(){return Yw=v(function*(n,e){if(!navigator)throw Mn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Mn.create("permission-blocked");return yield function Hoe(n,e){return Qw.apply(this,arguments)}(n,e?.vapidKey),yield function Boe(n,e){return Kw.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function xoe(n){return $w.apply(this,arguments)}(n)}),Yw.apply(this,arguments)}function Jw(){return(Jw=v(function*(n,e,t){const r=function qoe(n){switch(n){case am.NOTIFICATION_CLICKED:return"notification_open";case am.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[IL],message_name:t[goe],message_time:t[moe],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Xw(){return Xw=v(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===am.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(SL(t)):n.onMessageHandler.next(SL(t)));const r=t.data;(function Loe(n){return"object"==typeof n&&!!n&&IL in n})(r)&&"1"===r["google.c.a.e"]&&(yield function zoe(n,e,t){return Jw.apply(this,arguments)}(n,t.messageType,r))}),Xw.apply(this,arguments)}const DL="@firebase/messaging",kL="0.12.12",Woe=n=>{const e=new $oe(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function Goe(n,e){return Xw.apply(this,arguments)}(e,t)),e},Koe=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function OL(n,e){return Yw.apply(this,arguments)}(e,r)}};function RL(){return Zw.apply(this,arguments)}function Zw(){return(Zw=v(function*(){try{yield Xd()}catch{return!1}return typeof window<"u"&&fs()&&M0()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Qoe(){ur(new Un("messaging",Woe,"PUBLIC")),ur(new Un("messaging-internal",Koe,"PRIVATE")),Nt(DL,kL),Nt(DL,kL,"esm2017")}();const cm="analytics",Xoe="firebase_id",Zoe="origin",ese=6e4,tse="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",nI="https://www.googletagmanager.com/gtag/js",fn=new yu("@firebase/analytics"),lr=new Fi("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function rse(n){if(!n.startsWith(nI)){const e=lr.create("invalid-gtag-resource",{gtagURL:n});return fn.warn(e.message),""}return n}function NL(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function rI(){return(rI=v(function*(n,e,t,r,i,o){const s=r[i];try{if(s)yield e[s];else{const c=(yield NL(t)).find(u=>u.measurementId===i);c&&(yield e[c.appId])}}catch(a){fn.error(a)}n("config",i,o)})).apply(this,arguments)}function iI(){return(iI=v(function*(n,e,t,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=yield NL(t);for(const c of s){const u=a.find(h=>h.measurementId===c),l=u&&e[u.appId];if(!l){o=[];break}o.push(l)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),n("event",r,i||{})}catch(o){fn.error(o)}})).apply(this,arguments)}const hse=30,FL=new class pse{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function gse(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function oI(){return(oI=v(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:gse(r)},o=tse.replace("{app-id}",t),s=yield fetch(o,i);if(200!==s.status&&304!==s.status){let a="";try{const c=yield s.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw lr.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function sI(){return(sI=v(function*(n,e=FL,t){const{appId:r,apiKey:i,measurementId:o}=n.options;if(!r)throw lr.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw lr.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new bse;return setTimeout(v(function*(){a.abort()}),void 0!==t?t:ese),VL({appId:r,apiKey:i,measurementId:o},s,a,e)})).apply(this,arguments)}function VL(n,e,t){return aI.apply(this,arguments)}function aI(){return aI=v(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=FL){var o;const{appId:s,measurementId:a}=n;try{yield function yse(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(lr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return fn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw c}try{const c=yield function mse(n){return oI.apply(this,arguments)}(n);return i.deleteThrottleMetadata(s),c}catch(c){const u=c;if(!function vse(n){if(!(n instanceof ei&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(u)){if(i.deleteThrottleMetadata(s),a)return fn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:s,measurementId:a};throw c}const l=503===Number(null===(o=u?.customData)||void 0===o?void 0:o.httpStatus)?x0(t,i.intervalMillis,hse):x0(t,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+l,backoffCount:t+1};return i.setThrottleMetadata(s,h),fn.debug(`Calling attemptFetch again in ${l} millis`),VL(n,h,r,i)}}),aI.apply(this,arguments)}class bse{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let cI,gI;function uI(){return(uI=v(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const o=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:o}))}})).apply(this,arguments)}function mI(){return(mI=v(function*(){if(!fs())return fn.warn(lr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Xd()}catch(n){return fn.warn(lr.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function _I(){return _I=v(function*(n,e,t,r,i,o,s){var a;const c=function _se(n){return sI.apply(this,arguments)}(n);c.then(g=>{t[g.measurementId]=g.appId,n.options.measurementId&&g.measurementId!==n.options.measurementId&&fn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>fn.error(g)),e.push(c);const u=function Mse(){return mI.apply(this,arguments)}().then(g=>{if(g)return r.getId()}),[l,h]=yield Promise.all([c,u]);(function dse(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(nI)&&t.src.includes(n))return t;return null})(o)||function ose(n,e){const t=function ise(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:rse}),r=document.createElement("script"),i=`${nI}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(o,l.measurementId),gI&&(i("consent","default",gI),function LL(n){gI=n}(void 0)),i("js",new Date);const f=null!==(a=s?.config)&&void 0!==a?a:{};return f[Zoe]="firebase",f.update=!0,null!=h&&(f[Xoe]=h),i("config",l.measurementId,f),cI&&(i("set",cI),function UL(n){cI=n}(void 0)),l.measurementId}),_I.apply(this,arguments)}class Sse{constructor(e){this.app=e}_delete(){return delete Vi[this.app.options.appId],Promise.resolve()}}let Vi={},jL=[];const $L={};let HL,Li,um="dataLayer",yI=!1;function Ose(n,e,t){!function xse(){const n=[];if(P0()&&n.push("This is a browser extension environment."),M0()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=lr.create("invalid-analytics-context",{errorInfo:e});fn.warn(t.message)}}();const r=n.options.appId;if(!r)throw lr.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw lr.create("no-api-key");fn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Vi[r])throw lr.create("already-exists",{id:r});if(!yI){!function sse(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(um);const{wrappedGtag:o,gtagCore:s}=function lse(n,e,t,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function use(n,e,t,r){function o(){return o=v(function*(s,...a){try{if("event"===s){const[c,u]=a;yield function cse(n,e,t,r,i){return iI.apply(this,arguments)}(n,e,t,c,u)}else if("config"===s){const[c,u]=a;yield function ase(n,e,t,r,i,o){return rI.apply(this,arguments)}(n,e,t,r,c,u)}else if("consent"===s){const[c,u]=a;n("consent",c,u)}else if("get"===s){const[c,u,l]=a;n("get",c,u,l)}else if("set"===s){const[c]=a;n("set",c)}else n(s,...a)}catch(c){fn.error(c)}}),o.apply(this,arguments)}return function i(s){return o.apply(this,arguments)}}(o,n,e,t),{gtagCore:o,wrappedGtag:window[i]}}(Vi,jL,$L,um,"gtag");Li=o,HL=s,yI=!0}return Vi[r]=function Ase(n,e,t,r,i,o,s){return _I.apply(this,arguments)}(n,jL,$L,e,HL,um,t),new Sse(n)}function kse(){return vI.apply(this,arguments)}function vI(){return(vI=v(function*(){if(P0()||!M0()||!fs())return!1;try{return yield Xd()}catch{return!1}})).apply(this,arguments)}const zL="@firebase/analytics";!function Nse(){ur(new Un(cm,(e,{options:t})=>Ose(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),ur(new Un("analytics-internal",function n(e){try{const t=e.getProvider(cm).getImmediate();return{logEvent:(r,i,o)=>function Rse(n,e,t,r){n=Pn(n),function Cse(n,e,t,r,i){return uI.apply(this,arguments)}(Li,Vi[n.app.options.appId],e,t,r).catch(i=>fn.error(i))}(t,r,i,o)}}catch(t){throw lr.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),Nt(zL,"0.10.8"),Nt(zL,"0.10.8","esm2017")}();class Fse extends q{constructor(e,t){super()}schedule(e,t=0){return this}}const lm={setInterval(n,e,...t){const{delegate:r}=lm;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=lm;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class GL extends Fse{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return lm.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&lm.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Le(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const WL={now:()=>(WL.delegate||Date).now(),delegate:void 0};class ih{constructor(e,t=ih.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}ih.now=WL.now;class KL extends ih{constructor(e,t=ih.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const Use=new class Lse extends KL{}(class Vse extends GL{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),CI=new KL(GL),jse=CI,dm=new Lc("7.6.1"),wI="__angularfire_symbol__analyticsIsSupportedValue",II="__angularfire_symbol__analyticsIsSupported",EI="__angularfire_symbol__remoteConfigIsSupportedValue",TI="__angularfire_symbol__remoteConfigIsSupported",PI="__angularfire_symbol__messagingIsSupportedValue",MI="__angularfire_symbol__messagingIsSupported";function SI(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[II]||(globalThis[II]=kse().then(n=>globalThis[wI]=n).catch(()=>globalThis[wI]=!1)),globalThis[MI]||(globalThis[MI]=RL().then(n=>globalThis[PI]=n).catch(()=>globalThis[PI]=!1)),globalThis[TI]||(globalThis[TI]=doe().then(n=>globalThis[EI]=n).catch(()=>globalThis[EI]=!1));const xI=(n,e)=>{const t=e?[e]:QV(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};function wu(){}class QL{constructor(e,t=Use){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},t,r)}}class $se{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",wu,{},wu,wu)),t.pipe(at({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let OI=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new QL(Zone.current)),this.insideAngular=t.run(()=>new QL(Zone.current,CI)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(le(Xe))},n.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ca(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function wa(n){return Ca().ngZone.run(()=>n())}function Hse(n){return Ca(),function zse(n){return function(t){return(t=t.lift(new $se(n.ngZone))).pipe(Vf(n.outsideAngular),Ff(n.insideAngular))}}(Ca())(n)}const qse=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),wa(()=>n.apply(void 0,r))},DI=(n,e)=>function(){let t;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(t||(t=wa(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",wu,{},wu,wu)))),r[o]=qse(r[o],t));const i=function Bse(n){return Ca().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof Mt){const o=Ca();return i.pipe(Vf(o.outsideAngular),Ff(o.insideAngular))}return wa(()=>i)}return i instanceof Mt?i.pipe(Hse):i instanceof Promise?wa(()=>new Promise((o,s)=>i.then(a=>wa(()=>o(a)),a=>wa(()=>s(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:wa(()=>i)};class Iu{constructor(e){return e}}class kI{constructor(){return QV()}}const RI=new ue("angularfire2._apps"),Wse={provide:Iu,useFactory:function Gse(n){return n&&1===n.length?n[0]:new Iu(j0())},deps:[[new rr,RI]]},Kse={provide:kI,deps:[[new rr,RI]]};function Qse(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Iu(r)}}let Yse=(()=>{class n{constructor(t){Nt("angularfire",dm.full,"core"),Nt("angularfire",dm.full,"app"),Nt("angular",lD.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(le(co))},n.\u0275mod=li({type:n}),n.\u0275inj=qr({providers:[Wse,Kse]}),n})();const Xse=DI(KV,!0),NI=new Map,YL={activated:!1,tokenObservers:[]},Zse={initialized:!1,enabled:!1};function $t(n){return NI.get(n)||Object.assign({},YL)}function hm(){return Zse}const FI="https://content-firebaseappcheck.googleapis.com/v1",rae="exchangeDebugToken",JL={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class oae{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return v(function*(){t.stop();try{t.pending=new Zg,t.pending.promise.catch(r=>{}),yield function sae(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Zg,t.pending.promise.catch(r=>{}),yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const An=new Fi("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function VI(n){if(!$t(n).activated)throw An.create("use-before-activation",{appName:n.name})}function gm(n,e){return UI.apply(this,arguments)}function UI(){return(UI=v(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const h=yield i.getHeartbeatsHeader();h&&(r["X-Firebase-Client"]=h)}const o={method:"POST",body:JSON.stringify(e),headers:r};let s,a;try{s=yield fetch(n,o)}catch(h){throw An.create("fetch-network-error",{originalErrorMessage:h?.message})}if(200!==s.status)throw An.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(h){throw An.create("fetch-parse-error",{originalErrorMessage:h?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw An.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=1e3*Number(c[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+u,issuedAtTimeMillis:l}})).apply(this,arguments)}function XL(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${FI}/projects/${t}/apps/${r}:${rae}?key=${i}`,body:{debug_token:e}}}const lae="firebase-app-check-database",dae=1,oh="firebase-app-check-store";let mm=null;function jI(){return(jI=v(function*(n,e){const r=(yield function e5(){return mm||(mm=new Promise((n,e)=>{try{const t=indexedDB.open(lae,dae);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(An.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(oh,{keyPath:"compositeKey"})}}catch(t){e(An.create("storage-open",{originalErrorMessage:t?.message}))}}),mm)}()).transaction(oh,"readwrite"),o=r.objectStore(oh).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var u;a(An.create("storage-set",{originalErrorMessage:null===(u=c.target.error)||void 0===u?void 0:u.message}))}})})).apply(this,arguments)}const sh=new yu("@firebase/app-check");function HI(n,e){return fs()?function fae(n,e){return function t5(n,e){return jI.apply(this,arguments)}(function r5(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{sh.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function qI(){return hm().enabled}function GI(){return WI.apply(this,arguments)}function WI(){return(WI=v(function*(){const n=hm();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const vae={error:"UNKNOWN_ERROR"};function bae(n){return T0.encodeString(JSON.stringify(n),!1)}function _m(n){return KI.apply(this,arguments)}function KI(){return(KI=v(function*(n,e=!1){const t=n.app;VI(t);const r=$t(t);let o,i=r.token;if(i&&!Eu(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(Eu(c)?i=c:yield HI(t,void 0))}if(!e&&i&&Eu(i))return{token:i.token};let a,s=!1;if(qI()){r.exchangeTokenPromise||(r.exchangeTokenPromise=gm(XL(t,yield GI()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);const c=yield r.exchangeTokenPromise;return yield HI(t,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield $t(t).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?sh.warn(c.message):sh.error(c),o=c}return i?o?a=Eu(i)?{token:i.token,internalError:o}:a5(o):(a={token:i.token},r.token=i,yield HI(t,i)):a=a5(o),s&&function s5(n,e){const t=$t(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,a),a})).apply(this,arguments)}function i5(n){return QI.apply(this,arguments)}function QI(){return(QI=v(function*(n){const e=n.app;VI(e);const{provider:t}=$t(e);if(qI()){const r=yield GI(),{token:i}=yield gm(XL(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function JI(n,e){const t=$t(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function o5(n){const{app:e}=n,t=$t(e);let r=t.tokenRefresher;r||(r=function Cae(n){const{app:e}=n;return new oae(v(function*(){let r;if(r=$t(e).token?yield _m(n,!0):yield _m(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=$t(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},JL.RETRIAL_MIN_WAIT,JL.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Eu(n){return n.expireTimeMillis-Date.now()>0}function a5(n){return{token:bae(vae),error:n}}class wae{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=$t(this.app);for(const t of e)JI(this.app,t.next);return Promise.resolve()}}const g5="app-check-internal";!function Fae(){ur(new Un("app-check",n=>function Iae(n,e){return new wae(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(g5).initialize()})),ur(new Un(g5,n=>function Eae(n){return{getToken:e=>_m(n,e),getLimitedUseToken:()=>i5(n),addTokenListener:e=>function YI(n,e,t,r){const{app:i}=n,o=$t(i);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:r,type:e}],o.token&&Eu(o.token)){const a=o.token;Promise.resolve().then(()=>{t({token:a.token}),o5(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>o5(n))}(n,"INTERNAL",e),removeTokenListener:e=>JI(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Nt("@firebase/app-check","0.8.8")}();class tE{constructor(){return xI("app-check")}}typeof window<"u"&&window;const $ae=function _5(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},y5=new Fi("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),vm=new yu("@firebase/auth");function bm(n,...e){vm.logLevel<=He.ERROR&&vm.error(`Auth (${ma}): ${n}`,...e)}function Ir(n,...e){throw iE(n,...e)}function ni(n,...e){return iE(n,...e)}function rE(n,e,t){const r=Object.assign(Object.assign({},$ae()),{[e]:t});return new Fi("auth","Firebase",r).create(e,{appName:n.name})}function pn(n){return rE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function iE(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return y5.create(n,...e)}function re(n,e,...t){if(!n)throw iE(e,...t)}function Ui(n){const e="INTERNAL ASSERTION FAILED: "+n;throw bm(e),new Error(e)}function gs(n,e){n||Ui(e)}function ah(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function v5(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class ch{constructor(e,t){this.shortDelay=e,this.longDelay=t,gs(t>e,"Short delay should be less than long delay!"),this.isMobile=function Ane(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}()||function Dne(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Hae(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function oE(){return"http:"===v5()||"https:"===v5()}()||P0()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function sE(n,e){gs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class b5{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qae={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Gae=new ch(3e4,6e4);function Ct(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function wt(n,e,t,r){return aE.apply(this,arguments)}function aE(){return(aE=v(function*(n,e,t,r,i={}){return C5(n,i,v(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=Zd(Object.assign({key:n.config.apiKey},s)).slice(1),c=yield n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const u=Object.assign({method:e,headers:c},o);return function One(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}()||(u.referrerPolicy="no-referrer"),b5.fetch()(w5(n,n.config.apiHost,t,a),u)}))})).apply(this,arguments)}function C5(n,e,t){return cE.apply(this,arguments)}function cE(){return(cE=v(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},qae),e);try{const i=new Kae(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw uh(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw uh(n,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw uh(n,"email-already-in-use",s);if("USER_DISABLED"===c)throw uh(n,"user-disabled",s);const l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw rE(n,l,u);Ir(n,l)}}catch(i){if(i instanceof ei)throw i;Ir(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function uE(){return(uE=v(function*(n,e,t,r,i={}){const o=yield wt(n,e,t,r,i);return"mfaPendingCredential"in o&&Ir(n,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function w5(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?sE(n.config,i):`${n.config.apiScheme}://${i}`}class Kae{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ni(this.auth,"network-request-failed")),Gae.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function uh(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=ni(n,e,r);return i.customData._tokenResponse=t,i}function hE(){return(hE=v(function*(n,e){return wt(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function M5(n,e){return pE.apply(this,arguments)}function pE(){return(pE=v(function*(n,e){return wt(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function lh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function gE(){return(gE=v(function*(n,e=!1){const t=Pn(n),r=yield t.getIdToken(e),i=Cm(r);re(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:lh(mE(i.auth_time)),issuedAtTime:lh(mE(i.iat)),expirationTime:lh(mE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function mE(n){return 1e3*Number(n)}function Cm(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return bm("JWT malformed, contained fewer than 3 sections"),null;try{const i=Jg(t);return i?JSON.parse(i):(bm("Failed to decode base64 JWT payload"),null)}catch(i){return bm("Caught error parsing JWT payload as JSON",i?.toString()),null}}function A5(n){const e=Cm(n);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function So(n,e){return _E.apply(this,arguments)}function _E(){return(_E=v(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof ei&&function Zae({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class ece{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(v(function*(){yield t.iteration()}),r)}iteration(){var e=this;return v(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class yE{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=lh(this.lastLoginAt),this.creationTime=lh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function dh(n){return vE.apply(this,arguments)}function vE(){return(vE=v(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield So(n,M5(t,{idToken:r}));re(i?.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?S5(o.providerUserInfo):[],a=function nce(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,s),l=!!n.isAnonymous&&!(n.email&&o.passwordHash||a?.length),h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new yE(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(n,h)})).apply(this,arguments)}function bE(){return(bE=v(function*(n){const e=Pn(n);yield dh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function S5(n){return n.map(e=>{var{providerId:t}=e,r=Nf(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function CE(){return(CE=v(function*(n,e){const t=yield C5(n,{},v(function*(){const r=Zd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=w5(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",b5.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}function wE(){return(wE=v(function*(n,e){return wt(n,"POST","/v2/accounts:revokeToken",Ct(n,e))})).apply(this,arguments)}class Pu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):A5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){re(0!==e.length,"internal-error");const t=A5(e);this.updateTokensAndExpiration(e,null,t)}getToken(e){var t=this;return v(function*(r,i=!1){return i||!t.accessToken||t.isExpired?(re(t.refreshToken,r,"user-token-expired"),t.refreshToken?(yield t.refresh(r,t.refreshToken),t.accessToken):null):t.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return v(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function rce(n,e){return CE.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new Pu;return r&&(re("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(re("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(re("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pu,this.toJSON())}_performRefresh(){return Ui("not implemented")}}function ms(n,e){re("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class xo{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Nf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ece(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new yE(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var t=this;return v(function*(){const r=yield So(t,t.stsTokenManager.getToken(t.auth,e));return re(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function Xae(n){return gE.apply(this,arguments)}(this,e)}reload(){return function tce(n){return bE.apply(this,arguments)}(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new xo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e){var t=this;return v(function*(r,i=!1){let o=!1;r.idToken&&r.idToken!==t.stsTokenManager.accessToken&&(t.stsTokenManager.updateFromServerResponse(r),o=!0),i&&(yield dh(t)),yield t.auth._persistUserIfCurrent(t),o&&t.auth._notifyListenersIfCurrent(t)}).apply(this,arguments)}delete(){var e=this;return v(function*(){if(ps(e.auth.app))return Promise.reject(pn(e.auth));const t=yield e.getIdToken();return yield So(e,function Yae(n,e){return hE.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,u,l;const h=null!==(r=t.displayName)&&void 0!==r?r:void 0,f=null!==(i=t.email)&&void 0!==i?i:void 0,g=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,b=null!==(s=t.photoURL)&&void 0!==s?s:void 0,I=null!==(a=t.tenantId)&&void 0!==a?a:void 0,E=null!==(c=t._redirectEventId)&&void 0!==c?c:void 0,S=null!==(u=t.createdAt)&&void 0!==u?u:void 0,M=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:V,emailVerified:$,isAnonymous:z,providerData:ne,stsTokenManager:O}=t;re(V&&O,e,"internal-error");const P=Pu.fromJSON(this.name,O);re("string"==typeof V,e,"internal-error"),ms(h,e.name),ms(f,e.name),re("boolean"==typeof $,e,"internal-error"),re("boolean"==typeof z,e,"internal-error"),ms(g,e.name),ms(b,e.name),ms(I,e.name),ms(E,e.name),ms(S,e.name),ms(M,e.name);const A=new xo({uid:V,auth:e,email:f,emailVerified:$,displayName:h,isAnonymous:z,photoURL:b,phoneNumber:g,tenantId:I,stsTokenManager:P,createdAt:S,lastLoginAt:M});return ne&&Array.isArray(ne)&&(A.providerData=ne.map(k=>Object.assign({},k))),E&&(A._redirectEventId=E),A}static _fromIdTokenResponse(e,t){return v(function*(r,i,o=!1){const s=new Pu;s.updateFromServerResponse(i);const a=new xo({uid:i.localId,auth:r,stsTokenManager:s,isAnonymous:o});return yield dh(a),a}).apply(this,arguments)}static _fromGetAccountInfoResponse(e,t,r){return v(function*(){const i=t.users[0];re(void 0!==i.localId,"internal-error");const o=void 0!==i.providerUserInfo?S5(i.providerUserInfo):[],s=!(i.email&&i.passwordHash||o?.length),a=new Pu;a.updateFromIdToken(r);const c=new xo({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new yE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash||o?.length)};return Object.assign(c,u),c})()}}const x5=new Map;function Oo(n){gs(n instanceof Function,"Expected a class definition");let e=x5.get(n);return e?(gs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,x5.set(n,e),e)}const O5=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(function*(){return!0})()}_set(t,r){var i=this;return v(function*(){i.storage[t]=r})()}_get(t){var r=this;return v(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return v(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function wm(n,e,t){return`firebase:${n}:${e}:${t}`}class Mu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=wm(this.userKey,i.apiKey,o),this.fullPersistenceKey=wm("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return v(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?xo._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return v(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t){return v(function*(r,i,o="authUser"){if(!i.length)return new Mu(Oo(O5),r,o);const s=(yield Promise.all(i.map(function(){var h=v(function*(f){if(yield f._isAvailable())return f});return function(f){return h.apply(this,arguments)}}()))).filter(h=>h);let a=s[0]||Oo(O5);const c=wm(o,r.config.apiKey,r.name);let u=null;for(const h of i)try{const f=yield h._get(c);if(f){const g=xo._fromJSON(r,f);h!==a&&(u=g),a=h;break}}catch{}const l=s.filter(h=>h._shouldAllowMigration);return a._shouldAllowMigration&&l.length?(a=l[0],u&&(yield a._set(c,u.toJSON())),yield Promise.all(i.map(function(){var h=v(function*(f){if(f!==a)try{yield f._remove(c)}catch{}});return function(f){return h.apply(this,arguments)}}())),new Mu(a,r,o)):new Mu(a,r,o)}).apply(this,arguments)}}function D5(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(F5(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(k5(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(L5(e))return"Blackberry";if(U5(e))return"Webos";if(R5(e))return"Safari";if((e.includes("chrome/")||N5(e))&&!e.includes("edge/"))return"Chrome";if(V5(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function k5(n=Wt()){return/firefox\//i.test(n)}function R5(n=Wt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function N5(n=Wt()){return/crios\//i.test(n)}function F5(n=Wt()){return/iemobile/i.test(n)}function V5(n=Wt()){return/android/i.test(n)}function L5(n=Wt()){return/blackberry/i.test(n)}function U5(n=Wt()){return/webos/i.test(n)}function IE(n=Wt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function j5(n=Wt()){return IE(n)||V5(n)||U5(n)||L5(n)||/windows phone/i.test(n)||F5(n)}function $5(n,e=[]){let t;switch(n){case"Browser":t=D5(Wt());break;case"Worker":t=`${D5(Wt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ma}/${r}`}class ace{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return v(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function EE(){return(EE=v(function*(n,e={}){return wt(n,"GET","/v2/passwordPolicy",Ct(n,e))})).apply(this,arguments)}class lce{constructor(e){var t,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=null===(t=c.meetsMinPasswordLength)||void 0===t||t),c.isValid&&(c.isValid=null===(r=c.meetsMaxPasswordLength)||void 0===r||r),c.isValid&&(c.isValid=null===(i=c.containsLowercaseLetter)||void 0===i||i),c.isValid&&(c.isValid=null===(o=c.containsUppercaseLetter)||void 0===o||o),c.isValid&&(c.isValid=null===(s=c.containsNumericCharacter)||void 0===s||s),c.isValid&&(c.isValid=null===(a=c.containsNonAlphanumericCharacter)||void 0===a||a),c}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class dce{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new B5(this),this.idTokenSubscription=new B5(this),this.beforeStateQueue=new ace(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=y5,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=Oo(t)),this._initializationPromise=this.queue(v(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Mu.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return v(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUserFromIdToken(e){var t=this;return v(function*(){try{const r=yield M5(t,{idToken:e}),i=yield xo._fromGetAccountInfoResponse(t,r,e);yield t.directlySetCurrentUser(i)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),yield t.directlySetCurrentUser(null)}})()}initializeCurrentUser(e){var t=this;return v(function*(){var r;if(ps(t.app)){const a=t.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>t.initializeCurrentUserFromIdToken(a).then(c,c))}):t.directlySetCurrentUser(null)}const i=yield t.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,c=o?._redirectEventId,u=yield t.tryRedirectSignIn(e);(!a||a===c)&&u?.user&&(o=u.user,s=!0)}if(!o)return t.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield t.beforeStateQueue.runMiddleware(o)}catch(a){o=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return o?t.reloadAndSetCurrentUserOrClear(o):t.directlySetCurrentUser(null)}return re(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===o._redirectEventId?t.directlySetCurrentUser(o):t.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var t=this;return v(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return v(function*(){try{yield dh(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function zae(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return v(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return v(function*(){if(ps(t.app))return Promise.reject(pn(t));const r=e?Pn(e):null;return r&&re(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e){var t=this;return v(function*(r,i=!1){if(!t._deleted)return r&&re(t.tenantId===r.tenantId,t,"tenant-id-mismatch"),i||(yield t.beforeStateQueue.runMiddleware(r)),t.queue(v(function*(){yield t.directlySetCurrentUser(r),t.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var e=this;return v(function*(){return ps(e.app)?Promise.reject(pn(e)):(yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0))})()}setPersistence(e){var t=this;return ps(this.app)?Promise.reject(pn(this)):this.queue(v(function*(){yield t.assertedPersistence.setPersistence(Oo(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return v(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return v(function*(){const t=yield function cce(n){return EE.apply(this,arguments)}(e),r=new lce(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Fi("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){var t=this;return v(function*(){if(t.currentUser){const r=yield t.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=t.tenantId&&(i.tenantId=t.tenantId),yield function ice(n,e){return wE.apply(this,arguments)}(t,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return v(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return v(function*(){if(!t.redirectPersistenceManager){const r=e&&Oo(e)||t._popupRedirectResolver;re(r,t,"argument-error"),t.redirectPersistenceManager=yield Mu.create(t,[Oo(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return v(function*(){var r,i;return t._isInitialized&&(yield t.queue(v(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return v(function*(){if(e===t.currentUser)return t.queue(v(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof t){const c=e.addObserver(t,r,i);return()=>{s=!0,c()}}{const c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){var t=this;return v(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$5(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return v(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return v(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function Bae(n,...e){vm.logLevel<=He.WARN&&vm.warn(`Auth (${ma}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Kt(n){return Pn(n)}class B5{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Lne(n,e){const t=new Une(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let hh={loadJS:()=>v(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function H5(n){return`__${n}${Math.floor(1e6*Math.random())}`}function G5(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function W5(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class ph{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ui("not implemented")}_getIdTokenResponse(e){return Ui("not implemented")}_linkToIdToken(e,t){return Ui("not implemented")}_getReauthenticationResolver(e){return Ui("not implemented")}}function Do(n,e){return BE.apply(this,arguments)}function BE(){return(BE=v(function*(n,e){return function Ao(n,e,t,r){return uE.apply(this,arguments)}(n,"POST","/v1/accounts:signInWithIdp",Ct(n,e))})).apply(this,arguments)}class ko{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Bce extends ko{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ri{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r){return v(function*(i,o,s,a=!1){const c=yield xo._fromIdTokenResponse(i,s,a),u=J5(s);return new ri({user:c,providerId:u,_tokenResponse:s,operationType:o})}).apply(this,arguments)}static _forOperation(e,t,r){return v(function*(){yield e._updateTokensIfNecessary(r,!0);const i=J5(r);return new ri({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function J5(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Pm extends ei{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Pm.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Pm(e,t,r,i)}}function X5(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?Pm._fromErrorAndOperation(n,o,e,r):o})}function XE(){return(XE=v(function*(n,e,t=!1){const r=yield So(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return ri._forOperation(n,"link",r)})).apply(this,arguments)}function eT(){return(eT=v(function*(n,e,t=!1){const{auth:r}=n;if(ps(r.app))return Promise.reject(pn(r));const i="reauthenticate";try{const o=yield So(n,X5(r,i,e,n),t);re(o.idToken,r,"internal-error");const s=Cm(o.idToken);re(s,r,"internal-error");const{sub:a}=s;return re(n.uid===a,r,"user-mismatch"),ri._forOperation(n,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&Ir(r,"user-mismatch"),o}})).apply(this,arguments)}function tT(){return(tT=v(function*(n,e,t=!1){if(ps(n.app))return Promise.reject(pn(n));const r="signIn",i=yield X5(n,r,e),o=yield ri._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})).apply(this,arguments)}const Sm="__sak";class i4{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Sm,"1"),this.storage.removeItem(Sm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const lue=(()=>{class n extends i4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=j5(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});const i=t.key;r?this.detachListener():this.stopPolling();const o=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);!function sce(){return function kne(){const n=Wt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===t.newValue||t.newValue===t.oldValue?o():setTimeout(o,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,o=this;return v(function*(){yield i().call(o,t,r),o.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return v(function*(){const o=yield r().call(i,t);return i.localCache[t]=JSON.stringify(o),o})()}_remove(t){var r=()=>super._remove,i=this;return v(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),o4=(()=>{class n extends i4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let hue=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return v(function*(){const i=t,{eventId:o,eventType:s,data:a}=i.data,c=r.handlersMap[s];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const u=Array.from(c).map(function(){var h=v(function*(f){return f(i.origin,a)});return function(f){return h.apply(this,arguments)}}()),l=yield function due(n){return Promise.all(n.map(function(){var e=v(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(u);i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:l})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function DT(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class fue{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t){var r=this;return v(function*(i,o,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let c,u;return new Promise((l,h)=>{const f=DT("",20);a.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(b){const I=b;if(I.data.eventId===f)switch(I.data.status){case"ack":clearTimeout(g),c=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),l(I.data.response);break;default:clearTimeout(g),clearTimeout(c),h(new Error("invalid_response"))}}},r.handlers.add(u),a.port1.addEventListener("message",u.onMessage),r.target.postMessage({eventType:i,eventId:f,data:o},[a.port2])}).finally(()=>{u&&r.removeMessageHandler(u)})}).apply(this,arguments)}}function en(){return window}function kT(){return typeof en().WorkerGlobalScope<"u"&&"function"==typeof en().importScripts}function RT(){return(RT=v(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const s4="firebaseLocalStorageDb",xm="firebaseLocalStorage",a4="fbase_key";class vh{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Om(n,e){return n.transaction([xm],e?"readwrite":"readonly").objectStore(xm)}function NT(){const n=indexedDB.open(s4,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(xm,{keyPath:a4})}catch(i){t(i)}}),n.addEventListener("success",v(function*(){const r=n.result;r.objectStoreNames.contains(xm)?e(r):(r.close(),yield function vue(){const n=indexedDB.deleteDatabase(s4);return new vh(n).toPromise()}(),e(yield NT()))}))})}function c4(n,e,t){return FT.apply(this,arguments)}function FT(){return(FT=v(function*(n,e,t){const r=Om(n,!0).put({[a4]:e,value:t});return new vh(r).toPromise()})).apply(this,arguments)}function VT(){return(VT=v(function*(n,e){const t=Om(n,!1).get(e),r=yield new vh(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function u4(n,e){const t=Om(n,!0).delete(e);return new vh(t).toPromise()}const Iue=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return v(function*(){return t.db||(t.db=yield NT()),t.db})()}_withRetries(t){var r=this;return v(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield t(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return v(function*(){return kT()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return v(function*(){t.receiver=hue._getInstance(function _ue(){return kT()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=v(function*(i,o){return{keyProcessed:(yield t._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=v(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return v(function*(){var r,i;if(t.activeServiceWorker=yield function gue(){return RT.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new fue(t.activeServiceWorker);const o=yield t.sender._send("ping",{},800);o&&null!==(r=o[0])&&void 0!==r&&r.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return v(function*(){if(r.sender&&r.activeServiceWorker&&function mue(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return v(function*(){try{if(!indexedDB)return!1;const t=yield NT();return yield c4(t,Sm,"1"),yield u4(t,Sm),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return v(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return v(function*(){return i._withPendingWrite(v(function*(){return yield i._withRetries(o=>c4(o,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return v(function*(){const i=yield r._withRetries(o=>function bue(n,e){return VT.apply(this,arguments)}(o,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return v(function*(){return r._withPendingWrite(v(function*(){return yield r._withRetries(i=>u4(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return v(function*(){const r=yield t._withRetries(s=>{const a=Om(s,!1).getAll();return new vh(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],o=new Set;if(0!==r.length)for(const{fbase_key:s,value:a}of r)o.add(s),JSON.stringify(t.localCache[s])!==JSON.stringify(a)&&(t.notifyListeners(s,a),i.push(s));for(const s of Object.keys(t.localCache))t.localCache[s]&&!o.has(s)&&(t.notifyListeners(s,null),i.push(s));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(v(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();H5("rcb"),new ch(3e4,6e4);class GT extends ph{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Do(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Do(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Do(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Lue(n){return function t4(n,e){return tT.apply(this,arguments)}(n.auth,new GT(n),n.bypassAuthState)}function Uue(n){const{auth:e,user:t}=n;return re(t,e,"internal-error"),function e4(n,e){return eT.apply(this,arguments)}(t,new GT(n),n.bypassAuthState)}function jue(n){return WT.apply(this,arguments)}function WT(){return(WT=v(function*(n){const{auth:e,user:t}=n;return re(t,e,"internal-error"),function JE(n,e){return XE.apply(this,arguments)}(t,new GT(n),n.bypassAuthState)})).apply(this,arguments)}class $ue{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=v(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return v(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:s,error:a,type:c}=e;if(a)return void t.reject(a);const u={auth:t.auth,requestUri:r,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(c)(u))}catch(l){t.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Lue;case"linkViaPopup":case"linkViaRedirect":return jue;case"reauthViaPopup":case"reauthViaRedirect":return Uue;default:Ir(this.auth,"internal-error")}}resolve(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new ch(2e3,1e4);const Bue="pendingRedirect",bh=new Map;class Hue extends $ue{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return v(function*(){let r=bh.get(t.auth._key());if(!r){try{const o=(yield function zue(n,e){return XT.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}bh.set(t.auth._key(),r)}return t.bypassAuthState||bh.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return v(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return v(function*(){})()}cleanUp(){}}function XT(){return(XT=v(function*(n,e){const t=function h4(n){return wm(Bue,n.config.apiKey,n.name)}(e),r=function d4(n){return Oo(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function que(n,e){bh.set(n._key(),e)}function f4(n,e){return oP.apply(this,arguments)}function oP(){return(oP=v(function*(n,e,t=!1){if(ps(n.app))return Promise.reject(pn(n));const r=Kt(n),i=function Ea(n,e){return e?Oo(e):(re(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(r,e),s=yield new Hue(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})).apply(this,arguments)}class Yue{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Jue(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return m4(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!m4(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(ni(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(g4(e))}saveEventToCache(e){this.cachedEventUids.add(g4(e)),this.lastProcessedEventTime=Date.now()}}function g4(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function m4({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function aP(){return(aP=v(function*(n,e={}){return wt(n,"GET","/v1/projects",e)})).apply(this,arguments)}const Zue=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ele=/^https?/;function cP(){return cP=v(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function Xue(n){return aP.apply(this,arguments)}(n);for(const t of e)try{if(nle(t))return}catch{}Ir(n,"unauthorized-domain")}),cP.apply(this,arguments)}function nle(n){const e=ah(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const s=new URL(n);return""===s.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&s.hostname===r}if(!ele.test(t))return!1;if(Zue.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const rle=new ch(3e4,6e4);function _4(){const n=en().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}function ile(n){return new Promise((e,t)=>{var r,i,o;function s(){_4(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_4(),t(ni(n,"network-request-failed"))},timeout:rle.get()})}if(null!==(i=null===(r=en().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(o=en().gapi)||void 0===o||!o.load){const a=H5("iframefcb");return en()[a]=()=>{gapi.load?s():t(ni(n,"network-request-failed"))},function TE(n){return hh.loadJS(n)}(`${function gce(){return hh.gapiScript}()}?onload=${a}`).catch(c=>t(c))}s()}}).catch(e=>{throw km=null,e})}let km=null;const sle=new ch(5e3,15e3),ale="__/auth/iframe",cle="emulator/auth/iframe",ule={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lle=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dle(n){const e=n.config;re(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?sE(e,cle):`https://${n.config.authDomain}/${ale}`,r={apiKey:e.apiKey,appName:n.name,v:ma},i=lle.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Zd(r).slice(1)}`}function uP(){return uP=v(function*(n){const e=yield function ole(n){return km=km||ile(n),km}(n),t=en().gapi;return re(t,n,"internal-error"),e.open({where:document.body,url:dle(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ule,dontclear:!0},r=>new Promise(function(){var i=v(function*(o,s){yield r.restyle({setHideOnLeave:!1});const a=ni(n,"network-request-failed"),c=en().setTimeout(()=>{s(a)},sle.get());function u(){en().clearTimeout(c),o(r)}r.ping(u).then(u,()=>{s(a)})});return function(o,s){return i.apply(this,arguments)}}()))}),uP.apply(this,arguments)}const fle={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class y4{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const ble="__/auth/handler",Cle="emulator/auth/handler",wle=encodeURIComponent("fac");function v4(n,e,t,r,i,o){return lP.apply(this,arguments)}function lP(){return(lP=v(function*(n,e,t,r,i,o){re(n.config.authDomain,n,"auth-domain-config-required"),re(n.config.apiKey,n,"invalid-api-key");const s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ma,eventId:i};if(e instanceof ko){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",function Vne(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,h]of Object.entries(o||{}))s[l]=h}if(e instanceof Bce){const l=e.getScopes().filter(h=>""!==h);l.length>0&&(s.scopes=l.join(","))}n.tenantId&&(s.tid=n.tenantId);const a=s;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const c=yield n._getAppCheckToken(),u=c?`#${wle}=${encodeURIComponent(c)}`:"";return`${function Ile({config:n}){return n.emulator?sE(n,Cle):`https://${n.authDomain}/${ble}`}(n)}?${Zd(a).slice(1)}${u}`})).apply(this,arguments)}const dP="webStorageSupport",Tle=class Ele{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=o4,this._completeRedirectFn=f4,this._overrideRedirectResult=que}_openPopup(e,t,r,i){var o=this;return v(function*(){var s;gs(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield v4(e,t,r,ah(),i);return function yle(n,e,t,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},fle),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Wt().toLowerCase();t&&(a=N5(u)?"_blank":t),k5(u)&&(e=e||"http://localhost",c.scrollbars="yes");const l=Object.entries(c).reduce((f,[g,b])=>`${f}${g}=${b},`,"");if(function oce(n=Wt()){var e;return IE(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==a)return function vle(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new y4(null);const h=window.open(e||"",a,l);re(h,n,"popup-blocked");try{h.focus()}catch{}return new y4(h)}(e,a,DT())})()}_openRedirect(e,t,r,i){var o=this;return v(function*(){return yield o._originValidation(e),function pue(n){en().location.href=n}(yield v4(e,t,r,ah(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(gs(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return v(function*(){const r=yield function hle(n){return uP.apply(this,arguments)}(e),i=new Yue(e);return r.register("authEvent",o=>(re(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(dP,{type:dP},i=>{var o;const s=null===(o=i?.[0])||void 0===o?void 0:o[dP];void 0!==s&&t(!!s),Ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function tle(n){return cP.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return j5()||R5()||IE()}};var I4="@firebase/auth";class Ple{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return v(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const xle=FV("authIdTokenMaxAge")||300;let T4=null;const Ole=n=>function(){var e=v(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>xle)return;const o=r?.token;T4!==o&&(T4=o,yield fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function Dle(n=j0()){const e=vu(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function vce(n,e){const t=vu(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(_u(t.getOptions(),e??{}))return i;Ir(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:Tle,persistence:[Iue,lue,o4]}),r=FV("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=Ole(o.toString());(function rue(n,e,t){Pn(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),function nue(n,e,t,r){Pn(n).onIdTokenChanged(e,t,r)}(t,a=>s(a))}}const i=RV("auth");return i&&function Cce(n,e,t){const r=Kt(n);re(r._canInitEmulator,r,"emulator-config-failed"),re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,o=G5(e),{host:s,port:a}=function wce(n){const e=G5(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:W5(r.substr(o.length+1))}}{const[o,s]=r.split(":");return{host:o,port:W5(s)}}}(e);r.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Ice(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}(function hce(n){hh=n})({loadJS:n=>new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=ni("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",function kle(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Ale(n){ur(new Un("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;re(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$5(n)},u=new dce(r,i,o,c);return function bce(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Oo);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ur(new Un("auth-internal",e=>{const t=Kt(e.getProvider("auth").getImmediate());return new Ple(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nt(I4,"1.7.9",function Mle(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(n)),Nt(I4,"1.7.9","esm2017")}("Browser");class fP{constructor(e){return e}}class M4{constructor(){return xI("auth")}}const pP=new ue("angularfire2.auth-instances");function Nle(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new fP(r)}}const Fle={provide:M4,deps:[[new rr,pP]]},Vle={provide:fP,useFactory:function Rle(n,e){const t=SI("auth",n,e);return t&&new fP(t)},deps:[[new rr,pP],Iu]};let Lle=(()=>{class n{constructor(){Nt("angularfire",dm.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=li({type:n}),n.\u0275inj=qr({providers:[Vle,Fle]}),n})();const jle=DI(Dle,!0);var Ta,A4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},S4={};(function(){var n;function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function i(O,P,A){A||(A=0);var k=Array(16);if("string"==typeof P)for(var R=0;16>R;++R)k[R]=P.charCodeAt(A++)|P.charCodeAt(A++)<<8|P.charCodeAt(A++)<<16|P.charCodeAt(A++)<<24;else for(R=0;16>R;++R)k[R]=P[A++]|P[A++]<<8|P[A++]<<16|P[A++]<<24;var L=O.g[3],x=(P=O.g[0])+(L^(A=O.g[1])&((R=O.g[2])^L))+k[0]+3614090360&4294967295;x=(A=(R=(L=(P=(A=(R=(L=(P=(A=(R=(L=(P=(A=(R=(L=(P=(A=(R=(L=(P=(A=(R=(L=(P=(A=(R=(L=(P=(A=(R=(L=(P=(A=(R=(L=(P=(A=(R=(L=(P=(A=(R=(L=(P=(A=(R=(L=(P=(A=(R=(L=(P=(A=(R=(L=(P=(A=(R=(L=(P=A+(x<<7&4294967295|x>>>25))+((x=L+(R^P&(A^R))+k[1]+3905402710&4294967295)<<12&4294967295|x>>>20))+((x=R+(A^L&(P^A))+k[2]+606105819&4294967295)<<17&4294967295|x>>>15))+((x=A+(P^R&(L^P))+k[3]+3250441966&4294967295)<<22&4294967295|x>>>10))+((x=P+(L^A&(R^L))+k[4]+4118548399&4294967295)<<7&4294967295|x>>>25))+((x=L+(R^P&(A^R))+k[5]+1200080426&4294967295)<<12&4294967295|x>>>20))+((x=R+(A^L&(P^A))+k[6]+2821735955&4294967295)<<17&4294967295|x>>>15))+((x=A+(P^R&(L^P))+k[7]+4249261313&4294967295)<<22&4294967295|x>>>10))+((x=P+(L^A&(R^L))+k[8]+1770035416&4294967295)<<7&4294967295|x>>>25))+((x=L+(R^P&(A^R))+k[9]+2336552879&4294967295)<<12&4294967295|x>>>20))+((x=R+(A^L&(P^A))+k[10]+4294925233&4294967295)<<17&4294967295|x>>>15))+((x=A+(P^R&(L^P))+k[11]+2304563134&4294967295)<<22&4294967295|x>>>10))+((x=P+(L^A&(R^L))+k[12]+1804603682&4294967295)<<7&4294967295|x>>>25))+((x=L+(R^P&(A^R))+k[13]+4254626195&4294967295)<<12&4294967295|x>>>20))+((x=R+(A^L&(P^A))+k[14]+2792965006&4294967295)<<17&4294967295|x>>>15))+((x=A+(P^R&(L^P))+k[15]+1236535329&4294967295)<<22&4294967295|x>>>10))+((x=P+(R^L&(A^R))+k[1]+4129170786&4294967295)<<5&4294967295|x>>>27))+((x=L+(A^R&(P^A))+k[6]+3225465664&4294967295)<<9&4294967295|x>>>23))+((x=R+(P^A&(L^P))+k[11]+643717713&4294967295)<<14&4294967295|x>>>18))+((x=A+(L^P&(R^L))+k[0]+3921069994&4294967295)<<20&4294967295|x>>>12))+((x=P+(R^L&(A^R))+k[5]+3593408605&4294967295)<<5&4294967295|x>>>27))+((x=L+(A^R&(P^A))+k[10]+38016083&4294967295)<<9&4294967295|x>>>23))+((x=R+(P^A&(L^P))+k[15]+3634488961&4294967295)<<14&4294967295|x>>>18))+((x=A+(L^P&(R^L))+k[4]+3889429448&4294967295)<<20&4294967295|x>>>12))+((x=P+(R^L&(A^R))+k[9]+568446438&4294967295)<<5&4294967295|x>>>27))+((x=L+(A^R&(P^A))+k[14]+3275163606&4294967295)<<9&4294967295|x>>>23))+((x=R+(P^A&(L^P))+k[3]+4107603335&4294967295)<<14&4294967295|x>>>18))+((x=A+(L^P&(R^L))+k[8]+1163531501&4294967295)<<20&4294967295|x>>>12))+((x=P+(R^L&(A^R))+k[13]+2850285829&4294967295)<<5&4294967295|x>>>27))+((x=L+(A^R&(P^A))+k[2]+4243563512&4294967295)<<9&4294967295|x>>>23))+((x=R+(P^A&(L^P))+k[7]+1735328473&4294967295)<<14&4294967295|x>>>18))+((x=A+(L^P&(R^L))+k[12]+2368359562&4294967295)<<20&4294967295|x>>>12))+((x=P+(A^R^L)+k[5]+4294588738&4294967295)<<4&4294967295|x>>>28))+((x=L+(P^A^R)+k[8]+2272392833&4294967295)<<11&4294967295|x>>>21))+((x=R+(L^P^A)+k[11]+1839030562&4294967295)<<16&4294967295|x>>>16))+((x=A+(R^L^P)+k[14]+4259657740&4294967295)<<23&4294967295|x>>>9))+((x=P+(A^R^L)+k[1]+2763975236&4294967295)<<4&4294967295|x>>>28))+((x=L+(P^A^R)+k[4]+1272893353&4294967295)<<11&4294967295|x>>>21))+((x=R+(L^P^A)+k[7]+4139469664&4294967295)<<16&4294967295|x>>>16))+((x=A+(R^L^P)+k[10]+3200236656&4294967295)<<23&4294967295|x>>>9))+((x=P+(A^R^L)+k[13]+681279174&4294967295)<<4&4294967295|x>>>28))+((x=L+(P^A^R)+k[0]+3936430074&4294967295)<<11&4294967295|x>>>21))+((x=R+(L^P^A)+k[3]+3572445317&4294967295)<<16&4294967295|x>>>16))+((x=A+(R^L^P)+k[6]+76029189&4294967295)<<23&4294967295|x>>>9))+((x=P+(A^R^L)+k[9]+3654602809&4294967295)<<4&4294967295|x>>>28))+((x=L+(P^A^R)+k[12]+3873151461&4294967295)<<11&4294967295|x>>>21))+((x=R+(L^P^A)+k[15]+530742520&4294967295)<<16&4294967295|x>>>16))+((x=A+(R^L^P)+k[2]+3299628645&4294967295)<<23&4294967295|x>>>9))+((x=P+(R^(A|~L))+k[0]+4096336452&4294967295)<<6&4294967295|x>>>26))+((x=L+(A^(P|~R))+k[7]+1126891415&4294967295)<<10&4294967295|x>>>22))+((x=R+(P^(L|~A))+k[14]+2878612391&4294967295)<<15&4294967295|x>>>17))+((x=A+(L^(R|~P))+k[5]+4237533241&4294967295)<<21&4294967295|x>>>11))+((x=P+(R^(A|~L))+k[12]+1700485571&4294967295)<<6&4294967295|x>>>26))+((x=L+(A^(P|~R))+k[3]+2399980690&4294967295)<<10&4294967295|x>>>22))+((x=R+(P^(L|~A))+k[10]+4293915773&4294967295)<<15&4294967295|x>>>17))+((x=A+(L^(R|~P))+k[1]+2240044497&4294967295)<<21&4294967295|x>>>11))+((x=P+(R^(A|~L))+k[8]+1873313359&4294967295)<<6&4294967295|x>>>26))+((x=L+(A^(P|~R))+k[15]+4264355552&4294967295)<<10&4294967295|x>>>22))+((x=R+(P^(L|~A))+k[6]+2734768916&4294967295)<<15&4294967295|x>>>17))+((x=A+(L^(R|~P))+k[13]+1309151649&4294967295)<<21&4294967295|x>>>11))+((L=(P=A+((x=P+(R^(A|~L))+k[4]+4149444226&4294967295)<<6&4294967295|x>>>26))+((x=L+(A^(P|~R))+k[11]+3174756917&4294967295)<<10&4294967295|x>>>22))^((R=L+((x=R+(P^(L|~A))+k[2]+718787259&4294967295)<<15&4294967295|x>>>17))|~P))+k[9]+3951481745&4294967295,O.g[0]=O.g[0]+P&4294967295,O.g[1]=O.g[1]+(R+(x<<21&4294967295|x>>>11))&4294967295,O.g[2]=O.g[2]+R&4294967295,O.g[3]=O.g[3]+L&4294967295}function s(O,P){this.h=P;for(var A=[],k=!0,R=O.length-1;0<=R;R--){var L=0|O[R];k&&L==P||(A[R]=L,k=!1)}this.g=A}(function e(O,P){function A(){}A.prototype=P.prototype,O.D=P.prototype,O.prototype=new A,O.prototype.constructor=O,O.C=function(k,R,L){for(var x=Array(arguments.length-2),Ho=2;Ho<arguments.length;Ho++)x[Ho-2]=arguments[Ho];return P.prototype[R].apply(k,x)}})(r,function t(){this.blockSize=-1}),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},r.prototype.u=function(O,P){void 0===P&&(P=O.length);for(var A=P-this.blockSize,k=this.B,R=this.h,L=0;L<P;){if(0==R)for(;L<=A;)i(this,O,L),L+=this.blockSize;if("string"==typeof O){for(;L<P;)if(k[R++]=O.charCodeAt(L++),R==this.blockSize){i(this,k),R=0;break}}else for(;L<P;)if(k[R++]=O[L++],R==this.blockSize){i(this,k),R=0;break}}this.h=R,this.o+=P},r.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var P=1;P<O.length-8;++P)O[P]=0;var A=8*this.o;for(P=O.length-8;P<O.length;++P)O[P]=255&A,A/=256;for(this.u(O),O=Array(16),P=A=0;4>P;++P)for(var k=0;32>k;k+=8)O[A++]=this.g[P]>>>k&255;return O};var a={};function c(O){return-128<=O&&128>O?function o(O,P){var A=a;return Object.prototype.hasOwnProperty.call(A,O)?A[O]:A[O]=P(O)}(O,function(P){return new s([0|P],0>P?-1:0)}):new s([0|O],0>O?-1:0)}function u(O){if(isNaN(O)||!isFinite(O))return h;if(0>O)return E(u(-O));for(var P=[],A=1,k=0;O>=A;k++)P[k]=O/A|0,A*=4294967296;return new s(P,0)}var h=c(0),f=c(1),g=c(16777216);function b(O){if(0!=O.h)return!1;for(var P=0;P<O.g.length;P++)if(0!=O.g[P])return!1;return!0}function I(O){return-1==O.h}function E(O){for(var P=O.g.length,A=[],k=0;k<P;k++)A[k]=~O.g[k];return new s(A,~O.h).add(f)}function S(O,P){return O.add(E(P))}function M(O,P){for(;(65535&O[P])!=O[P];)O[P+1]+=O[P]>>>16,O[P]&=65535,P++}function V(O,P){this.g=O,this.h=P}function $(O,P){if(b(P))throw Error("division by zero");if(b(O))return new V(h,h);if(I(O))return P=$(E(O),P),new V(E(P.g),E(P.h));if(I(P))return P=$(O,E(P)),new V(E(P.g),P.h);if(30<O.g.length){if(I(O)||I(P))throw Error("slowDivide_ only works with positive integers.");for(var A=f,k=P;0>=k.l(O);)A=z(A),k=z(k);var R=ne(A,1),L=ne(k,1);for(k=ne(k,2),A=ne(A,2);!b(k);){var x=L.add(k);0>=x.l(O)&&(R=R.add(A),L=x),k=ne(k,1),A=ne(A,1)}return P=S(O,R.j(P)),new V(R,P)}for(R=h;0<=O.l(P);){for(A=Math.max(1,Math.floor(O.m()/P.m())),k=48>=(k=Math.ceil(Math.log(A)/Math.LN2))?1:Math.pow(2,k-48),x=(L=u(A)).j(P);I(x)||0<x.l(O);)x=(L=u(A-=k)).j(P);b(L)&&(L=f),R=R.add(L),O=S(O,x)}return new V(R,O)}function z(O){for(var P=O.g.length+1,A=[],k=0;k<P;k++)A[k]=O.i(k)<<1|O.i(k-1)>>>31;return new s(A,O.h)}function ne(O,P){var A=P>>5;P%=32;for(var k=O.g.length-A,R=[],L=0;L<k;L++)R[L]=0<P?O.i(L+A)>>>P|O.i(L+A+1)<<32-P:O.i(L+A);return new s(R,O.h)}(n=s.prototype).m=function(){if(I(this))return-E(this).m();for(var O=0,P=1,A=0;A<this.g.length;A++){var k=this.i(A);O+=(0<=k?k:4294967296+k)*P,P*=4294967296}return O},n.toString=function(O){if(2>(O=O||10)||36<O)throw Error("radix out of range: "+O);if(b(this))return"0";if(I(this))return"-"+E(this).toString(O);for(var P=u(Math.pow(O,6)),A=this,k="";;){var R=$(A,P).g,L=((0<(A=S(A,R.j(P))).g.length?A.g[0]:A.h)>>>0).toString(O);if(b(A=R))return L+k;for(;6>L.length;)L="0"+L;k=L+k}},n.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h},n.l=function(O){return I(O=S(this,O))?-1:b(O)?0:1},n.abs=function(){return I(this)?E(this):this},n.add=function(O){for(var P=Math.max(this.g.length,O.g.length),A=[],k=0,R=0;R<=P;R++){var L=k+(65535&this.i(R))+(65535&O.i(R)),x=(L>>>16)+(this.i(R)>>>16)+(O.i(R)>>>16);k=x>>>16,A[R]=(x&=65535)<<16|(L&=65535)}return new s(A,-2147483648&A[A.length-1]?-1:0)},n.j=function(O){if(b(this)||b(O))return h;if(I(this))return I(O)?E(this).j(E(O)):E(E(this).j(O));if(I(O))return E(this.j(E(O)));if(0>this.l(g)&&0>O.l(g))return u(this.m()*O.m());for(var P=this.g.length+O.g.length,A=[],k=0;k<2*P;k++)A[k]=0;for(k=0;k<this.g.length;k++)for(var R=0;R<O.g.length;R++){var L=this.i(k)>>>16,x=65535&this.i(k),Ho=O.i(R)>>>16,mf=65535&O.i(R);A[2*k+2*R]+=x*mf,M(A,2*k+2*R),A[2*k+2*R+1]+=L*mf,M(A,2*k+2*R+1),A[2*k+2*R+1]+=x*Ho,M(A,2*k+2*R+1),A[2*k+2*R+2]+=L*Ho,M(A,2*k+2*R+2)}for(k=0;k<P;k++)A[k]=A[2*k+1]<<16|A[2*k];for(k=P;k<2*P;k++)A[k]=0;return new s(A,0)},n.A=function(O){return $(this,O).h},n.and=function(O){for(var P=Math.max(this.g.length,O.g.length),A=[],k=0;k<P;k++)A[k]=this.i(k)&O.i(k);return new s(A,this.h&O.h)},n.or=function(O){for(var P=Math.max(this.g.length,O.g.length),A=[],k=0;k<P;k++)A[k]=this.i(k)|O.i(k);return new s(A,this.h|O.h)},n.xor=function(O){for(var P=Math.max(this.g.length,O.g.length),A=[],k=0;k<P;k++)A[k]=this.i(k)^O.i(k);return new s(A,this.h^O.h)},r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,S4.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=function l(O,P){if(0==O.length)throw Error("number format error: empty string");if(2>(P=P||10)||36<P)throw Error("radix out of range: "+P);if("-"==O.charAt(0))return E(l(O.substring(1),P));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=u(Math.pow(P,8)),k=h,R=0;R<O.length;R+=8){var L=Math.min(8,O.length-R),x=parseInt(O.substring(R,R+L),P);8>L?(L=u(Math.pow(P,L)),k=k.j(L).add(u(x))):k=(k=k.j(A)).add(u(x))}return k},Ta=S4.Integer=s}).apply(typeof A4<"u"?A4:typeof self<"u"?self:typeof window<"u"?window:{});var Nm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ro={};(function(){var n,e="function"==typeof Object.defineProperties?Object.defineProperty:function(d,p,m){return d==Array.prototype||d==Object.prototype||(d[p]=m.value),d},r=function t(d){d=["object"==typeof globalThis&&globalThis,d,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Nm&&Nm];for(var p=0;p<d.length;++p){var m=d[p];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}(this);!function i(d,p){if(p)e:{var m=r;d=d.split(".");for(var w=0;w<d.length-1;w++){var N=d[w];if(!(N in m))break e;m=m[N]}(p=p(w=m[d=d[d.length-1]]))!=w&&null!=p&&e(m,d,{configurable:!0,writable:!0,value:p})}}("Array.prototype.values",function(d){return d||function(){return function o(d,p){d instanceof String&&(d+="");var m=0,w=!1,N={next:function(){if(!w&&m<d.length){var H=m++;return{value:p(H,d[H]),done:!1}}return w=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}(this,function(p,m){return m})}});var s=s||{},a=this||self;function c(d){var p=typeof d;return"array"==(p="object"!=p?p:d?Array.isArray(d)?"array":p:"null")||"object"==p&&"number"==typeof d.length}function u(d){var p=typeof d;return"object"==p&&null!=d||"function"==p}function l(d,p,m){return d.call.apply(d.bind,arguments)}function h(d,p,m){if(!d)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,w),d.apply(p,N)}}return function(){return d.apply(p,arguments)}}function f(d,p,m){return(f=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?l:h).apply(null,arguments)}function g(d,p){var m=Array.prototype.slice.call(arguments,1);return function(){var w=m.slice();return w.push.apply(w,arguments),d.apply(this,w)}}function b(d,p){function m(){}m.prototype=p.prototype,d.aa=p.prototype,d.prototype=new m,d.prototype.constructor=d,d.Qb=function(w,N,H){for(var oe=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)oe[pt-2]=arguments[pt];return p.prototype[N].apply(w,oe)}}function I(d){const p=d.length;if(0<p){const m=Array(p);for(let w=0;w<p;w++)m[w]=d[w];return m}return[]}function E(d,p){for(let m=1;m<arguments.length;m++){const w=arguments[m];if(c(w)){const N=d.length||0,H=w.length||0;d.length=N+H;for(let oe=0;oe<H;oe++)d[N+oe]=w[oe]}else d.push(w)}}function M(d){return/^[\s\xa0]*$/.test(d)}function V(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function $(d){return $[" "](d),d}$[" "]=function(){};var z=!(-1==V().indexOf("Gecko")||-1!=V().toLowerCase().indexOf("webkit")&&-1==V().indexOf("Edge")||-1!=V().indexOf("Trident")||-1!=V().indexOf("MSIE")||-1!=V().indexOf("Edge"));function ne(d,p,m){for(const w in d)p.call(m,d[w],w,d)}function P(d){const p={};for(const m in d)p[m]=d[m];return p}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(d,p){let m,w;for(let N=1;N<arguments.length;N++){for(m in w=arguments[N],w)d[m]=w[m];for(let H=0;H<A.length;H++)m=A[H],Object.prototype.hasOwnProperty.call(w,m)&&(d[m]=w[m])}}function R(d){var p=1;d=d.split(":");const m=[];for(;0<p&&d.length;)m.push(d.shift()),p--;return d.length&&m.push(d.join(":")),m}function L(d){a.setTimeout(()=>{throw d},0)}function x(){var d=kA;let p=null;return d.g&&(p=d.g,d.g=d.g.next,d.g||(d.h=null),p.next=null),p}var mf=new class S{constructor(p,m){this.i=p,this.j=m,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}(()=>new jve,d=>d.reset());class jve{constructor(){this.next=this.g=this.h=null}set(p,m){this.h=p,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let _f,yf=!1,kA=new class Ho{constructor(){this.h=this.g=null}add(p,m){const w=mf.get();w.set(p,m),this.h?this.h.next=w:this.g=w,this.h=w}},ZB=()=>{const d=a.Promise.resolve(void 0);_f=()=>{d.then($ve)}};var $ve=()=>{for(var d;d=x();){try{d.h.call(d.g)}catch(m){L(m)}var p=mf;p.j(d),100>p.h&&(p.h++,d.next=p.g,p.g=d)}yf=!1};function Bs(){this.s=this.s,this.C=this.C}function qn(d,p){this.type=d,this.g=this.target=p,this.defaultPrevented=!1}Bs.prototype.s=!1,Bs.prototype.ma=function(){this.s||(this.s=!0,this.N())},Bs.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},qn.prototype.h=function(){this.defaultPrevented=!0};var Bve=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,p=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const m=()=>{};a.addEventListener("test",m,p),a.removeEventListener("test",m,p)}catch{}return d}();function vf(d,p){if(qn.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var m=this.type=d.type,w=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=p,p=d.relatedTarget){if(z){e:{try{$(p.nodeName);var N=!0;break e}catch{}N=!1}N||(p=null)}}else"mouseover"==m?p=d.fromElement:"mouseout"==m&&(p=d.toElement);this.relatedTarget=p,w?(this.clientX=void 0!==w.clientX?w.clientX:w.pageX,this.clientY=void 0!==w.clientY?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType="string"==typeof d.pointerType?d.pointerType:Hve[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&vf.aa.h.call(this)}}b(vf,qn);var Hve={2:"touch",3:"pen",4:"mouse"};vf.prototype.h=function(){vf.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var bf="closure_listenable_"+(1e6*Math.random()|0),zve=0;function qve(d,p,m,w,N){this.listener=d,this.proxy=null,this.src=p,this.type=m,this.capture=!!w,this.ha=N,this.key=++zve,this.da=this.fa=!1}function iy(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function oy(d){this.src=d,this.g={},this.h=0}function RA(d,p){var m=p.type;if(m in d.g){var H,w=d.g[m],N=Array.prototype.indexOf.call(w,p,void 0);(H=0<=N)&&Array.prototype.splice.call(w,N,1),H&&(iy(p),0==d.g[m].length&&(delete d.g[m],d.h--))}}function NA(d,p,m,w){for(var N=0;N<d.length;++N){var H=d[N];if(!H.da&&H.listener==p&&H.capture==!!m&&H.ha==w)return N}return-1}oy.prototype.add=function(d,p,m,w,N){var H=d.toString();(d=this.g[H])||(d=this.g[H]=[],this.h++);var oe=NA(d,p,w,N);return-1<oe?(p=d[oe],m||(p.fa=!1)):((p=new qve(p,this.src,H,!!w,N)).fa=m,d.push(p)),p};var FA="closure_lm_"+(1e6*Math.random()|0),VA={};function e6(d,p,m,w,N){if(w&&w.once)return n6(d,p,m,w,N);if(Array.isArray(p)){for(var H=0;H<p.length;H++)e6(d,p[H],m,w,N);return null}return m=$A(m),d&&d[bf]?d.K(p,m,u(w)?!!w.capture:!!w,N):t6(d,p,m,!1,w,N)}function t6(d,p,m,w,N,H){if(!p)throw Error("Invalid event type");var oe=u(N)?!!N.capture:!!N,pt=UA(d);if(pt||(d[FA]=pt=new oy(d)),(m=pt.add(p,m,w,oe,H)).proxy)return m;if(w=function Gve(){const p=Wve;return function d(m){return p.call(d.src,d.listener,m)}}(),m.proxy=w,w.src=d,w.listener=m,d.addEventListener)Bve||(N=oe),void 0===N&&(N=!1),d.addEventListener(p.toString(),w,N);else if(d.attachEvent)d.attachEvent(i6(p.toString()),w);else{if(!d.addListener||!d.removeListener)throw Error("addEventListener and attachEvent are unavailable.");d.addListener(w)}return m}function n6(d,p,m,w,N){if(Array.isArray(p)){for(var H=0;H<p.length;H++)n6(d,p[H],m,w,N);return null}return m=$A(m),d&&d[bf]?d.L(p,m,u(w)?!!w.capture:!!w,N):t6(d,p,m,!0,w,N)}function r6(d,p,m,w,N){if(Array.isArray(p))for(var H=0;H<p.length;H++)r6(d,p[H],m,w,N);else w=u(w)?!!w.capture:!!w,m=$A(m),d&&d[bf]?(d=d.i,(p=String(p).toString())in d.g&&-1<(m=NA(H=d.g[p],m,w,N))&&(iy(H[m]),Array.prototype.splice.call(H,m,1),0==H.length&&(delete d.g[p],d.h--))):d&&(d=UA(d))&&(p=d.g[p.toString()],d=-1,p&&(d=NA(p,m,w,N)),(m=-1<d?p[d]:null)&&LA(m))}function LA(d){if("number"!=typeof d&&d&&!d.da){var p=d.src;if(p&&p[bf])RA(p.i,d);else{var m=d.type,w=d.proxy;p.removeEventListener?p.removeEventListener(m,w,d.capture):p.detachEvent?p.detachEvent(i6(m),w):p.addListener&&p.removeListener&&p.removeListener(w),(m=UA(p))?(RA(m,d),0==m.h&&(m.src=null,p[FA]=null)):iy(d)}}}function i6(d){return d in VA?VA[d]:VA[d]="on"+d}function Wve(d,p){if(d.da)d=!0;else{p=new vf(p,this);var m=d.listener,w=d.ha||d.src;d.fa&&LA(d),d=m.call(w,p)}return d}function UA(d){return(d=d[FA])instanceof oy?d:null}var jA="__closure_events_fn_"+(1e9*Math.random()>>>0);function $A(d){return"function"==typeof d?d:(d[jA]||(d[jA]=function(p){return d.handleEvent(p)}),d[jA])}function Gn(){Bs.call(this),this.i=new oy(this),this.M=this,this.F=null}function hr(d,p){var m,w=d.F;if(w)for(m=[];w;w=w.F)m.push(w);if(d=d.M,w=p.type||p,"string"==typeof p)p=new qn(p,d);else if(p instanceof qn)p.target=p.target||d;else{var N=p;k(p=new qn(w,d),N)}if(N=!0,m)for(var H=m.length-1;0<=H;H--){var oe=p.g=m[H];N=sy(oe,w,!0,p)&&N}if(N=sy(oe=p.g=d,w,!0,p)&&N,N=sy(oe,w,!1,p)&&N,m)for(H=0;H<m.length;H++)N=sy(oe=p.g=m[H],w,!1,p)&&N}function sy(d,p,m,w){if(!(p=d.i.g[String(p)]))return!0;p=p.concat();for(var N=!0,H=0;H<p.length;++H){var oe=p[H];if(oe&&!oe.da&&oe.capture==m){var pt=oe.listener,Dn=oe.ha||oe.src;oe.fa&&RA(d.i,oe),N=!1!==pt.call(Dn,w)&&N}}return N&&!w.defaultPrevented}function o6(d,p,m){if("function"==typeof d)m&&(d=f(d,m));else{if(!d||"function"!=typeof d.handleEvent)throw Error("Invalid listener argument");d=f(d.handleEvent,d)}return 2147483647<Number(p)?-1:a.setTimeout(d,p||0)}function s6(d){d.g=o6(()=>{d.g=null,d.i&&(d.i=!1,s6(d))},d.l);const p=d.h;d.h=null,d.m.apply(null,p)}b(Gn,Bs),Gn.prototype[bf]=!0,Gn.prototype.removeEventListener=function(d,p,m,w){r6(this,d,p,m,w)},Gn.prototype.N=function(){if(Gn.aa.N.call(this),this.i){var p,d=this.i;for(p in d.g){for(var m=d.g[p],w=0;w<m.length;w++)iy(m[w]);delete d.g[p],d.h--}}this.F=null},Gn.prototype.K=function(d,p,m,w){return this.i.add(String(d),p,!1,m,w)},Gn.prototype.L=function(d,p,m,w){return this.i.add(String(d),p,!0,m,w)};class Kve extends Bs{constructor(p,m){super(),this.m=p,this.l=m,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:s6(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cf(d){Bs.call(this),this.h=d,this.g={}}b(Cf,Bs);var a6=[];function c6(d){ne(d.g,function(p,m){this.g.hasOwnProperty(m)&&LA(p)},d),d.g={}}Cf.prototype.N=function(){Cf.aa.N.call(this),c6(this)},Cf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var BA=a.JSON.stringify,Qve=a.JSON.parse,Yve=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function HA(){}function l6(){}HA.prototype.h=null;var wf={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zA(){qn.call(this,"d")}function qA(){qn.call(this,"c")}b(zA,qn),b(qA,qn);var ec={},d6=null;function ay(){return d6=d6||new Gn}function h6(d){qn.call(this,ec.La,d)}function If(d){const p=ay();hr(p,new h6(p))}function f6(d,p){qn.call(this,ec.STAT_EVENT,d),this.stat=p}function fr(d){const p=ay();hr(p,new f6(p,d))}function p6(d,p){qn.call(this,ec.Ma,d),this.size=p}function Ef(d,p){if("function"!=typeof d)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},p)}function Tf(){this.g=!0}function El(d,p,m,w){d.info(function(){return"XMLHTTP TEXT ("+p+"): "+function ebe(d,p){if(!d.g)return p;if(!p)return null;try{var m=JSON.parse(p);if(m)for(d=0;d<m.length;d++)if(Array.isArray(m[d])){var w=m[d];if(!(2>w.length)){var N=w[1];if(Array.isArray(N)&&!(1>N.length)){var H=N[0];if("noop"!=H&&"stop"!=H&&"close"!=H)for(var oe=1;oe<N.length;oe++)N[oe]=""}}}return BA(m)}catch{return p}}(d,m)+(w?" "+w:"")})}ec.La="serverreachability",b(h6,qn),ec.STAT_EVENT="statevent",b(f6,qn),ec.Ma="timingevent",b(p6,qn),Tf.prototype.xa=function(){this.g=!1},Tf.prototype.info=function(){};var GA,cy={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},g6={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function uy(){}function Hs(d,p,m,w){this.j=d,this.i=p,this.l=m,this.R=w||1,this.U=new Cf(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new m6}function m6(){this.i=null,this.g="",this.h=!1}b(uy,HA),uy.prototype.g=function(){return new XMLHttpRequest},uy.prototype.i=function(){return{}},GA=new uy;var _6={},WA={};function KA(d,p,m){d.L=1,d.v=fy(zo(p)),d.m=m,d.P=!0,y6(d,null)}function y6(d,p){d.F=Date.now(),ly(d),d.A=zo(d.v);var m=d.A,w=d.R;Array.isArray(w)||(w=[String(w)]),D6(m.i,"t",w),d.C=0,m=d.j.J,d.h=new m6,d.g=Y6(d.j,m?p:null,!d.m),0<d.O&&(d.M=new Kve(f(d.Y,d,d.g),d.O)),p=d.U,m=d.g,w=d.ca;var N="readystatechange";Array.isArray(N)||(N&&(a6[0]=N.toString()),N=a6);for(var H=0;H<N.length;H++){var oe=e6(m,N[H],w||p.handleEvent,!1,p.h||p);if(!oe)break;p.g[oe.key]=oe}p=d.H?P(d.H):{},d.m?(d.u||(d.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,p)):(d.u="GET",d.g.ea(d.A,d.u,null,p)),If(),function Jve(d,p,m,w,N,H){d.info(function(){if(d.g)if(H)for(var oe="",pt=H.split("&"),Dn=0;Dn<pt.length;Dn++){var Ze=pt[Dn].split("=");if(1<Ze.length){var Wn=Ze[0];Ze=Ze[1];var Kn=Wn.split("_");oe=2<=Kn.length&&"type"==Kn[1]?oe+(Wn+"=")+Ze+"&":oe+(Wn+"=redacted&")}}else oe=null;else oe=H;return"XMLHTTP REQ ("+w+") [attempt "+N+"]: "+p+"\n"+m+"\n"+oe})}(d.i,d.u,d.A,d.l,d.R,d.m)}function v6(d){return!!d.g&&"GET"==d.u&&2!=d.L&&d.j.Ca}function tbe(d,p){var m=d.C,w=p.indexOf("\n",m);return-1==w?WA:(m=Number(p.substring(m,w)),isNaN(m)?_6:(w+=1)+m>p.length?WA:(p=p.slice(w,w+m),d.C=w+m,p))}function ly(d){d.S=Date.now()+d.I,b6(d,d.I)}function b6(d,p){if(null!=d.B)throw Error("WatchDog timer not null");d.B=Ef(f(d.ba,d),p)}function QA(d){d.B&&(a.clearTimeout(d.B),d.B=null)}function Pf(d){0==d.j.G||d.J||G6(d.j,d)}function tc(d){QA(d);var p=d.M;p&&"function"==typeof p.ma&&p.ma(),d.M=null,c6(d.U),d.g&&(p=d.g,d.g=null,p.abort(),p.ma())}function YA(d,p){try{var m=d.j;if(0!=m.G&&(m.g==d||JA(m.h,d)))if(!d.K&&JA(m.h,d)&&3==m.G){try{var w=m.Da.g.parse(p)}catch{w=null}if(Array.isArray(w)&&3==w.length){var N=w;if(0==N[0]){e:if(!m.u){if(m.g){if(!(m.g.F+3e3<d.F))break e;yy(m),my(m)}tS(m),fr(18)}}else m.za=N[1],0<m.za-m.T&&37500>N[2]&&m.F&&0==m.v&&!m.C&&(m.C=Ef(f(m.Za,m),6e3));if(1>=I6(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else rc(m,11)}else if((d.K||m.g==d)&&yy(m),!M(p))for(N=m.Da.g.parse(p),p=0;p<N.length;p++){let Ze=N[p];if(m.T=Ze[0],Ze=Ze[1],2==m.G)if("c"==Ze[0]){m.K=Ze[1],m.ia=Ze[2];const Wn=Ze[3];null!=Wn&&(m.la=Wn,m.j.info("VER="+m.la));const Kn=Ze[4];null!=Kn&&(m.Aa=Kn,m.j.info("SVER="+m.Aa));const Ml=Ze[5];null!=Ml&&"number"==typeof Ml&&0<Ml&&(m.L=w=1.5*Ml,m.j.info("backChannelRequestTimeoutMs_="+w)),w=m;const bi=d.g;if(bi){const by=bi.g?bi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(by){var H=w.h;H.g||-1==by.indexOf("spdy")&&-1==by.indexOf("quic")&&-1==by.indexOf("h2")||(H.j=H.l,H.g=new Set,H.h&&(XA(H,H.h),H.h=null))}if(w.D){const rS=bi.g?bi.g.getResponseHeader("X-HTTP-Session-Id"):null;rS&&(w.ya=rS,Tt(w.I,w.D,rS))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-d.F,m.j.info("Handshake RTT: "+m.R+"ms"));var oe=d;if((w=m).qa=Q6(w,w.J?w.ia:null,w.W),oe.K){E6(w.h,oe);var pt=oe,Dn=w.L;Dn&&(pt.I=Dn),pt.B&&(QA(pt),ly(pt)),w.g=oe}else z6(w);0<m.i.length&&_y(m)}else"stop"!=Ze[0]&&"close"!=Ze[0]||rc(m,7);else 3==m.G&&("stop"==Ze[0]||"close"==Ze[0]?"stop"==Ze[0]?rc(m,7):eS(m):"noop"!=Ze[0]&&m.l&&m.l.ta(Ze),m.v=0)}If()}catch{}}function C6(d){this.l=d||10,d=a.PerformanceNavigationTiming?0<(d=a.performance.getEntriesByType("navigation")).length&&("hq"==d[0].nextHopProtocol||"h2"==d[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function w6(d){return!!d.h||!!d.g&&d.g.size>=d.j}function I6(d){return d.h?1:d.g?d.g.size:0}function JA(d,p){return d.h?d.h==p:!!d.g&&d.g.has(p)}function XA(d,p){d.g?d.g.add(p):d.h=p}function E6(d,p){d.h&&d.h==p?d.h=null:d.g&&d.g.has(p)&&d.g.delete(p)}function T6(d){if(null!=d.h)return d.i.concat(d.h.D);if(null!=d.g&&0!==d.g.size){let p=d.i;for(const m of d.g.values())p=p.concat(m.D);return p}return I(d.i)}function P6(d,p){if(d.forEach&&"function"==typeof d.forEach)d.forEach(p,void 0);else if(c(d)||"string"==typeof d)Array.prototype.forEach.call(d,p,void 0);else for(var m=function ibe(d){if(d.na&&"function"==typeof d.na)return d.na();if(!d.V||"function"!=typeof d.V){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(c(d)||"string"==typeof d){var p=[];d=d.length;for(var m=0;m<d;m++)p.push(m);return p}p=[],m=0;for(const w in d)p[m++]=w;return p}}}(d),w=function rbe(d){if(d.V&&"function"==typeof d.V)return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if("string"==typeof d)return d.split("");if(c(d)){for(var p=[],m=d.length,w=0;w<m;w++)p.push(d[w]);return p}for(w in p=[],m=0,d)p[m++]=d[w];return p}(d),N=w.length,H=0;H<N;H++)p.call(void 0,w[H],m&&m[H],d)}Hs.prototype.ca=function(d){d=d.target;const p=this.M;p&&3==qo(d)?p.j():this.Y(d)},Hs.prototype.Y=function(d){try{if(d==this.g)e:{const Kn=qo(this.g);var p=this.g.Ba();if(this.g.Z(),!(3>Kn)&&(3!=Kn||this.g&&(this.h.h||this.g.oa()||U6(this.g)))){this.J||4!=Kn||7==p||If(),QA(this);var m=this.g.Z();this.X=m;t:if(v6(this)){var w=U6(this.g);d="";var N=w.length,H=4==qo(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){tc(this),Pf(this);var oe="";break t}this.h.i=new a.TextDecoder}for(p=0;p<N;p++)this.h.h=!0,d+=this.h.i.decode(w[p],{stream:!(H&&p==N-1)});w.length=0,this.h.g+=d,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=200==m,function Xve(d,p,m,w,N,H,oe){d.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+N+"]: "+p+"\n"+m+"\n"+H+" "+oe})}(this.i,this.u,this.A,this.l,this.R,Kn,m),this.o){if(this.T&&!this.K){t:{if(this.g){var pt,Dn=this.g;if((pt=Dn.g?Dn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(pt)){var Ze=pt;break t}}Ze=null}if(!(m=Ze)){this.o=!1,this.s=3,fr(12),tc(this),Pf(this);break e}El(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,YA(this,m)}if(this.P){let bi;for(m=!0;!this.J&&this.C<oe.length;){if(bi=tbe(this,oe),bi==WA){4==Kn&&(this.s=4,fr(14),m=!1),El(this.i,this.l,null,"[Incomplete Response]");break}if(bi==_6){this.s=4,fr(15),El(this.i,this.l,oe,"[Invalid Chunk]"),m=!1;break}El(this.i,this.l,bi,null),YA(this,bi)}if(v6(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Kn||0!=oe.length||this.h.h||(this.s=1,fr(16),m=!1),this.o=this.o&&m,m){if(0<oe.length&&!this.W){this.W=!0;var Wn=this.j;Wn.g==this&&Wn.ba&&!Wn.M&&(Wn.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),nS(Wn),Wn.M=!0,fr(11))}}else El(this.i,this.l,oe,"[Invalid Chunked Response]"),tc(this),Pf(this)}else El(this.i,this.l,oe,null),YA(this,oe);4==Kn&&tc(this),this.o&&!this.J&&(4==Kn?G6(this.j,this):(this.o=!1,ly(this)))}else(function ybe(d){const p={};d=(d.g&&2<=qo(d)&&d.g.getAllResponseHeaders()||"").split("\r\n");for(let w=0;w<d.length;w++){if(M(d[w]))continue;var m=R(d[w]);const N=m[0];if("string"!=typeof(m=m[1]))continue;m=m.trim();const H=p[N]||[];p[N]=H,H.push(m)}!function O(d,p){for(const m in d)p.call(void 0,d[m],m,d)}(p,function(w){return w.join(", ")})})(this.g),400==m&&0<oe.indexOf("Unknown SID")?(this.s=3,fr(12)):(this.s=0,fr(13)),tc(this),Pf(this)}}}catch{}},Hs.prototype.cancel=function(){this.J=!0,tc(this)},Hs.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(function Zve(d,p){d.info(function(){return"TIMEOUT: "+p})}(this.i,this.A),2!=this.L&&(If(),fr(17)),tc(this),this.s=2,Pf(this)):b6(this,this.S-d)},C6.prototype.cancel=function(){if(this.i=T6(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const d of this.g.values())d.cancel();this.g.clear()}};var M6=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nc(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof nc){this.h=d.h,dy(this,d.j),this.o=d.o,this.g=d.g,hy(this,d.s),this.l=d.l;var p=d.i,m=new Sf;m.i=p.i,p.g&&(m.g=new Map(p.g),m.h=p.h),A6(this,m),this.m=d.m}else d&&(p=String(d).match(M6))?(this.h=!1,dy(this,p[1]||"",!0),this.o=Mf(p[2]||""),this.g=Mf(p[3]||"",!0),hy(this,p[4]),this.l=Mf(p[5]||"",!0),A6(this,p[6]||"",!0),this.m=Mf(p[7]||"")):(this.h=!1,this.i=new Sf(null,this.h))}function zo(d){return new nc(d)}function dy(d,p,m){d.j=m?Mf(p,!0):p,d.j&&(d.j=d.j.replace(/:$/,""))}function hy(d,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);d.s=p}else d.s=null}function A6(d,p,m){p instanceof Sf?(d.i=p,function dbe(d,p){p&&!d.j&&(zs(d),d.i=null,d.g.forEach(function(m,w){var N=w.toLowerCase();w!=N&&(x6(this,w),D6(this,N,m))},d)),d.j=p}(d.i,d.h)):(m||(p=Af(p,ube)),d.i=new Sf(p,d.h))}function Tt(d,p,m){d.i.set(p,m)}function fy(d){return Tt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Mf(d,p){return d?p?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Af(d,p,m){return"string"==typeof d?(d=encodeURI(d).replace(p,sbe),m&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function sbe(d){return"%"+((d=d.charCodeAt(0))>>4&15).toString(16)+(15&d).toString(16)}nc.prototype.toString=function(){var d=[],p=this.j;p&&d.push(Af(p,S6,!0),":");var m=this.g;return(m||"file"==p)&&(d.push("//"),(p=this.o)&&d.push(Af(p,S6,!0),"@"),d.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(m=this.s)&&d.push(":",String(m))),(m=this.l)&&(this.g&&"/"!=m.charAt(0)&&d.push("/"),d.push(Af(m,"/"==m.charAt(0)?cbe:abe,!0))),(m=this.i.toString())&&d.push("?",m),(m=this.m)&&d.push("#",Af(m,lbe)),d.join("")};var d,S6=/[#\/\?@]/g,abe=/[#\?:]/g,cbe=/[#\?]/g,ube=/[#\?@]/g,lbe=/#/g;function Sf(d,p){this.h=this.g=null,this.i=d||null,this.j=!!p}function zs(d){d.g||(d.g=new Map,d.h=0,d.i&&function obe(d,p){if(d){d=d.split("&");for(var m=0;m<d.length;m++){var w=d[m].indexOf("="),N=null;if(0<=w){var H=d[m].substring(0,w);N=d[m].substring(w+1)}else H=d[m];p(H,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}(d.i,function(p,m){d.add(decodeURIComponent(p.replace(/\+/g," ")),m)}))}function x6(d,p){zs(d),p=Tl(d,p),d.g.has(p)&&(d.i=null,d.h-=d.g.get(p).length,d.g.delete(p))}function O6(d,p){return zs(d),p=Tl(d,p),d.g.has(p)}function D6(d,p,m){x6(d,p),0<m.length&&(d.i=null,d.g.set(Tl(d,p),I(m)),d.h+=m.length)}function Tl(d,p){return p=String(p),d.j&&(p=p.toLowerCase()),p}function qs(d,p,m,w,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),w(m)}catch{}}function pbe(){this.g=new Yve}function gbe(d,p,m){const w=m||"";try{P6(d,function(N,H){let oe=N;u(N)&&(oe=BA(N)),p.push(w+H+"="+encodeURIComponent(oe))})}catch(N){throw p.push(w+"type="+encodeURIComponent("_badmap")),N}}function xf(d){this.l=d.Ub||null,this.j=d.eb||!1}function py(d,p){Gn.call(this),this.D=d,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function k6(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}function Of(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Df(d)}function Df(d){d.onreadystatechange&&d.onreadystatechange.call(d)}function R6(d){let p="";return ne(d,function(m,w){p+=w,p+=":",p+=m,p+="\r\n"}),p}function ZA(d,p,m){e:{for(w in m){var w=!1;break e}w=!0}w||(m=R6(m),"string"==typeof d?null!=m&&encodeURIComponent(String(m)):Tt(d,p,m))}function Ht(d){Gn.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=Sf.prototype).add=function(d,p){zs(this),this.i=null,d=Tl(this,d);var m=this.g.get(d);return m||this.g.set(d,m=[]),m.push(p),this.h+=1,this},n.forEach=function(d,p){zs(this),this.g.forEach(function(m,w){m.forEach(function(N){d.call(p,N,w,this)},this)},this)},n.na=function(){zs(this);const d=Array.from(this.g.values()),p=Array.from(this.g.keys()),m=[];for(let w=0;w<p.length;w++){const N=d[w];for(let H=0;H<N.length;H++)m.push(p[w])}return m},n.V=function(d){zs(this);let p=[];if("string"==typeof d)O6(this,d)&&(p=p.concat(this.g.get(Tl(this,d))));else{d=Array.from(this.g.values());for(let m=0;m<d.length;m++)p=p.concat(d[m])}return p},n.set=function(d,p){return zs(this),this.i=null,O6(this,d=Tl(this,d))&&(this.h-=this.g.get(d).length),this.g.set(d,[p]),this.h+=1,this},n.get=function(d,p){return d&&0<(d=this.V(d)).length?String(d[0]):p},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],p=Array.from(this.g.keys());for(var m=0;m<p.length;m++){var w=p[m];const H=encodeURIComponent(String(w)),oe=this.V(w);for(w=0;w<oe.length;w++){var N=H;""!==oe[w]&&(N+="="+encodeURIComponent(String(oe[w]))),d.push(N)}}return this.i=d.join("&")},b(xf,HA),xf.prototype.g=function(){return new py(this.l,this.j)},xf.prototype.i=(d={},function(){return d}),b(py,Gn),(n=py.prototype).open=function(d,p){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=p,this.readyState=1,Df(this)},n.send=function(d){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(p.body=d),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Of(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Df(this)),this.g&&(this.readyState=3,Df(this),this.g)))if("arraybuffer"===this.responseType)d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;k6(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var p=d.value?d.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!d.done}))&&(this.response=this.responseText+=p)}d.done?Of(this):Df(this),3==this.readyState&&k6(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Of(this))},n.Qa=function(d){this.g&&(this.response=d,Of(this))},n.ga=function(){this.g&&Of(this)},n.setRequestHeader=function(d,p){this.u.append(d,p)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],p=this.h.entries();for(var m=p.next();!m.done;)d.push((m=m.value)[0]+": "+m[1]),m=p.next();return d.join("\r\n")},Object.defineProperty(py.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(d){this.m=d?"include":"same-origin"}}),b(Ht,Gn);var mbe=/^https?$/i,_be=["POST","PUT"];function N6(d,p){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=p,d.m=5,F6(d),gy(d)}function F6(d){d.A||(d.A=!0,hr(d,"complete"),hr(d,"error"))}function V6(d){if(d.h&&typeof s<"u"&&(!d.v[1]||4!=qo(d)||2!=d.Z()))if(d.u&&4==qo(d))o6(d.Ea,0,d);else if(hr(d,"readystatechange"),4==qo(d)){d.h=!1;try{const oe=d.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var m;if(!(m=p)){var w;if(w=0===oe){var N=String(d.D).match(M6)[1]||null;!N&&a.self&&a.self.location&&(N=a.self.location.protocol.slice(0,-1)),w=!mbe.test(N?N.toLowerCase():"")}m=w}if(m)hr(d,"complete"),hr(d,"success");else{d.m=6;try{var H=2<qo(d)?d.g.statusText:""}catch{H=""}d.l=H+" ["+d.Z()+"]",F6(d)}}finally{gy(d)}}}function gy(d,p){if(d.g){L6(d);const m=d.g,w=d.v[0]?()=>{}:null;d.g=null,d.v=null,p||hr(d,"ready");try{m.onreadystatechange=w}catch{}}}function L6(d){d.I&&(a.clearTimeout(d.I),d.I=null)}function qo(d){return d.g?d.g.readyState:0}function U6(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function kf(d,p,m){return m&&m.internalChannelParams&&m.internalChannelParams[d]||p}function j6(d){this.Aa=0,this.i=[],this.j=new Tf,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=kf("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=kf("baseRetryDelayMs",5e3,d),this.cb=kf("retryDelaySeedMs",1e4,d),this.Wa=kf("forwardChannelMaxRetries",2,d),this.wa=kf("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new C6(d&&d.concurrentRequestLimit),this.Da=new pbe,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function eS(d){if($6(d),3==d.G){var p=d.U++,m=zo(d.I);if(Tt(m,"SID",d.K),Tt(m,"RID",p),Tt(m,"TYPE","terminate"),Rf(d,m),(p=new Hs(d,d.j,p)).L=2,p.v=fy(zo(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!m&&a.Image&&((new Image).src=p.v,m=!0),m||(p.g=Y6(p.j,null),p.g.ea(p.v)),p.F=Date.now(),ly(p)}K6(d)}function my(d){d.g&&(nS(d),d.g.cancel(),d.g=null)}function $6(d){my(d),d.u&&(a.clearTimeout(d.u),d.u=null),yy(d),d.h.cancel(),d.s&&("number"==typeof d.s&&a.clearTimeout(d.s),d.s=null)}function _y(d){if(!w6(d.h)&&!d.s){d.s=!0;var p=d.Ga;_f||ZB(),yf||(_f(),yf=!0),kA.add(p,d),d.B=0}}function B6(d,p){var m;m=p?p.l:d.U++;const w=zo(d.I);Tt(w,"SID",d.K),Tt(w,"RID",m),Tt(w,"AID",d.T),Rf(d,w),d.m&&d.o&&ZA(w,d.m,d.o),m=new Hs(d,d.j,m,d.B+1),null===d.m&&(m.H=d.o),p&&(d.i=p.D.concat(d.i)),p=H6(d,m,1e3),m.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),XA(d.h,m),KA(m,w,p)}function Rf(d,p){d.H&&ne(d.H,function(m,w){Tt(p,w,m)}),d.l&&P6({},function(m,w){Tt(p,w,m)})}function H6(d,p,m){m=Math.min(d.i.length,m);var w=d.l?f(d.l.Na,d.l,d):null;e:{var N=d.i;let H=-1;for(;;){const oe=["count="+m];-1==H?0<m?(H=N[0].g,oe.push("ofs="+H)):H=0:oe.push("ofs="+H);let pt=!0;for(let Dn=0;Dn<m;Dn++){let Ze=N[Dn].g;const Wn=N[Dn].map;if(Ze-=H,0>Ze)H=Math.max(0,N[Dn].g-100),pt=!1;else try{gbe(Wn,oe,"req"+Ze+"_")}catch{w&&w(Wn)}}if(pt){w=oe.join("&");break e}}}return d=d.i.splice(0,m),p.D=d,w}function z6(d){if(!d.g&&!d.u){d.Y=1;var p=d.Fa;_f||ZB(),yf||(_f(),yf=!0),kA.add(p,d),d.v=0}}function tS(d){return!(d.g||d.u||3<=d.v||(d.Y++,d.u=Ef(f(d.Fa,d),W6(d,d.v)),d.v++,0))}function nS(d){null!=d.A&&(a.clearTimeout(d.A),d.A=null)}function q6(d){d.g=new Hs(d,d.j,"rpc",d.Y),null===d.m&&(d.g.H=d.o),d.g.O=0;var p=zo(d.qa);Tt(p,"RID","rpc"),Tt(p,"SID",d.K),Tt(p,"AID",d.T),Tt(p,"CI",d.F?"0":"1"),!d.F&&d.ja&&Tt(p,"TO",d.ja),Tt(p,"TYPE","xmlhttp"),Rf(d,p),d.m&&d.o&&ZA(p,d.m,d.o),d.L&&(d.g.I=d.L);var m=d.g;d=d.ia,m.L=1,m.v=fy(zo(p)),m.m=null,m.P=!0,y6(m,d)}function yy(d){null!=d.C&&(a.clearTimeout(d.C),d.C=null)}function G6(d,p){var m=null;if(d.g==p){yy(d),nS(d),d.g=null;var w=2}else{if(!JA(d.h,p))return;m=p.D,E6(d.h,p),w=1}if(0!=d.G)if(p.o)if(1==w){m=p.m?p.m.length:0,p=Date.now()-p.F;var N=d.B;hr(w=ay(),new p6(w,m)),_y(d)}else z6(d);else if(3==(N=p.s)||0==N&&0<p.X||!(1==w&&function vbe(d,p){return!(I6(d.h)>=d.h.j-(d.s?1:0)||(d.s?(d.i=p.D.concat(d.i),0):1==d.G||2==d.G||d.B>=(d.Va?0:d.Wa)||(d.s=Ef(f(d.Ga,d,p),W6(d,d.B)),d.B++,0)))}(d,p)||2==w&&tS(d)))switch(m&&0<m.length&&(p=d.h,p.i=p.i.concat(m)),N){case 1:rc(d,5);break;case 4:rc(d,10);break;case 3:rc(d,6);break;default:rc(d,2)}}function W6(d,p){let m=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(m*=2),m*p}function rc(d,p){if(d.j.info("Error code "+p),2==p){var m=f(d.fb,d),w=d.Xa;const N=!w;w=new nc(w||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||dy(w,"https"),fy(w),N?function hbe(d,p){const m=new Tf;if(a.Image){const w=new Image;w.onload=g(qs,m,"TestLoadImage: loaded",!0,p,w),w.onerror=g(qs,m,"TestLoadImage: error",!1,p,w),w.onabort=g(qs,m,"TestLoadImage: abort",!1,p,w),w.ontimeout=g(qs,m,"TestLoadImage: timeout",!1,p,w),a.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=d}else p(!1)}(w.toString(),m):function fbe(d,p){new Tf;const w=new AbortController,N=setTimeout(()=>{w.abort(),qs(0,0,!1,p)},1e4);fetch(d,{signal:w.signal}).then(H=>{clearTimeout(N),qs(0,0,!!H.ok,p)}).catch(()=>{clearTimeout(N),qs(0,0,!1,p)})}(w.toString(),m)}else fr(2);d.G=0,d.l&&d.l.sa(p),K6(d),$6(d)}function K6(d){if(d.G=0,d.ka=[],d.l){const p=T6(d.h);(0!=p.length||0!=d.i.length)&&(E(d.ka,p),E(d.ka,d.i),d.h.i.length=0,I(d.i),d.i.length=0),d.l.ra()}}function Q6(d,p,m){var w=m instanceof nc?zo(m):new nc(m);if(""!=w.g)p&&(w.g=p+"."+w.g),hy(w,w.s);else{var N=a.location;w=N.protocol,p=p?p+"."+N.hostname:N.hostname,N=+N.port;var H=new nc(null);w&&dy(H,w),p&&(H.g=p),N&&hy(H,N),m&&(H.l=m),w=H}return p=d.ya,(m=d.D)&&p&&Tt(w,m,p),Tt(w,"VER",d.la),Rf(d,w),w}function Y6(d,p,m){if(p&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return(p=new Ht(d.Ca&&!d.pa?new xf({eb:m}):d.pa)).Ha(d.J),p}function J6(){}function vy(){}function $r(d,p){Gn.call(this),this.g=new j6(p),this.l=d,this.h=p&&p.messageUrlParams||null,d=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(d?d["X-WebChannel-Content-Type"]=p.messageContentType:d={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(d?d["X-WebChannel-Client-Profile"]=p.va:d={"X-WebChannel-Client-Profile":p.va}),this.g.S=d,(d=p&&p.Sb)&&!M(d)&&(this.g.m=d),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!M(p)&&(this.g.D=p,null!==(d=this.h)&&p in d&&p in(d=this.h)&&delete d[p]),this.j=new Pl(this)}function X6(d){zA.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var p=d.__sm__;if(p){e:{for(const m in p){d=m;break e}d=void 0}(this.i=d)&&(d=this.i,p=null!==p&&d in p?p[d]:void 0),this.data=p}else this.data=d}function Z6(){qA.call(this),this.status=1}function Pl(d){this.g=d}(n=Ht.prototype).Ha=function(d){this.J=d},n.ea=function(d,p,m,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);p=p?p.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():GA.g(),this.v=function u6(d){return d.h||(d.h=d.i())}(this.o?this.o:GA),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(d),!0),this.B=!1}catch(H){return void N6(this,H)}if(d=m||"",m=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var N in w)m.set(N,w[N]);else{if("function"!=typeof w.keys||"function"!=typeof w.get)throw Error("Unknown input type for opt_headers: "+String(w));for(const H of w.keys())m.set(H,w.get(H))}w=Array.from(m.keys()).find(H=>"content-type"==H.toLowerCase()),N=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(_be,p,void 0))||w||N||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,oe]of m)this.g.setRequestHeader(H,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{L6(this),this.u=!0,this.g.send(d),this.u=!1}catch(H){N6(this,H)}},n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,hr(this,"complete"),hr(this,"abort"),gy(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gy(this,!0)),Ht.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?V6(this):this.bb())},n.bb=function(){V6(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<qo(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var p=this.g.responseText;return d&&0==p.indexOf(d)&&(p=p.substring(d.length)),Qve(p)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=j6.prototype).la=8,n.G=1,n.connect=function(d,p,m,w){fr(0),this.W=d,this.H=p||{},m&&void 0!==w&&(this.H.OSID=m,this.H.OAID=w),this.F=this.X,this.I=Q6(this,null,this.W),_y(this)},n.Ga=function(d){if(this.s)if(this.s=null,1==this.G){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const N=new Hs(this,this.j,d);let H=this.o;if(this.S&&(H?(H=P(H),k(H,this.S)):H=this.S),null!==this.m||this.O||(N.H=H,H=null),this.P)e:{for(var p=0,m=0;m<this.i.length;m++){var w=this.i[m];if(void 0===(w="__data__"in w.map&&"string"==typeof(w=w.map.__data__)?w.length:void 0))break;if(4096<(p+=w)){p=m;break e}if(4096===p||m===this.i.length-1){p=m+1;break e}}p=1e3}else p=1e3;p=H6(this,N,p),Tt(m=zo(this.I),"RID",d),Tt(m,"CVER",22),this.D&&Tt(m,"X-HTTP-Session-Id",this.D),Rf(this,m),H&&(this.O?p="headers="+encodeURIComponent(String(R6(H)))+"&"+p:this.m&&ZA(m,this.m,H)),XA(this.h,N),this.Ua&&Tt(m,"TYPE","init"),this.P?(Tt(m,"$req",p),Tt(m,"SID","null"),N.T=!0,KA(N,m,null)):KA(N,m,p),this.G=2}}else 3==this.G&&(d?B6(this,d):0==this.i.length||w6(this.h)||B6(this))},n.Fa=function(){if(this.u=null,q6(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Ef(f(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,fr(10),my(this),q6(this))},n.Za=function(){null!=this.C&&(this.C=null,my(this),tS(this),fr(19))},n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),fr(2)):(this.j.info("Failed to ping google.com"),fr(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=J6.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},vy.prototype.g=function(d,p){return new $r(d,p)},b($r,Gn),$r.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$r.prototype.close=function(){eS(this.g)},$r.prototype.o=function(d){var p=this.g;if("string"==typeof d){var m={};m.__data__=d,d=m}else this.u&&((m={}).__data__=BA(d),d=m);p.i.push(new class{constructor(d,p){this.g=d,this.map=p}}(p.Ya++,d)),3==p.G&&_y(p)},$r.prototype.N=function(){this.g.l=null,delete this.j,eS(this.g),delete this.g,$r.aa.N.call(this)},b(X6,zA),b(Z6,qA),b(Pl,J6),Pl.prototype.ua=function(){hr(this.g,"a")},Pl.prototype.ta=function(d){hr(this.g,new X6(d))},Pl.prototype.sa=function(d){hr(this.g,new Z6)},Pl.prototype.ra=function(){hr(this.g,"b")},vy.prototype.createWebChannel=vy.prototype.g,$r.prototype.send=$r.prototype.o,$r.prototype.open=$r.prototype.m,$r.prototype.close=$r.prototype.close,Ro.createWebChannelTransport=function(){return new vy},Ro.getStatEventTarget=function(){return ay()},Ro.Event=ec,Ro.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cy.NO_ERROR=0,cy.TIMEOUT=8,cy.HTTP_ERROR=6,Ro.ErrorCode=cy,g6.COMPLETE="complete",Ro.EventType=g6,l6.EventType=wf,wf.OPEN="a",wf.CLOSE="b",wf.ERROR="c",wf.MESSAGE="d",Gn.prototype.listen=Gn.prototype.K,Ro.WebChannel=l6,Ro.FetchXmlHttpFactory=xf,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,Ro.XhrIo=Ht}).apply(typeof Nm<"u"?Nm:typeof self<"u"?self:typeof window<"u"?window:{});const F4="@firebase/firestore";class gn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");let Su="10.14.0";const _s=new yu("@firebase/firestore");function X(n,...e){if(_s.logLevel<=He.DEBUG){const t=e.map(mP);_s.debug(`Firestore (${Su}): ${n}`,...t)}}function Qt(n,...e){if(_s.logLevel<=He.ERROR){const t=e.map(mP);_s.error(`Firestore (${Su}): ${n}`,...t)}}function mP(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function fe(n="Unexpected state"){const e=`FIRESTORE (${Su}) INTERNAL ASSERTION FAILED: `+n;throw Qt(e),new Error(e)}function me(n,e){n||fe()}const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends ei{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class V4{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ble{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(gn.UNAUTHENTICATED))}shutdown(){}}class Hle{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class zle{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;me(void 0===this.o);let i=this.i;const o=u=>this.i!==i?(i=this.i,t(u)):Promise.resolve();let s=new mn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new mn,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(v(function*(){yield u.promise,yield o(r.currentUser)}))},c=u=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new mn)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(me("string"==typeof r.accessToken),new V4(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return me(null===e||"string"==typeof e),new gn(e)}}class qle{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Gle{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new qle(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(gn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class L4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Wle{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){me(void 0===this.o);const r=o=>{null!=o.error&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,X("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(me("string"==typeof t.token),this.R=t.token,new L4(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Me(n,e){return n<e?-1:n>e?1:0}class wh{constructor(e,t,r){void 0===t?t=0:t>e.length&&fe(),void 0===r?r=e.length-t:r>e.length-t&&fe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===wh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof wh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ge extends wh{construct(e,t,r){return new Ge(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new J(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Ge(t)}static emptyPath(){return new Ge([])}}class ae{constructor(e){this.path=e}static fromPath(e){return new ae(Ge.fromString(e))}static fromName(e){return new ae(Ge.fromString(e).popFirst(5))}static empty(){return new ae(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ge.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ge.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new Ge(e.slice()))}}class bt{constructor(e,t){this.comparator=e,this.root=t||Sn.EMPTY}insert(e,t){return new bt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Sn.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Um(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Um(this.root,e,this.comparator,!1)}getReverseIterator(){return new Um(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Um(this.root,e,this.comparator,!0)}}class Um{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sn{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Sn.RED,this.left=i??Sn.EMPTY,this.right=o??Sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Sn(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Sn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fe();const e=this.left.check();if(e!==this.right.check())throw fe();return e+(this.isRed()?0:1)}}Sn.EMPTY=null,Sn.RED=!0,Sn.BLACK=!1,Sn.EMPTY=new class{constructor(){this.size=0}get key(){throw fe()}get value(){throw fe()}get color(){throw fe()}get left(){throw fe()}get right(){throw fe()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Sn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class lt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new rU(this.data.getIterator())}getIteratorFrom(e){return new rU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof lt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new lt(this.comparator);return t.data=e,t}}class rU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class iU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Bt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new iU("Invalid base64 string: "+o):o}}(e);return new Bt(t)}static fromUint8Array(e){const t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Bt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bt.EMPTY_BYTE_STRING=new Bt("");const Cde=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ot(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}class Sa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Sa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Sa&&e.projectId===this.projectId&&e.database===this.database}}var tn,Ye,N1,gj;new bt(ae.comparator),new bt(ae.comparator),new bt(ae.comparator),new lt(ae.comparator),new lt(Me),(Ye=tn||(tn={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS",new Ta([4294967295,4294967295],0),Error;class Va{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Ot(e.integerValue));else if("doubleValue"in e){const r=Ot(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),function Th(n){return 0===n&&1/n==-1/0}(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),"string"==typeof r&&(r=function No(n){if(me(!!n),"string"==typeof n){let e=0;const t=Cde.exec(n);if(me(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ot(n.seconds),nanos:Ot(n.nanos)}}(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(function Fo(n){return"string"==typeof n?Bt.fromBase64String(n):Bt.fromUint8Array(n)}(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?function uU(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.dt(t,Number.MAX_SAFE_INTEGER):function qm(n){var e,t;return"__vector__"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):fe()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const r=e.fields||{};this.dt(t,55);for(const i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;const o=e.fields||{};this.dt(t,53);const s="value",a=(null===(i=null===(r=o[s].arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.length)||0;this.dt(t,15),t.At(Ot(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){const r=e.values||[];this.dt(t,50);for(const i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),ae.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}Va.vt=new Va,new Uint8Array(0);class Bn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Bn(e,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function g_(){return typeof document<"u"?document:null}Bn.DEFAULT_COLLECTION_PERCENTILE=10,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bn.DEFAULT=new Bn(41943040,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bn.DISABLED=new Bn(-1,0,0);class d1{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class S1{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new mn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const s=Date.now()+r,a=new S1(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new J(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}(gj=N1||(N1={})).ea="default",gj.Cache="cache";const Nj=new Map;function ze(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new J(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=function w_(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":fe()}(n);throw new J(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class Uj{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new J(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new J(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Bfe(n,e,t,r){if(!0===e&&!0===r)throw new J(B.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=function Rj(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new J(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new J(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new J(B.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xh{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uj({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new J(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new J(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uj(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Ble;switch(r.type){case"firstParty":return new Gle(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return v(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Nj.get(t);r&&(X("ComponentProvider","Removing Datastore"),Nj.delete(t),r.terminate())}(this),Promise.resolve()}}function Hfe(n,e,t,r={}){var i;const o=(n=ze(n,Xh))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&function ii(n,...e){if(_s.logLevel<=He.WARN){const t=e.map(mP);_s.warn(`Firestore (${Su}): ${n}`,...t)}}("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=gn.MOCK_USER;else{a=function Mne(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Yg(JSON.stringify({alg:"none",type:"JWT"})),Yg(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new J(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new gn(u)}n._authCredentials=new Hle(new V4(a,c))}}class $j{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new d1(this,"async_queue_retry"),this.Vu=()=>{const r=g_();r&&X("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const t=g_();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=g_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new mn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return v(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(t){if(!function vs(n){return"IndexedDbTransactionError"===n.name}(t))throw t;X("AsyncQueue","Operation failed with retryable error: "+t)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(r=>{throw this.Eu=r,this.du=!1,Qt("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const i=S1.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&fe()}verifyOperationInProgress(){}wu(){var e=this;return v(function*(){let t;do{t=e.mu,yield t}while(t!==e.mu)})()}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class ft extends Xh{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new $j,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){var e=this;return v(function*(){if(e._firestoreClient){const t=e._firestoreClient.terminate();e._queue=new $j(t),e._firestoreClient=void 0,yield t}})()}}function Gfe(n,e){const r="string"==typeof n?n:e||"(default)",i=vu("object"==typeof n?n:j0(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(n=>{const e=RV("firestore");if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]})();o&&Hfe(i,...o)}return i}new RegExp("[~\\*/\\[\\]]"),function(e,t=!0){Su=ma,ur(new Un("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new ft(new zle(r.getProvider("auth-internal")),new Wle(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new J(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sa(u.options.projectId,l)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Nt(F4,"4.7.3",e),Nt(F4,"4.7.3","esm2017")}();class RM{constructor(e){return e}}const a$="firestore",NM=new ue("angularfire2.firestore-instances");function mpe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new RM(r)}}const _pe={provide:class ppe{constructor(){return xI(a$)}},deps:[[new rr,NM]]},ype={provide:RM,useFactory:function gpe(n,e){const t=SI(a$,n,e);return t&&new RM(t)},deps:[[new rr,NM],Iu]};let vpe=(()=>{class n{constructor(){Nt("angularfire",dm.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=li({type:n}),n.\u0275inj=qr({providers:[ype,_pe]}),n})();const Cpe=DI(Gfe,!0);let c$=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(W(uo),W(vr))}}static{this.\u0275dir=Pe({type:n})}}return n})(),Ga=(()=>{class n extends c${static{this.\u0275fac=function(){let t;return function(i){return(t||(t=En(n)))(i||n)}}()}static{this.\u0275dir=Pe({type:n,features:[st]})}}return n})();const Gi=new ue("NgValueAccessor"),Ipe={provide:Gi,useExisting:gt(()=>FM),multi:!0};let FM=(()=>{class n extends Ga{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=En(n)))(i||n)}}()}static{this.\u0275dir=Pe({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&G("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[St([Ipe]),st]})}}return n})();const Epe={provide:Gi,useExisting:gt(()=>Wi),multi:!0},Ppe=new ue("CompositionEventMode");let Wi=(()=>{class n extends c${constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Tpe(){const n=as()?as().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(W(uo),W(vr),W(Ppe,8))}}static{this.\u0275dir=Pe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&G("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[St([Epe]),st]})}}return n})();const zn=new ue("NgValidators"),Rs=new ue("NgAsyncValidators");function h$(n){return function ks(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function N_(n){return null}function y$(n){return null!=n}function v$(n){return gd(n)?sn(n):n}function b$(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function C$(n,e){return e.map(t=>t(n))}function w$(n){return n.map(e=>function Ape(n){return!n.validate}(e)?e:t=>e.validate(t))}function VM(n){return null!=n?function I$(n){if(!n)return null;const e=n.filter(y$);return 0==e.length?null:function(t){return b$(C$(t,e))}}(w$(n)):null}function LM(n){return null!=n?function E$(n){if(!n)return null;const e=n.filter(y$);return 0==e.length?null:function(t){return function wpe(...n){const e=ES(n),{args:t,keys:r}=IF(n),i=new Mt(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let c=s,u=s;for(let l=0;l<s;l++){let h=!1;Mr(t[l]).subscribe(Xt(o,f=>{h||(h=!0,u--),a[l]=f},()=>c--,void 0,()=>{(!c||!h)&&(u||o.next(r?TF(r,a):a),o.complete())}))}});return e?i.pipe(EF(e)):i}(C$(t,e).map(v$)).pipe(qe(b$))}}(w$(n)):null}function T$(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function UM(n){return n?Array.isArray(n)?n:[n]:[]}function F_(n,e){return Array.isArray(n)?n.includes(e):n===e}function A$(n,e){const t=UM(e);return UM(n).forEach(i=>{F_(t,i)||t.push(i)}),t}function S$(n,e){return UM(e).filter(t=>!F_(n,t))}class x${constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=VM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=LM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class dr extends x${get formDirective(){return null}get path(){return null}}class Ns extends x${constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class O${constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Fs=(()=>{class n extends O${constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(W(Ns,2))}}static{this.\u0275dir=Pe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&we("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[st]})}}return n})(),D$=(()=>{class n extends O${constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(W(dr,10))}}static{this.\u0275dir=Pe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&we("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[st]})}}return n})();const cf="VALID",L_="INVALID",fl="PENDING",uf="DISABLED";function BM(n){return(U_(n)?n.validators:n)||null}function HM(n,e){return(U_(e)?e.asyncValidators:n)||null}function U_(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class zM{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===cf}get invalid(){return this.status===L_}get pending(){return this.status==fl}get disabled(){return this.status===uf}get enabled(){return this.status!==uf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(A$(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(A$(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(S$(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(S$(e,this._rawAsyncValidators))}hasValidator(e){return F_(this._rawValidators,e)}hasAsyncValidator(e){return F_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=fl,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=uf,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=cf,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===cf||this.status===fl)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?uf:cf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=fl,this._hasOwnPendingAsyncValidator=!0;const t=v$(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Rt,this.statusChanges=new Rt}_calculateStatus(){return this._allControlsDisabled()?uf:this.errors?L_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fl)?fl:this._anyControlsHaveStatus(L_)?L_:cf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){U_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Dpe(n){return Array.isArray(n)?VM(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function kpe(n){return Array.isArray(n)?LM(n):n||null}(this._rawAsyncValidators)}}class qM extends zM{constructor(e,t,r){super(BM(t),HM(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function N$(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new Z(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function R$(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new Z(1e3,"");if(!r[t])throw new Z(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const pl=new ue("CallSetDisabledState",{providedIn:"root",factory:()=>j_}),j_="always";function lf(n,e,t=j_){GM(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Fpe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&F$(n,e)})}(n,e),function Lpe(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Vpe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&F$(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Npe(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function H_(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function GM(n,e){const t=function P$(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(T$(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function M$(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(T$(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();H_(e._rawValidators,i),H_(e._rawAsyncValidators,i)}function F$(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const Hpe={provide:dr,useExisting:gt(()=>q_)},df=(()=>Promise.resolve())();let q_=(()=>{class n extends dr{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Rt,this.form=new qM({},VM(t),LM(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){df.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),lf(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){df.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){df.then(()=>{const r=this._findContainer(t.path),i=new qM({});(function V$(n,e){GM(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){df.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){df.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function L$(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(W(zn,10),W(Rs,10),W(pl,8))}}static{this.\u0275dir=Pe({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&G("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[St([Hpe]),st]})}}return n})();function U$(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function j$(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const $$=class extends zM{constructor(e=null,t,r){super(BM(t),HM(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),U_(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=j$(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){U$(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){U$(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){j$(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Gpe={provide:Ns,useExisting:gt(()=>Bo)},z$=(()=>Promise.resolve())();let Bo=(()=>{class n extends Ns{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new $$,this._registered=!1,this.name="",this.update=new Rt,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function QM(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===Wi?t=o:function $pe(n){return Object.getPrototypeOf(n.constructor)===Ga}(o)?r=o:i=o}),i||r||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function KM(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){lf(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){z$.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&iu(r);z$.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function $_(n,e){return[...e.path,n]}(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(W(dr,9),W(zn,10),W(Rs,10),W(Gi,10),W(ru,8),W(pl,8))}}static{this.\u0275dir=Pe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[St([Gpe]),st,Wr]})}}return n})(),q$=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Pe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),W$=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=li({type:n})}static{this.\u0275inj=qr({})}}return n})();const nge={provide:Gi,useExisting:gt(()=>G_),multi:!0};function eB(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let G_=(()=>{class n extends Ga{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=eB(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function rge(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=En(n)))(i||n)}}()}static{this.\u0275dir=Pe({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&G("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[St([nge]),st]})}}return n})(),tB=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(eB(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(W(vr),W(uo),W(G_,9))}}static{this.\u0275dir=Pe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();const ige={provide:Gi,useExisting:gt(()=>ZM),multi:!0};function nB(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let ZM=(()=>{class n extends Ga{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const u=this._getOptionValue(s[a].value);i.push(u)}}else{const s=r.options;for(let a=0;a<s.length;a++){const c=s[a];if(c.selected){const u=this._getOptionValue(c.value);i.push(u)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function oge(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=En(n)))(i||n)}}()}static{this.\u0275dir=Pe({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&G("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[St([ige]),st]})}}return n})(),rB=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(nB(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(nB(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(W(vr),W(uo),W(ZM,9))}}static{this.\u0275dir=Pe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();let Wa=(()=>{class n{constructor(){this._validator=N_}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):N_,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Pe({type:n,features:[Wr]})}}return n})();const cge={provide:zn,useExisting:gt(()=>W_),multi:!0};let W_=(()=>{class n extends Wa{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=iu,this.createValidator=t=>h$}enabled(t){return t}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=En(n)))(i||n)}}()}static{this.\u0275dir=Pe({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&xi("required",i._enabled?"":null)},inputs:{required:"required"},features:[St([cge]),st]})}}return n})();const hge={provide:zn,useExisting:gt(()=>eA),multi:!0};let eA=(()=>{class n extends Wa{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function iB(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>function m$(n){return e=>function u$(n){return null!=n&&"number"==typeof n.length}(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(t)}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=En(n)))(i||n)}}()}static{this.\u0275dir=Pe({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){2&r&&xi("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[St([hge]),st]})}}return n})(),pge=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=li({type:n})}static{this.\u0275inj=qr({imports:[W$]})}}return n})(),Ka=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:pl,useValue:t.callSetDisabledState??j_}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=li({type:n})}static{this.\u0275inj=qr({imports:[pge]})}}return n})();const jr_apiUrl="https://music-uptc-sogamoso-back.vercel.app",jr_firebaseConfig={apiKey:"AIzaSyAehdTsKYuyXdmBngoGthTpaMPrw4nsga4",authDomain:"musicuptcsogamoso.firebaseapp.com",projectId:"musicuptcsogamoso",storageBucket:"musicuptcsogamoso.firebasestorage.app",messagingSenderId:"1011403818121",appId:"1:1011403818121:web:eea45507f1bdcd3631b258",measurementId:"G-BFW1T6D1J1"};let hB=(()=>{class n{http;apiUrl=jr_apiUrl;constructor(t){this.http=t}searchTracks(t){return this.http.get(`${this.apiUrl}/api/search?q=${encodeURIComponent(t)}`).pipe(qe(r=>r.map(i=>({id:i.id,name:i.name,artists:i.artists,album:i.album,image:i.image,preview_url:i.preview_url,duration_ms:i.duration_ms}))))}getAuthUrl(){return this.http.get(`${this.apiUrl}/api/spotify/auth`)}getCurrentlyPlaying(){return this.http.get(`${this.apiUrl}/api/spotify/currently-playing`)}getStatus(){return this.http.get(`${this.apiUrl}/api/spotify/admin/status`)}static \u0275fac=function(r){return new(r||n)(le(yi))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function fB(n=0,e,t=jse){let r=-1;return null!=e&&(IS(e)?t=e:r=e),new Mt(i=>{let o=function mge(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function K_(n=0,e=CI){return n<0&&(n=0),fB(n,n,e)}let Qa=(()=>{class n{http;apiUrl=jr_apiUrl;currentUserSubject=new hn(null);currentUser=this.currentUserSubject.asObservable();constructor(t){this.http=t;const r=localStorage.getItem("adminToken"),i=localStorage.getItem("adminUser");r&&i&&this.currentUserSubject.next(JSON.parse(i))}login(t,r){return this.http.post(`${this.apiUrl}/api/auth/login`,{email:t,password:r}).pipe(at(i=>{i.token&&(localStorage.setItem("adminToken",i.token),localStorage.setItem("adminUser",JSON.stringify(i.user)),localStorage.setItem("auth_token",i.token),this.currentUserSubject.next(i.user))}))}logout(){localStorage.removeItem("adminToken"),localStorage.removeItem("adminUser"),this.currentUserSubject.next(null)}isLoggedIn(){return!!localStorage.getItem("adminToken")}getAuthToken(){return localStorage.getItem("adminToken")}getAuthHeaders(){const t=this.getToken();return new Zr(t?{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}:{"Content-Type":"application/json"})}getToken(){return localStorage.getItem("adminToken")}static \u0275fac=function(r){return new(r||n)(le(yi))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gl=(()=>{class n{http;authService;apiUrl=jr_apiUrl;cachedSongs=[];lastFetchTime=0;CACHE_DURATION=2e3;cachedVotingStatus=null;lastVotingStatusFetch=0;constructor(t,r){this.http=t,this.authService=r}getCacheBustedUrl(t){const r=t.includes("?")?"&":"?";return`${t}${r}_=${(new Date).getTime()}`}invalidateCache(){this.cachedSongs=[],this.lastFetchTime=0}invalidateVotingStatusCache(){this.cachedVotingStatus=null,this.lastVotingStatusFetch=0}processSongs(t){return t&&0!==t.length?t.sort((r,i)=>r.votes>i.votes?-1:r.votes<i.votes?1:new Date(i.createdat).getTime()-new Date(r.createdat).getTime()):[]}voteForSong(t,r,i=!1){return this.http.post(`${this.apiUrl}/api/vote`,{trackid:t,trackInfo:r,is_dislike:i}).pipe(at(()=>{this.invalidateCache()}))}changeVote(t,r,i){return this.voteForSong(t,r,i)}getRankedSongsPolling(){return K_(3e4).pipe(kg(0),Yn(()=>this.getRankedSongs()))}getRankedSongs(){const t=Date.now();if(this.cachedSongs.length>0&&t-this.lastFetchTime<this.CACHE_DURATION)return ye([...this.cachedSongs]);const r=this.getCacheBustedUrl(`${this.apiUrl}/api/votes`);return this.http.get(r).pipe(qe(i=>{const o=this.processSongs(i||[]);return this.cachedSongs=o,this.lastFetchTime=t,o}))}getRecentlyAddedSongs(){return this.getRankedSongs().pipe(qe(t=>[...t].sort((r,i)=>new Date(i.createdat).getTime()-new Date(r.createdat).getTime()).slice(0,10)))}getSongs(){return this.getRankedSongs()}addToHistory(t){return this.http.post(`${this.apiUrl}/spotify/history`,{trackId:t})}vote(t,r,i=!1){return this.http.post(`${this.apiUrl}/vote`,{song:t,isDislike:r,isAdmin:i})}deleteSong(t){const r=this.authService.getAuthHeaders(),o=this.getCacheBustedUrl(`${this.apiUrl}/api/votes?trackid=${t}`);return this.http.delete(o,{headers:r}).pipe(at(()=>{this.invalidateCache()}))}deleteAllVotes(){const t=this.authService.getAuthHeaders(),r=this.getCacheBustedUrl(`${this.apiUrl}/api/votes/all`);return this.http.delete(r,{headers:t}).pipe(at(()=>{this.invalidateCache()}))}forceRefresh(){this.invalidateCache();const t=this.getCacheBustedUrl(`${this.apiUrl}/api/votes`);return this.http.get(t).pipe(qe(r=>{const i=this.processSongs(r||[]);return this.cachedSongs=i,this.lastFetchTime=Date.now(),i}))}getRankedSongsImmediate(){const t=this.getCacheBustedUrl(`${this.apiUrl}/api/votes`);return this.http.get(t).pipe(qe(r=>this.processSongs(r||[])))}getVotingStatus(){const t=this.getCacheBustedUrl(`${this.apiUrl}/api/voting/status`);return this.http.get(t)}submitVote(t){return this.http.post(`${this.apiUrl}/api/voting/vote`,{vote_type:t}).pipe(at(()=>{this.invalidateVotingStatusCache()}),Tn(r=>{let i="Error al votar";return r.error?.error?i=r.error.error:400===r.status?i="Solicitud incorrecta":409===r.status?i=r.error?.error||"Ya has votado por esta opci\xf3n":500===r.status?i="Error del servidor":0===r.status&&(i="Error de conexi\xf3n"),this.invalidateVotingStatusCache(),ls(()=>new Error(i))}))}getVotingStatusImmediate(){const t=this.getCacheBustedUrl(`${this.apiUrl}/api/voting/status`);return this.http.get(t)}static \u0275fac=function(r){return new(r||n)(le(yi),le(Qa))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _ge(n,e){1&n&&D(0,"i",11)}function yge(n,e){1&n&&D(0,"i",12)}function vge(n,e){1&n&&(_(0,"div",16),T(1," No se encontraron resultados. Intenta con otras palabras. "),y())}function bge(n,e){if(1&n){const t=Oe();_(0,"div",17)(1,"div",18)(2,"div",19)(3,"div",20),D(4,"img",21),y(),_(5,"div",22)(6,"h6",23),T(7),y(),_(8,"p",24),T(9),y(),_(10,"p",25),T(11),y()(),_(12,"div",26)(13,"button",27),G("click",function(){const o=ee(t).$implicit;return te(U(2).vote(o))}),D(14,"i",28),T(15,"Votar "),y()()()()()}if(2&n){const t=e.$implicit,r=U(2);C(4),j("src",t.image,Dr)("alt",t.name),C(3),he(t.name),C(2),he(t.artists.join(", ")),C(2),he(r.formatDuration(t.duration_ms))}}function Cge(n,e){if(1&n&&(_(0,"div"),Y(1,vge,2,0,"div",13),_(2,"div",14),Y(3,bge,16,5,"div",15),y()()),2&n){const t=U();C(1),j("ngIf",0===t.results.length&&!t.isLoading),C(2),j("ngForOf",t.results)}}let wge=(()=>{class n{spotifyService;votingService;voteCasted=new Rt;query="";results=[];isLoading=!1;searchPerformed=!1;constructor(t,r){this.spotifyService=t,this.votingService=r}search(){this.query.trim()&&(this.isLoading=!0,this.searchPerformed=!0,this.spotifyService.searchTracks(this.query).subscribe({next:t=>{this.results=t,this.isLoading=!1},error:t=>{console.error("Error al buscar:",t),this.isLoading=!1,alert("Error al buscar canciones. Intenta nuevamente.")}}))}vote(t){this.votingService.voteForSong(t.id,{name:t.name,artists:t.artists,image:t.album?.images?.[0]?.url||t.image,preview_url:t.preview_url,album:t.album?.name||"Unknown Album"}).subscribe({next:()=>{alert("\xa1Tu voto ha sido registrado!"),this.query="",this.results=[],this.searchPerformed=!1,this.voteCasted.emit()},error:i=>{409===i.status?alert("Ya has votado por esta canci\xf3n."):alert("Error al registrar tu voto. Intenta nuevamente.")}})}formatDuration(t){const r=Math.floor(t/6e4),i=(t%6e4/1e3).toFixed(0);return`${r}:${parseInt(i)<10?"0":""}${i}`}static \u0275fac=function(r){return new(r||n)(W(hB),W(gl))};static \u0275cmp=Jn({type:n,selectors:[["app-search"]],outputs:{voteCasted:"voteCasted"},standalone:!0,features:[or],decls:13,vars:5,consts:[[1,"card","mb-4"],[1,"card-header"],[1,"mb-0"],[1,"fas","fa-search","me-2"],[1,"card-body"],[1,"input-group","mb-3"],["type","text","placeholder","Nombre de canci\xf3n o artista...",1,"form-control",3,"ngModel","ngModelChange","keyup.enter"],[1,"btn","btn-primary",3,"disabled","click"],["class","fas fa-search me-1",4,"ngIf"],["class","fas fa-spinner fa-spin me-1",4,"ngIf"],[4,"ngIf"],[1,"fas","fa-search","me-1"],[1,"fas","fa-spinner","fa-spin","me-1"],["class","alert alert-info",4,"ngIf"],[1,"results-container"],["class","card mb-2 track-card",4,"ngFor","ngForOf"],[1,"alert","alert-info"],[1,"card","mb-2","track-card"],[1,"card-body","py-2"],[1,"row","align-items-center"],[1,"col-3","col-sm-2"],[1,"img-fluid","rounded",3,"src","alt"],[1,"col-5","col-sm-6"],[1,"mb-1","text-truncate"],[1,"text-muted","mb-1","small","text-truncate"],[1,"text-muted","mb-0","small"],[1,"col-4","col-sm-4","text-end"],[1,"btn","btn-success","btn-sm",3,"click"],[1,"fas","fa-thumbs-up","me-1"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"h5",2),D(3,"i",3),T(4,"Buscar canciones en Spotify "),y()(),_(5,"div",4)(6,"div",5)(7,"input",6),G("ngModelChange",function(s){return i.query=s})("keyup.enter",function(){return i.search()}),y(),_(8,"button",7),G("click",function(){return i.search()}),Y(9,_ge,1,0,"i",8),Y(10,yge,1,0,"i",9),T(11," Buscar "),y()(),Y(12,Cge,4,2,"div",10),y()()),2&r&&(C(7),j("ngModel",i.query),C(1),j("disabled",i.isLoading),C(1),j("ngIf",!i.isLoading),C(1),j("ngIf",i.isLoading),C(2),j("ngIf",i.searchPerformed))},dependencies:[Xr,ki,Vr,Ka,Wi,Fs,Bo],styles:[".track-card[_ngcontent-%COMP%]{transition:transform .2s,background-color .2s}.track-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);background-color:#282828}.results-container[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}@media (max-width: 576px){.track-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:.75rem}.track-card[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.9rem}.track-card[_ngcontent-%COMP%]   .btn-sm[_ngcontent-%COMP%]{padding:.2rem .5rem;font-size:.8rem}}.text-truncate[_ngcontent-%COMP%]{color:#fff;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"]})}return n})();function Ige(n,e){1&n&&(_(0,"span"),T(1,"Actualizar"),y())}function Ege(n,e){1&n&&(_(0,"span"),T(1,"Actualizando..."),y())}function Tge(n,e){if(1&n&&(_(0,"span"),T(1),y()),2&n){const t=U();C(1),ve("Espera ",t.countdown,"s")}}function Pge(n,e){1&n&&(_(0,"div",7),D(1,"div",8),_(2,"p"),T(3,"Cargando canciones..."),y()())}function Mge(n,e){if(1&n){const t=Oe();_(0,"div",17)(1,"div",18),D(2,"img",19),y(),_(3,"div",20)(4,"div",21)(5,"h6",22),T(6),y(),_(7,"p",23),T(8),y()(),_(9,"div",24)(10,"span",25),D(11,"i",26),T(12),y()(),_(13,"div")(14,"button",27),G("click",function(){const o=ee(t).$implicit;return te(U(3).vote(o,!1))}),D(15,"i",28),T(16),y(),_(17,"button",29),G("click",function(){const o=ee(t).$implicit;return te(U(3).vote(o,!0))}),D(18,"i",30),T(19),y()()()()}if(2&n){const t=e.$implicit,r=U(3);C(2),j("src",t.image,Dr)("alt",t.name),C(4),he(t.name),C(2),he(t.artists.join(", ")),C(4),ve("",r.formatTimeAgo(t.createdat)," "),C(2),we("active",r.hasUserLiked(t.id)),C(2),ve("",t.votes||0," "),C(1),we("active",r.hasUserDisliked(t.id)),C(2),ve("",t.dislikes||0," ")}}function Age(n,e){if(1&n&&(_(0,"div",14)(1,"h2"),T(2,"Reci\xe9n Agregadas"),y(),_(3,"div",15),Y(4,Mge,20,11,"div",16),y()()),2&n){const t=U(2);C(4),j("ngForOf",t.recentlyAddedSongs)}}function Sge(n,e){if(1&n){const t=Oe();_(0,"tr")(1,"td"),T(2),y(),_(3,"td")(4,"div",31),D(5,"img",32),_(6,"span"),T(7),y()()(),_(8,"td"),T(9),y(),_(10,"td")(11,"span",33),D(12,"i",28),T(13),y(),_(14,"span",34),D(15,"i",30),T(16),y()(),_(17,"td")(18,"span",35),T(19),y()(),_(20,"td")(21,"div",36)(22,"button",27),G("click",function(){const o=ee(t).$implicit;return te(U(2).vote(o,!1))}),D(23,"i",28),y(),_(24,"button",29),G("click",function(){const o=ee(t).$implicit;return te(U(2).vote(o,!0))}),D(25,"i",30),y()()()()}if(2&n){const t=e.$implicit,r=e.index,i=U(2);C(2),he(r+1),C(3),j("src",t.image,Dr)("alt",t.name),C(2),he(t.name),C(2),he(t.artists.join(", ")),C(4),ve(" ",t.votes||0," "),C(3),ve(" ",t.dislikes||0," "),C(3),he(i.formatTimeAgo(t.createdat)),C(3),we("active",i.hasUserLiked(t.id)),C(2),we("active",i.hasUserDisliked(t.id))}}function xge(n,e){if(1&n&&(_(0,"div",9),Y(1,Age,5,1,"div",10),_(2,"h2"),T(3,"Ranking General"),y(),_(4,"div",11)(5,"table",12)(6,"thead")(7,"tr")(8,"th"),T(9,"#"),y(),_(10,"th"),T(11,"T\xedtulo"),y(),_(12,"th"),T(13,"Artista"),y(),_(14,"th"),T(15,"Votos"),y(),_(16,"th"),T(17,"Agregada"),y(),_(18,"th"),T(19,"Acci\xf3n"),y()()(),_(20,"tbody"),Y(21,Sge,26,12,"tr",13),y()()()()),2&n){const t=U();C(1),j("ngIf",t.recentlyAddedSongs.length>0),C(20),j("ngForOf",t.songs)}}let Oge=(()=>{class n{votingService;songs=[];recentlyAddedSongs=[];isLoading=!0;isRefreshing=!1;userVotes=new Map;pollingSubscription=null;refreshCooldown=30;countdown=0;timerSubscription=null;constructor(t){this.votingService=t}ngOnInit(){this.startPolling()}ngOnDestroy(){this.pollingSubscription&&this.pollingSubscription.unsubscribe(),this.timerSubscription&&this.timerSubscription.unsubscribe()}startPolling(){this.pollingSubscription=this.votingService.getRankedSongsPolling().subscribe({next:t=>{this.songs=t,this.votingService.getRecentlyAddedSongs().subscribe({next:r=>{this.recentlyAddedSongs=r}}),this.isLoading=!1},error:t=>{console.error("Error al cargar canciones:",t),this.isLoading=!1}})}forceRefresh(){this.isRefreshing||this.countdown>0||(this.isRefreshing=!0,this.votingService.forceRefresh().subscribe({next:t=>{this.songs=t,this.votingService.getRecentlyAddedSongs().subscribe({next:r=>{this.recentlyAddedSongs=r,this.isRefreshing=!1,this.startCooldown()}})},error:t=>{console.error("Error al forzar actualizaci\xf3n:",t),this.isRefreshing=!1,this.startCooldown()}}))}hasUserLiked(t){return this.userVotes.has(t)&&!1===this.userVotes.get(t)}hasUserDisliked(t){return this.userVotes.has(t)&&!0===this.userVotes.get(t)}formatTimeAgo(t){try{if(!t)return"reciente";let r;if("string"!=typeof t)return"Reciente";if(r=t.includes("Z")||t.includes("+")?new Date(t):new Date(t+"Z"),isNaN(r.getTime()))return console.warn("Fecha inv\xe1lida:",t),"Reciente";const o=Math.floor(((new Date).getTime()-r.getTime())/1e3),s=Math.floor(o/60),a=Math.floor(o/3600),c=Math.floor(o/86400);return o<60?`${o} s`:s<60?`Hace ${s} min ${o%60} s`:a<24?`Hace ${a} h ${s%60} min`:1===c?"Ayer":`Hace ${c} d`}catch(r){return console.error("Error formateando fecha:",r,"Fecha recibida:",t),"Reciente"}}startCooldown(){this.timerSubscription&&this.timerSubscription.unsubscribe(),this.countdown=this.refreshCooldown,this.timerSubscription=fB(0,1e3).subscribe(()=>{this.countdown>0?this.countdown--:this.timerSubscription&&(this.timerSubscription.unsubscribe(),this.timerSubscription=null)})}vote(t,r=!1){const i={name:t.name,artists:t.artists,image:t.image,album:t.album,preview_url:t.preview_url};this.votingService.voteForSong(t.id,i,r).subscribe({next:o=>{o.deleted?alert("La canci\xf3n ha sido eliminada por recibir muchos dislikes"):(alert(`\xa1Tu ${r?"dislike":"like"} ha sido registrado!`),this.userVotes.set(t.id,r)),this.forceRefresh()},error:o=>{409===o.status?confirm("Ya has votado por esta canci\xf3n. \xbfQuieres cambiar tu voto?")&&this.votingService.changeVote(t.id,i,r).subscribe({next:s=>{s.deleted?alert("La canci\xf3n ha sido eliminada por recibir muchos dislikes"):(alert("\xa1Tu voto ha sido cambiado!"),this.userVotes.set(t.id,r)),this.forceRefresh()},error:s=>{alert("Error al cambiar tu voto. Intenta nuevamente.")}}):alert("Error al registrar tu voto. Intenta nuevamente.")}})}static \u0275fac=function(r){return new(r||n)(W(gl))};static \u0275cmp=Jn({type:n,selectors:[["app-voting-list"]],standalone:!0,features:[or],decls:11,vars:8,consts:[[1,"spotify-container"],[1,"header"],[1,"btn-refresh",3,"disabled","click"],[1,"fas","fa-sync-alt"],[4,"ngIf"],["class","loader",4,"ngIf"],["class","content",4,"ngIf"],[1,"loader"],[1,"spinner"],[1,"content"],["class","recently-added",4,"ngIf"],[1,"song-table-container"],[1,"song-table"],[4,"ngFor","ngForOf"],[1,"recently-added"],[1,"recent-songs-grid"],["class","recent-song-card",4,"ngFor","ngForOf"],[1,"recent-song-card"],[1,"recent-song-image-container"],[1,"recent-song-image",3,"src","alt"],[1,"recent-song-content"],[1,"recent-song-info"],[1,"recent-song-title"],[1,"recent-song-artist"],[1,"recent-song-meta"],[1,"badge","bg-secondary"],[1,"fas","fa-clock","me-1"],[1,"btn-vote","like-btn",3,"click"],[1,"fas","fa-thumbs-up"],[1,"btn-vote","dislike-btn",3,"click"],[1,"fas","fa-thumbs-down"],[1,"song-cell"],[3,"src","alt"],[1,"vote-count"],[1,"dislike-count"],[1,"time-ago"],[1,"vote-actions"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"h1"),T(3,"Votaci\xf3n de Canciones"),y(),_(4,"button",2),G("click",function(){return i.forceRefresh()}),D(5,"i",3),Y(6,Ige,2,0,"span",4),Y(7,Ege,2,0,"span",4),Y(8,Tge,2,1,"span",4),y()(),Y(9,Pge,4,0,"div",5),Y(10,xge,22,2,"div",6),y()),2&r&&(C(4),j("disabled",i.isRefreshing||i.countdown>0),C(1),we("fa-spin",i.isRefreshing),C(1),j("ngIf",!i.isRefreshing&&0===i.countdown),C(1),j("ngIf",i.isRefreshing),C(1),j("ngIf",!i.isRefreshing&&i.countdown>0),C(1),j("ngIf",i.isLoading),C(1),j("ngIf",!i.isLoading))},dependencies:[Xr,ki,Vr],styles:['.spotify-container[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border:1px solid rgba(255,255,255,.1);border-radius:16px;padding:2rem;color:var(--text-primary);box-shadow:0 10px 30px #0003;margin-bottom:2rem}.spotify-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding-bottom:1rem;border-bottom:1px solid rgba(255,255,255,.1)}.spotify-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:800;background:linear-gradient(135deg,var(--text-primary) 0%,var(--primary-color) 100%);-webkit-text-fill-color:transparent;-webkit-background-clip:text;background-clip:text;margin:0}.btn-refresh[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color) 0%,#1aa34a 100%);color:var(--text-primary);border:none;padding:.8rem 1.5rem;border-radius:50px;cursor:pointer;font-weight:700;transition:all .3s ease;display:flex;align-items:center;gap:.5rem;box-shadow:0 5px 15px #1db9544d}.btn-refresh[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 8px 20px #1db95466}.btn-refresh[_ngcontent-%COMP%]:disabled{opacity:.7;transform:none;box-shadow:none;cursor:not-allowed}.loader[_ngcontent-%COMP%]{text-align:center;padding:3rem}.loader[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{border:4px solid rgba(255,255,255,.2);border-left-color:var(--primary-color);border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem;box-shadow:0 0 15px #1db9544d}.loader[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:1rem}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin-bottom:1.5rem;padding-bottom:.8rem;border-bottom:2px solid rgba(255,255,255,.1);color:var(--text-primary)}.recently-added[_ngcontent-%COMP%]{margin-bottom:3rem}.recently-added[_ngcontent-%COMP%]   .song-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.8rem}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]{display:flex;align-items:center;background:rgba(42,42,42,.5);padding:1rem;border-radius:12px;transition:all .3s ease;border:1px solid rgba(255,255,255,.05)}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]:hover{background:rgba(42,42,42,.7);transform:translateY(-3px);border-color:#1db95433;box-shadow:0 8px 25px #0003}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:8px;margin-right:1rem;box-shadow:0 4px 15px #0000004d;transition:all .3s ease}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]{flex-grow:1;min-width:0}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;margin:0;color:var(--text-primary)}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary);margin:.3rem 0 0}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]   .song-actions[_ngcontent-%COMP%]{margin-left:1rem}.song-table-container[_ngcontent-%COMP%]{overflow-x:auto;border-radius:12px;background:rgba(42,42,42,.3);padding:1rem}.song-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.song-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .song-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;text-align:left;border-bottom:1px solid rgba(255,255,255,.1)}.song-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.9rem;text-transform:uppercase;font-weight:600;letter-spacing:.5px}.song-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:all .3s ease}.song-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.05)}.song-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.song-cell[_ngcontent-%COMP%]{display:flex;align-items:center}.song-cell[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:8px;margin-right:1rem;box-shadow:0 4px 15px #0000004d}.vote-count[_ngcontent-%COMP%]{display:flex;align-items:center;font-weight:700;color:var(--text-primary)}.vote-count[_ngcontent-%COMP%]   .fa-thumbs-up[_ngcontent-%COMP%]{color:var(--primary-color);margin-right:.5rem;font-size:1.1rem}.btn-vote[_ngcontent-%COMP%]{background:transparent;color:var(--primary-color);border:2px solid var(--primary-color);padding:.5rem 1.2rem;border-radius:50px;cursor:pointer;transition:all .3s ease;font-weight:700}.btn-vote[_ngcontent-%COMP%]:hover{background:var(--primary-color);color:var(--text-primary);transform:translateY(-2px);box-shadow:0 5px 15px #1db9544d}.btn-vote-small[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color) 0%,#1aa34a 100%);color:var(--text-primary);border:none;padding:.6rem 1.2rem;border-radius:50px;cursor:pointer;font-weight:700;transition:all .3s ease;box-shadow:0 4px 12px #1db9544d}.btn-vote-small[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 16px #1db95466}@media (max-width: 768px){.spotify-container[_ngcontent-%COMP%]{padding:1.5rem}.header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.song-table[_ngcontent-%COMP%]{font-size:.9rem}.song-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .song-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.8rem}.song-cell[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.song-cell[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:0;margin-bottom:.5rem}}.recently-added[_ngcontent-%COMP%]{margin-bottom:2rem}.recently-added[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;margin-bottom:1rem;padding-bottom:.5rem;border-bottom:2px solid rgba(255,255,255,.1);color:var(--text-primary)}.recent-songs-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1rem;margin-bottom:1.5rem}.recent-song-card[_ngcontent-%COMP%]{background:rgba(42,42,42,.5);border-radius:10px;padding:.8rem;display:flex;align-items:center;transition:all .3s ease;border:1px solid rgba(255,255,255,.05);position:relative;overflow:hidden;gap:.8rem;min-height:80px}.recent-song-card[_ngcontent-%COMP%]:hover{background:rgba(42,42,42,.7);transform:translateY(-3px);border-color:#1db95433;box-shadow:0 5px 15px #0003}.recent-song-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:3px;height:100%;background:linear-gradient(to bottom,var(--primary-color),var(--accent-purple))}.recent-song-image-container[_ngcontent-%COMP%]{flex-shrink:0;width:50px;height:50px;border-radius:6px;overflow:hidden;position:relative}.recent-song-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .3s ease}.recent-song-card[_ngcontent-%COMP%]:hover   .recent-song-image[_ngcontent-%COMP%]{transform:scale(1.1)}.recent-song-content[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;gap:.4rem;min-width:0}.recent-song-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{display:flex;gap:.5rem;margin-top:.3rem}.recent-song-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child   .btn-vote[_ngcontent-%COMP%]{padding:.25rem .6rem;font-size:.75rem;border-radius:4px;min-width:auto}.recent-song-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child   .btn-vote[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.7rem;margin-right:.3rem}.recent-song-info[_ngcontent-%COMP%]{min-width:0}.recent-song-title[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:var(--text-primary);margin:0;line-height:1.2;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}.recent-song-artist[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-secondary);margin:0;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}.recent-song-meta[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.recent-song-meta[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.3rem .6rem;border-radius:12px;font-size:.7rem;font-weight:600}.recent-song-meta[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.6rem}.dislike-btn[_ngcontent-%COMP%]{background:transparent;color:#f44336;border:2px solid #f44336}.dislike-btn[_ngcontent-%COMP%]:hover, .dislike-btn.active[_ngcontent-%COMP%]{background:#f44336;color:#fff}.like-btn[_ngcontent-%COMP%]{background:transparent;color:var(--primary-color);border:2px solid var(--primary-color)}.like-btn[_ngcontent-%COMP%]:hover, .like-btn.active[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff}.vote-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.vote-actions[_ngcontent-%COMP%]   .btn-vote[_ngcontent-%COMP%]{padding:.3rem .6rem;border-radius:4px;font-size:.8rem}.dislike-count[_ngcontent-%COMP%]{display:flex;align-items:center;font-weight:700;color:#f44336;margin-left:1rem}.dislike-count[_ngcontent-%COMP%]   .fa-thumbs-down[_ngcontent-%COMP%]{margin-right:.3rem;font-size:.9rem}.recent-song-actions[_ngcontent-%COMP%]{flex-shrink:0}.recent-song-actions[_ngcontent-%COMP%]   .btn-vote[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color) 0%,#1aa34a 100%);color:var(--text-primary);border:none;width:32px;height:32px;border-radius:50%;cursor:pointer;font-weight:600;transition:all .3s ease;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px #1db9544d}.recent-song-actions[_ngcontent-%COMP%]   .btn-vote[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 4px 12px #1db95466}.recent-song-actions[_ngcontent-%COMP%]   .btn-vote[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem}@media (max-width: 1024px){.recent-songs-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(250px,1fr))}}@media (max-width: 768px){.recent-songs-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:.8rem}.recent-song-card[_ngcontent-%COMP%]{padding:.7rem;gap:.6rem}.recent-song-image-container[_ngcontent-%COMP%]{width:45px;height:45px}.recent-song-title[_ngcontent-%COMP%]{font-size:.85rem}.recent-song-artist[_ngcontent-%COMP%]{font-size:.7rem}}@media (max-width: 480px){.recent-songs-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.recent-song-meta[_ngcontent-%COMP%]{flex-wrap:wrap;gap:.3rem}.recent-song-actions[_ngcontent-%COMP%]   .btn-vote[_ngcontent-%COMP%]{width:28px;height:28px}.recent-song-actions[_ngcontent-%COMP%]   .btn-vote[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.7rem}}']})}return n})(),tA=(()=>{class n{http;authService;apiUrl=jr_apiUrl;automaticCheckInterval=null;constructor(t,r){this.http=t,this.authService=r,this.startAutomaticPlayingSongCheck(5e3)}getCacheBustedUrl(t){return`${t}?_=${(new Date).getTime()}`}startAutomaticPlayingSongCheck(t=3e4){this.stopAutomaticPlayingSongCheck(),this.automaticCheckInterval=setInterval(()=>{this.checkAndRemovePlayingSongFromRanking().subscribe({next:r=>{r.deleted&&alert(`Canci\xf3n eliminada autom\xe1ticamente del ranking: ${r.song.name}`)},error:r=>{console.error("Error en verificaci\xf3n autom\xe1tica:",r)}})},t)}playTrack(t){const r=this.authService.getAuthHeaders();return this.http.post(`${this.apiUrl}/api/spotify/admin/play`,{uri:t},{headers:r})}pausePlayback(){const t=this.authService.getAuthHeaders();return this.http.put(`${this.apiUrl}/api/spotify/admin/pause`,{},{headers:t})}resumePlayback(){const t=this.authService.getAuthHeaders();return this.http.put(`${this.apiUrl}/api/spotify/admin/resume`,{},{headers:t})}nextTrack(){const t=this.authService.getAuthHeaders();return this.http.post(`${this.apiUrl}/api/spotify/admin/next`,{},{headers:t})}previousTrack(){const t=this.authService.getAuthHeaders();return this.http.post(`${this.apiUrl}/api/spotify/admin/previous`,{},{headers:t})}stopAutomaticPlayingSongCheck(){this.automaticCheckInterval&&(clearInterval(this.automaticCheckInterval),this.automaticCheckInterval=null)}getAdminCurrentlyPlaying(){const t=this.getCacheBustedUrl(`${this.apiUrl}/api/spotify/admin/currently-playing`);return this.http.get(t).pipe(Tn(r=>401===r.status?this.refreshAdminToken().pipe(Yn(()=>{const i=this.getCacheBustedUrl(`${this.apiUrl}/api/spotify/admin/currently-playing`);return this.http.get(i)}),Tn(i=>(console.error("Error al refrescar token:",i),ls(()=>i)))):ls(()=>r)))}refreshAdminToken(){const t=this.authService.getAuthHeaders();return this.http.post(`${this.apiUrl}/api/spotify/admin/refresh-token`,{},{headers:t})}getAdminCurrentlyPlayingPolling(){return K_(3e3).pipe(kg(0),Yn(()=>this.getAdminCurrentlyPlaying()))}getAdminSpotifyStatus(){const t=this.getCacheBustedUrl(`${this.apiUrl}/api/spotify/admin/status`);return this.http.get(t)}startAdminSpotifyAuth(){const t=this.getCacheBustedUrl(`${this.apiUrl}/api/spotify/admin/auth`);return this.http.get(t)}disconnectAdminSpotify(){const t=this.authService.getAuthHeaders();return this.http.post(`${this.apiUrl}/api/spotify/admin/disconnect`,{},{headers:t})}startSpotifyAuth(){const t=this.getCacheBustedUrl(`${this.apiUrl}/api/spotify/auth`);return this.http.get(t)}getCurrentlyPlaying(){const t=this.getCacheBustedUrl(`${this.apiUrl}/api/spotify/currently-playing`);return this.http.get(t)}getCurrentlyPlayingPolling(){return K_(3e3).pipe(kg(0),Yn(()=>this.getCurrentlyPlaying()))}addToQueue(t){const r=this.authService.getAuthHeaders();return this.http.post(`${this.apiUrl}/api/spotify/admin/queue`,{uri:t},{headers:r})}checkAndRemovePlayingSongFromRanking(){const t=this.authService.getAuthHeaders();return this.http.post(`${this.apiUrl}/api/spotify/admin/check-playing-song`,{},{headers:t})}getQueue(){const t=this.authService.getAuthHeaders();return this.http.get(`${this.apiUrl}/api/spotify/admin/queue`,{headers:t})}addToHistory(){const t=this.authService.getAuthHeaders();return this.http.post(`${this.apiUrl}/api/spotify/admin/add-to-history`,{},{headers:t})}addToHistoryConfirmed(){const t=this.authService.getAuthHeaders();return this.http.post(`${this.apiUrl}/api/spotify/admin/add-to-history-confirmed`,{},{headers:t})}static \u0275fac=function(r){return new(r||n)(le(yi),le(Qa))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Dge(n,e){1&n&&D(0,"div",21)}function kge(n,e){1&n&&D(0,"div",21)}function Rge(n,e){1&n&&D(0,"div",21)}function Nge(n,e){if(1&n&&(_(0,"div",22),D(1,"i",23),_(2,"span"),T(3),y()()),2&n){const t=U(2);C(3),ve("Votaste por: ",t.getVoteTypeName(t.lastVoteType),"")}}function Fge(n,e){if(1&n){const t=Oe();_(0,"div",1)(1,"div",2),D(2,"div",3),y(),_(3,"div",4)(4,"div",5)(5,"div",6),D(6,"i",7),_(7,"span"),T(8),y()(),_(9,"button",8),G("click",function(){return ee(t),te(U().forceRefresh())}),D(10,"i",9),y()()(),_(11,"div",10)(12,"button",11),G("click",function(){return ee(t),te(U().vote("next"))}),_(13,"div",12),D(14,"i",13),_(15,"span"),T(16,"Siguiente"),y(),_(17,"div",14),T(18),y()(),Y(19,Dge,1,0,"div",15),y(),_(20,"button",16),G("click",function(){return ee(t),te(U().vote("genre_change"))}),_(21,"div",12),D(22,"i",17),_(23,"span"),T(24,"Cambiar g\xe9nero"),y(),_(25,"div",14),T(26),y()(),Y(27,kge,1,0,"div",15),y(),_(28,"button",18),G("click",function(){return ee(t),te(U().vote("repeat"))}),_(29,"div",12),D(30,"i",19),_(31,"span"),T(32,"Mismo g\xe9nero"),y(),_(33,"div",14),T(34),y()(),Y(35,Rge,1,0,"div",15),y()(),Y(36,Nge,4,1,"div",20),y()}if(2&n){const t=U();C(1),we("visible",t.isLoading),C(7),ve("",t.votingStatus.total_votes," votos (beta) "),C(4),we("voted",t.hasVoted("next")),j("disabled",t.hasVoted("next")||t.isLoading),C(5),we("updating",t.isUpdatingNext),C(1),ve(" ",t.votingStatus.votes.next," "),C(1),j("ngIf",t.hasVoted("next")),C(1),we("voted",t.hasVoted("genre_change")),j("disabled",t.hasVoted("genre_change")||t.isLoading),C(5),we("updating",t.isUpdatingGenre),C(1),ve(" ",t.votingStatus.votes.genre_change," "),C(1),j("ngIf",t.hasVoted("genre_change")),C(1),we("voted",t.hasVoted("repeat")),j("disabled",t.hasVoted("repeat")||t.isLoading),C(5),we("updating",t.isUpdatingRepeat),C(1),ve(" ",t.votingStatus.votes.repeat," "),C(1),j("ngIf",t.hasVoted("repeat")),C(1),j("ngIf",t.lastVoteType)}}let Vge=(()=>{class n{votingService;spotifyService;cdr;votingStatus=null;currentSong=null;userVotes=[];lastVoteType="";isLoading=!1;isUpdatingNext=!1;isUpdatingGenre=!1;isUpdatingRepeat=!1;votingSubscription;songSubscription;statusPollingSubscription;constructor(t,r,i){this.votingService=t,this.spotifyService=r,this.cdr=i}ngOnInit(){this.loadVotingStatus(),this.votingSubscription=K_(2e3).subscribe(()=>{this.loadVotingStatus()}),this.songSubscription=this.spotifyService.getAdminCurrentlyPlayingPolling().subscribe(t=>{this.currentSong=t,t&&t.id!==this.votingStatus?.current_song_id&&(this.userVotes=[],this.lastVoteType="",this.loadVotingStatus())})}forceRefresh(){this.loadVotingStatus(),this.showNotification("Votaciones actualizadas","success")}ngOnDestroy(){this.votingSubscription&&this.votingSubscription.unsubscribe(),this.songSubscription&&this.songSubscription.unsubscribe(),this.statusPollingSubscription&&this.statusPollingSubscription.unsubscribe()}loadVotingStatus(){this.votingService.getVotingStatusImmediate().subscribe({next:t=>{t&&t.votes?this.votingStatus=t:console.warn("Datos de votaci\xf3n inv\xe1lidos recibidos:",t)},error:t=>{console.error("Error loading voting status:",t),setTimeout(()=>this.loadVotingStatus(),1e3)}})}vote(t){this.hasVoted(t)?this.showNotification("Ya has votado por esta opci\xf3n","warning"):this.votingService.submitVote(t).subscribe({next:r=>{this.userVotes.push(t),this.lastVoteType=t,this.votingStatus=r.status,this.showNotification(`Voto registrado: ${this.getVoteTypeName(t)}`,"success"),this.loadVotingStatus(),this.cdr.detectChanges(),setTimeout(()=>{this.lastVoteType="",this.cdr.detectChanges()},3e3)},error:r=>{console.error("Error submitting vote:",r);let i="Error al votar";r.message.includes("Ya has votado por")&&(this.userVotes.push(t),i=r.message,this.loadVotingStatus()),this.showNotification(i,"warning"),this.cdr.detectChanges()}})}showNotification(t,r){const i=document.createElement("div");i.style.cssText="\n      position: fixed;\n      top: 20px;\n      right: 20px;\n      padding: 12px 20px;\n      border-radius: 8px;\n      color: white;\n      font-weight: 600;\n      z-index: 1000;\n      animation: slideIn 0.3s ease;\n    ",i.style.background="success"===r?"linear-gradient(135deg, #1ed760, #19a34a)":"error"===r?"linear-gradient(135deg, #ff4d4d, #cc0000)":"linear-gradient(135deg, #ff9a00, #e67e00)",i.textContent=t,document.body.appendChild(i),setTimeout(()=>{i.style.animation="slideOut 0.3s ease",setTimeout(()=>{document.body.contains(i)&&document.body.removeChild(i)},300)},3e3)}hasVoted(t){return this.userVotes.includes(t)}getVoteTypeName(t){return{next:"siguiente canci\xf3n",genre_change:"cambiar de g\xe9nero",repeat:"mantener g\xe9nero"}[t]||t}static \u0275fac=function(r){return new(r||n)(W(gl),W(tA),W(ru))};static \u0275cmp=Jn({type:n,selectors:[["app-voting"]],standalone:!0,features:[or],decls:1,vars:1,consts:[["class","voting-container",4,"ngIf"],[1,"voting-container"],[1,"loading-overlay"],[1,"spinner"],[1,"voting-header"],[1,"header-controls"],[1,"total-votes"],[1,"fas","fa-users"],["title","Actualizar votos",1,"refresh-btn",3,"click"],[1,"fas","fa-sync-alt"],[1,"voting-options"],[1,"vote-btn","next",3,"disabled","click"],[1,"btn-content"],[1,"fas","fa-forward"],[1,"vote-count"],["class","pulse-ring",4,"ngIf"],[1,"vote-btn","genre",3,"disabled","click"],[1,"fas","fa-random"],[1,"vote-btn","repeat",3,"disabled","click"],[1,"fas","fa-redo"],["class","voting-feedback",4,"ngIf"],[1,"pulse-ring"],[1,"voting-feedback"],[1,"fas","fa-check-circle"]],template:function(r,i){1&r&&Y(0,Fge,37,25,"div",0),2&r&&j("ngIf",i.votingStatus&&(null==i.currentSong?null:i.currentSong.is_playing))},dependencies:[Xr,Vr],styles:['.voting-container[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(30,215,96,.15),rgba(29,185,84,.1));-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-radius:16px;padding:1rem;margin:1rem 0;border:1px solid rgba(30,215,96,.3);width:100%;max-width:100%;box-shadow:0 0 20px #1ed76040,inset 0 1px #ffffff1a;position:relative;overflow:hidden}.voting-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:2px;background:linear-gradient(90deg,transparent,rgba(30,215,96,.8),transparent);animation:_ngcontent-%COMP%_neonGlow 3s ease-in-out infinite}.voting-header[_ngcontent-%COMP%]{margin-bottom:1rem;text-align:center}.voting-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#1ed760;margin:0 0 .5rem;font-weight:700;font-size:1.1rem;text-shadow:0 0 10px rgba(30,215,96,.5);letter-spacing:.5px}.total-votes[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;color:#ffffffb3;font-size:.85rem}.total-votes[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#1ed760}.voting-options[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:.8rem;margin-bottom:1rem}.vote-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:.8rem .5rem;border:2px solid rgba(30,215,96,.3);border-radius:12px;background:rgba(25,20,20,.6);color:#fff;transition:all .3s ease;cursor:pointer;flex:1;min-width:0;min-height:80px;position:relative}.vote-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:rgba(30,215,96,.2);border-color:#1ed760;transform:translateY(-2px);box-shadow:0 5px 15px #1ed7604d}.vote-btn[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.vote-btn.voted[_ngcontent-%COMP%]{background:rgba(30,215,96,.25);border-color:#1ed760}.vote-btn.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .vote-btn.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .vote-btn.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   .vote-count[_ngcontent-%COMP%]{color:#1ed760;text-shadow:0 0 8px rgba(30,215,96,.6)}.vote-btn.next[_ngcontent-%COMP%]{border-color:#1ed76066}.vote-btn.next[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#1ed760}.vote-btn.genre[_ngcontent-%COMP%]{border-color:#569af766}.vote-btn.genre[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#569af7}.vote-btn.genre.voted[_ngcontent-%COMP%]{background:rgba(86,154,247,.25);border-color:#569af7}.vote-btn.genre.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .vote-btn.genre.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .vote-btn.genre.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   .vote-count[_ngcontent-%COMP%]{color:#569af7;text-shadow:0 0 8px rgba(86,154,247,.6)}.vote-btn.repeat[_ngcontent-%COMP%]{border-color:#ff9a0066}.vote-btn.repeat[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#ff9a00}.vote-btn.repeat.voted[_ngcontent-%COMP%]{background:rgba(255,154,0,.25);border-color:#ff9a00}.vote-btn.repeat.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .vote-btn.repeat.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .vote-btn.repeat.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   .vote-count[_ngcontent-%COMP%]{color:#ff9a00;text-shadow:0 0 8px rgba(255,154,0,.6)}.btn-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.4rem;z-index:2}.btn-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;transition:all .3s ease}.btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;font-size:.75rem;text-align:center;transition:all .3s ease}.btn-content[_ngcontent-%COMP%]   .vote-count[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;color:#fff;transition:all .3s ease}.pulse-ring[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:60px;height:60px;border:2px solid #1ed760;border-radius:50%;animation:_ngcontent-%COMP%_pulse 2s infinite;opacity:.6}.voting-feedback[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;padding-top:.8rem;border-top:1px solid rgba(255,255,255,.1);color:#1ed760;font-weight:600;font-size:.9rem}.voting-feedback[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bounce .5s ease-in-out}@keyframes _ngcontent-%COMP%_neonGlow{0%,to{opacity:.5}50%{opacity:1}}@keyframes _ngcontent-%COMP%_pulse{0%{transform:translate(-50%,-50%) scale(.8);opacity:.6}50%{transform:translate(-50%,-50%) scale(1.1);opacity:.3}to{transform:translate(-50%,-50%) scale(.8);opacity:.6}}@keyframes _ngcontent-%COMP%_bounce{0%,20%,50%,80%,to{transform:translateY(0)}40%{transform:translateY(-5px)}60%{transform:translateY(-3px)}}@media (max-width: 768px){.voting-container[_ngcontent-%COMP%]{padding:.8rem;margin:.8rem 0}.voting-options[_ngcontent-%COMP%]{gap:.5rem}.vote-btn[_ngcontent-%COMP%]{padding:.6rem .4rem;min-height:70px}.vote-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.vote-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.7rem}.vote-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   .vote-count[_ngcontent-%COMP%]{font-size:.9rem}.voting-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 480px){.voting-options[_ngcontent-%COMP%]{flex-direction:column;gap:.6rem}.vote-btn[_ngcontent-%COMP%]{min-height:60px;flex-direction:row;justify-content:flex-start;padding:.8rem}.vote-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]{flex-direction:row;gap:.8rem;align-items:center}.vote-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:0}.vote-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8rem;flex-grow:1;text-align:left}.vote-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   .vote-count[_ngcontent-%COMP%]{font-size:1rem}}.voting-container[_ngcontent-%COMP%]{position:relative}.loading-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:rgba(0,0,0,.7);display:flex;align-items:center;justify-content:center;border-radius:16px;z-index:10;opacity:0;visibility:hidden;transition:all .3s ease}.loading-overlay.visible[_ngcontent-%COMP%]{opacity:1;visibility:visible}.loading-overlay[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:30px;height:30px;border:3px solid rgba(30,215,96,.3);border-top:3px solid #1ed760;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.vote-count[_ngcontent-%COMP%]{transition:all .3s ease}.vote-count.updating[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulseUpdate .5s ease;color:#1ed760}@keyframes _ngcontent-%COMP%_pulseUpdate{0%{transform:scale(1)}50%{transform:scale(1.2)}to{transform:scale(1)}}.header-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.refresh-btn[_ngcontent-%COMP%]{background:rgba(255,255,255,.1);border:none;border-radius:50%;width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease}.refresh-btn[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.2);transform:rotate(180deg)}.refresh-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff;font-size:14px}']})}return n})();function Lge(n,e){if(1&n){const t=Oe();_(0,"div",6)(1,"div",7),D(2,"img",8),y(),_(3,"div",9)(4,"div",10)(5,"h3",11),T(6),y(),_(7,"p",12),T(8),y()(),_(9,"div",13)(10,"span",14),T(11),y(),_(12,"div",15),D(13,"div",16),y(),_(14,"span",14),T(15),y()()(),_(16,"div",17)(17,"button",18),G("click",function(){return ee(t),te(U().forceUpdate())}),D(18,"i",19),y()()()}if(2&n){const t=U();C(2),Qp("alt","Car\xe1tula de ",t.adminCurrentlyPlaying.name,""),j("src",t.adminCurrentlyPlaying.image,Dr),C(4),he(t.adminCurrentlyPlaying.name),C(2),he(t.adminCurrentlyPlaying.artists),C(3),he(t.formatTime(t.progress*t.songDurationMs/100)),C(2),md("width",t.progress,"%"),C(2),he(t.formatTime(t.songDurationMs)),C(2),j("disabled",t.isUpdating),C(1),we("fa-spin",t.isUpdating)}}function Uge(n,e){1&n&&D(0,"app-voting")}function jge(n,e){1&n&&(_(0,"div",20)(1,"div",21),D(2,"i",22),_(3,"p",23),T(4,"No hay m\xfasica sonando."),y()()())}let pB=(()=>{class n{spotifyService;votingService;adminCurrentlyPlaying=null;progress=0;songDurationMs=0;isUpdating=!1;pollingSubscription=null;progressInterval=null;songInitialProgressMs=0;lastSyncTime=0;constructor(t,r){this.spotifyService=t,this.votingService=r}ngOnInit(){this.startAdminSpotifyPolling()}ngOnDestroy(){this.pollingSubscription&&this.pollingSubscription.unsubscribe(),this.stopProgressBar()}startAdminSpotifyPolling(){this.pollingSubscription=this.spotifyService.getAdminCurrentlyPlayingPolling().subscribe({next:t=>{t&&t.is_playing?this.adminCurrentlyPlaying&&this.adminCurrentlyPlaying.id===t.id?this.syncProgressBar(t.progress_ms,t.duration_ms):(this.adminCurrentlyPlaying=t,this.startProgressBar(t.progress_ms,t.duration_ms),this.checkAndRemovePlayingSong()):(this.adminCurrentlyPlaying=null,this.stopProgressBar())},error:t=>{console.error("Error al obtener reproducci\xf3n actual del admin:",t),this.adminCurrentlyPlaying=null,this.stopProgressBar()}})}forceUpdate(){this.isUpdating||(this.isUpdating=!0,this.spotifyService.getAdminCurrentlyPlaying().subscribe({next:t=>{t&&t.is_playing?this.adminCurrentlyPlaying&&this.adminCurrentlyPlaying.id===t.id?this.syncProgressBar(t.progress_ms,t.duration_ms):(this.adminCurrentlyPlaying=t,this.startProgressBar(t.progress_ms,t.duration_ms)):(this.adminCurrentlyPlaying=null,this.stopProgressBar()),this.isUpdating=!1},error:t=>{console.error("Error al forzar la actualizaci\xf3n:",t),this.adminCurrentlyPlaying=null,this.stopProgressBar(),this.isUpdating=!1}}))}startProgressBar(t,r){this.stopProgressBar(),this.syncProgressBar(t,r),this.progressInterval=setInterval(()=>{this.updateProgress()},500)}syncProgressBar(t,r){this.songInitialProgressMs=t,this.songDurationMs=r,this.lastSyncTime=Date.now(),this.updateProgress()}updateProgress(){if(!this.adminCurrentlyPlaying||this.songDurationMs<=0)return void(this.progress=0);const t=Date.now()-this.lastSyncTime;this.progress=Math.min((this.songInitialProgressMs+t)/this.songDurationMs*100,100),this.progress>=100&&this.stopProgressBar()}stopProgressBar(){this.progressInterval&&(clearInterval(this.progressInterval),this.progressInterval=null)}onVoteCasted(){const t=document.querySelector("app-voting-list");t&&t.forceRefresh&&t.forceRefresh()}checkAndRemovePlayingSong(){this.adminCurrentlyPlaying&&this.adminCurrentlyPlaying.id&&setTimeout(()=>{this.spotifyService.checkAndRemovePlayingSongFromRanking().subscribe({next:t=>{t.deleted&&(console.log("Canci\xf3n eliminada del ranking:",t.song.name),this.votingService.forceRefresh().subscribe())},error:t=>{console.error("Error al verificar canci\xf3n en reproducci\xf3n:",t)}})},3e3)}formatTime(t){if(!t)return"0:00";const r=Math.floor(t/1e3),o=r%60;return`${Math.floor(r/60)}:${o<10?"0":""}${o}`}static \u0275fac=function(r){return new(r||n)(W(tA),W(gl))};static \u0275cmp=Jn({type:n,selectors:[["app-home"]],standalone:!0,features:[or],decls:8,vars:3,consts:[[1,"home-container"],["class","now-playing-section compact-card fade-in",4,"ngIf","ngIfElse"],[1,"voting-section"],[4,"ngIf"],["noSongPlaying",""],[3,"voteCasted"],[1,"now-playing-section","compact-card","fade-in"],[1,"album-art-container"],[1,"album-art",3,"src","alt"],[1,"song-info-container"],[1,"song-details"],[1,"song-title"],[1,"song-artist"],[1,"progress-container"],[1,"time-display"],[1,"progress"],[1,"progress-bar"],[1,"update-button-container"],["title","Actualizar",1,"btn","btn-icon",3,"disabled","click"],[1,"fas","fa-sync-alt"],[1,"no-song-playing","compact-card","fade-in"],[1,"card-body"],[1,"fas","fa-music-slash","text-muted"],[1,"text-muted"]],template:function(r,i){if(1&r&&(_(0,"div",0),Y(1,Lge,19,11,"div",1),_(2,"div",2),Y(3,Uge,1,0,"app-voting",3),y(),Y(4,jge,5,0,"ng-template",null,4,eu),_(6,"app-search",5),G("voteCasted",function(){return i.onVoteCasted()}),y(),D(7,"app-voting-list"),y()),2&r){const o=po(5);C(1),j("ngIf",i.adminCurrentlyPlaying)("ngIfElse",o),C(2),j("ngIf",i.adminCurrentlyPlaying)}},dependencies:[Xr,Vr,wge,Oge,Vge],styles:['@charset "UTF-8";.home-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.compact-card[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:var(--card-bg);border:1px solid var(--hover-bg);border-radius:12px;overflow:hidden;padding:.2rem;gap:1rem;transition:border-color .3s ease}.compact-card[_ngcontent-%COMP%]:hover{border-color:var(--primary-color)}.album-art-container[_ngcontent-%COMP%]{flex-shrink:0}.album-art[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:8px;box-shadow:0 4px 15px #00000080}.song-info-container[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;justify-content:center;gap:.5rem;min-width:0}.song-details[_ngcontent-%COMP%]   .song-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:var(--text-primary);margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.song-details[_ngcontent-%COMP%]   .song-artist[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary);margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.update-button-container[_ngcontent-%COMP%]{flex-shrink:0;margin-left:auto}.btn-icon[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--text-secondary);font-size:1.2rem;cursor:pointer;padding:.5rem;border-radius:50%}.btn-icon[_ngcontent-%COMP%]:hover{color:var(--text-primary);background-color:var(--hover-bg)}.btn-icon[_ngcontent-%COMP%]:disabled{color:var(--text-tertiary);cursor:not-allowed}.progress-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;width:100%}.progress-container[_ngcontent-%COMP%]   .time-display[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-secondary);min-width:40px;text-align:center}.progress-container[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{flex-grow:1;height:6px;background-color:#444;border-radius:3px;overflow:hidden}.progress-container[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background-color:var(--primary-color);height:100%;transition:width .25s linear}.no-song-playing[_ngcontent-%COMP%]{justify-content:center}.no-song-playing[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.no-song-playing[_ngcontent-%COMP%]   .fa-music-slash[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--text-tertiary)}.no-song-playing[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-secondary);font-weight:500}@media (max-width: 768px){.compact-card[_ngcontent-%COMP%]{padding:.75rem;gap:.75rem}.album-art[_ngcontent-%COMP%]{width:60px;height:60px}.song-details[_ngcontent-%COMP%]   .song-title[_ngcontent-%COMP%]{font-size:1rem}.song-details[_ngcontent-%COMP%]   .song-artist[_ngcontent-%COMP%]{font-size:.8rem}.progress-container[_ngcontent-%COMP%]{max-width:100%}}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out;box-shadow:0 4px 15px #035f0b93}.fade-in[_ngcontent-%COMP%]:hover{box-shadow:0 8px 20px #00000080}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.voting-section[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;margin:1.5rem 0}']})}return n})();const $ge=function(n,e,t,r,i,o){return{width:n,height:e,left:t,top:r,"animation-duration":i,"animation-delay":o}};function Bge(n,e){if(1&n&&D(0,"div",8),2&n){const t=e.$implicit;j("ngStyle",eN(1,$ge,t.width,t.height,t.left,t.top,t.animationDuration,t.animationDelay))}}function Hge(n,e){if(1&n&&(_(0,"div",19),T(1),y()),2&n){const t=U(2);C(1),ve(" ",t.errorMessage," ")}}function zge(n,e){1&n&&D(0,"i",20)}function qge(n,e){if(1&n){const t=Oe();_(0,"form",9),G("ngSubmit",function(){return ee(t),te(U().login())}),_(1,"div",10)(2,"input",11),G("ngModelChange",function(i){return ee(t),te(U().email=i)}),y(),_(3,"label",12),T(4,"Email"),y()(),_(5,"div",10)(6,"input",13),G("ngModelChange",function(i){return ee(t),te(U().password=i)}),y(),_(7,"label",14),T(8,"Contrase\xf1a"),y()(),Y(9,Hge,2,1,"div",15),_(10,"button",16)(11,"span",17),T(12),y(),Y(13,zge,1,0,"i",18),y()()}if(2&n){const t=U();C(2),j("ngModel",t.email),C(4),j("ngModel",t.password),C(3),j("ngIf",t.errorMessage),C(1),j("disabled",t.isLoading),C(2),he(t.isLoading?"Verificando...":"Ingresar"),C(1),j("ngIf",t.isLoading)}}function Gge(n,e){1&n&&(_(0,"div",21)(1,"p"),T(2,"Sesi\xf3n iniciada. Redirigiendo al panel de administrador..."),y(),_(3,"a",22),T(4,"Ir al Panel"),y()())}let Wge=(()=>{class n{authService;router;email="";password="";errorMessage="";isLoading=!1;particles=[];constructor(t,r){this.authService=t,this.router=r}ngOnInit(){document.body.classList.add("login-page-active"),this.createParticles()}ngOnDestroy(){document.body.classList.remove("login-page-active")}createParticles(){for(let r=0;r<15;r++)this.particles.push(this.generateParticle())}generateParticle(){const t=20*Math.random()+20,r=90*Math.random()+15,i=7*Math.random();return{width:`${t}px`,height:`${t}px`,left:100*Math.random()+"%",animationDuration:`${r}s`,animationDelay:`${i}s`}}login(){this.email&&this.password?(this.isLoading=!0,this.errorMessage="",this.authService.login(this.email,this.password).subscribe({next:()=>{this.isLoading=!1,setTimeout(()=>{this.router.navigate(["/admin-panel"])},1500)},error:t=>{this.isLoading=!1,this.errorMessage=this.getFirebaseErrorMessage(t)}})):this.errorMessage="Por favor, completa ambos campos."}getFirebaseErrorMessage(t){switch(t.code){case"auth/invalid-email":return"El formato del correo electr\xf3nico no es v\xe1lido.";case"auth/user-disabled":return"Este usuario ha sido deshabilitado.";case"auth/user-not-found":case"auth/wrong-password":case"auth/invalid-credential":return"Correo electr\xf3nico o contrase\xf1a incorrectos.";case"auth/too-many-requests":return"Acceso bloqueado por demasiados intentos. Intenta de nuevo m\xe1s tarde.";default:return console.error("Error de login no manejado:",t),"Error al iniciar sesi\xf3n. Verifica tus credenciales e intenta de nuevo."}}static \u0275fac=function(r){return new(r||n)(W(Qa),W(cr))};static \u0275cmp=Jn({type:n,selectors:[["app-admin-login"]],standalone:!0,features:[or],decls:9,vars:3,consts:[[1,"admin-login-wrapper"],[1,"particles"],["class","particle",3,"ngStyle",4,"ngFor","ngForOf"],[1,"login-container"],[1,"glassmorphism-form"],[1,"form-title"],[3,"ngSubmit",4,"ngIf"],["class","logged-in-message",4,"ngIf"],[1,"particle",3,"ngStyle"],[3,"ngSubmit"],[1,"input-group"],["type","email","id","email","name","email","required","","placeholder"," ",1,"form-input",3,"ngModel","ngModelChange"],["for","email",1,"form-label"],["type","password","id","password","name","password","required","","placeholder"," ",1,"form-input",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["class","error-message",4,"ngIf"],["type","submit",1,"login-button",3,"disabled"],[1,"button-text"],["class","fas fa-spinner fa-spin",4,"ngIf"],[1,"error-message"],[1,"fas","fa-spinner","fa-spin"],[1,"logged-in-message"],["routerLink","/admin-panel",1,"admin-link"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1),Y(2,Bge,1,8,"div",2),y(),_(3,"div",3)(4,"div",4)(5,"h2",5),T(6,"Acceso Administrador"),y(),Y(7,qge,14,6,"form",6),Y(8,Gge,5,0,"div",7),y()()()),2&r&&(C(2),j("ngForOf",i.particles),C(5),j("ngIf",!i.authService.isLoggedIn()),C(1),j("ngIf",i.authService.isLoggedIn()))},dependencies:[Xr,ki,Vr,F2,Ka,q$,Wi,Fs,D$,W_,Bo,q_,Jd,fa],styles:['@charset "UTF-8";[_nghost-%COMP%]{--login-bg: #0a0a0a;--glass-bg: rgba(18, 18, 18, .85);--primary-color: #1DB954;--text-primary: #FFFFFF;--text-secondary: #B3B3B3;--hover-bg: rgba(255, 255, 255, .05)}.admin-login-wrapper[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:var(--login-bg);position:relative;overflow:hidden;padding:2rem}.admin-login-wrapper[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at 10% 20%,rgba(29,185,84,.15) 0%,transparent 25%),radial-gradient(circle at 90% 80%,rgba(141,103,171,.15) 0%,transparent 25%),radial-gradient(circle at 50% 50%,rgba(29,185,84,.1) 0%,transparent 40%);z-index:0;pointer-events:none}.particles[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;pointer-events:none}.particle[_ngcontent-%COMP%]{position:absolute;background:rgba(29,185,84,.3);border-radius:50%;animation:_ngcontent-%COMP%_float 6s infinite ease-in-out}.particle[_ngcontent-%COMP%]:nth-child(odd){background:rgba(141,103,171,.3);animation-duration:8s;animation-delay:1s}.particle[_ngcontent-%COMP%]:nth-child(3n){background:rgba(45,70,185,.2);animation-duration:10s;animation-delay:2s}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0) translate(0);opacity:.7}25%{transform:translateY(-20px) translate(10px);opacity:.4}50%{transform:translateY(-35px) translate(-15px);opacity:.6}75%{transform:translateY(-15px) translate(-20px);opacity:.5}}.login-container[_ngcontent-%COMP%]{position:relative;z-index:2;width:100%;max-width:450px}.glassmorphism-form[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,.1);border-radius:20px;padding:2.5rem;box-shadow:0 15px 35px #00000080,0 0 0 1px #ffffff0d;transition:all .4s ease}.glassmorphism-form[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 20px 45px #1db95433,0 0 0 1px #1db9541a}.form-title[_ngcontent-%COMP%]{color:var(--text-primary);text-align:center;margin-bottom:2rem;font-weight:800;font-size:1.8rem;letter-spacing:-.5px;position:relative}.form-title[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;transform:translate(-50%);width:50px;height:3px;background:var(--primary-color);border-radius:2px}.input-group[_ngcontent-%COMP%]{position:relative;margin-bottom:1.8rem}.form-input[_ngcontent-%COMP%]{width:100%;background:rgba(42,42,42,.7);border:1px solid rgba(62,62,62,.5);color:var(--text-primary);border-radius:12px;padding:1rem 1.2rem;font-size:1rem;transition:all .3s ease}.form-input[_ngcontent-%COMP%]:focus{outline:none;background:rgba(42,42,42,.9);border-color:var(--primary-color);box-shadow:0 0 0 3px #1db95433}.form-input[_ngcontent-%COMP%]:focus + .form-label[_ngcontent-%COMP%], .form-input[_ngcontent-%COMP%]:not(:placeholder-shown) + .form-label[_ngcontent-%COMP%]{top:-12px;left:10px;font-size:.8rem;background:var(--glass-bg);padding:0 8px;color:var(--primary-color)}.form-label[_ngcontent-%COMP%]{position:absolute;top:1rem;left:1.2rem;color:var(--text-secondary);font-size:1rem;pointer-events:none;transition:all .3s ease}.error-message[_ngcontent-%COMP%]{background:rgba(226,33,52,.15);color:#e22134;border:1px solid rgba(226,33,52,.2);border-radius:8px;padding:.8rem;margin-bottom:1.5rem;font-size:.9rem;text-align:center}.login-button[_ngcontent-%COMP%]{width:100%;background:linear-gradient(135deg,var(--primary-color) 0%,#1aa34a 100%);color:var(--text-primary);border:none;border-radius:50px;padding:1rem;font-size:1.1rem;font-weight:700;cursor:pointer;transition:all .3s ease;position:relative;overflow:hidden;box-shadow:0 5px 15px #1db9544d}.login-button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:all .5s ease}.login-button[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 8px 20px #1db95466}.login-button[_ngcontent-%COMP%]:hover:before{left:100%}.login-button[_ngcontent-%COMP%]:disabled{opacity:.7;transform:none;box-shadow:none;cursor:not-allowed}.button-text[_ngcontent-%COMP%]{position:relative;z-index:1}.logged-in-message[_ngcontent-%COMP%]{text-align:center;color:var(--text-primary)}.logged-in-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1.5rem;font-size:1.1rem}.admin-link[_ngcontent-%COMP%]{display:inline-block;background:var(--primary-color);color:var(--text-primary);text-decoration:none;padding:.8rem 1.8rem;border-radius:50px;font-weight:700;transition:all .3s ease;box-shadow:0 4px 15px #1db9544d}.admin-link[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #1db95466}@media (max-width: 576px){.admin-login-wrapper[_ngcontent-%COMP%]{padding:1rem}.glassmorphism-form[_ngcontent-%COMP%]{padding:2rem 1.5rem}.form-title[_ngcontent-%COMP%]{font-size:1.5rem}}']})}return n})(),gB=(()=>{class n{http;authService;apiUrl=jr_apiUrl;constructor(t,r){this.http=t,this.authService=r}getSchedules(){return this.http.get(`${this.apiUrl}/api/schedules`)}updateSchedules(t){const r=this.authService.getAuthHeaders();return this.http.put(`${this.apiUrl}/api/schedules`,t,{headers:r})}static \u0275fac=function(r){return new(r||n)(le(yi),le(Qa))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Kge=(()=>{class n{http;authService;apiUrl=jr_apiUrl;constructor(t,r){this.http=t,this.authService=r}getQueue(){const t=this.authService.getAuthHeaders();return this.http.get(`${this.apiUrl}/api/spotify/admin/queue`,{headers:t})}addToQueue(t){const r=this.authService.getAuthHeaders();return this.http.post(`${this.apiUrl}/api/spotify/admin/queue`,{uri:t},{headers:r}).pipe(Tn(i=>{console.error("Error adding to queue:",i);let o="Error desconocido al agregar a la cola";throw i.error?.error?o=i.error.error:401===i.status?o="No autorizado - verifica la conexi\xf3n de Spotify":404===i.status&&(o="Dispositivo de Spotify no encontrado"),new Error(o)}))}static \u0275fac=function(r){return new(r||n)(le(yi),le(Qa))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Qge(n,e){if(1&n&&(_(0,"div",33),D(1,"i",34),T(2),y()),2&n){const t=U();C(2),ve(" ",t.successMessage," ")}}function Yge(n,e){if(1&n&&(_(0,"div",35),D(1,"i",36),T(2),y()),2&n){const t=U();C(2),ve(" ",t.errorMessage," ")}}function Jge(n,e){if(1&n&&(_(0,"div",37),D(1,"i",38),T(2),y()),2&n){const t=U();C(2),ve(" ",t.actionInProgress," ")}}function Xge(n,e){if(1&n){const t=Oe();_(0,"div",39),D(1,"div",40),_(2,"span",41),T(3),y(),_(4,"button",42),G("click",function(){ee(t);const i=U();return te(i.spotifyStatus.authenticated?i.disconnectSpotify():i.connectSpotify())}),T(5),y()()}if(2&n){const t=U();C(1),we("connected",t.spotifyStatus.authenticated&&t.spotifyStatus.token_valid)("disconnected",!t.spotifyStatus.authenticated||!t.spotifyStatus.token_valid),C(2),ve(" ",t.spotifyStatus.authenticated&&t.spotifyStatus.token_valid?"Spotify Conectado":"Spotify Desconectado"," "),C(2),ve(" ",t.spotifyStatus.authenticated?"Desconectar":"Conectar"," ")}}function Zge(n,e){if(1&n){const t=Oe();_(0,"div",43)(1,"div",44)(2,"div",45)(3,"div",46),D(4,"i",47),y(),_(5,"div",48)(6,"h3"),T(7),y(),_(8,"p"),T(9,"Canciones en ranking"),y()()(),_(10,"div",45)(11,"div",46),D(12,"i",49),y(),_(13,"div",48)(14,"h3"),T(15),y(),_(16,"p"),T(17,"Total de votos"),y()()(),_(18,"div",45)(19,"div",46),D(20,"i",50),y(),_(21,"div",48)(22,"h3"),T(23),y(),_(24,"p"),T(25,"Votantes \xfanicos"),y()()(),_(26,"div",45)(27,"div",46),D(28,"i",51),y(),_(29,"div",48)(30,"h3"),T(31),y(),_(32,"p"),T(33,"En cola"),y()()()(),_(34,"div",52)(35,"button",53),G("click",function(){return ee(t),te(U().loadSongs())}),D(36,"i",54),T(37,"Actualizar Ranking "),y(),_(38,"button",55),G("click",function(){return ee(t),te(U().toggleQueue())}),D(39,"i",56),T(40,"Ver Cola "),y(),_(41,"button",57),G("click",function(){return ee(t),te(U().getAdminCurrentlyPlaying())}),D(42,"i",58),T(43,"Actualizar Reproducci\xf3n "),y()()()}if(2&n){const t=U();C(7),he(t.songs.length),C(8),he(t.totalVotes),C(8),he(t.uniqueVoters),C(8),he(t.queue.length)}}function eme(n,e){if(1&n){const t=Oe();_(0,"div",64)(1,"div",65),D(2,"img",66),_(3,"div",67)(4,"h3"),T(5),y(),_(6,"p",68),T(7),y(),_(8,"div",69)(9,"div",70),D(10,"div",71),y(),_(11,"div",72)(12,"span"),T(13),y(),_(14,"span"),T(15),y()()()(),_(16,"div",73)(17,"button",74),G("click",function(){return ee(t),te(U(2).checkPlayingSong())}),D(18,"i",75),y(),_(19,"button",76),G("click",function(){return ee(t),te(U(2).checkAddToHistory())}),D(20,"i",51),y()()(),_(21,"div",77)(22,"button",78),G("click",function(){return ee(t),te(U(2).previousTrack())}),D(23,"i",79),y(),_(24,"button",80),G("click",function(){return ee(t),te(U(2).togglePlayback())}),D(25,"i",31),y(),_(26,"button",78),G("click",function(){return ee(t),te(U(2).nextTrack())}),D(27,"i",81),y()()()}if(2&n){const t=U(2);C(2),j("src",t.adminCurrentlyPlaying.image,Dr),C(3),he(t.adminCurrentlyPlaying.name),C(2),he(t.adminCurrentlyPlaying.artists.join(", ")),C(3),md("width",t.adminCurrentlyPlaying.progress_ms/t.adminCurrentlyPlaying.duration_ms*100,"%"),C(3),he(t.formatTime(t.adminCurrentlyPlaying.progress_ms)),C(2),he(t.formatTime(t.adminCurrentlyPlaying.duration_ms)),C(4),j("disabled",!t.adminCurrentlyPlaying||t.actionInProgress),C(6),we("fa-play",!t.isPlaying)("fa-pause",t.isPlaying)}}function tme(n,e){if(1&n){const t=Oe();_(0,"button",85),G("click",function(){return ee(t),te(U(3).connectSpotify())}),T(1," Conectar Spotify "),y()}}function nme(n,e){if(1&n&&(_(0,"div",82),D(1,"i",83),_(2,"p"),T(3,"No se est\xe1 reproduciendo ninguna canci\xf3n"),y(),Y(4,tme,2,0,"button",84),y()),2&n){const t=U(2);C(4),j("ngIf",!(null!=t.spotifyStatus&&t.spotifyStatus.authenticated))}}function rme(n,e){if(1&n){const t=Oe();_(0,"div",43)(1,"div",59)(2,"h2"),T(3,"Reproduciendo Ahora"),y(),_(4,"button",60),G("click",function(){return ee(t),te(U().getAdminCurrentlyPlaying())}),D(5,"i",61),y()(),Y(6,eme,28,12,"div",62),Y(7,nme,5,1,"ng-template",null,63,eu),y()}if(2&n){const t=po(8),r=U();C(5),we("fa-spin",r.isLoadingCurrent),C(1),j("ngIf",r.adminCurrentlyPlaying)("ngIfElse",t)}}function ime(n,e){if(1&n){const t=Oe();_(0,"div",91)(1,"span",92),T(2),y(),D(3,"img",93),_(4,"div",94)(5,"h4"),T(6),y(),_(7,"p"),T(8),y()(),_(9,"div",95)(10,"button",96),G("click",function(){const o=ee(t).$implicit;return te(U(3).playTrack(o.uri))}),D(11,"i",97),y()()()}if(2&n){const t=e.$implicit,r=e.index;C(2),he(r+1),C(1),j("src",(null==t.album||null==t.album.images[0]?null:t.album.images[0].url)||"assets/default-song.png",Dr),C(3),he(t.name),C(2),he(null==t.artists[0]?null:t.artists[0].name)}}function ome(n,e){if(1&n&&(_(0,"div",89),Y(1,ime,12,4,"div",90),y()),2&n){const t=U(2);C(1),j("ngForOf",t.queue)}}function sme(n,e){1&n&&(_(0,"div",82),D(1,"i",98),_(2,"p"),T(3,"No hay canciones en la cola de reproducci\xf3n"),y()())}function ame(n,e){if(1&n){const t=Oe();_(0,"div",43)(1,"div",59)(2,"h2"),T(3,"Cola de Reproducci\xf3n"),y(),_(4,"button",86),G("click",function(){return ee(t),te(U().loadQueue())}),D(5,"i",61),y()(),Y(6,ome,2,1,"div",87),Y(7,sme,4,0,"ng-template",null,88,eu),y()}if(2&n){const t=po(8),r=U();C(4),j("disabled",r.isLoadingQueue),C(1),we("fa-spin",r.isLoadingQueue),C(1),j("ngIf",r.queue.length>0)("ngIfElse",t)}}function cme(n,e){if(1&n){const t=Oe();_(0,"div",106)(1,"div",107),T(2),y(),D(3,"img",108),_(4,"div",109)(5,"h4"),T(6),y(),_(7,"p"),T(8),y(),_(9,"div",110)(10,"span",111),D(11,"i",49),T(12),y(),_(13,"span",112),D(14,"i",113),T(15),y(),_(16,"span",114),T(17),y()()(),_(18,"div",115)(19,"button",116),G("click",function(){const o=ee(t).$implicit;return te(U(3).adminVote(o,!1))}),D(20,"i",49),y(),_(21,"button",117),G("click",function(){const o=ee(t).$implicit;return te(U(3).adminVote(o,!0))}),D(22,"i",113),y(),_(23,"button",118),G("click",function(){const o=ee(t).$implicit;return te(U(3).addToQueueFromRanking(o.id))}),D(24,"i",119),y(),_(25,"button",120),G("click",function(){const o=ee(t).$implicit;return te(U(3).deleteSong(o.id))}),D(26,"i",121),y()()()}if(2&n){const t=e.$implicit,r=e.index,i=U(3);C(2),he(r+1),C(1),j("src",t.image,Dr),C(3),he(t.name),C(2),he(t.artists.join(", ")),C(4),ve(" ",t.votes||0,""),C(3),ve(" ",t.dislikes||0,""),C(2),he(i.formatTimeAgo(t.createdat)),C(2),we("active",i.hasAdminLiked(t.id)),C(2),we("active",i.hasAdminDisliked(t.id))}}function ume(n,e){if(1&n&&(_(0,"div",104),Y(1,cme,27,11,"div",105),y()),2&n){const t=U(2);C(1),j("ngForOf",t.songs)}}function lme(n,e){1&n&&(_(0,"div",82),D(1,"i",122),_(2,"p"),T(3,"No hay canciones en el ranking"),y()())}function dme(n,e){if(1&n){const t=Oe();_(0,"div",43)(1,"div",59)(2,"h2"),T(3,"Ranking de Canciones"),y(),_(4,"div",99)(5,"button",86),G("click",function(){return ee(t),te(U().loadSongs())}),D(6,"i",61),y(),_(7,"button",100),G("click",function(){return ee(t),te(U().deleteAllVotes())}),D(8,"i",101),T(9,"Eliminar Todos "),y()()(),Y(10,ume,2,1,"div",102),Y(11,lme,4,0,"ng-template",null,103,eu),y()}if(2&n){const t=po(12),r=U();C(5),j("disabled",r.isLoading),C(1),we("fa-spin",r.isLoading),C(4),j("ngIf",r.songs.length>0)("ngIfElse",t)}}const mB=function(){return["Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes"]};function hme(n,e){if(1&n&&(_(0,"div",126)(1,"h4"),T(2),y(),_(3,"div",127)(4,"div",128)(5,"span",129),T(6,"Almuerzo:"),y(),_(7,"span",130),T(8),y()(),_(9,"div",128)(10,"span",129),T(11,"Cena:"),y(),_(12,"span",130),T(13),y()()(),_(14,"div",131)(15,"span",132),T(16),y()()()),2&n){const t=e.$implicit,r=U(3);C(2),he(oa(10,mB)[t.day_of_week]),C(6),go("",r.convertToAmPm(t.lunch_start)||"-"," - ",r.convertToAmPm(t.lunch_end)||"-",""),C(5),go("",r.convertToAmPm(t.dinner_start)||"-"," - ",r.convertToAmPm(t.dinner_end)||"-",""),C(2),we("active",t.is_active)("inactive",!t.is_active),C(1),ve(" ",t.is_active?"Activo":"Inactivo"," ")}}function fme(n,e){if(1&n&&(_(0,"div"),Y(1,hme,17,11,"div",125),y()),2&n){const t=U(2);C(1),j("ngForOf",t.schedules)}}function pme(n,e){if(1&n){const t=Oe();_(0,"div",136)(1,"h4"),T(2),y(),_(3,"div",137)(4,"div",138)(5,"label"),T(6,"Almuerzo Inicio"),y(),_(7,"input",139),G("ngModelChange",function(i){return te(ee(t).$implicit.lunch_start=i)}),y()(),_(8,"div",138)(9,"label"),T(10,"Almuerzo Fin"),y(),_(11,"input",139),G("ngModelChange",function(i){return te(ee(t).$implicit.lunch_end=i)}),y()(),_(12,"div",138)(13,"label"),T(14,"Cena Inicio"),y(),_(15,"input",139),G("ngModelChange",function(i){return te(ee(t).$implicit.dinner_start=i)}),y()(),_(16,"div",138)(17,"label"),T(18,"Cena Fin"),y(),_(19,"input",139),G("ngModelChange",function(i){return te(ee(t).$implicit.dinner_end=i)}),y()(),_(20,"div",140)(21,"label"),T(22,"Activo"),y(),_(23,"label",141)(24,"input",142),G("ngModelChange",function(i){return te(ee(t).$implicit.is_active=i)}),y(),D(25,"span",143),y()()()()}if(2&n){const t=e.$implicit;C(2),he(oa(6,mB)[t.day_of_week]),C(5),j("ngModel",t.lunch_start),C(4),j("ngModel",t.lunch_end),C(4),j("ngModel",t.dinner_start),C(4),j("ngModel",t.dinner_end),C(5),j("ngModel",t.is_active)}}function gme(n,e){if(1&n){const t=Oe();_(0,"div"),Y(1,pme,26,7,"div",133),_(2,"button",134),G("click",function(){return ee(t),te(U(2).saveSchedules())}),D(3,"i",135),T(4,"Guardar Horarios "),y()()}if(2&n){const t=U(2);C(1),j("ngForOf",t.schedules)}}function mme(n,e){if(1&n){const t=Oe();_(0,"div",43)(1,"div",59)(2,"h2"),T(3,"Horarios de M\xfasica"),y(),_(4,"button",27),G("click",function(){ee(t);const i=U();return te(i.isEditingSchedules=!i.isEditingSchedules)}),T(5),y()(),_(6,"div",123),Y(7,fme,2,1,"div",124),Y(8,gme,5,1,"div",124),y()()}if(2&n){const t=U();C(5),ve(" ",t.isEditingSchedules?"Cancelar":"Editar"," "),C(2),j("ngIf",!t.isEditingSchedules),C(1),j("ngIf",t.isEditingSchedules)}}function _me(n,e){if(1&n){const t=Oe();_(0,"div",151),D(1,"img",152),_(2,"div",153)(3,"h4"),T(4),y(),_(5,"p"),T(6),y(),_(7,"span",154),T(8),y()(),_(9,"div",155)(10,"button",156),G("click",function(){const o=ee(t).$implicit;return te(U(3).voteFromSearch(o,!1))}),D(11,"i",49),y(),_(12,"button",157),G("click",function(){const o=ee(t).$implicit;return te(U(3).voteFromSearch(o,!0))}),D(13,"i",113),y(),_(14,"button",118),G("click",function(){const o=ee(t).$implicit;return te(U(3).addToQueueFromSearch(o.uri))}),D(15,"i",119),y(),_(16,"button",158),G("click",function(){const o=ee(t).$implicit;return te(U(3).playNowFromSearch(o.uri))}),D(17,"i",97),y()()()}if(2&n){const t=e.$implicit;C(1),j("src",t.image,Dr),C(3),he(t.name),C(2),he(null==t.artists[0]?null:t.artists[0].name),C(2),he(t.album.name)}}function yme(n,e){if(1&n&&(_(0,"div",149),Y(1,_me,18,4,"div",150),y()),2&n){const t=U(2);C(1),j("ngForOf",t.searchResults)}}function vme(n,e){if(1&n){const t=Oe();_(0,"div",144)(1,"div",145)(2,"input",146),G("ngModelChange",function(i){return ee(t),te(U().searchQuery=i)})("keyup.enter",function(){return ee(t),te(U().searchSpotify())}),y(),_(3,"button",147),G("click",function(){return ee(t),te(U().searchSpotify())}),D(4,"i",75),y()(),Y(5,yme,2,1,"div",148),y()}if(2&n){const t=U();C(2),j("ngModel",t.searchQuery),C(3),j("ngIf",t.searchResults.length>0)}}function bme(n,e){if(1&n){const t=Oe();_(0,"div",164),D(1,"img",165),_(2,"div",166)(3,"h5"),T(4),y(),_(5,"p"),T(6),y(),_(7,"div",167)(8,"span",111),D(9,"i",49),T(10),y(),_(11,"span",112),D(12,"i",113),T(13),y()()(),_(14,"div",168)(15,"button",116),G("click",function(){const o=ee(t).$implicit;return te(U(3).adminVote(o,!1))}),D(16,"i",49),y(),_(17,"button",117),G("click",function(){const o=ee(t).$implicit;return te(U(3).adminVote(o,!0))}),D(18,"i",113),y(),_(19,"button",118),G("click",function(){const o=ee(t).$implicit;return te(U(3).addToQueueFromRecent(o))}),D(20,"i",119),y()()()}if(2&n){const t=e.$implicit,r=U(3);C(1),j("src",t.image,Dr),C(3),he(t.name),C(2),he(t.artists.join(", ")),C(4),ve(" ",t.votes||0,""),C(3),ve(" ",t.dislikes||0,""),C(2),we("active",r.hasAdminLiked(t.id)),C(2),we("active",r.hasAdminDisliked(t.id))}}function Cme(n,e){if(1&n&&(_(0,"div",162),Y(1,bme,21,9,"div",163),y()),2&n){const t=U(2);C(1),j("ngForOf",t.recentlyAddedSongs)}}function wme(n,e){1&n&&(_(0,"div",82),D(1,"i",169),_(2,"p"),T(3,"No hay canciones recientes"),y()())}function Ime(n,e){if(1&n&&(_(0,"div",159),Y(1,Cme,2,1,"div",160),Y(2,wme,4,0,"ng-template",null,161,eu),y()),2&n){const t=po(3),r=U();C(1),j("ngIf",r.recentlyAddedSongs.length>0)("ngIfElse",t)}}let Eme=(()=>{class n{http;spotifyNowPlaying;votingService;spotifyService;scheduleService;authService;router;queueService;activeSection="dashboard";showSearch=!1;showRecentlyAdded=!0;isEditingSchedules=!1;songs=[];queue=[];recentlyAddedSongs=[];searchResults=[];schedules=[];spotifyStatus=null;adminCurrentlyPlaying=null;isLoading=!1;isLoadingQueue=!1;isLoadingCurrent=!1;isPlaying=!1;searchQuery="";adminVotes={};totalVotes=0;uniqueVoters=0;successMessage="";errorMessage="";actionInProgress="";refreshTimer;currentSongTimer;recentlyAddedTimer;apiUrl=jr_apiUrl;constructor(t,r,i,o,s,a,c,u){this.http=t,this.spotifyNowPlaying=r,this.votingService=i,this.spotifyService=o,this.scheduleService=s,this.authService=a,this.router=c,this.queueService=u}ngOnInit(){this.loadInitialData(),this.setupAutoRefresh(),this.calculateStats()}calculateStats(){this.totalVotes=this.songs.reduce((t,r)=>t+(r.votes||0),0),this.uniqueVoters=Math.floor(.7*this.totalVotes)}showMessage(t,r=!0,i=3e3){r?this.successMessage=t:this.errorMessage=t,setTimeout(()=>{r?this.successMessage="":this.errorMessage=""},i)}ngOnDestroy(){this.refreshTimer&&clearInterval(this.refreshTimer),this.currentSongTimer&&clearInterval(this.currentSongTimer),this.recentlyAddedTimer&&clearInterval(this.recentlyAddedTimer)}loadInitialData(){this.loadSongs(),this.loadQueue(),this.getSpotifyStatus(),this.getAdminCurrentlyPlaying(),this.loadSchedules()}setupAutoRefresh(){this.refreshTimer=setInterval(()=>{this.loadSongs(),this.loadQueue(),this.getSpotifyStatus()},3e4),this.currentSongTimer=setInterval(()=>{this.getAdminCurrentlyPlaying()},5e3),this.recentlyAddedTimer=setInterval(()=>{this.filterRecentlyAdded()},15e3)}setActiveSection(t){this.activeSection=t,"queue"===t?this.loadQueue():"playing"===t?this.getAdminCurrentlyPlaying():"ranking"===t?this.loadSongs():"schedules"===t&&this.loadSchedules()}toggleSearch(){this.showSearch=!this.showSearch,this.showSearch&&(this.activeSection="dashboard")}toggleRecentlyAdded(){this.showRecentlyAdded=!this.showRecentlyAdded}loadSongs(){this.isLoading=!0,this.votingService.forceRefresh().subscribe({next:t=>{this.songs=t,this.filterRecentlyAdded(),this.calculateVotingStats(),this.isLoading=!1,this.showMessage("Ranking actualizado correctamente")},error:t=>{console.error("Error loading songs:",t),this.isLoading=!1,this.showMessage("Error al cargar las canciones",!1)}})}calculateVotingStats(){this.totalVotes=this.songs.reduce((t,r)=>t+(r.votes||0),0),this.uniqueVoters=Math.floor(.7*this.totalVotes)}filterRecentlyAdded(){const t=new Date;t.setHours(t.getHours()-6),this.recentlyAddedSongs=this.songs.filter(r=>new Date(r.createdat)>t).sort((r,i)=>new Date(i.createdat).getTime()-new Date(r.createdat).getTime()).slice(0,15)}addToQueueFromRecent(t){this.addToQueueFromSearch(`spotify:track:${t.id}`)}loadQueue(){this.isLoadingQueue=!0,this.queueService.getQueue().subscribe({next:t=>{this.queue=t.queue||[],this.isLoadingQueue=!1},error:t=>{console.error("Error loading queue:",t),this.isLoadingQueue=!1,this.showMessage("Error al cargar la cola de reproducci\xf3n",!1)}})}getSpotifyStatus(){this.spotifyNowPlaying.getAdminSpotifyStatus().subscribe({next:t=>{this.spotifyStatus=t},error:t=>{console.error("Error getting Spotify status:",t)}})}getAdminCurrentlyPlaying(){this.isLoadingCurrent=!0,this.spotifyNowPlaying.getAdminCurrentlyPlaying().subscribe({next:t=>{t&&t.is_playing?(this.adminCurrentlyPlaying=t,this.isPlaying=t.is_playing):(this.adminCurrentlyPlaying=null,this.isPlaying=!1),this.isLoadingCurrent=!1},error:t=>{console.error("Error getting currently playing:",t),this.adminCurrentlyPlaying=null,this.isLoadingCurrent=!1}})}loadSchedules(){this.scheduleService.getSchedules().subscribe({next:t=>{this.schedules=t},error:t=>{console.error("Error loading schedules:",t)}})}saveSchedules(){this.scheduleService.updateSchedules(this.schedules).subscribe({next:()=>{this.isEditingSchedules=!1},error:t=>{console.error("Error saving schedules:",t)}})}connectSpotify(){this.spotifyNowPlaying.startAdminSpotifyAuth().subscribe({next:t=>{t.authUrl&&(window.location.href=t.authUrl)},error:t=>{console.error("Error connecting to Spotify:",t)}})}disconnectSpotify(){this.spotifyNowPlaying.disconnectAdminSpotify().subscribe({next:()=>{this.getSpotifyStatus()},error:t=>{console.error("Error disconnecting from Spotify:",t)}})}searchSpotify(){this.searchQuery.trim()&&(this.isLoading=!0,this.spotifyService.searchTracks(this.searchQuery).subscribe({next:t=>{this.searchResults=t.map(r=>({...r,image:r.image||r.album?.images?.[0]?.url||"assets/default-song.png",artists:Array.isArray(r.artists)?r.artists:"string"==typeof r.artists||r.artists?[r.artists]:["Artista desconocido"]})),this.isLoading=!1},error:t=>{console.error("Error searching Spotify:",t),this.showMessage("Error al buscar en Spotify",!1),this.isLoading=!1}}))}voteFromSearch(t,r){this.votingService.voteForSong(t.id,{id:t.id,name:t.name,artists:t.artists,image:t.image,preview_url:t.preview_url},r).subscribe({next:o=>{this.loadSongs(),alert(r?"Dislike registrado":"Like registrado")},error:o=>{console.error("Error voting from search:",o),alert("Error al votar. Intenta nuevamente.")}})}adminVote(t,r){this.adminVotes[t.id]=r,this.votingService.voteForSong(t.id,t,r).subscribe({next:i=>{this.loadSongs()},error:i=>{console.error("Error with admin vote:",i),delete this.adminVotes[t.id],alert("Error al votar. Intenta nuevamente.")}})}hasAdminLiked(t){return!1===this.adminVotes[t]}hasAdminDisliked(t){return!0===this.adminVotes[t]}addToQueue(t){this.queueService.addToQueue(t).subscribe({next:()=>{this.loadQueue(),this.showMessage("Canci\xf3n agregada a la cola correctamente")},error:r=>{console.error("Error adding to queue:",r),this.showMessage("Error al agregar a la cola",!1)}})}addToQueueFromSearch(t){this.actionInProgress="Agregando a la cola...",this.queueService.addToQueue(t).subscribe({next:r=>{this.loadQueue(),this.showMessage("Canci\xf3n agregada a la cola correctamente"),this.actionInProgress=""},error:r=>{console.error("Error adding to queue:",r),this.showMessage("Error al agregar a la cola: "+r.message,!1),this.actionInProgress=""}})}addToQueueFromRanking(t){confirm("\xbfAgregar esta canci\xf3n a la cola de reproducci\xf3n?")&&this.addToQueueFromSearch(`spotify:track:${t}`)}confirmAddToHistory(){var t=this;return v(function*(){try{const r=yield t.spotifyNowPlaying.addToHistory().toPromise();r.can_add?confirm(`\xbfEst\xe1s seguro de que quieres agregar "${r.song.name}" al hist\xf3rico?`)&&t.http.post(`${t.apiUrl}/api/spotify/admin/add-to-history-confirmed`,{}).subscribe({next:o=>{t.showMessage(o.message||"Canci\xf3n agregada al hist\xf3rico"),t.loadSongs()},error:o=>{t.showMessage("Error al agregar al hist\xf3rico: "+o.error?.error,!1)}}):t.showMessage(r.message,!1)}catch{t.showMessage("Error al verificar hist\xf3rico",!1)}})()}playNowFromSearch(t){this.actionInProgress="Reproduciendo...",this.spotifyNowPlaying.playTrack(t).subscribe({next:()=>{setTimeout(()=>{this.getAdminCurrentlyPlaying()},1e3),this.showMessage("Reproduciendo canci\xf3n"),this.actionInProgress=""},error:r=>{console.error("Error playing track:",r),this.showMessage("Error al reproducir: "+(r.error?.message||"Error desconocido"),!1),this.actionInProgress=""}})}playTrack(t){this.spotifyNowPlaying.playTrack(t).subscribe({next:()=>{setTimeout(()=>{this.getAdminCurrentlyPlaying()},1e3)},error:r=>{console.error("Error playing track:",r),alert("Error al reproducir la canci\xf3n: "+r.message)}})}nextTrack(){this.spotifyNowPlaying.nextTrack().subscribe({next:()=>{setTimeout(()=>{this.getAdminCurrentlyPlaying()},1e3)},error:t=>{console.error("Error skipping to next track:",t)}})}previousTrack(){this.spotifyNowPlaying.previousTrack().subscribe({next:()=>{setTimeout(()=>{this.getAdminCurrentlyPlaying()},1e3)},error:t=>{console.error("Error going to previous track:",t)}})}togglePlayback(){this.isPlaying?this.spotifyNowPlaying.pausePlayback().subscribe({next:()=>{this.isPlaying=!1},error:t=>{console.error("Error pausing playback:",t)}}):this.spotifyNowPlaying.resumePlayback().subscribe({next:()=>{this.isPlaying=!0},error:t=>{console.error("Error resuming playback:",t)}})}deleteSong(t){confirm("\xbfEst\xe1s seguro de que quieres eliminar esta canci\xf3n del ranking?")&&this.votingService.deleteSong(t).subscribe({next:()=>{this.loadSongs(),this.showMessage("Canci\xf3n eliminada correctamente")},error:r=>{console.error("Error deleting song:",r),this.showMessage("Error al eliminar la canci\xf3n",!1)}})}deleteAllVotes(){confirm("\xbfEst\xe1s seguro de que quieres eliminar TODOS los votos? Esta acci\xf3n no se puede deshacer.")&&this.votingService.deleteAllVotes().subscribe({next:()=>{this.loadSongs(),this.showMessage("Todos los votos han sido eliminados")},error:t=>{console.error("Error deleting all votes:",t),this.showMessage("Error al eliminar todos los votos",!1)}})}forceRefresh(){this.showMessage("Actualizando todos los datos..."),Promise.all([new Promise(t=>this.loadSongs()),new Promise(t=>this.loadQueue()),new Promise(t=>this.getSpotifyStatus()),new Promise(t=>this.getAdminCurrentlyPlaying())]).then(()=>{this.showMessage("Todos los datos han sido actualizados")}).catch(t=>{this.showMessage("Error al actualizar los datos",!1)})}toggleQueue(){this.activeSection="queue"}addToHistory(){var t=this;return v(function*(){if(t.adminCurrentlyPlaying&&t.adminCurrentlyPlaying.id){t.actionInProgress="Verificando canci\xf3n...";try{const r=yield t.spotifyNowPlaying.addToHistory().toPromise();if(r.can_add){if(confirm(`\xbfEst\xe1s seguro de que quieres agregar "${t.adminCurrentlyPlaying.name}" al hist\xf3rico?\n\nEsta acci\xf3n eliminar\xe1 la canci\xf3n del ranking si est\xe1 presente.`)){t.actionInProgress="Agregando al hist\xf3rico...";const o=t.authService.getAuthHeaders(),s=yield t.http.post(`${t.apiUrl}/api/spotify/admin/add-to-history-confirmed`,{},{headers:o}).toPromise();t.showMessage(s.message||"Canci\xf3n agregada al hist\xf3rico correctamente"),t.loadSongs(),setTimeout(()=>{t.getAdminCurrentlyPlaying()},2e3)}}else t.showMessage(r.message,!1)}catch(r){console.error("Error al agregar al hist\xf3rico:",r),t.showMessage(r.error?.error||r.message||"Error al agregar al hist\xf3rico",!1)}finally{t.actionInProgress=""}}else t.showMessage("No hay canci\xf3n reproduci\xe9ndose actualmente",!1)})()}checkAddToHistory(){this.adminCurrentlyPlaying?this.spotifyNowPlaying.addToHistory().subscribe({next:t=>{t.can_add?this.addToHistory():this.showMessage(t.message,!1)},error:t=>{this.showMessage("Error al verificar: "+(t.error?.message||t.message),!1)}}):this.showMessage("No hay canci\xf3n reproduci\xe9ndose",!1)}checkPlayingSong(){this.adminCurrentlyPlaying&&(this.songs.find(r=>r.id===this.adminCurrentlyPlaying.id)?this.activeSection="ranking":alert("Esta canci\xf3n no est\xe1 en el ranking."))}forceRankSong(){this.adminCurrentlyPlaying&&this.votingService.vote({id:this.adminCurrentlyPlaying.id,name:this.adminCurrentlyPlaying.name,artists:this.adminCurrentlyPlaying.artists,image:this.adminCurrentlyPlaying.image},!1,!0).subscribe({next:()=>{this.loadSongs(),this.activeSection="ranking"},error:r=>{console.error("Error forcing song to rank:",r)}})}formatTime(t){const r=Math.floor(t/1e3),o=r%60;return`${Math.floor(r/60)}:${o<10?"0":""}${o}`}formatTimeAgo(t){const r=new Date(t),o=(new Date).getTime()-r.getTime(),s=Math.floor(o/6e4),a=Math.floor(s/60),c=Math.floor(a/24);return s<1?"Ahora mismo":s<60?`Hace ${s} min`:a<24?`Hace ${a} h`:1===c?"Ayer":`Hace ${c} d\xedas`}convertToAmPm(t){if(!t)return"";const[r,i]=t.split(":"),o=parseInt(r,10);return`${o%12||12}:${i} ${o>=12?"PM":"AM"}`}logout(){this.authService.logout(),this.router.navigate(["/login"])}static \u0275fac=function(r){return new(r||n)(W(yi),W(tA),W(gl),W(hB),W(gB),W(Qa),W(cr),W(Kge))};static \u0275cmp=Jn({type:n,selectors:[["app-admin-panel"]],standalone:!0,features:[or],decls:64,vars:26,consts:[[1,"admin-panel-container"],[1,"message-container"],["class","success-message",4,"ngIf"],["class","error-message",4,"ngIf"],["class","progress-message",4,"ngIf"],[1,"admin-header"],[1,"header-content"],[1,"fab","fa-spotify","me-2"],[1,"header-subtitle"],[1,"btn-logout",3,"click"],[1,"fas","fa-sign-out-alt","me-1"],[1,"admin-content"],[1,"admin-sidebar"],[1,"sidebar-section"],[1,"sidebar-btn",3,"click"],[1,"fas","fa-tachometer-alt","me-2"],[1,"fas","fa-play-circle","me-2"],[1,"fas","fa-list-ol","me-2"],[1,"fas","fa-trophy","me-2"],[1,"fas","fa-clock","me-2"],[1,"fas","fa-sync-alt","me-2"],[1,"fas","fa-search","me-2"],["class","spotify-status",4,"ngIf"],[1,"admin-main"],["class","section",4,"ngIf"],[1,"search-section"],[1,"search-header"],[1,"btn-toggle",3,"click"],["class","search-content",4,"ngIf"],[1,"section","recently-added-section"],[1,"section-header","collapsible",3,"click"],[1,"fas"],["class","recently-added-content",4,"ngIf"],[1,"success-message"],[1,"fas","fa-check-circle"],[1,"error-message"],[1,"fas","fa-exclamation-circle"],[1,"progress-message"],[1,"fas","fa-spinner","fa-spin"],[1,"spotify-status"],[1,"status-indicator"],[1,"status-text"],[1,"status-action",3,"click"],[1,"section"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-icon"],[1,"fas","fa-music"],[1,"stat-content"],[1,"fas","fa-thumbs-up"],[1,"fas","fa-users"],[1,"fas","fa-history"],[1,"dashboard-actions"],[1,"action-btn","primary",3,"click"],[1,"fas","fa-sync-alt","me-1"],[1,"action-btn","secondary",3,"click"],[1,"fas","fa-list-ol","me-1"],[1,"action-btn","warning",3,"click"],[1,"fas","fa-play-circle","me-1"],[1,"section-header"],[1,"btn-refresh",3,"click"],[1,"fas","fa-sync-alt"],["class","currently-playing-card",4,"ngIf","ngIfElse"],["noSongPlaying",""],[1,"currently-playing-card"],[1,"playing-content"],["alt","Album cover",1,"album-art-large",3,"src"],[1,"track-info"],[1,"artists"],[1,"progress-container"],[1,"progress-bar"],[1,"progress-fill"],[1,"time-display"],[1,"playing-actions"],["title","Verificar en ranking",1,"control-btn",3,"click"],[1,"fas","fa-search"],["title","Agregar al hist\xf3rico",1,"control-btn",3,"disabled","click"],[1,"player-controls"],[1,"player-btn",3,"click"],[1,"fas","fa-step-backward"],[1,"player-btn","play-pause",3,"click"],[1,"fas","fa-step-forward"],[1,"empty-state"],[1,"fas","fa-music-slash"],["class","btn-spotify",3,"click",4,"ngIf"],[1,"btn-spotify",3,"click"],[1,"btn-refresh",3,"disabled","click"],["class","queue-container",4,"ngIf","ngIfElse"],["emptyQueue",""],[1,"queue-container"],["class","queue-item",4,"ngFor","ngForOf"],[1,"queue-item"],[1,"queue-position"],["alt","Album cover",1,"queue-image",3,"src"],[1,"queue-info"],[1,"queue-actions"],["title","Reproducir ahora",1,"queue-btn",3,"click"],[1,"fas","fa-play"],[1,"fas","fa-list-ol"],[1,"header-actions"],[1,"btn-danger",3,"click"],[1,"fas","fa-trash","me-1"],["class","ranking-container",4,"ngIf","ngIfElse"],["emptyRanking",""],[1,"ranking-container"],["class","ranking-item",4,"ngFor","ngForOf"],[1,"ranking-item"],[1,"rank-number"],["alt","Album cover",1,"rank-image",3,"src"],[1,"rank-info"],[1,"rank-stats"],[1,"votes"],[1,"dislikes"],[1,"fas","fa-thumbs-down"],[1,"time"],[1,"rank-actions"],["title","Me gusta",1,"vote-btn","like",3,"click"],["title","No me gusta",1,"vote-btn","dislike",3,"click"],["title","Agregar a cola",1,"action-btn",3,"click"],[1,"fas","fa-plus"],["title","Eliminar",1,"action-btn","danger",3,"click"],[1,"fas","fa-trash"],[1,"fas","fa-trophy"],[1,"schedules-container"],[4,"ngIf"],["class","schedule-card",4,"ngFor","ngForOf"],[1,"schedule-card"],[1,"schedule-times"],[1,"time-block"],[1,"time-label"],[1,"time-value"],[1,"schedule-status"],[1,"status-badge"],["class","schedule-edit-card",4,"ngFor","ngForOf"],[1,"btn-save",3,"click"],[1,"fas","fa-save","me-1"],[1,"schedule-edit-card"],[1,"edit-fields"],[1,"field-group"],["type","time",3,"ngModel","ngModelChange"],[1,"field-group","toggle"],[1,"switch"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"slider"],[1,"search-content"],[1,"search-bar"],["type","text","placeholder","Buscar canciones en Spotify...",3,"ngModel","ngModelChange","keyup.enter"],[1,"search-btn",3,"click"],["class","search-results",4,"ngIf"],[1,"search-results"],["class","result-item",4,"ngFor","ngForOf"],[1,"result-item"],["alt","Album cover","onerror","this.src='assets/default-song.png'",1,"result-image",3,"src"],[1,"result-info"],[1,"album-name"],[1,"result-actions"],["title","Votar positivo",1,"vote-btn","like",3,"click"],["title","Votar negativo",1,"vote-btn","dislike",3,"click"],["title","Reproducir ahora",1,"action-btn",3,"click"],[1,"recently-added-content"],["class","recent-grid",4,"ngIf","ngIfElse"],["emptyRecent",""],[1,"recent-grid"],["class","recent-card",4,"ngFor","ngForOf"],[1,"recent-card"],["alt","Album cover",1,"recent-image",3,"src"],[1,"recent-info"],[1,"recent-stats"],[1,"recent-actions"],[1,"fas","fa-clock"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1),Y(2,Qge,3,1,"div",2),Y(3,Yge,3,1,"div",3),Y(4,Jge,3,1,"div",4),y(),_(5,"div",5)(6,"div",6)(7,"h1"),D(8,"i",7),T(9,"Panel de Administraci\xf3n "),y(),_(10,"p",8),T(11,"Gestiona la m\xfasica y votaciones del restaurante"),y()(),_(12,"button",9),G("click",function(){return i.logout()}),D(13,"i",10),T(14,"Cerrar Sesi\xf3n "),y()(),_(15,"div",11)(16,"div",12)(17,"div",13)(18,"h3"),T(19,"Navegaci\xf3n"),y(),_(20,"button",14),G("click",function(){return i.setActiveSection("dashboard")}),D(21,"i",15),T(22,"Dashboard "),y(),_(23,"button",14),G("click",function(){return i.setActiveSection("playing")}),D(24,"i",16),T(25,"Reproduciendo "),y(),_(26,"button",14),G("click",function(){return i.setActiveSection("queue")}),D(27,"i",17),T(28,"Cola de Reproducci\xf3n "),y(),_(29,"button",14),G("click",function(){return i.setActiveSection("ranking")}),D(30,"i",18),T(31,"Ranking "),y(),_(32,"button",14),G("click",function(){return i.setActiveSection("schedules")}),D(33,"i",19),T(34,"Horarios "),y()(),_(35,"div",13)(36,"h3"),T(37,"Acciones R\xe1pidas"),y(),_(38,"button",14),G("click",function(){return i.forceRefresh()}),D(39,"i",20),T(40,"Actualizar Todo "),y(),_(41,"button",14),G("click",function(){return i.toggleSearch()}),D(42,"i",21),T(43,"Buscar Canciones "),y()(),Y(44,Xge,6,6,"div",22),y(),_(45,"div",23),Y(46,Zge,44,4,"div",24),Y(47,rme,9,4,"div",24),Y(48,ame,9,5,"div",24),Y(49,dme,13,5,"div",24),Y(50,mme,9,3,"div",24),_(51,"div",25)(52,"div",26)(53,"h3"),T(54,"Buscar en Spotify"),y(),_(55,"button",27),G("click",function(){return i.showSearch=!i.showSearch}),T(56),y()(),Y(57,vme,6,2,"div",28),y(),_(58,"div",29)(59,"div",30),G("click",function(){return i.toggleRecentlyAdded()}),_(60,"h2"),T(61,"Reci\xe9n Agregadas"),y(),D(62,"i",31),y(),Y(63,Ime,4,2,"div",32),y()()()()),2&r&&(C(2),j("ngIf",i.successMessage),C(1),j("ngIf",i.errorMessage),C(1),j("ngIf",i.actionInProgress),C(16),we("active","dashboard"===i.activeSection),C(3),we("active","playing"===i.activeSection),C(3),we("active","queue"===i.activeSection),C(3),we("active","ranking"===i.activeSection),C(3),we("active","schedules"===i.activeSection),C(12),j("ngIf",i.spotifyStatus),C(2),j("ngIf","dashboard"===i.activeSection),C(1),j("ngIf","playing"===i.activeSection),C(1),j("ngIf","queue"===i.activeSection),C(1),j("ngIf","ranking"===i.activeSection),C(1),j("ngIf","schedules"===i.activeSection),C(6),ve(" ",i.showSearch?"Ocultar":"Mostrar"," "),C(1),j("ngIf",i.showSearch),C(5),we("fa-chevron-down",!i.showRecentlyAdded)("fa-chevron-up",i.showRecentlyAdded),C(1),j("ngIf",i.showRecentlyAdded))},dependencies:[Ka,Wi,FM,Fs,Bo,Xr,ki,Vr,nZ],styles:['@import"https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap";@import"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css";.admin-panel-container[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;background-color:#121212;color:#fff;min-height:100vh;padding:0;margin:0}.admin-header[_ngcontent-%COMP%]{background-color:#000;padding:16px 24px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #282828}.admin-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:700;color:#fff}.admin-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#1db954}.admin-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-subtitle[_ngcontent-%COMP%]{margin:4px 0 0;color:#b3b3b3;font-size:14px}.admin-header[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;background-color:transparent;color:#fff;padding:8px 16px;border-radius:20px;border:1px solid #B3B3B3;font-weight:500;transition:all .2s ease}.admin-header[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;transform:scale(1.05)}.admin-content[_ngcontent-%COMP%]{display:flex;min-height:calc(100vh - 80px)}.admin-sidebar[_ngcontent-%COMP%]{width:240px;background-color:#000;padding:24px 16px;border-right:1px solid #282828}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]{margin-bottom:32px}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:12px;text-transform:uppercase;letter-spacing:1.5px;color:#b3b3b3;margin:0 0 16px;padding:0 8px}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   .sidebar-btn[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;width:100%;text-align:left;padding:10px 16px;border-radius:4px;margin-bottom:4px;color:#b3b3b3;font-weight:500;transition:all .2s ease}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   .sidebar-btn[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff1a}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   .sidebar-btn.active[_ngcontent-%COMP%]{color:#fff;background-color:#fff3}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   .sidebar-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:20px}.admin-sidebar[_ngcontent-%COMP%]   .spotify-status[_ngcontent-%COMP%]{margin-top:32px;padding:12px;background-color:#181818;border-radius:8px;display:flex;align-items:center}.admin-sidebar[_ngcontent-%COMP%]   .spotify-status[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%;margin-right:8px}.admin-sidebar[_ngcontent-%COMP%]   .spotify-status[_ngcontent-%COMP%]   .status-indicator.connected[_ngcontent-%COMP%]{background-color:#1db954}.admin-sidebar[_ngcontent-%COMP%]   .spotify-status[_ngcontent-%COMP%]   .status-indicator.disconnected[_ngcontent-%COMP%]{background-color:#e74c3c}.admin-sidebar[_ngcontent-%COMP%]   .spotify-status[_ngcontent-%COMP%]   .status-text[_ngcontent-%COMP%]{font-size:12px;flex-grow:1}.admin-sidebar[_ngcontent-%COMP%]   .spotify-status[_ngcontent-%COMP%]   .status-action[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;color:#1db954;font-size:12px;font-weight:600}.admin-sidebar[_ngcontent-%COMP%]   .spotify-status[_ngcontent-%COMP%]   .status-action[_ngcontent-%COMP%]:hover{text-decoration:underline}.admin-main[_ngcontent-%COMP%]{flex:1;padding:24px;overflow-y:auto}.admin-main[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]{margin-bottom:24px}.admin-main[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.admin-main[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:700}.admin-main[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .section-header.collapsible[_ngcontent-%COMP%]{cursor:pointer;padding:12px 0;border-bottom:1px solid #282828}.admin-main[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:16px;margin-bottom:24px}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{background-color:#181818;border-radius:8px;padding:16px;box-shadow:0 4px 12px #0000004d;transition:all .3s ease;display:flex;align-items:center}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:48px;height:48px;background-color:#1db9541a;border-radius:50%;display:flex;align-items:center;justify-content:center;margin-right:16px}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:#1db954}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:700}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;color:#b3b3b3;font-size:14px}.dashboard-actions[_ngcontent-%COMP%]{display:flex;gap:12px;margin-bottom:24px}.dashboard-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;padding:10px 16px;border-radius:4px;font-weight:500;transition:all .2s ease}.dashboard-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]{background-color:#1db954;color:#000}.dashboard-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]:hover{background-color:#2bde6a;transform:translateY(-2px)}.dashboard-actions[_ngcontent-%COMP%]   .action-btn.secondary[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border:1px solid #B3B3B3}.dashboard-actions[_ngcontent-%COMP%]   .action-btn.secondary[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;border-color:#fff}.dashboard-actions[_ngcontent-%COMP%]   .action-btn.warning[_ngcontent-%COMP%]{background-color:#f39c12;color:#000}.dashboard-actions[_ngcontent-%COMP%]   .action-btn.warning[_ngcontent-%COMP%]:hover{background-color:#f5b043}.currently-playing-card[_ngcontent-%COMP%]{background-color:#181818;border-radius:8px;padding:16px;box-shadow:0 4px 12px #0000004d;transition:all .3s ease}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:16px}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .album-art-large[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:8px;margin-right:20px;object-fit:cover}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .track-info[_ngcontent-%COMP%]{flex:1}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .track-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:20px;font-weight:700}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .track-info[_ngcontent-%COMP%]   .artists[_ngcontent-%COMP%]{margin:0 0 16px;color:#b3b3b3}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .track-info[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:100%;height:4px;background-color:#5a5a5a;border-radius:2px;overflow:hidden;margin-bottom:8px}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .track-info[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background-color:#1db954;border-radius:2px;transition:width .3s ease}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .track-info[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .time-display[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:12px;color:#b3b3b3}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .playing-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .playing-actions[_ngcontent-%COMP%]   .control-btn[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;width:40px;height:40px;border-radius:50%;background-color:#ffffff1a;color:#fff;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .playing-actions[_ngcontent-%COMP%]   .control-btn[_ngcontent-%COMP%]:hover{background-color:#fff3;transform:scale(1.1)}.currently-playing-card[_ngcontent-%COMP%]   .player-controls[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:16px}.currently-playing-card[_ngcontent-%COMP%]   .player-controls[_ngcontent-%COMP%]   .player-btn[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;width:48px;height:48px;border-radius:50%;background-color:#ffffff1a;color:#fff;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.currently-playing-card[_ngcontent-%COMP%]   .player-controls[_ngcontent-%COMP%]   .player-btn[_ngcontent-%COMP%]:hover{background-color:#fff3;transform:scale(1.05)}.currently-playing-card[_ngcontent-%COMP%]   .player-controls[_ngcontent-%COMP%]   .player-btn.play-pause[_ngcontent-%COMP%]{width:64px;height:64px;background-color:#1db954;color:#000}.currently-playing-card[_ngcontent-%COMP%]   .player-controls[_ngcontent-%COMP%]   .player-btn.play-pause[_ngcontent-%COMP%]:hover{background-color:#2bde6a;transform:scale(1.1)}.queue-container[_ngcontent-%COMP%]{background-color:#181818;border-radius:8px;box-shadow:0 4px 12px #0000004d;transition:all .3s ease;padding:0;overflow:hidden}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 16px;border-bottom:1px solid #282828}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]:hover{background-color:#ffffff0d}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]   .queue-position[_ngcontent-%COMP%]{width:24px;text-align:center;font-weight:600;color:#b3b3b3;margin-right:16px}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]   .queue-image[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:4px;margin-right:16px;object-fit:cover}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]   .queue-info[_ngcontent-%COMP%]{flex:1}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]   .queue-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;font-size:14px;font-weight:500}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]   .queue-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:12px;color:#b3b3b3}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]   .queue-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]   .queue-actions[_ngcontent-%COMP%]   .queue-btn[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;width:32px;height:32px;border-radius:50%;background-color:transparent;color:#fff;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]   .queue-actions[_ngcontent-%COMP%]   .queue-btn[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]   .queue-actions[_ngcontent-%COMP%]   .queue-btn.remove[_ngcontent-%COMP%]{color:#e74c3c}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]   .queue-actions[_ngcontent-%COMP%]   .queue-btn.remove[_ngcontent-%COMP%]:hover{background-color:#e74c3c1a}.ranking-container[_ngcontent-%COMP%]{background-color:#181818;border-radius:8px;box-shadow:0 4px 12px #0000004d;transition:all .3s ease;padding:0;overflow:hidden}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 16px;border-bottom:1px solid #282828}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]:hover{background-color:#ffffff0d}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-number[_ngcontent-%COMP%]{width:24px;text-align:center;font-weight:700;font-size:16px;margin-right:16px;color:#b3b3b3}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-image[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:4px;margin-right:16px;object-fit:cover}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-info[_ngcontent-%COMP%]{flex:1}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;font-size:16px;font-weight:500}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 8px;font-size:14px;color:#b3b3b3}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-info[_ngcontent-%COMP%]   .rank-stats[_ngcontent-%COMP%]{display:flex;gap:16px}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-info[_ngcontent-%COMP%]   .rank-stats[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:12px;color:#b3b3b3}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-info[_ngcontent-%COMP%]   .rank-stats[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:4px}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-actions[_ngcontent-%COMP%]   .vote-btn[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-actions[_ngcontent-%COMP%]   .vote-btn.like[_ngcontent-%COMP%]{color:#b3b3b3;background-color:transparent}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-actions[_ngcontent-%COMP%]   .vote-btn.like[_ngcontent-%COMP%]:hover, .ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-actions[_ngcontent-%COMP%]   .vote-btn.like.active[_ngcontent-%COMP%]{color:#1db954;background-color:#1db9541a}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-actions[_ngcontent-%COMP%]   .vote-btn.dislike[_ngcontent-%COMP%]{color:#b3b3b3;background-color:transparent}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-actions[_ngcontent-%COMP%]   .vote-btn.dislike[_ngcontent-%COMP%]:hover, .ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-actions[_ngcontent-%COMP%]   .vote-btn.dislike.active[_ngcontent-%COMP%]{color:#e74c3c;background-color:#e74c3c1a}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;width:36px;height:36px;border-radius:50%;background-color:transparent;color:#b3b3b3;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;color:#fff}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-actions[_ngcontent-%COMP%]   .action-btn.danger[_ngcontent-%COMP%]:hover{color:#e74c3c;background-color:#e74c3c1a}.schedules-container[_ngcontent-%COMP%]   .schedule-card[_ngcontent-%COMP%], .schedules-container[_ngcontent-%COMP%]   .schedule-edit-card[_ngcontent-%COMP%]{background-color:#181818;border-radius:8px;padding:16px;box-shadow:0 4px 12px #0000004d;transition:all .3s ease;margin-bottom:16px}.schedules-container[_ngcontent-%COMP%]   .schedule-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .schedules-container[_ngcontent-%COMP%]   .schedule-edit-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;font-size:16px;font-weight:600}.schedules-container[_ngcontent-%COMP%]   .schedule-times[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px}.schedules-container[_ngcontent-%COMP%]   .schedule-times[_ngcontent-%COMP%]   .time-block[_ngcontent-%COMP%]{display:flex;flex-direction:column}.schedules-container[_ngcontent-%COMP%]   .schedule-times[_ngcontent-%COMP%]   .time-block[_ngcontent-%COMP%]   .time-label[_ngcontent-%COMP%]{font-size:12px;color:#b3b3b3;margin-bottom:4px}.schedules-container[_ngcontent-%COMP%]   .schedule-times[_ngcontent-%COMP%]   .time-block[_ngcontent-%COMP%]   .time-value[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.schedules-container[_ngcontent-%COMP%]   .schedule-status[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 8px;border-radius:12px;font-size:12px;font-weight:600}.schedules-container[_ngcontent-%COMP%]   .schedule-status[_ngcontent-%COMP%]   .status-badge.active[_ngcontent-%COMP%]{background-color:#1db95433;color:#1db954}.schedules-container[_ngcontent-%COMP%]   .schedule-status[_ngcontent-%COMP%]   .status-badge.inactive[_ngcontent-%COMP%]{background-color:#e74c3c33;color:#e74c3c}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:16px}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]   .field-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]   .field-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;color:#b3b3b3;margin-bottom:4px}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]   .field-group[_ngcontent-%COMP%]   input[type=time][_ngcontent-%COMP%]{background-color:#2a2a2a;border:1px solid #404040;border-radius:4px;color:#fff;padding:8px;font-family:inherit}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]   .field-group[_ngcontent-%COMP%]   input[type=time][_ngcontent-%COMP%]:focus{outline:none;border-color:#1db954}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]   .field-group.toggle[_ngcontent-%COMP%]{flex-direction:row;align-items:center;justify-content:space-between}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]   .field-group.toggle[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:40px;height:20px}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]   .field-group.toggle[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]   .field-group.toggle[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#1db954}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]   .field-group.toggle[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(20px)}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]   .field-group.toggle[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.4s;border-radius:34px}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]   .field-group.toggle[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:16px;width:16px;left:2px;bottom:2px;background-color:#fff;transition:.4s;border-radius:50%}.schedules-container[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;background-color:#1db954;color:#000;padding:10px 20px;border-radius:4px;font-weight:600;margin-top:16px;transition:all .2s ease}.schedules-container[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]:hover{background-color:#2bde6a;transform:translateY(-2px)}.recently-added-section[_ngcontent-%COMP%]   .recently-added-content[_ngcontent-%COMP%]{margin-top:16px}.recently-added-section[_ngcontent-%COMP%]   .recent-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:16px}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]{background-color:#181818;border-radius:8px;box-shadow:0 4px 12px #0000004d;padding:12px;transition:all .3s ease}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]:hover{background-color:#282828;transform:translateY(-4px)}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-image[_ngcontent-%COMP%]{width:100%;aspect-ratio:1;border-radius:4px;object-fit:cover;margin-bottom:12px}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0 0 4px;font-size:14px;font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 8px;font-size:12px;color:#b3b3b3;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-info[_ngcontent-%COMP%]   .recent-stats[_ngcontent-%COMP%]{display:flex;gap:12px}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-info[_ngcontent-%COMP%]   .recent-stats[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:11px;color:#b3b3b3}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-info[_ngcontent-%COMP%]   .recent-stats[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:4px}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:8px;margin-top:12px}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-actions[_ngcontent-%COMP%]   .vote-btn[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-actions[_ngcontent-%COMP%]   .vote-btn.like[_ngcontent-%COMP%]{color:#b3b3b3}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-actions[_ngcontent-%COMP%]   .vote-btn.like[_ngcontent-%COMP%]:hover, .recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-actions[_ngcontent-%COMP%]   .vote-btn.like.active[_ngcontent-%COMP%]{color:#1db954;background-color:#1db9541a}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-actions[_ngcontent-%COMP%]   .vote-btn.dislike[_ngcontent-%COMP%]{color:#b3b3b3}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-actions[_ngcontent-%COMP%]   .vote-btn.dislike[_ngcontent-%COMP%]:hover, .recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-actions[_ngcontent-%COMP%]   .vote-btn.dislike.active[_ngcontent-%COMP%]{color:#e74c3c;background-color:#e74c3c1a}.search-section[_ngcontent-%COMP%]{background-color:#181818;border-radius:8px;padding:16px;box-shadow:0 4px 12px #0000004d;transition:all .3s ease}.search-section[_ngcontent-%COMP%]   .search-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.search-section[_ngcontent-%COMP%]   .search-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px}.search-section[_ngcontent-%COMP%]   .search-header[_ngcontent-%COMP%]   .btn-toggle[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;color:#1db954;font-weight:500}.search-section[_ngcontent-%COMP%]   .search-header[_ngcontent-%COMP%]   .btn-toggle[_ngcontent-%COMP%]:hover{text-decoration:underline}.search-section[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{display:flex;margin-bottom:16px}.search-section[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;background-color:#2a2a2a;border:1px solid #404040;border-right:none;border-radius:4px 0 0 4px;color:#fff;padding:10px 16px;font-family:inherit}.search-section[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#1db954}.search-section[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;background-color:#1db954;color:#000;padding:0 16px;border-radius:0 4px 4px 0;font-weight:600;transition:all .2s ease}.search-section[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]:hover{background-color:#2bde6a}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px;border-radius:4px;margin-bottom:8px;background-color:#ffffff0d;transition:all .2s ease}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-image[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:4px;margin-right:16px;object-fit:cover}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-info[_ngcontent-%COMP%]{flex:1}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;font-size:14px;font-weight:500}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 4px;font-size:12px;color:#b3b3b3}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-info[_ngcontent-%COMP%]   .album-name[_ngcontent-%COMP%]{font-size:11px;color:#b3b3b3}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .vote-btn[_ngcontent-%COMP%], .search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .vote-btn.like[_ngcontent-%COMP%]{color:#b3b3b3;background-color:transparent}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .vote-btn.like[_ngcontent-%COMP%]:hover{color:#1db954;background-color:#1db9541a}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .vote-btn.dislike[_ngcontent-%COMP%]{color:#b3b3b3;background-color:transparent}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .vote-btn.dislike[_ngcontent-%COMP%]:hover{color:#e74c3c;background-color:#e74c3c1a}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{background-color:transparent;color:#b3b3b3}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;color:#fff}.empty-state[_ngcontent-%COMP%]{background-color:#181818;border-radius:8px;box-shadow:0 4px 12px #0000004d;transition:all .3s ease;text-align:center;padding:40px 20px}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:48px;color:#b3b3b3;margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 20px;color:#b3b3b3}.empty-state[_ngcontent-%COMP%]   .btn-spotify[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;background-color:#1db954;color:#000;padding:10px 20px;border-radius:20px;font-weight:600;transition:all .2s ease}.empty-state[_ngcontent-%COMP%]   .btn-spotify[_ngcontent-%COMP%]:hover{background-color:#2bde6a;transform:scale(1.05)}.btn-refresh[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;width:36px;height:36px;border-radius:50%;background-color:#ffffff1a;color:#fff;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.btn-refresh[_ngcontent-%COMP%]:hover{background-color:#fff3;transform:rotate(180deg)}.btn-refresh[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn-danger[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;background-color:#e74c3c;color:#fff;padding:8px 16px;border-radius:4px;font-weight:500;transition:all .2s ease}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#ed7669}@media (max-width: 1024px){.admin-sidebar[_ngcontent-%COMP%]{width:200px}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){.admin-content[_ngcontent-%COMP%]{flex-direction:column}.admin-sidebar[_ngcontent-%COMP%]{width:100%;border-right:none;border-bottom:1px solid #282828;padding:16px}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:16px}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{width:100%;margin-bottom:8px}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   .sidebar-btn[_ngcontent-%COMP%]{width:auto;margin-bottom:0}.admin-sidebar[_ngcontent-%COMP%]   .spotify-status[_ngcontent-%COMP%]{margin-top:16px}.admin-main[_ngcontent-%COMP%]{padding:16px}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.dashboard-actions[_ngcontent-%COMP%]{flex-wrap:wrap}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .album-art-large[_ngcontent-%COMP%]{margin-right:0;margin-bottom:16px}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .playing-actions[_ngcontent-%COMP%]{margin-top:16px}.recent-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}@media (max-width: 480px){.admin-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:16px}.admin-header[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]{align-self:stretch;text-align:center}.playing-content[_ngcontent-%COMP%]   .playing-actions[_ngcontent-%COMP%], .rank-actions[_ngcontent-%COMP%], .result-actions[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center}.recent-grid[_ngcontent-%COMP%], .edit-fields[_ngcontent-%COMP%]{grid-template-columns:1fr!important}}.message-container[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;z-index:1000;max-width:400px}.success-message[_ngcontent-%COMP%], .error-message[_ngcontent-%COMP%], .progress-message[_ngcontent-%COMP%]{padding:12px 16px;border-radius:6px;margin-bottom:10px;box-shadow:0 4px 12px #0000004d;display:flex;align-items:center;animation:_ngcontent-%COMP%_slideIn .3s ease}.success-message[_ngcontent-%COMP%]{background-color:#1db954e6;color:#000;border-left:4px solid #1DB954}.error-message[_ngcontent-%COMP%]{background-color:#e74c3ce6;color:#fff;border-left:4px solid #e74c3c}.progress-message[_ngcontent-%COMP%]{background-color:#3498dbe6;color:#fff;border-left:4px solid #3498db}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.action-btn[_ngcontent-%COMP%]{transition:all .2s ease}.action-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.action-btn[_ngcontent-%COMP%]:disabled:hover{transform:none!important}.btn-loading[_ngcontent-%COMP%]{position:relative}.btn-loading[_ngcontent-%COMP%]:after{content:"";position:absolute;width:16px;height:16px;top:50%;left:50%;margin:-8px 0 0 -8px;border:2px solid transparent;border-top:2px solid currentColor;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return n})(),Tme=(()=>{class n{http;apiUrl=jr_apiUrl;constructor(t){this.http=t}getSongHistory(t="times_played",r="desc"){let i=(new Co).set("sort_by",t).set("order",r);return this.http.get(`${this.apiUrl}/api/ranking/history`,{params:i})}voteFromHistory(t){return this.http.post(`${this.apiUrl}/api/ranking/vote-from-history`,{track_id:t})}getRankingStats(){return this.http.get(`${this.apiUrl}/api/ranking/stats`)}forceRankCurrentSong(){return this.http.post(`${this.apiUrl}/api/ranking/force-rank-current`,{})}static \u0275fac=function(r){return new(r||n)(le(yi))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Pme(n,e){if(1&n&&(_(0,"div",42),T(1),y()),2&n){const t=U();C(1),ve(" ",t.voteMessage," ")}}function Mme(n,e){if(1&n){const t=Oe();_(0,"button",43),G("click",function(){return ee(t),te(U().filterText="")}),D(1,"i",44),y()}}function Ame(n,e){if(1&n&&(_(0,"div",45),D(1,"i",46),T(2),y()),2&n){const t=U();C(2),ve(" ",t.error," ")}}function Sme(n,e){1&n&&(_(0,"div",47),D(1,"div",48),_(2,"p",6),T(3,"Cargando ranking hist\xf3rico..."),y()())}function xme(n,e){1&n&&D(0,"i",72)}function Ome(n,e){1&n&&D(0,"i",73)}function Dme(n,e){if(1&n){const t=Oe();_(0,"div",51)(1,"div",52)(2,"div",53),G("click",function(){const o=ee(t).$implicit;return te(U(2).onShowDetails(o))}),_(3,"span",54),T(4),y(),_(5,"img",55),G("click",function(){const o=ee(t).$implicit;return te(U(2).onShowDetails(o))}),y()(),_(6,"div",56)(7,"h3",57),G("click",function(){const o=ee(t).$implicit;return te(U(2).onShowDetails(o))}),T(8),y(),_(9,"p",58),G("click",function(){const o=ee(t).$implicit;return te(U(2).onShowDetails(o))}),T(10),y(),_(11,"div",59),G("click",function(){const o=ee(t).$implicit;return te(U(2).onShowDetails(o))}),_(12,"span",60),D(13,"i",61),T(14),y(),_(15,"span",60),D(16,"i",62),T(17),y(),_(18,"span",60),D(19,"i",63),T(20),y()(),_(21,"div",64),G("click",function(){const o=ee(t).$implicit;return te(U(2).onShowDetails(o))}),_(22,"div",65),D(23,"div",66),y(),_(24,"span",67),T(25),y()(),_(26,"p",68),T(27),y(),_(28,"button",69),G("click",function(){const o=ee(t).$implicit;return te(U(2).onVote(o))}),Y(29,xme,1,0,"i",70),Y(30,Ome,1,0,"i",71),T(31," Votar "),y()()()()}if(2&n){const t=e.$implicit,r=e.index,i=U(2);C(4),he(r+1),C(1),j("src",t.image||"assets/default-song.png",Dr)("alt",t.name),C(3),he(t.name),C(2),he(t.artists.join(", ")),C(4),ve(" ",t.times_played," "),C(3),ve(" ",t.total_votes," "),C(3),ve(" ",t.total_dislikes," "),C(3),md("width",i.getVotePercentage(t),"%"),C(2),ve("",i.getVotePercentage(t),"% aprobaci\xf3n"),C(2),he(i.formatDate(t.last_played_at)),C(1),j("disabled",i.isVoting),C(1),j("ngIf",!i.isVoting),C(1),j("ngIf",i.isVoting)}}function kme(n,e){if(1&n&&(_(0,"div",49),Y(1,Dme,32,15,"div",50),y()),2&n){const t=U();C(1),j("ngForOf",t.getTabSongs())}}function Rme(n,e){1&n&&(_(0,"div",47),D(1,"i",74),_(2,"h4",6),T(3,"No se encontraron canciones"),y(),_(4,"p",6),T(5,"Intenta con otros t\xe9rminos de b\xfasqueda"),y()())}function Nme(n,e){if(1&n){const t=Oe();_(0,"div",75),G("click",function(){return ee(t),te(U().onCloseDetails())}),y()}}function Fme(n,e){1&n&&D(0,"i",72)}function Vme(n,e){1&n&&D(0,"i",73)}function Lme(n,e){if(1&n){const t=Oe();_(0,"div",76)(1,"div",77)(2,"div",78)(3,"div",79)(4,"h5",80),D(5,"i",81),T(6,"Detalles de la Canci\xf3n "),y(),_(7,"button",82),G("click",function(){return ee(t),te(U().onCloseDetails())}),T(8," Cerrar "),y()(),_(9,"div",83)(10,"div",84)(11,"div",85),D(12,"img",86),_(13,"button",69),G("click",function(){ee(t);const i=U();return te(i.onVote(i.selectedSong))}),Y(14,Fme,1,0,"i",70),Y(15,Vme,1,0,"i",71),T(16," Votar por esta canci\xf3n "),y()(),_(17,"div",87)(18,"h4",6),T(19),y(),_(20,"p",6),T(21),y(),_(22,"div",88)(23,"div",89)(24,"div",90)(25,"h3",91),T(26),y(),_(27,"p",92),T(28,"Reproducciones"),y()()(),_(29,"div",89)(30,"div",90)(31,"h3",93),T(32),y(),_(33,"p",92),T(34,"Votos positivos"),y()()(),_(35,"div",94)(36,"div",90)(37,"h3",95),T(38),y(),_(39,"p",92),T(40,"Votos negativos"),y()()(),_(41,"div",94)(42,"div",90)(43,"h3",96),T(44),y(),_(45,"p",92),T(46,"Porcentaje de aprobaci\xf3n"),y()()()(),_(47,"div",97)(48,"h6",6),T(49,"\xdaltima reproducci\xf3n"),y(),_(50,"p",6),T(51),y(),_(52,"h6",6),T(53,"D\xedas desde la \xfaltima reproducci\xf3n"),y(),_(54,"p",6),T(55),y()()()()()()()()}if(2&n){const t=U();C(12),j("src",t.selectedSong.image||"assets/default-song.png",Dr)("alt",t.selectedSong.name),C(1),j("disabled",t.isVoting),C(1),j("ngIf",!t.isVoting),C(1),j("ngIf",t.isVoting),C(4),he(t.selectedSong.name),C(2),he(t.selectedSong.artists.join(", ")),C(5),he(t.selectedSong.times_played),C(6),he(t.selectedSong.total_votes),C(6),he(t.selectedSong.total_dislikes),C(6),ve("",t.getVotePercentage(t.selectedSong),"%"),C(7),he(t.formatDate(t.selectedSong.last_played_at)),C(4),ve("",t.getDaysSinceLastPlayed(t.selectedSong)," d\xedas")}}let Ume=(()=>{class n{rankingService;votingService;songs=[];isLoading=!0;error="";sortBy="times_played";sortOrder="desc";filterText="";selectedSong=null;isVoting=!1;voteMessage="";activeTab="all";stats={};pollingSubscription=null;constructor(t,r){this.rankingService=t,this.votingService=r}ngOnInit(){this.loadRanking(),this.startPolling()}ngOnDestroy(){this.pollingSubscription&&this.pollingSubscription.unsubscribe()}startPolling(){this.pollingSubscription=this.votingService.getRankedSongsPolling().subscribe({next:()=>{this.loadRanking()}})}loadRanking(){this.isLoading=!0,this.error="",this.rankingService.getSongHistory(this.sortBy,this.sortOrder).subscribe({next:t=>{this.songs=t,this.calculateStats(),this.isLoading=!1},error:t=>{console.error("Error loading ranking:",t),this.error="Error al cargar el ranking. Intenta nuevamente.",this.isLoading=!1}})}calculateStats(){0!==this.songs.length?(this.stats.totalSongs=this.songs.length,this.stats.totalPlays=this.songs.reduce((t,r)=>t+r.times_played,0),this.stats.totalVotes=this.songs.reduce((t,r)=>t+r.total_votes,0),this.stats.totalDislikes=this.songs.reduce((t,r)=>t+r.total_dislikes,0),this.stats.mostPlayed=this.songs.reduce((t,r)=>r.times_played>t.times_played?r:t,this.songs[0]),this.stats.mostVoted=this.songs.reduce((t,r)=>r.total_votes>t.total_votes?r:t,this.songs[0]),this.stats.bestRated=this.songs.reduce((t,r)=>this.getVotePercentage(r)>this.getVotePercentage(t)?r:t,this.songs[0])):this.stats={}}onSortChange(t){this.sortBy===t?this.sortOrder="desc"===this.sortOrder?"asc":"desc":(this.sortBy=t,this.sortOrder="desc"),this.loadRanking()}getSortIcon(t){return this.sortBy!==t?"fa-sort":"desc"===this.sortOrder?"fa-sort-down":"fa-sort-up"}onVote(t){this.isVoting=!0,this.voteMessage="",this.rankingService.voteFromHistory(t.track_id).subscribe({next:r=>{this.voteMessage="Agregada a Ranking de Votacion",this.isVoting=!1;const i=this.songs.findIndex(o=>o.track_id===t.track_id);-1!==i&&(this.songs[i].total_votes+=1,this.calculateStats()),setTimeout(()=>{this.voteMessage=""},5e3)},error:r=>{console.error("Error voting:",r),this.voteMessage=r.error?.error||"Error al votar",this.isVoting=!1,setTimeout(()=>{this.voteMessage=""},5e3)}})}onShowDetails(t){this.selectedSong=t}onCloseDetails(){this.selectedSong=null}get filteredSongs(){if(!this.filterText)return this.songs;const t=this.filterText.toLowerCase();return this.songs.filter(r=>r.name.toLowerCase().includes(t)||r.artists.some(i=>i.toLowerCase().includes(t)))}getVotePercentage(t){return t.total_votes||t.total_dislikes?Math.round(t.total_votes/(t.total_votes+t.total_dislikes)*100):0}formatDate(t){const r=new Date(t);return new Intl.DateTimeFormat("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}).format(r)}getDaysSinceLastPlayed(t){const r=new Date(t.last_played_at),o=Math.abs((new Date).getTime()-r.getTime());return Math.floor(o/864e5)}setActiveTab(t){this.activeTab=t}getTabSongs(){switch(this.activeTab){case"mostPlayed":return[...this.filteredSongs].sort((t,r)=>r.times_played-t.times_played);case"mostVoted":return[...this.filteredSongs].sort((t,r)=>r.total_votes-t.total_votes);case"bestRated":return[...this.filteredSongs].sort((t,r)=>{const i=this.getVotePercentage(t);return this.getVotePercentage(r)-i});default:return this.filteredSongs}}static \u0275fac=function(r){return new(r||n)(W(Tme),W(gl))};static \u0275cmp=Jn({type:n,selectors:[["app-ranking"]],standalone:!0,features:[or],decls:88,vars:30,consts:[[1,"ranking-container","fade-in"],[1,"message-container"],["class","success-message",4,"ngIf"],[1,"header-section"],[1,"gradient-text"],[1,"fas","fa-trophy","me-2"],[1,"text-muted"],[1,"stats-grid","mb-4"],[1,"stat-card","card"],[1,"card-body","text-center"],[1,"fas","fa-music","stat-icon"],[1,"stat-value"],[1,"stat-label"],[1,"fas","fa-play-circle","stat-icon"],[1,"fas","fa-thumbs-up","stat-icon"],[1,"fas","fa-thumbs-down","stat-icon"],[1,"tabs-container","mb-4"],[1,"nav","nav-tabs"],[1,"nav-item"],[1,"nav-link",3,"click"],[1,"fas","fa-list","me-1"],[1,"fas","fa-play-circle","me-1"],[1,"fas","fa-thumbs-up","me-1"],[1,"fas","fa-star","me-1"],[1,"filters-card","card","mb-4"],[1,"card-body"],[1,"row","align-items-center"],[1,"col-md-6","mb-3","mb-md-0"],[1,"search-container"],[1,"fas","fa-search","search-icon"],["type","text","placeholder","Buscar canci\xf3n o artista...",1,"search-input",3,"ngModel","ngModelChange"],["class","search-clear",3,"click",4,"ngIf"],[1,"col-md-6"],[1,"d-flex","flex-wrap","gap-2","justify-content-md-end"],[1,"text-muted","me-2"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"fas","fa-calendar","me-1"],["class","alert alert-danger","role","alert",4,"ngIf"],["class","text-center py-5",4,"ngIf"],["class","songs-grid",4,"ngIf"],["class","modal-backdrop show",3,"click",4,"ngIf"],["class","modal show d-block","tabindex","-1",4,"ngIf"],[1,"success-message"],[1,"search-clear",3,"click"],[1,"fas","fa-times"],["role","alert",1,"alert","alert-danger"],[1,"fas","fa-exclamation-triangle","me-2"],[1,"text-center","py-5"],[1,"loading-spinner","mb-3"],[1,"songs-grid"],["class","song-card spotify-card",4,"ngFor","ngForOf"],[1,"song-card","spotify-card"],[1,"card-content"],[1,"song-image-container",3,"click"],[1,"position-number"],[1,"song-image",3,"src","alt","click"],[1,"song-info"],[1,"song-title",3,"click"],[1,"song-artist",3,"click"],[1,"song-stats",3,"click"],[1,"stat-item"],[1,"fas","fa-play"],[1,"fas","fa-thumbs-up"],[1,"fas","fa-thumbs-down"],[1,"approval-container",3,"click"],[1,"approval-bar"],[1,"approval-progress"],[1,"approval-text"],[1,"last-played"],[1,"btn","btn-primary","w-100","mb-2",3,"disabled","click"],["class","fas fa-vote-yea me-1",4,"ngIf"],["class","fas fa-spinner fa-spin me-1",4,"ngIf"],[1,"fas","fa-vote-yea","me-1"],[1,"fas","fa-spinner","fa-spin","me-1"],[1,"fas","fa-music","fa-3x","text-muted","mb-3"],[1,"modal-backdrop","show",3,"click"],["tabindex","-1",1,"modal","show","d-block"],[1,"modal-dialog","modal-lg"],[1,"modal-content","card"],[1,"modal-header","card-header"],[1,"modal-title"],[1,"fas","fa-info-circle","me-2"],["type","button",1,"btn","btn-primary","w-100","mb-2",3,"click"],[1,"modal-body","card-body"],[1,"row"],[1,"col-md-4","text-center"],[1,"img-fluid","rounded","mb-3",3,"src","alt"],[1,"col-md-8"],[1,"row","mt-4"],[1,"col-6"],[1,"stat-box","text-center","p-3","rounded"],[1,"text-primary"],[1,"mb-0","text-muted"],[1,"text-success"],[1,"col-6","mt-3"],[1,"text-danger"],[1,"text-info"],[1,"mt-4"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1),Y(2,Pme,2,1,"div",2),y(),_(3,"div",3)(4,"h1",4),D(5,"i",5),T(6,"Ranking Hist\xf3rico "),y(),_(7,"p",6),T(8," Descubre las canciones m\xe1s populares que han sonado en nuestro restaurante "),y()(),_(9,"div",7)(10,"div",8)(11,"div",9),D(12,"i",10),_(13,"h3",11),T(14),y(),_(15,"p",12),T(16,"Canciones totales"),y()()(),_(17,"div",8)(18,"div",9),D(19,"i",13),_(20,"h3",11),T(21),y(),_(22,"p",12),T(23,"Reproducciones"),y()()(),_(24,"div",8)(25,"div",9),D(26,"i",14),_(27,"h3",11),T(28),y(),_(29,"p",12),T(30,"Votos positivos"),y()()(),_(31,"div",8)(32,"div",9),D(33,"i",15),_(34,"h3",11),T(35),y(),_(36,"p",12),T(37,"Votos negativos"),y()()()(),_(38,"div",16)(39,"ul",17)(40,"li",18)(41,"a",19),G("click",function(){return i.setActiveTab("all")}),D(42,"i",20),T(43,"Todas "),y()(),_(44,"li",18)(45,"a",19),G("click",function(){return i.setActiveTab("mostPlayed")}),D(46,"i",21),T(47,"M\xe1s reproducidas "),y()(),_(48,"li",18)(49,"a",19),G("click",function(){return i.setActiveTab("mostVoted")}),D(50,"i",22),T(51,"M\xe1s votadas "),y()(),_(52,"li",18)(53,"a",19),G("click",function(){return i.setActiveTab("bestRated")}),D(54,"i",23),T(55,"Mejor valoradas "),y()()()(),_(56,"div",24)(57,"div",25)(58,"div",26)(59,"div",27)(60,"div",28),D(61,"i",29),_(62,"input",30),G("ngModelChange",function(s){return i.filterText=s}),y(),Y(63,Mme,2,0,"button",31),y(),_(64,"p",6),T(65,"Preciona la cacion para ver los detallas "),y()(),_(66,"div",32)(67,"div",33)(68,"span",34),T(69,"Ordenar por:"),y(),_(70,"button",35),G("click",function(){return i.onSortChange("times_played")}),D(71,"i",21),T(72," Reproducciones "),D(73,"i"),y(),_(74,"button",35),G("click",function(){return i.onSortChange("total_votes")}),D(75,"i",22),T(76," Votos "),D(77,"i"),y(),_(78,"button",35),G("click",function(){return i.onSortChange("last_played_at")}),D(79,"i",36),T(80," Fecha "),D(81,"i"),y()()()()()(),Y(82,Ame,3,1,"div",37),Y(83,Sme,4,0,"div",38),Y(84,kme,2,1,"div",39),Y(85,Rme,6,0,"div",38),Y(86,Nme,1,0,"div",40),Y(87,Lme,56,13,"div",41),y()),2&r&&(C(2),j("ngIf",i.voteMessage),C(12),he(i.stats.totalSongs||0),C(7),he(i.stats.totalPlays||0),C(7),he(i.stats.totalVotes||0),C(7),he(i.stats.totalDislikes||0),C(6),we("active","all"===i.activeTab),C(4),we("active","mostPlayed"===i.activeTab),C(4),we("active","mostVoted"===i.activeTab),C(4),we("active","bestRated"===i.activeTab),C(9),j("ngModel",i.filterText),C(1),j("ngIf",i.filterText),C(10),Xp("fas ",i.getSortIcon("times_played")," ms-1"),C(4),Xp("fas ",i.getSortIcon("total_votes")," ms-1"),C(4),Xp("fas ",i.getSortIcon("last_played_at")," ms-1"),C(1),j("ngIf",i.error),C(1),j("ngIf",i.isLoading),C(1),j("ngIf",!i.isLoading&&i.getTabSongs().length>0),C(1),j("ngIf",!i.isLoading&&0===i.getTabSongs().length),C(1),j("ngIf",i.selectedSong),C(1),j("ngIf",i.selectedSong))},dependencies:[Xr,ki,Vr,Ka,Wi,Fs,Bo,Jd],styles:['.ranking-container[_ngcontent-%COMP%]{padding:1rem;max-width:1200px;margin:0 auto}@media (max-width: 768px){.ranking-container[_ngcontent-%COMP%]{padding:.5rem}}.header-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem;padding:1.5rem;background:linear-gradient(135deg,rgba(29,185,84,.1) 0%,rgba(25,20,20,.1) 100%);border-radius:16px}.header-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.2rem;font-weight:800;margin-bottom:.5rem}@media (max-width: 768px){.header-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}}.header-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:1rem}.search-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;background:rgba(42,42,42,.6);border-radius:50px;padding:.5rem 1rem;transition:all .3s ease;border:1px solid rgba(62,62,62,.5)}.search-container[_ngcontent-%COMP%]:focus-within{border-color:var(--primary-color);box-shadow:0 0 0 2px #1db95440}.search-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{color:var(--text-secondary);margin-right:.5rem}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--text-primary);flex-grow:1;padding:.5rem 0}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:none}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:var(--text-tertiary)}.search-container[_ngcontent-%COMP%]   .search-clear[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--text-secondary);cursor:pointer;padding:.25rem;border-radius:50%}.search-container[_ngcontent-%COMP%]   .search-clear[_ngcontent-%COMP%]:hover{color:var(--text-primary);background:rgba(255,255,255,.1)}.songs-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1rem}@media (max-width: 768px){.songs-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.75rem}}.spotify-card[_ngcontent-%COMP%]{background:rgba(42,42,42,.6);border-radius:8px;overflow:hidden;transition:all .3s ease;border:1px solid rgba(255,255,255,.05)}.spotify-card[_ngcontent-%COMP%]:hover{background:rgba(42,42,42,.8);transform:translateY(-2px);box-shadow:0 8px 24px #0003}.spotify-card[_ngcontent-%COMP%]:hover   .play-button[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}.spotify-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:1rem;display:flex;gap:1rem}@media (max-width: 480px){.spotify-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:.75rem}}.spotify-card[_ngcontent-%COMP%]   .song-image-container[_ngcontent-%COMP%]{position:relative;flex-shrink:0}.spotify-card[_ngcontent-%COMP%]   .song-image-container[_ngcontent-%COMP%]   .position-number[_ngcontent-%COMP%]{position:absolute;top:-8px;left:-8px;background:var(--primary-color);color:#000;font-weight:800;width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.8rem;z-index:2;box-shadow:0 2px 8px #1db95466}.spotify-card[_ngcontent-%COMP%]   .song-image-container[_ngcontent-%COMP%]   .song-image[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:6px;object-fit:cover;box-shadow:0 4px 12px #0000004d}@media (max-width: 480px){.spotify-card[_ngcontent-%COMP%]   .song-image-container[_ngcontent-%COMP%]   .song-image[_ngcontent-%COMP%]{width:100%;height:auto;max-height:160px}}.spotify-card[_ngcontent-%COMP%]   .song-image-container[_ngcontent-%COMP%]   .play-button[_ngcontent-%COMP%]{position:absolute;bottom:8px;right:8px;background:var(--primary-color);color:#000;border:none;border-radius:50%;width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;opacity:0;transform:translateY(8px);transition:all .3s ease;box-shadow:0 4px 12px #0000004d}.spotify-card[_ngcontent-%COMP%]   .song-image-container[_ngcontent-%COMP%]   .play-button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}@media (max-width: 480px){.spotify-card[_ngcontent-%COMP%]   .song-image-container[_ngcontent-%COMP%]   .play-button[_ngcontent-%COMP%]{opacity:1;transform:none;bottom:16px;right:16px;width:40px;height:40px}}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]{flex-grow:1;min-width:0}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   .song-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;margin:0 0 .25rem;color:var(--text-primary);cursor:pointer;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   .song-title[_ngcontent-%COMP%]:hover{color:var(--primary-color)}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   .song-artist[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary);margin:0 0 .75rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   .song-stats[_ngcontent-%COMP%]{display:flex;gap:.75rem;margin-bottom:.75rem;flex-wrap:wrap}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   .song-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;font-size:.8rem;color:var(--text-secondary)}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   .song-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color)}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   .approval-container[_ngcontent-%COMP%]{margin-bottom:.75rem}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   .approval-container[_ngcontent-%COMP%]   .approval-bar[_ngcontent-%COMP%]{height:4px;background-color:#ffffff1a;border-radius:2px;overflow:hidden;margin-bottom:.25rem}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   .approval-container[_ngcontent-%COMP%]   .approval-bar[_ngcontent-%COMP%]   .approval-progress[_ngcontent-%COMP%]{height:100%;background:var(--primary-color);border-radius:2px;transition:width .5s ease}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   .approval-container[_ngcontent-%COMP%]   .approval-text[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-secondary)}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   .last-played[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-tertiary);margin:0}.tabs-container[_ngcontent-%COMP%]{margin-bottom:1.5rem}.tabs-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]{border-bottom:1px solid rgba(255,255,255,.1);display:flex;overflow-x:auto;scrollbar-width:none}.tabs-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.tabs-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{flex-shrink:0}.tabs-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:var(--text-secondary);border:none;padding:.75rem 1rem;border-radius:0;position:relative;font-weight:600;white-space:nowrap}.tabs-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:0;height:2px;background:var(--primary-color);transition:width .3s ease}.tabs-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:var(--text-primary);background:transparent}.tabs-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover:after{width:100%}.tabs-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:var(--text-primary);background:transparent}.tabs-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{width:100%}.alert[_ngcontent-%COMP%]{border-radius:12px;border:none;box-shadow:0 4px 12px #00000026}.alert.alert-info[_ngcontent-%COMP%]{background:rgba(23,162,184,.9);color:#fff;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.alert.alert-danger[_ngcontent-%COMP%]{background:rgba(220,53,69,.9);color:#fff;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.alert[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{filter:invert(1)}.btn-closeee[_ngcontent-%COMP%]{background:rgba(3,59,17,.9);color:#030000;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}@keyframes _ngcontent-%COMP%_slideInDown{0%{transform:translateY(-20px);opacity:0}to{transform:translateY(0);opacity:1}}.alert-dismissible[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInDown .3s ease-out}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:1rem;margin-bottom:2rem}@media (max-width: 480px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{background:rgba(42,42,42,.6);border-radius:8px;padding:1rem;text-align:center;border:1px solid rgba(255,255,255,.05);transition:all .3s ease}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 6px 16px #0003;border-color:#1db95433}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--primary-color);margin-bottom:.5rem}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;margin-bottom:.25rem;color:var(--text-primary)}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-secondary);margin:0}.text-center[_ngcontent-%COMP%]{padding:3rem 1rem}.text-center[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{border:3px solid rgba(29,185,84,.3);border-top-color:var(--primary-color);border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}.text-center[_ngcontent-%COMP%]   .fa-music[_ngcontent-%COMP%]{font-size:3rem;color:var(--text-tertiary);margin-bottom:1rem}.text-center[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--text-secondary);margin-bottom:.5rem}.text-center[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-tertiary)}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.btn-outline-secondary[_ngcontent-%COMP%]{background:transparent;color:var(--text-secondary);border:1px solid var(--text-secondary);border-radius:50px;padding:.4rem .8rem;font-size:.85rem;display:inline-flex;align-items:center;transition:all .3s ease}.btn-outline-secondary[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.05);color:var(--text-primary);border-color:var(--text-primary)}.btn-outline-secondary[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:.25rem}.message-container[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;z-index:1000;max-width:400px}.success-message[_ngcontent-%COMP%], .error-message[_ngcontent-%COMP%], .progress-message[_ngcontent-%COMP%]{padding:12px 16px;border-radius:6px;margin-bottom:10px;box-shadow:0 4px 12px #0000004d;display:flex;align-items:center;animation:slideIn .3s ease}.success-message[_ngcontent-%COMP%]{background-color:#1db954e6;color:#000;border-left:4px solid #1DB954}']})}return n})(),jme=(()=>{class n{authService;router;constructor(t,r){this.authService=t,this.router=r}canActivate(){return!!this.authService.isLoggedIn()||(this.router.navigate(["/admin-login"]),!1)}static \u0275fac=function(r){return new(r||n)(le(Qa),le(cr))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $me(n,e){if(1&n){const t=Oe();_(0,"button",6),G("click",function(){return ee(t),te(U().hideAnnouncement())}),_(1,"i"),T(2,"Cerrar"),y()()}}function Bme(n,e){if(1&n){const t=Oe();_(0,"button",7),G("click",function(){return ee(t),te(U().nohideAnnouncement())}),_(1,"i"),T(2,"Abrir"),y()()}}function Hme(n,e){1&n&&(_(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12),D(5,"i",13),y(),_(6,"div")(7,"p",14),T(8,"Desarrollado por "),_(9,"b",15),T(10,"Sebastian Vega"),y(),T(11,": "),y(),_(12,"div",16)(13,"a",17),D(14,"i",18),T(15,"GitHub "),y(),_(16,"a",19),D(17,"i",20),T(18,"LinkedIn "),y(),_(19,"a",21),D(20,"i",22),T(21,"Instagram "),y()()()()(),D(22,"div",10),T(23," UptcMusic.com 2025 - V3.0 "),_(24,"div",23)(25,"h4"),D(26,"i",24),T(27,"A nuestros queridos usuarios:"),y(),_(28,"p"),T(29,"-Una cancion es eliminada automaticamente al completar "),_(30,"strong"),T(31,"10 Dislikes "),y()(),_(32,"p"),T(33,"-Cancion que entre en reproducion se eliminara automaticamente del Ranking"),y(),_(34,"p"),T(35,"-Solo se puede votar una vez por cancion "),y(),_(36,"p"),T(37,"-Toda Cacion Reproducida va para Ranking Historico"),y(),_(38,"p"),T(39,"-Cancion con menos de 5 votos no se tiene en cuenta para ser reproducidas"),y(),_(40,"p"),T(41,"-Cada semana se eliminaran todas las canciones del Ranking "),y(),_(42,"p"),T(43,"No se puede usar Admin como nombre de usuario"),y(),_(44,"p"),T(45,"Cualquier hilo que sea ofensivo, se eliminara "),y(),_(46,"p"),T(47,"-El administrador tiene la potestad de evaluar cada sugerencia y decidir si es apropiada para el momento o ambiente."),y(),_(48,"p")(49,"strong"),T(50,"Agradecemos enormemente su entusiasmo y participaci\xf3n. \xa1Sigan votando por su m\xfasica favorita!"),y()()()()())}let zme=(()=>{class n{isHidden=!1;hideAnnouncement(){this.isHidden=!0,localStorage.setItem("announcementHidden","true")}nohideAnnouncement(){this.isHidden=!1,localStorage.setItem("announcementHidden","true")}ngOnInit(){"true"===localStorage.getItem("announcementHidden")&&(this.isHidden=!0)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Jn({type:n,selectors:[["app-announcement"]],standalone:!0,features:[or],decls:8,vars:3,consts:[[1,"announcement-container","card"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"fas","fa-info-circle","me-2"],["class","btn-close","title","Abrir",3,"click",4,"ngIf"],["class","btn-close","title","Cerrar",3,"click",4,"ngIf"],["class","card-body",4,"ngIf"],["title","Abrir",1,"btn-close",3,"click"],["title","Cerrar",1,"btn-close",3,"click"],[1,"card-body"],[1,"announcement-content"],[1,"developer-info"],[1,"d-flex","align-items-start"],[1,"me-3","mt-1"],[1,"fas","fa-laptop-code","text-primary"],[1,"mb-1"],["href","https://www.instagram.com/sebastian.vegar/"],[1,"social-links"],["href","https://github.com/SebastianVega4","target","_blank"],[1,"fab","fa-github","me-1"],["href","https://www.linkedin.com/in/johan-sebastian-vega-ruiz-b1292011b/","target","_blank"],[1,"fab","fa-linkedin","me-1"],["href","https://www.instagram.com/sebastian.vegar/","target","_blank"],[1,"fab","fa-instagram","me-1"],[1,"alert","alert-info"],[1,"fas","fa-exclamation-triangle","me-2"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"div"),D(3,"i",2),T(4,"Informaci\xf3n Importante "),y(),Y(5,$me,3,0,"button",3),Y(6,Bme,3,0,"button",4),y(),Y(7,Hme,51,0,"div",5),y()),2&r&&(C(5),j("ngIf",!i.isHidden),C(1),j("ngIf",i.isHidden),C(1),j("ngIf",!i.isHidden))},dependencies:[Xr,Vr],styles:['@charset "UTF-8";.announcement-container[_ngcontent-%COMP%]{margin-bottom:.5rem;border:1px solid rgba(255,255,255,.1);border-radius:16px;overflow:hidden;background:var(--glass-bg);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);box-shadow:0 10px 30px #0003;transition:all .3s ease}.announcement-container[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 15px 40px #1db95426;border-color:#1db95433}.announcement-container[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(29,185,84,.15) 0%,rgba(141,103,171,.15) 100%);color:var(--text-primary);font-weight:700;font-size:1.1rem;padding:1rem 1.5rem;border-bottom:1px solid rgba(255,255,255,.1);display:flex;align-items:center;justify-content:space-between}.announcement-container[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color)}.announcement-container[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-secondary);cursor:pointer;padding:.25rem;border-radius:50%;transition:all .2s ease;width:28px;height:28px;display:flex;align-items:center;justify-content:center}.announcement-container[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{color:var(--text-primary);background:rgba(255,255,255,.1);transform:rotate(90deg)}.announcement-container[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.announcement-container[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1.5rem}.announcement-container[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{border:none;border-radius:12px;padding:1.5rem;background:rgba(83,143,221,.1);border-left:4px solid rgba(83,143,221,.5)}.announcement-container[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:1rem;color:var(--text-primary);display:flex;align-items:center}.announcement-container[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#538fdd;margin-right:.5rem;font-size:1.2rem}.announcement-container[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.6;color:var(--text-secondary);margin-bottom:1rem}.announcement-container[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.announcement-container[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--text-primary);font-weight:600}.announcement-container[_ngcontent-%COMP%]   .developer-info[_ngcontent-%COMP%]{margin-top:1.5rem;padding-top:1.5rem;border-top:1px solid rgba(255,255,255,.1)}.announcement-container[_ngcontent-%COMP%]   .developer-info[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{align-items:flex-start}.announcement-container[_ngcontent-%COMP%]   .developer-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary);margin-bottom:.5rem}.announcement-container[_ngcontent-%COMP%]   .developer-info[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.95rem;color:var(--text-primary);margin-bottom:1rem;font-weight:600}.announcement-container[_ngcontent-%COMP%]   .developer-info[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{display:flex;gap:1.2rem}.announcement-container[_ngcontent-%COMP%]   .developer-info[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;transition:all .3s ease;font-size:.9rem;color:var(--text-secondary);display:flex;align-items:center}.announcement-container[_ngcontent-%COMP%]   .developer-info[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--primary-color);transform:translateY(-2px)}.announcement-container[_ngcontent-%COMP%]   .developer-info[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.4rem;font-size:1rem}.announcement-container[_ngcontent-%COMP%]:hover{border-color:var(--primary-color)}']})}return n})();function qme(n,e){if(1&n){const t=Oe();_(0,"button",7),G("click",function(){return ee(t),te(U().hideAnnouncement())}),_(1,"i"),T(2,"Cerrar"),y()()}}function Gme(n,e){if(1&n){const t=Oe();_(0,"button",8),G("click",function(){return ee(t),te(U().nohideAnnouncement())}),_(1,"i"),T(2,"Abrir"),y()()}}function Wme(n,e){1&n&&(_(0,"div",12),D(1,"div",13),_(2,"p"),T(3,"Cargando horarios..."),y()())}const Kme=function(){return["Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes"]};function Qme(n,e){if(1&n&&(_(0,"tr")(1,"td",17)(2,"strong"),T(3),y()(),_(4,"td",18)(5,"span",19),T(6),y()(),_(7,"td",20)(8,"span",19),T(9),y()(),_(10,"td",21)(11,"span",22),T(12),y()()()),2&n){const t=e.$implicit,r=U(3);C(3),he(oa(14,Kme)[t.day_of_week]),C(2),we("empty",!t.lunch_start&&!t.lunch_end),C(1),go(" ",r.convertToAmPm(t.lunch_start)||"-"," - ",r.convertToAmPm(t.lunch_end)||"-"," "),C(2),we("empty",!t.dinner_start&&!t.dinner_end),C(1),go(" ",r.convertToAmPm(t.dinner_start)||"-"," - ",r.convertToAmPm(t.dinner_end)||"-"," "),C(2),we("active",t.is_active)("inactive",!t.is_active),C(1),ve(" ",t.is_active?"Activo":"Inactivo"," ")}}function Yme(n,e){if(1&n&&(_(0,"div",14)(1,"table",15)(2,"thead")(3,"tr")(4,"th"),T(5,"D\xeda"),y(),_(6,"th"),T(7,"Almuerzo"),y(),_(8,"th"),T(9,"Cena"),y(),_(10,"th"),T(11,"Estado"),y()()(),_(12,"tbody"),Y(13,Qme,13,15,"tr",16),y()()()),2&n){const t=U(2);C(13),j("ngForOf",t.schedules)}}function Jme(n,e){if(1&n&&(_(0,"div",9),Y(1,Wme,4,0,"div",10),Y(2,Yme,14,1,"div",11),y()),2&n){const t=U();C(1),j("ngIf",t.isLoading),C(1),j("ngIf",!t.isLoading)}}let Xme=(()=>{class n{scheduleService;schedules=[];isLoading=!0;isHidden=!1;constructor(t){this.scheduleService=t}hideAnnouncement(){this.isHidden=!0,localStorage.setItem("announcementHidden","true")}nohideAnnouncement(){this.isHidden=!1,localStorage.setItem("announcementHidden","true")}ngOnInit(){this.loadSchedules(),"true"===localStorage.getItem("announcementHidden")&&(this.isHidden=!0)}loadSchedules(){this.scheduleService.getSchedules().subscribe({next:t=>{this.schedules=t,this.isLoading=!1},error:t=>{console.error("Error al cargar horarios:",t),this.isLoading=!1}})}convertToAmPm(t){if(!t)return"";const[r,i]=t.split(":"),o=parseInt(r,10);return`${o%12||12}:${i} ${o>=12?"PM":"AM"}`}static \u0275fac=function(r){return new(r||n)(W(gB))};static \u0275cmp=Jn({type:n,selectors:[["app-schedule"]],standalone:!0,features:[or],decls:8,vars:3,consts:[[1,"card","schedule-card"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"fas","fa-clock","me-2"],["class","btn-close","title","Abrir",3,"click",4,"ngIf"],["class","btn-close","title","Cerrar",3,"click",4,"ngIf"],["class","card-body",4,"ngIf"],["title","Abrir",1,"btn-close",3,"click"],["title","Cerrar",1,"btn-close",3,"click"],[1,"card-body"],["class","loading-container",4,"ngIf"],["class","schedule-table-container",4,"ngIf"],[1,"loading-container"],[1,"spinner"],[1,"schedule-table-container"],[1,"schedule-table"],[4,"ngFor","ngForOf"],["data-label","D\xeda"],["data-label","Almuerzo"],[1,"time-slot"],["data-label","Cena"],["data-label","Estado"],[1,"status-badge"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"h5",2),D(3,"i",3),T(4,"Horarios de M\xfasica"),y(),Y(5,qme,3,0,"button",4),Y(6,Gme,3,0,"button",5),y(),Y(7,Jme,3,2,"div",6),y()),2&r&&(C(5),j("ngIf",!i.isHidden),C(1),j("ngIf",i.isHidden),C(1),j("ngIf",!i.isHidden))},dependencies:[Xr,ki,Vr],styles:[".schedule-card[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border:1px solid rgba(255,255,255,.1);border-radius:16px;overflow:hidden;margin-bottom:.5rem;box-shadow:0 8px 32px #0003}.schedule-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(29,185,84,.15) 0%,rgba(141,103,171,.15) 100%);border-bottom:1px solid rgba(255,255,255,.1);padding:1.2rem 1.5rem}.schedule-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;font-weight:700;color:var(--text-primary);display:flex;align-items:center;font-size:1.2rem}.schedule-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color);margin-right:.8rem;font-size:1.1rem}.schedule-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1.5rem}.schedule-table-container[_ngcontent-%COMP%]{overflow-x:auto;border-radius:12px}.schedule-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;color:var(--text-primary)}.schedule-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:rgba(29,185,84,.1);padding:.9rem 1rem;text-align:left;font-weight:600;font-size:.85rem;text-transform:uppercase;letter-spacing:.5px;color:var(--text-secondary);border-bottom:2px solid rgba(255,255,255,.1)}.schedule-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:8px}.schedule-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:8px}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:all .3s ease;border-bottom:1px solid rgba(255,255,255,.05)}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.03)}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:8px}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:8px}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;font-size:.95rem}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{font-weight:600;color:var(--text-primary)}.time-slot[_ngcontent-%COMP%]{display:inline-block;padding:.4rem .8rem;border-radius:6px;background:rgba(42,42,42,.4);font-size:.9rem}.time-slot.empty[_ngcontent-%COMP%]{color:var(--text-tertiary);font-style:italic}.status-badge[_ngcontent-%COMP%]{padding:.5rem .9rem;border-radius:50px;font-size:.8rem;font-weight:600;display:inline-flex;align-items:center;justify-content:center;min-width:80px}.status-badge.active[_ngcontent-%COMP%]{background:rgba(29,185,84,.2);color:var(--primary-color);border:1px solid rgba(29,185,84,.3)}.status-badge.inactive[_ngcontent-%COMP%]{background:rgba(255,255,255,.1);color:var(--text-secondary);border:1px solid rgba(255,255,255,.1)}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem}.loading-container[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid rgba(29,185,84,.2);border-radius:50%;border-top-color:var(--primary-color);animation:_ngcontent-%COMP%_spin 1s ease-in-out infinite;margin-bottom:1rem}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);margin:0}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@media (max-width: 768px){.schedule-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:1rem}.schedule-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.1rem}.schedule-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1rem}.schedule-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:none}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:block;margin-bottom:1rem;padding:1rem;border-radius:12px;background:rgba(42,42,42,.3);border:1px solid rgba(255,255,255,.1)}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{margin-bottom:0}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block;padding:.6rem 0;text-align:left;border:none;font-size:.9rem}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);font-weight:700;display:block;margin-bottom:.3rem;color:var(--text-secondary);font-size:.8rem;text-transform:uppercase}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-top:0;font-size:1rem;margin-bottom:.5rem;padding-bottom:.5rem;border-bottom:1px solid rgba(255,255,255,.1)}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child:before{display:none}.time-slot[_ngcontent-%COMP%]{padding:.3rem .6rem;font-size:.85rem}.status-badge[_ngcontent-%COMP%]{padding:.4rem .7rem;font-size:.75rem;min-width:70px}}@media (max-width: 480px){.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{padding:.8rem}}.btn-close[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-secondary);cursor:pointer;padding:.25rem;border-radius:50%;transition:all .2s ease;width:28px;height:28px;display:flex;align-items:center;justify-content:center}.btn-close[_ngcontent-%COMP%]:hover{color:var(--text-primary);background:rgba(255,255,255,.1);transform:rotate(90deg)}.btn-close[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}"]})}return n})(),_B=(()=>{class n{http;apiUrl=jr_apiUrl;likedItems=new Set;constructor(t){this.http=t,this.loadLikedItemsFromStorage()}loadLikedItemsFromStorage(){const t=localStorage.getItem("discussion_likes");t&&(this.likedItems=new Set(JSON.parse(t)))}saveLikedItemsToStorage(){localStorage.setItem("discussion_likes",JSON.stringify([...this.likedItems]))}getItemKey(t,r){return`${t}:${r}`}hasUserLiked(t,r){return this.likedItems.has(this.getItemKey(t,r))}updateLikeStatus(t,r,i){const o=this.getItemKey(t,r);i?this.likedItems.add(o):this.likedItems.delete(o),this.saveLikedItemsToStorage()}getThreads(t="updated_at",r="desc"){return this.http.get(`${this.apiUrl}/api/discussion/threads?sort=${t}&order=${r}`)}getThread(t){return this.http.get(`${this.apiUrl}/api/discussion/threads/${t}`)}createThread(t,r){return this.http.post(`${this.apiUrl}/api/discussion/threads`,{title:t,content:r})}addComment(t,r,i){return this.http.post(`${this.apiUrl}/api/discussion/threads/${t}/comments`,{content:r,parent_comment_id:i})}likeThread(t){return this.http.post(`${this.apiUrl}/api/discussion/like`,{thread_id:t}).pipe(at(r=>{this.updateLikeStatus("thread",t,"liked"===r.action)}))}likeComment(t){return this.http.post(`${this.apiUrl}/api/discussion/like`,{comment_id:t}).pipe(at(r=>{this.updateLikeStatus("comment",t,"liked"===r.action)}))}static \u0275fac=function(r){return new(r||n)(le(yi))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Zme(n,e){if(1&n){const t=Oe();_(0,"div",22),D(1,"i",23),T(2),_(3,"button",24),G("click",function(){return ee(t),te(U().error=null)}),D(4,"i",25),y()()}if(2&n){const t=U();C(2),ve(" ",t.error," ")}}function e_e(n,e){if(1&n){const t=Oe();_(0,"div",26)(1,"div",27)(2,"h3"),T(3,"Crear Nuevo Hilo"),y(),_(4,"div",28)(5,"label",29),T(6,"T\xedtulo"),y(),_(7,"input",30),G("ngModelChange",function(i){return ee(t),te(U().newThread.title=i)}),y(),_(8,"small"),T(9),y()(),_(10,"div",28)(11,"label",31),T(12,"Contenido"),y(),_(13,"textarea",32),G("ngModelChange",function(i){return ee(t),te(U().newThread.content=i)}),y()(),_(14,"div",33)(15,"button",34),G("click",function(){ee(t);const i=U();return i.showCreateForm=!1,te(i.newThread={title:"",content:""})}),T(16," Cancelar "),y(),_(17,"button",35),G("click",function(){return ee(t),te(U().createThread())}),D(18,"i",36),T(19,"Publicar Hilo "),y()()()()}if(2&n){const t=U();C(7),j("ngModel",t.newThread.title),C(2),ve("",t.newThread.title.length,"/200 caracteres"),C(4),j("ngModel",t.newThread.content),C(4),j("disabled",!t.newThread.title.trim()||!t.newThread.content.trim())}}function t_e(n,e){1&n&&(_(0,"div",37),D(1,"div",38),_(2,"p"),T(3,"Cargando hilos..."),y()())}function n_e(n,e){if(1&n){const t=Oe();_(0,"div",39),D(1,"i",40),_(2,"h3"),T(3,"\xa1S\xe9 el primero en empezar una conversaci\xf3n!"),y(),_(4,"p"),T(5,"A\xfan no hay hilos de discusi\xf3n. Crea el primero para hablar sobre m\xfasica."),y(),_(6,"button",5),G("click",function(){return ee(t),te(U().showCreateForm=!0)}),D(7,"i",6),T(8,"Crear Primer Hilo "),y()()}}const yB=function(n){return["/discussion/thread",n]};function r_e(n,e){if(1&n){const t=Oe();_(0,"div",41)(1,"div",42)(2,"h3",43)(3,"a",44),T(4),y()(),_(5,"span",45),T(6),y()(),_(7,"div",46)(8,"p"),T(9),y()(),_(10,"div",47)(11,"div",48)(12,"button",49),G("click",function(){const o=ee(t).$implicit;return te(U().likeThread(o))}),D(13,"i",50),_(14,"span"),T(15),y()()(),_(16,"div",48),D(17,"i",51),_(18,"span"),T(19),y()(),_(20,"div",48),D(21,"i",52),_(22,"span"),T(23),y()()(),_(24,"div",53)(25,"a",54),D(26,"i",55),T(27,"Ver discusi\xf3n "),y()()()}if(2&n){const t=e.$implicit,r=U();C(3),j("routerLink",qb(10,yB,t.id)),C(1),he(t.title),C(2),he(r.formatTimeAgo(t.updated_at)),C(3),he(t.content.length>300?t.content.substring(0,300)+"...":t.content),C(3),we("liked",t.user_has_liked),C(3),he(t.likes_count),C(4),he(t.comments_count),C(4),ve("Usuario ",t.author_fingerprint.substring(0,8),""),C(2),j("routerLink",qb(12,yB,t.id))}}function i_e(n,e){1&n&&(_(0,"div",56)(1,"button",57),D(2,"i",58),T(3," Anterior "),y(),_(4,"span",59),T(5,"P\xe1gina 1 de 1"),y(),_(6,"button",57),T(7," Siguiente "),D(8,"i",60),y()())}function s_e(n,e){if(1&n){const t=Oe();_(0,"div",8),D(1,"i",9),T(2),_(3,"button",10),G("click",function(){return ee(t),te(U().error=null)}),D(4,"i",11),y()()}if(2&n){const t=U();C(2),ve(" ",t.error," ")}}function a_e(n,e){1&n&&(_(0,"div",12)(1,"div",13),D(2,"div",14),_(3,"p"),T(4,"Cargando hilo..."),y()()())}function c_e(n,e){if(1&n){const t=Oe();_(0,"div",42)(1,"button",43),G("click",function(){return ee(t),te(U(2).cancelReply())}),D(2,"i",44),T(3,"Cancelar "),y(),_(4,"button",45),G("click",function(){return ee(t),te(U(2).addReply())}),D(5,"i",46),T(6,"Responder "),y()()}if(2&n){const t=U(2);C(4),j("disabled",!t.replyContent.trim())}}function u_e(n,e){if(1&n){const t=Oe();_(0,"div",42)(1,"button",45),G("click",function(){return ee(t),te(U(2).addComment())}),D(2,"i",47),T(3,"Publicar comentario "),y()()}if(2&n){const t=U(2);C(1),j("disabled",!t.newComment.trim())}}function l_e(n,e){1&n&&(_(0,"div",48)(1,"div",49),D(2,"i",50),_(3,"h4"),T(4,"\xa1S\xe9 el primero en comentar!"),y(),_(5,"p"),T(6,"A\xfan no hay comentarios en este hilo. Comparte tu opini\xf3n."),y()()())}function d_e(n,e){if(1&n){const t=Oe();_(0,"div",68)(1,"div",69),D(2,"i",56),y(),_(3,"div",57)(4,"div",58)(5,"span",59),D(6,"i",23),T(7),y(),_(8,"span",60),D(9,"i",21),T(10),y()(),_(11,"div",61)(12,"p"),T(13),y()(),_(14,"div",42)(15,"button",62),G("click",function(){const o=ee(t).$implicit;return te(U(5).likeComment(o))}),D(16,"i",27),_(17,"span"),T(18),y()(),_(19,"button",63),G("click",function(){const o=ee(t).$implicit,s=U(2).$implicit,a=U(3);return a.replyingTo=s.id,te(a.replyContent="@"+((null==o.author_fingerprint?null:o.author_fingerprint.substring(0,8))||"")+" ")}),D(20,"i",64),_(21,"span"),T(22,"Responder"),y()()()()()}if(2&n){const t=e.$implicit,r=U(5);C(7),ve(" Usuario ",null==t.author_fingerprint?null:t.author_fingerprint.substring(0,8)," "),C(3),ve("",r.formatTimeAgo(t.created_at)," "),C(3),he(t.content),C(2),we("liked",t.user_has_liked),C(3),he(t.likes_count)}}function h_e(n,e){if(1&n&&(_(0,"div",66),Y(1,d_e,23,6,"div",67),y()),2&n){const t=U().$implicit;C(1),j("ngForOf",t.replies)}}function f_e(n,e){if(1&n){const t=Oe();_(0,"div",53)(1,"div",54)(2,"div",55),D(3,"i",56),y(),_(4,"div",57)(5,"div",58)(6,"span",59),D(7,"i",23),T(8),y(),_(9,"span",60),D(10,"i",21),T(11),y()(),_(12,"div",61)(13,"p"),T(14),y()(),_(15,"div",42)(16,"button",62),G("click",function(){const o=ee(t).$implicit;return te(U(3).likeComment(o))}),D(17,"i",27),_(18,"span"),T(19),y()(),_(20,"button",63),G("click",function(){const o=ee(t).$implicit,s=U(3);return s.replyingTo=o.id,te(s.replyContent="")}),D(21,"i",64),_(22,"span"),T(23,"Responder"),y()()()()(),Y(24,h_e,2,1,"div",65),y()}if(2&n){const t=e.$implicit,r=U(3);we("has-replies",t.replies&&t.replies.length>0),C(8),ve(" Usuario ",null==t.author_fingerprint?null:t.author_fingerprint.substring(0,8)," "),C(3),ve("",r.formatTimeAgo(t.created_at)," "),C(3),he(t.content),C(2),we("liked",t.user_has_liked),C(3),he(t.likes_count),C(5),j("ngIf",t.replies&&t.replies.length>0)}}function p_e(n,e){if(1&n&&(_(0,"div",51),Y(1,f_e,25,9,"div",52),y()),2&n){const t=U(2);C(1),j("ngForOf",t.comments)}}function g_e(n,e){if(1&n){const t=Oe();_(0,"div",15)(1,"div",16)(2,"div",17)(3,"h1",18),T(4),y(),_(5,"div",19)(6,"span",20),D(7,"i",21),T(8),y(),_(9,"span",22),D(10,"i",23),T(11),y()()(),_(12,"div",24)(13,"p"),T(14),y()(),_(15,"div",25)(16,"button",26),G("click",function(){ee(t);const i=U();return te(i.likeThread(i.thread))}),D(17,"i",27),_(18,"span"),T(19),y(),_(20,"span",28),T(21,"Me gusta"),y()(),_(22,"div",29),D(23,"i",30),_(24,"span"),T(25),y(),_(26,"span",28),T(27),y()()()(),_(28,"div",31)(29,"div",32)(30,"h3"),D(31,"i",33),T(32),y(),_(33,"div",34)(34,"textarea",35),G("ngModelChange",function(i){ee(t);const o=U();return te(o.replyingTo?o.replyContent=i:o.newComment=i)}),y(),Y(35,c_e,7,1,"div",36),Y(36,u_e,4,1,"div",36),y()()(),_(37,"div",37)(38,"div",38)(39,"h3"),D(40,"i",39),T(41),y()(),Y(42,l_e,7,0,"div",40),Y(43,p_e,2,1,"div",41),y()()}if(2&n){const t=U();C(4),he(t.thread.title),C(4),ve("Publicado ",t.formatTimeAgo(t.thread.created_at)," "),C(3),ve("Usuario ",null==t.thread.author_fingerprint?null:t.thread.author_fingerprint.substring(0,8)," "),C(3),he(t.thread.content),C(2),we("liked",t.thread.user_has_liked),C(3),he(t.thread.likes_count),C(6),he(t.thread.comments_count),C(2),ve("Comentario",1!==t.thread.comments_count?"s":"",""),C(5),ve(" ",t.replyingTo?"Respondiendo a comentario...":"Agregar comentario"," "),C(2),Kp("placeholder",t.replyingTo?"Escribe tu respuesta...":"Comparte tu opini\xf3n sobre este tema..."),j("ngModel",t.replyingTo?t.replyContent:t.newComment),C(1),j("ngIf",t.replyingTo),C(1),j("ngIf",!t.replyingTo),C(5),go(" ",t.thread.comments_count," Comentario",1!==t.thread.comments_count?"s":""," "),C(1),j("ngIf",0===t.comments.length),C(1),j("ngIf",t.comments.length>0)}}const vB=function(){return["/discussion"]};function m_e(n,e){if(1&n&&(_(0,"div",70)(1,"div",71),D(2,"i",72),_(3,"h3"),T(4,"Error al cargar el hilo"),y(),_(5,"p"),T(6),y(),_(7,"a",73),D(8,"i",3),T(9,"Volver al foro "),y()()()),2&n){const t=U();C(6),he(t.error),C(1),j("routerLink",oa(2,vB))}}const __e={providers:[function nne(n,...e){return rd([{provide:mu,multi:!0,useValue:n},[],{provide:ha,useFactory:TV,deps:[cr]},{provide:Md,multi:!0,useFactory:PV},e.map(t=>t.\u0275providers)])}([{path:"",component:pB},{path:"home",component:pB},{path:"ranking",component:Ume},{path:"discussion",component:(()=>{class n{discussionService;threads=[];showCreateForm=!1;newThread={title:"",content:""};isLoading=!1;sortBy="updated_at";error=null;constructor(t){this.discussionService=t}ngOnInit(){this.loadThreads()}loadThreads(){this.isLoading=!0,this.error=null,this.discussionService.getThreads(this.sortBy).subscribe({next:t=>{this.threads=t.map(r=>({...r,user_has_liked:this.discussionService.hasUserLiked("thread",r.id)})),this.isLoading=!1},error:t=>{console.error("Error loading threads:",t),this.error="Error al cargar los hilos. Por favor, intenta nuevamente.",this.isLoading=!1}})}createThread(){!this.newThread.title.trim()||!this.newThread.content.trim()||this.discussionService.createThread(this.newThread.title,this.newThread.content).subscribe({next:t=>{this.threads.unshift({...t,user_has_liked:!1}),this.showCreateForm=!1,this.newThread={title:"",content:""},this.error=null},error:t=>{console.error("Error creating thread:",t),this.error="Error al crear el hilo. Por favor, intenta nuevamente."}})}likeThread(t){this.discussionService.likeThread(t.id).subscribe({next:r=>{t.likes_count=r.new_count,t.user_has_liked="liked"===r.action},error:r=>{console.error("Error liking thread:",r),this.error="Error al dar like. Por favor, intenta nuevamente."}})}formatTimeAgo(t){const r=new Date(t),o=(new Date).getTime()-r.getTime(),s=Math.floor(o/6e4),a=Math.floor(s/60),c=Math.floor(a/24);return s<1?"Ahora mismo":s<60?`Hace ${s} min`:a<24?`Hace ${a} h`:1===c?"Ayer":c<7?`Hace ${c} d\xedas`:c<30?`Hace ${Math.floor(c/7)} sem`:`Hace ${Math.floor(c/30)} mes`}static \u0275fac=function(r){return new(r||n)(W(_B))};static \u0275cmp=Jn({type:n,selectors:[["app-discussion"]],standalone:!0,features:[or],decls:36,vars:10,consts:[[1,"discussion-container"],[1,"discussion-header"],[1,"header-content"],[1,"fas","fa-comments","me-2"],[1,"header-subtitle"],[1,"btn-create-thread",3,"click"],[1,"fas","fa-plus","me-1"],["class","alert alert-danger","role","alert",4,"ngIf"],["class","create-thread-form",4,"ngIf"],[1,"sort-controls"],[1,"sort-options"],[3,"ngModel","ngModelChange","change"],["value","updated_at"],["value","likes_count"],["value","comments_count"],["value","created_at"],[1,"threads-count"],[1,"threads-list"],["class","loader",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","thread-card",4,"ngFor","ngForOf"],["class","pagination",4,"ngIf"],["role","alert",1,"alert","alert-danger"],[1,"fas","fa-exclamation-triangle","me-2"],["type","button",1,"btn-close",3,"click"],[1,"fas","fa-times"],[1,"create-thread-form"],[1,"form-card"],[1,"form-group"],["for","threadTitle"],["type","text","id","threadTitle","placeholder","Escribe un t\xedtulo interesante...","maxlength","200",3,"ngModel","ngModelChange"],["for","threadContent"],["id","threadContent","placeholder","Comparte tus pensamientos, preguntas o temas musicales...","rows","6",3,"ngModel","ngModelChange"],[1,"form-actions"],[1,"btn-cancel",3,"click"],[1,"btn-submit",3,"disabled","click"],[1,"fas","fa-paper-plane","me-1"],[1,"loader"],[1,"spinner"],[1,"empty-state"],[1,"fas","fa-comments-slash"],[1,"thread-card"],[1,"thread-header"],[1,"thread-title"],[3,"routerLink"],[1,"thread-date"],[1,"thread-content"],[1,"thread-stats"],[1,"stat"],[1,"like-btn",3,"click"],[1,"fas","fa-heart"],[1,"fas","fa-comment"],[1,"fas","fa-user"],[1,"thread-actions"],[1,"btn-read-more",3,"routerLink"],[1,"fas","fa-arrow-right","me-1"],[1,"pagination"],["disabled","",1,"page-btn"],[1,"fas","fa-chevron-left","me-1"],[1,"page-info"],[1,"fas","fa-chevron-right","ms-1"]],template:function(r,i){1&r&&(_(0,"div",0),D(1,"app-announcement")(2,"app-schedule"),_(3,"div",1)(4,"div",2)(5,"h1"),D(6,"i",3),T(7,"Foro Musical "),y(),_(8,"p",4),T(9,"Comparte, discute y conecta con otros amantes de la m\xfasica"),y()(),_(10,"button",5),G("click",function(){return i.showCreateForm=!i.showCreateForm}),D(11,"i",6),T(12),y()(),Y(13,Zme,5,1,"div",7),Y(14,e_e,20,4,"div",8),_(15,"div",9)(16,"div",10)(17,"span"),T(18,"Ordenar por:"),y(),_(19,"select",11),G("ngModelChange",function(s){return i.sortBy=s})("change",function(){return i.loadThreads()}),_(20,"option",12),T(21,"M\xe1s reciente"),y(),_(22,"option",13),T(23,"M\xe1s populares"),y(),_(24,"option",14),T(25,"M\xe1s comentados"),y(),_(26,"option",15),T(27,"M\xe1s antiguos"),y()()(),_(28,"div",16)(29,"span"),T(30),y()()(),_(31,"div",17),Y(32,t_e,4,0,"div",18),Y(33,n_e,9,0,"div",19),Y(34,r_e,28,14,"div",20),y(),Y(35,i_e,9,0,"div",21),y()),2&r&&(C(12),ve(" ",i.showCreateForm?"Cancelar":"Nuevo Hilo"," "),C(1),j("ngIf",i.error),C(1),j("ngIf",i.showCreateForm),C(5),j("ngModel",i.sortBy),C(11),go("",i.threads.length," hilo",1!==i.threads.length?"s":"",""),C(2),j("ngIf",i.isLoading),C(1),j("ngIf",!i.isLoading&&0===i.threads.length),C(1),j("ngForOf",i.threads),C(1),j("ngIf",i.threads.length>0))},dependencies:[Xr,ki,Vr,Ka,tB,rB,Wi,G_,Fs,eA,Bo,zme,Xme,Jd,fa],styles:[".discussion-container[_ngcontent-%COMP%]{max-width:900px;margin:0 auto;padding:2rem;animation:_ngcontent-%COMP%_fadeIn .6s ease-out}.discussion-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding-bottom:1.5rem;border-bottom:1px solid rgba(255,255,255,.1)}.discussion-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:800;background:linear-gradient(135deg,var(--primary-color) 0%,var(--accent-purple) 100%);-webkit-text-fill-color:transparent;-webkit-background-clip:text;background-clip:text;margin-bottom:.5rem}.discussion-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-subtitle[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:1.1rem;margin:0}.discussion-header[_ngcontent-%COMP%]   .btn-create-thread[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff;border:none;padding:1rem 2rem;border-radius:50px;font-weight:700;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 15px #1db9544d}.discussion-header[_ngcontent-%COMP%]   .btn-create-thread[_ngcontent-%COMP%]:hover{background:#1ed760;transform:translateY(-2px);box-shadow:0 6px 20px #1db95466}.discussion-header[_ngcontent-%COMP%]   .btn-create-thread[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem}.create-thread-form[_ngcontent-%COMP%]{margin-bottom:2rem;animation:_ngcontent-%COMP%_slideDown .3s ease-out}.create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:16px;padding:2rem;box-shadow:0 8px 32px #0003}.create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-primary);margin-bottom:1.5rem;font-weight:700}.create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;color:var(--text-primary);font-weight:600;margin-bottom:.5rem}.create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;background:rgba(42,42,42,.6);border:1px solid rgba(255,255,255,.1);border-radius:12px;padding:1rem;color:var(--text-primary);font-size:1rem;transition:all .3s ease}.create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 2px #1db95433}.create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:var(--text-tertiary)}.create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.8rem}.create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:flex-end}.create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background:rgba(255,255,255,.1);color:var(--text-secondary);border:1px solid rgba(255,255,255,.2);padding:.8rem 1.5rem;border-radius:50px;cursor:pointer;transition:all .3s ease}.create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.2);color:var(--text-primary)}.create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff;border:none;padding:.8rem 2rem;border-radius:50px;font-weight:700;cursor:pointer;transition:all .3s ease}.create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]:hover:not(:disabled){background:#1ed760;transform:translateY(-2px)}.create-thread-form[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]:disabled{background:var(--text-tertiary);cursor:not-allowed;transform:none}.sort-controls[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding:1rem 1.5rem;background:var(--glass-bg);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:12px;border:1px solid rgba(255,255,255,.1)}.sort-controls[_ngcontent-%COMP%]   .sort-options[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.sort-controls[_ngcontent-%COMP%]   .sort-options[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--text-secondary);font-weight:600}.sort-controls[_ngcontent-%COMP%]   .sort-options[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background:rgba(42,42,42,.6);border:1px solid rgba(255,255,255,.1);border-radius:8px;padding:.5rem 1rem;color:var(--text-primary);cursor:pointer}.sort-controls[_ngcontent-%COMP%]   .sort-options[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color)}.sort-controls[_ngcontent-%COMP%]   .threads-count[_ngcontent-%COMP%]{color:var(--text-primary);font-weight:700;background:var(--primary-color);padding:.5rem 1rem;border-radius:20px;font-size:.9rem}.threads-list[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{text-align:center;padding:3rem}.threads-list[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{border:3px solid rgba(255,255,255,.1);border-top:3px solid var(--primary-color);border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}.threads-list[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:1.1rem}.threads-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;color:var(--text-secondary)}.threads-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:#ffffff1a;margin-bottom:1.5rem}.threads-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-primary);margin-bottom:1rem;font-size:1.5rem}.threads-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:2rem;font-size:1.1rem}.threads-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .btn-create-thread[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff;border:none;padding:1rem 2rem;border-radius:50px;font-weight:700;cursor:pointer;transition:all .3s ease}.threads-list[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .btn-create-thread[_ngcontent-%COMP%]:hover{background:#1ed760;transform:translateY(-2px)}.thread-card[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:16px;padding:2rem;margin-bottom:1.5rem;transition:all .3s ease;box-shadow:0 4px 20px #0000001a}.thread-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 30px #1db95426;border-color:#1db95433}.thread-card[_ngcontent-%COMP%]   .thread-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1rem}.thread-card[_ngcontent-%COMP%]   .thread-header[_ngcontent-%COMP%]   .thread-title[_ngcontent-%COMP%]{margin:0;font-size:1.4rem;font-weight:700}.thread-card[_ngcontent-%COMP%]   .thread-header[_ngcontent-%COMP%]   .thread-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--text-primary);text-decoration:none;transition:color .3s ease}.thread-card[_ngcontent-%COMP%]   .thread-header[_ngcontent-%COMP%]   .thread-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--primary-color)}.thread-card[_ngcontent-%COMP%]   .thread-header[_ngcontent-%COMP%]   .thread-date[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.9rem;white-space:nowrap}.thread-card[_ngcontent-%COMP%]   .thread-content[_ngcontent-%COMP%]{color:var(--text-secondary);line-height:1.6;margin-bottom:1.5rem;font-size:1.1rem}.thread-card[_ngcontent-%COMP%]   .thread-stats[_ngcontent-%COMP%]{display:flex;gap:2rem;margin-bottom:1.5rem}.thread-card[_ngcontent-%COMP%]   .thread-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;color:var(--text-secondary);font-size:.9rem}.thread-card[_ngcontent-%COMP%]   .thread-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;display:flex;align-items:center;gap:.5rem;color:var(--text-secondary);transition:all .3s ease;padding:.5rem;border-radius:8px}.thread-card[_ngcontent-%COMP%]   .thread-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%]:hover{background:rgba(29,185,84,.1);color:#e74c3c}.thread-card[_ngcontent-%COMP%]   .thread-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .like-btn.liked[_ngcontent-%COMP%]{color:#e74c3c}.thread-card[_ngcontent-%COMP%]   .thread-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .like-btn.liked[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_heartBeat .6s ease}.thread-card[_ngcontent-%COMP%]   .thread-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:transform .3s ease}.thread-card[_ngcontent-%COMP%]   .thread-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:scale(1.2)}.thread-card[_ngcontent-%COMP%]   .thread-actions[_ngcontent-%COMP%]   .btn-read-more[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none;font-weight:700;display:inline-flex;align-items:center;gap:.5rem;transition:all .3s ease;padding:.5rem 1rem;border-radius:8px}.thread-card[_ngcontent-%COMP%]   .thread-actions[_ngcontent-%COMP%]   .btn-read-more[_ngcontent-%COMP%]:hover{background:rgba(29,185,84,.1);transform:translate(5px)}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1rem;margin-top:2rem;padding:1.5rem}.pagination[_ngcontent-%COMP%]   .page-btn[_ngcontent-%COMP%]{background:var(--glass-bg);border:1px solid rgba(255,255,255,.1);color:var(--text-primary);padding:.8rem 1.5rem;border-radius:50px;cursor:pointer;transition:all .3s ease;font-weight:600}.pagination[_ngcontent-%COMP%]   .page-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--primary-color);transform:translateY(-2px)}.pagination[_ngcontent-%COMP%]   .page-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.pagination[_ngcontent-%COMP%]   .page-info[_ngcontent-%COMP%]{color:var(--text-secondary);font-weight:600}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_heartBeat{0%{transform:scale(1)}25%{transform:scale(1.3)}50%{transform:scale(1)}75%{transform:scale(1.2)}to{transform:scale(1)}}@media (max-width: 768px){.discussion-container[_ngcontent-%COMP%]{padding:1rem}.discussion-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}.sort-controls[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.thread-card[_ngcontent-%COMP%]   .thread-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:flex-start}.thread-stats[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}}"]})}return n})()},{path:"discussion/thread/:id",component:(()=>{class n{route;discussionService;thread;comments=[];newComment="";replyingTo=null;replyContent="";error=null;isLoading=!0;constructor(t,r){this.route=t,this.discussionService=r}ngOnInit(){const t=this.route.snapshot.paramMap.get("id");t&&this.loadThread(t)}loadThread(t){this.isLoading=!0,this.error=null,this.discussionService.getThread(t).subscribe({next:r=>{this.thread={...r.thread,user_has_liked:this.discussionService.hasUserLiked("thread",r.thread.id)},this.comments=this.buildCommentTree(r.comments).map(i=>({...i,user_has_liked:this.discussionService.hasUserLiked("comment",i.id),replies:i.replies?.map(o=>({...o,user_has_liked:this.discussionService.hasUserLiked("comment",o.id)}))})),this.isLoading=!1,this.error=null},error:r=>{console.error("Error loading thread:",r),this.error="No se pudo cargar el hilo. Por favor, intenta nuevamente.",this.isLoading=!1}})}buildCommentTree(t){const r=new Map,i=[];return t.forEach(o=>{o.replies=[],r.set(o.id,o)}),t.forEach(o=>{if(o.parent_comment_id){const s=r.get(o.parent_comment_id);s&&s.replies.push(o)}else i.push(o)}),i}addComment(){this.newComment.trim()&&this.discussionService.addComment(this.thread.id,this.newComment).subscribe({next:t=>{const r={...t,user_has_liked:!1,replies:[]};this.comments.push(r),this.newComment="",this.thread.comments_count++,this.error=null},error:t=>{console.error("Error adding comment:",t),this.error="Error al agregar el comentario. Por favor, intenta nuevamente."}})}addReply(){!this.replyContent.trim()||!this.replyingTo||this.discussionService.addComment(this.thread.id,this.replyContent,this.replyingTo).subscribe({next:t=>{const r=this.findCommentById(this.replyingTo);if(r){r.replies||(r.replies=[]);const i={...t,user_has_liked:!1};r.replies.push(i)}this.replyContent="",this.replyingTo=null,this.thread.comments_count++,this.error=null},error:t=>{console.error("Error adding reply:",t),this.error="Error al agregar la respuesta. Por favor, intenta nuevamente."}})}findCommentById(t){for(const r of this.comments){if(r.id===t)return r;if(r.replies)for(const i of r.replies)if(i.id===t)return i}return null}likeThread(t){this.discussionService.likeThread(t.id).subscribe({next:r=>{t.likes_count=r.new_count,t.user_has_liked="liked"===r.action},error:r=>{console.error("Error liking thread:",r),this.error="Error al dar like. Por favor, intenta nuevamente."}})}likeComment(t){this.discussionService.likeComment(t.id).subscribe({next:r=>{t.likes_count=r.new_count,t.user_has_liked="liked"===r.action},error:r=>{console.error("Error liking comment:",r),this.error="Error al dar like. Por favor, intenta nuevamente."}})}formatTimeAgo(t){const r=new Date(t),o=(new Date).getTime()-r.getTime(),s=Math.floor(o/6e4),a=Math.floor(s/60),c=Math.floor(a/24);return s<1?"Ahora mismo":s<60?`Hace ${s} min`:a<24?`Hace ${a} h`:1===c?"Ayer":c<7?`Hace ${c} d\xedas`:c<30?`Hace ${Math.floor(c/7)} sem`:`Hace ${Math.floor(c/30)} mes`}cancelReply(){this.replyingTo=null,this.replyContent=""}static \u0275fac=function(r){return new(r||n)(W(ha),W(_B))};static \u0275cmp=Jn({type:n,selectors:[["app-thread-detail"]],standalone:!0,features:[or],decls:9,vars:6,consts:[[1,"thread-detail-container"],[1,"back-nav"],[1,"back-link",3,"routerLink"],[1,"fas","fa-arrow-left","me-2"],["class","alert alert-danger","role","alert",4,"ngIf"],["class","loading-state",4,"ngIf"],["class","thread-main",4,"ngIf"],["class","error-state",4,"ngIf"],["role","alert",1,"alert","alert-danger"],[1,"fas","fa-exclamation-triangle","me-2"],["type","button",1,"btn-close",3,"click"],[1,"fas","fa-times"],[1,"loading-state"],[1,"loader"],[1,"spinner"],[1,"thread-main"],[1,"thread-card","detailed"],[1,"thread-header"],[1,"thread-title"],[1,"thread-meta"],[1,"thread-date"],[1,"fas","fa-clock","me-1"],[1,"thread-author"],[1,"fas","fa-user","me-1"],[1,"thread-content","detailed"],[1,"thread-stats","detailed"],[1,"like-btn",3,"click"],[1,"fas","fa-heart"],[1,"label"],[1,"stat"],[1,"fas","fa-comment"],[1,"comment-form-section"],[1,"form-card"],[1,"fas","fa-reply","me-2"],[1,"comment-form"],["rows","4",3,"ngModel","placeholder","ngModelChange"],["class","comment-actions",4,"ngIf"],[1,"comments-section"],[1,"comments-header"],[1,"fas","fa-comments","me-2"],["class","empty-comments",4,"ngIf"],["class","comments-list",4,"ngIf"],[1,"comment-actions"],[1,"btn-cancel",3,"click"],[1,"fas","fa-times","me-1"],[1,"btn-submit",3,"disabled","click"],[1,"fas","fa-reply","me-1"],[1,"fas","fa-paper-plane","me-1"],[1,"empty-comments"],[1,"empty-state"],[1,"fas","fa-comment-slash"],[1,"comments-list"],["class","comment-item",3,"has-replies",4,"ngFor","ngForOf"],[1,"comment-item"],[1,"comment-main"],[1,"comment-avatar"],[1,"fas","fa-user"],[1,"comment-content"],[1,"comment-header"],[1,"comment-author"],[1,"comment-date"],[1,"comment-text"],[1,"comment-like-btn",3,"click"],[1,"comment-reply-btn",3,"click"],[1,"fas","fa-reply"],["class","comment-replies",4,"ngIf"],[1,"comment-replies"],["class","reply-item",4,"ngFor","ngForOf"],[1,"reply-item"],[1,"comment-avatar","small"],[1,"error-state"],[1,"error-message"],[1,"fas","fa-exclamation-triangle"],[1,"btn-retry",3,"routerLink"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"a",2),D(3,"i",3),T(4,"Volver al foro "),y()(),Y(5,s_e,5,1,"div",4),Y(6,a_e,5,0,"div",5),Y(7,g_e,44,18,"div",6),Y(8,m_e,10,3,"div",7),y()),2&r&&(C(2),j("routerLink",oa(5,vB)),C(3),j("ngIf",i.error),C(1),j("ngIf",i.isLoading),C(1),j("ngIf",i.thread&&!i.isLoading),C(1),j("ngIf",i.error&&!i.isLoading))},dependencies:[Xr,ki,Vr,Ka,Wi,Fs,Bo,Jd,fa],styles:[".thread-detail-container[_ngcontent-%COMP%]{max-width:900px;margin:0 auto;padding:2rem;animation:_ngcontent-%COMP%_fadeIn .6s ease-out}.back-nav[_ngcontent-%COMP%]{margin-bottom:2rem}.back-nav[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]{color:var(--primary-color);text-decoration:none;font-weight:700;display:inline-flex;align-items:center;padding:.8rem 1.5rem;background:var(--glass-bg);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:50px;transition:all .3s ease;box-shadow:0 4px 15px #0000001a}.back-nav[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]:hover{background:rgba(29,185,84,.1);transform:translate(-5px);box-shadow:0 6px 20px #1db95433}.back-nav[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:transform .3s ease}.back-nav[_ngcontent-%COMP%]   .back-link[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:translate(-3px)}.alert[_ngcontent-%COMP%]{border:none;border-radius:12px;padding:1.2rem 1.5rem;margin-bottom:2rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);display:flex;align-items:center;justify-content:space-between}.alert.alert-danger[_ngcontent-%COMP%]{background:rgba(226,33,52,.15);color:#e22134;border:1px solid rgba(226,33,52,.2)}.alert[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{background:none;border:none;color:inherit;cursor:pointer;padding:.5rem;border-radius:50%;transition:background .3s ease}.alert[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.1)}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border:1px solid rgba(255,255,255,.1);border-radius:20px;padding:2.5rem;margin-bottom:2rem;box-shadow:0 8px 32px #0003;transition:all .3s ease}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]:hover{box-shadow:0 12px 40px #1db95426;border-color:#1db95433}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-header[_ngcontent-%COMP%]   .thread-title[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:2.2rem;font-weight:800;color:var(--text-primary);line-height:1.3;background:linear-gradient(135deg,var(--text-primary) 0%,var(--primary-color) 100%);-webkit-text-fill-color:transparent;-webkit-background-clip:text;background-clip:text}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-header[_ngcontent-%COMP%]   .thread-meta[_ngcontent-%COMP%]{display:flex;gap:2rem;color:var(--text-secondary);font-size:.95rem}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-header[_ngcontent-%COMP%]   .thread-meta[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-content.detailed[_ngcontent-%COMP%]{font-size:1.1rem;line-height:1.7;color:var(--text-secondary);margin-bottom:2rem;padding:1.5rem;background:rgba(255,255,255,.05);border-radius:12px;border-left:4px solid var(--primary-color)}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]{display:flex;gap:2rem}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%], .thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.8rem;padding:.8rem 1.5rem;background:rgba(255,255,255,.05);border-radius:50px;cursor:pointer;transition:all .3s ease;border:1px solid rgba(255,255,255,.1)}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%]:hover, .thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.1);transform:translateY(-2px)}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.85rem;color:var(--text-secondary);font-weight:600}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%]{border:none;background:rgba(29,185,84,.1);color:var(--text-secondary)}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .like-btn.liked[_ngcontent-%COMP%]{color:#e74c3c;background:rgba(231,76,60,.1)}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .like-btn.liked[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_heartBeat .6s ease}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%]:hover{background:rgba(29,185,84,.2)}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%]:hover.liked{background:rgba(231,76,60,.2)}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:transform .3s ease}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .like-btn[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:scale(1.2)}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{color:var(--text-secondary)}.thread-main[_ngcontent-%COMP%]   .thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color)}.comment-form-section[_ngcontent-%COMP%]{margin-bottom:2rem}.comment-form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border:1px solid rgba(255,255,255,.1);border-radius:20px;padding:2rem;box-shadow:0 8px 32px #0003}.comment-form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 1.5rem;color:var(--text-primary);font-weight:700;display:flex;align-items:center;font-size:1.3rem}.comment-form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:1.2rem;background:rgba(42,42,42,.6);border:1px solid rgba(255,255,255,.1);border-radius:12px;resize:vertical;font-size:1rem;color:var(--text-primary);margin-bottom:1.5rem;transition:all .3s ease;font-family:inherit}.comment-form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 2px #1db95433;background:rgba(42,42,42,.8)}.comment-form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:var(--text-tertiary)}.comment-form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem}.comment-form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background:rgba(255,255,255,.1);color:var(--text-secondary);border:1px solid rgba(255,255,255,.2);padding:.8rem 1.5rem;border-radius:50px;cursor:pointer;transition:all .3s ease;font-weight:600}.comment-form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.2);color:var(--text-primary);transform:translateY(-2px)}.comment-form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff;border:none;padding:.8rem 2rem;border-radius:50px;cursor:pointer;font-weight:700;transition:all .3s ease;box-shadow:0 4px 15px #1db9544d}.comment-form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]:hover:not(:disabled){background:#1ed760;transform:translateY(-2px);box-shadow:0 6px 20px #1db95466}.comment-form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]   .comment-form[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   .btn-submit[_ngcontent-%COMP%]:disabled{background:var(--text-tertiary);cursor:not-allowed;transform:none;box-shadow:none}.comments-section[_ngcontent-%COMP%]   .comments-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding-bottom:1rem;border-bottom:1px solid rgba(255,255,255,.1)}.comments-section[_ngcontent-%COMP%]   .comments-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:var(--text-primary);display:flex;align-items:center;font-size:1.5rem;font-weight:700}.comments-section[_ngcontent-%COMP%]   .empty-comments[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;color:var(--text-secondary)}.comments-section[_ngcontent-%COMP%]   .empty-comments[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:#ffffff1a;margin-bottom:1.5rem}.comments-section[_ngcontent-%COMP%]   .empty-comments[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--text-primary);margin-bottom:1rem;font-size:1.5rem}.comments-section[_ngcontent-%COMP%]   .empty-comments[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;font-size:1.1rem}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]{margin-bottom:2rem;animation:_ngcontent-%COMP%_slideUp .4s ease-out}.comments-list[_ngcontent-%COMP%]   .comment-item.has-replies[_ngcontent-%COMP%]{border-left:3px solid var(--primary-color);padding-left:1.5rem;margin-left:1rem}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]{display:flex;gap:1.2rem;margin-bottom:1.5rem}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-avatar[_ngcontent-%COMP%]{width:50px;height:50px;background:linear-gradient(135deg,var(--primary-color) 0%,var(--accent-purple) 100%);border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;flex-shrink:0;font-size:1.2rem;box-shadow:0 4px 15px #0003}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]{flex:1;background:var(--glass-bg);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.1);border-radius:16px;padding:1.5rem;transition:all .3s ease}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]:hover{border-color:#1db95433;box-shadow:0 4px 20px #00000026}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-header[_ngcontent-%COMP%]   .comment-author[_ngcontent-%COMP%]{font-weight:700;color:var(--text-primary);display:flex;align-items:center;gap:.5rem}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-header[_ngcontent-%COMP%]   .comment-date[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.85rem;display:flex;align-items:center;gap:.5rem}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-text[_ngcontent-%COMP%]{color:var(--text-secondary);line-height:1.6;margin-bottom:1.2rem;font-size:1rem}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]{display:flex;gap:1.5rem}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;display:flex;align-items:center;gap:.5rem;color:var(--text-secondary);font-size:.9rem;transition:all .3s ease;padding:.5rem 1rem;border-radius:8px}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.05);color:var(--text-primary)}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   button.comment-like-btn.liked[_ngcontent-%COMP%]{color:#e74c3c}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   button.comment-like-btn.liked[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_heartBeat .6s ease}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   button.comment-like-btn[_ngcontent-%COMP%]:hover{color:#e74c3c}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   button.comment-reply-btn[_ngcontent-%COMP%]:hover{color:var(--primary-color)}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:transform .3s ease}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-main[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]   .comment-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:scale(1.2)}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-replies[_ngcontent-%COMP%]{margin-left:3.5rem;border-left:2px solid rgba(255,255,255,.1);padding-left:1.5rem}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-replies[_ngcontent-%COMP%]   .reply-item[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1.2rem;animation:_ngcontent-%COMP%_slideUp .4s ease-out .1s both}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-replies[_ngcontent-%COMP%]   .reply-item[_ngcontent-%COMP%]   .comment-avatar.small[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1rem}.comments-list[_ngcontent-%COMP%]   .comment-item[_ngcontent-%COMP%]   .comment-replies[_ngcontent-%COMP%]   .reply-item[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]{background:rgba(255,255,255,.03);border-color:#ffffff0d}.loading-state[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem}.loading-state[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{border:3px solid rgba(255,255,255,.1);border-top:3px solid var(--primary-color);border-radius:50%;width:60px;height:60px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1.5rem}.loading-state[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:1.1rem}.loading-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:var(--text-secondary)}.loading-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:#e74c3c;margin-bottom:1.5rem}.loading-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-primary);margin-bottom:1rem;font-size:1.5rem}.loading-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .btn-retry[_ngcontent-%COMP%], .error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .btn-retry[_ngcontent-%COMP%]{display:inline-flex;align-items:center;margin-top:1.5rem;color:var(--primary-color);text-decoration:none;font-weight:700;padding:.8rem 1.5rem;background:rgba(29,185,84,.1);border-radius:50px;transition:all .3s ease}.loading-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .btn-retry[_ngcontent-%COMP%]:hover, .error-state[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]   .btn-retry[_ngcontent-%COMP%]:hover{background:rgba(29,185,84,.2);transform:translateY(-2px)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_heartBeat{0%{transform:scale(1)}25%{transform:scale(1.3)}50%{transform:scale(1)}75%{transform:scale(1.2)}to{transform:scale(1)}}@media (max-width: 768px){.thread-detail-container[_ngcontent-%COMP%]{padding:1rem}.thread-card.detailed[_ngcontent-%COMP%]{padding:1.5rem!important}.thread-card.detailed[_ngcontent-%COMP%]   .thread-title[_ngcontent-%COMP%]{font-size:1.6rem!important}.thread-card.detailed[_ngcontent-%COMP%]   .thread-meta[_ngcontent-%COMP%]{flex-direction:column;gap:.8rem!important}.thread-card.detailed[_ngcontent-%COMP%]   .thread-stats.detailed[_ngcontent-%COMP%]{flex-direction:column;gap:1rem!important}.comment-form-section[_ngcontent-%COMP%]   .form-card[_ngcontent-%COMP%]{padding:1.5rem}.comments-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:flex-start!important}.comment-main[_ngcontent-%COMP%]{gap:1rem!important;flex-direction:column}.comment-replies[_ngcontent-%COMP%]{margin-left:1rem!important;padding-left:1rem!important}.comment-avatar[_ngcontent-%COMP%]{align-self:flex-start}}"]})}return n})()},{path:"admin-login",component:Wge},{path:"admin-panel",component:Eme,canActivate:[jme]},{path:"**",redirectTo:""}]),aF(),function UZ(...n){const e=[],t=new Set;for(const{\u0275providers:r,\u0275kind:i}of n)t.add(i),r.length&&e.push(r);return rd([[],t.has(0)?[]:VY(),t.has(1)?[]:[{provide:Og,useFactory:()=>(se(rD).add("httpcache"),{isCacheActive:!0})},{provide:eF,useValue:iZ,multi:!0,deps:[Rc,Og]},{provide:Md,multi:!0,useFactory:()=>{const n=se(sa),e=se(Og);return()=>{n.isStable.pipe(to(t=>t)).toPromise().then(()=>{e.isCacheActive=!1})}}}],e])}(),QO(function Jse(n,...e){return{ngModule:Yse,providers:[{provide:RI,useFactory:Qse(n),multi:!0,deps:[Xe,Vn,OI,...e]}]}}(()=>Xse(jr_firebaseConfig)),function Ule(n,...e){return{ngModule:Lle,providers:[{provide:pP,useFactory:Nle(n),multi:!0,deps:[Xe,Vn,OI,kI,[new rr,tE],...e]}]}}(()=>jle()),function bpe(n,...e){return{ngModule:vpe,providers:[{provide:NM,useFactory:mpe(n),multi:!0,deps:[Xe,Vn,OI,kI,[new rr,M4],[new rr,tE],...e]}]}}(()=>Cpe()))]};class nA extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class bB extends nA{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class CB extends nA{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class wB extends nA{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var IB=function(n){return n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2",n}(IB||{});class b_e{constructor(e,{headers:t={},customFetch:r,region:i=IB.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=(n=>{let e;return e=n||(typeof fetch>"u"?(...t)=>Promise.resolve().then(Ve.bind(Ve,286)).then(({default:r})=>r(...t)):fetch),(...t)=>e(...t)})(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return function(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(h){s(h)}}function c(l){try{u(r.throw(l))}catch(h){s(h)}}function u(l){l.done?o(l.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{const{headers:i,method:o,body:s,signal:a}=t;let c={},{region:u}=t;u||(u=this.region);const l=new URL(`${this.url}/${e}`);let h;u&&"any"!==u&&(c["x-region"]=u,l.searchParams.set("forceFunctionRegion",u)),s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",h=s):"string"==typeof s?(c["Content-Type"]="text/plain",h=s):typeof FormData<"u"&&s instanceof FormData?h=s:(c["Content-Type"]="application/json",h=JSON.stringify(s)));const f=yield this.fetch(l.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:h,signal:a}).catch(E=>{throw"AbortError"===E.name?E:new bB(E)}),g=f.headers.get("x-relay-error");if(g&&"true"===g)throw new CB(f);if(!f.ok)throw new wB(f);let I,b=(null!==(r=f.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return I="application/json"===b?yield f.json():"application/octet-stream"===b?yield f.blob():"text/event-stream"===b?f:"multipart/form-data"===b?yield f.formData():yield f.text(),{data:I,error:null,response:f}}catch(i){return i instanceof Error&&"AbortError"===i.name?{data:null,error:new bB(i)}:{data:null,error:i,response:i instanceof wB||i instanceof CB?i.context:void 0}}})}}var C_e=Ve(60);const{PostgrestClient:EB}=C_e,A_e=class M_e{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&null!==(e=navigator.userAgent)&&void 0!==e&&e.includes("Vercel-Edge"))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const i=parseInt(t.node.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`\n\nSuggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch{return!1}}};var Q_=function(n){return n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed",n}(Q_||{}),yn=function(n){return n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving",n}(yn||{}),Ki=function(n){return n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token",n}(Ki||{}),TB=function(n){return n.websocket="websocket",n}(TB||{}),ml=function(n){return n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed",n}(ml||{});class k_e{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"==typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const i=t.getUint8(1),o=t.getUint8(2);let s=this.HEADER_LENGTH+2;const a=r.decode(e.slice(s,s+i));s+=i;const c=r.decode(e.slice(s,s+o));return s+=o,{ref:null,topic:a,event:c,payload:JSON.parse(r.decode(e.slice(s,e.byteLength)))}}}class PB{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Et=function(n){return n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange",n}(Et||{});const MB=(n,e,t={})=>{var r;const i=null!==(r=t.skipTypes)&&void 0!==r?r:[];return Object.keys(e).reduce((o,s)=>(o[s]=R_e(s,n,e,i),o),{})},R_e=(n,e,t,r)=>{const i=e.find(a=>a.name===n),o=i?.type,s=t[n];return o&&!r.includes(o)?AB(o,s):iA(s)},AB=(n,e)=>{if("_"===n.charAt(0)){const t=n.slice(1,n.length);return L_e(e,t)}switch(n){case Et.bool:return N_e(e);case Et.float4:case Et.float8:case Et.int2:case Et.int4:case Et.int8:case Et.numeric:case Et.oid:return F_e(e);case Et.json:case Et.jsonb:return V_e(e);case Et.timestamp:return U_e(e);default:return iA(e)}},iA=n=>n,N_e=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},F_e=n=>{if("string"==typeof n){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},V_e=n=>{if("string"==typeof n)try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},L_e=(n,e)=>{if("string"!=typeof n)return n;const t=n.length-1;if("{"===n[0]&&"}"===n[t]){let o;const s=n.slice(1,t);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>AB(e,a))}return n},U_e=n=>"string"==typeof n?n.replace(" ","T"):n,SB=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class oA{constructor(e,t,r={},i=1e4){this.channel=e,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}class hf{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=hf.syncState(this.state,i,o,s),this.pendingDiffs.forEach(c=>{this.state=hf.syncDiff(this.state,c,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=hf.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,i){const o=this.cloneDeep(e),s=this.transformState(t),a={},c={};return this.map(o,(u,l)=>{s[u]||(c[u]=l)}),this.map(s,(u,l)=>{const h=o[u];if(h){const f=l.map(E=>E.presence_ref),g=h.map(E=>E.presence_ref),b=l.filter(E=>g.indexOf(E.presence_ref)<0),I=h.filter(E=>f.indexOf(E.presence_ref)<0);b.length>0&&(a[u]=b),I.length>0&&(c[u]=I)}else a[u]=l}),this.syncDiff(o,{joins:a,leaves:c},r,i)}static syncDiff(e,t,r,i){const{joins:o,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(a,c)=>{var u;const l=null!==(u=e[a])&&void 0!==u?u:[];if(e[a]=this.cloneDeep(c),l.length>0){const h=e[a].map(g=>g.presence_ref),f=l.filter(g=>h.indexOf(g.presence_ref)<0);e[a].unshift(...f)}r(a,l,c)}),this.map(s,(a,c)=>{let u=e[a];if(!u)return;const l=c.map(h=>h.presence_ref);u=u.filter(h=>l.indexOf(h.presence_ref)<0),e[a]=u,i(a,u,c),0===u.length&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const i=e[r];return t[r]="metas"in i?i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Y_=function(n){return n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system",n}(Y_||{}),Vs=function(n){return n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR",n}(Vs||{});class sA{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=yn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new oA(this,Ki.join,this.params,this.timeout),this.rejoinTimer=new PB(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=yn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=yn.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=yn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=yn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=yn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ki.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new hf(this),this.broadcastEndpointURL=SB(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var i,o,s,r=this;if(this.socket.isConnected()||this.socket.connect(),this.state==yn.closed){const{config:{broadcast:a,presence:c,private:u}}=this.params,l=null!==(o=null===(i=this.bindings.postgres_changes)||void 0===i?void 0:i.map(b=>b.filter))&&void 0!==o?o:[],h=!!this.bindings[Y_.PRESENCE]&&this.bindings[Y_.PRESENCE].length>0||!0===(null===(s=this.params.config.presence)||void 0===s?void 0:s.enabled),f={},g={broadcast:a,presence:Object.assign(Object.assign({},c),{enabled:h}),postgres_changes:l,private:u};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(b=>e?.(Vs.CHANNEL_ERROR,b)),this._onClose(()=>e?.(Vs.CLOSED)),this.updateJoinPayload(Object.assign({config:g},f)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",function(){var b=v(function*({postgres_changes:I}){var E;if(r.socket.setAuth(),void 0!==I){const S=r.bindings.postgres_changes,M=null!==(E=S?.length)&&void 0!==E?E:0,V=[];for(let $=0;$<M;$++){const z=S[$],{filter:{event:ne,schema:O,table:P,filter:A}}=z,k=I&&I[$];if(!k||k.event!==ne||k.schema!==O||k.table!==P||k.filter!==A)return r.unsubscribe(),r.state=yn.errored,void e?.(Vs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));V.push(Object.assign(Object.assign({},z),{id:k.id}))}return r.bindings.postgres_changes=V,void(e&&e(Vs.SUBSCRIBED))}e?.(Vs.SUBSCRIBED)});return function(I){return b.apply(this,arguments)}}()).receive("error",b=>{this.state=yn.errored,e?.(Vs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e?.(Vs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(e){var t=this;return v(function*(r,i={}){return yield t.send({type:"presence",event:"track",payload:r},i.timeout||t.timeout)}).apply(this,arguments)}untrack(){var e=this;return v(function*(t={}){return yield e.send({type:"presence",event:"untrack"},t)}).apply(this,arguments)}on(e,t,r){return this.state===yn.joined&&e===Y_.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,r)}send(e){var t=this;return v(function*(r,i={}){var o,s;if(t._canPush()||"broadcast"!==r.type)return new Promise(a=>{var c,u,l;const h=t._push(r.type,r,i.timeout||t.timeout);"broadcast"===r.type&&!(null!==(l=null===(u=null===(c=t.params)||void 0===c?void 0:c.config)||void 0===u?void 0:u.broadcast)&&void 0!==l&&l.ack)&&a("ok"),h.receive("ok",()=>a("ok")),h.receive("error",()=>a("error")),h.receive("timeout",()=>a("timed out"))});{const{event:a,payload:c}=r,l={method:"POST",headers:{Authorization:t.socket.accessTokenValue?`Bearer ${t.socket.accessTokenValue}`:"",apikey:t.socket.apiKey?t.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:t.subTopic,event:a,payload:c,private:t.private}]})};try{const h=yield t._fetchWithTimeout(t.broadcastEndpointURL,l,null!==(o=i.timeout)&&void 0!==o?o:t.timeout);return yield null===(s=h.body)||void 0===s?void 0:s.cancel(),h.ok?"ok":"error"}catch(h){return"AbortError"===h.name?"timed out":"error"}}}).apply(this,arguments)}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=yn.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ki.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new oA(this,Ki.leave,{},e),r.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=yn.closed,this.bindings={}}_fetchWithTimeout(e,t,r){var i=this;return v(function*(){const o=new AbortController,s=setTimeout(()=>o.abort(),r),a=yield i.socket.fetch(e,Object.assign(Object.assign({},t),{signal:o.signal}));return clearTimeout(s),a})()}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new oA(this,e,t,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var i,o;const s=e.toLocaleLowerCase(),{close:a,error:c,leave:u,join:l}=Ki;if(r&&[a,c,u,l].indexOf(s)>=0&&r!==this._joinRef())return;let f=this._onMessage(s,t,r);if(t&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?null===(i=this.bindings.postgres_changes)||void 0===i||i.filter(g=>{var b,I,E;return"*"===(null===(b=g.filter)||void 0===b?void 0:b.event)||(null===(E=null===(I=g.filter)||void 0===I?void 0:I.event)||void 0===E?void 0:E.toLocaleLowerCase())===s}).map(g=>g.callback(f,r)):null===(o=this.bindings[s])||void 0===o||o.filter(g=>{var b,I,E,S,M,V;if(["broadcast","presence","postgres_changes"].includes(s)){if("id"in g){const $=g.id,z=null===(b=g.filter)||void 0===b?void 0:b.event;return $&&(null===(I=t.ids)||void 0===I?void 0:I.includes($))&&("*"===z||z?.toLocaleLowerCase()===(null===(E=t.data)||void 0===E?void 0:E.type.toLocaleLowerCase()))}{const $=null===(M=null===(S=g?.filter)||void 0===S?void 0:S.event)||void 0===M?void 0:M.toLocaleLowerCase();return"*"===$||$===(null===(V=t?.event)||void 0===V?void 0:V.toLocaleLowerCase())}}return g.type.toLocaleLowerCase()===s}).map(g=>{if("object"==typeof f&&"ids"in f){const b=f.data,{schema:I,table:E,commit_timestamp:S,type:M,errors:V}=b;f=Object.assign(Object.assign({},{schema:I,table:E,commit_timestamp:S,eventType:M,new:{},old:{},errors:V}),this._getPayloadRecords(b))}g.callback(f,r)})}_isClosed(){return this.state===yn.closed}_isJoined(){return this.state===yn.joined}_isJoining(){return this.state===yn.joining}_isLeaving(){return this.state===yn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const i=e.toLocaleLowerCase(),o={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!((null===(o=i.type)||void 0===o?void 0:o.toLocaleLowerCase())===r&&sA.isEqual(i.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ki.close,{},e)}_onError(e){this._on(Ki.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=yn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return("INSERT"===e.type||"UPDATE"===e.type)&&(t.new=MB(e.columns,e.record)),("UPDATE"===e.type||"DELETE"===e.type)&&(t.old=MB(e.columns,e.old_record)),t}}const aA=()=>{},B_e=[1e3,2e3,5e3,1e4];class q_e{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.transport=null,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=aA,this.ref=0,this.reconnectTimer=null,this.logger=aA,this.conn=null,this.sendBuffer=[],this.serializer=new k_e,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let o;return o=i||(typeof fetch>"u"?(...s)=>Promise.resolve().then(Ve.bind(Ve,286)).then(({default:a})=>a(...s)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):fetch),(...s)=>o(...s)},null===(r=t?.params)||void 0===r||!r.apikey)throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${TB.websocket}`,this.httpEndpoint=SB(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=A_e.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}\n\nTo use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(e){var t=this;return v(function*(){const r=yield e.unsubscribe();return 0===t.channels.length&&t.disconnect(),r})()}removeAllChannels(){var e=this;return v(function*(){const t=yield Promise.all(e.channels.map(r=>r.unsubscribe()));return e.channels=[],e.disconnect(),t})()}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Q_.connecting:return ml.Connecting;case Q_.open:return ml.Open;case Q_.closing:return ml.Closing;default:return ml.Closed}}isConnected(){return this.connectionState()===ml.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e,t={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new sA(`realtime:${e}`,t,this);return this.channels.push(o),o}}push(e){const{topic:t,event:r,payload:i,ref:o}=e,s=()=>{this.encode(e,a=>{var c;null===(c=this.conn)||void 0===c||c.send(a)})};this.log("push",`${t} ${r} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(){var e=this;return v(function*(t=null){e._authPromise=e._performAuth(t);try{yield e._authPromise}finally{e._authPromise=null}}).apply(this,arguments)}sendHeartbeat(){var e=this;return v(function*(){var t;if(e.isConnected()){if(e.pendingHeartbeatRef){e.pendingHeartbeatRef=null,e.log("transport","heartbeat timeout. Attempting to re-establish connection");try{e.heartbeatCallback("timeout")}catch(r){e.log("error","error in heartbeat callback",r)}return e._wasManualDisconnect=!1,null===(t=e.conn)||void 0===t||t.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var r;e.isConnected()||null===(r=e.reconnectTimer)||void 0===r||r.scheduleTimeout()},100)}e.pendingHeartbeatRef=e._makeRef(),e.push({topic:"phoenix",event:"heartbeat",payload:{},ref:e.pendingHeartbeatRef});try{e.heartbeatCallback("sent")}catch(r){e.log("error","error in heartbeat callback",r)}e._setAuthSafely("heartbeat")}else try{e.heartbeatCallback("disconnected")}catch(r){e.log("error","error in heartbeat callback",r)}})()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return this.ref=e===this.ref?0:e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if("phoenix"===t.topic&&"phx_reply"===t.event)try{this.heartbeatCallback("ok"===t.payload.status?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:s}=t;this.log("receive",`${o.status||""} ${r} ${i} ${s?`(${s})`:""}`.trim(),o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,o,s)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null===(t=this.reconnectTimer)||void 0===t||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.log("worker",this.workerUrl?`starting worker for from ${this.workerUrl}`:"starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{"keepAlive"===t.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(t=this.reconnectTimer)||void 0===t||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ki.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const r=e.match(/\?/)?"&":"?";return`${e}${r}${new URLSearchParams(t)}`}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}_setConnectionState(e,t=!1){this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}_performAuth(){var e=this;return v(function*(t=null){let r;r=t||(e.accessToken?yield e.accessToken():e.accessTokenValue),e.accessTokenValue!=r&&(e.accessTokenValue=r,e.channels.forEach(i=>{r&&i.updateJoinPayload({access_token:r,version:"realtime-js/2.15.5"}),i.joinedOnce&&i._isJoined()&&i._push(Ki.access_token,{access_token:r})}))}).apply(this,arguments)}_waitForAuthIfNeeded(){var e=this;return v(function*(){e._authPromise&&(yield e._authPromise)})()}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){var e=this;this.reconnectTimer=new PB(v(function*(){setTimeout(v(function*(){yield e._waitForAuthIfNeeded(),e.isConnected()||e.connect()}),10)}),this.reconnectAfterMs)}_initializeOptions(e){var t,r,i,o,s,a,c,u,l;if(this.transport=null!==(t=e?.transport)&&void 0!==t?t:null,this.timeout=null!==(r=e?.timeout)&&void 0!==r?r:1e4,this.heartbeatIntervalMs=null!==(i=e?.heartbeatIntervalMs)&&void 0!==i?i:25e3,this.worker=null!==(o=e?.worker)&&void 0!==o&&o,this.accessToken=null!==(s=e?.accessToken)&&void 0!==s?s:null,this.heartbeatCallback=null!==(a=e?.heartbeatCallback)&&void 0!==a?a:aA,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(c=e?.reconnectAfterMs)&&void 0!==c?c:h=>B_e[h-1]||1e4,this.encode=null!==(u=e?.encode)&&void 0!==u?u:(h,f)=>f(JSON.stringify(h)),this.decode=null!==(l=e?.decode)&&void 0!==l?l:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class cA extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function nn(n){return"object"==typeof n&&null!==n&&"__isStorageError"in n}class G_e extends cA{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class uA extends cA{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}const xB=n=>{let e;return e=n||(typeof fetch>"u"?(...t)=>Promise.resolve().then(Ve.bind(Ve,286)).then(({default:r})=>r(...t)):fetch),(...t)=>e(...t)},lA=n=>{if(Array.isArray(n))return n.map(t=>lA(t));if("function"==typeof n||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,r])=>{const i=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=lA(r)}),e};var Ya=function(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(h){s(h)}}function c(l){try{u(r.throw(l))}catch(h){s(h)}}function u(l){l.done?o(l.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};const dA=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Y_e=(n,e,t)=>Ya(void 0,void 0,void 0,function*(){const r=yield function(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(h){s(h)}}function c(l){try{u(r.throw(l))}catch(h){s(h)}}function u(l){l.done?o(l.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Promise.resolve().then(Ve.bind(Ve,286))).Response:Response});n instanceof r&&!t?.noResolveJson?n.json().then(i=>{const o=n.status||500,s=i?.statusCode||o+"";e(new G_e(dA(i),o,s))}).catch(i=>{e(new uA(dA(i),i))}):e(new uA(dA(n),n))}),J_e=(n,e,t,r)=>{const i={method:n,headers:e?.headers||{}};return"GET"!==n&&r?((n=>{if("object"!=typeof n||null===n)return!1;const e=Object.getPrototypeOf(n);return!(null!==e&&e!==Object.prototype&&null!==Object.getPrototypeOf(e)||Symbol.toStringTag in n||Symbol.iterator in n)})(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(r)):i.body=r,e?.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),t)):i};function ff(n,e,t,r,i,o){return Ya(this,void 0,void 0,function*(){return new Promise((s,a)=>{n(t,J_e(e,r,i,o)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>Y_e(c,a,r))})})}function X_(n,e,t,r){return Ya(this,void 0,void 0,function*(){return ff(n,"GET",e,t,r)})}function Qi(n,e,t,r,i){return Ya(this,void 0,void 0,function*(){return ff(n,"POST",e,r,i,t)})}function hA(n,e,t,r,i){return Ya(this,void 0,void 0,function*(){return ff(n,"PUT",e,r,i,t)})}function OB(n,e,t,r,i){return Ya(this,void 0,void 0,function*(){return ff(n,"DELETE",e,r,i,t)})}class eye{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return n=this,e=void 0,r=function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(nn(e))return{data:null,error:e};throw e}},new((t=void 0)||(t=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(h){s(h)}}function c(l){try{u(r.throw(l))}catch(h){s(h)}}function u(l){l.done?o(l.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())});var n,e,t,r}}class nye{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}asStream(){return new eye(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.execute().then(e,t)}execute(){return n=this,e=void 0,r=function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(nn(e))return{data:null,error:e};throw e}},new((t=void 0)||(t=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(h){s(h)}}function c(l){try{u(r.throw(l))}catch(h){s(h)}}function u(l){l.done?o(l.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())});var n,e,t,r}}var Pr=function(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(h){s(h)}}function c(l){try{u(r.throw(l))}catch(h){s(h)}}function u(l){l.done?o(l.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};const rye={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},DB={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class iye{constructor(e,t={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=xB(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,r,i){return Pr(this,void 0,void 0,function*(){try{let o;const s=Object.assign(Object.assign({},DB),i);let a=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",s.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));const u=this._removeEmptyFolders(t),l=this._getFinalPath(u),h=yield("PUT"==e?hA:Qi)(this.fetch,`${this.url}/object/${l}`,o,Object.assign({headers:a},s?.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(nn(o))return{data:null,error:o};throw o}})}upload(e,t,r){return Pr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,i){return Pr(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",t);try{let c;const u=Object.assign({upsert:DB.upsert},i),l=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,l["cache-control"]=`max-age=${u.cacheControl}`,l["content-type"]=u.contentType),{data:{path:o,fullPath:(yield hA(this.fetch,a.toString(),c,{headers:l})).Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(nn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,t){return Pr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);t?.upsert&&(i["x-upsert"]="true");const o=yield Qi(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new cA("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}update(e,t,r){return Pr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return Pr(this,void 0,void 0,function*(){try{return{data:yield Qi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}copy(e,t,r){return Pr(this,void 0,void 0,function*(){try{return{data:{path:(yield Qi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}createSignedUrl(e,t,r){return Pr(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield Qi(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r?.download?`&download=${!0===r.download?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}createSignedUrls(e,t,r){return Pr(this,void 0,void 0,function*(){try{const i=yield Qi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),o=r?.download?`&download=${!0===r.download?"":r.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}download(e,t){const i=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),s=o?`?${o}`:"",a=this._getFinalPath(e);return new nye(()=>X_(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}info(e){return Pr(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const r=yield X_(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:lA(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}exists(e){return Pr(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield function X_e(n,e,t,r){return Ya(this,void 0,void 0,function*(){return ff(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r)&&r instanceof uA){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),i=[],o=t?.download?`download=${!0===t.download?"":t.download}`:"";""!==o&&i.push(o);const a=typeof t?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(t?.transform||{});""!==c&&i.push(c);let u=i.join("&");return""!==u&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(e){return Pr(this,void 0,void 0,function*(){try{return{data:yield OB(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(nn(t))return{data:null,error:t};throw t}})}list(e,t,r){return Pr(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},rye),t),{prefix:e||""});return{data:yield Qi(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}listV2(e,t){return Pr(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Qi(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},t),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const oye={"X-Client-Info":"storage-js/2.12.2"};var _l=function(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(h){s(h)}}function c(l){try{u(r.throw(l))}catch(h){s(h)}}function u(l){l.done?o(l.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})};class sye{constructor(e,t={},r,i){this.shouldThrowOnError=!1;const o=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},oye),t),this.fetch=xB(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return _l(this,void 0,void 0,function*(){try{return{data:yield X_(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(nn(e))return{data:null,error:e};throw e}})}getBucket(e){return _l(this,void 0,void 0,function*(){try{return{data:yield X_(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(nn(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return _l(this,void 0,void 0,function*(){try{return{data:yield Qi(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return _l(this,void 0,void 0,function*(){try{return{data:yield hA(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(nn(r))return{data:null,error:r};throw r}})}emptyBucket(e){return _l(this,void 0,void 0,function*(){try{return{data:yield Qi(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(nn(t))return{data:null,error:t};throw t}})}deleteBucket(e){return _l(this,void 0,void 0,function*(){try{return{data:yield OB(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(nn(t))return{data:null,error:t};throw t}})}}class aye extends sye{constructor(e,t={},r,i){super(e,t,r,i)}from(e){return new iye(this.url,this.headers,e,this.fetch)}}let pf="";pf=typeof Deno<"u"?"deno":typeof document<"u"?"web":typeof navigator<"u"&&"ReactNative"===navigator.product?"react-native":"node";const uye={headers:{"X-Client-Info":`supabase-js-${pf}/2.58.0`}},lye={schema:"public"},dye={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},hye={};var kB=Ve(286);const mye=(n,e,t)=>{const r=(n=>{let e;return e=n||(typeof fetch>"u"?kB.default:fetch),(...t)=>e(...t)})(t),i=typeof Headers>"u"?kB.Headers:Headers;return(o,s)=>function(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(h){s(h)}}function c(l){try{u(r.throw(l))}catch(h){s(h)}}function u(l){l.done?o(l.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}(void 0,void 0,void 0,function*(){var a;const c=null!==(a=yield e())&&void 0!==a?a:n;let u=new i(s?.headers);return u.has("apikey")||u.set("apikey",n),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},s),{headers:u}))})};const yl=3e4,gA="X-Supabase-Api-Version",NB={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Eye=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class mA extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function De(n){return"object"==typeof n&&null!==n&&"__isAuthError"in n}class Pye extends mA{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}class FB extends mA{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Ls extends mA{constructor(e,t,r,i){super(e,r,i),this.name=t,this.status=r}}class Us extends Ls{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class gf extends Ls{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Z_ extends Ls{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ey extends Ls{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class VB extends Ls{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _A extends Ls{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function yA(n){return De(n)&&"AuthRetryableFetchError"===n.name}class LB extends Ls{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class vA extends Ls{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ty="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),UB=" \t\n\r=".split(""),xye=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<UB.length;e+=1)n[UB[e].charCodeAt(0)]=-2;for(let e=0;e<ty.length;e+=1)n[ty[e].charCodeAt(0)]=e;return n})();function ny(n,e,t){if(null!==n)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;)t(ty[e.queue>>e.queuedBits-6&63]),e.queuedBits-=6;else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;)t(ty[e.queue>>e.queuedBits-6&63]),e.queuedBits-=6}function jB(n,e,t){const r=xye[n];if(!(r>-1)){if(-2===r)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8}function $B(n){const e=[],t=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{!function Dye(n,e,t){if(0===e.utf8seq){if(n<=127)return void t(n);for(let r=1;r<6;r+=1)if(!(n>>7-r&1)){e.utf8seq=r;break}if(2===e.utf8seq)e.codepoint=31&n;else if(3===e.utf8seq)e.codepoint=15&n;else{if(4!==e.utf8seq)throw new Error("Invalid UTF-8 sequence");e.codepoint=7&n}e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|63&n,e.utf8seq-=1,0===e.utf8seq&&t(e.codepoint)}}(s,r,t)};for(let s=0;s<n.length;s+=1)jB(n.charCodeAt(s),i,o);return e.join("")}function Oye(n,e){if(!(n<=127)){if(n<=2047)return e(192|n>>6),void e(128|63&n);if(n<=65535)return e(224|n>>12),e(128|n>>6&63),void e(128|63&n);if(n<=1114111)return e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),void e(128|63&n);throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}e(n)}function kye(n){const e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<n.length;i+=1)jB(n.charCodeAt(i),t,r);return new Uint8Array(e)}function Nye(n){const e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};return n.forEach(i=>ny(i,t,r)),ny(null,t,r),e.join("")}const oi=()=>typeof window<"u"&&typeof document<"u",Ja={tested:!1,writable:!1},HB=()=>{if(!oi())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch{return!1}if(Ja.tested)return Ja.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Ja.tested=!0,Ja.writable=!0}catch{Ja.tested=!0,Ja.writable=!1}return Ja.writable},zB=n=>{let e;return e=n||(typeof fetch>"u"?(...t)=>Promise.resolve().then(Ve.bind(Ve,286)).then(({default:r})=>r(...t)):fetch),(...t)=>e(...t)},Uye=n=>"object"==typeof n&&null!==n&&"status"in n&&"ok"in n&&"json"in n&&"function"==typeof n.json,vl=function(){var n=v(function*(e,t,r){yield e.setItem(t,JSON.stringify(r))});return function(t,r,i){return n.apply(this,arguments)}}(),Xa=function(){var n=v(function*(e,t){const r=yield e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}});return function(t,r){return n.apply(this,arguments)}}(),js=function(){var n=v(function*(e,t){yield e.removeItem(t)});return function(t,r){return n.apply(this,arguments)}}();class ry{constructor(){this.promise=new ry.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function bA(n){const e=n.split(".");if(3!==e.length)throw new vA("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Eye.test(e[r]))throw new vA("JWT not in base64url format");return{header:JSON.parse($B(e[0])),payload:JSON.parse($B(e[1])),signature:kye(e[2]),raw:{header:e[0],payload:e[1]}}}function CA(){return(CA=v(function*(n){return yield new Promise(e=>{setTimeout(()=>e(null),n)})})).apply(this,arguments)}function Bye(n){return("0"+n.toString(16)).substr(-2)}function wA(){return(wA=v(function*(n){const t=(new TextEncoder).encode(n),r=yield crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})).apply(this,arguments)}function IA(){return IA=v(function*(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=yield function zye(n){return wA.apply(this,arguments)}(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}),IA.apply(this,arguments)}function bl(n,e){return EA.apply(this,arguments)}function EA(){return EA=v(function*(n,e,t=!1){const r=function Hye(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let i="";for(let o=0;o<56;o++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,Bye).join("")}();let i=r;t&&(i+="/PASSWORD_RECOVERY"),yield vl(n,`${e}-code-verifier`,i);const o=yield function qye(n){return IA.apply(this,arguments)}(r);return[o,r===o?"plain":"s256"]}),EA.apply(this,arguments)}ry.promiseConstructor=Promise;const Gye=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i,Yye=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Cl(n){if(!Yye.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function TA(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"==typeof t){const r=t.toString();if("Symbol(Symbol.toPrimitive)"===r||"Symbol(Symbol.toStringTag)"===r||"Symbol(util.inspect.custom)"===r)return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function qB(n){return JSON.parse(JSON.stringify(n))}const Za=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Xye=[502,503,504];function GB(n){return PA.apply(this,arguments)}function PA(){return(PA=v(function*(n){var e;if(!Uye(n))throw new _A(Za(n),0);if(Xye.includes(n.status))throw new _A(Za(n),n.status);let t,r;try{t=yield n.json()}catch(o){throw new FB(Za(o),o)}const i=function Wye(n){const e=n.headers.get(gA);if(!e||!e.match(Gye))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}(n);if(i&&i.getTime()>=NB["2024-01-01"].timestamp&&"object"==typeof t&&t&&"string"==typeof t.code?r=t.code:"object"==typeof t&&t&&"string"==typeof t.error_code&&(r=t.error_code),r){if("weak_password"===r)throw new LB(Za(t),n.status,(null===(e=t.weak_password)||void 0===e?void 0:e.reasons)||[]);if("session_not_found"===r)throw new Us}else if("object"==typeof t&&t&&"object"==typeof t.weak_password&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,s)=>o&&"string"==typeof s,!0))throw new LB(Za(t),n.status,t.weak_password.reasons);throw new Pye(Za(t),n.status||500,r)})).apply(this,arguments)}const Zye=(n,e,t,r)=>{const i={method:n,headers:e?.headers||{}};return"GET"===n?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};function Ue(n,e,t,r){return MA.apply(this,arguments)}function MA(){return MA=v(function*(n,e,t,r){var i;const o=Object.assign({},r?.headers);o[gA]||(o[gA]=NB["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const s=null!==(i=r?.query)&&void 0!==i?i:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);const a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=yield function eve(n,e,t,r,i,o){return AA.apply(this,arguments)}(n,e,t+a,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}}),MA.apply(this,arguments)}function AA(){return(AA=v(function*(n,e,t,r,i,o){const s=Zye(e,r,i,o);let a;try{a=yield n(t,Object.assign({},s))}catch(c){throw console.error(c),new _A(Za(c),0)}if(a.ok||(yield GB(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(c){yield GB(c)}})).apply(this,arguments)}function Yi(n){var e;let t=null;return function ive(n){return n.access_token&&n.refresh_token&&n.expires_in}(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=function Fye(n){return Math.round(Date.now()/1e3)+n}(n.expires_in))),{data:{session:t,user:null!==(e=n.user)&&void 0!==e?e:n},error:null}}function WB(n){const e=Yi(n);return!e.error&&n.weak_password&&"object"==typeof n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&"string"==typeof n.weak_password.message&&n.weak_password.reasons.reduce((t,r)=>t&&"string"==typeof r,!0)&&(e.data.weak_password=n.weak_password),e}function $s(n){var e;return{data:{user:null!==(e=n.user)&&void 0!==e?e:n},error:null}}function tve(n){return{data:n,error:null}}function nve(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o}=n,s=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o},user:Object.assign({},s)},error:null}}function rve(n){return n}const SA=["global","local","others"];class sve{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=zB(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(e){var t=this;return v(function*(r,i=SA[0]){if(SA.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${SA.join(", ")}`);try{return yield Ue(t.fetch,"POST",`${t.url}/logout?scope=${i}`,{headers:t.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(o){if(De(o))return{data:null,error:o};throw o}}).apply(this,arguments)}inviteUserByEmail(e){var t=this;return v(function*(r,i={}){try{return yield Ue(t.fetch,"POST",`${t.url}/invite`,{body:{email:r,data:i.data},headers:t.headers,redirectTo:i.redirectTo,xform:$s})}catch(o){if(De(o))return{data:{user:null},error:o};throw o}}).apply(this,arguments)}generateLink(e){var t=this;return v(function*(){try{const{options:r}=e,i=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}(e,["options"]),o=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(o.new_email=i?.newEmail,delete o.newEmail),yield Ue(t.fetch,"POST",`${t.url}/admin/generate_link`,{body:o,headers:t.headers,xform:nve,redirectTo:r?.redirectTo})}catch(r){if(De(r))return{data:{properties:null,user:null},error:r};throw r}})()}createUser(e){var t=this;return v(function*(){try{return yield Ue(t.fetch,"POST",`${t.url}/admin/users`,{body:e,headers:t.headers,xform:$s})}catch(r){if(De(r))return{data:{user:null},error:r};throw r}})()}listUsers(e){var t=this;return v(function*(){var r,i,o,s,a,c,u;try{const l={nextPage:null,lastPage:0,total:0},h=yield Ue(t.fetch,"GET",`${t.url}/admin/users`,{headers:t.headers,noResolveJson:!0,query:{page:null!==(i=null===(r=e?.page)||void 0===r?void 0:r.toString())&&void 0!==i?i:"",per_page:null!==(s=null===(o=e?.perPage)||void 0===o?void 0:o.toString())&&void 0!==s?s:""},xform:rve});if(h.error)throw h.error;const f=yield h.json(),g=null!==(a=h.headers.get("x-total-count"))&&void 0!==a?a:0,b=null!==(u=null===(c=h.headers.get("link"))||void 0===c?void 0:c.split(","))&&void 0!==u?u:[];return b.length>0&&(b.forEach(I=>{const E=parseInt(I.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(I.split(";")[1].split("=")[1]);l[`${S}Page`]=E}),l.total=parseInt(g)),{data:Object.assign(Object.assign({},f),l),error:null}}catch(l){if(De(l))return{data:{users:[]},error:l};throw l}})()}getUserById(e){var t=this;return v(function*(){Cl(e);try{return yield Ue(t.fetch,"GET",`${t.url}/admin/users/${e}`,{headers:t.headers,xform:$s})}catch(r){if(De(r))return{data:{user:null},error:r};throw r}})()}updateUserById(e,t){var r=this;return v(function*(){Cl(e);try{return yield Ue(r.fetch,"PUT",`${r.url}/admin/users/${e}`,{body:t,headers:r.headers,xform:$s})}catch(i){if(De(i))return{data:{user:null},error:i};throw i}})()}deleteUser(e){var t=this;return v(function*(r,i=!1){Cl(r);try{return yield Ue(t.fetch,"DELETE",`${t.url}/admin/users/${r}`,{headers:t.headers,body:{should_soft_delete:i},xform:$s})}catch(o){if(De(o))return{data:{user:null},error:o};throw o}}).apply(this,arguments)}_listFactors(e){var t=this;return v(function*(){Cl(e.userId);try{const{data:r,error:i}=yield Ue(t.fetch,"GET",`${t.url}/admin/users/${e.userId}/factors`,{headers:t.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:i}}catch(r){if(De(r))return{data:null,error:r};throw r}})()}_deleteFactor(e){var t=this;return v(function*(){Cl(e.userId),Cl(e.id);try{return{data:yield Ue(t.fetch,"DELETE",`${t.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:t.headers}),error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}})()}}function KB(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}const wl={debug:!!(globalThis&&HB()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))};class QB extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class cve extends QB{}function lve(n,e,t){return xA.apply(this,arguments)}function xA(){return xA=v(function*(n,e,t){wl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),wl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(n,0===e?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},function(){var i=v(function*(o){if(!o){if(0===e)throw wl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new cve(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(wl.debug)try{const s=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield t()}wl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return yield t()}finally{wl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}});return function(o){return i.apply(this,arguments)}}()))}),xA.apply(this,arguments)}function JB(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function hve(n){const e=(new TextEncoder).encode(n);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}!function ave(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}();const pve={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:{"X-Client-Info":"gotrue-js/2.72.0"},flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function XB(n,e,t){return DA.apply(this,arguments)}function DA(){return(DA=v(function*(n,e,t){return yield t()})).apply(this,arguments)}const Il={},mve=(()=>{class n{constructor(t){var i,o,r=this;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=n.nextInstanceID,n.nextInstanceID+=1,this.instanceID>0&&oi()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},pve),t);if(this.logDebugMessages=!!s.debug,"function"==typeof s.debug&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new sve({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=zB(s.fetch),this.lock=s.lock||XB,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.lock=s.lock?s.lock:oi()&&null!==(i=globalThis?.navigator)&&void 0!==i&&i.locks?lve:XB,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:HB()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=KB(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=KB(this.memoryStorage)),oi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}null===(o=this.broadcastChannel)||void 0===o||o.addEventListener("message",function(){var a=v(function*(c){r._debug("received broadcast notification from other tab or client",c),yield r._notifyAllSubscribers(c.data.event,c.data.session,!1)});return function(c){return a.apply(this,arguments)}}())}this.initialize()}get jwks(){var t,r;return null!==(r=null===(t=Il[this.storageKey])||void 0===t?void 0:t.jwks)&&void 0!==r?r:{keys:[]}}set jwks(t){Il[this.storageKey]=Object.assign(Object.assign({},Il[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return null!==(r=null===(t=Il[this.storageKey])||void 0===t?void 0:t.cachedAt)&&void 0!==r?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Il[this.storageKey]=Object.assign(Object.assign({},Il[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (2.72.0) ${(new Date).toISOString()}`,...t),this}initialize(){var t=this;return v(function*(){return t.initializePromise||(t.initializePromise=v(function*(){return yield t._acquireLock(-1,v(function*(){return yield t._initialize()}))})()),yield t.initializePromise})()}_initialize(){var t=this;return v(function*(){var r;try{const i=function Lye(n){const e={},t=new URL(n);if(t.hash&&"#"===t.hash[0])try{new URLSearchParams(t.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return t.searchParams.forEach((r,i)=>{e[i]=r}),e}(window.location.href);let o="none";if(t._isImplicitGrantCallback(i)?o="implicit":(yield t._isPKCECallback(i))&&(o="pkce"),oi()&&t.detectSessionInUrl&&"none"!==o){const{data:s,error:a}=yield t._getSessionFromURL(i,o);if(a){if(t._debug("#_initialize()","error detecting session from URL",a),function Sye(n){return De(n)&&"AuthImplicitGrantRedirectError"===n.name}(a)){const l=null===(r=a.details)||void 0===r?void 0:r.code;if("identity_already_exists"===l||"identity_not_found"===l||"single_identity_not_deletable"===l)return{error:a}}return yield t._removeSession(),{error:a}}const{session:c,redirectType:u}=s;return t._debug("#_initialize()","detected session in URL",c,"redirect type",u),yield t._saveSession(c),setTimeout(v(function*(){"recovery"===u?yield t._notifyAllSubscribers("PASSWORD_RECOVERY",c):yield t._notifyAllSubscribers("SIGNED_IN",c)}),0),{error:null}}return yield t._recoverAndRefresh(),{error:null}}catch(i){return De(i)?{error:i}:{error:new FB("Unexpected error during initialization",i)}}finally{yield t._handleVisibilityChange(),t._debug("#_initialize()","end")}})()}signInAnonymously(t){var r=this;return v(function*(){var i,o,s;try{const a=yield Ue(r.fetch,"POST",`${r.url}/signup`,{headers:r.headers,body:{data:null!==(o=null===(i=t?.options)||void 0===i?void 0:i.data)&&void 0!==o?o:{},gotrue_meta_security:{captcha_token:null===(s=t?.options)||void 0===s?void 0:s.captchaToken}},xform:Yi}),{data:c,error:u}=a;if(u||!c)return{data:{user:null,session:null},error:u};const l=c.session,h=c.user;return c.session&&(yield r._saveSession(c.session),yield r._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:h,session:l},error:null}}catch(a){if(De(a))return{data:{user:null,session:null},error:a};throw a}})()}signUp(t){var r=this;return v(function*(){var i,o,s;try{let a;if("email"in t){const{email:f,password:g,options:b}=t;let I=null,E=null;"pkce"===r.flowType&&([I,E]=yield bl(r.storage,r.storageKey)),a=yield Ue(r.fetch,"POST",`${r.url}/signup`,{headers:r.headers,redirectTo:b?.emailRedirectTo,body:{email:f,password:g,data:null!==(i=b?.data)&&void 0!==i?i:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:I,code_challenge_method:E},xform:Yi})}else{if(!("phone"in t))throw new Z_("You must provide either an email or phone number and a password");{const{phone:f,password:g,options:b}=t;a=yield Ue(r.fetch,"POST",`${r.url}/signup`,{headers:r.headers,body:{phone:f,password:g,data:null!==(o=b?.data)&&void 0!==o?o:{},channel:null!==(s=b?.channel)&&void 0!==s?s:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:Yi})}}const{data:c,error:u}=a;if(u||!c)return{data:{user:null,session:null},error:u};const l=c.session,h=c.user;return c.session&&(yield r._saveSession(c.session),yield r._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:h,session:l},error:null}}catch(a){if(De(a))return{data:{user:null,session:null},error:a};throw a}})()}signInWithPassword(t){var r=this;return v(function*(){try{let i;if("email"in t){const{email:a,password:c,options:u}=t;i=yield Ue(r.fetch,"POST",`${r.url}/token?grant_type=password`,{headers:r.headers,body:{email:a,password:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:WB})}else{if(!("phone"in t))throw new Z_("You must provide either an email or phone number and a password");{const{phone:a,password:c,options:u}=t;i=yield Ue(r.fetch,"POST",`${r.url}/token?grant_type=password`,{headers:r.headers,body:{phone:a,password:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:WB})}}const{data:o,error:s}=i;return s?{data:{user:null,session:null},error:s}:o&&o.session&&o.user?(o.session&&(yield r._saveSession(o.session),yield r._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:s}):{data:{user:null,session:null},error:new gf}}catch(i){if(De(i))return{data:{user:null,session:null},error:i};throw i}})()}signInWithOAuth(t){var r=this;return v(function*(){var i,o,s,a;return yield r._handleProviderSignIn(t.provider,{redirectTo:null===(i=t.options)||void 0===i?void 0:i.redirectTo,scopes:null===(o=t.options)||void 0===o?void 0:o.scopes,queryParams:null===(s=t.options)||void 0===s?void 0:s.queryParams,skipBrowserRedirect:null===(a=t.options)||void 0===a?void 0:a.skipBrowserRedirect})})()}exchangeCodeForSession(t){var r=this;return v(function*(){return yield r.initializePromise,r._acquireLock(-1,v(function*(){return r._exchangeCodeForSession(t)}))})()}signInWithWeb3(t){var r=this;return v(function*(){const{chain:i}=t;switch(i){case"ethereum":return yield r.signInWithEthereum(t);case"solana":return yield r.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}})()}signInWithEthereum(t){var r=this;return v(function*(){var i,o,s,a,c,u,l,h,f,g,b;let I,E;if("message"in t)I=t.message,E=t.signature;else{const{wallet:M,statement:V,options:$}=t;let z;if(oi())if("object"==typeof M)z=M;else{const R=window;if(!("ethereum"in R)||"object"!=typeof R.ethereum||!("request"in R.ethereum)||"function"!=typeof R.ethereum.request)throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");z=R.ethereum}else{if("object"!=typeof M||!$?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=M}const ne=new URL(null!==(i=$?.url)&&void 0!==i?i:window.location.href),O=yield z.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!O||0===O.length)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=JB(O[0]);let A=null===(o=$?.signInWithEthereum)||void 0===o?void 0:o.chainId;A||(A=function dve(n){return parseInt(n,16)}(yield z.request({method:"eth_chainId"}))),I=function fve(n){var e;const{chainId:t,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:s,notBefore:a,requestId:c,resources:u,scheme:l,uri:h,version:f}=n;if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==f)throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(null!==(e=n.statement)&&void 0!==e&&e.includes("\n"))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`);const E=`${l?`${l}://${r}`:r} wants you to sign in with your Ethereum account:\n${JB(n.address)}\n\n${n.statement?`${n.statement}\n`:""}`;let S=`URI: ${h}\nVersion: ${f}\nChain ID: ${t}${s?`\nNonce: ${s}`:""}\nIssued At: ${o.toISOString()}`;if(i&&(S+=`\nExpiration Time: ${i.toISOString()}`),a&&(S+=`\nNot Before: ${a.toISOString()}`),c&&(S+=`\nRequest ID: ${c}`),u){let M="\nResources:";for(const V of u){if(!V||"string"!=typeof V)throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${V}`);M+=`\n- ${V}`}S+=M}return`${E}\n${S}`}({domain:ne.host,address:P,statement:V,uri:ne.href,version:"1",chainId:A,nonce:null===(s=$?.signInWithEthereum)||void 0===s?void 0:s.nonce,issuedAt:null!==(c=null===(a=$?.signInWithEthereum)||void 0===a?void 0:a.issuedAt)&&void 0!==c?c:new Date,expirationTime:null===(u=$?.signInWithEthereum)||void 0===u?void 0:u.expirationTime,notBefore:null===(l=$?.signInWithEthereum)||void 0===l?void 0:l.notBefore,requestId:null===(h=$?.signInWithEthereum)||void 0===h?void 0:h.requestId,resources:null===(f=$?.signInWithEthereum)||void 0===f?void 0:f.resources}),E=yield z.request({method:"personal_sign",params:[hve(I),P]})}try{const{data:S,error:M}=yield Ue(r.fetch,"POST",`${r.url}/token?grant_type=web3`,{headers:r.headers,body:Object.assign({chain:"ethereum",message:I,signature:E},null!==(g=t.options)&&void 0!==g&&g.captchaToken?{gotrue_meta_security:{captcha_token:null===(b=t.options)||void 0===b?void 0:b.captchaToken}}:null),xform:Yi});if(M)throw M;return S&&S.session&&S.user?(S.session&&(yield r._saveSession(S.session),yield r._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:M}):{data:{user:null,session:null},error:new gf}}catch(S){if(De(S))return{data:{user:null,session:null},error:S};throw S}})()}signInWithSolana(t){var r=this;return v(function*(){var i,o,s,a,c,u,l,h,f,g,b,I;let E,S;if("message"in t)E=t.message,S=t.signature;else{const{wallet:V,statement:$,options:z}=t;let ne;if(oi())if("object"==typeof V)ne=V;else{const P=window;if(!("solana"in P)||"object"!=typeof P.solana||!("signIn"in P.solana&&"function"==typeof P.solana.signIn||"signMessage"in P.solana&&"function"==typeof P.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");ne=P.solana}else{if("object"!=typeof V||!z?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");ne=V}const O=new URL(null!==(i=z?.url)&&void 0!==i?i:window.location.href);if("signIn"in ne&&ne.signIn){const P=yield ne.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},z?.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),$?{statement:$}:null));let A;if(Array.isArray(P)&&P[0]&&"object"==typeof P[0])A=P[0];else{if(!(P&&"object"==typeof P&&"signedMessage"in P&&"signature"in P))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");A=P}if(!("signedMessage"in A&&"signature"in A&&("string"==typeof A.signedMessage||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");E="string"==typeof A.signedMessage?A.signedMessage:(new TextDecoder).decode(A.signedMessage),S=A.signature}else{if(!("signMessage"in ne&&"function"==typeof ne.signMessage&&"publicKey"in ne&&"object"==typeof ne&&ne.publicKey&&"toBase58"in ne.publicKey&&"function"==typeof ne.publicKey.toBase58))throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${O.host} wants you to sign in with your Solana account:`,ne.publicKey.toBase58(),...$?["",$,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${null!==(s=null===(o=z?.signInWithSolana)||void 0===o?void 0:o.issuedAt)&&void 0!==s?s:(new Date).toISOString()}`,...null!==(a=z?.signInWithSolana)&&void 0!==a&&a.notBefore?[`Not Before: ${z.signInWithSolana.notBefore}`]:[],...null!==(c=z?.signInWithSolana)&&void 0!==c&&c.expirationTime?[`Expiration Time: ${z.signInWithSolana.expirationTime}`]:[],...null!==(u=z?.signInWithSolana)&&void 0!==u&&u.chainId?[`Chain ID: ${z.signInWithSolana.chainId}`]:[],...null!==(l=z?.signInWithSolana)&&void 0!==l&&l.nonce?[`Nonce: ${z.signInWithSolana.nonce}`]:[],...null!==(h=z?.signInWithSolana)&&void 0!==h&&h.requestId?[`Request ID: ${z.signInWithSolana.requestId}`]:[],...null!==(g=null===(f=z?.signInWithSolana)||void 0===f?void 0:f.resources)&&void 0!==g&&g.length?["Resources",...z.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join("\n");const P=yield ne.signMessage((new TextEncoder).encode(E),"utf8");if(!(P&&P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=P}}try{const{data:M,error:V}=yield Ue(r.fetch,"POST",`${r.url}/token?grant_type=web3`,{headers:r.headers,body:Object.assign({chain:"solana",message:E,signature:Nye(S)},null!==(b=t.options)&&void 0!==b&&b.captchaToken?{gotrue_meta_security:{captcha_token:null===(I=t.options)||void 0===I?void 0:I.captchaToken}}:null),xform:Yi});if(V)throw V;return M&&M.session&&M.user?(M.session&&(yield r._saveSession(M.session),yield r._notifyAllSubscribers("SIGNED_IN",M.session)),{data:Object.assign({},M),error:V}):{data:{user:null,session:null},error:new gf}}catch(M){if(De(M))return{data:{user:null,session:null},error:M};throw M}})()}_exchangeCodeForSession(t){var r=this;return v(function*(){const i=yield Xa(r.storage,`${r.storageKey}-code-verifier`),[o,s]=(i??"").split("/");try{const{data:a,error:c}=yield Ue(r.fetch,"POST",`${r.url}/token?grant_type=pkce`,{headers:r.headers,body:{auth_code:t,code_verifier:o},xform:Yi});if(yield js(r.storage,`${r.storageKey}-code-verifier`),c)throw c;return a&&a.session&&a.user?(a.session&&(yield r._saveSession(a.session),yield r._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:c}):{data:{user:null,session:null,redirectType:null},error:new gf}}catch(a){if(De(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}})()}signInWithIdToken(t){var r=this;return v(function*(){try{const{options:i,provider:o,token:s,access_token:a,nonce:c}=t,u=yield Ue(r.fetch,"POST",`${r.url}/token?grant_type=id_token`,{headers:r.headers,body:{provider:o,id_token:s,access_token:a,nonce:c,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:Yi}),{data:l,error:h}=u;return h?{data:{user:null,session:null},error:h}:l&&l.session&&l.user?(l.session&&(yield r._saveSession(l.session),yield r._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:h}):{data:{user:null,session:null},error:new gf}}catch(i){if(De(i))return{data:{user:null,session:null},error:i};throw i}})()}signInWithOtp(t){var r=this;return v(function*(){var i,o,s,a,c;try{if("email"in t){const{email:u,options:l}=t;let h=null,f=null;"pkce"===r.flowType&&([h,f]=yield bl(r.storage,r.storageKey));const{error:g}=yield Ue(r.fetch,"POST",`${r.url}/otp`,{headers:r.headers,body:{email:u,data:null!==(i=l?.data)&&void 0!==i?i:{},create_user:null===(o=l?.shouldCreateUser)||void 0===o||o,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:h,code_challenge_method:f},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in t){const{phone:u,options:l}=t,{data:h,error:f}=yield Ue(r.fetch,"POST",`${r.url}/otp`,{headers:r.headers,body:{phone:u,data:null!==(s=l?.data)&&void 0!==s?s:{},create_user:null===(a=l?.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:null!==(c=l?.channel)&&void 0!==c?c:"sms"}});return{data:{user:null,session:null,messageId:h?.message_id},error:f}}throw new Z_("You must provide either an email or phone number.")}catch(u){if(De(u))return{data:{user:null,session:null},error:u};throw u}})()}verifyOtp(t){var r=this;return v(function*(){var i,o;try{let s,a;"options"in t&&(s=null===(i=t.options)||void 0===i?void 0:i.redirectTo,a=null===(o=t.options)||void 0===o?void 0:o.captchaToken);const{data:c,error:u}=yield Ue(r.fetch,"POST",`${r.url}/verify`,{headers:r.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:Yi});if(u)throw u;if(!c)throw new Error("An error occurred on token verification.");const l=c.session,h=c.user;return l?.access_token&&(yield r._saveSession(l),yield r._notifyAllSubscribers("recovery"==t.type?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:h,session:l},error:null}}catch(s){if(De(s))return{data:{user:null,session:null},error:s};throw s}})()}signInWithSSO(t){var r=this;return v(function*(){var i,o,s;try{let a=null,c=null;return"pkce"===r.flowType&&([a,c]=yield bl(r.storage,r.storageKey)),yield Ue(r.fetch,"POST",`${r.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:null!==(o=null===(i=t.options)||void 0===i?void 0:i.redirectTo)&&void 0!==o?o:void 0}),null!==(s=t?.options)&&void 0!==s&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:c}),headers:r.headers,xform:tve})}catch(a){if(De(a))return{data:null,error:a};throw a}})()}reauthenticate(){var t=this;return v(function*(){return yield t.initializePromise,yield t._acquireLock(-1,v(function*(){return yield t._reauthenticate()}))})()}_reauthenticate(){var t=this;return v(function*(){try{return yield t._useSession(function(){var r=v(function*(i){const{data:{session:o},error:s}=i;if(s)throw s;if(!o)throw new Us;const{error:a}=yield Ue(t.fetch,"GET",`${t.url}/reauthenticate`,{headers:t.headers,jwt:o.access_token});return{data:{user:null,session:null},error:a}});return function(i){return r.apply(this,arguments)}}())}catch(r){if(De(r))return{data:{user:null,session:null},error:r};throw r}})()}resend(t){var r=this;return v(function*(){try{const i=`${r.url}/resend`;if("email"in t){const{email:o,type:s,options:a}=t,{error:c}=yield Ue(r.fetch,"POST",i,{headers:r.headers,body:{email:o,type:s,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:c}}if("phone"in t){const{phone:o,type:s,options:a}=t,{data:c,error:u}=yield Ue(r.fetch,"POST",i,{headers:r.headers,body:{phone:o,type:s,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:u}}throw new Z_("You must provide either an email or phone number and a type")}catch(i){if(De(i))return{data:{user:null,session:null},error:i};throw i}})()}getSession(){var t=this;return v(function*(){return yield t.initializePromise,yield t._acquireLock(-1,v(function*(){return t._useSession(function(){var i=v(function*(o){return o});return function(o){return i.apply(this,arguments)}}())}))})()}_acquireLock(t,r){var i=this;return v(function*(){i._debug("#_acquireLock","begin",t);try{if(i.lockAcquired){const o=i.pendingInLock.length?i.pendingInLock[i.pendingInLock.length-1]:Promise.resolve(),s=v(function*(){return yield o,yield r()})();return i.pendingInLock.push(v(function*(){try{yield s}catch{}})()),s}return yield i.lock(`lock:${i.storageKey}`,t,v(function*(){i._debug("#_acquireLock","lock acquired for storage key",i.storageKey);try{i.lockAcquired=!0;const o=r();for(i.pendingInLock.push(v(function*(){try{yield o}catch{}})()),yield o;i.pendingInLock.length;){const s=[...i.pendingInLock];yield Promise.all(s),i.pendingInLock.splice(0,s.length)}return yield o}finally{i._debug("#_acquireLock","lock released for storage key",i.storageKey),i.lockAcquired=!1}}))}finally{i._debug("#_acquireLock","end")}})()}_useSession(t){var r=this;return v(function*(){r._debug("#_useSession","begin");try{const i=yield r.__loadSession();return yield t(i)}finally{r._debug("#_useSession","end")}})()}__loadSession(){var t=this;return v(function*(){t._debug("#__loadSession()","begin"),t.lockAcquired||t._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let r=null;const i=yield Xa(t.storage,t.storageKey);if(t._debug("#getSession()","session from storage",i),null!==i&&(t._isValidSession(i)?r=i:(t._debug("#getSession()","session from storage is not valid"),yield t._removeSession())),!r)return{data:{session:null},error:null};const o=!!r.expires_at&&1e3*r.expires_at-Date.now()<9e4;if(t._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",r.expires_at),!o){if(t.userStorage){const c=yield Xa(t.userStorage,t.storageKey+"-user");r.user=c?.user?c.user:TA()}if(t.storage.isServer&&r.user){let c=t.suppressGetSessionWarning;r=new Proxy(r,{get:(l,h,f)=>(!c&&"user"===h&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,t.suppressGetSessionWarning=!0),Reflect.get(l,h,f))})}return{data:{session:r},error:null}}const{session:s,error:a}=yield t._callRefreshToken(r.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{t._debug("#__loadSession()","end")}})()}getUser(t){var r=this;return v(function*(){return t?yield r._getUser(t):(yield r.initializePromise,yield r._acquireLock(-1,v(function*(){return yield r._getUser()})))})()}_getUser(t){var r=this;return v(function*(){try{return t?yield Ue(r.fetch,"GET",`${r.url}/user`,{headers:r.headers,jwt:t,xform:$s}):yield r._useSession(function(){var i=v(function*(o){var s,a,c;const{data:u,error:l}=o;if(l)throw l;return null!==(s=u.session)&&void 0!==s&&s.access_token||r.hasCustomAuthorizationHeader?yield Ue(r.fetch,"GET",`${r.url}/user`,{headers:r.headers,jwt:null!==(c=null===(a=u.session)||void 0===a?void 0:a.access_token)&&void 0!==c?c:void 0,xform:$s}):{data:{user:null},error:new Us}});return function(o){return i.apply(this,arguments)}}())}catch(i){if(De(i))return function Aye(n){return De(n)&&"AuthSessionMissingError"===n.name}(i)&&(yield r._removeSession(),yield js(r.storage,`${r.storageKey}-code-verifier`)),{data:{user:null},error:i};throw i}})()}updateUser(t){var r=this;return v(function*(i,o={}){return yield r.initializePromise,yield r._acquireLock(-1,v(function*(){return yield r._updateUser(i,o)}))}).apply(this,arguments)}_updateUser(t){var r=this;return v(function*(i,o={}){try{return yield r._useSession(function(){var s=v(function*(a){const{data:c,error:u}=a;if(u)throw u;if(!c.session)throw new Us;const l=c.session;let h=null,f=null;"pkce"===r.flowType&&null!=i.email&&([h,f]=yield bl(r.storage,r.storageKey));const{data:g,error:b}=yield Ue(r.fetch,"PUT",`${r.url}/user`,{headers:r.headers,redirectTo:o?.emailRedirectTo,body:Object.assign(Object.assign({},i),{code_challenge:h,code_challenge_method:f}),jwt:l.access_token,xform:$s});if(b)throw b;return l.user=g.user,yield r._saveSession(l),yield r._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}});return function(a){return s.apply(this,arguments)}}())}catch(s){if(De(s))return{data:{user:null},error:s};throw s}}).apply(this,arguments)}setSession(t){var r=this;return v(function*(){return yield r.initializePromise,yield r._acquireLock(-1,v(function*(){return yield r._setSession(t)}))})()}_setSession(t){var r=this;return v(function*(){try{if(!t.access_token||!t.refresh_token)throw new Us;const i=Date.now()/1e3;let o=i,s=!0,a=null;const{payload:c}=bA(t.access_token);if(c.exp&&(o=c.exp,s=o<=i),s){const{session:u,error:l}=yield r._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:l}=yield r._getUser(t.access_token);if(l)throw l;a={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:o-i,expires_at:o},yield r._saveSession(a),yield r._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(i){if(De(i))return{data:{session:null,user:null},error:i};throw i}})()}refreshSession(t){var r=this;return v(function*(){return yield r.initializePromise,yield r._acquireLock(-1,v(function*(){return yield r._refreshSession(t)}))})()}_refreshSession(t){var r=this;return v(function*(){try{return yield r._useSession(function(){var i=v(function*(o){var s;if(!t){const{data:u,error:l}=o;if(l)throw l;t=null!==(s=u.session)&&void 0!==s?s:void 0}if(!t?.refresh_token)throw new Us;const{session:a,error:c}=yield r._callRefreshToken(t.refresh_token);return c?{data:{user:null,session:null},error:c}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}});return function(o){return i.apply(this,arguments)}}())}catch(i){if(De(i))return{data:{user:null,session:null},error:i};throw i}})()}_getSessionFromURL(t,r){var i=this;return v(function*(){try{if(!oi())throw new ey("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ey(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if("pkce"===i.flowType)throw new VB("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===i.flowType)throw new ey("Not a valid implicit grant flow url.")}if("pkce"===r){if(i._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new VB("No code detected.");const{data:$,error:z}=yield i._exchangeCodeForSession(t.code);if(z)throw z;const ne=new URL(window.location.href);return ne.searchParams.delete("code"),window.history.replaceState(window.history.state,"",ne.toString()),{data:{session:$.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:s,access_token:a,refresh_token:c,expires_in:u,expires_at:l,token_type:h}=t;if(!(a&&u&&c&&h))throw new ey("No session defined in URL");const f=Math.round(Date.now()/1e3),g=parseInt(u);let b=f+g;l&&(b=parseInt(l));const I=b-f;1e3*I<=yl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${I}s, should have been closer to ${g}s`);const E=b-g;f-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,b,f):f-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,b,f);const{data:S,error:M}=yield i._getUser(a);if(M)throw M;const V={provider_token:o,provider_refresh_token:s,access_token:a,expires_in:g,expires_at:b,refresh_token:c,token_type:h,user:S.user};return window.location.hash="",i._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:V,redirectType:t.type},error:null}}catch(o){if(De(o))return{data:{session:null,redirectType:null},error:o};throw o}})()}_isImplicitGrantCallback(t){return!(!t.access_token&&!t.error_description)}_isPKCECallback(t){var r=this;return v(function*(){const i=yield Xa(r.storage,`${r.storageKey}-code-verifier`);return!(!t.code||!i)})()}signOut(){var t=this;return v(function*(r={scope:"global"}){return yield t.initializePromise,yield t._acquireLock(-1,v(function*(){return yield t._signOut(r)}))}).apply(this,arguments)}_signOut(){var t=this;return v(function*({scope:r}={scope:"global"}){return yield t._useSession(function(){var i=v(function*(o){var s;const{data:a,error:c}=o;if(c)return{error:c};const u=null===(s=a.session)||void 0===s?void 0:s.access_token;if(u){const{error:l}=yield t.admin.signOut(u,r);if(l&&(!function Mye(n){return De(n)&&"AuthApiError"===n.name}(l)||404!==l.status&&401!==l.status&&403!==l.status))return{error:l}}return"others"!==r&&(yield t._removeSession(),yield js(t.storage,`${t.storageKey}-code-verifier`)),{error:null}});return function(o){return i.apply(this,arguments)}}())}).apply(this,arguments)}onAuthStateChange(t){var r=this;const i=function Vye(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=16*Math.random()|0;return("x"==n?e:3&e|8).toString(16)})}(),o={id:i,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,o),v(function*(){yield r.initializePromise,yield r._acquireLock(-1,v(function*(){r._emitInitialSession(i)}))})(),{data:{subscription:o}}}_emitInitialSession(t){var r=this;return v(function*(){return yield r._useSession(function(){var i=v(function*(o){var s,a;try{const{data:{session:c},error:u}=o;if(u)throw u;yield null===(s=r.stateChangeEmitters.get(t))||void 0===s?void 0:s.callback("INITIAL_SESSION",c),r._debug("INITIAL_SESSION","callback id",t,"session",c)}catch(c){yield null===(a=r.stateChangeEmitters.get(t))||void 0===a?void 0:a.callback("INITIAL_SESSION",null),r._debug("INITIAL_SESSION","callback id",t,"error",c),console.error(c)}});return function(o){return i.apply(this,arguments)}}())})()}resetPasswordForEmail(t){var r=this;return v(function*(i,o={}){let s=null,a=null;"pkce"===r.flowType&&([s,a]=yield bl(r.storage,r.storageKey,!0));try{return yield Ue(r.fetch,"POST",`${r.url}/recover`,{body:{email:i,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:o.captchaToken}},headers:r.headers,redirectTo:o.redirectTo})}catch(c){if(De(c))return{data:null,error:c};throw c}}).apply(this,arguments)}getUserIdentities(){var t=this;return v(function*(){var r;try{const{data:i,error:o}=yield t.getUser();if(o)throw o;return{data:{identities:null!==(r=i.user.identities)&&void 0!==r?r:[]},error:null}}catch(i){if(De(i))return{data:null,error:i};throw i}})()}linkIdentity(t){var r=this;return v(function*(){var i;try{const{data:o,error:s}=yield r._useSession(function(){var a=v(function*(c){var u,l,h,f,g;const{data:b,error:I}=c;if(I)throw I;const E=yield r._getUrlForProvider(`${r.url}/user/identities/authorize`,t.provider,{redirectTo:null===(u=t.options)||void 0===u?void 0:u.redirectTo,scopes:null===(l=t.options)||void 0===l?void 0:l.scopes,queryParams:null===(h=t.options)||void 0===h?void 0:h.queryParams,skipBrowserRedirect:!0});return yield Ue(r.fetch,"GET",E,{headers:r.headers,jwt:null!==(g=null===(f=b.session)||void 0===f?void 0:f.access_token)&&void 0!==g?g:void 0})});return function(c){return a.apply(this,arguments)}}());if(s)throw s;return oi()&&!(null!==(i=t.options)&&void 0!==i&&i.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:t.provider,url:o?.url},error:null}}catch(o){if(De(o))return{data:{provider:t.provider,url:null},error:o};throw o}})()}unlinkIdentity(t){var r=this;return v(function*(){try{return yield r._useSession(function(){var i=v(function*(o){var s,a;const{data:c,error:u}=o;if(u)throw u;return yield Ue(r.fetch,"DELETE",`${r.url}/user/identities/${t.identity_id}`,{headers:r.headers,jwt:null!==(a=null===(s=c.session)||void 0===s?void 0:s.access_token)&&void 0!==a?a:void 0})});return function(o){return i.apply(this,arguments)}}())}catch(i){if(De(i))return{data:null,error:i};throw i}})()}_refreshAccessToken(t){var r=this;return v(function*(){const i=`#_refreshAccessToken(${t.substring(0,5)}...)`;r._debug(i,"begin");try{const o=Date.now();return yield function $ye(n,e){return new Promise((r,i)=>{v(function*(){for(let o=0;o<1/0;o++)try{const s=yield n(o);if(!e(o,null,s))return void r(s)}catch(s){if(!e(o,s))return void i(s)}})()})}(function(){var s=v(function*(a){return a>0&&(yield function jye(n){return CA.apply(this,arguments)}(200*Math.pow(2,a-1))),r._debug(i,"refreshing attempt",a),yield Ue(r.fetch,"POST",`${r.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:r.headers,xform:Yi})});return function(a){return s.apply(this,arguments)}}(),(s,a)=>{const c=200*Math.pow(2,s);return a&&yA(a)&&Date.now()+c-o<yl})}catch(o){if(r._debug(i,"error",o),De(o))return{data:{session:null,user:null},error:o};throw o}finally{r._debug(i,"end")}})()}_isValidSession(t){return"object"==typeof t&&null!==t&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,r){var i=this;return v(function*(){const o=yield i._getUrlForProvider(`${i.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return i._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",o),oi()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:t,url:o},error:null}})()}_recoverAndRefresh(){var t=this;return v(function*(){var r,i;const o="#_recoverAndRefresh()";t._debug(o,"begin");try{const s=yield Xa(t.storage,t.storageKey);if(s&&t.userStorage){let c=yield Xa(t.userStorage,t.storageKey+"-user");!t.storage.isServer&&Object.is(t.storage,t.userStorage)&&!c&&(c={user:s.user},yield vl(t.userStorage,t.storageKey+"-user",c)),s.user=null!==(r=c?.user)&&void 0!==r?r:TA()}else if(s&&!s.user&&!s.user){const c=yield Xa(t.storage,t.storageKey+"-user");c&&c?.user?(s.user=c.user,yield js(t.storage,t.storageKey+"-user"),yield vl(t.storage,t.storageKey,s)):s.user=TA()}if(t._debug(o,"session from storage",s),!t._isValidSession(s))return t._debug(o,"session is not valid"),void(null!==s&&(yield t._removeSession()));const a=1e3*(null!==(i=s.expires_at)&&void 0!==i?i:1/0)-Date.now()<9e4;if(t._debug(o,`session has${a?"":" not"} expired with margin of 90000s`),a){if(t.autoRefreshToken&&s.refresh_token){const{error:c}=yield t._callRefreshToken(s.refresh_token);c&&(console.error(c),yA(c)||(t._debug(o,"refresh failed with a non-retryable error, removing the session",c),yield t._removeSession()))}}else if(s.user&&!0===s.user.__isUserNotAvailableProxy)try{const{data:c,error:u}=yield t._getUser(s.access_token);!u&&c?.user?(s.user=c.user,yield t._saveSession(s),yield t._notifyAllSubscribers("SIGNED_IN",s)):t._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),t._debug(o,"error getting user data, skipping SIGNED_IN notification",c)}else yield t._notifyAllSubscribers("SIGNED_IN",s)}catch(s){return t._debug(o,"error",s),void console.error(s)}finally{t._debug(o,"end")}})()}_callRefreshToken(t){var r=this;return v(function*(){var i,o;if(!t)throw new Us;if(r.refreshingDeferred)return r.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;r._debug(s,"begin");try{r.refreshingDeferred=new ry;const{data:a,error:c}=yield r._refreshAccessToken(t);if(c)throw c;if(!a.session)throw new Us;yield r._saveSession(a.session),yield r._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={session:a.session,error:null};return r.refreshingDeferred.resolve(u),u}catch(a){if(r._debug(s,"error",a),De(a)){const c={session:null,error:a};return yA(a)||(yield r._removeSession()),null===(i=r.refreshingDeferred)||void 0===i||i.resolve(c),c}throw null===(o=r.refreshingDeferred)||void 0===o||o.reject(a),a}finally{r.refreshingDeferred=null,r._debug(s,"end")}})()}_notifyAllSubscribers(t,r){var i=this;return v(function*(o,s,a=!0){const c=`#_notifyAllSubscribers(${o})`;i._debug(c,"begin",s,`broadcast = ${a}`);try{i.broadcastChannel&&a&&i.broadcastChannel.postMessage({event:o,session:s});const u=[],l=Array.from(i.stateChangeEmitters.values()).map(function(){var h=v(function*(f){try{yield f.callback(o,s)}catch(g){u.push(g)}});return function(f){return h.apply(this,arguments)}}());if(yield Promise.all(l),u.length>0){for(let h=0;h<u.length;h+=1)console.error(u[h]);throw u[0]}}finally{i._debug(c,"end")}}).apply(this,arguments)}_saveSession(t){var r=this;return v(function*(){r._debug("#_saveSession()",t),r.suppressGetSessionWarning=!0;const i=Object.assign({},t);if(r.userStorage){(!i.user||!0!==i.user.__isUserNotAvailableProxy)&&i.user&&(yield vl(r.userStorage,r.storageKey+"-user",{user:i.user}));const s=Object.assign({},i);delete s.user;const a=qB(s);yield vl(r.storage,r.storageKey,a)}else{const s=qB(i);yield vl(r.storage,r.storageKey,s)}})()}_removeSession(){var t=this;return v(function*(){t._debug("#_removeSession()"),yield js(t.storage,t.storageKey),yield js(t.storage,t.storageKey+"-code-verifier"),yield js(t.storage,t.storageKey+"-user"),t.userStorage&&(yield js(t.userStorage,t.storageKey+"-user")),yield t._notifyAllSubscribers("SIGNED_OUT",null)})()}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&oi()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){var t=this;return v(function*(){yield t._stopAutoRefresh(),t._debug("#_startAutoRefresh()");const r=setInterval(()=>t._autoRefreshTokenTick(),yl);t.autoRefreshTicker=r,r&&"object"==typeof r&&"function"==typeof r.unref?r.unref():typeof Deno<"u"&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(r),setTimeout(v(function*(){yield t.initializePromise,yield t._autoRefreshTokenTick()}),0)})()}_stopAutoRefresh(){var t=this;return v(function*(){t._debug("#_stopAutoRefresh()");const r=t.autoRefreshTicker;t.autoRefreshTicker=null,r&&clearInterval(r)})()}startAutoRefresh(){var t=this;return v(function*(){t._removeVisibilityChangedCallback(),yield t._startAutoRefresh()})()}stopAutoRefresh(){var t=this;return v(function*(){t._removeVisibilityChangedCallback(),yield t._stopAutoRefresh()})()}_autoRefreshTokenTick(){var t=this;return v(function*(){t._debug("#_autoRefreshTokenTick()","begin");try{yield t._acquireLock(0,v(function*(){try{const r=Date.now();try{return yield t._useSession(function(){var i=v(function*(o){const{data:{session:s}}=o;if(!s||!s.refresh_token||!s.expires_at)return void t._debug("#_autoRefreshTokenTick()","no session");const a=Math.floor((1e3*s.expires_at-r)/yl);t._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),a<=3&&(yield t._callRefreshToken(s.refresh_token))});return function(o){return i.apply(this,arguments)}}())}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{t._debug("#_autoRefreshTokenTick()","end")}}))}catch(r){if(!(r.isAcquireTimeout||r instanceof QB))throw r;t._debug("auto refresh token tick lock not available")}})()}_handleVisibilityChange(){var t=this;return v(function*(){if(t._debug("#_handleVisibilityChange()"),!oi()||!window?.addEventListener)return t.autoRefreshToken&&t.startAutoRefresh(),!1;try{t.visibilityChangedCallback=v(function*(){return yield t._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",t.visibilityChangedCallback),yield t._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}})()}_onVisibilityChanged(t){var r=this;return v(function*(){const i=`#_onVisibilityChanged(${t})`;r._debug(i,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(r.autoRefreshToken&&r._startAutoRefresh(),t||(yield r.initializePromise,yield r._acquireLock(-1,v(function*(){"visible"===document.visibilityState?yield r._recoverAndRefresh():r._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&r.autoRefreshToken&&r._stopAutoRefresh()})()}_getUrlForProvider(t,r,i){var o=this;return v(function*(){const s=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),"pkce"===o.flowType){const[a,c]=yield bl(o.storage,o.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(c)}`});s.push(u.toString())}if(i?.queryParams){const a=new URLSearchParams(i.queryParams);s.push(a.toString())}return i?.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${s.join("&")}`})()}_unenroll(t){var r=this;return v(function*(){try{return yield r._useSession(function(){var i=v(function*(o){var s;const{data:a,error:c}=o;return c?{data:null,error:c}:yield Ue(r.fetch,"DELETE",`${r.url}/factors/${t.factorId}`,{headers:r.headers,jwt:null===(s=a?.session)||void 0===s?void 0:s.access_token})});return function(o){return i.apply(this,arguments)}}())}catch(i){if(De(i))return{data:null,error:i};throw i}})()}_enroll(t){var r=this;return v(function*(){try{return yield r._useSession(function(){var i=v(function*(o){var s,a;const{data:c,error:u}=o;if(u)return{data:null,error:u};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},"phone"===t.factorType?{phone:t.phone}:{issuer:t.issuer}),{data:h,error:f}=yield Ue(r.fetch,"POST",`${r.url}/factors`,{body:l,headers:r.headers,jwt:null===(s=c?.session)||void 0===s?void 0:s.access_token});return f?{data:null,error:f}:("totp"===t.factorType&&!(null===(a=h?.totp)||void 0===a)&&a.qr_code&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})});return function(o){return i.apply(this,arguments)}}())}catch(i){if(De(i))return{data:null,error:i};throw i}})()}_verify(t){var r=this;return v(function*(){return r._acquireLock(-1,v(function*(){try{return yield r._useSession(function(){var i=v(function*(o){var s;const{data:a,error:c}=o;if(c)return{data:null,error:c};const{data:u,error:l}=yield Ue(r.fetch,"POST",`${r.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:r.headers,jwt:null===(s=a?.session)||void 0===s?void 0:s.access_token});return l?{data:null,error:l}:(yield r._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),yield r._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:l})});return function(o){return i.apply(this,arguments)}}())}catch(i){if(De(i))return{data:null,error:i};throw i}}))})()}_challenge(t){var r=this;return v(function*(){return r._acquireLock(-1,v(function*(){try{return yield r._useSession(function(){var i=v(function*(o){var s;const{data:a,error:c}=o;return c?{data:null,error:c}:yield Ue(r.fetch,"POST",`${r.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:r.headers,jwt:null===(s=a?.session)||void 0===s?void 0:s.access_token})});return function(o){return i.apply(this,arguments)}}())}catch(i){if(De(i))return{data:null,error:i};throw i}}))})()}_challengeAndVerify(t){var r=this;return v(function*(){const{data:i,error:o}=yield r._challenge({factorId:t.factorId});return o?{data:null,error:o}:yield r._verify({factorId:t.factorId,challengeId:i.id,code:t.code})})()}_listFactors(){var t=this;return v(function*(){const{data:{user:r},error:i}=yield t.getUser();if(i)return{data:null,error:i};const o=r?.factors||[],s=o.filter(c=>"totp"===c.factor_type&&"verified"===c.status),a=o.filter(c=>"phone"===c.factor_type&&"verified"===c.status);return{data:{all:o,totp:s,phone:a},error:null}})()}_getAuthenticatorAssuranceLevel(){var t=this;return v(function*(){return t._acquireLock(-1,v(function*(){return yield t._useSession(function(){var r=v(function*(i){var o,s;const{data:{session:a},error:c}=i;if(c)return{data:null,error:c};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=bA(a.access_token);let l=null;u.aal&&(l=u.aal);let h=l;return(null!==(s=null===(o=a.user.factors)||void 0===o?void 0:o.filter(b=>"verified"===b.status))&&void 0!==s?s:[]).length>0&&(h="aal2"),{data:{currentLevel:l,nextLevel:h,currentAuthenticationMethods:u.amr||[]},error:null}});return function(i){return r.apply(this,arguments)}}())}))})()}fetchJwk(t){var r=this;return v(function*(i,o={keys:[]}){let s=o.keys.find(l=>l.kid===i);if(s)return s;const a=Date.now();if(s=r.jwks.keys.find(l=>l.kid===i),s&&r.jwks_cached_at+6e5>a)return s;const{data:c,error:u}=yield Ue(r.fetch,"GET",`${r.url}/.well-known/jwks.json`,{headers:r.headers});if(u)throw u;return c.keys&&0!==c.keys.length&&(r.jwks=c,r.jwks_cached_at=a,s=c.keys.find(l=>l.kid===i),s)?s:null}).apply(this,arguments)}getClaims(t){var r=this;return v(function*(i,o={}){try{let s=i;if(!s){const{data:E,error:S}=yield r.getSession();if(S||!E.session)return{data:null,error:S};s=E.session.access_token}const{header:a,payload:c,signature:u,raw:{header:l,payload:h}}=bA(s);o?.allowExpired||function Kye(n){if(!n)throw new Error("Missing exp claim");if(n<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(c.exp);const f=a.alg&&!a.alg.startsWith("HS")&&a.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?yield r.fetchJwk(a.kid,o?.keys?{keys:o.keys}:o?.jwks):null;if(!f){const{error:E}=yield r.getUser(s);if(E)throw E;return{data:{claims:c,header:a,signature:u},error:null}}const g=function Qye(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(a.alg),b=yield crypto.subtle.importKey("jwk",f,g,!0,["verify"]);if(!(yield crypto.subtle.verify(g,b,u,function Rye(n){const e=[];return function BB(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){const i=1024*(r-55296)&65535;r=65536+(n.charCodeAt(t+1)-56320&65535|i),t+=1}Oye(r,e)}}(n,t=>e.push(t)),new Uint8Array(e)}(`${l}.${h}`))))throw new vA("Invalid JWT signature");return{data:{claims:c,header:a,signature:u},error:null}}catch(s){if(De(s))return{data:null,error:s};throw s}}).apply(this,arguments)}}return n.nextInstanceID=0,n})();class _ve extends mve{constructor(e){super(e)}}class vve{constructor(e,t,r){var i,o,s;this.supabaseUrl=e,this.supabaseKey=t;const a=function bye(n){const e=n?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(function yye(n){return n.endsWith("/")?n:n+"/"}(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const c=`sb-${a.hostname.split(".")[0]}-auth-token`,l=function vye(n,e){var t,r;const{db:i,auth:o,realtime:s,global:a}=n,{db:c,auth:u,realtime:l,global:h}=e,f={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},l),s),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},null!==(t=h?.headers)&&void 0!==t?t:{}),null!==(r=a?.headers)&&void 0!==r?r:{})}),accessToken:()=>function(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(h){s(h)}}function c(l){try{u(r.throw(l))}catch(h){s(h)}}function u(l){l.done?o(l.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){return""})};return n.accessToken?f.accessToken=n.accessToken:delete f.accessToken,f}(r??{},{db:lye,realtime:hye,auth:Object.assign(Object.assign({},dye),{storageKey:c}),global:uye});this.storageKey=null!==(i=l.auth.storageKey)&&void 0!==i?i:"",this.headers=null!==(o=l.global.headers)&&void 0!==o?o:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(s=l.auth)&&void 0!==s?s:{},this.headers,l.global.fetch),this.fetch=mye(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.rest=new EB(new URL("rest/v1",a).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new aye(this.storageUrl.href,this.headers,this.fetch,r?.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new b_e(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return function(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(h){s(h)}}function c(l){try{u(r.throw(l))}catch(h){s(h)}}function u(l){l.done?o(l.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(l.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return null!==(t=null===(e=r.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,userStorage:o,storageKey:s,flowType:a,lock:c,debug:u},l,h){return new _ve({url:this.authUrl.href,headers:Object.assign(Object.assign({},{Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`}),l),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:i,userStorage:o,flowType:a,lock:c,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>"authorization"===g.toLowerCase())})}_initRealtimeClient(e){return new q_e(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(e,t,r){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===r?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=r,this.realtime.setAuth(r))}}(function Cve(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(null==n)return!1;const e=n.match(/^v(\d+)\./);return!!e&&parseInt(e[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");let wve=(()=>{class n{http;apiUrl=jr_apiUrl;supabase;channel=null;messagesSubject=new hn([]);messages$=this.messagesSubject.asObservable();typingUsersSubject=new hn([]);typingUsers$=this.typingUsersSubject.asObservable();statsSubject=new hn(null);stats$=this.statsSubject.asObservable();connectedSubject=new hn(!0);connected$=this.connectedSubject.asObservable();onlineUsersSubject=new hn(1);onlineUsers$=this.onlineUsersSubject.asObservable();currentUser="Usuario";userId=this.generateUserId();currentRoom="general";isTyping=!1;subscriptions=[];constructor(t){this.http=t,this.supabase=((n,e,t)=>new vve(n,e,t))("https://nkojabtbosvzbfcveyfm.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5rb2phYnRib3N2emJmY3ZleWZtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTczNjgwNzAsImV4cCI6MjA3Mjk0NDA3MH0.rJdadnVoVBw-vrt2XCm3619YzSIX3jSaxRftJQdAw00",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:localStorage},realtime:{params:{eventsPerSecond:10}}}),this.loadUserFromStorage(),this.loadInitialHistory().subscribe(()=>{this.setupRealtimeSubscription()}),this.subscriptions.push(this.setupPeriodicStats(),this.setupOnlineUsersCheck())}ngOnDestroy(){this.subscriptions.forEach(t=>t.unsubscribe()),this.setTyping(!1),this.channel&&this.supabase.removeChannel(this.channel)}setupRealtimeSubscription(){this.channel=this.supabase.channel("chat-messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages",filter:`room=eq.${this.currentRoom}`},t=>{this.handleNewMessage(t)}).on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages",filter:"message_type=eq.system"},t=>{this.handleSystemMessage(t)}).subscribe(t=>{console.log("Canal de Supabase:",t),this.connectedSubject.next("SUBSCRIBED"===t)})}handleNewMessage(t){const r={id:t.new.id,user:t.new.user_name,user_id:t.new.user_id,message:t.new.message,timestamp:t.new.created_at,room:t.new.room,type:t.new.message_type||"message"},i=this.messagesSubject.value;if(!i.find(o=>o.id===r.id)){const s=[...i,r].sort((a,c)=>new Date(a.timestamp).getTime()-new Date(c.timestamp).getTime()).slice(-200);this.messagesSubject.next(s)}}getAuthToken(){return localStorage.getItem("auth_token")}handleSystemMessage(t){this.handleNewMessage(t)}setupPeriodicStats(){return new q(()=>{const t=setInterval(()=>{this.loadStatsObservable().subscribe()},3e4);return()=>clearInterval(t)})}setupOnlineUsersCheck(){return new q(()=>{const t=setInterval(()=>{this.checkOnlineUsers().subscribe()},15e3);return()=>clearInterval(t)})}loadUserFromStorage(){const t=localStorage.getItem("chat_user_name");t&&(this.currentUser=t)}loadInitialHistory(){return this.http.get(`${this.apiUrl}/api/chat/messages?limit=100`).pipe(at({next:t=>{this.messagesSubject.next(t.messages||[]),this.connectedSubject.next(!0)},error:t=>{console.error("Error loading initial history:",t),this.connectedSubject.next(!1)}}),Tn(t=>(console.error("API call failed for initial history:",t),this.connectedSubject.next(!1),ye(null))))}checkOnlineUsers(){return this.http.get(`${this.apiUrl}/api/chat/online-users`).pipe(Tn(t=>ye({online_users:1})),at(t=>this.onlineUsersSubject.next(t.online_users)))}sendMessage(t){const r=this.getAuthToken(),i={"Content-Type":"application/json"};r&&(i.Authorization=`Bearer ${r}`);const o={message:t.trim(),user:this.currentUser,user_id:this.userId,room:this.currentRoom};return this.http.post(`${this.apiUrl}/api/chat/send`,o,{headers:i}).pipe(at(s=>{s.success&&s.message&&this.setTyping(!1)}),Tn(s=>{throw console.error("Error sending message:",s),this.connectedSubject.next(!1),s}))}setTyping(t){this.isTyping!==t&&(this.isTyping=t,this.http.post(`${this.apiUrl}/api/chat/typing`,{user:this.currentUser,room:this.currentRoom,is_typing:t}).pipe(Tn(()=>ye(null))).subscribe())}setUser(t){t&&t.trim()&&(this.currentUser=t.trim(),localStorage.setItem("chat_user_name",this.currentUser))}getUser(){return this.currentUser}loadStatsObservable(){return this.http.get(`${this.apiUrl}/api/chat/stats`).pipe(Tn(()=>ye(null)),at(t=>{t&&this.statsSubject.next(t)}))}loadStats(){this.loadStatsObservable().subscribe()}validateUsername(t){const r=this.getAuthToken(),i={"Content-Type":"application/json"};return r&&(i.Authorization=`Bearer ${r}`),this.http.post(`${this.apiUrl}/api/chat/validate-username`,{username:t},{headers:i}).pipe(Tn(o=>ye({valid:!1,error:"Error validando nombre"})))}generateUserId(){let t=localStorage.getItem("chat_user_id");return t||(t=`user_${Math.random().toString(36).substring(2,11)}`,localStorage.setItem("chat_user_id",t)),t}static \u0275fac=function(r){return new(r||n)(le(yi))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Ive=["messagesContainer"],Eve=["chatContainer"];function Tve(n,e){if(1&n&&(_(0,"span",14),T(1),y()),2&n){const t=U(2);C(1),he(t.unreadMessages)}}function Pve(n,e){1&n&&(_(0,"div",22),D(1,"i",23),T(2," Reconectando... "),y())}function Mve(n,e){if(1&n){const t=Oe();_(0,"div",24)(1,"div",25),D(2,"i",26),T(3),y(),_(4,"button",27),G("click",function(){return ee(t),te(U(3).showUserModal=!0)}),D(5,"i",28),y(),_(6,"button",29),G("click",function(){return ee(t),te(U(3).isChatOpen=!1)}),D(7,"i",30),y()()}if(2&n){const t=e.ngIf;C(3),ve(" ",t,"")}}function Ave(n,e){if(1&n&&(_(0,"div",15)(1,"div",16)(2,"h4"),D(3,"i",17),T(4," Chat Musical"),y(),_(5,"div",18),D(6,"span",19),T(7),y(),Y(8,Pve,3,0,"div",20),y(),Y(9,Mve,8,1,"div",21),is(10,"async"),y()),2&n){const t=e.ngIf,r=U(2);C(5),we("connected",t)("disconnected",!t),C(2),ve(" ",t?"Conectado":"Reconectando..."," "),C(1),j("ngIf",!t),C(1),j("ngIf",os(10,7,r.onlineUsers$))}}function Sve(n,e){if(1&n&&(_(0,"div",31)(1,"div",32)(2,"small"),T(3),y()(),_(4,"div",32)(5,"small"),T(6),y()()()),2&n){const t=e.ngIf;C(3),ve("Total: ",null==t?null:t.total_messages,""),C(3),ve("Hoy: ",null==t?null:t.messages_today,"")}}function xve(n,e){if(1&n&&(_(0,"div",36)(1,"strong",37),T(2),y(),_(3,"span",38),T(4),y()()),2&n){const t=U().$implicit,r=U(2);C(2),he(t.user),C(2),he(r.formatTime(t.timestamp))}}function Ove(n,e){if(1&n&&(_(0,"div",33),Y(1,xve,5,2,"div",34),_(2,"div",35),T(3),y()()),2&n){const t=e.$implicit,r=U().ngIf;we("system-message","system"===t.type)("own-message",t.user===r&&"message"===t.type),C(1),j("ngIf","message"===t.type),C(2),he(t.message)}}function Dve(n,e){if(1&n&&(_(0,"div")(1,"div",41),D(2,"span")(3,"span")(4,"span"),y(),_(5,"span",42),T(6),y()()),2&n){const t=U().ngIf;C(6),go("",t.join(", ")," ",1===t.length?"est\xe1 escribiendo...":"est\xe1n escribiendo...","")}}function kve(n,e){if(1&n&&(_(0,"div",39),Y(1,Dve,7,2,"div",40),y()),2&n){const t=e.ngIf;C(1),j("ngIf",t.length>0)}}function Rve(n,e){if(1&n){const t=Oe();_(0,"div",43)(1,"input",44,45),G("ngModelChange",function(i){return ee(t),te(U(2).newMessage=i)})("input",function(){return ee(t),te(U(2).onInputChange())})("keyup.enter",function(){return ee(t),te(U(2).sendMessage())}),y(),_(3,"button",46),G("click",function(){return ee(t),te(U(2).sendMessage())}),D(4,"i",47),y()()}if(2&n){const t=e.ngIf,r=U(2);C(1),Kp("placeholder",t?"Escribe un mensaje...":"Conectando..."),j("ngModel",r.newMessage)("disabled",!t),C(2),j("disabled",!r.newMessage.trim()||!t)}}function Nve(n,e){if(1&n&&(_(0,"div",56)(1,"small",57),T(2),y()()),2&n){const t=U(3);C(2),he(t.usernameError)}}function Fve(n,e){if(1&n){const t=Oe();_(0,"div",48),G("click",function(){return ee(t),te(U(2).showUserModal=!1)}),_(1,"div",49),G("click",function(i){return i.stopPropagation()}),_(2,"h4"),T(3,"Cambiar Nombre"),y(),_(4,"input",50,51),G("keyup",function(){ee(t);const i=po(5);return te(U(2).onUsernameInput(i.value))})("keyup.enter",function(){ee(t);const i=po(5);return te(U(2).updateUser(i.value))}),y(),Y(6,Nve,3,1,"div",52),_(7,"div",53)(8,"button",54),G("click",function(){return ee(t),te(U(2).showUserModal=!1)}),T(9,"Cancelar"),y(),_(10,"button",55),G("click",function(){ee(t);const i=po(5);return te(U(2).updateUser(i.value))}),T(11," Guardar "),y()()()()}if(2&n){const t=U().ngIf,r=U();C(4),j("value",t),C(2),j("ngIf",r.usernameError),C(4),j("disabled",r.usernameError)}}function Vve(n,e){if(1&n){const t=Oe();_(0,"div",1)(1,"button",2),G("click",function(){return ee(t),te(U().toggleChat())}),D(2,"i",3),Y(3,Tve,2,1,"span",4),y(),_(4,"div",5),Y(5,Ave,11,9,"div",6),is(6,"async"),Y(7,Sve,7,2,"div",7),is(8,"async"),_(9,"div",8,9),Y(11,Ove,4,6,"div",10),is(12,"async"),Y(13,kve,2,1,"div",11),is(14,"async"),y(),Y(15,Rve,5,4,"div",12),is(16,"async"),Y(17,Fve,12,3,"div",13),y()()}if(2&n){const t=U();C(1),we("has-unread",t.unreadMessages>0),C(2),j("ngIf",t.unreadMessages>0),C(1),we("open",t.isChatOpen),C(1),j("ngIf",os(6,12,t.connected$)),C(2),j("ngIf",os(8,14,t.stats$)),C(4),j("ngForOf",os(12,16,t.messages$))("ngForTrackBy",t.trackByMessage),C(2),j("ngIf",os(14,18,t.typingUsers$)),C(2),j("ngIf",os(16,20,t.connected$)),C(2),j("ngIf",t.showUserModal)}}let Lve=(()=>{class n{chatService;cdr;elementRef;messagesContainer;chatContainer;isChatOpen=!1;newMessage="";showUserModal=!1;unreadMessages=0;usernameError="";previousMessageCount=0;messages$;typingUsers$;onlineUsers$;connected$;stats$;currentUser$;subscriptions=new q;typingTimeout;constructor(t,r,i){this.chatService=t,this.cdr=r,this.elementRef=i,this.messages$=this.chatService.messages$,this.typingUsers$=this.chatService.typingUsers$,this.onlineUsers$=this.chatService.onlineUsers$,this.connected$=this.chatService.connected$,this.stats$=this.chatService.stats$,this.currentUser$=ye(this.chatService.getUser())}ngOnInit(){const t=this.messages$.subscribe(r=>{setTimeout(()=>{this.handleNewMessages(r),this.cdr.detectChanges(),this.autoScrollToBottom()})});this.subscriptions.add(t),setTimeout(()=>{this.chatService.loadInitialHistory().subscribe()},1e3)}onUsernameInput(t){const r=t.trim();r?this.chatService.validateUsername(r).subscribe({next:i=>{this.usernameError=i.valid?"":i.error||"",this.cdr.markForCheck()},error:()=>{this.usernameError="",this.cdr.markForCheck()}}):(this.usernameError="",this.cdr.markForCheck())}ngOnDestroy(){this.subscriptions.unsubscribe(),this.typingTimeout&&clearTimeout(this.typingTimeout)}handleNewMessages(t){if(!this.messagesContainer)return;const r=t.length,i=this.previousMessageCount;if(this.previousMessageCount=r,this.isChatOpen){const o=r-i;o>0&&i>0&&(this.unreadMessages+=o)}else{const o=r-i;o>0&&(this.unreadMessages+=o,this.showNewMessageNotification(this.unreadMessages))}}sendMessage(){this.connected$.pipe(Ko(1)).subscribe(t=>{if(this.newMessage.trim()&&t){const r=this.newMessage.trim();this.newMessage="",this.cdr.markForCheck(),this.chatService.sendMessage(r).subscribe({next:()=>{this.stopTyping(),this.scrollToBottom()},error:i=>{this.newMessage=r,this.cdr.markForCheck(),i.error&&i.error.error&&alert(i.error.error)}})}})}scrollToBottom(){this.messagesContainer&&setTimeout(()=>{try{this.messagesContainer.nativeElement.scrollTop=this.messagesContainer.nativeElement.scrollHeight}catch(t){console.error("Error en scroll:",t)}},50)}showNewMessageNotification(t){!document.hasFocus()&&"Notification"in window&&"granted"===Notification.permission&&new Notification(`Tienes ${t} nuevo${t>1?"s":""} mensaje${t>1?"s":""}`)}toggleChat(){this.isChatOpen=!this.isChatOpen,this.isChatOpen&&(this.unreadMessages=0,this.chatService.loadStats(),setTimeout(()=>{this.scrollToBottom(),this.chatService.loadInitialHistory().subscribe()},100))}setupRealtimeMessages(){const t=this.messages$.subscribe(r=>{const i=this.isNearBottom();this.handleNewMessages(r),this.cdr.markForCheck(),i&&this.autoScrollToBottom()});this.subscriptions.add(t)}isNearBottom(){if(!this.messagesContainer)return!0;const t=this.messagesContainer.nativeElement;return t.scrollHeight-(t.scrollTop+t.clientHeight)<=150}autoScrollToBottom(){this.messagesContainer&&setTimeout(()=>{const t=this.messagesContainer.nativeElement;t.scrollTop=t.scrollHeight},100)}onInputChange(){this.connected$.pipe(Ko(1)).subscribe(t=>{this.newMessage.trim()&&t?(this.chatService.setTyping(!0),this.typingTimeout&&clearTimeout(this.typingTimeout),this.typingTimeout=setTimeout(()=>this.stopTyping(),2500)):this.stopTyping()})}stopTyping(){this.typingTimeout&&(clearTimeout(this.typingTimeout),this.typingTimeout=null),this.chatService.setTyping(!1)}updateUser(t){const r=t.trim();r&&this.chatService.validateUsername(r).subscribe({next:i=>{i.valid?(this.chatService.setUser(r),this.currentUser$=ye(r),this.showUserModal=!1,this.usernameError="",this.cdr.markForCheck(),i.is_admin&&console.log("\u2705 Modo administrador activado para el chat")):(this.usernameError=i.error||"Nombre no v\xe1lido",this.cdr.markForCheck())},error:()=>{this.usernameError="Error validando el nombre de usuario",this.cdr.markForCheck()}})}formatTime(t){return new Date(t).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})}trackByMessage(t,r){return r.id}onDocumentClick(t){this.isChatOpen&&!this.elementRef.nativeElement.contains(t.target)&&(this.isChatOpen=!1,this.cdr.markForCheck())}static \u0275fac=function(r){return new(r||n)(W(wve),W(ru),W(vr))};static \u0275cmp=Jn({type:n,selectors:[["app-floating-chat"]],viewQuery:function(r,i){if(1&r&&(Zb(Ive,5),Zb(Eve,5)),2&r){let o;og(o=sg())&&(i.messagesContainer=o.first),og(o=sg())&&(i.chatContainer=o.first)}},hostBindings:function(r,i){1&r&&G("click",function(s){return i.onDocumentClick(s)},0,wD)},standalone:!0,features:[or],decls:2,vars:3,consts:[["class","floating-chat-container",4,"ngIf"],[1,"floating-chat-container"],[1,"floating-chat-button",3,"click"],[1,"fas","fa-comments"],["class","unread-badge",4,"ngIf"],[1,"chat-window"],["class","chat-header",4,"ngIf"],["class","chat-stats",4,"ngIf"],[1,"messages-container"],["messagesContainer",""],["class","message",3,"system-message","own-message",4,"ngFor","ngForOf","ngForTrackBy"],["class","typing-indicator",4,"ngIf"],["class","input-container",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"unread-badge"],[1,"chat-header"],[1,"header-left"],[1,"fas","fa-comments","me-2"],[1,"connection-status"],[1,"status-dot"],["class","reconnection-message",4,"ngIf"],["class","header-right",4,"ngIf"],[1,"reconnection-message"],[1,"fas","fa-sync-alt","fa-spin"],[1,"header-right"],[1,"online-users"],[1,"fas","fa-users","me-1"],["title","Cambiar usuario",1,"btn-user",3,"click"],[1,"fas","fa-user-edit"],["title","Cerrar chat",1,"btn-close",3,"click"],[1,"fas","fa-times"],[1,"chat-stats"],[1,"stat-item"],[1,"message"],["class","message-header",4,"ngIf"],[1,"message-content"],[1,"message-header"],[1,"username"],[1,"message-time"],[1,"typing-indicator"],[4,"ngIf"],[1,"typing-dots"],[1,"typing-text"],[1,"input-container"],["type","text",1,"message-input",3,"ngModel","disabled","placeholder","ngModelChange","input","keyup.enter"],["messageInput",""],[1,"send-button",3,"disabled","click"],[1,"fas","fa-paper-plane"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],["type","text","placeholder","Tu nombre de usuario","maxlength","20",1,"user-input",3,"value","keyup","keyup.enter"],["userInput",""],["class","validation-message",4,"ngIf"],[1,"modal-actions"],[1,"btn-cancel",3,"click"],[1,"btn-save",3,"disabled","click"],[1,"validation-message"],[1,"text-danger"]],template:function(r,i){1&r&&(Y(0,Vve,18,22,"div",0),is(1,"async")),2&r&&j("ngIf",os(1,1,i.currentUser$))},dependencies:[Xr,ki,Vr,V2,Ka,Wi,Fs,Bo],styles:[".floating-chat-container[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;z-index:1000}.floating-chat-button[_ngcontent-%COMP%]{position:relative;width:70px;height:70px;border-radius:50%;background:linear-gradient(135deg,var(--primary-color),#1db954);color:#fff;border:none;cursor:pointer;box-shadow:0 6px 25px #1db95480;display:flex;align-items:center;justify-content:center;font-size:1.8rem;transition:all .3s ease}.floating-chat-button[_ngcontent-%COMP%]:hover{transform:scale(1.15);box-shadow:0 8px 30px #1db954b3}.floating-chat-button.has-unread[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s infinite}.floating-chat-button[_ngcontent-%COMP%]   .unread-badge[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;background:#e74c3c;color:#fff;border-radius:50%;width:24px;height:24px;font-size:.8rem;display:flex;align-items:center;justify-content:center;font-weight:700;border:2px solid var(--card-bg)}.chat-window[_ngcontent-%COMP%]{position:absolute;bottom:85px;right:0;width:450px;height:650px;background:var(--card-bg);border:1px solid var(--hover-bg);border-radius:16px;box-shadow:0 15px 50px #0006;display:flex;flex-direction:column;opacity:0;transform:translateY(20px) scale(.95);pointer-events:none;transition:all .3s cubic-bezier(.4,0,.2,1)}.chat-window.open[_ngcontent-%COMP%]{opacity:1;transform:translateY(0) scale(1);pointer-events:all}.chat-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.25rem;background:linear-gradient(135deg,var(--hover-bg),var(--card-bg));border-bottom:1px solid var(--border-color);border-radius:16px 16px 0 0}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;color:var(--text-primary);font-size:1.1rem;font-weight:600}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .connection-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.75rem;padding:.3rem .6rem;border-radius:20px;background:var(--bg-color);font-weight:500}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .connection-status.connected[_ngcontent-%COMP%]{color:#10b981;background:rgba(16,185,129,.1)}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .connection-status.connected[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{background:#10b981;box-shadow:0 0 8px #10b98180}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .connection-status.disconnected[_ngcontent-%COMP%]{color:#ef4444;background:rgba(239,68,68,.1)}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .connection-status.disconnected[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{background:#ef4444}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .connection-status[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%;animation:_ngcontent-%COMP%_pulse 2s infinite}.chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .online-users[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem;padding:.4rem .8rem;background:var(--bg-color);border-radius:20px;font-size:.8rem;color:var(--text-secondary);font-weight:500}.chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn-user[_ngcontent-%COMP%], .chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--text-secondary);padding:.5rem;border-radius:8px;cursor:pointer;transition:all .2s ease}.chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn-user[_ngcontent-%COMP%]:hover, .chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{background:var(--hover-bg);color:var(--text-primary);transform:scale(1.1)}.chat-stats[_ngcontent-%COMP%]{display:flex;gap:1.5rem;padding:.75rem 1.25rem;background:var(--bg-color);border-bottom:1px solid var(--border-color)}.chat-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.75rem;font-weight:500}.messages-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:1.25rem;display:flex;flex-direction:column;gap:.75rem;background:var(--bg-color)}.message[_ngcontent-%COMP%]{max-width:90%;padding:.75rem 1rem;border-radius:16px;background:var(--hover-bg);animation:_ngcontent-%COMP%_messageSlide .25s ease-out;border:1px solid transparent;transition:all .2s ease}.message[_ngcontent-%COMP%]:hover{border-color:var(--border-color);transform:translateY(-1px)}.message.own-message[_ngcontent-%COMP%]{align-self:flex-end;background:linear-gradient(135deg,var(--primary-color),#1a8cff);color:#fff;box-shadow:0 4px 15px #1db9544d}.message.own-message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{color:#fffffff2}.message.own-message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%]{color:#fffc}.message.system-message[_ngcontent-%COMP%]{align-self:center;background:transparent;text-align:center;color:var(--text-secondary);font-style:italic;max-width:100%;border:1px dashed var(--border-color)}.message.system-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{font-size:.85rem;font-weight:500}.message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.3rem}.message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600;color:var(--text-primary)}.message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%]{font-size:.7rem;opacity:.8;color:var(--text-secondary)}.message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{word-wrap:break-word;line-height:1.4;font-size:.9rem}.typing-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem 1rem;color:var(--text-secondary);font-size:.85rem;font-style:italic;background:var(--hover-bg);border-radius:12px;margin-top:.5rem}.typing-indicator[_ngcontent-%COMP%]   .typing-dots[_ngcontent-%COMP%]{display:flex;gap:3px}.typing-indicator[_ngcontent-%COMP%]   .typing-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:6px;height:6px;border-radius:50%;background:var(--primary-color);animation:_ngcontent-%COMP%_typingBounce 1.4s infinite ease-in-out}.typing-indicator[_ngcontent-%COMP%]   .typing-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){animation-delay:-.32s}.typing-indicator[_ngcontent-%COMP%]   .typing-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.16s}.input-container[_ngcontent-%COMP%]{display:flex;padding:1rem;border-top:1px solid var(--border-color);background:var(--card-bg);gap:.75rem;align-items:center}.input-container[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]{flex:1;padding:.75rem 1rem;border:2px solid var(--border-color);border-radius:25px;background:var(--bg-color);color:var(--text-primary);font-size:.9rem;transition:all .3s ease}.input-container[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #1db9541a}.input-container[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.input-container[_ngcontent-%COMP%]   .send-button[_ngcontent-%COMP%]{padding:.75rem;background:linear-gradient(135deg,var(--primary-color),#1db954);color:#fff;border:none;border-radius:50%;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center}.input-container[_ngcontent-%COMP%]   .send-button[_ngcontent-%COMP%]:hover:not(:disabled){transform:scale(1.1) rotate(5deg);box-shadow:0 6px 20px #1db95466}.input-container[_ngcontent-%COMP%]   .send-button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none}.modal-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:rgba(0,0,0,.8);display:flex;align-items:center;justify-content:center;z-index:10;border-radius:16px;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.modal-content[_ngcontent-%COMP%]{background:var(--card-bg);padding:2rem;border-radius:16px;width:90%;max-width:400px;border:1px solid var(--border-color);box-shadow:0 20px 60px #0000004d}.modal-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 1.5rem;color:var(--text-primary);font-size:1.2rem;font-weight:600;text-align:center}.modal-content[_ngcontent-%COMP%]   .user-input[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:2px solid var(--border-color);border-radius:12px;background:var(--bg-color);color:var(--text-primary);margin-bottom:1.5rem;font-size:1rem;transition:all .3s ease}.modal-content[_ngcontent-%COMP%]   .user-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #1db9541a}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;justify-content:flex-end}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]{padding:.6rem 1.25rem;border:none;border-radius:8px;cursor:pointer;font-size:.9rem;font-weight:500;transition:all .3s ease}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background:transparent;color:var(--text-secondary);border:2px solid var(--border-color)}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover{background:var(--hover-bg);border-color:var(--text-secondary)}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color),#1db954);color:#fff}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #1db9544d}@keyframes _ngcontent-%COMP%_messageSlide{0%{opacity:0;transform:translateY(8px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}@keyframes _ngcontent-%COMP%_typingBounce{0%,80%,to{transform:scale(.8);opacity:.5}40%{transform:scale(1.2);opacity:1}}@keyframes _ngcontent-%COMP%_pulse{0%,to{box-shadow:0 6px 25px #1db95480}50%{box-shadow:0 6px 30px #1db954cc}}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:3px}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--text-secondary)}.messages-container[_ngcontent-%COMP%]{scroll-behavior:smooth;overflow-anchor:auto}@media (max-width: 768px){.floating-chat-container[_ngcontent-%COMP%]{bottom:15px;right:15px}.floating-chat-button[_ngcontent-%COMP%]{width:60px;height:60px;font-size:1.5rem}.chat-window[_ngcontent-%COMP%]{width:380px;height:550px;bottom:75px}}@media (max-width: 480px){.floating-chat-container[_ngcontent-%COMP%]{bottom:10px;right:10px}.chat-window[_ngcontent-%COMP%]{width:calc(100vw - 30px);height:70vh;right:-5px;bottom:65px}.floating-chat-button[_ngcontent-%COMP%]{width:55px;height:55px;font-size:1.3rem}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideInUp{0%{transform:translateY(30px);opacity:0}to{transform:translateY(0);opacity:1}}.chat-window[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.connection-status[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s infinite}.message[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--primary-color);outline-offset:2px}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.reconnection-message[_ngcontent-%COMP%]{text-align:center;padding:1rem;color:var(--text-secondary);font-size:.9rem}.reconnection-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem}.reconnect-info[_ngcontent-%COMP%]{font-size:.7rem;opacity:.8}.reconnect-info[_ngcontent-%COMP%]{font-size:.7rem;opacity:.8;margin-left:.3rem}.reconnection-message[_ngcontent-%COMP%]{text-align:center;padding:.5rem;color:var(--text-secondary);font-size:.8rem;background:rgba(239,68,68,.1);border-radius:8px;margin-top:.5rem}.reconnection-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.connection-status.disconnected[_ngcontent-%COMP%]{background:rgba(239,68,68,.15)!important;border:1px solid rgba(239,68,68,.3)}.connection-status.connected[_ngcontent-%COMP%]{background:rgba(16,185,129,.15)!important;border:1px solid rgba(16,185,129,.3)}.validation-message[_ngcontent-%COMP%]{margin:-.5rem 0 1rem;text-align:center}.validation-message[_ngcontent-%COMP%]   .text-danger[_ngcontent-%COMP%]{color:#e74c3c;font-size:.8rem;font-weight:500}.modal-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none!important}.modal-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]:disabled:hover{box-shadow:none!important;transform:none!important}"],changeDetection:0})}return n})();const Uve=function(){return{exact:!0}};(function PZ(n,e){return uY({rootComponent:n,...yF(e)})})((()=>{class n{title="UPTC Music";static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Jn({type:n,selectors:[["app-root"]],standalone:!0,features:[or],decls:40,vars:3,consts:[[1,"main-container"],[1,"main-header"],[1,"container","d-flex","justify-content-between","align-items-center"],[1,"logo-container"],[1,"logo-icon"],[1,"fab","fa-spotify"],[1,"app-title"],[1,"main-nav"],["routerLink","/","routerLinkActive","active",3,"routerLinkActiveOptions"],[1,"fas","fa-home","me-1"],["routerLink","/discussion","routerLinkActive","active"],[1,"fas","fa-comments","me-1"],["routerLink","/ranking","routerLinkActive","active"],[1,"fas","fa-trophy","me-1"],["routerLink","/admin-login","routerLinkActive","active"],[1,"fas","fa-lock","me-1"],[1,"content-area"],[1,"container"],[1,"now-playing-bar"],[1,"footer-content","text-center"],[1,"footer-text","mb-0"],[1,"footer-text","mb-1"],[1,"social-links"],["href","https://github.com/SebastianVega4","target","_blank"],[1,"fab","fa-github","me-1"],["href","https://www.linkedin.com/in/johan-sebastian-vega-ruiz-b1292011b/","target","_blank"],[1,"fab","fa-linkedin","me-1"],["href","https://www.instagram.com/sebastian.vegar/","target","_blank"],[1,"fab","fa-instagram","me-1"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3)(4,"div",4),D(5,"i",5),y(),_(6,"h1",6),T(7),y()(),_(8,"nav",7)(9,"a",8),D(10,"i",9),T(11,"Inicio "),y(),_(12,"a",10),D(13,"i",11),T(14,"Foro "),y(),_(15,"a",12),D(16,"i",13),T(17,"Ranking "),y(),_(18,"a",14),D(19,"i",15),y()()()(),_(20,"main",16)(21,"div",17),D(22,"router-outlet"),y()(),D(23,"app-floating-chat"),y(),_(24,"footer",18)(25,"div",19)(26,"p",20),T(27,"Desarrollado por:"),y(),_(28,"p",21),T(29,"Estudiante de Ingenier\xeda de Sistemas - UPTC Sogamoso 2025-II"),y(),_(30,"div",22)(31,"a",23),D(32,"i",24),T(33,"GitHub "),y(),_(34,"a",25),D(35,"i",26),T(36,"LinkedIn "),y(),_(37,"a",27),D(38,"i",28),T(39,"Instagram "),y()()()()),2&r&&(C(7),he(i.title),C(2),j("routerLinkActiveOptions",oa(2,Uve)))},dependencies:[Jd,g0,fa,wV,Lve],styles:[".main-header[_ngcontent-%COMP%]{padding:1rem 1.5rem;background:var(--glass-bg);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border-bottom:1px solid rgba(255,255,255,.1);top:0;z-index:1000;box-shadow:0 4px 30px #0000004d}.logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.8rem}.logo-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,var(--primary-color) 0%,var(--accent-purple) 100%);display:flex;align-items:center;justify-content:center;box-shadow:0 0 15px #1db95466}.logo-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--text-primary)}.app-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;color:var(--text-primary);margin:0;letter-spacing:-.5px;background:linear-gradient(135deg,var(--text-primary) 0%,var(--primary-color) 100%);-webkit-text-fill-color:transparent;-webkit-background-clip:text;background-clip:text}.main-nav[_ngcontent-%COMP%]{display:flex;gap:1.5rem}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--text-secondary);text-decoration:none;font-weight:600;padding:.5rem 1rem;border-radius:50px;transition:all .3s ease;display:flex;align-items:center}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--text-primary);background:rgba(255,255,255,.05);transform:translateY(-2px)}.main-nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:var(--text-primary);background:rgba(29,185,84,.15);box-shadow:0 0 15px #1db95433}.main-nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color)}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem;transition:color .3s ease}.now-playing-bar[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border-top:1px solid rgba(255,255,255,.1);padding:1rem;color:var(--text-primary);display:flex;align-items:center;justify-content:center;position:relative;z-index:5}.footer-content[_ngcontent-%COMP%]{width:100%;text-align:center}.footer-text[_ngcontent-%COMP%]{font-size:.8rem;margin:.3rem 0;color:var(--text-secondary)}.social-links[_ngcontent-%COMP%]{margin-top:.5rem}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--text-secondary);text-decoration:none;margin:0 .8rem;font-size:.9rem;transition:all .3s ease;display:inline-flex;align-items:center}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--primary-color);transform:translateY(-2px)}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.3rem;font-size:1rem}@media (max-width: 768px){.main-header[_ngcontent-%COMP%]{padding:.8rem 1rem}.app-title[_ngcontent-%COMP%]{font-size:1.2rem}.main-nav[_ngcontent-%COMP%]{gap:.8rem}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.4rem .8rem;font-size:.9rem}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:0 .5rem;font-size:.8rem}}"]})}return n})(),__e).catch(n=>console.error(n))},286:(kn,Fe,Ve)=>{"use strict";Ve.r(Fe),Ve.d(Fe,{Headers:()=>q,Request:()=>K,Response:()=>ce,default:()=>Le,fetch:()=>Lt});var je=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}();const Lt=je.fetch,Le=je.fetch.bind(je),q=je.Headers,K=je.Request,ce=je.Response},958:function(kn,Fe,Ve){"use strict";var be=Ve(293).default,je=this&&this.__importDefault||function(K){return K&&K.__esModule?K:{default:K}};Object.defineProperty(Fe,"__esModule",{value:!0});const Lt=je(Ve(286)),Le=je(Ve(659));Fe.default=class q{constructor(ce){var ge,Ce;this.shouldThrowOnError=!1,this.method=ce.method,this.url=ce.url,this.headers=new Headers(ce.headers),this.schema=ce.schema,this.body=ce.body,this.shouldThrowOnError=null!==(ge=ce.shouldThrowOnError)&&void 0!==ge&&ge,this.signal=ce.signal,this.isMaybeSingle=null!==(Ce=ce.isMaybeSingle)&&void 0!==Ce&&Ce,this.fetch=ce.fetch?ce.fetch:typeof fetch>"u"?Lt.default:fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(ce,ge){return this.headers=new Headers(this.headers),this.headers.set(ce,ge),this}then(ce,ge){var Ce=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let dt=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(function(){var et=be(function*(Pt){var Rn,Br,Hr,rn;let dn=null,Qn=null,Gs=null,Ws=Pt.status,Ji=Pt.statusText;if(Pt.ok){if("HEAD"!==Ce.method){const ic=yield Pt.text();""===ic||(Qn="text/csv"===Ce.headers.get("Accept")||Ce.headers.get("Accept")&&null!==(Rn=Ce.headers.get("Accept"))&&void 0!==Rn&&Rn.includes("application/vnd.pgrst.plan+text")?ic:JSON.parse(ic))}const si=null===(Br=Ce.headers.get("Prefer"))||void 0===Br?void 0:Br.match(/count=(exact|planned|estimated)/),Xi=null===(Hr=Pt.headers.get("content-range"))||void 0===Hr?void 0:Hr.split("/");si&&Xi&&Xi.length>1&&(Gs=parseInt(Xi[1])),Ce.isMaybeSingle&&"GET"===Ce.method&&Array.isArray(Qn)&&(Qn.length>1?(dn={code:"PGRST116",details:`Results contain ${Qn.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},Qn=null,Gs=null,Ws=406,Ji="Not Acceptable"):Qn=1===Qn.length?Qn[0]:null)}else{const si=yield Pt.text();try{dn=JSON.parse(si),Array.isArray(dn)&&404===Pt.status&&(Qn=[],dn=null,Ws=200,Ji="OK")}catch{404===Pt.status&&""===si?(Ws=204,Ji="No Content"):dn={message:si}}if(dn&&Ce.isMaybeSingle&&!(null===(rn=dn?.details)||void 0===rn)&&rn.includes("0 rows")&&(dn=null,Ws=200,Ji="OK"),dn&&Ce.shouldThrowOnError)throw new Le.default(dn)}return{error:dn,data:Qn,count:Gs,status:Ws,statusText:Ji}});return function(Pt){return et.apply(this,arguments)}}());return this.shouldThrowOnError||(dt=dt.catch(et=>{var Pt,Rn,Br;return{error:{message:`${null!==(Pt=et?.name)&&void 0!==Pt?Pt:"FetchError"}: ${et?.message}`,details:`${null!==(Rn=et?.stack)&&void 0!==Rn?Rn:""}`,hint:"",code:`${null!==(Br=et?.code)&&void 0!==Br?Br:""}`},data:null,count:null,status:0,statusText:""}})),dt.then(ce,ge)}returns(){return this}overrideTypes(){return this}}},242:function(kn,Fe,Ve){"use strict";var be=this&&this.__importDefault||function(q){return q&&q.__esModule?q:{default:q}};Object.defineProperty(Fe,"__esModule",{value:!0});const je=be(Ve(666)),Lt=be(Ve(608));class Le{constructor(K,{headers:ce={},schema:ge,fetch:Ce}={}){this.url=K,this.headers=new Headers(ce),this.schemaName=ge,this.fetch=Ce}from(K){const ce=new URL(`${this.url}/${K}`);return new je.default(ce,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(K){return new Le(this.url,{headers:this.headers,schema:K,fetch:this.fetch})}rpc(K,ce={},{head:ge=!1,get:Ce=!1,count:rt}={}){var dt;let et;const Pt=new URL(`${this.url}/rpc/${K}`);let Rn;ge||Ce?(et=ge?"HEAD":"GET",Object.entries(ce).filter(([Hr,rn])=>void 0!==rn).map(([Hr,rn])=>[Hr,Array.isArray(rn)?`{${rn.join(",")}}`:`${rn}`]).forEach(([Hr,rn])=>{Pt.searchParams.append(Hr,rn)})):(et="POST",Rn=ce);const Br=new Headers(this.headers);return rt&&Br.set("Prefer",`count=${rt}`),new Lt.default({method:et,url:Pt,headers:Br,schema:this.schemaName,body:Rn,fetch:null!==(dt=this.fetch)&&void 0!==dt?dt:fetch})}}Fe.default=Le},659:(kn,Fe)=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});class Ve extends Error{constructor(je){super(je.message),this.name="PostgrestError",this.details=je.details,this.hint=je.hint,this.code=je.code}}Fe.default=Ve},608:function(kn,Fe,Ve){"use strict";var be=this&&this.__importDefault||function(Le){return Le&&Le.__esModule?Le:{default:Le}};Object.defineProperty(Fe,"__esModule",{value:!0});const je=be(Ve(342));Fe.default=class Lt extends je.default{eq(q,K){return this.url.searchParams.append(q,`eq.${K}`),this}neq(q,K){return this.url.searchParams.append(q,`neq.${K}`),this}gt(q,K){return this.url.searchParams.append(q,`gt.${K}`),this}gte(q,K){return this.url.searchParams.append(q,`gte.${K}`),this}lt(q,K){return this.url.searchParams.append(q,`lt.${K}`),this}lte(q,K){return this.url.searchParams.append(q,`lte.${K}`),this}like(q,K){return this.url.searchParams.append(q,`like.${K}`),this}likeAllOf(q,K){return this.url.searchParams.append(q,`like(all).{${K.join(",")}}`),this}likeAnyOf(q,K){return this.url.searchParams.append(q,`like(any).{${K.join(",")}}`),this}ilike(q,K){return this.url.searchParams.append(q,`ilike.${K}`),this}ilikeAllOf(q,K){return this.url.searchParams.append(q,`ilike(all).{${K.join(",")}}`),this}ilikeAnyOf(q,K){return this.url.searchParams.append(q,`ilike(any).{${K.join(",")}}`),this}is(q,K){return this.url.searchParams.append(q,`is.${K}`),this}in(q,K){const ce=Array.from(new Set(K)).map(ge=>"string"==typeof ge&&new RegExp("[,()]").test(ge)?`"${ge}"`:`${ge}`).join(",");return this.url.searchParams.append(q,`in.(${ce})`),this}contains(q,K){return"string"==typeof K?this.url.searchParams.append(q,`cs.${K}`):Array.isArray(K)?this.url.searchParams.append(q,`cs.{${K.join(",")}}`):this.url.searchParams.append(q,`cs.${JSON.stringify(K)}`),this}containedBy(q,K){return"string"==typeof K?this.url.searchParams.append(q,`cd.${K}`):Array.isArray(K)?this.url.searchParams.append(q,`cd.{${K.join(",")}}`):this.url.searchParams.append(q,`cd.${JSON.stringify(K)}`),this}rangeGt(q,K){return this.url.searchParams.append(q,`sr.${K}`),this}rangeGte(q,K){return this.url.searchParams.append(q,`nxl.${K}`),this}rangeLt(q,K){return this.url.searchParams.append(q,`sl.${K}`),this}rangeLte(q,K){return this.url.searchParams.append(q,`nxr.${K}`),this}rangeAdjacent(q,K){return this.url.searchParams.append(q,`adj.${K}`),this}overlaps(q,K){return this.url.searchParams.append(q,"string"==typeof K?`ov.${K}`:`ov.{${K.join(",")}}`),this}textSearch(q,K,{config:ce,type:ge}={}){let Ce="";return"plain"===ge?Ce="pl":"phrase"===ge?Ce="ph":"websearch"===ge&&(Ce="w"),this.url.searchParams.append(q,`${Ce}fts${void 0===ce?"":`(${ce})`}.${K}`),this}match(q){return Object.entries(q).forEach(([K,ce])=>{this.url.searchParams.append(K,`eq.${ce}`)}),this}not(q,K,ce){return this.url.searchParams.append(q,`not.${K}.${ce}`),this}or(q,{foreignTable:K,referencedTable:ce=K}={}){return this.url.searchParams.append(ce?`${ce}.or`:"or",`(${q})`),this}filter(q,K,ce){return this.url.searchParams.append(q,`${K}.${ce}`),this}}},666:function(kn,Fe,Ve){"use strict";var be=this&&this.__importDefault||function(Le){return Le&&Le.__esModule?Le:{default:Le}};Object.defineProperty(Fe,"__esModule",{value:!0});const je=be(Ve(608));Fe.default=class Lt{constructor(q,{headers:K={},schema:ce,fetch:ge}){this.url=q,this.headers=new Headers(K),this.schema=ce,this.fetch=ge}select(q,{head:K=!1,count:ce}={}){const ge=K?"HEAD":"GET";let Ce=!1;const rt=(q??"*").split("").map(dt=>/\s/.test(dt)&&!Ce?"":('"'===dt&&(Ce=!Ce),dt)).join("");return this.url.searchParams.set("select",rt),ce&&this.headers.append("Prefer",`count=${ce}`),new je.default({method:ge,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(q,{count:K,defaultToNull:ce=!0}={}){var ge;if(K&&this.headers.append("Prefer",`count=${K}`),ce||this.headers.append("Prefer","missing=default"),Array.isArray(q)){const rt=q.reduce((dt,et)=>dt.concat(Object.keys(et)),[]);if(rt.length>0){const dt=[...new Set(rt)].map(et=>`"${et}"`);this.url.searchParams.set("columns",dt.join(","))}}return new je.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:q,fetch:null!==(ge=this.fetch)&&void 0!==ge?ge:fetch})}upsert(q,{onConflict:K,ignoreDuplicates:ce=!1,count:ge,defaultToNull:Ce=!0}={}){var rt;if(this.headers.append("Prefer",`resolution=${ce?"ignore":"merge"}-duplicates`),void 0!==K&&this.url.searchParams.set("on_conflict",K),ge&&this.headers.append("Prefer",`count=${ge}`),Ce||this.headers.append("Prefer","missing=default"),Array.isArray(q)){const et=q.reduce((Pt,Rn)=>Pt.concat(Object.keys(Rn)),[]);if(et.length>0){const Pt=[...new Set(et)].map(Rn=>`"${Rn}"`);this.url.searchParams.set("columns",Pt.join(","))}}return new je.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:q,fetch:null!==(rt=this.fetch)&&void 0!==rt?rt:fetch})}update(q,{count:K}={}){var ce;return K&&this.headers.append("Prefer",`count=${K}`),new je.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:q,fetch:null!==(ce=this.fetch)&&void 0!==ce?ce:fetch})}delete({count:q}={}){var K;return q&&this.headers.append("Prefer",`count=${q}`),new je.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(K=this.fetch)&&void 0!==K?K:fetch})}}},342:function(kn,Fe,Ve){"use strict";var be=this&&this.__importDefault||function(Le){return Le&&Le.__esModule?Le:{default:Le}};Object.defineProperty(Fe,"__esModule",{value:!0});const je=be(Ve(958));Fe.default=class Lt extends je.default{select(q){let K=!1;const ce=(q??"*").split("").map(ge=>/\s/.test(ge)&&!K?"":('"'===ge&&(K=!K),ge)).join("");return this.url.searchParams.set("select",ce),this.headers.append("Prefer","return=representation"),this}order(q,{ascending:K=!0,nullsFirst:ce,foreignTable:ge,referencedTable:Ce=ge}={}){const rt=Ce?`${Ce}.order`:"order",dt=this.url.searchParams.get(rt);return this.url.searchParams.set(rt,`${dt?`${dt},`:""}${q}.${K?"asc":"desc"}${void 0===ce?"":ce?".nullsfirst":".nullslast"}`),this}limit(q,{foreignTable:K,referencedTable:ce=K}={}){return this.url.searchParams.set(typeof ce>"u"?"limit":`${ce}.limit`,`${q}`),this}range(q,K,{foreignTable:ce,referencedTable:ge=ce}={}){const rt=typeof ge>"u"?"limit":`${ge}.limit`;return this.url.searchParams.set(typeof ge>"u"?"offset":`${ge}.offset`,`${q}`),this.url.searchParams.set(rt,""+(K-q+1)),this}abortSignal(q){return this.signal=q,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.headers.set("Accept","GET"===this.method?"application/json":"application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:q=!1,verbose:K=!1,settings:ce=!1,buffers:ge=!1,wal:Ce=!1,format:rt="text"}={}){var dt;const et=[q?"analyze":null,K?"verbose":null,ce?"settings":null,ge?"buffers":null,Ce?"wal":null].filter(Boolean).join("|"),Pt=null!==(dt=this.headers.get("Accept"))&&void 0!==dt?dt:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${rt}; for="${Pt}"; options=${et};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(q){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${q}`),this}}},60:function(kn,Fe,Ve){"use strict";var be=this&&this.__importDefault||function(ge){return ge&&ge.__esModule?ge:{default:ge}};Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.PostgrestError=Fe.PostgrestBuilder=Fe.PostgrestTransformBuilder=Fe.PostgrestFilterBuilder=Fe.PostgrestQueryBuilder=Fe.PostgrestClient=void 0;const je=be(Ve(242));Fe.PostgrestClient=je.default;const Lt=be(Ve(666));Fe.PostgrestQueryBuilder=Lt.default;const Le=be(Ve(608));Fe.PostgrestFilterBuilder=Le.default;const q=be(Ve(342));Fe.PostgrestTransformBuilder=q.default;const K=be(Ve(958));Fe.PostgrestBuilder=K.default;const ce=be(Ve(659));Fe.PostgrestError=ce.default,Fe.default={PostgrestClient:je.default,PostgrestQueryBuilder:Lt.default,PostgrestFilterBuilder:Le.default,PostgrestTransformBuilder:q.default,PostgrestBuilder:K.default,PostgrestError:ce.default}},293:kn=>{function Fe(be,je,Lt,Le,q,K,ce){try{var ge=be[K](ce),Ce=ge.value}catch(rt){return void Lt(rt)}ge.done?je(Ce):Promise.resolve(Ce).then(Le,q)}kn.exports=function Ve(be){return function(){var je=this,Lt=arguments;return new Promise(function(Le,q){var K=be.apply(je,Lt);function ce(Ce){Fe(K,Le,q,ce,ge,"next",Ce)}function ge(Ce){Fe(K,Le,q,ce,ge,"throw",Ce)}ce(void 0)})}},kn.exports.__esModule=!0,kn.exports.default=kn.exports}},kn=>{kn(kn.s=287)}]);