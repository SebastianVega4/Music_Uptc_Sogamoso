"use strict";(self.webpackChunkuptc_music=self.webpackChunkuptc_music||[]).push([[76],{8440:(d,u,a)=>{a.d(u,{m:()=>s});var n=a(1626),h=a(5321),l=a(5312),p=a(6354),c=a(6276);let s=(()=>{class i{http;supabase;apiUrl=`${l.c.apiUrl}/api/buitres`;constructor(t){this.http=t,this.supabase=(0,h.UU)(l.c.supabaseUrl,l.c.supabaseKey)}getAuthHeaders(){const t=localStorage.getItem("auth_token"),r={};return t&&(r.Authorization=`Bearer ${t}`),r}getPeople(t="",r="recent"){let o=(new n.Nl).set("search",t).set("sortBy",r);return this.http.get(`${this.apiUrl}/people`,{params:o})}getTotalPeopleCount(){return this.http.get(`${this.apiUrl}/people/count`).pipe((0,p.T)(t=>t.count))}getPersonById(t){return this.http.get(`${this.apiUrl}/people/${t}`)}createPerson(t,r,o,_=""){return this.http.post(`${this.apiUrl}/people`,{name:t,description:r,gender:o,email:_})}updatePerson(t,r){return this.http.patch(`${this.apiUrl}/people/${t}`,r,{headers:this.getAuthHeaders()})}deletePerson(t){return this.http.delete(`${this.apiUrl}/people/${t}`,{headers:this.getAuthHeaders()})}getDetails(t){return this.http.get(`${this.apiUrl}/people/${t}/details`)}addOrIncrementDetail(t,r,o){return this.http.post(`${this.apiUrl}/people/${t}/details`,{content:r,fingerprint:o})}deleteDetail(t){return this.http.delete(`${this.apiUrl}/details/${t}`,{headers:this.getAuthHeaders()})}getComments(t){return this.http.get(`${this.apiUrl}/people/${t}/comments`)}addComment(t,r,o){return this.http.post(`${this.apiUrl}/people/${t}/comments`,{content:r,fingerprint:o})}deleteComment(t){return this.http.delete(`${this.apiUrl}/comments/${t}`,{headers:this.getAuthHeaders()})}votePerson(t,r,o){return this.http.post(`${this.apiUrl}/people/${t}/vote`,{type:r,fingerprint:o})}mergePersons(t,r){return this.http.post(`${this.apiUrl}/merge`,{keepId:t,removeId:r},{headers:this.getAuthHeaders()})}subscribeToChanges(t,r){return this.supabase.channel(`public:${t}`).on("postgres_changes",{event:"*",schema:"public",table:t},r).subscribe()}static \u0275fac=function(r){return new(r||i)(c.KVO(n.Qq))};static \u0275prov=c.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()},5154:(d,u,a)=>{a.d(u,{u:()=>c});var n=a(8141),h=a(5312),l=a(6276),p=a(1626);let c=(()=>{class s{http;apiUrl=h.c.apiUrl;likedItems=new Set;constructor(e){this.http=e,this.loadLikedItemsFromStorage()}loadLikedItemsFromStorage(){const e=localStorage.getItem("discussion_likes");e&&(this.likedItems=new Set(JSON.parse(e)))}saveLikedItemsToStorage(){localStorage.setItem("discussion_likes",JSON.stringify([...this.likedItems]))}getItemKey(e,t){return`${e}:${t}`}hasUserLiked(e,t){return this.likedItems.has(this.getItemKey(e,t))}updateLikeStatus(e,t,r){const o=this.getItemKey(e,t);r?this.likedItems.add(o):this.likedItems.delete(o),this.saveLikedItemsToStorage()}getThreads(e="updated_at",t="desc"){return this.http.get(`${this.apiUrl}/api/discussion/threads?sort=${e}&order=${t}`)}getThread(e){return this.http.get(`${this.apiUrl}/api/discussion/threads/${e}`)}createThread(e,t){return this.http.post(`${this.apiUrl}/api/discussion/threads`,{title:e,content:t})}addComment(e,t,r){return this.http.post(`${this.apiUrl}/api/discussion/threads/${e}/comments`,{content:t,parent_comment_id:r})}likeThread(e){return this.http.post(`${this.apiUrl}/api/discussion/like`,{thread_id:e}).pipe((0,n.M)(t=>{this.updateLikeStatus("thread",e,"liked"===t.action)}))}likeComment(e){return this.http.post(`${this.apiUrl}/api/discussion/like`,{comment_id:e}).pipe((0,n.M)(t=>{this.updateLikeStatus("comment",e,"liked"===t.action)}))}static \u0275fac=function(t){return new(t||s)(l.KVO(p.Qq))};static \u0275prov=l.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})()},2915:(d,u,a)=>{a.d(u,{R:()=>l});var n=a(6276),h=a(345);let l=(()=>{class p{title;meta;constructor(s,i){this.title=s,this.meta=i}updateTitle(s){this.title.setTitle(`${s} | MusicaUPTC`)}updateTags(s){s.forEach(i=>{this.meta.updateTag(i)})}updatePageData(s,i,e){this.updateTitle(s);const t=[{name:"description",content:i},{property:"og:title",content:s},{property:"og:description",content:i},{property:"twitter:card",content:"summary_large_image"},{property:"twitter:title",content:s},{property:"twitter:description",content:i}];e&&(t.push({property:"og:image",content:e}),t.push({property:"twitter:image",content:e})),this.updateTags(t)}static \u0275fac=function(i){return new(i||p)(n.KVO(h.hE),n.KVO(h.W8))};static \u0275prov=n.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}return p})()},7483:(d,u,a)=>{a.d(u,{l:()=>c});var n=a(5312),h=a(6276),l=a(1626),p=a(3205);let c=(()=>{class s{http;authService;apiUrl=n.c.apiUrl;constructor(e,t){this.http=e,this.authService=t}getSchedules(){return this.http.get(`${this.apiUrl}/api/schedules`)}updateSchedules(e){const t=this.authService.getAuthHeaders();return this.http.put(`${this.apiUrl}/api/schedules`,e,{headers:t})}static \u0275fac=function(t){return new(t||s)(h.KVO(l.Qq),h.KVO(p.u))};static \u0275prov=h.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})()}}]);