"use strict";(self.webpackChunkuptc_music=self.webpackChunkuptc_music||[]).push([[792],{959:()=>{function Qe(n){return"function"==typeof n}function Tu(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const xh=Tu(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function oa(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Bn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Qe(r))try{r()}catch(o){e=o instanceof xh?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{ID(o)}catch(s){e=e??[],s instanceof xh?e=[...e,...s.errors]:e.push(s)}}if(e)throw new xh(e)}}add(e){var t;if(e&&e!==this)if(this.closed)ID(e);else{if(e instanceof Bn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&oa(t,e)}remove(e){const{_finalizers:t}=this;t&&oa(t,e),e instanceof Bn&&e._removeParent(this)}}Bn.EMPTY=(()=>{const n=new Bn;return n.closed=!0,n})();const bD=Bn.EMPTY;function CD(n){return n instanceof Bn||n&&"closed"in n&&Qe(n.remove)&&Qe(n.add)&&Qe(n.unsubscribe)}function ID(n){Qe(n)?n():n.unsubscribe()}const Zo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Oh={setTimeout(n,e,...t){const{delegate:r}=Oh;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Oh;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ED(n){Oh.setTimeout(()=>{const{onUnhandledError:e}=Zo;if(!e)throw n;e(n)})}function d_(){}const Fj=h_("C",void 0,void 0);function h_(n,e,t){return{kind:n,value:e,error:t}}let es=null;function Rh(n){if(Zo.useDeprecatedSynchronousErrorHandling){const e=!es;if(e&&(es={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=es;if(es=null,t)throw r}}else n()}class f_ extends Bn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,CD(e)&&e.add(this)):this.destination=zj}static create(e,t,r){return new Pu(e,t,r)}next(e){this.isStopped?g_(function Uj(n){return h_("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?g_(function Lj(n){return h_("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?g_(Fj,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const jj=Function.prototype.bind;function p_(n,e){return jj.call(n,e)}class $j{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){kh(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){kh(r)}else kh(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){kh(t)}}}class Pu extends f_{constructor(e,t,r){let i;if(super(),Qe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Zo.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&p_(e.next,o),error:e.error&&p_(e.error,o),complete:e.complete&&p_(e.complete,o)}):i=e}this.destination=new $j(i)}}function kh(n){Zo.useDeprecatedSynchronousErrorHandling?function Bj(n){Zo.useDeprecatedSynchronousErrorHandling&&es&&(es.errorThrown=!0,es.error=n)}(n):ED(n)}function g_(n,e){const{onStoppedNotification:t}=Zo;t&&Oh.setTimeout(()=>t(n,e))}const zj={closed:!0,next:d_,error:function Hj(n){throw n},complete:d_},m_="function"==typeof Symbol&&Symbol.observable||"@@observable";function ao(n){return n}function wD(n){return 0===n.length?ao:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let lt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function Wj(n){return n&&n instanceof f_||function qj(n){return n&&Qe(n.next)&&Qe(n.error)&&Qe(n.complete)}(n)&&CD(n)}(t)?t:new Pu(t,r,i);return Rh(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=TD(r))((i,o)=>{const s=new Pu({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[m_](){return this}pipe(...t){return wD(t)(this)}toPromise(t){return new(t=TD(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function TD(n){var e;return null!==(e=n??Zo.Promise)&&void 0!==e?e:Promise}const Kj=Tu(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Sr=(()=>{class n extends lt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new PD(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Kj}next(t){Rh(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Rh(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Rh(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?bD:(this.currentObservers=null,o.push(t),new Bn(()=>{this.currentObservers=null,oa(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new lt;return t.source=this,t}}return n.create=(e,t)=>new PD(e,t),n})();class PD extends Sr{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:bD}}function AD(n){return Qe(n?.lift)}function Ut(n){return e=>{if(AD(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Nt(n,e,t,r,i){return new Qj(n,e,t,r,i)}class Qj extends f_{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function xe(n,e){return Ut((t,r)=>{let i=0;t.subscribe(Nt(r,o=>{r.next(n.call(e,o,i++))}))})}function Nh(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function co(n){return this instanceof co?(this.v=n,this):new co(n)}function xD(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function b_(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){!function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}(a,c,(s=n[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const OD=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function RD(n){return Qe(n?.then)}function kD(n){return Qe(n[m_])}function ND(n){return Symbol.asyncIterator&&Qe(n?.[Symbol.asyncIterator])}function VD(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const FD=function C$(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function LD(n){return Qe(n?.[FD])}function UD(n){return function MD(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),o=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(m){return function(v){return Promise.resolve(v).then(m,h)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(m,v){r[m]&&(i[m]=function(C){return new Promise(function(w,O){o.push([m,C,w,O])>1||c(m,C)})},v&&(i[m]=v(i[m])))}function c(m,v){try{!function u(m){m.value instanceof co?Promise.resolve(m.value.v).then(d,h):p(o[0][2],m)}(r[m](v))}catch(C){p(o[0][3],C)}}function d(m){c("next",m)}function h(m){c("throw",m)}function p(m,v){m(v),o.shift(),o.length&&c(o[0][0],o[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield co(t.read());if(i)return yield co(void 0);yield yield co(r)}}finally{t.releaseLock()}})}function BD(n){return Qe(n?.getReader)}function Xn(n){if(n instanceof lt)return n;if(null!=n){if(kD(n))return function I$(n){return new lt(e=>{const t=n[m_]();if(Qe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(OD(n))return function E$(n){return new lt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(RD(n))return function w$(n){return new lt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ED)})}(n);if(ND(n))return jD(n);if(LD(n))return function T$(n){return new lt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(BD(n))return function P$(n){return jD(UD(n))}(n)}throw VD(n)}function jD(n){return new lt(e=>{(function A$(n,e){var t,r,i,o;return function DD(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function c(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(d.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=xD(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function gi(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Yt(n,e,t=1/0){return Qe(e)?Yt((r,i)=>xe((o,s)=>e(r,o,i,s))(Xn(n(r,i))),t):("number"==typeof e&&(t=e),Ut((r,i)=>function D$(n,e,t,r,i,o,s,a){const c=[];let u=0,d=0,h=!1;const p=()=>{h&&!c.length&&!u&&e.complete()},m=C=>u<r?v(C):c.push(C),v=C=>{o&&e.next(C),u++;let w=!1;Xn(t(C,d++)).subscribe(Nt(e,O=>{i?.(O),o?m(O):e.next(O)},()=>{w=!0},void 0,()=>{if(w)try{for(u--;c.length&&u<r;){const O=c.shift();s?gi(e,s,()=>v(O)):v(O)}p()}catch(O){e.error(O)}}))};return n.subscribe(Nt(e,m,()=>{h=!0,p()})),()=>{a?.()}}(r,i,n,t)))}function sa(n=1/0){return Yt(ao,n)}const Hr=new lt(n=>n.complete());function $D(n){return n&&Qe(n.schedule)}function I_(n){return n[n.length-1]}function HD(n){return Qe(I_(n))?n.pop():void 0}function Au(n){return $D(I_(n))?n.pop():void 0}function Vh(n,e=0){return Ut((t,r)=>{t.subscribe(Nt(r,i=>gi(r,n,()=>r.next(i),e),()=>gi(r,n,()=>r.complete(),e),i=>gi(r,n,()=>r.error(i),e)))})}function Fh(n,e=0){return Ut((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function zD(n,e){if(!n)throw new Error("Iterable cannot be null");return new lt(t=>{gi(t,e,()=>{const r=n[Symbol.asyncIterator]();gi(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Bt(n,e){return e?function V$(n,e){if(null!=n){if(kD(n))return function x$(n,e){return Xn(n).pipe(Fh(e),Vh(e))}(n,e);if(OD(n))return function R$(n,e){return new lt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(RD(n))return function O$(n,e){return Xn(n).pipe(Fh(e),Vh(e))}(n,e);if(ND(n))return zD(n,e);if(LD(n))return function k$(n,e){return new lt(t=>{let r;return gi(t,e,()=>{r=n[FD](),gi(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>Qe(r?.return)&&r.return()})}(n,e);if(BD(n))return function N$(n,e){return zD(UD(n),e)}(n,e)}throw VD(n)}(n,e):Xn(n)}class Zn extends Sr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function pe(...n){return Bt(n,Au(n))}function GD(n={}){const{connector:e=(()=>new Sr),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,c,u=0,d=!1,h=!1;const p=()=>{a?.unsubscribe(),a=void 0},m=()=>{p(),s=c=void 0,d=h=!1},v=()=>{const C=s;m(),C?.unsubscribe()};return Ut((C,w)=>{u++,!h&&!d&&p();const O=c=c??e();w.add(()=>{u--,0===u&&!h&&!d&&(a=E_(v,i))}),O.subscribe(w),!s&&u>0&&(s=new Pu({next:S=>O.next(S),error:S=>{h=!0,p(),a=E_(m,t,S),O.error(S)},complete:()=>{d=!0,p(),a=E_(m,r),O.complete()}}),Xn(C).subscribe(s))})(o)}}function E_(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Pu({next:()=>{r.unsubscribe(),n()}});return Xn(e(...t)).subscribe(r)}function wn(n,e){return Ut((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(Nt(r,c=>{i?.unsubscribe();let u=0;const d=o++;Xn(n(c,d)).subscribe(i=Nt(r,h=>r.next(e?e(c,h,d,u++):h),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function U$(n,e){return n===e}const Lh=Tu(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function mi(n,e){return Ut((t,r)=>{let i=0;t.subscribe(Nt(r,o=>n.call(e,o,i++)&&r.next(o)))})}function aa(n){return n<=0?()=>Hr:Ut((e,t)=>{let r=0;e.subscribe(Nt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Uh(n){return Ut((e,t)=>{let r=!1;e.subscribe(Nt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function qD(n=B$){return Ut((e,t)=>{let r=!1;e.subscribe(Nt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function B$(){return new Lh}function _i(n,e){const t=arguments.length>=2;return r=>r.pipe(n?mi((i,o)=>n(i,o,r)):ao,aa(1),t?Uh(e):qD(()=>new Lh))}function Ge(n){for(let e in n)if(n[e]===Ge)return e;throw Error("Could not find renamed property on target object.")}function Bh(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function jt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(jt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function w_(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const j$=Ge({__forward_ref__:Ge});function et(n){return n.__forward_ref__=et,n.toString=function(){return jt(this())},n}function _e(n){return T_(n)?n():n}function T_(n){return"function"==typeof n&&n.hasOwnProperty(j$)&&n.__forward_ref__===et}function P_(n){return n&&!!n.\u0275providers}const WD="https://g.co/ng/security#xss";class q extends Error{constructor(e,t){super(function Du(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function be(n){return"string"==typeof n?n:null==n?"":String(n)}function A_(n,e){throw new q(-201,!1)}function fr(n,e){null==n&&function ge(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function ue(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function pr(n){return{providers:n.providers||[],imports:n.imports||[]}}function jh(n){return KD(n,Hh)||KD(n,QD)}function KD(n,e){return n.hasOwnProperty(e)?n[e]:null}function $h(n){return n&&(n.hasOwnProperty(D_)||n.hasOwnProperty(Q$))?n[D_]:null}const Hh=Ge({\u0275prov:Ge}),D_=Ge({\u0275inj:Ge}),QD=Ge({ngInjectableDef:Ge}),Q$=Ge({ngInjectorDef:Ge});var Ae=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Ae||{});let S_;function jn(n){const e=S_;return S_=n,e}function JD(n,e,t){const r=jh(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Ae.Optional?null:void 0!==e?e:void A_(jt(n))}const tt=globalThis;class re{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ue({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Su={},k_="__NG_DI_FLAG__",zh="ngTempTokenPath",X$=/\n/gm,ZD="__source";let ca;function uo(n){const e=ca;return ca=n,e}function t6(n,e=Ae.Default){if(void 0===ca)throw new q(-203,!1);return null===ca?JD(n,void 0,e):ca.get(n,e&Ae.Optional?null:void 0,e)}function oe(n,e=Ae.Default){return(function YD(){return S_}()||t6)(_e(n),e)}function Z(n,e=Ae.Default){return oe(n,Gh(e))}function Gh(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function N_(n){const e=[];for(let t=0;t<n.length;t++){const r=_e(n[t]);if(Array.isArray(r)){if(0===r.length)throw new q(900,!1);let i,o=Ae.Default;for(let s=0;s<r.length;s++){const a=r[s],c=n6(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}e.push(oe(i,o))}else e.push(oe(r))}return e}function Mu(n,e){return n[k_]=e,n.prototype[k_]=e,n}function n6(n){return n[k_]}function yi(n){return{toString:n}.toString()}var qh=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(qh||{}),Mr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Mr||{});const zr={},Le=[],Wh=Ge({\u0275cmp:Ge}),V_=Ge({\u0275dir:Ge}),F_=Ge({\u0275pipe:Ge}),tS=Ge({\u0275mod:Ge}),vi=Ge({\u0275fac:Ge}),xu=Ge({__NG_ELEMENT_ID__:Ge}),nS=Ge({__NG_ENV_ID__:Ge});function rS(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function L_(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{const o=i,s=t[++r];oS(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function iS(n){return 3===n||4===n||6===n}function oS(n){return 64===n.charCodeAt(0)}function Ou(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||sS(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function sS(n,e,t,r,i){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}const aS="ng-template";function o6(n,e,t){let r=0,i=!0;for(;r<n.length;){let o=n[r++];if("string"==typeof o&&i){const s=n[r++];if(t&&"class"===o&&-1!==rS(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<n.length&&"string"==typeof(o=n[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function cS(n){return 4===n.type&&n.value!==aS}function s6(n,e,t){return e===(4!==n.type||t?n.value:aS)}function a6(n,e,t){let r=4;const i=n.attrs||[],o=function l6(n){for(let e=0;e<n.length;e++)if(iS(n[e]))return e;return n.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!s6(n,c,t)||""===c&&1===e.length){if(xr(r))return!1;s=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==n.attrs){if(!o6(n.attrs,u,t)){if(xr(r))return!1;s=!0}continue}const h=c6(8&r?"class":c,i,cS(n),t);if(-1===h){if(xr(r))return!1;s=!0;continue}if(""!==u){let p;p=h>o?"":i[h+1].toLowerCase();const m=8&r?p:null;if(m&&-1!==rS(m,u,0)||2&r&&u!==p){if(xr(r))return!1;s=!0}}}}else{if(!s&&!xr(r)&&!xr(c))return!1;if(s&&xr(c))continue;s=!1,r=c|1&r}}return xr(r)||s}function xr(n){return 0==(1&n)}function c6(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const s=e[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function d6(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function uS(n,e,t=!1){for(let r=0;r<e.length;r++)if(a6(n,e[r],t))return!0;return!1}function lS(n,e){return n?":not("+e.trim()+")":e}function f6(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!xr(s)&&(e+=lS(o,i),i=""),r=s,o=o||!xr(r);t++}return""!==i&&(e+=lS(o,i)),e}function gr(n){return yi(()=>{const e=hS(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===qh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Mr.Emulated,styles:n.styles||Le,_:null,schemas:n.schemas||null,tView:null,id:""};fS(t);const r=n.dependencies;return t.directiveDefs=Kh(r,!1),t.pipeDefs=Kh(r,!0),t.id=function C6(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function _6(n){return Ne(n)||Jt(n)}function y6(n){return null!==n}function Or(n){return yi(()=>({type:n.type,bootstrap:n.bootstrap||Le,declarations:n.declarations||Le,imports:n.imports||Le,exports:n.exports||Le,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function dS(n,e){if(null==n)return zr;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,e&&(e[i]=o)}return t}function ye(n){return yi(()=>{const e=hS(n);return fS(e),e})}function Ne(n){return n[Wh]||null}function Jt(n){return n[V_]||null}function Tn(n){return n[F_]||null}function tr(n,e){const t=n[tS]||null;if(!t&&!0===e)throw new Error(`Type ${jt(n)} does not have '\u0275mod' property.`);return t}function hS(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||zr,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Le,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:dS(n.inputs,e),outputs:dS(n.outputs)}}function fS(n){n.features?.forEach(e=>e(n))}function Kh(n,e){if(!n)return null;const t=e?Tn:_6;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(y6)}const It=0,ie=1,Ee=2,dt=3,Rr=4,Ru=5,ln=6,la=7,At=8,lo=9,da=10,Ce=11,ku=12,pS=13,ha=14,Dt=15,Nu=16,fa=17,Gr=18,Vu=19,gS=20,ho=21,bi=22,Fu=23,Lu=24,De=25,U_=1,mS=2,qr=7,pa=9,Uu=10,Xt=11;function Hn(n){return Array.isArray(n)&&"object"==typeof n[U_]}function Pn(n){return Array.isArray(n)&&!0===n[U_]}function B_(n){return 0!=(4&n.flags)}function ns(n){return n.componentOffset>-1}function Yh(n){return 1==(1&n.flags)}function kr(n){return!!n.template}function j_(n){return 0!=(512&n[Ee])}function rs(n,e){return n.hasOwnProperty(vi)?n[vi]:null}let Zt=null,Jh=!1;function mr(n){const e=Zt;return Zt=n,e}const vS={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function CS(n){if(!Bu(n)||n.dirty){if(!n.producerMustRecompute(n)&&!wS(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function ES(n){n.dirty=!0,function IS(n){if(void 0===n.liveConsumerNode)return;const e=Jh;Jh=!0;try{for(const t of n.liveConsumerNode)t.dirty||ES(t)}finally{Jh=e}}(n),n.consumerMarkedDirty?.(n)}function H_(n){return n&&(n.nextProducerIndex=0),mr(n)}function z_(n,e){if(mr(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Bu(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Xh(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function wS(n){ga(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(CS(t),r!==t.version))return!0}return!1}function TS(n){if(ga(n),Bu(n))for(let e=0;e<n.producerNode.length;e++)Xh(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Xh(n,e){if(function AS(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),ga(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)Xh(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];ga(i),i.producerIndexOfThis[r]=e}}function Bu(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function ga(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let DS=null;const OS=()=>{},k6=(()=>({...vS,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:OS}))();class N6{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function _r(){return RS}function RS(n){return n.type.prototype.ngOnChanges&&(n.setInput=F6),V6}function V6(){const n=NS(this),e=n?.current;if(e){const t=n.previous;if(t===zr)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function F6(n,e,t,r){const i=this.declaredInputs[t],o=NS(n)||function L6(n,e){return n[kS]=e}(n,{previous:zr,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[i];s[i]=new N6(c&&c.currentValue,e,a===zr),n[r]=e}_r.ngInherit=!0;const kS="__ngSimpleChanges__";function NS(n){return n[kS]||null}const Wr=function(n,e,t){};function nt(n){for(;Array.isArray(n);)n=n[It];return n}function Zh(n,e){return nt(e[n])}function zn(n,e){return nt(e[n.index])}function LS(n,e){return n.data[e]}function nr(n,e){const t=e[n];return Hn(t)?t:t[It]}function po(n,e){return null==e?null:n[e]}function US(n){n[fa]=0}function z6(n){1024&n[Ee]||(n[Ee]|=1024,jS(n,1))}function BS(n){1024&n[Ee]&&(n[Ee]&=-1025,jS(n,-1))}function jS(n,e){let t=n[dt];if(null===t)return;t[Ru]+=e;let r=t;for(t=t[dt];null!==t&&(1===e&&1===r[Ru]||-1===e&&0===r[Ru]);)t[Ru]+=e,r=t,t=t[dt]}const me={lFrame:XS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function zS(){return me.bindingsEnabled}function _a(){return null!==me.skipHydrationRootTNode}function $(){return me.lFrame.lView}function Ve(){return me.lFrame.tView}function ae(n){return me.lFrame.contextLView=n,n[At]}function ce(n){return me.lFrame.contextLView=null,n}function en(){let n=GS();for(;null!==n&&64===n.type;)n=n.parent;return n}function GS(){return me.lFrame.currentTNode}function Kr(n,e){const t=me.lFrame;t.currentTNode=n,t.isParent=e}function Q_(){return me.lFrame.isParent}function An(){const n=me.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function ya(){return me.lFrame.bindingIndex++}function Ii(n){const e=me.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function nH(n,e){const t=me.lFrame;t.bindingIndex=t.bindingRootIndex=n,J_(e)}function J_(n){me.lFrame.currentDirectiveIndex=n}function QS(){return me.lFrame.currentQueryIndex}function Z_(n){me.lFrame.currentQueryIndex=n}function iH(n){const e=n[ie];return 2===e.type?e.declTNode:1===e.type?n[ln]:null}function YS(n,e,t){if(t&Ae.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&Ae.Host||(i=iH(o),null===i||(o=o[ha],10&i.type))););if(null===i)return!1;e=i,n=o}const r=me.lFrame=JS();return r.currentTNode=e,r.lView=n,!0}function ey(n){const e=JS(),t=n[ie];me.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function JS(){const n=me.lFrame,e=null===n?null:n.child;return null===e?XS(n):e}function XS(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function ZS(){const n=me.lFrame;return me.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const e1=ZS;function ty(){const n=ZS();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Dn(){return me.lFrame.selectedIndex}function is(n){me.lFrame.selectedIndex=n}function mt(){const n=me.lFrame;return LS(n.tView,n.selectedIndex)}function t1(){return me.lFrame.currentNamespace}let n1=!0;function ef(){return n1}function go(n){n1=n}function tf(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),null!=d&&(n.destroyHooks??=[]).push(t,d)}}function nf(n,e,t){r1(n,e,3,t)}function rf(n,e,t,r){(3&n[Ee])===t&&r1(n,e,t,r)}function ny(n,e){let t=n[Ee];(3&t)===e&&(t&=8191,t+=1,n[Ee]=t)}function r1(n,e,t,r){const o=r??-1,s=e.length-1;let a=0;for(let c=void 0!==r?65535&n[fa]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(n[fa]+=65536),(a<o||-1==o)&&(hH(n,t,e,c),n[fa]=(4294901760&n[fa])+c+2),c++}function i1(n,e){Wr(4,n,e);const t=mr(null);try{e.call(n)}finally{mr(t),Wr(5,n,e)}}function hH(n,e,t,r){const i=t[r]<0,o=t[r+1],a=n[i?-t[r]:t[r]];i?n[Ee]>>13<n[fa]>>16&&(3&n[Ee])===e&&(n[Ee]+=8192,i1(a,o)):i1(a,o)}const va=-1;class $u{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function iy(n){return n!==va}function Hu(n){return 32767&n}function zu(n,e){let t=function mH(n){return n>>16}(n),r=e;for(;t>0;)r=r[ha],t--;return r}let oy=!0;function sf(n){const e=oy;return oy=n,e}const o1=255,s1=5;let _H=0;const Qr={};function af(n,e){const t=a1(n,e);if(-1!==t)return t;const r=e[ie];r.firstCreatePass&&(n.injectorIndex=e.length,sy(r.data,n),sy(e,null),sy(r.blueprint,null));const i=cf(n,e),o=n.injectorIndex;if(iy(i)){const s=Hu(i),a=zu(i,e),c=a[ie].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function sy(n,e){n.push(0,0,0,0,0,0,0,0,e)}function a1(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function cf(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=p1(i),null===r)return va;if(t++,i=i[ha],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return va}function ay(n,e,t){!function yH(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(xu)&&(r=t[xu]),null==r&&(r=t[xu]=_H++);const i=r&o1;e.data[n+(i>>s1)]|=1<<i}(n,e,t)}function c1(n,e,t){if(t&Ae.Optional||void 0!==n)return n;A_()}function u1(n,e,t,r){if(t&Ae.Optional&&void 0===r&&(r=null),!(t&(Ae.Self|Ae.Host))){const i=n[lo],o=jn(void 0);try{return i?i.get(e,r,t&Ae.Optional):JD(e,r,t&Ae.Optional)}finally{jn(o)}}return c1(r,0,t)}function l1(n,e,t,r=Ae.Default,i){if(null!==n){if(2048&e[Ee]&&!(r&Ae.Self)){const s=function wH(n,e,t,r,i){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[Ee]&&!(512&s[Ee]);){const a=d1(o,s,t,r|Ae.Self,Qr);if(a!==Qr)return a;let c=o.parent;if(!c){const u=s[gS];if(u){const d=u.get(t,Qr,r);if(d!==Qr)return d}c=p1(s),s=s[ha]}o=c}return i}(n,e,t,r,Qr);if(s!==Qr)return s}const o=d1(n,e,t,r,Qr);if(o!==Qr)return o}return u1(e,t,r,i)}function d1(n,e,t,r,i){const o=function CH(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(xu)?n[xu]:void 0;return"number"==typeof e?e>=0?e&o1:EH:e}(t);if("function"==typeof o){if(!YS(e,n,r))return r&Ae.Host?c1(i,0,r):u1(e,t,r,i);try{let s;if(s=o(r),null!=s||r&Ae.Optional)return s;A_()}finally{e1()}}else if("number"==typeof o){let s=null,a=a1(n,e),c=va,u=r&Ae.Host?e[Dt][ln]:null;for((-1===a||r&Ae.SkipSelf)&&(c=-1===a?cf(n,e):e[a+8],c!==va&&f1(r,!1)?(s=e[ie],a=Hu(c),e=zu(c,e)):a=-1);-1!==a;){const d=e[ie];if(h1(o,a,d.data)){const h=bH(a,e,t,s,r,u);if(h!==Qr)return h}c=e[a+8],c!==va&&f1(r,e[ie].data[a+8]===u)&&h1(o,a,e)?(s=d,a=Hu(c),e=zu(c,e)):a=-1}}return i}function bH(n,e,t,r,i,o){const s=e[ie],a=s.data[n+8],d=uf(a,s,t,null==r?ns(a)&&oy:r!=s&&0!=(3&a.type),i&Ae.Host&&o===a);return null!==d?os(e,s,d,a):Qr}function uf(n,e,t,r,i){const o=n.providerIndexes,s=e.data,a=1048575&o,c=n.directiveStart,d=o>>20,p=i?a+d:n.directiveEnd;for(let m=r?a:a+d;m<p;m++){const v=s[m];if(m<c&&t===v||m>=c&&v.type===t)return m}if(i){const m=s[c];if(m&&kr(m)&&m.type===t)return c}return null}function os(n,e,t,r){let i=n[t];const o=e.data;if(function fH(n){return n instanceof $u}(i)){const s=i;s.resolving&&function $$(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new q(-200,`Circular dependency in DI detected for ${n}${t}`)}(function He(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():be(n)}(o[t]));const a=sf(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?jn(s.injectImpl):null;YS(n,r,Ae.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function dH(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=RS(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==u&&jn(u),sf(a),s.resolving=!1,e1()}}return i}function h1(n,e,t){return!!(t[e+(n>>s1)]&1<<n)}function f1(n,e){return!(n&Ae.Self||n&Ae.Host&&e)}class Sn{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return l1(this._tNode,this._lView,e,Gh(r),t)}}function EH(){return new Sn(en(),$())}function tn(n){return yi(()=>{const e=n.prototype.constructor,t=e[vi]||cy(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[vi]||cy(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function cy(n){return T_(n)?()=>{const e=cy(_e(n));return e&&e()}:rs(n)}function p1(n){const e=n[ie],t=e.type;return 2===t?e.declTNode:1===t?n[ln]:null}const Ca="__parameters__";function Ea(n,e,t){return yi(()=>{const r=function uy(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,u,d){const h=c.hasOwnProperty(Ca)?c[Ca]:Object.defineProperty(c,Ca,{value:[]})[Ca];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(s),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Ta(n,e){n.forEach(t=>Array.isArray(t)?Ta(t,e):e(t))}function m1(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function df(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function rr(n,e,t){let r=Pa(n,e);return r>=0?n[1|r]=t:(r=~r,function xH(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function ly(n,e){const t=Pa(n,e);if(t>=0)return n[1|t]}function Pa(n,e){return function _1(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const Mn=Mu(Ea("Optional"),8),ff=Mu(Ea("SkipSelf"),4),Da="ngSkipHydration";function A1(n){const e=Da.toLowerCase(),t=n.mergedAttrs;if(null===t)return!1;for(let r=0;r<t.length;r+=2){const i=t[r];if("number"==typeof i)return!1;if("string"==typeof i&&i.toLowerCase()===e)return!0}return!1}function D1(n){return n.hasAttribute(Da)}function yf(n){return 128==(128&n.flags)}var mo=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(mo||{});const XH=/^>|^->|<!--|-->|--!>|<!-$/g,ZH=/(<|>)/g,ez="\u200b$1\u200b";const gy=new Map;let tz=0;const _y="__ngContext__";function dn(n,e){Hn(e)?(n[_y]=e[Vu],function rz(n){gy.set(n[Vu],n)}(e)):n[_y]=e}let yy;function vy(n,e){return yy(n,e)}function Yu(n){const e=n[dt];return Pn(e)?e[dt]:e}function F1(n){return U1(n[ku])}function L1(n){return U1(n[Rr])}function U1(n){for(;null!==n&&!Pn(n);)n=n[Rr];return n}function Sa(n,e,t,r,i){if(null!=r){let o,s=!1;Pn(r)?o=r:Hn(r)&&(s=!0,r=r[It]);const a=nt(r);0===n&&null!==t?null==i?H1(e,t,a):ss(e,t,a,i||null,!0):1===n&&null!==t?ss(e,t,a,i||null,!0):2===n?Tf(e,a,s):3===n&&e.destroyNode(a),null!=o&&function Tz(n,e,t,r,i){const o=t[qr];o!==nt(t)&&Sa(e,n,r,o,i);for(let a=Xt;a<t.length;a++){const c=t[a];Xu(c[ie],c,n,e,r,o)}}(e,n,o,t,i)}}function bf(n,e){return n.createText(e)}function by(n,e){return n.createComment(function S1(n){return n.replace(XH,e=>e.replace(ZH,ez))}(e))}function Cf(n,e,t){return n.createElement(e,t)}function j1(n,e){const t=n[pa],r=t.indexOf(e);BS(e),t.splice(r,1)}function If(n,e){if(n.length<=Xt)return;const t=Xt+e,r=n[t];if(r){const i=r[Nu];null!==i&&i!==n&&j1(i,r),e>0&&(n[t-1][Rr]=r[Rr]);const o=df(n,Xt+e);!function pz(n,e){Xu(n,e,e[Ce],2,null,null),e[It]=null,e[ln]=null}(r[ie],r);const s=o[Gr];null!==s&&s.detachView(o[ie]),r[dt]=null,r[Rr]=null,r[Ee]&=-129}return r}function Cy(n,e){if(!(256&e[Ee])){const t=e[Ce];e[Fu]&&TS(e[Fu]),e[Lu]&&TS(e[Lu]),t.destroyNode&&Xu(n,e,t,3,null,null),function _z(n){let e=n[ku];if(!e)return Iy(n[ie],n);for(;e;){let t=null;if(Hn(e))t=e[ku];else{const r=e[Xt];r&&(t=r)}if(!t){for(;e&&!e[Rr]&&e!==n;)Hn(e)&&Iy(e[ie],e),e=e[dt];null===e&&(e=n),Hn(e)&&Iy(e[ie],e),t=e&&e[Rr]}e=t}}(e)}}function Iy(n,e){if(!(256&e[Ee])){e[Ee]&=-129,e[Ee]|=256,function Cz(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof $u)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];Wr(4,a,c);try{c.call(a)}finally{Wr(5,a,c)}}else{Wr(4,i,o);try{o.call(i)}finally{Wr(5,i,o)}}}}}(n,e),function bz(n,e){const t=n.cleanup,r=e[la];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else t[o].call(r[t[o+1]]);null!==r&&(e[la]=null);const i=e[ho];if(null!==i){e[ho]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(n,e),1===e[ie].type&&e[Ce].destroy();const t=e[Nu];if(null!==t&&Pn(e[dt])){t!==e[dt]&&j1(t,e);const r=e[Gr];null!==r&&r.detachView(n)}!function iz(n){gy.delete(n[Vu])}(e)}}function Ey(n,e,t){return function $1(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[It];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=n.data[r.directiveStart+i];if(o===Mr.None||o===Mr.Emulated)return null}return zn(r,t)}}(n,e.parent,t)}function ss(n,e,t,r,i){n.insertBefore(e,t,r,i)}function H1(n,e,t){n.appendChild(e,t)}function z1(n,e,t,r,i){null!==r?ss(n,e,t,r,i):H1(n,e,t)}function Ef(n,e){return n.parentNode(e)}let wy,Dy,Af,W1=function q1(n,e,t){return 40&n.type?zn(n,t):null};function wf(n,e,t,r){const i=Ey(n,r,e),o=e[Ce],a=function G1(n,e,t){return W1(n,e,t)}(r.parent||e[ln],r,e);if(null!=i)if(Array.isArray(t))for(let c=0;c<t.length;c++)z1(o,i,t[c],a,!1);else z1(o,i,t,a,!1);void 0!==wy&&wy(o,r,e,t,i)}function Ju(n,e){if(null!==e){const t=e.type;if(3&t)return zn(e,n);if(4&t)return Ty(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Ju(n,r);{const i=n[e.index];return Pn(i)?Ty(-1,i):nt(i)}}if(32&t)return vy(e,n)()||nt(n[e.index]);{const r=Q1(n,e);return null!==r?Array.isArray(r)?r[0]:Ju(Yu(n[Dt]),r):Ju(n,e.next)}}return null}function Q1(n,e){return null!==e?n[Dt][ln].projection[e.projection]:null}function Ty(n,e){const t=Xt+n+1;if(t<e.length){const r=e[t],i=r[ie].firstChild;if(null!==i)return Ju(r,i)}return e[qr]}function Tf(n,e,t){const r=Ef(n,e);r&&function Iz(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}function Y1(n){n.textContent=""}function Py(n,e,t,r,i,o,s){for(;null!=t;){const a=r[t.index],c=t.type;if(s&&0===e&&(a&&dn(nt(a),r),t.flags|=2),32!=(32&t.flags))if(8&c)Py(n,e,t.child,r,i,o,!1),Sa(e,n,i,a,o);else if(32&c){const u=vy(t,r);let d;for(;d=u();)Sa(e,n,i,d,o);Sa(e,n,i,a,o)}else 16&c?J1(n,e,r,t,i,o):Sa(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Xu(n,e,t,r,i,o){Py(t,r,n.firstChild,e,i,o,!1)}function J1(n,e,t,r,i,o){const s=t[Dt],c=s[ln].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)Sa(e,n,i,c[u],o);else{let u=c;const d=s[dt];yf(r)&&(u.flags|=128),Py(n,e,u,d,i,o,!0)}}function X1(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Z1(n,e,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&L_(n,e,r),null!==i&&X1(n,e,i),null!==o&&function Az(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function xa(){if(void 0!==Dy)return Dy;if(typeof document<"u")return document;throw new q(210,!1)}function nM(n){return function Sy(){if(void 0===Af&&(Af=null,tt.trustedTypes))try{Af=tt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Af}()?.createScriptURL(n)||n}class rM{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${WD})`}}function _o(n){return n instanceof rM?n.changingThisBreaksApplicationSecurity:n}function Zu(n,e){const t=function Fz(n){return n instanceof rM&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${WD})`)}return t===e}const jz=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Oa=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Oa||{});function ir(n){const e=tl();return e?e.sanitize(Oa.URL,n)||"":Zu(n,"URL")?_o(n):function My(n){return(n=String(n)).match(jz)?n:"unsafe:"+n}(be(n))}function lM(n){const e=tl();if(e)return nM(e.sanitize(Oa.RESOURCE_URL,n)||"");if(Zu(n,"ResourceURL"))return nM(_o(n));throw new q(904,!1)}function tl(){const n=$();return n&&n[da].sanitizer}const Ra=new re("ENVIRONMENT_INITIALIZER"),hM=new re("INJECTOR",-1),fM=new re("INJECTOR_DEF_TYPES");class ky{get(e,t=Su){if(t===Su){const r=new Error(`NullInjectorError: No provider for ${jt(e)}!`);throw r.name="NullInjectorError",r}return t}}function nl(n){return{\u0275providers:n}}function pM(...n){return{\u0275providers:gM(0,n),\u0275fromNgModule:!0}}function gM(n,...e){const t=[],r=new Set;let i;const o=s=>{t.push(s)};return Ta(e,s=>{const a=s;Sf(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&mM(i,o),t}function mM(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];Ny(i,o=>{e(o,r)})}}function Sf(n,e,t,r){if(!(n=_e(n)))return!1;let i=null,o=$h(n);const s=!o&&Ne(n);if(o||s){if(s&&!s.standalone)return!1;i=n}else{const c=n.ngModule;if(o=$h(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of c)Sf(u,e,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;r.add(i);try{Ta(o.imports,d=>{Sf(d,e,t,r)&&(u||=[],u.push(d))})}finally{}void 0!==u&&mM(u,e)}if(!a){const u=rs(i)||(()=>new i);e({provide:i,useFactory:u,deps:Le},i),e({provide:fM,useValue:i,multi:!0},i),e({provide:Ra,useValue:()=>oe(i),multi:!0},i)}const c=o.providers;if(null!=c&&!a){const u=n;Ny(c,d=>{e(d,u)})}}}return i!==n&&void 0!==n.providers}function Ny(n,e){for(let t of n)P_(t)&&(t=t.\u0275providers),Array.isArray(t)?Ny(t,e):e(t)}const e8=Ge({provide:String,useValue:Ge});function Vy(n){return null!==n&&"object"==typeof n&&e8 in n}function as(n){return"function"==typeof n}const Fy=new re("Set Injector scope."),Mf={},n8={};let Ly;function xf(){return void 0===Ly&&(Ly=new ky),Ly}class or{}class ka extends or{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,By(e,s=>this.processProvider(s)),this.records.set(hM,Na(void 0,this)),i.has("environment")&&this.records.set(or,Na(void 0,this));const o=this.records.get(Fy);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(fM.multi,Le,Ae.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=uo(this),r=jn(void 0);try{return e()}finally{uo(t),jn(r)}}get(e,t=Su,r=Ae.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(nS))return e[nS](this);r=Gh(r);const o=uo(this),s=jn(void 0);try{if(!(r&Ae.SkipSelf)){let c=this.records.get(e);if(void 0===c){const u=function a8(n){return"function"==typeof n||"object"==typeof n&&n instanceof re}(e)&&jh(e);c=u&&this.injectableDefInScope(u)?Na(Uy(e),Mf):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&Ae.Self?xf():this.parent).get(e,t=r&Ae.Optional&&t===Su?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[zh]=a[zh]||[]).unshift(jt(e)),o)throw a;return function r6(n,e,t,r){const i=n[zh];throw e[ZD]&&i.unshift(e[ZD]),n.message=function i6(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=jt(e);if(Array.isArray(e))i=e.map(jt).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):jt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(X$,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[zh]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{jn(s),uo(o)}}resolveInjectorInitializers(){const e=uo(this),t=jn(void 0);try{const i=this.get(Ra.multi,Le,Ae.Self);for(const o of i)o()}finally{uo(e),jn(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(jt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new q(205,!1)}processProvider(e){let t=as(e=_e(e))?e:_e(e&&e.provide);const r=function i8(n){return Vy(n)?Na(void 0,n.useValue):Na(vM(n),Mf)}(e);if(as(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Na(void 0,Mf,!0),i.factory=()=>N_(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Mf&&(t.value=n8,t.value=t.factory()),"object"==typeof t.value&&t.value&&function s8(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=_e(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Uy(n){const e=jh(n),t=null!==e?e.factory:rs(n);if(null!==t)return t;if(n instanceof re)throw new q(204,!1);if(n instanceof Function)return function r8(n){const e=n.length;if(e>0)throw function Wu(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new q(204,!1);const t=function K$(n){return n&&(n[Hh]||n[QD])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new q(204,!1)}function vM(n,e,t){let r;if(as(n)){const i=_e(n);return rs(i)||Uy(i)}if(Vy(n))r=()=>_e(n.useValue);else if(function yM(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...N_(n.deps||[]));else if(function _M(n){return!(!n||!n.useExisting)}(n))r=()=>oe(_e(n.useExisting));else{const i=_e(n&&(n.useClass||n.provide));if(!function o8(n){return!!n.deps}(n))return rs(i)||Uy(i);r=()=>new i(...N_(n.deps))}return r}function Na(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function By(n,e){for(const t of n)Array.isArray(t)?By(t,e):t&&P_(t)?By(t.\u0275providers,e):e(t)}const jy=new re("AppId",{providedIn:"root",factory:()=>c8}),c8="ng",bM=new re("Platform Initializer"),wi=new re("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),CM=new re("CSP nonce",{providedIn:"root",factory:()=>xa().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),IM=new re("",{providedIn:"root",factory:()=>new Set});function u8(){const n=new Va;return"browser"===Z(wi)&&(n.store=function l8(n,e){const t=n.getElementById(e+"-state");if(t?.textContent)try{return JSON.parse(t.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}(xa(),Z(jy))),n}let Va=(()=>{class n{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=ue({token:n,providedIn:"root",factory:u8})}get(t,r){return void 0!==this.store[t]?this.store[t]:r}set(t,r){this.store[t]=r}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(t,r){this.onSerializeCallbacks[t]=r}toJson(){for(const t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return n})();const $y="h",Hy="b";var Fa=function(n){return n.FirstChild="f",n.NextSibling="n",n}(Fa||{});const zy="e",Gy="t",rl="c",Of="x",La="r",qy="i",Wy="n",Rf="d",Ky="__\u0275nghData__",il="ngh";let EM=(n,e,t)=>null;function h8(n,e,t=!1){let r=n.getAttribute(il);if(null==r)return null;const[i,o]=r.split("|");if(r=t?o:i,!r)return null;const s=t?i:o?`|${o}`:"";let a={};if(""!==r){const u=e.get(Va,null,{optional:!0});null!==u&&(a=u.get(Ky,[])[Number(r)])}const c={data:a,firstChild:n.firstChild??null};return t&&(c.firstChild=n,kf(c,0,n.nextSibling)),s?n.setAttribute(il,s):n.removeAttribute(il),c}function Qy(n,e,t=!1){return EM(n,e,t)}function wM(n){let e=n._lView;return 2===e[ie].type?null:(j_(e)&&(e=e[De]),e)}function kf(n,e,t){n.segmentHeads??={},n.segmentHeads[e]=t}function Yy(n,e){return n.segmentHeads?.[e]??null}function TM(n,e){return n.data[rl]?.[e]??null}function Jy(n,e){const t=TM(n,e)??[];let r=0;for(let i of t)r+=i[La]*(i[Of]??1);return r}function Nf(n,e){if(typeof n.disconnectedNodes>"u"){const t=n.data[Rf];n.disconnectedNodes=t?new Set(t):null}return!!n.disconnectedNodes?.has(e)}class y8{}class PM{}class b8{resolveComponentFactory(e){throw function v8(n){const e=Error(`No component factory found for ${jt(n)}.`);return e.ngComponent=n,e}(e)}}let Vf=(()=>{class n{static{this.NULL=new b8}}return n})();function C8(){return Ua(en(),$())}function Ua(n,e){return new sr(zn(n,e))}let sr=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=C8}}return n})();function I8(n){return n instanceof sr?n.nativeElement:n}class DM{}let Ti=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function E8(){const n=$(),t=nr(en().index,n);return(Hn(t)?t:n)[Ce]}()}}return n})(),w8=(()=>{class n{static{this.\u0275prov=ue({token:n,providedIn:"root",factory:()=>null})}}return n})();class Ba{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const SM=new Ba("16.2.12"),Xy={};function RM(n,e=null,t=null,r){const i=kM(n,e,t,r);return i.resolveInjectorInitializers(),i}function kM(n,e=null,t=null,r,i=new Set){const o=[t||Le,pM(n)];return r=r||("object"==typeof n?void 0:jt(n)),new ka(o,e||xf(),r||null,i)}let hn=(()=>{class n{static{this.THROW_IF_NOT_FOUND=Su}static{this.NULL=new ky}static create(t,r){if(Array.isArray(t))return RM({name:""},r,t,"");{const i=t.name??"";return RM({name:i},t.parent,t.providers,i)}}static{this.\u0275prov=ue({token:n,providedIn:"any",factory:()=>oe(hM)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();function ev(n){return n.ngOriginalError}class Pi{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&ev(e);for(;t&&ev(t);)t=ev(t);return t||null}}function tv(n){return e=>{setTimeout(n,void 0,e)}}const _t=class O8 extends Sr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=tv(o),i&&(i=tv(i)),s&&(s=tv(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof Bn&&e.add(a),a}};function VM(...n){}class Ue{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _t(!1),this.onMicrotaskEmpty=new _t(!1),this.onStable=new _t(!1),this.onError=new _t(!1),typeof Zone>"u")throw new q(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function R8(){const n="function"==typeof tt.requestAnimationFrame;let e=tt[n?"requestAnimationFrame":"setTimeout"],t=tt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function V8(n){const e=()=>{!function N8(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(tt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,rv(n),n.isCheckStableRunning=!0,nv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),rv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{if(function L8(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,o,s,a);try{return FM(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),LM(n)}},onInvoke:(t,r,i,o,s,a,c)=>{try{return FM(n),t.invoke(i,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),LM(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,rv(n),nv(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ue.isInAngularZone())throw new q(909,!1)}static assertNotInAngularZone(){if(Ue.isInAngularZone())throw new q(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,k8,VM,VM);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const k8={};function nv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function rv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function FM(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function LM(n){n._nesting--,nv(n)}const UM=new re("",{providedIn:"root",factory:BM});function BM(){const n=Z(Ue);let e=!0;return function F$(...n){const e=Au(n),t=function M$(n,e){return"number"==typeof I_(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Xn(r[0]):sa(t)(Bt(r,e)):Hr}(new lt(i=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{i.next(e),i.complete()})}),new lt(i=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{Ue.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=n.onUnstable.subscribe(()=>{Ue.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(GD()))}function Ai(n){return n instanceof Function?n():n}function $a(n){return"browser"===(n??Z(hn)).get(wi)}let iv=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=ue({token:n,providedIn:"root",factory:()=>new n})}}return n})();function ol(n){for(;n;){n[Ee]|=64;const e=Yu(n);if(j_(n)&&!e)return n;n=e}return null}const Lf=new re(""),GM=new re("",{providedIn:"root",factory:()=>!1});let Uf=null;function QM(n,e){return n[e]??XM()}function YM(n,e){const t=XM();t.producerNode?.length&&(n[e]=Uf,t.lView=n,Uf=JM())}const K8={...vS,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{ol(n.lView)},lView:null};function JM(){return Object.create(K8)}function XM(){return Uf??=JM(),Uf}const Ie={};function T(n){ZM(Ve(),$(),Dn()+n,!1)}function ZM(n,e,t,r){if(!r)if(3==(3&e[Ee])){const o=n.preOrderCheckHooks;null!==o&&nf(e,o,t)}else{const o=n.preOrderHooks;null!==o&&rf(e,o,0,t)}is(t)}function j(n,e=Ae.Default){const t=$();return null===t?oe(n,e):l1(en(),t,_e(n),e)}function Bf(n,e,t,r,i,o,s,a,c,u,d){const h=e.blueprint.slice();return h[It]=i,h[Ee]=140|r,(null!==u||n&&2048&n[Ee])&&(h[Ee]|=2048),US(h),h[dt]=h[ha]=n,h[At]=t,h[da]=s||n&&n[da],h[Ce]=a||n&&n[Ce],h[lo]=c||n&&n[lo]||null,h[ln]=o,h[Vu]=function nz(){return tz++}(),h[bi]=d,h[gS]=u,h[Dt]=2==e.type?n[Dt]:h,h}function Ha(n,e,t,r,i){let o=n.data[e];if(null===o)o=function ov(n,e,t,r,i){const o=GS(),s=Q_(),c=n.data[e]=function n9(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return _a()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(n,e,t,r,i),function tH(){return me.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function ju(){const n=me.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Kr(o,!0),o}function sl(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function tx(n,e,t,r,i){const o=QM(e,Fu),s=Dn(),a=2&r;try{is(-1),a&&e.length>De&&ZM(n,e,De,!1),Wr(a?2:0,i);const u=a?o:null,d=H_(u);try{null!==u&&(u.dirty=!1),t(r,i)}finally{z_(u,d)}}finally{a&&null===e[Fu]&&YM(e,Fu),is(s),Wr(a?3:1,i)}}function sv(n,e,t){if(B_(e)){const r=mr(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{mr(r)}}}function av(n,e,t){zS()&&(function u9(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;ns(t)&&function m9(n,e,t){const r=zn(e,n),i=nx(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=jf(n,Bf(n,i,null,s,r,e,null,n[da].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||af(t,e),dn(r,e);const s=t.initialInputs;for(let a=i;a<o;a++){const c=n.data[a],u=os(e,n,a,t);dn(u,e),null!==s&&_9(0,a-i,u,c,0,s),kr(c)&&(nr(t.index,e)[At]=os(e,n,a,t))}}(n,e,t,zn(t,e)),64==(64&t.flags)&&ax(n,e,t))}function cv(n,e,t=zn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(e,n):n[s];n[i++]=a}}}function nx(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=uv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function uv(n,e,t,r,i,o,s,a,c,u,d){const h=De+r,p=h+i,m=function Y8(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Ie);return t}(h,p),v="function"==typeof u?u():u;return m[ie]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:v,incompleteFirstPass:!1,ssrId:d}}let rx=n=>null;function Z8(n){D1(n)?Y1(n):function g8(n){const e=xa(),t=e.createNodeIterator(n,NodeFilter.SHOW_COMMENT,{acceptNode(o){const s=function p8(n){return n.textContent?.replace(/\s/gm,"")}(o);return"ngetn"===s||"ngtns"===s?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}});let r;const i=[];for(;r=t.nextNode();)i.push(r);for(const o of i)"ngetn"===o.textContent?o.replaceWith(e.createTextNode("")):o.remove()}(n)}function ix(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const o=n[i];null===r?ox(t,e,i,o):r.hasOwnProperty(i)&&ox(t,e,r[i],o)}return t}function ox(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function ar(n,e,t,r,i,o,s,a){const c=zn(e,t);let d,u=e.inputs;!a&&null!=u&&(d=u[r])?(pv(n,t,d,r,i),ns(e)&&function o9(n,e){const t=nr(e,n);16&t[Ee]||(t[Ee]|=64)}(t,e.index)):3&e.type&&(r=function i9(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(c,r,i))}function lv(n,e,t,r){if(zS()){const i=null===r?null:{"":-1},o=function d9(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(uS(e,s.selectors,!1))if(r||(r=[]),kr(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),dv(n,e,a.length)}else r.unshift(s),dv(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&sx(n,e,t,s,i,a),i&&function h9(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new q(-301,!1);r.push(e[i],o)}}}(t,r,i)}t.mergedAttrs=Ou(t.mergedAttrs,t.attrs)}function sx(n,e,t,r,i,o){for(let u=0;u<r.length;u++)ay(af(t,e),n,r[u].type);!function p9(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let u=0;u<r.length;u++){const d=r[u];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,c=sl(n,e,r.length,null);for(let u=0;u<r.length;u++){const d=r[u];t.mergedAttrs=Ou(t.mergedAttrs,d.hostAttrs),g9(n,t,e,c,d),f9(c,d,i),null!==d.contentQueries&&(t.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=64);const h=d.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function r9(n,e,t){const i=e.directiveEnd,o=n.data,s=e.attrs,a=[];let c=null,u=null;for(let d=e.directiveStart;d<i;d++){const h=o[d],p=t?t.get(h):null,v=p?p.outputs:null;c=ix(h.inputs,d,c,p?p.inputs:null),u=ix(h.outputs,d,u,v);const C=null===c||null===s||cS(e)?null:y9(c,d,s);a.push(C)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}(n,t,o)}function ax(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function rH(){return me.lFrame.currentDirectiveIndex}();try{is(o);for(let a=r;a<i;a++){const c=n.data[a],u=e[a];J_(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&l9(c,u)}}finally{is(-1),J_(s)}}function l9(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function dv(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function f9(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;kr(e)&&(t[""]=n)}}function g9(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=rs(i.type)),s=new $u(o,kr(i),j);n.blueprint[r]=s,t[r]=s,function a9(n,e,t,r,i){const o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function c9(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,o)}}(n,e,r,sl(n,t,i.hostVars,Ie),i)}function Yr(n,e,t,r,i,o){const s=zn(n,e);!function hv(n,e,t,r,i,o,s){if(null==o)n.removeAttribute(e,i,t);else{const a=null==s?be(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}(e[Ce],s,o,n.value,t,r,i)}function _9(n,e,t,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)cx(r,t,s[a++],s[a++],s[a++])}function cx(n,e,t,r,i){const o=mr(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==n.setInput?n.setInput(e,i,t,r):e[r]=i}finally{mr(o)}}function y9(n,e,t){let r=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===r&&(r=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function ux(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null,null]}function lx(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const o=t[r+1];if(-1!==o){const s=n.data[o];Z_(t[r]),s.contentQueries(2,e[o],o)}}}function jf(n,e){return n[ku]?n[pS][Rr]=e:n[ku]=e,n[pS]=e,e}function fv(n,e,t){Z_(0);const r=mr(null);try{e(n,t)}finally{mr(r)}}function dx(n){return n[la]||(n[la]=[])}function hx(n){return n.cleanup||(n.cleanup=[])}function px(n,e){const t=n[lo],r=t?t.get(Pi,null):null;r&&r.handleError(e)}function pv(n,e,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];cx(n.data[s],e[s],r,a,i)}}function Di(n,e,t){const r=Zh(e,n);!function B1(n,e,t){n.setValue(e,t)}(n[Ce],r,t)}function v9(n,e){const t=nr(e,n),r=t[ie];!function b9(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[It];null!==i&&null===t[bi]&&(t[bi]=Qy(i,t[lo])),gv(r,t,t[At])}function gv(n,e,t){ey(e);try{const r=n.viewQuery;null!==r&&fv(1,r,t);const i=n.template;null!==i&&tx(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&lx(n,e),n.staticViewQueries&&fv(2,n.viewQuery,t);const o=n.components;null!==o&&function C9(n,e){for(let t=0;t<e.length;t++)v9(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Ee]&=-5,ty()}}let gx=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function R6(n,e,t){const r=Object.create(k6);t&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=e;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>ES(r),run:()=>{if(r.dirty=!1,r.hasRun&&!wS(r))return;r.hasRun=!0;const s=H_(r);try{r.cleanupFn(),r.cleanupFn=OS,r.fn(i)}finally{z_(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(t,u=>{this.all.has(u)&&this.queue.set(u,o)},i);let a;this.all.add(s),s.notify();const c=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=ue({token:n,providedIn:"root",factory:()=>new n})}}return n})();function $f(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=w_(i,a):2==o&&(r=w_(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function al(n,e,t,r,i=!1){for(;null!==t;){const o=e[t.index];null!==o&&r.push(nt(o)),Pn(o)&&mx(o,r);const s=t.type;if(8&s)al(n,e,t.child,r);else if(32&s){const a=vy(t,e);let c;for(;c=a();)r.push(c)}else if(16&s){const a=Q1(e,t);if(Array.isArray(a))r.push(...a);else{const c=Yu(e[Dt]);al(c[ie],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function mx(n,e){for(let t=Xt;t<n.length;t++){const r=n[t],i=r[ie].firstChild;null!==i&&al(r[ie],r,i,e)}n[qr]!==n[It]&&e.push(n[qr])}function Hf(n,e,t,r=!0){const i=e[da],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{_x(n,e,n.template,t)}catch(c){throw r&&px(e,c),c}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function _x(n,e,t,r){const i=e[Ee];if(256!=(256&i)){e[da].effectManager?.flush(),ey(e);try{US(e),function WS(n){return me.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&tx(n,e,t,2,r);const s=3==(3&i);if(s){const u=n.preOrderCheckHooks;null!==u&&nf(e,u,null)}else{const u=n.preOrderHooks;null!==u&&rf(e,u,0,null),ny(e,0)}if(function w9(n){for(let e=F1(n);null!==e;e=L1(e)){if(!e[mS])continue;const t=e[pa];for(let r=0;r<t.length;r++){z6(t[r])}}}(e),yx(e,2),null!==n.contentQueries&&lx(n,e),s){const u=n.contentCheckHooks;null!==u&&nf(e,u)}else{const u=n.contentHooks;null!==u&&rf(e,u,1),ny(e,1)}!function Q8(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const r=QM(e,Lu);try{for(let i=0;i<t.length;i++){const o=t[i];if(o<0)is(~o);else{const s=o,a=t[++i],c=t[++i];nH(a,s),r.dirty=!1;const u=H_(r);try{c(2,e[s])}finally{z_(r,u)}}}}finally{null===e[Lu]&&YM(e,Lu),is(-1)}}(n,e);const a=n.components;null!==a&&bx(e,a,0);const c=n.viewQuery;if(null!==c&&fv(2,c,r),s){const u=n.viewCheckHooks;null!==u&&nf(e,u)}else{const u=n.viewHooks;null!==u&&rf(e,u,2),ny(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[Ee]&=-73,BS(e)}finally{ty()}}}function yx(n,e){for(let t=F1(n);null!==t;t=L1(t))for(let r=Xt;r<t.length;r++)vx(t[r],e)}function T9(n,e,t){vx(nr(e,n),t)}function vx(n,e){if(!function $6(n){return 128==(128&n[Ee])}(n))return;const t=n[ie],r=n[Ee];if(80&r&&0===e||1024&r||2===e)_x(t,n,t.template,n[At]);else if(n[Ru]>0){yx(n,1);const i=t.components;null!==i&&bx(n,i,1)}}function bx(n,e,t){for(let r=0;r<e.length;r++)T9(n,e[r],t)}class cl{get rootNodes(){const e=this._lView,t=e[ie];return al(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[At]}set context(e){this._lView[At]=e}get destroyed(){return 256==(256&this._lView[Ee])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[dt];if(Pn(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(If(e,r),df(t,r))}this._attachedToViewContainer=!1}Cy(this._lView[ie],this._lView)}onDestroy(e){!function $S(n,e){if(256==(256&n[Ee]))throw new q(911,!1);null===n[ho]&&(n[ho]=[]),n[ho].push(e)}(this._lView,e)}markForCheck(){ol(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ee]&=-129}reattach(){this._lView[Ee]|=128}detectChanges(){Hf(this._lView[ie],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function mz(n,e){Xu(n,e,e[Ce],2,null,null)}(this._lView[ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new q(902,!1);this._appRef=e}}class P9 extends cl{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Hf(e[ie],e,e[At],!1)}checkNoChanges(){}get context(){return null}}class Cx extends Vf{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Ne(e);return new ul(t,this.ngModule)}}function Ix(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class D9{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Gh(r);const i=this.injector.get(e,Xy,r);return i!==Xy||t===Xy?i:this.parentInjector.get(e,t,r)}}class ul extends PM{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=Ix(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return Ix(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function p6(n){return n.map(f6).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=(i=i||this.ngModule)instanceof or?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new D9(e,o):e,a=s.get(DM,null);if(null===a)throw new q(407,!1);const h={rendererFactory:a,sanitizer:s.get(w8,null),effectManager:s.get(gx,null),afterRenderEventManager:s.get(iv,null)},p=a.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",v=r?function J8(n,e,t,r){const o=r.get(GM,!1)||t===Mr.ShadowDom,s=n.selectRootElement(e,o);return function X8(n){rx(n)}(s),s}(p,r,this.componentDef.encapsulation,s):Cf(p,m,function A9(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(m)),O=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let S=null;null!==v&&(S=Qy(v,s,!0));const U=uv(0,null,null,1,0,null,null,null,null,null,null),K=Bf(null,U,null,O,null,null,h,p,s,null,S);let ne,de;ey(K);try{const M=this.componentDef;let E,A=null;M.findHostDirectiveDefs?(E=[],A=new Map,M.findHostDirectiveDefs(M,E,A),E.push(M)):E=[M];const x=function M9(n,e){const t=n[ie],r=De;return n[r]=e,Ha(t,r,2,"#host",null)}(K,v),R=function x9(n,e,t,r,i,o,s){const a=i[ie];!function O9(n,e,t,r){for(const i of n)e.mergedAttrs=Ou(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&($f(e,e.mergedAttrs,!0),null!==t&&Z1(r,t,e))}(r,n,e,s);let c=null;null!==e&&(c=Qy(e,i[lo]));const u=o.rendererFactory.createRenderer(e,t);let d=16;t.signals?d=4096:t.onPush&&(d=64);const h=Bf(i,nx(t),null,d,i[n.index],n,o,u,null,null,c);return a.firstCreatePass&&dv(a,n,r.length-1),jf(i,h),i[n.index]=h}(x,v,M,E,K,h,p);de=LS(U,De),v&&function k9(n,e,t,r){if(r)L_(n,t,["ng-version",SM.full]);else{const{attrs:i,classes:o}=function g6(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!xr(i))break;i=o}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&L_(n,t,i),o&&o.length>0&&X1(n,t,o.join(" "))}}(p,M,v,r),void 0!==t&&function N9(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const o=t[i];r.push(null!=o?Array.from(o):null)}}(de,this.ngContentSelectors,t),ne=function R9(n,e,t,r,i,o){const s=en(),a=i[ie],c=zn(s,i);sx(a,i,s,t,null,r);for(let d=0;d<t.length;d++)dn(os(i,a,s.directiveStart+d,s),i);ax(a,i,s),c&&dn(c,i);const u=os(i,a,s.directiveStart+s.componentOffset,s);if(n[At]=i[At]=u,null!==o)for(const d of o)d(u,e);return sv(a,s,n),u}(R,M,E,A,K,[V9]),gv(U,K,null)}finally{ty()}return new S9(this.componentType,ne,Ua(de,K),K,de)}}class S9 extends y8{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new P9(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;pv(o[ie],o,i,e,t),this.previousInputValues.set(e,t),ol(nr(this._tNode.index,o))}}get injector(){return new Sn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function V9(){const n=en();tf($()[ie],n)}function qe(n){let e=function Ex(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(kr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new q(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const s=n;s.inputs=zf(n.inputs),s.inputTransforms=zf(n.inputTransforms),s.declaredInputs=zf(n.declaredInputs),s.outputs=zf(n.outputs);const a=i.hostBindings;a&&B9(n,a);const c=i.viewQuery,u=i.contentQueries;if(c&&L9(n,c),u&&U9(n,u),Bh(n.inputs,i.inputs),Bh(n.declaredInputs,i.declaredInputs),Bh(n.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Bh(s.inputTransforms,i.inputTransforms)),kr(i)&&i.data.animation){const d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===qe&&(t=!1)}}e=Object.getPrototypeOf(e)}!function F9(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ou(i.hostAttrs,t=Ou(t,i.hostAttrs))}}(r)}function zf(n){return n===zr?{}:n===Le?[]:n}function L9(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function U9(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,o)=>{e(r,i,o),t(r,i,o)}:e}function B9(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function Ax(n){const e=n.inputConfig,t={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(t[r]=i[2])}n.inputTransforms=t}function Gf(n){return!!mv(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function mv(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Jr(n,e,t){return n[e]=t}function ll(n,e){return n[e]}function fn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function cs(n,e,t,r){const i=fn(n,e,t);return fn(n,e+1,r)||i}function Xr(n,e,t,r){const i=$();return fn(i,ya(),e)&&(Ve(),Yr(mt(),i,n,e,t,r)),Xr}function Ga(n,e,t,r){return fn(n,ya(),t)?e+be(t)+r:Ie}function qa(n,e,t,r,i,o){const a=cs(n,function Ci(){return me.lFrame.bindingIndex}(),t,i);return Ii(2),a?e+be(t)+r+be(i)+o:Ie}const rG=new RegExp(`^(\\d+)*(${Hy}|${$y})*(.*)`);function bv(n){return n.index-De}function Kf(n,e,t,r){let i=null;const o=bv(r),s=n.data[Wy];if(s?.[o])i=function cG(n,e){const[t,...r]=function oG(n){const e=n.match(rG),[t,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(const[c,u,d]of o.matchAll(/(f|n)(\d*)/g)){const h=parseInt(d,10)||1;a.push(u,h)}return[s,...a]}(n);let i;return i=t===$y?e[Dt][It]:t===Hy?function jM(n){return n.ownerDocument.body}(e[Dt][It]):nt(e[Number(t)+De]),function aG(n,e){let t=n;for(let r=0;r<e.length;r+=2){const i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case Fa.FirstChild:t=t.firstChild;break;case Fa.NextSibling:t=t.nextSibling}}return t}(i,r)}(s[o],t);else if(e.firstChild===r)i=n.firstChild;else{const a=null===r.prev,c=r.prev??r.parent;if(function sG(n){return!n.prev&&8===n.parent?.type}(r))i=Yy(n,bv(r.parent));else{let u=zn(c,t);if(a)i=u.firstChild;else{const d=bv(c),h=Yy(n,d);i=2===c.type&&h?Qf(Jy(n,d)+1,h):u.nextSibling}}}return i}function Qf(n,e){let t=e;for(let r=0;r<n;r++)t=t.nextSibling;return t}function ee(n,e,t,r,i,o,s,a){const c=$(),u=Ve(),d=n+De,h=u.firstCreatePass?function dG(n,e,t,r,i,o,s,a,c){const u=e.consts,d=Ha(e,n,4,s||null,po(u,a));lv(e,t,d,po(u,c)),tf(e,d);const h=d.tView=uv(2,d,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return null!==e.queries&&(e.queries.template(e,d),h.queries=e.queries.embeddedTView(d)),d}(d,u,c,e,t,r,i,o,s):u.data[d];Kr(h,!1);const p=Bx(u,c,h,n);ef()&&wf(u,c,p,h),dn(p,c),jf(c,c[d]=ux(p,c,p,h)),Yh(h)&&av(u,c,h),null!=s&&cv(c,h,a)}let Bx=jx;function jx(n,e,t,r){return go(!0),e[Ce].createComment("")}function hG(n,e,t,r){const i=e[bi],o=!i||_a()||Nf(i,r);if(go(o),o)return jx(0,e);const s=i.data[Gy]?.[r]??null;null!==s&&null!==t.tView&&null===t.tView.ssrId&&(t.tView.ssrId=s);const a=Kf(i,n,e,t);return kf(i,r,a),Qf(Jy(i,r),a)}function Za(n){return function ma(n,e){return n[e]}(function eH(){return me.lFrame.contextLView}(),De+n)}function H(n,e,t){const r=$();return fn(r,ya(),e)&&ar(Ve(),mt(),r,n,e,r[Ce],t,!1),H}function Iv(n,e,t,r,i){const s=i?"class":"style";pv(n,t,e.inputs[s],s,r)}function _(n,e,t,r){const i=$(),o=Ve(),s=De+n,a=i[Ce],c=o.firstCreatePass?function gG(n,e,t,r,i,o){const s=e.consts,c=Ha(e,n,2,r,po(s,i));return lv(e,t,c,po(s,o)),null!==c.attrs&&$f(c,c.attrs,!1),null!==c.mergedAttrs&&$f(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,e,t,r):o.data[s],u=$x(o,i,c,a,e,n);i[s]=u;const d=Yh(c);return Kr(c,!0),Z1(a,u,c),32!=(32&c.flags)&&ef()&&wf(o,i,u,c),0===function q6(){return me.lFrame.elementDepthCount}()&&dn(u,i),function W6(){me.lFrame.elementDepthCount++}(),d&&(av(o,i,c),sv(o,c,i)),null!==r&&cv(i,c),_}function b(){let n=en();Q_()?function Y_(){me.lFrame.isParent=!1}():(n=n.parent,Kr(n,!1));const e=n;(function Q6(n){return me.skipHydrationRootTNode===n})(e)&&function Z6(){me.skipHydrationRootTNode=null}(),function K6(){me.lFrame.elementDepthCount--}();const t=Ve();return t.firstCreatePass&&(tf(t,n),B_(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function pH(n){return 0!=(8&n.flags)}(e)&&Iv(t,e,$(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function gH(n){return 0!=(16&n.flags)}(e)&&Iv(t,e,$(),e.stylesWithoutHost,!1),b}function L(n,e,t,r){return _(n,e,t,r),b(),L}let $x=(n,e,t,r,i,o)=>(go(!0),Cf(r,i,t1()));function mG(n,e,t,r,i,o){const s=e[bi],a=!s||_a()||Nf(s,o);if(go(a),a)return Cf(r,i,t1());const c=Kf(s,n,e,t);return TM(s,o)&&kf(s,o,c.nextSibling),s&&(A1(t)||D1(c))&&ns(t)&&(function J6(n){me.skipHydrationRootTNode=n}(t),Y1(c)),c}let zx=(n,e,t,r)=>(go(!0),by(e[Ce],""));function vG(n,e,t,r){let i;const o=e[bi],s=!o||_a();if(go(s),s)return by(e[Ce],"");const a=Kf(o,n,e,t),c=function _8(n,e){const t=n.data;let r=t[zy]?.[e]??null;return null===r&&t[rl]?.[e]&&(r=Jy(n,e)),r}(o,r);return kf(o,r,a),i=Qf(c,a),i}function ze(){return $()}function pl(n){return!!n&&"function"==typeof n.then}function Gx(n){return!!n&&"function"==typeof n.subscribe}function Q(n,e,t,r){const i=$(),o=Ve(),s=en();return function Wx(n,e,t,r,i,o,s){const a=Yh(r),u=n.firstCreatePass&&hx(n),d=e[At],h=dx(e);let p=!0;if(3&r.type||s){const C=zn(r,e),w=s?s(C):C,O=h.length,S=s?K=>s(nt(K[r.index])):r.index;let U=null;if(!s&&a&&(U=function CG(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=e[la],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,e,i,r.index)),null!==U)(U.__ngLastListenerFn__||U).__ngNextListenerFn__=o,U.__ngLastListenerFn__=o,p=!1;else{o=Qx(r,e,d,o,!1);const K=t.listen(w,i,o);h.push(o,K),u&&u.push(i,S,O,O+1)}}else o=Qx(r,e,d,o,!1);const m=r.outputs;let v;if(p&&null!==m&&(v=m[i])){const C=v.length;if(C)for(let w=0;w<C;w+=2){const ne=e[v[w]][v[w+1]].subscribe(o),de=h.length;h.push(o,ne),u&&u.push(i,r.index,de,-(de+1))}}}(o,i,i[Ce],s,n,e,r),Q}function Kx(n,e,t,r){try{return Wr(6,e,t),!1!==t(r)}catch(i){return px(n,i),!1}finally{Wr(7,e,t)}}function Qx(n,e,t,r,i){return function o(s){if(s===Function)return r;ol(n.componentOffset>-1?nr(n.index,e):e);let c=Kx(e,t,r,s),u=o.__ngNextListenerFn__;for(;u;)c=Kx(e,t,u,s)&&c,u=u.__ngNextListenerFn__;return i&&!1===c&&s.preventDefault(),c}}function W(n=1){return function oH(n){return(me.lFrame.contextLView=function sH(n,e){for(;n>0;)e=e[ha],n--;return e}(n,me.lFrame.contextLView))[At]}(n)}function Yf(n,e,t,r,i){const o=$(),s=Ga(o,e,t,r);return s!==Ie&&ar(Ve(),mt(),o,n,s,o[Ce],i,!1),Yf}function Jf(n,e){return n<<17|e<<2}function yo(n){return n>>17&32767}function Tv(n){return 2|n}function us(n){return(131068&n)>>2}function Pv(n,e){return-131069&n|e<<2}function Av(n){return 1|n}function oO(n,e,t,r,i){const o=n[t+1],s=null===e;let a=r?yo(o):us(o),c=!1;for(;0!==a&&(!1===c||s);){const d=n[a+1];MG(n[a],e)&&(c=!0,n[a+1]=r?Av(d):Tv(d)),a=r?yo(d):us(d)}c&&(n[t+1]=r?Tv(o):Av(o))}function MG(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Pa(n,e)>=0}const Ht={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function sO(n){return n.substring(Ht.key,Ht.keyEnd)}function aO(n,e){const t=Ht.textEnd;return t===e?-1:(e=Ht.keyEnd=function kG(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Ht.key=e,t),ec(n,e,t))}function ec(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function gl(n,e,t){return Nr(n,e,t,!1),gl}function Pe(n,e){return Nr(n,e,null,!0),Pe}function ei(n,e){for(let t=function OG(n){return function uO(n){Ht.key=0,Ht.keyEnd=0,Ht.value=0,Ht.valueEnd=0,Ht.textEnd=n.length}(n),aO(n,ec(n,0,Ht.textEnd))}(e);t>=0;t=aO(e,t))rr(n,sO(e),!0)}function Nr(n,e,t,r){const i=$(),o=Ve(),s=Ii(2);o.firstUpdatePass&&fO(o,n,s,r),e!==Ie&&fn(i,s,e)&&gO(o,o.data[Dn()],i,i[Ce],n,i[s+1]=function qG(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=jt(_o(n)))),n}(e,t),r,s)}function hO(n,e){return e>=n.expandoStartIndex}function fO(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[Dn()],s=hO(n,t);_O(o,r)&&null===e&&!s&&(e=!1),e=function UG(n,e,t,r){const i=function X_(n){const e=me.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=ml(t=Dv(null,n,e,t,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==i)if(t=Dv(i,n,e,t,r),null===o){let c=function BG(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==us(r))return n[yo(r)]}(n,e,r);void 0!==c&&Array.isArray(c)&&(c=Dv(null,n,e,c[1],r),c=ml(c,e.attrs,r),function jG(n,e,t,r){n[yo(t?e.classBindings:e.styleBindings)]=r}(n,e,r,c))}else o=function $G(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=ml(r,n[o].hostAttrs,t);return ml(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function DG(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=yo(s),c=us(s);n[r]=t;let d,u=!1;if(Array.isArray(t)?(d=t[1],(null===d||Pa(t,d)>0)&&(u=!0)):d=t,i)if(0!==c){const p=yo(n[a+1]);n[r+1]=Jf(p,a),0!==p&&(n[p+1]=Pv(n[p+1],r)),n[a+1]=function PG(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Jf(a,0),0!==a&&(n[a+1]=Pv(n[a+1],r)),a=r;else n[r+1]=Jf(c,0),0===a?a=r:n[c+1]=Pv(n[c+1],r),c=r;u&&(n[r+1]=Tv(n[r+1])),oO(n,d,r,!0),oO(n,d,r,!1),function SG(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Pa(o,e)>=0&&(t[r+1]=Av(t[r+1]))}(e,d,n,r,o),s=Jf(a,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,t,s,r)}}function Dv(n,e,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],r=ml(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function ml(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),rr(n,s,!!t||e[++o]))}return void 0===n?null:n}function gO(n,e,t,r,i,o,s,a){if(!(3&e.type))return;const c=n.data,u=c[a+1],d=function AG(n){return 1==(1&n)}(u)?mO(c,e,t,i,us(u),s):void 0;Xf(d)||(Xf(o)||function TG(n){return 2==(2&n)}(u)&&(o=mO(c,null,t,i,a,s)),function Pz(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:mo.DashCase;null==i?n.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=mo.Important),n.setStyle(t,r,i,o))}}(r,s,Zh(Dn(),t),i,o))}function mO(n,e,t,r,i,o){const s=null===e;let a;for(;i>0;){const c=n[i],u=Array.isArray(c),d=u?c[1]:c,h=null===d;let p=t[i+1];p===Ie&&(p=h?Le:void 0);let m=h?ly(p,r):d===r?p:void 0;if(u&&!Xf(m)&&(m=ly(c,r)),Xf(m)&&(a=m,s))return a;const v=n[i+1];i=s?yo(v):us(v)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=ly(c,r))}return a}function Xf(n){return void 0!==n}function _O(n,e){return 0!=(n.flags&(e?8:16))}function P(n,e=""){const t=$(),r=Ve(),i=n+De,o=r.firstCreatePass?Ha(r,i,1,e,null):r.data[i],s=yO(r,t,o,e,n);t[i]=s,ef()&&wf(r,t,s,o),Kr(o,!1)}let yO=(n,e,t,r,i)=>(go(!0),bf(e[Ce],r));function WG(n,e,t,r,i){const o=e[bi],s=!o||_a()||Nf(o,i);return go(s),s?bf(e[Ce],r):Kf(o,n,e,t)}function fe(n){return Oe("",n,""),fe}function Oe(n,e,t){const r=$(),i=Ga(r,n,e,t);return i!==Ie&&Di(r,Dn(),i),Oe}function tc(n,e,t,r,i){const o=$(),s=qa(o,n,e,t,r,i);return s!==Ie&&Di(o,Dn(),s),tc}function Zf(n,e,t){!function Vr(n,e,t,r){const i=Ve(),o=Ii(2);i.firstUpdatePass&&fO(i,null,o,r);const s=$();if(t!==Ie&&fn(s,o,t)){const a=i.data[Dn()];if(_O(a,r)&&!hO(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(t=w_(c,t||"")),Iv(i,a,s,t,r)}else!function GG(n,e,t,r,i,o,s,a){i===Ie&&(i=Le);let c=0,u=0,d=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==d||null!==h;){const p=c<i.length?i[c+1]:void 0,m=u<o.length?o[u+1]:void 0;let C,v=null;d===h?(c+=2,u+=2,p!==m&&(v=h,C=m)):null===h||null!==d&&d<h?(c+=2,v=d):(u+=2,v=h,C=m),null!==v&&gO(n,e,t,r,v,C,s,a),d=c<i.length?i[c]:null,h=u<o.length?o[u]:null}}(i,a,s,s[Ce],s[o+1],s[o+1]=function HG(n,e,t){if(null==t||""===t)return Le;const r=[],i=_o(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,o)}}(rr,ei,Ga($(),n,e,t),!0)}const rc="en-US";let UO=rc;function xv(n,e,t,r,i){if(n=_e(n),Array.isArray(n))for(let o=0;o<n.length;o++)xv(n[o],e,t,r,i);else{const o=Ve(),s=$(),a=en();let c=as(n)?n:_e(n.provide);const u=vM(n),d=1048575&a.providerIndexes,h=a.directiveStart,p=a.providerIndexes>>20;if(as(n)||!n.multi){const m=new $u(u,i,j),v=Rv(c,e,i?d:d+p,h);-1===v?(ay(af(a,s),o,c),Ov(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[v]=m,s[v]=m)}else{const m=Rv(c,e,d+p,h),v=Rv(c,e,d,d+p),w=v>=0&&t[v];if(i&&!w||!i&&!(m>=0&&t[m])){ay(af(a,s),o,c);const O=function h7(n,e,t,r,i){const o=new $u(n,t,j);return o.multi=[],o.index=e,o.componentProviders=0,lR(o,i,r&&!t),o}(i?d7:l7,t.length,i,r,u);!i&&w&&(t[v].providerFactory=O),Ov(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(O),s.push(O)}else Ov(o,n,m>-1?m:v,lR(t[i?v:m],u,!i&&r));!i&&r&&w&&t[v].componentProviders++}}}function Ov(n,e,t,r){const i=as(e),o=function t8(n){return!!n.useClass}(e);if(i||o){const c=(o?_e(e.useClass):e).prototype.ngOnDestroy;if(c){const u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const d=u.indexOf(t);-1===d?u.push(t,[r,c]):u[d+1].push(r,c)}else u.push(t,c)}}}function lR(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Rv(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function l7(n,e,t,r){return kv(this.multi,[])}function d7(n,e,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=os(t,t[ie],this.providerFactory.index,r);o=a.slice(0,s),kv(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],kv(i,o);return o}function kv(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function ht(n,e=[]){return t=>{t.providersResolver=(r,i)=>function u7(n,e,t){const r=Ve();if(r.firstCreatePass){const i=kr(n);xv(t,r.data,r.blueprint,i,!0),xv(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class ds{}class dR{}class Nv extends ds{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Cx(this);const i=tr(e);this._bootstrapComponents=Ai(i.bootstrap),this._r3Injector=kM(e,t,[{provide:ds,useValue:this},{provide:Vf,useValue:this.componentFactoryResolver},...r],jt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Vv extends dR{constructor(e){super(),this.moduleType=e}create(e){return new Nv(this.moduleType,e,[])}}class hR extends ds{constructor(e){super(),this.componentFactoryResolver=new Cx(this),this.instance=null;const t=new ka([...e.providers,{provide:ds,useValue:this},{provide:Vf,useValue:this.componentFactoryResolver}],e.parent||xf(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Fv(n,e,t=null){return new hR({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let g7=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=gM(0,t.type),i=r.length>0?Fv([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=ue({token:n,providedIn:"environment",factory:()=>new n(oe(or))})}}return n})();function br(n){n.getStandaloneInjector=e=>e.get(g7).getOrCreateStandaloneInjector(n)}function Il(n,e,t){const r=An()+n,i=$();return i[r]===Ie?Jr(i,r,t?e.call(t):e()):ll(i,r)}function vR(n,e,t,r,i,o,s,a,c){const u=An()+n,d=$(),h=function vr(n,e,t,r,i,o){const s=cs(n,e,t,r);return cs(n,e+2,i,o)||s}(d,u,t,r,i,o);return cs(d,u+4,s,a)||h?Jr(d,u+6,c?e.call(c,t,r,i,o,s,a):e(t,r,i,o,s,a)):ll(d,u+6)}function U7(){return this._results[Symbol.iterator]()}class Uv{get changes(){return this._changes||(this._changes=new _t)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Uv.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=U7)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function yr(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function SH(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function j7(n,e,t,r=!0){const i=e[ie];if(function yz(n,e,t,r){const i=Xt+r,o=t.length;r>0&&(t[i-1][Rr]=e),r<o-Xt?(e[Rr]=t[i],m1(t,Xt+r,e)):(t.push(e),e[Rr]=null),e[dt]=t;const s=e[Nu];null!==s&&t!==s&&function vz(n,e){const t=n[pa];e[Dt]!==e[dt][dt][Dt]&&(n[mS]=!0),null===t?n[pa]=[e]:t.push(e)}(s,e);const a=e[Gr];null!==a&&a.insertView(n),e[Ee]|=128}(i,e,n,t),r){const o=Ty(t,n),s=e[Ce],a=Ef(s,n[qr]);null!==a&&function gz(n,e,t,r,i,o){r[It]=i,r[ln]=e,Xu(n,r,t,1,i,o)}(i,n[ln],s,e,a,o)}}let Si=(()=>{class n{static{this.__NG_ELEMENT_ID__=z7}}return n})();const $7=Si,H7=class extends $7{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=function B7(n,e,t,r){const i=e.tView,a=Bf(n,i,t,4096&n[Ee]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Nu]=n[e.index];const u=n[Gr];return null!==u&&(a[Gr]=u.createEmbeddedView(i)),gv(i,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:r});return new cl(i)}};function z7(){return ip(en(),$())}function ip(n,e){return 4&n.type?new H7(e,n,Ua(n,e)):null}function TR(n){const e=n[Uu]??[],r=n[dt][Ce];for(const i of e)G7(i,r);n[Uu]=Le}function G7(n,e){let t=0,r=n.firstChild;if(r){const i=n.data[La];for(;t<i;){const o=r.nextSibling;Tf(e,r,!1),r=o,t++}}}function PR(n){TR(n);for(let e=Xt;e<n.length;e++)op(n[e])}function op(n){const e=n[ie];for(let t=De;t<e.bindingStartIndex;t++)Pn(n[t])?PR(n[t]):Array.isArray(n[t])&&op(n[t])}let AR=(n,e)=>null;function K7(n,e){const t=n[Uu];return e&&null!==t&&0!==t.length?t[0].data[qy]===e?t.shift():(TR(n),null):null}function DR(n,e){return AR(n,e)}let Fr=(()=>{class n{static{this.__NG_ELEMENT_ID__=Y7}}return n})();function Y7(){return xR(en(),$())}const J7=Fr,SR=class extends J7{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Ua(this._hostTNode,this._hostLView)}get injector(){return new Sn(this._hostTNode,this._hostLView)}get parentInjector(){const e=cf(this._hostTNode,this._hostLView);if(iy(e)){const t=zu(e,this._hostLView),r=Hu(e);return new Sn(t[ie].data[r+8],t)}return new Sn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=MR(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Xt}createEmbeddedView(e,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=DR(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s),c=!!s&&!yf(this._hostTNode);return this.insertImpl(a,i,c),a}createComponent(e,t,r,i,o){const s=e&&!function qu(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const C=t||{};a=C.index,r=C.injector,i=C.projectableNodes,o=C.environmentInjector||C.ngModuleRef}const c=s?e:new ul(Ne(e)),u=r||this.parentInjector;if(!o&&null==c.ngModule){const w=(s?u:this.parentInjector).get(or,null);w&&(o=w)}const d=Ne(c.componentType??{}),h=DR(this._lContainer,d?.id??null),m=c.create(u,i,h?.firstChild??null,o),v=!!h&&!yf(this._hostTNode);return this.insertImpl(m.hostView,a,v),m}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,r){const i=e._lView;if(function H6(n){return Pn(n[dt])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const u=i[dt],d=new SR(u,u[ln],u[dt]);d.detach(d.indexOf(e))}}const s=this._adjustIndex(t),a=this._lContainer;return j7(a,i,s,!r),e.attachToViewContainerRef(),m1(Bv(a),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=MR(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=If(this._lContainer,t);r&&(df(Bv(this._lContainer),t),Cy(r[ie],r))}detach(e){const t=this._adjustIndex(e,-1),r=If(this._lContainer,t);return r&&null!=df(Bv(this._lContainer),t)?new cl(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function MR(n){return n[8]}function Bv(n){return n[8]||(n[8]=[])}function xR(n,e){let t;const r=e[n.index];return Pn(r)?t=r:(t=ux(r,e,null,n),e[n.index]=t,jf(e,t)),OR(t,e,n,r),new SR(t,n,e)}let OR=RR;function RR(n,e,t,r){if(n[qr])return;let i;i=8&t.type?nt(r):function X7(n,e){const t=n[Ce],r=t.createComment(""),i=zn(e,n);return ss(t,Ef(t,i),r,function Ez(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[qr]=i}function Z7(n,e,t,r){if(n[qr]&&n[Uu])return;const i=e[bi],o=t.index-De,s=function vf(n){let e=n.parent;for(;e;){if(A1(e))return!0;e=e.parent}return!1}(t)||yf(t);if(!i||s||Nf(i,o))return RR(n,e,t,r);const c=Yy(i,o),u=i.data[rl]?.[o],[d,h]=function W7(n,e){const t=[];for(const r of e)for(let i=0;i<(r[Of]??1);i++){const o={data:r,firstChild:null};r[La]>0&&(o.firstChild=n,n=Qf(r[La],n)),t.push(o)}return[n,t]}(c,u);n[qr]=d,n[Uu]=h}class jv{constructor(e){this.queryList=e,this.matches=null}clone(){return new jv(this.queryList)}setDirty(){this.queryList.setDirty()}}class $v{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new $v(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==jR(e,t).matches&&this.queries[t].setDirty()}}class kR{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class Hv{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new Hv(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class zv{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new zv(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,t,tW(t,o)),this.matchTNodeWithReadOption(e,t,uf(t,e,o,!1,!1))}else r===Si?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,uf(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===sr||i===Fr||i===Si&&4&t.type)this.addMatch(t.index,-2);else{const o=uf(t,e,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function tW(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function rW(n,e,t,r){return-1===t?function nW(n,e){return 11&n.type?Ua(n,e):4&n.type?ip(n,e):null}(e,n):-2===t?function iW(n,e,t){return t===sr?Ua(e,n):t===Si?ip(e,n):t===Fr?xR(e,n):void 0}(n,e,r):os(n,n[ie],t,e)}function NR(n,e,t,r){const i=e[Gr].queries[r];if(null===i.matches){const o=n.data,s=t.matches,a=[];for(let c=0;c<s.length;c+=2){const u=s[c];a.push(u<0?null:rW(e,o[u],s[c+1],t.metadata.read))}i.matches=a}return i.matches}function Gv(n,e,t,r){const i=n.queries.getByIndex(t),o=i.matches;if(null!==o){const s=NR(n,e,i,t);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)r.push(s[a/2]);else{const u=o[a+1],d=e[-c];for(let h=Xt;h<d.length;h++){const p=d[h];p[Nu]===p[dt]&&Gv(p[ie],p,u,r)}if(null!==d[pa]){const h=d[pa];for(let p=0;p<h.length;p++){const m=h[p];Gv(m[ie],m,u,r)}}}}}return r}function VR(n){const e=$(),t=Ve(),r=QS();Z_(r+1);const i=jR(t,r);if(n.dirty&&function j6(n){return 4==(4&n[Ee])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?Gv(t,e,r,[]):NR(t,e,i,r);n.reset(o,I8),n.notifyOnChanges()}return!0}return!1}function FR(n,e,t,r){const i=Ve();if(i.firstCreatePass){const o=en();(function BR(n,e,t){null===n.queries&&(n.queries=new Hv),n.queries.track(new zv(e,t))})(i,new kR(e,t,r),o.index),function aW(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}!function UR(n,e,t){const r=new Uv(4==(4&t));(function t9(n,e,t,r){const i=dx(e);i.push(t),n.firstCreatePass&&hx(n).push(r,i.length-1)})(n,e,r,r.destroy),null===e[Gr]&&(e[Gr]=new $v),e[Gr].queries.push(new jv(r))}(i,$(),t)}function jR(n,e){return n.queries.getByIndex(e)}function ic(n,e){return ip(n,e)}const Jv=new re("Application Initializer");let Xv=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=Z(Jv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const o=i();if(pl(o))t.push(o);else if(Gx(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Zv=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();const Mi=new re("LocaleId",{providedIn:"root",factory:()=>Z(Mi,Ae.Optional|Ae.SkipSelf)||function DW(){return typeof $localize<"u"&&$localize.locale||rc}()});let ap=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Zn(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class xW{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let ik=(()=>{class n{compileModuleSync(t){return new Vv(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=Ai(tr(t).declarations).reduce((s,a)=>{const c=Ne(a);return c&&s.push(new ul(c)),s},[]);return new xW(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const ck=new re("");let vo=null;const ob=new re("PlatformDestroyListeners"),Al=new re("appBootstrapListener");class dk{constructor(e,t){this.name=e,this.token=t}}function iK(n){try{const{rootComponent:e,appProviders:t,platformProviders:r}=n,i=function rK(n=[]){if(vo)return vo;const e=function fk(n=[],e){return hn.create({name:e,providers:[{provide:Fy,useValue:"platform"},{provide:ob,useValue:new Set([()=>vo=null])},...n]})}(n);return vo=e,function lk(){!function D6(n){DS=n}(()=>{throw new q(600,!1)})}(),function hk(n){n.get(bM,null)?.forEach(t=>t())}(e),e}(r),o=[uK(),...t||[]],a=new hR({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(Ue);return c.run(()=>{a.resolveInjectorInitializers();const u=a.get(Pi,null);let d;c.runOutsideAngular(()=>{d=c.onError.subscribe({next:m=>{u.handleError(m)}})});const h=()=>a.destroy(),p=i.get(ob);return p.add(h),a.onDestroy(()=>{d.unsubscribe(),p.delete(h)}),function mk(n,e,t){try{const r=t();return pl(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,c,()=>{const m=a.get(Xv);return m.runInitializers(),m.donePromise.then(()=>{!function BO(n){fr(n,"Expected localeId to be defined"),"string"==typeof n&&(UO=n.toLowerCase().replace(/_/g,"-"))}(a.get(Mi,rc)||rc);const C=a.get(hs);return void 0!==e&&C.bootstrap(e),C})})})}catch(e){return Promise.reject(e)}}let hs=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Z(vk),this.zoneIsStable=Z(UM),this.componentTypes=[],this.components=[],this.isStable=Z(ap).hasPendingTasks.pipe(wn(t=>t?pe(!1):this.zoneIsStable),function L$(n,e=ao){return n=n??U$,Ut((t,r)=>{let i,o=!0;t.subscribe(Nt(r,s=>{const a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}(),GD()),this._injector=Z(or)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof PM;if(!this._injector.get(Xv).done)throw!i&&function ua(n){const e=Ne(n)||Jt(n)||Tn(n);return null!==e&&e.standalone}(t),new q(405,!1);let s;s=i?t:this._injector.get(Vf).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function tK(n){return n.isBoundToModule}(s)?void 0:this._injector.get(ds),u=s.create(hn.NULL,[],r||s.selector,a),d=u.location.nativeElement,h=u.injector.get(ck,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),lp(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new q(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;lp(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(Al,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>lp(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new q(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function lp(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const vk=new re("",{providedIn:"root",factory:()=>Z(Pi).handleError.bind(void 0)});function aK(){const n=Z(Ue),e=Z(Pi);return t=>n.runOutsideAngular(()=>e.handleError(t))}let cK=(()=>{class n{constructor(){this.zone=Z(Ue),this.applicationRef=Z(hs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function bk(n){return[{provide:Ue,useFactory:n},{provide:Ra,multi:!0,useFactory:()=>{const e=Z(cK,{optional:!0});return()=>e.initialize()}},{provide:vk,useFactory:aK},{provide:UM,useFactory:BM}]}function uK(n){return nl([[],bk(()=>new Ue(function gk(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}(n)))])}let Dl=(()=>{class n{static{this.__NG_ELEMENT_ID__=lK}}return n})();function lK(n){return function dK(n,e,t){if(ns(n)&&!t){const r=nr(n.index,e);return new cl(r,r)}return 47&n.type?new cl(e[Dt],e):null}(en(),$(),16==(16&n))}class Tk{constructor(){}supports(e){return Gf(e)}create(e){return new mK(e)}}const gK=(n,e)=>e;class mK{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||gK}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<Ak(r,i,o)?t:r,a=Ak(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const u=a-i,d=c-i;if(u!=d){for(let p=0;p<u;p++){const m=p<o.length?o[p]:o[p]=0,v=m+p;d<=v&&v<u&&(o[p]=m+1)}o[s.previousIndex]=d-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Gf(e))throw new q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function W9(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new _K(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Pk),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Pk),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class _K{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class yK{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class Pk{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new yK,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ak(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class Dk{constructor(){}supports(e){return e instanceof Map||mv(e)}create(){return new vK}}class vK{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||mv(e)))throw new q(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new bK(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class bK{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Sk(){return new fp([new Tk])}let fp=(()=>{class n{static{this.\u0275prov=ue({token:n,providedIn:"root",factory:Sk})}constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||Sk()),deps:[[n,new ff,new Mn]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new q(901,!1)}}return n})();function Mk(){return new Sl([new Dk])}let Sl=(()=>{class n{static{this.\u0275prov=ue({token:n,providedIn:"root",factory:Mk})}constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||Mk()),deps:[[n,new ff,new Mn]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new q(901,!1)}}return n})(),Lk=!1;function OK(){return nl([{provide:Lf,useFactory:()=>{let n=!0;return $a()&&(n=!!Z(Va,{optional:!0})?.get(Ky,null)),n&&Z(IM).add("hydration"),n}},{provide:Ra,useValue:()=>{$a()&&Z(Lf)&&(function RK(){const n=xa();let e;for(const t of n.body.childNodes)if(t.nodeType===Node.COMMENT_NODE&&"nghm"===t.textContent?.trim()){e=t;break}if(!e)throw new q(-507,!1)}(),function MK(){Lk||(Lk=!0,function f8(){EM=h8}(),function _G(){$x=mG}(),function KG(){yO=WG}(),function bG(){zx=vG}(),function fG(){Bx=hG}(),function eW(){OR=Z7}(),function Q7(){AR=K7}(),function e9(){rx=Z8}())}())},multi:!0},{provide:GM,useFactory:()=>$a()&&Z(Lf)},{provide:Al,useFactory:()=>{if($a()&&Z(Lf)){const n=Z(hs);return Z(hn),()=>{(function xK(n,e){return n.isStable.pipe(_i(r=>r)).toPromise().then(()=>{})})(n).then(()=>{Ue.assertInAngularZone(),function q7(n){const e=n._views;for(const t of e){const r=wM(t);null!==r&&null!==r[It]&&(Hn(r)?op(r):(op(r[It]),PR(r)))}}(n)})}}return()=>{}},multi:!0}])}function ac(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let hb=null;function bo(){return hb}class FK{}const cr=new re("DocumentToken");let fb=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ue({token:n,factory:function(){return Z(UK)},providedIn:"platform"})}}return n})();const LK=new re("Location Initialized");let UK=(()=>{class n extends fb{constructor(){super(),this._doc=Z(cr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return bo().getBaseHref(this._doc)}onPopState(t){const r=bo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=bo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ue({token:n,factory:function(){return new n},providedIn:"platform"})}}return n})();function pb(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Uk(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function xi(n){return n&&"?"!==n[0]?"?"+n:n}let ps=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ue({token:n,factory:function(){return Z(jk)},providedIn:"root"})}}return n})();const Bk=new re("appBaseHref");let jk=(()=>{class n extends ps{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Z(cr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return pb(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+xi(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+xi(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+xi(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(oe(fb),oe(Bk,8))}}static{this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),BK=(()=>{class n extends ps{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=pb(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+xi(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+xi(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(oe(fb),oe(Bk,8))}}static{this.\u0275prov=ue({token:n,factory:n.\u0275fac})}}return n})(),gb=(()=>{class n{constructor(t){this._subject=new _t,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function HK(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Uk($k(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+xi(r))}normalize(t){return n.stripTrailingSlash(function $K(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,$k(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+xi(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+xi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=xi}static{this.joinWithSlash=pb}static{this.stripTrailingSlash=Uk}static{this.\u0275fac=function(r){return new(r||n)(oe(ps))}}static{this.\u0275prov=ue({token:n,factory:function(){return function jK(){return new gb(oe(ps))}()},providedIn:"root"})}}return n})();function $k(n){return n.replace(/\/index.html$/,"")}function Jk(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}class SQ{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let gs=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new SQ(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),eN(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{eN(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(j(Fr),j(Si),j(fp))}}static{this.\u0275dir=ye({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function eN(n,e){n.context.$implicit=e.item}let ti=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new MQ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){tN("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){tN("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(j(Fr),j(Si))}}static{this.\u0275dir=ye({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})();class MQ{constructor(){this.$implicit=null,this.ngIf=null}}function tN(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${jt(e)}'.`)}let rN=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,o]=t.split("."),s=-1===i.indexOf("-")?void 0:mo.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static{this.\u0275fac=function(r){return new(r||n)(j(sr),j(Sl),j(Ti))}}static{this.\u0275dir=ye({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return n})(),ki=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Or({type:n})}static{this.\u0275inj=pr({})}}return n})();function sN(n){return"server"===n}let oY=(()=>{class n{static{this.\u0275prov=ue({token:n,providedIn:"root",factory:()=>new sY(oe(cr),window)})}}return n})();class sY{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function aY(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class aN{}function uc(n,e){return Qe(e)?Yt(n,e,1):Yt(n,1)}function Rl(n){return Ut((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function yt(n,e,t){const r=Qe(n)||e||t?{next:n,error:e,complete:t}:n;return r?Ut((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Nt(o,c=>{var u;null===(u=r.next)||void 0===u||u.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,c),o.error(c)},()=>{var c,u;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):ao}class Ap{}class Dp{}class Er{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Er?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Er;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Er?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class MY{encodeKey(e){return hN(e)}encodeValue(e){return hN(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const OY=/%(\d[a-f0-9])/gi,RY={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function hN(n){return encodeURIComponent(n).replace(OY,(e,t)=>RY[t]??e)}function Sp(n){return`${n}`}class Ni{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new MY,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function xY(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(Sp):[Sp(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Ni({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Sp(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Sp(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class kY{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function fN(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function pN(n){return typeof Blob<"u"&&n instanceof Blob}function gN(n){return typeof FormData<"u"&&n instanceof FormData}class kl{constructor(e,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function NY(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Er),this.context||(this.context=new kY),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Ni,this.urlWithParams=t}serializeBody(){return null===this.body?null:fN(this.body)||pN(this.body)||gN(this.body)||function VY(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ni?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||gN(this.body)?null:pN(this.body)?this.body.type||null:fN(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ni?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,u=e.params||this.params;const d=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((h,p)=>h.set(p,e.setHeaders[p]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((h,p)=>h.set(p,e.setParams[p]),u)),new kl(t,r,o,{params:u,headers:c,context:d,reportProgress:a,responseType:i,withCredentials:s})}}var lc=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(lc||{});class Ob{constructor(e,t=200,r="OK"){this.headers=e.headers||new Er,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Rb extends Ob{constructor(e={}){super(e),this.type=lc.ResponseHeader}clone(e={}){return new Rb({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class dc extends Ob{constructor(e={}){super(e),this.type=lc.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new dc({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class mN extends Ob{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function kb(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Vi=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof kl)o=t;else{let c,u;c=i.headers instanceof Er?i.headers:new Er(i.headers),i.params&&(u=i.params instanceof Ni?i.params:new Ni({fromObject:i.params})),o=new kl(t,r,void 0!==i.body?i.body:null,{headers:c,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=pe(o).pipe(uc(c=>this.handler.handle(c)));if(t instanceof kl||"events"===i.observe)return s;const a=s.pipe(mi(c=>c instanceof dc));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(xe(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(xe(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(xe(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(xe(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Ni).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,kb(i,r))}post(t,r,i={}){return this.request("POST",t,kb(i,r))}put(t,r,i={}){return this.request("PUT",t,kb(i,r))}static{this.\u0275fac=function(r){return new(r||n)(oe(Ap))}}static{this.\u0275prov=ue({token:n,factory:n.\u0275fac})}}return n})();function vN(n,e){return e(n)}function LY(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const BY=new re(""),Nl=new re(""),bN=new re("");function jY(){let n=null;return(e,t)=>{null===n&&(n=(Z(BY,{optional:!0})??[]).reduceRight(LY,vN));const r=Z(ap),i=r.add();return n(e,t).pipe(Rl(()=>r.remove(i)))}}let CN=(()=>{class n extends Ap{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=Z(ap)}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Nl),...this.injector.get(bN,[])]));this.chain=i.reduceRight((o,s)=>function UY(n,e,t){return(r,i)=>t.runInContext(()=>e(r,o=>n(o,i)))}(o,s,this.injector),vN)}const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Rl(()=>this.pendingTasks.remove(r)))}static{this.\u0275fac=function(r){return new(r||n)(oe(Dp),oe(or))}}static{this.\u0275prov=ue({token:n,factory:n.\u0275fac})}}return n})();const GY=/^\)\]\}',?\n/;let EN=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new q(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?Bt(r.\u0275loadImpl()):pe(null)).pipe(wn(()=>new lt(o=>{const s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((C,w)=>s.setRequestHeader(C,w.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const C=t.detectContentTypeHeader();null!==C&&s.setRequestHeader("Content-Type",C)}if(t.responseType){const C=t.responseType.toLowerCase();s.responseType="json"!==C?C:"text"}const a=t.serializeBody();let c=null;const u=()=>{if(null!==c)return c;const C=s.statusText||"OK",w=new Er(s.getAllResponseHeaders()),O=function qY(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||t.url;return c=new Rb({headers:w,status:s.status,statusText:C,url:O}),c},d=()=>{let{headers:C,status:w,statusText:O,url:S}=u(),U=null;204!==w&&(U=typeof s.response>"u"?s.responseText:s.response),0===w&&(w=U?200:0);let K=w>=200&&w<300;if("json"===t.responseType&&"string"==typeof U){const ne=U;U=U.replace(GY,"");try{U=""!==U?JSON.parse(U):null}catch(de){U=ne,K&&(K=!1,U={error:de,text:U})}}K?(o.next(new dc({body:U,headers:C,status:w,statusText:O,url:S||void 0})),o.complete()):o.error(new mN({error:U,headers:C,status:w,statusText:O,url:S||void 0}))},h=C=>{const{url:w}=u(),O=new mN({error:C,status:s.status||0,statusText:s.statusText||"Unknown Error",url:w||void 0});o.error(O)};let p=!1;const m=C=>{p||(o.next(u()),p=!0);let w={type:lc.DownloadProgress,loaded:C.loaded};C.lengthComputable&&(w.total=C.total),"text"===t.responseType&&s.responseText&&(w.partialText=s.responseText),o.next(w)},v=C=>{let w={type:lc.UploadProgress,loaded:C.loaded};C.lengthComputable&&(w.total=C.total),o.next(w)};return s.addEventListener("load",d),s.addEventListener("error",h),s.addEventListener("timeout",h),s.addEventListener("abort",h),t.reportProgress&&(s.addEventListener("progress",m),null!==a&&s.upload&&s.upload.addEventListener("progress",v)),s.send(a),o.next({type:lc.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",d),s.removeEventListener("timeout",h),t.reportProgress&&(s.removeEventListener("progress",m),null!==a&&s.upload&&s.upload.removeEventListener("progress",v)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(oe(aN))}}static{this.\u0275prov=ue({token:n,factory:n.\u0275fac})}}return n})();const Nb=new re("XSRF_ENABLED"),wN=new re("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),TN=new re("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class PN{}let QY=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Jk(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(oe(cr),oe(wi),oe(wN))}}static{this.\u0275prov=ue({token:n,factory:n.\u0275fac})}}return n})();function YY(n,e){const t=n.url.toLowerCase();if(!Z(Nb)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=Z(PN).getToken(),i=Z(TN);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var Co=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Co||{});function ms(n,e){return{\u0275kind:n,\u0275providers:e}}function AN(...n){const e=[Vi,EN,CN,{provide:Ap,useExisting:CN},{provide:Dp,useExisting:EN},{provide:Nl,useValue:YY,multi:!0},{provide:Nb,useValue:!0},{provide:PN,useClass:QY}];for(const t of n)e.push(...t.\u0275providers);return nl(e)}const DN=new re("LEGACY_INTERCEPTOR_FN");let XY=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Or({type:n})}static{this.\u0275inj=pr({providers:[AN(ms(Co.LegacyInterceptors,[{provide:DN,useFactory:jY},{provide:Nl,useExisting:DN,multi:!0}]))]})}}return n})();const Mp=new re(""),ZY=["GET","HEAD"];function eJ(n,e){const{isCacheActive:t}=Z(Mp);if(!t||!ZY.includes(n.method))return e(n);const r=Z(Va),i=function nJ(n){const{params:e,method:t,responseType:r,url:i}=n;return function rJ(n){let e=0;for(const t of n)e=Math.imul(31,e)+t.charCodeAt(0)<<0;return e+=2147483648,e.toString()}(t+"."+r+"."+i+"?"+e.keys().sort().map(c=>`${c}=${e.getAll(c)}`).join("&"))}(n),o=r.get(i,null);if(o){let s=o.body;switch(o.responseType){case"arraybuffer":s=(new TextEncoder).encode(o.body).buffer;break;case"blob":s=new Blob([o.body])}return pe(new dc({body:s,headers:new Er(o.headers),status:o.status,statusText:o.statusText,url:o.url}))}return e(n).pipe(yt(s=>{s instanceof dc&&r.set(i,{body:s.body,headers:tJ(s.headers),status:s.status,statusText:s.statusText,url:s.url||"",responseType:n.responseType})}))}function tJ(n){const e={};for(const t of n.keys()){const r=n.getAll(t);null!==r&&(e[t]=r)}return e}class oJ extends FK{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Vb extends oJ{static makeCurrent(){!function VK(n){hb||(hb=n)}(new Vb)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function sJ(){return Vl=Vl||document.querySelector("base"),Vl?Vl.getAttribute("href"):null}();return null==t?null:function aJ(n){xp=xp||document.createElement("a"),xp.setAttribute("href",n);const e=xp.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Vl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Jk(document.cookie,e)}}let xp,Vl=null,uJ=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ue({token:n,factory:n.\u0275fac})}}return n})();const Fb=new re("EventManagerPlugins");let SN=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new q(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(oe(Fb),oe(Ue))}}static{this.\u0275prov=ue({token:n,factory:n.\u0275fac})}}return n})();class MN{constructor(e){this._doc=e}}const Lb="ng-app-id";let xN=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=sN(o),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Lb}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(Lb),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Lb,this.appId),s}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(oe(cr),oe(jy),oe(CM,8),oe(wi))}}static{this.\u0275prov=ue({token:n,factory:n.\u0275fac})}}return n})();const Ub={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Bb=/%COMP%/g,fJ=new re("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function RN(n,e){return e.map(t=>t.replace(Bb,n))}let kN=(()=>{class n{constructor(t,r,i,o,s,a,c,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=sN(a),this.defaultRenderer=new jb(t,s,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Mr.ShadowDom&&(r={...r,encapsulation:Mr.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof VN?i.applyToHost(t):i instanceof $b&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case Mr.Emulated:o=new VN(c,u,r,this.appId,d,s,a,h);break;case Mr.ShadowDom:return new _J(c,u,t,r,s,a,this.nonce,h);default:o=new $b(c,u,r,d,s,a,h)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(oe(SN),oe(xN),oe(jy),oe(fJ),oe(cr),oe(wi),oe(Ue),oe(CM))}}static{this.\u0275prov=ue({token:n,factory:n.\u0275fac})}}return n})();class jb{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Ub[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(NN(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(NN(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new q(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=Ub[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Ub[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(mo.DashCase|mo.Important)?e.style.setProperty(t,r,i&mo.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&mo.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=bo().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function NN(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class _J extends jb{constructor(e,t,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=RN(i.id,i.styles);for(const d of u){const h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class $b extends jb{constructor(e,t,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?RN(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class VN extends $b{constructor(e,t,r,i,o,s,a,c){const u=i+"-"+r.id;super(e,t,r,o,s,a,c,u),this.contentAttr=function pJ(n){return"_ngcontent-%COMP%".replace(Bb,n)}(u),this.hostAttr=function gJ(n){return"_nghost-%COMP%".replace(Bb,n)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}const FN=["alt","control","meta","shift"],vJ={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bJ={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};function LN(n){return{appProviders:[...DJ,...n?.providers??[]],platformProviders:PJ}}const PJ=[{provide:wi,useValue:"browser"},{provide:bM,useValue:function EJ(){Vb.makeCurrent()},multi:!0},{provide:cr,useFactory:function TJ(){return function xz(n){Dy=n}(document),document},deps:[]}],DJ=[{provide:Fy,useValue:"root"},{provide:Pi,useFactory:function wJ(){return new Pi},deps:[]},{provide:Fb,useClass:(()=>{class n extends MN{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(oe(cr))}}static{this.\u0275prov=ue({token:n,factory:n.\u0275fac})}}return n})(),multi:!0,deps:[cr,Ue,wi]},{provide:Fb,useClass:(()=>{class n extends MN{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>bo().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),FN.forEach(u=>{const d=r.indexOf(u);d>-1&&(r.splice(d,1),s+=u+".")}),s+=o,0!=r.length||0===o.length)return null;const c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=vJ[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),FN.forEach(s=>{s!==i&&(0,bJ[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(oe(cr))}}static{this.\u0275prov=ue({token:n,factory:n.\u0275fac})}}return n})(),multi:!0,deps:[cr]},kN,xN,SN,{provide:DM,useExisting:kN},{provide:aN,useClass:uJ,deps:[]},[]];let UN=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(oe(cr))}}static{this.\u0275prov=ue({token:n,factory:function(r){let i=null;return i=r?new r:function MJ(){return new UN(oe(cr))}(),i},providedIn:"root"})}}return n})();typeof window<"u"&&window;const{isArray:FJ}=Array,{getPrototypeOf:LJ,prototype:UJ,keys:BJ}=Object;function HN(n){if(1===n.length){const e=n[0];if(FJ(e))return{args:e,keys:null};if(function jJ(n){return n&&"object"==typeof n&&LJ(n)===UJ}(e)){const t=BJ(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:$J}=Array;function zN(n){return xe(e=>function HJ(n,e){return $J(e)?n(...e):n(e)}(n,e))}function GN(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function zb(...n){const e=Au(n),t=HD(n),{args:r,keys:i}=HN(n);if(0===r.length)return Bt([],e);const o=new lt(function zJ(n,e,t=ao){return r=>{qN(e,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)qN(e,()=>{const u=Bt(n[c],e);let d=!1;u.subscribe(Nt(r,h=>{o[c]=h,d||(d=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>GN(i,s):ao));return t?o.pipe(zN(t)):o}function qN(n,e,t){n?gi(t,n,e):e()}function Gb(...n){return function GJ(){return sa(1)}()(Bt(n,Au(n)))}function WN(n){return new lt(e=>{Xn(n()).subscribe(e)})}function Eo(n,e){const t=Qe(n)?n:()=>n,r=i=>i.error(t());return new lt(e?i=>e.schedule(r,0,i):r)}function qb(){return Ut((n,e)=>{let t=null;n._refCount++;const r=Nt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class KN extends lt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,AD(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Bn;const t=this.getSubject();e.add(this.source.subscribe(Nt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Bn.EMPTY)}return e}refCount(){return qb()(this)}}function Op(...n){const e=Au(n);return Ut((t,r)=>{(e?Gb(n,t,e):Gb(n,t)).subscribe(r)})}function Br(n){return Ut((e,t)=>{let o,r=null,i=!1;r=e.subscribe(Nt(t,void 0,void 0,s=>{o=Xn(n(s,Br(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Wb(n){return n<=0?()=>Hr:Ut((e,t)=>{let r=[];e.subscribe(Nt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}const we="primary",Fl=Symbol("RouteTitle");class JJ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function hc(n){return new JJ(n)}function XJ(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ni(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!QN(n[i],e[i]))return!1;return!0}function QN(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function YN(n){return n.length>0?n[n.length-1]:null}function wo(n){return function VJ(n){return!!n&&(n instanceof lt||Qe(n.lift)&&Qe(n.subscribe))}(n)?n:pl(n)?Bt(Promise.resolve(n)):pe(n)}const eX={exact:function ZN(n,e,t){if(!_s(n.segments,e.segments)||!Rp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!ZN(n.children[r],e.children[r],t))return!1;return!0},subset:e2},JN={exact:function tX(n,e){return ni(n,e)},subset:function nX(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>QN(n[t],e[t]))},ignored:()=>!0};function XN(n,e,t){return eX[t.paths](n.root,e.root,t.matrixParams)&&JN[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function e2(n,e,t){return t2(n,e,e.segments,t)}function t2(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!_s(i,t)||e.hasChildren()||!Rp(i,t,r))}if(n.segments.length===t.length){if(!_s(n.segments,t)||!Rp(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!e2(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(_s(n.segments,i)&&Rp(n.segments,i,r)&&n.children[we])&&t2(n.children[we],e,o,r)}}function Rp(n,e,t){return e.every((r,i)=>JN[t](n[i].parameters,r.parameters))}class fc{constructor(e=new We([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hc(this.queryParams)),this._queryParamMap}toString(){return oX.serialize(this)}}class We{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return kp(this)}}class Ll{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=hc(this.parameters)),this._parameterMap}toString(){return i2(this)}}function _s(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Ul=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ue({token:n,factory:function(){return new Kb},providedIn:"root"})}}return n})();class Kb{parse(e){const t=new mX(e);return new fc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Bl(e.root,!0)}`,r=function cX(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Np(t)}=${Np(i)}`).join("&"):`${Np(t)}=${Np(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function sX(n){return encodeURI(n)}(e.fragment)}`:""}`}}const oX=new Kb;function kp(n){return n.segments.map(e=>i2(e)).join("/")}function Bl(n,e){if(!n.hasChildren())return kp(n);if(e){const t=n.children[we]?Bl(n.children[we],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==we&&r.push(`${i}:${Bl(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function iX(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===we&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==we&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===we?[Bl(n.children[we],!1)]:[`${i}:${Bl(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[we]?`${kp(n)}/${t[0]}`:`${kp(n)}/(${t.join("//")})`}}function n2(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Np(n){return n2(n).replace(/%3B/gi,";")}function Qb(n){return n2(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vp(n){return decodeURIComponent(n)}function r2(n){return Vp(n.replace(/\+/g,"%20"))}function i2(n){return`${Qb(n.path)}${function aX(n){return Object.keys(n).map(e=>`;${Qb(e)}=${Qb(n[e])}`).join("")}(n.parameters)}`}const uX=/^[^\/()?;#]+/;function Yb(n){const e=n.match(uX);return e?e[0]:""}const lX=/^[^\/()?;=#]+/,hX=/^[^=?&#]+/,pX=/^[^&#]+/;class mX{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new We([],{}):new We([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[we]=new We(e,t)),r}parseSegment(){const e=Yb(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new q(4009,!1);return this.capture(e),new Ll(Vp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function dX(n){const e=n.match(lX);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Yb(this.remaining);i&&(r=i,this.capture(r))}e[Vp(t)]=Vp(r)}parseQueryParam(e){const t=function fX(n){const e=n.match(hX);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function gX(n){const e=n.match(pX);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=r2(t),o=r2(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Yb(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new q(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=we);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[we]:new We([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new q(4011,!1)}}function o2(n){return n.segments.length>0?new We([],{[we]:n}):n}function s2(n){const e={};for(const r of Object.keys(n.children)){const o=s2(n.children[r]);if(r===we&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function _X(n){if(1===n.numberOfChildren&&n.children[we]){const e=n.children[we];return new We(n.segments.concat(e.segments),e.children)}return n}(new We(n.segments,e))}function ys(n){return n instanceof fc}function a2(n){let e;const i=o2(function t(o){const s={};for(const c of o.children){const u=t(c);s[c.outlet]=u}const a=new We(o.url,s);return o===n&&(e=a),a}(n.root));return e??i}function c2(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return Jb(i,i,i,t,r);const o=function vX(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new l2(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new l2(t,e,r)}(e);if(o.toRoot())return Jb(i,i,new We([],{}),t,r);const s=function bX(n,e,t){if(n.isAbsolute)return new Lp(e,!0,0);if(!t)return new Lp(e,!1,NaN);if(null===t.parent)return new Lp(t,!0,0);const r=Fp(n.commands[0])?0:1;return function CX(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new q(4005,!1);i=r.segments.length}return new Lp(r,!1,i-o)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(o,i,n),a=s.processChildren?$l(s.segmentGroup,s.index,o.commands):d2(s.segmentGroup,s.index,o.commands);return Jb(i,s.segmentGroup,a,t,r)}function Fp(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function jl(n){return"object"==typeof n&&null!=n&&n.outlets}function Jb(n,e,t,r,i){let s,o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`}),s=n===e?t:u2(n,e,t);const a=o2(s2(s));return new fc(a,o,i)}function u2(n,e,t){const r={};return Object.entries(n.children).forEach(([i,o])=>{r[i]=o===e?t:u2(o,e,t)}),new We(n.segments,r)}class l2{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Fp(r[0]))throw new q(4003,!1);const i=r.find(jl);if(i&&i!==YN(r))throw new q(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Lp{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function d2(n,e,t){if(n||(n=new We([],{})),0===n.segments.length&&n.hasChildren())return $l(n,e,t);const r=function EX(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const s=n.segments[i],a=t[r];if(jl(a))break;const c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!f2(c,u,s))return o;r+=2}else{if(!f2(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new We(n.segments.slice(0,r.pathIndex),{});return o.children[we]=new We(n.segments.slice(r.pathIndex),n.children),$l(o,0,i)}return r.match&&0===i.length?new We(n.segments,{}):r.match&&!n.hasChildren()?Xb(n,e,t):r.match?$l(n,0,i):Xb(n,e,t)}function $l(n,e,t){if(0===t.length)return new We(n.segments,{});{const r=function IX(n){return jl(n[0])?n[0].outlets:{[we]:n}}(t),i={};if(Object.keys(r).some(o=>o!==we)&&n.children[we]&&1===n.numberOfChildren&&0===n.children[we].segments.length){const o=$l(n.children[we],e,t);return new We(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=d2(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new We(n.segments,i)}}function Xb(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(jl(o)){const c=wX(o.outlets);return new We(r,c)}if(0===i&&Fp(t[0])){r.push(new Ll(n.segments[e].path,h2(t[0]))),i++;continue}const s=jl(o)?o.outlets[we]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Fp(a)?(r.push(new Ll(s,h2(a))),i+=2):(r.push(new Ll(s,{})),i++)}return new We(r,{})}function wX(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=Xb(new We([],{}),0,r))}),e}function h2(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function f2(n,e,t){return n==t.path&&ni(e,t.parameters)}const Hl="imperative";class ri{constructor(e,t){this.id=e,this.url=t}}class Up extends ri{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class To extends ri{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class zl extends ri{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class pc extends ri{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Bp extends ri{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class p2 extends ri{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class TX extends ri{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class PX extends ri{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class AX extends ri{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class DX extends ri{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class SX{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class MX{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xX{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class OX{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class RX{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kX{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class g2{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Zb{}class eC{constructor(e){this.url=e}}class NX{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Gl,this.attachRef=null}}let Gl=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new NX,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class m2{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=tC(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=tC(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=nC(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return nC(e,this._root).map(t=>t.value)}}function tC(n,e){if(n===e.value)return e;for(const t of e.children){const r=tC(n,t);if(r)return r}return null}function nC(n,e){if(n===e.value)return[e];for(const t of e.children){const r=nC(n,t);if(r.length)return r.unshift(e),r}return[]}class Fi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function gc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class _2 extends m2{constructor(e,t){super(e),this.snapshot=t,rC(this,e)}toString(){return this.snapshot.toString()}}function y2(n,e){const t=function VX(n,e){const s=new jp([],{},{},"",{},we,e,null,{});return new b2("",new Fi(s,[]))}(0,e),r=new Zn([new Ll("",{})]),i=new Zn({}),o=new Zn({}),s=new Zn({}),a=new Zn(""),c=new mc(r,i,s,a,o,we,e,t.root);return c.snapshot=t.root,new _2(new Fi(c,[]),t)}class mc{constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(xe(u=>u[Fl]))??pe(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(xe(e=>hc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(xe(e=>hc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function v2(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function FX(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class jp{get title(){return this.data?.[Fl]}constructor(e,t,r,i,o,s,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=hc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class b2 extends m2{constructor(e,t){super(t),this.url=e,rC(this,t)}toString(){return C2(this._root)}}function rC(n,e){e.value._routerState=n,e.children.forEach(t=>rC(n,t))}function C2(n){const e=n.children.length>0?` { ${n.children.map(C2).join(", ")} } `:"";return`${n.value}${e}`}function iC(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ni(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),ni(e.params,t.params)||n.paramsSubject.next(t.params),function ZJ(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ni(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),ni(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function oC(n,e){const t=ni(n.params,e.params)&&function rX(n,e){return _s(n,e)&&n.every((t,r)=>ni(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||oC(n.parent,e.parent))}let sC=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=we,this.activateEvents=new _t,this.deactivateEvents=new _t,this.attachEvents=new _t,this.detachEvents=new _t,this.parentContexts=Z(Gl),this.location=Z(Fr),this.changeDetector=Z(Dl),this.environmentInjector=Z(or),this.inputBinder=Z($p,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new q(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new q(4013,!1);this._activatedRoute=t;const i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new LX(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ye({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_r]})}}return n})();class LX{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===mc?this.route:e===Gl?this.childContexts:this.parent.get(e,t)}}const $p=new re("");let I2=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=zb([r.queryParams,r.params,r.data]).pipe(wn(([o,s,a],c)=>(a={...o,...s,...a},0===c?pe(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const s=function NK(n){const e=Ne(n);if(!e)return null;const t=new ul(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ue({token:n,factory:n.\u0275fac})}}return n})();function ql(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function BX(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ql(n,r,i);return ql(n,r)})}(n,e,t);return new Fi(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ql(n,a)),s}}const r=function jX(n){return new mc(new Zn(n.url),new Zn(n.params),new Zn(n.queryParams),new Zn(n.fragment),new Zn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>ql(n,o));return new Fi(r,i)}}const aC="ngNavigationCancelingError";function E2(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=ys(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=w2(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function w2(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[aC]=!0,r.cancellationCode=e,t&&(r.url=t),r}function T2(n){return n&&n[aC]}let P2=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=gr({type:n,selectors:[["ng-component"]],standalone:!0,features:[br],decls:1,vars:0,template:function(r,i){1&r&&L(0,"router-outlet")},dependencies:[sC],encapsulation:2})}}return n})();function cC(n){const e=n.children&&n.children.map(cC),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==we&&(t.component=P2),t}function jr(n){return n.outlet||we}function Wl(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class QX{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),iC(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=gc(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=gc(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=gc(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=gc(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new kX(o.value.snapshot))}),e.children.length&&this.forwardEvent(new OX(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(iC(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),iC(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Wl(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class A2{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Hp{constructor(e,t){this.component=e,this.route=t}}function YX(n,e,t){const r=n._root;return Kl(r,e?e._root:null,t,[r.value])}function _c(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function W$(n){return null!==jh(n)}(n)?e.get(n):n:r}function Kl(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=gc(e);return n.children.forEach(s=>{(function XX(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function ZX(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!_s(n.url,e.url);case"pathParamsOrQueryParamsChange":return!_s(n.url,e.url)||!ni(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!oC(n,e)||!ni(n.queryParams,e.queryParams);default:return!oC(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new A2(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Kl(n,e,o.component?a?a.children:null:t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Hp(a.outlet.component,s))}else s&&Ql(e,a,i),i.canActivateChecks.push(new A2(r)),Kl(n,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ql(a,t.getContext(s),i)),i}function Ql(n,e,t){const r=gc(n),i=n.value;Object.entries(r).forEach(([o,s])=>{Ql(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Hp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Yl(n){return"function"==typeof n}function D2(n){return n instanceof Lh||"EmptyError"===n?.name}const zp=Symbol("INITIAL_VALUE");function yc(){return wn(n=>zb(n.map(e=>e.pipe(aa(1),Op(zp)))).pipe(xe(e=>{for(const t of e)if(!0!==t){if(t===zp)return zp;if(!1===t||t instanceof fc)return t}return!0}),mi(e=>e!==zp),aa(1)))}function S2(n){return function Gj(...n){return wD(n)}(yt(e=>{if(ys(e))throw E2(0,e)}),xe(e=>!0===e))}class Gp{constructor(e){this.segmentGroup=e||null}}class M2{constructor(e){this.urlTree=e}}function vc(n){return Eo(new Gp(n))}function x2(n){return Eo(new M2(n))}class vZ{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new q(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return pe(r);if(i.numberOfChildren>1||!i.children[we])return Eo(new q(4e3,!1));i=i.children[we]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new fc(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new We(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new q(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const uC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bZ(n,e,t,r,i){const o=lC(n,e,t);return o.matched?(r=function HX(n,e){return n.providers&&!n._injector&&(n._injector=Fv(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function mZ(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?pe(i.map(s=>{const a=_c(s,n);return wo(function oZ(n){return n&&Yl(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(yc(),S2()):pe(!0)}(r,e,t).pipe(xe(s=>!0===s?o:{...uC}))):pe(o)}function lC(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...uC}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||XJ)(t,n,e);if(!i)return{...uC};const o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function O2(n,e,t,r){return t.length>0&&function EZ(n,e,t){return t.some(r=>qp(n,e,r)&&jr(r)!==we)}(n,t,r)?{segmentGroup:new We(e,IZ(r,new We(t,n.children))),slicedSegments:[]}:0===t.length&&function wZ(n,e,t){return t.some(r=>qp(n,e,r))}(n,t,r)?{segmentGroup:new We(n.segments,CZ(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new We(n.segments,n.children),slicedSegments:t}}function CZ(n,e,t,r,i){const o={};for(const s of r)if(qp(n,t,s)&&!i[jr(s)]){const a=new We([],{});o[jr(s)]=a}return{...i,...o}}function IZ(n,e){const t={};t[we]=e;for(const r of n)if(""===r.path&&jr(r)!==we){const i=new We([],{});t[jr(r)]=i}return t}function qp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class DZ{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new vZ(this.urlSerializer,this.urlTree)}noMatchError(e){return new q(4002,!1)}recognize(){const e=O2(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,we).pipe(Br(t=>{if(t instanceof M2)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Gp?this.noMatchError(t):t}),xe(t=>{const r=new jp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},we,this.rootComponentType,null,{}),i=new Fi(r,t),o=new b2("",i),s=function yX(n,e,t=null,r=null){return c2(a2(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,we).pipe(Br(r=>{throw r instanceof Gp?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=v2(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Bt(i).pipe(uc(o=>{const s=r.children[o],a=function WX(n,e){const t=n.filter(r=>jr(r)===e);return t.push(...n.filter(r=>jr(r)!==e)),t}(t,o);return this.processSegmentGroup(e,a,s,o)}),function WJ(n,e){return Ut(function qJ(n,e,t,r,i){return(o,s)=>{let a=t,c=e,u=0;o.subscribe(Nt(s,d=>{const h=u++;c=a?n(c,d,h):(a=!0,d),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}(n,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),Uh(null),function KJ(n,e){const t=arguments.length>=2;return r=>r.pipe(n?mi((i,o)=>n(i,o,r)):ao,Wb(1),t?Uh(e):qD(()=>new Lh))}(),Yt(o=>{if(null===o)return vc(r);const s=R2(o);return function SZ(n){n.sort((e,t)=>e.value.outlet===we?-1:t.value.outlet===we?1:e.value.outlet.localeCompare(t.value.outlet))}(s),pe(s)}))}processSegment(e,t,r,i,o,s){return Bt(t).pipe(uc(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,o,s).pipe(Br(c=>{if(c instanceof Gp)return pe(null);throw c}))),_i(a=>!!a),Br(a=>{if(D2(a))return function PZ(n,e,t){return 0===e.length&&!n.children[t]}(r,i,o)?pe([]):vc(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,o,s,a){return function TZ(n,e,t,r){return!!(jr(n)===r||r!==we&&qp(e,t,n))&&("**"===n.path||lC(e,n,t).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s):vc(i):vc(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?x2(o):this.applyRedirects.lineralizeSegments(r,o).pipe(Yt(s=>{const a=new We(s,{});return this.processSegment(e,t,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){const{matched:a,consumedSegments:c,remainingSegments:u,positionalParamSegments:d}=lC(t,i,o);if(!a)return vc(t);const h=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,d);return i.redirectTo.startsWith("/")?x2(h):this.applyRedirects.lineralizeSegments(i,h).pipe(Yt(p=>this.processSegment(e,r,t,p.concat(u),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a;if("**"===r.path){const c=i.length>0?YN(i).parameters:{};a=pe({snapshot:new jp(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,k2(r),jr(r),r.component??r._loadedComponent??null,r,N2(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=bZ(t,r,i,e).pipe(xe(({matched:c,consumedSegments:u,remainingSegments:d,parameters:h})=>c?{snapshot:new jp(u,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,k2(r),jr(r),r.component??r._loadedComponent??null,r,N2(r)),consumedSegments:u,remainingSegments:d}:null));return a.pipe(wn(c=>null===c?vc(t):this.getChildConfig(e=r._injector??e,r,i).pipe(wn(({routes:u})=>{const d=r._loadedInjector??e,{snapshot:h,consumedSegments:p,remainingSegments:m}=c,{segmentGroup:v,slicedSegments:C}=O2(t,p,m,u);if(0===C.length&&v.hasChildren())return this.processChildren(d,u,v).pipe(xe(O=>null===O?null:[new Fi(h,O)]));if(0===u.length&&0===C.length)return pe([new Fi(h,[])]);const w=jr(r)===o;return this.processSegment(d,u,v,C,w?we:o,!0).pipe(xe(O=>[new Fi(h,O)]))}))))}getChildConfig(e,t,r){return t.children?pe({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?pe({routes:t._loadedRoutes,injector:t._loadedInjector}):function gZ(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?pe(!0):pe(i.map(s=>{const a=_c(s,n);return wo(function tZ(n){return n&&Yl(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(yc(),S2())}(e,t,r).pipe(Yt(i=>i?this.configLoader.loadChildren(e,t).pipe(yt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function yZ(n){return Eo(w2(!1,3))}())):pe({routes:[],injector:e})}}function MZ(n){const e=n.value.routeConfig;return e&&""===e.path}function R2(n){const e=[],t=new Set;for(const r of n){if(!MZ(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=R2(r.children);e.push(new Fi(r.value,i))}return e.filter(r=>!t.has(r))}function k2(n){return n.data||{}}function N2(n){return n.resolve||{}}function V2(n){return"string"==typeof n.title||null===n.title}function dC(n){return wn(e=>{const t=n(e);return t?Bt(t).pipe(xe(()=>e)):pe(e)})}const bc=new re("ROUTES");let hC=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Z(ik)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return pe(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=wo(t.loadComponent()).pipe(xe(F2),yt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Rl(()=>{this.componentLoaders.delete(t)})),i=new KN(r,()=>new Sr).pipe(qb());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return pe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function FZ(n,e,t,r){return wo(n.loadChildren()).pipe(xe(F2),Yt(i=>i instanceof dR||Array.isArray(i)?pe(i):Bt(e.compileModuleAsync(i))),xe(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(t).injector,s=o.get(bc,[],{optional:!0,self:!0}).flat()),{routes:s.map(cC),injector:o}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(Rl(()=>{this.childrenLoaders.delete(r)})),s=new KN(o,()=>new Sr).pipe(qb());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function F2(n){return function LZ(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Wp=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Sr,this.transitionAbortSubject=new Sr,this.configLoader=Z(hC),this.environmentInjector=Z(or),this.urlSerializer=Z(Ul),this.rootContexts=Z(Gl),this.inputBindingEnabled=null!==Z($p,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>pe(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new MX(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new SX(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new Zn({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Hl,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(mi(o=>0!==o.id),xe(o=>({...o,extractedUrl:t.urlHandlingStrategy.extract(o.rawUrl)})),wn(o=>{this.currentTransition=o;let s=!1,a=!1;return pe(o).pipe(yt(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),wn(c=>{const u=c.currentBrowserUrl.toString(),d=!t.navigated||c.extractedUrl.toString()!==u||u!==c.currentUrlTree.toString();if(!d&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const p="";return this.events.next(new pc(c.id,this.urlSerializer.serialize(c.rawUrl),p,0)),c.resolve(null),Hr}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return pe(c).pipe(wn(p=>{const m=this.transitions?.getValue();return this.events.next(new Up(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?Hr:Promise.resolve(p)}),function xZ(n,e,t,r,i,o){return Yt(s=>function AZ(n,e,t,r,i,o,s="emptyOnly"){return new DZ(n,e,t,r,i,s,o).recognize()}(n,e,t,r,s.extractedUrl,i,o).pipe(xe(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),yt(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:p.urlAfterRedirects};const m=new p2(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(d&&t.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:p,extractedUrl:m,source:v,restoredState:C,extras:w}=c,O=new Up(p,this.urlSerializer.serialize(m),v,C);this.events.next(O);const S=y2(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:S,urlAfterRedirects:m,extras:{...w,skipLocationChange:!1,replaceUrl:!1}},pe(o)}{const p="";return this.events.next(new pc(c.id,this.urlSerializer.serialize(c.extractedUrl),p,1)),c.resolve(null),Hr}}),yt(c=>{const u=new TX(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),xe(c=>(this.currentTransition=o={...c,guards:YX(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function aZ(n,e){return Yt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?pe({...t,guardsResult:!0}):function cZ(n,e,t,r){return Bt(n).pipe(Yt(i=>function pZ(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?pe(o.map(a=>{const c=Wl(e)??i,u=_c(a,c);return wo(function iZ(n){return n&&Yl(n.canDeactivate)}(u)?u.canDeactivate(n,e,t,r):c.runInContext(()=>u(n,e,t,r))).pipe(_i())})).pipe(yc()):pe(!0)}(i.component,i.route,t,e,r)),_i(i=>!0!==i,!0))}(s,r,i,n).pipe(Yt(a=>a&&function eZ(n){return"boolean"==typeof n}(a)?function uZ(n,e,t,r){return Bt(e).pipe(uc(i=>Gb(function dZ(n,e){return null!==n&&e&&e(new xX(n)),pe(!0)}(i.route.parent,r),function lZ(n,e){return null!==n&&e&&e(new RX(n)),pe(!0)}(i.route,r),function fZ(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function JX(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>WN(()=>pe(s.guards.map(c=>{const u=Wl(s.node)??t,d=_c(c,u);return wo(function rZ(n){return n&&Yl(n.canActivateChild)}(d)?d.canActivateChild(r,n):u.runInContext(()=>d(r,n))).pipe(_i())})).pipe(yc())));return pe(o).pipe(yc())}(n,i.path,t),function hZ(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return pe(!0);const i=r.map(o=>WN(()=>{const s=Wl(e)??t,a=_c(o,s);return wo(function nZ(n){return n&&Yl(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(_i())}));return pe(i).pipe(yc())}(n,i.route,t))),_i(i=>!0!==i,!0))}(r,o,n,e):pe(a)),xe(a=>({...t,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),yt(c=>{if(o.guardsResult=c.guardsResult,ys(c.guardsResult))throw E2(0,c.guardsResult);const u=new PX(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),mi(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),dC(c=>{if(c.guards.canActivateChecks.length)return pe(c).pipe(yt(u=>{const d=new AX(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),wn(u=>{let d=!1;return pe(u).pipe(function OZ(n,e){return Yt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return pe(t);let o=0;return Bt(i).pipe(uc(s=>function RZ(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!V2(i)&&(o[Fl]=i.title),function kZ(n,e,t,r){const i=function NZ(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return pe({});const o={};return Bt(i).pipe(Yt(s=>function VZ(n,e,t,r){const i=Wl(e)??r,o=_c(n,i);return wo(o.resolve?o.resolve(e,t):i.runInContext(()=>o(e,t)))}(n[s],e,t,r).pipe(_i(),yt(a=>{o[s]=a}))),Wb(1),function QJ(n){return xe(()=>n)}(o),Br(s=>D2(s)?Hr:Eo(s)))}(o,n,e,r).pipe(xe(s=>(n._resolvedData=s,n.data=v2(n,t).resolve,i&&V2(i)&&(n.data[Fl]=i.title),null)))}(s.route,r,n,e)),yt(()=>o++),Wb(1),Yt(s=>o===i.length?pe(t):Hr))})}(t.paramsInheritanceStrategy,this.environmentInjector),yt({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",2)}}))}),yt(u=>{const d=new DX(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),dC(c=>{const u=d=>{const h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(yt(p=>{d.component=p}),xe(()=>{})));for(const p of d.children)h.push(...u(p));return h};return zb(u(c.targetSnapshot.root)).pipe(Uh(),aa(1))}),dC(()=>this.afterPreactivation()),xe(c=>{const u=function UX(n,e,t){const r=ql(n,e._root,t?t._root:void 0);return new _2(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:u},o}),yt(()=>{this.events.next(new Zb)}),((n,e,t,r)=>xe(i=>(new QX(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),aa(1),yt({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new To(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),function YJ(n){return Ut((e,t)=>{Xn(n).subscribe(Nt(t,()=>t.complete(),d_)),!t.closed&&e.subscribe(t)})}(this.transitionAbortSubject.pipe(yt(c=>{throw c}))),Rl(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Br(c=>{if(a=!0,T2(c))this.events.next(new zl(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function $X(n){return T2(n)&&ys(n.url)}(c)?this.events.next(new eC(c.url)):o.resolve(!1);else{this.events.next(new Bp(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(c))}catch(u){o.reject(u)}}return Hr}))}))}cancelNavigationTransition(t,r,i){const o=new zl(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function L2(n){return n!==Hl}let U2=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===we);return r}getResolvedTitleForRoute(t){return t.data[Fl]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ue({token:n,factory:function(){return Z(UZ)},providedIn:"root"})}}return n})(),UZ=(()=>{class n extends U2{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(oe(UN))}}static{this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),BZ=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ue({token:n,factory:function(){return Z($Z)},providedIn:"root"})}}return n})();class jZ{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let $Z=(()=>{class n extends jZ{static{this.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}()}static{this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Kp=new re("",{providedIn:"root",factory:()=>({})});let HZ=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ue({token:n,factory:function(){return Z(zZ)},providedIn:"root"})}}return n})(),zZ=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Jl=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Jl||{});function B2(n,e){n.events.pipe(mi(t=>t instanceof To||t instanceof zl||t instanceof Bp||t instanceof pc),xe(t=>t instanceof To||t instanceof pc?Jl.COMPLETE:t instanceof zl&&(0===t.code||1===t.code)?Jl.REDIRECTING:Jl.FAILED),mi(t=>t!==Jl.REDIRECTING),aa(1)).subscribe(()=>{e()})}function GZ(n){throw n}function qZ(n,e,t){return e.parse("/")}const WZ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},KZ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let kn=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Z(Zv),this.isNgZoneEnabled=!1,this._events=new Sr,this.options=Z(Kp,{optional:!0})||{},this.pendingTasks=Z(ap),this.errorHandler=this.options.errorHandler||GZ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||qZ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Z(HZ),this.routeReuseStrategy=Z(BZ),this.titleStrategy=Z(U2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Z(bc,{optional:!0})?.flat()??[],this.navigationTransitions=Z(Wp),this.urlSerializer=Z(Ul),this.location=Z(gb),this.componentInputBindingEnabled=!!Z($p,{optional:!0}),this.eventsSubscription=new Bn,this.isNgZoneEnabled=Z(Ue)instanceof Ue&&Ue.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new fc,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=y2(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(j2(r)&&this._events.next(r));if(r instanceof Up)L2(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof pc)this.rawUrlTree=i.rawUrl;else if(r instanceof p2){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof Zb)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof zl)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof eC){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||L2(i.source)};this.scheduleNavigation(o,Hl,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Bp&&this.restoreHistory(i,!0),r instanceof To&&(this.navigated=!0),j2(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Hl,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(cC),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s;let h,d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{h=a2(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),h=this.currentUrlTree.root}return c2(h,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=ys(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Hl,null,r)}navigate(t,r={skipLocationChange:!1}){return function QZ(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new q(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...WZ}:!1===r?{...KZ}:r,ys(t))return XN(this.currentUrlTree,t,i);const o=this.parseUrl(t);return XN(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((h,p)=>{a=h,c=p});const d=this.pendingTasks.add();return B2(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function j2(n){return!(n instanceof Zb||n instanceof eC)}let Xl=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Sr,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof To&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function dM(n,e,t){return function Zz(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?lM:ir}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(j(kn),j(mc),function lf(n){return function vH(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(iS(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===e)return t[i+1];i+=2}}}return null}(en(),n)}("tabindex"),j(Ti),j(sr),j(ps))}}static{this.\u0275dir=ye({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&Q("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&Xr("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",ac],skipLocationChange:["skipLocationChange","skipLocationChange",ac],replaceUrl:["replaceUrl","replaceUrl",ac],routerLink:"routerLink"},standalone:!0,features:[Ax,_r]})}}return n})(),$2=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new _t,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof To&&this.update()})}ngAfterContentInit(){pe(this.links.changes,pe(null)).pipe(sa()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Bt(t).pipe(sa()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function YZ(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static{this.\u0275fac=function(r){return new(r||n)(j(kn),j(sr),j(Ti),j(Dl),j(Xl,8))}}static{this.\u0275dir=ye({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(1&r&&FR(o,Xl,5),2&r){let s;VR(s=function LR(){return function sW(n,e){return n[Gr].queries[e].queryList}($(),QS())}())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[_r]})}}return n})();class H2{}let JZ=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(mi(t=>t instanceof To),uc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=Fv(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Bt(i).pipe(sa())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):pe(null);const o=i.pipe(Yt(s=>null===s?pe(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?Bt([o,this.loader.loadComponent(r)]).pipe(sa()):o})}static{this.\u0275fac=function(r){return new(r||n)(oe(kn),oe(ik),oe(or),oe(H2),oe(hC))}}static{this.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const fC=new re("");let z2=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Up?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof To?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof pc&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof g2&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new g2(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){!function ex(){throw new Error("invalid")}()}}static{this.\u0275prov=ue({token:n,factory:n.\u0275fac})}}return n})();function G2(n){return n.routerState.root}function Li(n,e){return{\u0275kind:n,\u0275providers:e}}function q2(){const n=Z(hn);return e=>{const t=n.get(hs);if(e!==t.components[0])return;const r=n.get(kn),i=n.get(W2);1===n.get(pC)&&r.initialNavigation(),n.get(K2,null,Ae.Optional)?.setUpPreloading(),n.get(fC,null,Ae.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const W2=new re("",{factory:()=>new Sr}),pC=new re("",{providedIn:"root",factory:()=>1}),K2=new re("");function nee(n){return Li(0,[{provide:K2,useExisting:JZ},{provide:H2,useExisting:n}])}const Q2=new re("ROUTER_FORROOT_GUARD"),iee=[gb,{provide:Ul,useClass:Kb},kn,Gl,{provide:mc,useFactory:G2,deps:[kn]},hC,[]];function oee(){return new dk("Router",kn)}let gC=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[iee,[],{provide:bc,multi:!0,useValue:t},{provide:Q2,useFactory:uee,deps:[[kn,new Mn,new ff]]},{provide:Kp,useValue:r||{}},r?.useHash?{provide:ps,useClass:BK}:{provide:ps,useClass:jk},{provide:fC,useFactory:()=>{const n=Z(oY),e=Z(Ue),t=Z(Kp),r=Z(Wp),i=Z(Ul);return t.scrollOffset&&n.setOffset(t.scrollOffset),new z2(i,r,n,e,t)}},r?.preloadingStrategy?nee(r.preloadingStrategy).\u0275providers:[],{provide:dk,multi:!0,useFactory:oee},r?.initialNavigation?lee(r):[],r?.bindToComponentInputs?Li(8,[I2,{provide:$p,useExisting:I2}]).\u0275providers:[],[{provide:Y2,useFactory:q2},{provide:Al,multi:!0,useExisting:Y2}]]}}static forChild(t){return{ngModule:n,providers:[{provide:bc,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(oe(Q2,8))}}static{this.\u0275mod=Or({type:n})}static{this.\u0275inj=pr({})}}return n})();function uee(n){return"guarded"}function lee(n){return["disabled"===n.initialNavigation?Li(3,[{provide:Jv,multi:!0,useFactory:()=>{const e=Z(kn);return()=>{e.setUpLocationChangeListener()}}},{provide:pC,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Li(2,[{provide:pC,useValue:0},{provide:Jv,multi:!0,deps:[hn],useFactory:e=>{const t=e.get(LK,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(kn),o=e.get(W2);B2(i,()=>{r(!0)}),e.get(Wp).afterPreactivation=()=>(r(!0),o.closed?pe(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const Y2=new re("");function J2(n,e,t,r,i,o,s){try{var a=n[o](s),c=a.value}catch(u){return void t(u)}a.done?e(c):Promise.resolve(c).then(r,i)}function I(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function s(c){J2(o,r,i,s,a,"next",c)}function a(c){J2(o,r,i,s,a,"throw",c)}s(void 0)})}}const X2=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},_C={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0;let p=(15&a)<<2|u>>6,m=63&u;c||(m=64,s||(p=64)),r.push(t[o>>2],t[(3&o)<<4|a>>4],t[p],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(X2(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const c=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const o=n[t++],s=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const u=i<n.length?t[n.charAt(i)]:64;++i;const h=i<n.length?t[n.charAt(i)]:64;if(++i,null==o||null==a||null==u||null==h)throw new gee;r.push(o<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==h&&r.push(u<<6&192|h))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class gee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qp=function(n){return function(n){const e=X2(n);return _C.encodeByteArray(e,!0)}(n).replace(/\./g,"")},Yp=function(n){try{return _C.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Jp=()=>{try{return function yee(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Yp(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},eV=n=>{var e,t;return null===(t=null===(e=Jp())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},tV=()=>{var n;return null===(n=Jp())||void 0===n?void 0:n.config},nV=n=>{var e;return null===(e=Jp())||void 0===e?void 0:e[`_${n}`]};class Xp{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Mt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function yC(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function Po(){try{return"object"==typeof indexedDB}catch{return!1}}function Zl(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(t){e(t)}})}function vC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class wr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ii.prototype.create)}}class ii{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function xee(n,e){return n.replace(Oee,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new wr(i,`${this.serviceName}: ${s} (${i}).`,r)}}const Oee=/\{\$([^}]+)}/g;function Cc(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],s=e[i];if(oV(o)&&oV(s)){if(!Cc(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function oV(n){return null!==n&&"object"==typeof n}function ed(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class Nee{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function Vee(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=bC),void 0===i.error&&(i.error=bC),void 0===i.complete&&(i.complete=bC);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bC(){}const Fee=1e3,Lee=2,Uee=144e5,Bee=.5;function IC(n,e=Fee,t=Lee){const r=e*Math.pow(t,n),i=Math.round(Bee*r*(Math.random()-.5)*2);return Math.min(Uee,r+i)}function nn(n){return n&&n._delegate?n._delegate:n}class pn{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const vs="[DEFAULT]";class $ee{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Xp;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function zee(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:vs})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return I(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=vs){return this.instances.has(e)}getOptions(e=vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===vs?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=vs){return this.component?this.component.multipleInstances?e:vs:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Gee{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new $ee(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const EC=[];var Se=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Se||{});const sV={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},qee=Se.INFO,Wee={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},Kee=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=Wee[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class Ic{constructor(e){this.name=e,this._logLevel=qee,this._logHandler=Kee,this._userLogHandler=null,EC.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?sV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const Qee=(n,e)=>e.some(t=>n instanceof t);let aV,cV;const uV=new WeakMap,wC=new WeakMap,lV=new WeakMap,TC=new WeakMap,PC=new WeakMap;let AC={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return wC.get(n);if("objectStoreNames"===e)return n.objectStoreNames||lV.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ui(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function nte(n){return"function"==typeof n?function tte(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Jee(){return cV||(cV=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(DC(this),e),Ui(uV.get(this))}:function(...e){return Ui(n.apply(DC(this),e))}:function(e,...t){const r=n.call(DC(this),e,...t);return lV.set(r,e.sort?e.sort():[e]),Ui(r)}}(n):(n instanceof IDBTransaction&&function Zee(n){if(wC.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});wC.set(n,e)}(n),Qee(n,function Yee(){return aV||(aV=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,AC):n)}function Ui(n){if(n instanceof IDBRequest)return function Xee(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Ui(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&uV.set(t,n)}).catch(()=>{}),PC.set(e,n),e}(n);if(TC.has(n))return TC.get(n);const e=nte(n);return e!==n&&(TC.set(n,e),PC.set(e,n)),e}const DC=n=>PC.get(n);function eg(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(n,e),a=Ui(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Ui(s.result),c.oldVersion,c.newVersion,Ui(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}function SC(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",r=>e(r.oldVersion,r)),Ui(t).then(()=>{})}const rte=["get","getKey","getAll","getAllKeys","count"],ite=["put","add","delete","clear"],MC=new Map;function dV(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(MC.get(e))return MC.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=ite.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!rte.includes(t))return;const o=function(){var s=I(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(c.shift())),(yield Promise.all([d[t](...c),i&&u.done]))[0]});return function(c){return s.apply(this,arguments)}}();return MC.set(e,o),o}!function ete(n){AC=n(AC)}(n=>({...n,get:(e,t,r)=>dV(e,t)||n.get(e,t,r),has:(e,t)=>!!dV(e,t)||n.has(e,t)}));class ote{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function ste(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const tg="@firebase/app",xC="0.10.13",Bi=new Ic("@firebase/app"),ng="[DEFAULT]",kte={[tg]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},bs=new Map,td=new Map,nd=new Map;function hV(n,e){try{n.container.addComponent(e)}catch(t){Bi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Nn(n){const e=n.name;if(nd.has(e))return Bi.debug(`There were multiple attempts to register component ${e}.`),!1;nd.set(e,n);for(const t of bs.values())hV(t,n);for(const t of td.values())hV(t,n);return!0}function Ec(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ao(n){return void 0!==n.settings}const Tr=new ii("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class fV{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}}const Cs="10.14.1";function pV(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:ng,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Tr.create("bad-app-name",{appName:String(i)});if(t||(t=tV()),!t)throw Tr.create("no-options");const o=bs.get(i);if(o){if(Cc(t,o.options)&&Cc(r,o.config))return o;throw Tr.create("duplicate-app",{appName:i})}const s=new Gee(i);for(const c of nd.values())s.addComponent(c);const a=new fV(t,r,s);return bs.set(i,a),a}function OC(n=ng){const e=bs.get(n);if(!e&&n===ng&&tV())return pV();if(!e)throw Tr.create("no-app",{appName:n});return e}function gV(){return Array.from(bs.values())}function vt(n,e,t){var r;let i=null!==(r=kte[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Bi.warn(a.join(" "))}Nn(new pn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Ute="firebase-heartbeat-database",Bte=1,rd="firebase-heartbeat-store";let kC=null;function mV(){return kC||(kC=eg(Ute,Bte,{upgrade:(n,e)=>{if(0===e)try{n.createObjectStore(rd)}catch(t){console.warn(t)}}}).catch(n=>{throw Tr.create("idb-open",{originalErrorMessage:n.message})})),kC}function NC(){return(NC=I(function*(n){try{const t=(yield mV()).transaction(rd),r=yield t.objectStore(rd).get(yV(n));return yield t.done,r}catch(e){if(e instanceof wr)Bi.warn(e.message);else{const t=Tr.create("idb-get",{originalErrorMessage:e?.message});Bi.warn(t.message)}}})).apply(this,arguments)}function _V(n,e){return VC.apply(this,arguments)}function VC(){return(VC=I(function*(n,e){try{const r=(yield mV()).transaction(rd,"readwrite");yield r.objectStore(rd).put(e,yV(n)),yield r.done}catch(t){if(t instanceof wr)Bi.warn(t.message);else{const r=Tr.create("idb-set",{originalErrorMessage:t?.message});Bi.warn(r.message)}}})).apply(this,arguments)}function yV(n){return`${n.name}!${n.options.appId}`}class zte{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new qte(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return I(function*(){var t,r;try{const o=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=vV();return null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&(e._heartbeatsCache=yield e._heartbeatsCachePromise,null==(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats))||e._heartbeatsCache.lastSentHeartbeatDate===s||e._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(e._heartbeatsCache.heartbeats.push({date:s,agent:o}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=2592e6}),e._storage.overwrite(e._heartbeatsCache))}catch(i){Bi.warn(i)}})()}getHeartbeatsHeader(){var e=this;return I(function*(){var t;try{if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=vV(),{heartbeatsToSend:i,unsentEntries:o}=function Gte(n,e=1024){const t=[];let r=n.slice();for(const i of n){const o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),bV(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),bV(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Qp(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(e._heartbeatsCache.heartbeats=o,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s}catch(r){return Bi.warn(r),""}})()}}function vV(){return(new Date).toISOString().substring(0,10)}class qte{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return I(function*(){return!!Po()&&Zl().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return I(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function jte(n){return NC.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var t=this;return I(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return _V(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return I(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return _V(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function bV(n){return Qp(JSON.stringify({version:2,heartbeats:n})).length}!function Wte(n){Nn(new pn("platform-logger",e=>new ote(e),"PRIVATE")),Nn(new pn("heartbeat",e=>new zte(e),"PRIVATE")),vt(tg,xC,n),vt(tg,xC,"esm2017"),vt("fire-js","")}(""),vt("firebase","10.14.1","app");const CV="@firebase/installations",FC="0.6.9",IV=1e4,EV=`w:${FC}`,wV="FIS_v2",Yte="https://firebaseinstallations.googleapis.com/v1",Jte=36e5,ji=new ii("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function TV(n){return n instanceof wr&&n.code.includes("request-failed")}function LC({projectId:n}){return`${Yte}/projects/${n}/installations`}function PV(n){return{token:n.token,requestStatus:2,expiresIn:tne(n.expiresIn),creationTime:Date.now()}}function UC(n,e){return BC.apply(this,arguments)}function BC(){return(BC=I(function*(n,e){const r=(yield e.json()).error;return ji.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function AV({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function jC(n){return $C.apply(this,arguments)}function $C(){return($C=I(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function tne(n){return Number(n.replace("s","000"))}function HC(){return(HC=I(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=LC(n),i=AV(n),o=e.getImmediate({optional:!0});if(o){const u=yield o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:wV,appId:n.appId,sdkVersion:EV})},c=yield jC(()=>fetch(r,a));if(c.ok){const u=yield c.json();return{fid:u.fid||t,registrationStatus:2,refreshToken:u.refreshToken,authToken:PV(u.authToken)}}throw yield UC("Create Installation",c)})).apply(this,arguments)}function SV(n){return new Promise(e=>{setTimeout(e,n)})}const one=/^[cdef][\w-]{21}$/,zC="";function sne(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function ane(n){return function ine(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return one.test(t)?t:zC}catch{return zC}}function wc(n){return`${n.appName}!${n.appId}`}const Tc=new Map;function MV(n,e){const t=wc(n);xV(t,e),function lne(n,e){const t=function OV(){return!Is&&"BroadcastChannel"in self&&(Is=new BroadcastChannel("[Firebase] FID Change"),Is.onmessage=n=>{xV(n.data.key,n.data.fid)}),Is}();t&&t.postMessage({key:n,fid:e}),function RV(){0===Tc.size&&Is&&(Is.close(),Is=null)}()}(t,e)}function xV(n,e){const t=Tc.get(n);if(t)for(const r of t)r(e)}let Is=null;const dne="firebase-installations-database",hne=1,Es="firebase-installations-store";let GC=null;function qC(){return GC||(GC=eg(dne,hne,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Es)}})),GC}function rg(n,e){return WC.apply(this,arguments)}function WC(){return(WC=I(function*(n,e){const t=wc(n),i=(yield qC()).transaction(Es,"readwrite"),o=i.objectStore(Es),s=yield o.get(t);return yield o.put(e,t),yield i.done,(!s||s.fid!==e.fid)&&MV(n,e.fid),e})).apply(this,arguments)}function KC(n){return QC.apply(this,arguments)}function QC(){return(QC=I(function*(n){const e=wc(n),r=(yield qC()).transaction(Es,"readwrite");yield r.objectStore(Es).delete(e),yield r.done})).apply(this,arguments)}function id(n,e){return YC.apply(this,arguments)}function YC(){return(YC=I(function*(n,e){const t=wc(n),i=(yield qC()).transaction(Es,"readwrite"),o=i.objectStore(Es),s=yield o.get(t),a=e(s);return void 0===a?yield o.delete(t):yield o.put(a,t),yield i.done,a&&(!s||s.fid!==a.fid)&&MV(n,a.fid),a})).apply(this,arguments)}function JC(n){return XC.apply(this,arguments)}function XC(){return XC=I(function*(n){let e;const t=yield id(n.appConfig,r=>{const i=function fne(n){return NV(n||{fid:sne(),registrationStatus:0})}(r),o=function pne(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(ji.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function gne(n,e){return ZC.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:mne(n)}:{installationEntry:e}}(n,i);return e=o.registrationPromise,o.installationEntry});return t.fid===zC?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),XC.apply(this,arguments)}function ZC(){return ZC=I(function*(n,e){try{const t=yield function rne(n,e){return HC.apply(this,arguments)}(n,e);return rg(n.appConfig,t)}catch(t){throw TV(t)&&409===t.customData.serverCode?yield KC(n.appConfig):yield rg(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),ZC.apply(this,arguments)}function mne(n){return eI.apply(this,arguments)}function eI(){return(eI=I(function*(n){let e=yield kV(n.appConfig);for(;1===e.registrationStatus;)yield SV(100),e=yield kV(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield JC(n);return r||t}return e})).apply(this,arguments)}function kV(n){return id(n,e=>{if(!e)throw ji.create("installation-not-found");return NV(e)})}function NV(n){return function _ne(n){return 1===n.registrationStatus&&n.registrationTime+IV<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function tI(){return(tI=I(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=function vne(n,{fid:e}){return`${LC(n)}/${e}/authTokens:generate`}(n,t),i=function DV(n,{refreshToken:e}){const t=AV(n);return t.append("Authorization",function nne(n){return`${wV} ${n}`}(e)),t}(n,t),o=e.getImmediate({optional:!0});if(o){const u=yield o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:EV,appId:n.appId}})},c=yield jC(()=>fetch(r,a));if(c.ok)return PV(yield c.json());throw yield UC("Generate Auth Token",c)})).apply(this,arguments)}function nI(n){return rI.apply(this,arguments)}function rI(){return rI=I(function*(n,e=!1){let t;const r=yield id(n.appConfig,o=>{if(!FV(o))throw ji.create("not-registered");const s=o.authToken;if(!e&&function Ine(n){return 2===n.requestStatus&&!function Ene(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+Jte}(n)}(s))return o;if(1===s.requestStatus)return t=function bne(n,e){return iI.apply(this,arguments)}(n,e),o;{if(!navigator.onLine)throw ji.create("app-offline");const a=function wne(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(o);return t=function Cne(n,e){return oI.apply(this,arguments)}(n,a),a}});return t?yield t:r.authToken}),rI.apply(this,arguments)}function iI(){return(iI=I(function*(n,e){let t=yield VV(n.appConfig);for(;1===t.authToken.requestStatus;)yield SV(100),t=yield VV(n.appConfig);const r=t.authToken;return 0===r.requestStatus?nI(n,e):r})).apply(this,arguments)}function VV(n){return id(n,e=>{if(!FV(e))throw ji.create("not-registered");return function Tne(n){return 1===n.requestStatus&&n.requestTime+IV<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function oI(){return oI=I(function*(n,e){try{const t=yield function yne(n,e){return tI.apply(this,arguments)}(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield rg(n.appConfig,r),t}catch(t){if(!TV(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield rg(n.appConfig,r)}else yield KC(n.appConfig);throw t}}),oI.apply(this,arguments)}function FV(n){return void 0!==n&&2===n.registrationStatus}function sI(){return(sI=I(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield JC(e);return r?r.catch(console.error):nI(e).catch(console.error),t.fid})).apply(this,arguments)}function aI(){return aI=I(function*(n,e=!1){const t=n;return yield function Dne(n){return cI.apply(this,arguments)}(t),(yield nI(t,e)).token}),aI.apply(this,arguments)}function cI(){return(cI=I(function*(n){const{registrationPromise:e}=yield JC(n);e&&(yield e)})).apply(this,arguments)}function dI(n){return ji.create("missing-app-config-values",{valueName:n})}const LV="installations",Rne=n=>{const e=n.getProvider("app").getImmediate(),t=function xne(n){if(!n||!n.options)throw dI("App Configuration");if(!n.name)throw dI("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw dI(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:Ec(e,"heartbeat"),_delete:()=>Promise.resolve()}},kne=n=>{const t=Ec(n.getProvider("app").getImmediate(),LV).getImmediate();return{getId:()=>function Pne(n){return sI.apply(this,arguments)}(t),getToken:i=>function Ane(n){return aI.apply(this,arguments)}(t,i)}};(function Nne(){Nn(new pn(LV,Rne,"PUBLIC")),Nn(new pn("installations-internal",kne,"PRIVATE"))})(),vt(CV,FC),vt(CV,FC,"esm2017");const hI="@firebase/remote-config",Kn=new ii("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class qne{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return I(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const o=yield t.client.fetch(e),s=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&s.push(t.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(s),o})()}}function Wne(n=navigator){return n.languages&&n.languages[0]||n.language}class Kne{constructor(e,t,r,i,o,s){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=s}fetch(e){var t=this;return I(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:Wne()},u={method:"POST",headers:a,body:JSON.stringify(c)},d=fetch(s,u),h=new Promise((O,S)=>{e.signal.addEventListener(()=>{const U=new Error("The operation was aborted.");U.name="AbortError",S(U)})});let p;try{yield Promise.race([d,h]),p=yield d}catch(O){let S="fetch-client-network";throw"AbortError"===O?.name&&(S="fetch-timeout"),Kn.create(S,{originalErrorMessage:O?.message})}let m=p.status;const v=p.headers.get("ETag")||void 0;let C,w;if(200===p.status){let O;try{O=yield p.json()}catch(S){throw Kn.create("fetch-client-parse",{originalErrorMessage:S?.message})}C=O.entries,w=O.state}if("INSTANCE_STATE_UNSPECIFIED"===w?m=500:"NO_CHANGE"===w?m=304:("NO_TEMPLATE"===w||"EMPTY_CONFIG"===w)&&(C={}),304!==m&&200!==m)throw Kn.create("fetch-status",{httpStatus:m});return{status:m,eTag:v,config:C}})()}}class Jne{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return I(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,t){var r=this;return I(function*(i,{throttleEndTimeMillis:o,backoffCount:s}){yield function Qne(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(Kn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(i.signal,o);try{const a=yield r.client.fetch(i);return yield r.storage.deleteThrottleMetadata(),a}catch(a){if(!function Yne(n){if(!(n instanceof wr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(a))throw a;const c={throttleEndTimeMillis:Date.now()+IC(s),backoffCount:s+1};return yield r.storage.setThrottleMetadata(c),r.attemptFetch(i,c)}}).apply(this,arguments)}}class ere{constructor(e,t,r,i,o){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function og(n,e){const t=n.target.error||void 0;return Kn.create(e,{originalErrorMessage:t&&t?.message})}const ws="app_namespace_store";class ire{constructor(e,t,r,i=function rre(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(og(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ws,{keyPath:"compositeKey"})}}catch(t){e(Kn.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return I(function*(){const r=yield t.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([ws],"readonly").objectStore(ws),c=t.createCompositeKey(e);try{const u=a.get(c);u.onerror=d=>{o(og(d,"storage-get"))},u.onsuccess=d=>{const h=d.target.result;i(h?h.value:void 0)}}catch(u){o(Kn.create("storage-get",{originalErrorMessage:u?.message}))}})})()}set(e,t){var r=this;return I(function*(){const i=yield r.openDbPromise;return new Promise((o,s)=>{const c=i.transaction([ws],"readwrite").objectStore(ws),u=r.createCompositeKey(e);try{const d=c.put({compositeKey:u,value:t});d.onerror=h=>{s(og(h,"storage-set"))},d.onsuccess=()=>{o()}}catch(d){s(Kn.create("storage-set",{originalErrorMessage:d?.message}))}})})()}delete(e){var t=this;return I(function*(){const r=yield t.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([ws],"readwrite").objectStore(ws),c=t.createCompositeKey(e);try{const u=a.delete(c);u.onerror=d=>{o(og(d,"storage-delete"))},u.onsuccess=()=>{i()}}catch(u){o(Kn.create("storage-delete",{originalErrorMessage:u?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class ore{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return I(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),o=yield t;o&&(e.lastFetchStatus=o);const s=yield r;s&&(e.lastSuccessfulFetchTimestampMillis=s);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function are(){return _I.apply(this,arguments)}function _I(){return(_I=I(function*(){if(!Po())return!1;try{return yield Zl()}catch{return!1}})).apply(this,arguments)}!function sre(){Nn(new pn("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Kn.create("registration-window");if(!Po())throw Kn.create("indexed-db-unavailable");const{projectId:o,apiKey:s,appId:a}=r.options;if(!o)throw Kn.create("registration-project-id");if(!s)throw Kn.create("registration-api-key");if(!a)throw Kn.create("registration-app-id");const c=new ire(a,r.name,t=t||"firebase"),u=new ore(c),d=new Ic(hI);d.logLevel=Se.ERROR;const h=new Kne(i,Cs,t,o,s,a),p=new Jne(h,c),m=new qne(p,c,u,d),v=new ere(r,m,u,c,d);return function Hne(n){const e=nn(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(v),v},"PUBLIC").setMultipleInstances(!0)),vt(hI,"0.4.9"),vt(hI,"0.4.9","esm2017")}();const cre="/firebase-messaging-sw.js",ure="/firebase-cloud-messaging-push-scope",$V="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",lre="https://fcmregistrations.googleapis.com/v1",HV="google.c.a.c_id",dre="google.c.a.c_l",hre="google.c.a.ts";var sg=function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n}(sg||{});function $i(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function gre(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}const yI="fcm_token_details_db",mre=5,zV="fcm_token_object_Store";function vI(){return vI=I(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(yI))return null;let e=null;return(yield eg(yI,mre,{upgrade:(r=I(function*(i,o,s,a){var c;if(o<2||!i.objectStoreNames.contains(zV))return;const u=a.objectStore(zV),d=yield u.index("fcmSenderId").get(n);if(yield u.clear(),d)if(2===o){const h=d;if(!h.auth||!h.p256dh||!h.endpoint)return;e={token:h.fcmToken,createTime:null!==(c=h.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:h.auth,p256dh:h.p256dh,endpoint:h.endpoint,swScope:h.swScope,vapidKey:"string"==typeof h.vapidKey?h.vapidKey:$i(h.vapidKey)}}}else if(3===o){const h=d;e={token:h.fcmToken,createTime:h.createTime,subscriptionOptions:{auth:$i(h.auth),p256dh:$i(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:$i(h.vapidKey)}}}else if(4===o){const h=d;e={token:h.fcmToken,createTime:h.createTime,subscriptionOptions:{auth:$i(h.auth),p256dh:$i(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:$i(h.vapidKey)}}}}),function(o,s,a,c){return r.apply(this,arguments)})})).close(),yield SC(yI),yield SC("fcm_vapid_details_db"),yield SC("undefined"),function yre(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),vI.apply(this,arguments)}const vre="firebase-messaging-database",bre=1,Ts="firebase-messaging-store";let bI=null;function CI(){return bI||(bI=eg(vre,bre,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Ts)}})),bI}function II(){return II=I(function*(n){const e=PI(n),r=yield(yield CI()).transaction(Ts).objectStore(Ts).get(e);if(r)return r;{const i=yield function _re(n){return vI.apply(this,arguments)}(n.appConfig.senderId);if(i)return yield EI(n,i),i}}),II.apply(this,arguments)}function EI(n,e){return wI.apply(this,arguments)}function wI(){return(wI=I(function*(n,e){const t=PI(n),i=(yield CI()).transaction(Ts,"readwrite");return yield i.objectStore(Ts).put(e,t),yield i.done,e})).apply(this,arguments)}function PI({appConfig:n}){return n.appId}const rn=new ii("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ere(n,e){return AI.apply(this,arguments)}function AI(){return(AI=I(function*(n,e){const t=yield xI(n),r=WV(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(MI(n.appConfig),i)).json()}catch(s){throw rn.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error)throw rn.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw rn.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function DI(){return(DI=I(function*(n,e){const t=yield xI(n),r=WV(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(`${MI(n.appConfig)}/${e.token}`,i)).json()}catch(s){throw rn.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error)throw rn.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw rn.create("token-update-no-token");return o.token})).apply(this,arguments)}function SI(){return(SI=I(function*(n,e){const r={method:"DELETE",headers:yield xI(n)};try{const o=yield(yield fetch(`${MI(n.appConfig)}/${e}`,r)).json();if(o.error)throw rn.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(i){throw rn.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function MI({projectId:n}){return`${lre}/projects/${n}/registrations`}function xI(n){return OI.apply(this,arguments)}function OI(){return(OI=I(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function WV({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==$V&&(i.web.applicationPubKey=r),i}const Tre=6048e5;function RI(){return RI=I(function*(n){const e=yield function Sre(n,e){return FI.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:$i(e.getKey("auth")),p256dh:$i(e.getKey("p256dh"))},r=yield function GV(n){return II.apply(this,arguments)}(n.firebaseDependencies);if(r){if(function Mre(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(r.subscriptionOptions,t))return Date.now()>=r.createTime+Tre?function Dre(n,e){return NI.apply(this,arguments)}(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield function qV(n,e){return SI.apply(this,arguments)}(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return KV(n.firebaseDependencies,t)}return KV(n.firebaseDependencies,t)}),RI.apply(this,arguments)}function NI(){return NI=I(function*(n,e){try{const t=yield function wre(n,e){return DI.apply(this,arguments)}(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield EI(n.firebaseDependencies,r),t}catch(t){throw t}}),NI.apply(this,arguments)}function KV(n,e){return VI.apply(this,arguments)}function VI(){return(VI=I(function*(n,e){const r={token:yield Ere(n,e),createTime:Date.now(),subscriptionOptions:e};return yield EI(n,r),r.token})).apply(this,arguments)}function FI(){return(FI=I(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:gre(e)})})).apply(this,arguments)}function QV(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function xre(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const o=e.notification.icon;o&&(n.notification.icon=o)}(e,n),function Ore(n,e){e.data&&(n.data=e.data)}(e,n),function Rre(n,e){var t,r,i,o,s;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=e.notification)||void 0===o?void 0:o.click_action;a&&(n.fcmOptions.link=a);const c=null===(s=e.fcmOptions)||void 0===s?void 0:s.analytics_label;c&&(n.fcmOptions.analyticsLabel=c)}(e,n),e}function LI(n){return rn.create("missing-app-config-values",{valueName:n})}!function Nre(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));t.join("")}("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Fre{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function Vre(n){if(!n||!n.options)throw LI("App Configuration Object");if(!n.name)throw LI("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw LI(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function UI(){return(UI=I(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(cre,{scope:ure}),n.swRegistration.update().catch(()=>{})}catch(e){throw rn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function BI(){return(BI=I(function*(n,e){if(!e&&!n.swRegistration&&(yield function YV(n){return UI.apply(this,arguments)}(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw rn.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function jI(){return(jI=I(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=$V)})).apply(this,arguments)}function $I(){return $I=I(function*(n,e){if(!navigator)throw rn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw rn.create("permission-blocked");return yield function Ure(n,e){return jI.apply(this,arguments)}(n,e?.vapidKey),yield function Lre(n,e){return BI.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function Pre(n){return RI.apply(this,arguments)}(n)}),$I.apply(this,arguments)}function HI(){return(HI=I(function*(n,e,t){const r=function jre(n){switch(n){case sg.NOTIFICATION_CLICKED:return"notification_open";case sg.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[HV],message_name:t[dre],message_time:t[hre],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function zI(){return zI=I(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===sg.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(QV(t)):n.onMessageHandler.next(QV(t)));const r=t.data;(function kre(n){return"object"==typeof n&&!!n&&HV in n})(r)&&"1"===r["google.c.a.e"]&&(yield function Bre(n,e,t){return HI.apply(this,arguments)}(n,t.messageType,r))}),zI.apply(this,arguments)}const XV="@firebase/messaging",ZV="0.12.12",Hre=n=>{const e=new Fre(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function $re(n,e){return zI.apply(this,arguments)}(e,t)),e},zre=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function JV(n,e){return $I.apply(this,arguments)}(e,r)}};function eF(){return GI.apply(this,arguments)}function GI(){return(GI=I(function*(){try{yield Zl()}catch{return!1}return typeof window<"u"&&Po()&&vC()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Gre(){Nn(new pn("messaging",Hre,"PUBLIC")),Nn(new pn("messaging-internal",zre,"PRIVATE")),vt(XV,ZV),vt(XV,ZV,"esm2017")}();const ag="analytics",Kre="firebase_id",Qre="origin",Yre=6e4,Jre="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",KI="https://www.googletagmanager.com/gtag/js",Gt=new Ic("@firebase/analytics"),Vn=new ii("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Zre(n){if(!n.startsWith(KI)){const e=Vn.create("invalid-gtag-resource",{gtagURL:n});return Gt.warn(e.message),""}return n}function tF(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function QI(){return(QI=I(function*(n,e,t,r,i,o){const s=r[i];try{if(s)yield e[s];else{const c=(yield tF(t)).find(u=>u.measurementId===i);c&&(yield e[c.appId])}}catch(a){Gt.error(a)}n("config",i,o)})).apply(this,arguments)}function YI(){return(YI=I(function*(n,e,t,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=yield tF(t);for(const c of s){const u=a.find(h=>h.measurementId===c),d=u&&e[u.appId];if(!d){o=[];break}o.push(d)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),n("event",r,i||{})}catch(o){Gt.error(o)}})).apply(this,arguments)}const cie=30,nF=new class lie{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function die(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function JI(){return(JI=I(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:die(r)},o=Jre.replace("{app-id}",t),s=yield fetch(o,i);if(200!==s.status&&304!==s.status){let a="";try{const c=yield s.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw Vn.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function XI(){return(XI=I(function*(n,e=nF,t){const{appId:r,apiKey:i,measurementId:o}=n.options;if(!r)throw Vn.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Vn.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new mie;return setTimeout(I(function*(){a.abort()}),void 0!==t?t:Yre),rF({appId:r,apiKey:i,measurementId:o},s,a,e)})).apply(this,arguments)}function rF(n,e,t){return ZI.apply(this,arguments)}function ZI(){return ZI=I(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=nF){var o;const{appId:s,measurementId:a}=n;try{yield function pie(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(Vn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return Gt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw c}try{const c=yield function hie(n){return JI.apply(this,arguments)}(n);return i.deleteThrottleMetadata(s),c}catch(c){const u=c;if(!function gie(n){if(!(n instanceof wr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(u)){if(i.deleteThrottleMetadata(s),a)return Gt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:s,measurementId:a};throw c}const d=503===Number(null===(o=u?.customData)||void 0===o?void 0:o.httpStatus)?IC(t,i.intervalMillis,cie):IC(t,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:t+1};return i.setThrottleMetadata(s,h),Gt.debug(`Calling attemptFetch again in ${d} millis`),rF(n,h,r,i)}}),ZI.apply(this,arguments)}class mie{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let eE,aE;function tE(){return(tE=I(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const o=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:o}))}})).apply(this,arguments)}function cE(){return(cE=I(function*(){if(!Po())return Gt.warn(Vn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Zl()}catch(n){return Gt.warn(Vn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function uE(){return uE=I(function*(n,e,t,r,i,o,s){var a;const c=function fie(n){return XI.apply(this,arguments)}(n);c.then(m=>{t[m.measurementId]=m.appId,n.options.measurementId&&m.measurementId!==n.options.measurementId&&Gt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>Gt.error(m)),e.push(c);const u=function Eie(){return cE.apply(this,arguments)}().then(m=>{if(m)return r.getId()}),[d,h]=yield Promise.all([c,u]);(function aie(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(KI)&&t.src.includes(n))return t;return null})(o)||function tie(n,e){const t=function eie(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:Zre}),r=document.createElement("script"),i=`${KI}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(o,d.measurementId),aE&&(i("consent","default",aE),function iF(n){aE=n}(void 0)),i("js",new Date);const p=null!==(a=s?.config)&&void 0!==a?a:{};return p[Qre]="firebase",p.update=!0,null!=h&&(p[Kre]=h),i("config",d.measurementId,p),eE&&(i("set",eE),function oF(n){eE=n}(void 0)),d.measurementId}),uE.apply(this,arguments)}class Tie{constructor(e){this.app=e}_delete(){return delete oi[this.app.options.appId],Promise.resolve()}}let oi={},sF=[];const aF={};let uF,si,cg="dataLayer",lE=!1;function Aie(n,e,t){!function Pie(){const n=[];if(yC()&&n.push("This is a browser extension environment."),vC()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Vn.create("invalid-analytics-context",{errorInfo:e});Gt.warn(t.message)}}();const r=n.options.appId;if(!r)throw Vn.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Vn.create("no-api-key");Gt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=oi[r])throw Vn.create("already-exists",{id:r});if(!lE){!function nie(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(cg);const{wrappedGtag:o,gtagCore:s}=function sie(n,e,t,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function oie(n,e,t,r){function o(){return o=I(function*(s,...a){try{if("event"===s){const[c,u]=a;yield function iie(n,e,t,r,i){return YI.apply(this,arguments)}(n,e,t,c,u)}else if("config"===s){const[c,u]=a;yield function rie(n,e,t,r,i,o){return QI.apply(this,arguments)}(n,e,t,r,c,u)}else if("consent"===s){const[c,u]=a;n("consent",c,u)}else if("get"===s){const[c,u,d]=a;n("get",c,u,d)}else if("set"===s){const[c]=a;n("set",c)}else n(s,...a)}catch(c){Gt.error(c)}}),o.apply(this,arguments)}return function i(s){return o.apply(this,arguments)}}(o,n,e,t),{gtagCore:o,wrappedGtag:window[i]}}(oi,sF,aF,cg,"gtag");si=o,uF=s,lE=!0}return oi[r]=function wie(n,e,t,r,i,o,s){return uE.apply(this,arguments)}(n,sF,aF,e,uF,cg,t),new Tie(n)}function Sie(){return dE.apply(this,arguments)}function dE(){return(dE=I(function*(){if(yC()||!vC()||!Po())return!1;try{return yield Zl()}catch{return!1}})).apply(this,arguments)}const lF="@firebase/analytics";!function xie(){Nn(new pn(ag,(e,{options:t})=>Aie(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Nn(new pn("analytics-internal",function n(e){try{const t=e.getProvider(ag).getImmediate();return{logEvent:(r,i,o)=>function Mie(n,e,t,r){n=nn(n),function _ie(n,e,t,r,i){return tE.apply(this,arguments)}(si,oi[n.app.options.appId],e,t,r).catch(i=>Gt.error(i))}(t,r,i,o)}}catch(t){throw Vn.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),vt(lF,"0.10.8"),vt(lF,"0.10.8","esm2017")}();class Oie extends Bn{constructor(e,t){super()}schedule(e,t=0){return this}}const ug={setInterval(n,e,...t){const{delegate:r}=ug;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=ug;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class hF extends Oie{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return ug.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&ug.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,oa(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const fF={now:()=>(fF.delegate||Date).now(),delegate:void 0};class od{constructor(e,t=od.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}od.now=fF.now;class pF extends od{constructor(e,t=od.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const Nie=new class kie extends pF{}(class Rie extends hF{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),fE=new pF(hF),Vie=fE,lg=new Ba("7.6.1"),pE="__angularfire_symbol__analyticsIsSupportedValue",gE="__angularfire_symbol__analyticsIsSupported",mE="__angularfire_symbol__remoteConfigIsSupportedValue",_E="__angularfire_symbol__remoteConfigIsSupported",yE="__angularfire_symbol__messagingIsSupportedValue",vE="__angularfire_symbol__messagingIsSupported";function CE(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[gE]||(globalThis[gE]=Sie().then(n=>globalThis[pE]=n).catch(()=>globalThis[pE]=!1)),globalThis[vE]||(globalThis[vE]=eF().then(n=>globalThis[yE]=n).catch(()=>globalThis[yE]=!1)),globalThis[_E]||(globalThis[_E]=are().then(n=>globalThis[mE]=n).catch(()=>globalThis[mE]=!1));const IE=(n,e)=>{const t=e?[e]:gV(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};function Pc(){}class gF{constructor(e,t=Nie){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},t,r)}}class Fie{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pc,{},Pc,Pc)),t.pipe(yt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let EE=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new gF(Zone.current)),this.insideAngular=t.run(()=>new gF(Zone.current,fE)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(oe(Ue))},n.\u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ps(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function As(n){return Ps().ngZone.run(()=>n())}function Uie(n){return Ps(),function Bie(n){return function(t){return(t=t.lift(new Fie(n.ngZone))).pipe(Fh(n.outsideAngular),Vh(n.insideAngular))}}(Ps())(n)}const jie=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),As(()=>n.apply(void 0,r))},wE=(n,e)=>function(){let t;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(t||(t=As(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Pc,{},Pc,Pc)))),r[o]=jie(r[o],t));const i=function Lie(n){return Ps().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof lt){const o=Ps();return i.pipe(Fh(o.outsideAngular),Vh(o.insideAngular))}return As(()=>i)}return i instanceof lt?i.pipe(Uie):i instanceof Promise?As(()=>new Promise((o,s)=>i.then(a=>As(()=>o(a)),a=>As(()=>s(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:As(()=>i)};class Ac{constructor(e){return e}}class TE{constructor(){return gV()}}const PE=new re("angularfire2._apps"),Hie={provide:Ac,useFactory:function $ie(n){return n&&1===n.length?n[0]:new Ac(OC())},deps:[[new Mn,PE]]},zie={provide:TE,deps:[[new Mn,PE]]};function Gie(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Ac(r)}}let qie=(()=>{class n{constructor(t){vt("angularfire",lg.full,"core"),vt("angularfire",lg.full,"app"),vt("angular",SM.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(oe(wi))},n.\u0275mod=Or({type:n}),n.\u0275inj=pr({providers:[Hie,zie]}),n})();const Kie=wE(pV,!0),AE=new Map,mF={activated:!1,tokenObservers:[]},Qie={initialized:!1,enabled:!1};function wt(n){return AE.get(n)||Object.assign({},mF)}function dg(){return Qie}const DE="https://content-firebaseappcheck.googleapis.com/v1",Zie="exchangeDebugToken",_F={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class toe{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return I(function*(){t.stop();try{t.pending=new Xp,t.pending.promise.catch(r=>{}),yield function noe(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Xp,t.pending.promise.catch(r=>{}),yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const on=new ii("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function SE(n){if(!wt(n).activated)throw on.create("use-before-activation",{appName:n.name})}function pg(n,e){return xE.apply(this,arguments)}function xE(){return(xE=I(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const h=yield i.getHeartbeatsHeader();h&&(r["X-Firebase-Client"]=h)}const o={method:"POST",body:JSON.stringify(e),headers:r};let s,a;try{s=yield fetch(n,o)}catch(h){throw on.create("fetch-network-error",{originalErrorMessage:h?.message})}if(200!==s.status)throw on.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(h){throw on.create("fetch-parse-error",{originalErrorMessage:h?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw on.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=1e3*Number(c[1]),d=Date.now();return{token:a.token,expireTimeMillis:d+u,issuedAtTimeMillis:d}})).apply(this,arguments)}function yF(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${DE}/projects/${t}/apps/${r}:${Zie}?key=${i}`,body:{debug_token:e}}}const soe="firebase-app-check-database",aoe=1,sd="firebase-app-check-store";let gg=null;function OE(){return(OE=I(function*(n,e){const r=(yield function bF(){return gg||(gg=new Promise((n,e)=>{try{const t=indexedDB.open(soe,aoe);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(on.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(sd,{keyPath:"compositeKey"})}}catch(t){e(on.create("storage-open",{originalErrorMessage:t?.message}))}}),gg)}()).transaction(sd,"readwrite"),o=r.objectStore(sd).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var u;a(on.create("storage-set",{originalErrorMessage:null===(u=c.target.error)||void 0===u?void 0:u.message}))}})})).apply(this,arguments)}const ad=new Ic("@firebase/app-check");function NE(n,e){return Po()?function uoe(n,e){return function CF(n,e){return OE.apply(this,arguments)}(function EF(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{ad.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function FE(){return dg().enabled}function LE(){return UE.apply(this,arguments)}function UE(){return(UE=I(function*(){const n=dg();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const goe={error:"UNKNOWN_ERROR"};function moe(n){return _C.encodeString(JSON.stringify(n),!1)}function mg(n){return BE.apply(this,arguments)}function BE(){return(BE=I(function*(n,e=!1){const t=n.app;SE(t);const r=wt(t);let o,i=r.token;if(i&&!Dc(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(Dc(c)?i=c:yield NE(t,void 0))}if(!e&&i&&Dc(i))return{token:i.token};let a,s=!1;if(FE()){r.exchangeTokenPromise||(r.exchangeTokenPromise=pg(yF(t,yield LE()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);const c=yield r.exchangeTokenPromise;return yield NE(t,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield wt(t).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?ad.warn(c.message):ad.error(c),o=c}return i?o?a=Dc(i)?{token:i.token,internalError:o}:AF(o):(a={token:i.token},r.token=i,yield NE(t,i)):a=AF(o),s&&function PF(n,e){const t=wt(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,a),a})).apply(this,arguments)}function wF(n){return jE.apply(this,arguments)}function jE(){return(jE=I(function*(n){const e=n.app;SE(e);const{provider:t}=wt(e);if(FE()){const r=yield LE(),{token:i}=yield pg(yF(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function HE(n,e){const t=wt(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function TF(n){const{app:e}=n,t=wt(e);let r=t.tokenRefresher;r||(r=function _oe(n){const{app:e}=n;return new toe(I(function*(){let r;if(r=wt(e).token?yield mg(n,!0):yield mg(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=wt(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},_F.RETRIAL_MIN_WAIT,_F.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Dc(n){return n.expireTimeMillis-Date.now()>0}function AF(n){return{token:moe(goe),error:n}}class yoe{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=wt(this.app);for(const t of e)HE(this.app,t.next);return Promise.resolve()}}const NF="app-check-internal";!function Ooe(){Nn(new pn("app-check",n=>function voe(n,e){return new yoe(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(NF).initialize()})),Nn(new pn(NF,n=>function boe(n){return{getToken:e=>mg(n,e),getLimitedUseToken:()=>wF(n),addTokenListener:e=>function $E(n,e,t,r){const{app:i}=n,o=wt(i);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:r,type:e}],o.token&&Dc(o.token)){const a=o.token;Promise.resolve().then(()=>{t({token:a.token}),TF(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>TF(n))}(n,"INTERNAL",e),removeTokenListener:e=>HE(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),vt("@firebase/app-check","0.8.8")}();class WE{constructor(){return IE("app-check")}}typeof window<"u"&&window;const Foe=function FF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},LF=new ii("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),yg=new Ic("@firebase/auth");function vg(n,...e){yg.logLevel<=Se.ERROR&&yg.error(`Auth (${Cs}): ${n}`,...e)}function Qn(n,...e){throw YE(n,...e)}function Pr(n,...e){return YE(n,...e)}function QE(n,e,t){const r=Object.assign(Object.assign({},Foe()),{[e]:t});return new ii("auth","Firebase",r).create(e,{appName:n.name})}function qt(n){return QE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function YE(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return LF.create(n,...e)}function Y(n,e,...t){if(!n)throw YE(e,...t)}function ai(n){const e="INTERNAL ASSERTION FAILED: "+n;throw vg(e),new Error(e)}function Do(n,e){n||ai(e)}function cd(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function UF(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class ud{constructor(e,t){this.shortDelay=e,this.longDelay=t,Do(t>e,"Short delay should be less than long delay!"),this.isMobile=function wee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())}()||function Dee(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Uoe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function JE(){return"http:"===UF()||"https:"===UF()}()||yC()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function XE(n,e){Do(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class BF{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const joe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},$oe=new ud(3e4,6e4);function st(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function at(n,e,t,r){return ZE.apply(this,arguments)}function ZE(){return(ZE=I(function*(n,e,t,r,i={}){return jF(n,i,I(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=ed(Object.assign({key:n.config.apiKey},s)).slice(1),c=yield n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const u=Object.assign({method:e,headers:c},o);return function Aee(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}()||(u.referrerPolicy="no-referrer"),BF.fetch()($F(n,n.config.apiHost,t,a),u)}))})).apply(this,arguments)}function jF(n,e,t){return ew.apply(this,arguments)}function ew(){return(ew=I(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},joe),e);try{const i=new zoe(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw ld(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw ld(n,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw ld(n,"email-already-in-use",s);if("USER_DISABLED"===c)throw ld(n,"user-disabled",s);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw QE(n,d,u);Qn(n,d)}}catch(i){if(i instanceof wr)throw i;Qn(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function tw(){return(tw=I(function*(n,e,t,r,i={}){const o=yield at(n,e,t,r,i);return"mfaPendingCredential"in o&&Qn(n,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function $F(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?XE(n.config,i):`${n.config.apiScheme}://${i}`}class zoe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Pr(this.auth,"network-request-failed")),$oe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ld(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Pr(n,e,r);return i.customData._tokenResponse=t,i}function iw(){return(iw=I(function*(n,e){return at(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function WF(n,e){return sw.apply(this,arguments)}function sw(){return(sw=I(function*(n,e){return at(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function dd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function aw(){return(aw=I(function*(n,e=!1){const t=nn(n),r=yield t.getIdToken(e),i=bg(r);Y(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:dd(cw(i.auth_time)),issuedAtTime:dd(cw(i.iat)),expirationTime:dd(cw(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function cw(n){return 1e3*Number(n)}function bg(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return vg("JWT malformed, contained fewer than 3 sections"),null;try{const i=Yp(t);return i?JSON.parse(i):(vg("Failed to decode base64 JWT payload"),null)}catch(i){return vg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function KF(n){const e=bg(n);return Y(e,"internal-error"),Y(typeof e.exp<"u","internal-error"),Y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function zi(n,e){return uw.apply(this,arguments)}function uw(){return(uw=I(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof wr&&function Qoe({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class Yoe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(I(function*(){yield t.iteration()}),r)}iteration(){var e=this;return I(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class lw{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=dd(this.lastLoginAt),this.creationTime=dd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function hd(n){return dw.apply(this,arguments)}function dw(){return(dw=I(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield zi(n,WF(t,{idToken:r}));Y(i?.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?QF(o.providerUserInfo):[],a=function Xoe(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,s),d=!!n.isAnonymous&&!(n.email&&o.passwordHash||a?.length),h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new lw(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(n,h)})).apply(this,arguments)}function hw(){return(hw=I(function*(n){const e=nn(n);yield hd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function QF(n){return n.map(e=>{var{providerId:t}=e,r=Nh(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function fw(){return(fw=I(function*(n,e){const t=yield jF(n,{},I(function*(){const r=ed({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=$F(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",BF.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}function pw(){return(pw=I(function*(n,e){return at(n,"POST","/v2/accounts:revokeToken",st(n,e))})).apply(this,arguments)}class Mc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Y(e.idToken,"internal-error"),Y(typeof e.idToken<"u","internal-error"),Y(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):KF(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Y(0!==e.length,"internal-error");const t=KF(e);this.updateTokensAndExpiration(e,null,t)}getToken(e){var t=this;return I(function*(r,i=!1){return i||!t.accessToken||t.isExpired?(Y(t.refreshToken,r,"user-token-expired"),t.refreshToken?(yield t.refresh(r,t.refreshToken),t.accessToken):null):t.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return I(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function Zoe(n,e){return fw.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new Mc;return r&&(Y("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(Y("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(Y("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mc,this.toJSON())}_performRefresh(){return ai("not implemented")}}function So(n,e){Y("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Gi{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Nh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yoe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new lw(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var t=this;return I(function*(){const r=yield zi(t,t.stsTokenManager.getToken(t.auth,e));return Y(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function Koe(n){return aw.apply(this,arguments)}(this,e)}reload(){return function Joe(n){return hw.apply(this,arguments)}(this)}_assign(e){this!==e&&(Y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Gi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e){var t=this;return I(function*(r,i=!1){let o=!1;r.idToken&&r.idToken!==t.stsTokenManager.accessToken&&(t.stsTokenManager.updateFromServerResponse(r),o=!0),i&&(yield hd(t)),yield t.auth._persistUserIfCurrent(t),o&&t.auth._notifyListenersIfCurrent(t)}).apply(this,arguments)}delete(){var e=this;return I(function*(){if(Ao(e.auth.app))return Promise.reject(qt(e.auth));const t=yield e.getIdToken();return yield zi(e,function qoe(n,e){return iw.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,u,d;const h=null!==(r=t.displayName)&&void 0!==r?r:void 0,p=null!==(i=t.email)&&void 0!==i?i:void 0,m=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,v=null!==(s=t.photoURL)&&void 0!==s?s:void 0,C=null!==(a=t.tenantId)&&void 0!==a?a:void 0,w=null!==(c=t._redirectEventId)&&void 0!==c?c:void 0,O=null!==(u=t.createdAt)&&void 0!==u?u:void 0,S=null!==(d=t.lastLoginAt)&&void 0!==d?d:void 0,{uid:U,emailVerified:K,isAnonymous:ne,providerData:de,stsTokenManager:M}=t;Y(U&&M,e,"internal-error");const E=Mc.fromJSON(this.name,M);Y("string"==typeof U,e,"internal-error"),So(h,e.name),So(p,e.name),Y("boolean"==typeof K,e,"internal-error"),Y("boolean"==typeof ne,e,"internal-error"),So(m,e.name),So(v,e.name),So(C,e.name),So(w,e.name),So(O,e.name),So(S,e.name);const A=new Gi({uid:U,auth:e,email:p,emailVerified:K,displayName:h,isAnonymous:ne,photoURL:v,phoneNumber:m,tenantId:C,stsTokenManager:E,createdAt:O,lastLoginAt:S});return de&&Array.isArray(de)&&(A.providerData=de.map(x=>Object.assign({},x))),w&&(A._redirectEventId=w),A}static _fromIdTokenResponse(e,t){return I(function*(r,i,o=!1){const s=new Mc;s.updateFromServerResponse(i);const a=new Gi({uid:i.localId,auth:r,stsTokenManager:s,isAnonymous:o});return yield hd(a),a}).apply(this,arguments)}static _fromGetAccountInfoResponse(e,t,r){return I(function*(){const i=t.users[0];Y(void 0!==i.localId,"internal-error");const o=void 0!==i.providerUserInfo?QF(i.providerUserInfo):[],s=!(i.email&&i.passwordHash||o?.length),a=new Mc;a.updateFromIdToken(r);const c=new Gi({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new lw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash||o?.length)};return Object.assign(c,u),c})()}}const YF=new Map;function qi(n){Do(n instanceof Function,"Expected a class definition");let e=YF.get(n);return e?(Do(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,YF.set(n,e),e)}const JF=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return I(function*(){return!0})()}_set(t,r){var i=this;return I(function*(){i.storage[t]=r})()}_get(t){var r=this;return I(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return I(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Cg(n,e,t){return`firebase:${n}:${e}:${t}`}class xc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Cg(this.userKey,i.apiKey,o),this.fullPersistenceKey=Cg("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return I(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Gi._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return I(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t){return I(function*(r,i,o="authUser"){if(!i.length)return new xc(qi(JF),r,o);const s=(yield Promise.all(i.map(function(){var h=I(function*(p){if(yield p._isAvailable())return p});return function(p){return h.apply(this,arguments)}}()))).filter(h=>h);let a=s[0]||qi(JF);const c=Cg(o,r.config.apiKey,r.name);let u=null;for(const h of i)try{const p=yield h._get(c);if(p){const m=Gi._fromJSON(r,p);h!==a&&(u=m),a=h;break}}catch{}const d=s.filter(h=>h._shouldAllowMigration);return a._shouldAllowMigration&&d.length?(a=d[0],u&&(yield a._set(c,u.toJSON())),yield Promise.all(i.map(function(){var h=I(function*(p){if(p!==a)try{yield p._remove(c)}catch{}});return function(p){return h.apply(this,arguments)}}())),new xc(a,r,o)):new xc(a,r,o)}).apply(this,arguments)}}function XF(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iL(e))return"Blackberry";if(oL(e))return"Webos";if(eL(e))return"Safari";if((e.includes("chrome/")||tL(e))&&!e.includes("edge/"))return"Chrome";if(rL(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function ZF(n=Mt()){return/firefox\//i.test(n)}function eL(n=Mt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tL(n=Mt()){return/crios\//i.test(n)}function nL(n=Mt()){return/iemobile/i.test(n)}function rL(n=Mt()){return/android/i.test(n)}function iL(n=Mt()){return/blackberry/i.test(n)}function oL(n=Mt()){return/webos/i.test(n)}function gw(n=Mt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function sL(n=Mt()){return gw(n)||rL(n)||oL(n)||iL(n)||/windows phone/i.test(n)||nL(n)}function aL(n,e=[]){let t;switch(n){case"Browser":t=XF(Mt());break;case"Worker":t=`${XF(Mt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Cs}/${r}`}class rse{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return I(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function mw(){return(mw=I(function*(n,e={}){return at(n,"GET","/v2/passwordPolicy",st(n,e))})).apply(this,arguments)}class sse{constructor(e){var t,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=null===(t=c.meetsMinPasswordLength)||void 0===t||t),c.isValid&&(c.isValid=null===(r=c.meetsMaxPasswordLength)||void 0===r||r),c.isValid&&(c.isValid=null===(i=c.containsLowercaseLetter)||void 0===i||i),c.isValid&&(c.isValid=null===(o=c.containsUppercaseLetter)||void 0===o||o),c.isValid&&(c.isValid=null===(s=c.containsNumericCharacter)||void 0===s||s),c.isValid&&(c.isValid=null===(a=c.containsNonAlphanumericCharacter)||void 0===a||a),c}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class ase{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cL(this),this.idTokenSubscription=new cL(this),this.beforeStateQueue=new rse(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=qi(t)),this._initializationPromise=this.queue(I(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield xc.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return I(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUserFromIdToken(e){var t=this;return I(function*(){try{const r=yield WF(t,{idToken:e}),i=yield Gi._fromGetAccountInfoResponse(t,r,e);yield t.directlySetCurrentUser(i)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),yield t.directlySetCurrentUser(null)}})()}initializeCurrentUser(e){var t=this;return I(function*(){var r;if(Ao(t.app)){const a=t.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>t.initializeCurrentUserFromIdToken(a).then(c,c))}):t.directlySetCurrentUser(null)}const i=yield t.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,c=o?._redirectEventId,u=yield t.tryRedirectSignIn(e);(!a||a===c)&&u?.user&&(o=u.user,s=!0)}if(!o)return t.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield t.beforeStateQueue.runMiddleware(o)}catch(a){o=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return o?t.reloadAndSetCurrentUserOrClear(o):t.directlySetCurrentUser(null)}return Y(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===o._redirectEventId?t.directlySetCurrentUser(o):t.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var t=this;return I(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return I(function*(){try{yield hd(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Boe(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return I(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return I(function*(){if(Ao(t.app))return Promise.reject(qt(t));const r=e?nn(e):null;return r&&Y(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e){var t=this;return I(function*(r,i=!1){if(!t._deleted)return r&&Y(t.tenantId===r.tenantId,t,"tenant-id-mismatch"),i||(yield t.beforeStateQueue.runMiddleware(r)),t.queue(I(function*(){yield t.directlySetCurrentUser(r),t.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var e=this;return I(function*(){return Ao(e.app)?Promise.reject(qt(e)):(yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0))})()}setPersistence(e){var t=this;return Ao(this.app)?Promise.reject(qt(this)):this.queue(I(function*(){yield t.assertedPersistence.setPersistence(qi(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return I(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return I(function*(){const t=yield function ise(n){return mw.apply(this,arguments)}(e),r=new sse(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ii("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){var t=this;return I(function*(){if(t.currentUser){const r=yield t.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=t.tenantId&&(i.tenantId=t.tenantId),yield function ese(n,e){return pw.apply(this,arguments)}(t,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return I(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return I(function*(){if(!t.redirectPersistenceManager){const r=e&&qi(e)||t._popupRedirectResolver;Y(r,t,"argument-error"),t.redirectPersistenceManager=yield xc.create(t,[qi(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return I(function*(){var r,i;return t._isInitialized&&(yield t.queue(I(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return I(function*(){if(e===t.currentUser)return t.queue(I(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof t){const c=e.addObserver(t,r,i);return()=>{s=!0,c()}}{const c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){var t=this;return I(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return I(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return I(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function Loe(n,...e){yg.logLevel<=Se.WARN&&yg.warn(`Auth (${Cs}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function xt(n){return nn(n)}class cL{constructor(e){this.auth=e,this.observer=null,this.addObserver=function kee(n,e){const t=new Nee(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let fd={loadJS:()=>I(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uL(n){return`__${n}${Math.floor(1e6*Math.random())}`}function hL(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function fL(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class gd{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ai("not implemented")}_getIdTokenResponse(e){return ai("not implemented")}_linkToIdToken(e,t){return ai("not implemented")}_getReauthenticationResolver(e){return ai("not implemented")}}function Wi(n,e){return kw.apply(this,arguments)}function kw(){return(kw=I(function*(n,e){return function Hi(n,e,t,r){return tw.apply(this,arguments)}(n,"POST","/v1/accounts:signInWithIdp",st(n,e))})).apply(this,arguments)}class Ki{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Lse extends Ki{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ar{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r){return I(function*(i,o,s,a=!1){const c=yield Gi._fromIdTokenResponse(i,s,a),u=_L(s);return new Ar({user:c,providerId:u,_tokenResponse:s,operationType:o})}).apply(this,arguments)}static _forOperation(e,t,r){return I(function*(){yield e._updateTokensIfNecessary(r,!0);const i=_L(r);return new Ar({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function _L(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Tg extends wr{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Tg.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Tg(e,t,r,i)}}function yL(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?Tg._fromErrorAndOperation(n,o,e,r):o})}function zw(){return(zw=I(function*(n,e,t=!1){const r=yield zi(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Ar._forOperation(n,"link",r)})).apply(this,arguments)}function qw(){return(qw=I(function*(n,e,t=!1){const{auth:r}=n;if(Ao(r.app))return Promise.reject(qt(r));const i="reauthenticate";try{const o=yield zi(n,yL(r,i,e,n),t);Y(o.idToken,r,"internal-error");const s=bg(o.idToken);Y(s,r,"internal-error");const{sub:a}=s;return Y(n.uid===a,r,"user-mismatch"),Ar._forOperation(n,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&Qn(r,"user-mismatch"),o}})).apply(this,arguments)}function Ww(){return(Ww=I(function*(n,e,t=!1){if(Ao(n.app))return Promise.reject(qt(n));const r="signIn",i=yield yL(n,r,e),o=yield Ar._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})).apply(this,arguments)}const Dg="__sak";class wL{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Dg,"1"),this.storage.removeItem(Dg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const sae=(()=>{class n extends wL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sL(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});const i=t.key;r?this.detachListener():this.stopPolling();const o=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);!function nse(){return function See(){const n=Mt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===t.newValue||t.newValue===t.oldValue?o():setTimeout(o,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,o=this;return I(function*(){yield i().call(o,t,r),o.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return I(function*(){const o=yield r().call(i,t);return i.localCache[t]=JSON.stringify(o),o})()}_remove(t){var r=()=>super._remove,i=this;return I(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),TL=(()=>{class n extends wL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let cae=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return I(function*(){const i=t,{eventId:o,eventType:s,data:a}=i.data,c=r.handlersMap[s];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const u=Array.from(c).map(function(){var h=I(function*(p){return p(i.origin,a)});return function(p){return h.apply(this,arguments)}}()),d=yield function aae(n){return Promise.all(n.map(function(){var e=I(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(u);i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:d})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function T0(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class uae{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t){var r=this;return I(function*(i,o,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let c,u;return new Promise((d,h)=>{const p=T0("",20);a.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(v){const C=v;if(C.data.eventId===p)switch(C.data.status){case"ack":clearTimeout(m),c=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),d(C.data.response);break;default:clearTimeout(m),clearTimeout(c),h(new Error("invalid_response"))}}},r.handlers.add(u),a.port1.addEventListener("message",u.onMessage),r.target.postMessage({eventType:i,eventId:p,data:o},[a.port2])}).finally(()=>{u&&r.removeMessageHandler(u)})}).apply(this,arguments)}}function Ft(){return window}function P0(){return typeof Ft().WorkerGlobalScope<"u"&&"function"==typeof Ft().importScripts}function A0(){return(A0=I(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const PL="firebaseLocalStorageDb",Sg="firebaseLocalStorage",AL="fbase_key";class bd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Mg(n,e){return n.transaction([Sg],e?"readwrite":"readonly").objectStore(Sg)}function D0(){const n=indexedDB.open(PL,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Sg,{keyPath:AL})}catch(i){t(i)}}),n.addEventListener("success",I(function*(){const r=n.result;r.objectStoreNames.contains(Sg)?e(r):(r.close(),yield function gae(){const n=indexedDB.deleteDatabase(PL);return new bd(n).toPromise()}(),e(yield D0()))}))})}function DL(n,e,t){return S0.apply(this,arguments)}function S0(){return(S0=I(function*(n,e,t){const r=Mg(n,!0).put({[AL]:e,value:t});return new bd(r).toPromise()})).apply(this,arguments)}function M0(){return(M0=I(function*(n,e){const t=Mg(n,!1).get(e),r=yield new bd(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function SL(n,e){const t=Mg(n,!0).delete(e);return new bd(t).toPromise()}const vae=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return I(function*(){return t.db||(t.db=yield D0()),t.db})()}_withRetries(t){var r=this;return I(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield t(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return I(function*(){return P0()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return I(function*(){t.receiver=cae._getInstance(function fae(){return P0()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=I(function*(i,o){return{keyProcessed:(yield t._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=I(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return I(function*(){var r,i;if(t.activeServiceWorker=yield function dae(){return A0.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new uae(t.activeServiceWorker);const o=yield t.sender._send("ping",{},800);o&&null!==(r=o[0])&&void 0!==r&&r.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return I(function*(){if(r.sender&&r.activeServiceWorker&&function hae(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return I(function*(){try{if(!indexedDB)return!1;const t=yield D0();return yield DL(t,Dg,"1"),yield SL(t,Dg),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return I(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return I(function*(){return i._withPendingWrite(I(function*(){return yield i._withRetries(o=>DL(o,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return I(function*(){const i=yield r._withRetries(o=>function mae(n,e){return M0.apply(this,arguments)}(o,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return I(function*(){return r._withPendingWrite(I(function*(){return yield r._withRetries(i=>SL(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return I(function*(){const r=yield t._withRetries(s=>{const a=Mg(s,!1).getAll();return new bd(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],o=new Set;if(0!==r.length)for(const{fbase_key:s,value:a}of r)o.add(s),JSON.stringify(t.localCache[s])!==JSON.stringify(a)&&(t.notifyListeners(s,a),i.push(s));for(const s of Object.keys(t.localCache))t.localCache[s]&&!o.has(s)&&(t.notifyListeners(s,null),i.push(s));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(I(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();uL("rcb"),new ud(3e4,6e4);class U0 extends gd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wi(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Wi(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Wi(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function kae(n){return function CL(n,e){return Ww.apply(this,arguments)}(n.auth,new U0(n),n.bypassAuthState)}function Nae(n){const{auth:e,user:t}=n;return Y(t,e,"internal-error"),function bL(n,e){return qw.apply(this,arguments)}(t,new U0(n),n.bypassAuthState)}function Vae(n){return B0.apply(this,arguments)}function B0(){return(B0=I(function*(n){const{auth:e,user:t}=n;return Y(t,e,"internal-error"),function Hw(n,e){return zw.apply(this,arguments)}(t,new U0(n),n.bypassAuthState)})).apply(this,arguments)}class Fae{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=I(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return I(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:s,error:a,type:c}=e;if(a)return void t.reject(a);const u={auth:t.auth,requestUri:r,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(c)(u))}catch(d){t.reject(d)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kae;case"linkViaPopup":case"linkViaRedirect":return Vae;case"reauthViaPopup":case"reauthViaRedirect":return Nae;default:Qn(this.auth,"internal-error")}}resolve(e){Do(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Do(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new ud(2e3,1e4);const Lae="pendingRedirect",Cd=new Map;class Uae extends Fae{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return I(function*(){let r=Cd.get(t.auth._key());if(!r){try{const o=(yield function Bae(n,e){return G0.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}Cd.set(t.auth._key(),r)}return t.bypassAuthState||Cd.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return I(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return I(function*(){})()}cleanUp(){}}function G0(){return(G0=I(function*(n,e){const t=function OL(n){return Cg(Lae,n.config.apiKey,n.name)}(e),r=function xL(n){return qi(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function jae(n,e){Cd.set(n._key(),e)}function RL(n,e){return X0.apply(this,arguments)}function X0(){return(X0=I(function*(n,e,t=!1){if(Ao(n.app))return Promise.reject(qt(n));const r=xt(n),i=function Ss(n,e){return e?qi(e):(Y(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(r,e),s=yield new Uae(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})).apply(this,arguments)}class qae{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Wae(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VL(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!VL(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Pr(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(NL(e))}saveEventToCache(e){this.cachedEventUids.add(NL(e)),this.lastProcessedEventTime=Date.now()}}function NL(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function VL({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function eT(){return(eT=I(function*(n,e={}){return at(n,"GET","/v1/projects",e)})).apply(this,arguments)}const Qae=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yae=/^https?/;function tT(){return tT=I(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function Kae(n){return eT.apply(this,arguments)}(n);for(const t of e)try{if(Xae(t))return}catch{}Qn(n,"unauthorized-domain")}),tT.apply(this,arguments)}function Xae(n){const e=cd(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const s=new URL(n);return""===s.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&s.hostname===r}if(!Yae.test(t))return!1;if(Qae.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Zae=new ud(3e4,6e4);function FL(){const n=Ft().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}function ece(n){return new Promise((e,t)=>{var r,i,o;function s(){FL(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{FL(),t(Pr(n,"network-request-failed"))},timeout:Zae.get()})}if(null!==(i=null===(r=Ft().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(o=Ft().gapi)||void 0===o||!o.load){const a=uL("iframefcb");return Ft()[a]=()=>{gapi.load?s():t(Pr(n,"network-request-failed"))},function _w(n){return fd.loadJS(n)}(`${function dse(){return fd.gapiScript}()}?onload=${a}`).catch(c=>t(c))}s()}}).catch(e=>{throw Og=null,e})}let Og=null;const nce=new ud(5e3,15e3),rce="__/auth/iframe",ice="emulator/auth/iframe",oce={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sce=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ace(n){const e=n.config;Y(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?XE(e,ice):`https://${n.config.authDomain}/${rce}`,r={apiKey:e.apiKey,appName:n.name,v:Cs},i=sce.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${ed(r).slice(1)}`}function nT(){return nT=I(function*(n){const e=yield function tce(n){return Og=Og||ece(n),Og}(n),t=Ft().gapi;return Y(t,n,"internal-error"),e.open({where:document.body,url:ace(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oce,dontclear:!0},r=>new Promise(function(){var i=I(function*(o,s){yield r.restyle({setHideOnLeave:!1});const a=Pr(n,"network-request-failed"),c=Ft().setTimeout(()=>{s(a)},nce.get());function u(){Ft().clearTimeout(c),o(r)}r.ping(u).then(u,()=>{s(a)})});return function(o,s){return i.apply(this,arguments)}}()))}),nT.apply(this,arguments)}const uce={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class LL{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const mce="__/auth/handler",_ce="emulator/auth/handler",yce=encodeURIComponent("fac");function UL(n,e,t,r,i,o){return rT.apply(this,arguments)}function rT(){return(rT=I(function*(n,e,t,r,i,o){Y(n.config.authDomain,n,"auth-domain-config-required"),Y(n.config.apiKey,n,"invalid-api-key");const s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Cs,eventId:i};if(e instanceof Ki){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",function Ree(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(o||{}))s[d]=h}if(e instanceof Lse){const d=e.getScopes().filter(h=>""!==h);d.length>0&&(s.scopes=d.join(","))}n.tenantId&&(s.tid=n.tenantId);const a=s;for(const d of Object.keys(a))void 0===a[d]&&delete a[d];const c=yield n._getAppCheckToken(),u=c?`#${yce}=${encodeURIComponent(c)}`:"";return`${function vce({config:n}){return n.emulator?XE(n,_ce):`https://${n.authDomain}/${mce}`}(n)}?${ed(a).slice(1)}${u}`})).apply(this,arguments)}const iT="webStorageSupport",Cce=class bce{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TL,this._completeRedirectFn=RL,this._overrideRedirectResult=jae}_openPopup(e,t,r,i){var o=this;return I(function*(){var s;Do(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield UL(e,t,r,cd(),i);return function pce(n,e,t,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},uce),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Mt().toLowerCase();t&&(a=tL(u)?"_blank":t),ZF(u)&&(e=e||"http://localhost",c.scrollbars="yes");const d=Object.entries(c).reduce((p,[m,v])=>`${p}${m}=${v},`,"");if(function tse(n=Mt()){var e;return gw(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==a)return function gce(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new LL(null);const h=window.open(e||"",a,d);Y(h,n,"popup-blocked");try{h.focus()}catch{}return new LL(h)}(e,a,T0())})()}_openRedirect(e,t,r,i){var o=this;return I(function*(){return yield o._originValidation(e),function lae(n){Ft().location.href=n}(yield UL(e,t,r,cd(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Do(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return I(function*(){const r=yield function cce(n){return nT.apply(this,arguments)}(e),i=new qae(e);return r.register("authEvent",o=>(Y(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(iT,{type:iT},i=>{var o;const s=null===(o=i?.[0])||void 0===o?void 0:o[iT];void 0!==s&&t(!!s),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function Jae(n){return tT.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return sL()||eL()||gw()}};var HL="@firebase/auth";class Ice{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return I(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Pce=nV("authIdTokenMaxAge")||300;let GL=null;const Ace=n=>function(){var e=I(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Pce)return;const o=r?.token;GL!==o&&(GL=o,yield fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function Dce(n=OC()){const e=Ec(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function gse(n,e){const t=Ec(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(Cc(t.getOptions(),e??{}))return i;Qn(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:Cce,persistence:[vae,sae,TL]}),r=nV("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=Ace(o.toString());(function Zse(n,e,t){nn(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),function Xse(n,e,t,r){nn(n).onIdTokenChanged(e,t,r)}(t,a=>s(a))}}const i=eV("auth");return i&&function _se(n,e,t){const r=xt(n);Y(r._canInitEmulator,r,"emulator-config-failed"),Y(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,o=hL(e),{host:s,port:a}=function yse(n){const e=hL(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:fL(r.substr(o.length+1))}}{const[o,s]=r.split(":");return{host:o,port:fL(s)}}}(e);r.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function vse(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}(function cse(n){fd=n})({loadJS:n=>new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=Pr("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",function Sce(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function wce(n){Nn(new pn("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Y(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aL(n)},u=new ase(r,i,o,c);return function mse(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(qi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Nn(new pn("auth-internal",e=>{const t=xt(e.getProvider("auth").getImmediate());return new Ice(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),vt(HL,"1.7.9",function Ece(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(n)),vt(HL,"1.7.9","esm2017")}("Browser");class sT{constructor(e){return e}}class WL{constructor(){return IE("auth")}}const aT=new re("angularfire2.auth-instances");function xce(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new sT(r)}}const Oce={provide:WL,deps:[[new Mn,aT]]},Rce={provide:sT,useFactory:function Mce(n,e){const t=CE("auth",n,e);return t&&new sT(t)},deps:[[new Mn,aT],Ac]};let kce=(()=>{class n{constructor(){vt("angularfire",lg.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Or({type:n}),n.\u0275inj=pr({providers:[Rce,Oce]}),n})();const Vce=wE(Dce,!0);var Ms,KL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},QL={};(function(){var n;function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function i(M,E,A){A||(A=0);var x=Array(16);if("string"==typeof E)for(var R=0;16>R;++R)x[R]=E.charCodeAt(A++)|E.charCodeAt(A++)<<8|E.charCodeAt(A++)<<16|E.charCodeAt(A++)<<24;else for(R=0;16>R;++R)x[R]=E[A++]|E[A++]<<8|E[A++]<<16|E[A++]<<24;var V=M.g[3],D=(E=M.g[0])+(V^(A=M.g[1])&((R=M.g[2])^V))+x[0]+3614090360&4294967295;D=(A=(R=(V=(E=(A=(R=(V=(E=(A=(R=(V=(E=(A=(R=(V=(E=(A=(R=(V=(E=(A=(R=(V=(E=(A=(R=(V=(E=(A=(R=(V=(E=(A=(R=(V=(E=(A=(R=(V=(E=(A=(R=(V=(E=(A=(R=(V=(E=(A=(R=(V=(E=(A=(R=(V=(E=(A=(R=(V=(E=A+(D<<7&4294967295|D>>>25))+((D=V+(R^E&(A^R))+x[1]+3905402710&4294967295)<<12&4294967295|D>>>20))+((D=R+(A^V&(E^A))+x[2]+606105819&4294967295)<<17&4294967295|D>>>15))+((D=A+(E^R&(V^E))+x[3]+3250441966&4294967295)<<22&4294967295|D>>>10))+((D=E+(V^A&(R^V))+x[4]+4118548399&4294967295)<<7&4294967295|D>>>25))+((D=V+(R^E&(A^R))+x[5]+1200080426&4294967295)<<12&4294967295|D>>>20))+((D=R+(A^V&(E^A))+x[6]+2821735955&4294967295)<<17&4294967295|D>>>15))+((D=A+(E^R&(V^E))+x[7]+4249261313&4294967295)<<22&4294967295|D>>>10))+((D=E+(V^A&(R^V))+x[8]+1770035416&4294967295)<<7&4294967295|D>>>25))+((D=V+(R^E&(A^R))+x[9]+2336552879&4294967295)<<12&4294967295|D>>>20))+((D=R+(A^V&(E^A))+x[10]+4294925233&4294967295)<<17&4294967295|D>>>15))+((D=A+(E^R&(V^E))+x[11]+2304563134&4294967295)<<22&4294967295|D>>>10))+((D=E+(V^A&(R^V))+x[12]+1804603682&4294967295)<<7&4294967295|D>>>25))+((D=V+(R^E&(A^R))+x[13]+4254626195&4294967295)<<12&4294967295|D>>>20))+((D=R+(A^V&(E^A))+x[14]+2792965006&4294967295)<<17&4294967295|D>>>15))+((D=A+(E^R&(V^E))+x[15]+1236535329&4294967295)<<22&4294967295|D>>>10))+((D=E+(R^V&(A^R))+x[1]+4129170786&4294967295)<<5&4294967295|D>>>27))+((D=V+(A^R&(E^A))+x[6]+3225465664&4294967295)<<9&4294967295|D>>>23))+((D=R+(E^A&(V^E))+x[11]+643717713&4294967295)<<14&4294967295|D>>>18))+((D=A+(V^E&(R^V))+x[0]+3921069994&4294967295)<<20&4294967295|D>>>12))+((D=E+(R^V&(A^R))+x[5]+3593408605&4294967295)<<5&4294967295|D>>>27))+((D=V+(A^R&(E^A))+x[10]+38016083&4294967295)<<9&4294967295|D>>>23))+((D=R+(E^A&(V^E))+x[15]+3634488961&4294967295)<<14&4294967295|D>>>18))+((D=A+(V^E&(R^V))+x[4]+3889429448&4294967295)<<20&4294967295|D>>>12))+((D=E+(R^V&(A^R))+x[9]+568446438&4294967295)<<5&4294967295|D>>>27))+((D=V+(A^R&(E^A))+x[14]+3275163606&4294967295)<<9&4294967295|D>>>23))+((D=R+(E^A&(V^E))+x[3]+4107603335&4294967295)<<14&4294967295|D>>>18))+((D=A+(V^E&(R^V))+x[8]+1163531501&4294967295)<<20&4294967295|D>>>12))+((D=E+(R^V&(A^R))+x[13]+2850285829&4294967295)<<5&4294967295|D>>>27))+((D=V+(A^R&(E^A))+x[2]+4243563512&4294967295)<<9&4294967295|D>>>23))+((D=R+(E^A&(V^E))+x[7]+1735328473&4294967295)<<14&4294967295|D>>>18))+((D=A+(V^E&(R^V))+x[12]+2368359562&4294967295)<<20&4294967295|D>>>12))+((D=E+(A^R^V)+x[5]+4294588738&4294967295)<<4&4294967295|D>>>28))+((D=V+(E^A^R)+x[8]+2272392833&4294967295)<<11&4294967295|D>>>21))+((D=R+(V^E^A)+x[11]+1839030562&4294967295)<<16&4294967295|D>>>16))+((D=A+(R^V^E)+x[14]+4259657740&4294967295)<<23&4294967295|D>>>9))+((D=E+(A^R^V)+x[1]+2763975236&4294967295)<<4&4294967295|D>>>28))+((D=V+(E^A^R)+x[4]+1272893353&4294967295)<<11&4294967295|D>>>21))+((D=R+(V^E^A)+x[7]+4139469664&4294967295)<<16&4294967295|D>>>16))+((D=A+(R^V^E)+x[10]+3200236656&4294967295)<<23&4294967295|D>>>9))+((D=E+(A^R^V)+x[13]+681279174&4294967295)<<4&4294967295|D>>>28))+((D=V+(E^A^R)+x[0]+3936430074&4294967295)<<11&4294967295|D>>>21))+((D=R+(V^E^A)+x[3]+3572445317&4294967295)<<16&4294967295|D>>>16))+((D=A+(R^V^E)+x[6]+76029189&4294967295)<<23&4294967295|D>>>9))+((D=E+(A^R^V)+x[9]+3654602809&4294967295)<<4&4294967295|D>>>28))+((D=V+(E^A^R)+x[12]+3873151461&4294967295)<<11&4294967295|D>>>21))+((D=R+(V^E^A)+x[15]+530742520&4294967295)<<16&4294967295|D>>>16))+((D=A+(R^V^E)+x[2]+3299628645&4294967295)<<23&4294967295|D>>>9))+((D=E+(R^(A|~V))+x[0]+4096336452&4294967295)<<6&4294967295|D>>>26))+((D=V+(A^(E|~R))+x[7]+1126891415&4294967295)<<10&4294967295|D>>>22))+((D=R+(E^(V|~A))+x[14]+2878612391&4294967295)<<15&4294967295|D>>>17))+((D=A+(V^(R|~E))+x[5]+4237533241&4294967295)<<21&4294967295|D>>>11))+((D=E+(R^(A|~V))+x[12]+1700485571&4294967295)<<6&4294967295|D>>>26))+((D=V+(A^(E|~R))+x[3]+2399980690&4294967295)<<10&4294967295|D>>>22))+((D=R+(E^(V|~A))+x[10]+4293915773&4294967295)<<15&4294967295|D>>>17))+((D=A+(V^(R|~E))+x[1]+2240044497&4294967295)<<21&4294967295|D>>>11))+((D=E+(R^(A|~V))+x[8]+1873313359&4294967295)<<6&4294967295|D>>>26))+((D=V+(A^(E|~R))+x[15]+4264355552&4294967295)<<10&4294967295|D>>>22))+((D=R+(E^(V|~A))+x[6]+2734768916&4294967295)<<15&4294967295|D>>>17))+((D=A+(V^(R|~E))+x[13]+1309151649&4294967295)<<21&4294967295|D>>>11))+((V=(E=A+((D=E+(R^(A|~V))+x[4]+4149444226&4294967295)<<6&4294967295|D>>>26))+((D=V+(A^(E|~R))+x[11]+3174756917&4294967295)<<10&4294967295|D>>>22))^((R=V+((D=R+(E^(V|~A))+x[2]+718787259&4294967295)<<15&4294967295|D>>>17))|~E))+x[9]+3951481745&4294967295,M.g[0]=M.g[0]+E&4294967295,M.g[1]=M.g[1]+(R+(D<<21&4294967295|D>>>11))&4294967295,M.g[2]=M.g[2]+R&4294967295,M.g[3]=M.g[3]+V&4294967295}function s(M,E){this.h=E;for(var A=[],x=!0,R=M.length-1;0<=R;R--){var V=0|M[R];x&&V==E||(A[R]=V,x=!1)}this.g=A}(function e(M,E){function A(){}A.prototype=E.prototype,M.D=E.prototype,M.prototype=new A,M.prototype.constructor=M,M.C=function(x,R,V){for(var D=Array(arguments.length-2),io=2;io<arguments.length;io++)D[io-2]=arguments[io];return E.prototype[R].apply(x,D)}})(r,function t(){this.blockSize=-1}),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},r.prototype.u=function(M,E){void 0===E&&(E=M.length);for(var A=E-this.blockSize,x=this.B,R=this.h,V=0;V<E;){if(0==R)for(;V<=A;)i(this,M,V),V+=this.blockSize;if("string"==typeof M){for(;V<E;)if(x[R++]=M.charCodeAt(V++),R==this.blockSize){i(this,x),R=0;break}}else for(;V<E;)if(x[R++]=M[V++],R==this.blockSize){i(this,x),R=0;break}}this.h=R,this.o+=E},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var E=1;E<M.length-8;++E)M[E]=0;var A=8*this.o;for(E=M.length-8;E<M.length;++E)M[E]=255&A,A/=256;for(this.u(M),M=Array(16),E=A=0;4>E;++E)for(var x=0;32>x;x+=8)M[A++]=this.g[E]>>>x&255;return M};var a={};function c(M){return-128<=M&&128>M?function o(M,E){var A=a;return Object.prototype.hasOwnProperty.call(A,M)?A[M]:A[M]=E(M)}(M,function(E){return new s([0|E],0>E?-1:0)}):new s([0|M],0>M?-1:0)}function u(M){if(isNaN(M)||!isFinite(M))return h;if(0>M)return w(u(-M));for(var E=[],A=1,x=0;M>=A;x++)E[x]=M/A|0,A*=4294967296;return new s(E,0)}var h=c(0),p=c(1),m=c(16777216);function v(M){if(0!=M.h)return!1;for(var E=0;E<M.g.length;E++)if(0!=M.g[E])return!1;return!0}function C(M){return-1==M.h}function w(M){for(var E=M.g.length,A=[],x=0;x<E;x++)A[x]=~M.g[x];return new s(A,~M.h).add(p)}function O(M,E){return M.add(w(E))}function S(M,E){for(;(65535&M[E])!=M[E];)M[E+1]+=M[E]>>>16,M[E]&=65535,E++}function U(M,E){this.g=M,this.h=E}function K(M,E){if(v(E))throw Error("division by zero");if(v(M))return new U(h,h);if(C(M))return E=K(w(M),E),new U(w(E.g),w(E.h));if(C(E))return E=K(M,w(E)),new U(w(E.g),E.h);if(30<M.g.length){if(C(M)||C(E))throw Error("slowDivide_ only works with positive integers.");for(var A=p,x=E;0>=x.l(M);)A=ne(A),x=ne(x);var R=de(A,1),V=de(x,1);for(x=de(x,2),A=de(A,2);!v(x);){var D=V.add(x);0>=D.l(M)&&(R=R.add(A),V=D),x=de(x,1),A=de(A,1)}return E=O(M,R.j(E)),new U(R,E)}for(R=h;0<=M.l(E);){for(A=Math.max(1,Math.floor(M.m()/E.m())),x=48>=(x=Math.ceil(Math.log(A)/Math.LN2))?1:Math.pow(2,x-48),D=(V=u(A)).j(E);C(D)||0<D.l(M);)D=(V=u(A-=x)).j(E);v(V)&&(V=p),R=R.add(V),M=O(M,D)}return new U(R,M)}function ne(M){for(var E=M.g.length+1,A=[],x=0;x<E;x++)A[x]=M.i(x)<<1|M.i(x-1)>>>31;return new s(A,M.h)}function de(M,E){var A=E>>5;E%=32;for(var x=M.g.length-A,R=[],V=0;V<x;V++)R[V]=0<E?M.i(V+A)>>>E|M.i(V+A+1)<<32-E:M.i(V+A);return new s(R,M.h)}(n=s.prototype).m=function(){if(C(this))return-w(this).m();for(var M=0,E=1,A=0;A<this.g.length;A++){var x=this.i(A);M+=(0<=x?x:4294967296+x)*E,E*=4294967296}return M},n.toString=function(M){if(2>(M=M||10)||36<M)throw Error("radix out of range: "+M);if(v(this))return"0";if(C(this))return"-"+w(this).toString(M);for(var E=u(Math.pow(M,6)),A=this,x="";;){var R=K(A,E).g,V=((0<(A=O(A,R.j(E))).g.length?A.g[0]:A.h)>>>0).toString(M);if(v(A=R))return V+x;for(;6>V.length;)V="0"+V;x=V+x}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h},n.l=function(M){return C(M=O(this,M))?-1:v(M)?0:1},n.abs=function(){return C(this)?w(this):this},n.add=function(M){for(var E=Math.max(this.g.length,M.g.length),A=[],x=0,R=0;R<=E;R++){var V=x+(65535&this.i(R))+(65535&M.i(R)),D=(V>>>16)+(this.i(R)>>>16)+(M.i(R)>>>16);x=D>>>16,A[R]=(D&=65535)<<16|(V&=65535)}return new s(A,-2147483648&A[A.length-1]?-1:0)},n.j=function(M){if(v(this)||v(M))return h;if(C(this))return C(M)?w(this).j(w(M)):w(w(this).j(M));if(C(M))return w(this.j(w(M)));if(0>this.l(m)&&0>M.l(m))return u(this.m()*M.m());for(var E=this.g.length+M.g.length,A=[],x=0;x<2*E;x++)A[x]=0;for(x=0;x<this.g.length;x++)for(var R=0;R<M.g.length;R++){var V=this.i(x)>>>16,D=65535&this.i(x),io=M.i(R)>>>16,hh=65535&M.i(R);A[2*x+2*R]+=D*hh,S(A,2*x+2*R),A[2*x+2*R+1]+=V*hh,S(A,2*x+2*R+1),A[2*x+2*R+1]+=D*io,S(A,2*x+2*R+1),A[2*x+2*R+2]+=V*io,S(A,2*x+2*R+2)}for(x=0;x<E;x++)A[x]=A[2*x+1]<<16|A[2*x];for(x=E;x<2*E;x++)A[x]=0;return new s(A,0)},n.A=function(M){return K(this,M).h},n.and=function(M){for(var E=Math.max(this.g.length,M.g.length),A=[],x=0;x<E;x++)A[x]=this.i(x)&M.i(x);return new s(A,this.h&M.h)},n.or=function(M){for(var E=Math.max(this.g.length,M.g.length),A=[],x=0;x<E;x++)A[x]=this.i(x)|M.i(x);return new s(A,this.h|M.h)},n.xor=function(M){for(var E=Math.max(this.g.length,M.g.length),A=[],x=0;x<E;x++)A[x]=this.i(x)^M.i(x);return new s(A,this.h^M.h)},r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,QL.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=function d(M,E){if(0==M.length)throw Error("number format error: empty string");if(2>(E=E||10)||36<E)throw Error("radix out of range: "+E);if("-"==M.charAt(0))return w(d(M.substring(1),E));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=u(Math.pow(E,8)),x=h,R=0;R<M.length;R+=8){var V=Math.min(8,M.length-R),D=parseInt(M.substring(R,R+V),E);8>V?(V=u(Math.pow(E,V)),x=x.j(V).add(u(D))):x=(x=x.j(A)).add(u(D))}return x},Ms=QL.Integer=s}).apply(typeof KL<"u"?KL:typeof self<"u"?self:typeof window<"u"?window:{});var kg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qi={};(function(){var n,e="function"==typeof Object.defineProperties?Object.defineProperty:function(l,f,g){return l==Array.prototype||l==Object.prototype||(l[f]=g.value),l},r=function t(l){l=["object"==typeof globalThis&&globalThis,l,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof kg&&kg];for(var f=0;f<l.length;++f){var g=l[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}(this);!function i(l,f){if(f)e:{var g=r;l=l.split(".");for(var y=0;y<l.length-1;y++){var k=l[y];if(!(k in g))break e;g=g[k]}(f=f(y=g[l=l[l.length-1]]))!=y&&null!=f&&e(g,l,{configurable:!0,writable:!0,value:f})}}("Array.prototype.values",function(l){return l||function(){return function o(l,f){l instanceof String&&(l+="");var g=0,y=!1,k={next:function(){if(!y&&g<l.length){var B=g++;return{value:f(B,l[B]),done:!1}}return y=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}(this,function(f,g){return g})}});var s=s||{},a=this||self;function c(l){var f=typeof l;return"array"==(f="object"!=f?f:l?Array.isArray(l)?"array":f:"null")||"object"==f&&"number"==typeof l.length}function u(l){var f=typeof l;return"object"==f&&null!=l||"function"==f}function d(l,f,g){return l.call.apply(l.bind,arguments)}function h(l,f,g){if(!l)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,y),l.apply(f,k)}}return function(){return l.apply(f,arguments)}}function p(l,f,g){return(p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?d:h).apply(null,arguments)}function m(l,f){var g=Array.prototype.slice.call(arguments,1);return function(){var y=g.slice();return y.push.apply(y,arguments),l.apply(this,y)}}function v(l,f){function g(){}g.prototype=f.prototype,l.aa=f.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(y,k,B){for(var X=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)X[Ze-2]=arguments[Ze];return f.prototype[k].apply(y,X)}}function C(l){const f=l.length;if(0<f){const g=Array(f);for(let y=0;y<f;y++)g[y]=l[y];return g}return[]}function w(l,f){for(let g=1;g<arguments.length;g++){const y=arguments[g];if(c(y)){const k=l.length||0,B=y.length||0;l.length=k+B;for(let X=0;X<B;X++)l[k+X]=y[X]}else l.push(y)}}function S(l){return/^[\s\xa0]*$/.test(l)}function U(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function K(l){return K[" "](l),l}K[" "]=function(){};var ne=!(-1==U().indexOf("Gecko")||-1!=U().toLowerCase().indexOf("webkit")&&-1==U().indexOf("Edge")||-1!=U().indexOf("Trident")||-1!=U().indexOf("MSIE")||-1!=U().indexOf("Edge"));function de(l,f,g){for(const y in l)f.call(g,l[y],y,l)}function E(l){const f={};for(const g in l)f[g]=l[g];return f}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(l,f){let g,y;for(let k=1;k<arguments.length;k++){for(g in y=arguments[k],y)l[g]=y[g];for(let B=0;B<A.length;B++)g=A[B],Object.prototype.hasOwnProperty.call(y,g)&&(l[g]=y[g])}}function R(l){var f=1;l=l.split(":");const g=[];for(;0<f&&l.length;)g.push(l.shift()),f--;return l.length&&g.push(l.join(":")),g}function V(l){a.setTimeout(()=>{throw l},0)}function D(){var l=QA;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}var hh=new class O{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}(()=>new Jpe,l=>l.reset());class Jpe{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let fh,ph=!1,QA=new class io{constructor(){this.h=this.g=null}add(f,g){const y=hh.get();y.set(f,g),this.h?this.h.next=y:this.g=y,this.h=y}},VB=()=>{const l=a.Promise.resolve(void 0);fh=()=>{l.then(Xpe)}};var Xpe=()=>{for(var l;l=D();){try{l.h.call(l.g)}catch(g){V(g)}var f=hh;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}ph=!1};function Qo(){this.s=this.s,this.C=this.C}function bn(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}Qo.prototype.s=!1,Qo.prototype.ma=function(){this.s||(this.s=!0,this.N())},Qo.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},bn.prototype.h=function(){this.defaultPrevented=!0};var Zpe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return l}();function gh(l,f){if(bn.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,y=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(ne){e:{try{K(f.nodeName);var k=!0;break e}catch{}k=!1}k||(f=null)}}else"mouseover"==g?f=l.fromElement:"mouseout"==g&&(f=l.toElement);this.relatedTarget=f,y?(this.clientX=void 0!==y.clientX?y.clientX:y.pageX,this.clientY=void 0!==y.clientY?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType="string"==typeof l.pointerType?l.pointerType:ege[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&gh.aa.h.call(this)}}v(gh,bn);var ege={2:"touch",3:"pen",4:"mouse"};gh.prototype.h=function(){gh.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var mh="closure_listenable_"+(1e6*Math.random()|0),tge=0;function nge(l,f,g,y,k){this.listener=l,this.proxy=null,this.src=f,this.type=g,this.capture=!!y,this.ha=k,this.key=++tge,this.da=this.fa=!1}function Km(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Qm(l){this.src=l,this.g={},this.h=0}function YA(l,f){var g=f.type;if(g in l.g){var B,y=l.g[g],k=Array.prototype.indexOf.call(y,f,void 0);(B=0<=k)&&Array.prototype.splice.call(y,k,1),B&&(Km(f),0==l.g[g].length&&(delete l.g[g],l.h--))}}function JA(l,f,g,y){for(var k=0;k<l.length;++k){var B=l[k];if(!B.da&&B.listener==f&&B.capture==!!g&&B.ha==y)return k}return-1}Qm.prototype.add=function(l,f,g,y,k){var B=l.toString();(l=this.g[B])||(l=this.g[B]=[],this.h++);var X=JA(l,f,y,k);return-1<X?(f=l[X],g||(f.fa=!1)):((f=new nge(f,this.src,B,!!y,k)).fa=g,l.push(f)),f};var XA="closure_lm_"+(1e6*Math.random()|0),ZA={};function FB(l,f,g,y,k){if(y&&y.once)return UB(l,f,g,y,k);if(Array.isArray(f)){for(var B=0;B<f.length;B++)FB(l,f[B],g,y,k);return null}return g=rD(g),l&&l[mh]?l.K(f,g,u(y)?!!y.capture:!!y,k):LB(l,f,g,!1,y,k)}function LB(l,f,g,y,k,B){if(!f)throw Error("Invalid event type");var X=u(k)?!!k.capture:!!k,Ze=tD(l);if(Ze||(l[XA]=Ze=new Qm(l)),(g=Ze.add(f,g,y,X,B)).proxy)return g;if(y=function rge(){const f=ige;return function l(g){return f.call(l.src,l.listener,g)}}(),g.proxy=y,y.src=l,y.listener=g,l.addEventListener)Zpe||(k=X),void 0===k&&(k=!1),l.addEventListener(f.toString(),y,k);else if(l.attachEvent)l.attachEvent(jB(f.toString()),y);else{if(!l.addListener||!l.removeListener)throw Error("addEventListener and attachEvent are unavailable.");l.addListener(y)}return g}function UB(l,f,g,y,k){if(Array.isArray(f)){for(var B=0;B<f.length;B++)UB(l,f[B],g,y,k);return null}return g=rD(g),l&&l[mh]?l.L(f,g,u(y)?!!y.capture:!!y,k):LB(l,f,g,!0,y,k)}function BB(l,f,g,y,k){if(Array.isArray(f))for(var B=0;B<f.length;B++)BB(l,f[B],g,y,k);else y=u(y)?!!y.capture:!!y,g=rD(g),l&&l[mh]?(l=l.i,(f=String(f).toString())in l.g&&-1<(g=JA(B=l.g[f],g,y,k))&&(Km(B[g]),Array.prototype.splice.call(B,g,1),0==B.length&&(delete l.g[f],l.h--))):l&&(l=tD(l))&&(f=l.g[f.toString()],l=-1,f&&(l=JA(f,g,y,k)),(g=-1<l?f[l]:null)&&eD(g))}function eD(l){if("number"!=typeof l&&l&&!l.da){var f=l.src;if(f&&f[mh])YA(f.i,l);else{var g=l.type,y=l.proxy;f.removeEventListener?f.removeEventListener(g,y,l.capture):f.detachEvent?f.detachEvent(jB(g),y):f.addListener&&f.removeListener&&f.removeListener(y),(g=tD(f))?(YA(g,l),0==g.h&&(g.src=null,f[XA]=null)):Km(l)}}}function jB(l){return l in ZA?ZA[l]:ZA[l]="on"+l}function ige(l,f){if(l.da)l=!0;else{f=new gh(f,this);var g=l.listener,y=l.ha||l.src;l.fa&&eD(l),l=g.call(y,f)}return l}function tD(l){return(l=l[XA])instanceof Qm?l:null}var nD="__closure_events_fn_"+(1e9*Math.random()>>>0);function rD(l){return"function"==typeof l?l:(l[nD]||(l[nD]=function(f){return l.handleEvent(f)}),l[nD])}function Cn(){Qo.call(this),this.i=new Qm(this),this.M=this,this.F=null}function Ln(l,f){var g,y=l.F;if(y)for(g=[];y;y=y.F)g.push(y);if(l=l.M,y=f.type||f,"string"==typeof f)f=new bn(f,l);else if(f instanceof bn)f.target=f.target||l;else{var k=f;x(f=new bn(y,l),k)}if(k=!0,g)for(var B=g.length-1;0<=B;B--){var X=f.g=g[B];k=Ym(X,y,!0,f)&&k}if(k=Ym(X=f.g=l,y,!0,f)&&k,k=Ym(X,y,!1,f)&&k,g)for(B=0;B<g.length;B++)k=Ym(X=f.g=g[B],y,!1,f)&&k}function Ym(l,f,g,y){if(!(f=l.i.g[String(f)]))return!0;f=f.concat();for(var k=!0,B=0;B<f.length;++B){var X=f[B];if(X&&!X.da&&X.capture==g){var Ze=X.listener,un=X.ha||X.src;X.fa&&YA(l.i,X),k=!1!==Ze.call(un,y)&&k}}return k&&!y.defaultPrevented}function $B(l,f,g){if("function"==typeof l)g&&(l=p(l,g));else{if(!l||"function"!=typeof l.handleEvent)throw Error("Invalid listener argument");l=p(l.handleEvent,l)}return 2147483647<Number(f)?-1:a.setTimeout(l,f||0)}function HB(l){l.g=$B(()=>{l.g=null,l.i&&(l.i=!1,HB(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}v(Cn,Qo),Cn.prototype[mh]=!0,Cn.prototype.removeEventListener=function(l,f,g,y){BB(this,l,f,g,y)},Cn.prototype.N=function(){if(Cn.aa.N.call(this),this.i){var f,l=this.i;for(f in l.g){for(var g=l.g[f],y=0;y<g.length;y++)Km(g[y]);delete l.g[f],l.h--}}this.F=null},Cn.prototype.K=function(l,f,g,y){return this.i.add(String(l),f,!1,g,y)},Cn.prototype.L=function(l,f,g,y){return this.i.add(String(l),f,!0,g,y)};class oge extends Qo{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:HB(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _h(l){Qo.call(this),this.h=l,this.g={}}v(_h,Qo);var zB=[];function GB(l){de(l.g,function(f,g){this.g.hasOwnProperty(g)&&eD(f)},l),l.g={}}_h.prototype.N=function(){_h.aa.N.call(this),GB(this)},_h.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var iD=a.JSON.stringify,sge=a.JSON.parse,age=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function oD(){}function WB(){}oD.prototype.h=null;var yh={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function sD(){bn.call(this,"d")}function aD(){bn.call(this,"c")}v(sD,bn),v(aD,bn);var ta={},KB=null;function Jm(){return KB=KB||new Cn}function QB(l){bn.call(this,ta.La,l)}function vh(l){const f=Jm();Ln(f,new QB(f))}function YB(l,f){bn.call(this,ta.STAT_EVENT,l),this.stat=f}function Un(l){const f=Jm();Ln(f,new YB(f,l))}function JB(l,f){bn.call(this,ta.Ma,l),this.size=f}function bh(l,f){if("function"!=typeof l)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},f)}function Ch(){this.g=!0}function Cu(l,f,g,y){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+function dge(l,f){if(!l.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g)for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var y=g[l];if(!(2>y.length)){var k=y[1];if(Array.isArray(k)&&!(1>k.length)){var B=k[0];if("noop"!=B&&"stop"!=B&&"close"!=B)for(var X=1;X<k.length;X++)k[X]=""}}}return iD(g)}catch{return f}}(l,g)+(y?" "+y:"")})}ta.La="serverreachability",v(QB,bn),ta.STAT_EVENT="statevent",v(YB,bn),ta.Ma="timingevent",v(JB,bn),Ch.prototype.xa=function(){this.g=!1},Ch.prototype.info=function(){};var cD,Xm={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},XB={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Zm(){}function Yo(l,f,g,y){this.j=l,this.i=f,this.l=g,this.R=y||1,this.U=new _h(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ZB}function ZB(){this.i=null,this.g="",this.h=!1}v(Zm,oD),Zm.prototype.g=function(){return new XMLHttpRequest},Zm.prototype.i=function(){return{}},cD=new Zm;var ej={},uD={};function lD(l,f,g){l.L=1,l.v=r_(oo(f)),l.m=g,l.P=!0,tj(l,null)}function tj(l,f){l.F=Date.now(),e_(l),l.A=oo(l.v);var g=l.A,y=l.R;Array.isArray(y)||(y=[String(y)]),gj(g.i,"t",y),l.C=0,g=l.j.J,l.h=new ZB,l.g=Rj(l.j,g?f:null,!l.m),0<l.O&&(l.M=new oge(p(l.Y,l,l.g),l.O)),f=l.U,g=l.g,y=l.ca;var k="readystatechange";Array.isArray(k)||(k&&(zB[0]=k.toString()),k=zB);for(var B=0;B<k.length;B++){var X=FB(g,k[B],y||f.handleEvent,!1,f.h||f);if(!X)break;f.g[X.key]=X}f=l.H?E(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),vh(),function cge(l,f,g,y,k,B){l.info(function(){if(l.g)if(B)for(var X="",Ze=B.split("&"),un=0;un<Ze.length;un++){var Be=Ze[un].split("=");if(1<Be.length){var In=Be[0];Be=Be[1];var En=In.split("_");X=2<=En.length&&"type"==En[1]?X+(In+"=")+Be+"&":X+(In+"=redacted&")}}else X=null;else X=B;return"XMLHTTP REQ ("+y+") [attempt "+k+"]: "+f+"\n"+g+"\n"+X})}(l.i,l.u,l.A,l.l,l.R,l.m)}function nj(l){return!!l.g&&"GET"==l.u&&2!=l.L&&l.j.Ca}function hge(l,f){var g=l.C,y=f.indexOf("\n",g);return-1==y?uD:(g=Number(f.substring(g,y)),isNaN(g)?ej:(y+=1)+g>f.length?uD:(f=f.slice(y,y+g),l.C=y+g,f))}function e_(l){l.S=Date.now()+l.I,rj(l,l.I)}function rj(l,f){if(null!=l.B)throw Error("WatchDog timer not null");l.B=bh(p(l.ba,l),f)}function dD(l){l.B&&(a.clearTimeout(l.B),l.B=null)}function Ih(l){0==l.j.G||l.J||Sj(l.j,l)}function na(l){dD(l);var f=l.M;f&&"function"==typeof f.ma&&f.ma(),l.M=null,GB(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function hD(l,f){try{var g=l.j;if(0!=g.G&&(g.g==l||fD(g.h,l)))if(!l.K&&fD(g.h,l)&&3==g.G){try{var y=g.Da.g.parse(f)}catch{y=null}if(Array.isArray(y)&&3==y.length){var k=y;if(0==k[0]){e:if(!g.u){if(g.g){if(!(g.g.F+3e3<l.F))break e;c_(g),s_(g)}_D(g),Un(18)}}else g.za=k[1],0<g.za-g.T&&37500>k[2]&&g.F&&0==g.v&&!g.C&&(g.C=bh(p(g.Za,g),6e3));if(1>=sj(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else ia(g,11)}else if((l.K||g.g==l)&&c_(g),!S(f))for(k=g.Da.g.parse(f),f=0;f<k.length;f++){let Be=k[f];if(g.T=Be[0],Be=Be[1],2==g.G)if("c"==Be[0]){g.K=Be[1],g.ia=Be[2];const In=Be[3];null!=In&&(g.la=In,g.j.info("VER="+g.la));const En=Be[4];null!=En&&(g.Aa=En,g.j.info("SVER="+g.Aa));const wu=Be[5];null!=wu&&"number"==typeof wu&&0<wu&&(g.L=y=1.5*wu,g.j.info("backChannelRequestTimeoutMs_="+y)),y=g;const $r=l.g;if($r){const l_=$r.g?$r.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l_){var B=y.h;B.g||-1==l_.indexOf("spdy")&&-1==l_.indexOf("quic")&&-1==l_.indexOf("h2")||(B.j=B.l,B.g=new Set,B.h&&(pD(B,B.h),B.h=null))}if(y.D){const vD=$r.g?$r.g.getResponseHeader("X-HTTP-Session-Id"):null;vD&&(y.ya=vD,ut(y.I,y.D,vD))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms"));var X=l;if((y=g).qa=Oj(y,y.J?y.ia:null,y.W),X.K){aj(y.h,X);var Ze=X,un=y.L;un&&(Ze.I=un),Ze.B&&(dD(Ze),e_(Ze)),y.g=X}else Aj(y);0<g.i.length&&a_(g)}else"stop"!=Be[0]&&"close"!=Be[0]||ia(g,7);else 3==g.G&&("stop"==Be[0]||"close"==Be[0]?"stop"==Be[0]?ia(g,7):mD(g):"noop"!=Be[0]&&g.l&&g.l.ta(Be),g.v=0)}vh()}catch{}}function ij(l){this.l=l||10,l=a.PerformanceNavigationTiming?0<(l=a.performance.getEntriesByType("navigation")).length&&("hq"==l[0].nextHopProtocol||"h2"==l[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function oj(l){return!!l.h||!!l.g&&l.g.size>=l.j}function sj(l){return l.h?1:l.g?l.g.size:0}function fD(l,f){return l.h?l.h==f:!!l.g&&l.g.has(f)}function pD(l,f){l.g?l.g.add(f):l.h=f}function aj(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}function cj(l){if(null!=l.h)return l.i.concat(l.h.D);if(null!=l.g&&0!==l.g.size){let f=l.i;for(const g of l.g.values())f=f.concat(g.D);return f}return C(l.i)}function uj(l,f){if(l.forEach&&"function"==typeof l.forEach)l.forEach(f,void 0);else if(c(l)||"string"==typeof l)Array.prototype.forEach.call(l,f,void 0);else for(var g=function gge(l){if(l.na&&"function"==typeof l.na)return l.na();if(!l.V||"function"!=typeof l.V){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||"string"==typeof l){var f=[];l=l.length;for(var g=0;g<l;g++)f.push(g);return f}f=[],g=0;for(const y in l)f[g++]=y;return f}}}(l),y=function pge(l){if(l.V&&"function"==typeof l.V)return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if("string"==typeof l)return l.split("");if(c(l)){for(var f=[],g=l.length,y=0;y<g;y++)f.push(l[y]);return f}for(y in f=[],g=0,l)f[g++]=l[y];return f}(l),k=y.length,B=0;B<k;B++)f.call(void 0,y[B],g&&g[B],l)}Yo.prototype.ca=function(l){l=l.target;const f=this.M;f&&3==so(l)?f.j():this.Y(l)},Yo.prototype.Y=function(l){try{if(l==this.g)e:{const En=so(this.g);var f=this.g.Ba();if(this.g.Z(),!(3>En)&&(3!=En||this.g&&(this.h.h||this.g.oa()||Ij(this.g)))){this.J||4!=En||7==f||vh(),dD(this);var g=this.g.Z();this.X=g;t:if(nj(this)){var y=Ij(this.g);l="";var k=y.length,B=4==so(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){na(this),Ih(this);var X="";break t}this.h.i=new a.TextDecoder}for(f=0;f<k;f++)this.h.h=!0,l+=this.h.i.decode(y[f],{stream:!(B&&f==k-1)});y.length=0,this.h.g+=l,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=200==g,function uge(l,f,g,y,k,B,X){l.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+k+"]: "+f+"\n"+g+"\n"+B+" "+X})}(this.i,this.u,this.A,this.l,this.R,En,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Ze,un=this.g;if((Ze=un.g?un.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(Ze)){var Be=Ze;break t}}Be=null}if(!(g=Be)){this.o=!1,this.s=3,Un(12),na(this),Ih(this);break e}Cu(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hD(this,g)}if(this.P){let $r;for(g=!0;!this.J&&this.C<X.length;){if($r=hge(this,X),$r==uD){4==En&&(this.s=4,Un(14),g=!1),Cu(this.i,this.l,null,"[Incomplete Response]");break}if($r==ej){this.s=4,Un(15),Cu(this.i,this.l,X,"[Invalid Chunk]"),g=!1;break}Cu(this.i,this.l,$r,null),hD(this,$r)}if(nj(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=En||0!=X.length||this.h.h||(this.s=1,Un(16),g=!1),this.o=this.o&&g,g){if(0<X.length&&!this.W){this.W=!0;var In=this.j;In.g==this&&In.ba&&!In.M&&(In.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),yD(In),In.M=!0,Un(11))}}else Cu(this.i,this.l,X,"[Invalid Chunked Response]"),na(this),Ih(this)}else Cu(this.i,this.l,X,null),hD(this,X);4==En&&na(this),this.o&&!this.J&&(4==En?Sj(this.j,this):(this.o=!1,e_(this)))}else(function Sge(l){const f={};l=(l.g&&2<=so(l)&&l.g.getAllResponseHeaders()||"").split("\r\n");for(let y=0;y<l.length;y++){if(S(l[y]))continue;var g=R(l[y]);const k=g[0];if("string"!=typeof(g=g[1]))continue;g=g.trim();const B=f[k]||[];f[k]=B,B.push(g)}!function M(l,f){for(const g in l)f.call(void 0,l[g],g,l)}(f,function(y){return y.join(", ")})})(this.g),400==g&&0<X.indexOf("Unknown SID")?(this.s=3,Un(12)):(this.s=0,Un(13)),na(this),Ih(this)}}}catch{}},Yo.prototype.cancel=function(){this.J=!0,na(this)},Yo.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(function lge(l,f){l.info(function(){return"TIMEOUT: "+f})}(this.i,this.A),2!=this.L&&(vh(),Un(17)),na(this),this.s=2,Ih(this)):rj(this,this.S-l)},ij.prototype.cancel=function(){if(this.i=cj(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const l of this.g.values())l.cancel();this.g.clear()}};var lj=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ra(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof ra){this.h=l.h,t_(this,l.j),this.o=l.o,this.g=l.g,n_(this,l.s),this.l=l.l;var f=l.i,g=new Th;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),dj(this,g),this.m=l.m}else l&&(f=String(l).match(lj))?(this.h=!1,t_(this,f[1]||"",!0),this.o=Eh(f[2]||""),this.g=Eh(f[3]||"",!0),n_(this,f[4]),this.l=Eh(f[5]||"",!0),dj(this,f[6]||"",!0),this.m=Eh(f[7]||"")):(this.h=!1,this.i=new Th(null,this.h))}function oo(l){return new ra(l)}function t_(l,f,g){l.j=g?Eh(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function n_(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function dj(l,f,g){f instanceof Th?(l.i=f,function Ige(l,f){f&&!l.j&&(Jo(l),l.i=null,l.g.forEach(function(g,y){var k=y.toLowerCase();y!=k&&(fj(this,y),gj(this,k,g))},l)),l.j=f}(l.i,l.h)):(g||(f=wh(f,bge)),l.i=new Th(f,l.h))}function ut(l,f,g){l.i.set(f,g)}function r_(l){return ut(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Eh(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function wh(l,f,g){return"string"==typeof l?(l=encodeURI(l).replace(f,_ge),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function _ge(l){return"%"+((l=l.charCodeAt(0))>>4&15).toString(16)+(15&l).toString(16)}ra.prototype.toString=function(){var l=[],f=this.j;f&&l.push(wh(f,hj,!0),":");var g=this.g;return(g||"file"==f)&&(l.push("//"),(f=this.o)&&l.push(wh(f,hj,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(g=this.s)&&l.push(":",String(g))),(g=this.l)&&(this.g&&"/"!=g.charAt(0)&&l.push("/"),l.push(wh(g,"/"==g.charAt(0)?vge:yge,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",wh(g,Cge)),l.join("")};var l,hj=/[#\/\?@]/g,yge=/[#\?:]/g,vge=/[#\?]/g,bge=/[#\?@]/g,Cge=/#/g;function Th(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function Jo(l){l.g||(l.g=new Map,l.h=0,l.i&&function mge(l,f){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var y=l[g].indexOf("="),k=null;if(0<=y){var B=l[g].substring(0,y);k=l[g].substring(y+1)}else B=l[g];f(B,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}(l.i,function(f,g){l.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}function fj(l,f){Jo(l),f=Iu(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function pj(l,f){return Jo(l),f=Iu(l,f),l.g.has(f)}function gj(l,f,g){fj(l,f),0<g.length&&(l.i=null,l.g.set(Iu(l,f),C(g)),l.h+=g.length)}function Iu(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function Xo(l,f,g,y,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),y(g)}catch{}}function Tge(){this.g=new age}function Pge(l,f,g){const y=g||"";try{uj(l,function(k,B){let X=k;u(k)&&(X=iD(k)),f.push(y+B+"="+encodeURIComponent(X))})}catch(k){throw f.push(y+"type="+encodeURIComponent("_badmap")),k}}function Ph(l){this.l=l.Ub||null,this.j=l.eb||!1}function i_(l,f){Cn.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function mj(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}function Ah(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Dh(l)}function Dh(l){l.onreadystatechange&&l.onreadystatechange.call(l)}function _j(l){let f="";return de(l,function(g,y){f+=y,f+=":",f+=g,f+="\r\n"}),f}function gD(l,f,g){e:{for(y in g){var y=!1;break e}y=!0}y||(g=_j(g),"string"==typeof l?null!=g&&encodeURIComponent(String(g)):ut(l,f,g))}function Pt(l){Cn.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=Th.prototype).add=function(l,f){Jo(this),this.i=null,l=Iu(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(f),this.h+=1,this},n.forEach=function(l,f){Jo(this),this.g.forEach(function(g,y){g.forEach(function(k){l.call(f,k,y,this)},this)},this)},n.na=function(){Jo(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let y=0;y<f.length;y++){const k=l[y];for(let B=0;B<k.length;B++)g.push(f[y])}return g},n.V=function(l){Jo(this);let f=[];if("string"==typeof l)pj(this,l)&&(f=f.concat(this.g.get(Iu(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)f=f.concat(l[g])}return f},n.set=function(l,f){return Jo(this),this.i=null,pj(this,l=Iu(this,l))&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},n.get=function(l,f){return l&&0<(l=this.V(l)).length?String(l[0]):f},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var y=f[g];const B=encodeURIComponent(String(y)),X=this.V(y);for(y=0;y<X.length;y++){var k=B;""!==X[y]&&(k+="="+encodeURIComponent(String(X[y]))),l.push(k)}}return this.i=l.join("&")},v(Ph,oD),Ph.prototype.g=function(){return new i_(this.l,this.j)},Ph.prototype.i=(l={},function(){return l}),v(i_,Cn),(n=i_.prototype).open=function(l,f){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,Dh(this)},n.send=function(l){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ah(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Dh(this)),this.g&&(this.readyState=3,Dh(this),this.g)))if("arraybuffer"===this.responseType)l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;mj(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?Ah(this):Dh(this),3==this.readyState&&mj(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,Ah(this))},n.Qa=function(l){this.g&&(this.response=l,Ah(this))},n.ga=function(){this.g&&Ah(this)},n.setRequestHeader=function(l,f){this.u.append(l,f)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var g=f.next();!g.done;)l.push((g=g.value)[0]+": "+g[1]),g=f.next();return l.join("\r\n")},Object.defineProperty(i_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(l){this.m=l?"include":"same-origin"}}),v(Pt,Cn);var Age=/^https?$/i,Dge=["POST","PUT"];function yj(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,vj(l),o_(l)}function vj(l){l.A||(l.A=!0,Ln(l,"complete"),Ln(l,"error"))}function bj(l){if(l.h&&typeof s<"u"&&(!l.v[1]||4!=so(l)||2!=l.Z()))if(l.u&&4==so(l))$B(l.Ea,0,l);else if(Ln(l,"readystatechange"),4==so(l)){l.h=!1;try{const X=l.Z();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var y;if(y=0===X){var k=String(l.D).match(lj)[1]||null;!k&&a.self&&a.self.location&&(k=a.self.location.protocol.slice(0,-1)),y=!Age.test(k?k.toLowerCase():"")}g=y}if(g)Ln(l,"complete"),Ln(l,"success");else{l.m=6;try{var B=2<so(l)?l.g.statusText:""}catch{B=""}l.l=B+" ["+l.Z()+"]",vj(l)}}finally{o_(l)}}}function o_(l,f){if(l.g){Cj(l);const g=l.g,y=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||Ln(l,"ready");try{g.onreadystatechange=y}catch{}}}function Cj(l){l.I&&(a.clearTimeout(l.I),l.I=null)}function so(l){return l.g?l.g.readyState:0}function Ij(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Sh(l,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||f}function Ej(l){this.Aa=0,this.i=[],this.j=new Ch,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Sh("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Sh("baseRetryDelayMs",5e3,l),this.cb=Sh("retryDelaySeedMs",1e4,l),this.Wa=Sh("forwardChannelMaxRetries",2,l),this.wa=Sh("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new ij(l&&l.concurrentRequestLimit),this.Da=new Tge,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function mD(l){if(wj(l),3==l.G){var f=l.U++,g=oo(l.I);if(ut(g,"SID",l.K),ut(g,"RID",f),ut(g,"TYPE","terminate"),Mh(l,g),(f=new Yo(l,l.j,f)).L=2,f.v=r_(oo(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&a.Image&&((new Image).src=f.v,g=!0),g||(f.g=Rj(f.j,null),f.g.ea(f.v)),f.F=Date.now(),e_(f)}xj(l)}function s_(l){l.g&&(yD(l),l.g.cancel(),l.g=null)}function wj(l){s_(l),l.u&&(a.clearTimeout(l.u),l.u=null),c_(l),l.h.cancel(),l.s&&("number"==typeof l.s&&a.clearTimeout(l.s),l.s=null)}function a_(l){if(!oj(l.h)&&!l.s){l.s=!0;var f=l.Ga;fh||VB(),ph||(fh(),ph=!0),QA.add(f,l),l.B=0}}function Tj(l,f){var g;g=f?f.l:l.U++;const y=oo(l.I);ut(y,"SID",l.K),ut(y,"RID",g),ut(y,"AID",l.T),Mh(l,y),l.m&&l.o&&gD(y,l.m,l.o),g=new Yo(l,l.j,g,l.B+1),null===l.m&&(g.H=l.o),f&&(l.i=f.D.concat(l.i)),f=Pj(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),pD(l.h,g),lD(g,y,f)}function Mh(l,f){l.H&&de(l.H,function(g,y){ut(f,y,g)}),l.l&&uj({},function(g,y){ut(f,y,g)})}function Pj(l,f,g){g=Math.min(l.i.length,g);var y=l.l?p(l.l.Na,l.l,l):null;e:{var k=l.i;let B=-1;for(;;){const X=["count="+g];-1==B?0<g?(B=k[0].g,X.push("ofs="+B)):B=0:X.push("ofs="+B);let Ze=!0;for(let un=0;un<g;un++){let Be=k[un].g;const In=k[un].map;if(Be-=B,0>Be)B=Math.max(0,k[un].g-100),Ze=!1;else try{Pge(In,X,"req"+Be+"_")}catch{y&&y(In)}}if(Ze){y=X.join("&");break e}}}return l=l.i.splice(0,g),f.D=l,y}function Aj(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;fh||VB(),ph||(fh(),ph=!0),QA.add(f,l),l.v=0}}function _D(l){return!(l.g||l.u||3<=l.v||(l.Y++,l.u=bh(p(l.Fa,l),Mj(l,l.v)),l.v++,0))}function yD(l){null!=l.A&&(a.clearTimeout(l.A),l.A=null)}function Dj(l){l.g=new Yo(l,l.j,"rpc",l.Y),null===l.m&&(l.g.H=l.o),l.g.O=0;var f=oo(l.qa);ut(f,"RID","rpc"),ut(f,"SID",l.K),ut(f,"AID",l.T),ut(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&ut(f,"TO",l.ja),ut(f,"TYPE","xmlhttp"),Mh(l,f),l.m&&l.o&&gD(f,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=r_(oo(f)),g.m=null,g.P=!0,tj(g,l)}function c_(l){null!=l.C&&(a.clearTimeout(l.C),l.C=null)}function Sj(l,f){var g=null;if(l.g==f){c_(l),yD(l),l.g=null;var y=2}else{if(!fD(l.h,f))return;g=f.D,aj(l.h,f),y=1}if(0!=l.G)if(f.o)if(1==y){g=f.m?f.m.length:0,f=Date.now()-f.F;var k=l.B;Ln(y=Jm(),new JB(y,g)),a_(l)}else Aj(l);else if(3==(k=f.s)||0==k&&0<f.X||!(1==y&&function Mge(l,f){return!(sj(l.h)>=l.h.j-(l.s?1:0)||(l.s?(l.i=f.D.concat(l.i),0):1==l.G||2==l.G||l.B>=(l.Va?0:l.Wa)||(l.s=bh(p(l.Ga,l,f),Mj(l,l.B)),l.B++,0)))}(l,f)||2==y&&_D(l)))switch(g&&0<g.length&&(f=l.h,f.i=f.i.concat(g)),k){case 1:ia(l,5);break;case 4:ia(l,10);break;case 3:ia(l,6);break;default:ia(l,2)}}function Mj(l,f){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*f}function ia(l,f){if(l.j.info("Error code "+f),2==f){var g=p(l.fb,l),y=l.Xa;const k=!y;y=new ra(y||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||t_(y,"https"),r_(y),k?function Ege(l,f){const g=new Ch;if(a.Image){const y=new Image;y.onload=m(Xo,g,"TestLoadImage: loaded",!0,f,y),y.onerror=m(Xo,g,"TestLoadImage: error",!1,f,y),y.onabort=m(Xo,g,"TestLoadImage: abort",!1,f,y),y.ontimeout=m(Xo,g,"TestLoadImage: timeout",!1,f,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=l}else f(!1)}(y.toString(),g):function wge(l,f){new Ch;const y=new AbortController,k=setTimeout(()=>{y.abort(),Xo(0,0,!1,f)},1e4);fetch(l,{signal:y.signal}).then(B=>{clearTimeout(k),Xo(0,0,!!B.ok,f)}).catch(()=>{clearTimeout(k),Xo(0,0,!1,f)})}(y.toString(),g)}else Un(2);l.G=0,l.l&&l.l.sa(f),xj(l),wj(l)}function xj(l){if(l.G=0,l.ka=[],l.l){const f=cj(l.h);(0!=f.length||0!=l.i.length)&&(w(l.ka,f),w(l.ka,l.i),l.h.i.length=0,C(l.i),l.i.length=0),l.l.ra()}}function Oj(l,f,g){var y=g instanceof ra?oo(g):new ra(g);if(""!=y.g)f&&(y.g=f+"."+y.g),n_(y,y.s);else{var k=a.location;y=k.protocol,f=f?f+"."+k.hostname:k.hostname,k=+k.port;var B=new ra(null);y&&t_(B,y),f&&(B.g=f),k&&n_(B,k),g&&(B.l=g),y=B}return f=l.ya,(g=l.D)&&f&&ut(y,g,f),ut(y,"VER",l.la),Mh(l,y),y}function Rj(l,f,g){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return(f=new Pt(l.Ca&&!l.pa?new Ph({eb:g}):l.pa)).Ha(l.J),f}function kj(){}function u_(){}function hr(l,f){Cn.call(this),this.g=new Ej(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!S(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!S(f)&&(this.g.D=f,null!==(l=this.h)&&f in l&&f in(l=this.h)&&delete l[f]),this.j=new Eu(this)}function Nj(l){sD.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const g in f){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,f=null!==f&&l in f?f[l]:void 0),this.data=f}else this.data=l}function Vj(){aD.call(this),this.status=1}function Eu(l){this.g=l}(n=Pt.prototype).Ha=function(l){this.J=l},n.ea=function(l,f,g,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():cD.g(),this.v=function qB(l){return l.h||(l.h=l.i())}(this.o?this.o:cD),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(B){return void yj(this,B)}if(l=g||"",g=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var k in y)g.set(k,y[k]);else{if("function"!=typeof y.keys||"function"!=typeof y.get)throw Error("Unknown input type for opt_headers: "+String(y));for(const B of y.keys())g.set(B,y.get(B))}y=Array.from(g.keys()).find(B=>"content-type"==B.toLowerCase()),k=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Dge,f,void 0))||y||k||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,X]of g)this.g.setRequestHeader(B,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Cj(this),this.u=!0,this.g.send(l),this.u=!1}catch(B){yj(this,B)}},n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Ln(this,"complete"),Ln(this,"abort"),o_(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),o_(this,!0)),Pt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?bj(this):this.bb())},n.bb=function(){bj(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<so(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&0==f.indexOf(l)&&(f=f.substring(l.length)),sge(f)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=Ej.prototype).la=8,n.G=1,n.connect=function(l,f,g,y){Un(0),this.W=l,this.H=f||{},g&&void 0!==y&&(this.H.OSID=g,this.H.OAID=y),this.F=this.X,this.I=Oj(this,null,this.W),a_(this)},n.Ga=function(l){if(this.s)if(this.s=null,1==this.G){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const k=new Yo(this,this.j,l);let B=this.o;if(this.S&&(B?(B=E(B),x(B,this.S)):B=this.S),null!==this.m||this.O||(k.H=B,B=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){var y=this.i[g];if(void 0===(y="__data__"in y.map&&"string"==typeof(y=y.map.__data__)?y.length:void 0))break;if(4096<(f+=y)){f=g;break e}if(4096===f||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=Pj(this,k,f),ut(g=oo(this.I),"RID",l),ut(g,"CVER",22),this.D&&ut(g,"X-HTTP-Session-Id",this.D),Mh(this,g),B&&(this.O?f="headers="+encodeURIComponent(String(_j(B)))+"&"+f:this.m&&gD(g,this.m,B)),pD(this.h,k),this.Ua&&ut(g,"TYPE","init"),this.P?(ut(g,"$req",f),ut(g,"SID","null"),k.T=!0,lD(k,g,null)):lD(k,g,f),this.G=2}}else 3==this.G&&(l?Tj(this,l):0==this.i.length||oj(this.h)||Tj(this))},n.Fa=function(){if(this.u=null,Dj(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=bh(p(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Un(10),s_(this),Dj(this))},n.Za=function(){null!=this.C&&(this.C=null,s_(this),_D(this),Un(19))},n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Un(2)):(this.j.info("Failed to ping google.com"),Un(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=kj.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},u_.prototype.g=function(l,f){return new hr(l,f)},v(hr,Cn),hr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hr.prototype.close=function(){mD(this.g)},hr.prototype.o=function(l){var f=this.g;if("string"==typeof l){var g={};g.__data__=l,l=g}else this.u&&((g={}).__data__=iD(l),l=g);f.i.push(new class{constructor(l,f){this.g=l,this.map=f}}(f.Ya++,l)),3==f.G&&a_(f)},hr.prototype.N=function(){this.g.l=null,delete this.j,mD(this.g),delete this.g,hr.aa.N.call(this)},v(Nj,sD),v(Vj,aD),v(Eu,kj),Eu.prototype.ua=function(){Ln(this.g,"a")},Eu.prototype.ta=function(l){Ln(this.g,new Nj(l))},Eu.prototype.sa=function(l){Ln(this.g,new Vj)},Eu.prototype.ra=function(){Ln(this.g,"b")},u_.prototype.createWebChannel=u_.prototype.g,hr.prototype.send=hr.prototype.o,hr.prototype.open=hr.prototype.m,hr.prototype.close=hr.prototype.close,Qi.createWebChannelTransport=function(){return new u_},Qi.getStatEventTarget=function(){return Jm()},Qi.Event=ta,Qi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xm.NO_ERROR=0,Xm.TIMEOUT=8,Xm.HTTP_ERROR=6,Qi.ErrorCode=Xm,XB.COMPLETE="complete",Qi.EventType=XB,WB.EventType=yh,yh.OPEN="a",yh.CLOSE="b",yh.ERROR="c",yh.MESSAGE="d",Cn.prototype.listen=Cn.prototype.K,Qi.WebChannel=WB,Qi.FetchXmlHttpFactory=Ph,Pt.prototype.listenOnce=Pt.prototype.L,Pt.prototype.getLastError=Pt.prototype.Ka,Pt.prototype.getLastErrorCode=Pt.prototype.Ba,Pt.prototype.getStatus=Pt.prototype.Z,Pt.prototype.getResponseJson=Pt.prototype.Oa,Pt.prototype.getResponseText=Pt.prototype.oa,Pt.prototype.send=Pt.prototype.ea,Pt.prototype.setWithCredentials=Pt.prototype.Ha,Qi.XhrIo=Pt}).apply(typeof kg<"u"?kg:typeof self<"u"?self:typeof window<"u"?window:{});const nU="@firebase/firestore";class Wt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");let Rc="10.14.0";const Mo=new Ic("@firebase/firestore");function G(n,...e){if(Mo.logLevel<=Se.DEBUG){const t=e.map(uT);Mo.debug(`Firestore (${Rc}): ${n}`,...t)}}function Ot(n,...e){if(Mo.logLevel<=Se.ERROR){const t=e.map(uT);Mo.error(`Firestore (${Rc}): ${n}`,...t)}}function uT(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function se(n="Unexpected state"){const e=`FIRESTORE (${Rc}) INTERNAL ASSERTION FAILED: `+n;throw Ot(e),new Error(e)}function le(n,e){n||se()}const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class z extends wr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Kt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class rU{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Lce{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wt.UNAUTHENTICATED))}shutdown(){}}class Uce{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Bce{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;le(void 0===this.o);let i=this.i;const o=u=>this.i!==i?(i=this.i,t(u)):Promise.resolve();let s=new Kt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Kt,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(I(function*(){yield u.promise,yield o(r.currentUser)}))},c=u=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Kt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(le("string"==typeof r.accessToken),new rU(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return le(null===e||"string"==typeof e),new Wt(e)}}class jce{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class $ce{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new jce(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Hce{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){le(void 0===this.o);const r=o=>{null!=o.error&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,G("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(le("string"==typeof t.token),this.R=t.token,new iU(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ve(n,e){return n<e?-1:n>e?1:0}class Ed{constructor(e,t,r){void 0===t?t=0:t>e.length&&se(),void 0===r?r=e.length-t:r>e.length-t&&se(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Ed.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ed?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Re extends Ed{construct(e,t,r){return new Re(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new z(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Re(t)}static emptyPath(){return new Re([])}}class te{constructor(e){this.path=e}static fromPath(e){return new te(Re.fromString(e))}static fromName(e){return new te(Re.fromString(e).popFirst(5))}static empty(){return new te(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Re.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Re.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new Re(e.slice()))}}class ot{constructor(e,t){this.comparator=e,this.root=t||sn.EMPTY}insert(e,t){return new ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lg(this.root,e,this.comparator,!0)}}class Lg{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??sn.RED,this.left=i??sn.EMPTY,this.right=o??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new sn(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return sn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();const e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1,sn.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(e,t,r,i,o){return this}insert(e,t,r){return new sn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ye{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new EU(this.data.getIterator())}getIteratorFrom(e){return new EU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ye)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ye(this.comparator);return t.data=e,t}}class EU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Tt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new wU("Invalid base64 string: "+o):o}}(e);return new Tt(t)}static fromUint8Array(e){const t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Tt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tt.EMPTY_BYTE_STRING=new Tt("");const _ue=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}class ks{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ks("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ks&&e.projectId===this.projectId&&e.database===this.database}}var Lt,Fe,DP,N3;new ot(te.comparator),new ot(te.comparator),new ot(te.comparator),new Ye(te.comparator),new Ye(ve),(Fe=Lt||(Lt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS",new Ms([4294967295,4294967295],0),Error;class $s{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(pt(e.integerValue));else if("doubleValue"in e){const r=pt(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),function Pd(n){return 0===n&&1/n==-1/0}(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),"string"==typeof r&&(r=function Yi(n){if(le(!!n),"string"==typeof n){let e=0;const t=_ue.exec(n);if(le(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pt(n.seconds),nanos:pt(n.nanos)}}(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(function Ji(n){return"string"==typeof n?Tt.fromBase64String(n):Tt.fromUint8Array(n)}(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?function SU(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.dt(t,Number.MAX_SAFE_INTEGER):function zg(n){var e,t;return"__vector__"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):se()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const r=e.fields||{};this.dt(t,55);for(const i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;const o=e.fields||{};this.dt(t,53);const s="value",a=(null===(i=null===(r=o[s].arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.length)||0;this.dt(t,15),t.At(pt(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){const r=e.values||[];this.dt(t,50);for(const i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),te.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}$s.vt=new $s,new Uint8Array(0);class _n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function pm(){return typeof document<"u"?document:null}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(41943040,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class iP{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class IP{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Kt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const s=Date.now()+r,a=new IP(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new z(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}(N3=DP||(DP={})).ea="default",N3.Cache="cache";const t5=new Map;function Me(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new z(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=function Cm(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":se()}(n);throw new z(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class o5{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new z(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new z(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Lde(n,e,t,r){if(!0===e&&!0===r)throw new z(F.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=function e5(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new z(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new z(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new z(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zd{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new o5({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new z(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new z(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new o5(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Lce;switch(r.type){case"firstParty":return new $ce(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new z(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return I(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=t5.get(t);r&&(G("ComponentProvider","Removing Datastore"),t5.delete(t),r.terminate())}(this),Promise.resolve()}}function Ude(n,e,t,r={}){var i;const o=(n=Me(n,Zd))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&function Dr(n,...e){if(Mo.logLevel<=Se.WARN){const t=e.map(uT);Mo.warn(`Firestore (${Rc}): ${n}`,...t)}}("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=Wt.MOCK_USER;else{a=function Eee(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Qp(JSON.stringify({alg:"none",type:"JWT"})),Qp(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new z(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Wt(u)}n._authCredentials=new Uce(new rU(a,c))}}class a5{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new iP(this,"async_queue_retry"),this.Vu=()=>{const r=pm();r&&G("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const t=pm();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=pm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new Kt;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return I(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(t){if(!function Oo(n){return"IndexedDbTransactionError"===n.name}(t))throw t;G("AsyncQueue","Operation failed with retryable error: "+t)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(r=>{throw this.Eu=r,this.du=!1,Ot("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const i=IP.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&se()}verifyOperationInProgress(){}wu(){var e=this;return I(function*(){let t;do{t=e.mu,yield t}while(t!==e.mu)})()}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class Xe extends Zd{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new a5,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){var e=this;return I(function*(){if(e._firestoreClient){const t=e._firestoreClient.terminate();e._queue=new a5(t),e._firestoreClient=void 0,yield t}})()}}function $de(n,e){const r="string"==typeof n?n:e||"(default)",i=Ec("object"==typeof n?n:OC(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(n=>{const e=eV("firestore");if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]})();o&&Ude(i,...o)}return i}new RegExp("[~\\*/\\[\\]]"),function(e,t=!0){Rc=Cs,Nn(new pn("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Xe(new Bce(r.getProvider("auth-internal")),new Hce(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new z(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ks(u.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),vt(nU,"4.7.3",e),vt(nU,"4.7.3","esm2017")}();class AA{constructor(e){return e}}const A5="firestore",DA=new re("angularfire2.firestore-instances");function hhe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new AA(r)}}const fhe={provide:class lhe{constructor(){return IE(A5)}},deps:[[new Mn,DA]]},phe={provide:AA,useFactory:function dhe(n,e){const t=CE(A5,n,e);return t&&new AA(t)},deps:[[new Mn,DA],Ac]};let ghe=(()=>{class n{constructor(){vt("angularfire",lg.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Or({type:n}),n.\u0275inj=pr({providers:[phe,fhe]}),n})();const _he=wE($de,!0);let D5=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(j(Ti),j(sr))}}static{this.\u0275dir=ye({type:n})}}return n})(),Js=(()=>{class n extends D5{static{this.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}()}static{this.\u0275dir=ye({type:n,features:[qe]})}}return n})();const pi=new re("NgValueAccessor"),vhe={provide:pi,useExisting:et(()=>SA),multi:!0};let SA=(()=>{class n extends Js{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}()}static{this.\u0275dir=ye({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&Q("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[ht([vhe]),qe]})}}return n})();const bhe={provide:pi,useExisting:et(()=>Xs),multi:!0},Ihe=new re("CompositionEventMode");let Xs=(()=>{class n extends D5{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Che(){const n=bo()?bo().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(j(Ti),j(sr),j(Ihe,8))}}static{this.\u0275dir=ye({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Q("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[ht([bhe]),qe]})}}return n})();const vn=new re("NgValidators"),Wo=new re("NgAsyncValidators");function O5(n){return function qo(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function km(n){return null}function L5(n){return null!=n}function U5(n){return pl(n)?Bt(n):n}function B5(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function j5(n,e){return e.map(t=>t(n))}function $5(n){return n.map(e=>function whe(n){return!n.validate}(e)?e:t=>e.validate(t))}function MA(n){return null!=n?function H5(n){if(!n)return null;const e=n.filter(L5);return 0==e.length?null:function(t){return B5(j5(t,e))}}($5(n)):null}function xA(n){return null!=n?function z5(n){if(!n)return null;const e=n.filter(L5);return 0==e.length?null:function(t){return function yhe(...n){const e=HD(n),{args:t,keys:r}=HN(n),i=new lt(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let c=s,u=s;for(let d=0;d<s;d++){let h=!1;Xn(t[d]).subscribe(Nt(o,p=>{h||(h=!0,u--),a[d]=p},()=>c--,void 0,()=>{(!c||!h)&&(u||o.next(r?GN(r,a):a),o.complete())}))}});return e?i.pipe(zN(e)):i}(j5(t,e).map(U5)).pipe(xe(B5))}}($5(n)):null}function G5(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function OA(n){return n?Array.isArray(n)?n:[n]:[]}function Nm(n,e){return Array.isArray(n)?n.includes(e):n===e}function K5(n,e){const t=OA(e);return OA(n).forEach(i=>{Nm(t,i)||t.push(i)}),t}function Q5(n,e){return OA(e).filter(t=>!Nm(n,t))}class Y5{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=MA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=xA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Fn extends Y5{get formDirective(){return null}get path(){return null}}class Ko extends Y5{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class J5{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ah=(()=>{class n extends J5{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(j(Ko,2))}}static{this.\u0275dir=ye({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Pe("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[qe]})}}return n})(),X5=(()=>{class n extends J5{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(j(Fn,10))}}static{this.\u0275dir=ye({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Pe("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[qe]})}}return n})();const ch="VALID",Fm="INVALID",_u="PENDING",uh="DISABLED";function NA(n){return(Lm(n)?n.validators:n)||null}function VA(n,e){return(Lm(e)?e.asyncValidators:n)||null}function Lm(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class FA{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ch}get invalid(){return this.status===Fm}get pending(){return this.status==_u}get disabled(){return this.status===uh}get enabled(){return this.status!==uh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(K5(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(K5(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Q5(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Q5(e,this._rawAsyncValidators))}hasValidator(e){return Nm(this._rawValidators,e)}hasAsyncValidator(e){return Nm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=_u,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=uh,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ch,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ch||this.status===_u)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?uh:ch}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=_u,this._hasOwnPendingAsyncValidator=!0;const t=U5(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new _t,this.statusChanges=new _t}_calculateStatus(){return this._allControlsDisabled()?uh:this.errors?Fm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_u)?_u:this._anyControlsHaveStatus(Fm)?Fm:ch}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Lm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Dhe(n){return Array.isArray(n)?MA(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function She(n){return Array.isArray(n)?xA(n):n||null}(this._rawAsyncValidators)}}class LA extends FA{constructor(e,t,r){super(NA(t),VA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function tB(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new q(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function eB(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new q(1e3,"");if(!r[t])throw new q(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const yu=new re("CallSetDisabledState",{providedIn:"root",factory:()=>Um}),Um="always";function lh(n,e,t=Um){UA(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Ohe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&nB(n,e)})}(n,e),function khe(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Rhe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&nB(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function xhe(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function $m(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function UA(n,e){const t=function q5(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(G5(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function W5(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(G5(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();$m(e._rawValidators,i),$m(e._rawAsyncValidators,i)}function nB(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const Uhe={provide:Fn,useExisting:et(()=>zm)},dh=(()=>Promise.resolve())();let zm=(()=>{class n extends Fn{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new _t,this.form=new LA({},MA(t),xA(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){dh.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),lh(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){dh.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){dh.then(()=>{const r=this._findContainer(t.path),i=new LA({});(function rB(n,e){UA(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){dh.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){dh.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function iB(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(j(vn,10),j(Wo,10),j(yu,8))}}static{this.\u0275dir=ye({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&Q("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ht([Uhe]),qe]})}}return n})();function oB(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function sB(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const aB=class extends FA{constructor(e=null,t,r){super(NA(t),VA(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Lm(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=sB(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){oB(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){oB(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){sB(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},$he={provide:Ko,useExisting:et(()=>vu)},lB=(()=>Promise.resolve())();let vu=(()=>{class n extends Ko{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new aB,this._registered=!1,this.name="",this.update=new _t,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function $A(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===Xs?t=o:function Fhe(n){return Object.getPrototypeOf(n.constructor)===Js}(o)?r=o:i=o}),i||r||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function jA(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){lh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){lB.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&ac(r);lB.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Bm(n,e){return[...e.path,n]}(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(j(Fn,9),j(vn,10),j(Wo,10),j(pi,10),j(Dl,8),j(yu,8))}}static{this.\u0275dir=ye({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ht([$he]),qe,_r]})}}return n})(),dB=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ye({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),fB=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Or({type:n})}static{this.\u0275inj=pr({})}}return n})(),Zs=(()=>{class n{constructor(){this._validator=km}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):km,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ye({type:n,features:[_r]})}}return n})();const sfe={provide:vn,useExisting:et(()=>Gm),multi:!0};let Gm=(()=>{class n extends Zs{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ac,this.createValidator=t=>O5}enabled(t){return t}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}()}static{this.\u0275dir=ye({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&Xr("required",i._enabled?"":null)},inputs:{required:"required"},features:[ht([sfe]),qe]})}}return n})(),hfe=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Or({type:n})}static{this.\u0275inj=pr({imports:[fB]})}}return n})(),qm=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:yu,useValue:t.callSetDisabledState??Um}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Or({type:n})}static{this.\u0275inj=pr({imports:[hfe]})}}return n})();const ro_apiUrl="https://music-uptc-sogamoso-back.vercel.app",ro_firebaseConfig={apiKey:"AIzaSyAehdTsKYuyXdmBngoGthTpaMPrw4nsga4",authDomain:"musicuptcsogamoso.firebaseapp.com",projectId:"musicuptcsogamoso",storageBucket:"musicuptcsogamoso.firebasestorage.app",messagingSenderId:"1011403818121",appId:"1:1011403818121:web:eea45507f1bdcd3631b258",measurementId:"G-BFW1T6D1J1"};let xB=(()=>{class n{http;apiUrl=ro_apiUrl;constructor(t){this.http=t}searchTracks(t){return this.http.get(`${this.apiUrl}/api/search?q=${encodeURIComponent(t)}`).pipe(xe(r=>r.map(i=>({id:i.id,name:i.name,artists:i.artists,album:i.album,image:i.image,preview_url:i.preview_url,duration_ms:i.duration_ms}))))}getAuthUrl(){return this.http.get(`${this.apiUrl}/api/spotify/auth`)}getCurrentlyPlaying(){return this.http.get(`${this.apiUrl}/api/spotify/currently-playing`)}getStatus(){return this.http.get(`${this.apiUrl}/api/spotify/admin/status`)}static \u0275fac=function(r){return new(r||n)(oe(Vi))};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function OB(n=0,e,t=Vie){let r=-1;return null!=e&&($D(e)?t=e:r=e),new lt(i=>{let o=function pfe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Wm(n=0,e=fE){return n<0&&(n=0),OB(n,n,e)}let ea=(()=>{class n{http;apiUrl=ro_apiUrl;currentUserSubject=new Zn(null);currentUser=this.currentUserSubject.asObservable();constructor(t){this.http=t;const r=localStorage.getItem("adminToken"),i=localStorage.getItem("adminUser");r&&i&&this.currentUserSubject.next(JSON.parse(i))}login(t,r){return this.http.post(`${this.apiUrl}/api/auth/login`,{email:t,password:r}).pipe(yt(i=>{i.token&&(localStorage.setItem("adminToken",i.token),localStorage.setItem("adminUser",JSON.stringify(i.user)),this.currentUserSubject.next(i.user))}))}logout(){localStorage.removeItem("adminToken"),localStorage.removeItem("adminUser"),this.currentUserSubject.next(null)}isLoggedIn(){return!!localStorage.getItem("adminToken")}getAuthToken(){return localStorage.getItem("adminToken")}getAuthHeaders(){const t=this.getAuthToken();return t?new Er({Authorization:`Bearer ${t}`}):new Er}static \u0275fac=function(r){return new(r||n)(oe(Vi))};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bu=(()=>{class n{http;authService;apiUrl=ro_apiUrl;cachedSongs=[];lastFetchTime=0;CACHE_DURATION=3e4;cachedVotingStatus=null;lastVotingStatusFetch=0;VOTING_STATUS_CACHE_DURATION=2e3;constructor(t,r){this.http=t,this.authService=r}getCacheBustedUrl(t){const r=t.includes("?")?"&":"?";return`${t}${r}_=${(new Date).getTime()}`}invalidateCache(){this.cachedSongs=[],this.lastFetchTime=0}invalidateVotingStatusCache(){this.cachedVotingStatus=null,this.lastVotingStatusFetch=0}processSongs(t){return t&&0!==t.length?t.sort((r,i)=>r.votes>i.votes?-1:r.votes<i.votes?1:new Date(i.createdat).getTime()-new Date(r.createdat).getTime()):[]}voteForSong(t,r,i=!1){return this.http.post(`${this.apiUrl}/api/vote`,{trackid:t,trackInfo:r,is_dislike:i}).pipe(yt(()=>{this.invalidateCache()}))}changeVote(t,r,i){return this.voteForSong(t,r,i)}getRankedSongsPolling(){return Wm(6e4).pipe(Op(0),wn(()=>this.getRankedSongs()))}getRankedSongs(){const t=Date.now();if(this.cachedSongs.length>0&&t-this.lastFetchTime<this.CACHE_DURATION)return pe([...this.cachedSongs]);const r=this.getCacheBustedUrl(`${this.apiUrl}/api/votes`);return this.http.get(r).pipe(xe(i=>{const o=this.processSongs(i||[]);return this.cachedSongs=o,this.lastFetchTime=t,o}))}getRecentlyAddedSongs(){return this.getRankedSongs().pipe(xe(t=>[...t].sort((r,i)=>new Date(i.createdat).getTime()-new Date(r.createdat).getTime()).slice(0,10)))}getSongs(){return this.getRankedSongs()}addToHistory(t){return this.http.post(`${this.apiUrl}/spotify/history`,{trackId:t})}vote(t,r,i=!1){return this.http.post(`${this.apiUrl}/vote`,{song:t,isDislike:r,isAdmin:i})}deleteSong(t){const r=this.authService.getAuthHeaders(),o=this.getCacheBustedUrl(`${this.apiUrl}/api/votes?trackid=${t}`);return this.http.delete(o,{headers:r}).pipe(yt(()=>{this.invalidateCache()}))}deleteAllVotes(){const t=this.authService.getAuthHeaders(),r=this.getCacheBustedUrl(`${this.apiUrl}/api/votes/all`);return this.http.delete(r,{headers:t}).pipe(yt(()=>{this.invalidateCache()}))}forceRefresh(){this.invalidateCache();const t=this.getCacheBustedUrl(`${this.apiUrl}/api/votes`);return this.http.get(t).pipe(xe(r=>{const i=this.processSongs(r||[]);return this.cachedSongs=i,this.lastFetchTime=Date.now(),i}))}getRankedSongsImmediate(){const t=this.getCacheBustedUrl(`${this.apiUrl}/api/votes`);return this.http.get(t).pipe(xe(r=>this.processSongs(r||[])))}getVotingStatus(){const t=this.getCacheBustedUrl(`${this.apiUrl}/api/voting/status`);return this.http.get(t)}submitVote(t){return this.http.post(`${this.apiUrl}/api/voting/vote`,{vote_type:t}).pipe(yt(()=>{this.invalidateVotingStatusCache()}),Br(r=>{let i="Error al votar";return r.error?.error?i=r.error.error:400===r.status?i="Solicitud incorrecta":409===r.status?i=r.error?.error||"Ya has votado por esta opci\xf3n":500===r.status?i="Error del servidor":0===r.status&&(i="Error de conexi\xf3n"),this.invalidateVotingStatusCache(),Eo(()=>new Error(i))}))}getVotingStatusImmediate(){const t=this.getCacheBustedUrl(`${this.apiUrl}/api/voting/status`);return this.http.get(t)}static \u0275fac=function(r){return new(r||n)(oe(Vi),oe(ea))};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function gfe(n,e){1&n&&L(0,"i",11)}function mfe(n,e){1&n&&L(0,"i",12)}function _fe(n,e){1&n&&(_(0,"div",16),P(1," No se encontraron resultados. Intenta con otras palabras. "),b())}function yfe(n,e){if(1&n){const t=ze();_(0,"div",17)(1,"div",18)(2,"div",19)(3,"div",20),L(4,"img",21),b(),_(5,"div",22)(6,"h6",23),P(7),b(),_(8,"p",24),P(9),b(),_(10,"p",25),P(11),b()(),_(12,"div",26)(13,"button",27),Q("click",function(){const o=ae(t).$implicit;return ce(W(2).vote(o))}),L(14,"i",28),P(15,"Votar "),b()()()()()}if(2&n){const t=e.$implicit,r=W(2);T(4),H("src",t.image,ir)("alt",t.name),T(3),fe(t.name),T(2),fe(t.artists.join(", ")),T(2),fe(r.formatDuration(t.duration_ms))}}function vfe(n,e){if(1&n&&(_(0,"div"),ee(1,_fe,2,0,"div",13),_(2,"div",14),ee(3,yfe,16,5,"div",15),b()()),2&n){const t=W();T(1),H("ngIf",0===t.results.length&&!t.isLoading),T(2),H("ngForOf",t.results)}}let bfe=(()=>{class n{spotifyService;votingService;voteCasted=new _t;query="";results=[];isLoading=!1;searchPerformed=!1;constructor(t,r){this.spotifyService=t,this.votingService=r}search(){this.query.trim()&&(this.isLoading=!0,this.searchPerformed=!0,this.spotifyService.searchTracks(this.query).subscribe({next:t=>{this.results=t,this.isLoading=!1},error:t=>{console.error("Error al buscar:",t),this.isLoading=!1,alert("Error al buscar canciones. Intenta nuevamente.")}}))}vote(t){this.votingService.voteForSong(t.id,{name:t.name,artists:t.artists,image:t.album?.images?.[0]?.url||t.image,preview_url:t.preview_url,album:t.album?.name||"Unknown Album"}).subscribe({next:()=>{alert("\xa1Tu voto ha sido registrado!"),this.query="",this.results=[],this.searchPerformed=!1,this.voteCasted.emit()},error:i=>{409===i.status?alert("Ya has votado por esta canci\xf3n."):alert("Error al registrar tu voto. Intenta nuevamente.")}})}formatDuration(t){const r=Math.floor(t/6e4),i=(t%6e4/1e3).toFixed(0);return`${r}:${parseInt(i)<10?"0":""}${i}`}static \u0275fac=function(r){return new(r||n)(j(xB),j(bu))};static \u0275cmp=gr({type:n,selectors:[["app-search"]],outputs:{voteCasted:"voteCasted"},standalone:!0,features:[br],decls:13,vars:5,consts:[[1,"card","mb-4"],[1,"card-header"],[1,"mb-0"],[1,"fas","fa-search","me-2"],[1,"card-body"],[1,"input-group","mb-3"],["type","text","placeholder","Nombre de canci\xf3n o artista...",1,"form-control",3,"ngModel","ngModelChange","keyup.enter"],[1,"btn","btn-primary",3,"disabled","click"],["class","fas fa-search me-1",4,"ngIf"],["class","fas fa-spinner fa-spin me-1",4,"ngIf"],[4,"ngIf"],[1,"fas","fa-search","me-1"],[1,"fas","fa-spinner","fa-spin","me-1"],["class","alert alert-info",4,"ngIf"],[1,"results-container"],["class","card mb-2 track-card",4,"ngFor","ngForOf"],[1,"alert","alert-info"],[1,"card","mb-2","track-card"],[1,"card-body","py-2"],[1,"row","align-items-center"],[1,"col-3","col-sm-2"],[1,"img-fluid","rounded",3,"src","alt"],[1,"col-5","col-sm-6"],[1,"mb-1","text-truncate"],[1,"text-muted","mb-1","small","text-truncate"],[1,"text-muted","mb-0","small"],[1,"col-4","col-sm-4","text-end"],[1,"btn","btn-success","btn-sm",3,"click"],[1,"fas","fa-thumbs-up","me-1"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"h5",2),L(3,"i",3),P(4,"Buscar canciones en Spotify "),b()(),_(5,"div",4)(6,"div",5)(7,"input",6),Q("ngModelChange",function(s){return i.query=s})("keyup.enter",function(){return i.search()}),b(),_(8,"button",7),Q("click",function(){return i.search()}),ee(9,gfe,1,0,"i",8),ee(10,mfe,1,0,"i",9),P(11," Buscar "),b()(),ee(12,vfe,4,2,"div",10),b()()),2&r&&(T(7),H("ngModel",i.query),T(1),H("disabled",i.isLoading),T(1),H("ngIf",!i.isLoading),T(1),H("ngIf",i.isLoading),T(2),H("ngIf",i.searchPerformed))},dependencies:[ki,gs,ti,qm,Xs,ah,vu],styles:[".track-card[_ngcontent-%COMP%]{transition:transform .2s,background-color .2s}.track-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);background-color:#282828}.results-container[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}@media (max-width: 576px){.track-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:.75rem}.track-card[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.9rem}.track-card[_ngcontent-%COMP%]   .btn-sm[_ngcontent-%COMP%]{padding:.2rem .5rem;font-size:.8rem}}.text-truncate[_ngcontent-%COMP%]{color:#fff;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"]})}return n})();function Cfe(n,e){1&n&&(_(0,"span"),P(1,"Actualizar"),b())}function Ife(n,e){1&n&&(_(0,"span"),P(1,"Actualizando..."),b())}function Efe(n,e){if(1&n&&(_(0,"span"),P(1),b()),2&n){const t=W();T(1),Oe("Espera ",t.countdown,"s")}}function wfe(n,e){1&n&&(_(0,"div",7),L(1,"div",8),_(2,"p"),P(3,"Cargando canciones..."),b()())}function Tfe(n,e){if(1&n){const t=ze();_(0,"div",17)(1,"div",18),L(2,"img",19),b(),_(3,"div",20)(4,"div",21)(5,"h6",22),P(6),b(),_(7,"p",23),P(8),b()(),_(9,"div",24)(10,"span",25),L(11,"i",26),P(12),b()(),_(13,"div")(14,"button",27),Q("click",function(){const o=ae(t).$implicit;return ce(W(3).vote(o,!1))}),L(15,"i",28),P(16),b(),_(17,"button",29),Q("click",function(){const o=ae(t).$implicit;return ce(W(3).vote(o,!0))}),L(18,"i",30),P(19),b()()()()}if(2&n){const t=e.$implicit,r=W(3);T(2),H("src",t.image,ir)("alt",t.name),T(4),fe(t.name),T(2),fe(t.artists.join(", ")),T(4),Oe("",r.formatTimeAgo(t.createdat)," "),T(2),Pe("active",r.hasUserLiked(t.id)),T(2),Oe("",t.votes||0," "),T(1),Pe("active",r.hasUserDisliked(t.id)),T(2),Oe("",t.dislikes||0," ")}}function Pfe(n,e){if(1&n&&(_(0,"div",14)(1,"h2"),P(2,"Reci\xe9n Agregadas"),b(),_(3,"div",15),ee(4,Tfe,20,11,"div",16),b()()),2&n){const t=W(2);T(4),H("ngForOf",t.recentlyAddedSongs)}}function Afe(n,e){if(1&n){const t=ze();_(0,"tr")(1,"td"),P(2),b(),_(3,"td")(4,"div",31),L(5,"img",32),_(6,"span"),P(7),b()()(),_(8,"td"),P(9),b(),_(10,"td")(11,"span",33),L(12,"i",28),P(13),b(),_(14,"span",34),L(15,"i",30),P(16),b()(),_(17,"td")(18,"span",35),P(19),b()(),_(20,"td")(21,"div",36)(22,"button",27),Q("click",function(){const o=ae(t).$implicit;return ce(W(2).vote(o,!1))}),L(23,"i",28),b(),_(24,"button",29),Q("click",function(){const o=ae(t).$implicit;return ce(W(2).vote(o,!0))}),L(25,"i",30),b()()()()}if(2&n){const t=e.$implicit,r=e.index,i=W(2);T(2),fe(r+1),T(3),H("src",t.image,ir)("alt",t.name),T(2),fe(t.name),T(2),fe(t.artists.join(", ")),T(4),Oe(" ",t.votes||0," "),T(3),Oe(" ",t.dislikes||0," "),T(3),fe(i.formatTimeAgo(t.createdat)),T(3),Pe("active",i.hasUserLiked(t.id)),T(2),Pe("active",i.hasUserDisliked(t.id))}}function Dfe(n,e){if(1&n&&(_(0,"div",9),ee(1,Pfe,5,1,"div",10),_(2,"h2"),P(3,"Ranking General"),b(),_(4,"div",11)(5,"table",12)(6,"thead")(7,"tr")(8,"th"),P(9,"#"),b(),_(10,"th"),P(11,"T\xedtulo"),b(),_(12,"th"),P(13,"Artista"),b(),_(14,"th"),P(15,"Votos"),b(),_(16,"th"),P(17,"Agregada"),b(),_(18,"th"),P(19,"Acci\xf3n"),b()()(),_(20,"tbody"),ee(21,Afe,26,12,"tr",13),b()()()()),2&n){const t=W();T(1),H("ngIf",t.recentlyAddedSongs.length>0),T(20),H("ngForOf",t.songs)}}let Sfe=(()=>{class n{votingService;songs=[];recentlyAddedSongs=[];isLoading=!0;isRefreshing=!1;userVotes=new Map;pollingSubscription=null;refreshCooldown=30;countdown=0;timerSubscription=null;constructor(t){this.votingService=t}ngOnInit(){this.startPolling()}ngOnDestroy(){this.pollingSubscription&&this.pollingSubscription.unsubscribe(),this.timerSubscription&&this.timerSubscription.unsubscribe()}startPolling(){this.pollingSubscription=this.votingService.getRankedSongsPolling().subscribe({next:t=>{this.songs=t,this.votingService.getRecentlyAddedSongs().subscribe({next:r=>{this.recentlyAddedSongs=r}}),this.isLoading=!1},error:t=>{console.error("Error al cargar canciones:",t),this.isLoading=!1}})}forceRefresh(){this.isRefreshing||this.countdown>0||(this.isRefreshing=!0,this.votingService.forceRefresh().subscribe({next:t=>{this.songs=t,this.votingService.getRecentlyAddedSongs().subscribe({next:r=>{this.recentlyAddedSongs=r,this.isRefreshing=!1,this.startCooldown()}})},error:t=>{console.error("Error al forzar actualizaci\xf3n:",t),this.isRefreshing=!1,this.startCooldown()}}))}hasUserLiked(t){return this.userVotes.has(t)&&!1===this.userVotes.get(t)}hasUserDisliked(t){return this.userVotes.has(t)&&!0===this.userVotes.get(t)}formatTimeAgo(t){try{if(!t)return"reciente";let r;if("string"!=typeof t)return"Reciente";if(r=t.includes("Z")||t.includes("+")?new Date(t):new Date(t+"Z"),isNaN(r.getTime()))return console.warn("Fecha inv\xe1lida:",t),"Reciente";const o=Math.floor(((new Date).getTime()-r.getTime())/1e3),s=Math.floor(o/60),a=Math.floor(o/3600),c=Math.floor(o/86400);return o<60?`${o} s`:s<60?`Hace ${s} min ${o%60} s`:a<24?`Hace ${a} h ${s%60} min`:1===c?"Ayer":`Hace ${c} d`}catch(r){return console.error("Error formateando fecha:",r,"Fecha recibida:",t),"Reciente"}}startCooldown(){this.timerSubscription&&this.timerSubscription.unsubscribe(),this.countdown=this.refreshCooldown,this.timerSubscription=OB(0,1e3).subscribe(()=>{this.countdown>0?this.countdown--:this.timerSubscription&&(this.timerSubscription.unsubscribe(),this.timerSubscription=null)})}vote(t,r=!1){const i={name:t.name,artists:t.artists,image:t.image,album:t.album,preview_url:t.preview_url};this.votingService.voteForSong(t.id,i,r).subscribe({next:o=>{o.deleted?alert("La canci\xf3n ha sido eliminada por recibir muchos dislikes"):(alert(`\xa1Tu ${r?"dislike":"like"} ha sido registrado!`),this.userVotes.set(t.id,r)),this.forceRefresh()},error:o=>{409===o.status?confirm("Ya has votado por esta canci\xf3n. \xbfQuieres cambiar tu voto?")&&this.votingService.changeVote(t.id,i,r).subscribe({next:s=>{s.deleted?alert("La canci\xf3n ha sido eliminada por recibir muchos dislikes"):(alert("\xa1Tu voto ha sido cambiado!"),this.userVotes.set(t.id,r)),this.forceRefresh()},error:s=>{alert("Error al cambiar tu voto. Intenta nuevamente.")}}):alert("Error al registrar tu voto. Intenta nuevamente.")}})}static \u0275fac=function(r){return new(r||n)(j(bu))};static \u0275cmp=gr({type:n,selectors:[["app-voting-list"]],standalone:!0,features:[br],decls:11,vars:8,consts:[[1,"spotify-container"],[1,"header"],[1,"btn-refresh",3,"disabled","click"],[1,"fas","fa-sync-alt"],[4,"ngIf"],["class","loader",4,"ngIf"],["class","content",4,"ngIf"],[1,"loader"],[1,"spinner"],[1,"content"],["class","recently-added",4,"ngIf"],[1,"song-table-container"],[1,"song-table"],[4,"ngFor","ngForOf"],[1,"recently-added"],[1,"recent-songs-grid"],["class","recent-song-card",4,"ngFor","ngForOf"],[1,"recent-song-card"],[1,"recent-song-image-container"],[1,"recent-song-image",3,"src","alt"],[1,"recent-song-content"],[1,"recent-song-info"],[1,"recent-song-title"],[1,"recent-song-artist"],[1,"recent-song-meta"],[1,"badge","bg-secondary"],[1,"fas","fa-clock","me-1"],[1,"btn-vote","like-btn",3,"click"],[1,"fas","fa-thumbs-up"],[1,"btn-vote","dislike-btn",3,"click"],[1,"fas","fa-thumbs-down"],[1,"song-cell"],[3,"src","alt"],[1,"vote-count"],[1,"dislike-count"],[1,"time-ago"],[1,"vote-actions"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"h1"),P(3,"Votaci\xf3n de Canciones"),b(),_(4,"button",2),Q("click",function(){return i.forceRefresh()}),L(5,"i",3),ee(6,Cfe,2,0,"span",4),ee(7,Ife,2,0,"span",4),ee(8,Efe,2,1,"span",4),b()(),ee(9,wfe,4,0,"div",5),ee(10,Dfe,22,2,"div",6),b()),2&r&&(T(4),H("disabled",i.isRefreshing||i.countdown>0),T(1),Pe("fa-spin",i.isRefreshing),T(1),H("ngIf",!i.isRefreshing&&0===i.countdown),T(1),H("ngIf",i.isRefreshing),T(1),H("ngIf",!i.isRefreshing&&i.countdown>0),T(1),H("ngIf",i.isLoading),T(1),H("ngIf",!i.isLoading))},dependencies:[ki,gs,ti],styles:['.spotify-container[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border:1px solid rgba(255,255,255,.1);border-radius:16px;padding:2rem;color:var(--text-primary);box-shadow:0 10px 30px #0003;margin-bottom:2rem}.spotify-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding-bottom:1rem;border-bottom:1px solid rgba(255,255,255,.1)}.spotify-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:800;background:linear-gradient(135deg,var(--text-primary) 0%,var(--primary-color) 100%);-webkit-text-fill-color:transparent;-webkit-background-clip:text;background-clip:text;margin:0}.btn-refresh[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color) 0%,#1aa34a 100%);color:var(--text-primary);border:none;padding:.8rem 1.5rem;border-radius:50px;cursor:pointer;font-weight:700;transition:all .3s ease;display:flex;align-items:center;gap:.5rem;box-shadow:0 5px 15px #1db9544d}.btn-refresh[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 8px 20px #1db95466}.btn-refresh[_ngcontent-%COMP%]:disabled{opacity:.7;transform:none;box-shadow:none;cursor:not-allowed}.loader[_ngcontent-%COMP%]{text-align:center;padding:3rem}.loader[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{border:4px solid rgba(255,255,255,.2);border-left-color:var(--primary-color);border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem;box-shadow:0 0 15px #1db9544d}.loader[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:1rem}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin-bottom:1.5rem;padding-bottom:.8rem;border-bottom:2px solid rgba(255,255,255,.1);color:var(--text-primary)}.recently-added[_ngcontent-%COMP%]{margin-bottom:3rem}.recently-added[_ngcontent-%COMP%]   .song-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.8rem}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]{display:flex;align-items:center;background:rgba(42,42,42,.5);padding:1rem;border-radius:12px;transition:all .3s ease;border:1px solid rgba(255,255,255,.05)}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]:hover{background:rgba(42,42,42,.7);transform:translateY(-3px);border-color:#1db95433;box-shadow:0 8px 25px #0003}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:8px;margin-right:1rem;box-shadow:0 4px 15px #0000004d;transition:all .3s ease}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]{flex-grow:1;min-width:0}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;margin:0;color:var(--text-primary)}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary);margin:.3rem 0 0}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]   .song-actions[_ngcontent-%COMP%]{margin-left:1rem}.song-table-container[_ngcontent-%COMP%]{overflow-x:auto;border-radius:12px;background:rgba(42,42,42,.3);padding:1rem}.song-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.song-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .song-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;text-align:left;border-bottom:1px solid rgba(255,255,255,.1)}.song-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.9rem;text-transform:uppercase;font-weight:600;letter-spacing:.5px}.song-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:all .3s ease}.song-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.05)}.song-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.song-cell[_ngcontent-%COMP%]{display:flex;align-items:center}.song-cell[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:8px;margin-right:1rem;box-shadow:0 4px 15px #0000004d}.vote-count[_ngcontent-%COMP%]{display:flex;align-items:center;font-weight:700;color:var(--text-primary)}.vote-count[_ngcontent-%COMP%]   .fa-thumbs-up[_ngcontent-%COMP%]{color:var(--primary-color);margin-right:.5rem;font-size:1.1rem}.btn-vote[_ngcontent-%COMP%]{background:transparent;color:var(--primary-color);border:2px solid var(--primary-color);padding:.5rem 1.2rem;border-radius:50px;cursor:pointer;transition:all .3s ease;font-weight:700}.btn-vote[_ngcontent-%COMP%]:hover{background:var(--primary-color);color:var(--text-primary);transform:translateY(-2px);box-shadow:0 5px 15px #1db9544d}.btn-vote-small[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color) 0%,#1aa34a 100%);color:var(--text-primary);border:none;padding:.6rem 1.2rem;border-radius:50px;cursor:pointer;font-weight:700;transition:all .3s ease;box-shadow:0 4px 12px #1db9544d}.btn-vote-small[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 16px #1db95466}@media (max-width: 768px){.spotify-container[_ngcontent-%COMP%]{padding:1.5rem}.header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.song-table[_ngcontent-%COMP%]{font-size:.9rem}.song-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .song-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.8rem}.song-cell[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.song-cell[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:0;margin-bottom:.5rem}}.recently-added[_ngcontent-%COMP%]{margin-bottom:2rem}.recently-added[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;margin-bottom:1rem;padding-bottom:.5rem;border-bottom:2px solid rgba(255,255,255,.1);color:var(--text-primary)}.recent-songs-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1rem;margin-bottom:1.5rem}.recent-song-card[_ngcontent-%COMP%]{background:rgba(42,42,42,.5);border-radius:10px;padding:.8rem;display:flex;align-items:center;transition:all .3s ease;border:1px solid rgba(255,255,255,.05);position:relative;overflow:hidden;gap:.8rem;min-height:80px}.recent-song-card[_ngcontent-%COMP%]:hover{background:rgba(42,42,42,.7);transform:translateY(-3px);border-color:#1db95433;box-shadow:0 5px 15px #0003}.recent-song-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:3px;height:100%;background:linear-gradient(to bottom,var(--primary-color),var(--accent-purple))}.recent-song-image-container[_ngcontent-%COMP%]{flex-shrink:0;width:50px;height:50px;border-radius:6px;overflow:hidden;position:relative}.recent-song-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .3s ease}.recent-song-card[_ngcontent-%COMP%]:hover   .recent-song-image[_ngcontent-%COMP%]{transform:scale(1.1)}.recent-song-content[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;gap:.4rem;min-width:0}.recent-song-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{display:flex;gap:.5rem;margin-top:.3rem}.recent-song-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child   .btn-vote[_ngcontent-%COMP%]{padding:.25rem .6rem;font-size:.75rem;border-radius:4px;min-width:auto}.recent-song-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child   .btn-vote[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.7rem;margin-right:.3rem}.recent-song-info[_ngcontent-%COMP%]{min-width:0}.recent-song-title[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:var(--text-primary);margin:0;line-height:1.2;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}.recent-song-artist[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-secondary);margin:0;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}.recent-song-meta[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.recent-song-meta[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.3rem .6rem;border-radius:12px;font-size:.7rem;font-weight:600}.recent-song-meta[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.6rem}.dislike-btn[_ngcontent-%COMP%]{background:transparent;color:#f44336;border:2px solid #f44336}.dislike-btn[_ngcontent-%COMP%]:hover, .dislike-btn.active[_ngcontent-%COMP%]{background:#f44336;color:#fff}.like-btn[_ngcontent-%COMP%]{background:transparent;color:var(--primary-color);border:2px solid var(--primary-color)}.like-btn[_ngcontent-%COMP%]:hover, .like-btn.active[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff}.vote-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.vote-actions[_ngcontent-%COMP%]   .btn-vote[_ngcontent-%COMP%]{padding:.3rem .6rem;border-radius:4px;font-size:.8rem}.dislike-count[_ngcontent-%COMP%]{display:flex;align-items:center;font-weight:700;color:#f44336;margin-left:1rem}.dislike-count[_ngcontent-%COMP%]   .fa-thumbs-down[_ngcontent-%COMP%]{margin-right:.3rem;font-size:.9rem}.recent-song-actions[_ngcontent-%COMP%]{flex-shrink:0}.recent-song-actions[_ngcontent-%COMP%]   .btn-vote[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color) 0%,#1aa34a 100%);color:var(--text-primary);border:none;width:32px;height:32px;border-radius:50%;cursor:pointer;font-weight:600;transition:all .3s ease;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px #1db9544d}.recent-song-actions[_ngcontent-%COMP%]   .btn-vote[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 4px 12px #1db95466}.recent-song-actions[_ngcontent-%COMP%]   .btn-vote[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem}@media (max-width: 1024px){.recent-songs-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(250px,1fr))}}@media (max-width: 768px){.recent-songs-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:.8rem}.recent-song-card[_ngcontent-%COMP%]{padding:.7rem;gap:.6rem}.recent-song-image-container[_ngcontent-%COMP%]{width:45px;height:45px}.recent-song-title[_ngcontent-%COMP%]{font-size:.85rem}.recent-song-artist[_ngcontent-%COMP%]{font-size:.7rem}}@media (max-width: 480px){.recent-songs-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.recent-song-meta[_ngcontent-%COMP%]{flex-wrap:wrap;gap:.3rem}.recent-song-actions[_ngcontent-%COMP%]   .btn-vote[_ngcontent-%COMP%]{width:28px;height:28px}.recent-song-actions[_ngcontent-%COMP%]   .btn-vote[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.7rem}}']})}return n})();function Mfe(n,e){if(1&n){const t=ze();_(0,"button",6),Q("click",function(){return ae(t),ce(W().hideAnnouncement())}),_(1,"i"),P(2,"Cerrar"),b()()}}function xfe(n,e){if(1&n){const t=ze();_(0,"button",7),Q("click",function(){return ae(t),ce(W().nohideAnnouncement())}),_(1,"i"),P(2,"Abrir"),b()()}}function Ofe(n,e){1&n&&(_(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12),L(5,"i",13),b(),_(6,"div")(7,"p",14),P(8,"Desarrollado por "),_(9,"b",15),P(10,"Sebastian Vega"),b(),P(11,": "),b(),_(12,"div",16)(13,"a",17),L(14,"i",18),P(15,"GitHub "),b(),_(16,"a",19),L(17,"i",20),P(18,"LinkedIn "),b(),_(19,"a",21),L(20,"i",22),P(21,"Instagram "),b()()()()(),L(22,"div",10),P(23," UptcMusic.com 2025 - V2.5 "),_(24,"div",23)(25,"h4"),L(26,"i",24),P(27,"A nuestros queridos usuarios:"),b(),_(28,"p"),P(29,"-Una cancion es eliminada automaticamente al completar "),_(30,"strong"),P(31,"10 Dislikes "),b()(),_(32,"p"),P(33,"-Cancion que entre en reproducion se eliminara automaticamente del Ranking"),b(),_(34,"p"),P(35,"-Solo se puede votar una vez por cancion "),b(),_(36,"p"),P(37,"-Toda Cacion Reproducida va para Ranking Historico"),b(),_(38,"p"),P(39,"-Cancion con menos de 10 votos no se tiene en cuenta para ser reproducidas"),b(),_(40,"p"),P(41,"-Cada semana se eliminaran todas las canciones del Ranking "),b(),_(42,"p"),P(43,"-El administrador tiene la potestad de evaluar cada sugerencia y decidir si es apropiada para el momento o ambiente."),b(),_(44,"p")(45,"strong"),P(46,"Agradecemos enormemente su entusiasmo y participaci\xf3n. \xa1Sigan votando por su m\xfasica favorita!"),b()()()()())}let Rfe=(()=>{class n{isHidden=!1;hideAnnouncement(){this.isHidden=!0,localStorage.setItem("announcementHidden","true")}nohideAnnouncement(){this.isHidden=!1,localStorage.setItem("announcementHidden","true")}ngOnInit(){"true"===localStorage.getItem("announcementHidden")&&(this.isHidden=!0)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=gr({type:n,selectors:[["app-announcement"]],standalone:!0,features:[br],decls:8,vars:3,consts:[[1,"announcement-container","card"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"fas","fa-info-circle","me-2"],["class","btn-close","title","Abrir",3,"click",4,"ngIf"],["class","btn-close","title","Cerrar",3,"click",4,"ngIf"],["class","card-body",4,"ngIf"],["title","Abrir",1,"btn-close",3,"click"],["title","Cerrar",1,"btn-close",3,"click"],[1,"card-body"],[1,"announcement-content"],[1,"developer-info"],[1,"d-flex","align-items-start"],[1,"me-3","mt-1"],[1,"fas","fa-laptop-code","text-primary"],[1,"mb-1"],["href","https://www.instagram.com/sebastian.vegar/"],[1,"social-links"],["href","https://github.com/SebastianVega4","target","_blank"],[1,"fab","fa-github","me-1"],["href","https://www.linkedin.com/in/johan-sebastian-vega-ruiz-b1292011b/","target","_blank"],[1,"fab","fa-linkedin","me-1"],["href","https://www.instagram.com/sebastian.vegar/","target","_blank"],[1,"fab","fa-instagram","me-1"],[1,"alert","alert-info"],[1,"fas","fa-exclamation-triangle","me-2"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"div"),L(3,"i",2),P(4,"Informaci\xf3n Importante "),b(),ee(5,Mfe,3,0,"button",3),ee(6,xfe,3,0,"button",4),b(),ee(7,Ofe,47,0,"div",5),b()),2&r&&(T(5),H("ngIf",!i.isHidden),T(1),H("ngIf",i.isHidden),T(1),H("ngIf",!i.isHidden))},dependencies:[ki,ti],styles:['@charset "UTF-8";.announcement-container[_ngcontent-%COMP%]{margin-bottom:.5rem;border:1px solid rgba(255,255,255,.1);border-radius:16px;overflow:hidden;background:var(--glass-bg);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);box-shadow:0 10px 30px #0003;transition:all .3s ease}.announcement-container[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 15px 40px #1db95426;border-color:#1db95433}.announcement-container[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(29,185,84,.15) 0%,rgba(141,103,171,.15) 100%);color:var(--text-primary);font-weight:700;font-size:1.1rem;padding:1rem 1.5rem;border-bottom:1px solid rgba(255,255,255,.1);display:flex;align-items:center;justify-content:space-between}.announcement-container[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color)}.announcement-container[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-secondary);cursor:pointer;padding:.25rem;border-radius:50%;transition:all .2s ease;width:28px;height:28px;display:flex;align-items:center;justify-content:center}.announcement-container[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{color:var(--text-primary);background:rgba(255,255,255,.1);transform:rotate(90deg)}.announcement-container[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.announcement-container[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1.5rem}.announcement-container[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{border:none;border-radius:12px;padding:1.5rem;background:rgba(83,143,221,.1);border-left:4px solid rgba(83,143,221,.5)}.announcement-container[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:1rem;color:var(--text-primary);display:flex;align-items:center}.announcement-container[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#538fdd;margin-right:.5rem;font-size:1.2rem}.announcement-container[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.6;color:var(--text-secondary);margin-bottom:1rem}.announcement-container[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.announcement-container[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--text-primary);font-weight:600}.announcement-container[_ngcontent-%COMP%]   .developer-info[_ngcontent-%COMP%]{margin-top:1.5rem;padding-top:1.5rem;border-top:1px solid rgba(255,255,255,.1)}.announcement-container[_ngcontent-%COMP%]   .developer-info[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{align-items:flex-start}.announcement-container[_ngcontent-%COMP%]   .developer-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary);margin-bottom:.5rem}.announcement-container[_ngcontent-%COMP%]   .developer-info[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.95rem;color:var(--text-primary);margin-bottom:1rem;font-weight:600}.announcement-container[_ngcontent-%COMP%]   .developer-info[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{display:flex;gap:1.2rem}.announcement-container[_ngcontent-%COMP%]   .developer-info[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;transition:all .3s ease;font-size:.9rem;color:var(--text-secondary);display:flex;align-items:center}.announcement-container[_ngcontent-%COMP%]   .developer-info[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--primary-color);transform:translateY(-2px)}.announcement-container[_ngcontent-%COMP%]   .developer-info[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.4rem;font-size:1rem}.announcement-container[_ngcontent-%COMP%]:hover{border-color:var(--primary-color)}']})}return n})(),RB=(()=>{class n{http;authService;apiUrl=ro_apiUrl;constructor(t,r){this.http=t,this.authService=r}getSchedules(){return this.http.get(`${this.apiUrl}/api/schedules`)}updateSchedules(t){const r=this.authService.getAuthHeaders();return this.http.put(`${this.apiUrl}/api/schedules`,t,{headers:r})}static \u0275fac=function(r){return new(r||n)(oe(Vi),oe(ea))};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function kfe(n,e){if(1&n){const t=ze();_(0,"button",7),Q("click",function(){return ae(t),ce(W().hideAnnouncement())}),_(1,"i"),P(2,"Cerrar"),b()()}}function Nfe(n,e){if(1&n){const t=ze();_(0,"button",8),Q("click",function(){return ae(t),ce(W().nohideAnnouncement())}),_(1,"i"),P(2,"Abrir"),b()()}}function Vfe(n,e){1&n&&(_(0,"div",12),L(1,"div",13),_(2,"p"),P(3,"Cargando horarios..."),b()())}const Ffe=function(){return["Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes"]};function Lfe(n,e){if(1&n&&(_(0,"tr")(1,"td",17)(2,"strong"),P(3),b()(),_(4,"td",18)(5,"span",19),P(6),b()(),_(7,"td",20)(8,"span",19),P(9),b()(),_(10,"td",21)(11,"span",22),P(12),b()()()),2&n){const t=e.$implicit,r=W(3);T(3),fe(Il(14,Ffe)[t.day_of_week]),T(2),Pe("empty",!t.lunch_start&&!t.lunch_end),T(1),tc(" ",r.convertToAmPm(t.lunch_start)||"-"," - ",r.convertToAmPm(t.lunch_end)||"-"," "),T(2),Pe("empty",!t.dinner_start&&!t.dinner_end),T(1),tc(" ",r.convertToAmPm(t.dinner_start)||"-"," - ",r.convertToAmPm(t.dinner_end)||"-"," "),T(2),Pe("active",t.is_active)("inactive",!t.is_active),T(1),Oe(" ",t.is_active?"Activo":"Inactivo"," ")}}function Ufe(n,e){if(1&n&&(_(0,"div",14)(1,"table",15)(2,"thead")(3,"tr")(4,"th"),P(5,"D\xeda"),b(),_(6,"th"),P(7,"Almuerzo"),b(),_(8,"th"),P(9,"Cena"),b(),_(10,"th"),P(11,"Estado"),b()()(),_(12,"tbody"),ee(13,Lfe,13,15,"tr",16),b()()()),2&n){const t=W(2);T(13),H("ngForOf",t.schedules)}}function Bfe(n,e){if(1&n&&(_(0,"div",9),ee(1,Vfe,4,0,"div",10),ee(2,Ufe,14,1,"div",11),b()),2&n){const t=W();T(1),H("ngIf",t.isLoading),T(1),H("ngIf",!t.isLoading)}}let jfe=(()=>{class n{scheduleService;schedules=[];isLoading=!0;isHidden=!1;constructor(t){this.scheduleService=t}hideAnnouncement(){this.isHidden=!0,localStorage.setItem("announcementHidden","true")}nohideAnnouncement(){this.isHidden=!1,localStorage.setItem("announcementHidden","true")}ngOnInit(){this.loadSchedules(),"true"===localStorage.getItem("announcementHidden")&&(this.isHidden=!0)}loadSchedules(){this.scheduleService.getSchedules().subscribe({next:t=>{this.schedules=t,this.isLoading=!1},error:t=>{console.error("Error al cargar horarios:",t),this.isLoading=!1}})}convertToAmPm(t){if(!t)return"";const[r,i]=t.split(":"),o=parseInt(r,10);return`${o%12||12}:${i} ${o>=12?"PM":"AM"}`}static \u0275fac=function(r){return new(r||n)(j(RB))};static \u0275cmp=gr({type:n,selectors:[["app-schedule"]],standalone:!0,features:[br],decls:8,vars:3,consts:[[1,"card","schedule-card"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"fas","fa-clock","me-2"],["class","btn-close","title","Abrir",3,"click",4,"ngIf"],["class","btn-close","title","Cerrar",3,"click",4,"ngIf"],["class","card-body",4,"ngIf"],["title","Abrir",1,"btn-close",3,"click"],["title","Cerrar",1,"btn-close",3,"click"],[1,"card-body"],["class","loading-container",4,"ngIf"],["class","schedule-table-container",4,"ngIf"],[1,"loading-container"],[1,"spinner"],[1,"schedule-table-container"],[1,"schedule-table"],[4,"ngFor","ngForOf"],["data-label","D\xeda"],["data-label","Almuerzo"],[1,"time-slot"],["data-label","Cena"],["data-label","Estado"],[1,"status-badge"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1)(2,"h5",2),L(3,"i",3),P(4,"Horarios de M\xfasica"),b(),ee(5,kfe,3,0,"button",4),ee(6,Nfe,3,0,"button",5),b(),ee(7,Bfe,3,2,"div",6),b()),2&r&&(T(5),H("ngIf",!i.isHidden),T(1),H("ngIf",i.isHidden),T(1),H("ngIf",!i.isHidden))},dependencies:[ki,gs,ti],styles:[".schedule-card[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border:1px solid rgba(255,255,255,.1);border-radius:16px;overflow:hidden;margin-bottom:.5rem;box-shadow:0 8px 32px #0003}.schedule-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(29,185,84,.15) 0%,rgba(141,103,171,.15) 100%);border-bottom:1px solid rgba(255,255,255,.1);padding:1.2rem 1.5rem}.schedule-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;font-weight:700;color:var(--text-primary);display:flex;align-items:center;font-size:1.2rem}.schedule-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color);margin-right:.8rem;font-size:1.1rem}.schedule-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1.5rem}.schedule-table-container[_ngcontent-%COMP%]{overflow-x:auto;border-radius:12px}.schedule-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;color:var(--text-primary)}.schedule-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:rgba(29,185,84,.1);padding:.9rem 1rem;text-align:left;font-weight:600;font-size:.85rem;text-transform:uppercase;letter-spacing:.5px;color:var(--text-secondary);border-bottom:2px solid rgba(255,255,255,.1)}.schedule-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:8px}.schedule-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:8px}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:all .3s ease;border-bottom:1px solid rgba(255,255,255,.05)}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.03)}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:8px}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:8px}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;font-size:.95rem}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{font-weight:600;color:var(--text-primary)}.time-slot[_ngcontent-%COMP%]{display:inline-block;padding:.4rem .8rem;border-radius:6px;background:rgba(42,42,42,.4);font-size:.9rem}.time-slot.empty[_ngcontent-%COMP%]{color:var(--text-tertiary);font-style:italic}.status-badge[_ngcontent-%COMP%]{padding:.5rem .9rem;border-radius:50px;font-size:.8rem;font-weight:600;display:inline-flex;align-items:center;justify-content:center;min-width:80px}.status-badge.active[_ngcontent-%COMP%]{background:rgba(29,185,84,.2);color:var(--primary-color);border:1px solid rgba(29,185,84,.3)}.status-badge.inactive[_ngcontent-%COMP%]{background:rgba(255,255,255,.1);color:var(--text-secondary);border:1px solid rgba(255,255,255,.1)}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem}.loading-container[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid rgba(29,185,84,.2);border-radius:50%;border-top-color:var(--primary-color);animation:_ngcontent-%COMP%_spin 1s ease-in-out infinite;margin-bottom:1rem}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);margin:0}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@media (max-width: 768px){.schedule-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:1rem}.schedule-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.1rem}.schedule-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1rem}.schedule-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:none}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:block;margin-bottom:1rem;padding:1rem;border-radius:12px;background:rgba(42,42,42,.3);border:1px solid rgba(255,255,255,.1)}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{margin-bottom:0}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block;padding:.6rem 0;text-align:left;border:none;font-size:.9rem}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);font-weight:700;display:block;margin-bottom:.3rem;color:var(--text-secondary);font-size:.8rem;text-transform:uppercase}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-top:0;font-size:1rem;margin-bottom:.5rem;padding-bottom:.5rem;border-bottom:1px solid rgba(255,255,255,.1)}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child:before{display:none}.time-slot[_ngcontent-%COMP%]{padding:.3rem .6rem;font-size:.85rem}.status-badge[_ngcontent-%COMP%]{padding:.4rem .7rem;font-size:.75rem;min-width:70px}}@media (max-width: 480px){.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{padding:.8rem}}.btn-close[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-secondary);cursor:pointer;padding:.25rem;border-radius:50%;transition:all .2s ease;width:28px;height:28px;display:flex;align-items:center;justify-content:center}.btn-close[_ngcontent-%COMP%]:hover{color:var(--text-primary);background:rgba(255,255,255,.1);transform:rotate(90deg)}.btn-close[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}"]})}return n})(),KA=(()=>{class n{http;authService;apiUrl=ro_apiUrl;automaticCheckInterval=null;constructor(t,r){this.http=t,this.authService=r,this.startAutomaticPlayingSongCheck(5e3)}getCacheBustedUrl(t){return`${t}?_=${(new Date).getTime()}`}startAutomaticPlayingSongCheck(t=3e4){this.stopAutomaticPlayingSongCheck(),this.automaticCheckInterval=setInterval(()=>{this.checkAndRemovePlayingSongFromRanking().subscribe({next:r=>{r.deleted&&alert(`Canci\xf3n eliminada autom\xe1ticamente del ranking: ${r.song.name}`)},error:r=>{console.error("Error en verificaci\xf3n autom\xe1tica:",r)}})},t)}playTrack(t){const r=this.authService.getAuthHeaders();return this.http.post(`${this.apiUrl}/api/spotify/admin/play`,{uri:t},{headers:r})}pausePlayback(){const t=this.authService.getAuthHeaders();return this.http.put(`${this.apiUrl}/api/spotify/admin/pause`,{},{headers:t})}resumePlayback(){const t=this.authService.getAuthHeaders();return this.http.put(`${this.apiUrl}/api/spotify/admin/resume`,{},{headers:t})}nextTrack(){const t=this.authService.getAuthHeaders();return this.http.post(`${this.apiUrl}/api/spotify/admin/next`,{},{headers:t})}previousTrack(){const t=this.authService.getAuthHeaders();return this.http.post(`${this.apiUrl}/api/spotify/admin/previous`,{},{headers:t})}stopAutomaticPlayingSongCheck(){this.automaticCheckInterval&&(clearInterval(this.automaticCheckInterval),this.automaticCheckInterval=null)}getAdminCurrentlyPlaying(){const t=this.getCacheBustedUrl(`${this.apiUrl}/api/spotify/admin/currently-playing`);return this.http.get(t).pipe(Br(r=>401===r.status?this.refreshAdminToken().pipe(wn(()=>{const i=this.getCacheBustedUrl(`${this.apiUrl}/api/spotify/admin/currently-playing`);return this.http.get(i)}),Br(i=>(console.error("Error al refrescar token:",i),Eo(()=>i)))):Eo(()=>r)))}refreshAdminToken(){const t=this.authService.getAuthHeaders();return this.http.post(`${this.apiUrl}/api/spotify/admin/refresh-token`,{},{headers:t})}getAdminCurrentlyPlayingPolling(){return Wm(3e4).pipe(Op(0),wn(()=>this.getAdminCurrentlyPlaying()))}getAdminSpotifyStatus(){const t=this.getCacheBustedUrl(`${this.apiUrl}/api/spotify/admin/status`);return this.http.get(t)}startAdminSpotifyAuth(){const t=this.getCacheBustedUrl(`${this.apiUrl}/api/spotify/admin/auth`);return this.http.get(t)}disconnectAdminSpotify(){const t=this.authService.getAuthHeaders();return this.http.post(`${this.apiUrl}/api/spotify/admin/disconnect`,{},{headers:t})}startSpotifyAuth(){const t=this.getCacheBustedUrl(`${this.apiUrl}/api/spotify/auth`);return this.http.get(t)}getCurrentlyPlaying(){const t=this.getCacheBustedUrl(`${this.apiUrl}/api/spotify/currently-playing`);return this.http.get(t)}getCurrentlyPlayingPolling(){return Wm(3e3).pipe(Op(0),wn(()=>this.getCurrentlyPlaying()))}addToQueue(t){const r=this.authService.getAuthHeaders();return this.http.post(`${this.apiUrl}/api/spotify/admin/queue`,{uri:t},{headers:r})}checkAndRemovePlayingSongFromRanking(){const t=this.authService.getAuthHeaders();return this.http.post(`${this.apiUrl}/api/spotify/admin/check-playing-song`,{},{headers:t})}getQueue(){const t=this.authService.getAuthHeaders();return this.http.get(`${this.apiUrl}/api/spotify/admin/queue`,{headers:t})}addToHistory(){const t=this.authService.getAuthHeaders();return this.http.post(`${this.apiUrl}/api/spotify/admin/add-to-history`,{},{headers:t})}static \u0275fac=function(r){return new(r||n)(oe(Vi),oe(ea))};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $fe(n,e){1&n&&L(0,"div",21)}function Hfe(n,e){1&n&&L(0,"div",21)}function zfe(n,e){1&n&&L(0,"div",21)}function Gfe(n,e){if(1&n&&(_(0,"div",22),L(1,"i",23),_(2,"span"),P(3),b()()),2&n){const t=W(2);T(3),Oe("Votaste por: ",t.getVoteTypeName(t.lastVoteType),"")}}function qfe(n,e){if(1&n){const t=ze();_(0,"div",1)(1,"div",2),L(2,"div",3),b(),_(3,"div",4)(4,"div",5)(5,"div",6),L(6,"i",7),_(7,"span"),P(8),b()(),_(9,"button",8),Q("click",function(){return ae(t),ce(W().forceRefresh())}),L(10,"i",9),b()()(),_(11,"div",10)(12,"button",11),Q("click",function(){return ae(t),ce(W().vote("next"))}),_(13,"div",12),L(14,"i",13),_(15,"span"),P(16,"Siguiente"),b(),_(17,"div",14),P(18),b()(),ee(19,$fe,1,0,"div",15),b(),_(20,"button",16),Q("click",function(){return ae(t),ce(W().vote("genre_change"))}),_(21,"div",12),L(22,"i",17),_(23,"span"),P(24,"Cambiar g\xe9nero"),b(),_(25,"div",14),P(26),b()(),ee(27,Hfe,1,0,"div",15),b(),_(28,"button",18),Q("click",function(){return ae(t),ce(W().vote("repeat"))}),_(29,"div",12),L(30,"i",19),_(31,"span"),P(32,"Mismo g\xe9nero"),b(),_(33,"div",14),P(34),b()(),ee(35,zfe,1,0,"div",15),b()(),ee(36,Gfe,4,1,"div",20),b()}if(2&n){const t=W();T(1),Pe("visible",t.isLoading),T(7),Oe("",t.votingStatus.total_votes," votos"),T(4),Pe("voted",t.hasVoted("next")),H("disabled",t.hasVoted("next")||t.isLoading),T(5),Pe("updating",t.isUpdatingNext),T(1),Oe(" ",t.votingStatus.votes.next," "),T(1),H("ngIf",t.hasVoted("next")),T(1),Pe("voted",t.hasVoted("genre_change")),H("disabled",t.hasVoted("genre_change")||t.isLoading),T(5),Pe("updating",t.isUpdatingGenre),T(1),Oe(" ",t.votingStatus.votes.genre_change," "),T(1),H("ngIf",t.hasVoted("genre_change")),T(1),Pe("voted",t.hasVoted("repeat")),H("disabled",t.hasVoted("repeat")||t.isLoading),T(5),Pe("updating",t.isUpdatingRepeat),T(1),Oe(" ",t.votingStatus.votes.repeat," "),T(1),H("ngIf",t.hasVoted("repeat")),T(1),H("ngIf",t.lastVoteType)}}let Wfe=(()=>{class n{votingService;spotifyService;cdr;votingStatus=null;currentSong=null;userVotes=[];lastVoteType="";isLoading=!1;isUpdatingNext=!1;isUpdatingGenre=!1;isUpdatingRepeat=!1;votingSubscription;songSubscription;statusPollingSubscription;constructor(t,r,i){this.votingService=t,this.spotifyService=r,this.cdr=i}ngOnInit(){this.loadVotingStatus(),this.votingSubscription=Wm(3e3).subscribe(()=>{this.loadVotingStatus()}),this.songSubscription=this.spotifyService.getAdminCurrentlyPlayingPolling().subscribe(t=>{this.currentSong=t,t&&t.id!==this.votingStatus?.current_song_id&&(this.userVotes=[],this.lastVoteType="",this.loadVotingStatus())})}forceRefresh(){this.loadVotingStatus(),this.showNotification("Votaciones actualizadas","success")}ngOnDestroy(){this.votingSubscription&&this.votingSubscription.unsubscribe(),this.songSubscription&&this.songSubscription.unsubscribe(),this.statusPollingSubscription&&this.statusPollingSubscription.unsubscribe()}loadVotingStatus(){this.votingService.getVotingStatusImmediate().subscribe({next:t=>{this.votingStatus=t,t.current_song_id&&this.currentSong&&t.current_song_id!==this.currentSong.id&&(this.userVotes=[],this.lastVoteType="")},error:t=>{console.error("Error loading voting status:",t)}})}vote(t){this.hasVoted(t)?this.showNotification("Ya has votado por esta opci\xf3n","warning"):this.votingService.submitVote(t).subscribe({next:r=>{this.userVotes.push(t),this.lastVoteType=t,this.votingStatus=r.status,this.showNotification(`Voto registrado: ${this.getVoteTypeName(t)}`,"success"),this.loadVotingStatus(),this.cdr.detectChanges(),setTimeout(()=>{this.lastVoteType="",this.cdr.detectChanges()},3e3)},error:r=>{console.error("Error submitting vote:",r);let i="Error al votar";r.message.includes("Ya has votado por")&&(this.userVotes.push(t),i=r.message,this.loadVotingStatus()),this.showNotification(i,"warning"),this.cdr.detectChanges()}})}showNotification(t,r){const i=document.createElement("div");i.style.cssText="\n      position: fixed;\n      top: 20px;\n      right: 20px;\n      padding: 12px 20px;\n      border-radius: 8px;\n      color: white;\n      font-weight: 600;\n      z-index: 1000;\n      animation: slideIn 0.3s ease;\n    ",i.style.background="success"===r?"linear-gradient(135deg, #1ed760, #19a34a)":"error"===r?"linear-gradient(135deg, #ff4d4d, #cc0000)":"linear-gradient(135deg, #ff9a00, #e67e00)",i.textContent=t,document.body.appendChild(i),setTimeout(()=>{i.style.animation="slideOut 0.3s ease",setTimeout(()=>{document.body.contains(i)&&document.body.removeChild(i)},300)},3e3)}hasVoted(t){return this.userVotes.includes(t)}getVoteTypeName(t){return{next:"siguiente canci\xf3n",genre_change:"cambiar de g\xe9nero",repeat:"mantener g\xe9nero"}[t]||t}static \u0275fac=function(r){return new(r||n)(j(bu),j(KA),j(Dl))};static \u0275cmp=gr({type:n,selectors:[["app-voting"]],standalone:!0,features:[br],decls:1,vars:1,consts:[["class","voting-container",4,"ngIf"],[1,"voting-container"],[1,"loading-overlay"],[1,"spinner"],[1,"voting-header"],[1,"header-controls"],[1,"total-votes"],[1,"fas","fa-users"],["title","Actualizar votos",1,"refresh-btn",3,"click"],[1,"fas","fa-sync-alt"],[1,"voting-options"],[1,"vote-btn","next",3,"disabled","click"],[1,"btn-content"],[1,"fas","fa-forward"],[1,"vote-count"],["class","pulse-ring",4,"ngIf"],[1,"vote-btn","genre",3,"disabled","click"],[1,"fas","fa-random"],[1,"vote-btn","repeat",3,"disabled","click"],[1,"fas","fa-redo"],["class","voting-feedback",4,"ngIf"],[1,"pulse-ring"],[1,"voting-feedback"],[1,"fas","fa-check-circle"]],template:function(r,i){1&r&&ee(0,qfe,37,25,"div",0),2&r&&H("ngIf",i.votingStatus&&(null==i.currentSong?null:i.currentSong.is_playing))},dependencies:[ki,ti],styles:['.voting-container[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(30,215,96,.15),rgba(29,185,84,.1));-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border-radius:16px;padding:1rem;margin:1rem 0;border:1px solid rgba(30,215,96,.3);width:100%;max-width:100%;box-shadow:0 0 20px #1ed76040,inset 0 1px #ffffff1a;position:relative;overflow:hidden}.voting-container[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:2px;background:linear-gradient(90deg,transparent,rgba(30,215,96,.8),transparent);animation:_ngcontent-%COMP%_neonGlow 3s ease-in-out infinite}.voting-header[_ngcontent-%COMP%]{margin-bottom:1rem;text-align:center}.voting-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#1ed760;margin:0 0 .5rem;font-weight:700;font-size:1.1rem;text-shadow:0 0 10px rgba(30,215,96,.5);letter-spacing:.5px}.total-votes[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;color:#ffffffb3;font-size:.85rem}.total-votes[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#1ed760}.voting-options[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:.8rem;margin-bottom:1rem}.vote-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:.8rem .5rem;border:2px solid rgba(30,215,96,.3);border-radius:12px;background:rgba(25,20,20,.6);color:#fff;transition:all .3s ease;cursor:pointer;flex:1;min-width:0;min-height:80px;position:relative}.vote-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:rgba(30,215,96,.2);border-color:#1ed760;transform:translateY(-2px);box-shadow:0 5px 15px #1ed7604d}.vote-btn[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.vote-btn.voted[_ngcontent-%COMP%]{background:rgba(30,215,96,.25);border-color:#1ed760}.vote-btn.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .vote-btn.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .vote-btn.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   .vote-count[_ngcontent-%COMP%]{color:#1ed760;text-shadow:0 0 8px rgba(30,215,96,.6)}.vote-btn.next[_ngcontent-%COMP%]{border-color:#1ed76066}.vote-btn.next[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#1ed760}.vote-btn.genre[_ngcontent-%COMP%]{border-color:#569af766}.vote-btn.genre[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#569af7}.vote-btn.genre.voted[_ngcontent-%COMP%]{background:rgba(86,154,247,.25);border-color:#569af7}.vote-btn.genre.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .vote-btn.genre.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .vote-btn.genre.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   .vote-count[_ngcontent-%COMP%]{color:#569af7;text-shadow:0 0 8px rgba(86,154,247,.6)}.vote-btn.repeat[_ngcontent-%COMP%]{border-color:#ff9a0066}.vote-btn.repeat[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#ff9a00}.vote-btn.repeat.voted[_ngcontent-%COMP%]{background:rgba(255,154,0,.25);border-color:#ff9a00}.vote-btn.repeat.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .vote-btn.repeat.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .vote-btn.repeat.voted[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   .vote-count[_ngcontent-%COMP%]{color:#ff9a00;text-shadow:0 0 8px rgba(255,154,0,.6)}.btn-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:.4rem;z-index:2}.btn-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;transition:all .3s ease}.btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;font-size:.75rem;text-align:center;transition:all .3s ease}.btn-content[_ngcontent-%COMP%]   .vote-count[_ngcontent-%COMP%]{font-weight:700;font-size:1rem;color:#fff;transition:all .3s ease}.pulse-ring[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:60px;height:60px;border:2px solid #1ed760;border-radius:50%;animation:_ngcontent-%COMP%_pulse 2s infinite;opacity:.6}.voting-feedback[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;padding-top:.8rem;border-top:1px solid rgba(255,255,255,.1);color:#1ed760;font-weight:600;font-size:.9rem}.voting-feedback[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bounce .5s ease-in-out}@keyframes _ngcontent-%COMP%_neonGlow{0%,to{opacity:.5}50%{opacity:1}}@keyframes _ngcontent-%COMP%_pulse{0%{transform:translate(-50%,-50%) scale(.8);opacity:.6}50%{transform:translate(-50%,-50%) scale(1.1);opacity:.3}to{transform:translate(-50%,-50%) scale(.8);opacity:.6}}@keyframes _ngcontent-%COMP%_bounce{0%,20%,50%,80%,to{transform:translateY(0)}40%{transform:translateY(-5px)}60%{transform:translateY(-3px)}}@media (max-width: 768px){.voting-container[_ngcontent-%COMP%]{padding:.8rem;margin:.8rem 0}.voting-options[_ngcontent-%COMP%]{gap:.5rem}.vote-btn[_ngcontent-%COMP%]{padding:.6rem .4rem;min-height:70px}.vote-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.vote-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.7rem}.vote-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   .vote-count[_ngcontent-%COMP%]{font-size:.9rem}.voting-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1rem}}@media (max-width: 480px){.voting-options[_ngcontent-%COMP%]{flex-direction:column;gap:.6rem}.vote-btn[_ngcontent-%COMP%]{min-height:60px;flex-direction:row;justify-content:flex-start;padding:.8rem}.vote-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]{flex-direction:row;gap:.8rem;align-items:center}.vote-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:0}.vote-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.8rem;flex-grow:1;text-align:left}.vote-btn[_ngcontent-%COMP%]   .btn-content[_ngcontent-%COMP%]   .vote-count[_ngcontent-%COMP%]{font-size:1rem}}.voting-container[_ngcontent-%COMP%]{position:relative}.loading-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:rgba(0,0,0,.7);display:flex;align-items:center;justify-content:center;border-radius:16px;z-index:10;opacity:0;visibility:hidden;transition:all .3s ease}.loading-overlay.visible[_ngcontent-%COMP%]{opacity:1;visibility:visible}.loading-overlay[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:30px;height:30px;border:3px solid rgba(30,215,96,.3);border-top:3px solid #1ed760;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.vote-count[_ngcontent-%COMP%]{transition:all .3s ease}.vote-count.updating[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulseUpdate .5s ease;color:#1ed760}@keyframes _ngcontent-%COMP%_pulseUpdate{0%{transform:scale(1)}50%{transform:scale(1.2)}to{transform:scale(1)}}.header-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.refresh-btn[_ngcontent-%COMP%]{background:rgba(255,255,255,.1);border:none;border-radius:50%;width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease}.refresh-btn[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.2);transform:rotate(180deg)}.refresh-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff;font-size:14px}']})}return n})();function Kfe(n,e){if(1&n){const t=ze();_(0,"div",6)(1,"div",7),L(2,"img",8),b(),_(3,"div",9)(4,"div",10)(5,"h3",11),P(6),b(),_(7,"p",12),P(8),b()(),_(9,"div",13)(10,"span",14),P(11),b(),_(12,"div",15),L(13,"div",16),b(),_(14,"span",14),P(15),b()()(),_(16,"div",17)(17,"button",18),Q("click",function(){return ae(t),ce(W().forceUpdate())}),L(18,"i",19),b()()()}if(2&n){const t=W();T(2),Yf("alt","Car\xe1tula de ",t.adminCurrentlyPlaying.name,""),H("src",t.adminCurrentlyPlaying.image,ir),T(4),fe(t.adminCurrentlyPlaying.name),T(2),fe(t.adminCurrentlyPlaying.artists),T(3),fe(t.formatTime(t.progress*t.songDurationMs/100)),T(2),gl("width",t.progress,"%"),T(2),fe(t.formatTime(t.songDurationMs)),T(2),H("disabled",t.isUpdating),T(1),Pe("fa-spin",t.isUpdating)}}function Qfe(n,e){1&n&&L(0,"app-voting")}function Yfe(n,e){1&n&&(_(0,"div",20)(1,"div",21),L(2,"i",22),_(3,"p",23),P(4,"No hay m\xfasica sonando."),b()()())}let kB=(()=>{class n{spotifyService;votingService;adminCurrentlyPlaying=null;progress=0;songDurationMs=0;isUpdating=!1;pollingSubscription=null;progressInterval=null;songInitialProgressMs=0;lastSyncTime=0;constructor(t,r){this.spotifyService=t,this.votingService=r}ngOnInit(){this.startAdminSpotifyPolling()}ngOnDestroy(){this.pollingSubscription&&this.pollingSubscription.unsubscribe(),this.stopProgressBar()}startAdminSpotifyPolling(){this.pollingSubscription=this.spotifyService.getAdminCurrentlyPlayingPolling().subscribe({next:t=>{t&&t.is_playing?this.adminCurrentlyPlaying&&this.adminCurrentlyPlaying.id===t.id?this.syncProgressBar(t.progress_ms,t.duration_ms):(this.adminCurrentlyPlaying=t,this.startProgressBar(t.progress_ms,t.duration_ms),this.checkAndRemovePlayingSong()):(this.adminCurrentlyPlaying=null,this.stopProgressBar())},error:t=>{console.error("Error al obtener reproducci\xf3n actual del admin:",t),this.adminCurrentlyPlaying=null,this.stopProgressBar()}})}forceUpdate(){this.isUpdating||(this.isUpdating=!0,this.spotifyService.getAdminCurrentlyPlaying().subscribe({next:t=>{t&&t.is_playing?this.adminCurrentlyPlaying&&this.adminCurrentlyPlaying.id===t.id?this.syncProgressBar(t.progress_ms,t.duration_ms):(this.adminCurrentlyPlaying=t,this.startProgressBar(t.progress_ms,t.duration_ms)):(this.adminCurrentlyPlaying=null,this.stopProgressBar()),this.isUpdating=!1},error:t=>{console.error("Error al forzar la actualizaci\xf3n:",t),this.adminCurrentlyPlaying=null,this.stopProgressBar(),this.isUpdating=!1}}))}startProgressBar(t,r){this.stopProgressBar(),this.syncProgressBar(t,r),this.progressInterval=setInterval(()=>{this.updateProgress()},500)}syncProgressBar(t,r){this.songInitialProgressMs=t,this.songDurationMs=r,this.lastSyncTime=Date.now(),this.updateProgress()}updateProgress(){if(!this.adminCurrentlyPlaying||this.songDurationMs<=0)return void(this.progress=0);const t=Date.now()-this.lastSyncTime;this.progress=Math.min((this.songInitialProgressMs+t)/this.songDurationMs*100,100),this.progress>=100&&this.stopProgressBar()}stopProgressBar(){this.progressInterval&&(clearInterval(this.progressInterval),this.progressInterval=null)}onVoteCasted(){const t=document.querySelector("app-voting-list");t&&t.forceRefresh&&t.forceRefresh()}checkAndRemovePlayingSong(){this.adminCurrentlyPlaying&&this.adminCurrentlyPlaying.id&&setTimeout(()=>{this.spotifyService.checkAndRemovePlayingSongFromRanking().subscribe({next:t=>{t.deleted&&(console.log("Canci\xf3n eliminada del ranking:",t.song.name),this.votingService.forceRefresh().subscribe())},error:t=>{console.error("Error al verificar canci\xf3n en reproducci\xf3n:",t)}})},3e3)}formatTime(t){if(!t)return"0:00";const r=Math.floor(t/1e3),o=r%60;return`${Math.floor(r/60)}:${o<10?"0":""}${o}`}static \u0275fac=function(r){return new(r||n)(j(KA),j(bu))};static \u0275cmp=gr({type:n,selectors:[["app-home"]],standalone:!0,features:[br],decls:10,vars:3,consts:[[1,"home-container"],["class","now-playing-section compact-card fade-in",4,"ngIf","ngIfElse"],[1,"voting-section"],[4,"ngIf"],["noSongPlaying",""],[3,"voteCasted"],[1,"now-playing-section","compact-card","fade-in"],[1,"album-art-container"],[1,"album-art",3,"src","alt"],[1,"song-info-container"],[1,"song-details"],[1,"song-title"],[1,"song-artist"],[1,"progress-container"],[1,"time-display"],[1,"progress"],[1,"progress-bar"],[1,"update-button-container"],["title","Actualizar",1,"btn","btn-icon",3,"disabled","click"],[1,"fas","fa-sync-alt"],[1,"no-song-playing","compact-card","fade-in"],[1,"card-body"],[1,"fas","fa-music-slash","text-muted"],[1,"text-muted"]],template:function(r,i){if(1&r&&(_(0,"div",0),L(1,"app-announcement")(2,"app-schedule"),ee(3,Kfe,19,11,"div",1),_(4,"div",2),ee(5,Qfe,1,0,"app-voting",3),b(),ee(6,Yfe,5,0,"ng-template",null,4,ic),_(8,"app-search",5),Q("voteCasted",function(){return i.onVoteCasted()}),b(),L(9,"app-voting-list"),b()),2&r){const o=Za(7);T(3),H("ngIf",i.adminCurrentlyPlaying)("ngIfElse",o),T(2),H("ngIf",i.adminCurrentlyPlaying)}},dependencies:[ki,ti,bfe,Sfe,Rfe,jfe,Wfe],styles:['@charset "UTF-8";.home-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.compact-card[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:var(--card-bg);border:1px solid var(--hover-bg);border-radius:12px;overflow:hidden;padding:.2rem;gap:1rem;transition:border-color .3s ease}.compact-card[_ngcontent-%COMP%]:hover{border-color:var(--primary-color)}.album-art-container[_ngcontent-%COMP%]{flex-shrink:0}.album-art[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:8px;box-shadow:0 4px 15px #00000080}.song-info-container[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;justify-content:center;gap:.5rem;min-width:0}.song-details[_ngcontent-%COMP%]   .song-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:var(--text-primary);margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.song-details[_ngcontent-%COMP%]   .song-artist[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary);margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.update-button-container[_ngcontent-%COMP%]{flex-shrink:0;margin-left:auto}.btn-icon[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--text-secondary);font-size:1.2rem;cursor:pointer;padding:.5rem;border-radius:50%}.btn-icon[_ngcontent-%COMP%]:hover{color:var(--text-primary);background-color:var(--hover-bg)}.btn-icon[_ngcontent-%COMP%]:disabled{color:var(--text-tertiary);cursor:not-allowed}.progress-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;width:100%}.progress-container[_ngcontent-%COMP%]   .time-display[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-secondary);min-width:40px;text-align:center}.progress-container[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{flex-grow:1;height:6px;background-color:#444;border-radius:3px;overflow:hidden}.progress-container[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background-color:var(--primary-color);height:100%;transition:width .25s linear}.no-song-playing[_ngcontent-%COMP%]{justify-content:center}.no-song-playing[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.no-song-playing[_ngcontent-%COMP%]   .fa-music-slash[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--text-tertiary)}.no-song-playing[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-secondary);font-weight:500}@media (max-width: 768px){.compact-card[_ngcontent-%COMP%]{padding:.75rem;gap:.75rem}.album-art[_ngcontent-%COMP%]{width:60px;height:60px}.song-details[_ngcontent-%COMP%]   .song-title[_ngcontent-%COMP%]{font-size:1rem}.song-details[_ngcontent-%COMP%]   .song-artist[_ngcontent-%COMP%]{font-size:.8rem}.progress-container[_ngcontent-%COMP%]{max-width:100%}}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out;box-shadow:0 4px 15px #035f0b93}.fade-in[_ngcontent-%COMP%]:hover{box-shadow:0 8px 20px #00000080}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.voting-section[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;margin:1.5rem 0}']})}return n})();const Jfe=function(n,e,t,r,i,o){return{width:n,height:e,left:t,top:r,"animation-duration":i,"animation-delay":o}};function Xfe(n,e){if(1&n&&L(0,"div",8),2&n){const t=e.$implicit;H("ngStyle",vR(1,Jfe,t.width,t.height,t.left,t.top,t.animationDuration,t.animationDelay))}}function Zfe(n,e){if(1&n&&(_(0,"div",19),P(1),b()),2&n){const t=W(2);T(1),Oe(" ",t.errorMessage," ")}}function epe(n,e){1&n&&L(0,"i",20)}function tpe(n,e){if(1&n){const t=ze();_(0,"form",9),Q("ngSubmit",function(){return ae(t),ce(W().login())}),_(1,"div",10)(2,"input",11),Q("ngModelChange",function(i){return ae(t),ce(W().email=i)}),b(),_(3,"label",12),P(4,"Email"),b()(),_(5,"div",10)(6,"input",13),Q("ngModelChange",function(i){return ae(t),ce(W().password=i)}),b(),_(7,"label",14),P(8,"Contrase\xf1a"),b()(),ee(9,Zfe,2,1,"div",15),_(10,"button",16)(11,"span",17),P(12),b(),ee(13,epe,1,0,"i",18),b()()}if(2&n){const t=W();T(2),H("ngModel",t.email),T(4),H("ngModel",t.password),T(3),H("ngIf",t.errorMessage),T(1),H("disabled",t.isLoading),T(2),fe(t.isLoading?"Verificando...":"Ingresar"),T(1),H("ngIf",t.isLoading)}}function npe(n,e){1&n&&(_(0,"div",21)(1,"p"),P(2,"Sesi\xf3n iniciada. Redirigiendo al panel de administrador..."),b(),_(3,"a",22),P(4,"Ir al Panel"),b()())}let rpe=(()=>{class n{authService;router;email="";password="";errorMessage="";isLoading=!1;particles=[];constructor(t,r){this.authService=t,this.router=r}ngOnInit(){document.body.classList.add("login-page-active"),this.createParticles()}ngOnDestroy(){document.body.classList.remove("login-page-active")}createParticles(){for(let r=0;r<15;r++)this.particles.push(this.generateParticle())}generateParticle(){const t=20*Math.random()+20,r=90*Math.random()+15,i=7*Math.random();return{width:`${t}px`,height:`${t}px`,left:100*Math.random()+"%",animationDuration:`${r}s`,animationDelay:`${i}s`}}login(){this.email&&this.password?(this.isLoading=!0,this.errorMessage="",this.authService.login(this.email,this.password).subscribe({next:()=>{this.isLoading=!1,setTimeout(()=>{this.router.navigate(["/admin-panel"])},1500)},error:t=>{this.isLoading=!1,this.errorMessage=this.getFirebaseErrorMessage(t)}})):this.errorMessage="Por favor, completa ambos campos."}getFirebaseErrorMessage(t){switch(t.code){case"auth/invalid-email":return"El formato del correo electr\xf3nico no es v\xe1lido.";case"auth/user-disabled":return"Este usuario ha sido deshabilitado.";case"auth/user-not-found":case"auth/wrong-password":case"auth/invalid-credential":return"Correo electr\xf3nico o contrase\xf1a incorrectos.";case"auth/too-many-requests":return"Acceso bloqueado por demasiados intentos. Intenta de nuevo m\xe1s tarde.";default:return console.error("Error de login no manejado:",t),"Error al iniciar sesi\xf3n. Verifica tus credenciales e intenta de nuevo."}}static \u0275fac=function(r){return new(r||n)(j(ea),j(kn))};static \u0275cmp=gr({type:n,selectors:[["app-admin-login"]],standalone:!0,features:[br],decls:9,vars:3,consts:[[1,"admin-login-wrapper"],[1,"particles"],["class","particle",3,"ngStyle",4,"ngFor","ngForOf"],[1,"login-container"],[1,"glassmorphism-form"],[1,"form-title"],[3,"ngSubmit",4,"ngIf"],["class","logged-in-message",4,"ngIf"],[1,"particle",3,"ngStyle"],[3,"ngSubmit"],[1,"input-group"],["type","email","id","email","name","email","required","","placeholder"," ",1,"form-input",3,"ngModel","ngModelChange"],["for","email",1,"form-label"],["type","password","id","password","name","password","required","","placeholder"," ",1,"form-input",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["class","error-message",4,"ngIf"],["type","submit",1,"login-button",3,"disabled"],[1,"button-text"],["class","fas fa-spinner fa-spin",4,"ngIf"],[1,"error-message"],[1,"fas","fa-spinner","fa-spin"],[1,"logged-in-message"],["routerLink","/admin-panel",1,"admin-link"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1),ee(2,Xfe,1,8,"div",2),b(),_(3,"div",3)(4,"div",4)(5,"h2",5),P(6,"Acceso Administrador"),b(),ee(7,tpe,14,6,"form",6),ee(8,npe,5,0,"div",7),b()()()),2&r&&(T(2),H("ngForOf",i.particles),T(5),H("ngIf",!i.authService.isLoggedIn()),T(1),H("ngIf",i.authService.isLoggedIn()))},dependencies:[ki,gs,ti,rN,qm,dB,Xs,ah,X5,Gm,vu,zm,gC,Xl],styles:['@charset "UTF-8";[_nghost-%COMP%]{--login-bg: #0a0a0a;--glass-bg: rgba(18, 18, 18, .85);--primary-color: #1DB954;--text-primary: #FFFFFF;--text-secondary: #B3B3B3;--hover-bg: rgba(255, 255, 255, .05)}.admin-login-wrapper[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:var(--login-bg);position:relative;overflow:hidden;padding:2rem}.admin-login-wrapper[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at 10% 20%,rgba(29,185,84,.15) 0%,transparent 25%),radial-gradient(circle at 90% 80%,rgba(141,103,171,.15) 0%,transparent 25%),radial-gradient(circle at 50% 50%,rgba(29,185,84,.1) 0%,transparent 40%);z-index:0;pointer-events:none}.particles[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;pointer-events:none}.particle[_ngcontent-%COMP%]{position:absolute;background:rgba(29,185,84,.3);border-radius:50%;animation:_ngcontent-%COMP%_float 6s infinite ease-in-out}.particle[_ngcontent-%COMP%]:nth-child(odd){background:rgba(141,103,171,.3);animation-duration:8s;animation-delay:1s}.particle[_ngcontent-%COMP%]:nth-child(3n){background:rgba(45,70,185,.2);animation-duration:10s;animation-delay:2s}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0) translate(0);opacity:.7}25%{transform:translateY(-20px) translate(10px);opacity:.4}50%{transform:translateY(-35px) translate(-15px);opacity:.6}75%{transform:translateY(-15px) translate(-20px);opacity:.5}}.login-container[_ngcontent-%COMP%]{position:relative;z-index:2;width:100%;max-width:450px}.glassmorphism-form[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,.1);border-radius:20px;padding:2.5rem;box-shadow:0 15px 35px #00000080,0 0 0 1px #ffffff0d;transition:all .4s ease}.glassmorphism-form[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 20px 45px #1db95433,0 0 0 1px #1db9541a}.form-title[_ngcontent-%COMP%]{color:var(--text-primary);text-align:center;margin-bottom:2rem;font-weight:800;font-size:1.8rem;letter-spacing:-.5px;position:relative}.form-title[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;transform:translate(-50%);width:50px;height:3px;background:var(--primary-color);border-radius:2px}.input-group[_ngcontent-%COMP%]{position:relative;margin-bottom:1.8rem}.form-input[_ngcontent-%COMP%]{width:100%;background:rgba(42,42,42,.7);border:1px solid rgba(62,62,62,.5);color:var(--text-primary);border-radius:12px;padding:1rem 1.2rem;font-size:1rem;transition:all .3s ease}.form-input[_ngcontent-%COMP%]:focus{outline:none;background:rgba(42,42,42,.9);border-color:var(--primary-color);box-shadow:0 0 0 3px #1db95433}.form-input[_ngcontent-%COMP%]:focus + .form-label[_ngcontent-%COMP%], .form-input[_ngcontent-%COMP%]:not(:placeholder-shown) + .form-label[_ngcontent-%COMP%]{top:-12px;left:10px;font-size:.8rem;background:var(--glass-bg);padding:0 8px;color:var(--primary-color)}.form-label[_ngcontent-%COMP%]{position:absolute;top:1rem;left:1.2rem;color:var(--text-secondary);font-size:1rem;pointer-events:none;transition:all .3s ease}.error-message[_ngcontent-%COMP%]{background:rgba(226,33,52,.15);color:#e22134;border:1px solid rgba(226,33,52,.2);border-radius:8px;padding:.8rem;margin-bottom:1.5rem;font-size:.9rem;text-align:center}.login-button[_ngcontent-%COMP%]{width:100%;background:linear-gradient(135deg,var(--primary-color) 0%,#1aa34a 100%);color:var(--text-primary);border:none;border-radius:50px;padding:1rem;font-size:1.1rem;font-weight:700;cursor:pointer;transition:all .3s ease;position:relative;overflow:hidden;box-shadow:0 5px 15px #1db9544d}.login-button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:all .5s ease}.login-button[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 8px 20px #1db95466}.login-button[_ngcontent-%COMP%]:hover:before{left:100%}.login-button[_ngcontent-%COMP%]:disabled{opacity:.7;transform:none;box-shadow:none;cursor:not-allowed}.button-text[_ngcontent-%COMP%]{position:relative;z-index:1}.logged-in-message[_ngcontent-%COMP%]{text-align:center;color:var(--text-primary)}.logged-in-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1.5rem;font-size:1.1rem}.admin-link[_ngcontent-%COMP%]{display:inline-block;background:var(--primary-color);color:var(--text-primary);text-decoration:none;padding:.8rem 1.8rem;border-radius:50px;font-weight:700;transition:all .3s ease;box-shadow:0 4px 15px #1db9544d}.admin-link[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #1db95466}@media (max-width: 576px){.admin-login-wrapper[_ngcontent-%COMP%]{padding:1rem}.glassmorphism-form[_ngcontent-%COMP%]{padding:2rem 1.5rem}.form-title[_ngcontent-%COMP%]{font-size:1.5rem}}']})}return n})(),ipe=(()=>{class n{http;authService;apiUrl=ro_apiUrl;constructor(t,r){this.http=t,this.authService=r}getQueue(){const t=this.authService.getAuthHeaders();return this.http.get(`${this.apiUrl}/api/spotify/admin/queue`,{headers:t})}addToQueue(t){const r=this.authService.getAuthHeaders();return this.http.post(`${this.apiUrl}/api/spotify/admin/queue`,{uri:t},{headers:r}).pipe(Br(i=>{console.error("Error adding to queue:",i);let o="Error desconocido al agregar a la cola";throw i.error?.error?o=i.error.error:401===i.status?o="No autorizado - verifica la conexi\xf3n de Spotify":404===i.status&&(o="Dispositivo de Spotify no encontrado"),new Error(o)}))}static \u0275fac=function(r){return new(r||n)(oe(Vi),oe(ea))};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ope(n,e){if(1&n&&(_(0,"div",33),L(1,"i",34),P(2),b()),2&n){const t=W();T(2),Oe(" ",t.successMessage," ")}}function spe(n,e){if(1&n&&(_(0,"div",35),L(1,"i",36),P(2),b()),2&n){const t=W();T(2),Oe(" ",t.errorMessage," ")}}function ape(n,e){if(1&n&&(_(0,"div",37),L(1,"i",38),P(2),b()),2&n){const t=W();T(2),Oe(" ",t.actionInProgress," ")}}function cpe(n,e){if(1&n){const t=ze();_(0,"div",39),L(1,"div",40),_(2,"span",41),P(3),b(),_(4,"button",42),Q("click",function(){ae(t);const i=W();return ce(i.spotifyStatus.authenticated?i.disconnectSpotify():i.connectSpotify())}),P(5),b()()}if(2&n){const t=W();T(1),Pe("connected",t.spotifyStatus.authenticated&&t.spotifyStatus.token_valid)("disconnected",!t.spotifyStatus.authenticated||!t.spotifyStatus.token_valid),T(2),Oe(" ",t.spotifyStatus.authenticated&&t.spotifyStatus.token_valid?"Spotify Conectado":"Spotify Desconectado"," "),T(2),Oe(" ",t.spotifyStatus.authenticated?"Desconectar":"Conectar"," ")}}function upe(n,e){if(1&n){const t=ze();_(0,"div",43)(1,"div",44)(2,"div",45)(3,"div",46),L(4,"i",47),b(),_(5,"div",48)(6,"h3"),P(7),b(),_(8,"p"),P(9,"Canciones en ranking"),b()()(),_(10,"div",45)(11,"div",46),L(12,"i",49),b(),_(13,"div",48)(14,"h3"),P(15),b(),_(16,"p"),P(17,"Total de votos"),b()()(),_(18,"div",45)(19,"div",46),L(20,"i",50),b(),_(21,"div",48)(22,"h3"),P(23),b(),_(24,"p"),P(25,"Votantes \xfanicos"),b()()(),_(26,"div",45)(27,"div",46),L(28,"i",51),b(),_(29,"div",48)(30,"h3"),P(31),b(),_(32,"p"),P(33,"En cola"),b()()()(),_(34,"div",52)(35,"button",53),Q("click",function(){return ae(t),ce(W().loadSongs())}),L(36,"i",54),P(37,"Actualizar Ranking "),b(),_(38,"button",55),Q("click",function(){return ae(t),ce(W().toggleQueue())}),L(39,"i",56),P(40,"Ver Cola "),b(),_(41,"button",57),Q("click",function(){return ae(t),ce(W().getAdminCurrentlyPlaying())}),L(42,"i",58),P(43,"Actualizar Reproducci\xf3n "),b()()()}if(2&n){const t=W();T(7),fe(t.songs.length),T(8),fe(t.totalVotes),T(8),fe(t.uniqueVoters),T(8),fe(t.queue.length)}}function lpe(n,e){if(1&n){const t=ze();_(0,"div",64)(1,"div",65),L(2,"img",66),_(3,"div",67)(4,"h3"),P(5),b(),_(6,"p",68),P(7),b(),_(8,"div",69)(9,"div",70),L(10,"div",71),b(),_(11,"div",72)(12,"span"),P(13),b(),_(14,"span"),P(15),b()()()(),_(16,"div",73)(17,"button",74),Q("click",function(){return ae(t),ce(W(2).checkPlayingSong())}),L(18,"i",75),b(),_(19,"button",76),Q("click",function(){return ae(t),ce(W(2).addToHistory())}),L(20,"i",51),b()()(),_(21,"div",77)(22,"button",78),Q("click",function(){return ae(t),ce(W(2).previousTrack())}),L(23,"i",79),b(),_(24,"button",80),Q("click",function(){return ae(t),ce(W(2).togglePlayback())}),L(25,"i",31),b(),_(26,"button",78),Q("click",function(){return ae(t),ce(W(2).nextTrack())}),L(27,"i",81),b()()()}if(2&n){const t=W(2);T(2),H("src",t.adminCurrentlyPlaying.image,ir),T(3),fe(t.adminCurrentlyPlaying.name),T(2),fe(t.adminCurrentlyPlaying.artists.join(", ")),T(3),gl("width",t.adminCurrentlyPlaying.progress_ms/t.adminCurrentlyPlaying.duration_ms*100,"%"),T(3),fe(t.formatTime(t.adminCurrentlyPlaying.progress_ms)),T(2),fe(t.formatTime(t.adminCurrentlyPlaying.duration_ms)),T(10),Pe("fa-play",!t.isPlaying)("fa-pause",t.isPlaying)}}function dpe(n,e){if(1&n){const t=ze();_(0,"button",85),Q("click",function(){return ae(t),ce(W(3).connectSpotify())}),P(1," Conectar Spotify "),b()}}function hpe(n,e){if(1&n&&(_(0,"div",82),L(1,"i",83),_(2,"p"),P(3,"No se est\xe1 reproduciendo ninguna canci\xf3n"),b(),ee(4,dpe,2,0,"button",84),b()),2&n){const t=W(2);T(4),H("ngIf",!(null!=t.spotifyStatus&&t.spotifyStatus.authenticated))}}function fpe(n,e){if(1&n){const t=ze();_(0,"div",43)(1,"div",59)(2,"h2"),P(3,"Reproduciendo Ahora"),b(),_(4,"button",60),Q("click",function(){return ae(t),ce(W().getAdminCurrentlyPlaying())}),L(5,"i",61),b()(),ee(6,lpe,28,11,"div",62),ee(7,hpe,5,1,"ng-template",null,63,ic),b()}if(2&n){const t=Za(8),r=W();T(5),Pe("fa-spin",r.isLoadingCurrent),T(1),H("ngIf",r.adminCurrentlyPlaying)("ngIfElse",t)}}function ppe(n,e){if(1&n){const t=ze();_(0,"div",91)(1,"span",92),P(2),b(),L(3,"img",93),_(4,"div",94)(5,"h4"),P(6),b(),_(7,"p"),P(8),b()(),_(9,"div",95)(10,"button",96),Q("click",function(){const o=ae(t).$implicit;return ce(W(3).playTrack(o.uri))}),L(11,"i",97),b()()()}if(2&n){const t=e.$implicit,r=e.index;T(2),fe(r+1),T(1),H("src",(null==t.album||null==t.album.images[0]?null:t.album.images[0].url)||"assets/default-song.png",ir),T(3),fe(t.name),T(2),fe(null==t.artists[0]?null:t.artists[0].name)}}function gpe(n,e){if(1&n&&(_(0,"div",89),ee(1,ppe,12,4,"div",90),b()),2&n){const t=W(2);T(1),H("ngForOf",t.queue)}}function mpe(n,e){1&n&&(_(0,"div",82),L(1,"i",98),_(2,"p"),P(3,"No hay canciones en la cola de reproducci\xf3n"),b()())}function _pe(n,e){if(1&n){const t=ze();_(0,"div",43)(1,"div",59)(2,"h2"),P(3,"Cola de Reproducci\xf3n"),b(),_(4,"button",86),Q("click",function(){return ae(t),ce(W().loadQueue())}),L(5,"i",61),b()(),ee(6,gpe,2,1,"div",87),ee(7,mpe,4,0,"ng-template",null,88,ic),b()}if(2&n){const t=Za(8),r=W();T(4),H("disabled",r.isLoadingQueue),T(1),Pe("fa-spin",r.isLoadingQueue),T(1),H("ngIf",r.queue.length>0)("ngIfElse",t)}}function ype(n,e){if(1&n){const t=ze();_(0,"div",106)(1,"div",107),P(2),b(),L(3,"img",108),_(4,"div",109)(5,"h4"),P(6),b(),_(7,"p"),P(8),b(),_(9,"div",110)(10,"span",111),L(11,"i",49),P(12),b(),_(13,"span",112),L(14,"i",113),P(15),b(),_(16,"span",114),P(17),b()()(),_(18,"div",115)(19,"button",116),Q("click",function(){const o=ae(t).$implicit;return ce(W(3).adminVote(o,!1))}),L(20,"i",49),b(),_(21,"button",117),Q("click",function(){const o=ae(t).$implicit;return ce(W(3).adminVote(o,!0))}),L(22,"i",113),b(),_(23,"button",118),Q("click",function(){const o=ae(t).$implicit;return ce(W(3).addToQueueFromRanking(o.id))}),L(24,"i",119),b(),_(25,"button",120),Q("click",function(){const o=ae(t).$implicit;return ce(W(3).deleteSong(o.id))}),L(26,"i",121),b()()()}if(2&n){const t=e.$implicit,r=e.index,i=W(3);T(2),fe(r+1),T(1),H("src",t.image,ir),T(3),fe(t.name),T(2),fe(t.artists.join(", ")),T(4),Oe(" ",t.votes||0,""),T(3),Oe(" ",t.dislikes||0,""),T(2),fe(i.formatTimeAgo(t.createdat)),T(2),Pe("active",i.hasAdminLiked(t.id)),T(2),Pe("active",i.hasAdminDisliked(t.id))}}function vpe(n,e){if(1&n&&(_(0,"div",104),ee(1,ype,27,11,"div",105),b()),2&n){const t=W(2);T(1),H("ngForOf",t.songs)}}function bpe(n,e){1&n&&(_(0,"div",82),L(1,"i",122),_(2,"p"),P(3,"No hay canciones en el ranking"),b()())}function Cpe(n,e){if(1&n){const t=ze();_(0,"div",43)(1,"div",59)(2,"h2"),P(3,"Ranking de Canciones"),b(),_(4,"div",99)(5,"button",86),Q("click",function(){return ae(t),ce(W().loadSongs())}),L(6,"i",61),b(),_(7,"button",100),Q("click",function(){return ae(t),ce(W().deleteAllVotes())}),L(8,"i",101),P(9,"Eliminar Todos "),b()()(),ee(10,vpe,2,1,"div",102),ee(11,bpe,4,0,"ng-template",null,103,ic),b()}if(2&n){const t=Za(12),r=W();T(5),H("disabled",r.isLoading),T(1),Pe("fa-spin",r.isLoading),T(4),H("ngIf",r.songs.length>0)("ngIfElse",t)}}const NB=function(){return["Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes"]};function Ipe(n,e){if(1&n&&(_(0,"div",126)(1,"h4"),P(2),b(),_(3,"div",127)(4,"div",128)(5,"span",129),P(6,"Almuerzo:"),b(),_(7,"span",130),P(8),b()(),_(9,"div",128)(10,"span",129),P(11,"Cena:"),b(),_(12,"span",130),P(13),b()()(),_(14,"div",131)(15,"span",132),P(16),b()()()),2&n){const t=e.$implicit,r=W(3);T(2),fe(Il(10,NB)[t.day_of_week]),T(6),tc("",r.convertToAmPm(t.lunch_start)||"-"," - ",r.convertToAmPm(t.lunch_end)||"-",""),T(5),tc("",r.convertToAmPm(t.dinner_start)||"-"," - ",r.convertToAmPm(t.dinner_end)||"-",""),T(2),Pe("active",t.is_active)("inactive",!t.is_active),T(1),Oe(" ",t.is_active?"Activo":"Inactivo"," ")}}function Epe(n,e){if(1&n&&(_(0,"div"),ee(1,Ipe,17,11,"div",125),b()),2&n){const t=W(2);T(1),H("ngForOf",t.schedules)}}function wpe(n,e){if(1&n){const t=ze();_(0,"div",136)(1,"h4"),P(2),b(),_(3,"div",137)(4,"div",138)(5,"label"),P(6,"Almuerzo Inicio"),b(),_(7,"input",139),Q("ngModelChange",function(i){return ce(ae(t).$implicit.lunch_start=i)}),b()(),_(8,"div",138)(9,"label"),P(10,"Almuerzo Fin"),b(),_(11,"input",139),Q("ngModelChange",function(i){return ce(ae(t).$implicit.lunch_end=i)}),b()(),_(12,"div",138)(13,"label"),P(14,"Cena Inicio"),b(),_(15,"input",139),Q("ngModelChange",function(i){return ce(ae(t).$implicit.dinner_start=i)}),b()(),_(16,"div",138)(17,"label"),P(18,"Cena Fin"),b(),_(19,"input",139),Q("ngModelChange",function(i){return ce(ae(t).$implicit.dinner_end=i)}),b()(),_(20,"div",140)(21,"label"),P(22,"Activo"),b(),_(23,"label",141)(24,"input",142),Q("ngModelChange",function(i){return ce(ae(t).$implicit.is_active=i)}),b(),L(25,"span",143),b()()()()}if(2&n){const t=e.$implicit;T(2),fe(Il(6,NB)[t.day_of_week]),T(5),H("ngModel",t.lunch_start),T(4),H("ngModel",t.lunch_end),T(4),H("ngModel",t.dinner_start),T(4),H("ngModel",t.dinner_end),T(5),H("ngModel",t.is_active)}}function Tpe(n,e){if(1&n){const t=ze();_(0,"div"),ee(1,wpe,26,7,"div",133),_(2,"button",134),Q("click",function(){return ae(t),ce(W(2).saveSchedules())}),L(3,"i",135),P(4,"Guardar Horarios "),b()()}if(2&n){const t=W(2);T(1),H("ngForOf",t.schedules)}}function Ppe(n,e){if(1&n){const t=ze();_(0,"div",43)(1,"div",59)(2,"h2"),P(3,"Horarios de M\xfasica"),b(),_(4,"button",27),Q("click",function(){ae(t);const i=W();return ce(i.isEditingSchedules=!i.isEditingSchedules)}),P(5),b()(),_(6,"div",123),ee(7,Epe,2,1,"div",124),ee(8,Tpe,5,1,"div",124),b()()}if(2&n){const t=W();T(5),Oe(" ",t.isEditingSchedules?"Cancelar":"Editar"," "),T(2),H("ngIf",!t.isEditingSchedules),T(1),H("ngIf",t.isEditingSchedules)}}function Ape(n,e){if(1&n){const t=ze();_(0,"div",151),L(1,"img",152),_(2,"div",153)(3,"h4"),P(4),b(),_(5,"p"),P(6),b(),_(7,"span",154),P(8),b()(),_(9,"div",155)(10,"button",156),Q("click",function(){const o=ae(t).$implicit;return ce(W(3).voteFromSearch(o,!1))}),L(11,"i",49),b(),_(12,"button",157),Q("click",function(){const o=ae(t).$implicit;return ce(W(3).voteFromSearch(o,!0))}),L(13,"i",113),b(),_(14,"button",118),Q("click",function(){const o=ae(t).$implicit;return ce(W(3).addToQueueFromSearch(o.uri))}),L(15,"i",119),b(),_(16,"button",158),Q("click",function(){const o=ae(t).$implicit;return ce(W(3).playNowFromSearch(o.uri))}),L(17,"i",97),b()()()}if(2&n){const t=e.$implicit;T(1),H("src",t.image,ir),T(3),fe(t.name),T(2),fe(null==t.artists[0]?null:t.artists[0].name),T(2),fe(t.album.name)}}function Dpe(n,e){if(1&n&&(_(0,"div",149),ee(1,Ape,18,4,"div",150),b()),2&n){const t=W(2);T(1),H("ngForOf",t.searchResults)}}function Spe(n,e){if(1&n){const t=ze();_(0,"div",144)(1,"div",145)(2,"input",146),Q("ngModelChange",function(i){return ae(t),ce(W().searchQuery=i)})("keyup.enter",function(){return ae(t),ce(W().searchSpotify())}),b(),_(3,"button",147),Q("click",function(){return ae(t),ce(W().searchSpotify())}),L(4,"i",75),b()(),ee(5,Dpe,2,1,"div",148),b()}if(2&n){const t=W();T(2),H("ngModel",t.searchQuery),T(3),H("ngIf",t.searchResults.length>0)}}function Mpe(n,e){if(1&n){const t=ze();_(0,"div",164),L(1,"img",165),_(2,"div",166)(3,"h5"),P(4),b(),_(5,"p"),P(6),b(),_(7,"div",167)(8,"span",111),L(9,"i",49),P(10),b(),_(11,"span",112),L(12,"i",113),P(13),b()()(),_(14,"div",168)(15,"button",116),Q("click",function(){const o=ae(t).$implicit;return ce(W(3).adminVote(o,!1))}),L(16,"i",49),b(),_(17,"button",117),Q("click",function(){const o=ae(t).$implicit;return ce(W(3).adminVote(o,!0))}),L(18,"i",113),b(),_(19,"button",118),Q("click",function(){const o=ae(t).$implicit;return ce(W(3).addToQueueFromRecent(o))}),L(20,"i",119),b()()()}if(2&n){const t=e.$implicit,r=W(3);T(1),H("src",t.image,ir),T(3),fe(t.name),T(2),fe(t.artists.join(", ")),T(4),Oe(" ",t.votes||0,""),T(3),Oe(" ",t.dislikes||0,""),T(2),Pe("active",r.hasAdminLiked(t.id)),T(2),Pe("active",r.hasAdminDisliked(t.id))}}function xpe(n,e){if(1&n&&(_(0,"div",162),ee(1,Mpe,21,9,"div",163),b()),2&n){const t=W(2);T(1),H("ngForOf",t.recentlyAddedSongs)}}function Ope(n,e){1&n&&(_(0,"div",82),L(1,"i",169),_(2,"p"),P(3,"No hay canciones recientes"),b()())}function Rpe(n,e){if(1&n&&(_(0,"div",159),ee(1,xpe,2,1,"div",160),ee(2,Ope,4,0,"ng-template",null,161,ic),b()),2&n){const t=Za(3),r=W();T(1),H("ngIf",r.recentlyAddedSongs.length>0)("ngIfElse",t)}}let kpe=(()=>{class n{http;spotifyNowPlaying;votingService;spotifyService;scheduleService;authService;router;queueService;activeSection="dashboard";showSearch=!1;showRecentlyAdded=!0;isEditingSchedules=!1;songs=[];queue=[];recentlyAddedSongs=[];searchResults=[];schedules=[];spotifyStatus=null;adminCurrentlyPlaying=null;isLoading=!1;isLoadingQueue=!1;isLoadingCurrent=!1;isPlaying=!1;searchQuery="";adminVotes={};totalVotes=0;uniqueVoters=0;successMessage="";errorMessage="";actionInProgress="";refreshTimer;currentSongTimer;recentlyAddedTimer;apiUrl=ro_apiUrl;constructor(t,r,i,o,s,a,c,u){this.http=t,this.spotifyNowPlaying=r,this.votingService=i,this.spotifyService=o,this.scheduleService=s,this.authService=a,this.router=c,this.queueService=u}ngOnInit(){this.loadInitialData(),this.setupAutoRefresh(),this.calculateStats()}calculateStats(){this.totalVotes=this.songs.reduce((t,r)=>t+(r.votes||0),0),this.uniqueVoters=Math.floor(.7*this.totalVotes)}showMessage(t,r=!0,i=3e3){r?this.successMessage=t:this.errorMessage=t,setTimeout(()=>{r?this.successMessage="":this.errorMessage=""},i)}ngOnDestroy(){this.refreshTimer&&clearInterval(this.refreshTimer),this.currentSongTimer&&clearInterval(this.currentSongTimer),this.recentlyAddedTimer&&clearInterval(this.recentlyAddedTimer)}loadInitialData(){this.loadSongs(),this.loadQueue(),this.getSpotifyStatus(),this.getAdminCurrentlyPlaying(),this.loadSchedules()}setupAutoRefresh(){this.refreshTimer=setInterval(()=>{this.loadSongs(),this.loadQueue(),this.getSpotifyStatus()},3e4),this.currentSongTimer=setInterval(()=>{this.getAdminCurrentlyPlaying()},5e3),this.recentlyAddedTimer=setInterval(()=>{this.filterRecentlyAdded()},15e3)}setActiveSection(t){this.activeSection=t,"queue"===t?this.loadQueue():"playing"===t?this.getAdminCurrentlyPlaying():"ranking"===t?this.loadSongs():"schedules"===t&&this.loadSchedules()}toggleSearch(){this.showSearch=!this.showSearch,this.showSearch&&(this.activeSection="dashboard")}toggleRecentlyAdded(){this.showRecentlyAdded=!this.showRecentlyAdded}loadSongs(){this.isLoading=!0,this.votingService.forceRefresh().subscribe({next:t=>{this.songs=t,this.filterRecentlyAdded(),this.calculateVotingStats(),this.isLoading=!1,this.showMessage("Ranking actualizado correctamente")},error:t=>{console.error("Error loading songs:",t),this.isLoading=!1,this.showMessage("Error al cargar las canciones",!1)}})}calculateVotingStats(){this.totalVotes=this.songs.reduce((t,r)=>t+(r.votes||0),0),this.uniqueVoters=Math.floor(.7*this.totalVotes)}filterRecentlyAdded(){const t=new Date;t.setHours(t.getHours()-6),this.recentlyAddedSongs=this.songs.filter(r=>new Date(r.createdat)>t).sort((r,i)=>new Date(i.createdat).getTime()-new Date(r.createdat).getTime()).slice(0,15)}addToQueueFromRecent(t){this.addToQueueFromSearch(`spotify:track:${t.id}`)}loadQueue(){this.isLoadingQueue=!0,this.queueService.getQueue().subscribe({next:t=>{this.queue=t.queue||[],this.isLoadingQueue=!1},error:t=>{console.error("Error loading queue:",t),this.isLoadingQueue=!1,this.showMessage("Error al cargar la cola de reproducci\xf3n",!1)}})}getSpotifyStatus(){this.spotifyNowPlaying.getAdminSpotifyStatus().subscribe({next:t=>{this.spotifyStatus=t},error:t=>{console.error("Error getting Spotify status:",t)}})}getAdminCurrentlyPlaying(){this.isLoadingCurrent=!0,this.spotifyNowPlaying.getAdminCurrentlyPlaying().subscribe({next:t=>{t&&t.is_playing?(this.adminCurrentlyPlaying=t,this.isPlaying=t.is_playing):(this.adminCurrentlyPlaying=null,this.isPlaying=!1),this.isLoadingCurrent=!1},error:t=>{console.error("Error getting currently playing:",t),this.adminCurrentlyPlaying=null,this.isLoadingCurrent=!1}})}loadSchedules(){this.scheduleService.getSchedules().subscribe({next:t=>{this.schedules=t},error:t=>{console.error("Error loading schedules:",t)}})}saveSchedules(){this.scheduleService.updateSchedules(this.schedules).subscribe({next:()=>{this.isEditingSchedules=!1},error:t=>{console.error("Error saving schedules:",t)}})}connectSpotify(){this.spotifyNowPlaying.startAdminSpotifyAuth().subscribe({next:t=>{t.authUrl&&(window.location.href=t.authUrl)},error:t=>{console.error("Error connecting to Spotify:",t)}})}disconnectSpotify(){this.spotifyNowPlaying.disconnectAdminSpotify().subscribe({next:()=>{this.getSpotifyStatus()},error:t=>{console.error("Error disconnecting from Spotify:",t)}})}searchSpotify(){this.searchQuery.trim()&&(this.isLoading=!0,this.spotifyService.searchTracks(this.searchQuery).subscribe({next:t=>{this.searchResults=t.map(r=>({...r,image:r.image||r.album?.images?.[0]?.url||"assets/default-song.png",artists:Array.isArray(r.artists)?r.artists:"string"==typeof r.artists||r.artists?[r.artists]:["Artista desconocido"]})),this.isLoading=!1},error:t=>{console.error("Error searching Spotify:",t),this.showMessage("Error al buscar en Spotify",!1),this.isLoading=!1}}))}voteFromSearch(t,r){this.votingService.voteForSong(t.id,{id:t.id,name:t.name,artists:t.artists,image:t.image,preview_url:t.preview_url},r).subscribe({next:o=>{this.loadSongs(),alert(r?"Dislike registrado":"Like registrado")},error:o=>{console.error("Error voting from search:",o),alert("Error al votar. Intenta nuevamente.")}})}adminVote(t,r){this.adminVotes[t.id]=r,this.votingService.voteForSong(t.id,t,r).subscribe({next:i=>{this.loadSongs()},error:i=>{console.error("Error with admin vote:",i),delete this.adminVotes[t.id],alert("Error al votar. Intenta nuevamente.")}})}hasAdminLiked(t){return!1===this.adminVotes[t]}hasAdminDisliked(t){return!0===this.adminVotes[t]}addToQueue(t){this.queueService.addToQueue(t).subscribe({next:()=>{this.loadQueue(),this.showMessage("Canci\xf3n agregada a la cola correctamente")},error:r=>{console.error("Error adding to queue:",r),this.showMessage("Error al agregar a la cola",!1)}})}addToQueueFromSearch(t){this.actionInProgress="Agregando a la cola...",this.queueService.addToQueue(t).subscribe({next:r=>{this.loadQueue(),this.showMessage("Canci\xf3n agregada a la cola correctamente"),this.actionInProgress=""},error:r=>{console.error("Error adding to queue:",r),this.showMessage("Error al agregar a la cola: "+r.message,!1),this.actionInProgress=""}})}addToQueueFromRanking(t){confirm("\xbfAgregar esta canci\xf3n a la cola de reproducci\xf3n?")&&this.addToQueueFromSearch(`spotify:track:${t}`)}confirmAddToHistory(){var t=this;return I(function*(){try{const r=yield t.spotifyNowPlaying.addToHistory().toPromise();r.can_add?confirm(`\xbfEst\xe1s seguro de que quieres agregar "${r.song.name}" al hist\xf3rico?`)&&t.http.post(`${t.apiUrl}/api/spotify/admin/add-to-history-confirmed`,{}).subscribe({next:o=>{t.showMessage(o.message||"Canci\xf3n agregada al hist\xf3rico"),t.loadSongs()},error:o=>{t.showMessage("Error al agregar al hist\xf3rico: "+o.error?.error,!1)}}):t.showMessage(r.message,!1)}catch{t.showMessage("Error al verificar hist\xf3rico",!1)}})()}playNowFromSearch(t){this.actionInProgress="Reproduciendo...",this.spotifyNowPlaying.playTrack(t).subscribe({next:()=>{setTimeout(()=>{this.getAdminCurrentlyPlaying()},1e3),this.showMessage("Reproduciendo canci\xf3n"),this.actionInProgress=""},error:r=>{console.error("Error playing track:",r),this.showMessage("Error al reproducir: "+(r.error?.message||"Error desconocido"),!1),this.actionInProgress=""}})}playTrack(t){this.spotifyNowPlaying.playTrack(t).subscribe({next:()=>{setTimeout(()=>{this.getAdminCurrentlyPlaying()},1e3)},error:r=>{console.error("Error playing track:",r),alert("Error al reproducir la canci\xf3n: "+r.message)}})}nextTrack(){this.spotifyNowPlaying.nextTrack().subscribe({next:()=>{setTimeout(()=>{this.getAdminCurrentlyPlaying()},1e3)},error:t=>{console.error("Error skipping to next track:",t)}})}previousTrack(){this.spotifyNowPlaying.previousTrack().subscribe({next:()=>{setTimeout(()=>{this.getAdminCurrentlyPlaying()},1e3)},error:t=>{console.error("Error going to previous track:",t)}})}togglePlayback(){this.isPlaying?this.spotifyNowPlaying.pausePlayback().subscribe({next:()=>{this.isPlaying=!1},error:t=>{console.error("Error pausing playback:",t)}}):this.spotifyNowPlaying.resumePlayback().subscribe({next:()=>{this.isPlaying=!0},error:t=>{console.error("Error resuming playback:",t)}})}deleteSong(t){confirm("\xbfEst\xe1s seguro de que quieres eliminar esta canci\xf3n del ranking?")&&this.votingService.deleteSong(t).subscribe({next:()=>{this.loadSongs(),this.showMessage("Canci\xf3n eliminada correctamente")},error:r=>{console.error("Error deleting song:",r),this.showMessage("Error al eliminar la canci\xf3n",!1)}})}deleteAllVotes(){confirm("\xbfEst\xe1s seguro de que quieres eliminar TODOS los votos? Esta acci\xf3n no se puede deshacer.")&&this.votingService.deleteAllVotes().subscribe({next:()=>{this.loadSongs(),this.showMessage("Todos los votos han sido eliminados")},error:t=>{console.error("Error deleting all votes:",t),this.showMessage("Error al eliminar todos los votos",!1)}})}forceRefresh(){this.showMessage("Actualizando todos los datos..."),Promise.all([new Promise(t=>this.loadSongs()),new Promise(t=>this.loadQueue()),new Promise(t=>this.getSpotifyStatus()),new Promise(t=>this.getAdminCurrentlyPlaying())]).then(()=>{this.showMessage("Todos los datos han sido actualizados")}).catch(t=>{this.showMessage("Error al actualizar los datos",!1)})}toggleQueue(){this.activeSection="queue"}addToHistory(){this.spotifyNowPlaying.addToHistory().subscribe({next:()=>{console.log("Canci\xf3n agregada al hist\xf3rico")},error:t=>{console.error("Error adding to history:",t)}})}checkPlayingSong(){this.adminCurrentlyPlaying&&(this.songs.find(r=>r.id===this.adminCurrentlyPlaying.id)?this.activeSection="ranking":alert("Esta canci\xf3n no est\xe1 en el ranking."))}forceRankSong(){this.adminCurrentlyPlaying&&this.votingService.vote({id:this.adminCurrentlyPlaying.id,name:this.adminCurrentlyPlaying.name,artists:this.adminCurrentlyPlaying.artists,image:this.adminCurrentlyPlaying.image},!1,!0).subscribe({next:()=>{this.loadSongs(),this.activeSection="ranking"},error:r=>{console.error("Error forcing song to rank:",r)}})}formatTime(t){const r=Math.floor(t/1e3),o=r%60;return`${Math.floor(r/60)}:${o<10?"0":""}${o}`}formatTimeAgo(t){const r=new Date(t),o=(new Date).getTime()-r.getTime(),s=Math.floor(o/6e4),a=Math.floor(s/60),c=Math.floor(a/24);return s<1?"Ahora mismo":s<60?`Hace ${s} min`:a<24?`Hace ${a} h`:1===c?"Ayer":`Hace ${c} d\xedas`}convertToAmPm(t){if(!t)return"";const[r,i]=t.split(":"),o=parseInt(r,10);return`${o%12||12}:${i} ${o>=12?"PM":"AM"}`}logout(){this.authService.logout(),this.router.navigate(["/login"])}static \u0275fac=function(r){return new(r||n)(j(Vi),j(KA),j(bu),j(xB),j(RB),j(ea),j(kn),j(ipe))};static \u0275cmp=gr({type:n,selectors:[["app-admin-panel"]],standalone:!0,features:[br],decls:64,vars:26,consts:[[1,"admin-panel-container"],[1,"message-container"],["class","success-message",4,"ngIf"],["class","error-message",4,"ngIf"],["class","progress-message",4,"ngIf"],[1,"admin-header"],[1,"header-content"],[1,"fab","fa-spotify","me-2"],[1,"header-subtitle"],[1,"btn-logout",3,"click"],[1,"fas","fa-sign-out-alt","me-1"],[1,"admin-content"],[1,"admin-sidebar"],[1,"sidebar-section"],[1,"sidebar-btn",3,"click"],[1,"fas","fa-tachometer-alt","me-2"],[1,"fas","fa-play-circle","me-2"],[1,"fas","fa-list-ol","me-2"],[1,"fas","fa-trophy","me-2"],[1,"fas","fa-clock","me-2"],[1,"fas","fa-sync-alt","me-2"],[1,"fas","fa-search","me-2"],["class","spotify-status",4,"ngIf"],[1,"admin-main"],["class","section",4,"ngIf"],[1,"search-section"],[1,"search-header"],[1,"btn-toggle",3,"click"],["class","search-content",4,"ngIf"],[1,"section","recently-added-section"],[1,"section-header","collapsible",3,"click"],[1,"fas"],["class","recently-added-content",4,"ngIf"],[1,"success-message"],[1,"fas","fa-check-circle"],[1,"error-message"],[1,"fas","fa-exclamation-circle"],[1,"progress-message"],[1,"fas","fa-spinner","fa-spin"],[1,"spotify-status"],[1,"status-indicator"],[1,"status-text"],[1,"status-action",3,"click"],[1,"section"],[1,"stats-grid"],[1,"stat-card"],[1,"stat-icon"],[1,"fas","fa-music"],[1,"stat-content"],[1,"fas","fa-thumbs-up"],[1,"fas","fa-users"],[1,"fas","fa-history"],[1,"dashboard-actions"],[1,"action-btn","primary",3,"click"],[1,"fas","fa-sync-alt","me-1"],[1,"action-btn","secondary",3,"click"],[1,"fas","fa-list-ol","me-1"],[1,"action-btn","warning",3,"click"],[1,"fas","fa-play-circle","me-1"],[1,"section-header"],[1,"btn-refresh",3,"click"],[1,"fas","fa-sync-alt"],["class","currently-playing-card",4,"ngIf","ngIfElse"],["noSongPlaying",""],[1,"currently-playing-card"],[1,"playing-content"],["alt","Album cover",1,"album-art-large",3,"src"],[1,"track-info"],[1,"artists"],[1,"progress-container"],[1,"progress-bar"],[1,"progress-fill"],[1,"time-display"],[1,"playing-actions"],["title","Verificar en ranking",1,"control-btn",3,"click"],[1,"fas","fa-search"],["title","Agregar al hist\xf3rico",1,"control-btn",3,"click"],[1,"player-controls"],[1,"player-btn",3,"click"],[1,"fas","fa-step-backward"],[1,"player-btn","play-pause",3,"click"],[1,"fas","fa-step-forward"],[1,"empty-state"],[1,"fas","fa-music-slash"],["class","btn-spotify",3,"click",4,"ngIf"],[1,"btn-spotify",3,"click"],[1,"btn-refresh",3,"disabled","click"],["class","queue-container",4,"ngIf","ngIfElse"],["emptyQueue",""],[1,"queue-container"],["class","queue-item",4,"ngFor","ngForOf"],[1,"queue-item"],[1,"queue-position"],["alt","Album cover",1,"queue-image",3,"src"],[1,"queue-info"],[1,"queue-actions"],["title","Reproducir ahora",1,"queue-btn",3,"click"],[1,"fas","fa-play"],[1,"fas","fa-list-ol"],[1,"header-actions"],[1,"btn-danger",3,"click"],[1,"fas","fa-trash","me-1"],["class","ranking-container",4,"ngIf","ngIfElse"],["emptyRanking",""],[1,"ranking-container"],["class","ranking-item",4,"ngFor","ngForOf"],[1,"ranking-item"],[1,"rank-number"],["alt","Album cover",1,"rank-image",3,"src"],[1,"rank-info"],[1,"rank-stats"],[1,"votes"],[1,"dislikes"],[1,"fas","fa-thumbs-down"],[1,"time"],[1,"rank-actions"],["title","Me gusta",1,"vote-btn","like",3,"click"],["title","No me gusta",1,"vote-btn","dislike",3,"click"],["title","Agregar a cola",1,"action-btn",3,"click"],[1,"fas","fa-plus"],["title","Eliminar",1,"action-btn","danger",3,"click"],[1,"fas","fa-trash"],[1,"fas","fa-trophy"],[1,"schedules-container"],[4,"ngIf"],["class","schedule-card",4,"ngFor","ngForOf"],[1,"schedule-card"],[1,"schedule-times"],[1,"time-block"],[1,"time-label"],[1,"time-value"],[1,"schedule-status"],[1,"status-badge"],["class","schedule-edit-card",4,"ngFor","ngForOf"],[1,"btn-save",3,"click"],[1,"fas","fa-save","me-1"],[1,"schedule-edit-card"],[1,"edit-fields"],[1,"field-group"],["type","time",3,"ngModel","ngModelChange"],[1,"field-group","toggle"],[1,"switch"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"slider"],[1,"search-content"],[1,"search-bar"],["type","text","placeholder","Buscar canciones en Spotify...",3,"ngModel","ngModelChange","keyup.enter"],[1,"search-btn",3,"click"],["class","search-results",4,"ngIf"],[1,"search-results"],["class","result-item",4,"ngFor","ngForOf"],[1,"result-item"],["alt","Album cover","onerror","this.src='assets/default-song.png'",1,"result-image",3,"src"],[1,"result-info"],[1,"album-name"],[1,"result-actions"],["title","Votar positivo",1,"vote-btn","like",3,"click"],["title","Votar negativo",1,"vote-btn","dislike",3,"click"],["title","Reproducir ahora",1,"action-btn",3,"click"],[1,"recently-added-content"],["class","recent-grid",4,"ngIf","ngIfElse"],["emptyRecent",""],[1,"recent-grid"],["class","recent-card",4,"ngFor","ngForOf"],[1,"recent-card"],["alt","Album cover",1,"recent-image",3,"src"],[1,"recent-info"],[1,"recent-stats"],[1,"recent-actions"],[1,"fas","fa-clock"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1),ee(2,ope,3,1,"div",2),ee(3,spe,3,1,"div",3),ee(4,ape,3,1,"div",4),b(),_(5,"div",5)(6,"div",6)(7,"h1"),L(8,"i",7),P(9,"Panel de Administraci\xf3n "),b(),_(10,"p",8),P(11,"Gestiona la m\xfasica y votaciones del restaurante"),b()(),_(12,"button",9),Q("click",function(){return i.logout()}),L(13,"i",10),P(14,"Cerrar Sesi\xf3n "),b()(),_(15,"div",11)(16,"div",12)(17,"div",13)(18,"h3"),P(19,"Navegaci\xf3n"),b(),_(20,"button",14),Q("click",function(){return i.setActiveSection("dashboard")}),L(21,"i",15),P(22,"Dashboard "),b(),_(23,"button",14),Q("click",function(){return i.setActiveSection("playing")}),L(24,"i",16),P(25,"Reproduciendo "),b(),_(26,"button",14),Q("click",function(){return i.setActiveSection("queue")}),L(27,"i",17),P(28,"Cola de Reproducci\xf3n "),b(),_(29,"button",14),Q("click",function(){return i.setActiveSection("ranking")}),L(30,"i",18),P(31,"Ranking "),b(),_(32,"button",14),Q("click",function(){return i.setActiveSection("schedules")}),L(33,"i",19),P(34,"Horarios "),b()(),_(35,"div",13)(36,"h3"),P(37,"Acciones R\xe1pidas"),b(),_(38,"button",14),Q("click",function(){return i.forceRefresh()}),L(39,"i",20),P(40,"Actualizar Todo "),b(),_(41,"button",14),Q("click",function(){return i.toggleSearch()}),L(42,"i",21),P(43,"Buscar Canciones "),b()(),ee(44,cpe,6,6,"div",22),b(),_(45,"div",23),ee(46,upe,44,4,"div",24),ee(47,fpe,9,4,"div",24),ee(48,_pe,9,5,"div",24),ee(49,Cpe,13,5,"div",24),ee(50,Ppe,9,3,"div",24),_(51,"div",25)(52,"div",26)(53,"h3"),P(54,"Buscar en Spotify"),b(),_(55,"button",27),Q("click",function(){return i.showSearch=!i.showSearch}),P(56),b()(),ee(57,Spe,6,2,"div",28),b(),_(58,"div",29)(59,"div",30),Q("click",function(){return i.toggleRecentlyAdded()}),_(60,"h2"),P(61,"Reci\xe9n Agregadas"),b(),L(62,"i",31),b(),ee(63,Rpe,4,2,"div",32),b()()()()),2&r&&(T(2),H("ngIf",i.successMessage),T(1),H("ngIf",i.errorMessage),T(1),H("ngIf",i.actionInProgress),T(16),Pe("active","dashboard"===i.activeSection),T(3),Pe("active","playing"===i.activeSection),T(3),Pe("active","queue"===i.activeSection),T(3),Pe("active","ranking"===i.activeSection),T(3),Pe("active","schedules"===i.activeSection),T(12),H("ngIf",i.spotifyStatus),T(2),H("ngIf","dashboard"===i.activeSection),T(1),H("ngIf","playing"===i.activeSection),T(1),H("ngIf","queue"===i.activeSection),T(1),H("ngIf","ranking"===i.activeSection),T(1),H("ngIf","schedules"===i.activeSection),T(6),Oe(" ",i.showSearch?"Ocultar":"Mostrar"," "),T(1),H("ngIf",i.showSearch),T(5),Pe("fa-chevron-down",!i.showRecentlyAdded)("fa-chevron-up",i.showRecentlyAdded),T(1),H("ngIf",i.showRecentlyAdded))},dependencies:[qm,Xs,SA,ah,vu,ki,gs,ti,XY],styles:['@import"https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap";@import"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css";.admin-panel-container[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;background-color:#121212;color:#fff;min-height:100vh;padding:0;margin:0}.admin-header[_ngcontent-%COMP%]{background-color:#000;padding:16px 24px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #282828}.admin-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:700;color:#fff}.admin-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#1db954}.admin-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   .header-subtitle[_ngcontent-%COMP%]{margin:4px 0 0;color:#b3b3b3;font-size:14px}.admin-header[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;background-color:transparent;color:#fff;padding:8px 16px;border-radius:20px;border:1px solid #B3B3B3;font-weight:500;transition:all .2s ease}.admin-header[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;transform:scale(1.05)}.admin-content[_ngcontent-%COMP%]{display:flex;min-height:calc(100vh - 80px)}.admin-sidebar[_ngcontent-%COMP%]{width:240px;background-color:#000;padding:24px 16px;border-right:1px solid #282828}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]{margin-bottom:32px}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:12px;text-transform:uppercase;letter-spacing:1.5px;color:#b3b3b3;margin:0 0 16px;padding:0 8px}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   .sidebar-btn[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;width:100%;text-align:left;padding:10px 16px;border-radius:4px;margin-bottom:4px;color:#b3b3b3;font-weight:500;transition:all .2s ease}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   .sidebar-btn[_ngcontent-%COMP%]:hover{color:#fff;background-color:#ffffff1a}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   .sidebar-btn.active[_ngcontent-%COMP%]{color:#fff;background-color:#fff3}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   .sidebar-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:20px}.admin-sidebar[_ngcontent-%COMP%]   .spotify-status[_ngcontent-%COMP%]{margin-top:32px;padding:12px;background-color:#181818;border-radius:8px;display:flex;align-items:center}.admin-sidebar[_ngcontent-%COMP%]   .spotify-status[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%;margin-right:8px}.admin-sidebar[_ngcontent-%COMP%]   .spotify-status[_ngcontent-%COMP%]   .status-indicator.connected[_ngcontent-%COMP%]{background-color:#1db954}.admin-sidebar[_ngcontent-%COMP%]   .spotify-status[_ngcontent-%COMP%]   .status-indicator.disconnected[_ngcontent-%COMP%]{background-color:#e74c3c}.admin-sidebar[_ngcontent-%COMP%]   .spotify-status[_ngcontent-%COMP%]   .status-text[_ngcontent-%COMP%]{font-size:12px;flex-grow:1}.admin-sidebar[_ngcontent-%COMP%]   .spotify-status[_ngcontent-%COMP%]   .status-action[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;color:#1db954;font-size:12px;font-weight:600}.admin-sidebar[_ngcontent-%COMP%]   .spotify-status[_ngcontent-%COMP%]   .status-action[_ngcontent-%COMP%]:hover{text-decoration:underline}.admin-main[_ngcontent-%COMP%]{flex:1;padding:24px;overflow-y:auto}.admin-main[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]{margin-bottom:24px}.admin-main[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.admin-main[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:700}.admin-main[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .section-header.collapsible[_ngcontent-%COMP%]{cursor:pointer;padding:12px 0;border-bottom:1px solid #282828}.admin-main[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:16px;margin-bottom:24px}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{background-color:#181818;border-radius:8px;padding:16px;box-shadow:0 4px 12px #0000004d;transition:all .3s ease;display:flex;align-items:center}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:48px;height:48px;background-color:#1db9541a;border-radius:50%;display:flex;align-items:center;justify-content:center;margin-right:16px}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px;color:#1db954}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:700}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:4px 0 0;color:#b3b3b3;font-size:14px}.dashboard-actions[_ngcontent-%COMP%]{display:flex;gap:12px;margin-bottom:24px}.dashboard-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;padding:10px 16px;border-radius:4px;font-weight:500;transition:all .2s ease}.dashboard-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]{background-color:#1db954;color:#000}.dashboard-actions[_ngcontent-%COMP%]   .action-btn.primary[_ngcontent-%COMP%]:hover{background-color:#2bde6a;transform:translateY(-2px)}.dashboard-actions[_ngcontent-%COMP%]   .action-btn.secondary[_ngcontent-%COMP%]{background-color:transparent;color:#fff;border:1px solid #B3B3B3}.dashboard-actions[_ngcontent-%COMP%]   .action-btn.secondary[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;border-color:#fff}.dashboard-actions[_ngcontent-%COMP%]   .action-btn.warning[_ngcontent-%COMP%]{background-color:#f39c12;color:#000}.dashboard-actions[_ngcontent-%COMP%]   .action-btn.warning[_ngcontent-%COMP%]:hover{background-color:#f5b043}.currently-playing-card[_ngcontent-%COMP%]{background-color:#181818;border-radius:8px;padding:16px;box-shadow:0 4px 12px #0000004d;transition:all .3s ease}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:16px}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .album-art-large[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:8px;margin-right:20px;object-fit:cover}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .track-info[_ngcontent-%COMP%]{flex:1}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .track-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:20px;font-weight:700}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .track-info[_ngcontent-%COMP%]   .artists[_ngcontent-%COMP%]{margin:0 0 16px;color:#b3b3b3}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .track-info[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:100%;height:4px;background-color:#5a5a5a;border-radius:2px;overflow:hidden;margin-bottom:8px}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .track-info[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background-color:#1db954;border-radius:2px;transition:width .3s ease}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .track-info[_ngcontent-%COMP%]   .progress-container[_ngcontent-%COMP%]   .time-display[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:12px;color:#b3b3b3}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .playing-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .playing-actions[_ngcontent-%COMP%]   .control-btn[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;width:40px;height:40px;border-radius:50%;background-color:#ffffff1a;color:#fff;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .playing-actions[_ngcontent-%COMP%]   .control-btn[_ngcontent-%COMP%]:hover{background-color:#fff3;transform:scale(1.1)}.currently-playing-card[_ngcontent-%COMP%]   .player-controls[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:16px}.currently-playing-card[_ngcontent-%COMP%]   .player-controls[_ngcontent-%COMP%]   .player-btn[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;width:48px;height:48px;border-radius:50%;background-color:#ffffff1a;color:#fff;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.currently-playing-card[_ngcontent-%COMP%]   .player-controls[_ngcontent-%COMP%]   .player-btn[_ngcontent-%COMP%]:hover{background-color:#fff3;transform:scale(1.05)}.currently-playing-card[_ngcontent-%COMP%]   .player-controls[_ngcontent-%COMP%]   .player-btn.play-pause[_ngcontent-%COMP%]{width:64px;height:64px;background-color:#1db954;color:#000}.currently-playing-card[_ngcontent-%COMP%]   .player-controls[_ngcontent-%COMP%]   .player-btn.play-pause[_ngcontent-%COMP%]:hover{background-color:#2bde6a;transform:scale(1.1)}.queue-container[_ngcontent-%COMP%]{background-color:#181818;border-radius:8px;box-shadow:0 4px 12px #0000004d;transition:all .3s ease;padding:0;overflow:hidden}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 16px;border-bottom:1px solid #282828}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]:hover{background-color:#ffffff0d}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]   .queue-position[_ngcontent-%COMP%]{width:24px;text-align:center;font-weight:600;color:#b3b3b3;margin-right:16px}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]   .queue-image[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:4px;margin-right:16px;object-fit:cover}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]   .queue-info[_ngcontent-%COMP%]{flex:1}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]   .queue-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;font-size:14px;font-weight:500}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]   .queue-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:12px;color:#b3b3b3}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]   .queue-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]   .queue-actions[_ngcontent-%COMP%]   .queue-btn[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;width:32px;height:32px;border-radius:50%;background-color:transparent;color:#fff;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]   .queue-actions[_ngcontent-%COMP%]   .queue-btn[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]   .queue-actions[_ngcontent-%COMP%]   .queue-btn.remove[_ngcontent-%COMP%]{color:#e74c3c}.queue-container[_ngcontent-%COMP%]   .queue-item[_ngcontent-%COMP%]   .queue-actions[_ngcontent-%COMP%]   .queue-btn.remove[_ngcontent-%COMP%]:hover{background-color:#e74c3c1a}.ranking-container[_ngcontent-%COMP%]{background-color:#181818;border-radius:8px;box-shadow:0 4px 12px #0000004d;transition:all .3s ease;padding:0;overflow:hidden}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px 16px;border-bottom:1px solid #282828}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]:hover{background-color:#ffffff0d}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-number[_ngcontent-%COMP%]{width:24px;text-align:center;font-weight:700;font-size:16px;margin-right:16px;color:#b3b3b3}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-image[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:4px;margin-right:16px;object-fit:cover}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-info[_ngcontent-%COMP%]{flex:1}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;font-size:16px;font-weight:500}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 8px;font-size:14px;color:#b3b3b3}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-info[_ngcontent-%COMP%]   .rank-stats[_ngcontent-%COMP%]{display:flex;gap:16px}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-info[_ngcontent-%COMP%]   .rank-stats[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:12px;color:#b3b3b3}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-info[_ngcontent-%COMP%]   .rank-stats[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:4px}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-actions[_ngcontent-%COMP%]   .vote-btn[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-actions[_ngcontent-%COMP%]   .vote-btn.like[_ngcontent-%COMP%]{color:#b3b3b3;background-color:transparent}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-actions[_ngcontent-%COMP%]   .vote-btn.like[_ngcontent-%COMP%]:hover, .ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-actions[_ngcontent-%COMP%]   .vote-btn.like.active[_ngcontent-%COMP%]{color:#1db954;background-color:#1db9541a}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-actions[_ngcontent-%COMP%]   .vote-btn.dislike[_ngcontent-%COMP%]{color:#b3b3b3;background-color:transparent}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-actions[_ngcontent-%COMP%]   .vote-btn.dislike[_ngcontent-%COMP%]:hover, .ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-actions[_ngcontent-%COMP%]   .vote-btn.dislike.active[_ngcontent-%COMP%]{color:#e74c3c;background-color:#e74c3c1a}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;width:36px;height:36px;border-radius:50%;background-color:transparent;color:#b3b3b3;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;color:#fff}.ranking-container[_ngcontent-%COMP%]   .ranking-item[_ngcontent-%COMP%]   .rank-actions[_ngcontent-%COMP%]   .action-btn.danger[_ngcontent-%COMP%]:hover{color:#e74c3c;background-color:#e74c3c1a}.schedules-container[_ngcontent-%COMP%]   .schedule-card[_ngcontent-%COMP%], .schedules-container[_ngcontent-%COMP%]   .schedule-edit-card[_ngcontent-%COMP%]{background-color:#181818;border-radius:8px;padding:16px;box-shadow:0 4px 12px #0000004d;transition:all .3s ease;margin-bottom:16px}.schedules-container[_ngcontent-%COMP%]   .schedule-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .schedules-container[_ngcontent-%COMP%]   .schedule-edit-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;font-size:16px;font-weight:600}.schedules-container[_ngcontent-%COMP%]   .schedule-times[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px}.schedules-container[_ngcontent-%COMP%]   .schedule-times[_ngcontent-%COMP%]   .time-block[_ngcontent-%COMP%]{display:flex;flex-direction:column}.schedules-container[_ngcontent-%COMP%]   .schedule-times[_ngcontent-%COMP%]   .time-block[_ngcontent-%COMP%]   .time-label[_ngcontent-%COMP%]{font-size:12px;color:#b3b3b3;margin-bottom:4px}.schedules-container[_ngcontent-%COMP%]   .schedule-times[_ngcontent-%COMP%]   .time-block[_ngcontent-%COMP%]   .time-value[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.schedules-container[_ngcontent-%COMP%]   .schedule-status[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{display:inline-block;padding:4px 8px;border-radius:12px;font-size:12px;font-weight:600}.schedules-container[_ngcontent-%COMP%]   .schedule-status[_ngcontent-%COMP%]   .status-badge.active[_ngcontent-%COMP%]{background-color:#1db95433;color:#1db954}.schedules-container[_ngcontent-%COMP%]   .schedule-status[_ngcontent-%COMP%]   .status-badge.inactive[_ngcontent-%COMP%]{background-color:#e74c3c33;color:#e74c3c}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:16px}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]   .field-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]   .field-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;color:#b3b3b3;margin-bottom:4px}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]   .field-group[_ngcontent-%COMP%]   input[type=time][_ngcontent-%COMP%]{background-color:#2a2a2a;border:1px solid #404040;border-radius:4px;color:#fff;padding:8px;font-family:inherit}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]   .field-group[_ngcontent-%COMP%]   input[type=time][_ngcontent-%COMP%]:focus{outline:none;border-color:#1db954}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]   .field-group.toggle[_ngcontent-%COMP%]{flex-direction:row;align-items:center;justify-content:space-between}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]   .field-group.toggle[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:40px;height:20px}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]   .field-group.toggle[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]   .field-group.toggle[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#1db954}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]   .field-group.toggle[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(20px)}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]   .field-group.toggle[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc;transition:.4s;border-radius:34px}.schedules-container[_ngcontent-%COMP%]   .edit-fields[_ngcontent-%COMP%]   .field-group.toggle[_ngcontent-%COMP%]   .switch[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:16px;width:16px;left:2px;bottom:2px;background-color:#fff;transition:.4s;border-radius:50%}.schedules-container[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;background-color:#1db954;color:#000;padding:10px 20px;border-radius:4px;font-weight:600;margin-top:16px;transition:all .2s ease}.schedules-container[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]:hover{background-color:#2bde6a;transform:translateY(-2px)}.recently-added-section[_ngcontent-%COMP%]   .recently-added-content[_ngcontent-%COMP%]{margin-top:16px}.recently-added-section[_ngcontent-%COMP%]   .recent-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:16px}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]{background-color:#181818;border-radius:8px;box-shadow:0 4px 12px #0000004d;padding:12px;transition:all .3s ease}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]:hover{background-color:#282828;transform:translateY(-4px)}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-image[_ngcontent-%COMP%]{width:100%;aspect-ratio:1;border-radius:4px;object-fit:cover;margin-bottom:12px}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0 0 4px;font-size:14px;font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 8px;font-size:12px;color:#b3b3b3;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-info[_ngcontent-%COMP%]   .recent-stats[_ngcontent-%COMP%]{display:flex;gap:12px}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-info[_ngcontent-%COMP%]   .recent-stats[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:11px;color:#b3b3b3}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-info[_ngcontent-%COMP%]   .recent-stats[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:4px}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:8px;margin-top:12px}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-actions[_ngcontent-%COMP%]   .vote-btn[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-actions[_ngcontent-%COMP%]   .vote-btn.like[_ngcontent-%COMP%]{color:#b3b3b3}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-actions[_ngcontent-%COMP%]   .vote-btn.like[_ngcontent-%COMP%]:hover, .recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-actions[_ngcontent-%COMP%]   .vote-btn.like.active[_ngcontent-%COMP%]{color:#1db954;background-color:#1db9541a}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-actions[_ngcontent-%COMP%]   .vote-btn.dislike[_ngcontent-%COMP%]{color:#b3b3b3}.recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-actions[_ngcontent-%COMP%]   .vote-btn.dislike[_ngcontent-%COMP%]:hover, .recently-added-section[_ngcontent-%COMP%]   .recent-card[_ngcontent-%COMP%]   .recent-actions[_ngcontent-%COMP%]   .vote-btn.dislike.active[_ngcontent-%COMP%]{color:#e74c3c;background-color:#e74c3c1a}.search-section[_ngcontent-%COMP%]{background-color:#181818;border-radius:8px;padding:16px;box-shadow:0 4px 12px #0000004d;transition:all .3s ease}.search-section[_ngcontent-%COMP%]   .search-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.search-section[_ngcontent-%COMP%]   .search-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px}.search-section[_ngcontent-%COMP%]   .search-header[_ngcontent-%COMP%]   .btn-toggle[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;color:#1db954;font-weight:500}.search-section[_ngcontent-%COMP%]   .search-header[_ngcontent-%COMP%]   .btn-toggle[_ngcontent-%COMP%]:hover{text-decoration:underline}.search-section[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{display:flex;margin-bottom:16px}.search-section[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;background-color:#2a2a2a;border:1px solid #404040;border-right:none;border-radius:4px 0 0 4px;color:#fff;padding:10px 16px;font-family:inherit}.search-section[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#1db954}.search-section[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;background-color:#1db954;color:#000;padding:0 16px;border-radius:0 4px 4px 0;font-weight:600;transition:all .2s ease}.search-section[_ngcontent-%COMP%]   .search-content[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   .search-btn[_ngcontent-%COMP%]:hover{background-color:#2bde6a}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px;border-radius:4px;margin-bottom:8px;background-color:#ffffff0d;transition:all .2s ease}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]:hover{background-color:#ffffff1a}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-image[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:4px;margin-right:16px;object-fit:cover}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-info[_ngcontent-%COMP%]{flex:1}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 4px;font-size:14px;font-weight:500}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 4px;font-size:12px;color:#b3b3b3}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-info[_ngcontent-%COMP%]   .album-name[_ngcontent-%COMP%]{font-size:11px;color:#b3b3b3}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .vote-btn[_ngcontent-%COMP%], .search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .vote-btn.like[_ngcontent-%COMP%]{color:#b3b3b3;background-color:transparent}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .vote-btn.like[_ngcontent-%COMP%]:hover{color:#1db954;background-color:#1db9541a}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .vote-btn.dislike[_ngcontent-%COMP%]{color:#b3b3b3;background-color:transparent}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .vote-btn.dislike[_ngcontent-%COMP%]:hover{color:#e74c3c;background-color:#e74c3c1a}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]{background-color:transparent;color:#b3b3b3}.search-section[_ngcontent-%COMP%]   .search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .result-actions[_ngcontent-%COMP%]   .action-btn[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;color:#fff}.empty-state[_ngcontent-%COMP%]{background-color:#181818;border-radius:8px;box-shadow:0 4px 12px #0000004d;transition:all .3s ease;text-align:center;padding:40px 20px}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:48px;color:#b3b3b3;margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 20px;color:#b3b3b3}.empty-state[_ngcontent-%COMP%]   .btn-spotify[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;background-color:#1db954;color:#000;padding:10px 20px;border-radius:20px;font-weight:600;transition:all .2s ease}.empty-state[_ngcontent-%COMP%]   .btn-spotify[_ngcontent-%COMP%]:hover{background-color:#2bde6a;transform:scale(1.05)}.btn-refresh[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;width:36px;height:36px;border-radius:50%;background-color:#ffffff1a;color:#fff;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.btn-refresh[_ngcontent-%COMP%]:hover{background-color:#fff3;transform:rotate(180deg)}.btn-refresh[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.btn-danger[_ngcontent-%COMP%]{border:none;background:none;cursor:pointer;outline:none;background-color:#e74c3c;color:#fff;padding:8px 16px;border-radius:4px;font-weight:500;transition:all .2s ease}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#ed7669}@media (max-width: 1024px){.admin-sidebar[_ngcontent-%COMP%]{width:200px}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){.admin-content[_ngcontent-%COMP%]{flex-direction:column}.admin-sidebar[_ngcontent-%COMP%]{width:100%;border-right:none;border-bottom:1px solid #282828;padding:16px}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:16px}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{width:100%;margin-bottom:8px}.admin-sidebar[_ngcontent-%COMP%]   .sidebar-section[_ngcontent-%COMP%]   .sidebar-btn[_ngcontent-%COMP%]{width:auto;margin-bottom:0}.admin-sidebar[_ngcontent-%COMP%]   .spotify-status[_ngcontent-%COMP%]{margin-top:16px}.admin-main[_ngcontent-%COMP%]{padding:16px}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.dashboard-actions[_ngcontent-%COMP%]{flex-wrap:wrap}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .album-art-large[_ngcontent-%COMP%]{margin-right:0;margin-bottom:16px}.currently-playing-card[_ngcontent-%COMP%]   .playing-content[_ngcontent-%COMP%]   .playing-actions[_ngcontent-%COMP%]{margin-top:16px}.recent-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)!important}}@media (max-width: 480px){.admin-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:16px}.admin-header[_ngcontent-%COMP%]   .btn-logout[_ngcontent-%COMP%]{align-self:stretch;text-align:center}.playing-content[_ngcontent-%COMP%]   .playing-actions[_ngcontent-%COMP%], .rank-actions[_ngcontent-%COMP%], .result-actions[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center}.recent-grid[_ngcontent-%COMP%], .edit-fields[_ngcontent-%COMP%]{grid-template-columns:1fr!important}}.message-container[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;z-index:1000;max-width:400px}.success-message[_ngcontent-%COMP%], .error-message[_ngcontent-%COMP%], .progress-message[_ngcontent-%COMP%]{padding:12px 16px;border-radius:6px;margin-bottom:10px;box-shadow:0 4px 12px #0000004d;display:flex;align-items:center;animation:_ngcontent-%COMP%_slideIn .3s ease}.success-message[_ngcontent-%COMP%]{background-color:#1db954e6;color:#000;border-left:4px solid #1DB954}.error-message[_ngcontent-%COMP%]{background-color:#e74c3ce6;color:#fff;border-left:4px solid #e74c3c}.progress-message[_ngcontent-%COMP%]{background-color:#3498dbe6;color:#fff;border-left:4px solid #3498db}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.action-btn[_ngcontent-%COMP%]{transition:all .2s ease}.action-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.action-btn[_ngcontent-%COMP%]:disabled:hover{transform:none!important}.btn-loading[_ngcontent-%COMP%]{position:relative}.btn-loading[_ngcontent-%COMP%]:after{content:"";position:absolute;width:16px;height:16px;top:50%;left:50%;margin:-8px 0 0 -8px;border:2px solid transparent;border-top:2px solid currentColor;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return n})(),Npe=(()=>{class n{http;apiUrl=ro_apiUrl;constructor(t){this.http=t}getSongHistory(t="times_played",r="desc"){let i=(new Ni).set("sort_by",t).set("order",r);return this.http.get(`${this.apiUrl}/api/ranking/history`,{params:i})}voteFromHistory(t){return this.http.post(`${this.apiUrl}/api/ranking/vote-from-history`,{track_id:t})}getRankingStats(){return this.http.get(`${this.apiUrl}/api/ranking/stats`)}forceRankCurrentSong(){return this.http.post(`${this.apiUrl}/api/ranking/force-rank-current`,{})}static \u0275fac=function(r){return new(r||n)(oe(Vi))};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Vpe(n,e){if(1&n&&(_(0,"div",42),P(1),b()),2&n){const t=W();T(1),Oe(" ",t.voteMessage," ")}}function Fpe(n,e){if(1&n){const t=ze();_(0,"button",43),Q("click",function(){return ae(t),ce(W().filterText="")}),L(1,"i",44),b()}}function Lpe(n,e){if(1&n&&(_(0,"div",45),L(1,"i",46),P(2),b()),2&n){const t=W();T(2),Oe(" ",t.error," ")}}function Upe(n,e){1&n&&(_(0,"div",47),L(1,"div",48),_(2,"p",6),P(3,"Cargando ranking hist\xf3rico..."),b()())}function Bpe(n,e){1&n&&L(0,"i",72)}function jpe(n,e){1&n&&L(0,"i",73)}function $pe(n,e){if(1&n){const t=ze();_(0,"div",51)(1,"div",52)(2,"div",53),Q("click",function(){const o=ae(t).$implicit;return ce(W(2).onShowDetails(o))}),_(3,"span",54),P(4),b(),_(5,"img",55),Q("click",function(){const o=ae(t).$implicit;return ce(W(2).onShowDetails(o))}),b()(),_(6,"div",56)(7,"h3",57),Q("click",function(){const o=ae(t).$implicit;return ce(W(2).onShowDetails(o))}),P(8),b(),_(9,"p",58),Q("click",function(){const o=ae(t).$implicit;return ce(W(2).onShowDetails(o))}),P(10),b(),_(11,"div",59),Q("click",function(){const o=ae(t).$implicit;return ce(W(2).onShowDetails(o))}),_(12,"span",60),L(13,"i",61),P(14),b(),_(15,"span",60),L(16,"i",62),P(17),b(),_(18,"span",60),L(19,"i",63),P(20),b()(),_(21,"div",64),Q("click",function(){const o=ae(t).$implicit;return ce(W(2).onShowDetails(o))}),_(22,"div",65),L(23,"div",66),b(),_(24,"span",67),P(25),b()(),_(26,"p",68),P(27),b(),_(28,"button",69),Q("click",function(){const o=ae(t).$implicit;return ce(W(2).onVote(o))}),ee(29,Bpe,1,0,"i",70),ee(30,jpe,1,0,"i",71),P(31," Votar "),b()()()()}if(2&n){const t=e.$implicit,r=e.index,i=W(2);T(4),fe(r+1),T(1),H("src",t.image||"assets/default-song.png",ir)("alt",t.name),T(3),fe(t.name),T(2),fe(t.artists.join(", ")),T(4),Oe(" ",t.times_played," "),T(3),Oe(" ",t.total_votes," "),T(3),Oe(" ",t.total_dislikes," "),T(3),gl("width",i.getVotePercentage(t),"%"),T(2),Oe("",i.getVotePercentage(t),"% aprobaci\xf3n"),T(2),fe(i.formatDate(t.last_played_at)),T(1),H("disabled",i.isVoting),T(1),H("ngIf",!i.isVoting),T(1),H("ngIf",i.isVoting)}}function Hpe(n,e){if(1&n&&(_(0,"div",49),ee(1,$pe,32,15,"div",50),b()),2&n){const t=W();T(1),H("ngForOf",t.getTabSongs())}}function zpe(n,e){1&n&&(_(0,"div",47),L(1,"i",74),_(2,"h4",6),P(3,"No se encontraron canciones"),b(),_(4,"p",6),P(5,"Intenta con otros t\xe9rminos de b\xfasqueda"),b()())}function Gpe(n,e){if(1&n){const t=ze();_(0,"div",75),Q("click",function(){return ae(t),ce(W().onCloseDetails())}),b()}}function qpe(n,e){1&n&&L(0,"i",72)}function Wpe(n,e){1&n&&L(0,"i",73)}function Kpe(n,e){if(1&n){const t=ze();_(0,"div",76)(1,"div",77)(2,"div",78)(3,"div",79)(4,"h5",80),L(5,"i",81),P(6,"Detalles de la Canci\xf3n "),b(),_(7,"button",82),Q("click",function(){return ae(t),ce(W().onCloseDetails())}),P(8," Cerrar "),b()(),_(9,"div",83)(10,"div",84)(11,"div",85),L(12,"img",86),_(13,"button",69),Q("click",function(){ae(t);const i=W();return ce(i.onVote(i.selectedSong))}),ee(14,qpe,1,0,"i",70),ee(15,Wpe,1,0,"i",71),P(16," Votar por esta canci\xf3n "),b()(),_(17,"div",87)(18,"h4",6),P(19),b(),_(20,"p",6),P(21),b(),_(22,"div",88)(23,"div",89)(24,"div",90)(25,"h3",91),P(26),b(),_(27,"p",92),P(28,"Reproducciones"),b()()(),_(29,"div",89)(30,"div",90)(31,"h3",93),P(32),b(),_(33,"p",92),P(34,"Votos positivos"),b()()(),_(35,"div",94)(36,"div",90)(37,"h3",95),P(38),b(),_(39,"p",92),P(40,"Votos negativos"),b()()(),_(41,"div",94)(42,"div",90)(43,"h3",96),P(44),b(),_(45,"p",92),P(46,"Porcentaje de aprobaci\xf3n"),b()()()(),_(47,"div",97)(48,"h6",6),P(49,"\xdaltima reproducci\xf3n"),b(),_(50,"p",6),P(51),b(),_(52,"h6",6),P(53,"D\xedas desde la \xfaltima reproducci\xf3n"),b(),_(54,"p",6),P(55),b()()()()()()()()}if(2&n){const t=W();T(12),H("src",t.selectedSong.image||"assets/default-song.png",ir)("alt",t.selectedSong.name),T(1),H("disabled",t.isVoting),T(1),H("ngIf",!t.isVoting),T(1),H("ngIf",t.isVoting),T(4),fe(t.selectedSong.name),T(2),fe(t.selectedSong.artists.join(", ")),T(5),fe(t.selectedSong.times_played),T(6),fe(t.selectedSong.total_votes),T(6),fe(t.selectedSong.total_dislikes),T(6),Oe("",t.getVotePercentage(t.selectedSong),"%"),T(7),fe(t.formatDate(t.selectedSong.last_played_at)),T(4),Oe("",t.getDaysSinceLastPlayed(t.selectedSong)," d\xedas")}}const Qpe={providers:[function XZ(n,...e){return nl([{provide:bc,multi:!0,useValue:n},[],{provide:mc,useFactory:G2,deps:[kn]},{provide:Al,multi:!0,useFactory:q2},e.map(t=>t.\u0275providers)])}([{path:"",component:kB},{path:"home",component:kB},{path:"ranking",component:(()=>{class n{rankingService;votingService;songs=[];isLoading=!0;error="";sortBy="times_played";sortOrder="desc";filterText="";selectedSong=null;isVoting=!1;voteMessage="";activeTab="all";stats={};pollingSubscription=null;constructor(t,r){this.rankingService=t,this.votingService=r}ngOnInit(){this.loadRanking(),this.startPolling()}ngOnDestroy(){this.pollingSubscription&&this.pollingSubscription.unsubscribe()}startPolling(){this.pollingSubscription=this.votingService.getRankedSongsPolling().subscribe({next:()=>{this.loadRanking()}})}loadRanking(){this.isLoading=!0,this.error="",this.rankingService.getSongHistory(this.sortBy,this.sortOrder).subscribe({next:t=>{this.songs=t,this.calculateStats(),this.isLoading=!1},error:t=>{console.error("Error loading ranking:",t),this.error="Error al cargar el ranking. Intenta nuevamente.",this.isLoading=!1}})}calculateStats(){0!==this.songs.length?(this.stats.totalSongs=this.songs.length,this.stats.totalPlays=this.songs.reduce((t,r)=>t+r.times_played,0),this.stats.totalVotes=this.songs.reduce((t,r)=>t+r.total_votes,0),this.stats.totalDislikes=this.songs.reduce((t,r)=>t+r.total_dislikes,0),this.stats.mostPlayed=this.songs.reduce((t,r)=>r.times_played>t.times_played?r:t,this.songs[0]),this.stats.mostVoted=this.songs.reduce((t,r)=>r.total_votes>t.total_votes?r:t,this.songs[0]),this.stats.bestRated=this.songs.reduce((t,r)=>this.getVotePercentage(r)>this.getVotePercentage(t)?r:t,this.songs[0])):this.stats={}}onSortChange(t){this.sortBy===t?this.sortOrder="desc"===this.sortOrder?"asc":"desc":(this.sortBy=t,this.sortOrder="desc"),this.loadRanking()}getSortIcon(t){return this.sortBy!==t?"fa-sort":"desc"===this.sortOrder?"fa-sort-down":"fa-sort-up"}onVote(t){this.isVoting=!0,this.voteMessage="",this.rankingService.voteFromHistory(t.track_id).subscribe({next:r=>{this.voteMessage="Agregada a Ranking de Votacion",this.isVoting=!1;const i=this.songs.findIndex(o=>o.track_id===t.track_id);-1!==i&&(this.songs[i].total_votes+=1,this.calculateStats()),setTimeout(()=>{this.voteMessage=""},5e3)},error:r=>{console.error("Error voting:",r),this.voteMessage=r.error?.error||"Error al votar",this.isVoting=!1,setTimeout(()=>{this.voteMessage=""},5e3)}})}onShowDetails(t){this.selectedSong=t}onCloseDetails(){this.selectedSong=null}get filteredSongs(){if(!this.filterText)return this.songs;const t=this.filterText.toLowerCase();return this.songs.filter(r=>r.name.toLowerCase().includes(t)||r.artists.some(i=>i.toLowerCase().includes(t)))}getVotePercentage(t){return t.total_votes||t.total_dislikes?Math.round(t.total_votes/(t.total_votes+t.total_dislikes)*100):0}formatDate(t){const r=new Date(t);return new Intl.DateTimeFormat("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}).format(r)}getDaysSinceLastPlayed(t){const r=new Date(t.last_played_at),o=Math.abs((new Date).getTime()-r.getTime());return Math.floor(o/864e5)}setActiveTab(t){this.activeTab=t}getTabSongs(){switch(this.activeTab){case"mostPlayed":return[...this.filteredSongs].sort((t,r)=>r.times_played-t.times_played);case"mostVoted":return[...this.filteredSongs].sort((t,r)=>r.total_votes-t.total_votes);case"bestRated":return[...this.filteredSongs].sort((t,r)=>{const i=this.getVotePercentage(t);return this.getVotePercentage(r)-i});default:return this.filteredSongs}}static \u0275fac=function(r){return new(r||n)(j(Npe),j(bu))};static \u0275cmp=gr({type:n,selectors:[["app-ranking"]],standalone:!0,features:[br],decls:88,vars:30,consts:[[1,"ranking-container","fade-in"],[1,"message-container"],["class","success-message",4,"ngIf"],[1,"header-section"],[1,"gradient-text"],[1,"fas","fa-trophy","me-2"],[1,"text-muted"],[1,"stats-grid","mb-4"],[1,"stat-card","card"],[1,"card-body","text-center"],[1,"fas","fa-music","stat-icon"],[1,"stat-value"],[1,"stat-label"],[1,"fas","fa-play-circle","stat-icon"],[1,"fas","fa-thumbs-up","stat-icon"],[1,"fas","fa-thumbs-down","stat-icon"],[1,"tabs-container","mb-4"],[1,"nav","nav-tabs"],[1,"nav-item"],[1,"nav-link",3,"click"],[1,"fas","fa-list","me-1"],[1,"fas","fa-play-circle","me-1"],[1,"fas","fa-thumbs-up","me-1"],[1,"fas","fa-star","me-1"],[1,"filters-card","card","mb-4"],[1,"card-body"],[1,"row","align-items-center"],[1,"col-md-6","mb-3","mb-md-0"],[1,"search-container"],[1,"fas","fa-search","search-icon"],["type","text","placeholder","Buscar canci\xf3n o artista...",1,"search-input",3,"ngModel","ngModelChange"],["class","search-clear",3,"click",4,"ngIf"],[1,"col-md-6"],[1,"d-flex","flex-wrap","gap-2","justify-content-md-end"],[1,"text-muted","me-2"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"fas","fa-calendar","me-1"],["class","alert alert-danger","role","alert",4,"ngIf"],["class","text-center py-5",4,"ngIf"],["class","songs-grid",4,"ngIf"],["class","modal-backdrop show",3,"click",4,"ngIf"],["class","modal show d-block","tabindex","-1",4,"ngIf"],[1,"success-message"],[1,"search-clear",3,"click"],[1,"fas","fa-times"],["role","alert",1,"alert","alert-danger"],[1,"fas","fa-exclamation-triangle","me-2"],[1,"text-center","py-5"],[1,"loading-spinner","mb-3"],[1,"songs-grid"],["class","song-card spotify-card",4,"ngFor","ngForOf"],[1,"song-card","spotify-card"],[1,"card-content"],[1,"song-image-container",3,"click"],[1,"position-number"],[1,"song-image",3,"src","alt","click"],[1,"song-info"],[1,"song-title",3,"click"],[1,"song-artist",3,"click"],[1,"song-stats",3,"click"],[1,"stat-item"],[1,"fas","fa-play"],[1,"fas","fa-thumbs-up"],[1,"fas","fa-thumbs-down"],[1,"approval-container",3,"click"],[1,"approval-bar"],[1,"approval-progress"],[1,"approval-text"],[1,"last-played"],[1,"btn","btn-primary","w-100","mb-2",3,"disabled","click"],["class","fas fa-vote-yea me-1",4,"ngIf"],["class","fas fa-spinner fa-spin me-1",4,"ngIf"],[1,"fas","fa-vote-yea","me-1"],[1,"fas","fa-spinner","fa-spin","me-1"],[1,"fas","fa-music","fa-3x","text-muted","mb-3"],[1,"modal-backdrop","show",3,"click"],["tabindex","-1",1,"modal","show","d-block"],[1,"modal-dialog","modal-lg"],[1,"modal-content","card"],[1,"modal-header","card-header"],[1,"modal-title"],[1,"fas","fa-info-circle","me-2"],["type","button",1,"btn","btn-primary","w-100","mb-2",3,"click"],[1,"modal-body","card-body"],[1,"row"],[1,"col-md-4","text-center"],[1,"img-fluid","rounded","mb-3",3,"src","alt"],[1,"col-md-8"],[1,"row","mt-4"],[1,"col-6"],[1,"stat-box","text-center","p-3","rounded"],[1,"text-primary"],[1,"mb-0","text-muted"],[1,"text-success"],[1,"col-6","mt-3"],[1,"text-danger"],[1,"text-info"],[1,"mt-4"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"div",1),ee(2,Vpe,2,1,"div",2),b(),_(3,"div",3)(4,"h1",4),L(5,"i",5),P(6,"Ranking Hist\xf3rico "),b(),_(7,"p",6),P(8," Descubre las canciones m\xe1s populares que han sonado en nuestro restaurante "),b()(),_(9,"div",7)(10,"div",8)(11,"div",9),L(12,"i",10),_(13,"h3",11),P(14),b(),_(15,"p",12),P(16,"Canciones totales"),b()()(),_(17,"div",8)(18,"div",9),L(19,"i",13),_(20,"h3",11),P(21),b(),_(22,"p",12),P(23,"Reproducciones"),b()()(),_(24,"div",8)(25,"div",9),L(26,"i",14),_(27,"h3",11),P(28),b(),_(29,"p",12),P(30,"Votos positivos"),b()()(),_(31,"div",8)(32,"div",9),L(33,"i",15),_(34,"h3",11),P(35),b(),_(36,"p",12),P(37,"Votos negativos"),b()()()(),_(38,"div",16)(39,"ul",17)(40,"li",18)(41,"a",19),Q("click",function(){return i.setActiveTab("all")}),L(42,"i",20),P(43,"Todas "),b()(),_(44,"li",18)(45,"a",19),Q("click",function(){return i.setActiveTab("mostPlayed")}),L(46,"i",21),P(47,"M\xe1s reproducidas "),b()(),_(48,"li",18)(49,"a",19),Q("click",function(){return i.setActiveTab("mostVoted")}),L(50,"i",22),P(51,"M\xe1s votadas "),b()(),_(52,"li",18)(53,"a",19),Q("click",function(){return i.setActiveTab("bestRated")}),L(54,"i",23),P(55,"Mejor valoradas "),b()()()(),_(56,"div",24)(57,"div",25)(58,"div",26)(59,"div",27)(60,"div",28),L(61,"i",29),_(62,"input",30),Q("ngModelChange",function(s){return i.filterText=s}),b(),ee(63,Fpe,2,0,"button",31),b(),_(64,"p",6),P(65,"Preciona la cacion para ver los detallas "),b()(),_(66,"div",32)(67,"div",33)(68,"span",34),P(69,"Ordenar por:"),b(),_(70,"button",35),Q("click",function(){return i.onSortChange("times_played")}),L(71,"i",21),P(72," Reproducciones "),L(73,"i"),b(),_(74,"button",35),Q("click",function(){return i.onSortChange("total_votes")}),L(75,"i",22),P(76," Votos "),L(77,"i"),b(),_(78,"button",35),Q("click",function(){return i.onSortChange("last_played_at")}),L(79,"i",36),P(80," Fecha "),L(81,"i"),b()()()()()(),ee(82,Lpe,3,1,"div",37),ee(83,Upe,4,0,"div",38),ee(84,Hpe,2,1,"div",39),ee(85,zpe,6,0,"div",38),ee(86,Gpe,1,0,"div",40),ee(87,Kpe,56,13,"div",41),b()),2&r&&(T(2),H("ngIf",i.voteMessage),T(12),fe(i.stats.totalSongs||0),T(7),fe(i.stats.totalPlays||0),T(7),fe(i.stats.totalVotes||0),T(7),fe(i.stats.totalDislikes||0),T(6),Pe("active","all"===i.activeTab),T(4),Pe("active","mostPlayed"===i.activeTab),T(4),Pe("active","mostVoted"===i.activeTab),T(4),Pe("active","bestRated"===i.activeTab),T(9),H("ngModel",i.filterText),T(1),H("ngIf",i.filterText),T(10),Zf("fas ",i.getSortIcon("times_played")," ms-1"),T(4),Zf("fas ",i.getSortIcon("total_votes")," ms-1"),T(4),Zf("fas ",i.getSortIcon("last_played_at")," ms-1"),T(1),H("ngIf",i.error),T(1),H("ngIf",i.isLoading),T(1),H("ngIf",!i.isLoading&&i.getTabSongs().length>0),T(1),H("ngIf",!i.isLoading&&0===i.getTabSongs().length),T(1),H("ngIf",i.selectedSong),T(1),H("ngIf",i.selectedSong))},dependencies:[ki,gs,ti,qm,Xs,ah,vu,gC],styles:['.ranking-container[_ngcontent-%COMP%]{padding:1rem;max-width:1200px;margin:0 auto}@media (max-width: 768px){.ranking-container[_ngcontent-%COMP%]{padding:.5rem}}.header-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem;padding:1.5rem;background:linear-gradient(135deg,rgba(29,185,84,.1) 0%,rgba(25,20,20,.1) 100%);border-radius:16px}.header-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.2rem;font-weight:800;margin-bottom:.5rem}@media (max-width: 768px){.header-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}}.header-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:1rem}.search-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;background:rgba(42,42,42,.6);border-radius:50px;padding:.5rem 1rem;transition:all .3s ease;border:1px solid rgba(62,62,62,.5)}.search-container[_ngcontent-%COMP%]:focus-within{border-color:var(--primary-color);box-shadow:0 0 0 2px #1db95440}.search-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{color:var(--text-secondary);margin-right:.5rem}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--text-primary);flex-grow:1;padding:.5rem 0}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:none}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:var(--text-tertiary)}.search-container[_ngcontent-%COMP%]   .search-clear[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--text-secondary);cursor:pointer;padding:.25rem;border-radius:50%}.search-container[_ngcontent-%COMP%]   .search-clear[_ngcontent-%COMP%]:hover{color:var(--text-primary);background:rgba(255,255,255,.1)}.songs-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1rem}@media (max-width: 768px){.songs-grid[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:.75rem}}.spotify-card[_ngcontent-%COMP%]{background:rgba(42,42,42,.6);border-radius:8px;overflow:hidden;transition:all .3s ease;border:1px solid rgba(255,255,255,.05)}.spotify-card[_ngcontent-%COMP%]:hover{background:rgba(42,42,42,.8);transform:translateY(-2px);box-shadow:0 8px 24px #0003}.spotify-card[_ngcontent-%COMP%]:hover   .play-button[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}.spotify-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:1rem;display:flex;gap:1rem}@media (max-width: 480px){.spotify-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:.75rem}}.spotify-card[_ngcontent-%COMP%]   .song-image-container[_ngcontent-%COMP%]{position:relative;flex-shrink:0}.spotify-card[_ngcontent-%COMP%]   .song-image-container[_ngcontent-%COMP%]   .position-number[_ngcontent-%COMP%]{position:absolute;top:-8px;left:-8px;background:var(--primary-color);color:#000;font-weight:800;width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.8rem;z-index:2;box-shadow:0 2px 8px #1db95466}.spotify-card[_ngcontent-%COMP%]   .song-image-container[_ngcontent-%COMP%]   .song-image[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:6px;object-fit:cover;box-shadow:0 4px 12px #0000004d}@media (max-width: 480px){.spotify-card[_ngcontent-%COMP%]   .song-image-container[_ngcontent-%COMP%]   .song-image[_ngcontent-%COMP%]{width:100%;height:auto;max-height:160px}}.spotify-card[_ngcontent-%COMP%]   .song-image-container[_ngcontent-%COMP%]   .play-button[_ngcontent-%COMP%]{position:absolute;bottom:8px;right:8px;background:var(--primary-color);color:#000;border:none;border-radius:50%;width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;opacity:0;transform:translateY(8px);transition:all .3s ease;box-shadow:0 4px 12px #0000004d}.spotify-card[_ngcontent-%COMP%]   .song-image-container[_ngcontent-%COMP%]   .play-button[_ngcontent-%COMP%]:hover{transform:scale(1.1)}@media (max-width: 480px){.spotify-card[_ngcontent-%COMP%]   .song-image-container[_ngcontent-%COMP%]   .play-button[_ngcontent-%COMP%]{opacity:1;transform:none;bottom:16px;right:16px;width:40px;height:40px}}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]{flex-grow:1;min-width:0}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   .song-title[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;margin:0 0 .25rem;color:var(--text-primary);cursor:pointer;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   .song-title[_ngcontent-%COMP%]:hover{color:var(--primary-color)}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   .song-artist[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary);margin:0 0 .75rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   .song-stats[_ngcontent-%COMP%]{display:flex;gap:.75rem;margin-bottom:.75rem;flex-wrap:wrap}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   .song-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;font-size:.8rem;color:var(--text-secondary)}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   .song-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color)}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   .approval-container[_ngcontent-%COMP%]{margin-bottom:.75rem}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   .approval-container[_ngcontent-%COMP%]   .approval-bar[_ngcontent-%COMP%]{height:4px;background-color:#ffffff1a;border-radius:2px;overflow:hidden;margin-bottom:.25rem}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   .approval-container[_ngcontent-%COMP%]   .approval-bar[_ngcontent-%COMP%]   .approval-progress[_ngcontent-%COMP%]{height:100%;background:var(--primary-color);border-radius:2px;transition:width .5s ease}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   .approval-container[_ngcontent-%COMP%]   .approval-text[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-secondary)}.spotify-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   .last-played[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-tertiary);margin:0}.tabs-container[_ngcontent-%COMP%]{margin-bottom:1.5rem}.tabs-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]{border-bottom:1px solid rgba(255,255,255,.1);display:flex;overflow-x:auto;scrollbar-width:none}.tabs-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.tabs-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{flex-shrink:0}.tabs-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:var(--text-secondary);border:none;padding:.75rem 1rem;border-radius:0;position:relative;font-weight:600;white-space:nowrap}.tabs-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:0;height:2px;background:var(--primary-color);transition:width .3s ease}.tabs-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:var(--text-primary);background:transparent}.tabs-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover:after{width:100%}.tabs-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:var(--text-primary);background:transparent}.tabs-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{width:100%}.alert[_ngcontent-%COMP%]{border-radius:12px;border:none;box-shadow:0 4px 12px #00000026}.alert.alert-info[_ngcontent-%COMP%]{background:rgba(23,162,184,.9);color:#fff;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.alert.alert-danger[_ngcontent-%COMP%]{background:rgba(220,53,69,.9);color:#fff;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.alert[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{filter:invert(1)}.btn-closeee[_ngcontent-%COMP%]{background:rgba(3,59,17,.9);color:#030000;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}@keyframes _ngcontent-%COMP%_slideInDown{0%{transform:translateY(-20px);opacity:0}to{transform:translateY(0);opacity:1}}.alert-dismissible[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInDown .3s ease-out}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:1rem;margin-bottom:2rem}@media (max-width: 480px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{background:rgba(42,42,42,.6);border-radius:8px;padding:1rem;text-align:center;border:1px solid rgba(255,255,255,.05);transition:all .3s ease}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 6px 16px #0003;border-color:#1db95433}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--primary-color);margin-bottom:.5rem}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;margin-bottom:.25rem;color:var(--text-primary)}.stats-grid[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-secondary);margin:0}.text-center[_ngcontent-%COMP%]{padding:3rem 1rem}.text-center[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{border:3px solid rgba(29,185,84,.3);border-top-color:var(--primary-color);border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem}.text-center[_ngcontent-%COMP%]   .fa-music[_ngcontent-%COMP%]{font-size:3rem;color:var(--text-tertiary);margin-bottom:1rem}.text-center[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:var(--text-secondary);margin-bottom:.5rem}.text-center[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-tertiary)}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.btn-outline-secondary[_ngcontent-%COMP%]{background:transparent;color:var(--text-secondary);border:1px solid var(--text-secondary);border-radius:50px;padding:.4rem .8rem;font-size:.85rem;display:inline-flex;align-items:center;transition:all .3s ease}.btn-outline-secondary[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.05);color:var(--text-primary);border-color:var(--text-primary)}.btn-outline-secondary[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:.25rem}.message-container[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;z-index:1000;max-width:400px}.success-message[_ngcontent-%COMP%], .error-message[_ngcontent-%COMP%], .progress-message[_ngcontent-%COMP%]{padding:12px 16px;border-radius:6px;margin-bottom:10px;box-shadow:0 4px 12px #0000004d;display:flex;align-items:center;animation:slideIn .3s ease}.success-message[_ngcontent-%COMP%]{background-color:#1db954e6;color:#000;border-left:4px solid #1DB954}']})}return n})()},{path:"admin-login",component:rpe},{path:"admin-panel",component:kpe,canActivate:[(()=>{class n{authService;router;constructor(t,r){this.authService=t,this.router=r}canActivate(){return!!this.authService.isLoggedIn()||(this.router.navigate(["/admin-login"]),!1)}static \u0275fac=function(r){return new(r||n)(oe(ea),oe(kn))};static \u0275prov=ue({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})()]},{path:"**",redirectTo:""}]),AN(),function NJ(...n){const e=[],t=new Set;for(const{\u0275providers:r,\u0275kind:i}of n)t.add(i),r.length&&e.push(r);return nl([[],t.has(0)?[]:OK(),t.has(1)?[]:[{provide:Mp,useFactory:()=>(Z(IM).add("httpcache"),{isCacheActive:!0})},{provide:bN,useValue:eJ,multi:!0,deps:[Va,Mp]},{provide:Al,multi:!0,useFactory:()=>{const n=Z(hs),e=Z(Mp);return()=>{n.isStable.pipe(_i(t=>t)).toPromise().then(()=>{e.isCacheActive=!1})}}}],e])}(),pM(function Wie(n,...e){return{ngModule:qie,providers:[{provide:PE,useFactory:Gie(n),multi:!0,deps:[Ue,hn,EE,...e]}]}}(()=>Kie(ro_firebaseConfig)),function Nce(n,...e){return{ngModule:kce,providers:[{provide:aT,useFactory:xce(n),multi:!0,deps:[Ue,hn,EE,TE,[new Mn,WE],...e]}]}}(()=>Vce()),function mhe(n,...e){return{ngModule:ghe,providers:[{provide:DA,useFactory:hhe(n),multi:!0,deps:[Ue,hn,EE,TE,[new Mn,WL],[new Mn,WE],...e]}]}}(()=>_he()))]},Ype=function(){return{exact:!0}};(function IJ(n,e){return iK({rootComponent:n,...LN(e)})})((()=>{class n{title="UPTC Music";static \u0275fac=function(r){return new(r||n)};static \u0275cmp=gr({type:n,selectors:[["app-root"]],standalone:!0,features:[br],decls:37,vars:3,consts:[[1,"main-container"],[1,"main-header"],[1,"container","d-flex","justify-content-between","align-items-center"],[1,"logo-container"],[1,"logo-icon"],[1,"fab","fa-spotify"],[1,"app-title"],[1,"main-nav"],["routerLink","/","routerLinkActive","active",3,"routerLinkActiveOptions"],[1,"fas","fa-home","me-1"],["routerLink","/ranking","routerLinkActive","active"],[1,"fas","fa-trophy","me-1"],["routerLink","/admin-login","routerLinkActive","active"],[1,"fas","fa-lock","me-1"],[1,"content-area"],[1,"container"],[1,"now-playing-bar"],[1,"footer-content","text-center"],[1,"footer-text","mb-0"],[1,"footer-text","mb-1"],[1,"social-links"],["href","https://github.com/SebastianVega4","target","_blank"],[1,"fab","fa-github","me-1"],["href","https://www.linkedin.com/in/johan-sebastian-vega-ruiz-b1292011b/","target","_blank"],[1,"fab","fa-linkedin","me-1"],["href","https://www.instagram.com/sebastian.vegar/","target","_blank"],[1,"fab","fa-instagram","me-1"]],template:function(r,i){1&r&&(_(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3)(4,"div",4),L(5,"i",5),b(),_(6,"h1",6),P(7),b()(),_(8,"nav",7)(9,"a",8),L(10,"i",9),P(11,"Inicio "),b(),_(12,"a",10),L(13,"i",11),P(14,"Ranking "),b(),_(15,"a",12),L(16,"i",13),P(17,"Admin "),b()()()(),_(18,"main",14)(19,"div",15),L(20,"router-outlet"),b()()(),_(21,"footer",16)(22,"div",17)(23,"p",18),P(24,"Desarrollado por:"),b(),_(25,"p",19),P(26,"Estudiante de Ingenier\xeda de Sistemas - UPTC Sogamoso 2025-II"),b(),_(27,"div",20)(28,"a",21),L(29,"i",22),P(30,"GitHub "),b(),_(31,"a",23),L(32,"i",24),P(33,"LinkedIn "),b(),_(34,"a",25),L(35,"i",26),P(36,"Instagram "),b()()()()),2&r&&(T(7),fe(i.title),T(2),H("routerLinkActiveOptions",Il(2,Ype)))},dependencies:[gC,sC,Xl,$2],styles:[".main-header[_ngcontent-%COMP%]{padding:1rem 1.5rem;background:var(--glass-bg);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border-bottom:1px solid rgba(255,255,255,.1);top:0;z-index:1000;box-shadow:0 4px 30px #0000004d}.logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.8rem}.logo-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,var(--primary-color) 0%,var(--accent-purple) 100%);display:flex;align-items:center;justify-content:center;box-shadow:0 0 15px #1db95466}.logo-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--text-primary)}.app-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;color:var(--text-primary);margin:0;letter-spacing:-.5px;background:linear-gradient(135deg,var(--text-primary) 0%,var(--primary-color) 100%);-webkit-text-fill-color:transparent;-webkit-background-clip:text;background-clip:text}.main-nav[_ngcontent-%COMP%]{display:flex;gap:1.5rem}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--text-secondary);text-decoration:none;font-weight:600;padding:.5rem 1rem;border-radius:50px;transition:all .3s ease;display:flex;align-items:center}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--text-primary);background:rgba(255,255,255,.05);transform:translateY(-2px)}.main-nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:var(--text-primary);background:rgba(29,185,84,.15);box-shadow:0 0 15px #1db95433}.main-nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color)}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem;transition:color .3s ease}.now-playing-bar[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border-top:1px solid rgba(255,255,255,.1);padding:1rem;color:var(--text-primary);display:flex;align-items:center;justify-content:center;position:relative;z-index:5}.footer-content[_ngcontent-%COMP%]{width:100%;text-align:center}.footer-text[_ngcontent-%COMP%]{font-size:.8rem;margin:.3rem 0;color:var(--text-secondary)}.social-links[_ngcontent-%COMP%]{margin-top:.5rem}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--text-secondary);text-decoration:none;margin:0 .8rem;font-size:.9rem;transition:all .3s ease;display:inline-flex;align-items:center}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--primary-color);transform:translateY(-2px)}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.3rem;font-size:1rem}@media (max-width: 768px){.main-header[_ngcontent-%COMP%]{padding:.8rem 1rem}.app-title[_ngcontent-%COMP%]{font-size:1.2rem}.main-nav[_ngcontent-%COMP%]{gap:.8rem}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.4rem .8rem;font-size:.9rem}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:0 .5rem;font-size:.8rem}}"]})}return n})(),Qpe).catch(n=>console.error(n))}},Qe=>{Qe(Qe.s=959)}]);