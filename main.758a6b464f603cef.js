"use strict";(self.webpackChunkuptc_music=self.webpackChunkuptc_music||[]).push([[792],{873:()=>{function qe(n){return"function"==typeof n}function bu(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Ah=bu(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function sa(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Bn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(qe(r))try{r()}catch(o){e=o instanceof Ah?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{vS(o)}catch(s){e=e??[],s instanceof Ah?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ah(e)}}add(e){var t;if(e&&e!==this)if(this.closed)vS(e);else{if(e instanceof Bn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&sa(t,e)}remove(e){const{_finalizers:t}=this;t&&sa(t,e),e instanceof Bn&&e._removeParent(this)}}Bn.EMPTY=(()=>{const n=new Bn;return n.closed=!0,n})();const _S=Bn.EMPTY;function yS(n){return n instanceof Bn||n&&"closed"in n&&qe(n.remove)&&qe(n.add)&&qe(n.unsubscribe)}function vS(n){qe(n)?n():n.unsubscribe()}const Yo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Dh={setTimeout(n,e,...t){const{delegate:r}=Dh;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Dh;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function IS(n){Dh.setTimeout(()=>{const{onUnhandledError:e}=Yo;if(!e)throw n;e(n)})}function a_(){}const L3=c_("C",void 0,void 0);function c_(n,e,t){return{kind:n,value:e,error:t}}let Jo=null;function Sh(n){if(Yo.useDeprecatedSynchronousErrorHandling){const e=!Jo;if(e&&(Jo={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Jo;if(Jo=null,t)throw r}}else n()}class u_ extends Bn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,yS(e)&&e.add(this)):this.destination=G3}static create(e,t,r){return new Cu(e,t,r)}next(e){this.isStopped?d_(function B3(n){return c_("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?d_(function U3(n){return c_("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?d_(L3,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $3=Function.prototype.bind;function l_(n,e){return $3.call(n,e)}class H3{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Ph(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Ph(r)}else Ph(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Ph(t)}}}class Cu extends u_{constructor(e,t,r){let i;if(super(),qe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Yo.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&l_(e.next,o),error:e.error&&l_(e.error,o),complete:e.complete&&l_(e.complete,o)}):i=e}this.destination=new H3(i)}}function Ph(n){Yo.useDeprecatedSynchronousErrorHandling?function j3(n){Yo.useDeprecatedSynchronousErrorHandling&&Jo&&(Jo.errorThrown=!0,Jo.error=n)}(n):IS(n)}function d_(n,e){const{onStoppedNotification:t}=Yo;t&&Dh.setTimeout(()=>t(n,e))}const G3={closed:!0,next:a_,error:function z3(n){throw n},complete:a_},h_="function"==typeof Symbol&&Symbol.observable||"@@observable";function io(n){return n}function ES(n){return 0===n.length?io:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let ct=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function K3(n){return n&&n instanceof u_||function W3(n){return n&&qe(n.next)&&qe(n.error)&&qe(n.complete)}(n)&&yS(n)}(t)?t:new Cu(t,r,i);return Sh(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=bS(r))((i,o)=>{const s=new Cu({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[h_](){return this}pipe(...t){return ES(t)(this)}toPromise(t){return new(t=bS(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function bS(n){var e;return null!==(e=n??Yo.Promise)&&void 0!==e?e:Promise}const Q3=bu(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Tr=(()=>{class n extends ct{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new CS(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Q3}next(t){Sh(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Sh(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Sh(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?_S:(this.currentObservers=null,o.push(t),new Bn(()=>{this.currentObservers=null,sa(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new ct;return t.source=this,t}}return n.create=(e,t)=>new CS(e,t),n})();class CS extends Tr{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:_S}}function wS(n){return qe(n?.lift)}function Ut(n){return e=>{if(wS(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function kt(n,e,t,r,i){return new Y3(n,e,t,r,i)}class Y3 extends u_{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Me(n,e){return Ut((t,r)=>{let i=0;t.subscribe(kt(r,o=>{r.next(n.call(e,o,i++))}))})}function Mh(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function oo(n){return this instanceof oo?(this.v=n,this):new oo(n)}function SS(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function m_(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){!function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}(a,c,(s=n[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const PS=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function MS(n){return qe(n?.then)}function RS(n){return qe(n[h_])}function xS(n){return Symbol.asyncIterator&&qe(n?.[Symbol.asyncIterator])}function OS(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const kS=function b5(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function NS(n){return qe(n?.[kS])}function FS(n){return function DS(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),o=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(m){return function(y){return Promise.resolve(y).then(m,h)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(m,y){r[m]&&(i[m]=function(v){return new Promise(function(b,M){o.push([m,v,b,M])>1||c(m,v)})},y&&(i[m]=y(i[m])))}function c(m,y){try{!function u(m){m.value instanceof oo?Promise.resolve(m.value.v).then(d,h):p(o[0][2],m)}(r[m](y))}catch(v){p(o[0][3],v)}}function d(m){c("next",m)}function h(m){c("throw",m)}function p(m,y){m(y),o.shift(),o.length&&c(o[0][0],o[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield oo(t.read());if(i)return yield oo(void 0);yield yield oo(r)}}finally{t.releaseLock()}})}function VS(n){return qe(n?.getReader)}function Xn(n){if(n instanceof ct)return n;if(null!=n){if(RS(n))return function C5(n){return new ct(e=>{const t=n[h_]();if(qe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(PS(n))return function w5(n){return new ct(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(MS(n))return function T5(n){return new ct(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,IS)})}(n);if(xS(n))return LS(n);if(NS(n))return function A5(n){return new ct(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(VS(n))return function D5(n){return LS(FS(n))}(n)}throw OS(n)}function LS(n){return new ct(e=>{(function S5(n,e){var t,r,i,o;return function TS(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(h){s(h)}}function c(d){try{u(r.throw(d))}catch(h){s(h)}}function u(d){d.done?o(d.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(d.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=SS(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function fi(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Yt(n,e,t=1/0){return qe(e)?Yt((r,i)=>Me((o,s)=>e(r,o,i,s))(Xn(n(r,i))),t):("number"==typeof e&&(t=e),Ut((r,i)=>function P5(n,e,t,r,i,o,s,a){const c=[];let u=0,d=0,h=!1;const p=()=>{h&&!c.length&&!u&&e.complete()},m=v=>u<r?y(v):c.push(v),y=v=>{o&&e.next(v),u++;let b=!1;Xn(t(v,d++)).subscribe(kt(e,M=>{i?.(M),o?m(M):e.next(M)},()=>{b=!0},void 0,()=>{if(b)try{for(u--;c.length&&u<r;){const M=c.shift();s?fi(e,s,()=>y(M)):y(M)}p()}catch(M){e.error(M)}}))};return n.subscribe(kt(e,m,()=>{h=!0,p()})),()=>{a?.()}}(r,i,n,t)))}function aa(n=1/0){return Yt(io,n)}const jr=new ct(n=>n.complete());function US(n){return n&&qe(n.schedule)}function y_(n){return n[n.length-1]}function BS(n){return qe(y_(n))?n.pop():void 0}function wu(n){return US(y_(n))?n.pop():void 0}function Rh(n,e=0){return Ut((t,r)=>{t.subscribe(kt(r,i=>fi(r,n,()=>r.next(i),e),()=>fi(r,n,()=>r.complete(),e),i=>fi(r,n,()=>r.error(i),e)))})}function xh(n,e=0){return Ut((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function jS(n,e){if(!n)throw new Error("Iterable cannot be null");return new ct(t=>{fi(t,e,()=>{const r=n[Symbol.asyncIterator]();fi(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Bt(n,e){return e?function V5(n,e){if(null!=n){if(RS(n))return function x5(n,e){return Xn(n).pipe(xh(e),Rh(e))}(n,e);if(PS(n))return function k5(n,e){return new ct(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(MS(n))return function O5(n,e){return Xn(n).pipe(xh(e),Rh(e))}(n,e);if(xS(n))return jS(n,e);if(NS(n))return function N5(n,e){return new ct(t=>{let r;return fi(t,e,()=>{r=n[kS](),fi(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>qe(r?.return)&&r.return()})}(n,e);if(VS(n))return function F5(n,e){return jS(FS(n),e)}(n,e)}throw OS(n)}(n,e):Xn(n)}class Zn extends Tr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function de(...n){return Bt(n,wu(n))}function $S(n={}){const{connector:e=(()=>new Tr),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,c,u=0,d=!1,h=!1;const p=()=>{a?.unsubscribe(),a=void 0},m=()=>{p(),s=c=void 0,d=h=!1},y=()=>{const v=s;m(),v?.unsubscribe()};return Ut((v,b)=>{u++,!h&&!d&&p();const M=c=c??e();b.add(()=>{u--,0===u&&!h&&!d&&(a=v_(y,i))}),M.subscribe(b),!s&&u>0&&(s=new Cu({next:D=>M.next(D),error:D=>{h=!0,p(),a=v_(m,t,D),M.error(D)},complete:()=>{d=!0,p(),a=v_(m,r),M.complete()}}),Xn(v).subscribe(s))})(o)}}function v_(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Cu({next:()=>{r.unsubscribe(),n()}});return Xn(e(...t)).subscribe(r)}function wn(n,e){return Ut((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(kt(r,c=>{i?.unsubscribe();let u=0;const d=o++;Xn(n(c,d)).subscribe(i=kt(r,h=>r.next(e?e(c,h,d,u++):h),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function B5(n,e){return n===e}const Oh=bu(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function pi(n,e){return Ut((t,r)=>{let i=0;t.subscribe(kt(r,o=>n.call(e,o,i++)&&r.next(o)))})}function ca(n){return n<=0?()=>jr:Ut((e,t)=>{let r=0;e.subscribe(kt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function kh(n){return Ut((e,t)=>{let r=!1;e.subscribe(kt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function HS(n=j5){return Ut((e,t)=>{let r=!1;e.subscribe(kt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function j5(){return new Oh}function gi(n,e){const t=arguments.length>=2;return r=>r.pipe(n?pi((i,o)=>n(i,o,r)):io,ca(1),t?kh(e):HS(()=>new Oh))}function $e(n){for(let e in n)if(n[e]===$e)return e;throw Error("Could not find renamed property on target object.")}function Nh(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function jt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(jt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function I_(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const $5=$e({__forward_ref__:$e});function Xe(n){return n.__forward_ref__=Xe,n.toString=function(){return jt(this())},n}function pe(n){return E_(n)?n():n}function E_(n){return"function"==typeof n&&n.hasOwnProperty($5)&&n.__forward_ref__===Xe}function b_(n){return n&&!!n.\u0275providers}const zS="https://g.co/ng/security#xss";class z extends Error{constructor(e,t){super(function Tu(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function _e(n){return"string"==typeof n?n:null==n?"":String(n)}function C_(n,e){throw new z(-201,!1)}function hr(n,e){null==n&&function he(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function oe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ar(n){return{providers:n.providers||[],imports:n.imports||[]}}function Fh(n){return GS(n,Lh)||GS(n,qS)}function GS(n,e){return n.hasOwnProperty(e)?n[e]:null}function Vh(n){return n&&(n.hasOwnProperty(w_)||n.hasOwnProperty(Y5))?n[w_]:null}const Lh=$e({\u0275prov:$e}),w_=$e({\u0275inj:$e}),qS=$e({ngInjectableDef:$e}),Y5=$e({ngInjectorDef:$e});var Ce=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Ce||{});let T_;function jn(n){const e=T_;return T_=n,e}function KS(n,e,t){const r=Fh(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Ce.Optional?null:void 0!==e?e:void C_(jt(n))}const Ze=globalThis;class ee{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=oe({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Au={},M_="__NG_DI_FLAG__",Uh="ngTempTokenPath",Z5=/\n/gm,YS="__source";let ua;function so(n){const e=ua;return ua=n,e}function nH(n,e=Ce.Default){if(void 0===ua)throw new z(-203,!1);return null===ua?KS(n,void 0,e):ua.get(n,e&Ce.Optional?null:void 0,e)}function ne(n,e=Ce.Default){return(function WS(){return T_}()||nH)(pe(n),e)}function X(n,e=Ce.Default){return ne(n,Bh(e))}function Bh(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function R_(n){const e=[];for(let t=0;t<n.length;t++){const r=pe(n[t]);if(Array.isArray(r)){if(0===r.length)throw new z(900,!1);let i,o=Ce.Default;for(let s=0;s<r.length;s++){const a=r[s],c=rH(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}e.push(ne(i,o))}else e.push(ne(r))}return e}function Du(n,e){return n[M_]=e,n.prototype[M_]=e,n}function rH(n){return n[M_]}function mi(n){return{toString:n}.toString()}var jh=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(jh||{}),Dr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Dr||{});const $r={},ke=[],$h=$e({\u0275cmp:$e}),x_=$e({\u0275dir:$e}),O_=$e({\u0275pipe:$e}),XS=$e({\u0275mod:$e}),_i=$e({\u0275fac:$e}),Su=$e({__NG_ELEMENT_ID__:$e}),ZS=$e({__NG_ENV_ID__:$e});function eP(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function k_(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{const o=i,s=t[++r];nP(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function tP(n){return 3===n||4===n||6===n}function nP(n){return 64===n.charCodeAt(0)}function Pu(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||rP(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function rP(n,e,t,r,i){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}const iP="ng-template";function sH(n,e,t){let r=0,i=!0;for(;r<n.length;){let o=n[r++];if("string"==typeof o&&i){const s=n[r++];if(t&&"class"===o&&-1!==eP(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<n.length&&"string"==typeof(o=n[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function oP(n){return 4===n.type&&n.value!==iP}function aH(n,e,t){return e===(4!==n.type||t?n.value:iP)}function cH(n,e,t){let r=4;const i=n.attrs||[],o=function dH(n){for(let e=0;e<n.length;e++)if(tP(n[e]))return e;return n.length}(i);let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!aH(n,c,t)||""===c&&1===e.length){if(Sr(r))return!1;s=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==n.attrs){if(!sH(n.attrs,u,t)){if(Sr(r))return!1;s=!0}continue}const h=uH(8&r?"class":c,i,oP(n),t);if(-1===h){if(Sr(r))return!1;s=!0;continue}if(""!==u){let p;p=h>o?"":i[h+1].toLowerCase();const m=8&r?p:null;if(m&&-1!==eP(m,u,0)||2&r&&u!==p){if(Sr(r))return!1;s=!0}}}}else{if(!s&&!Sr(r)&&!Sr(c))return!1;if(s&&Sr(c))continue;s=!1,r=c|1&r}}return Sr(r)||s}function Sr(n){return 0==(1&n)}function uH(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const s=e[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function hH(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function sP(n,e,t=!1){for(let r=0;r<e.length;r++)if(cH(n,e[r],t))return!0;return!1}function aP(n,e){return n?":not("+e.trim()+")":e}function pH(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Sr(s)&&(e+=aP(o,i),i=""),r=s,o=o||!Sr(r);t++}return""!==i&&(e+=aP(o,i)),e}function Pr(n){return mi(()=>{const e=uP(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===jh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Dr.Emulated,styles:n.styles||ke,_:null,schemas:n.schemas||null,tView:null,id:""};lP(t);const r=n.dependencies;return t.directiveDefs=Hh(r,!1),t.pipeDefs=Hh(r,!0),t.id=function bH(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function yH(n){return Re(n)||Jt(n)}function vH(n){return null!==n}function Hr(n){return mi(()=>({type:n.type,bootstrap:n.bootstrap||ke,declarations:n.declarations||ke,imports:n.imports||ke,exports:n.exports||ke,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function cP(n,e){if(null==n)return $r;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,e&&(e[i]=o)}return t}function ge(n){return mi(()=>{const e=uP(n);return lP(e),e})}function Re(n){return n[$h]||null}function Jt(n){return n[x_]||null}function Tn(n){return n[O_]||null}function tr(n,e){const t=n[XS]||null;if(!t&&!0===e)throw new Error(`Type ${jt(n)} does not have '\u0275mod' property.`);return t}function uP(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||$r,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||ke,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:cP(n.inputs,e),outputs:cP(n.outputs)}}function lP(n){n.features?.forEach(e=>e(n))}function Hh(n,e){if(!n)return null;const t=e?Tn:yH;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(vH)}const vt=0,te=1,Ie=2,ut=3,Mr=4,Mu=5,ln=6,da=7,Tt=8,ao=9,ha=10,ye=11,Ru=12,dP=13,fa=14,At=15,xu=16,pa=17,zr=18,Ou=19,hP=20,co=21,yi=22,ku=23,Nu=24,we=25,N_=1,fP=2,Gr=7,ga=9,Fu=10,Xt=11;function Hn(n){return Array.isArray(n)&&"object"==typeof n[N_]}function An(n){return Array.isArray(n)&&!0===n[N_]}function F_(n){return 0!=(4&n.flags)}function Zo(n){return n.componentOffset>-1}function Gh(n){return 1==(1&n.flags)}function Rr(n){return!!n.template}function V_(n){return 0!=(512&n[Ie])}function es(n,e){return n.hasOwnProperty(_i)?n[_i]:null}let Zt=null,qh=!1;function fr(n){const e=Zt;return Zt=n,e}const mP={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function yP(n){if(!Vu(n)||n.dirty){if(!n.producerMustRecompute(n)&&!EP(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function IP(n){n.dirty=!0,function vP(n){if(void 0===n.liveConsumerNode)return;const e=qh;qh=!0;try{for(const t of n.liveConsumerNode)t.dirty||IP(t)}finally{qh=e}}(n),n.consumerMarkedDirty?.(n)}function U_(n){return n&&(n.nextProducerIndex=0),fr(n)}function B_(n,e){if(fr(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Vu(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Wh(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function EP(n){ma(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(yP(t),r!==t.version))return!0}return!1}function bP(n){if(ma(n),Vu(n))for(let e=0;e<n.producerNode.length;e++)Wh(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Wh(n,e){if(function wP(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),ma(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)Wh(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];ma(i),i.producerIndexOfThis[r]=e}}function Vu(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function ma(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let TP=null;const PP=()=>{},NH=(()=>({...mP,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:PP}))();class FH{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function pr(){return MP}function MP(n){return n.type.prototype.ngOnChanges&&(n.setInput=LH),VH}function VH(){const n=xP(this),e=n?.current;if(e){const t=n.previous;if(t===$r)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function LH(n,e,t,r){const i=this.declaredInputs[t],o=xP(n)||function UH(n,e){return n[RP]=e}(n,{previous:$r,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[i];s[i]=new FH(c&&c.currentValue,e,a===$r),n[r]=e}pr.ngInherit=!0;const RP="__ngSimpleChanges__";function xP(n){return n[RP]||null}const qr=function(n,e,t){};function et(n){for(;Array.isArray(n);)n=n[vt];return n}function Kh(n,e){return et(e[n])}function zn(n,e){return et(e[n.index])}function NP(n,e){return n.data[e]}function nr(n,e){const t=e[n];return Hn(t)?t:t[vt]}function lo(n,e){return null==e?null:n[e]}function FP(n){n[pa]=0}function GH(n){1024&n[Ie]||(n[Ie]|=1024,LP(n,1))}function VP(n){1024&n[Ie]&&(n[Ie]&=-1025,LP(n,-1))}function LP(n,e){let t=n[ut];if(null===t)return;t[Mu]+=e;let r=t;for(t=t[ut];null!==t&&(1===e&&1===r[Mu]||-1===e&&0===r[Mu]);)t[Mu]+=e,r=t,t=t[ut]}const fe={lFrame:QP(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function jP(){return fe.bindingsEnabled}function ya(){return null!==fe.skipHydrationRootTNode}function j(){return fe.lFrame.lView}function xe(){return fe.lFrame.tView}function Ne(n){return fe.lFrame.contextLView=n,n[Tt]}function Fe(n){return fe.lFrame.contextLView=null,n}function en(){let n=$P();for(;null!==n&&64===n.type;)n=n.parent;return n}function $P(){return fe.lFrame.currentTNode}function Wr(n,e){const t=fe.lFrame;t.currentTNode=n,t.isParent=e}function G_(){return fe.lFrame.isParent}function Dn(){const n=fe.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function va(){return fe.lFrame.bindingIndex++}function Ii(n){const e=fe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function rz(n,e){const t=fe.lFrame;t.bindingIndex=t.bindingRootIndex=n,W_(e)}function W_(n){fe.lFrame.currentDirectiveIndex=n}function qP(){return fe.lFrame.currentQueryIndex}function Q_(n){fe.lFrame.currentQueryIndex=n}function oz(n){const e=n[te];return 2===e.type?e.declTNode:1===e.type?n[ln]:null}function WP(n,e,t){if(t&Ce.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&Ce.Host||(i=oz(o),null===i||(o=o[fa],10&i.type))););if(null===i)return!1;e=i,n=o}const r=fe.lFrame=KP();return r.currentTNode=e,r.lView=n,!0}function Y_(n){const e=KP(),t=n[te];fe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function KP(){const n=fe.lFrame,e=null===n?null:n.child;return null===e?QP(n):e}function QP(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function YP(){const n=fe.lFrame;return fe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const JP=YP;function J_(){const n=YP();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Sn(){return fe.lFrame.selectedIndex}function ts(n){fe.lFrame.selectedIndex=n}function pt(){const n=fe.lFrame;return NP(n.tView,n.selectedIndex)}function XP(){return fe.lFrame.currentNamespace}let ZP=!0;function Qh(){return ZP}function ho(n){ZP=n}function Yh(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),null!=d&&(n.destroyHooks??=[]).push(t,d)}}function Jh(n,e,t){e1(n,e,3,t)}function Xh(n,e,t,r){(3&n[Ie])===t&&e1(n,e,t,r)}function X_(n,e){let t=n[Ie];(3&t)===e&&(t&=8191,t+=1,n[Ie]=t)}function e1(n,e,t,r){const o=r??-1,s=e.length-1;let a=0;for(let c=void 0!==r?65535&n[pa]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(n[pa]+=65536),(a<o||-1==o)&&(fz(n,t,e,c),n[pa]=(4294901760&n[pa])+c+2),c++}function t1(n,e){qr(4,n,e);const t=fr(null);try{e.call(n)}finally{fr(t),qr(5,n,e)}}function fz(n,e,t,r){const i=t[r]<0,o=t[r+1],a=n[i?-t[r]:t[r]];i?n[Ie]>>13<n[pa]>>16&&(3&n[Ie])===e&&(n[Ie]+=8192,t1(a,o)):t1(a,o)}const Ia=-1;class Uu{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function ey(n){return n!==Ia}function Bu(n){return 32767&n}function ju(n,e){let t=function _z(n){return n>>16}(n),r=e;for(;t>0;)r=r[fa],t--;return r}let ty=!0;function Zh(n){const e=ty;return ty=n,e}const n1=255,r1=5;let yz=0;const Kr={};function ef(n,e){const t=i1(n,e);if(-1!==t)return t;const r=e[te];r.firstCreatePass&&(n.injectorIndex=e.length,ny(r.data,n),ny(e,null),ny(r.blueprint,null));const i=tf(n,e),o=n.injectorIndex;if(ey(i)){const s=Bu(i),a=ju(i,e),c=a[te].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function ny(n,e){n.push(0,0,0,0,0,0,0,0,e)}function i1(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function tf(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=d1(i),null===r)return Ia;if(t++,i=i[fa],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Ia}function ry(n,e,t){!function vz(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Su)&&(r=t[Su]),null==r&&(r=t[Su]=yz++);const i=r&n1;e.data[n+(i>>r1)]|=1<<i}(n,e,t)}function o1(n,e,t){if(t&Ce.Optional||void 0!==n)return n;C_()}function s1(n,e,t,r){if(t&Ce.Optional&&void 0===r&&(r=null),!(t&(Ce.Self|Ce.Host))){const i=n[ao],o=jn(void 0);try{return i?i.get(e,r,t&Ce.Optional):KS(e,r,t&Ce.Optional)}finally{jn(o)}}return o1(r,0,t)}function a1(n,e,t,r=Ce.Default,i){if(null!==n){if(2048&e[Ie]&&!(r&Ce.Self)){const s=function Tz(n,e,t,r,i){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[Ie]&&!(512&s[Ie]);){const a=c1(o,s,t,r|Ce.Self,Kr);if(a!==Kr)return a;let c=o.parent;if(!c){const u=s[hP];if(u){const d=u.get(t,Kr,r);if(d!==Kr)return d}c=d1(s),s=s[fa]}o=c}return i}(n,e,t,r,Kr);if(s!==Kr)return s}const o=c1(n,e,t,r,Kr);if(o!==Kr)return o}return s1(e,t,r,i)}function c1(n,e,t,r,i){const o=function bz(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Su)?n[Su]:void 0;return"number"==typeof e?e>=0?e&n1:wz:e}(t);if("function"==typeof o){if(!WP(e,n,r))return r&Ce.Host?o1(i,0,r):s1(e,t,r,i);try{let s;if(s=o(r),null!=s||r&Ce.Optional)return s;C_()}finally{JP()}}else if("number"==typeof o){let s=null,a=i1(n,e),c=Ia,u=r&Ce.Host?e[At][ln]:null;for((-1===a||r&Ce.SkipSelf)&&(c=-1===a?tf(n,e):e[a+8],c!==Ia&&l1(r,!1)?(s=e[te],a=Bu(c),e=ju(c,e)):a=-1);-1!==a;){const d=e[te];if(u1(o,a,d.data)){const h=Ez(a,e,t,s,r,u);if(h!==Kr)return h}c=e[a+8],c!==Ia&&l1(r,e[te].data[a+8]===u)&&u1(o,a,e)?(s=d,a=Bu(c),e=ju(c,e)):a=-1}}return i}function Ez(n,e,t,r,i,o){const s=e[te],a=s.data[n+8],d=nf(a,s,t,null==r?Zo(a)&&ty:r!=s&&0!=(3&a.type),i&Ce.Host&&o===a);return null!==d?ns(e,s,d,a):Kr}function nf(n,e,t,r,i){const o=n.providerIndexes,s=e.data,a=1048575&o,c=n.directiveStart,d=o>>20,p=i?a+d:n.directiveEnd;for(let m=r?a:a+d;m<p;m++){const y=s[m];if(m<c&&t===y||m>=c&&y.type===t)return m}if(i){const m=s[c];if(m&&Rr(m)&&m.type===t)return c}return null}function ns(n,e,t,r){let i=n[t];const o=e.data;if(function pz(n){return n instanceof Uu}(i)){const s=i;s.resolving&&function H5(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new z(-200,`Circular dependency in DI detected for ${n}${t}`)}(function je(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():_e(n)}(o[t]));const a=Zh(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?jn(s.injectImpl):null;WP(n,r,Ce.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function hz(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=MP(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==u&&jn(u),Zh(a),s.resolving=!1,JP()}}return i}function u1(n,e,t){return!!(t[e+(n>>r1)]&1<<n)}function l1(n,e){return!(n&Ce.Self||n&Ce.Host&&e)}class Pn{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return a1(this._tNode,this._lView,e,Bh(r),t)}}function wz(){return new Pn(en(),j())}function tn(n){return mi(()=>{const e=n.prototype.constructor,t=e[_i]||iy(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[_i]||iy(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function iy(n){return E_(n)?()=>{const e=iy(pe(n));return e&&e()}:es(n)}function d1(n){const e=n[te],t=e.type;return 2===t?e.declTNode:1===t?n[ln]:null}const ba="__parameters__";function wa(n,e,t){return mi(()=>{const r=function oy(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,u,d){const h=c.hasOwnProperty(ba)?c[ba]:Object.defineProperty(c,ba,{value:[]})[ba];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(s),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Aa(n,e){n.forEach(t=>Array.isArray(t)?Aa(t,e):e(t))}function f1(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function sf(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function rr(n,e,t){let r=Da(n,e);return r>=0?n[1|r]=t:(r=~r,function xz(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function sy(n,e){const t=Da(n,e);if(t>=0)return n[1|t]}function Da(n,e){return function p1(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const Mn=Du(wa("Optional"),8),cf=Du(wa("SkipSelf"),4),Pa="ngSkipHydration";function w1(n){const e=Pa.toLowerCase(),t=n.mergedAttrs;if(null===t)return!1;for(let r=0;r<t.length;r+=2){const i=t[r];if("number"==typeof i)return!1;if("string"==typeof i&&i.toLowerCase()===e)return!0}return!1}function T1(n){return n.hasAttribute(Pa)}function ff(n){return 128==(128&n.flags)}var fo=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(fo||{});const Zz=/^>|^->|<!--|-->|--!>|<!-$/g,e6=/(<|>)/g,t6="\u200b$1\u200b";const dy=new Map;let n6=0;const fy="__ngContext__";function dn(n,e){Hn(e)?(n[fy]=e[Ou],function i6(n){dy.set(n[Ou],n)}(e)):n[fy]=e}let py;function gy(n,e){return py(n,e)}function Wu(n){const e=n[ut];return An(e)?e[ut]:e}function k1(n){return F1(n[Ru])}function N1(n){return F1(n[Mr])}function F1(n){for(;null!==n&&!An(n);)n=n[Mr];return n}function Ma(n,e,t,r,i){if(null!=r){let o,s=!1;An(r)?o=r:Hn(r)&&(s=!0,r=r[vt]);const a=et(r);0===n&&null!==t?null==i?B1(e,t,a):rs(e,t,a,i||null,!0):1===n&&null!==t?rs(e,t,a,i||null,!0):2===n?If(e,a,s):3===n&&e.destroyNode(a),null!=o&&function A6(n,e,t,r,i){const o=t[Gr];o!==et(t)&&Ma(e,n,r,o,i);for(let a=Xt;a<t.length;a++){const c=t[a];Qu(c[te],c,n,e,r,o)}}(e,n,o,t,i)}}function gf(n,e){return n.createText(e)}function my(n,e){return n.createComment(function A1(n){return n.replace(Zz,e=>e.replace(e6,t6))}(e))}function mf(n,e,t){return n.createElement(e,t)}function L1(n,e){const t=n[ga],r=t.indexOf(e);VP(e),t.splice(r,1)}function _f(n,e){if(n.length<=Xt)return;const t=Xt+e,r=n[t];if(r){const i=r[xu];null!==i&&i!==n&&L1(i,r),e>0&&(n[t-1][Mr]=r[Mr]);const o=sf(n,Xt+e);!function g6(n,e){Qu(n,e,e[ye],2,null,null),e[vt]=null,e[ln]=null}(r[te],r);const s=o[zr];null!==s&&s.detachView(o[te]),r[ut]=null,r[Mr]=null,r[Ie]&=-129}return r}function _y(n,e){if(!(256&e[Ie])){const t=e[ye];e[ku]&&bP(e[ku]),e[Nu]&&bP(e[Nu]),t.destroyNode&&Qu(n,e,t,3,null,null),function y6(n){let e=n[Ru];if(!e)return yy(n[te],n);for(;e;){let t=null;if(Hn(e))t=e[Ru];else{const r=e[Xt];r&&(t=r)}if(!t){for(;e&&!e[Mr]&&e!==n;)Hn(e)&&yy(e[te],e),e=e[ut];null===e&&(e=n),Hn(e)&&yy(e[te],e),t=e&&e[Mr]}e=t}}(e)}}function yy(n,e){if(!(256&e[Ie])){e[Ie]&=-129,e[Ie]|=256,function b6(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof Uu)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];qr(4,a,c);try{c.call(a)}finally{qr(5,a,c)}}else{qr(4,i,o);try{o.call(i)}finally{qr(5,i,o)}}}}}(n,e),function E6(n,e){const t=n.cleanup,r=e[da];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else t[o].call(r[t[o+1]]);null!==r&&(e[da]=null);const i=e[co];if(null!==i){e[co]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(n,e),1===e[te].type&&e[ye].destroy();const t=e[xu];if(null!==t&&An(e[ut])){t!==e[ut]&&L1(t,e);const r=e[zr];null!==r&&r.detachView(n)}!function o6(n){dy.delete(n[Ou])}(e)}}function vy(n,e,t){return function U1(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[vt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=n.data[r.directiveStart+i];if(o===Dr.None||o===Dr.Emulated)return null}return zn(r,t)}}(n,e.parent,t)}function rs(n,e,t,r,i){n.insertBefore(e,t,r,i)}function B1(n,e,t){n.appendChild(e,t)}function j1(n,e,t,r,i){null!==r?rs(n,e,t,r,i):B1(n,e,t)}function yf(n,e){return n.parentNode(e)}let Iy,wy,bf,z1=function H1(n,e,t){return 40&n.type?zn(n,t):null};function vf(n,e,t,r){const i=vy(n,r,e),o=e[ye],a=function $1(n,e,t){return z1(n,e,t)}(r.parent||e[ln],r,e);if(null!=i)if(Array.isArray(t))for(let c=0;c<t.length;c++)j1(o,i,t[c],a,!1);else j1(o,i,t,a,!1);void 0!==Iy&&Iy(o,r,e,t,i)}function Ku(n,e){if(null!==e){const t=e.type;if(3&t)return zn(e,n);if(4&t)return Ey(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Ku(n,r);{const i=n[e.index];return An(i)?Ey(-1,i):et(i)}}if(32&t)return gy(e,n)()||et(n[e.index]);{const r=q1(n,e);return null!==r?Array.isArray(r)?r[0]:Ku(Wu(n[At]),r):Ku(n,e.next)}}return null}function q1(n,e){return null!==e?n[At][ln].projection[e.projection]:null}function Ey(n,e){const t=Xt+n+1;if(t<e.length){const r=e[t],i=r[te].firstChild;if(null!==i)return Ku(r,i)}return e[Gr]}function If(n,e,t){const r=yf(n,e);r&&function C6(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}function W1(n){n.textContent=""}function by(n,e,t,r,i,o,s){for(;null!=t;){const a=r[t.index],c=t.type;if(s&&0===e&&(a&&dn(et(a),r),t.flags|=2),32!=(32&t.flags))if(8&c)by(n,e,t.child,r,i,o,!1),Ma(e,n,i,a,o);else if(32&c){const u=gy(t,r);let d;for(;d=u();)Ma(e,n,i,d,o);Ma(e,n,i,a,o)}else 16&c?K1(n,e,r,t,i,o):Ma(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Qu(n,e,t,r,i,o){by(t,r,n.firstChild,e,i,o,!1)}function K1(n,e,t,r,i,o){const s=t[At],c=s[ln].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)Ma(e,n,i,c[u],o);else{let u=c;const d=s[ut];ff(r)&&(u.flags|=128),by(n,e,u,d,i,o,!0)}}function Q1(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Y1(n,e,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&k_(n,e,r),null!==i&&Q1(n,e,i),null!==o&&function S6(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function xa(){if(void 0!==wy)return wy;if(typeof document<"u")return document;throw new z(210,!1)}function Z1(n){return function Ty(){if(void 0===bf&&(bf=null,Ze.trustedTypes))try{bf=Ze.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return bf}()?.createScriptURL(n)||n}class eM{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${zS})`}}function po(n){return n instanceof eM?n.changingThisBreaksApplicationSecurity:n}function Yu(n,e){const t=function L6(n){return n instanceof eM&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${zS})`)}return t===e}const $6=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Oa=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Oa||{});function xr(n){const e=Xu();return e?e.sanitize(Oa.URL,n)||"":Yu(n,"URL")?po(n):function Ay(n){return(n=String(n)).match($6)?n:"unsafe:"+n}(_e(n))}function aM(n){const e=Xu();if(e)return Z1(e.sanitize(Oa.RESOURCE_URL,n)||"");if(Yu(n,"ResourceURL"))return Z1(po(n));throw new z(904,!1)}function Xu(){const n=j();return n&&n[ha].sanitizer}const ka=new ee("ENVIRONMENT_INITIALIZER"),uM=new ee("INJECTOR",-1),lM=new ee("INJECTOR_DEF_TYPES");class My{get(e,t=Au){if(t===Au){const r=new Error(`NullInjectorError: No provider for ${jt(e)}!`);throw r.name="NullInjectorError",r}return t}}function Zu(n){return{\u0275providers:n}}function dM(...n){return{\u0275providers:hM(0,n),\u0275fromNgModule:!0}}function hM(n,...e){const t=[],r=new Set;let i;const o=s=>{t.push(s)};return Aa(e,s=>{const a=s;wf(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&fM(i,o),t}function fM(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];Ry(i,o=>{e(o,r)})}}function wf(n,e,t,r){if(!(n=pe(n)))return!1;let i=null,o=Vh(n);const s=!o&&Re(n);if(o||s){if(s&&!s.standalone)return!1;i=n}else{const c=n.ngModule;if(o=Vh(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of c)wf(u,e,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;r.add(i);try{Aa(o.imports,d=>{wf(d,e,t,r)&&(u||=[],u.push(d))})}finally{}void 0!==u&&fM(u,e)}if(!a){const u=es(i)||(()=>new i);e({provide:i,useFactory:u,deps:ke},i),e({provide:lM,useValue:i,multi:!0},i),e({provide:ka,useValue:()=>ne(i),multi:!0},i)}const c=o.providers;if(null!=c&&!a){const u=n;Ry(c,d=>{e(d,u)})}}}return i!==n&&void 0!==n.providers}function Ry(n,e){for(let t of n)b_(t)&&(t=t.\u0275providers),Array.isArray(t)?Ry(t,e):e(t)}const tG=$e({provide:String,useValue:$e});function xy(n){return null!==n&&"object"==typeof n&&tG in n}function is(n){return"function"==typeof n}const Oy=new ee("Set Injector scope."),Tf={},rG={};let ky;function Af(){return void 0===ky&&(ky=new My),ky}class ir{}class Na extends ir{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Fy(e,s=>this.processProvider(s)),this.records.set(uM,Fa(void 0,this)),i.has("environment")&&this.records.set(ir,Fa(void 0,this));const o=this.records.get(Oy);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(lM.multi,ke,Ce.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=so(this),r=jn(void 0);try{return e()}finally{so(t),jn(r)}}get(e,t=Au,r=Ce.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(ZS))return e[ZS](this);r=Bh(r);const o=so(this),s=jn(void 0);try{if(!(r&Ce.SkipSelf)){let c=this.records.get(e);if(void 0===c){const u=function cG(n){return"function"==typeof n||"object"==typeof n&&n instanceof ee}(e)&&Fh(e);c=u&&this.injectableDefInScope(u)?Fa(Ny(e),Tf):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&Ce.Self?Af():this.parent).get(e,t=r&Ce.Optional&&t===Au?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Uh]=a[Uh]||[]).unshift(jt(e)),o)throw a;return function iH(n,e,t,r){const i=n[Uh];throw e[YS]&&i.unshift(e[YS]),n.message=function oH(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=jt(e);if(Array.isArray(e))i=e.map(jt).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):jt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Z5,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Uh]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{jn(s),so(o)}}resolveInjectorInitializers(){const e=so(this),t=jn(void 0);try{const i=this.get(ka.multi,ke,Ce.Self);for(const o of i)o()}finally{so(e),jn(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(jt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new z(205,!1)}processProvider(e){let t=is(e=pe(e))?e:pe(e&&e.provide);const r=function oG(n){return xy(n)?Fa(void 0,n.useValue):Fa(mM(n),Tf)}(e);if(is(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Fa(void 0,Tf,!0),i.factory=()=>R_(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Tf&&(t.value=rG,t.value=t.factory()),"object"==typeof t.value&&t.value&&function aG(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=pe(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Ny(n){const e=Fh(n),t=null!==e?e.factory:es(n);if(null!==t)return t;if(n instanceof ee)throw new z(204,!1);if(n instanceof Function)return function iG(n){const e=n.length;if(e>0)throw function zu(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new z(204,!1);const t=function Q5(n){return n&&(n[Lh]||n[qS])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new z(204,!1)}function mM(n,e,t){let r;if(is(n)){const i=pe(n);return es(i)||Ny(i)}if(xy(n))r=()=>pe(n.useValue);else if(function gM(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...R_(n.deps||[]));else if(function pM(n){return!(!n||!n.useExisting)}(n))r=()=>ne(pe(n.useExisting));else{const i=pe(n&&(n.useClass||n.provide));if(!function sG(n){return!!n.deps}(n))return es(i)||Ny(i);r=()=>new i(...R_(n.deps))}return r}function Fa(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Fy(n,e){for(const t of n)Array.isArray(t)?Fy(t,e):t&&b_(t)?Fy(t.\u0275providers,e):e(t)}const Vy=new ee("AppId",{providedIn:"root",factory:()=>uG}),uG="ng",_M=new ee("Platform Initializer"),bi=new ee("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),yM=new ee("CSP nonce",{providedIn:"root",factory:()=>xa().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),vM=new ee("",{providedIn:"root",factory:()=>new Set});function lG(){const n=new Va;return"browser"===X(bi)&&(n.store=function dG(n,e){const t=n.getElementById(e+"-state");if(t?.textContent)try{return JSON.parse(t.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}(xa(),X(Vy))),n}let Va=(()=>{class n{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=oe({token:n,providedIn:"root",factory:lG})}get(t,r){return void 0!==this.store[t]?this.store[t]:r}set(t,r){this.store[t]=r}remove(t){delete this.store[t]}hasKey(t){return this.store.hasOwnProperty(t)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(t,r){this.onSerializeCallbacks[t]=r}toJson(){for(const t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return n})();const Ly="h",Uy="b";var La=function(n){return n.FirstChild="f",n.NextSibling="n",n}(La||{});const By="e",jy="t",el="c",Df="x",Ua="r",$y="i",Hy="n",Sf="d",zy="__\u0275nghData__",tl="ngh";let IM=(n,e,t)=>null;function fG(n,e,t=!1){let r=n.getAttribute(tl);if(null==r)return null;const[i,o]=r.split("|");if(r=t?o:i,!r)return null;const s=t?i:o?`|${o}`:"";let a={};if(""!==r){const u=e.get(Va,null,{optional:!0});null!==u&&(a=u.get(zy,[])[Number(r)])}const c={data:a,firstChild:n.firstChild??null};return t&&(c.firstChild=n,Pf(c,0,n.nextSibling)),s?n.setAttribute(tl,s):n.removeAttribute(tl),c}function Gy(n,e,t=!1){return IM(n,e,t)}function EM(n){let e=n._lView;return 2===e[te].type?null:(V_(e)&&(e=e[we]),e)}function Pf(n,e,t){n.segmentHeads??={},n.segmentHeads[e]=t}function qy(n,e){return n.segmentHeads?.[e]??null}function bM(n,e){return n.data[el]?.[e]??null}function Wy(n,e){const t=bM(n,e)??[];let r=0;for(let i of t)r+=i[Ua]*(i[Df]??1);return r}function Mf(n,e){if(typeof n.disconnectedNodes>"u"){const t=n.data[Sf];n.disconnectedNodes=t?new Set(t):null}return!!n.disconnectedNodes?.has(e)}class vG{}class CM{}class EG{resolveComponentFactory(e){throw function IG(n){const e=Error(`No component factory found for ${jt(n)}.`);return e.ngComponent=n,e}(e)}}let Rf=(()=>{class n{static{this.NULL=new EG}}return n})();function bG(){return Ba(en(),j())}function Ba(n,e){return new or(zn(n,e))}let or=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=bG}}return n})();function CG(n){return n instanceof or?n.nativeElement:n}class TM{}let Ci=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function wG(){const n=j(),t=nr(en().index,n);return(Hn(t)?t:n)[ye]}()}}return n})(),TG=(()=>{class n{static{this.\u0275prov=oe({token:n,providedIn:"root",factory:()=>null})}}return n})();class ja{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const AM=new ja("16.2.12"),Ky={};function MM(n,e=null,t=null,r){const i=RM(n,e,t,r);return i.resolveInjectorInitializers(),i}function RM(n,e=null,t=null,r,i=new Set){const o=[t||ke,dM(n)];return r=r||("object"==typeof n?void 0:jt(n)),new Na(o,e||Af(),r||null,i)}let hn=(()=>{class n{static{this.THROW_IF_NOT_FOUND=Au}static{this.NULL=new My}static create(t,r){if(Array.isArray(t))return MM({name:""},r,t,"");{const i=t.name??"";return MM({name:i},t.parent,t.providers,i)}}static{this.\u0275prov=oe({token:n,providedIn:"any",factory:()=>ne(uM)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();function Yy(n){return n.ngOriginalError}class wi{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Yy(e);for(;t&&Yy(t);)t=Yy(t);return t||null}}function Jy(n){return e=>{setTimeout(n,void 0,e)}}const gt=class OG extends Tr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Jy(o),i&&(i=Jy(i)),s&&(s=Jy(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof Bn&&e.add(a),a}};function OM(...n){}class Ve{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gt(!1),this.onMicrotaskEmpty=new gt(!1),this.onStable=new gt(!1),this.onError=new gt(!1),typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function kG(){const n="function"==typeof Ze.requestAnimationFrame;let e=Ze[n?"requestAnimationFrame":"setTimeout"],t=Ze[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function VG(n){const e=()=>{!function FG(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ze,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Zy(n),n.isCheckStableRunning=!0,Xy(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Zy(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{if(function UG(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,o,s,a);try{return kM(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),NM(n)}},onInvoke:(t,r,i,o,s,a,c)=>{try{return kM(n),t.invoke(i,o,s,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),NM(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,Zy(n),Xy(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ve.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(Ve.isInAngularZone())throw new z(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,NG,OM,OM);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const NG={};function Xy(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Zy(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function kM(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function NM(n){n._nesting--,Xy(n)}const FM=new ee("",{providedIn:"root",factory:VM});function VM(){const n=X(Ve);let e=!0;return function L5(...n){const e=wu(n),t=function R5(n,e){return"number"==typeof y_(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Xn(r[0]):aa(t)(Bt(r,e)):jr}(new ct(i=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{i.next(e),i.complete()})}),new ct(i=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{Ve.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=n.onUnstable.subscribe(()=>{Ve.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe($S()))}function Ti(n){return n instanceof Function?n():n}function Ha(n){return"browser"===(n??X(hn)).get(bi)}let ev=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=oe({token:n,providedIn:"root",factory:()=>new n})}}return n})();function nl(n){for(;n;){n[Ie]|=64;const e=Wu(n);if(V_(n)&&!e)return n;n=e}return null}const Of=new ee(""),$M=new ee("",{providedIn:"root",factory:()=>!1});let kf=null;function qM(n,e){return n[e]??QM()}function WM(n,e){const t=QM();t.producerNode?.length&&(n[e]=kf,t.lView=n,kf=KM())}const QG={...mP,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{nl(n.lView)},lView:null};function KM(){return Object.create(QG)}function QM(){return kf??=KM(),kf}const ve={};function O(n){YM(xe(),j(),Sn()+n,!1)}function YM(n,e,t,r){if(!r)if(3==(3&e[Ie])){const o=n.preOrderCheckHooks;null!==o&&Jh(e,o,t)}else{const o=n.preOrderHooks;null!==o&&Xh(e,o,0,t)}ts(t)}function B(n,e=Ce.Default){const t=j();return null===t?ne(n,e):a1(en(),t,pe(n),e)}function Nf(n,e,t,r,i,o,s,a,c,u,d){const h=e.blueprint.slice();return h[vt]=i,h[Ie]=140|r,(null!==u||n&&2048&n[Ie])&&(h[Ie]|=2048),FP(h),h[ut]=h[fa]=n,h[Tt]=t,h[ha]=s||n&&n[ha],h[ye]=a||n&&n[ye],h[ao]=c||n&&n[ao]||null,h[ln]=o,h[Ou]=function r6(){return n6++}(),h[yi]=d,h[hP]=u,h[At]=2==e.type?n[At]:h,h}function za(n,e,t,r,i){let o=n.data[e];if(null===o)o=function tv(n,e,t,r,i){const o=$P(),s=G_(),c=n.data[e]=function rq(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return ya()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(n,e,t,r,i),function nz(){return fe.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function Lu(){const n=fe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Wr(o,!0),o}function rl(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function XM(n,e,t,r,i){const o=qM(e,ku),s=Sn(),a=2&r;try{ts(-1),a&&e.length>we&&YM(n,e,we,!1),qr(a?2:0,i);const u=a?o:null,d=U_(u);try{null!==u&&(u.dirty=!1),t(r,i)}finally{B_(u,d)}}finally{a&&null===e[ku]&&WM(e,ku),ts(s),qr(a?3:1,i)}}function nv(n,e,t){if(F_(e)){const r=fr(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{fr(r)}}}function rv(n,e,t){jP()&&(function lq(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;Zo(t)&&function _q(n,e,t){const r=zn(e,n),i=ZM(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=Ff(n,Nf(n,i,null,s,r,e,null,n[ha].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||ef(t,e),dn(r,e);const s=t.initialInputs;for(let a=i;a<o;a++){const c=n.data[a],u=ns(e,n,a,t);dn(u,e),null!==s&&yq(0,a-i,u,c,0,s),Rr(c)&&(nr(t.index,e)[Tt]=ns(e,n,a,t))}}(n,e,t,zn(t,e)),64==(64&t.flags)&&iR(n,e,t))}function iv(n,e,t=zn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(e,n):n[s];n[i++]=a}}}function ZM(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=ov(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function ov(n,e,t,r,i,o,s,a,c,u,d){const h=we+r,p=h+i,m=function JG(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:ve);return t}(h,p),y="function"==typeof u?u():u;return m[te]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:d}}let eR=n=>null;function eq(n){T1(n)?W1(n):function mG(n){const e=xa(),t=e.createNodeIterator(n,NodeFilter.SHOW_COMMENT,{acceptNode(o){const s=function gG(n){return n.textContent?.replace(/\s/gm,"")}(o);return"ngetn"===s||"ngtns"===s?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}});let r;const i=[];for(;r=t.nextNode();)i.push(r);for(const o of i)"ngetn"===o.textContent?o.replaceWith(e.createTextNode("")):o.remove()}(n)}function tR(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const o=n[i];null===r?nR(t,e,i,o):r.hasOwnProperty(i)&&nR(t,e,r[i],o)}return t}function nR(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function sr(n,e,t,r,i,o,s,a){const c=zn(e,t);let d,u=e.inputs;!a&&null!=u&&(d=u[r])?(lv(n,t,d,r,i),Zo(e)&&function sq(n,e){const t=nr(e,n);16&t[Ie]||(t[Ie]|=64)}(t,e.index)):3&e.type&&(r=function oq(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(c,r,i))}function sv(n,e,t,r){if(jP()){const i=null===r?null:{"":-1},o=function hq(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(sP(e,s.selectors,!1))if(r||(r=[]),Rr(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),av(n,e,a.length)}else r.unshift(s),av(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&rR(n,e,t,s,i,a),i&&function fq(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new z(-301,!1);r.push(e[i],o)}}}(t,r,i)}t.mergedAttrs=Pu(t.mergedAttrs,t.attrs)}function rR(n,e,t,r,i,o){for(let u=0;u<r.length;u++)ry(ef(t,e),n,r[u].type);!function gq(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let u=0;u<r.length;u++){const d=r[u];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,c=rl(n,e,r.length,null);for(let u=0;u<r.length;u++){const d=r[u];t.mergedAttrs=Pu(t.mergedAttrs,d.hostAttrs),mq(n,t,e,c,d),pq(c,d,i),null!==d.contentQueries&&(t.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=64);const h=d.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function iq(n,e,t){const i=e.directiveEnd,o=n.data,s=e.attrs,a=[];let c=null,u=null;for(let d=e.directiveStart;d<i;d++){const h=o[d],p=t?t.get(h):null,y=p?p.outputs:null;c=tR(h.inputs,d,c,p?p.inputs:null),u=tR(h.outputs,d,u,y);const v=null===c||null===s||oP(e)?null:vq(c,d,s);a.push(v)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}(n,t,o)}function iR(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function iz(){return fe.lFrame.currentDirectiveIndex}();try{ts(o);for(let a=r;a<i;a++){const c=n.data[a],u=e[a];W_(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&dq(c,u)}}finally{ts(-1),W_(s)}}function dq(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function av(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function pq(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Rr(e)&&(t[""]=n)}}function mq(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=es(i.type)),s=new Uu(o,Rr(i),B);n.blueprint[r]=s,t[r]=s,function cq(n,e,t,r,i){const o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function uq(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,o)}}(n,e,r,rl(n,t,i.hostVars,ve),i)}function Qr(n,e,t,r,i,o){const s=zn(n,e);!function cv(n,e,t,r,i,o,s){if(null==o)n.removeAttribute(e,i,t);else{const a=null==s?_e(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}(e[ye],s,o,n.value,t,r,i)}function yq(n,e,t,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)oR(r,t,s[a++],s[a++],s[a++])}function oR(n,e,t,r,i){const o=fr(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==n.setInput?n.setInput(e,i,t,r):e[r]=i}finally{fr(o)}}function vq(n,e,t){let r=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===r&&(r=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function sR(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null,null]}function aR(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const o=t[r+1];if(-1!==o){const s=n.data[o];Q_(t[r]),s.contentQueries(2,e[o],o)}}}function Ff(n,e){return n[Ru]?n[dP][Mr]=e:n[Ru]=e,n[dP]=e,e}function uv(n,e,t){Q_(0);const r=fr(null);try{e(n,t)}finally{fr(r)}}function cR(n){return n[da]||(n[da]=[])}function uR(n){return n.cleanup||(n.cleanup=[])}function dR(n,e){const t=n[ao],r=t?t.get(wi,null):null;r&&r.handleError(e)}function lv(n,e,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];oR(n.data[s],e[s],r,a,i)}}function Ai(n,e,t){const r=Kh(e,n);!function V1(n,e,t){n.setValue(e,t)}(n[ye],r,t)}function Iq(n,e){const t=nr(e,n),r=t[te];!function Eq(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[vt];null!==i&&null===t[yi]&&(t[yi]=Gy(i,t[ao])),dv(r,t,t[Tt])}function dv(n,e,t){Y_(e);try{const r=n.viewQuery;null!==r&&uv(1,r,t);const i=n.template;null!==i&&XM(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&aR(n,e),n.staticViewQueries&&uv(2,n.viewQuery,t);const o=n.components;null!==o&&function bq(n,e){for(let t=0;t<e.length;t++)Iq(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Ie]&=-5,J_()}}let hR=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function kH(n,e,t){const r=Object.create(NH);t&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=e;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>IP(r),run:()=>{if(r.dirty=!1,r.hasRun&&!EP(r))return;r.hasRun=!0;const s=U_(r);try{r.cleanupFn(),r.cleanupFn=PP,r.fn(i)}finally{B_(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(t,u=>{this.all.has(u)&&this.queue.set(u,o)},i);let a;this.all.add(s),s.notify();const c=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=oe({token:n,providedIn:"root",factory:()=>new n})}}return n})();function Vf(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=I_(i,a):2==o&&(r=I_(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function il(n,e,t,r,i=!1){for(;null!==t;){const o=e[t.index];null!==o&&r.push(et(o)),An(o)&&fR(o,r);const s=t.type;if(8&s)il(n,e,t.child,r);else if(32&s){const a=gy(t,e);let c;for(;c=a();)r.push(c)}else if(16&s){const a=q1(e,t);if(Array.isArray(a))r.push(...a);else{const c=Wu(e[At]);il(c[te],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function fR(n,e){for(let t=Xt;t<n.length;t++){const r=n[t],i=r[te].firstChild;null!==i&&il(r[te],r,i,e)}n[Gr]!==n[vt]&&e.push(n[Gr])}function Lf(n,e,t,r=!0){const i=e[ha],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{pR(n,e,n.template,t)}catch(c){throw r&&dR(e,c),c}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function pR(n,e,t,r){const i=e[Ie];if(256!=(256&i)){e[ha].effectManager?.flush(),Y_(e);try{FP(e),function zP(n){return fe.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&XM(n,e,t,2,r);const s=3==(3&i);if(s){const u=n.preOrderCheckHooks;null!==u&&Jh(e,u,null)}else{const u=n.preOrderHooks;null!==u&&Xh(e,u,0,null),X_(e,0)}if(function Tq(n){for(let e=k1(n);null!==e;e=N1(e)){if(!e[fP])continue;const t=e[ga];for(let r=0;r<t.length;r++){GH(t[r])}}}(e),gR(e,2),null!==n.contentQueries&&aR(n,e),s){const u=n.contentCheckHooks;null!==u&&Jh(e,u)}else{const u=n.contentHooks;null!==u&&Xh(e,u,1),X_(e,1)}!function YG(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const r=qM(e,Nu);try{for(let i=0;i<t.length;i++){const o=t[i];if(o<0)ts(~o);else{const s=o,a=t[++i],c=t[++i];rz(a,s),r.dirty=!1;const u=U_(r);try{c(2,e[s])}finally{B_(r,u)}}}}finally{null===e[Nu]&&WM(e,Nu),ts(-1)}}(n,e);const a=n.components;null!==a&&_R(e,a,0);const c=n.viewQuery;if(null!==c&&uv(2,c,r),s){const u=n.viewCheckHooks;null!==u&&Jh(e,u)}else{const u=n.viewHooks;null!==u&&Xh(e,u,2),X_(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[Ie]&=-73,VP(e)}finally{J_()}}}function gR(n,e){for(let t=k1(n);null!==t;t=N1(t))for(let r=Xt;r<t.length;r++)mR(t[r],e)}function Aq(n,e,t){mR(nr(e,n),t)}function mR(n,e){if(!function HH(n){return 128==(128&n[Ie])}(n))return;const t=n[te],r=n[Ie];if(80&r&&0===e||1024&r||2===e)pR(t,n,t.template,n[Tt]);else if(n[Mu]>0){gR(n,1);const i=t.components;null!==i&&_R(n,i,1)}}function _R(n,e,t){for(let r=0;r<e.length;r++)Aq(n,e[r],t)}class ol{get rootNodes(){const e=this._lView,t=e[te];return il(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Tt]}set context(e){this._lView[Tt]=e}get destroyed(){return 256==(256&this._lView[Ie])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[ut];if(An(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(_f(e,r),sf(t,r))}this._attachedToViewContainer=!1}_y(this._lView[te],this._lView)}onDestroy(e){!function UP(n,e){if(256==(256&n[Ie]))throw new z(911,!1);null===n[co]&&(n[co]=[]),n[co].push(e)}(this._lView,e)}markForCheck(){nl(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ie]&=-129}reattach(){this._lView[Ie]|=128}detectChanges(){Lf(this._lView[te],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function _6(n,e){Qu(n,e,e[ye],2,null,null)}(this._lView[te],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=e}}class Dq extends ol{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Lf(e[te],e,e[Tt],!1)}checkNoChanges(){}get context(){return null}}class yR extends Rf{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Re(e);return new sl(t,this.ngModule)}}function vR(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class Pq{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Bh(r);const i=this.injector.get(e,Ky,r);return i!==Ky||t===Ky?i:this.parentInjector.get(e,t,r)}}class sl extends CM{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=vR(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return vR(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function gH(n){return n.map(pH).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=(i=i||this.ngModule)instanceof ir?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new Pq(e,o):e,a=s.get(TM,null);if(null===a)throw new z(407,!1);const h={rendererFactory:a,sanitizer:s.get(TG,null),effectManager:s.get(hR,null),afterRenderEventManager:s.get(ev,null)},p=a.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",y=r?function XG(n,e,t,r){const o=r.get($M,!1)||t===Dr.ShadowDom,s=n.selectRootElement(e,o);return function ZG(n){eR(n)}(s),s}(p,r,this.componentDef.encapsulation,s):mf(p,m,function Sq(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(m)),M=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let D=null;null!==y&&(D=Gy(y,s,!0));const L=ov(0,null,null,1,0,null,null,null,null,null,null),G=Nf(null,L,null,M,null,null,h,p,s,null,D);let Z,se;Y_(G);try{const S=this.componentDef;let E,T=null;S.findHostDirectiveDefs?(E=[],T=new Map,S.findHostDirectiveDefs(S,E,T),E.push(S)):E=[S];const P=function Rq(n,e){const t=n[te],r=we;return n[r]=e,za(t,r,2,"#host",null)}(G,y),x=function xq(n,e,t,r,i,o,s){const a=i[te];!function Oq(n,e,t,r){for(const i of n)e.mergedAttrs=Pu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Vf(e,e.mergedAttrs,!0),null!==t&&Y1(r,t,e))}(r,n,e,s);let c=null;null!==e&&(c=Gy(e,i[ao]));const u=o.rendererFactory.createRenderer(e,t);let d=16;t.signals?d=4096:t.onPush&&(d=64);const h=Nf(i,ZM(t),null,d,i[n.index],n,o,u,null,null,c);return a.firstCreatePass&&av(a,n,r.length-1),Ff(i,h),i[n.index]=h}(P,y,S,E,G,h,p);se=NP(L,we),y&&function Nq(n,e,t,r){if(r)k_(n,t,["ng-version",AM.full]);else{const{attrs:i,classes:o}=function mH(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!Sr(i))break;i=o}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&k_(n,t,i),o&&o.length>0&&Q1(n,t,o.join(" "))}}(p,S,y,r),void 0!==t&&function Fq(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const o=t[i];r.push(null!=o?Array.from(o):null)}}(se,this.ngContentSelectors,t),Z=function kq(n,e,t,r,i,o){const s=en(),a=i[te],c=zn(s,i);rR(a,i,s,t,null,r);for(let d=0;d<t.length;d++)dn(ns(i,a,s.directiveStart+d,s),i);iR(a,i,s),c&&dn(c,i);const u=ns(i,a,s.directiveStart+s.componentOffset,s);if(n[Tt]=i[Tt]=u,null!==o)for(const d of o)d(u,e);return nv(a,s,n),u}(x,S,E,T,G,[Vq]),dv(L,G,null)}finally{J_()}return new Mq(this.componentType,Z,Ba(se,G),G,se)}}class Mq extends vG{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Dq(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;lv(o[te],o,i,e,t),this.previousInputValues.set(e,t),nl(nr(this._tNode.index,o))}}get injector(){return new Pn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function Vq(){const n=en();Yh(j()[te],n)}function He(n){let e=function IR(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Rr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new z(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const s=n;s.inputs=Uf(n.inputs),s.inputTransforms=Uf(n.inputTransforms),s.declaredInputs=Uf(n.declaredInputs),s.outputs=Uf(n.outputs);const a=i.hostBindings;a&&jq(n,a);const c=i.viewQuery,u=i.contentQueries;if(c&&Uq(n,c),u&&Bq(n,u),Nh(n.inputs,i.inputs),Nh(n.declaredInputs,i.declaredInputs),Nh(n.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Nh(s.inputTransforms,i.inputTransforms)),Rr(i)&&i.data.animation){const d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===He&&(t=!1)}}e=Object.getPrototypeOf(e)}!function Lq(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Pu(i.hostAttrs,t=Pu(t,i.hostAttrs))}}(r)}function Uf(n){return n===$r?{}:n===ke?[]:n}function Uq(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function Bq(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,o)=>{e(r,i,o),t(r,i,o)}:e}function jq(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function wR(n){const e=n.inputConfig,t={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(t[r]=i[2])}n.inputTransforms=t}function Bf(n){return!!hv(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function hv(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Yr(n,e,t){return n[e]=t}function al(n,e){return n[e]}function fn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function os(n,e,t,r){const i=fn(n,e,t);return fn(n,e+1,r)||i}function Jr(n,e,t,r){const i=j();return fn(i,va(),e)&&(xe(),Qr(pt(),i,n,e,t,r)),Jr}function qa(n,e,t,r){return fn(n,va(),t)?e+_e(t)+r:ve}function Wa(n,e,t,r,i,o){const a=os(n,function vi(){return fe.lFrame.bindingIndex}(),t,i);return Ii(2),a?e+_e(t)+r+_e(i)+o:ve}const i9=new RegExp(`^(\\d+)*(${Uy}|${Ly})*(.*)`);function mv(n){return n.index-we}function Hf(n,e,t,r){let i=null;const o=mv(r),s=n.data[Hy];if(s?.[o])i=function u9(n,e){const[t,...r]=function s9(n){const e=n.match(i9),[t,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(const[c,u,d]of o.matchAll(/(f|n)(\d*)/g)){const h=parseInt(d,10)||1;a.push(u,h)}return[s,...a]}(n);let i;return i=t===Ly?e[At][vt]:t===Uy?function LM(n){return n.ownerDocument.body}(e[At][vt]):et(e[Number(t)+we]),function c9(n,e){let t=n;for(let r=0;r<e.length;r+=2){const i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case La.FirstChild:t=t.firstChild;break;case La.NextSibling:t=t.nextSibling}}return t}(i,r)}(s[o],t);else if(e.firstChild===r)i=n.firstChild;else{const a=null===r.prev,c=r.prev??r.parent;if(function a9(n){return!n.prev&&8===n.parent?.type}(r))i=qy(n,mv(r.parent));else{let u=zn(c,t);if(a)i=u.firstChild;else{const d=mv(c),h=qy(n,d);i=2===c.type&&h?zf(Wy(n,d)+1,h):u.nextSibling}}}return i}function zf(n,e){let t=e;for(let r=0;r<n;r++)t=t.nextSibling;return t}function ce(n,e,t,r,i,o,s,a){const c=j(),u=xe(),d=n+we,h=u.firstCreatePass?function h9(n,e,t,r,i,o,s,a,c){const u=e.consts,d=za(e,n,4,s||null,lo(u,a));sv(e,t,d,lo(u,c)),Yh(e,d);const h=d.tView=ov(2,d,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return null!==e.queries&&(e.queries.template(e,d),h.queries=e.queries.embeddedTView(d)),d}(d,u,c,e,t,r,i,o,s):u.data[d];Wr(h,!1);const p=VR(u,c,h,n);Qh()&&vf(u,c,p,h),dn(p,c),Ff(c,c[d]=sR(p,c,p,h)),Gh(h)&&rv(u,c,h),null!=s&&iv(c,h,a)}let VR=LR;function LR(n,e,t,r){return ho(!0),e[ye].createComment("")}function f9(n,e,t,r){const i=e[yi],o=!i||ya()||Mf(i,r);if(ho(o),o)return LR(0,e);const s=i.data[jy]?.[r]??null;null!==s&&null!==t.tView&&null===t.tView.ssrId&&(t.tView.ssrId=s);const a=Hf(i,n,e,t);return Pf(i,r,a),zf(Wy(i,r),a)}function W(n,e,t){const r=j();return fn(r,va(),e)&&sr(xe(),pt(),r,n,e,r[ye],t,!1),W}function yv(n,e,t,r,i){const s=i?"class":"style";lv(n,t,e.inputs[s],s,r)}function C(n,e,t,r){const i=j(),o=xe(),s=we+n,a=i[ye],c=o.firstCreatePass?function m9(n,e,t,r,i,o){const s=e.consts,c=za(e,n,2,r,lo(s,i));return sv(e,t,c,lo(s,o)),null!==c.attrs&&Vf(c,c.attrs,!1),null!==c.mergedAttrs&&Vf(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,o,i,e,t,r):o.data[s],u=BR(o,i,c,a,e,n);i[s]=u;const d=Gh(c);return Wr(c,!0),Y1(a,u,c),32!=(32&c.flags)&&Qh()&&vf(o,i,u,c),0===function WH(){return fe.lFrame.elementDepthCount}()&&dn(u,i),function KH(){fe.lFrame.elementDepthCount++}(),d&&(rv(o,i,c),nv(o,c,i)),null!==r&&iv(i,c),C}function w(){let n=en();G_()?function q_(){fe.lFrame.isParent=!1}():(n=n.parent,Wr(n,!1));const e=n;(function YH(n){return fe.skipHydrationRootTNode===n})(e)&&function ez(){fe.skipHydrationRootTNode=null}(),function QH(){fe.lFrame.elementDepthCount--}();const t=xe();return t.firstCreatePass&&(Yh(t,n),F_(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function gz(n){return 0!=(8&n.flags)}(e)&&yv(t,e,j(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function mz(n){return 0!=(16&n.flags)}(e)&&yv(t,e,j(),e.stylesWithoutHost,!1),w}function q(n,e,t,r){return C(n,e,t,r),w(),q}let BR=(n,e,t,r,i,o)=>(ho(!0),mf(r,i,XP()));function _9(n,e,t,r,i,o){const s=e[yi],a=!s||ya()||Mf(s,o);if(ho(a),a)return mf(r,i,XP());const c=Hf(s,n,e,t);return bM(s,o)&&Pf(s,o,c.nextSibling),s&&(w1(t)||T1(c))&&Zo(t)&&(function XH(n){fe.skipHydrationRootTNode=n}(t),W1(c)),c}let $R=(n,e,t,r)=>(ho(!0),my(e[ye],""));function I9(n,e,t,r){let i;const o=e[yi],s=!o||ya();if(ho(s),s)return my(e[ye],"");const a=Hf(o,n,e,t),c=function yG(n,e){const t=n.data;let r=t[By]?.[e]??null;return null===r&&t[el]?.[e]&&(r=Wy(n,e)),r}(o,r);return Pf(o,r,a),i=zf(c,a),i}function Nt(){return j()}function dl(n){return!!n&&"function"==typeof n.then}function HR(n){return!!n&&"function"==typeof n.subscribe}function ae(n,e,t,r){const i=j(),o=xe(),s=en();return function GR(n,e,t,r,i,o,s){const a=Gh(r),u=n.firstCreatePass&&uR(n),d=e[Tt],h=cR(e);let p=!0;if(3&r.type||s){const v=zn(r,e),b=s?s(v):v,M=h.length,D=s?G=>s(et(G[r.index])):r.index;let L=null;if(!s&&a&&(L=function b9(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=e[da],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(n,e,i,r.index)),null!==L)(L.__ngLastListenerFn__||L).__ngNextListenerFn__=o,L.__ngLastListenerFn__=o,p=!1;else{o=WR(r,e,d,o,!1);const G=t.listen(b,i,o);h.push(o,G),u&&u.push(i,D,M,M+1)}}else o=WR(r,e,d,o,!1);const m=r.outputs;let y;if(p&&null!==m&&(y=m[i])){const v=y.length;if(v)for(let b=0;b<v;b+=2){const Z=e[y[b]][y[b+1]].subscribe(o),se=h.length;h.push(o,Z),u&&u.push(i,r.index,se,-(se+1))}}}(o,i,i[ye],s,n,e,r),ae}function qR(n,e,t,r){try{return qr(6,e,t),!1!==t(r)}catch(i){return dR(n,i),!1}finally{qr(7,e,t)}}function WR(n,e,t,r,i){return function o(s){if(s===Function)return r;nl(n.componentOffset>-1?nr(n.index,e):e);let c=qR(e,t,r,s),u=o.__ngNextListenerFn__;for(;u;)c=qR(e,t,u,s)&&c,u=u.__ngNextListenerFn__;return i&&!1===c&&s.preventDefault(),c}}function le(n=1){return function sz(n){return(fe.lFrame.contextLView=function az(n,e){for(;n>0;)e=e[fa],n--;return e}(n,fe.lFrame.contextLView))[Tt]}(n)}function Gf(n,e,t,r,i){const o=j(),s=qa(o,e,t,r);return s!==ve&&sr(xe(),pt(),o,n,s,o[ye],i,!1),Gf}function qf(n,e){return n<<17|e<<2}function go(n){return n>>17&32767}function Ev(n){return 2|n}function ss(n){return(131068&n)>>2}function bv(n,e){return-131069&n|e<<2}function Cv(n){return 1|n}function rx(n,e,t,r,i){const o=n[t+1],s=null===e;let a=r?go(o):ss(o),c=!1;for(;0!==a&&(!1===c||s);){const d=n[a+1];R9(n[a],e)&&(c=!0,n[a+1]=r?Cv(d):Ev(d)),a=r?go(d):ss(d)}c&&(n[t+1]=r?Ev(o):Cv(o))}function R9(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Da(n,e)>=0}const Ht={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ix(n){return n.substring(Ht.key,Ht.keyEnd)}function ox(n,e){const t=Ht.textEnd;return t===e?-1:(e=Ht.keyEnd=function N9(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Ht.key=e,t),ec(n,e,t))}function ec(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Wf(n,e,t){return Or(n,e,t,!1),Wf}function Dt(n,e){return Or(n,e,null,!0),Dt}function Zr(n,e){for(let t=function O9(n){return function ax(n){Ht.key=0,Ht.keyEnd=0,Ht.value=0,Ht.valueEnd=0,Ht.textEnd=n.length}(n),ox(n,ec(n,0,Ht.textEnd))}(e);t>=0;t=ox(e,t))rr(n,ix(e),!0)}function Or(n,e,t,r){const i=j(),o=xe(),s=Ii(2);o.firstUpdatePass&&dx(o,n,s,r),e!==ve&&fn(i,s,e)&&fx(o,o.data[Sn()],i,i[ye],n,i[s+1]=function W9(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=jt(po(n)))),n}(e,t),r,s)}function lx(n,e){return e>=n.expandoStartIndex}function dx(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[Sn()],s=lx(n,t);gx(o,r)&&null===e&&!s&&(e=!1),e=function B9(n,e,t,r){const i=function K_(n){const e=fe.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=hl(t=wv(null,n,e,t,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==i)if(t=wv(i,n,e,t,r),null===o){let c=function j9(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==ss(r))return n[go(r)]}(n,e,r);void 0!==c&&Array.isArray(c)&&(c=wv(null,n,e,c[1],r),c=hl(c,e.attrs,r),function $9(n,e,t,r){n[go(t?e.classBindings:e.styleBindings)]=r}(n,e,r,c))}else o=function H9(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=hl(r,n[o].hostAttrs,t);return hl(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function P9(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=go(s),c=ss(s);n[r]=t;let d,u=!1;if(Array.isArray(t)?(d=t[1],(null===d||Da(t,d)>0)&&(u=!0)):d=t,i)if(0!==c){const p=go(n[a+1]);n[r+1]=qf(p,a),0!==p&&(n[p+1]=bv(n[p+1],r)),n[a+1]=function D9(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=qf(a,0),0!==a&&(n[a+1]=bv(n[a+1],r)),a=r;else n[r+1]=qf(c,0),0===a?a=r:n[c+1]=bv(n[c+1],r),c=r;u&&(n[r+1]=Ev(n[r+1])),rx(n,d,r,!0),rx(n,d,r,!1),function M9(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Da(o,e)>=0&&(t[r+1]=Cv(t[r+1]))}(e,d,n,r,o),s=qf(a,c),o?e.classBindings=s:e.styleBindings=s}(i,o,e,t,s,r)}}function wv(n,e,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],r=hl(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function hl(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),rr(n,s,!!t||e[++o]))}return void 0===n?null:n}function fx(n,e,t,r,i,o,s,a){if(!(3&e.type))return;const c=n.data,u=c[a+1],d=function S9(n){return 1==(1&n)}(u)?px(c,e,t,i,ss(u),s):void 0;Kf(d)||(Kf(o)||function A9(n){return 2==(2&n)}(u)&&(o=px(c,null,t,i,a,s)),function D6(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:fo.DashCase;null==i?n.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=fo.Important),n.setStyle(t,r,i,o))}}(r,s,Kh(Sn(),t),i,o))}function px(n,e,t,r,i,o){const s=null===e;let a;for(;i>0;){const c=n[i],u=Array.isArray(c),d=u?c[1]:c,h=null===d;let p=t[i+1];p===ve&&(p=h?ke:void 0);let m=h?sy(p,r):d===r?p:void 0;if(u&&!Kf(m)&&(m=sy(c,r)),Kf(m)&&(a=m,s))return a;const y=n[i+1];i=s?go(y):ss(y)}if(null!==e){let c=o?e.residualClasses:e.residualStyles;null!=c&&(a=sy(c,r))}return a}function Kf(n){return void 0!==n}function gx(n,e){return 0!=(n.flags&(e?8:16))}function R(n,e=""){const t=j(),r=xe(),i=n+we,o=r.firstCreatePass?za(r,i,1,e,null):r.data[i],s=mx(r,t,o,e,n);t[i]=s,Qh()&&vf(r,t,s,o),Wr(o,!1)}let mx=(n,e,t,r,i)=>(ho(!0),gf(e[ye],r));function K9(n,e,t,r,i){const o=e[yi],s=!o||ya()||Mf(o,i);return ho(s),s?gf(e[ye],r):Hf(o,n,e,t)}function Te(n){return Ke("",n,""),Te}function Ke(n,e,t){const r=j(),i=qa(r,n,e,t);return i!==ve&&Ai(r,Sn(),i),Ke}function as(n,e,t,r,i){const o=j(),s=Wa(o,n,e,t,r,i);return s!==ve&&Ai(o,Sn(),s),as}function Qf(n,e,t){!function kr(n,e,t,r){const i=xe(),o=Ii(2);i.firstUpdatePass&&dx(i,null,o,r);const s=j();if(t!==ve&&fn(s,o,t)){const a=i.data[Sn()];if(gx(a,r)&&!lx(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(t=I_(c,t||"")),yv(i,a,s,t,r)}else!function q9(n,e,t,r,i,o,s,a){i===ve&&(i=ke);let c=0,u=0,d=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==d||null!==h;){const p=c<i.length?i[c+1]:void 0,m=u<o.length?o[u+1]:void 0;let v,y=null;d===h?(c+=2,u+=2,p!==m&&(y=h,v=m)):null===h||null!==d&&d<h?(c+=2,y=d):(u+=2,y=h,v=m),null!==y&&fx(n,e,t,r,y,v,s,a),d=c<i.length?i[c]:null,h=u<o.length?o[u]:null}}(i,a,s,s[ye],s[o+1],s[o+1]=function z9(n,e,t){if(null==t||""===t)return ke;const r=[],i=po(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,o)}}(rr,Zr,qa(j(),n,e,t),!0)}const nc="en-US";let Vx=nc;function Dv(n,e,t,r,i){if(n=pe(n),Array.isArray(n))for(let o=0;o<n.length;o++)Dv(n[o],e,t,r,i);else{const o=xe(),s=j(),a=en();let c=is(n)?n:pe(n.provide);const u=mM(n),d=1048575&a.providerIndexes,h=a.directiveStart,p=a.providerIndexes>>20;if(is(n)||!n.multi){const m=new Uu(u,i,B),y=Pv(c,e,i?d:d+p,h);-1===y?(ry(ef(a,s),o,c),Sv(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[y]=m,s[y]=m)}else{const m=Pv(c,e,d+p,h),y=Pv(c,e,d,d+p),b=y>=0&&t[y];if(i&&!b||!i&&!(m>=0&&t[m])){ry(ef(a,s),o,c);const M=function fW(n,e,t,r,i){const o=new Uu(n,t,B);return o.multi=[],o.index=e,o.componentProviders=0,cO(o,i,r&&!t),o}(i?hW:dW,t.length,i,r,u);!i&&b&&(t[y].providerFactory=M),Sv(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(M),s.push(M)}else Sv(o,n,m>-1?m:y,cO(t[i?y:m],u,!i&&r));!i&&r&&b&&t[y].componentProviders++}}}function Sv(n,e,t,r){const i=is(e),o=function nG(n){return!!n.useClass}(e);if(i||o){const c=(o?pe(e.useClass):e).prototype.ngOnDestroy;if(c){const u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const d=u.indexOf(t);-1===d?u.push(t,[r,c]):u[d+1].push(r,c)}else u.push(t,c)}}}function cO(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Pv(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function dW(n,e,t,r){return Mv(this.multi,[])}function hW(n,e,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=ns(t,t[te],this.providerFactory.index,r);o=a.slice(0,s),Mv(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Mv(i,o);return o}function Mv(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function lt(n,e=[]){return t=>{t.providersResolver=(r,i)=>function lW(n,e,t){const r=xe();if(r.firstCreatePass){const i=Rr(n);Dv(t,r.data,r.blueprint,i,!0),Dv(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class us{}class uO{}class Rv extends us{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new yR(this);const i=tr(e);this._bootstrapComponents=Ti(i.bootstrap),this._r3Injector=RM(e,t,[{provide:us,useValue:this},{provide:Rf,useValue:this.componentFactoryResolver},...r],jt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class xv extends uO{constructor(e){super(),this.moduleType=e}create(e){return new Rv(this.moduleType,e,[])}}class lO extends us{constructor(e){super(),this.componentFactoryResolver=new yR(this),this.instance=null;const t=new Na([...e.providers,{provide:us,useValue:this},{provide:Rf,useValue:this.componentFactoryResolver}],e.parent||Af(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Ov(n,e,t=null){return new lO({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let mW=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=hM(0,t.type),i=r.length>0?Ov([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=oe({token:n,providedIn:"environment",factory:()=>new n(ne(ir))})}}return n})();function Nr(n){n.getStandaloneInjector=e=>e.get(mW).getOrCreateStandaloneInjector(n)}function yl(n,e,t){const r=Dn()+n,i=j();return i[r]===ve?Yr(i,r,t?e.call(t):e()):al(i,r)}function _O(n,e,t,r,i,o){return function EO(n,e,t,r,i,o,s,a){const c=e+t;return function jf(n,e,t,r,i){const o=os(n,e,t,r);return fn(n,e+2,i)||o}(n,c,i,o,s)?Yr(n,c+3,a?r.call(a,i,o,s):r(i,o,s)):function vl(n,e){const t=n[e];return t===ve?void 0:t}(n,c+3)}(j(),Dn(),n,e,t,r,i,o)}function yO(n,e,t,r,i,o,s,a,c){const u=Dn()+n,d=j(),h=function mr(n,e,t,r,i,o){const s=os(n,e,t,r);return os(n,e+2,i,o)||s}(d,u,t,r,i,o);return os(d,u+4,s,a)||h?Yr(d,u+6,c?e.call(c,t,r,i,o,s,a):e(t,r,i,o,s,a)):al(d,u+6)}function UW(){return this._results[Symbol.iterator]()}class Nv{get changes(){return this._changes||(this._changes=new gt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Nv.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=UW)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function gr(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function Mz(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function jW(n,e,t,r=!0){const i=e[te];if(function v6(n,e,t,r){const i=Xt+r,o=t.length;r>0&&(t[i-1][Mr]=e),r<o-Xt?(e[Mr]=t[i],f1(t,Xt+r,e)):(t.push(e),e[Mr]=null),e[ut]=t;const s=e[xu];null!==s&&t!==s&&function I6(n,e){const t=n[ga];e[At]!==e[ut][ut][At]&&(n[fP]=!0),null===t?n[ga]=[e]:t.push(e)}(s,e);const a=e[zr];null!==a&&a.insertView(n),e[Ie]|=128}(i,e,n,t),r){const o=Ey(t,n),s=e[ye],a=yf(s,n[Gr]);null!==a&&function m6(n,e,t,r,i,o){r[vt]=i,r[ln]=e,Qu(n,r,t,1,i,o)}(i,n[ln],s,e,a,o)}}let Di=(()=>{class n{static{this.__NG_ELEMENT_ID__=zW}}return n})();const $W=Di,HW=class extends $W{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=function BW(n,e,t,r){const i=e.tView,a=Nf(n,i,t,4096&n[Ie]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[xu]=n[e.index];const u=n[zr];return null!==u&&(a[zr]=u.createEmbeddedView(i)),dv(i,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:r});return new ol(i)}};function zW(){return ep(en(),j())}function ep(n,e){return 4&n.type?new HW(e,n,Ba(n,e)):null}function wO(n){const e=n[Fu]??[],r=n[ut][ye];for(const i of e)GW(i,r);n[Fu]=ke}function GW(n,e){let t=0,r=n.firstChild;if(r){const i=n.data[Ua];for(;t<i;){const o=r.nextSibling;If(e,r,!1),r=o,t++}}}function TO(n){wO(n);for(let e=Xt;e<n.length;e++)tp(n[e])}function tp(n){const e=n[te];for(let t=we;t<e.bindingStartIndex;t++)An(n[t])?TO(n[t]):Array.isArray(n[t])&&tp(n[t])}let AO=(n,e)=>null;function KW(n,e){const t=n[Fu];return e&&null!==t&&0!==t.length?t[0].data[$y]===e?t.shift():(wO(n),null):null}function DO(n,e){return AO(n,e)}let Fr=(()=>{class n{static{this.__NG_ELEMENT_ID__=YW}}return n})();function YW(){return MO(en(),j())}const JW=Fr,SO=class extends JW{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Ba(this._hostTNode,this._hostLView)}get injector(){return new Pn(this._hostTNode,this._hostLView)}get parentInjector(){const e=tf(this._hostTNode,this._hostLView);if(ey(e)){const t=ju(e,this._hostLView),r=Bu(e);return new Pn(t[te].data[r+8],t)}return new Pn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=PO(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Xt}createEmbeddedView(e,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=DO(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s),c=!!s&&!ff(this._hostTNode);return this.insertImpl(a,i,c),a}createComponent(e,t,r,i,o){const s=e&&!function Hu(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const v=t||{};a=v.index,r=v.injector,i=v.projectableNodes,o=v.environmentInjector||v.ngModuleRef}const c=s?e:new sl(Re(e)),u=r||this.parentInjector;if(!o&&null==c.ngModule){const b=(s?u:this.parentInjector).get(ir,null);b&&(o=b)}const d=Re(c.componentType??{}),h=DO(this._lContainer,d?.id??null),m=c.create(u,i,h?.firstChild??null,o),y=!!h&&!ff(this._hostTNode);return this.insertImpl(m.hostView,a,y),m}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,r){const i=e._lView;if(function zH(n){return An(n[ut])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const u=i[ut],d=new SO(u,u[ln],u[ut]);d.detach(d.indexOf(e))}}const s=this._adjustIndex(t),a=this._lContainer;return jW(a,i,s,!r),e.attachToViewContainerRef(),f1(Fv(a),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=PO(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=_f(this._lContainer,t);r&&(sf(Fv(this._lContainer),t),_y(r[te],r))}detach(e){const t=this._adjustIndex(e,-1),r=_f(this._lContainer,t);return r&&null!=sf(Fv(this._lContainer),t)?new ol(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function PO(n){return n[8]}function Fv(n){return n[8]||(n[8]=[])}function MO(n,e){let t;const r=e[n.index];return An(r)?t=r:(t=sR(r,e,null,n),e[n.index]=t,Ff(e,t)),RO(t,e,n,r),new SO(t,n,e)}let RO=xO;function xO(n,e,t,r){if(n[Gr])return;let i;i=8&t.type?et(r):function XW(n,e){const t=n[ye],r=t.createComment(""),i=zn(e,n);return rs(t,yf(t,i),r,function w6(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[Gr]=i}function ZW(n,e,t,r){if(n[Gr]&&n[Fu])return;const i=e[yi],o=t.index-we,s=function pf(n){let e=n.parent;for(;e;){if(w1(e))return!0;e=e.parent}return!1}(t)||ff(t);if(!i||s||Mf(i,o))return xO(n,e,t,r);const c=qy(i,o),u=i.data[el]?.[o],[d,h]=function WW(n,e){const t=[];for(const r of e)for(let i=0;i<(r[Df]??1);i++){const o={data:r,firstChild:null};r[Ua]>0&&(o.firstChild=n,n=zf(r[Ua],n)),t.push(o)}return[n,t]}(c,u);n[Gr]=d,n[Fu]=h}class Vv{constructor(e){this.queryList=e,this.matches=null}clone(){return new Vv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Lv{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new Lv(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==BO(e,t).matches&&this.queries[t].setDirty()}}class OO{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class Uv{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new Uv(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Bv{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Bv(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,t,t7(t,o)),this.matchTNodeWithReadOption(e,t,nf(t,e,o,!1,!1))}else r===Di?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,nf(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===or||i===Fr||i===Di&&4&t.type)this.addMatch(t.index,-2);else{const o=nf(t,e,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function t7(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function r7(n,e,t,r){return-1===t?function n7(n,e){return 11&n.type?Ba(n,e):4&n.type?ep(n,e):null}(e,n):-2===t?function i7(n,e,t){return t===or?Ba(e,n):t===Di?ep(e,n):t===Fr?MO(e,n):void 0}(n,e,r):ns(n,n[te],t,e)}function kO(n,e,t,r){const i=e[zr].queries[r];if(null===i.matches){const o=n.data,s=t.matches,a=[];for(let c=0;c<s.length;c+=2){const u=s[c];a.push(u<0?null:r7(e,o[u],s[c+1],t.metadata.read))}i.matches=a}return i.matches}function jv(n,e,t,r){const i=n.queries.getByIndex(t),o=i.matches;if(null!==o){const s=kO(n,e,i,t);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)r.push(s[a/2]);else{const u=o[a+1],d=e[-c];for(let h=Xt;h<d.length;h++){const p=d[h];p[xu]===p[ut]&&jv(p[te],p,u,r)}if(null!==d[ga]){const h=d[ga];for(let p=0;p<h.length;p++){const m=h[p];jv(m[te],m,u,r)}}}}}return r}function NO(n){const e=j(),t=xe(),r=qP();Q_(r+1);const i=BO(t,r);if(n.dirty&&function $H(n){return 4==(4&n[Ie])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?jv(t,e,r,[]):kO(t,e,i,r);n.reset(o,CG),n.notifyOnChanges()}return!0}return!1}function FO(n,e,t,r){const i=xe();if(i.firstCreatePass){const o=en();(function UO(n,e,t){null===n.queries&&(n.queries=new Uv),n.queries.track(new Bv(e,t))})(i,new OO(e,t,r),o.index),function a7(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}!function LO(n,e,t){const r=new Nv(4==(4&t));(function nq(n,e,t,r){const i=cR(e);i.push(t),n.firstCreatePass&&uR(n).push(r,i.length-1)})(n,e,r,r.destroy),null===e[zr]&&(e[zr]=new Lv),e[zr].queries.push(new Vv(r))}(i,j(),t)}function BO(n,e){return n.queries.getByIndex(e)}function jO(n,e){return ep(n,e)}const Wv=new ee("Application Initializer");let Kv=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=X(Wv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const o=i();if(dl(o))t.push(o);else if(HR(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Qv=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();const Si=new ee("LocaleId",{providedIn:"root",factory:()=>X(Si,Ce.Optional|Ce.SkipSelf)||function S7(){return typeof $localize<"u"&&$localize.locale||nc}()});let Yv=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Zn(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class R7{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let ik=(()=>{class n{compileModuleSync(t){return new xv(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=Ti(tr(t).declarations).reduce((s,a)=>{const c=Re(a);return c&&s.push(new sl(c)),s},[]);return new R7(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const ck=new ee("");let mo=null;const nI=new ee("PlatformDestroyListeners"),Cl=new ee("appBootstrapListener");class dk{constructor(e,t){this.name=e,this.token=t}}function iK(n){try{const{rootComponent:e,appProviders:t,platformProviders:r}=n,i=function rK(n=[]){if(mo)return mo;const e=function fk(n=[],e){return hn.create({name:e,providers:[{provide:Oy,useValue:"platform"},{provide:nI,useValue:new Set([()=>mo=null])},...n]})}(n);return mo=e,function lk(){!function PH(n){TP=n}(()=>{throw new z(600,!1)})}(),function hk(n){n.get(_M,null)?.forEach(t=>t())}(e),e}(r),o=[uK(),...t||[]],a=new lO({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(Ve);return c.run(()=>{a.resolveInjectorInitializers();const u=a.get(wi,null);let d;c.runOutsideAngular(()=>{d=c.onError.subscribe({next:m=>{u.handleError(m)}})});const h=()=>a.destroy(),p=i.get(nI);return p.add(h),a.onDestroy(()=>{d.unsubscribe(),p.delete(h)}),function mk(n,e,t){try{const r=t();return dl(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(u,c,()=>{const m=a.get(Kv);return m.runInitializers(),m.donePromise.then(()=>{!function Lx(n){hr(n,"Expected localeId to be defined"),"string"==typeof n&&(Vx=n.toLowerCase().replace(/_/g,"-"))}(a.get(Si,nc)||nc);const v=a.get(ls);return void 0!==e&&v.bootstrap(e),v})})})}catch(e){return Promise.reject(e)}}let ls=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=X(vk),this.zoneIsStable=X(FM),this.componentTypes=[],this.components=[],this.isStable=X(Yv).hasPendingTasks.pipe(wn(t=>t?de(!1):this.zoneIsStable),function U5(n,e=io){return n=n??B5,Ut((t,r)=>{let i,o=!0;t.subscribe(kt(r,s=>{const a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}(),$S()),this._injector=X(ir)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof CM;if(!this._injector.get(Kv).done)throw!i&&function la(n){const e=Re(n)||Jt(n)||Tn(n);return null!==e&&e.standalone}(t),new z(405,!1);let s;s=i?t:this._injector.get(Rf).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function tK(n){return n.isBoundToModule}(s)?void 0:this._injector.get(us),u=s.create(hn.NULL,[],r||s.selector,a),d=u.location.nativeElement,h=u.injector.get(ck,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),op(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new z(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;op(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(Cl,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>op(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new z(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function op(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const vk=new ee("",{providedIn:"root",factory:()=>X(wi).handleError.bind(void 0)});function aK(){const n=X(Ve),e=X(wi);return t=>n.runOutsideAngular(()=>e.handleError(t))}let cK=(()=>{class n{constructor(){this.zone=X(Ve),this.applicationRef=X(ls)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Ik(n){return[{provide:Ve,useFactory:n},{provide:ka,multi:!0,useFactory:()=>{const e=X(cK,{optional:!0});return()=>e.initialize()}},{provide:vk,useFactory:aK},{provide:FM,useFactory:VM}]}function uK(n){return Zu([[],Ik(()=>new Ve(function gk(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}(n)))])}let sp=(()=>{class n{static{this.__NG_ELEMENT_ID__=lK}}return n})();function lK(n){return function dK(n,e,t){if(Zo(n)&&!t){const r=nr(n.index,e);return new ol(r,r)}return 47&n.type?new ol(e[At],e):null}(en(),j(),16==(16&n))}class Tk{constructor(){}supports(e){return Bf(e)}create(e){return new mK(e)}}const gK=(n,e)=>e;class mK{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||gK}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<Dk(r,i,o)?t:r,a=Dk(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const u=a-i,d=c-i;if(u!=d){for(let p=0;p<u;p++){const m=p<o.length?o[p]:o[p]=0,y=m+p;d<=y&&y<u&&(o[p]=m+1)}o[s.previousIndex]=d-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Bf(e))throw new z(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function Kq(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new _K(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Ak),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ak),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class _K{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class yK{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class Ak{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new yK,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Dk(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class Sk{constructor(){}supports(e){return e instanceof Map||hv(e)}create(){return new vK}}class vK{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||hv(e)))throw new z(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new IK(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class IK{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Pk(){return new up([new Tk])}let up=(()=>{class n{static{this.\u0275prov=oe({token:n,providedIn:"root",factory:Pk})}constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||Pk()),deps:[[n,new cf,new Mn]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new z(901,!1)}}return n})();function Mk(){return new wl([new Sk])}let wl=(()=>{class n{static{this.\u0275prov=oe({token:n,providedIn:"root",factory:Mk})}constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||Mk()),deps:[[n,new cf,new Mn]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new z(901,!1)}}return n})(),Lk=!1;function xK(){return Zu([{provide:Of,useFactory:()=>{let n=!0;return Ha()&&(n=!!X(Va,{optional:!0})?.get(zy,null)),n&&X(vM).add("hydration"),n}},{provide:ka,useValue:()=>{Ha()&&X(Of)&&(function OK(){const n=xa();let e;for(const t of n.body.childNodes)if(t.nodeType===Node.COMMENT_NODE&&"nghm"===t.textContent?.trim()){e=t;break}if(!e)throw new z(-507,!1)}(),function MK(){Lk||(Lk=!0,function pG(){IM=fG}(),function y9(){BR=_9}(),function Q9(){mx=K9}(),function E9(){$R=I9}(),function p9(){VR=f9}(),function e7(){RO=ZW}(),function QW(){AO=KW}(),function tq(){eR=eq}())}())},multi:!0},{provide:$M,useFactory:()=>Ha()&&X(Of)},{provide:Cl,useFactory:()=>{if(Ha()&&X(Of)){const n=X(ls);return X(hn),()=>{(function RK(n,e){return n.isStable.pipe(gi(r=>r)).toPromise().then(()=>{})})(n).then(()=>{Ve.assertInAngularZone(),function qW(n){const e=n._views;for(const t of e){const r=EM(t);null!==r&&null!==r[vt]&&(Hn(r)?tp(r):(tp(r[vt]),TO(r)))}}(n)})}}return()=>{}},multi:!0}])}function oc(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let uI=null;function _o(){return uI}class VK{}const ar=new ee("DocumentToken");let lI=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:function(){return X(UK)},providedIn:"platform"})}}return n})();const LK=new ee("Location Initialized");let UK=(()=>{class n extends lI{constructor(){super(),this._doc=X(ar),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _o().getBaseHref(this._doc)}onPopState(t){const r=_o().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=_o().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:function(){return new n},providedIn:"platform"})}}return n})();function dI(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Uk(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Pi(n){return n&&"?"!==n[0]?"?"+n:n}let hs=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:function(){return X(jk)},providedIn:"root"})}}return n})();const Bk=new ee("appBaseHref");let jk=(()=>{class n extends hs{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??X(ar).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return dI(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Pi(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+Pi(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+Pi(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(ne(lI),ne(Bk,8))}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),BK=(()=>{class n extends hs{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=dI(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Pi(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Pi(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(ne(lI),ne(Bk,8))}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac})}}return n})(),hI=(()=>{class n{constructor(t){this._subject=new gt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function HK(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Uk($k(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Pi(r))}normalize(t){return n.stripTrailingSlash(function $K(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,$k(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Pi(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Pi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Pi}static{this.joinWithSlash=dI}static{this.stripTrailingSlash=Uk}static{this.\u0275fac=function(r){return new(r||n)(ne(hs))}}static{this.\u0275prov=oe({token:n,factory:function(){return function jK(){return new hI(ne(hs))}()},providedIn:"root"})}}return n})();function $k(n){return n.replace(/\/index.html$/,"")}function Jk(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}const bI=/\s+/,Xk=[];let Zk=(()=>{class n{constructor(t,r,i,o){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this.initialClasses=Xk,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(bI):Xk}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(bI):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(bI).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(B(up),B(wl),B(or),B(Ci))}}static{this.\u0275dir=ge({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();class SQ{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let fs=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new SQ(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),tN(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{tN(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(B(Fr),B(Di),B(up))}}static{this.\u0275dir=ge({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function tN(n,e){n.context.$implicit=e.item}let xi=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new PQ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){nN("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){nN("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(B(Fr),B(Di))}}static{this.\u0275dir=ge({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})();class PQ{constructor(){this.$implicit=null,this.ngIf=null}}function nN(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${jt(e)}'.`)}let iN=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,o]=t.split("."),s=-1===i.indexOf("-")?void 0:fo.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static{this.\u0275fac=function(r){return new(r||n)(B(or),B(wl),B(Ci))}}static{this.\u0275dir=ge({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return n})(),yo=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Hr({type:n})}static{this.\u0275inj=Ar({})}}return n})();function aN(n){return"server"===n}let iY=(()=>{class n{static{this.\u0275prov=oe({token:n,providedIn:"root",factory:()=>new oY(ne(ar),window)})}}return n})();class oY{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function sY(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class cN{}function ac(n,e){return qe(e)?Yt(n,e,1):Yt(n,1)}function Cp(n){return Ut((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Et(n,e,t){const r=qe(n)||e||t?{next:n,error:e,complete:t}:n;return r?Ut((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(kt(o,c=>{var u;null===(u=r.next)||void 0===u||u.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,c),o.error(c)},()=>{var c,u;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):io}class wp{}class Tp{}class vr{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof vr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new vr;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof vr?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class PY{encodeKey(e){return fN(e)}encodeValue(e){return fN(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const RY=/%(\d[a-f0-9])/gi,xY={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function fN(n){return encodeURIComponent(n).replace(RY,(e,t)=>xY[t]??e)}function Ap(n){return`${n}`}class Oi{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new PY,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function MY(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(Ap):[Ap(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Oi({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Ap(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Ap(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class OY{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function pN(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function gN(n){return typeof Blob<"u"&&n instanceof Blob}function mN(n){return typeof FormData<"u"&&n instanceof FormData}class Sl{constructor(e,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function kY(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new vr),this.context||(this.context=new OY),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Oi,this.urlWithParams=t}serializeBody(){return null===this.body?null:pN(this.body)||gN(this.body)||mN(this.body)||function NY(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Oi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||mN(this.body)?null:gN(this.body)?this.body.type||null:pN(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Oi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,u=e.params||this.params;const d=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((h,p)=>h.set(p,e.setHeaders[p]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((h,p)=>h.set(p,e.setParams[p]),u)),new Sl(t,r,o,{params:u,headers:c,context:d,reportProgress:a,responseType:i,withCredentials:s})}}var cc=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(cc||{});class PI{constructor(e,t=200,r="OK"){this.headers=e.headers||new vr,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class MI extends PI{constructor(e={}){super(e),this.type=cc.ResponseHeader}clone(e={}){return new MI({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class uc extends PI{constructor(e={}){super(e),this.type=cc.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new uc({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class _N extends PI{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function RI(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let ps=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Sl)o=t;else{let c,u;c=i.headers instanceof vr?i.headers:new vr(i.headers),i.params&&(u=i.params instanceof Oi?i.params:new Oi({fromObject:i.params})),o=new Sl(t,r,void 0!==i.body?i.body:null,{headers:c,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=de(o).pipe(ac(c=>this.handler.handle(c)));if(t instanceof Sl||"events"===i.observe)return s;const a=s.pipe(pi(c=>c instanceof uc));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(Me(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(Me(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(Me(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(Me(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Oi).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,RI(i,r))}post(t,r,i={}){return this.request("POST",t,RI(i,r))}put(t,r,i={}){return this.request("PUT",t,RI(i,r))}static{this.\u0275fac=function(r){return new(r||n)(ne(wp))}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac})}}return n})();function IN(n,e){return e(n)}const Pl=new ee(""),EN=new ee("");let bN=(()=>{class n extends wp{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=X(Yv)}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Pl),...this.injector.get(EN,[])]));this.chain=i.reduceRight((o,s)=>function LY(n,e,t){return(r,i)=>t.runInContext(()=>e(r,o=>n(o,i)))}(o,s,this.injector),IN)}const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Cp(()=>this.pendingTasks.remove(r)))}static{this.\u0275fac=function(r){return new(r||n)(ne(Tp),ne(ir))}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac})}}return n})();const zY=/^\)\]\}',?\n/;let wN=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new z(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?Bt(r.\u0275loadImpl()):de(null)).pipe(wn(()=>new ct(o=>{const s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((v,b)=>s.setRequestHeader(v,b.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const v=t.detectContentTypeHeader();null!==v&&s.setRequestHeader("Content-Type",v)}if(t.responseType){const v=t.responseType.toLowerCase();s.responseType="json"!==v?v:"text"}const a=t.serializeBody();let c=null;const u=()=>{if(null!==c)return c;const v=s.statusText||"OK",b=new vr(s.getAllResponseHeaders()),M=function GY(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||t.url;return c=new MI({headers:b,status:s.status,statusText:v,url:M}),c},d=()=>{let{headers:v,status:b,statusText:M,url:D}=u(),L=null;204!==b&&(L=typeof s.response>"u"?s.responseText:s.response),0===b&&(b=L?200:0);let G=b>=200&&b<300;if("json"===t.responseType&&"string"==typeof L){const Z=L;L=L.replace(zY,"");try{L=""!==L?JSON.parse(L):null}catch(se){L=Z,G&&(G=!1,L={error:se,text:L})}}G?(o.next(new uc({body:L,headers:v,status:b,statusText:M,url:D||void 0})),o.complete()):o.error(new _N({error:L,headers:v,status:b,statusText:M,url:D||void 0}))},h=v=>{const{url:b}=u(),M=new _N({error:v,status:s.status||0,statusText:s.statusText||"Unknown Error",url:b||void 0});o.error(M)};let p=!1;const m=v=>{p||(o.next(u()),p=!0);let b={type:cc.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(b.total=v.total),"text"===t.responseType&&s.responseText&&(b.partialText=s.responseText),o.next(b)},y=v=>{let b={type:cc.UploadProgress,loaded:v.loaded};v.lengthComputable&&(b.total=v.total),o.next(b)};return s.addEventListener("load",d),s.addEventListener("error",h),s.addEventListener("timeout",h),s.addEventListener("abort",h),t.reportProgress&&(s.addEventListener("progress",m),null!==a&&s.upload&&s.upload.addEventListener("progress",y)),s.send(a),o.next({type:cc.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",d),s.removeEventListener("timeout",h),t.reportProgress&&(s.removeEventListener("progress",m),null!==a&&s.upload&&s.upload.removeEventListener("progress",y)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(ne(cN))}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac})}}return n})();const xI=new ee("XSRF_ENABLED"),TN=new ee("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),AN=new ee("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class DN{}let KY=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Jk(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(ne(ar),ne(bi),ne(TN))}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac})}}return n})();function QY(n,e){const t=n.url.toLowerCase();if(!X(xI)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=X(DN).getToken(),i=X(AN);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}const Dp=new ee(""),JY=["GET","HEAD"];function XY(n,e){const{isCacheActive:t}=X(Dp);if(!t||!JY.includes(n.method))return e(n);const r=X(Va),i=function eJ(n){const{params:e,method:t,responseType:r,url:i}=n;return function tJ(n){let e=0;for(const t of n)e=Math.imul(31,e)+t.charCodeAt(0)<<0;return e+=2147483648,e.toString()}(t+"."+r+"."+i+"?"+e.keys().sort().map(c=>`${c}=${e.getAll(c)}`).join("&"))}(n),o=r.get(i,null);if(o){let s=o.body;switch(o.responseType){case"arraybuffer":s=(new TextEncoder).encode(o.body).buffer;break;case"blob":s=new Blob([o.body])}return de(new uc({body:s,headers:new vr(o.headers),status:o.status,statusText:o.statusText,url:o.url}))}return e(n).pipe(Et(s=>{s instanceof uc&&r.set(i,{body:s.body,headers:ZY(s.headers),status:s.status,statusText:s.statusText,url:s.url||"",responseType:n.responseType})}))}function ZY(n){const e={};for(const t of n.keys()){const r=n.getAll(t);null!==r&&(e[t]=r)}return e}class rJ extends VK{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class OI extends rJ{static makeCurrent(){!function FK(n){uI||(uI=n)}(new OI)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function iJ(){return Ml=Ml||document.querySelector("base"),Ml?Ml.getAttribute("href"):null}();return null==t?null:function oJ(n){Sp=Sp||document.createElement("a"),Sp.setAttribute("href",n);const e=Sp.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ml=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Jk(document.cookie,e)}}let Sp,Ml=null,aJ=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac})}}return n})();const kI=new ee("EventManagerPlugins");let PN=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new z(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(ne(kI),ne(Ve))}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac})}}return n})();class MN{constructor(e){this._doc=e}}const NI="ng-app-id";let RN=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=aN(o),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${NI}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(NI),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(NI,this.appId),s}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(ne(ar),ne(Vy),ne(yM,8),ne(bi))}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac})}}return n})();const FI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},VI=/%COMP%/g,dJ=new ee("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function ON(n,e){return e.map(t=>t.replace(VI,n))}let kN=(()=>{class n{constructor(t,r,i,o,s,a,c,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=aN(a),this.defaultRenderer=new LI(t,s,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Dr.ShadowDom&&(r={...r,encapsulation:Dr.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof FN?i.applyToHost(t):i instanceof UI&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case Dr.Emulated:o=new FN(c,u,r,this.appId,d,s,a,h);break;case Dr.ShadowDom:return new gJ(c,u,t,r,s,a,this.nonce,h);default:o=new UI(c,u,r,d,s,a,h)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(ne(PN),ne(RN),ne(Vy),ne(dJ),ne(ar),ne(bi),ne(Ve),ne(yM))}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac})}}return n})();class LI{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(FI[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(NN(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(NN(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new z(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=FI[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=FI[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(fo.DashCase|fo.Important)?e.style.setProperty(t,r,i&fo.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&fo.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=_o().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function NN(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class gJ extends LI{constructor(e,t,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=ON(i.id,i.styles);for(const d of u){const h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class UI extends LI{constructor(e,t,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?ON(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class FN extends UI{constructor(e,t,r,i,o,s,a,c){const u=i+"-"+r.id;super(e,t,r,o,s,a,c,u),this.contentAttr=function hJ(n){return"_ngcontent-%COMP%".replace(VI,n)}(u),this.hostAttr=function fJ(n){return"_nghost-%COMP%".replace(VI,n)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}const VN=["alt","control","meta","shift"],_J={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yJ={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};function LN(n){return{appProviders:[...AJ,...n?.providers??[]],platformProviders:wJ}}const wJ=[{provide:bi,useValue:"browser"},{provide:_M,useValue:function EJ(){OI.makeCurrent()},multi:!0},{provide:ar,useFactory:function CJ(){return function x6(n){wy=n}(document),document},deps:[]}],AJ=[{provide:Oy,useValue:"root"},{provide:wi,useFactory:function bJ(){return new wi},deps:[]},{provide:kI,useClass:(()=>{class n extends MN{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(ne(ar))}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac})}}return n})(),multi:!0,deps:[ar,Ve,bi]},{provide:kI,useClass:(()=>{class n extends MN{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>_o().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),VN.forEach(u=>{const d=r.indexOf(u);d>-1&&(r.splice(d,1),s+=u+".")}),s+=o,0!=r.length||0===o.length)return null;const c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=_J[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),VN.forEach(s=>{s!==i&&(0,yJ[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(ne(ar))}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac})}}return n})(),multi:!0,deps:[ar]},kN,RN,PN,{provide:TM,useExisting:kN},{provide:cN,useClass:aJ,deps:[]},[]];let UN=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(ne(ar))}}static{this.\u0275prov=oe({token:n,factory:function(r){let i=null;return i=r?new r:function SJ(){return new UN(ne(ar))}(),i},providedIn:"root"})}}return n})();typeof window<"u"&&window;const{isArray:NJ}=Array,{getPrototypeOf:FJ,prototype:VJ,keys:LJ}=Object;function HN(n){if(1===n.length){const e=n[0];if(NJ(e))return{args:e,keys:null};if(function UJ(n){return n&&"object"==typeof n&&FJ(n)===VJ}(e)){const t=LJ(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:BJ}=Array;function zN(n){return Me(e=>function jJ(n,e){return BJ(e)?n(...e):n(e)}(n,e))}function GN(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function jI(...n){const e=wu(n),t=BS(n),{args:r,keys:i}=HN(n);if(0===r.length)return Bt([],e);const o=new ct(function $J(n,e,t=io){return r=>{qN(e,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)qN(e,()=>{const u=Bt(n[c],e);let d=!1;u.subscribe(kt(r,h=>{o[c]=h,d||(d=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>GN(i,s):io));return t?o.pipe(zN(t)):o}function qN(n,e,t){n?fi(t,n,e):e()}function $I(...n){return function HJ(){return aa(1)}()(Bt(n,wu(n)))}function WN(n){return new ct(e=>{Xn(n()).subscribe(e)})}function ms(n,e){const t=qe(n)?n:()=>n,r=i=>i.error(t());return new ct(e?i=>e.schedule(r,0,i):r)}function HI(){return Ut((n,e)=>{let t=null;n._refCount++;const r=kt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class KN extends ct{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,wS(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Bn;const t=this.getSubject();e.add(this.source.subscribe(kt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Bn.EMPTY)}return e}refCount(){return HI()(this)}}function Pp(...n){const e=wu(n);return Ut((t,r)=>{(e?$I(n,t,e):$I(n,t)).subscribe(r)})}function ki(n){return Ut((e,t)=>{let o,r=null,i=!1;r=e.subscribe(kt(t,void 0,void 0,s=>{o=Xn(n(s,ki(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function zI(n){return n<=0?()=>jr:Ut((e,t)=>{let r=[];e.subscribe(kt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}const Ee="primary",Rl=Symbol("RouteTitle");class QJ{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function lc(n){return new QJ(n)}function YJ(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function ei(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!QN(n[i],e[i]))return!1;return!0}function QN(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function YN(n){return n.length>0?n[n.length-1]:null}function Eo(n){return function kJ(n){return!!n&&(n instanceof ct||qe(n.lift)&&qe(n.subscribe))}(n)?n:dl(n)?Bt(Promise.resolve(n)):de(n)}const XJ={exact:function ZN(n,e,t){if(!_s(n.segments,e.segments)||!Mp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!ZN(n.children[r],e.children[r],t))return!1;return!0},subset:eF},JN={exact:function ZJ(n,e){return ei(n,e)},subset:function eX(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>QN(n[t],e[t]))},ignored:()=>!0};function XN(n,e,t){return XJ[t.paths](n.root,e.root,t.matrixParams)&&JN[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function eF(n,e,t){return tF(n,e,e.segments,t)}function tF(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!_s(i,t)||e.hasChildren()||!Mp(i,t,r))}if(n.segments.length===t.length){if(!_s(n.segments,t)||!Mp(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!eF(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(_s(n.segments,i)&&Mp(n.segments,i,r)&&n.children[Ee])&&tF(n.children[Ee],e,o,r)}}function Mp(n,e,t){return e.every((r,i)=>JN[t](n[i].parameters,r.parameters))}class dc{constructor(e=new ze([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lc(this.queryParams)),this._queryParamMap}toString(){return rX.serialize(this)}}class ze{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Rp(this)}}class xl{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=lc(this.parameters)),this._parameterMap}toString(){return iF(this)}}function _s(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Ol=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:function(){return new GI},providedIn:"root"})}}return n})();class GI{parse(e){const t=new pX(e);return new dc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${kl(e.root,!0)}`,r=function sX(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${xp(t)}=${xp(i)}`).join("&"):`${xp(t)}=${xp(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function iX(n){return encodeURI(n)}(e.fragment)}`:""}`}}const rX=new GI;function Rp(n){return n.segments.map(e=>iF(e)).join("/")}function kl(n,e){if(!n.hasChildren())return Rp(n);if(e){const t=n.children[Ee]?kl(n.children[Ee],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Ee&&r.push(`${i}:${kl(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function nX(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Ee&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Ee&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===Ee?[kl(n.children[Ee],!1)]:[`${i}:${kl(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ee]?`${Rp(n)}/${t[0]}`:`${Rp(n)}/(${t.join("//")})`}}function nF(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xp(n){return nF(n).replace(/%3B/gi,";")}function qI(n){return nF(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Op(n){return decodeURIComponent(n)}function rF(n){return Op(n.replace(/\+/g,"%20"))}function iF(n){return`${qI(n.path)}${function oX(n){return Object.keys(n).map(e=>`;${qI(e)}=${qI(n[e])}`).join("")}(n.parameters)}`}const aX=/^[^\/()?;#]+/;function WI(n){const e=n.match(aX);return e?e[0]:""}const cX=/^[^\/()?;=#]+/,lX=/^[^=?&#]+/,hX=/^[^&#]+/;class pX{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ze([],{}):new ze([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ee]=new ze(e,t)),r}parseSegment(){const e=WI(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new z(4009,!1);return this.capture(e),new xl(Op(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function uX(n){const e=n.match(cX);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=WI(this.remaining);i&&(r=i,this.capture(r))}e[Op(t)]=Op(r)}parseQueryParam(e){const t=function dX(n){const e=n.match(lX);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function fX(n){const e=n.match(hX);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=rF(t),o=rF(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=WI(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new z(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Ee);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[Ee]:new ze([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new z(4011,!1)}}function oF(n){return n.segments.length>0?new ze([],{[Ee]:n}):n}function sF(n){const e={};for(const r of Object.keys(n.children)){const o=sF(n.children[r]);if(r===Ee&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function gX(n){if(1===n.numberOfChildren&&n.children[Ee]){const e=n.children[Ee];return new ze(n.segments.concat(e.segments),e.children)}return n}(new ze(n.segments,e))}function ys(n){return n instanceof dc}function aF(n){let e;const i=oF(function t(o){const s={};for(const c of o.children){const u=t(c);s[c.outlet]=u}const a=new ze(o.url,s);return o===n&&(e=a),a}(n.root));return e??i}function cF(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return KI(i,i,i,t,r);const o=function _X(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new lF(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new lF(t,e,r)}(e);if(o.toRoot())return KI(i,i,new ze([],{}),t,r);const s=function yX(n,e,t){if(n.isAbsolute)return new Np(e,!0,0);if(!t)return new Np(e,!1,NaN);if(null===t.parent)return new Np(t,!0,0);const r=kp(n.commands[0])?0:1;return function vX(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new z(4005,!1);i=r.segments.length}return new Np(r,!1,i-o)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(o,i,n),a=s.processChildren?Fl(s.segmentGroup,s.index,o.commands):dF(s.segmentGroup,s.index,o.commands);return KI(i,s.segmentGroup,a,t,r)}function kp(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Nl(n){return"object"==typeof n&&null!=n&&n.outlets}function KI(n,e,t,r,i){let s,o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`}),s=n===e?t:uF(n,e,t);const a=oF(sF(s));return new dc(a,o,i)}function uF(n,e,t){const r={};return Object.entries(n.children).forEach(([i,o])=>{r[i]=o===e?t:uF(o,e,t)}),new ze(n.segments,r)}class lF{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&kp(r[0]))throw new z(4003,!1);const i=r.find(Nl);if(i&&i!==YN(r))throw new z(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Np{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function dF(n,e,t){if(n||(n=new ze([],{})),0===n.segments.length&&n.hasChildren())return Fl(n,e,t);const r=function EX(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const s=n.segments[i],a=t[r];if(Nl(a))break;const c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!fF(c,u,s))return o;r+=2}else{if(!fF(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new ze(n.segments.slice(0,r.pathIndex),{});return o.children[Ee]=new ze(n.segments.slice(r.pathIndex),n.children),Fl(o,0,i)}return r.match&&0===i.length?new ze(n.segments,{}):r.match&&!n.hasChildren()?QI(n,e,t):r.match?Fl(n,0,i):QI(n,e,t)}function Fl(n,e,t){if(0===t.length)return new ze(n.segments,{});{const r=function IX(n){return Nl(n[0])?n[0].outlets:{[Ee]:n}}(t),i={};if(Object.keys(r).some(o=>o!==Ee)&&n.children[Ee]&&1===n.numberOfChildren&&0===n.children[Ee].segments.length){const o=Fl(n.children[Ee],e,t);return new ze(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=dF(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new ze(n.segments,i)}}function QI(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(Nl(o)){const c=bX(o.outlets);return new ze(r,c)}if(0===i&&kp(t[0])){r.push(new xl(n.segments[e].path,hF(t[0]))),i++;continue}const s=Nl(o)?o.outlets[Ee]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&kp(a)?(r.push(new xl(s,hF(a))),i+=2):(r.push(new xl(s,{})),i++)}return new ze(r,{})}function bX(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=QI(new ze([],{}),0,r))}),e}function hF(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function fF(n,e,t){return n==t.path&&ei(e,t.parameters)}const Vl="imperative";class ti{constructor(e,t){this.id=e,this.url=t}}class Fp extends ti{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class bo extends ti{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ll extends ti{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class hc extends ti{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Vp extends ti{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class pF extends ti{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class CX extends ti{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wX extends ti{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class TX extends ti{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class AX extends ti{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class DX{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class SX{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class PX{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MX{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class RX{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xX{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gF{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class YI{}class JI{constructor(e){this.url=e}}class OX{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ul,this.attachRef=null}}let Ul=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new OX,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class mF{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=XI(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=XI(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ZI(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ZI(e,this._root).map(t=>t.value)}}function XI(n,e){if(n===e.value)return e;for(const t of e.children){const r=XI(n,t);if(r)return r}return null}function ZI(n,e){if(n===e.value)return[e];for(const t of e.children){const r=ZI(n,t);if(r.length)return r.unshift(e),r}return[]}class Ni{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function fc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class _F extends mF{constructor(e,t){super(e),this.snapshot=t,eE(this,e)}toString(){return this.snapshot.toString()}}function yF(n,e){const t=function kX(n,e){const s=new Lp([],{},{},"",{},Ee,e,null,{});return new IF("",new Ni(s,[]))}(0,e),r=new Zn([new xl("",{})]),i=new Zn({}),o=new Zn({}),s=new Zn({}),a=new Zn(""),c=new vs(r,i,s,a,o,Ee,e,t.root);return c.snapshot=t.root,new _F(new Ni(c,[]),t)}class vs{constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Me(u=>u[Rl]))??de(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Me(e=>lc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Me(e=>lc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function vF(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function NX(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Lp{get title(){return this.data?.[Rl]}constructor(e,t,r,i,o,s,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=lc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class IF extends mF{constructor(e,t){super(t),this.url=e,eE(this,t)}toString(){return EF(this._root)}}function eE(n,e){e.value._routerState=n,e.children.forEach(t=>eE(n,t))}function EF(n){const e=n.children.length>0?` { ${n.children.map(EF).join(", ")} } `:"";return`${n.value}${e}`}function tE(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ei(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),ei(e.params,t.params)||n.paramsSubject.next(t.params),function JJ(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ei(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),ei(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function nE(n,e){const t=ei(n.params,e.params)&&function tX(n,e){return _s(n,e)&&n.every((t,r)=>ei(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||nE(n.parent,e.parent))}let rE=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ee,this.activateEvents=new gt,this.deactivateEvents=new gt,this.attachEvents=new gt,this.detachEvents=new gt,this.parentContexts=X(Ul),this.location=X(Fr),this.changeDetector=X(sp),this.environmentInjector=X(ir),this.inputBinder=X(Up,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new z(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new z(4013,!1);this._activatedRoute=t;const i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new FX(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ge({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[pr]})}}return n})();class FX{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===vs?this.route:e===Ul?this.childContexts:this.parent.get(e,t)}}const Up=new ee("");let bF=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=jI([r.queryParams,r.params,r.data]).pipe(wn(([o,s,a],c)=>(a={...o,...s,...a},0===c?de(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const s=function NK(n){const e=Re(n);if(!e)return null;const t=new sl(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac})}}return n})();function Bl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function LX(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Bl(n,r,i);return Bl(n,r)})}(n,e,t);return new Ni(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Bl(n,a)),s}}const r=function UX(n){return new vs(new Zn(n.url),new Zn(n.params),new Zn(n.queryParams),new Zn(n.fragment),new Zn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>Bl(n,o));return new Ni(r,i)}}const iE="ngNavigationCancelingError";function CF(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=ys(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=wF(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function wF(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[iE]=!0,r.cancellationCode=e,t&&(r.url=t),r}function TF(n){return n&&n[iE]}let AF=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Pr({type:n,selectors:[["ng-component"]],standalone:!0,features:[Nr],decls:1,vars:0,template:function(r,i){1&r&&q(0,"router-outlet")},dependencies:[rE],encapsulation:2})}}return n})();function oE(n){const e=n.children&&n.children.map(oE),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ee&&(t.component=AF),t}function Ur(n){return n.outlet||Ee}function jl(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class WX{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),tE(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=fc(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=fc(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=fc(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=fc(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new xX(o.value.snapshot))}),e.children.length&&this.forwardEvent(new MX(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(tE(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),tE(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=jl(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class DF{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Bp{constructor(e,t){this.component=e,this.route=t}}function KX(n,e,t){const r=n._root;return $l(r,e?e._root:null,t,[r.value])}function pc(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function K5(n){return null!==Fh(n)}(n)?e.get(n):n:r}function $l(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=fc(e);return n.children.forEach(s=>{(function YX(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function JX(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!_s(n.url,e.url);case"pathParamsOrQueryParamsChange":return!_s(n.url,e.url)||!ei(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!nE(n,e)||!ei(n.queryParams,e.queryParams);default:return!nE(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new DF(r)):(o.data=s.data,o._resolvedData=s._resolvedData),$l(n,e,o.component?a?a.children:null:t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Bp(a.outlet.component,s))}else s&&Hl(e,a,i),i.canActivateChecks.push(new DF(r)),$l(n,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Hl(a,t.getContext(s),i)),i}function Hl(n,e,t){const r=fc(n),i=n.value;Object.entries(r).forEach(([o,s])=>{Hl(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Bp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function zl(n){return"function"==typeof n}function SF(n){return n instanceof Oh||"EmptyError"===n?.name}const jp=Symbol("INITIAL_VALUE");function gc(){return wn(n=>jI(n.map(e=>e.pipe(ca(1),Pp(jp)))).pipe(Me(e=>{for(const t of e)if(!0!==t){if(t===jp)return jp;if(!1===t||t instanceof dc)return t}return!0}),pi(e=>e!==jp),ca(1)))}function PF(n){return function q3(...n){return ES(n)}(Et(e=>{if(ys(e))throw CF(0,e)}),Me(e=>!0===e))}class $p{constructor(e){this.segmentGroup=e||null}}class MF{constructor(e){this.urlTree=e}}function mc(n){return ms(new $p(n))}function RF(n){return ms(new MF(n))}class _Z{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new z(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return de(r);if(i.numberOfChildren>1||!i.children[Ee])return ms(new z(4e3,!1));i=i.children[Ee]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new dc(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new ze(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new z(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const sE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function yZ(n,e,t,r,i){const o=aE(n,e,t);return o.matched?(r=function jX(n,e){return n.providers&&!n._injector&&(n._injector=Ov(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function pZ(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?de(i.map(s=>{const a=pc(s,n);return Eo(function rZ(n){return n&&zl(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(gc(),PF()):de(!0)}(r,e,t).pipe(Me(s=>!0===s?o:{...sE}))):de(o)}function aE(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...sE}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||YJ)(t,n,e);if(!i)return{...sE};const o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function xF(n,e,t,r){return t.length>0&&function EZ(n,e,t){return t.some(r=>Hp(n,e,r)&&Ur(r)!==Ee)}(n,t,r)?{segmentGroup:new ze(e,IZ(r,new ze(t,n.children))),slicedSegments:[]}:0===t.length&&function bZ(n,e,t){return t.some(r=>Hp(n,e,r))}(n,t,r)?{segmentGroup:new ze(n.segments,vZ(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ze(n.segments,n.children),slicedSegments:t}}function vZ(n,e,t,r,i){const o={};for(const s of r)if(Hp(n,t,s)&&!i[Ur(s)]){const a=new ze([],{});o[Ur(s)]=a}return{...i,...o}}function IZ(n,e){const t={};t[Ee]=e;for(const r of n)if(""===r.path&&Ur(r)!==Ee){const i=new ze([],{});t[Ur(r)]=i}return t}function Hp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class AZ{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new _Z(this.urlSerializer,this.urlTree)}noMatchError(e){return new z(4002,!1)}recognize(){const e=xF(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ee).pipe(ki(t=>{if(t instanceof MF)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof $p?this.noMatchError(t):t}),Me(t=>{const r=new Lp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ee,this.rootComponentType,null,{}),i=new Ni(r,t),o=new IF("",i),s=function mX(n,e,t=null,r=null){return cF(aF(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Ee).pipe(ki(r=>{throw r instanceof $p?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=vF(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Bt(i).pipe(ac(o=>{const s=r.children[o],a=function GX(n,e){const t=n.filter(r=>Ur(r)===e);return t.push(...n.filter(r=>Ur(r)!==e)),t}(t,o);return this.processSegmentGroup(e,a,s,o)}),function GJ(n,e){return Ut(function zJ(n,e,t,r,i){return(o,s)=>{let a=t,c=e,u=0;o.subscribe(kt(s,d=>{const h=u++;c=a?n(c,d,h):(a=!0,d),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}(n,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),kh(null),function qJ(n,e){const t=arguments.length>=2;return r=>r.pipe(n?pi((i,o)=>n(i,o,r)):io,zI(1),t?kh(e):HS(()=>new Oh))}(),Yt(o=>{if(null===o)return mc(r);const s=OF(o);return function DZ(n){n.sort((e,t)=>e.value.outlet===Ee?-1:t.value.outlet===Ee?1:e.value.outlet.localeCompare(t.value.outlet))}(s),de(s)}))}processSegment(e,t,r,i,o,s){return Bt(t).pipe(ac(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,o,s).pipe(ki(c=>{if(c instanceof $p)return de(null);throw c}))),gi(a=>!!a),ki(a=>{if(SF(a))return function wZ(n,e,t){return 0===e.length&&!n.children[t]}(r,i,o)?de([]):mc(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,o,s,a){return function CZ(n,e,t,r){return!!(Ur(n)===r||r!==Ee&&Hp(e,t,n))&&("**"===n.path||aE(e,n,t).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s):mc(i):mc(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?RF(o):this.applyRedirects.lineralizeSegments(r,o).pipe(Yt(s=>{const a=new ze(s,{});return this.processSegment(e,t,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){const{matched:a,consumedSegments:c,remainingSegments:u,positionalParamSegments:d}=aE(t,i,o);if(!a)return mc(t);const h=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,d);return i.redirectTo.startsWith("/")?RF(h):this.applyRedirects.lineralizeSegments(i,h).pipe(Yt(p=>this.processSegment(e,r,t,p.concat(u),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a;if("**"===r.path){const c=i.length>0?YN(i).parameters:{};a=de({snapshot:new Lp(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kF(r),Ur(r),r.component??r._loadedComponent??null,r,NF(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=yZ(t,r,i,e).pipe(Me(({matched:c,consumedSegments:u,remainingSegments:d,parameters:h})=>c?{snapshot:new Lp(u,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kF(r),Ur(r),r.component??r._loadedComponent??null,r,NF(r)),consumedSegments:u,remainingSegments:d}:null));return a.pipe(wn(c=>null===c?mc(t):this.getChildConfig(e=r._injector??e,r,i).pipe(wn(({routes:u})=>{const d=r._loadedInjector??e,{snapshot:h,consumedSegments:p,remainingSegments:m}=c,{segmentGroup:y,slicedSegments:v}=xF(t,p,m,u);if(0===v.length&&y.hasChildren())return this.processChildren(d,u,y).pipe(Me(M=>null===M?null:[new Ni(h,M)]));if(0===u.length&&0===v.length)return de([new Ni(h,[])]);const b=Ur(r)===o;return this.processSegment(d,u,y,v,b?Ee:o,!0).pipe(Me(M=>[new Ni(h,M)]))}))))}getChildConfig(e,t,r){return t.children?de({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?de({routes:t._loadedRoutes,injector:t._loadedInjector}):function fZ(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?de(!0):de(i.map(s=>{const a=pc(s,n);return Eo(function ZX(n){return n&&zl(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(gc(),PF())}(e,t,r).pipe(Yt(i=>i?this.configLoader.loadChildren(e,t).pipe(Et(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function mZ(n){return ms(wF(!1,3))}())):de({routes:[],injector:e})}}function SZ(n){const e=n.value.routeConfig;return e&&""===e.path}function OF(n){const e=[],t=new Set;for(const r of n){if(!SZ(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=OF(r.children);e.push(new Ni(r.value,i))}return e.filter(r=>!t.has(r))}function kF(n){return n.data||{}}function NF(n){return n.resolve||{}}function FF(n){return"string"==typeof n.title||null===n.title}function cE(n){return wn(e=>{const t=n(e);return t?Bt(t).pipe(Me(()=>e)):de(e)})}const _c=new ee("ROUTES");let uE=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=X(ik)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return de(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Eo(t.loadComponent()).pipe(Me(VF),Et(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Cp(()=>{this.componentLoaders.delete(t)})),i=new KN(r,()=>new Tr).pipe(HI());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return de({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function NZ(n,e,t,r){return Eo(n.loadChildren()).pipe(Me(VF),Yt(i=>i instanceof uO||Array.isArray(i)?de(i):Bt(e.compileModuleAsync(i))),Me(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(t).injector,s=o.get(_c,[],{optional:!0,self:!0}).flat()),{routes:s.map(oE),injector:o}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(Cp(()=>{this.childrenLoaders.delete(r)})),s=new KN(o,()=>new Tr).pipe(HI());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function VF(n){return function FZ(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let zp=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Tr,this.transitionAbortSubject=new Tr,this.configLoader=X(uE),this.environmentInjector=X(ir),this.urlSerializer=X(Ol),this.rootContexts=X(Ul),this.inputBindingEnabled=null!==X(Up,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>de(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new SX(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new DX(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new Zn({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Vl,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(pi(o=>0!==o.id),Me(o=>({...o,extractedUrl:t.urlHandlingStrategy.extract(o.rawUrl)})),wn(o=>{this.currentTransition=o;let s=!1,a=!1;return de(o).pipe(Et(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),wn(c=>{const u=c.currentBrowserUrl.toString(),d=!t.navigated||c.extractedUrl.toString()!==u||u!==c.currentUrlTree.toString();if(!d&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const p="";return this.events.next(new hc(c.id,this.urlSerializer.serialize(c.rawUrl),p,0)),c.resolve(null),jr}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return de(c).pipe(wn(p=>{const m=this.transitions?.getValue();return this.events.next(new Fp(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?jr:Promise.resolve(p)}),function PZ(n,e,t,r,i,o){return Yt(s=>function TZ(n,e,t,r,i,o,s="emptyOnly"){return new AZ(n,e,t,r,i,s,o).recognize()}(n,e,t,r,s.extractedUrl,i,o).pipe(Me(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Et(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:p.urlAfterRedirects};const m=new pF(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(d&&t.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:p,extractedUrl:m,source:y,restoredState:v,extras:b}=c,M=new Fp(p,this.urlSerializer.serialize(m),y,v);this.events.next(M);const D=yF(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:D,urlAfterRedirects:m,extras:{...b,skipLocationChange:!1,replaceUrl:!1}},de(o)}{const p="";return this.events.next(new hc(c.id,this.urlSerializer.serialize(c.extractedUrl),p,1)),c.resolve(null),jr}}),Et(c=>{const u=new CX(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Me(c=>(this.currentTransition=o={...c,guards:KX(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function oZ(n,e){return Yt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?de({...t,guardsResult:!0}):function sZ(n,e,t,r){return Bt(n).pipe(Yt(i=>function hZ(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?de(o.map(a=>{const c=jl(e)??i,u=pc(a,c);return Eo(function nZ(n){return n&&zl(n.canDeactivate)}(u)?u.canDeactivate(n,e,t,r):c.runInContext(()=>u(n,e,t,r))).pipe(gi())})).pipe(gc()):de(!0)}(i.component,i.route,t,e,r)),gi(i=>!0!==i,!0))}(s,r,i,n).pipe(Yt(a=>a&&function XX(n){return"boolean"==typeof n}(a)?function aZ(n,e,t,r){return Bt(e).pipe(ac(i=>$I(function uZ(n,e){return null!==n&&e&&e(new PX(n)),de(!0)}(i.route.parent,r),function cZ(n,e){return null!==n&&e&&e(new RX(n)),de(!0)}(i.route,r),function dZ(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function QX(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>WN(()=>de(s.guards.map(c=>{const u=jl(s.node)??t,d=pc(c,u);return Eo(function tZ(n){return n&&zl(n.canActivateChild)}(d)?d.canActivateChild(r,n):u.runInContext(()=>d(r,n))).pipe(gi())})).pipe(gc())));return de(o).pipe(gc())}(n,i.path,t),function lZ(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return de(!0);const i=r.map(o=>WN(()=>{const s=jl(e)??t,a=pc(o,s);return Eo(function eZ(n){return n&&zl(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(gi())}));return de(i).pipe(gc())}(n,i.route,t))),gi(i=>!0!==i,!0))}(r,o,n,e):de(a)),Me(a=>({...t,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),Et(c=>{if(o.guardsResult=c.guardsResult,ys(c.guardsResult))throw CF(0,c.guardsResult);const u=new wX(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),pi(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),cE(c=>{if(c.guards.canActivateChecks.length)return de(c).pipe(Et(u=>{const d=new TX(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),wn(u=>{let d=!1;return de(u).pipe(function MZ(n,e){return Yt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return de(t);let o=0;return Bt(i).pipe(ac(s=>function RZ(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!FF(i)&&(o[Rl]=i.title),function xZ(n,e,t,r){const i=function OZ(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return de({});const o={};return Bt(i).pipe(Yt(s=>function kZ(n,e,t,r){const i=jl(e)??r,o=pc(n,i);return Eo(o.resolve?o.resolve(e,t):i.runInContext(()=>o(e,t)))}(n[s],e,t,r).pipe(gi(),Et(a=>{o[s]=a}))),zI(1),function WJ(n){return Me(()=>n)}(o),ki(s=>SF(s)?jr:ms(s)))}(o,n,e,r).pipe(Me(s=>(n._resolvedData=s,n.data=vF(n,t).resolve,i&&FF(i)&&(n.data[Rl]=i.title),null)))}(s.route,r,n,e)),Et(()=>o++),zI(1),Yt(s=>o===i.length?de(t):jr))})}(t.paramsInheritanceStrategy,this.environmentInjector),Et({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",2)}}))}),Et(u=>{const d=new AX(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),cE(c=>{const u=d=>{const h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Et(p=>{d.component=p}),Me(()=>{})));for(const p of d.children)h.push(...u(p));return h};return jI(u(c.targetSnapshot.root)).pipe(kh(),ca(1))}),cE(()=>this.afterPreactivation()),Me(c=>{const u=function VX(n,e,t){const r=Bl(n,e._root,t?t._root:void 0);return new _F(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:u},o}),Et(()=>{this.events.next(new YI)}),((n,e,t,r)=>Me(i=>(new WX(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),ca(1),Et({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new bo(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),function KJ(n){return Ut((e,t)=>{Xn(n).subscribe(kt(t,()=>t.complete(),a_)),!t.closed&&e.subscribe(t)})}(this.transitionAbortSubject.pipe(Et(c=>{throw c}))),Cp(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),ki(c=>{if(a=!0,TF(c))this.events.next(new Ll(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function BX(n){return TF(n)&&ys(n.url)}(c)?this.events.next(new JI(c.url)):o.resolve(!1);else{this.events.next(new Vp(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(c))}catch(u){o.reject(u)}}return jr}))}))}cancelNavigationTransition(t,r,i){const o=new Ll(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function LF(n){return n!==Vl}let UF=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Ee);return r}getResolvedTitleForRoute(t){return t.data[Rl]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:function(){return X(VZ)},providedIn:"root"})}}return n})(),VZ=(()=>{class n extends UF{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(ne(UN))}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),LZ=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:function(){return X(BZ)},providedIn:"root"})}}return n})();class UZ{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let BZ=(()=>{class n extends UZ{static{this.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}()}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Gp=new ee("",{providedIn:"root",factory:()=>({})});let jZ=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:function(){return X($Z)},providedIn:"root"})}}return n})(),$Z=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Gl=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Gl||{});function BF(n,e){n.events.pipe(pi(t=>t instanceof bo||t instanceof Ll||t instanceof Vp||t instanceof hc),Me(t=>t instanceof bo||t instanceof hc?Gl.COMPLETE:t instanceof Ll&&(0===t.code||1===t.code)?Gl.REDIRECTING:Gl.FAILED),pi(t=>t!==Gl.REDIRECTING),ca(1)).subscribe(()=>{e()})}function HZ(n){throw n}function zZ(n,e,t){return e.parse("/")}const GZ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qZ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let kn=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=X(Qv),this.isNgZoneEnabled=!1,this._events=new Tr,this.options=X(Gp,{optional:!0})||{},this.pendingTasks=X(Yv),this.errorHandler=this.options.errorHandler||HZ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||zZ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=X(jZ),this.routeReuseStrategy=X(LZ),this.titleStrategy=X(UF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=X(_c,{optional:!0})?.flat()??[],this.navigationTransitions=X(zp),this.urlSerializer=X(Ol),this.location=X(hI),this.componentInputBindingEnabled=!!X(Up,{optional:!0}),this.eventsSubscription=new Bn,this.isNgZoneEnabled=X(Ve)instanceof Ve&&Ve.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new dc,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=yF(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(jF(r)&&this._events.next(r));if(r instanceof Fp)LF(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof hc)this.rawUrlTree=i.rawUrl;else if(r instanceof pF){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof YI)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Ll)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof JI){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||LF(i.source)};this.scheduleNavigation(o,Vl,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Vp&&this.restoreHistory(i,!0),r instanceof bo&&(this.navigated=!0),jF(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Vl,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(oE),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s;let h,d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{h=aF(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),h=this.currentUrlTree.root}return cF(h,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=ys(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Vl,null,r)}navigate(t,r={skipLocationChange:!1}){return function WZ(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new z(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...GZ}:!1===r?{...qZ}:r,ys(t))return XN(this.currentUrlTree,t,i);const o=this.parseUrl(t);return XN(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((h,p)=>{a=h,c=p});const d=this.pendingTasks.add();return BF(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function jF(n){return!(n instanceof YI||n instanceof JI)}let ql=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Tr,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof bo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function cM(n,e,t){return function eG(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?aM:xr}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(B(kn),B(vs),function rf(n){return function Iz(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(tP(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===e)return t[i+1];i+=2}}}return null}(en(),n)}("tabindex"),B(Ci),B(or),B(hs))}}static{this.\u0275dir=ge({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&ae("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&Jr("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",oc],skipLocationChange:["skipLocationChange","skipLocationChange",oc],replaceUrl:["replaceUrl","replaceUrl",oc],routerLink:"routerLink"},standalone:!0,features:[wR,pr]})}}return n})(),$F=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new gt,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof bo&&this.update()})}ngAfterContentInit(){de(this.links.changes,de(null)).pipe(aa()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Bt(t).pipe(aa()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function KZ(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static{this.\u0275fac=function(r){return new(r||n)(B(kn),B(or),B(Ci),B(sp),B(ql,8))}}static{this.\u0275dir=ge({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(1&r&&FO(o,ql,5),2&r){let s;NO(s=function VO(){return function s7(n,e){return n[zr].queries[e].queryList}(j(),qP())}())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[pr]})}}return n})();class HF{}let QZ=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(pi(t=>t instanceof bo),ac(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=Ov(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Bt(i).pipe(aa())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):de(null);const o=i.pipe(Yt(s=>null===s?de(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?Bt([o,this.loader.loadComponent(r)]).pipe(aa()):o})}static{this.\u0275fac=function(r){return new(r||n)(ne(kn),ne(ik),ne(ir),ne(HF),ne(uE))}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const lE=new ee("");let zF=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Fp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof bo?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof hc&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof gF&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new gF(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){!function JM(){throw new Error("invalid")}()}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac})}}return n})();function GF(n){return n.routerState.root}function Fi(n,e){return{\u0275kind:n,\u0275providers:e}}function qF(){const n=X(hn);return e=>{const t=n.get(ls);if(e!==t.components[0])return;const r=n.get(kn),i=n.get(WF);1===n.get(dE)&&r.initialNavigation(),n.get(KF,null,Ce.Optional)?.setUpPreloading(),n.get(lE,null,Ce.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const WF=new ee("",{factory:()=>new Tr}),dE=new ee("",{providedIn:"root",factory:()=>1}),KF=new ee("");function eee(n){return Fi(0,[{provide:KF,useExisting:QZ},{provide:HF,useExisting:n}])}const QF=new ee("ROUTER_FORROOT_GUARD"),nee=[hI,{provide:Ol,useClass:GI},kn,Ul,{provide:vs,useFactory:GF,deps:[kn]},uE,[]];function ree(){return new dk("Router",kn)}let hE=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[nee,[],{provide:_c,multi:!0,useValue:t},{provide:QF,useFactory:aee,deps:[[kn,new Mn,new cf]]},{provide:Gp,useValue:r||{}},r?.useHash?{provide:hs,useClass:BK}:{provide:hs,useClass:jk},{provide:lE,useFactory:()=>{const n=X(iY),e=X(Ve),t=X(Gp),r=X(zp),i=X(Ol);return t.scrollOffset&&n.setOffset(t.scrollOffset),new zF(i,r,n,e,t)}},r?.preloadingStrategy?eee(r.preloadingStrategy).\u0275providers:[],{provide:dk,multi:!0,useFactory:ree},r?.initialNavigation?cee(r):[],r?.bindToComponentInputs?Fi(8,[bF,{provide:Up,useExisting:bF}]).\u0275providers:[],[{provide:YF,useFactory:qF},{provide:Cl,multi:!0,useExisting:YF}]]}}static forChild(t){return{ngModule:n,providers:[{provide:_c,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(ne(QF,8))}}static{this.\u0275mod=Hr({type:n})}static{this.\u0275inj=Ar({})}}return n})();function aee(n){return"guarded"}function cee(n){return["disabled"===n.initialNavigation?Fi(3,[{provide:Wv,multi:!0,useFactory:()=>{const e=X(kn);return()=>{e.setUpLocationChangeListener()}}},{provide:dE,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Fi(2,[{provide:dE,useValue:0},{provide:Wv,multi:!0,deps:[hn],useFactory:e=>{const t=e.get(LK,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(kn),o=e.get(WF);BF(i,()=>{r(!0)}),e.get(zp).afterPreactivation=()=>(r(!0),o.closed?de(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const YF=new ee("");function JF(n,e,t,r,i,o,s){try{var a=n[o](s),c=a.value}catch(u){return void t(u)}a.done?e(c):Promise.resolve(c).then(r,i)}function I(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function s(c){JF(o,r,i,s,a,"next",c)}function a(c){JF(o,r,i,s,a,"throw",c)}s(void 0)})}}const XF=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},pE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0;let p=(15&a)<<2|u>>6,m=63&u;c||(m=64,s||(p=64)),r.push(t[o>>2],t[(3&o)<<4|a>>4],t[p],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(XF(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const c=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const o=n[t++],s=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const u=i<n.length?t[n.charAt(i)]:64;++i;const h=i<n.length?t[n.charAt(i)]:64;if(++i,null==o||null==a||null==u||null==h)throw new fee;r.push(o<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==h&&r.push(u<<6&192|h))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class fee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qp=function(n){return function(n){const e=XF(n);return pE.encodeByteArray(e,!0)}(n).replace(/\./g,"")},Wp=function(n){try{return pE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Kp=()=>{try{return function mee(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Wp(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},eV=n=>{var e,t;return null===(t=null===(e=Kp())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},tV=()=>{var n;return null===(n=Kp())||void 0===n?void 0:n.config},nV=n=>{var e;return null===(e=Kp())||void 0===e?void 0:e[`_${n}`]};class Qp{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Pt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function gE(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function Co(){try{return"object"==typeof indexedDB}catch{return!1}}function Wl(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(t){e(t)}})}function mE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ir extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ni.prototype.create)}}class ni{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function Pee(n,e){return n.replace(Mee,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new Ir(i,`${this.serviceName}: ${s} (${i}).`,r)}}const Mee=/\{\$([^}]+)}/g;function yc(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],s=e[i];if(oV(o)&&oV(s)){if(!yc(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function oV(n){return null!==n&&"object"==typeof n}function Kl(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class Oee{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function kee(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=_E),void 0===i.error&&(i.error=_E),void 0===i.complete&&(i.complete=_E);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _E(){}const Nee=1e3,Fee=2,Vee=144e5,Lee=.5;function vE(n,e=Nee,t=Fee){const r=e*Math.pow(t,n),i=Math.round(Lee*r*(Math.random()-.5)*2);return Math.min(Vee,r+i)}function nn(n){return n&&n._delegate?n._delegate:n}class pn{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Is="[DEFAULT]";class Bee{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Qp;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function $ee(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Is})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Is){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return I(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Is){return this.instances.has(e)}getOptions(e=Is){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Is?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=Is){return this.component?this.component.multipleInstances?e:Is:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Hee{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Bee(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const IE=[];var Ae=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Ae||{});const sV={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},zee=Ae.INFO,Gee={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},qee=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=Gee[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class vc{constructor(e){this.name=e,this._logLevel=zee,this._logHandler=qee,this._userLogHandler=null,IE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?sV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...e),this._logHandler(this,Ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...e),this._logHandler(this,Ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...e),this._logHandler(this,Ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...e),this._logHandler(this,Ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...e),this._logHandler(this,Ae.ERROR,...e)}}const Wee=(n,e)=>e.some(t=>n instanceof t);let aV,cV;const uV=new WeakMap,EE=new WeakMap,lV=new WeakMap,bE=new WeakMap,CE=new WeakMap;let wE={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return EE.get(n);if("objectStoreNames"===e)return n.objectStoreNames||lV.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Vi(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function ete(n){return"function"==typeof n?function Zee(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Qee(){return cV||(cV=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(TE(this),e),Vi(uV.get(this))}:function(...e){return Vi(n.apply(TE(this),e))}:function(e,...t){const r=n.call(TE(this),e,...t);return lV.set(r,e.sort?e.sort():[e]),Vi(r)}}(n):(n instanceof IDBTransaction&&function Jee(n){if(EE.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});EE.set(n,e)}(n),Wee(n,function Kee(){return aV||(aV=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,wE):n)}function Vi(n){if(n instanceof IDBRequest)return function Yee(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Vi(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&uV.set(t,n)}).catch(()=>{}),CE.set(e,n),e}(n);if(bE.has(n))return bE.get(n);const e=ete(n);return e!==n&&(bE.set(n,e),CE.set(e,n)),e}const TE=n=>CE.get(n);function Jp(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(n,e),a=Vi(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Vi(s.result),c.oldVersion,c.newVersion,Vi(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}function AE(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",r=>e(r.oldVersion,r)),Vi(t).then(()=>{})}const tte=["get","getKey","getAll","getAllKeys","count"],nte=["put","add","delete","clear"],DE=new Map;function dV(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(DE.get(e))return DE.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=nte.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!tte.includes(t))return;const o=function(){var s=I(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(c.shift())),(yield Promise.all([d[t](...c),i&&u.done]))[0]});return function(c){return s.apply(this,arguments)}}();return DE.set(e,o),o}!function Xee(n){wE=n(wE)}(n=>({...n,get:(e,t,r)=>dV(e,t)||n.get(e,t,r),has:(e,t)=>!!dV(e,t)||n.has(e,t)}));class rte{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function ite(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const Xp="@firebase/app",SE="0.10.13",Li=new vc("@firebase/app"),Zp="[DEFAULT]",xte={[Xp]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Es=new Map,Ql=new Map,Yl=new Map;function hV(n,e){try{n.container.addComponent(e)}catch(t){Li.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Nn(n){const e=n.name;if(Yl.has(e))return Li.debug(`There were multiple attempts to register component ${e}.`),!1;Yl.set(e,n);for(const t of Es.values())hV(t,n);for(const t of Ql.values())hV(t,n);return!0}function Ic(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function wo(n){return void 0!==n.settings}const Er=new ni("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class fV{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new pn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}}const bs="10.14.1";function pV(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Zp,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Er.create("bad-app-name",{appName:String(i)});if(t||(t=tV()),!t)throw Er.create("no-options");const o=Es.get(i);if(o){if(yc(t,o.options)&&yc(r,o.config))return o;throw Er.create("duplicate-app",{appName:i})}const s=new Hee(i);for(const c of Yl.values())s.addComponent(c);const a=new fV(t,r,s);return Es.set(i,a),a}function PE(n=Zp){const e=Es.get(n);if(!e&&n===Zp&&tV())return pV();if(!e)throw Er.create("no-app",{appName:n});return e}function gV(){return Array.from(Es.values())}function mt(n,e,t){var r;let i=null!==(r=xte[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Li.warn(a.join(" "))}Nn(new pn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Vte="firebase-heartbeat-database",Lte=1,Jl="firebase-heartbeat-store";let RE=null;function mV(){return RE||(RE=Jp(Vte,Lte,{upgrade:(n,e)=>{if(0===e)try{n.createObjectStore(Jl)}catch(t){console.warn(t)}}}).catch(n=>{throw Er.create("idb-open",{originalErrorMessage:n.message})})),RE}function xE(){return(xE=I(function*(n){try{const t=(yield mV()).transaction(Jl),r=yield t.objectStore(Jl).get(yV(n));return yield t.done,r}catch(e){if(e instanceof Ir)Li.warn(e.message);else{const t=Er.create("idb-get",{originalErrorMessage:e?.message});Li.warn(t.message)}}})).apply(this,arguments)}function _V(n,e){return OE.apply(this,arguments)}function OE(){return(OE=I(function*(n,e){try{const r=(yield mV()).transaction(Jl,"readwrite");yield r.objectStore(Jl).put(e,yV(n)),yield r.done}catch(t){if(t instanceof Ir)Li.warn(t.message);else{const r=Er.create("idb-set",{originalErrorMessage:t?.message});Li.warn(r.message)}}})).apply(this,arguments)}function yV(n){return`${n.name}!${n.options.appId}`}class $te{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new zte(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return I(function*(){var t,r;try{const o=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=vV();return null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&(e._heartbeatsCache=yield e._heartbeatsCachePromise,null==(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats))||e._heartbeatsCache.lastSentHeartbeatDate===s||e._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(e._heartbeatsCache.heartbeats.push({date:s,agent:o}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=2592e6}),e._storage.overwrite(e._heartbeatsCache))}catch(i){Li.warn(i)}})()}getHeartbeatsHeader(){var e=this;return I(function*(){var t;try{if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=vV(),{heartbeatsToSend:i,unsentEntries:o}=function Hte(n,e=1024){const t=[];let r=n.slice();for(const i of n){const o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),IV(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),IV(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=qp(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(e._heartbeatsCache.heartbeats=o,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s}catch(r){return Li.warn(r),""}})()}}function vV(){return(new Date).toISOString().substring(0,10)}class zte{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return I(function*(){return!!Co()&&Wl().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return I(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function Ute(n){return xE.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var t=this;return I(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return _V(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return I(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return _V(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function IV(n){return qp(JSON.stringify({version:2,heartbeats:n})).length}!function Gte(n){Nn(new pn("platform-logger",e=>new rte(e),"PRIVATE")),Nn(new pn("heartbeat",e=>new $te(e),"PRIVATE")),mt(Xp,SE,n),mt(Xp,SE,"esm2017"),mt("fire-js","")}(""),mt("firebase","10.14.1","app");const EV="@firebase/installations",kE="0.6.9",bV=1e4,CV=`w:${kE}`,wV="FIS_v2",Kte="https://firebaseinstallations.googleapis.com/v1",Qte=36e5,Ui=new ni("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function TV(n){return n instanceof Ir&&n.code.includes("request-failed")}function NE({projectId:n}){return`${Kte}/projects/${n}/installations`}function AV(n){return{token:n.token,requestStatus:2,expiresIn:Zte(n.expiresIn),creationTime:Date.now()}}function FE(n,e){return VE.apply(this,arguments)}function VE(){return(VE=I(function*(n,e){const r=(yield e.json()).error;return Ui.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function DV({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function LE(n){return UE.apply(this,arguments)}function UE(){return(UE=I(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function Zte(n){return Number(n.replace("s","000"))}function BE(){return(BE=I(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=NE(n),i=DV(n),o=e.getImmediate({optional:!0});if(o){const u=yield o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:wV,appId:n.appId,sdkVersion:CV})},c=yield LE(()=>fetch(r,a));if(c.ok){const u=yield c.json();return{fid:u.fid||t,registrationStatus:2,refreshToken:u.refreshToken,authToken:AV(u.authToken)}}throw yield FE("Create Installation",c)})).apply(this,arguments)}function PV(n){return new Promise(e=>{setTimeout(e,n)})}const rne=/^[cdef][\w-]{21}$/,jE="";function ine(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function one(n){return function nne(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return rne.test(t)?t:jE}catch{return jE}}function Ec(n){return`${n.appName}!${n.appId}`}const bc=new Map;function MV(n,e){const t=Ec(n);RV(t,e),function cne(n,e){const t=function xV(){return!Cs&&"BroadcastChannel"in self&&(Cs=new BroadcastChannel("[Firebase] FID Change"),Cs.onmessage=n=>{RV(n.data.key,n.data.fid)}),Cs}();t&&t.postMessage({key:n,fid:e}),function OV(){0===bc.size&&Cs&&(Cs.close(),Cs=null)}()}(t,e)}function RV(n,e){const t=bc.get(n);if(t)for(const r of t)r(e)}let Cs=null;const une="firebase-installations-database",lne=1,ws="firebase-installations-store";let $E=null;function HE(){return $E||($E=Jp(une,lne,{upgrade:(n,e)=>{0===e&&n.createObjectStore(ws)}})),$E}function eg(n,e){return zE.apply(this,arguments)}function zE(){return(zE=I(function*(n,e){const t=Ec(n),i=(yield HE()).transaction(ws,"readwrite"),o=i.objectStore(ws),s=yield o.get(t);return yield o.put(e,t),yield i.done,(!s||s.fid!==e.fid)&&MV(n,e.fid),e})).apply(this,arguments)}function GE(n){return qE.apply(this,arguments)}function qE(){return(qE=I(function*(n){const e=Ec(n),r=(yield HE()).transaction(ws,"readwrite");yield r.objectStore(ws).delete(e),yield r.done})).apply(this,arguments)}function Xl(n,e){return WE.apply(this,arguments)}function WE(){return(WE=I(function*(n,e){const t=Ec(n),i=(yield HE()).transaction(ws,"readwrite"),o=i.objectStore(ws),s=yield o.get(t),a=e(s);return void 0===a?yield o.delete(t):yield o.put(a,t),yield i.done,a&&(!s||s.fid!==a.fid)&&MV(n,a.fid),a})).apply(this,arguments)}function KE(n){return QE.apply(this,arguments)}function QE(){return QE=I(function*(n){let e;const t=yield Xl(n.appConfig,r=>{const i=function dne(n){return NV(n||{fid:ine(),registrationStatus:0})}(r),o=function hne(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ui.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function fne(n,e){return YE.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:pne(n)}:{installationEntry:e}}(n,i);return e=o.registrationPromise,o.installationEntry});return t.fid===jE?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),QE.apply(this,arguments)}function YE(){return YE=I(function*(n,e){try{const t=yield function tne(n,e){return BE.apply(this,arguments)}(n,e);return eg(n.appConfig,t)}catch(t){throw TV(t)&&409===t.customData.serverCode?yield GE(n.appConfig):yield eg(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),YE.apply(this,arguments)}function pne(n){return JE.apply(this,arguments)}function JE(){return(JE=I(function*(n){let e=yield kV(n.appConfig);for(;1===e.registrationStatus;)yield PV(100),e=yield kV(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield KE(n);return r||t}return e})).apply(this,arguments)}function kV(n){return Xl(n,e=>{if(!e)throw Ui.create("installation-not-found");return NV(e)})}function NV(n){return function gne(n){return 1===n.registrationStatus&&n.registrationTime+bV<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function XE(){return(XE=I(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=function _ne(n,{fid:e}){return`${NE(n)}/${e}/authTokens:generate`}(n,t),i=function SV(n,{refreshToken:e}){const t=DV(n);return t.append("Authorization",function ene(n){return`${wV} ${n}`}(e)),t}(n,t),o=e.getImmediate({optional:!0});if(o){const u=yield o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:CV,appId:n.appId}})},c=yield LE(()=>fetch(r,a));if(c.ok)return AV(yield c.json());throw yield FE("Generate Auth Token",c)})).apply(this,arguments)}function ZE(n){return eb.apply(this,arguments)}function eb(){return eb=I(function*(n,e=!1){let t;const r=yield Xl(n.appConfig,o=>{if(!VV(o))throw Ui.create("not-registered");const s=o.authToken;if(!e&&function Ine(n){return 2===n.requestStatus&&!function Ene(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+Qte}(n)}(s))return o;if(1===s.requestStatus)return t=function yne(n,e){return tb.apply(this,arguments)}(n,e),o;{if(!navigator.onLine)throw Ui.create("app-offline");const a=function bne(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(o);return t=function vne(n,e){return nb.apply(this,arguments)}(n,a),a}});return t?yield t:r.authToken}),eb.apply(this,arguments)}function tb(){return(tb=I(function*(n,e){let t=yield FV(n.appConfig);for(;1===t.authToken.requestStatus;)yield PV(100),t=yield FV(n.appConfig);const r=t.authToken;return 0===r.requestStatus?ZE(n,e):r})).apply(this,arguments)}function FV(n){return Xl(n,e=>{if(!VV(e))throw Ui.create("not-registered");return function Cne(n){return 1===n.requestStatus&&n.requestTime+bV<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function nb(){return nb=I(function*(n,e){try{const t=yield function mne(n,e){return XE.apply(this,arguments)}(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield eg(n.appConfig,r),t}catch(t){if(!TV(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield eg(n.appConfig,r)}else yield GE(n.appConfig);throw t}}),nb.apply(this,arguments)}function VV(n){return void 0!==n&&2===n.registrationStatus}function rb(){return(rb=I(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield KE(e);return r?r.catch(console.error):ZE(e).catch(console.error),t.fid})).apply(this,arguments)}function ib(){return ib=I(function*(n,e=!1){const t=n;return yield function Ane(n){return ob.apply(this,arguments)}(t),(yield ZE(t,e)).token}),ib.apply(this,arguments)}function ob(){return(ob=I(function*(n){const{registrationPromise:e}=yield KE(n);e&&(yield e)})).apply(this,arguments)}function cb(n){return Ui.create("missing-app-config-values",{valueName:n})}const LV="installations",Rne=n=>{const e=n.getProvider("app").getImmediate(),t=function Pne(n){if(!n||!n.options)throw cb("App Configuration");if(!n.name)throw cb("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw cb(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:Ic(e,"heartbeat"),_delete:()=>Promise.resolve()}},xne=n=>{const t=Ic(n.getProvider("app").getImmediate(),LV).getImmediate();return{getId:()=>function wne(n){return rb.apply(this,arguments)}(t),getToken:i=>function Tne(n){return ib.apply(this,arguments)}(t,i)}};(function One(){Nn(new pn(LV,Rne,"PUBLIC")),Nn(new pn("installations-internal",xne,"PRIVATE"))})(),mt(EV,kE),mt(EV,kE,"esm2017");const ub="@firebase/remote-config",Kn=new ni("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class zne{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return I(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const o=yield t.client.fetch(e),s=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&s.push(t.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(s),o})()}}function Gne(n=navigator){return n.languages&&n.languages[0]||n.language}class qne{constructor(e,t,r,i,o,s){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=s}fetch(e){var t=this;return I(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:Gne()},u={method:"POST",headers:a,body:JSON.stringify(c)},d=fetch(s,u),h=new Promise((M,D)=>{e.signal.addEventListener(()=>{const L=new Error("The operation was aborted.");L.name="AbortError",D(L)})});let p;try{yield Promise.race([d,h]),p=yield d}catch(M){let D="fetch-client-network";throw"AbortError"===M?.name&&(D="fetch-timeout"),Kn.create(D,{originalErrorMessage:M?.message})}let m=p.status;const y=p.headers.get("ETag")||void 0;let v,b;if(200===p.status){let M;try{M=yield p.json()}catch(D){throw Kn.create("fetch-client-parse",{originalErrorMessage:D?.message})}v=M.entries,b=M.state}if("INSTANCE_STATE_UNSPECIFIED"===b?m=500:"NO_CHANGE"===b?m=304:("NO_TEMPLATE"===b||"EMPTY_CONFIG"===b)&&(v={}),304!==m&&200!==m)throw Kn.create("fetch-status",{httpStatus:m});return{status:m,eTag:y,config:v}})()}}class Qne{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return I(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,t){var r=this;return I(function*(i,{throttleEndTimeMillis:o,backoffCount:s}){yield function Wne(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(Kn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(i.signal,o);try{const a=yield r.client.fetch(i);return yield r.storage.deleteThrottleMetadata(),a}catch(a){if(!function Kne(n){if(!(n instanceof Ir&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(a))throw a;const c={throttleEndTimeMillis:Date.now()+vE(s),backoffCount:s+1};return yield r.storage.setThrottleMetadata(c),r.attemptFetch(i,c)}}).apply(this,arguments)}}class Xne{constructor(e,t,r,i,o){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ng(n,e){const t=n.target.error||void 0;return Kn.create(e,{originalErrorMessage:t&&t?.message})}const Ts="app_namespace_store";class nre{constructor(e,t,r,i=function tre(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(ng(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ts,{keyPath:"compositeKey"})}}catch(t){e(Kn.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return I(function*(){const r=yield t.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([Ts],"readonly").objectStore(Ts),c=t.createCompositeKey(e);try{const u=a.get(c);u.onerror=d=>{o(ng(d,"storage-get"))},u.onsuccess=d=>{const h=d.target.result;i(h?h.value:void 0)}}catch(u){o(Kn.create("storage-get",{originalErrorMessage:u?.message}))}})})()}set(e,t){var r=this;return I(function*(){const i=yield r.openDbPromise;return new Promise((o,s)=>{const c=i.transaction([Ts],"readwrite").objectStore(Ts),u=r.createCompositeKey(e);try{const d=c.put({compositeKey:u,value:t});d.onerror=h=>{s(ng(h,"storage-set"))},d.onsuccess=()=>{o()}}catch(d){s(Kn.create("storage-set",{originalErrorMessage:d?.message}))}})})()}delete(e){var t=this;return I(function*(){const r=yield t.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([Ts],"readwrite").objectStore(Ts),c=t.createCompositeKey(e);try{const u=a.delete(c);u.onerror=d=>{o(ng(d,"storage-delete"))},u.onsuccess=()=>{i()}}catch(u){o(Kn.create("storage-delete",{originalErrorMessage:u?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class rre{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return I(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),o=yield t;o&&(e.lastFetchStatus=o);const s=yield r;s&&(e.lastSuccessfulFetchTimestampMillis=s);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function ore(){return pb.apply(this,arguments)}function pb(){return(pb=I(function*(){if(!Co())return!1;try{return yield Wl()}catch{return!1}})).apply(this,arguments)}!function ire(){Nn(new pn("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Kn.create("registration-window");if(!Co())throw Kn.create("indexed-db-unavailable");const{projectId:o,apiKey:s,appId:a}=r.options;if(!o)throw Kn.create("registration-project-id");if(!s)throw Kn.create("registration-api-key");if(!a)throw Kn.create("registration-app-id");const c=new nre(a,r.name,t=t||"firebase"),u=new rre(c),d=new vc(ub);d.logLevel=Ae.ERROR;const h=new qne(i,bs,t,o,s,a),p=new Qne(h,c),m=new zne(p,c,u,d),y=new Xne(r,m,u,c,d);return function jne(n){const e=nn(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(y),y},"PUBLIC").setMultipleInstances(!0)),mt(ub,"0.4.9"),mt(ub,"0.4.9","esm2017")}();const sre="/firebase-messaging-sw.js",are="/firebase-cloud-messaging-push-scope",$V="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",cre="https://fcmregistrations.googleapis.com/v1",HV="google.c.a.c_id",ure="google.c.a.c_l",lre="google.c.a.ts";var rg=function(n){return n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",n}(rg||{});function Bi(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function fre(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}const gb="fcm_token_details_db",pre=5,zV="fcm_token_object_Store";function mb(){return mb=I(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(gb))return null;let e=null;return(yield Jp(gb,pre,{upgrade:(r=I(function*(i,o,s,a){var c;if(o<2||!i.objectStoreNames.contains(zV))return;const u=a.objectStore(zV),d=yield u.index("fcmSenderId").get(n);if(yield u.clear(),d)if(2===o){const h=d;if(!h.auth||!h.p256dh||!h.endpoint)return;e={token:h.fcmToken,createTime:null!==(c=h.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:h.auth,p256dh:h.p256dh,endpoint:h.endpoint,swScope:h.swScope,vapidKey:"string"==typeof h.vapidKey?h.vapidKey:Bi(h.vapidKey)}}}else if(3===o){const h=d;e={token:h.fcmToken,createTime:h.createTime,subscriptionOptions:{auth:Bi(h.auth),p256dh:Bi(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:Bi(h.vapidKey)}}}else if(4===o){const h=d;e={token:h.fcmToken,createTime:h.createTime,subscriptionOptions:{auth:Bi(h.auth),p256dh:Bi(h.p256dh),endpoint:h.endpoint,swScope:h.swScope,vapidKey:Bi(h.vapidKey)}}}}),function(o,s,a,c){return r.apply(this,arguments)})})).close(),yield AE(gb),yield AE("fcm_vapid_details_db"),yield AE("undefined"),function mre(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),mb.apply(this,arguments)}const _re="firebase-messaging-database",yre=1,As="firebase-messaging-store";let _b=null;function yb(){return _b||(_b=Jp(_re,yre,{upgrade:(n,e)=>{0===e&&n.createObjectStore(As)}})),_b}function vb(){return vb=I(function*(n){const e=Cb(n),r=yield(yield yb()).transaction(As).objectStore(As).get(e);if(r)return r;{const i=yield function gre(n){return mb.apply(this,arguments)}(n.appConfig.senderId);if(i)return yield Ib(n,i),i}}),vb.apply(this,arguments)}function Ib(n,e){return Eb.apply(this,arguments)}function Eb(){return(Eb=I(function*(n,e){const t=Cb(n),i=(yield yb()).transaction(As,"readwrite");return yield i.objectStore(As).put(e,t),yield i.done,e})).apply(this,arguments)}function Cb({appConfig:n}){return n.appId}const rn=new ni("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ere(n,e){return wb.apply(this,arguments)}function wb(){return(wb=I(function*(n,e){const t=yield Sb(n),r=WV(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(Db(n.appConfig),i)).json()}catch(s){throw rn.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error)throw rn.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw rn.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function Tb(){return(Tb=I(function*(n,e){const t=yield Sb(n),r=WV(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(`${Db(n.appConfig)}/${e.token}`,i)).json()}catch(s){throw rn.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error)throw rn.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw rn.create("token-update-no-token");return o.token})).apply(this,arguments)}function Ab(){return(Ab=I(function*(n,e){const r={method:"DELETE",headers:yield Sb(n)};try{const o=yield(yield fetch(`${Db(n.appConfig)}/${e}`,r)).json();if(o.error)throw rn.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(i){throw rn.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function Db({projectId:n}){return`${cre}/projects/${n}/registrations`}function Sb(n){return Pb.apply(this,arguments)}function Pb(){return(Pb=I(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function WV({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==$V&&(i.web.applicationPubKey=r),i}const Cre=6048e5;function Mb(){return Mb=I(function*(n){const e=yield function Dre(n,e){return kb.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Bi(e.getKey("auth")),p256dh:Bi(e.getKey("p256dh"))},r=yield function GV(n){return vb.apply(this,arguments)}(n.firebaseDependencies);if(r){if(function Sre(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(r.subscriptionOptions,t))return Date.now()>=r.createTime+Cre?function Are(n,e){return xb.apply(this,arguments)}(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield function qV(n,e){return Ab.apply(this,arguments)}(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return KV(n.firebaseDependencies,t)}return KV(n.firebaseDependencies,t)}),Mb.apply(this,arguments)}function xb(){return xb=I(function*(n,e){try{const t=yield function bre(n,e){return Tb.apply(this,arguments)}(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield Ib(n.firebaseDependencies,r),t}catch(t){throw t}}),xb.apply(this,arguments)}function KV(n,e){return Ob.apply(this,arguments)}function Ob(){return(Ob=I(function*(n,e){const r={token:yield Ere(n,e),createTime:Date.now(),subscriptionOptions:e};return yield Ib(n,r),r.token})).apply(this,arguments)}function kb(){return(kb=I(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:fre(e)})})).apply(this,arguments)}function QV(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function Pre(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const o=e.notification.icon;o&&(n.notification.icon=o)}(e,n),function Mre(n,e){e.data&&(n.data=e.data)}(e,n),function Rre(n,e){var t,r,i,o,s;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=e.notification)||void 0===o?void 0:o.click_action;a&&(n.fcmOptions.link=a);const c=null===(s=e.fcmOptions)||void 0===s?void 0:s.analytics_label;c&&(n.fcmOptions.analyticsLabel=c)}(e,n),e}function Nb(n){return rn.create("missing-app-config-values",{valueName:n})}!function Ore(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));t.join("")}("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Nre{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function kre(n){if(!n||!n.options)throw Nb("App Configuration Object");if(!n.name)throw Nb("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw Nb(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function Fb(){return(Fb=I(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(sre,{scope:are}),n.swRegistration.update().catch(()=>{})}catch(e){throw rn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function Vb(){return(Vb=I(function*(n,e){if(!e&&!n.swRegistration&&(yield function YV(n){return Fb.apply(this,arguments)}(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw rn.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function Lb(){return(Lb=I(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=$V)})).apply(this,arguments)}function Ub(){return Ub=I(function*(n,e){if(!navigator)throw rn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw rn.create("permission-blocked");return yield function Vre(n,e){return Lb.apply(this,arguments)}(n,e?.vapidKey),yield function Fre(n,e){return Vb.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function wre(n){return Mb.apply(this,arguments)}(n)}),Ub.apply(this,arguments)}function Bb(){return(Bb=I(function*(n,e,t){const r=function Ure(n){switch(n){case rg.NOTIFICATION_CLICKED:return"notification_open";case rg.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[HV],message_name:t[ure],message_time:t[lre],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function jb(){return jb=I(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===rg.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(QV(t)):n.onMessageHandler.next(QV(t)));const r=t.data;(function xre(n){return"object"==typeof n&&!!n&&HV in n})(r)&&"1"===r["google.c.a.e"]&&(yield function Lre(n,e,t){return Bb.apply(this,arguments)}(n,t.messageType,r))}),jb.apply(this,arguments)}const XV="@firebase/messaging",ZV="0.12.12",jre=n=>{const e=new Nre(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function Bre(n,e){return jb.apply(this,arguments)}(e,t)),e},$re=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function JV(n,e){return Ub.apply(this,arguments)}(e,r)}};function e2(){return $b.apply(this,arguments)}function $b(){return($b=I(function*(){try{yield Wl()}catch{return!1}return typeof window<"u"&&Co()&&mE()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Hre(){Nn(new pn("messaging",jre,"PUBLIC")),Nn(new pn("messaging-internal",$re,"PRIVATE")),mt(XV,ZV),mt(XV,ZV,"esm2017")}();const ig="analytics",qre="firebase_id",Wre="origin",Kre=6e4,Qre="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Gb="https://www.googletagmanager.com/gtag/js",Gt=new vc("@firebase/analytics"),Fn=new ni("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Jre(n){if(!n.startsWith(Gb)){const e=Fn.create("invalid-gtag-resource",{gtagURL:n});return Gt.warn(e.message),""}return n}function t2(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function qb(){return(qb=I(function*(n,e,t,r,i,o){const s=r[i];try{if(s)yield e[s];else{const c=(yield t2(t)).find(u=>u.measurementId===i);c&&(yield e[c.appId])}}catch(a){Gt.error(a)}n("config",i,o)})).apply(this,arguments)}function Wb(){return(Wb=I(function*(n,e,t,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=yield t2(t);for(const c of s){const u=a.find(h=>h.measurementId===c),d=u&&e[u.appId];if(!d){o=[];break}o.push(d)}}0===o.length&&(o=Object.values(e)),yield Promise.all(o),n("event",r,i||{})}catch(o){Gt.error(o)}})).apply(this,arguments)}const sie=30,n2=new class cie{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function uie(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function Kb(){return(Kb=I(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:uie(r)},o=Qre.replace("{app-id}",t),s=yield fetch(o,i);if(200!==s.status&&304!==s.status){let a="";try{const c=yield s.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw Fn.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function Qb(){return(Qb=I(function*(n,e=n2,t){const{appId:r,apiKey:i,measurementId:o}=n.options;if(!r)throw Fn.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Fn.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new pie;return setTimeout(I(function*(){a.abort()}),void 0!==t?t:Kre),r2({appId:r,apiKey:i,measurementId:o},s,a,e)})).apply(this,arguments)}function r2(n,e,t){return Yb.apply(this,arguments)}function Yb(){return Yb=I(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=n2){var o;const{appId:s,measurementId:a}=n;try{yield function hie(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(Fn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return Gt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw c}try{const c=yield function lie(n){return Kb.apply(this,arguments)}(n);return i.deleteThrottleMetadata(s),c}catch(c){const u=c;if(!function fie(n){if(!(n instanceof Ir&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(u)){if(i.deleteThrottleMetadata(s),a)return Gt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:s,measurementId:a};throw c}const d=503===Number(null===(o=u?.customData)||void 0===o?void 0:o.httpStatus)?vE(t,i.intervalMillis,sie):vE(t,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:t+1};return i.setThrottleMetadata(s,h),Gt.debug(`Calling attemptFetch again in ${d} millis`),r2(n,h,r,i)}}),Yb.apply(this,arguments)}class pie{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Jb,iC;function Xb(){return(Xb=I(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const o=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:o}))}})).apply(this,arguments)}function oC(){return(oC=I(function*(){if(!Co())return Gt.warn(Fn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Wl()}catch(n){return Gt.warn(Fn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function sC(){return sC=I(function*(n,e,t,r,i,o,s){var a;const c=function die(n){return Qb.apply(this,arguments)}(n);c.then(m=>{t[m.measurementId]=m.appId,n.options.measurementId&&m.measurementId!==n.options.measurementId&&Gt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>Gt.error(m)),e.push(c);const u=function Eie(){return oC.apply(this,arguments)}().then(m=>{if(m)return r.getId()}),[d,h]=yield Promise.all([c,u]);(function oie(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Gb)&&t.src.includes(n))return t;return null})(o)||function Zre(n,e){const t=function Xre(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:Jre}),r=document.createElement("script"),i=`${Gb}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(o,d.measurementId),iC&&(i("consent","default",iC),function i2(n){iC=n}(void 0)),i("js",new Date);const p=null!==(a=s?.config)&&void 0!==a?a:{};return p[Wre]="firebase",p.update=!0,null!=h&&(p[qre]=h),i("config",d.measurementId,p),Jb&&(i("set",Jb),function o2(n){Jb=n}(void 0)),d.measurementId}),sC.apply(this,arguments)}class Cie{constructor(e){this.app=e}_delete(){return delete ri[this.app.options.appId],Promise.resolve()}}let ri={},s2=[];const a2={};let u2,ii,og="dataLayer",aC=!1;function Tie(n,e,t){!function wie(){const n=[];if(gE()&&n.push("This is a browser extension environment."),mE()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Fn.create("invalid-analytics-context",{errorInfo:e});Gt.warn(t.message)}}();const r=n.options.appId;if(!r)throw Fn.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Fn.create("no-api-key");Gt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ri[r])throw Fn.create("already-exists",{id:r});if(!aC){!function eie(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(og);const{wrappedGtag:o,gtagCore:s}=function iie(n,e,t,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function rie(n,e,t,r){function o(){return o=I(function*(s,...a){try{if("event"===s){const[c,u]=a;yield function nie(n,e,t,r,i){return Wb.apply(this,arguments)}(n,e,t,c,u)}else if("config"===s){const[c,u]=a;yield function tie(n,e,t,r,i,o){return qb.apply(this,arguments)}(n,e,t,r,c,u)}else if("consent"===s){const[c,u]=a;n("consent",c,u)}else if("get"===s){const[c,u,d]=a;n("get",c,u,d)}else if("set"===s){const[c]=a;n("set",c)}else n(s,...a)}catch(c){Gt.error(c)}}),o.apply(this,arguments)}return function i(s){return o.apply(this,arguments)}}(o,n,e,t),{gtagCore:o,wrappedGtag:window[i]}}(ri,s2,a2,og,"gtag");ii=o,u2=s,aC=!0}return ri[r]=function bie(n,e,t,r,i,o,s){return sC.apply(this,arguments)}(n,s2,a2,e,u2,og,t),new Cie(n)}function Die(){return cC.apply(this,arguments)}function cC(){return(cC=I(function*(){if(gE()||!mE()||!Co())return!1;try{return yield Wl()}catch{return!1}})).apply(this,arguments)}const l2="@firebase/analytics";!function Pie(){Nn(new pn(ig,(e,{options:t})=>Tie(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Nn(new pn("analytics-internal",function n(e){try{const t=e.getProvider(ig).getImmediate();return{logEvent:(r,i,o)=>function Sie(n,e,t,r){n=nn(n),function gie(n,e,t,r,i){return Xb.apply(this,arguments)}(ii,ri[n.app.options.appId],e,t,r).catch(i=>Gt.error(i))}(t,r,i,o)}}catch(t){throw Fn.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),mt(l2,"0.10.8"),mt(l2,"0.10.8","esm2017")}();class Mie extends Bn{constructor(e,t){super()}schedule(e,t=0){return this}}const sg={setInterval(n,e,...t){const{delegate:r}=sg;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=sg;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class h2 extends Mie{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return sg.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&sg.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,sa(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const f2={now:()=>(f2.delegate||Date).now(),delegate:void 0};class Zl{constructor(e,t=Zl.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Zl.now=f2.now;class p2 extends Zl{constructor(e,t=Zl.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const Oie=new class xie extends p2{}(class Rie extends h2{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),lC=new p2(h2),kie=lC,ag=new ja("7.6.1"),dC="__angularfire_symbol__analyticsIsSupportedValue",hC="__angularfire_symbol__analyticsIsSupported",fC="__angularfire_symbol__remoteConfigIsSupportedValue",pC="__angularfire_symbol__remoteConfigIsSupported",gC="__angularfire_symbol__messagingIsSupportedValue",mC="__angularfire_symbol__messagingIsSupported";function yC(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[hC]||(globalThis[hC]=Die().then(n=>globalThis[dC]=n).catch(()=>globalThis[dC]=!1)),globalThis[mC]||(globalThis[mC]=e2().then(n=>globalThis[gC]=n).catch(()=>globalThis[gC]=!1)),globalThis[pC]||(globalThis[pC]=ore().then(n=>globalThis[fC]=n).catch(()=>globalThis[fC]=!1));const vC=(n,e)=>{const t=e?[e]:gV(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};function Cc(){}class g2{constructor(e,t=Oie){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},t,r)}}class Nie{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Cc,{},Cc,Cc)),t.pipe(Et({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let IC=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new g2(Zone.current)),this.insideAngular=t.run(()=>new g2(Zone.current,lC)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(ne(Ve))},n.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ds(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Ss(n){return Ds().ngZone.run(()=>n())}function Vie(n){return Ds(),function Lie(n){return function(t){return(t=t.lift(new Nie(n.ngZone))).pipe(xh(n.outsideAngular),Rh(n.insideAngular))}}(Ds())(n)}const Uie=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ss(()=>n.apply(void 0,r))},EC=(n,e)=>function(){let t;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(t||(t=Ss(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Cc,{},Cc,Cc)))),r[o]=Uie(r[o],t));const i=function Fie(n){return Ds().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof ct){const o=Ds();return i.pipe(xh(o.outsideAngular),Rh(o.insideAngular))}return Ss(()=>i)}return i instanceof ct?i.pipe(Vie):i instanceof Promise?Ss(()=>new Promise((o,s)=>i.then(a=>Ss(()=>o(a)),a=>Ss(()=>s(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Ss(()=>i)};class wc{constructor(e){return e}}class bC{constructor(){return gV()}}const CC=new ee("angularfire2._apps"),jie={provide:wc,useFactory:function Bie(n){return n&&1===n.length?n[0]:new wc(PE())},deps:[[new Mn,CC]]},$ie={provide:bC,deps:[[new Mn,CC]]};function Hie(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new wc(r)}}let zie=(()=>{class n{constructor(t){mt("angularfire",ag.full,"core"),mt("angularfire",ag.full,"app"),mt("angular",AM.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(ne(bi))},n.\u0275mod=Hr({type:n}),n.\u0275inj=Ar({providers:[jie,$ie]}),n})();const qie=EC(pV,!0),wC=new Map,m2={activated:!1,tokenObservers:[]},Wie={initialized:!1,enabled:!1};function bt(n){return wC.get(n)||Object.assign({},m2)}function cg(){return Wie}const TC="https://content-firebaseappcheck.googleapis.com/v1",Jie="exchangeDebugToken",_2={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Zie{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return I(function*(){t.stop();try{t.pending=new Qp,t.pending.promise.catch(r=>{}),yield function eoe(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Qp,t.pending.promise.catch(r=>{}),yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const on=new ni("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function AC(n){if(!bt(n).activated)throw on.create("use-before-activation",{appName:n.name})}function dg(n,e){return SC.apply(this,arguments)}function SC(){return(SC=I(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const h=yield i.getHeartbeatsHeader();h&&(r["X-Firebase-Client"]=h)}const o={method:"POST",body:JSON.stringify(e),headers:r};let s,a;try{s=yield fetch(n,o)}catch(h){throw on.create("fetch-network-error",{originalErrorMessage:h?.message})}if(200!==s.status)throw on.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(h){throw on.create("fetch-parse-error",{originalErrorMessage:h?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw on.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=1e3*Number(c[1]),d=Date.now();return{token:a.token,expireTimeMillis:d+u,issuedAtTimeMillis:d}})).apply(this,arguments)}function y2(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${TC}/projects/${t}/apps/${r}:${Jie}?key=${i}`,body:{debug_token:e}}}const ioe="firebase-app-check-database",ooe=1,ed="firebase-app-check-store";let hg=null;function PC(){return(PC=I(function*(n,e){const r=(yield function I2(){return hg||(hg=new Promise((n,e)=>{try{const t=indexedDB.open(ioe,ooe);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(on.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ed,{keyPath:"compositeKey"})}}catch(t){e(on.create("storage-open",{originalErrorMessage:t?.message}))}}),hg)}()).transaction(ed,"readwrite"),o=r.objectStore(ed).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var u;a(on.create("storage-set",{originalErrorMessage:null===(u=c.target.error)||void 0===u?void 0:u.message}))}})})).apply(this,arguments)}const td=new vc("@firebase/app-check");function xC(n,e){return Co()?function aoe(n,e){return function E2(n,e){return PC.apply(this,arguments)}(function C2(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{td.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function kC(){return cg().enabled}function NC(){return FC.apply(this,arguments)}function FC(){return(FC=I(function*(){const n=cg();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const foe={error:"UNKNOWN_ERROR"};function poe(n){return pE.encodeString(JSON.stringify(n),!1)}function fg(n){return VC.apply(this,arguments)}function VC(){return(VC=I(function*(n,e=!1){const t=n.app;AC(t);const r=bt(t);let o,i=r.token;if(i&&!Tc(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(Tc(c)?i=c:yield xC(t,void 0))}if(!e&&i&&Tc(i))return{token:i.token};let a,s=!1;if(kC()){r.exchangeTokenPromise||(r.exchangeTokenPromise=dg(y2(t,yield NC()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);const c=yield r.exchangeTokenPromise;return yield xC(t,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield bt(t).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?td.warn(c.message):td.error(c),o=c}return i?o?a=Tc(i)?{token:i.token,internalError:o}:D2(o):(a={token:i.token},r.token=i,yield xC(t,i)):a=D2(o),s&&function A2(n,e){const t=bt(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,a),a})).apply(this,arguments)}function w2(n){return LC.apply(this,arguments)}function LC(){return(LC=I(function*(n){const e=n.app;AC(e);const{provider:t}=bt(e);if(kC()){const r=yield NC(),{token:i}=yield dg(y2(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function BC(n,e){const t=bt(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function T2(n){const{app:e}=n,t=bt(e);let r=t.tokenRefresher;r||(r=function goe(n){const{app:e}=n;return new Zie(I(function*(){let r;if(r=bt(e).token?yield fg(n,!0):yield fg(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=bt(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},_2.RETRIAL_MIN_WAIT,_2.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Tc(n){return n.expireTimeMillis-Date.now()>0}function D2(n){return{token:poe(foe),error:n}}class moe{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=bt(this.app);for(const t of e)BC(this.app,t.next);return Promise.resolve()}}const N2="app-check-internal";!function Moe(){Nn(new pn("app-check",n=>function _oe(n,e){return new moe(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(N2).initialize()})),Nn(new pn(N2,n=>function yoe(n){return{getToken:e=>fg(n,e),getLimitedUseToken:()=>w2(n),addTokenListener:e=>function UC(n,e,t,r){const{app:i}=n,o=bt(i);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:r,type:e}],o.token&&Tc(o.token)){const a=o.token;Promise.resolve().then(()=>{t({token:a.token}),T2(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>T2(n))}(n,"INTERNAL",e),removeTokenListener:e=>BC(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),mt("@firebase/app-check","0.8.8")}();class zC{constructor(){return vC("app-check")}}typeof window<"u"&&window;const Noe=function V2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},L2=new ni("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),gg=new vc("@firebase/auth");function mg(n,...e){gg.logLevel<=Ae.ERROR&&gg.error(`Auth (${bs}): ${n}`,...e)}function Qn(n,...e){throw WC(n,...e)}function br(n,...e){return WC(n,...e)}function qC(n,e,t){const r=Object.assign(Object.assign({},Noe()),{[e]:t});return new ni("auth","Firebase",r).create(e,{appName:n.name})}function qt(n){return qC(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function WC(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return L2.create(n,...e)}function K(n,e,...t){if(!n)throw WC(e,...t)}function oi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw mg(e),new Error(e)}function To(n,e){n||oi(e)}function nd(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function U2(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class rd{constructor(e,t){this.shortDelay=e,this.longDelay=t,To(t>e,"Short delay should be less than long delay!"),this.isMobile=function bee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pt())}()||function Aee(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Voe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function KC(){return"http:"===U2()||"https:"===U2()}()||gE()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function QC(n,e){To(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class B2{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Uoe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Boe=new rd(3e4,6e4);function it(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function ot(n,e,t,r){return YC.apply(this,arguments)}function YC(){return(YC=I(function*(n,e,t,r,i={}){return j2(n,i,I(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=Kl(Object.assign({key:n.config.apiKey},s)).slice(1),c=yield n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const u=Object.assign({method:e,headers:c},o);return function Tee(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}()||(u.referrerPolicy="no-referrer"),B2.fetch()($2(n,n.config.apiHost,t,a),u)}))})).apply(this,arguments)}function j2(n,e,t){return JC.apply(this,arguments)}function JC(){return(JC=I(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Uoe),e);try{const i=new $oe(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw id(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw id(n,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw id(n,"email-already-in-use",s);if("USER_DISABLED"===c)throw id(n,"user-disabled",s);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw qC(n,d,u);Qn(n,d)}}catch(i){if(i instanceof Ir)throw i;Qn(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function XC(){return(XC=I(function*(n,e,t,r,i={}){const o=yield ot(n,e,t,r,i);return"mfaPendingCredential"in o&&Qn(n,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function $2(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?QC(n.config,i):`${n.config.apiScheme}://${i}`}class $oe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(br(this.auth,"network-request-failed")),Boe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function id(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=br(n,e,r);return i.customData._tokenResponse=t,i}function tw(){return(tw=I(function*(n,e){return ot(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function W2(n,e){return rw.apply(this,arguments)}function rw(){return(rw=I(function*(n,e){return ot(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function od(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function iw(){return(iw=I(function*(n,e=!1){const t=nn(n),r=yield t.getIdToken(e),i=_g(r);K(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:od(ow(i.auth_time)),issuedAtTime:od(ow(i.iat)),expirationTime:od(ow(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function ow(n){return 1e3*Number(n)}function _g(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return mg("JWT malformed, contained fewer than 3 sections"),null;try{const i=Wp(t);return i?JSON.parse(i):(mg("Failed to decode base64 JWT payload"),null)}catch(i){return mg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function K2(n){const e=_g(n);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function $i(n,e){return sw.apply(this,arguments)}function sw(){return(sw=I(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Ir&&function Woe({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class Koe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(I(function*(){yield t.iteration()}),r)}iteration(){var e=this;return I(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class aw{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=od(this.lastLoginAt),this.creationTime=od(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function sd(n){return cw.apply(this,arguments)}function cw(){return(cw=I(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield $i(n,W2(t,{idToken:r}));K(i?.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?Q2(o.providerUserInfo):[],a=function Yoe(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,s),d=!!n.isAnonymous&&!(n.email&&o.passwordHash||a?.length),h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new aw(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(n,h)})).apply(this,arguments)}function uw(){return(uw=I(function*(n){const e=nn(n);yield sd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Q2(n){return n.map(e=>{var{providerId:t}=e,r=Mh(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function lw(){return(lw=I(function*(n,e){const t=yield j2(n,{},I(function*(){const r=Kl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=$2(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",B2.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}function dw(){return(dw=I(function*(n,e){return ot(n,"POST","/v2/accounts:revokeToken",it(n,e))})).apply(this,arguments)}class Dc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):K2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){K(0!==e.length,"internal-error");const t=K2(e);this.updateTokensAndExpiration(e,null,t)}getToken(e){var t=this;return I(function*(r,i=!1){return i||!t.accessToken||t.isExpired?(K(t.refreshToken,r,"user-token-expired"),t.refreshToken?(yield t.refresh(r,t.refreshToken),t.accessToken):null):t.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return I(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function Joe(n,e){return lw.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new Dc;return r&&(K("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(K("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(K("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dc,this.toJSON())}_performRefresh(){return oi("not implemented")}}function Ao(n,e){K("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Hi{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Mh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Koe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new aw(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var t=this;return I(function*(){const r=yield $i(t,t.stsTokenManager.getToken(t.auth,e));return K(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function qoe(n){return iw.apply(this,arguments)}(this,e)}reload(){return function Qoe(n){return uw.apply(this,arguments)}(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Hi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e){var t=this;return I(function*(r,i=!1){let o=!1;r.idToken&&r.idToken!==t.stsTokenManager.accessToken&&(t.stsTokenManager.updateFromServerResponse(r),o=!0),i&&(yield sd(t)),yield t.auth._persistUserIfCurrent(t),o&&t.auth._notifyListenersIfCurrent(t)}).apply(this,arguments)}delete(){var e=this;return I(function*(){if(wo(e.auth.app))return Promise.reject(qt(e.auth));const t=yield e.getIdToken();return yield $i(e,function zoe(n,e){return tw.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,u,d;const h=null!==(r=t.displayName)&&void 0!==r?r:void 0,p=null!==(i=t.email)&&void 0!==i?i:void 0,m=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,y=null!==(s=t.photoURL)&&void 0!==s?s:void 0,v=null!==(a=t.tenantId)&&void 0!==a?a:void 0,b=null!==(c=t._redirectEventId)&&void 0!==c?c:void 0,M=null!==(u=t.createdAt)&&void 0!==u?u:void 0,D=null!==(d=t.lastLoginAt)&&void 0!==d?d:void 0,{uid:L,emailVerified:G,isAnonymous:Z,providerData:se,stsTokenManager:S}=t;K(L&&S,e,"internal-error");const E=Dc.fromJSON(this.name,S);K("string"==typeof L,e,"internal-error"),Ao(h,e.name),Ao(p,e.name),K("boolean"==typeof G,e,"internal-error"),K("boolean"==typeof Z,e,"internal-error"),Ao(m,e.name),Ao(y,e.name),Ao(v,e.name),Ao(b,e.name),Ao(M,e.name),Ao(D,e.name);const T=new Hi({uid:L,auth:e,email:p,emailVerified:G,displayName:h,isAnonymous:Z,photoURL:y,phoneNumber:m,tenantId:v,stsTokenManager:E,createdAt:M,lastLoginAt:D});return se&&Array.isArray(se)&&(T.providerData=se.map(P=>Object.assign({},P))),b&&(T._redirectEventId=b),T}static _fromIdTokenResponse(e,t){return I(function*(r,i,o=!1){const s=new Dc;s.updateFromServerResponse(i);const a=new Hi({uid:i.localId,auth:r,stsTokenManager:s,isAnonymous:o});return yield sd(a),a}).apply(this,arguments)}static _fromGetAccountInfoResponse(e,t,r){return I(function*(){const i=t.users[0];K(void 0!==i.localId,"internal-error");const o=void 0!==i.providerUserInfo?Q2(i.providerUserInfo):[],s=!(i.email&&i.passwordHash||o?.length),a=new Dc;a.updateFromIdToken(r);const c=new Hi({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new aw(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash||o?.length)};return Object.assign(c,u),c})()}}const Y2=new Map;function zi(n){To(n instanceof Function,"Expected a class definition");let e=Y2.get(n);return e?(To(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Y2.set(n,e),e)}const J2=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return I(function*(){return!0})()}_set(t,r){var i=this;return I(function*(){i.storage[t]=r})()}_get(t){var r=this;return I(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return I(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function yg(n,e,t){return`firebase:${n}:${e}:${t}`}class Sc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=yg(this.userKey,i.apiKey,o),this.fullPersistenceKey=yg("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return I(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Hi._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return I(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t){return I(function*(r,i,o="authUser"){if(!i.length)return new Sc(zi(J2),r,o);const s=(yield Promise.all(i.map(function(){var h=I(function*(p){if(yield p._isAvailable())return p});return function(p){return h.apply(this,arguments)}}()))).filter(h=>h);let a=s[0]||zi(J2);const c=yg(o,r.config.apiKey,r.name);let u=null;for(const h of i)try{const p=yield h._get(c);if(p){const m=Hi._fromJSON(r,p);h!==a&&(u=m),a=h;break}}catch{}const d=s.filter(h=>h._shouldAllowMigration);return a._shouldAllowMigration&&d.length?(a=d[0],u&&(yield a._set(c,u.toJSON())),yield Promise.all(i.map(function(){var h=I(function*(p){if(p!==a)try{yield p._remove(c)}catch{}});return function(p){return h.apply(this,arguments)}}())),new Sc(a,r,o)):new Sc(a,r,o)}).apply(this,arguments)}}function X2(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Z2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iL(e))return"Blackberry";if(oL(e))return"Webos";if(eL(e))return"Safari";if((e.includes("chrome/")||tL(e))&&!e.includes("edge/"))return"Chrome";if(rL(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function Z2(n=Pt()){return/firefox\//i.test(n)}function eL(n=Pt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tL(n=Pt()){return/crios\//i.test(n)}function nL(n=Pt()){return/iemobile/i.test(n)}function rL(n=Pt()){return/android/i.test(n)}function iL(n=Pt()){return/blackberry/i.test(n)}function oL(n=Pt()){return/webos/i.test(n)}function hw(n=Pt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function sL(n=Pt()){return hw(n)||rL(n)||oL(n)||iL(n)||/windows phone/i.test(n)||nL(n)}function aL(n,e=[]){let t;switch(n){case"Browser":t=X2(Pt());break;case"Worker":t=`${X2(Pt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${bs}/${r}`}class tse{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return I(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function fw(){return(fw=I(function*(n,e={}){return ot(n,"GET","/v2/passwordPolicy",it(n,e))})).apply(this,arguments)}class ise{constructor(e){var t,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=null===(t=c.meetsMinPasswordLength)||void 0===t||t),c.isValid&&(c.isValid=null===(r=c.meetsMaxPasswordLength)||void 0===r||r),c.isValid&&(c.isValid=null===(i=c.containsLowercaseLetter)||void 0===i||i),c.isValid&&(c.isValid=null===(o=c.containsUppercaseLetter)||void 0===o||o),c.isValid&&(c.isValid=null===(s=c.containsNumericCharacter)||void 0===s||s),c.isValid&&(c.isValid=null===(a=c.containsNonAlphanumericCharacter)||void 0===a||a),c}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class ose{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cL(this),this.idTokenSubscription=new cL(this),this.beforeStateQueue=new tse(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=L2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=zi(t)),this._initializationPromise=this.queue(I(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Sc.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return I(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUserFromIdToken(e){var t=this;return I(function*(){try{const r=yield W2(t,{idToken:e}),i=yield Hi._fromGetAccountInfoResponse(t,r,e);yield t.directlySetCurrentUser(i)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),yield t.directlySetCurrentUser(null)}})()}initializeCurrentUser(e){var t=this;return I(function*(){var r;if(wo(t.app)){const a=t.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>t.initializeCurrentUserFromIdToken(a).then(c,c))}):t.directlySetCurrentUser(null)}const i=yield t.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,c=o?._redirectEventId,u=yield t.tryRedirectSignIn(e);(!a||a===c)&&u?.user&&(o=u.user,s=!0)}if(!o)return t.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield t.beforeStateQueue.runMiddleware(o)}catch(a){o=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return o?t.reloadAndSetCurrentUserOrClear(o):t.directlySetCurrentUser(null)}return K(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===o._redirectEventId?t.directlySetCurrentUser(o):t.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var t=this;return I(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return I(function*(){try{yield sd(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Loe(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return I(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return I(function*(){if(wo(t.app))return Promise.reject(qt(t));const r=e?nn(e):null;return r&&K(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e){var t=this;return I(function*(r,i=!1){if(!t._deleted)return r&&K(t.tenantId===r.tenantId,t,"tenant-id-mismatch"),i||(yield t.beforeStateQueue.runMiddleware(r)),t.queue(I(function*(){yield t.directlySetCurrentUser(r),t.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var e=this;return I(function*(){return wo(e.app)?Promise.reject(qt(e)):(yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0))})()}setPersistence(e){var t=this;return wo(this.app)?Promise.reject(qt(this)):this.queue(I(function*(){yield t.assertedPersistence.setPersistence(zi(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return I(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return I(function*(){const t=yield function nse(n){return fw.apply(this,arguments)}(e),r=new ise(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ni("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){var t=this;return I(function*(){if(t.currentUser){const r=yield t.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=t.tenantId&&(i.tenantId=t.tenantId),yield function Xoe(n,e){return dw.apply(this,arguments)}(t,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return I(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return I(function*(){if(!t.redirectPersistenceManager){const r=e&&zi(e)||t._popupRedirectResolver;K(r,t,"argument-error"),t.redirectPersistenceManager=yield Sc.create(t,[zi(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return I(function*(){var r,i;return t._isInitialized&&(yield t.queue(I(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return I(function*(){if(e===t.currentUser)return t.queue(I(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof t){const c=e.addObserver(t,r,i);return()=>{s=!0,c()}}{const c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){var t=this;return I(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aL(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return I(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return I(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function Foe(n,...e){gg.logLevel<=Ae.WARN&&gg.warn(`Auth (${bs}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Mt(n){return nn(n)}class cL{constructor(e){this.auth=e,this.observer=null,this.addObserver=function xee(n,e){const t=new Oee(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ad={loadJS:()=>I(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uL(n){return`__${n}${Math.floor(1e6*Math.random())}`}function hL(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function fL(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class ud{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return oi("not implemented")}_getIdTokenResponse(e){return oi("not implemented")}_linkToIdToken(e,t){return oi("not implemented")}_getReauthenticationResolver(e){return oi("not implemented")}}function Gi(n,e){return Rw.apply(this,arguments)}function Rw(){return(Rw=I(function*(n,e){return function ji(n,e,t,r){return XC.apply(this,arguments)}(n,"POST","/v1/accounts:signInWithIdp",it(n,e))})).apply(this,arguments)}class qi{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Fse extends qi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Cr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r){return I(function*(i,o,s,a=!1){const c=yield Hi._fromIdTokenResponse(i,s,a),u=_L(s);return new Cr({user:c,providerId:u,_tokenResponse:s,operationType:o})}).apply(this,arguments)}static _forOperation(e,t,r){return I(function*(){yield e._updateTokensIfNecessary(r,!0);const i=_L(r);return new Cr({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function _L(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class bg extends Ir{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,bg.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new bg(e,t,r,i)}}function yL(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?bg._fromErrorAndOperation(n,o,e,r):o})}function jw(){return(jw=I(function*(n,e,t=!1){const r=yield $i(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Cr._forOperation(n,"link",r)})).apply(this,arguments)}function Hw(){return(Hw=I(function*(n,e,t=!1){const{auth:r}=n;if(wo(r.app))return Promise.reject(qt(r));const i="reauthenticate";try{const o=yield $i(n,yL(r,i,e,n),t);K(o.idToken,r,"internal-error");const s=_g(o.idToken);K(s,r,"internal-error");const{sub:a}=s;return K(n.uid===a,r,"user-mismatch"),Cr._forOperation(n,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&Qn(r,"user-mismatch"),o}})).apply(this,arguments)}function zw(){return(zw=I(function*(n,e,t=!1){if(wo(n.app))return Promise.reject(qt(n));const r="signIn",i=yield yL(n,r,e),o=yield Cr._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})).apply(this,arguments)}const Tg="__sak";class wL{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Tg,"1"),this.storage.removeItem(Tg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const iae=(()=>{class n extends wL{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sL(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});const i=t.key;r?this.detachListener():this.stopPolling();const o=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);!function ese(){return function Dee(){const n=Pt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===t.newValue||t.newValue===t.oldValue?o():setTimeout(o,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,o=this;return I(function*(){yield i().call(o,t,r),o.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return I(function*(){const o=yield r().call(i,t);return i.localCache[t]=JSON.stringify(o),o})()}_remove(t){var r=()=>super._remove,i=this;return I(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),TL=(()=>{class n extends wL{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let sae=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return I(function*(){const i=t,{eventId:o,eventType:s,data:a}=i.data,c=r.handlersMap[s];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const u=Array.from(c).map(function(){var h=I(function*(p){return p(i.origin,a)});return function(p){return h.apply(this,arguments)}}()),d=yield function oae(n){return Promise.all(n.map(function(){var e=I(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(u);i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:d})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function ET(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class aae{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t){var r=this;return I(function*(i,o,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let c,u;return new Promise((d,h)=>{const p=ET("",20);a.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(y){const v=y;if(v.data.eventId===p)switch(v.data.status){case"ack":clearTimeout(m),c=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),d(v.data.response);break;default:clearTimeout(m),clearTimeout(c),h(new Error("invalid_response"))}}},r.handlers.add(u),a.port1.addEventListener("message",u.onMessage),r.target.postMessage({eventType:i,eventId:p,data:o},[a.port2])}).finally(()=>{u&&r.removeMessageHandler(u)})}).apply(this,arguments)}}function Vt(){return window}function bT(){return typeof Vt().WorkerGlobalScope<"u"&&"function"==typeof Vt().importScripts}function CT(){return(CT=I(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const AL="firebaseLocalStorageDb",Ag="firebaseLocalStorage",DL="fbase_key";class pd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Dg(n,e){return n.transaction([Ag],e?"readwrite":"readonly").objectStore(Ag)}function wT(){const n=indexedDB.open(AL,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Ag,{keyPath:DL})}catch(i){t(i)}}),n.addEventListener("success",I(function*(){const r=n.result;r.objectStoreNames.contains(Ag)?e(r):(r.close(),yield function fae(){const n=indexedDB.deleteDatabase(AL);return new pd(n).toPromise()}(),e(yield wT()))}))})}function SL(n,e,t){return TT.apply(this,arguments)}function TT(){return(TT=I(function*(n,e,t){const r=Dg(n,!0).put({[DL]:e,value:t});return new pd(r).toPromise()})).apply(this,arguments)}function AT(){return(AT=I(function*(n,e){const t=Dg(n,!1).get(e),r=yield new pd(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function PL(n,e){const t=Dg(n,!0).delete(e);return new pd(t).toPromise()}const _ae=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return I(function*(){return t.db||(t.db=yield wT()),t.db})()}_withRetries(t){var r=this;return I(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield t(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return I(function*(){return bT()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return I(function*(){t.receiver=sae._getInstance(function dae(){return bT()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=I(function*(i,o){return{keyProcessed:(yield t._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=I(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return I(function*(){var r,i;if(t.activeServiceWorker=yield function uae(){return CT.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new aae(t.activeServiceWorker);const o=yield t.sender._send("ping",{},800);o&&null!==(r=o[0])&&void 0!==r&&r.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return I(function*(){if(r.sender&&r.activeServiceWorker&&function lae(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return I(function*(){try{if(!indexedDB)return!1;const t=yield wT();return yield SL(t,Tg,"1"),yield PL(t,Tg),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return I(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return I(function*(){return i._withPendingWrite(I(function*(){return yield i._withRetries(o=>SL(o,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return I(function*(){const i=yield r._withRetries(o=>function pae(n,e){return AT.apply(this,arguments)}(o,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return I(function*(){return r._withPendingWrite(I(function*(){return yield r._withRetries(i=>PL(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return I(function*(){const r=yield t._withRetries(s=>{const a=Dg(s,!1).getAll();return new pd(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],o=new Set;if(0!==r.length)for(const{fbase_key:s,value:a}of r)o.add(s),JSON.stringify(t.localCache[s])!==JSON.stringify(a)&&(t.notifyListeners(s,a),i.push(s));for(const s of Object.keys(t.localCache))t.localCache[s]&&!o.has(s)&&(t.notifyListeners(s,null),i.push(s));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const o of Array.from(i))o(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(I(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();uL("rcb"),new rd(3e4,6e4);class NT extends ud{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gi(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Gi(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Gi(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function xae(n){return function EL(n,e){return zw.apply(this,arguments)}(n.auth,new NT(n),n.bypassAuthState)}function Oae(n){const{auth:e,user:t}=n;return K(t,e,"internal-error"),function IL(n,e){return Hw.apply(this,arguments)}(t,new NT(n),n.bypassAuthState)}function kae(n){return FT.apply(this,arguments)}function FT(){return(FT=I(function*(n){const{auth:e,user:t}=n;return K(t,e,"internal-error"),function Bw(n,e){return jw.apply(this,arguments)}(t,new NT(n),n.bypassAuthState)})).apply(this,arguments)}class Nae{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=I(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return I(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:s,error:a,type:c}=e;if(a)return void t.reject(a);const u={auth:t.auth,requestUri:r,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(c)(u))}catch(d){t.reject(d)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xae;case"linkViaPopup":case"linkViaRedirect":return kae;case"reauthViaPopup":case"reauthViaRedirect":return Oae;default:Qn(this.auth,"internal-error")}}resolve(e){To(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){To(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new rd(2e3,1e4);const Fae="pendingRedirect",gd=new Map;class Vae extends Nae{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return I(function*(){let r=gd.get(t.auth._key());if(!r){try{const o=(yield function Lae(n,e){return jT.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}gd.set(t.auth._key(),r)}return t.bypassAuthState||gd.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return I(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return I(function*(){})()}cleanUp(){}}function jT(){return(jT=I(function*(n,e){const t=function xL(n){return yg(Fae,n.config.apiKey,n.name)}(e),r=function RL(n){return zi(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function Uae(n,e){gd.set(n._key(),e)}function OL(n,e){return KT.apply(this,arguments)}function KT(){return(KT=I(function*(n,e,t=!1){if(wo(n.app))return Promise.reject(qt(n));const r=Mt(n),i=function Ms(n,e){return e?zi(e):(K(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(r,e),s=yield new Vae(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})).apply(this,arguments)}class zae{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Gae(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FL(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!FL(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(br(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(NL(e))}saveEventToCache(e){this.cachedEventUids.add(NL(e)),this.lastProcessedEventTime=Date.now()}}function NL(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function FL({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function YT(){return(YT=I(function*(n,e={}){return ot(n,"GET","/v1/projects",e)})).apply(this,arguments)}const Wae=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Kae=/^https?/;function JT(){return JT=I(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function qae(n){return YT.apply(this,arguments)}(n);for(const t of e)try{if(Yae(t))return}catch{}Qn(n,"unauthorized-domain")}),JT.apply(this,arguments)}function Yae(n){const e=nd(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const s=new URL(n);return""===s.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&s.hostname===r}if(!Kae.test(t))return!1;if(Wae.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Jae=new rd(3e4,6e4);function VL(){const n=Vt().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}function Xae(n){return new Promise((e,t)=>{var r,i,o;function s(){VL(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{VL(),t(br(n,"network-request-failed"))},timeout:Jae.get()})}if(null!==(i=null===(r=Vt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(o=Vt().gapi)||void 0===o||!o.load){const a=uL("iframefcb");return Vt()[a]=()=>{gapi.load?s():t(br(n,"network-request-failed"))},function pw(n){return ad.loadJS(n)}(`${function use(){return ad.gapiScript}()}?onload=${a}`).catch(c=>t(c))}s()}}).catch(e=>{throw Pg=null,e})}let Pg=null;const ece=new rd(5e3,15e3),tce="__/auth/iframe",nce="emulator/auth/iframe",rce={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ice=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oce(n){const e=n.config;K(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?QC(e,nce):`https://${n.config.authDomain}/${tce}`,r={apiKey:e.apiKey,appName:n.name,v:bs},i=ice.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Kl(r).slice(1)}`}function XT(){return XT=I(function*(n){const e=yield function Zae(n){return Pg=Pg||Xae(n),Pg}(n),t=Vt().gapi;return K(t,n,"internal-error"),e.open({where:document.body,url:oce(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rce,dontclear:!0},r=>new Promise(function(){var i=I(function*(o,s){yield r.restyle({setHideOnLeave:!1});const a=br(n,"network-request-failed"),c=Vt().setTimeout(()=>{s(a)},ece.get());function u(){Vt().clearTimeout(c),o(r)}r.ping(u).then(u,()=>{s(a)})});return function(o,s){return i.apply(this,arguments)}}()))}),XT.apply(this,arguments)}const ace={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class LL{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const pce="__/auth/handler",gce="emulator/auth/handler",mce=encodeURIComponent("fac");function UL(n,e,t,r,i,o){return ZT.apply(this,arguments)}function ZT(){return(ZT=I(function*(n,e,t,r,i,o){K(n.config.authDomain,n,"auth-domain-config-required"),K(n.config.apiKey,n,"invalid-api-key");const s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:bs,eventId:i};if(e instanceof qi){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",function Ree(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(o||{}))s[d]=h}if(e instanceof Fse){const d=e.getScopes().filter(h=>""!==h);d.length>0&&(s.scopes=d.join(","))}n.tenantId&&(s.tid=n.tenantId);const a=s;for(const d of Object.keys(a))void 0===a[d]&&delete a[d];const c=yield n._getAppCheckToken(),u=c?`#${mce}=${encodeURIComponent(c)}`:"";return`${function _ce({config:n}){return n.emulator?QC(n,gce):`https://${n.authDomain}/${pce}`}(n)}?${Kl(a).slice(1)}${u}`})).apply(this,arguments)}const e0="webStorageSupport",vce=class yce{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TL,this._completeRedirectFn=OL,this._overrideRedirectResult=Uae}_openPopup(e,t,r,i){var o=this;return I(function*(){var s;To(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield UL(e,t,r,nd(),i);return function hce(n,e,t,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},ace),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Pt().toLowerCase();t&&(a=tL(u)?"_blank":t),Z2(u)&&(e=e||"http://localhost",c.scrollbars="yes");const d=Object.entries(c).reduce((p,[m,y])=>`${p}${m}=${y},`,"");if(function Zoe(n=Pt()){var e;return hw(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==a)return function fce(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new LL(null);const h=window.open(e||"",a,d);K(h,n,"popup-blocked");try{h.focus()}catch{}return new LL(h)}(e,a,ET())})()}_openRedirect(e,t,r,i){var o=this;return I(function*(){return yield o._originValidation(e),function cae(n){Vt().location.href=n}(yield UL(e,t,r,nd(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(To(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return I(function*(){const r=yield function sce(n){return XT.apply(this,arguments)}(e),i=new zae(e);return r.register("authEvent",o=>(K(o?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(e0,{type:e0},i=>{var o;const s=null===(o=i?.[0])||void 0===o?void 0:o[e0];void 0!==s&&t(!!s),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function Qae(n){return JT.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return sL()||eL()||hw()}};var HL="@firebase/auth";class Ice{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return I(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const wce=nV("authIdTokenMaxAge")||300;let GL=null;const Tce=n=>function(){var e=I(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>wce)return;const o=r?.token;GL!==o&&(GL=o,yield fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function Ace(n=PE()){const e=Ic(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function fse(n,e){const t=Ic(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(yc(t.getOptions(),e??{}))return i;Qn(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:vce,persistence:[_ae,iae,TL]}),r=nV("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=Tce(o.toString());(function Jse(n,e,t){nn(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),function Yse(n,e,t,r){nn(n).onIdTokenChanged(e,t,r)}(t,a=>s(a))}}const i=eV("auth");return i&&function gse(n,e,t){const r=Mt(n);K(r._canInitEmulator,r,"emulator-config-failed"),K(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,o=hL(e),{host:s,port:a}=function mse(n){const e=hL(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:fL(r.substr(o.length+1))}}{const[o,s]=r.split(":");return{host:o,port:fL(s)}}}(e);r.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function _se(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}(function sse(n){ad=n})({loadJS:n=>new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=br("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",function Dce(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function bce(n){Nn(new pn("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;K(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aL(n)},u=new ose(r,i,o,c);return function pse(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(zi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Nn(new pn("auth-internal",e=>{const t=Mt(e.getProvider("auth").getImmediate());return new Ice(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),mt(HL,"1.7.9",function Ece(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(n)),mt(HL,"1.7.9","esm2017")}("Browser");class n0{constructor(e){return e}}class WL{constructor(){return vC("auth")}}const r0=new ee("angularfire2.auth-instances");function Pce(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new n0(r)}}const Mce={provide:WL,deps:[[new Mn,r0]]},Rce={provide:n0,useFactory:function Sce(n,e){const t=yC("auth",n,e);return t&&new n0(t)},deps:[[new Mn,r0],wc]};let xce=(()=>{class n{constructor(){mt("angularfire",ag.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Hr({type:n}),n.\u0275inj=Ar({providers:[Rce,Mce]}),n})();const kce=EC(Ace,!0);var Rs,KL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},QL={};(function(){var n;function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function i(S,E,T){T||(T=0);var P=Array(16);if("string"==typeof E)for(var x=0;16>x;++x)P[x]=E.charCodeAt(T++)|E.charCodeAt(T++)<<8|E.charCodeAt(T++)<<16|E.charCodeAt(T++)<<24;else for(x=0;16>x;++x)P[x]=E[T++]|E[T++]<<8|E[T++]<<16|E[T++]<<24;var F=S.g[3],A=(E=S.g[0])+(F^(T=S.g[1])&((x=S.g[2])^F))+P[0]+3614090360&4294967295;A=(T=(x=(F=(E=(T=(x=(F=(E=(T=(x=(F=(E=(T=(x=(F=(E=(T=(x=(F=(E=(T=(x=(F=(E=(T=(x=(F=(E=(T=(x=(F=(E=(T=(x=(F=(E=(T=(x=(F=(E=(T=(x=(F=(E=(T=(x=(F=(E=(T=(x=(F=(E=(T=(x=(F=(E=(T=(x=(F=(E=T+(A<<7&4294967295|A>>>25))+((A=F+(x^E&(T^x))+P[1]+3905402710&4294967295)<<12&4294967295|A>>>20))+((A=x+(T^F&(E^T))+P[2]+606105819&4294967295)<<17&4294967295|A>>>15))+((A=T+(E^x&(F^E))+P[3]+3250441966&4294967295)<<22&4294967295|A>>>10))+((A=E+(F^T&(x^F))+P[4]+4118548399&4294967295)<<7&4294967295|A>>>25))+((A=F+(x^E&(T^x))+P[5]+1200080426&4294967295)<<12&4294967295|A>>>20))+((A=x+(T^F&(E^T))+P[6]+2821735955&4294967295)<<17&4294967295|A>>>15))+((A=T+(E^x&(F^E))+P[7]+4249261313&4294967295)<<22&4294967295|A>>>10))+((A=E+(F^T&(x^F))+P[8]+1770035416&4294967295)<<7&4294967295|A>>>25))+((A=F+(x^E&(T^x))+P[9]+2336552879&4294967295)<<12&4294967295|A>>>20))+((A=x+(T^F&(E^T))+P[10]+4294925233&4294967295)<<17&4294967295|A>>>15))+((A=T+(E^x&(F^E))+P[11]+2304563134&4294967295)<<22&4294967295|A>>>10))+((A=E+(F^T&(x^F))+P[12]+1804603682&4294967295)<<7&4294967295|A>>>25))+((A=F+(x^E&(T^x))+P[13]+4254626195&4294967295)<<12&4294967295|A>>>20))+((A=x+(T^F&(E^T))+P[14]+2792965006&4294967295)<<17&4294967295|A>>>15))+((A=T+(E^x&(F^E))+P[15]+1236535329&4294967295)<<22&4294967295|A>>>10))+((A=E+(x^F&(T^x))+P[1]+4129170786&4294967295)<<5&4294967295|A>>>27))+((A=F+(T^x&(E^T))+P[6]+3225465664&4294967295)<<9&4294967295|A>>>23))+((A=x+(E^T&(F^E))+P[11]+643717713&4294967295)<<14&4294967295|A>>>18))+((A=T+(F^E&(x^F))+P[0]+3921069994&4294967295)<<20&4294967295|A>>>12))+((A=E+(x^F&(T^x))+P[5]+3593408605&4294967295)<<5&4294967295|A>>>27))+((A=F+(T^x&(E^T))+P[10]+38016083&4294967295)<<9&4294967295|A>>>23))+((A=x+(E^T&(F^E))+P[15]+3634488961&4294967295)<<14&4294967295|A>>>18))+((A=T+(F^E&(x^F))+P[4]+3889429448&4294967295)<<20&4294967295|A>>>12))+((A=E+(x^F&(T^x))+P[9]+568446438&4294967295)<<5&4294967295|A>>>27))+((A=F+(T^x&(E^T))+P[14]+3275163606&4294967295)<<9&4294967295|A>>>23))+((A=x+(E^T&(F^E))+P[3]+4107603335&4294967295)<<14&4294967295|A>>>18))+((A=T+(F^E&(x^F))+P[8]+1163531501&4294967295)<<20&4294967295|A>>>12))+((A=E+(x^F&(T^x))+P[13]+2850285829&4294967295)<<5&4294967295|A>>>27))+((A=F+(T^x&(E^T))+P[2]+4243563512&4294967295)<<9&4294967295|A>>>23))+((A=x+(E^T&(F^E))+P[7]+1735328473&4294967295)<<14&4294967295|A>>>18))+((A=T+(F^E&(x^F))+P[12]+2368359562&4294967295)<<20&4294967295|A>>>12))+((A=E+(T^x^F)+P[5]+4294588738&4294967295)<<4&4294967295|A>>>28))+((A=F+(E^T^x)+P[8]+2272392833&4294967295)<<11&4294967295|A>>>21))+((A=x+(F^E^T)+P[11]+1839030562&4294967295)<<16&4294967295|A>>>16))+((A=T+(x^F^E)+P[14]+4259657740&4294967295)<<23&4294967295|A>>>9))+((A=E+(T^x^F)+P[1]+2763975236&4294967295)<<4&4294967295|A>>>28))+((A=F+(E^T^x)+P[4]+1272893353&4294967295)<<11&4294967295|A>>>21))+((A=x+(F^E^T)+P[7]+4139469664&4294967295)<<16&4294967295|A>>>16))+((A=T+(x^F^E)+P[10]+3200236656&4294967295)<<23&4294967295|A>>>9))+((A=E+(T^x^F)+P[13]+681279174&4294967295)<<4&4294967295|A>>>28))+((A=F+(E^T^x)+P[0]+3936430074&4294967295)<<11&4294967295|A>>>21))+((A=x+(F^E^T)+P[3]+3572445317&4294967295)<<16&4294967295|A>>>16))+((A=T+(x^F^E)+P[6]+76029189&4294967295)<<23&4294967295|A>>>9))+((A=E+(T^x^F)+P[9]+3654602809&4294967295)<<4&4294967295|A>>>28))+((A=F+(E^T^x)+P[12]+3873151461&4294967295)<<11&4294967295|A>>>21))+((A=x+(F^E^T)+P[15]+530742520&4294967295)<<16&4294967295|A>>>16))+((A=T+(x^F^E)+P[2]+3299628645&4294967295)<<23&4294967295|A>>>9))+((A=E+(x^(T|~F))+P[0]+4096336452&4294967295)<<6&4294967295|A>>>26))+((A=F+(T^(E|~x))+P[7]+1126891415&4294967295)<<10&4294967295|A>>>22))+((A=x+(E^(F|~T))+P[14]+2878612391&4294967295)<<15&4294967295|A>>>17))+((A=T+(F^(x|~E))+P[5]+4237533241&4294967295)<<21&4294967295|A>>>11))+((A=E+(x^(T|~F))+P[12]+1700485571&4294967295)<<6&4294967295|A>>>26))+((A=F+(T^(E|~x))+P[3]+2399980690&4294967295)<<10&4294967295|A>>>22))+((A=x+(E^(F|~T))+P[10]+4293915773&4294967295)<<15&4294967295|A>>>17))+((A=T+(F^(x|~E))+P[1]+2240044497&4294967295)<<21&4294967295|A>>>11))+((A=E+(x^(T|~F))+P[8]+1873313359&4294967295)<<6&4294967295|A>>>26))+((A=F+(T^(E|~x))+P[15]+4264355552&4294967295)<<10&4294967295|A>>>22))+((A=x+(E^(F|~T))+P[6]+2734768916&4294967295)<<15&4294967295|A>>>17))+((A=T+(F^(x|~E))+P[13]+1309151649&4294967295)<<21&4294967295|A>>>11))+((F=(E=T+((A=E+(x^(T|~F))+P[4]+4149444226&4294967295)<<6&4294967295|A>>>26))+((A=F+(T^(E|~x))+P[11]+3174756917&4294967295)<<10&4294967295|A>>>22))^((x=F+((A=x+(E^(F|~T))+P[2]+718787259&4294967295)<<15&4294967295|A>>>17))|~E))+P[9]+3951481745&4294967295,S.g[0]=S.g[0]+E&4294967295,S.g[1]=S.g[1]+(x+(A<<21&4294967295|A>>>11))&4294967295,S.g[2]=S.g[2]+x&4294967295,S.g[3]=S.g[3]+F&4294967295}function s(S,E){this.h=E;for(var T=[],P=!0,x=S.length-1;0<=x;x--){var F=0|S[x];P&&F==E||(T[x]=F,P=!1)}this.g=T}(function e(S,E){function T(){}T.prototype=E.prototype,S.D=E.prototype,S.prototype=new T,S.prototype.constructor=S,S.C=function(P,x,F){for(var A=Array(arguments.length-2),to=2;to<arguments.length;to++)A[to-2]=arguments[to];return E.prototype[x].apply(P,A)}})(r,function t(){this.blockSize=-1}),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},r.prototype.u=function(S,E){void 0===E&&(E=S.length);for(var T=E-this.blockSize,P=this.B,x=this.h,F=0;F<E;){if(0==x)for(;F<=T;)i(this,S,F),F+=this.blockSize;if("string"==typeof S){for(;F<E;)if(P[x++]=S.charCodeAt(F++),x==this.blockSize){i(this,P),x=0;break}}else for(;F<E;)if(P[x++]=S[F++],x==this.blockSize){i(this,P),x=0;break}}this.h=x,this.o+=E},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var E=1;E<S.length-8;++E)S[E]=0;var T=8*this.o;for(E=S.length-8;E<S.length;++E)S[E]=255&T,T/=256;for(this.u(S),S=Array(16),E=T=0;4>E;++E)for(var P=0;32>P;P+=8)S[T++]=this.g[E]>>>P&255;return S};var a={};function c(S){return-128<=S&&128>S?function o(S,E){var T=a;return Object.prototype.hasOwnProperty.call(T,S)?T[S]:T[S]=E(S)}(S,function(E){return new s([0|E],0>E?-1:0)}):new s([0|S],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return h;if(0>S)return b(u(-S));for(var E=[],T=1,P=0;S>=T;P++)E[P]=S/T|0,T*=4294967296;return new s(E,0)}var h=c(0),p=c(1),m=c(16777216);function y(S){if(0!=S.h)return!1;for(var E=0;E<S.g.length;E++)if(0!=S.g[E])return!1;return!0}function v(S){return-1==S.h}function b(S){for(var E=S.g.length,T=[],P=0;P<E;P++)T[P]=~S.g[P];return new s(T,~S.h).add(p)}function M(S,E){return S.add(b(E))}function D(S,E){for(;(65535&S[E])!=S[E];)S[E+1]+=S[E]>>>16,S[E]&=65535,E++}function L(S,E){this.g=S,this.h=E}function G(S,E){if(y(E))throw Error("division by zero");if(y(S))return new L(h,h);if(v(S))return E=G(b(S),E),new L(b(E.g),b(E.h));if(v(E))return E=G(S,b(E)),new L(b(E.g),E.h);if(30<S.g.length){if(v(S)||v(E))throw Error("slowDivide_ only works with positive integers.");for(var T=p,P=E;0>=P.l(S);)T=Z(T),P=Z(P);var x=se(T,1),F=se(P,1);for(P=se(P,2),T=se(T,2);!y(P);){var A=F.add(P);0>=A.l(S)&&(x=x.add(T),F=A),P=se(P,1),T=se(T,1)}return E=M(S,x.j(E)),new L(x,E)}for(x=h;0<=S.l(E);){for(T=Math.max(1,Math.floor(S.m()/E.m())),P=48>=(P=Math.ceil(Math.log(T)/Math.LN2))?1:Math.pow(2,P-48),A=(F=u(T)).j(E);v(A)||0<A.l(S);)A=(F=u(T-=P)).j(E);y(F)&&(F=p),x=x.add(F),S=M(S,A)}return new L(x,S)}function Z(S){for(var E=S.g.length+1,T=[],P=0;P<E;P++)T[P]=S.i(P)<<1|S.i(P-1)>>>31;return new s(T,S.h)}function se(S,E){var T=E>>5;E%=32;for(var P=S.g.length-T,x=[],F=0;F<P;F++)x[F]=0<E?S.i(F+T)>>>E|S.i(F+T+1)<<32-E:S.i(F+T);return new s(x,S.h)}(n=s.prototype).m=function(){if(v(this))return-b(this).m();for(var S=0,E=1,T=0;T<this.g.length;T++){var P=this.i(T);S+=(0<=P?P:4294967296+P)*E,E*=4294967296}return S},n.toString=function(S){if(2>(S=S||10)||36<S)throw Error("radix out of range: "+S);if(y(this))return"0";if(v(this))return"-"+b(this).toString(S);for(var E=u(Math.pow(S,6)),T=this,P="";;){var x=G(T,E).g,F=((0<(T=M(T,x.j(E))).g.length?T.g[0]:T.h)>>>0).toString(S);if(y(T=x))return F+P;for(;6>F.length;)F="0"+F;P=F+P}},n.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h},n.l=function(S){return v(S=M(this,S))?-1:y(S)?0:1},n.abs=function(){return v(this)?b(this):this},n.add=function(S){for(var E=Math.max(this.g.length,S.g.length),T=[],P=0,x=0;x<=E;x++){var F=P+(65535&this.i(x))+(65535&S.i(x)),A=(F>>>16)+(this.i(x)>>>16)+(S.i(x)>>>16);P=A>>>16,T[x]=(A&=65535)<<16|(F&=65535)}return new s(T,-2147483648&T[T.length-1]?-1:0)},n.j=function(S){if(y(this)||y(S))return h;if(v(this))return v(S)?b(this).j(b(S)):b(b(this).j(S));if(v(S))return b(this.j(b(S)));if(0>this.l(m)&&0>S.l(m))return u(this.m()*S.m());for(var E=this.g.length+S.g.length,T=[],P=0;P<2*E;P++)T[P]=0;for(P=0;P<this.g.length;P++)for(var x=0;x<S.g.length;x++){var F=this.i(P)>>>16,A=65535&this.i(P),to=S.i(x)>>>16,ah=65535&S.i(x);T[2*P+2*x]+=A*ah,D(T,2*P+2*x),T[2*P+2*x+1]+=F*ah,D(T,2*P+2*x+1),T[2*P+2*x+1]+=A*to,D(T,2*P+2*x+1),T[2*P+2*x+2]+=F*to,D(T,2*P+2*x+2)}for(P=0;P<E;P++)T[P]=T[2*P+1]<<16|T[2*P];for(P=E;P<2*E;P++)T[P]=0;return new s(T,0)},n.A=function(S){return G(this,S).h},n.and=function(S){for(var E=Math.max(this.g.length,S.g.length),T=[],P=0;P<E;P++)T[P]=this.i(P)&S.i(P);return new s(T,this.h&S.h)},n.or=function(S){for(var E=Math.max(this.g.length,S.g.length),T=[],P=0;P<E;P++)T[P]=this.i(P)|S.i(P);return new s(T,this.h|S.h)},n.xor=function(S){for(var E=Math.max(this.g.length,S.g.length),T=[],P=0;P<E;P++)T[P]=this.i(P)^S.i(P);return new s(T,this.h^S.h)},r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,QL.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=function d(S,E){if(0==S.length)throw Error("number format error: empty string");if(2>(E=E||10)||36<E)throw Error("radix out of range: "+E);if("-"==S.charAt(0))return b(d(S.substring(1),E));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=u(Math.pow(E,8)),P=h,x=0;x<S.length;x+=8){var F=Math.min(8,S.length-x),A=parseInt(S.substring(x,x+F),E);8>F?(F=u(Math.pow(E,F)),P=P.j(F).add(u(A))):P=(P=P.j(T)).add(u(A))}return P},Rs=QL.Integer=s}).apply(typeof KL<"u"?KL:typeof self<"u"?self:typeof window<"u"?window:{});var Rg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Wi={};(function(){var n,e="function"==typeof Object.defineProperties?Object.defineProperty:function(l,f,g){return l==Array.prototype||l==Object.prototype||(l[f]=g.value),l},r=function t(l){l=["object"==typeof globalThis&&globalThis,l,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Rg&&Rg];for(var f=0;f<l.length;++f){var g=l[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}(this);!function i(l,f){if(f)e:{var g=r;l=l.split(".");for(var _=0;_<l.length-1;_++){var k=l[_];if(!(k in g))break e;g=g[k]}(f=f(_=g[l=l[l.length-1]]))!=_&&null!=f&&e(g,l,{configurable:!0,writable:!0,value:f})}}("Array.prototype.values",function(l){return l||function(){return function o(l,f){l instanceof String&&(l+="");var g=0,_=!1,k={next:function(){if(!_&&g<l.length){var U=g++;return{value:f(U,l[U]),done:!1}}return _=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}(this,function(f,g){return g})}});var s=s||{},a=this||self;function c(l){var f=typeof l;return"array"==(f="object"!=f?f:l?Array.isArray(l)?"array":f:"null")||"object"==f&&"number"==typeof l.length}function u(l){var f=typeof l;return"object"==f&&null!=l||"function"==f}function d(l,f,g){return l.call.apply(l.bind,arguments)}function h(l,f,g){if(!l)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,_),l.apply(f,k)}}return function(){return l.apply(f,arguments)}}function p(l,f,g){return(p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?d:h).apply(null,arguments)}function m(l,f){var g=Array.prototype.slice.call(arguments,1);return function(){var _=g.slice();return _.push.apply(_,arguments),l.apply(this,_)}}function y(l,f){function g(){}g.prototype=f.prototype,l.aa=f.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(_,k,U){for(var Y=Array(arguments.length-2),Je=2;Je<arguments.length;Je++)Y[Je-2]=arguments[Je];return f.prototype[k].apply(_,Y)}}function v(l){const f=l.length;if(0<f){const g=Array(f);for(let _=0;_<f;_++)g[_]=l[_];return g}return[]}function b(l,f){for(let g=1;g<arguments.length;g++){const _=arguments[g];if(c(_)){const k=l.length||0,U=_.length||0;l.length=k+U;for(let Y=0;Y<U;Y++)l[k+Y]=_[Y]}else l.push(_)}}function D(l){return/^[\s\xa0]*$/.test(l)}function L(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function G(l){return G[" "](l),l}G[" "]=function(){};var Z=!(-1==L().indexOf("Gecko")||-1!=L().toLowerCase().indexOf("webkit")&&-1==L().indexOf("Edge")||-1!=L().indexOf("Trident")||-1!=L().indexOf("MSIE")||-1!=L().indexOf("Edge"));function se(l,f,g){for(const _ in l)f.call(g,l[_],_,l)}function E(l){const f={};for(const g in l)f[g]=l[g];return f}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(l,f){let g,_;for(let k=1;k<arguments.length;k++){for(g in _=arguments[k],_)l[g]=_[g];for(let U=0;U<T.length;U++)g=T[U],Object.prototype.hasOwnProperty.call(_,g)&&(l[g]=_[g])}}function x(l){var f=1;l=l.split(":");const g=[];for(;0<f&&l.length;)g.push(l.shift()),f--;return l.length&&g.push(l.join(":")),g}function F(l){a.setTimeout(()=>{throw l},0)}function A(){var l=qD;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}var ah=new class M{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}(()=>new Ppe,l=>l.reset());class Ppe{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let ch,uh=!1,qD=new class to{constructor(){this.h=this.g=null}add(f,g){const _=ah.get();_.set(f,g),this.h?this.h.next=_:this.g=_,this.h=_}},V$=()=>{const l=a.Promise.resolve(void 0);ch=()=>{l.then(Mpe)}};var Mpe=()=>{for(var l;l=A();){try{l.h.call(l.g)}catch(g){F(g)}var f=ah;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}uh=!1};function qo(){this.s=this.s,this.C=this.C}function In(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}qo.prototype.s=!1,qo.prototype.ma=function(){this.s||(this.s=!0,this.N())},qo.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},In.prototype.h=function(){this.defaultPrevented=!0};var Rpe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return l}();function lh(l,f){if(In.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,_=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(Z){e:{try{G(f.nodeName);var k=!0;break e}catch{}k=!1}k||(f=null)}}else"mouseover"==g?f=l.fromElement:"mouseout"==g&&(f=l.toElement);this.relatedTarget=f,_?(this.clientX=void 0!==_.clientX?_.clientX:_.pageX,this.clientY=void 0!==_.clientY?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType="string"==typeof l.pointerType?l.pointerType:xpe[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&lh.aa.h.call(this)}}y(lh,In);var xpe={2:"touch",3:"pen",4:"mouse"};lh.prototype.h=function(){lh.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var dh="closure_listenable_"+(1e6*Math.random()|0),Ope=0;function kpe(l,f,g,_,k){this.listener=l,this.proxy=null,this.src=f,this.type=g,this.capture=!!_,this.ha=k,this.key=++Ope,this.da=this.fa=!1}function zm(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Gm(l){this.src=l,this.g={},this.h=0}function WD(l,f){var g=f.type;if(g in l.g){var U,_=l.g[g],k=Array.prototype.indexOf.call(_,f,void 0);(U=0<=k)&&Array.prototype.splice.call(_,k,1),U&&(zm(f),0==l.g[g].length&&(delete l.g[g],l.h--))}}function KD(l,f,g,_){for(var k=0;k<l.length;++k){var U=l[k];if(!U.da&&U.listener==f&&U.capture==!!g&&U.ha==_)return k}return-1}Gm.prototype.add=function(l,f,g,_,k){var U=l.toString();(l=this.g[U])||(l=this.g[U]=[],this.h++);var Y=KD(l,f,_,k);return-1<Y?(f=l[Y],g||(f.fa=!1)):((f=new kpe(f,this.src,U,!!_,k)).fa=g,l.push(f)),f};var QD="closure_lm_"+(1e6*Math.random()|0),YD={};function L$(l,f,g,_,k){if(_&&_.once)return B$(l,f,g,_,k);if(Array.isArray(f)){for(var U=0;U<f.length;U++)L$(l,f[U],g,_,k);return null}return g=eS(g),l&&l[dh]?l.K(f,g,u(_)?!!_.capture:!!_,k):U$(l,f,g,!1,_,k)}function U$(l,f,g,_,k,U){if(!f)throw Error("Invalid event type");var Y=u(k)?!!k.capture:!!k,Je=XD(l);if(Je||(l[QD]=Je=new Gm(l)),(g=Je.add(f,g,_,Y,U)).proxy)return g;if(_=function Npe(){const f=Fpe;return function l(g){return f.call(l.src,l.listener,g)}}(),g.proxy=_,_.src=l,_.listener=g,l.addEventListener)Rpe||(k=Y),void 0===k&&(k=!1),l.addEventListener(f.toString(),_,k);else if(l.attachEvent)l.attachEvent($$(f.toString()),_);else{if(!l.addListener||!l.removeListener)throw Error("addEventListener and attachEvent are unavailable.");l.addListener(_)}return g}function B$(l,f,g,_,k){if(Array.isArray(f)){for(var U=0;U<f.length;U++)B$(l,f[U],g,_,k);return null}return g=eS(g),l&&l[dh]?l.L(f,g,u(_)?!!_.capture:!!_,k):U$(l,f,g,!0,_,k)}function j$(l,f,g,_,k){if(Array.isArray(f))for(var U=0;U<f.length;U++)j$(l,f[U],g,_,k);else _=u(_)?!!_.capture:!!_,g=eS(g),l&&l[dh]?(l=l.i,(f=String(f).toString())in l.g&&-1<(g=KD(U=l.g[f],g,_,k))&&(zm(U[g]),Array.prototype.splice.call(U,g,1),0==U.length&&(delete l.g[f],l.h--))):l&&(l=XD(l))&&(f=l.g[f.toString()],l=-1,f&&(l=KD(f,g,_,k)),(g=-1<l?f[l]:null)&&JD(g))}function JD(l){if("number"!=typeof l&&l&&!l.da){var f=l.src;if(f&&f[dh])WD(f.i,l);else{var g=l.type,_=l.proxy;f.removeEventListener?f.removeEventListener(g,_,l.capture):f.detachEvent?f.detachEvent($$(g),_):f.addListener&&f.removeListener&&f.removeListener(_),(g=XD(f))?(WD(g,l),0==g.h&&(g.src=null,f[QD]=null)):zm(l)}}}function $$(l){return l in YD?YD[l]:YD[l]="on"+l}function Fpe(l,f){if(l.da)l=!0;else{f=new lh(f,this);var g=l.listener,_=l.ha||l.src;l.fa&&JD(l),l=g.call(_,f)}return l}function XD(l){return(l=l[QD])instanceof Gm?l:null}var ZD="__closure_events_fn_"+(1e9*Math.random()>>>0);function eS(l){return"function"==typeof l?l:(l[ZD]||(l[ZD]=function(f){return l.handleEvent(f)}),l[ZD])}function En(){qo.call(this),this.i=new Gm(this),this.M=this,this.F=null}function Ln(l,f){var g,_=l.F;if(_)for(g=[];_;_=_.F)g.push(_);if(l=l.M,_=f.type||f,"string"==typeof f)f=new In(f,l);else if(f instanceof In)f.target=f.target||l;else{var k=f;P(f=new In(_,l),k)}if(k=!0,g)for(var U=g.length-1;0<=U;U--){var Y=f.g=g[U];k=qm(Y,_,!0,f)&&k}if(k=qm(Y=f.g=l,_,!0,f)&&k,k=qm(Y,_,!1,f)&&k,g)for(U=0;U<g.length;U++)k=qm(Y=f.g=g[U],_,!1,f)&&k}function qm(l,f,g,_){if(!(f=l.i.g[String(f)]))return!0;f=f.concat();for(var k=!0,U=0;U<f.length;++U){var Y=f[U];if(Y&&!Y.da&&Y.capture==g){var Je=Y.listener,un=Y.ha||Y.src;Y.fa&&WD(l.i,Y),k=!1!==Je.call(un,_)&&k}}return k&&!_.defaultPrevented}function H$(l,f,g){if("function"==typeof l)g&&(l=p(l,g));else{if(!l||"function"!=typeof l.handleEvent)throw Error("Invalid listener argument");l=p(l.handleEvent,l)}return 2147483647<Number(f)?-1:a.setTimeout(l,f||0)}function z$(l){l.g=H$(()=>{l.g=null,l.i&&(l.i=!1,z$(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}y(En,qo),En.prototype[dh]=!0,En.prototype.removeEventListener=function(l,f,g,_){j$(this,l,f,g,_)},En.prototype.N=function(){if(En.aa.N.call(this),this.i){var f,l=this.i;for(f in l.g){for(var g=l.g[f],_=0;_<g.length;_++)zm(g[_]);delete l.g[f],l.h--}}this.F=null},En.prototype.K=function(l,f,g,_){return this.i.add(String(l),f,!1,g,_)},En.prototype.L=function(l,f,g,_){return this.i.add(String(l),f,!0,g,_)};class Vpe extends qo{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:z$(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hh(l){qo.call(this),this.h=l,this.g={}}y(hh,qo);var G$=[];function q$(l){se(l.g,function(f,g){this.g.hasOwnProperty(g)&&JD(f)},l),l.g={}}hh.prototype.N=function(){hh.aa.N.call(this),q$(this)},hh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tS=a.JSON.stringify,Lpe=a.JSON.parse,Upe=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function nS(){}function K$(){}nS.prototype.h=null;var fh={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rS(){In.call(this,"d")}function iS(){In.call(this,"c")}y(rS,In),y(iS,In);var na={},Q$=null;function Wm(){return Q$=Q$||new En}function Y$(l){In.call(this,na.La,l)}function ph(l){const f=Wm();Ln(f,new Y$(f))}function J$(l,f){In.call(this,na.STAT_EVENT,l),this.stat=f}function Un(l){const f=Wm();Ln(f,new J$(f,l))}function X$(l,f){In.call(this,na.Ma,l),this.size=f}function gh(l,f){if("function"!=typeof l)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},f)}function mh(){this.g=!0}function yu(l,f,g,_){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+function Hpe(l,f){if(!l.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g)for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var _=g[l];if(!(2>_.length)){var k=_[1];if(Array.isArray(k)&&!(1>k.length)){var U=k[0];if("noop"!=U&&"stop"!=U&&"close"!=U)for(var Y=1;Y<k.length;Y++)k[Y]=""}}}return tS(g)}catch{return f}}(l,g)+(_?" "+_:"")})}na.La="serverreachability",y(Y$,In),na.STAT_EVENT="statevent",y(J$,In),na.Ma="timingevent",y(X$,In),mh.prototype.xa=function(){this.g=!1},mh.prototype.info=function(){};var oS,Km={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Z$={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Qm(){}function Wo(l,f,g,_){this.j=l,this.i=f,this.l=g,this.R=_||1,this.U=new hh(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new e3}function e3(){this.i=null,this.g="",this.h=!1}y(Qm,nS),Qm.prototype.g=function(){return new XMLHttpRequest},Qm.prototype.i=function(){return{}},oS=new Qm;var t3={},sS={};function aS(l,f,g){l.L=1,l.v=Zm(no(f)),l.m=g,l.P=!0,n3(l,null)}function n3(l,f){l.F=Date.now(),Ym(l),l.A=no(l.v);var g=l.A,_=l.R;Array.isArray(_)||(_=[String(_)]),m3(g.i,"t",_),l.C=0,g=l.j.J,l.h=new e3,l.g=k3(l.j,g?f:null,!l.m),0<l.O&&(l.M=new Vpe(p(l.Y,l,l.g),l.O)),f=l.U,g=l.g,_=l.ca;var k="readystatechange";Array.isArray(k)||(k&&(G$[0]=k.toString()),k=G$);for(var U=0;U<k.length;U++){var Y=L$(g,k[U],_||f.handleEvent,!1,f.h||f);if(!Y)break;f.g[Y.key]=Y}f=l.H?E(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),ph(),function Bpe(l,f,g,_,k,U){l.info(function(){if(l.g)if(U)for(var Y="",Je=U.split("&"),un=0;un<Je.length;un++){var Le=Je[un].split("=");if(1<Le.length){var bn=Le[0];Le=Le[1];var Cn=bn.split("_");Y=2<=Cn.length&&"type"==Cn[1]?Y+(bn+"=")+Le+"&":Y+(bn+"=redacted&")}}else Y=null;else Y=U;return"XMLHTTP REQ ("+_+") [attempt "+k+"]: "+f+"\n"+g+"\n"+Y})}(l.i,l.u,l.A,l.l,l.R,l.m)}function r3(l){return!!l.g&&"GET"==l.u&&2!=l.L&&l.j.Ca}function zpe(l,f){var g=l.C,_=f.indexOf("\n",g);return-1==_?sS:(g=Number(f.substring(g,_)),isNaN(g)?t3:(_+=1)+g>f.length?sS:(f=f.slice(_,_+g),l.C=_+g,f))}function Ym(l){l.S=Date.now()+l.I,i3(l,l.I)}function i3(l,f){if(null!=l.B)throw Error("WatchDog timer not null");l.B=gh(p(l.ba,l),f)}function cS(l){l.B&&(a.clearTimeout(l.B),l.B=null)}function _h(l){0==l.j.G||l.J||M3(l.j,l)}function ra(l){cS(l);var f=l.M;f&&"function"==typeof f.ma&&f.ma(),l.M=null,q$(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function uS(l,f){try{var g=l.j;if(0!=g.G&&(g.g==l||lS(g.h,l)))if(!l.K&&lS(g.h,l)&&3==g.G){try{var _=g.Da.g.parse(f)}catch{_=null}if(Array.isArray(_)&&3==_.length){var k=_;if(0==k[0]){e:if(!g.u){if(g.g){if(!(g.g.F+3e3<l.F))break e;i_(g),n_(g)}pS(g),Un(18)}}else g.za=k[1],0<g.za-g.T&&37500>k[2]&&g.F&&0==g.v&&!g.C&&(g.C=gh(p(g.Za,g),6e3));if(1>=a3(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else oa(g,11)}else if((l.K||g.g==l)&&i_(g),!D(f))for(k=g.Da.g.parse(f),f=0;f<k.length;f++){let Le=k[f];if(g.T=Le[0],Le=Le[1],2==g.G)if("c"==Le[0]){g.K=Le[1],g.ia=Le[2];const bn=Le[3];null!=bn&&(g.la=bn,g.j.info("VER="+g.la));const Cn=Le[4];null!=Cn&&(g.Aa=Cn,g.j.info("SVER="+g.Aa));const Eu=Le[5];null!=Eu&&"number"==typeof Eu&&0<Eu&&(g.L=_=1.5*Eu,g.j.info("backChannelRequestTimeoutMs_="+_)),_=g;const Br=l.g;if(Br){const s_=Br.g?Br.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(s_){var U=_.h;U.g||-1==s_.indexOf("spdy")&&-1==s_.indexOf("quic")&&-1==s_.indexOf("h2")||(U.j=U.l,U.g=new Set,U.h&&(dS(U,U.h),U.h=null))}if(_.D){const mS=Br.g?Br.g.getResponseHeader("X-HTTP-Session-Id"):null;mS&&(_.ya=mS,at(_.I,_.D,mS))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms"));var Y=l;if((_=g).qa=O3(_,_.J?_.ia:null,_.W),Y.K){c3(_.h,Y);var Je=Y,un=_.L;un&&(Je.I=un),Je.B&&(cS(Je),Ym(Je)),_.g=Y}else S3(_);0<g.i.length&&r_(g)}else"stop"!=Le[0]&&"close"!=Le[0]||oa(g,7);else 3==g.G&&("stop"==Le[0]||"close"==Le[0]?"stop"==Le[0]?oa(g,7):fS(g):"noop"!=Le[0]&&g.l&&g.l.ta(Le),g.v=0)}ph()}catch{}}function o3(l){this.l=l||10,l=a.PerformanceNavigationTiming?0<(l=a.performance.getEntriesByType("navigation")).length&&("hq"==l[0].nextHopProtocol||"h2"==l[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function s3(l){return!!l.h||!!l.g&&l.g.size>=l.j}function a3(l){return l.h?1:l.g?l.g.size:0}function lS(l,f){return l.h?l.h==f:!!l.g&&l.g.has(f)}function dS(l,f){l.g?l.g.add(f):l.h=f}function c3(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}function u3(l){if(null!=l.h)return l.i.concat(l.h.D);if(null!=l.g&&0!==l.g.size){let f=l.i;for(const g of l.g.values())f=f.concat(g.D);return f}return v(l.i)}function l3(l,f){if(l.forEach&&"function"==typeof l.forEach)l.forEach(f,void 0);else if(c(l)||"string"==typeof l)Array.prototype.forEach.call(l,f,void 0);else for(var g=function Wpe(l){if(l.na&&"function"==typeof l.na)return l.na();if(!l.V||"function"!=typeof l.V){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||"string"==typeof l){var f=[];l=l.length;for(var g=0;g<l;g++)f.push(g);return f}f=[],g=0;for(const _ in l)f[g++]=_;return f}}}(l),_=function qpe(l){if(l.V&&"function"==typeof l.V)return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if("string"==typeof l)return l.split("");if(c(l)){for(var f=[],g=l.length,_=0;_<g;_++)f.push(l[_]);return f}for(_ in f=[],g=0,l)f[g++]=l[_];return f}(l),k=_.length,U=0;U<k;U++)f.call(void 0,_[U],g&&g[U],l)}Wo.prototype.ca=function(l){l=l.target;const f=this.M;f&&3==ro(l)?f.j():this.Y(l)},Wo.prototype.Y=function(l){try{if(l==this.g)e:{const Cn=ro(this.g);var f=this.g.Ba();if(this.g.Z(),!(3>Cn)&&(3!=Cn||this.g&&(this.h.h||this.g.oa()||C3(this.g)))){this.J||4!=Cn||7==f||ph(),cS(this);var g=this.g.Z();this.X=g;t:if(r3(this)){var _=C3(this.g);l="";var k=_.length,U=4==ro(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ra(this),_h(this);var Y="";break t}this.h.i=new a.TextDecoder}for(f=0;f<k;f++)this.h.h=!0,l+=this.h.i.decode(_[f],{stream:!(U&&f==k-1)});_.length=0,this.h.g+=l,this.C=0,Y=this.h.g}else Y=this.g.oa();if(this.o=200==g,function jpe(l,f,g,_,k,U,Y){l.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+k+"]: "+f+"\n"+g+"\n"+U+" "+Y})}(this.i,this.u,this.A,this.l,this.R,Cn,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Je,un=this.g;if((Je=un.g?un.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(Je)){var Le=Je;break t}}Le=null}if(!(g=Le)){this.o=!1,this.s=3,Un(12),ra(this),_h(this);break e}yu(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,uS(this,g)}if(this.P){let Br;for(g=!0;!this.J&&this.C<Y.length;){if(Br=zpe(this,Y),Br==sS){4==Cn&&(this.s=4,Un(14),g=!1),yu(this.i,this.l,null,"[Incomplete Response]");break}if(Br==t3){this.s=4,Un(15),yu(this.i,this.l,Y,"[Invalid Chunk]"),g=!1;break}yu(this.i,this.l,Br,null),uS(this,Br)}if(r3(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Cn||0!=Y.length||this.h.h||(this.s=1,Un(16),g=!1),this.o=this.o&&g,g){if(0<Y.length&&!this.W){this.W=!0;var bn=this.j;bn.g==this&&bn.ba&&!bn.M&&(bn.j.info("Great, no buffering proxy detected. Bytes received: "+Y.length),gS(bn),bn.M=!0,Un(11))}}else yu(this.i,this.l,Y,"[Invalid Chunked Response]"),ra(this),_h(this)}else yu(this.i,this.l,Y,null),uS(this,Y);4==Cn&&ra(this),this.o&&!this.J&&(4==Cn?M3(this.j,this):(this.o=!1,Ym(this)))}else(function age(l){const f={};l=(l.g&&2<=ro(l)&&l.g.getAllResponseHeaders()||"").split("\r\n");for(let _=0;_<l.length;_++){if(D(l[_]))continue;var g=x(l[_]);const k=g[0];if("string"!=typeof(g=g[1]))continue;g=g.trim();const U=f[k]||[];f[k]=U,U.push(g)}!function S(l,f){for(const g in l)f.call(void 0,l[g],g,l)}(f,function(_){return _.join(", ")})})(this.g),400==g&&0<Y.indexOf("Unknown SID")?(this.s=3,Un(12)):(this.s=0,Un(13)),ra(this),_h(this)}}}catch{}},Wo.prototype.cancel=function(){this.J=!0,ra(this)},Wo.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(function $pe(l,f){l.info(function(){return"TIMEOUT: "+f})}(this.i,this.A),2!=this.L&&(ph(),Un(17)),ra(this),this.s=2,_h(this)):i3(this,this.S-l)},o3.prototype.cancel=function(){if(this.i=u3(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const l of this.g.values())l.cancel();this.g.clear()}};var d3=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ia(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof ia){this.h=l.h,Jm(this,l.j),this.o=l.o,this.g=l.g,Xm(this,l.s),this.l=l.l;var f=l.i,g=new Ih;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),h3(this,g),this.m=l.m}else l&&(f=String(l).match(d3))?(this.h=!1,Jm(this,f[1]||"",!0),this.o=yh(f[2]||""),this.g=yh(f[3]||"",!0),Xm(this,f[4]),this.l=yh(f[5]||"",!0),h3(this,f[6]||"",!0),this.m=yh(f[7]||"")):(this.h=!1,this.i=new Ih(null,this.h))}function no(l){return new ia(l)}function Jm(l,f,g){l.j=g?yh(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function Xm(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function h3(l,f,g){f instanceof Ih?(l.i=f,function ege(l,f){f&&!l.j&&(Ko(l),l.i=null,l.g.forEach(function(g,_){var k=_.toLowerCase();_!=k&&(p3(this,_),m3(this,k,g))},l)),l.j=f}(l.i,l.h)):(g||(f=vh(f,Xpe)),l.i=new Ih(f,l.h))}function at(l,f,g){l.i.set(f,g)}function Zm(l){return at(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function yh(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function vh(l,f,g){return"string"==typeof l?(l=encodeURI(l).replace(f,Qpe),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Qpe(l){return"%"+((l=l.charCodeAt(0))>>4&15).toString(16)+(15&l).toString(16)}ia.prototype.toString=function(){var l=[],f=this.j;f&&l.push(vh(f,f3,!0),":");var g=this.g;return(g||"file"==f)&&(l.push("//"),(f=this.o)&&l.push(vh(f,f3,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(g=this.s)&&l.push(":",String(g))),(g=this.l)&&(this.g&&"/"!=g.charAt(0)&&l.push("/"),l.push(vh(g,"/"==g.charAt(0)?Jpe:Ype,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",vh(g,Zpe)),l.join("")};var l,f3=/[#\/\?@]/g,Ype=/[#\?:]/g,Jpe=/[#\?]/g,Xpe=/[#\?@]/g,Zpe=/#/g;function Ih(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function Ko(l){l.g||(l.g=new Map,l.h=0,l.i&&function Kpe(l,f){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var _=l[g].indexOf("="),k=null;if(0<=_){var U=l[g].substring(0,_);k=l[g].substring(_+1)}else U=l[g];f(U,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}(l.i,function(f,g){l.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}function p3(l,f){Ko(l),f=vu(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function g3(l,f){return Ko(l),f=vu(l,f),l.g.has(f)}function m3(l,f,g){p3(l,f),0<g.length&&(l.i=null,l.g.set(vu(l,f),v(g)),l.h+=g.length)}function vu(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function Qo(l,f,g,_,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),_(g)}catch{}}function rge(){this.g=new Upe}function ige(l,f,g){const _=g||"";try{l3(l,function(k,U){let Y=k;u(k)&&(Y=tS(k)),f.push(_+U+"="+encodeURIComponent(Y))})}catch(k){throw f.push(_+"type="+encodeURIComponent("_badmap")),k}}function Eh(l){this.l=l.Ub||null,this.j=l.eb||!1}function e_(l,f){En.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function _3(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}function bh(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Ch(l)}function Ch(l){l.onreadystatechange&&l.onreadystatechange.call(l)}function y3(l){let f="";return se(l,function(g,_){f+=_,f+=":",f+=g,f+="\r\n"}),f}function hS(l,f,g){e:{for(_ in g){var _=!1;break e}_=!0}_||(g=y3(g),"string"==typeof l?null!=g&&encodeURIComponent(String(g)):at(l,f,g))}function wt(l){En.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=Ih.prototype).add=function(l,f){Ko(this),this.i=null,l=vu(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(f),this.h+=1,this},n.forEach=function(l,f){Ko(this),this.g.forEach(function(g,_){g.forEach(function(k){l.call(f,k,_,this)},this)},this)},n.na=function(){Ko(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let _=0;_<f.length;_++){const k=l[_];for(let U=0;U<k.length;U++)g.push(f[_])}return g},n.V=function(l){Ko(this);let f=[];if("string"==typeof l)g3(this,l)&&(f=f.concat(this.g.get(vu(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)f=f.concat(l[g])}return f},n.set=function(l,f){return Ko(this),this.i=null,g3(this,l=vu(this,l))&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},n.get=function(l,f){return l&&0<(l=this.V(l)).length?String(l[0]):f},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var _=f[g];const U=encodeURIComponent(String(_)),Y=this.V(_);for(_=0;_<Y.length;_++){var k=U;""!==Y[_]&&(k+="="+encodeURIComponent(String(Y[_]))),l.push(k)}}return this.i=l.join("&")},y(Eh,nS),Eh.prototype.g=function(){return new e_(this.l,this.j)},Eh.prototype.i=(l={},function(){return l}),y(e_,En),(n=e_.prototype).open=function(l,f){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,Ch(this)},n.send=function(l){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,bh(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Ch(this)),this.g&&(this.readyState=3,Ch(this),this.g)))if("arraybuffer"===this.responseType)l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_3(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?bh(this):Ch(this),3==this.readyState&&_3(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,bh(this))},n.Qa=function(l){this.g&&(this.response=l,bh(this))},n.ga=function(){this.g&&bh(this)},n.setRequestHeader=function(l,f){this.u.append(l,f)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var g=f.next();!g.done;)l.push((g=g.value)[0]+": "+g[1]),g=f.next();return l.join("\r\n")},Object.defineProperty(e_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(l){this.m=l?"include":"same-origin"}}),y(wt,En);var oge=/^https?$/i,sge=["POST","PUT"];function v3(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,I3(l),t_(l)}function I3(l){l.A||(l.A=!0,Ln(l,"complete"),Ln(l,"error"))}function E3(l){if(l.h&&typeof s<"u"&&(!l.v[1]||4!=ro(l)||2!=l.Z()))if(l.u&&4==ro(l))H$(l.Ea,0,l);else if(Ln(l,"readystatechange"),4==ro(l)){l.h=!1;try{const Y=l.Z();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var _;if(_=0===Y){var k=String(l.D).match(d3)[1]||null;!k&&a.self&&a.self.location&&(k=a.self.location.protocol.slice(0,-1)),_=!oge.test(k?k.toLowerCase():"")}g=_}if(g)Ln(l,"complete"),Ln(l,"success");else{l.m=6;try{var U=2<ro(l)?l.g.statusText:""}catch{U=""}l.l=U+" ["+l.Z()+"]",I3(l)}}finally{t_(l)}}}function t_(l,f){if(l.g){b3(l);const g=l.g,_=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||Ln(l,"ready");try{g.onreadystatechange=_}catch{}}}function b3(l){l.I&&(a.clearTimeout(l.I),l.I=null)}function ro(l){return l.g?l.g.readyState:0}function C3(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function wh(l,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||f}function w3(l){this.Aa=0,this.i=[],this.j=new mh,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wh("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wh("baseRetryDelayMs",5e3,l),this.cb=wh("retryDelaySeedMs",1e4,l),this.Wa=wh("forwardChannelMaxRetries",2,l),this.wa=wh("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new o3(l&&l.concurrentRequestLimit),this.Da=new rge,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function fS(l){if(T3(l),3==l.G){var f=l.U++,g=no(l.I);if(at(g,"SID",l.K),at(g,"RID",f),at(g,"TYPE","terminate"),Th(l,g),(f=new Wo(l,l.j,f)).L=2,f.v=Zm(no(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&a.Image&&((new Image).src=f.v,g=!0),g||(f.g=k3(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Ym(f)}x3(l)}function n_(l){l.g&&(gS(l),l.g.cancel(),l.g=null)}function T3(l){n_(l),l.u&&(a.clearTimeout(l.u),l.u=null),i_(l),l.h.cancel(),l.s&&("number"==typeof l.s&&a.clearTimeout(l.s),l.s=null)}function r_(l){if(!s3(l.h)&&!l.s){l.s=!0;var f=l.Ga;ch||V$(),uh||(ch(),uh=!0),qD.add(f,l),l.B=0}}function A3(l,f){var g;g=f?f.l:l.U++;const _=no(l.I);at(_,"SID",l.K),at(_,"RID",g),at(_,"AID",l.T),Th(l,_),l.m&&l.o&&hS(_,l.m,l.o),g=new Wo(l,l.j,g,l.B+1),null===l.m&&(g.H=l.o),f&&(l.i=f.D.concat(l.i)),f=D3(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),dS(l.h,g),aS(g,_,f)}function Th(l,f){l.H&&se(l.H,function(g,_){at(f,_,g)}),l.l&&l3({},function(g,_){at(f,_,g)})}function D3(l,f,g){g=Math.min(l.i.length,g);var _=l.l?p(l.l.Na,l.l,l):null;e:{var k=l.i;let U=-1;for(;;){const Y=["count="+g];-1==U?0<g?(U=k[0].g,Y.push("ofs="+U)):U=0:Y.push("ofs="+U);let Je=!0;for(let un=0;un<g;un++){let Le=k[un].g;const bn=k[un].map;if(Le-=U,0>Le)U=Math.max(0,k[un].g-100),Je=!1;else try{ige(bn,Y,"req"+Le+"_")}catch{_&&_(bn)}}if(Je){_=Y.join("&");break e}}}return l=l.i.splice(0,g),f.D=l,_}function S3(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;ch||V$(),uh||(ch(),uh=!0),qD.add(f,l),l.v=0}}function pS(l){return!(l.g||l.u||3<=l.v||(l.Y++,l.u=gh(p(l.Fa,l),R3(l,l.v)),l.v++,0))}function gS(l){null!=l.A&&(a.clearTimeout(l.A),l.A=null)}function P3(l){l.g=new Wo(l,l.j,"rpc",l.Y),null===l.m&&(l.g.H=l.o),l.g.O=0;var f=no(l.qa);at(f,"RID","rpc"),at(f,"SID",l.K),at(f,"AID",l.T),at(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&at(f,"TO",l.ja),at(f,"TYPE","xmlhttp"),Th(l,f),l.m&&l.o&&hS(f,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=Zm(no(f)),g.m=null,g.P=!0,n3(g,l)}function i_(l){null!=l.C&&(a.clearTimeout(l.C),l.C=null)}function M3(l,f){var g=null;if(l.g==f){i_(l),gS(l),l.g=null;var _=2}else{if(!lS(l.h,f))return;g=f.D,c3(l.h,f),_=1}if(0!=l.G)if(f.o)if(1==_){g=f.m?f.m.length:0,f=Date.now()-f.F;var k=l.B;Ln(_=Wm(),new X$(_,g)),r_(l)}else S3(l);else if(3==(k=f.s)||0==k&&0<f.X||!(1==_&&function cge(l,f){return!(a3(l.h)>=l.h.j-(l.s?1:0)||(l.s?(l.i=f.D.concat(l.i),0):1==l.G||2==l.G||l.B>=(l.Va?0:l.Wa)||(l.s=gh(p(l.Ga,l,f),R3(l,l.B)),l.B++,0)))}(l,f)||2==_&&pS(l)))switch(g&&0<g.length&&(f=l.h,f.i=f.i.concat(g)),k){case 1:oa(l,5);break;case 4:oa(l,10);break;case 3:oa(l,6);break;default:oa(l,2)}}function R3(l,f){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*f}function oa(l,f){if(l.j.info("Error code "+f),2==f){var g=p(l.fb,l),_=l.Xa;const k=!_;_=new ia(_||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||Jm(_,"https"),Zm(_),k?function tge(l,f){const g=new mh;if(a.Image){const _=new Image;_.onload=m(Qo,g,"TestLoadImage: loaded",!0,f,_),_.onerror=m(Qo,g,"TestLoadImage: error",!1,f,_),_.onabort=m(Qo,g,"TestLoadImage: abort",!1,f,_),_.ontimeout=m(Qo,g,"TestLoadImage: timeout",!1,f,_),a.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=l}else f(!1)}(_.toString(),g):function nge(l,f){new mh;const _=new AbortController,k=setTimeout(()=>{_.abort(),Qo(0,0,!1,f)},1e4);fetch(l,{signal:_.signal}).then(U=>{clearTimeout(k),Qo(0,0,!!U.ok,f)}).catch(()=>{clearTimeout(k),Qo(0,0,!1,f)})}(_.toString(),g)}else Un(2);l.G=0,l.l&&l.l.sa(f),x3(l),T3(l)}function x3(l){if(l.G=0,l.ka=[],l.l){const f=u3(l.h);(0!=f.length||0!=l.i.length)&&(b(l.ka,f),b(l.ka,l.i),l.h.i.length=0,v(l.i),l.i.length=0),l.l.ra()}}function O3(l,f,g){var _=g instanceof ia?no(g):new ia(g);if(""!=_.g)f&&(_.g=f+"."+_.g),Xm(_,_.s);else{var k=a.location;_=k.protocol,f=f?f+"."+k.hostname:k.hostname,k=+k.port;var U=new ia(null);_&&Jm(U,_),f&&(U.g=f),k&&Xm(U,k),g&&(U.l=g),_=U}return f=l.ya,(g=l.D)&&f&&at(_,g,f),at(_,"VER",l.la),Th(l,_),_}function k3(l,f,g){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return(f=new wt(l.Ca&&!l.pa?new Eh({eb:g}):l.pa)).Ha(l.J),f}function N3(){}function o_(){}function dr(l,f){En.call(this),this.g=new w3(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!D(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!D(f)&&(this.g.D=f,null!==(l=this.h)&&f in l&&f in(l=this.h)&&delete l[f]),this.j=new Iu(this)}function F3(l){rS.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const g in f){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,f=null!==f&&l in f?f[l]:void 0),this.data=f}else this.data=l}function V3(){iS.call(this),this.status=1}function Iu(l){this.g=l}(n=wt.prototype).Ha=function(l){this.J=l},n.ea=function(l,f,g,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():oS.g(),this.v=function W$(l){return l.h||(l.h=l.i())}(this.o?this.o:oS),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(U){return void v3(this,U)}if(l=g||"",g=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var k in _)g.set(k,_[k]);else{if("function"!=typeof _.keys||"function"!=typeof _.get)throw Error("Unknown input type for opt_headers: "+String(_));for(const U of _.keys())g.set(U,_.get(U))}_=Array.from(g.keys()).find(U=>"content-type"==U.toLowerCase()),k=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(sge,f,void 0))||_||k||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,Y]of g)this.g.setRequestHeader(U,Y);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{b3(this),this.u=!0,this.g.send(l),this.u=!1}catch(U){v3(this,U)}},n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Ln(this,"complete"),Ln(this,"abort"),t_(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),t_(this,!0)),wt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?E3(this):this.bb())},n.bb=function(){E3(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<ro(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&0==f.indexOf(l)&&(f=f.substring(l.length)),Lpe(f)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=w3.prototype).la=8,n.G=1,n.connect=function(l,f,g,_){Un(0),this.W=l,this.H=f||{},g&&void 0!==_&&(this.H.OSID=g,this.H.OAID=_),this.F=this.X,this.I=O3(this,null,this.W),r_(this)},n.Ga=function(l){if(this.s)if(this.s=null,1==this.G){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const k=new Wo(this,this.j,l);let U=this.o;if(this.S&&(U?(U=E(U),P(U,this.S)):U=this.S),null!==this.m||this.O||(k.H=U,U=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){var _=this.i[g];if(void 0===(_="__data__"in _.map&&"string"==typeof(_=_.map.__data__)?_.length:void 0))break;if(4096<(f+=_)){f=g;break e}if(4096===f||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=D3(this,k,f),at(g=no(this.I),"RID",l),at(g,"CVER",22),this.D&&at(g,"X-HTTP-Session-Id",this.D),Th(this,g),U&&(this.O?f="headers="+encodeURIComponent(String(y3(U)))+"&"+f:this.m&&hS(g,this.m,U)),dS(this.h,k),this.Ua&&at(g,"TYPE","init"),this.P?(at(g,"$req",f),at(g,"SID","null"),k.T=!0,aS(k,g,null)):aS(k,g,f),this.G=2}}else 3==this.G&&(l?A3(this,l):0==this.i.length||s3(this.h)||A3(this))},n.Fa=function(){if(this.u=null,P3(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=gh(p(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Un(10),n_(this),P3(this))},n.Za=function(){null!=this.C&&(this.C=null,n_(this),pS(this),Un(19))},n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Un(2)):(this.j.info("Failed to ping google.com"),Un(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=N3.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},o_.prototype.g=function(l,f){return new dr(l,f)},y(dr,En),dr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dr.prototype.close=function(){fS(this.g)},dr.prototype.o=function(l){var f=this.g;if("string"==typeof l){var g={};g.__data__=l,l=g}else this.u&&((g={}).__data__=tS(l),l=g);f.i.push(new class{constructor(l,f){this.g=l,this.map=f}}(f.Ya++,l)),3==f.G&&r_(f)},dr.prototype.N=function(){this.g.l=null,delete this.j,fS(this.g),delete this.g,dr.aa.N.call(this)},y(F3,rS),y(V3,iS),y(Iu,N3),Iu.prototype.ua=function(){Ln(this.g,"a")},Iu.prototype.ta=function(l){Ln(this.g,new F3(l))},Iu.prototype.sa=function(l){Ln(this.g,new V3)},Iu.prototype.ra=function(){Ln(this.g,"b")},o_.prototype.createWebChannel=o_.prototype.g,dr.prototype.send=dr.prototype.o,dr.prototype.open=dr.prototype.m,dr.prototype.close=dr.prototype.close,Wi.createWebChannelTransport=function(){return new o_},Wi.getStatEventTarget=function(){return Wm()},Wi.Event=na,Wi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Km.NO_ERROR=0,Km.TIMEOUT=8,Km.HTTP_ERROR=6,Wi.ErrorCode=Km,Z$.COMPLETE="complete",Wi.EventType=Z$,K$.EventType=fh,fh.OPEN="a",fh.CLOSE="b",fh.ERROR="c",fh.MESSAGE="d",En.prototype.listen=En.prototype.K,Wi.WebChannel=K$,Wi.FetchXmlHttpFactory=Eh,wt.prototype.listenOnce=wt.prototype.L,wt.prototype.getLastError=wt.prototype.Ka,wt.prototype.getLastErrorCode=wt.prototype.Ba,wt.prototype.getStatus=wt.prototype.Z,wt.prototype.getResponseJson=wt.prototype.Oa,wt.prototype.getResponseText=wt.prototype.oa,wt.prototype.send=wt.prototype.ea,wt.prototype.setWithCredentials=wt.prototype.Ha,Wi.XhrIo=wt}).apply(typeof Rg<"u"?Rg:typeof self<"u"?self:typeof window<"u"?window:{});const nU="@firebase/firestore";class Wt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");let Mc="10.14.0";const Do=new vc("@firebase/firestore");function H(n,...e){if(Do.logLevel<=Ae.DEBUG){const t=e.map(s0);Do.debug(`Firestore (${Mc}): ${n}`,...t)}}function Rt(n,...e){if(Do.logLevel<=Ae.ERROR){const t=e.map(s0);Do.error(`Firestore (${Mc}): ${n}`,...t)}}function s0(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function re(n="Unexpected state"){const e=`FIRESTORE (${Mc}) INTERNAL ASSERTION FAILED: `+n;throw Rt(e),new Error(e)}function ie(n,e){n||re()}const V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $ extends Ir{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Kt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class rU{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Fce{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wt.UNAUTHENTICATED))}shutdown(){}}class Vce{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Lce{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;ie(void 0===this.o);let i=this.i;const o=u=>this.i!==i?(i=this.i,t(u)):Promise.resolve();let s=new Kt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Kt,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(I(function*(){yield u.promise,yield o(r.currentUser)}))},c=u=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Kt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ie("string"==typeof r.accessToken),new rU(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ie(null===e||"string"==typeof e),new Wt(e)}}class Uce{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Bce{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Uce(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jce{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){ie(void 0===this.o);const r=o=>{null!=o.error&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,H("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ie("string"==typeof t.token),this.R=t.token,new iU(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function me(n,e){return n<e?-1:n>e?1:0}class _d{constructor(e,t,r){void 0===t?t=0:t>e.length&&re(),void 0===r?r=e.length-t:r>e.length-t&&re(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===_d.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _d?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Se extends _d{construct(e,t,r){return new Se(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new $(V.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Se(t)}static emptyPath(){return new Se([])}}class J{constructor(e){this.path=e}static fromPath(e){return new J(Se.fromString(e))}static fromName(e){return new J(Se.fromString(e).popFirst(5))}static empty(){return new J(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Se.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Se.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new Se(e.slice()))}}class rt{constructor(e,t){this.comparator=e,this.root=t||sn.EMPTY}insert(e,t){return new rt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ng(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ng(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ng(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ng(this.root,e,this.comparator,!0)}}class Ng{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??sn.RED,this.left=i??sn.EMPTY,this.right=o??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new sn(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return sn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw re();const e=this.left.check();if(e!==this.right.check())throw re();return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1,sn.EMPTY=new class{constructor(){this.size=0}get key(){throw re()}get value(){throw re()}get color(){throw re()}get left(){throw re()}get right(){throw re()}copy(e,t,r,i,o){return this}insert(e,t,r){return new sn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class We{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new CU(this.data.getIterator())}getIteratorFrom(e){return new CU(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof We)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new We(this.comparator);return t.data=e,t}}class CU{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wU extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ct{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new wU("Invalid base64 string: "+o):o}}(e);return new Ct(t)}static fromUint8Array(e){const t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Ct(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ct.EMPTY_BYTE_STRING=new Ct("");const gue=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ht(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}class Ns{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ns("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ns&&e.projectId===this.projectId&&e.database===this.database}}var Lt,Oe,TA,Nj;new rt(J.comparator),new rt(J.comparator),new rt(J.comparator),new We(J.comparator),new We(me),(Oe=Lt||(Lt={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS",new Rs([4294967295,4294967295],0),Error;class Hs{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(ht(e.integerValue));else if("doubleValue"in e){const r=ht(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),function Id(n){return 0===n&&1/n==-1/0}(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),"string"==typeof r&&(r=function Ki(n){if(ie(!!n),"string"==typeof n){let e=0;const t=gue.exec(n);if(ie(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(n.seconds),nanos:ht(n.nanos)}}(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(function Qi(n){return"string"==typeof n?Ct.fromBase64String(n):Ct.fromUint8Array(n)}(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?function PU(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.dt(t,Number.MAX_SAFE_INTEGER):function jg(n){var e,t;return"__vector__"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):re()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const r=e.fields||{};this.dt(t,55);for(const i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;const o=e.fields||{};this.dt(t,53);const s="value",a=(null===(i=null===(r=o[s].arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.length)||0;this.dt(t,15),t.At(ht(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){const r=e.values||[];this.dt(t,50);for(const i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),J.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}Hs.vt=new Hs,new Uint8Array(0);class _n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function dm(){return typeof document<"u"?document:null}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(41943040,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class tA{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class vA{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Kt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const s=Date.now()+r,a=new vA(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new $(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}(Nj=TA||(TA={})).ea="default",Nj.Cache="cache";const t4=new Map;function De(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new $(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=function ym(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":re()}(n);throw new $(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class o4{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new $(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new $(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Fde(n,e,t,r){if(!0===e&&!0===r)throw new $(V.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=function e4(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new $(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new $(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new $(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wd{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new o4({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new $(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new o4(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new Fce;switch(r.type){case"firstParty":return new Bce(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return I(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=t4.get(t);r&&(H("ComponentProvider","Removing Datastore"),t4.delete(t),r.terminate())}(this),Promise.resolve()}}function Vde(n,e,t,r={}){var i;const o=(n=De(n,Wd))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&function wr(n,...e){if(Do.logLevel<=Ae.WARN){const t=e.map(s0);Do.warn(`Firestore (${Mc}): ${n}`,...t)}}("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=Wt.MOCK_USER;else{a=function Eee(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[qp(JSON.stringify({alg:"none",type:"JWT"})),qp(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new $(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Wt(u)}n._authCredentials=new Vce(new rU(a,c))}}class a4{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new tA(this,"async_queue_retry"),this.Vu=()=>{const r=dm();r&&H("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const t=dm();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=dm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new Kt;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return I(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(t){if(!function Po(n){return"IndexedDbTransactionError"===n.name}(t))throw t;H("AsyncQueue","Operation failed with retryable error: "+t)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(r=>{throw this.Eu=r,this.du=!1,Rt("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const i=vA.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&re()}verifyOperationInProgress(){}wu(){var e=this;return I(function*(){let t;do{t=e.mu,yield t}while(t!==e.mu)})()}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class Ye extends Wd{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new a4,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){var e=this;return I(function*(){if(e._firestoreClient){const t=e._firestoreClient.terminate();e._queue=new a4(t),e._firestoreClient=void 0,yield t}})()}}function Bde(n,e){const r="string"==typeof n?n:e||"(default)",i=Ic("object"==typeof n?n:PE(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(n=>{const e=eV("firestore");if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]})();o&&Vde(i,...o)}return i}new RegExp("[~\\*/\\[\\]]"),function(e,t=!0){Mc=bs,Nn(new pn("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Ye(new Lce(r.getProvider("auth-internal")),new jce(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new $(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ns(u.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),mt(nU,"4.7.3",e),mt(nU,"4.7.3","esm2017")}();class wD{constructor(e){return e}}const D4="firestore",TD=new ee("angularfire2.firestore-instances");function lhe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new wD(r)}}const dhe={provide:class che{constructor(){return vC(D4)}},deps:[[new Mn,TD]]},hhe={provide:wD,useFactory:function uhe(n,e){const t=yC(D4,n,e);return t&&new wD(t)},deps:[[new Mn,TD],wc]};let fhe=(()=>{class n{constructor(){mt("angularfire",ag.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Hr({type:n}),n.\u0275inj=Ar({providers:[hhe,dhe]}),n})();const ghe=EC(Bde,!0);let S4=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(B(Ci),B(or))}}static{this.\u0275dir=ge({type:n})}}return n})(),Xs=(()=>{class n extends S4{static{this.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}()}static{this.\u0275dir=ge({type:n,features:[He]})}}return n})();const hi=new ee("NgValueAccessor"),_he={provide:hi,useExisting:Xe(()=>AD),multi:!0};let AD=(()=>{class n extends Xs{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}()}static{this.\u0275dir=ge({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&ae("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[lt([_he]),He]})}}return n})();const yhe={provide:hi,useExisting:Xe(()=>Zs),multi:!0},Ihe=new ee("CompositionEventMode");let Zs=(()=>{class n extends S4{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function vhe(){const n=_o()?_o().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(B(Ci),B(or),B(Ihe,8))}}static{this.\u0275dir=ge({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&ae("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[lt([yhe]),He]})}}return n})();const vn=new ee("NgValidators"),zo=new ee("NgAsyncValidators");function x4(n){return function Ho(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function Rm(n){return null}function L4(n){return null!=n}function U4(n){return dl(n)?Bt(n):n}function B4(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function j4(n,e){return e.map(t=>t(n))}function $4(n){return n.map(e=>function bhe(n){return!n.validate}(e)?e:t=>e.validate(t))}function DD(n){return null!=n?function H4(n){if(!n)return null;const e=n.filter(L4);return 0==e.length?null:function(t){return B4(j4(t,e))}}($4(n)):null}function SD(n){return null!=n?function z4(n){if(!n)return null;const e=n.filter(L4);return 0==e.length?null:function(t){return function mhe(...n){const e=BS(n),{args:t,keys:r}=HN(n),i=new ct(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let c=s,u=s;for(let d=0;d<s;d++){let h=!1;Xn(t[d]).subscribe(kt(o,p=>{h||(h=!0,u--),a[d]=p},()=>c--,void 0,()=>{(!c||!h)&&(u||o.next(r?GN(r,a):a),o.complete())}))}});return e?i.pipe(zN(e)):i}(j4(t,e).map(U4)).pipe(Me(B4))}}($4(n)):null}function G4(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function PD(n){return n?Array.isArray(n)?n:[n]:[]}function xm(n,e){return Array.isArray(n)?n.includes(e):n===e}function K4(n,e){const t=PD(e);return PD(n).forEach(i=>{xm(t,i)||t.push(i)}),t}function Q4(n,e){return PD(e).filter(t=>!xm(n,t))}class Y4{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=DD(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=SD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Vn extends Y4{get formDirective(){return null}get path(){return null}}class Go extends Y4{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class J4{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let th=(()=>{class n extends J4{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(B(Go,2))}}static{this.\u0275dir=ge({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Dt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[He]})}}return n})(),X4=(()=>{class n extends J4{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(B(Vn,10))}}static{this.\u0275dir=ge({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Dt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[He]})}}return n})();const nh="VALID",km="INVALID",pu="PENDING",rh="DISABLED";function xD(n){return(Nm(n)?n.validators:n)||null}function OD(n,e){return(Nm(e)?e.asyncValidators:n)||null}function Nm(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class kD{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===nh}get invalid(){return this.status===km}get pending(){return this.status==pu}get disabled(){return this.status===rh}get enabled(){return this.status!==rh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(K4(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(K4(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Q4(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Q4(e,this._rawAsyncValidators))}hasValidator(e){return xm(this._rawValidators,e)}hasAsyncValidator(e){return xm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=pu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=rh,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=nh,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===nh||this.status===pu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?rh:nh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=pu,this._hasOwnPendingAsyncValidator=!0;const t=U4(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new gt,this.statusChanges=new gt}_calculateStatus(){return this._allControlsDisabled()?rh:this.errors?km:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pu)?pu:this._anyControlsHaveStatus(km)?km:nh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Nm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Ahe(n){return Array.isArray(n)?DD(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Dhe(n){return Array.isArray(n)?SD(n):n||null}(this._rawAsyncValidators)}}class ND extends kD{constructor(e,t,r){super(xD(t),OD(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function t$(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new z(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function e$(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new z(1e3,"");if(!r[t])throw new z(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const gu=new ee("CallSetDisabledState",{providedIn:"root",factory:()=>Fm}),Fm="always";function ih(n,e,t=Fm){FD(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Mhe(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&n$(n,e)})}(n,e),function xhe(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Rhe(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&n$(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Phe(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Um(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function FD(n,e){const t=function q4(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(G4(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function W4(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(G4(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Um(e._rawValidators,i),Um(e._rawAsyncValidators,i)}function n$(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const Vhe={provide:Vn,useExisting:Xe(()=>jm)},oh=(()=>Promise.resolve())();let jm=(()=>{class n extends Vn{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new gt,this.form=new ND({},DD(t),SD(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){oh.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),ih(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){oh.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){oh.then(()=>{const r=this._findContainer(t.path),i=new ND({});(function r$(n,e){FD(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){oh.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){oh.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function i$(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(B(vn,10),B(zo,10),B(gu,8))}}static{this.\u0275dir=ge({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&ae("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[lt([Vhe]),He]})}}return n})();function o$(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function s$(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const a$=class extends kD{constructor(e=null,t,r){super(xD(t),OD(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Nm(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=s$(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){o$(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){o$(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){s$(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Bhe={provide:Go,useExisting:Xe(()=>mu)},l$=(()=>Promise.resolve())();let mu=(()=>{class n extends Go{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new a$,this._registered=!1,this.name="",this.update=new gt,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function UD(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===Zs?t=o:function Nhe(n){return Object.getPrototypeOf(n.constructor)===Xs}(o)?r=o:i=o}),i||r||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function LD(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ih(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){l$.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&oc(r);l$.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Vm(n,e){return[...e.path,n]}(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(B(Vn,9),B(vn,10),B(zo,10),B(hi,10),B(sp,8),B(gu,8))}}static{this.\u0275dir=ge({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[lt([Bhe]),He,pr]})}}return n})(),d$=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ge({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),f$=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Hr({type:n})}static{this.\u0275inj=Ar({})}}return n})(),ea=(()=>{class n{constructor(){this._validator=Rm}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Rm,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ge({type:n,features:[pr]})}}return n})();const ife={provide:vn,useExisting:Xe(()=>$m),multi:!0};let $m=(()=>{class n extends ea{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=oc,this.createValidator=t=>x4}enabled(t){return t}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=tn(n)))(i||n)}}()}static{this.\u0275dir=ge({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&Jr("required",i._enabled?"":null)},inputs:{required:"required"},features:[lt([ife]),He]})}}return n})(),lfe=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Hr({type:n})}static{this.\u0275inj=Ar({imports:[f$]})}}return n})(),Hm=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:gu,useValue:t.callSetDisabledState??Fm}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Hr({type:n})}static{this.\u0275inj=Ar({imports:[lfe]})}}return n})();const ta_apiUrl="https://music-uptc-sogamoso-back.vercel.app",ta_firebaseConfig={apiKey:"AIzaSyAehdTsKYuyXdmBngoGthTpaMPrw4nsga4",authDomain:"musicuptcsogamoso.firebaseapp.com",projectId:"musicuptcsogamoso",storageBucket:"musicuptcsogamoso.firebasestorage.app",messagingSenderId:"1011403818121",appId:"1:1011403818121:web:eea45507f1bdcd3631b258",measurementId:"G-BFW1T6D1J1"};let hfe=(()=>{class n{http;apiUrl=ta_apiUrl;constructor(t){this.http=t}searchTracks(t){return this.http.get(`${this.apiUrl}/api/search?q=${encodeURIComponent(t)}`).pipe(Me(r=>r.map(i=>({id:i.id,name:i.name,artists:i.artists,album:i.album,image:i.image,preview_url:i.preview_url,duration_ms:i.duration_ms}))))}getAuthUrl(){return this.http.get(`${this.apiUrl}/api/spotify/auth`)}getCurrentlyPlaying(){return this.http.get(`${this.apiUrl}/api/spotify/currently-playing`)}static \u0275fac=function(r){return new(r||n)(ne(ps))};static \u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function R$(n=0,e,t=kie){let r=-1;return null!=e&&(US(e)?t=e:r=e),new ct(i=>{let o=function ffe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function GD(n=0,e=lC){return n<0&&(n=0),R$(n,n,e)}let _u=(()=>{class n{http;apiUrl=ta_apiUrl;currentUserSubject=new Zn(null);currentUser=this.currentUserSubject.asObservable();constructor(t){this.http=t;const r=localStorage.getItem("adminToken"),i=localStorage.getItem("adminUser");r&&i&&this.currentUserSubject.next(JSON.parse(i))}login(t,r){return this.http.post(`${this.apiUrl}/api/auth/login`,{email:t,password:r}).pipe(Et(i=>{i.token&&(localStorage.setItem("adminToken",i.token),localStorage.setItem("adminUser",JSON.stringify(i.user)),this.currentUserSubject.next(i.user))}))}logout(){localStorage.removeItem("adminToken"),localStorage.removeItem("adminUser"),this.currentUserSubject.next(null)}isLoggedIn(){return!!localStorage.getItem("adminToken")}getAuthToken(){return localStorage.getItem("adminToken")}getAuthHeaders(){const t=this.getAuthToken();return t?new vr({Authorization:`Bearer ${t}`}):new vr}static \u0275fac=function(r){return new(r||n)(ne(ps))};static \u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sh=(()=>{class n{http;authService;apiUrl=ta_apiUrl;cachedSongs=[];lastFetchTime=0;CACHE_DURATION=3e4;constructor(t,r){this.http=t,this.authService=r}getCacheBustedUrl(t){const r=t.includes("?")?"&":"?";return`${t}${r}_=${(new Date).getTime()}`}invalidateCache(){this.cachedSongs=[],this.lastFetchTime=0}processSongs(t){return t&&0!==t.length?t.sort((r,i)=>r.votes>i.votes?-1:r.votes<i.votes?1:new Date(i.createdat).getTime()-new Date(r.createdat).getTime()):[]}voteForSong(t,r,i=!1){return this.http.post(`${this.apiUrl}/api/vote`,{trackid:t,trackInfo:r,is_dislike:i}).pipe(Et(()=>{this.invalidateCache()}))}changeVote(t,r,i){return this.voteForSong(t,r,i)}getRankedSongsPolling(){return GD(6e4).pipe(Pp(0),wn(()=>this.getRankedSongs()))}getRankedSongs(){const t=Date.now();if(this.cachedSongs.length>0&&t-this.lastFetchTime<this.CACHE_DURATION)return de([...this.cachedSongs]);const r=this.getCacheBustedUrl(`${this.apiUrl}/api/votes`);return this.http.get(r).pipe(Me(i=>{const o=this.processSongs(i||[]);return this.cachedSongs=o,this.lastFetchTime=t,o}))}getRecentlyAddedSongs(){return this.getRankedSongs().pipe(Me(t=>[...t].sort((r,i)=>new Date(i.createdat).getTime()-new Date(r.createdat).getTime()).slice(0,10)))}deleteSong(t){const r=this.authService.getAuthHeaders(),o=this.getCacheBustedUrl(`${this.apiUrl}/api/votes?trackid=${t}`);return this.http.delete(o,{headers:r}).pipe(Et(()=>{this.invalidateCache()}))}deleteAllVotes(){const t=this.authService.getAuthHeaders(),r=this.getCacheBustedUrl(`${this.apiUrl}/api/votes/all`);return this.http.delete(r,{headers:t}).pipe(Et(()=>{this.invalidateCache()}))}forceRefresh(){return this.invalidateCache(),this.getRankedSongs()}static \u0275fac=function(r){return new(r||n)(ne(ps),ne(_u))};static \u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function pfe(n,e){1&n&&q(0,"i",11)}function gfe(n,e){1&n&&q(0,"i",12)}function mfe(n,e){1&n&&(C(0,"div",16),R(1," No se encontraron resultados. Intenta con otras palabras. "),w())}function _fe(n,e){if(1&n){const t=Nt();C(0,"div",17)(1,"div",18)(2,"div",19)(3,"div",20),q(4,"img",21),w(),C(5,"div",22)(6,"h6",23),R(7),w(),C(8,"p",24),R(9),w(),C(10,"p",25),R(11),w()(),C(12,"div",26)(13,"button",27),ae("click",function(){const o=Ne(t).$implicit;return Fe(le(2).vote(o))}),q(14,"i",28),R(15,"Votar "),w()()()()()}if(2&n){const t=e.$implicit,r=le(2);O(4),W("src",t.image,xr)("alt",t.name),O(3),Te(t.name),O(2),Te(t.artists.join(", ")),O(2),Te(r.formatDuration(t.duration_ms))}}function yfe(n,e){if(1&n&&(C(0,"div"),ce(1,mfe,2,0,"div",13),C(2,"div",14),ce(3,_fe,16,5,"div",15),w()()),2&n){const t=le();O(1),W("ngIf",0===t.results.length&&!t.isLoading),O(2),W("ngForOf",t.results)}}let vfe=(()=>{class n{spotifyService;votingService;voteCasted=new gt;query="";results=[];isLoading=!1;searchPerformed=!1;constructor(t,r){this.spotifyService=t,this.votingService=r}search(){this.query.trim()&&(this.isLoading=!0,this.searchPerformed=!0,this.spotifyService.searchTracks(this.query).subscribe({next:t=>{this.results=t,this.isLoading=!1},error:t=>{console.error("Error al buscar:",t),this.isLoading=!1,alert("Error al buscar canciones. Intenta nuevamente.")}}))}vote(t){this.votingService.voteForSong(t.id,{name:t.name,artists:t.artists,image:t.album?.images?.[0]?.url||t.image,preview_url:t.preview_url,album:t.album?.name||"Unknown Album"}).subscribe({next:()=>{alert("\xa1Tu voto ha sido registrado!"),this.query="",this.results=[],this.searchPerformed=!1,this.voteCasted.emit()},error:i=>{409===i.status?alert("Ya has votado por esta canci\xf3n."):alert("Error al registrar tu voto. Intenta nuevamente.")}})}formatDuration(t){const r=Math.floor(t/6e4),i=(t%6e4/1e3).toFixed(0);return`${r}:${parseInt(i)<10?"0":""}${i}`}static \u0275fac=function(r){return new(r||n)(B(hfe),B(sh))};static \u0275cmp=Pr({type:n,selectors:[["app-search"]],outputs:{voteCasted:"voteCasted"},standalone:!0,features:[Nr],decls:13,vars:5,consts:[[1,"card","mb-4"],[1,"card-header"],[1,"mb-0"],[1,"fas","fa-search","me-2"],[1,"card-body"],[1,"input-group","mb-3"],["type","text","placeholder","Nombre de canci\xf3n o artista...",1,"form-control",3,"ngModel","ngModelChange","keyup.enter"],[1,"btn","btn-primary",3,"disabled","click"],["class","fas fa-search me-1",4,"ngIf"],["class","fas fa-spinner fa-spin me-1",4,"ngIf"],[4,"ngIf"],[1,"fas","fa-search","me-1"],[1,"fas","fa-spinner","fa-spin","me-1"],["class","alert alert-info",4,"ngIf"],[1,"results-container"],["class","card mb-2 track-card",4,"ngFor","ngForOf"],[1,"alert","alert-info"],[1,"card","mb-2","track-card"],[1,"card-body","py-2"],[1,"row","align-items-center"],[1,"col-3","col-sm-2"],[1,"img-fluid","rounded",3,"src","alt"],[1,"col-5","col-sm-6"],[1,"mb-1","text-truncate"],[1,"text-muted","mb-1","small","text-truncate"],[1,"text-muted","mb-0","small"],[1,"col-4","col-sm-4","text-end"],[1,"btn","btn-success","btn-sm",3,"click"],[1,"fas","fa-thumbs-up","me-1"]],template:function(r,i){1&r&&(C(0,"div",0)(1,"div",1)(2,"h5",2),q(3,"i",3),R(4,"Buscar canciones en Spotify "),w()(),C(5,"div",4)(6,"div",5)(7,"input",6),ae("ngModelChange",function(s){return i.query=s})("keyup.enter",function(){return i.search()}),w(),C(8,"button",7),ae("click",function(){return i.search()}),ce(9,pfe,1,0,"i",8),ce(10,gfe,1,0,"i",9),R(11," Buscar "),w()(),ce(12,yfe,4,2,"div",10),w()()),2&r&&(O(7),W("ngModel",i.query),O(1),W("disabled",i.isLoading),O(1),W("ngIf",!i.isLoading),O(1),W("ngIf",i.isLoading),O(2),W("ngIf",i.searchPerformed))},dependencies:[yo,fs,xi,Hm,Zs,th,mu],styles:[".track-card[_ngcontent-%COMP%]{transition:transform .2s,background-color .2s}.track-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);background-color:#282828}.results-container[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto}@media (max-width: 576px){.track-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:.75rem}.track-card[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.9rem}.track-card[_ngcontent-%COMP%]   .btn-sm[_ngcontent-%COMP%]{padding:.2rem .5rem;font-size:.8rem}}.text-truncate[_ngcontent-%COMP%]{color:#fff;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"]})}return n})();function Ife(n,e){1&n&&(C(0,"span"),R(1,"Actualizar"),w())}function Efe(n,e){1&n&&(C(0,"span"),R(1,"Actualizando..."),w())}function bfe(n,e){if(1&n&&(C(0,"span"),R(1),w()),2&n){const t=le();O(1),Ke("Espera ",t.countdown,"s")}}function Cfe(n,e){1&n&&(C(0,"div",7),q(1,"div",8),C(2,"p"),R(3,"Cargando canciones..."),w()())}function wfe(n,e){if(1&n){const t=Nt();C(0,"div",17)(1,"div",18),q(2,"img",19),w(),C(3,"div",20)(4,"div",21)(5,"h6",22),R(6),w(),C(7,"p",23),R(8),w()(),C(9,"div",24)(10,"span",25),q(11,"i",26),R(12),w()(),C(13,"div")(14,"button",27),ae("click",function(){const o=Ne(t).$implicit;return Fe(le(3).vote(o,!1))}),q(15,"i",28),R(16),w(),C(17,"button",29),ae("click",function(){const o=Ne(t).$implicit;return Fe(le(3).vote(o,!0))}),q(18,"i",30),R(19),w()()()()}if(2&n){const t=e.$implicit,r=le(3);O(2),W("src",t.image,xr)("alt",t.name),O(4),Te(t.name),O(2),Te(t.artists.join(", ")),O(4),Ke("",r.formatTimeAgo(t.createdat)," "),O(2),Dt("active",r.hasUserLiked(t.id)),O(2),Ke("",t.votes||0," "),O(1),Dt("active",r.hasUserDisliked(t.id)),O(2),Ke("",t.dislikes||0," ")}}function Tfe(n,e){if(1&n&&(C(0,"div",14)(1,"h2"),R(2,"Reci\xe9n Agregadas"),w(),C(3,"div",15),ce(4,wfe,20,11,"div",16),w()()),2&n){const t=le(2);O(4),W("ngForOf",t.recentlyAddedSongs)}}function Afe(n,e){if(1&n){const t=Nt();C(0,"tr")(1,"td"),R(2),w(),C(3,"td")(4,"div",31),q(5,"img",32),C(6,"span"),R(7),w()()(),C(8,"td"),R(9),w(),C(10,"td")(11,"span",33),q(12,"i",28),R(13),w(),C(14,"span",34),q(15,"i",30),R(16),w()(),C(17,"td")(18,"span",35),R(19),w()(),C(20,"td")(21,"div",36)(22,"button",27),ae("click",function(){const o=Ne(t).$implicit;return Fe(le(2).vote(o,!1))}),q(23,"i",28),w(),C(24,"button",29),ae("click",function(){const o=Ne(t).$implicit;return Fe(le(2).vote(o,!0))}),q(25,"i",30),w()()()()}if(2&n){const t=e.$implicit,r=e.index,i=le(2);O(2),Te(r+1),O(3),W("src",t.image,xr)("alt",t.name),O(2),Te(t.name),O(2),Te(t.artists.join(", ")),O(4),Ke(" ",t.votes||0," "),O(3),Ke(" ",t.dislikes||0," "),O(3),Te(i.formatTimeAgo(t.createdat)),O(3),Dt("active",i.hasUserLiked(t.id)),O(2),Dt("active",i.hasUserDisliked(t.id))}}function Dfe(n,e){if(1&n&&(C(0,"div",9),ce(1,Tfe,5,1,"div",10),C(2,"h2"),R(3,"Ranking General"),w(),C(4,"div",11)(5,"table",12)(6,"thead")(7,"tr")(8,"th"),R(9,"#"),w(),C(10,"th"),R(11,"T\xedtulo"),w(),C(12,"th"),R(13,"Artista"),w(),C(14,"th"),R(15,"Votos"),w(),C(16,"th"),R(17,"Agregada"),w(),C(18,"th"),R(19,"Acci\xf3n"),w()()(),C(20,"tbody"),ce(21,Afe,26,12,"tr",13),w()()()()),2&n){const t=le();O(1),W("ngIf",t.recentlyAddedSongs.length>0),O(20),W("ngForOf",t.songs)}}let Sfe=(()=>{class n{votingService;songs=[];recentlyAddedSongs=[];isLoading=!0;isRefreshing=!1;userVotes=new Map;pollingSubscription=null;refreshCooldown=30;countdown=0;timerSubscription=null;constructor(t){this.votingService=t}ngOnInit(){this.startPolling()}ngOnDestroy(){this.pollingSubscription&&this.pollingSubscription.unsubscribe(),this.timerSubscription&&this.timerSubscription.unsubscribe()}startPolling(){this.pollingSubscription=this.votingService.getRankedSongsPolling().subscribe({next:t=>{this.songs=t,this.votingService.getRecentlyAddedSongs().subscribe({next:r=>{this.recentlyAddedSongs=r}}),this.isLoading=!1},error:t=>{console.error("Error al cargar canciones:",t),this.isLoading=!1}})}forceRefresh(){this.isRefreshing||this.countdown>0||(this.isRefreshing=!0,this.votingService.forceRefresh().subscribe({next:t=>{this.songs=t,this.votingService.getRecentlyAddedSongs().subscribe({next:r=>{this.recentlyAddedSongs=r,this.isRefreshing=!1,this.startCooldown()}})},error:t=>{console.error("Error al forzar actualizaci\xf3n:",t),this.isRefreshing=!1,this.startCooldown()}}))}hasUserLiked(t){return this.userVotes.has(t)&&!1===this.userVotes.get(t)}hasUserDisliked(t){return this.userVotes.has(t)&&!0===this.userVotes.get(t)}formatTimeAgo(t){try{if(!t)return"reciente";let r;if("string"!=typeof t)return"Reciente";if(r=t.includes("Z")||t.includes("+")?new Date(t):new Date(t+"Z"),isNaN(r.getTime()))return console.warn("Fecha inv\xe1lida:",t),"Reciente";const o=Math.floor(((new Date).getTime()-r.getTime())/1e3),s=Math.floor(o/60),a=Math.floor(o/3600),c=Math.floor(o/86400);return o<60?`${o} s`:s<60?`Hace ${s} min ${o%60} s`:a<24?`Hace ${a} h ${s%60} min`:1===c?"Ayer":`Hace ${c} d`}catch(r){return console.error("Error formateando fecha:",r,"Fecha recibida:",t),"Reciente"}}startCooldown(){this.timerSubscription&&this.timerSubscription.unsubscribe(),this.countdown=this.refreshCooldown,this.timerSubscription=R$(0,1e3).subscribe(()=>{this.countdown>0?this.countdown--:this.timerSubscription&&(this.timerSubscription.unsubscribe(),this.timerSubscription=null)})}vote(t,r=!1){const i={name:t.name,artists:t.artists,image:t.image,album:t.album,preview_url:t.preview_url};this.votingService.voteForSong(t.id,i,r).subscribe({next:o=>{o.deleted?alert("La canci\xf3n ha sido eliminada por recibir muchos dislikes"):(alert(`\xa1Tu ${r?"dislike":"like"} ha sido registrado!`),this.userVotes.set(t.id,r)),this.forceRefresh()},error:o=>{409===o.status?confirm("Ya has votado por esta canci\xf3n. \xbfQuieres cambiar tu voto?")&&this.votingService.changeVote(t.id,i,r).subscribe({next:s=>{s.deleted?alert("La canci\xf3n ha sido eliminada por recibir muchos dislikes"):(alert("\xa1Tu voto ha sido cambiado!"),this.userVotes.set(t.id,r)),this.forceRefresh()},error:s=>{alert("Error al cambiar tu voto. Intenta nuevamente.")}}):alert("Error al registrar tu voto. Intenta nuevamente.")}})}static \u0275fac=function(r){return new(r||n)(B(sh))};static \u0275cmp=Pr({type:n,selectors:[["app-voting-list"]],standalone:!0,features:[Nr],decls:11,vars:8,consts:[[1,"spotify-container"],[1,"header"],[1,"btn-refresh",3,"disabled","click"],[1,"fas","fa-sync-alt"],[4,"ngIf"],["class","loader",4,"ngIf"],["class","content",4,"ngIf"],[1,"loader"],[1,"spinner"],[1,"content"],["class","recently-added",4,"ngIf"],[1,"song-table-container"],[1,"song-table"],[4,"ngFor","ngForOf"],[1,"recently-added"],[1,"recent-songs-grid"],["class","recent-song-card",4,"ngFor","ngForOf"],[1,"recent-song-card"],[1,"recent-song-image-container"],[1,"recent-song-image",3,"src","alt"],[1,"recent-song-content"],[1,"recent-song-info"],[1,"recent-song-title"],[1,"recent-song-artist"],[1,"recent-song-meta"],[1,"badge","bg-secondary"],[1,"fas","fa-clock","me-1"],[1,"btn-vote","like-btn",3,"click"],[1,"fas","fa-thumbs-up"],[1,"btn-vote","dislike-btn",3,"click"],[1,"fas","fa-thumbs-down"],[1,"song-cell"],[3,"src","alt"],[1,"vote-count"],[1,"dislike-count"],[1,"time-ago"],[1,"vote-actions"]],template:function(r,i){1&r&&(C(0,"div",0)(1,"div",1)(2,"h1"),R(3,"Votaci\xf3n de Canciones"),w(),C(4,"button",2),ae("click",function(){return i.forceRefresh()}),q(5,"i",3),ce(6,Ife,2,0,"span",4),ce(7,Efe,2,0,"span",4),ce(8,bfe,2,1,"span",4),w()(),ce(9,Cfe,4,0,"div",5),ce(10,Dfe,22,2,"div",6),w()),2&r&&(O(4),W("disabled",i.isRefreshing||i.countdown>0),O(1),Dt("fa-spin",i.isRefreshing),O(1),W("ngIf",!i.isRefreshing&&0===i.countdown),O(1),W("ngIf",i.isRefreshing),O(1),W("ngIf",!i.isRefreshing&&i.countdown>0),O(1),W("ngIf",i.isLoading),O(1),W("ngIf",!i.isLoading))},dependencies:[yo,fs,xi],styles:['.spotify-container[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border:1px solid rgba(255,255,255,.1);border-radius:16px;padding:2rem;color:var(--text-primary);box-shadow:0 10px 30px #0003;margin-bottom:2rem}.spotify-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding-bottom:1rem;border-bottom:1px solid rgba(255,255,255,.1)}.spotify-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:800;background:linear-gradient(135deg,var(--text-primary) 0%,var(--primary-color) 100%);-webkit-text-fill-color:transparent;-webkit-background-clip:text;background-clip:text;margin:0}.btn-refresh[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color) 0%,#1aa34a 100%);color:var(--text-primary);border:none;padding:.8rem 1.5rem;border-radius:50px;cursor:pointer;font-weight:700;transition:all .3s ease;display:flex;align-items:center;gap:.5rem;box-shadow:0 5px 15px #1db9544d}.btn-refresh[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 8px 20px #1db95466}.btn-refresh[_ngcontent-%COMP%]:disabled{opacity:.7;transform:none;box-shadow:none;cursor:not-allowed}.loader[_ngcontent-%COMP%]{text-align:center;padding:3rem}.loader[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{border:4px solid rgba(255,255,255,.2);border-left-color:var(--primary-color);border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 1rem;box-shadow:0 0 15px #1db9544d}.loader[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:1rem}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}h2[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin-bottom:1.5rem;padding-bottom:.8rem;border-bottom:2px solid rgba(255,255,255,.1);color:var(--text-primary)}.recently-added[_ngcontent-%COMP%]{margin-bottom:3rem}.recently-added[_ngcontent-%COMP%]   .song-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.8rem}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]{display:flex;align-items:center;background:rgba(42,42,42,.5);padding:1rem;border-radius:12px;transition:all .3s ease;border:1px solid rgba(255,255,255,.05)}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]:hover{background:rgba(42,42,42,.7);transform:translateY(-3px);border-color:#1db95433;box-shadow:0 8px 25px #0003}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:8px;margin-right:1rem;box-shadow:0 4px 15px #0000004d;transition:all .3s ease}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]{flex-grow:1;min-width:0}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;margin:0;color:var(--text-primary)}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]   .song-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary);margin:.3rem 0 0}.recently-added[_ngcontent-%COMP%]   .song-card[_ngcontent-%COMP%]   .song-actions[_ngcontent-%COMP%]{margin-left:1rem}.song-table-container[_ngcontent-%COMP%]{overflow-x:auto;border-radius:12px;background:rgba(42,42,42,.3);padding:1rem}.song-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.song-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .song-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;text-align:left;border-bottom:1px solid rgba(255,255,255,.1)}.song-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.9rem;text-transform:uppercase;font-weight:600;letter-spacing:.5px}.song-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:all .3s ease}.song-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.05)}.song-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.song-cell[_ngcontent-%COMP%]{display:flex;align-items:center}.song-cell[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:8px;margin-right:1rem;box-shadow:0 4px 15px #0000004d}.vote-count[_ngcontent-%COMP%]{display:flex;align-items:center;font-weight:700;color:var(--text-primary)}.vote-count[_ngcontent-%COMP%]   .fa-thumbs-up[_ngcontent-%COMP%]{color:var(--primary-color);margin-right:.5rem;font-size:1.1rem}.btn-vote[_ngcontent-%COMP%]{background:transparent;color:var(--primary-color);border:2px solid var(--primary-color);padding:.5rem 1.2rem;border-radius:50px;cursor:pointer;transition:all .3s ease;font-weight:700}.btn-vote[_ngcontent-%COMP%]:hover{background:var(--primary-color);color:var(--text-primary);transform:translateY(-2px);box-shadow:0 5px 15px #1db9544d}.btn-vote-small[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color) 0%,#1aa34a 100%);color:var(--text-primary);border:none;padding:.6rem 1.2rem;border-radius:50px;cursor:pointer;font-weight:700;transition:all .3s ease;box-shadow:0 4px 12px #1db9544d}.btn-vote-small[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 16px #1db95466}@media (max-width: 768px){.spotify-container[_ngcontent-%COMP%]{padding:1.5rem}.header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem}.song-table[_ngcontent-%COMP%]{font-size:.9rem}.song-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .song-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.8rem}.song-cell[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.song-cell[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:0;margin-bottom:.5rem}}.recently-added[_ngcontent-%COMP%]{margin-bottom:2rem}.recently-added[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700;margin-bottom:1rem;padding-bottom:.5rem;border-bottom:2px solid rgba(255,255,255,.1);color:var(--text-primary)}.recent-songs-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1rem;margin-bottom:1.5rem}.recent-song-card[_ngcontent-%COMP%]{background:rgba(42,42,42,.5);border-radius:10px;padding:.8rem;display:flex;align-items:center;transition:all .3s ease;border:1px solid rgba(255,255,255,.05);position:relative;overflow:hidden;gap:.8rem;min-height:80px}.recent-song-card[_ngcontent-%COMP%]:hover{background:rgba(42,42,42,.7);transform:translateY(-3px);border-color:#1db95433;box-shadow:0 5px 15px #0003}.recent-song-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:3px;height:100%;background:linear-gradient(to bottom,var(--primary-color),var(--accent-purple))}.recent-song-image-container[_ngcontent-%COMP%]{flex-shrink:0;width:50px;height:50px;border-radius:6px;overflow:hidden;position:relative}.recent-song-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .3s ease}.recent-song-card[_ngcontent-%COMP%]:hover   .recent-song-image[_ngcontent-%COMP%]{transform:scale(1.1)}.recent-song-content[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;gap:.4rem;min-width:0}.recent-song-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{display:flex;gap:.5rem;margin-top:.3rem}.recent-song-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child   .btn-vote[_ngcontent-%COMP%]{padding:.25rem .6rem;font-size:.75rem;border-radius:4px;min-width:auto}.recent-song-content[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child   .btn-vote[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.7rem;margin-right:.3rem}.recent-song-info[_ngcontent-%COMP%]{min-width:0}.recent-song-title[_ngcontent-%COMP%]{font-size:.9rem;font-weight:600;color:var(--text-primary);margin:0;line-height:1.2;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}.recent-song-artist[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-secondary);margin:0;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}.recent-song-meta[_ngcontent-%COMP%]{display:flex;gap:.5rem;align-items:center}.recent-song-meta[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.3rem .6rem;border-radius:12px;font-size:.7rem;font-weight:600}.recent-song-meta[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.6rem}.dislike-btn[_ngcontent-%COMP%]{background:transparent;color:#f44336;border:2px solid #f44336}.dislike-btn[_ngcontent-%COMP%]:hover, .dislike-btn.active[_ngcontent-%COMP%]{background:#f44336;color:#fff}.like-btn[_ngcontent-%COMP%]{background:transparent;color:var(--primary-color);border:2px solid var(--primary-color)}.like-btn[_ngcontent-%COMP%]:hover, .like-btn.active[_ngcontent-%COMP%]{background:var(--primary-color);color:#fff}.vote-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem}.vote-actions[_ngcontent-%COMP%]   .btn-vote[_ngcontent-%COMP%]{padding:.3rem .6rem;border-radius:4px;font-size:.8rem}.dislike-count[_ngcontent-%COMP%]{display:flex;align-items:center;font-weight:700;color:#f44336;margin-left:1rem}.dislike-count[_ngcontent-%COMP%]   .fa-thumbs-down[_ngcontent-%COMP%]{margin-right:.3rem;font-size:.9rem}.recent-song-actions[_ngcontent-%COMP%]{flex-shrink:0}.recent-song-actions[_ngcontent-%COMP%]   .btn-vote[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color) 0%,#1aa34a 100%);color:var(--text-primary);border:none;width:32px;height:32px;border-radius:50%;cursor:pointer;font-weight:600;transition:all .3s ease;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px #1db9544d}.recent-song-actions[_ngcontent-%COMP%]   .btn-vote[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 4px 12px #1db95466}.recent-song-actions[_ngcontent-%COMP%]   .btn-vote[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem}@media (max-width: 1024px){.recent-songs-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(250px,1fr))}}@media (max-width: 768px){.recent-songs-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:.8rem}.recent-song-card[_ngcontent-%COMP%]{padding:.7rem;gap:.6rem}.recent-song-image-container[_ngcontent-%COMP%]{width:45px;height:45px}.recent-song-title[_ngcontent-%COMP%]{font-size:.85rem}.recent-song-artist[_ngcontent-%COMP%]{font-size:.7rem}}@media (max-width: 480px){.recent-songs-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.recent-song-meta[_ngcontent-%COMP%]{flex-wrap:wrap;gap:.3rem}.recent-song-actions[_ngcontent-%COMP%]   .btn-vote[_ngcontent-%COMP%]{width:28px;height:28px}.recent-song-actions[_ngcontent-%COMP%]   .btn-vote[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.7rem}}']})}return n})();function Pfe(n,e){if(1&n){const t=Nt();C(0,"button",6),ae("click",function(){return Ne(t),Fe(le().hideAnnouncement())}),C(1,"i"),R(2,"Cerrar"),w()()}}function Mfe(n,e){if(1&n){const t=Nt();C(0,"button",7),ae("click",function(){return Ne(t),Fe(le().nohideAnnouncement())}),C(1,"i"),R(2,"Abrir"),w()()}}function Rfe(n,e){1&n&&(C(0,"div",8)(1,"div",9)(2,"div",10)(3,"h4"),q(4,"i",11),R(5,"A nuestros queridos usuarios:"),w(),C(6,"p"),R(7,"-Una cancion es eliminada automaticamente al completar "),C(8,"strong"),R(9,"10 Dislikes "),w()(),C(10,"p"),R(11,"-Cancion que entre en reproducion se eliminara automaticamente del Ranking"),w(),C(12,"p"),R(13,"-Solo se puede votar una vez por cancion "),w(),C(14,"p"),R(15,"-Cada semana se eliminaran todas las canciones del Ranking "),w(),C(16,"p"),R(17,"-El administrador tiene la potestad de evaluar cada sugerencia y decidir si es apropiada para el momento o ambiente."),w(),C(18,"p")(19,"strong"),R(20,"Agradecemos enormemente su entusiasmo y participaci\xf3n. \xa1Sigan votando por su m\xfasica favorita!"),w()(),C(21,"p")(22,"strong"),R(23," UPTC Music - V2.1 "),w()()(),C(24,"div",12)(25,"div",13)(26,"div",14),q(27,"i",15),w(),C(28,"div")(29,"p",16),R(30,"Desarrollado por "),C(31,"b",17),R(32,"Sebastian Vega"),w(),R(33,":"),w(),C(34,"div",18)(35,"a",19),q(36,"i",20),R(37,"GitHub "),w(),C(38,"a",21),q(39,"i",22),R(40,"LinkedIn "),w(),C(41,"a",23),q(42,"i",24),R(43,"Instagram "),w()()()()()()())}let xfe=(()=>{class n{isHidden=!1;hideAnnouncement(){this.isHidden=!0,localStorage.setItem("announcementHidden","true")}nohideAnnouncement(){this.isHidden=!1,localStorage.setItem("announcementHidden","true")}ngOnInit(){"true"===localStorage.getItem("announcementHidden")&&(this.isHidden=!0)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Pr({type:n,selectors:[["app-announcement"]],standalone:!0,features:[Nr],decls:8,vars:3,consts:[[1,"announcement-container","card"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"fas","fa-info-circle","me-2"],["class","btn-close","title","Abrir",3,"click",4,"ngIf"],["class","btn-close","title","Cerrar",3,"click",4,"ngIf"],["class","card-body",4,"ngIf"],["title","Abrir",1,"btn-close",3,"click"],["title","Cerrar",1,"btn-close",3,"click"],[1,"card-body"],[1,"announcement-content"],[1,"alert","alert-info"],[1,"fas","fa-exclamation-triangle","me-2"],[1,"developer-info"],[1,"d-flex","align-items-start"],[1,"me-3","mt-1"],[1,"fas","fa-laptop-code","text-primary"],[1,"mb-1"],["href","https://www.instagram.com/sebastian.vegar/"],[1,"social-links"],["href","https://github.com/SebastianVega4","target","_blank"],[1,"fab","fa-github","me-1"],["href","https://www.linkedin.com/in/johan-sebastian-vega-ruiz-b1292011b/","target","_blank"],[1,"fab","fa-linkedin","me-1"],["href","https://www.instagram.com/sebastian.vegar/","target","_blank"],[1,"fab","fa-instagram","me-1"]],template:function(r,i){1&r&&(C(0,"div",0)(1,"div",1)(2,"div"),q(3,"i",2),R(4,"Informaci\xf3n Importante "),w(),ce(5,Pfe,3,0,"button",3),ce(6,Mfe,3,0,"button",4),w(),ce(7,Rfe,44,0,"div",5),w()),2&r&&(O(5),W("ngIf",!i.isHidden),O(1),W("ngIf",i.isHidden),O(1),W("ngIf",!i.isHidden))},dependencies:[yo,xi],styles:['@charset "UTF-8";.announcement-container[_ngcontent-%COMP%]{margin-bottom:2rem;border:1px solid rgba(255,255,255,.1);border-radius:16px;overflow:hidden;background:var(--glass-bg);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);box-shadow:0 10px 30px #0003;transition:all .3s ease}.announcement-container[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 15px 40px #1db95426;border-color:#1db95433}.announcement-container[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(29,185,84,.15) 0%,rgba(141,103,171,.15) 100%);color:var(--text-primary);font-weight:700;font-size:1.1rem;padding:1rem 1.5rem;border-bottom:1px solid rgba(255,255,255,.1);display:flex;align-items:center;justify-content:space-between}.announcement-container[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color)}.announcement-container[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-secondary);cursor:pointer;padding:.25rem;border-radius:50%;transition:all .2s ease;width:28px;height:28px;display:flex;align-items:center;justify-content:center}.announcement-container[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{color:var(--text-primary);background:rgba(255,255,255,.1);transform:rotate(90deg)}.announcement-container[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.announcement-container[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1.5rem}.announcement-container[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{border:none;border-radius:12px;padding:1.5rem;background:rgba(83,143,221,.1);border-left:4px solid rgba(83,143,221,.5)}.announcement-container[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:1rem;color:var(--text-primary);display:flex;align-items:center}.announcement-container[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#538fdd;margin-right:.5rem;font-size:1.2rem}.announcement-container[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem;line-height:1.6;color:var(--text-secondary);margin-bottom:1rem}.announcement-container[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}.announcement-container[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--text-primary);font-weight:600}.announcement-container[_ngcontent-%COMP%]   .developer-info[_ngcontent-%COMP%]{margin-top:1.5rem;padding-top:1.5rem;border-top:1px solid rgba(255,255,255,.1)}.announcement-container[_ngcontent-%COMP%]   .developer-info[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{align-items:flex-start}.announcement-container[_ngcontent-%COMP%]   .developer-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary);margin-bottom:.5rem}.announcement-container[_ngcontent-%COMP%]   .developer-info[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.95rem;color:var(--text-primary);margin-bottom:1rem;font-weight:600}.announcement-container[_ngcontent-%COMP%]   .developer-info[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]{display:flex;gap:1.2rem}.announcement-container[_ngcontent-%COMP%]   .developer-info[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;transition:all .3s ease;font-size:.9rem;color:var(--text-secondary);display:flex;align-items:center}.announcement-container[_ngcontent-%COMP%]   .developer-info[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--primary-color);transform:translateY(-2px)}.announcement-container[_ngcontent-%COMP%]   .developer-info[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.4rem;font-size:1rem}.announcement-container[_ngcontent-%COMP%]:hover{border-color:var(--primary-color)}']})}return n})(),x$=(()=>{class n{http;authService;apiUrl=ta_apiUrl;constructor(t,r){this.http=t,this.authService=r}getSchedules(){return this.http.get(`${this.apiUrl}/api/schedules`)}updateSchedules(t){const r=this.authService.getAuthHeaders();return this.http.put(`${this.apiUrl}/api/schedules`,t,{headers:r})}static \u0275fac=function(r){return new(r||n)(ne(ps),ne(_u))};static \u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ofe(n,e){if(1&n){const t=Nt();C(0,"button",7),ae("click",function(){return Ne(t),Fe(le().hideAnnouncement())}),C(1,"i"),R(2,"Cerrar"),w()()}}function kfe(n,e){if(1&n){const t=Nt();C(0,"button",8),ae("click",function(){return Ne(t),Fe(le().nohideAnnouncement())}),C(1,"i"),R(2,"Abrir"),w()()}}function Nfe(n,e){1&n&&(C(0,"div",12),q(1,"div",13),C(2,"p"),R(3,"Cargando horarios..."),w()())}const Ffe=function(){return["Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes"]};function Vfe(n,e){if(1&n&&(C(0,"tr")(1,"td",17)(2,"strong"),R(3),w()(),C(4,"td",18)(5,"span",19),R(6),w()(),C(7,"td",20)(8,"span",19),R(9),w()(),C(10,"td",21)(11,"span",22),R(12),w()()()),2&n){const t=e.$implicit,r=le(3);O(3),Te(yl(14,Ffe)[t.day_of_week]),O(2),Dt("empty",!t.lunch_start&&!t.lunch_end),O(1),as(" ",r.convertToAmPm(t.lunch_start)||"-"," - ",r.convertToAmPm(t.lunch_end)||"-"," "),O(2),Dt("empty",!t.dinner_start&&!t.dinner_end),O(1),as(" ",r.convertToAmPm(t.dinner_start)||"-"," - ",r.convertToAmPm(t.dinner_end)||"-"," "),O(2),Dt("active",t.is_active)("inactive",!t.is_active),O(1),Ke(" ",t.is_active?"Activo":"Inactivo"," ")}}function Lfe(n,e){if(1&n&&(C(0,"div",14)(1,"table",15)(2,"thead")(3,"tr")(4,"th"),R(5,"D\xeda"),w(),C(6,"th"),R(7,"Almuerzo"),w(),C(8,"th"),R(9,"Cena"),w(),C(10,"th"),R(11,"Estado"),w()()(),C(12,"tbody"),ce(13,Vfe,13,15,"tr",16),w()()()),2&n){const t=le(2);O(13),W("ngForOf",t.schedules)}}function Ufe(n,e){if(1&n&&(C(0,"div",9),ce(1,Nfe,4,0,"div",10),ce(2,Lfe,14,1,"div",11),w()),2&n){const t=le();O(1),W("ngIf",t.isLoading),O(1),W("ngIf",!t.isLoading)}}let Bfe=(()=>{class n{scheduleService;schedules=[];isLoading=!0;isHidden=!1;constructor(t){this.scheduleService=t}hideAnnouncement(){this.isHidden=!0,localStorage.setItem("announcementHidden","true")}nohideAnnouncement(){this.isHidden=!1,localStorage.setItem("announcementHidden","true")}ngOnInit(){this.loadSchedules(),"true"===localStorage.getItem("announcementHidden")&&(this.isHidden=!0)}loadSchedules(){this.scheduleService.getSchedules().subscribe({next:t=>{this.schedules=t,this.isLoading=!1},error:t=>{console.error("Error al cargar horarios:",t),this.isLoading=!1}})}convertToAmPm(t){if(!t)return"";const[r,i]=t.split(":"),o=parseInt(r,10);return`${o%12||12}:${i} ${o>=12?"PM":"AM"}`}static \u0275fac=function(r){return new(r||n)(B(x$))};static \u0275cmp=Pr({type:n,selectors:[["app-schedule"]],standalone:!0,features:[Nr],decls:8,vars:3,consts:[[1,"card","schedule-card"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"fas","fa-clock","me-2"],["class","btn-close","title","Abrir",3,"click",4,"ngIf"],["class","btn-close","title","Cerrar",3,"click",4,"ngIf"],["class","card-body",4,"ngIf"],["title","Abrir",1,"btn-close",3,"click"],["title","Cerrar",1,"btn-close",3,"click"],[1,"card-body"],["class","loading-container",4,"ngIf"],["class","schedule-table-container",4,"ngIf"],[1,"loading-container"],[1,"spinner"],[1,"schedule-table-container"],[1,"schedule-table"],[4,"ngFor","ngForOf"],["data-label","D\xeda"],["data-label","Almuerzo"],[1,"time-slot"],["data-label","Cena"],["data-label","Estado"],[1,"status-badge"]],template:function(r,i){1&r&&(C(0,"div",0)(1,"div",1)(2,"h5",2),q(3,"i",3),R(4,"Horarios de M\xfasica"),w(),ce(5,Ofe,3,0,"button",4),ce(6,kfe,3,0,"button",5),w(),ce(7,Ufe,3,2,"div",6),w()),2&r&&(O(5),W("ngIf",!i.isHidden),O(1),W("ngIf",i.isHidden),O(1),W("ngIf",!i.isHidden))},dependencies:[yo,fs,xi],styles:[".schedule-card[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border:1px solid rgba(255,255,255,.1);border-radius:16px;overflow:hidden;margin-bottom:2rem;box-shadow:0 8px 32px #0003}.schedule-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(29,185,84,.15) 0%,rgba(141,103,171,.15) 100%);border-bottom:1px solid rgba(255,255,255,.1);padding:1.2rem 1.5rem}.schedule-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;font-weight:700;color:var(--text-primary);display:flex;align-items:center;font-size:1.2rem}.schedule-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color);margin-right:.8rem;font-size:1.1rem}.schedule-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1.5rem}.schedule-table-container[_ngcontent-%COMP%]{overflow-x:auto;border-radius:12px}.schedule-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;color:var(--text-primary)}.schedule-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:rgba(29,185,84,.1);padding:.9rem 1rem;text-align:left;font-weight:600;font-size:.85rem;text-transform:uppercase;letter-spacing:.5px;color:var(--text-secondary);border-bottom:2px solid rgba(255,255,255,.1)}.schedule-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{border-top-left-radius:8px}.schedule-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{border-top-right-radius:8px}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:all .3s ease;border-bottom:1px solid rgba(255,255,255,.05)}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.03)}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{border-bottom:none}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:8px}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:8px}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;font-size:.95rem}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{font-weight:600;color:var(--text-primary)}.time-slot[_ngcontent-%COMP%]{display:inline-block;padding:.4rem .8rem;border-radius:6px;background:rgba(42,42,42,.4);font-size:.9rem}.time-slot.empty[_ngcontent-%COMP%]{color:var(--text-tertiary);font-style:italic}.status-badge[_ngcontent-%COMP%]{padding:.5rem .9rem;border-radius:50px;font-size:.8rem;font-weight:600;display:inline-flex;align-items:center;justify-content:center;min-width:80px}.status-badge.active[_ngcontent-%COMP%]{background:rgba(29,185,84,.2);color:var(--primary-color);border:1px solid rgba(29,185,84,.3)}.status-badge.inactive[_ngcontent-%COMP%]{background:rgba(255,255,255,.1);color:var(--text-secondary);border:1px solid rgba(255,255,255,.1)}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem}.loading-container[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:3px solid rgba(29,185,84,.2);border-radius:50%;border-top-color:var(--primary-color);animation:_ngcontent-%COMP%_spin 1s ease-in-out infinite;margin-bottom:1rem}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary);margin:0}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@media (max-width: 768px){.schedule-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:1rem}.schedule-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.1rem}.schedule-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1rem}.schedule-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{display:none}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:block;margin-bottom:1rem;padding:1rem;border-radius:12px;background:rgba(42,42,42,.3);border:1px solid rgba(255,255,255,.1)}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-child{margin-bottom:0}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{display:block;padding:.6rem 0;text-align:left;border:none;font-size:.9rem}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:before{content:attr(data-label);font-weight:700;display:block;margin-bottom:.3rem;color:var(--text-secondary);font-size:.8rem;text-transform:uppercase}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{padding-top:0;font-size:1rem;margin-bottom:.5rem;padding-bottom:.5rem;border-bottom:1px solid rgba(255,255,255,.1)}.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child:before{display:none}.time-slot[_ngcontent-%COMP%]{padding:.3rem .6rem;font-size:.85rem}.status-badge[_ngcontent-%COMP%]{padding:.4rem .7rem;font-size:.75rem;min-width:70px}}@media (max-width: 480px){.schedule-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{padding:.8rem}}.btn-close[_ngcontent-%COMP%]{background:none;border:none;color:var(--text-secondary);cursor:pointer;padding:.25rem;border-radius:50%;transition:all .2s ease;width:28px;height:28px;display:flex;align-items:center;justify-content:center}.btn-close[_ngcontent-%COMP%]:hover{color:var(--text-primary);background:rgba(255,255,255,.1);transform:rotate(90deg)}.btn-close[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}"]})}return n})(),O$=(()=>{class n{http;authService;apiUrl=ta_apiUrl;automaticCheckInterval=null;constructor(t,r){this.http=t,this.authService=r,this.startAutomaticPlayingSongCheck(3e4)}getCacheBustedUrl(t){return`${t}?_=${(new Date).getTime()}`}startAutomaticPlayingSongCheck(t=3e4){this.stopAutomaticPlayingSongCheck(),this.automaticCheckInterval=setInterval(()=>{this.checkAndRemovePlayingSongFromRanking().subscribe({next:r=>{r.deleted&&alert(`Canci\xf3n eliminada autom\xe1ticamente del ranking: ${r.song.name}`)},error:r=>{console.error("Error en verificaci\xf3n autom\xe1tica:",r)}})},t)}stopAutomaticPlayingSongCheck(){this.automaticCheckInterval&&(clearInterval(this.automaticCheckInterval),this.automaticCheckInterval=null)}getAdminCurrentlyPlaying(){const t=this.getCacheBustedUrl(`${this.apiUrl}/api/spotify/admin/currently-playing`);return this.http.get(t).pipe(ki(r=>401===r.status?this.refreshAdminToken().pipe(wn(()=>{const i=this.getCacheBustedUrl(`${this.apiUrl}/api/spotify/admin/currently-playing`);return this.http.get(i)}),ki(i=>(console.error("Error al refrescar token:",i),ms(()=>i)))):ms(()=>r)))}refreshAdminToken(){const t=this.authService.getAuthHeaders();return this.http.post(`${this.apiUrl}/api/spotify/admin/refresh-token`,{},{headers:t})}getAdminCurrentlyPlayingPolling(){return GD(3e4).pipe(Pp(0),wn(()=>this.getAdminCurrentlyPlaying()))}getAdminSpotifyStatus(){const t=this.getCacheBustedUrl(`${this.apiUrl}/api/spotify/admin/status`);return this.http.get(t)}startAdminSpotifyAuth(){const t=this.getCacheBustedUrl(`${this.apiUrl}/api/spotify/admin/auth`);return this.http.get(t)}disconnectAdminSpotify(){const t=this.authService.getAuthHeaders();return this.http.post(`${this.apiUrl}/api/spotify/admin/disconnect`,{},{headers:t})}startSpotifyAuth(){const t=this.getCacheBustedUrl(`${this.apiUrl}/api/spotify/auth`);return this.http.get(t)}getCurrentlyPlaying(){const t=this.getCacheBustedUrl(`${this.apiUrl}/api/spotify/currently-playing`);return this.http.get(t)}getCurrentlyPlayingPolling(){return GD(3e3).pipe(Pp(0),wn(()=>this.getCurrentlyPlaying()))}addToQueue(t){const r=this.authService.getAuthHeaders();return this.http.post(`${this.apiUrl}/api/spotify/admin/queue`,{uri:t},{headers:r})}checkAndRemovePlayingSongFromRanking(){const t=this.authService.getAuthHeaders();return this.http.post(`${this.apiUrl}/api/spotify/admin/check-playing-song`,{},{headers:t})}getQueue(){const t=this.authService.getAuthHeaders();return this.http.get(`${this.apiUrl}/api/spotify/admin/queue`,{headers:t})}static \u0275fac=function(r){return new(r||n)(ne(ps),ne(_u))};static \u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jfe(n,e){if(1&n){const t=Nt();C(0,"div",4)(1,"div",5),q(2,"img",6),w(),C(3,"div",7)(4,"div",8)(5,"h3",9),R(6),w(),C(7,"p",10),R(8),w()(),C(9,"div",11)(10,"span",12),R(11),w(),C(12,"div",13),q(13,"div",14),w(),C(14,"span",12),R(15),w()()(),C(16,"div",15)(17,"button",16),ae("click",function(){return Ne(t),Fe(le().forceUpdate())}),q(18,"i",17),w()()()}if(2&n){const t=le();O(2),Gf("alt","Car\xe1tula de ",t.adminCurrentlyPlaying.name,""),W("src",t.adminCurrentlyPlaying.image,xr),O(4),Te(t.adminCurrentlyPlaying.name),O(2),Te(t.adminCurrentlyPlaying.artists),O(3),Te(t.formatTime(t.progress*t.songDurationMs/100)),O(2),Wf("width",t.progress,"%"),O(2),Te(t.formatTime(t.songDurationMs)),O(2),W("disabled",t.isUpdating),O(1),Dt("fa-spin",t.isUpdating)}}function $fe(n,e){1&n&&(C(0,"div",18)(1,"div",19),q(2,"i",20),C(3,"p",21),R(4,"No hay m\xfasica sonando."),w()()())}let k$=(()=>{class n{spotifyService;votingService;adminCurrentlyPlaying=null;progress=0;songDurationMs=0;isUpdating=!1;pollingSubscription=null;progressInterval=null;songInitialProgressMs=0;lastSyncTime=0;constructor(t,r){this.spotifyService=t,this.votingService=r}ngOnInit(){this.startAdminSpotifyPolling()}ngOnDestroy(){this.pollingSubscription&&this.pollingSubscription.unsubscribe(),this.stopProgressBar()}startAdminSpotifyPolling(){this.pollingSubscription=this.spotifyService.getAdminCurrentlyPlayingPolling().subscribe({next:t=>{t&&t.is_playing?this.adminCurrentlyPlaying&&this.adminCurrentlyPlaying.id===t.id?this.syncProgressBar(t.progress_ms,t.duration_ms):(this.adminCurrentlyPlaying=t,this.startProgressBar(t.progress_ms,t.duration_ms)):(this.adminCurrentlyPlaying=null,this.stopProgressBar())},error:t=>{console.error("Error al obtener reproducci\xf3n actual del admin:",t),this.adminCurrentlyPlaying=null,this.stopProgressBar()}})}forceUpdate(){this.isUpdating||(this.isUpdating=!0,this.spotifyService.getAdminCurrentlyPlaying().subscribe({next:t=>{t&&t.is_playing?this.adminCurrentlyPlaying&&this.adminCurrentlyPlaying.id===t.id?this.syncProgressBar(t.progress_ms,t.duration_ms):(this.adminCurrentlyPlaying=t,this.startProgressBar(t.progress_ms,t.duration_ms)):(this.adminCurrentlyPlaying=null,this.stopProgressBar()),this.isUpdating=!1},error:t=>{console.error("Error al forzar la actualizaci\xf3n:",t),this.adminCurrentlyPlaying=null,this.stopProgressBar(),this.isUpdating=!1}}))}startProgressBar(t,r){this.stopProgressBar(),this.syncProgressBar(t,r),this.progressInterval=setInterval(()=>{this.updateProgress()},500),this.checkAndRemovePlayingSong()}syncProgressBar(t,r){this.songInitialProgressMs=t,this.songDurationMs=r,this.lastSyncTime=Date.now(),this.updateProgress()}updateProgress(){if(!this.adminCurrentlyPlaying||this.songDurationMs<=0)return void(this.progress=0);const t=Date.now()-this.lastSyncTime;this.progress=Math.min((this.songInitialProgressMs+t)/this.songDurationMs*100,100),this.progress>=100&&this.stopProgressBar()}stopProgressBar(){this.progressInterval&&(clearInterval(this.progressInterval),this.progressInterval=null)}onVoteCasted(){const t=document.querySelector("app-voting-list");t&&t.forceRefresh&&t.forceRefresh()}checkAndRemovePlayingSong(){this.adminCurrentlyPlaying&&this.adminCurrentlyPlaying.id&&setTimeout(()=>{this.spotifyService.checkAndRemovePlayingSongFromRanking().subscribe({next:t=>{t.deleted&&(console.log("Canci\xf3n eliminada del ranking:",t.song.name),this.votingService.forceRefresh().subscribe())},error:t=>{console.error("Error al verificar canci\xf3n en reproducci\xf3n:",t)}})},3e3)}formatTime(t){if(!t)return"0:00";const r=Math.floor(t/1e3),o=r%60;return`${Math.floor(r/60)}:${o<10?"0":""}${o}`}static \u0275fac=function(r){return new(r||n)(B(O$),B(sh))};static \u0275cmp=Pr({type:n,selectors:[["app-home"]],standalone:!0,features:[Nr],decls:8,vars:2,consts:[[1,"home-container"],["class","now-playing-section compact-card fade-in",4,"ngIf","ngIfElse"],["noSongPlaying",""],[3,"voteCasted"],[1,"now-playing-section","compact-card","fade-in"],[1,"album-art-container"],[1,"album-art",3,"src","alt"],[1,"song-info-container"],[1,"song-details"],[1,"song-title"],[1,"song-artist"],[1,"progress-container"],[1,"time-display"],[1,"progress"],[1,"progress-bar"],[1,"update-button-container"],["title","Actualizar",1,"btn","btn-icon",3,"disabled","click"],[1,"fas","fa-sync-alt"],[1,"no-song-playing","compact-card","fade-in"],[1,"card-body"],[1,"fas","fa-music-slash","text-muted"],[1,"text-muted"]],template:function(r,i){if(1&r&&(C(0,"div",0),q(1,"app-announcement")(2,"app-schedule"),ce(3,jfe,19,11,"div",1),ce(4,$fe,5,0,"ng-template",null,2,jO),C(6,"app-search",3),ae("voteCasted",function(){return i.onVoteCasted()}),w(),q(7,"app-voting-list"),w()),2&r){const o=function UR(n){return function _a(n,e){return n[e]}(function tz(){return fe.lFrame.contextLView}(),we+n)}(5);O(3),W("ngIf",i.adminCurrentlyPlaying)("ngIfElse",o)}},dependencies:[yo,xi,vfe,Sfe,xfe,Bfe],styles:['@charset "UTF-8";.home-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.compact-card[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:var(--card-bg);border:1px solid var(--hover-bg);border-radius:12px;overflow:hidden;padding:1rem;gap:1rem;transition:border-color .3s ease}.compact-card[_ngcontent-%COMP%]:hover{border-color:var(--primary-color)}.album-art-container[_ngcontent-%COMP%]{flex-shrink:0}.album-art[_ngcontent-%COMP%]{width:80px;height:80px;border-radius:8px;box-shadow:0 4px 15px #00000080}.song-info-container[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;justify-content:center;gap:.5rem;min-width:0}.song-details[_ngcontent-%COMP%]   .song-title[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:var(--text-primary);margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.song-details[_ngcontent-%COMP%]   .song-artist[_ngcontent-%COMP%]{font-size:.9rem;color:var(--text-secondary);margin:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.update-button-container[_ngcontent-%COMP%]{flex-shrink:0;margin-left:auto}.btn-icon[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--text-secondary);font-size:1.2rem;cursor:pointer;padding:.5rem;border-radius:50%}.btn-icon[_ngcontent-%COMP%]:hover{color:var(--text-primary);background-color:var(--hover-bg)}.btn-icon[_ngcontent-%COMP%]:disabled{color:var(--text-tertiary);cursor:not-allowed}.progress-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;width:100%}.progress-container[_ngcontent-%COMP%]   .time-display[_ngcontent-%COMP%]{font-size:.8rem;color:var(--text-secondary);min-width:40px;text-align:center}.progress-container[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{flex-grow:1;height:6px;background-color:#444;border-radius:3px;overflow:hidden}.progress-container[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background-color:var(--primary-color);height:100%;transition:width .25s linear}.no-song-playing[_ngcontent-%COMP%]{justify-content:center}.no-song-playing[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.no-song-playing[_ngcontent-%COMP%]   .fa-music-slash[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--text-tertiary)}.no-song-playing[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-secondary);font-weight:500}@media (max-width: 768px){.compact-card[_ngcontent-%COMP%]{padding:.75rem;gap:.75rem}.album-art[_ngcontent-%COMP%]{width:60px;height:60px}.song-details[_ngcontent-%COMP%]   .song-title[_ngcontent-%COMP%]{font-size:1rem}.song-details[_ngcontent-%COMP%]   .song-artist[_ngcontent-%COMP%]{font-size:.8rem}.progress-container[_ngcontent-%COMP%]{max-width:100%}}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out;box-shadow:0 4px 15px #035f0b93}.fade-in[_ngcontent-%COMP%]:hover{box-shadow:0 8px 20px #00000080}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}']})}return n})();const Hfe=function(n,e,t,r,i,o){return{width:n,height:e,left:t,top:r,"animation-duration":i,"animation-delay":o}};function zfe(n,e){if(1&n&&q(0,"div",8),2&n){const t=e.$implicit;W("ngStyle",yO(1,Hfe,t.width,t.height,t.left,t.top,t.animationDuration,t.animationDelay))}}function Gfe(n,e){if(1&n&&(C(0,"div",19),R(1),w()),2&n){const t=le(2);O(1),Ke(" ",t.errorMessage," ")}}function qfe(n,e){1&n&&q(0,"i",20)}function Wfe(n,e){if(1&n){const t=Nt();C(0,"form",9),ae("ngSubmit",function(){return Ne(t),Fe(le().login())}),C(1,"div",10)(2,"input",11),ae("ngModelChange",function(i){return Ne(t),Fe(le().email=i)}),w(),C(3,"label",12),R(4,"Email"),w()(),C(5,"div",10)(6,"input",13),ae("ngModelChange",function(i){return Ne(t),Fe(le().password=i)}),w(),C(7,"label",14),R(8,"Contrase\xf1a"),w()(),ce(9,Gfe,2,1,"div",15),C(10,"button",16)(11,"span",17),R(12),w(),ce(13,qfe,1,0,"i",18),w()()}if(2&n){const t=le();O(2),W("ngModel",t.email),O(4),W("ngModel",t.password),O(3),W("ngIf",t.errorMessage),O(1),W("disabled",t.isLoading),O(2),Te(t.isLoading?"Verificando...":"Ingresar"),O(1),W("ngIf",t.isLoading)}}function Kfe(n,e){1&n&&(C(0,"div",21)(1,"p"),R(2,"Sesi\xf3n iniciada. Redirigiendo al panel de administrador..."),w(),C(3,"a",22),R(4,"Ir al Panel"),w()())}let Qfe=(()=>{class n{authService;router;email="";password="";errorMessage="";isLoading=!1;particles=[];constructor(t,r){this.authService=t,this.router=r}ngOnInit(){document.body.classList.add("login-page-active"),this.createParticles()}ngOnDestroy(){document.body.classList.remove("login-page-active")}createParticles(){for(let r=0;r<15;r++)this.particles.push(this.generateParticle())}generateParticle(){const t=20*Math.random()+20,r=90*Math.random()+15,i=7*Math.random();return{width:`${t}px`,height:`${t}px`,left:100*Math.random()+"%",animationDuration:`${r}s`,animationDelay:`${i}s`}}login(){this.email&&this.password?(this.isLoading=!0,this.errorMessage="",this.authService.login(this.email,this.password).subscribe({next:()=>{this.isLoading=!1,setTimeout(()=>{this.router.navigate(["/admin-panel"])},1500)},error:t=>{this.isLoading=!1,this.errorMessage=this.getFirebaseErrorMessage(t)}})):this.errorMessage="Por favor, completa ambos campos."}getFirebaseErrorMessage(t){switch(t.code){case"auth/invalid-email":return"El formato del correo electr\xf3nico no es v\xe1lido.";case"auth/user-disabled":return"Este usuario ha sido deshabilitado.";case"auth/user-not-found":case"auth/wrong-password":case"auth/invalid-credential":return"Correo electr\xf3nico o contrase\xf1a incorrectos.";case"auth/too-many-requests":return"Acceso bloqueado por demasiados intentos. Intenta de nuevo m\xe1s tarde.";default:return console.error("Error de login no manejado:",t),"Error al iniciar sesi\xf3n. Verifica tus credenciales e intenta de nuevo."}}static \u0275fac=function(r){return new(r||n)(B(_u),B(kn))};static \u0275cmp=Pr({type:n,selectors:[["app-admin-login"]],standalone:!0,features:[Nr],decls:9,vars:3,consts:[[1,"admin-login-wrapper"],[1,"particles"],["class","particle",3,"ngStyle",4,"ngFor","ngForOf"],[1,"login-container"],[1,"glassmorphism-form"],[1,"form-title"],[3,"ngSubmit",4,"ngIf"],["class","logged-in-message",4,"ngIf"],[1,"particle",3,"ngStyle"],[3,"ngSubmit"],[1,"input-group"],["type","email","id","email","name","email","required","","placeholder"," ",1,"form-input",3,"ngModel","ngModelChange"],["for","email",1,"form-label"],["type","password","id","password","name","password","required","","placeholder"," ",1,"form-input",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["class","error-message",4,"ngIf"],["type","submit",1,"login-button",3,"disabled"],[1,"button-text"],["class","fas fa-spinner fa-spin",4,"ngIf"],[1,"error-message"],[1,"fas","fa-spinner","fa-spin"],[1,"logged-in-message"],["routerLink","/admin-panel",1,"admin-link"]],template:function(r,i){1&r&&(C(0,"div",0)(1,"div",1),ce(2,zfe,1,8,"div",2),w(),C(3,"div",3)(4,"div",4)(5,"h2",5),R(6,"Acceso Administrador"),w(),ce(7,Wfe,14,6,"form",6),ce(8,Kfe,5,0,"div",7),w()()()),2&r&&(O(2),W("ngForOf",i.particles),O(5),W("ngIf",!i.authService.isLoggedIn()),O(1),W("ngIf",i.authService.isLoggedIn()))},dependencies:[yo,fs,xi,iN,Hm,d$,Zs,th,X4,$m,mu,jm,hE,ql],styles:['@charset "UTF-8";[_nghost-%COMP%]{--login-bg: #0a0a0a;--glass-bg: rgba(18, 18, 18, .85);--primary-color: #1DB954;--text-primary: #FFFFFF;--text-secondary: #B3B3B3;--hover-bg: rgba(255, 255, 255, .05)}.admin-login-wrapper[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:var(--login-bg);position:relative;overflow:hidden;padding:2rem}.admin-login-wrapper[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at 10% 20%,rgba(29,185,84,.15) 0%,transparent 25%),radial-gradient(circle at 90% 80%,rgba(141,103,171,.15) 0%,transparent 25%),radial-gradient(circle at 50% 50%,rgba(29,185,84,.1) 0%,transparent 40%);z-index:0;pointer-events:none}.particles[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;pointer-events:none}.particle[_ngcontent-%COMP%]{position:absolute;background:rgba(29,185,84,.3);border-radius:50%;animation:_ngcontent-%COMP%_float 6s infinite ease-in-out}.particle[_ngcontent-%COMP%]:nth-child(odd){background:rgba(141,103,171,.3);animation-duration:8s;animation-delay:1s}.particle[_ngcontent-%COMP%]:nth-child(3n){background:rgba(45,70,185,.2);animation-duration:10s;animation-delay:2s}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0) translate(0);opacity:.7}25%{transform:translateY(-20px) translate(10px);opacity:.4}50%{transform:translateY(-35px) translate(-15px);opacity:.6}75%{transform:translateY(-15px) translate(-20px);opacity:.5}}.login-container[_ngcontent-%COMP%]{position:relative;z-index:2;width:100%;max-width:450px}.glassmorphism-form[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,.1);border-radius:20px;padding:2.5rem;box-shadow:0 15px 35px #00000080,0 0 0 1px #ffffff0d;transition:all .4s ease}.glassmorphism-form[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 20px 45px #1db95433,0 0 0 1px #1db9541a}.form-title[_ngcontent-%COMP%]{color:var(--text-primary);text-align:center;margin-bottom:2rem;font-weight:800;font-size:1.8rem;letter-spacing:-.5px;position:relative}.form-title[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-10px;left:50%;transform:translate(-50%);width:50px;height:3px;background:var(--primary-color);border-radius:2px}.input-group[_ngcontent-%COMP%]{position:relative;margin-bottom:1.8rem}.form-input[_ngcontent-%COMP%]{width:100%;background:rgba(42,42,42,.7);border:1px solid rgba(62,62,62,.5);color:var(--text-primary);border-radius:12px;padding:1rem 1.2rem;font-size:1rem;transition:all .3s ease}.form-input[_ngcontent-%COMP%]:focus{outline:none;background:rgba(42,42,42,.9);border-color:var(--primary-color);box-shadow:0 0 0 3px #1db95433}.form-input[_ngcontent-%COMP%]:focus + .form-label[_ngcontent-%COMP%], .form-input[_ngcontent-%COMP%]:not(:placeholder-shown) + .form-label[_ngcontent-%COMP%]{top:-12px;left:10px;font-size:.8rem;background:var(--glass-bg);padding:0 8px;color:var(--primary-color)}.form-label[_ngcontent-%COMP%]{position:absolute;top:1rem;left:1.2rem;color:var(--text-secondary);font-size:1rem;pointer-events:none;transition:all .3s ease}.error-message[_ngcontent-%COMP%]{background:rgba(226,33,52,.15);color:#e22134;border:1px solid rgba(226,33,52,.2);border-radius:8px;padding:.8rem;margin-bottom:1.5rem;font-size:.9rem;text-align:center}.login-button[_ngcontent-%COMP%]{width:100%;background:linear-gradient(135deg,var(--primary-color) 0%,#1aa34a 100%);color:var(--text-primary);border:none;border-radius:50px;padding:1rem;font-size:1.1rem;font-weight:700;cursor:pointer;transition:all .3s ease;position:relative;overflow:hidden;box-shadow:0 5px 15px #1db9544d}.login-button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:all .5s ease}.login-button[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 8px 20px #1db95466}.login-button[_ngcontent-%COMP%]:hover:before{left:100%}.login-button[_ngcontent-%COMP%]:disabled{opacity:.7;transform:none;box-shadow:none;cursor:not-allowed}.button-text[_ngcontent-%COMP%]{position:relative;z-index:1}.logged-in-message[_ngcontent-%COMP%]{text-align:center;color:var(--text-primary)}.logged-in-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1.5rem;font-size:1.1rem}.admin-link[_ngcontent-%COMP%]{display:inline-block;background:var(--primary-color);color:var(--text-primary);text-decoration:none;padding:.8rem 1.8rem;border-radius:50px;font-weight:700;transition:all .3s ease;box-shadow:0 4px 15px #1db9544d}.admin-link[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #1db95466}@media (max-width: 576px){.admin-login-wrapper[_ngcontent-%COMP%]{padding:1rem}.glassmorphism-form[_ngcontent-%COMP%]{padding:2rem 1.5rem}.form-title[_ngcontent-%COMP%]{font-size:1.5rem}}']})}return n})(),N$=(()=>{class n{http;apiUrl=ta_apiUrl;constructor(t){this.http=t}getSongHistory(t="times_played",r="desc"){let i=(new Oi).set("sort_by",t).set("order",r);return this.http.get(`${this.apiUrl}/api/ranking/history`,{params:i})}voteFromHistory(t){return this.http.post(`${this.apiUrl}/api/ranking/vote-from-history`,{track_id:t})}getRankingStats(){return this.http.get(`${this.apiUrl}/api/ranking/stats`)}forceRankCurrentSong(){return this.http.post(`${this.apiUrl}/api/ranking/force-rank-current`,{})}static \u0275fac=function(r){return new(r||n)(ne(ps))};static \u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const F$=function(){return["Lunes","Martes","Mi\xe9rcoles","Jueves","Viernes"]};function Yfe(n,e){if(1&n&&(C(0,"tr")(1,"td")(2,"strong"),R(3),w()(),C(4,"td"),R(5),w(),C(6,"td"),R(7),w(),C(8,"td")(9,"span",27),R(10),w()()()),2&n){const t=e.$implicit,r=e.index,i=le(3);O(3),Te(yl(10,F$)[r]),O(2),as("",i.convertToAmPm(t.lunch_start)||"-"," - ",i.convertToAmPm(t.lunch_end)||"-",""),O(2),as("",i.convertToAmPm(t.dinner_start)||"-"," - ",i.convertToAmPm(t.dinner_end)||"-"," "),O(2),Dt("bg-success",t.is_active)("bg-secondary",!t.is_active),O(1),Ke(" ",t.is_active?"Activo":"Inactivo"," ")}}function Jfe(n,e){if(1&n&&(C(0,"div")(1,"div",24)(2,"table",25)(3,"thead")(4,"tr")(5,"th"),R(6,"D\xeda"),w(),C(7,"th"),R(8,"Almuerzo"),w(),C(9,"th"),R(10,"Cena"),w(),C(11,"th"),R(12,"Estado"),w()()(),C(13,"tbody"),ce(14,Yfe,11,11,"tr",26),w()()()()),2&n){const t=le(2);O(14),W("ngForOf",t.schedules)}}function Xfe(n,e){if(1&n){const t=Nt();C(0,"tr")(1,"td")(2,"strong"),R(3),w()(),C(4,"td")(5,"div",30)(6,"div",31)(7,"input",32),ae("ngModelChange",function(i){return Fe(Ne(t).$implicit.lunch_start=i)}),w()(),C(8,"div",31)(9,"input",32),ae("ngModelChange",function(i){return Fe(Ne(t).$implicit.lunch_end=i)}),w()()()(),C(10,"td")(11,"div",30)(12,"div",31)(13,"input",32),ae("ngModelChange",function(i){return Fe(Ne(t).$implicit.dinner_start=i)}),w()(),C(14,"div",31)(15,"input",32),ae("ngModelChange",function(i){return Fe(Ne(t).$implicit.dinner_end=i)}),w()()()(),C(16,"td")(17,"div",33)(18,"input",34),ae("ngModelChange",function(i){return Fe(Ne(t).$implicit.is_active=i)}),w()()()()}if(2&n){const t=e.$implicit;O(3),Te(yl(6,F$)[t.day_of_week]),O(4),W("ngModel",t.lunch_start),O(2),W("ngModel",t.lunch_end),O(4),W("ngModel",t.dinner_start),O(2),W("ngModel",t.dinner_end),O(3),W("ngModel",t.is_active)}}function Zfe(n,e){if(1&n){const t=Nt();C(0,"div")(1,"div",24)(2,"table",25)(3,"thead")(4,"tr")(5,"th"),R(6,"D\xeda"),w(),C(7,"th"),R(8,"Almuerzo (Inicio - Fin)"),w(),C(9,"th"),R(10,"Cena (Inicio - Fin)"),w(),C(11,"th"),R(12,"Activo"),w()()(),C(13,"tbody"),ce(14,Xfe,19,7,"tr",26),w()()(),C(15,"button",28),ae("click",function(){return Ne(t),Fe(le(2).saveSchedules())}),q(16,"i",29),R(17,"Guardar Horarios "),w()()}if(2&n){const t=le(2);O(14),W("ngForOf",t.schedules)}}function epe(n,e){if(1&n&&(C(0,"div",15),ce(1,Jfe,15,1,"div",16),ce(2,Zfe,18,1,"div",16),w()),2&n){const t=le();O(1),W("ngIf",!t.isEditingSchedules),O(1),W("ngIf",t.isEditingSchedules)}}function tpe(n,e){1&n&&(C(0,"div",35),q(1,"i",36),C(2,"p",37),R(3,"Cargando cola de reproducci\xf3n..."),w()())}function npe(n,e){1&n&&(C(0,"div",38),R(1," No hay canciones en la cola de reproducci\xf3n. "),w())}function rpe(n,e){if(1&n&&(C(0,"div",39)(1,"div",15)(2,"div",40)(3,"div",41)(4,"span",42),R(5),w()(),C(6,"div",43),q(7,"img",44),w(),C(8,"div",45)(9,"h6",46),R(10),w()()()()()),2&n){const t=e.$implicit,r=e.index;O(5),Te(r+1),O(2),W("src",(null==t.album||null==t.album.images[0]?null:t.album.images[0].url)||"https://placehold.co/60x60?text=No+Image",xr)("alt",t.name),O(3),Te(t.name)}}function ipe(n,e){if(1&n&&(C(0,"div",15),ce(1,tpe,4,0,"div",21),ce(2,npe,2,0,"div",22),ce(3,rpe,11,4,"div",23),w()),2&n){const t=le();O(1),W("ngIf",t.isLoadingQueue),O(1),W("ngIf",!t.isLoadingQueue&&0===t.queue.length),O(1),W("ngForOf",t.queue)}}function ope(n,e){if(1&n){const t=Nt();C(0,"div",49),q(1,"i",50),R(2," Spotify conectado correctamente "),C(3,"button",51),ae("click",function(){return Ne(t),Fe(le(2).disconnectSpotify())}),R(4," Desconectar "),w()()}}function spe(n,e){if(1&n){const t=Nt();C(0,"div",52),q(1,"i",50),R(2," Spotify no conectado "),C(3,"button",53),ae("click",function(){return Ne(t),Fe(le(2).connectSpotify())}),R(4," Conectar Spotify "),w()()}}function ape(n,e){if(1&n&&(C(0,"div"),ce(1,ope,5,0,"div",47),ce(2,spe,5,0,"div",48),w()),2&n){const t=le();O(1),W("ngIf",t.spotifyStatus.authenticated&&t.spotifyStatus.token_valid),O(1),W("ngIf",!t.spotifyStatus.authenticated||!t.spotifyStatus.token_valid)}}function cpe(n,e){if(1&n){const t=Nt();C(0,"div",54)(1,"h6"),R(2,"Reproduciendo ahora (visible para todos):"),w(),C(3,"div",55),q(4,"img",56),C(5,"div")(6,"strong"),R(7),w(),q(8,"br"),C(9,"small",57),R(10),w()()(),C(11,"button",58),ae("click",function(){return Ne(t),Fe(le().checkPlayingSong())}),q(12,"i",59),R(13,"Eliminar del ranking si existe "),w()()}if(2&n){const t=le();O(4),W("src",t.adminCurrentlyPlaying.image,xr)("alt",t.adminCurrentlyPlaying.name),O(3),Te(t.adminCurrentlyPlaying.name),O(3),Te(t.adminCurrentlyPlaying.artists.join(", "))}}function upe(n,e){1&n&&(C(0,"div",54)(1,"div",38),q(2,"i",60),R(3," No se est\xe1 reproduciendo nada en Spotify "),w()())}function lpe(n,e){1&n&&(C(0,"div",35),q(1,"i",36),C(2,"p",37),R(3,"Cargando canciones..."),w()())}function dpe(n,e){1&n&&(C(0,"div",38),R(1," No hay canciones votadas todav\xeda. "),w())}function hpe(n,e){if(1&n){const t=Nt();C(0,"div",39)(1,"div",15)(2,"div",40)(3,"div",41)(4,"span",42),R(5),w()(),C(6,"div",43),q(7,"img",44),w(),C(8,"div",61)(9,"h6",46),R(10),w(),C(11,"p",62),R(12),w(),C(13,"div",63)(14,"span",64),q(15,"i",65),R(16),w(),C(17,"span",66),q(18,"i",67),R(19),w()()(),C(20,"div",43)(21,"small",57),R(22),w()(),C(23,"div",68)(24,"button",69),ae("click",function(){const o=Ne(t).$implicit;return Fe(le().addToQueue("spotify:track:"+o.id))}),q(25,"i",70),R(26," Cola "),w(),C(27,"button",71),ae("click",function(){const o=Ne(t).$implicit;return Fe(le().deleteSong(o.id))}),q(28,"i",20),R(29,"Eliminar "),w()()()()()}if(2&n){const t=e.$implicit,r=e.index,i=le();O(5),Te(r+1),O(2),W("src",t.image,xr)("alt",t.name),O(3),Te(t.name),O(2),Te(t.artists.join(", ")),O(4),Ke("",t.votes||0," "),O(3),Ke("",t.dislikes||0," "),O(3),Ke("Agregada: ",i.formatTimeAgo(t.createdat),"")}}let fpe=(()=>{class n{votingService;authService;router;spotifyService;route;scheduleService;rankingService;songs=[];isLoading=!0;spotifyStatus=null;adminCurrentlyPlaying=null;queue=[];showQueue=!1;isLoadingQueue=!1;schedules=[];isEditingSchedules=!1;isHidden=!0;constructor(t,r,i,o,s,a,c){this.votingService=t,this.authService=r,this.router=i,this.spotifyService=o,this.route=s,this.scheduleService=a,this.rankingService=c}checkPlayingSong(){this.spotifyService.checkAndRemovePlayingSongFromRanking().subscribe({next:t=>{t.deleted?(this.showMessage(`Canci\xf3n "${t.song.name}" eliminada del ranking por estar en reproducci\xf3n`),this.loadSongs()):this.showMessage(t.message||"La canci\xf3n en reproducci\xf3n no est\xe1 en el ranking","info")},error:t=>{console.error("Error al verificar canci\xf3n en reproducci\xf3n:",t),this.showMessage("Error al verificar la canci\xf3n en reproducci\xf3n","error")}})}hideAnnouncement(){this.isHidden?(this.isHidden=!1,localStorage.setItem("announcementHidden","false")):(this.isHidden=!0,localStorage.setItem("announcementHidden","true"))}ngOnInit(){this.loadSongs(),this.checkSpotifyStatus(),this.loadSchedules(),this.route.queryParams.subscribe(t=>{"true"===t.spotify_connected&&(this.showMessage("Spotify conectado correctamente"),setTimeout(()=>{this.checkSpotifyStatus(),this.getAdminCurrentlyPlaying()},2e3))})}loadSongs(){this.isLoading=!0,this.votingService.getRankedSongs().subscribe({next:t=>{this.songs=t,this.isLoading=!1},error:t=>{console.error("Error al cargar canciones:",t),this.isLoading=!1,this.showMessage("Error al cargar la lista de canciones.","error")}})}checkSpotifyStatus(){this.spotifyService.getAdminSpotifyStatus().subscribe({next:t=>{this.spotifyStatus=t,t.authenticated&&t.token_valid&&this.getAdminCurrentlyPlaying()},error:t=>{console.error("Error al verificar estado de Spotify:",t)}})}getAdminCurrentlyPlaying(){this.spotifyService.getAdminCurrentlyPlaying().subscribe({next:t=>{this.adminCurrentlyPlaying=t},error:t=>{console.error("Error al obtener reproducci\xf3n actual:",t)}})}connectSpotify(){this.spotifyService.startAdminSpotifyAuth().subscribe({next:t=>{window.location.href=t.authUrl},error:t=>{console.error("Error al iniciar autenticaci\xf3n de Spotify:",t),this.showMessage("Error al conectar con Spotify. Verifica la configuraci\xf3n.","error")}})}disconnectSpotify(){confirm("\xbfEst\xe1s seguro de que quieres desconectar Spotify?")&&this.spotifyService.disconnectAdminSpotify().subscribe({next:()=>{this.showMessage("Spotify desconectado correctamente"),this.spotifyStatus={authenticated:!1},this.adminCurrentlyPlaying=null},error:t=>{console.error("Error al desconectar Spotify:",t),this.showMessage("Error al desconectar Spotify","error")}})}deleteSong(t){confirm("\xbfEst\xe1s seguro de que quieres eliminar esta canci\xf3n?")&&this.votingService.deleteSong(t).subscribe({next:()=>{this.showMessage("Canci\xf3n eliminada correctamente."),this.loadSongs()},error:r=>{console.error("Error al eliminar canci\xf3n:",r),401===r.status?(this.showMessage("Error de autenticaci\xf3n. Vuelve a iniciar sesi\xf3n.","error"),this.authService.logout(),this.router.navigate(["/admin-login"])):this.showMessage("Error al eliminar la canci\xf3n.","error")}})}deleteAllVotes(){confirm("\xbfEst\xe1s seguro de que quieres eliminar TODOS los votos? Esta acci\xf3n no se puede deshacer.")&&this.votingService.deleteAllVotes().subscribe({next:()=>{this.showMessage("Todos los votos han sido eliminados correctamente."),this.loadSongs()},error:t=>{console.error("Error al eliminar todos los votos:",t),401===t.status?(this.showMessage("Error de autenticaci\xf3n. Vuelve a iniciar sesi\xf3n.","error"),this.authService.logout(),this.router.navigate(["/admin-login"])):this.showMessage("Error al eliminar todos los votos.","error")}})}addToQueue(t){this.spotifyService.addToQueue(t).subscribe({next:()=>{this.showMessage("Canci\xf3n agregada a la cola correctamente"),this.loadQueue()},error:r=>{console.error("Error al agregar a la cola:",r),this.showMessage("Error al agregar a la cola: "+(r.error?.error||"Error desconocido"),"error")}})}loadQueue(){this.isLoadingQueue=!0,this.spotifyService.getQueue().subscribe({next:t=>{this.queue=t,this.isLoadingQueue=!1},error:t=>{console.error("Error al cargar la cola:",t),this.isLoadingQueue=!1,this.showMessage("Error al cargar la cola de reproducci\xf3n","error")}})}toggleQueue(){this.showQueue=!this.showQueue,this.showQueue&&this.loadQueue()}loadSchedules(){this.scheduleService.getSchedules().subscribe({next:t=>{this.schedules=t},error:t=>{console.error("Error al cargar horarios:",t),this.showMessage("Error al cargar los horarios","error")}})}saveSchedules(){this.scheduleService.updateSchedules(this.schedules).subscribe({next:()=>{this.showMessage("Horarios guardados correctamente"),this.isEditingSchedules=!1},error:t=>{console.error("Error al guardar horarios:",t),this.showMessage("Error al guardar los horarios","error")}})}convertToAmPm(t){if(!t)return"";const[r,i]=t.split(":"),o=parseInt(r,10);return`${o%12||12}:${i} ${o>=12?"PM":"AM"}`}formatTimeAgo(t){if(!t)return"Fecha desconocida";const r=new Date(t),o=(new Date).getTime()-r.getTime(),s=Math.floor(o/6e4),a=Math.floor(s/60),c=Math.floor(a/24);return s<1?"Hace un momento":s<60?`Hace ${s} minuto${1!==s?"s":""}`:a<24?`Hace ${a} hora${1!==a?"s":""}`:c<7?`Hace ${c} d\xeda${1!==c?"s":""}`:r.toLocaleDateString()}showMessage(t,r="success"){alert("success"===r?"\u2705 "+t:"error"===r?"\u274c "+t:"\u2139\ufe0f "+t)}forceRankSong(){this.adminCurrentlyPlaying&&this.adminCurrentlyPlaying.id?confirm("\xbfAgregar la canci\xf3n actual al ranking hist\xf3rico?")&&this.rankingService.forceRankCurrentSong().subscribe({next:t=>{this.showMessage("Canci\xf3n agregada al ranking hist\xf3rico correctamente")},error:t=>{console.error("Error forcing rank:",t),this.showMessage("Error al agregar al ranking: "+(t.error?.error||"Error desconocido"),"error")}}):this.showMessage("No hay ninguna canci\xf3n reproduci\xe9ndose actualmente","error")}logout(){this.authService.logout(),this.router.navigate(["/admin-login"])}static \u0275fac=function(r){return new(r||n)(B(sh),B(_u),B(kn),B(O$),B(vs),B(x$),B(N$))};static \u0275cmp=Pr({type:n,selectors:[["app-admin-panel"]],standalone:!0,features:[Nr],decls:48,vars:22,consts:[[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"btn","btn-outline-danger",3,"click"],[1,"fas","fa-sign-out-alt","me-1"],[1,"card","mb-4",3,"click"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"btn","btn-sm",3,"click"],[1,"fas"],["class","card-body",4,"ngIf"],[1,"card","mb-4"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"card-header"],[1,"update-button-container"],["title","Actualizar",1,"btn","btn-icon",3,"click"],[1,"fas","fa-sync-alt"],[1,"card-body"],[4,"ngIf"],["class","mt-3",4,"ngIf"],[1,"card"],[1,"btn","btn-sm","btn-outline-danger","me-2",3,"click"],[1,"fas","fa-trash","me-1"],["class","text-center py-3",4,"ngIf"],["class","alert alert-info",4,"ngIf"],["class","card mb-2",4,"ngFor","ngForOf"],[1,"table-responsive"],[1,"table","table-sm"],[4,"ngFor","ngForOf"],[1,"badge"],[1,"btn","btn-success","mt-2",3,"click"],[1,"fas","fa-save","me-1"],[1,"row","g-2"],[1,"col"],["type","time",1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],[1,"form-check","form-switch"],["type","checkbox",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"text-center","py-3"],[1,"fas","fa-spinner","fa-spin","fa-2x"],[1,"mt-2"],[1,"alert","alert-info"],[1,"card","mb-2"],[1,"row","align-items-center"],[1,"col-1","text-center"],[1,"badge","bg-primary","rounded-pill"],[1,"col-2"],[1,"img-fluid","rounded",3,"src","alt"],[1,"col-9"],[1,"mb-1"],["class","alert alert-success",4,"ngIf"],["class","alert alert-warning",4,"ngIf"],[1,"alert","alert-success"],[1,"fab","fa-spotify","me-2"],[1,"btn","btn-sm","btn-outline-danger","ms-3",3,"click"],[1,"alert","alert-warning"],[1,"btn","btn-sm","btn-success","ms-3",3,"click"],[1,"mt-3"],[1,"d-flex","align-items-center"],[1,"img-thumbnail","me-3",2,"width","60px","height","60px",3,"src","alt"],[1,"text-muted"],[1,"btn","btn-warning","btn-sm","mt-2",3,"click"],[1,"fas","fa-trash-alt","me-1"],[1,"fas","fa-info-circle","me-2"],[1,"col-5"],[1,"text-muted","mb-1","small"],[1,"d-flex","gap-2"],[1,"badge","bg-success"],[1,"fas","fa-thumbs-up","me-1"],[1,"badge","bg-danger"],[1,"fas","fa-thumbs-down","me-1"],[1,"col-2","text-end"],[1,"btn","btn-success","btn-sm","me-1",3,"click"],[1,"fas","fa-plus"],[1,"btn","btn-danger","btn-sm","me-1",3,"click"]],template:function(r,i){1&r&&(C(0,"div",0)(1,"h2"),R(2,"Panel de Administraci\xf3n"),w(),C(3,"button",1),ae("click",function(){return i.logout()}),q(4,"i",2),R(5,"Cerrar Sesi\xf3n "),w()(),C(6,"div",3),ae("click",function(){return i.hideAnnouncement()}),C(7,"div",4)(8,"h5",5),R(9,"Horarios de M\xfasica"),w(),C(10,"button",6),ae("click",function(){return i.isEditingSchedules=!i.isEditingSchedules}),q(11,"i",7),R(12),w()(),ce(13,epe,3,2,"div",8),w(),C(14,"div",9)(15,"div",4)(16,"h5",5),R(17,"Cola de Reproducci\xf3n"),w(),C(18,"button",10),ae("click",function(){return i.toggleQueue()}),q(19,"i",7),R(20),w()(),ce(21,ipe,4,3,"div",8),w(),C(22,"div",9)(23,"div",11)(24,"h5",5),R(25,"Configuraci\xf3n de Spotify"),w(),C(26,"div",12)(27,"button",13),ae("click",function(){return i.getAdminCurrentlyPlaying()}),q(28,"i",14),w()()(),C(29,"div",15),ce(30,ape,3,2,"div",16),ce(31,cpe,14,4,"div",17),ce(32,upe,4,0,"div",17),w()(),C(33,"div",18)(34,"div",4)(35,"h5",5),R(36,"Canciones m\xe1s votadas"),w(),C(37,"div")(38,"button",19),ae("click",function(){return i.deleteAllVotes()}),q(39,"i",20),R(40,"Eliminar Todos los Votos "),w(),C(41,"button",10),ae("click",function(){return i.loadSongs()}),q(42,"i",14),R(43," Actualizar "),w()()(),C(44,"div",15),ce(45,lpe,4,0,"div",21),ce(46,dpe,2,0,"div",22),ce(47,hpe,30,8,"div",23),w()()),2&r&&(O(10),Dt("btn-outline-primary",!i.isEditingSchedules)("btn-primary",i.isEditingSchedules),O(1),Dt("fa-edit",!i.isEditingSchedules)("fa-times",i.isEditingSchedules),O(1),Ke(" ",i.isEditingSchedules?"Cancelar":"Editar"," "),O(1),W("ngIf",!i.isHidden),O(6),Dt("fa-eye",!i.showQueue)("fa-eye-slash",i.showQueue),O(1),Ke(" ",i.showQueue?"Ocultar":"Mostrar"," Cola "),O(1),W("ngIf",i.showQueue),O(9),W("ngIf",i.spotifyStatus),O(1),W("ngIf",i.adminCurrentlyPlaying&&i.adminCurrentlyPlaying.is_playing),O(1),W("ngIf",i.adminCurrentlyPlaying&&!i.adminCurrentlyPlaying.is_playing),O(13),W("ngIf",i.isLoading),O(1),W("ngIf",!i.isLoading&&0===i.songs.length),O(1),W("ngForOf",i.songs))},dependencies:[yo,fs,xi,Hm,Zs,AD,th,mu],styles:[".admin-panel-container[_ngcontent-%COMP%]{padding:2rem}.admin-panel-container[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{margin-bottom:2rem;padding-bottom:1.5rem;border-bottom:1px solid rgba(255,255,255,.1)}.admin-panel-container[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2rem;font-weight:800;background:linear-gradient(135deg,var(--text-primary) 0%,var(--primary-color) 100%);-webkit-text-fill-color:transparent;-webkit-background-clip:text;background-clip:text;margin:0}.btn-outline-danger[_ngcontent-%COMP%]{background:transparent;color:#e22134;border:2px solid #e22134;border-radius:50px;padding:.7rem 1.5rem;font-weight:700;transition:all .3s ease;display:flex;align-items:center}.btn-outline-danger[_ngcontent-%COMP%]:hover{background:#e22134;color:var(--text-primary);transform:translateY(-2px);box-shadow:0 5px 15px #e221344d}.btn-outline-danger[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem}.card[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border:1px solid rgba(255,255,255,.1);border-radius:16px;overflow:hidden;margin-bottom:2rem;box-shadow:0 10px 30px #0003;transition:all .3s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 15px 40px #1db95426;border-color:#1db95433}.card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,rgba(29,185,84,.15) 0%,rgba(141,103,171,.15) 100%);color:var(--text-primary);padding:1.2rem 1.5rem;border-bottom:1px solid rgba(255,255,255,.1)}.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;font-size:1.3rem;font-weight:700}.card-header[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{margin:0;padding:0;border:none}.card-body[_ngcontent-%COMP%]{padding:1.5rem}.alert[_ngcontent-%COMP%]{border:none;border-radius:12px;padding:1.2rem;display:flex;align-items:center;justify-content:space-between}.alert.alert-success[_ngcontent-%COMP%]{background:rgba(29,185,84,.15);color:var(--primary-color)}.alert.alert-warning[_ngcontent-%COMP%]{background:rgba(221,177,83,.15);color:#ddb153}.alert.alert-info[_ngcontent-%COMP%]{background:rgba(83,143,221,.15);color:#538fdd}.alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.3rem;margin-right:.8rem}.btn-sm[_ngcontent-%COMP%]{border-radius:50px;padding:.5rem 1rem;font-weight:600;transition:all .3s ease}.btn-sm.btn-outline-danger[_ngcontent-%COMP%]{border-width:1px}.btn-sm.btn-outline-danger[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #e221344d}.btn-sm.btn-outline-secondary[_ngcontent-%COMP%]{background:transparent;color:var(--text-secondary);border:1px solid var(--text-secondary)}.btn-sm.btn-outline-secondary[_ngcontent-%COMP%]:hover{background:var(--text-secondary);color:var(--text-primary);transform:translateY(-2px)}.btn-sm.btn-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color) 0%,#1aa34a 100%);border:none}.btn-sm.btn-success[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #1db9544d}.mt-3[_ngcontent-%COMP%]{margin-top:1.5rem!important}.mt-3[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:var(--text-primary);margin-bottom:1rem}.mt-3[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{margin:0;padding:0;border:none}.mt-3[_ngcontent-%COMP%]   .img-thumbnail[_ngcontent-%COMP%]{border-radius:8px;box-shadow:0 4px 15px #0000004d;transition:all .3s ease}.mt-3[_ngcontent-%COMP%]   .img-thumbnail[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.mt-3[_ngcontent-%COMP%]   .alert-info[_ngcontent-%COMP%]{margin-top:1rem}.text-center[_ngcontent-%COMP%]{padding:2rem 1rem}.text-center[_ngcontent-%COMP%]   .fa-spinner[_ngcontent-%COMP%]{color:var(--primary-color);margin-bottom:1rem}.text-center[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--text-secondary)}.row[_ngcontent-%COMP%]{margin:0 -.5rem}.row[_ngcontent-%COMP%]   .col-1[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]   .col-2[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]   .col-7[_ngcontent-%COMP%]{padding:0 .5rem}.badge[_ngcontent-%COMP%]{border-radius:50px;padding:.6rem .9rem;font-weight:700;font-size:.9rem}.badge.bg-primary[_ngcontent-%COMP%], .badge.bg-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color) 0%,#1aa34a 100%)!important;box-shadow:0 4px 12px #1db9544d}.img-fluid[_ngcontent-%COMP%]{border-radius:8px;box-shadow:0 4px 15px #0000004d;transition:all .3s ease}.img-fluid[_ngcontent-%COMP%]:hover{transform:scale(1.05)}h6[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:var(--text-primary)}.text-muted[_ngcontent-%COMP%]{color:var(--text-secondary)!important}.small[_ngcontent-%COMP%]{font-size:.9rem}.btn-danger[_ngcontent-%COMP%]{border:none;border-radius:50px;padding:.5rem 1rem;font-weight:600;transition:all .3s ease;box-shadow:0 4px 12px #e221344d}.btn-danger[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 6px 15px #e2213466}.btn-danger[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.4rem}@media (max-width: 768px){.admin-panel-container[_ngcontent-%COMP%]{padding:1.5rem}.d-flex[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}.d-flex[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.8rem}.card-header[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.row[_ngcontent-%COMP%]{flex-direction:column}.row[_ngcontent-%COMP%]   .col-1[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]   .col-2[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]   .col-7[_ngcontent-%COMP%]{width:100%;max-width:100%;flex:0 0 100%;margin-bottom:1rem;text-align:center}.row[_ngcontent-%COMP%]   .text-end[_ngcontent-%COMP%]{text-align:center!important}.alert[_ngcontent-%COMP%]{flex-direction:column;text-align:center;gap:1rem}.alert[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:.5rem}}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:6px;padding:.4rem .8rem}.btn-group[_ngcontent-%COMP%]   .btn.btn-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color) 0%,#1aa34a 100%);border:none}.btn-group[_ngcontent-%COMP%]   .btn.btn-success[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #1db9544d}.queue-item[_ngcontent-%COMP%]{transition:all .3s ease}.queue-item[_ngcontent-%COMP%]:hover{background:rgba(29,185,84,.05)}@media (max-width: 768px){.admin-panel-container[_ngcontent-%COMP%], .card-body[_ngcontent-%COMP%]{padding:1rem}.row[_ngcontent-%COMP%]{flex-direction:column}.row[_ngcontent-%COMP%]   .col-1[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]   .col-2[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]   .col-7[_ngcontent-%COMP%]{width:100%;max-width:100%;flex:0 0 100%;margin-bottom:.5rem;text-align:center}.row[_ngcontent-%COMP%]   .col-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:80px;height:auto;margin:0 auto;display:block}.row[_ngcontent-%COMP%]   .text-end[_ngcontent-%COMP%]{text-align:center!important}.row[_ngcontent-%COMP%]   .text-end[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.5rem;margin-top:.5rem}.btn-sm[_ngcontent-%COMP%]{padding:.4rem .8rem;font-size:.8rem}.badge[_ngcontent-%COMP%]{font-size:.8rem;padding:.4rem .7rem}}.img-fluid[_ngcontent-%COMP%]{max-width:100%;height:auto}@media (max-width: 768px){.img-fluid[_ngcontent-%COMP%]{max-width:80px}}@media (max-width: 768px){.queue-item[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-1[_ngcontent-%COMP%], .queue-item[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-2[_ngcontent-%COMP%], .queue-item[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-9[_ngcontent-%COMP%]{width:100%;max-width:100%;flex:0 0 100%;text-align:center;margin-bottom:.5rem}.queue-item[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:60px}}"]})}return n})();function ppe(n,e){if(1&n){const t=Nt();C(0,"div",41),R(1),C(2,"button",42),ae("click",function(){return Ne(t),Fe(le().voteMessage="")}),w()()}if(2&n){const t=le();O(1),Ke(" ",t.voteMessage," ")}}function gpe(n,e){if(1&n&&(C(0,"div",43),q(1,"i",44),R(2),w()),2&n){const t=le();O(2),Ke(" ",t.error," ")}}function mpe(n,e){1&n&&(C(0,"div",45),q(1,"div",46),C(2,"p",4),R(3,"Cargando ranking hist\xf3rico..."),w()())}function _pe(n,e){1&n&&q(0,"i",67)}function ype(n,e){1&n&&q(0,"i",68)}const vpe=function(n,e,t){return{"first-place":n,"second-place":e,"third-place":t}};function Ipe(n,e){if(1&n){const t=Nt();C(0,"div",49)(1,"div",23)(2,"div",24)(3,"div",50)(4,"span",51),R(5),w()(),C(6,"div",52)(7,"img",53),ae("click",function(){const o=Ne(t).$implicit;return Fe(le(2).onShowDetails(o))}),w()(),C(8,"div",54)(9,"h6",55),ae("click",function(){const o=Ne(t).$implicit;return Fe(le(2).onShowDetails(o))}),R(10),w(),C(11,"p",56),R(12),w(),C(13,"div",57)(14,"small",4),q(15,"i",58),R(16),q(17,"i",20),R(18),q(19,"i",59),R(20),w()()(),C(21,"div",60)(22,"button",61),ae("click",function(){const o=Ne(t).$implicit;return Fe(le(2).onVote(o))}),ce(23,_pe,1,0,"i",62),ce(24,ype,1,0,"i",63),R(25," Votar "),w(),C(26,"div",64)(27,"div",65),q(28,"div",66),w(),C(29,"small",4),R(30),w()()()()()()}if(2&n){const t=e.$implicit,r=e.index,i=le(2);O(4),W("ngClass",_O(16,vpe,0===r,1===r,2===r)),O(1),Ke(" ",r+1," "),O(2),W("src",t.image||"assets/default-song.png",xr)("alt",t.name),O(3),Ke(" ",t.name," "),O(2),Ke(" ",t.artists.join(", ")," "),O(4),Ke("",t.times_played," veces \u2022 "),O(2),Ke("",t.total_votes," votos \u2022 "),O(2),as("",t.total_dislikes," dislikes \u2022 \xdaltima vez: ",i.formatDate(t.last_played_at)," "),O(2),W("disabled",i.isVoting),O(1),W("ngIf",!i.isVoting),O(1),W("ngIf",i.isVoting),O(4),Wf("width",i.getVotePercentage(t),"%"),O(2),Ke(" ",i.getVotePercentage(t),"% de aprobaci\xf3n ")}}function Epe(n,e){if(1&n&&(C(0,"div",47),ce(1,Ipe,31,20,"div",48),w()),2&n){const t=le();O(1),W("ngForOf",t.getTabSongs())}}function bpe(n,e){1&n&&(C(0,"div",45),q(1,"i",69),C(2,"h4",4),R(3,"No se encontraron canciones"),w(),C(4,"p",4),R(5,"Intenta con otros t\xe9rminos de b\xfasqueda"),w()())}function Cpe(n,e){if(1&n){const t=Nt();C(0,"div",70),ae("click",function(){return Ne(t),Fe(le().onCloseDetails())}),w()}}function wpe(n,e){1&n&&q(0,"i",67)}function Tpe(n,e){1&n&&q(0,"i",68)}function Ape(n,e){if(1&n){const t=Nt();C(0,"div",71)(1,"div",72)(2,"div",73)(3,"div",74)(4,"h5",75),q(5,"i",76),R(6,"Detalles de la Canci\xf3n "),w(),C(7,"button",42),ae("click",function(){return Ne(t),Fe(le().onCloseDetails())}),w()(),C(8,"div",77)(9,"div",78)(10,"div",79),q(11,"img",80),C(12,"button",81),ae("click",function(){Ne(t);const i=le();return Fe(i.onVote(i.selectedSong))}),ce(13,wpe,1,0,"i",62),ce(14,Tpe,1,0,"i",63),R(15," Votar por esta canci\xf3n "),w()(),C(16,"div",82)(17,"h4"),R(18),w(),C(19,"p",4),R(20),w(),C(21,"div",83)(22,"div",54)(23,"div",84)(24,"h3",85),R(25),w(),C(26,"p",86),R(27,"Reproducciones"),w()()(),C(28,"div",54)(29,"div",84)(30,"h3",87),R(31),w(),C(32,"p",86),R(33,"Votos positivos"),w()()(),C(34,"div",88)(35,"div",84)(36,"h3",89),R(37),w(),C(38,"p",86),R(39,"Votos negativos"),w()()(),C(40,"div",88)(41,"div",84)(42,"h3",90),R(43),w(),C(44,"p",86),R(45,"Porcentaje de aprobaci\xf3n"),w()()()(),C(46,"div",91)(47,"h6"),R(48,"\xdaltima reproducci\xf3n"),w(),C(49,"p",4),R(50),w(),C(51,"h6"),R(52,"D\xedas desde la \xfaltima reproducci\xf3n"),w(),C(53,"p",4),R(54),w()()()()()()()()}if(2&n){const t=le();O(11),W("src",t.selectedSong.image||"assets/default-song.png",xr)("alt",t.selectedSong.name),O(1),W("disabled",t.isVoting),O(1),W("ngIf",!t.isVoting),O(1),W("ngIf",t.isVoting),O(4),Te(t.selectedSong.name),O(2),Te(t.selectedSong.artists.join(", ")),O(5),Te(t.selectedSong.times_played),O(6),Te(t.selectedSong.total_votes),O(6),Te(t.selectedSong.total_dislikes),O(6),Ke("",t.getVotePercentage(t.selectedSong),"%"),O(7),Te(t.formatDate(t.selectedSong.last_played_at)),O(4),Ke("",t.getDaysSinceLastPlayed(t.selectedSong)," d\xedas")}}const Dpe={providers:[function YZ(n,...e){return Zu([{provide:_c,multi:!0,useValue:n},[],{provide:vs,useFactory:GF,deps:[kn]},{provide:Cl,multi:!0,useFactory:qF},e.map(t=>t.\u0275providers)])}([{path:"",component:k$},{path:"home",component:k$},{path:"ranking",component:(()=>{class n{rankingService;votingService;songs=[];isLoading=!0;error="";sortBy="times_played";sortOrder="desc";filterText="";selectedSong=null;isVoting=!1;voteMessage="";activeTab="all";stats={};pollingSubscription=null;constructor(t,r){this.rankingService=t,this.votingService=r}ngOnInit(){this.loadRanking(),this.startPolling()}ngOnDestroy(){this.pollingSubscription&&this.pollingSubscription.unsubscribe()}startPolling(){this.pollingSubscription=this.votingService.getRankedSongsPolling().subscribe({next:()=>{this.loadRanking()}})}loadRanking(){this.isLoading=!0,this.error="",this.rankingService.getSongHistory(this.sortBy,this.sortOrder).subscribe({next:t=>{this.songs=t,this.calculateStats(),this.isLoading=!1},error:t=>{console.error("Error loading ranking:",t),this.error="Error al cargar el ranking. Intenta nuevamente.",this.isLoading=!1}})}calculateStats(){0!==this.songs.length?(this.stats.totalSongs=this.songs.length,this.stats.totalPlays=this.songs.reduce((t,r)=>t+r.times_played,0),this.stats.totalVotes=this.songs.reduce((t,r)=>t+r.total_votes,0),this.stats.totalDislikes=this.songs.reduce((t,r)=>t+r.total_dislikes,0),this.stats.mostPlayed=this.songs.reduce((t,r)=>r.times_played>t.times_played?r:t,this.songs[0]),this.stats.mostVoted=this.songs.reduce((t,r)=>r.total_votes>t.total_votes?r:t,this.songs[0]),this.stats.bestRated=this.songs.reduce((t,r)=>this.getVotePercentage(r)>this.getVotePercentage(t)?r:t,this.songs[0])):this.stats={}}onSortChange(t){this.sortBy===t?this.sortOrder="desc"===this.sortOrder?"asc":"desc":(this.sortBy=t,this.sortOrder="desc"),this.loadRanking()}getSortIcon(t){return this.sortBy!==t?"fa-sort":"desc"===this.sortOrder?"fa-sort-down":"fa-sort-up"}onVote(t){this.isVoting=!0,this.voteMessage="",this.rankingService.voteFromHistory(t.track_id).subscribe({next:r=>{this.voteMessage="\xa1Voto registrado! La canci\xf3n ha sido agregada a la lista de votaci\xf3n.",this.isVoting=!1;const i=this.songs.findIndex(o=>o.track_id===t.track_id);-1!==i&&(this.songs[i].total_votes+=1,this.calculateStats())},error:r=>{console.error("Error voting:",r),this.voteMessage=r.error?.error||"Error al votar. Intenta nuevamente.",this.isVoting=!1}})}onShowDetails(t){this.selectedSong=t}onCloseDetails(){this.selectedSong=null}get filteredSongs(){if(!this.filterText)return this.songs;const t=this.filterText.toLowerCase();return this.songs.filter(r=>r.name.toLowerCase().includes(t)||r.artists.some(i=>i.toLowerCase().includes(t)))}getVotePercentage(t){return t.total_votes||t.total_dislikes?Math.round(t.total_votes/(t.total_votes+t.total_dislikes)*100):0}formatDate(t){const r=new Date(t);return new Intl.DateTimeFormat("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(r)}getDaysSinceLastPlayed(t){const r=new Date(t.last_played_at),o=Math.abs((new Date).getTime()-r.getTime());return Math.floor(o/864e5)}setActiveTab(t){this.activeTab=t}getTabSongs(){switch(this.activeTab){case"mostPlayed":return[...this.filteredSongs].sort((t,r)=>r.times_played-t.times_played);case"mostVoted":return[...this.filteredSongs].sort((t,r)=>r.total_votes-t.total_votes);case"bestRated":return[...this.filteredSongs].sort((t,r)=>{const i=this.getVotePercentage(t);return this.getVotePercentage(r)-i});default:return this.filteredSongs}}static \u0275fac=function(r){return new(r||n)(B(N$),B(sh))};static \u0275cmp=Pr({type:n,selectors:[["app-ranking"]],standalone:!0,features:[Nr],decls:85,vars:29,consts:[[1,"ranking-container","fade-in"],[1,"header-section"],[1,"gradient-text"],[1,"fas","fa-trophy","me-2"],[1,"text-muted"],[1,"stats-grid","mb-4"],[1,"stat-card","card"],[1,"card-body","text-center"],[1,"fas","fa-music","stat-icon"],[1,"stat-value"],[1,"stat-label"],[1,"fas","fa-play-circle","stat-icon"],[1,"fas","fa-thumbs-up","stat-icon"],[1,"fas","fa-star","stat-icon"],[1,"tabs-container","mb-4"],[1,"nav","nav-tabs"],[1,"nav-item"],[1,"nav-link",3,"click"],[1,"fas","fa-list","me-1"],[1,"fas","fa-play-circle","me-1"],[1,"fas","fa-thumbs-up","me-1"],[1,"fas","fa-star","me-1"],[1,"filters-card","card","mb-4"],[1,"card-body"],[1,"row","align-items-center"],[1,"col-md-6","mb-3","mb-md-0"],[1,"input-group"],[1,"input-group-text"],[1,"fas","fa-search"],["type","text","placeholder","Buscar canci\xf3n o artista...",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-6"],[1,"d-flex","flex-wrap","gap-2","justify-content-md-end"],[1,"text-muted","me-2"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"fas","fa-calendar","me-1"],["class","alert alert-info alert-dismissible fade show","role","alert",4,"ngIf"],["class","alert alert-danger","role","alert",4,"ngIf"],["class","text-center py-5",4,"ngIf"],["class","songs-grid",4,"ngIf"],["class","modal-backdrop show",3,"click",4,"ngIf"],["class","modal show d-block","tabindex","-1",4,"ngIf"],["role","alert",1,"alert","alert-info","alert-dismissible","fade","show"],["type","button",1,"btn-close",3,"click"],["role","alert",1,"alert","alert-danger"],[1,"fas","fa-exclamation-triangle","me-2"],[1,"text-center","py-5"],[1,"loading-spinner","mb-3"],[1,"songs-grid"],["class","song-card card",4,"ngFor","ngForOf"],[1,"song-card","card"],[1,"col-1","text-center"],[1,"position-badge",3,"ngClass"],[1,"col-2"],[1,"img-thumbnail",3,"src","alt","click"],[1,"col-6"],[1,"song-title","mb-1",3,"click"],[1,"artist-names","text-muted","mb-1"],[1,"song-stats"],[1,"fas","fa-play","me-1"],[1,"fas","fa-thumbs-down","me-1"],[1,"col-3","text-end"],[1,"btn","btn-primary","btn-sm","mb-2",3,"disabled","click"],["class","fas fa-vote-yea me-1",4,"ngIf"],["class","fas fa-spinner fa-spin me-1",4,"ngIf"],[1,"approval-rate"],[1,"progress","mb-1",2,"height","6px"],[1,"progress-bar","bg-success"],[1,"fas","fa-vote-yea","me-1"],[1,"fas","fa-spinner","fa-spin","me-1"],[1,"fas","fa-music","fa-3x","text-muted","mb-3"],[1,"modal-backdrop","show",3,"click"],["tabindex","-1",1,"modal","show","d-block"],[1,"modal-dialog","modal-lg"],[1,"modal-content","card"],[1,"modal-header","card-header"],[1,"modal-title"],[1,"fas","fa-info-circle","me-2"],[1,"modal-body","card-body"],[1,"row"],[1,"col-md-4","text-center"],[1,"img-fluid","rounded","mb-3",3,"src","alt"],[1,"btn","btn-primary","w-100","mb-2",3,"disabled","click"],[1,"col-md-8"],[1,"row","mt-4"],[1,"stat-box","text-center","p-3","rounded"],[1,"text-primary"],[1,"mb-0","text-muted"],[1,"text-success"],[1,"col-6","mt-3"],[1,"text-danger"],[1,"text-info"],[1,"mt-4"]],template:function(r,i){1&r&&(C(0,"div",0)(1,"div",1)(2,"h1",2),q(3,"i",3),R(4,"Ranking Hist\xf3rico "),w(),C(5,"p",4),R(6," Descubre las canciones m\xe1s populares que han sonado en nuestro restaurante "),w()(),C(7,"div",5)(8,"div",6)(9,"div",7),q(10,"i",8),C(11,"h3",9),R(12),w(),C(13,"p",10),R(14,"Canciones totales"),w()()(),C(15,"div",6)(16,"div",7),q(17,"i",11),C(18,"h3",9),R(19),w(),C(20,"p",10),R(21,"Reproducciones"),w()()(),C(22,"div",6)(23,"div",7),q(24,"i",12),C(25,"h3",9),R(26),w(),C(27,"p",10),R(28,"Votos positivos"),w()()(),C(29,"div",6)(30,"div",7),q(31,"i",13),C(32,"h3",9),R(33),w(),C(34,"p",10),R(35,"Votos negativos"),w()()()(),C(36,"div",14)(37,"ul",15)(38,"li",16)(39,"a",17),ae("click",function(){return i.setActiveTab("all")}),q(40,"i",18),R(41,"Todas "),w()(),C(42,"li",16)(43,"a",17),ae("click",function(){return i.setActiveTab("mostPlayed")}),q(44,"i",19),R(45,"M\xe1s reproducidas "),w()(),C(46,"li",16)(47,"a",17),ae("click",function(){return i.setActiveTab("mostVoted")}),q(48,"i",20),R(49,"M\xe1s votadas "),w()(),C(50,"li",16)(51,"a",17),ae("click",function(){return i.setActiveTab("bestRated")}),q(52,"i",21),R(53,"Mejor valoradas "),w()()()(),C(54,"div",22)(55,"div",23)(56,"div",24)(57,"div",25)(58,"div",26)(59,"span",27),q(60,"i",28),w(),C(61,"input",29),ae("ngModelChange",function(s){return i.filterText=s}),w()()(),C(62,"div",30)(63,"div",31)(64,"span",32),R(65,"Ordenar por:"),w(),C(66,"button",33),ae("click",function(){return i.onSortChange("times_played")}),q(67,"i",19),R(68," Reproducciones "),q(69,"i"),w(),C(70,"button",33),ae("click",function(){return i.onSortChange("total_votes")}),q(71,"i",20),R(72," Votos "),q(73,"i"),w(),C(74,"button",33),ae("click",function(){return i.onSortChange("last_played_at")}),q(75,"i",34),R(76," Fecha "),q(77,"i"),w()()()()()(),ce(78,ppe,3,1,"div",35),ce(79,gpe,3,1,"div",36),ce(80,mpe,4,0,"div",37),ce(81,Epe,2,1,"div",38),ce(82,bpe,6,0,"div",37),ce(83,Cpe,1,0,"div",39),ce(84,Ape,55,13,"div",40),w()),2&r&&(O(12),Te(i.stats.totalSongs||0),O(7),Te(i.stats.totalPlays||0),O(7),Te(i.stats.totalVotes||0),O(7),Te(i.stats.totalDislikes||0),O(6),Dt("active","all"===i.activeTab),O(4),Dt("active","mostPlayed"===i.activeTab),O(4),Dt("active","mostVoted"===i.activeTab),O(4),Dt("active","bestRated"===i.activeTab),O(10),W("ngModel",i.filterText),O(8),Qf("fas ",i.getSortIcon("times_played")," ms-1"),O(4),Qf("fas ",i.getSortIcon("total_votes")," ms-1"),O(4),Qf("fas ",i.getSortIcon("last_played_at")," ms-1"),O(1),W("ngIf",i.voteMessage),O(1),W("ngIf",i.error),O(1),W("ngIf",i.isLoading),O(1),W("ngIf",!i.isLoading&&i.getTabSongs().length>0),O(1),W("ngIf",!i.isLoading&&0===i.getTabSongs().length),O(1),W("ngIf",i.selectedSong),O(1),W("ngIf",i.selectedSong))},dependencies:[yo,Zk,fs,xi,Hm,Zs,th,mu,hE],styles:[".ranking-container[_ngcontent-%COMP%]{padding:20px;max-width:1200px;margin:0 auto}.header-section[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.header-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin-bottom:10px}.gradient-text[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);-webkit-text-fill-color:transparent;-webkit-background-clip:text;background-clip:text}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;margin-bottom:30px}.stat-card[_ngcontent-%COMP%]{transition:transform .3s ease,box-shadow .3s ease;border:none;border-radius:12px;box-shadow:0 4px 6px #0000001a}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 15px #0000001a}.stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:10px;color:#667eea}.stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:5px;color:#333}.stat-card[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{color:#6c757d;margin-bottom:0}.tabs-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]{border-bottom:2px solid #dee2e6}.tabs-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{border:none;border-bottom:3px solid transparent;color:#6c757d;font-weight:500;padding:12px 20px;transition:all .3s ease}.tabs-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{border-color:#667eea;color:#667eea;background-color:transparent}.tabs-container[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#667eea;border-color:#667eea;background-color:transparent}.filters-card[_ngcontent-%COMP%]{border:none;border-radius:12px;box-shadow:0 4px 6px #0000001a}.filters-card[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]{background-color:#f8f9fa;border-right:none}.filters-card[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-left:none}.filters-card[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{box-shadow:none;border-color:#ced4da}.songs-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.song-card[_ngcontent-%COMP%]{border:none;border-radius:12px;box-shadow:0 2px 4px #0000000d;transition:all .3s ease}.song-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 12px #0000001a}.song-card[_ngcontent-%COMP%]   .position-badge[_ngcontent-%COMP%]{display:inline-block;width:40px;height:40px;line-height:40px;text-align:center;border-radius:50%;font-weight:700;font-size:1.1rem;background-color:#f8f9fa;color:#6c757d}.song-card[_ngcontent-%COMP%]   .position-badge.first-place[_ngcontent-%COMP%]{background:linear-gradient(135deg,#FFD700 0%,#FFA500 100%);color:#fff}.song-card[_ngcontent-%COMP%]   .position-badge.second-place[_ngcontent-%COMP%]{background:linear-gradient(135deg,#C0C0C0 0%,#A9A9A9 100%);color:#fff}.song-card[_ngcontent-%COMP%]   .position-badge.third-place[_ngcontent-%COMP%]{background:linear-gradient(135deg,#CD7F32 0%,#8B4513 100%);color:#fff}.song-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px;height:60px;object-fit:cover;border-radius:8px;cursor:pointer;transition:transform .3s ease}.song-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.song-card[_ngcontent-%COMP%]   .song-title[_ngcontent-%COMP%]{font-weight:600;cursor:pointer;transition:color .3s ease}.song-card[_ngcontent-%COMP%]   .song-title[_ngcontent-%COMP%]:hover{color:#667eea}.song-card[_ngcontent-%COMP%]   .artist-names[_ngcontent-%COMP%]{font-size:.9rem}.song-card[_ngcontent-%COMP%]   .song-stats[_ngcontent-%COMP%]{font-size:.8rem}.song-card[_ngcontent-%COMP%]   .approval-rate[_ngcontent-%COMP%]{max-width:150px;margin-left:auto}.modal-backdrop[_ngcontent-%COMP%]{opacity:.5}.modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{border:none;border-radius:16px;box-shadow:0 10px 30px #00000026}.modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-bottom:1px solid #e9ecef;border-radius:16px 16px 0 0;background-color:#f8f9fa}.modal[_ngcontent-%COMP%]   .stat-box[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:12px;transition:transform .3s ease}.modal[_ngcontent-%COMP%]   .stat-box[_ngcontent-%COMP%]:hover{transform:translateY(-3px)}.loading-spinner[_ngcontent-%COMP%]{display:inline-block;width:50px;height:50px;border:5px solid #f3f3f3;border-top:5px solid #667eea;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-in}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.ranking-container[_ngcontent-%COMP%]{padding:15px}.header-section[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.song-card[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:10px}.song-card[_ngcontent-%COMP%]   .col-1[_ngcontent-%COMP%], .song-card[_ngcontent-%COMP%]   .col-2[_ngcontent-%COMP%], .song-card[_ngcontent-%COMP%]   .col-6[_ngcontent-%COMP%], .song-card[_ngcontent-%COMP%]   .col-3[_ngcontent-%COMP%]{width:100%;flex:0 0 100%;max-width:100%;text-align:center}.song-card[_ngcontent-%COMP%]   .text-end[_ngcontent-%COMP%]{text-align:center!important}.song-card[_ngcontent-%COMP%]   .approval-rate[_ngcontent-%COMP%]{margin:0 auto}}"]})}return n})()},{path:"admin-login",component:Qfe},{path:"admin-panel",component:fpe,canActivate:[(()=>{class n{authService;router;constructor(t,r){this.authService=t,this.router=r}canActivate(){return!!this.authService.isLoggedIn()||(this.router.navigate(["/admin-login"]),!1)}static \u0275fac=function(r){return new(r||n)(ne(_u),ne(kn))};static \u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})()]},{path:"**",redirectTo:""}]),function YY(...n){const e=[ps,wN,bN,{provide:wp,useExisting:bN},{provide:Tp,useExisting:wN},{provide:Pl,useValue:QY,multi:!0},{provide:xI,useValue:!0},{provide:DN,useClass:KY}];for(const t of n)e.push(...t.\u0275providers);return Zu(e)}(),function OJ(...n){const e=[],t=new Set;for(const{\u0275providers:r,\u0275kind:i}of n)t.add(i),r.length&&e.push(r);return Zu([[],t.has(0)?[]:xK(),t.has(1)?[]:[{provide:Dp,useFactory:()=>(X(vM).add("httpcache"),{isCacheActive:!0})},{provide:EN,useValue:XY,multi:!0,deps:[Va,Dp]},{provide:Cl,multi:!0,useFactory:()=>{const n=X(ls),e=X(Dp);return()=>{n.isStable.pipe(gi(t=>t)).toPromise().then(()=>{e.isCacheActive=!1})}}}],e])}(),dM(function Gie(n,...e){return{ngModule:zie,providers:[{provide:CC,useFactory:Hie(n),multi:!0,deps:[Ve,hn,IC,...e]}]}}(()=>qie(ta_firebaseConfig)),function Oce(n,...e){return{ngModule:xce,providers:[{provide:r0,useFactory:Pce(n),multi:!0,deps:[Ve,hn,IC,bC,[new Mn,zC],...e]}]}}(()=>kce()),function phe(n,...e){return{ngModule:fhe,providers:[{provide:TD,useFactory:lhe(n),multi:!0,deps:[Ve,hn,IC,bC,[new Mn,WL],[new Mn,zC],...e]}]}}(()=>ghe()))]},Spe=function(){return{exact:!0}};(function IJ(n,e){return iK({rootComponent:n,...LN(e)})})((()=>{class n{title="UPTC Music";static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Pr({type:n,selectors:[["app-root"]],standalone:!0,features:[Nr],decls:37,vars:3,consts:[[1,"main-container"],[1,"main-header"],[1,"container","d-flex","justify-content-between","align-items-center"],[1,"logo-container"],[1,"logo-icon"],[1,"fab","fa-spotify"],[1,"app-title"],[1,"main-nav"],["routerLink","/","routerLinkActive","active",3,"routerLinkActiveOptions"],[1,"fas","fa-home","me-1"],["routerLink","/ranking","routerLinkActive","active"],[1,"fas","fa-trophy","me-1"],["routerLink","/admin-login","routerLinkActive","active"],[1,"fas","fa-lock","me-1"],[1,"content-area"],[1,"container"],[1,"now-playing-bar"],[1,"footer-content","text-center"],[1,"footer-text","mb-0"],[1,"footer-text","mb-1"],[1,"social-links"],["href","https://github.com/SebastianVega4","target","_blank"],[1,"fab","fa-github","me-1"],["href","https://www.linkedin.com/in/johan-sebastian-vega-ruiz-b1292011b/","target","_blank"],[1,"fab","fa-linkedin","me-1"],["href","https://www.instagram.com/sebastian.vegar/","target","_blank"],[1,"fab","fa-instagram","me-1"]],template:function(r,i){1&r&&(C(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3)(4,"div",4),q(5,"i",5),w(),C(6,"h1",6),R(7),w()(),C(8,"nav",7)(9,"a",8),q(10,"i",9),R(11,"Inicio "),w(),C(12,"a",10),q(13,"i",11),R(14,"Ranking "),w(),C(15,"a",12),q(16,"i",13),R(17,"Admin "),w()()()(),C(18,"main",14)(19,"div",15),q(20,"router-outlet"),w()()(),C(21,"footer",16)(22,"div",17)(23,"p",18),R(24,"Desarrollado por:"),w(),C(25,"p",19),R(26,"Estudiante de Ingenier\xeda de Sistemas - UPTC Sogamoso 2025-II"),w(),C(27,"div",20)(28,"a",21),q(29,"i",22),R(30,"GitHub "),w(),C(31,"a",23),q(32,"i",24),R(33,"LinkedIn "),w(),C(34,"a",25),q(35,"i",26),R(36,"Instagram "),w()()()()),2&r&&(O(7),Te(i.title),O(2),W("routerLinkActiveOptions",yl(2,Spe)))},dependencies:[hE,rE,ql,$F],styles:[".main-header[_ngcontent-%COMP%]{padding:1rem 1.5rem;background:var(--glass-bg);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border-bottom:1px solid rgba(255,255,255,.1);top:0;z-index:1000;box-shadow:0 4px 30px #0000004d}.logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.8rem}.logo-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,var(--primary-color) 0%,var(--accent-purple) 100%);display:flex;align-items:center;justify-content:center;box-shadow:0 0 15px #1db95466}.logo-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--text-primary)}.app-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;color:var(--text-primary);margin:0;letter-spacing:-.5px;background:linear-gradient(135deg,var(--text-primary) 0%,var(--primary-color) 100%);-webkit-text-fill-color:transparent;-webkit-background-clip:text;background-clip:text}.main-nav[_ngcontent-%COMP%]{display:flex;gap:1.5rem}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--text-secondary);text-decoration:none;font-weight:600;padding:.5rem 1rem;border-radius:50px;transition:all .3s ease;display:flex;align-items:center}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--text-primary);background:rgba(255,255,255,.05);transform:translateY(-2px)}.main-nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:var(--text-primary);background:rgba(29,185,84,.15);box-shadow:0 0 15px #1db95433}.main-nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color)}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem;transition:color .3s ease}.now-playing-bar[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border-top:1px solid rgba(255,255,255,.1);padding:1rem;color:var(--text-primary);display:flex;align-items:center;justify-content:center;position:relative;z-index:5}.footer-content[_ngcontent-%COMP%]{width:100%;text-align:center}.footer-text[_ngcontent-%COMP%]{font-size:.8rem;margin:.3rem 0;color:var(--text-secondary)}.social-links[_ngcontent-%COMP%]{margin-top:.5rem}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--text-secondary);text-decoration:none;margin:0 .8rem;font-size:.9rem;transition:all .3s ease;display:inline-flex;align-items:center}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--primary-color);transform:translateY(-2px)}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.3rem;font-size:1rem}@media (max-width: 768px){.main-header[_ngcontent-%COMP%]{padding:.8rem 1rem}.app-title[_ngcontent-%COMP%]{font-size:1.2rem}.main-nav[_ngcontent-%COMP%]{gap:.8rem}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:.4rem .8rem;font-size:.9rem}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:0 .5rem;font-size:.8rem}}"]})}return n})(),Dpe).catch(n=>console.error(n))}},qe=>{qe(qe.s=873)}]);