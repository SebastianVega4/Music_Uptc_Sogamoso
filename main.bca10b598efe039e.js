(self.webpackChunkuptc_music=self.webpackChunkuptc_music||[]).push([[792],{3205:(at,pe,F)=>{"use strict";F.d(pe,{u:()=>H});var u=F(1626),G=F(5312),E=F(4412),ge=F(8141),re=F(6276);let H=(()=>{class X{http;apiUrl=G.c.apiUrl;currentAdminSubject=new E.t(null);currentAdmin=this.currentAdminSubject.asObservable();currentBuitreSubject=new E.t(null);currentBuitre=this.currentBuitreSubject.asObservable();constructor(ye){this.http=ye,this.loadInitialState()}loadInitialState(){const ye=localStorage.getItem("adminToken"),me=localStorage.getItem("adminUser");if(ye&&me)try{this.currentAdminSubject.next(JSON.parse(me))}catch(Qe){console.error("Error parsing admin user",Qe)}const oe=localStorage.getItem("buitresToken"),Me=localStorage.getItem("buitresUser");if(oe&&Me)try{this.currentBuitreSubject.next(JSON.parse(Me))}catch(Qe){console.error("Error parsing buitres user",Qe)}}login(ye,me){return this.http.post(`${this.apiUrl}/api/auth/login`,{email:ye,password:me}).pipe((0,ge.M)(oe=>{oe.token&&(localStorage.setItem("adminToken",oe.token),oe.user&&(localStorage.setItem("adminUser",JSON.stringify(oe.user)),this.currentAdminSubject.next(oe.user)))}))}logoutAdmin(){localStorage.removeItem("adminToken"),localStorage.removeItem("adminUser"),this.currentAdminSubject.next(null)}isLoggedIn(){return!!localStorage.getItem("adminToken")}isRoleAdmin(){const ye=localStorage.getItem("adminUser");if(!ye)return!1;try{return"admin"===JSON.parse(ye).role}catch{return!1}}getAdminToken(){return localStorage.getItem("adminToken")}googleLogin(ye){return this.http.post(`${this.apiUrl}/api/auth/google`,{idToken:ye}).pipe((0,ge.M)(me=>{me.token&&(localStorage.setItem("buitresToken",me.token),me.user&&(localStorage.setItem("buitresUser",JSON.stringify(me.user)),this.currentBuitreSubject.next(me.user)))}))}logoutBuitres(){localStorage.removeItem("buitresToken"),localStorage.removeItem("buitresUser"),this.currentBuitreSubject.next(null)}isBuitresLoggedIn(){return!!this.isRoleAdmin()||!!localStorage.getItem("buitresToken")}getBuitresToken(){return this.isRoleAdmin()?this.getAdminToken():localStorage.getItem("buitresToken")}logout(){this.logoutAdmin()}getToken(){return this.getAdminToken()}getAuthHeaders(){const ye=this.getToken();return new u.Lr(ye?{Authorization:`Bearer ${ye}`,"Content-Type":"application/json"}:{"Content-Type":"application/json"})}static \u0275fac=function(me){return new(me||X)(re.KVO(u.Qq))};static \u0275prov=re.jDH({token:X,factory:X.\u0275fac,providedIn:"root"})}return X})()},5455:(at,pe,F)=>{"use strict";F.d(pe,{B:()=>ge});var u=F(4412),G=F(1413),E=F(6276);let ge=(()=>{class re{modalState=new u.t(null);modalResult=new G.B;modalState$=this.modalState.asObservable();constructor(){}open(X){return this.modalState.next(X),this.modalResult=new G.B,this.modalResult.asObservable()}confirm(X,de="Confirmaci\xf3n"){return this.open({title:de,message:X,type:"confirm",showCancel:!0,confirmText:"Confirmar",cancelText:"Cancelar"})}alert(X,de="Alerta",ye="info"){return this.open({title:de,message:X,type:ye,showCancel:!1,confirmText:"Aceptar"})}close(X){this.modalResult.next(X),this.modalResult.complete(),this.modalState.next(null)}static \u0275fac=function(de){return new(de||re)};static \u0275prov=E.jDH({token:re,factory:re.\u0275fac,providedIn:"root"})}return re})()},5312:(at,pe,F)=>{"use strict";F.d(pe,{c:()=>u});const u={production:!1,apiUrl:"https://music-uptc-sogamoso-back.vercel.app",supabaseUrl:"https://nkojabtbosvzbfcveyfm.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5rb2phYnRib3N2emJmY3ZleWZtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTczNjgwNzAsImV4cCI6MjA3Mjk0NDA3MH0.rJdadnVoVBw-vrt2XCm3619YzSIX3jSaxRftJQdAw00"}},3459:(at,pe,F)=>{"use strict";var u=F(345),G=F(8435),E=F(6276),ge=F(3205);const X=[{path:"",loadComponent:()=>Promise.all([F.e(158),F.e(76),F.e(689)]).then(F.bind(F,8689)).then(A=>A.HomeComponent)},{path:"home",loadComponent:()=>Promise.all([F.e(158),F.e(76),F.e(689)]).then(F.bind(F,8689)).then(A=>A.HomeComponent)},{path:"ranking",loadComponent:()=>Promise.all([F.e(76),F.e(325)]).then(F.bind(F,3325)).then(A=>A.RankingComponent)},{path:"about",loadComponent:()=>Promise.all([F.e(76),F.e(783)]).then(F.bind(F,4783)).then(A=>A.AboutComponent)},{path:"discussion",loadComponent:()=>Promise.all([F.e(76),F.e(179)]).then(F.bind(F,1179)).then(A=>A.DiscussionComponent)},{path:"discussion/thread/:id",loadComponent:()=>Promise.all([F.e(76),F.e(221)]).then(F.bind(F,1221)).then(A=>A.ThreadDetailComponent)},{path:"admin-login",loadComponent:()=>F.e(880).then(F.bind(F,2880)).then(A=>A.AdminLoginComponent)},{path:"admin-panel",loadComponent:()=>Promise.all([F.e(158),F.e(76),F.e(136)]).then(F.bind(F,136)).then(A=>A.AdminPanelComponent),canActivate:[(()=>{class A{authService;router;constructor(d,w){this.authService=d,this.router=w}canActivate(){return!(!this.authService.isLoggedIn()||!this.authService.isRoleAdmin())||(this.router.navigate(["/admin-login"],{queryParams:{error:"No tienes permisos de administrador"}}),!1)}static \u0275fac=function(w){return new(w||A)(E.KVO(ge.u),E.KVO(G.Ix))};static \u0275prov=E.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})()]},{path:"buitres",loadComponent:()=>Promise.all([F.e(76),F.e(60)]).then(F.bind(F,9060)).then(A=>A.BuitresComponent)},{path:"buitres/person/:id",loadComponent:()=>Promise.all([F.e(76),F.e(355)]).then(F.bind(F,9355)).then(A=>A.BuitresDetailComponent),canActivate:[(()=>{class A{authService;router;constructor(d,w){this.authService=d,this.router=w}canActivate(){return!!this.authService.isBuitresLoggedIn()||(this.router.navigate(["/buitres"],{queryParams:{loginRequired:"true"}}),!1)}static \u0275fac=function(w){return new(w||A)(E.KVO(ge.u),E.KVO(G.Ix))};static \u0275prov=E.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})()]},{path:"**",redirectTo:""}];var de=F(1626);class ye{}class me{}const oe="*";function Me(A,h){return{type:7,name:A,definitions:h,options:{}}}function Qe(A,h=null){return{type:4,styles:h,timings:A}}function We(A,h=null){return{type:2,steps:A,options:h}}function Rt(A){return{type:6,styles:A,offset:null}}function ot(A,h,d=null){return{type:1,expr:A,animation:h,options:d}}class Ae{constructor(h=0,d=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=h+d}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(h=>h()),this._onDoneFns=[])}onStart(h){this._originalOnStartFns.push(h),this._onStartFns.push(h)}onDone(h){this._originalOnDoneFns.push(h),this._onDoneFns.push(h)}onDestroy(h){this._onDestroyFns.push(h)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(h=>h()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(h=>h()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(h){this._position=this.totalTime?h*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(h){const d="start"==h?this._onStartFns:this._onDoneFns;d.forEach(w=>w()),d.length=0}}class Xe{constructor(h){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=h;let d=0,w=0,O=0;const V=this.players.length;0==V?queueMicrotask(()=>this._onFinish()):this.players.forEach(J=>{J.onDone(()=>{++d==V&&this._onFinish()}),J.onDestroy(()=>{++w==V&&this._onDestroy()}),J.onStart(()=>{++O==V&&this._onStart()})}),this.totalTime=this.players.reduce((J,Y)=>Math.max(J,Y.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(h=>h()),this._onDoneFns=[])}init(){this.players.forEach(h=>h.init())}onStart(h){this._onStartFns.push(h)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(h=>h()),this._onStartFns=[])}onDone(h){this._onDoneFns.push(h)}onDestroy(h){this._onDestroyFns.push(h)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(h=>h.play())}pause(){this.players.forEach(h=>h.pause())}restart(){this.players.forEach(h=>h.restart())}finish(){this._onFinish(),this.players.forEach(h=>h.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(h=>h.destroy()),this._onDestroyFns.forEach(h=>h()),this._onDestroyFns=[])}reset(){this.players.forEach(h=>h.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(h){const d=h*this.totalTime;this.players.forEach(w=>{const O=w.totalTime?Math.min(1,d/w.totalTime):1;w.setPosition(O)})}getPosition(){const h=this.players.reduce((d,w)=>null===d||w.totalTime>d.totalTime?w:d,null);return null!=h?h.getPosition():0}beforeDestroy(){this.players.forEach(h=>{h.beforeDestroy&&h.beforeDestroy()})}triggerCallback(h){const d="start"==h?this._onStartFns:this._onDoneFns;d.forEach(w=>w()),d.length=0}}function yn(A){return new E.wOt(3e3,!1)}function xn(A){switch(A.length){case 0:return new Ae;case 1:return A[0];default:return new Xe(A)}}function _s(A,h,d=new Map,w=new Map){const O=[],V=[];let J=-1,Y=null;if(h.forEach(ae=>{const Pe=ae.get("offset"),Ze=Pe==J,tt=Ze&&Y||new Map;ae.forEach((hn,zt)=>{let Tt=zt,It=hn;if("offset"!==zt)switch(Tt=A.normalizePropertyName(Tt,O),It){case"!":It=d.get(zt);break;case oe:It=w.get(zt);break;default:It=A.normalizeStyleValue(zt,Tt,It,O)}tt.set(Tt,It)}),Ze||V.push(tt),Y=tt,J=Pe}),O.length)throw function ft(A){return new E.wOt(3502,!1)}();return V}function gt(A,h,d,w){switch(h){case"start":A.onStart(()=>w(d&&ls(d,"start",A)));break;case"done":A.onDone(()=>w(d&&ls(d,"done",A)));break;case"destroy":A.onDestroy(()=>w(d&&ls(d,"destroy",A)))}}function ls(A,h,d){const V=sn(A.element,A.triggerName,A.fromState,A.toState,h||A.phaseName,d.totalTime??A.totalTime,!!d.disabled),J=A._data;return null!=J&&(V._data=J),V}function sn(A,h,d,w,O="",V=0,J){return{element:A,triggerName:h,fromState:d,toState:w,phaseName:O,totalTime:V,disabled:!!J}}function on(A,h,d){let w=A.get(h);return w||A.set(h,w=d),w}function Dr(A){const h=A.indexOf(":");return[A.substring(1,h),A.slice(h+1)]}const dn=(()=>typeof document>"u"?null:document.documentElement)();function en(A){const h=A.parentNode||A.host||null;return h===dn?null:h}let Mn=null,xt=!1;function er(A,h){for(;h;){if(h===A)return!0;h=en(h)}return!1}function Ir(A,h,d){if(d)return Array.from(A.querySelectorAll(h));const w=A.querySelector(h);return w?[w]:[]}let Is=(()=>{class A{validateStyleProperty(d){return function ar(A){Mn||(Mn=function bs(){return typeof document<"u"?document.body:null}()||{},xt=!!Mn.style&&"WebkitAppearance"in Mn.style);let h=!0;return Mn.style&&!function us(A){return"ebkit"==A.substring(1,6)}(A)&&(h=A in Mn.style,!h&&xt&&(h="Webkit"+A.charAt(0).toUpperCase()+A.slice(1)in Mn.style)),h}(d)}matchesElement(d,w){return!1}containsElement(d,w){return er(d,w)}getParentElement(d){return en(d)}query(d,w,O){return Ir(d,w,O)}computeStyle(d,w,O){return O||""}animate(d,w,O,V,J,Y=[],ae){return new Ae(O,V)}static{this.\u0275fac=function(w){return new(w||A)}}static{this.\u0275prov=E.jDH({token:A,factory:A.\u0275fac})}}return A})(),xe=(()=>{class A{static{this.NOOP=new Is}}return A})();const ve=1e3,Te="ng-enter",et="ng-leave",bt="ng-trigger",an=".ng-trigger",Jt="ng-animating",Gn=".ng-animating";function Vn(A){if("number"==typeof A)return A;const h=A.match(/^(-?[\.\d]+)(m?s)/);return!h||h.length<2?0:Tn(parseFloat(h[1]),h[2])}function Tn(A,h){return"s"===h?A*ve:A}function Sr(A,h,d){return A.hasOwnProperty("duration")?A:function le(A,h,d){let O,V=0,J="";if("string"==typeof A){const Y=A.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Y)return h.push(yn()),{duration:0,delay:0,easing:""};O=Tn(parseFloat(Y[1]),Y[2]);const ae=Y[3];null!=ae&&(V=Tn(parseFloat(ae),Y[4]));const Pe=Y[5];Pe&&(J=Pe)}else O=A;if(!d){let Y=!1,ae=h.length;O<0&&(h.push(function Je(){return new E.wOt(3100,!1)}()),Y=!0),V<0&&(h.push(function vt(){return new E.wOt(3101,!1)}()),Y=!0),Y&&h.splice(ae,0,yn())}return{duration:O,delay:V,easing:J}}(A,h,d)}function ee(A,h={}){return Object.keys(A).forEach(d=>{h[d]=A[d]}),h}function te(A){const h=new Map;return Object.keys(A).forEach(d=>{h.set(d,A[d])}),h}function Ye(A,h=new Map,d){if(d)for(let[w,O]of d)h.set(w,O);for(let[w,O]of A)h.set(w,O);return h}function Le(A,h,d){h.forEach((w,O)=>{const V=mt(O);d&&!d.has(O)&&d.set(O,A.style[V]),A.style[V]=w})}function qt(A,h){h.forEach((d,w)=>{const O=mt(w);A.style[O]=""})}function Nt(A){return Array.isArray(A)?1==A.length?A[0]:We(A):A}const Mr=new RegExp("{{\\s*(.+?)\\s*}}","g");function Cn(A){let h=[];if("string"==typeof A){let d;for(;d=Mr.exec(A);)h.push(d[1]);Mr.lastIndex=0}return h}function An(A,h,d){const w=A.toString(),O=w.replace(Mr,(V,J)=>{let Y=h[J];return null==Y&&(d.push(function kt(A){return new E.wOt(3003,!1)}()),Y=""),Y.toString()});return O==w?A:O}function br(A){const h=[];let d=A.next();for(;!d.done;)h.push(d.value),d=A.next();return h}const hr=/-+([a-z0-9])/g;function mt(A){return A.replace(hr,(...h)=>h[1].toUpperCase())}function gn(A,h,d){switch(h.type){case 7:return A.visitTrigger(h,d);case 0:return A.visitState(h,d);case 1:return A.visitTransition(h,d);case 2:return A.visitSequence(h,d);case 3:return A.visitGroup(h,d);case 4:return A.visitAnimate(h,d);case 5:return A.visitKeyframes(h,d);case 6:return A.visitStyle(h,d);case 8:return A.visitReference(h,d);case 9:return A.visitAnimateChild(h,d);case 10:return A.visitAnimateRef(h,d);case 11:return A.visitQuery(h,d);case 12:return A.visitStagger(h,d);default:throw function mr(A){return new E.wOt(3004,!1)}()}}function _n(A,h){return window.getComputedStyle(A)[h]}const Rr="*";function Vr(A,h){const d=[];return"string"==typeof A?A.split(/\s*,\s*/).forEach(w=>function Cs(A,h,d){if(":"==A[0]){const ae=function Es(A,h){switch(A){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(d,w)=>parseFloat(w)>parseFloat(d);case":decrement":return(d,w)=>parseFloat(w)<parseFloat(d);default:return h.push(function jn(A){return new E.wOt(3016,!1)}()),"* => *"}}(A,d);if("function"==typeof ae)return void h.push(ae);A=ae}const w=A.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==w||w.length<4)return d.push(function fn(A){return new E.wOt(3015,!1)}()),h;const O=w[1],V=w[2],J=w[3];h.push(yi(O,J));"<"==V[0]&&!(O==Rr&&J==Rr)&&h.push(yi(J,O))}(w,d,h)):d.push(A),d}const Tr=new Set(["true","1"]),ds=new Set(["false","0"]);function yi(A,h){const d=Tr.has(A)||ds.has(A),w=Tr.has(h)||ds.has(h);return(O,V)=>{let J=A==Rr||A==O,Y=h==Rr||h==V;return!J&&d&&"boolean"==typeof O&&(J=O?Tr.has(A):ds.has(A)),!Y&&w&&"boolean"==typeof V&&(Y=V?Tr.has(h):ds.has(h)),J&&Y}}const Ki=new RegExp("s*:selfs*,?","g");function vi(A,h,d,w){return new Oi(A).build(h,d,w)}class Oi{constructor(h){this._driver=h}build(h,d,w){const O=new ai(d);return this._resetContextStyleTimingState(O),gn(this,Nt(h),O)}_resetContextStyleTimingState(h){h.currentQuerySelector="",h.collectedStyles=new Map,h.collectedStyles.set("",new Map),h.currentTime=0}visitTrigger(h,d){let w=d.queryCount=0,O=d.depCount=0;const V=[],J=[];return"@"==h.name.charAt(0)&&d.errors.push(function Sn(){return new E.wOt(3006,!1)}()),h.definitions.forEach(Y=>{if(this._resetContextStyleTimingState(d),0==Y.type){const ae=Y,Pe=ae.name;Pe.toString().split(/\s*,\s*/).forEach(Ze=>{ae.name=Ze,V.push(this.visitState(ae,d))}),ae.name=Pe}else if(1==Y.type){const ae=this.visitTransition(Y,d);w+=ae.queryCount,O+=ae.depCount,J.push(ae)}else d.errors.push(function Vt(){return new E.wOt(3007,!1)}())}),{type:7,name:h.name,states:V,transitions:J,queryCount:w,depCount:O,options:null}}visitState(h,d){const w=this.visitStyle(h.styles,d),O=h.options&&h.options.params||null;if(w.containsDynamicStyles){const V=new Set,J=O||{};w.styles.forEach(Y=>{Y instanceof Map&&Y.forEach(ae=>{Cn(ae).forEach(Pe=>{J.hasOwnProperty(Pe)||V.add(Pe)})})}),V.size&&(br(V.values()),d.errors.push(function ue(A,h){return new E.wOt(3008,!1)}()))}return{type:0,name:h.name,style:w,options:O?{params:O}:null}}visitTransition(h,d){d.queryCount=0,d.depCount=0;const w=gn(this,Nt(h.animation),d);return{type:1,matchers:Vr(h.expr,d.errors),animation:w,queryCount:d.queryCount,depCount:d.depCount,options:hs(h.options)}}visitSequence(h,d){return{type:2,steps:h.steps.map(w=>gn(this,w,d)),options:hs(h.options)}}visitGroup(h,d){const w=d.currentTime;let O=0;const V=h.steps.map(J=>{d.currentTime=w;const Y=gn(this,J,d);return O=Math.max(O,d.currentTime),Y});return d.currentTime=O,{type:3,steps:V,options:hs(h.options)}}visitAnimate(h,d){const w=function $i(A,h){if(A.hasOwnProperty("duration"))return A;if("number"==typeof A)return Os(Sr(A,h).duration,0,"");const d=A;if(d.split(/\s+/).some(V=>"{"==V.charAt(0)&&"{"==V.charAt(1))){const V=Os(0,0,"");return V.dynamic=!0,V.strValue=d,V}const O=Sr(d,h);return Os(O.duration,O.delay,O.easing)}(h.timings,d.errors);d.currentAnimateTimings=w;let O,V=h.styles?h.styles:Rt({});if(5==V.type)O=this.visitKeyframes(V,d);else{let J=h.styles,Y=!1;if(!J){Y=!0;const Pe={};w.easing&&(Pe.easing=w.easing),J=Rt(Pe)}d.currentTime+=w.duration+w.delay;const ae=this.visitStyle(J,d);ae.isEmptyStep=Y,O=ae}return d.currentAnimateTimings=null,{type:4,timings:w,style:O,options:null}}visitStyle(h,d){const w=this._makeStyleAst(h,d);return this._validateStyleAst(w,d),w}_makeStyleAst(h,d){const w=[],O=Array.isArray(h.styles)?h.styles:[h.styles];for(let Y of O)"string"==typeof Y?Y===oe?w.push(Y):d.errors.push(new E.wOt(3002,!1)):w.push(te(Y));let V=!1,J=null;return w.forEach(Y=>{if(Y instanceof Map&&(Y.has("easing")&&(J=Y.get("easing"),Y.delete("easing")),!V))for(let ae of Y.values())if(ae.toString().indexOf("{{")>=0){V=!0;break}}),{type:6,styles:w,easing:J,offset:h.offset,containsDynamicStyles:V,options:null}}_validateStyleAst(h,d){const w=d.currentAnimateTimings;let O=d.currentTime,V=d.currentTime;w&&V>0&&(V-=w.duration+w.delay),h.styles.forEach(J=>{"string"!=typeof J&&J.forEach((Y,ae)=>{const Pe=d.collectedStyles.get(d.currentQuerySelector),Ze=Pe.get(ae);let tt=!0;Ze&&(V!=O&&V>=Ze.startTime&&O<=Ze.endTime&&(d.errors.push(function Oe(A,h,d,w,O){return new E.wOt(3010,!1)}()),tt=!1),V=Ze.startTime),tt&&Pe.set(ae,{startTime:V,endTime:O}),d.options&&function dr(A,h,d){const w=h.params||{},O=Cn(A);O.length&&O.forEach(V=>{w.hasOwnProperty(V)||d.push(function st(A){return new E.wOt(3001,!1)}())})}(Y,d.options,d.errors)})})}visitKeyframes(h,d){const w={type:5,styles:[],options:null};if(!d.currentAnimateTimings)return d.errors.push(function $e(){return new E.wOt(3011,!1)}()),w;let V=0;const J=[];let Y=!1,ae=!1,Pe=0;const Ze=h.steps.map(pr=>{const Cr=this._makeStyleAst(pr,d);let m=null!=Cr.offset?Cr.offset:function Ui(A){if("string"==typeof A)return null;let h=null;if(Array.isArray(A))A.forEach(d=>{if(d instanceof Map&&d.has("offset")){const w=d;h=parseFloat(w.get("offset")),w.delete("offset")}});else if(A instanceof Map&&A.has("offset")){const d=A;h=parseFloat(d.get("offset")),d.delete("offset")}return h}(Cr.styles),a=0;return null!=m&&(V++,a=Cr.offset=m),ae=ae||a<0||a>1,Y=Y||a<Pe,Pe=a,J.push(a),Cr});ae&&d.errors.push(function Ke(){return new E.wOt(3012,!1)}()),Y&&d.errors.push(function _t(){return new E.wOt(3200,!1)}());const tt=h.steps.length;let hn=0;V>0&&V<tt?d.errors.push(function un(){return new E.wOt(3202,!1)}()):0==V&&(hn=1/(tt-1));const zt=tt-1,Tt=d.currentTime,It=d.currentAnimateTimings,Yn=It.duration;return Ze.forEach((pr,Cr)=>{const m=hn>0?Cr==zt?1:hn*Cr:J[Cr],a=m*Yn;d.currentTime=Tt+It.delay+a,It.duration=a,this._validateStyleAst(pr,d),pr.offset=m,w.styles.push(pr)}),w}visitReference(h,d){return{type:8,animation:gn(this,Nt(h.animation),d),options:hs(h.options)}}visitAnimateChild(h,d){return d.depCount++,{type:9,options:hs(h.options)}}visitAnimateRef(h,d){return{type:10,animation:this.visitReference(h.animation,d),options:hs(h.options)}}visitQuery(h,d){const w=d.currentQuerySelector,O=h.options||{};d.queryCount++,d.currentQuery=h;const[V,J]=function Pi(A){const h=!!A.split(/\s*,\s*/).find(d=>":self"==d);return h&&(A=A.replace(Ki,"")),A=A.replace(/@\*/g,an).replace(/@\w+/g,d=>an+"-"+d.slice(1)).replace(/:animating/g,Gn),[A,h]}(h.selector);d.currentQuerySelector=w.length?w+" "+V:V,on(d.collectedStyles,d.currentQuerySelector,new Map);const Y=gn(this,Nt(h.animation),d);return d.currentQuery=null,d.currentQuerySelector=w,{type:11,selector:V,limit:O.limit||0,optional:!!O.optional,includeSelf:J,animation:Y,originalSelector:h.selector,options:hs(h.options)}}visitStagger(h,d){d.currentQuery||d.errors.push(function kn(){return new E.wOt(3013,!1)}());const w="full"===h.timings?{duration:0,delay:0,easing:"full"}:Sr(h.timings,d.errors,!0);return{type:12,animation:gn(this,Nt(h.animation),d),timings:w,options:null}}}class ai{constructor(h){this.errors=h,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function hs(A){return A?(A=ee(A)).params&&(A.params=function Vi(A){return A?ee(A):null}(A.params)):A={},A}function Os(A,h,d){return{duration:A,delay:h,easing:d}}function qr(A,h,d,w,O,V,J=null,Y=!1){return{type:1,element:A,keyframes:h,preStyleProps:d,postStyleProps:w,duration:O,delay:V,totalTime:O+V,easing:J,subTimeline:Y}}class zr{constructor(){this._map=new Map}get(h){return this._map.get(h)||[]}append(h,d){let w=this._map.get(h);w||this._map.set(h,w=[]),w.push(...d)}has(h){return this._map.has(h)}clear(){this._map.clear()}}const Gs=new RegExp(":enter","g"),Ws=new RegExp(":leave","g");function Ks(A,h,d,w,O,V=new Map,J=new Map,Y,ae,Pe=[]){return(new Lt).buildKeyframes(A,h,d,w,O,V,J,Y,ae,Pe)}class Lt{buildKeyframes(h,d,w,O,V,J,Y,ae,Pe,Ze=[]){Pe=Pe||new zr;const tt=new Xn(h,d,Pe,O,V,Ze,[]);tt.options=ae;const hn=ae.delay?Vn(ae.delay):0;tt.currentTimeline.delayNextStep(hn),tt.currentTimeline.setStyles([J],null,tt.errors,ae),gn(this,w,tt);const zt=tt.timelines.filter(Tt=>Tt.containsAnimation());if(zt.length&&Y.size){let Tt;for(let It=zt.length-1;It>=0;It--){const Yn=zt[It];if(Yn.element===d){Tt=Yn;break}}Tt&&!Tt.allowOnlyTimelineStyles()&&Tt.setStyles([Y],null,tt.errors,ae)}return zt.length?zt.map(Tt=>Tt.buildKeyframes()):[qr(d,[],[],[],0,hn,"",!1)]}visitTrigger(h,d){}visitState(h,d){}visitTransition(h,d){}visitAnimateChild(h,d){const w=d.subInstructions.get(d.element);if(w){const O=d.createSubContext(h.options),V=d.currentTimeline.currentTime,J=this._visitSubInstructions(w,O,O.options);V!=J&&d.transformIntoNewTimeline(J)}d.previousNode=h}visitAnimateRef(h,d){const w=d.createSubContext(h.options);w.transformIntoNewTimeline(),this._applyAnimationRefDelays([h.options,h.animation.options],d,w),this.visitReference(h.animation,w),d.transformIntoNewTimeline(w.currentTimeline.currentTime),d.previousNode=h}_applyAnimationRefDelays(h,d,w){for(const O of h){const V=O?.delay;if(V){const J="number"==typeof V?V:Vn(An(V,O?.params??{},d.errors));w.delayNextStep(J)}}}_visitSubInstructions(h,d,w){let V=d.currentTimeline.currentTime;const J=null!=w.duration?Vn(w.duration):null,Y=null!=w.delay?Vn(w.delay):null;return 0!==J&&h.forEach(ae=>{const Pe=d.appendInstructionToTimeline(ae,J,Y);V=Math.max(V,Pe.duration+Pe.delay)}),V}visitReference(h,d){d.updateOptions(h.options,!0),gn(this,h.animation,d),d.previousNode=h}visitSequence(h,d){const w=d.subContextCount;let O=d;const V=h.options;if(V&&(V.params||V.delay)&&(O=d.createSubContext(V),O.transformIntoNewTimeline(),null!=V.delay)){6==O.previousNode.type&&(O.currentTimeline.snapshotCurrentStyles(),O.previousNode=En);const J=Vn(V.delay);O.delayNextStep(J)}h.steps.length&&(h.steps.forEach(J=>gn(this,J,O)),O.currentTimeline.applyStylesToKeyframe(),O.subContextCount>w&&O.transformIntoNewTimeline()),d.previousNode=h}visitGroup(h,d){const w=[];let O=d.currentTimeline.currentTime;const V=h.options&&h.options.delay?Vn(h.options.delay):0;h.steps.forEach(J=>{const Y=d.createSubContext(h.options);V&&Y.delayNextStep(V),gn(this,J,Y),O=Math.max(O,Y.currentTimeline.currentTime),w.push(Y.currentTimeline)}),w.forEach(J=>d.currentTimeline.mergeTimelineCollectedStyles(J)),d.transformIntoNewTimeline(O),d.previousNode=h}_visitTiming(h,d){if(h.dynamic){const w=h.strValue;return Sr(d.params?An(w,d.params,d.errors):w,d.errors)}return{duration:h.duration,delay:h.delay,easing:h.easing}}visitAnimate(h,d){const w=d.currentAnimateTimings=this._visitTiming(h.timings,d),O=d.currentTimeline;w.delay&&(d.incrementTime(w.delay),O.snapshotCurrentStyles());const V=h.style;5==V.type?this.visitKeyframes(V,d):(d.incrementTime(w.duration),this.visitStyle(V,d),O.applyStylesToKeyframe()),d.currentAnimateTimings=null,d.previousNode=h}visitStyle(h,d){const w=d.currentTimeline,O=d.currentAnimateTimings;!O&&w.hasCurrentStyleProperties()&&w.forwardFrame();const V=O&&O.easing||h.easing;h.isEmptyStep?w.applyEmptyStep(V):w.setStyles(h.styles,V,d.errors,d.options),d.previousNode=h}visitKeyframes(h,d){const w=d.currentAnimateTimings,O=d.currentTimeline.duration,V=w.duration,Y=d.createSubContext().currentTimeline;Y.easing=w.easing,h.styles.forEach(ae=>{Y.forwardTime((ae.offset||0)*V),Y.setStyles(ae.styles,ae.easing,d.errors,d.options),Y.applyStylesToKeyframe()}),d.currentTimeline.mergeTimelineCollectedStyles(Y),d.transformIntoNewTimeline(O+V),d.previousNode=h}visitQuery(h,d){const w=d.currentTimeline.currentTime,O=h.options||{},V=O.delay?Vn(O.delay):0;V&&(6===d.previousNode.type||0==w&&d.currentTimeline.hasCurrentStyleProperties())&&(d.currentTimeline.snapshotCurrentStyles(),d.previousNode=En);let J=w;const Y=d.invokeQuery(h.selector,h.originalSelector,h.limit,h.includeSelf,!!O.optional,d.errors);d.currentQueryTotal=Y.length;let ae=null;Y.forEach((Pe,Ze)=>{d.currentQueryIndex=Ze;const tt=d.createSubContext(h.options,Pe);V&&tt.delayNextStep(V),Pe===d.element&&(ae=tt.currentTimeline),gn(this,h.animation,tt),tt.currentTimeline.applyStylesToKeyframe(),J=Math.max(J,tt.currentTimeline.currentTime)}),d.currentQueryIndex=0,d.currentQueryTotal=0,d.transformIntoNewTimeline(J),ae&&(d.currentTimeline.mergeTimelineCollectedStyles(ae),d.currentTimeline.snapshotCurrentStyles()),d.previousNode=h}visitStagger(h,d){const w=d.parentContext,O=d.currentTimeline,V=h.timings,J=Math.abs(V.duration),Y=J*(d.currentQueryTotal-1);let ae=J*d.currentQueryIndex;switch(V.duration<0?"reverse":V.easing){case"reverse":ae=Y-ae;break;case"full":ae=w.currentStaggerTime}const Ze=d.currentTimeline;ae&&Ze.delayNextStep(ae);const tt=Ze.currentTime;gn(this,h.animation,d),d.previousNode=h,w.currentStaggerTime=O.currentTime-tt+(O.startTime-w.currentTimeline.startTime)}}const En={};class Xn{constructor(h,d,w,O,V,J,Y,ae){this._driver=h,this.element=d,this.subInstructions=w,this._enterClassName=O,this._leaveClassName=V,this.errors=J,this.timelines=Y,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=En,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ae||new Gr(this._driver,d,0),Y.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(h,d){if(!h)return;const w=h;let O=this.options;null!=w.duration&&(O.duration=Vn(w.duration)),null!=w.delay&&(O.delay=Vn(w.delay));const V=w.params;if(V){let J=O.params;J||(J=this.options.params={}),Object.keys(V).forEach(Y=>{(!d||!J.hasOwnProperty(Y))&&(J[Y]=An(V[Y],J,this.errors))})}}_copyOptions(){const h={};if(this.options){const d=this.options.params;if(d){const w=h.params={};Object.keys(d).forEach(O=>{w[O]=d[O]})}}return h}createSubContext(h=null,d,w){const O=d||this.element,V=new Xn(this._driver,O,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(O,w||0));return V.previousNode=this.previousNode,V.currentAnimateTimings=this.currentAnimateTimings,V.options=this._copyOptions(),V.updateOptions(h),V.currentQueryIndex=this.currentQueryIndex,V.currentQueryTotal=this.currentQueryTotal,V.parentContext=this,this.subContextCount++,V}transformIntoNewTimeline(h){return this.previousNode=En,this.currentTimeline=this.currentTimeline.fork(this.element,h),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(h,d,w){const O={duration:d??h.duration,delay:this.currentTimeline.currentTime+(w??0)+h.delay,easing:""},V=new Wn(this._driver,h.element,h.keyframes,h.preStyleProps,h.postStyleProps,O,h.stretchStartingKeyframe);return this.timelines.push(V),O}incrementTime(h){this.currentTimeline.forwardTime(this.currentTimeline.duration+h)}delayNextStep(h){h>0&&this.currentTimeline.delayNextStep(h)}invokeQuery(h,d,w,O,V,J){let Y=[];if(O&&Y.push(this.element),h.length>0){h=(h=h.replace(Gs,"."+this._enterClassName)).replace(Ws,"."+this._leaveClassName);let Pe=this._driver.query(this.element,h,1!=w);0!==w&&(Pe=w<0?Pe.slice(Pe.length+w,Pe.length):Pe.slice(0,w)),Y.push(...Pe)}return!V&&0==Y.length&&J.push(function Ot(A){return new E.wOt(3014,!1)}()),Y}}class Gr{constructor(h,d,w,O){this._driver=h,this.element=d,this.startTime=w,this._elementTimelineStylesLookup=O,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(d),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(d,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(h){const d=1===this._keyframes.size&&this._pendingStyles.size;this.duration||d?(this.forwardTime(this.currentTime+h),d&&this.snapshotCurrentStyles()):this.startTime+=h}fork(h,d){return this.applyStylesToKeyframe(),new Gr(this._driver,h,d||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(h){this.applyStylesToKeyframe(),this.duration=h,this._loadKeyframe()}_updateStyle(h,d){this._localTimelineStyles.set(h,d),this._globalTimelineStyles.set(h,d),this._styleSummary.set(h,{time:this.currentTime,value:d})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(h){h&&this._previousKeyframe.set("easing",h);for(let[d,w]of this._globalTimelineStyles)this._backFill.set(d,w||oe),this._currentKeyframe.set(d,oe);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(h,d,w,O){d&&this._previousKeyframe.set("easing",d);const V=O&&O.params||{},J=function Ps(A,h){const d=new Map;let w;return A.forEach(O=>{if("*"===O){w=w||h.keys();for(let V of w)d.set(V,oe)}else Ye(O,d)}),d}(h,this._globalTimelineStyles);for(let[Y,ae]of J){const Pe=An(ae,V,w);this._pendingStyles.set(Y,Pe),this._localTimelineStyles.has(Y)||this._backFill.set(Y,this._globalTimelineStyles.get(Y)??oe),this._updateStyle(Y,Pe)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((h,d)=>{this._currentKeyframe.set(d,h)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((h,d)=>{this._currentKeyframe.has(d)||this._currentKeyframe.set(d,h)}))}snapshotCurrentStyles(){for(let[h,d]of this._localTimelineStyles)this._pendingStyles.set(h,d),this._updateStyle(h,d)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const h=[];for(let d in this._currentKeyframe)h.push(d);return h}mergeTimelineCollectedStyles(h){h._styleSummary.forEach((d,w)=>{const O=this._styleSummary.get(w);(!O||d.time>O.time)&&this._updateStyle(w,d.value)})}buildKeyframes(){this.applyStylesToKeyframe();const h=new Set,d=new Set,w=1===this._keyframes.size&&0===this.duration;let O=[];this._keyframes.forEach((Y,ae)=>{const Pe=Ye(Y,new Map,this._backFill);Pe.forEach((Ze,tt)=>{"!"===Ze?h.add(tt):Ze===oe&&d.add(tt)}),w||Pe.set("offset",ae/this.duration),O.push(Pe)});const V=h.size?br(h.values()):[],J=d.size?br(d.values()):[];if(w){const Y=O[0],ae=new Map(Y);Y.set("offset",0),ae.set("offset",1),O=[Y,ae]}return qr(this.element,O,V,J,this.duration,this.startTime,this.easing,!1)}}class Wn extends Gr{constructor(h,d,w,O,V,J,Y=!1){super(h,d,J.delay),this.keyframes=w,this.preStyleProps=O,this.postStyleProps=V,this._stretchStartingKeyframe=Y,this.timings={duration:J.duration,delay:J.delay,easing:J.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let h=this.keyframes,{delay:d,duration:w,easing:O}=this.timings;if(this._stretchStartingKeyframe&&d){const V=[],J=w+d,Y=d/J,ae=Ye(h[0]);ae.set("offset",0),V.push(ae);const Pe=Ye(h[0]);Pe.set("offset",ct(Y)),V.push(Pe);const Ze=h.length-1;for(let tt=1;tt<=Ze;tt++){let hn=Ye(h[tt]);const zt=hn.get("offset");hn.set("offset",ct((d+zt*w)/J)),V.push(hn)}w=J,d=0,O="",h=V}return qr(this.element,h,this.preStyleProps,this.postStyleProps,w,d,O,!0)}}function ct(A,h=3){const d=Math.pow(10,h-1);return Math.round(A*d)/d}class Lr{}const tn=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class it extends Lr{normalizePropertyName(h,d){return mt(h)}normalizeStyleValue(h,d,w,O){let V="";const J=w.toString().trim();if(tn.has(d)&&0!==w&&"0"!==w)if("number"==typeof w)V="px";else{const Y=w.match(/^[+-]?[\d\.]+([a-z]*)$/);Y&&0==Y[1].length&&O.push(function ir(A,h){return new E.wOt(3005,!1)}())}return J+V}}function Pt(A,h,d,w,O,V,J,Y,ae,Pe,Ze,tt,hn){return{type:0,element:A,triggerName:h,isRemovalTransition:O,fromState:d,fromStyles:V,toState:w,toStyles:J,timelines:Y,queriedElements:ae,preStyleProps:Pe,postStyleProps:Ze,totalTime:tt,errors:hn}}const ln={};class lr{constructor(h,d,w){this._triggerName=h,this.ast=d,this._stateStyles=w}match(h,d,w,O){return function Qn(A,h,d,w,O){return A.some(V=>V(h,d,w,O))}(this.ast.matchers,h,d,w,O)}buildStyles(h,d,w){let O=this._stateStyles.get("*");return void 0!==h&&(O=this._stateStyles.get(h?.toString())||O),O?O.buildStyles(d,w):new Map}build(h,d,w,O,V,J,Y,ae,Pe,Ze){const tt=[],hn=this.ast.options&&this.ast.options.params||ln,Tt=this.buildStyles(w,Y&&Y.params||ln,tt),It=ae&&ae.params||ln,Yn=this.buildStyles(O,It,tt),pr=new Set,Cr=new Map,m=new Map,a="void"===O,o={params:fs(It,hn),delay:this.ast.options?.delay},l=Ze?[]:Ks(h,d,this.ast.animation,V,J,Tt,Yn,o,Pe,tt);let v=0;if(l.forEach(x=>{v=Math.max(x.duration+x.delay,v)}),tt.length)return Pt(d,this._triggerName,w,O,a,Tt,Yn,[],[],Cr,m,v,tt);l.forEach(x=>{const R=x.element,B=on(Cr,R,new Set);x.preStyleProps.forEach(Z=>B.add(Z));const K=on(m,R,new Set);x.postStyleProps.forEach(Z=>K.add(Z)),R!==d&&pr.add(R)});const M=br(pr.values());return Pt(d,this._triggerName,w,O,a,Tt,Yn,l,M,Cr,m,v)}}function fs(A,h){const d=ee(h);for(const w in A)A.hasOwnProperty(w)&&null!=A[w]&&(d[w]=A[w]);return d}class $n{constructor(h,d,w){this.styles=h,this.defaultParams=d,this.normalizer=w}buildStyles(h,d){const w=new Map,O=ee(this.defaultParams);return Object.keys(h).forEach(V=>{const J=h[V];null!==J&&(O[V]=J)}),this.styles.styles.forEach(V=>{"string"!=typeof V&&V.forEach((J,Y)=>{J&&(J=An(J,O,d));const ae=this.normalizer.normalizePropertyName(Y,d);J=this.normalizer.normalizeStyleValue(Y,ae,J,d),w.set(Y,J)})}),w}}class Rs{constructor(h,d,w){this.name=h,this.ast=d,this._normalizer=w,this.transitionFactories=[],this.states=new Map,d.states.forEach(O=>{this.states.set(O.name,new $n(O.style,O.options&&O.options.params||{},w))}),jr(this.states,"true","1"),jr(this.states,"false","0"),d.transitions.forEach(O=>{this.transitionFactories.push(new lr(h,O,this.states))}),this.fallbackTransition=function Ft(A,h,d){return new lr(A,{type:1,animation:{type:2,steps:[],options:null},matchers:[(J,Y)=>!0],options:null,queryCount:0,depCount:0},h)}(h,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(h,d,w,O){return this.transitionFactories.find(J=>J.match(h,d,w,O))||null}matchStyles(h,d,w){return this.fallbackTransition.buildStyles(h,d,w)}}function jr(A,h,d){A.has(h)?A.has(d)||A.set(d,A.get(h)):A.has(d)&&A.set(h,A.get(d))}const Xr=new zr;class Qr{constructor(h,d,w){this.bodyNode=h,this._driver=d,this._normalizer=w,this._animations=new Map,this._playersById=new Map,this.players=[]}register(h,d){const w=[],V=vi(this._driver,d,w,[]);if(w.length)throw function or(A){return new E.wOt(3503,!1)}();this._animations.set(h,V)}_buildPlayer(h,d,w){const O=h.element,V=_s(this._normalizer,h.keyframes,d,w);return this._driver.animate(O,V,h.duration,h.delay,h.easing,[],!0)}create(h,d,w={}){const O=[],V=this._animations.get(h);let J;const Y=new Map;if(V?(J=Ks(this._driver,d,V,Te,et,new Map,new Map,w,Xr,O),J.forEach(Ze=>{const tt=on(Y,Ze.element,new Map);Ze.postStyleProps.forEach(hn=>tt.set(hn,null))})):(O.push(function wn(){return new E.wOt(3300,!1)}()),J=[]),O.length)throw function Wt(A){return new E.wOt(3504,!1)}();Y.forEach((Ze,tt)=>{Ze.forEach((hn,zt)=>{Ze.set(zt,this._driver.computeStyle(tt,zt,oe))})});const Pe=xn(J.map(Ze=>{const tt=Y.get(Ze.element);return this._buildPlayer(Ze,new Map,tt)}));return this._playersById.set(h,Pe),Pe.onDestroy(()=>this.destroy(h)),this.players.push(Pe),Pe}destroy(h){const d=this._getPlayer(h);d.destroy(),this._playersById.delete(h);const w=this.players.indexOf(d);w>=0&&this.players.splice(w,1)}_getPlayer(h){const d=this._playersById.get(h);if(!d)throw function Fr(A){return new E.wOt(3301,!1)}();return d}listen(h,d,w,O){const V=sn(d,"","","");return gt(this._getPlayer(h),w,V,O),()=>{}}command(h,d,w,O){if("register"==w)return void this.register(h,O[0]);if("create"==w)return void this.create(h,d,O[0]||{});const V=this._getPlayer(h);switch(w){case"play":V.play();break;case"pause":V.pause();break;case"reset":V.reset();break;case"restart":V.restart();break;case"finish":V.finish();break;case"init":V.init();break;case"setPosition":V.setPosition(parseFloat(O[0]));break;case"destroy":this.destroy(h)}}}const In="ng-animate-queued",Jr="ng-animate-disabled",Ms=[],Ar={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},xs={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},tr="__ng_removed";class Ht{get params(){return this.options.params}constructor(h,d=""){this.namespaceId=d;const w=h&&h.hasOwnProperty("value");if(this.value=function ui(A){return A??null}(w?h.value:h),w){const V=ee(h);delete V.value,this.options=V}else this.options={};this.options.params||(this.options.params={})}absorbOptions(h){const d=h.params;if(d){const w=this.options.params;Object.keys(d).forEach(O=>{null==w[O]&&(w[O]=d[O])})}}}const li="void",On=new Ht(li);class ur{constructor(h,d,w){this.id=h,this.hostElement=d,this._engine=w,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+h,Bn(d,this._hostClassName)}listen(h,d,w,O){if(!this._triggers.has(d))throw function vs(A,h){return new E.wOt(3302,!1)}();if(null==w||0==w.length)throw function pn(A){return new E.wOt(3303,!1)}();if(!function Ns(A){return"start"==A||"done"==A}(w))throw function Qt(A,h){return new E.wOt(3400,!1)}();const V=on(this._elementListeners,h,[]),J={name:d,phase:w,callback:O};V.push(J);const Y=on(this._engine.statesByElement,h,new Map);return Y.has(d)||(Bn(h,bt),Bn(h,bt+"-"+d),Y.set(d,On)),()=>{this._engine.afterFlush(()=>{const ae=V.indexOf(J);ae>=0&&V.splice(ae,1),this._triggers.has(d)||Y.delete(d)})}}register(h,d){return!this._triggers.has(h)&&(this._triggers.set(h,d),!0)}_getTrigger(h){const d=this._triggers.get(h);if(!d)throw function Kt(A){return new E.wOt(3401,!1)}();return d}trigger(h,d,w,O=!0){const V=this._getTrigger(d),J=new ps(this.id,d,h);let Y=this._engine.statesByElement.get(h);Y||(Bn(h,bt),Bn(h,bt+"-"+d),this._engine.statesByElement.set(h,Y=new Map));let ae=Y.get(d);const Pe=new Ht(w,this.id);if(!(w&&w.hasOwnProperty("value"))&&ae&&Pe.absorbOptions(ae.options),Y.set(d,Pe),ae||(ae=On),Pe.value!==li&&ae.value===Pe.value){if(!function Ci(A,h){const d=Object.keys(A),w=Object.keys(h);if(d.length!=w.length)return!1;for(let O=0;O<d.length;O++){const V=d[O];if(!h.hasOwnProperty(V)||A[V]!==h[V])return!1}return!0}(ae.params,Pe.params)){const It=[],Yn=V.matchStyles(ae.value,ae.params,It),pr=V.matchStyles(Pe.value,Pe.params,It);It.length?this._engine.reportError(It):this._engine.afterFlush(()=>{qt(h,Yn),Le(h,pr)})}return}const hn=on(this._engine.playersByElement,h,[]);hn.forEach(It=>{It.namespaceId==this.id&&It.triggerName==d&&It.queued&&It.destroy()});let zt=V.matchTransition(ae.value,Pe.value,h,Pe.params),Tt=!1;if(!zt){if(!O)return;zt=V.fallbackTransition,Tt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:h,triggerName:d,transition:zt,fromState:ae,toState:Pe,player:J,isFallbackTransition:Tt}),Tt||(Bn(h,In),J.onStart(()=>{xr(h,In)})),J.onDone(()=>{let It=this.players.indexOf(J);It>=0&&this.players.splice(It,1);const Yn=this._engine.playersByElement.get(h);if(Yn){let pr=Yn.indexOf(J);pr>=0&&Yn.splice(pr,1)}}),this.players.push(J),hn.push(J),J}deregister(h){this._triggers.delete(h),this._engine.statesByElement.forEach(d=>d.delete(h)),this._elementListeners.forEach((d,w)=>{this._elementListeners.set(w,d.filter(O=>O.name!=h))})}clearElementCache(h){this._engine.statesByElement.delete(h),this._elementListeners.delete(h);const d=this._engine.playersByElement.get(h);d&&(d.forEach(w=>w.destroy()),this._engine.playersByElement.delete(h))}_signalRemovalForInnerTriggers(h,d){const w=this._engine.driver.query(h,an,!0);w.forEach(O=>{if(O[tr])return;const V=this._engine.fetchNamespacesByElement(O);V.size?V.forEach(J=>J.triggerLeaveAnimation(O,d,!1,!0)):this.clearElementCache(O)}),this._engine.afterFlushAnimationsDone(()=>w.forEach(O=>this.clearElementCache(O)))}triggerLeaveAnimation(h,d,w,O){const V=this._engine.statesByElement.get(h),J=new Map;if(V){const Y=[];if(V.forEach((ae,Pe)=>{if(J.set(Pe,ae.value),this._triggers.has(Pe)){const Ze=this.trigger(h,Pe,li,O);Ze&&Y.push(Ze)}}),Y.length)return this._engine.markElementAsRemoved(this.id,h,!0,d,J),w&&xn(Y).onDone(()=>this._engine.processLeaveNode(h)),!0}return!1}prepareLeaveAnimationListeners(h){const d=this._elementListeners.get(h),w=this._engine.statesByElement.get(h);if(d&&w){const O=new Set;d.forEach(V=>{const J=V.name;if(O.has(J))return;O.add(J);const ae=this._triggers.get(J).fallbackTransition,Pe=w.get(J)||On,Ze=new Ht(li),tt=new ps(this.id,J,h);this._engine.totalQueuedPlayers++,this._queue.push({element:h,triggerName:J,transition:ae,fromState:Pe,toState:Ze,player:tt,isFallbackTransition:!0})})}}removeNode(h,d){const w=this._engine;if(h.childElementCount&&this._signalRemovalForInnerTriggers(h,d),this.triggerLeaveAnimation(h,d,!0))return;let O=!1;if(w.totalAnimations){const V=w.players.length?w.playersByQueriedElement.get(h):[];if(V&&V.length)O=!0;else{let J=h;for(;J=J.parentNode;)if(w.statesByElement.get(J)){O=!0;break}}}if(this.prepareLeaveAnimationListeners(h),O)w.markElementAsRemoved(this.id,h,!1,d);else{const V=h[tr];(!V||V===Ar)&&(w.afterFlush(()=>this.clearElementCache(h)),w.destroyInnerAnimations(h),w._onRemovalComplete(h,d))}}insertNode(h,d){Bn(h,this._hostClassName)}drainQueuedTransitions(h){const d=[];return this._queue.forEach(w=>{const O=w.player;if(O.destroyed)return;const V=w.element,J=this._elementListeners.get(V);J&&J.forEach(Y=>{if(Y.name==w.triggerName){const ae=sn(V,w.triggerName,w.fromState.value,w.toState.value);ae._data=h,gt(w.player,Y.phase,ae,Y.callback)}}),O.markedForDestroy?this._engine.afterFlush(()=>{O.destroy()}):d.push(w)}),this._queue=[],d.sort((w,O)=>{const V=w.transition.ast.depCount,J=O.transition.ast.depCount;return 0==V||0==J?V-J:this._engine.driver.containsElement(w.element,O.element)?1:-1})}destroy(h){this.players.forEach(d=>d.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,h)}}class $r{_onRemovalComplete(h,d){this.onRemovalComplete(h,d)}constructor(h,d,w){this.bodyNode=h,this.driver=d,this._normalizer=w,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(O,V)=>{}}get queuedPlayers(){const h=[];return this._namespaceList.forEach(d=>{d.players.forEach(w=>{w.queued&&h.push(w)})}),h}createNamespace(h,d){const w=new ur(h,d,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,d)?this._balanceNamespaceList(w,d):(this.newHostElements.set(d,w),this.collectEnterElement(d)),this._namespaceLookup[h]=w}_balanceNamespaceList(h,d){const w=this._namespaceList,O=this.namespacesByHostElement;if(w.length-1>=0){let J=!1,Y=this.driver.getParentElement(d);for(;Y;){const ae=O.get(Y);if(ae){const Pe=w.indexOf(ae);w.splice(Pe+1,0,h),J=!0;break}Y=this.driver.getParentElement(Y)}J||w.unshift(h)}else w.push(h);return O.set(d,h),h}register(h,d){let w=this._namespaceLookup[h];return w||(w=this.createNamespace(h,d)),w}registerTrigger(h,d,w){let O=this._namespaceLookup[h];O&&O.register(d,w)&&this.totalAnimations++}destroy(h,d){h&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const w=this._fetchNamespace(h);this.namespacesByHostElement.delete(w.hostElement);const O=this._namespaceList.indexOf(w);O>=0&&this._namespaceList.splice(O,1),w.destroy(d),delete this._namespaceLookup[h]}))}_fetchNamespace(h){return this._namespaceLookup[h]}fetchNamespacesByElement(h){const d=new Set,w=this.statesByElement.get(h);if(w)for(let O of w.values())if(O.namespaceId){const V=this._fetchNamespace(O.namespaceId);V&&d.add(V)}return d}trigger(h,d,w,O){if(Pn(d)){const V=this._fetchNamespace(h);if(V)return V.trigger(d,w,O),!0}return!1}insertNode(h,d,w,O){if(!Pn(d))return;const V=d[tr];if(V&&V.setForRemoval){V.setForRemoval=!1,V.setForMove=!0;const J=this.collectedLeaveElements.indexOf(d);J>=0&&this.collectedLeaveElements.splice(J,1)}if(h){const J=this._fetchNamespace(h);J&&J.insertNode(d,w)}O&&this.collectEnterElement(d)}collectEnterElement(h){this.collectedEnterElements.push(h)}markElementAsDisabled(h,d){d?this.disabledNodes.has(h)||(this.disabledNodes.add(h),Bn(h,Jr)):this.disabledNodes.has(h)&&(this.disabledNodes.delete(h),xr(h,Jr))}removeNode(h,d,w){if(Pn(d)){const O=h?this._fetchNamespace(h):null;O?O.removeNode(d,w):this.markElementAsRemoved(h,d,!1,w);const V=this.namespacesByHostElement.get(d);V&&V.id!==h&&V.removeNode(d,w)}else this._onRemovalComplete(d,w)}markElementAsRemoved(h,d,w,O,V){this.collectedLeaveElements.push(d),d[tr]={namespaceId:h,setForRemoval:O,hasAnimation:w,removedBeforeQueried:!1,previousTriggersValues:V}}listen(h,d,w,O,V){return Pn(d)?this._fetchNamespace(h).listen(d,w,O,V):()=>{}}_buildInstruction(h,d,w,O,V){return h.transition.build(this.driver,h.element,h.fromState.value,h.toState.value,w,O,h.fromState.options,h.toState.options,d,V)}destroyInnerAnimations(h){let d=this.driver.query(h,an,!0);d.forEach(w=>this.destroyActiveAnimationsForElement(w)),0!=this.playersByQueriedElement.size&&(d=this.driver.query(h,Gn,!0),d.forEach(w=>this.finishActiveQueriedAnimationOnElement(w)))}destroyActiveAnimationsForElement(h){const d=this.playersByElement.get(h);d&&d.forEach(w=>{w.queued?w.markedForDestroy=!0:w.destroy()})}finishActiveQueriedAnimationOnElement(h){const d=this.playersByQueriedElement.get(h);d&&d.forEach(w=>w.finish())}whenRenderingDone(){return new Promise(h=>{if(this.players.length)return xn(this.players).onDone(()=>h());h()})}processLeaveNode(h){const d=h[tr];if(d&&d.setForRemoval){if(h[tr]=Ar,d.namespaceId){this.destroyInnerAnimations(h);const w=this._fetchNamespace(d.namespaceId);w&&w.clearElementCache(h)}this._onRemovalComplete(h,d.setForRemoval)}h.classList?.contains(Jr)&&this.markElementAsDisabled(h,!1),this.driver.query(h,".ng-animate-disabled",!0).forEach(w=>{this.markElementAsDisabled(w,!1)})}flush(h=-1){let d=[];if(this.newHostElements.size&&(this.newHostElements.forEach((w,O)=>this._balanceNamespaceList(w,O)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let w=0;w<this.collectedEnterElements.length;w++)Bn(this.collectedEnterElements[w],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const w=[];try{d=this._flushAnimations(w,h)}finally{for(let O=0;O<w.length;O++)w[O]()}}else for(let w=0;w<this.collectedLeaveElements.length;w++)this.processLeaveNode(this.collectedLeaveElements[w]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(w=>w()),this._flushFns=[],this._whenQuietFns.length){const w=this._whenQuietFns;this._whenQuietFns=[],d.length?xn(d).onDone(()=>{w.forEach(O=>O())}):w.forEach(O=>O())}}reportError(h){throw function qn(A){return new E.wOt(3402,!1)}()}_flushAnimations(h,d){const w=new zr,O=[],V=new Map,J=[],Y=new Map,ae=new Map,Pe=new Map,Ze=new Set;this.disabledNodes.forEach(be=>{Ze.add(be);const fe=this.driver.query(be,".ng-animate-queued",!0);for(let Re=0;Re<fe.length;Re++)Ze.add(fe[Re])});const tt=this.bodyNode,hn=Array.from(this.statesByElement.keys()),zt=Qs(hn,this.collectedEnterElements),Tt=new Map;let It=0;zt.forEach((be,fe)=>{const Re=Te+It++;Tt.set(fe,Re),be.forEach(qe=>Bn(qe,Re))});const Yn=[],pr=new Set,Cr=new Set;for(let be=0;be<this.collectedLeaveElements.length;be++){const fe=this.collectedLeaveElements[be],Re=fe[tr];Re&&Re.setForRemoval&&(Yn.push(fe),pr.add(fe),Re.hasAnimation?this.driver.query(fe,".ng-star-inserted",!0).forEach(qe=>pr.add(qe)):Cr.add(fe))}const m=new Map,a=Qs(hn,Array.from(pr));a.forEach((be,fe)=>{const Re=et+It++;m.set(fe,Re),be.forEach(qe=>Bn(qe,Re))}),h.push(()=>{zt.forEach((be,fe)=>{const Re=Tt.get(fe);be.forEach(qe=>xr(qe,Re))}),a.forEach((be,fe)=>{const Re=m.get(fe);be.forEach(qe=>xr(qe,Re))}),Yn.forEach(be=>{this.processLeaveNode(be)})});const o=[],l=[];for(let be=this._namespaceList.length-1;be>=0;be--)this._namespaceList[be].drainQueuedTransitions(d).forEach(Re=>{const qe=Re.player,nt=Re.element;if(o.push(qe),this.collectedEnterElements.length){const At=nt[tr];if(At&&At.setForMove){if(At.previousTriggersValues&&At.previousTriggersValues.has(Re.triggerName)){const Hn=At.previousTriggersValues.get(Re.triggerName),rr=this.statesByElement.get(Re.element);if(rr&&rr.has(Re.triggerName)){const gr=rr.get(Re.triggerName);gr.value=Hn,rr.set(Re.triggerName,gr)}}return void qe.destroy()}}const Ut=!tt||!this.driver.containsElement(tt,nt),Bt=m.get(nt),he=Tt.get(nt),Ve=this._buildInstruction(Re,w,he,Bt,Ut);if(Ve.errors&&Ve.errors.length)return void l.push(Ve);if(Ut)return qe.onStart(()=>qt(nt,Ve.fromStyles)),qe.onDestroy(()=>Le(nt,Ve.toStyles)),void O.push(qe);if(Re.isFallbackTransition)return qe.onStart(()=>qt(nt,Ve.fromStyles)),qe.onDestroy(()=>Le(nt,Ve.toStyles)),void O.push(qe);const Kn=[];Ve.timelines.forEach(At=>{At.stretchStartingKeyframe=!0,this.disabledNodes.has(At.element)||Kn.push(At)}),Ve.timelines=Kn,w.append(nt,Ve.timelines),J.push({instruction:Ve,player:qe,element:nt}),Ve.queriedElements.forEach(At=>on(Y,At,[]).push(qe)),Ve.preStyleProps.forEach((At,Hn)=>{if(At.size){let rr=ae.get(Hn);rr||ae.set(Hn,rr=new Set),At.forEach((gr,co)=>rr.add(co))}}),Ve.postStyleProps.forEach((At,Hn)=>{let rr=Pe.get(Hn);rr||Pe.set(Hn,rr=new Set),At.forEach((gr,co)=>rr.add(co))})});if(l.length){const be=[];l.forEach(fe=>{be.push(function _r(A,h){return new E.wOt(3505,!1)}())}),o.forEach(fe=>fe.destroy()),this.reportError(be)}const v=new Map,M=new Map;J.forEach(be=>{const fe=be.element;w.has(fe)&&(M.set(fe,fe),this._beforeAnimationBuild(be.player.namespaceId,be.instruction,v))}),O.forEach(be=>{const fe=be.element;this._getPreviousPlayers(fe,!1,be.namespaceId,be.triggerName,null).forEach(qe=>{on(v,fe,[]).push(qe),qe.destroy()})});const x=Yn.filter(be=>P(be,ae,Pe)),R=new Map;cr(R,this.driver,Cr,Pe,oe).forEach(be=>{P(be,ae,Pe)&&x.push(be)});const K=new Map;zt.forEach((be,fe)=>{cr(K,this.driver,new Set(be),ae,"!")}),x.forEach(be=>{const fe=R.get(be),Re=K.get(be);R.set(be,new Map([...fe?.entries()??[],...Re?.entries()??[]]))});const Z=[],De=[],je={};J.forEach(be=>{const{element:fe,player:Re,instruction:qe}=be;if(w.has(fe)){if(Ze.has(fe))return Re.onDestroy(()=>Le(fe,qe.toStyles)),Re.disabled=!0,Re.overrideTotalTime(qe.totalTime),void O.push(Re);let nt=je;if(M.size>1){let Bt=fe;const he=[];for(;Bt=Bt.parentNode;){const Ve=M.get(Bt);if(Ve){nt=Ve;break}he.push(Bt)}he.forEach(Ve=>M.set(Ve,nt))}const Ut=this._buildAnimation(Re.namespaceId,qe,v,V,K,R);if(Re.setRealPlayer(Ut),nt===je)Z.push(Re);else{const Bt=this.playersByElement.get(nt);Bt&&Bt.length&&(Re.parentPlayer=xn(Bt)),O.push(Re)}}else qt(fe,qe.fromStyles),Re.onDestroy(()=>Le(fe,qe.toStyles)),De.push(Re),Ze.has(fe)&&O.push(Re)}),De.forEach(be=>{const fe=V.get(be.element);if(fe&&fe.length){const Re=xn(fe);be.setRealPlayer(Re)}}),O.forEach(be=>{be.parentPlayer?be.syncPlayerEvents(be.parentPlayer):be.destroy()});for(let be=0;be<Yn.length;be++){const fe=Yn[be],Re=fe[tr];if(xr(fe,et),Re&&Re.hasAnimation)continue;let qe=[];if(Y.size){let Ut=Y.get(fe);Ut&&Ut.length&&qe.push(...Ut);let Bt=this.driver.query(fe,Gn,!0);for(let he=0;he<Bt.length;he++){let Ve=Y.get(Bt[he]);Ve&&Ve.length&&qe.push(...Ve)}}const nt=qe.filter(Ut=>!Ut.destroyed);nt.length?Yr(this,fe,nt):this.processLeaveNode(fe)}return Yn.length=0,Z.forEach(be=>{this.players.push(be),be.onDone(()=>{be.destroy();const fe=this.players.indexOf(be);this.players.splice(fe,1)}),be.play()}),Z}afterFlush(h){this._flushFns.push(h)}afterFlushAnimationsDone(h){this._whenQuietFns.push(h)}_getPreviousPlayers(h,d,w,O,V){let J=[];if(d){const Y=this.playersByQueriedElement.get(h);Y&&(J=Y)}else{const Y=this.playersByElement.get(h);if(Y){const ae=!V||V==li;Y.forEach(Pe=>{Pe.queued||!ae&&Pe.triggerName!=O||J.push(Pe)})}}return(w||O)&&(J=J.filter(Y=>!(w&&w!=Y.namespaceId||O&&O!=Y.triggerName))),J}_beforeAnimationBuild(h,d,w){const V=d.element,J=d.isRemovalTransition?void 0:h,Y=d.isRemovalTransition?void 0:d.triggerName;for(const ae of d.timelines){const Pe=ae.element,Ze=Pe!==V,tt=on(w,Pe,[]);this._getPreviousPlayers(Pe,Ze,J,Y,d.toState).forEach(zt=>{const Tt=zt.getRealPlayer();Tt.beforeDestroy&&Tt.beforeDestroy(),zt.destroy(),tt.push(zt)})}qt(V,d.fromStyles)}_buildAnimation(h,d,w,O,V,J){const Y=d.triggerName,ae=d.element,Pe=[],Ze=new Set,tt=new Set,hn=d.timelines.map(Tt=>{const It=Tt.element;Ze.add(It);const Yn=It[tr];if(Yn&&Yn.removedBeforeQueried)return new Ae(Tt.duration,Tt.delay);const pr=It!==ae,Cr=function Ln(A){const h=[];return Js(A,h),h}((w.get(It)||Ms).map(v=>v.getRealPlayer())).filter(v=>!!v.element&&v.element===It),m=V.get(It),a=J.get(It),o=_s(this._normalizer,Tt.keyframes,m,a),l=this._buildPlayer(Tt,o,Cr);if(Tt.subTimeline&&O&&tt.add(It),pr){const v=new ps(h,Y,It);v.setRealPlayer(l),Pe.push(v)}return l});Pe.forEach(Tt=>{on(this.playersByQueriedElement,Tt.element,[]).push(Tt),Tt.onDone(()=>function Xs(A,h,d){let w=A.get(h);if(w){if(w.length){const O=w.indexOf(d);w.splice(O,1)}0==w.length&&A.delete(h)}return w}(this.playersByQueriedElement,Tt.element,Tt))}),Ze.forEach(Tt=>Bn(Tt,Jt));const zt=xn(hn);return zt.onDestroy(()=>{Ze.forEach(Tt=>xr(Tt,Jt)),Le(ae,d.toStyles)}),tt.forEach(Tt=>{on(O,Tt,[]).push(zt)}),zt}_buildPlayer(h,d,w){return d.length>0?this.driver.animate(h.element,d,h.duration,h.delay,h.easing,w):new Ae(h.duration,h.delay)}}class ps{constructor(h,d,w){this.namespaceId=h,this.triggerName=d,this.element=w,this._player=new Ae,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(h){this._containsRealPlayer||(this._player=h,this._queuedCallbacks.forEach((d,w)=>{d.forEach(O=>gt(h,w,void 0,O))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(h.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(h){this.totalTime=h}syncPlayerEvents(h){const d=this._player;d.triggerCallback&&h.onStart(()=>d.triggerCallback("start")),h.onDone(()=>this.finish()),h.onDestroy(()=>this.destroy())}_queueEvent(h,d){on(this._queuedCallbacks,h,[]).push(d)}onDone(h){this.queued&&this._queueEvent("done",h),this._player.onDone(h)}onStart(h){this.queued&&this._queueEvent("start",h),this._player.onStart(h)}onDestroy(h){this.queued&&this._queueEvent("destroy",h),this._player.onDestroy(h)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(h){this.queued||this._player.setPosition(h)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(h){const d=this._player;d.triggerCallback&&d.triggerCallback(h)}}function Pn(A){return A&&1===A.nodeType}function Fn(A,h){const d=A.style.display;return A.style.display=h??"none",d}function cr(A,h,d,w,O){const V=[];d.forEach(ae=>V.push(Fn(ae)));const J=[];w.forEach((ae,Pe)=>{const Ze=new Map;ae.forEach(tt=>{const hn=h.computeStyle(Pe,tt,O);Ze.set(tt,hn),(!hn||0==hn.length)&&(Pe[tr]=xs,J.push(Pe))}),A.set(Pe,Ze)});let Y=0;return d.forEach(ae=>Fn(ae,V[Y++])),J}function Qs(A,h){const d=new Map;if(A.forEach(Y=>d.set(Y,[])),0==h.length)return d;const O=new Set(h),V=new Map;function J(Y){if(!Y)return 1;let ae=V.get(Y);if(ae)return ae;const Pe=Y.parentNode;return ae=d.has(Pe)?Pe:O.has(Pe)?1:J(Pe),V.set(Y,ae),ae}return h.forEach(Y=>{const ae=J(Y);1!==ae&&d.get(ae).push(Y)}),d}function Bn(A,h){A.classList?.add(h)}function xr(A,h){A.classList?.remove(h)}function Yr(A,h,d){xn(d).onDone(()=>A.processLeaveNode(h))}function Js(A,h){for(let d=0;d<A.length;d++){const w=A[d];w instanceof Xe?Js(w.players,h):h.push(w)}}function P(A,h,d){const w=d.get(A);if(!w)return!1;let O=h.get(A);return O?w.forEach(V=>O.add(V)):h.set(A,w),d.delete(A),!0}class N{constructor(h,d,w){this.bodyNode=h,this._driver=d,this._normalizer=w,this._triggerCache={},this.onRemovalComplete=(O,V)=>{},this._transitionEngine=new $r(h,d,w),this._timelineEngine=new Qr(h,d,w),this._transitionEngine.onRemovalComplete=(O,V)=>this.onRemovalComplete(O,V)}registerTrigger(h,d,w,O,V){const J=h+"-"+O;let Y=this._triggerCache[J];if(!Y){const ae=[],Ze=vi(this._driver,V,ae,[]);if(ae.length)throw function lt(A,h){return new E.wOt(3404,!1)}();Y=function wr(A,h,d){return new Rs(A,h,d)}(O,Ze,this._normalizer),this._triggerCache[J]=Y}this._transitionEngine.registerTrigger(d,O,Y)}register(h,d){this._transitionEngine.register(h,d)}destroy(h,d){this._transitionEngine.destroy(h,d)}onInsert(h,d,w,O){this._transitionEngine.insertNode(h,d,w,O)}onRemove(h,d,w){this._transitionEngine.removeNode(h,d,w)}disableAnimations(h,d){this._transitionEngine.markElementAsDisabled(h,d)}process(h,d,w,O){if("@"==w.charAt(0)){const[V,J]=Dr(w);this._timelineEngine.command(V,d,J,O)}else this._transitionEngine.trigger(h,d,w,O)}listen(h,d,w,O,V){if("@"==w.charAt(0)){const[J,Y]=Dr(w);return this._timelineEngine.listen(J,d,Y,V)}return this._transitionEngine.listen(h,d,w,O,V)}flush(h=-1){this._transitionEngine.flush(h)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(h){this._transitionEngine.afterFlushAnimationsDone(h)}}let $=(()=>{class A{static{this.initialStylesByElement=new WeakMap}constructor(d,w,O){this._element=d,this._startStyles=w,this._endStyles=O,this._state=0;let V=A.initialStylesByElement.get(d);V||A.initialStylesByElement.set(d,V=new Map),this._initialStyles=V}start(){this._state<1&&(this._startStyles&&Le(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Le(this._element,this._initialStyles),this._endStyles&&(Le(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(A.initialStylesByElement.delete(this._element),this._startStyles&&(qt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(qt(this._element,this._endStyles),this._endStyles=null),Le(this._element,this._initialStyles),this._state=3)}}return A})();function ne(A){let h=null;return A.forEach((d,w)=>{(function Ct(A){return"display"===A||"position"===A})(w)&&(h=h||new Map,h.set(w,d))}),h}class $t{constructor(h,d,w,O){this.element=h,this.keyframes=d,this.options=w,this._specialStyles=O,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=w.duration,this._delay=w.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(h=>h()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const h=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,h,this.options),this._finalKeyframe=h.length?h[h.length-1]:new Map;const d=()=>this._onFinish();this.domPlayer.addEventListener("finish",d),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",d)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(h){const d=[];return h.forEach(w=>{d.push(Object.fromEntries(w))}),d}_triggerWebAnimation(h,d,w){return h.animate(this._convertKeyframesToObject(d),w)}onStart(h){this._originalOnStartFns.push(h),this._onStartFns.push(h)}onDone(h){this._originalOnDoneFns.push(h),this._onDoneFns.push(h)}onDestroy(h){this._onDestroyFns.push(h)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(h=>h()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(h=>h()),this._onDestroyFns=[])}setPosition(h){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=h*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const h=new Map;this.hasStarted()&&this._finalKeyframe.forEach((w,O)=>{"offset"!==O&&h.set(O,this._finished?w:_n(this.element,O))}),this.currentSnapshot=h}triggerCallback(h){const d="start"===h?this._onStartFns:this._onDoneFns;d.forEach(w=>w()),d.length=0}}class Br{validateStyleProperty(h){return!0}validateAnimatableStyleProperty(h){return!0}matchesElement(h,d){return!1}containsElement(h,d){return er(h,d)}getParentElement(h){return en(h)}query(h,d,w){return Ir(h,d,w)}computeStyle(h,d,w){return window.getComputedStyle(h)[d]}animate(h,d,w,O,V,J=[]){const ae={duration:w,delay:O,fill:0==O?"both":"forwards"};V&&(ae.easing=V);const Pe=new Map,Ze=J.filter(zt=>zt instanceof $t);(function Hr(A,h){return 0===A||0===h})(w,O)&&Ze.forEach(zt=>{zt.currentSnapshot.forEach((Tt,It)=>Pe.set(It,Tt))});let tt=function ke(A){return A.length?A[0]instanceof Map?A:A.map(h=>te(h)):[]}(d).map(zt=>Ye(zt));tt=function Or(A,h,d){if(d.size&&h.length){let w=h[0],O=[];if(d.forEach((V,J)=>{w.has(J)||O.push(J),w.set(J,V)}),O.length)for(let V=1;V<h.length;V++){let J=h[V];O.forEach(Y=>J.set(Y,_n(A,Y)))}}return h}(h,tt,Pe);const hn=function D(A,h){let d=null,w=null;return Array.isArray(h)&&h.length?(d=ne(h[0]),h.length>1&&(w=ne(h[h.length-1]))):h instanceof Map&&(d=ne(h)),d||w?new $(A,d,w):null}(h,tt);return new $t(h,tt,ae,hn)}}var vr=F(177);let Zr=(()=>{class A extends ye{constructor(d,w){super(),this._nextAnimationId=0,this._renderer=d.createRenderer(w.body,{id:"0",encapsulation:E.gXe.None,styles:[],data:{animation:[]}})}build(d){const w=this._nextAnimationId.toString();this._nextAnimationId++;const O=Array.isArray(d)?We(d):d;return Ei(this._renderer,null,w,"register",[O]),new Nr(w,this._renderer)}static{this.\u0275fac=function(w){return new(w||A)(E.KVO(E._9s),E.KVO(vr.qQ))}}static{this.\u0275prov=E.jDH({token:A,factory:A.\u0275fac})}}return A})();class Nr extends me{constructor(h,d){super(),this._id=h,this._renderer=d}create(h,d){return new ci(this._id,h,d||{},this._renderer)}}class ci{constructor(h,d,w,O){this.id=h,this.element=d,this._renderer=O,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",w)}_listen(h,d){return this._renderer.listen(this.element,`@@${this.id}:${h}`,d)}_command(h,...d){return Ei(this._renderer,this.element,this.id,h,d)}onDone(h){this._listen("done",h)}onStart(h){this._listen("start",h)}onDestroy(h){this._listen("destroy",h)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(h){this._command("setPosition",h)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Ei(A,h,d,w,O){return A.setProperty(h,`@@${d}:${w}`,O)}const di="@.disabled";let so=(()=>{class A{constructor(d,w,O){this.delegate=d,this.engine=w,this._zone=O,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,w.onRemovalComplete=(V,J)=>{const Y=J?.parentNode(V);Y&&J.removeChild(Y,V)}}createRenderer(d,w){const V=this.delegate.createRenderer(d,w);if(!(d&&w&&w.data&&w.data.animation)){let Ze=this._rendererCache.get(V);return Ze||(Ze=new Di("",V,this.engine,()=>this._rendererCache.delete(V)),this._rendererCache.set(V,Ze)),Ze}const J=w.id,Y=w.id+"-"+this._currentId;this._currentId++,this.engine.register(Y,d);const ae=Ze=>{Array.isArray(Ze)?Ze.forEach(ae):this.engine.registerTrigger(J,Y,d,Ze.name,Ze)};return w.data.animation.forEach(ae),new Bi(this,Y,V,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(d,w,O){d>=0&&d<this._microtaskId?this._zone.run(()=>w(O)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(V=>{const[J,Y]=V;J(Y)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([w,O]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(w){return new(w||A)(E.KVO(E._9s),E.KVO(N),E.KVO(E.SKi))}}static{this.\u0275prov=E.jDH({token:A,factory:A.\u0275fac})}}return A})();class Di{constructor(h,d,w,O){this.namespaceId=h,this.delegate=d,this.engine=w,this._onDestroy=O}get data(){return this.delegate.data}destroyNode(h){this.delegate.destroyNode?.(h)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(h,d){return this.delegate.createElement(h,d)}createComment(h){return this.delegate.createComment(h)}createText(h){return this.delegate.createText(h)}appendChild(h,d){this.delegate.appendChild(h,d),this.engine.onInsert(this.namespaceId,d,h,!1)}insertBefore(h,d,w,O=!0){this.delegate.insertBefore(h,d,w),this.engine.onInsert(this.namespaceId,d,h,O)}removeChild(h,d,w){this.engine.onRemove(this.namespaceId,d,this.delegate)}selectRootElement(h,d){return this.delegate.selectRootElement(h,d)}parentNode(h){return this.delegate.parentNode(h)}nextSibling(h){return this.delegate.nextSibling(h)}setAttribute(h,d,w,O){this.delegate.setAttribute(h,d,w,O)}removeAttribute(h,d,w){this.delegate.removeAttribute(h,d,w)}addClass(h,d){this.delegate.addClass(h,d)}removeClass(h,d){this.delegate.removeClass(h,d)}setStyle(h,d,w,O){this.delegate.setStyle(h,d,w,O)}removeStyle(h,d,w){this.delegate.removeStyle(h,d,w)}setProperty(h,d,w){"@"==d.charAt(0)&&d==di?this.disableAnimations(h,!!w):this.delegate.setProperty(h,d,w)}setValue(h,d){this.delegate.setValue(h,d)}listen(h,d,w){return this.delegate.listen(h,d,w)}disableAnimations(h,d){this.engine.disableAnimations(h,d)}}class Bi extends Di{constructor(h,d,w,O,V){super(d,w,O,V),this.factory=h,this.namespaceId=d}setProperty(h,d,w){"@"==d.charAt(0)?"."==d.charAt(1)&&d==di?this.disableAnimations(h,w=void 0===w||!!w):this.engine.process(this.namespaceId,h,d.slice(1),w):this.delegate.setProperty(h,d,w)}listen(h,d,w){if("@"==d.charAt(0)){const O=function Do(A){switch(A){case"body":return document.body;case"document":return document;case"window":return window;default:return A}}(h);let V=d.slice(1),J="";return"@"!=V.charAt(0)&&([V,J]=function jt(A){const h=A.indexOf(".");return[A.substring(0,h),A.slice(h+1)]}(V)),this.engine.listen(this.namespaceId,O,V,J,Y=>{this.factory.scheduleListenerCallback(Y._data||-1,w,Y)})}return this.delegate.listen(h,d,w)}}const es=[{provide:ye,useClass:Zr},{provide:Lr,useFactory:function Ts(){return new it}},{provide:N,useClass:(()=>{class A extends N{constructor(d,w,O,V){super(d.body,w,O)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(w){return new(w||A)(E.KVO(vr.qQ),E.KVO(xe),E.KVO(Lr),E.KVO(E.o8S))}}static{this.\u0275prov=E.jDH({token:A,factory:A.\u0275fac})}}return A})()},{provide:E._9s,useFactory:function xi(A,h,d){return new so(A,h,d)},deps:[u.B7,N,E.SKi]}],Jn=[{provide:xe,useFactory:()=>new Br},{provide:E.bc$,useValue:"BrowserAnimations"},...es],ao={providers:[(0,G.lh)(X),(0,de.$R)(),(0,u.$x)(),function io(){return[...Jn]}()]};var hi=F(4341),Ys=F(4412),Ni=F(8359),Fs=F(7673),Hi=F(6354),Xi=F(6697),Ls=F(8141),Kr=F(9437),Zs=F(5312),Si=F(5321);let lo=(()=>{class A{http;apiUrl=Zs.c.apiUrl;supabase;channel=null;messagesSubject=new Ys.t([]);messages$=this.messagesSubject.asObservable();typingUsersSubject=new Ys.t([]);typingUsers$=this.typingUsersSubject.asObservable();statsSubject=new Ys.t(null);stats$=this.statsSubject.asObservable();connectedSubject=new Ys.t(!0);connected$=this.connectedSubject.asObservable();onlineUsersSubject=new Ys.t(1);onlineUsers$=this.onlineUsersSubject.asObservable();currentUser="Usuario";userId=this.generateUserId();currentRoom="general";isTyping=!1;subscriptions=[];constructor(d){this.http=d,this.supabase=(0,Si.UU)(Zs.c.supabaseUrl,Zs.c.supabaseKey,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:localStorage},realtime:{params:{eventsPerSecond:10}}}),this.loadUserFromStorage(),this.loadInitialHistory().subscribe(()=>{this.setupRealtimeSubscription()}),this.subscriptions.push(this.setupPeriodicStats(),this.setupOnlineUsersCheck())}ngOnDestroy(){this.subscriptions.forEach(d=>d.unsubscribe()),this.setTyping(!1),this.channel&&this.supabase.removeChannel(this.channel)}setupRealtimeSubscription(){this.channel=this.supabase.channel("chat-messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages",filter:`room=eq.${this.currentRoom}`},d=>{this.handleNewMessage(d)}).on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages",filter:"message_type=eq.system"},d=>{this.handleSystemMessage(d)}).subscribe(d=>{console.log("Canal de Supabase:",d),this.connectedSubject.next("SUBSCRIBED"===d)})}handleNewMessage(d){const w={id:d.new.id,user:d.new.user_name,user_id:d.new.user_id,message:d.new.message,timestamp:d.new.created_at,room:d.new.room,type:d.new.message_type||"message"},O=this.messagesSubject.value;if(!O.find(V=>V.id===w.id)){const J=[...O,w].sort((Y,ae)=>new Date(Y.timestamp).getTime()-new Date(ae.timestamp).getTime()).slice(-200);this.messagesSubject.next(J)}}getAuthToken(){return localStorage.getItem("adminToken")||localStorage.getItem("auth_token")}handleSystemMessage(d){this.handleNewMessage(d)}setupPeriodicStats(){return new Ni.yU(()=>{const d=setInterval(()=>{this.loadStatsObservable().subscribe()},3e4);return()=>clearInterval(d)})}setupOnlineUsersCheck(){return new Ni.yU(()=>{const d=setInterval(()=>{this.checkOnlineUsers().subscribe()},15e3);return()=>clearInterval(d)})}loadUserFromStorage(){const d=localStorage.getItem("chat_user_name");d&&(this.currentUser=d)}loadInitialHistory(){return this.http.get(`${this.apiUrl}/api/chat/messages?limit=100`).pipe((0,Ls.M)({next:d=>{this.messagesSubject.next(d.messages||[]),this.connectedSubject.next(!0)},error:d=>{console.error("Error loading initial history:",d),this.connectedSubject.next(!1)}}),(0,Kr.W)(d=>(console.error("API call failed for initial history:",d),this.connectedSubject.next(!1),(0,Fs.of)(null))))}checkOnlineUsers(){return this.http.get(`${this.apiUrl}/api/chat/online-users`).pipe((0,Kr.W)(d=>(0,Fs.of)({online_users:1})),(0,Ls.M)(d=>this.onlineUsersSubject.next(d.online_users)))}sendMessage(d){const w=this.getAuthToken(),O={"Content-Type":"application/json"};w&&(O.Authorization=`Bearer ${w}`);const V={message:d.trim(),user:this.currentUser,user_id:this.userId,room:this.currentRoom};return this.http.post(`${this.apiUrl}/api/chat/send`,V,{headers:O}).pipe((0,Ls.M)(J=>{J.success&&J.message&&this.setTyping(!1)}))}deleteMessage(d){const w=this.getAuthToken(),O={};return w&&(O.Authorization=`Bearer ${w}`),this.http.delete(`${this.apiUrl}/api/chat/messages/${d}`,{headers:O})}isAdmin(){const d=this.getAuthToken();if(!d)return!1;const w=localStorage.getItem("adminUser");if(!w)return!!d;try{return"admin"===JSON.parse(w).role}catch{return!!d}}setTyping(d){this.isTyping!==d&&(this.isTyping=d,this.http.post(`${this.apiUrl}/api/chat/typing`,{user:this.currentUser,room:this.currentRoom,is_typing:d}).pipe((0,Kr.W)(()=>(0,Fs.of)(null))).subscribe())}setUser(d){d&&d.trim()&&(this.currentUser=d.trim(),localStorage.setItem("chat_user_name",this.currentUser))}getUser(){return this.currentUser}loadStatsObservable(){return this.http.get(`${this.apiUrl}/api/chat/stats`).pipe((0,Kr.W)(()=>(0,Fs.of)(null)),(0,Ls.M)(d=>{d&&this.statsSubject.next(d)}))}loadStats(){this.loadStatsObservable().subscribe()}validateUsername(d){const w=this.getAuthToken();console.log("[ChatService] Validating username. Token exists:",!!w);const O={"Content-Type":"application/json"};return w&&(O.Authorization=`Bearer ${w}`),this.http.post(`${this.apiUrl}/api/chat/validate-username`,{username:d},{headers:O}).pipe((0,Kr.W)(V=>(0,Fs.of)({valid:!1,error:"Error validando nombre"})))}generateUserId(){let d=localStorage.getItem("chat_user_id");return d||(d=`user_${Math.random().toString(36).substring(2,11)}`,localStorage.setItem("chat_user_id",d)),d}static \u0275fac=function(w){return new(w||A)(E.KVO(de.Qq))};static \u0275prov=E.jDH({token:A,factory:A.\u0275fac,providedIn:"root"})}return A})();const So=["messagesContainer"],uo=["chatContainer"];function Mi(A,h){if(1&A&&(E.j41(0,"span",14),E.EFF(1),E.k0s()),2&A){const d=E.XpG(2);E.R7$(1),E.JRh(d.unreadMessages)}}function jo(A,h){1&A&&(E.j41(0,"div",22),E.nrm(1,"i",23),E.EFF(2," Reconectando... "),E.k0s())}function y(A,h){if(1&A){const d=E.RV6();E.j41(0,"div",24)(1,"div",25),E.nrm(2,"i",26),E.EFF(3),E.k0s(),E.j41(4,"button",27),E.bIt("click",function(){E.eBV(d);const O=E.XpG(3);return E.Njj(O.showUserModal=!0)}),E.nrm(5,"i",28),E.k0s(),E.j41(6,"button",29),E.bIt("click",function(){E.eBV(d);const O=E.XpG(3);return E.Njj(O.isChatOpen=!1)}),E.nrm(7,"i",30),E.k0s()()}if(2&A){const d=h.ngIf;E.R7$(3),E.SpI(" ",d,"")}}function L(A,h){if(1&A&&(E.j41(0,"div",15)(1,"div",16)(2,"h4"),E.nrm(3,"i",17),E.EFF(4," Chat Musical"),E.k0s(),E.j41(5,"div",18),E.nrm(6,"span",19),E.EFF(7),E.k0s(),E.DNE(8,jo,3,0,"div",20),E.k0s(),E.DNE(9,y,8,1,"div",21),E.nI1(10,"async"),E.k0s()),2&A){const d=h.ngIf,w=E.XpG(2);E.R7$(5),E.AVh("connected",d)("disconnected",!d),E.R7$(2),E.SpI(" ",d?"Conectado":"Reconectando..."," "),E.R7$(1),E.Y8G("ngIf",!d),E.R7$(1),E.Y8G("ngIf",E.bMT(10,7,w.onlineUsers$))}}function S(A,h){if(1&A&&(E.j41(0,"div",31)(1,"div",32)(2,"small"),E.EFF(3),E.k0s()(),E.j41(4,"div",32)(5,"small"),E.EFF(6),E.k0s()()()),2&A){const d=h.ngIf;E.R7$(3),E.SpI("Total: ",null==d?null:d.total_messages,""),E.R7$(3),E.SpI("Hoy: ",null==d?null:d.messages_today,"")}}function k(A,h){if(1&A){const d=E.RV6();E.j41(0,"button",42),E.bIt("click",function(){E.eBV(d);const O=E.XpG(2).$implicit,V=E.XpG(3);return E.Njj(V.deleteMessage(O.id))}),E.nrm(1,"i",43),E.k0s()}}function Q(A,h){if(1&A&&(E.j41(0,"div",38)(1,"strong",39),E.EFF(2),E.k0s(),E.j41(3,"span",40),E.EFF(4),E.k0s(),E.DNE(5,k,2,0,"button",41),E.nI1(6,"async"),E.k0s()),2&A){const d=E.XpG().$implicit,w=E.XpG(3);E.R7$(2),E.JRh(d.user),E.R7$(2),E.JRh(w.formatTime(d.timestamp)),E.R7$(1),E.Y8G("ngIf",E.bMT(6,3,w.isAdmin$))}}function Ee(A,h){if(1&A&&(E.j41(0,"div",35),E.DNE(1,Q,7,5,"div",36),E.j41(2,"div",37),E.EFF(3),E.k0s()()),2&A){const d=h.$implicit,w=E.XpG(2).ngIf;E.AVh("system-message","system"===d.type)("own-message",d.user===w&&"message"===d.type),E.R7$(1),E.Y8G("ngIf","message"===d.type),E.R7$(2),E.JRh(d.message)}}function Ie(A,h){if(1&A&&(E.j41(0,"div")(1,"div",33)(2,"span"),E.EFF(3),E.k0s()(),E.DNE(4,Ee,4,6,"div",34),E.k0s()),2&A){const d=h.$implicit,w=E.XpG(2);E.R7$(3),E.JRh(d.label),E.R7$(1),E.Y8G("ngForOf",d.messages)("ngForTrackBy",w.trackByMessage)}}function yt(A,h){if(1&A&&(E.j41(0,"div")(1,"div",46),E.nrm(2,"span")(3,"span")(4,"span"),E.k0s(),E.j41(5,"span",47),E.EFF(6),E.k0s()()),2&A){const d=E.XpG().ngIf;E.R7$(6),E.Lme("",d.join(", ")," ",1===d.length?"est\xe1 escribiendo...":"est\xe1n escribiendo...","")}}function Rn(A,h){if(1&A&&(E.j41(0,"div",44),E.DNE(1,yt,7,2,"div",45),E.k0s()),2&A){const d=h.ngIf;E.R7$(1),E.Y8G("ngIf",d.length>0)}}function bn(A,h){if(1&A){const d=E.RV6();E.j41(0,"div",48)(1,"input",49,50),E.bIt("ngModelChange",function(O){E.eBV(d);const V=E.XpG(2);return E.Njj(V.newMessage=O)})("input",function(){E.eBV(d);const O=E.XpG(2);return E.Njj(O.onInputChange())})("keyup.enter",function(){E.eBV(d);const O=E.XpG(2);return E.Njj(O.sendMessage())}),E.k0s(),E.j41(3,"button",51),E.bIt("click",function(){E.eBV(d);const O=E.XpG(2);return E.Njj(O.sendMessage())}),E.nrm(4,"i",52),E.k0s()()}if(2&A){const d=h.ngIf,w=E.XpG(2);E.R7$(1),E.FS9("placeholder",d?"Escribe un mensaje...":"Conectando..."),E.Y8G("ngModel",w.newMessage)("disabled",!d),E.R7$(2),E.Y8G("disabled",!w.newMessage.trim()||!d)}}function nn(A,h){if(1&A&&(E.j41(0,"div",61)(1,"small",62),E.EFF(2),E.k0s()()),2&A){const d=E.XpG(3);E.R7$(2),E.JRh(d.usernameError)}}function Xt(A,h){if(1&A){const d=E.RV6();E.j41(0,"div",53),E.bIt("click",function(){E.eBV(d);const O=E.XpG(2);return E.Njj(O.showUserModal=!1)}),E.j41(1,"div",54),E.bIt("click",function(O){return O.stopPropagation()}),E.j41(2,"h4"),E.EFF(3,"Cambiar Nombre"),E.k0s(),E.j41(4,"input",55,56),E.bIt("keyup",function(){E.eBV(d);const O=E.sdS(5),V=E.XpG(2);return E.Njj(V.onUsernameInput(O.value))})("keyup.enter",function(){E.eBV(d);const O=E.sdS(5),V=E.XpG(2);return E.Njj(V.updateUser(O.value))}),E.k0s(),E.DNE(6,nn,3,1,"div",57),E.j41(7,"div",58)(8,"button",59),E.bIt("click",function(){E.eBV(d);const O=E.XpG(2);return E.Njj(O.showUserModal=!1)}),E.EFF(9,"Cancelar"),E.k0s(),E.j41(10,"button",60),E.bIt("click",function(){E.eBV(d);const O=E.sdS(5),V=E.XpG(2);return E.Njj(V.updateUser(O.value))}),E.EFF(11," Guardar "),E.k0s()()()()}if(2&A){const d=E.XpG().ngIf,w=E.XpG();E.R7$(4),E.Y8G("value",d),E.R7$(2),E.Y8G("ngIf",w.usernameError),E.R7$(4),E.Y8G("disabled",w.usernameError)}}function nr(A,h){if(1&A){const d=E.RV6();E.j41(0,"div",1)(1,"button",2),E.bIt("click",function(){E.eBV(d);const O=E.XpG();return E.Njj(O.toggleChat())}),E.nrm(2,"i",3),E.DNE(3,Mi,2,1,"span",4),E.k0s(),E.j41(4,"div",5),E.DNE(5,L,11,9,"div",6),E.nI1(6,"async"),E.DNE(7,S,7,2,"div",7),E.nI1(8,"async"),E.j41(9,"div",8,9),E.DNE(11,Ie,5,3,"div",10),E.nI1(12,"async"),E.DNE(13,Rn,2,1,"div",11),E.nI1(14,"async"),E.k0s(),E.DNE(15,bn,5,4,"div",12),E.nI1(16,"async"),E.DNE(17,Xt,12,3,"div",13),E.k0s()()}if(2&A){const d=E.XpG();E.R7$(1),E.AVh("has-unread",d.unreadMessages>0),E.R7$(2),E.Y8G("ngIf",d.unreadMessages>0),E.R7$(1),E.AVh("open",d.isChatOpen),E.R7$(1),E.Y8G("ngIf",E.bMT(6,11,d.connected$)),E.R7$(2),E.Y8G("ngIf",E.bMT(8,13,d.stats$)),E.R7$(4),E.Y8G("ngForOf",E.bMT(12,15,d.groupedMessages$)),E.R7$(2),E.Y8G("ngIf",E.bMT(14,17,d.typingUsers$)),E.R7$(2),E.Y8G("ngIf",E.bMT(16,19,d.connected$)),E.R7$(2),E.Y8G("ngIf",d.showUserModal)}}let Nn=(()=>{class A{chatService;cdr;elementRef;messagesContainer;chatContainer;isChatOpen=!1;newMessage="";showUserModal=!1;unreadMessages=0;usernameError="";previousMessageCount=0;messages$;groupedMessages$;typingUsers$;onlineUsers$;connected$;stats$;currentUser$;isAdminSubject=new Ys.t(!1);isAdmin$=this.isAdminSubject.asObservable();subscriptions=new Ni.yU;typingTimeout;constructor(d,w,O){this.chatService=d,this.cdr=w,this.elementRef=O,this.messages$=this.chatService.messages$,this.typingUsers$=this.chatService.typingUsers$,this.onlineUsers$=this.chatService.onlineUsers$,this.connected$=this.chatService.connected$,this.stats$=this.chatService.stats$,this.currentUser$=(0,Fs.of)(this.chatService.getUser()),this.connected$=this.chatService.connected$,this.stats$=this.chatService.stats$,this.currentUser$=(0,Fs.of)(this.chatService.getUser()),this.isAdminSubject.next(this.chatService.isAdmin()),this.groupedMessages$=this.messages$.pipe((0,Hi.T)(V=>this.groupMessagesByDate(V)))}ngOnInit(){const d=this.messages$.subscribe(w=>{setTimeout(()=>{this.handleNewMessages(w),this.cdr.detectChanges(),this.autoScrollToBottom()})});this.subscriptions.add(d),setTimeout(()=>{this.chatService.loadInitialHistory().subscribe()},1e3)}onUsernameInput(d){const w=d.trim();w?this.chatService.validateUsername(w).subscribe({next:O=>{this.usernameError=O.valid?"":O.error||"",this.cdr.markForCheck()},error:()=>{this.usernameError="",this.cdr.markForCheck()}}):(this.usernameError="",this.cdr.markForCheck())}ngOnDestroy(){this.subscriptions.unsubscribe(),this.typingTimeout&&clearTimeout(this.typingTimeout)}handleNewMessages(d){if(!this.messagesContainer)return;const w=d.length,O=this.previousMessageCount;if(this.previousMessageCount=w,this.isChatOpen){const V=w-O;V>0&&O>0&&(this.unreadMessages+=V)}else{const V=w-O;V>0&&(this.unreadMessages+=V,this.showNewMessageNotification(this.unreadMessages))}}sendMessage(){this.connected$.pipe((0,Xi.s)(1)).subscribe(d=>{if(this.newMessage.trim()&&d){const w=this.newMessage.trim();this.newMessage="",this.cdr.markForCheck(),this.chatService.sendMessage(w).subscribe({next:()=>{this.stopTyping(),this.scrollToBottom()},error:O=>{this.newMessage=w,this.cdr.markForCheck(),O.error&&O.error.error&&alert(O.error.error)}})}})}scrollToBottom(){this.messagesContainer&&setTimeout(()=>{try{this.messagesContainer.nativeElement.scrollTop=this.messagesContainer.nativeElement.scrollHeight}catch(d){console.error("Error en scroll:",d)}},50)}showNewMessageNotification(d){!document.hasFocus()&&"Notification"in window&&"granted"===Notification.permission&&new Notification(`Tienes ${d} nuevo${d>1?"s":""} mensaje${d>1?"s":""}`)}toggleChat(){this.isChatOpen=!this.isChatOpen,this.isChatOpen&&(this.unreadMessages=0,this.chatService.loadStats(),setTimeout(()=>{this.scrollToBottom(),this.chatService.loadInitialHistory().subscribe()},100))}setupRealtimeMessages(){const d=this.messages$.subscribe(w=>{const O=this.isNearBottom();this.handleNewMessages(w),this.cdr.markForCheck(),O&&this.autoScrollToBottom()});this.subscriptions.add(d)}isNearBottom(){if(!this.messagesContainer)return!0;const d=this.messagesContainer.nativeElement;return d.scrollHeight-(d.scrollTop+d.clientHeight)<=150}autoScrollToBottom(){this.messagesContainer&&setTimeout(()=>{const d=this.messagesContainer.nativeElement;d.scrollTop=d.scrollHeight},100)}onInputChange(){this.connected$.pipe((0,Xi.s)(1)).subscribe(d=>{this.newMessage.trim()&&d?(this.chatService.setTyping(!0),this.typingTimeout&&clearTimeout(this.typingTimeout),this.typingTimeout=setTimeout(()=>this.stopTyping(),2500)):this.stopTyping()})}stopTyping(){this.typingTimeout&&(clearTimeout(this.typingTimeout),this.typingTimeout=null),this.chatService.setTyping(!1)}updateUser(d){const w=d.trim();w&&this.chatService.validateUsername(w).subscribe({next:O=>{O.valid?(this.chatService.setUser(w),this.currentUser$=(0,Fs.of)(w),this.showUserModal=!1,this.usernameError="",this.cdr.markForCheck(),O.is_admin?(console.log("\u2705 Modo administrador activado para el chat"),this.isAdminSubject.next(!0)):this.isAdminSubject.next(this.chatService.isAdmin())):(this.usernameError=O.error||"Nombre no v\xe1lido",this.cdr.markForCheck())},error:()=>{this.usernameError="Error validando el nombre de usuario",this.cdr.markForCheck()}})}formatTime(d){return new Date(d).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})}trackByMessage(d,w){return w.id}onDocumentClick(d){this.isChatOpen&&!this.elementRef.nativeElement.contains(d.target)&&(this.isChatOpen=!1,this.cdr.markForCheck())}deleteMessage(d){confirm("\xbfEst\xe1s seguro de que quieres eliminar este mensaje?")&&this.chatService.deleteMessage(d).subscribe({next:()=>{},error:w=>{console.error("Error al eliminar mensaje:",w),alert("No se pudo eliminar el mensaje")}})}groupMessagesByDate(d){const w=[],O=new Date;O.setHours(0,0,0,0);const V=new Date(O);return V.setDate(V.getDate()-1),d.forEach(J=>{const Y=new Date(J.timestamp),ae=new Date(Y);ae.setHours(0,0,0,0);let Pe="";Pe=ae.getTime()===O.getTime()?"Hoy":ae.getTime()===V.getTime()?"Ayer":Y.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"});let Ze=w[w.length-1];Ze&&Ze.label===Pe?Ze.messages.push(J):w.push({label:Pe,messages:[J]})}),w}static \u0275fac=function(w){return new(w||A)(E.rXU(lo),E.rXU(E.gRc),E.rXU(E.aKT))};static \u0275cmp=E.VBU({type:A,selectors:[["app-floating-chat"]],viewQuery:function(w,O){if(1&w&&(E.GBs(So,5),E.GBs(uo,5)),2&w){let V;E.mGM(V=E.lsd())&&(O.messagesContainer=V.first),E.mGM(V=E.lsd())&&(O.chatContainer=V.first)}},hostBindings:function(w,O){1&w&&E.bIt("click",function(J){return O.onDocumentClick(J)},!1,E.EBC)},standalone:!0,features:[E.aNF],decls:2,vars:3,consts:[["class","floating-chat-container",4,"ngIf"],[1,"floating-chat-container"],[1,"floating-chat-button",3,"click"],[1,"fas","fa-comments"],["class","unread-badge",4,"ngIf"],[1,"chat-window"],["class","chat-header",4,"ngIf"],["class","chat-stats",4,"ngIf"],[1,"messages-container"],["messagesContainer",""],[4,"ngFor","ngForOf"],["class","typing-indicator",4,"ngIf"],["class","input-container",4,"ngIf"],["class","modal-overlay",3,"click",4,"ngIf"],[1,"unread-badge"],[1,"chat-header"],[1,"header-left"],[1,"fas","fa-comments","me-2"],[1,"connection-status"],[1,"status-dot"],["class","reconnection-message",4,"ngIf"],["class","header-right",4,"ngIf"],[1,"reconnection-message"],[1,"fas","fa-sync-alt","fa-spin"],[1,"header-right"],[1,"online-users"],[1,"fas","fa-users","me-1"],["title","Cambiar usuario",1,"btn-user",3,"click"],[1,"fas","fa-user-edit"],["title","Cerrar chat",1,"btn-close",3,"click"],[1,"fas","fa-times"],[1,"chat-stats"],[1,"stat-item"],[1,"date-divider"],["class","message",3,"system-message","own-message",4,"ngFor","ngForOf","ngForTrackBy"],[1,"message"],["class","message-header",4,"ngIf"],[1,"message-content"],[1,"message-header"],[1,"username"],[1,"message-time"],["class","btn-delete-msg","title","Eliminar mensaje",3,"click",4,"ngIf"],["title","Eliminar mensaje",1,"btn-delete-msg",3,"click"],[1,"fas","fa-trash-alt"],[1,"typing-indicator"],[4,"ngIf"],[1,"typing-dots"],[1,"typing-text"],[1,"input-container"],["type","text",1,"message-input",3,"ngModel","disabled","placeholder","ngModelChange","input","keyup.enter"],["messageInput",""],[1,"send-button",3,"disabled","click"],[1,"fas","fa-paper-plane"],[1,"modal-overlay",3,"click"],[1,"modal-content",3,"click"],["type","text","placeholder","Tu nombre de usuario","maxlength","20",1,"user-input",3,"value","keyup","keyup.enter"],["userInput",""],["class","validation-message",4,"ngIf"],[1,"modal-actions"],[1,"btn-cancel",3,"click"],[1,"btn-save",3,"disabled","click"],[1,"validation-message"],[1,"text-danger"]],template:function(w,O){1&w&&(E.DNE(0,nr,18,21,"div",0),E.nI1(1,"async")),2&w&&E.Y8G("ngIf",E.bMT(1,1,O.currentUser$))},dependencies:[vr.MD,vr.Sq,vr.bT,vr.Jj,hi.YN,hi.me,hi.BC,hi.vS],styles:[".floating-chat-container[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;z-index:10002}.floating-chat-button[_ngcontent-%COMP%]{position:relative;width:70px;height:70px;border-radius:50%;background:linear-gradient(135deg,var(--primary-color),#1db954);color:#fff;border:none;cursor:pointer;box-shadow:0 6px 25px #1db95480;display:flex;align-items:center;justify-content:center;font-size:1.8rem;transition:all .3s ease}.floating-chat-button[_ngcontent-%COMP%]:hover{transform:scale(1.15);box-shadow:0 8px 30px #1db954b3}.floating-chat-button.has-unread[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s infinite}.floating-chat-button[_ngcontent-%COMP%]   .unread-badge[_ngcontent-%COMP%]{position:absolute;top:-5px;right:-5px;background:#e74c3c;color:#fff;border-radius:50%;width:24px;height:24px;font-size:.8rem;display:flex;align-items:center;justify-content:center;font-weight:700;border:2px solid var(--card-bg)}.chat-window[_ngcontent-%COMP%]{position:absolute;bottom:85px;right:0;width:450px;height:650px;background:var(--card-bg);border:1px solid var(--hover-bg);border-radius:16px;box-shadow:0 15px 50px #0006;display:flex;flex-direction:column;opacity:0;transform:translateY(20px) scale(.95);pointer-events:none;transition:all .3s cubic-bezier(.4,0,.2,1)}.chat-window.open[_ngcontent-%COMP%]{opacity:1;transform:translateY(0) scale(1);pointer-events:all}.chat-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.25rem;background:linear-gradient(135deg,var(--hover-bg),var(--card-bg));border-bottom:1px solid var(--border-color);border-radius:16px 16px 0 0}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;color:var(--text-primary);font-size:1.1rem;font-weight:600}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .connection-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.75rem;padding:.3rem .6rem;border-radius:20px;background:var(--bg-color);font-weight:500}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .connection-status.connected[_ngcontent-%COMP%]{color:#10b981;background:rgba(16,185,129,.1)}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .connection-status.connected[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{background:#10b981;box-shadow:0 0 8px #10b98180}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .connection-status.disconnected[_ngcontent-%COMP%]{color:#ef4444;background:rgba(239,68,68,.1)}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .connection-status.disconnected[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{background:#ef4444}.chat-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]   .connection-status[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%;animation:_ngcontent-%COMP%_pulse 2s infinite}.chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .online-users[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.3rem;padding:.4rem .8rem;background:var(--bg-color);border-radius:20px;font-size:.8rem;color:var(--text-secondary);font-weight:500}.chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn-user[_ngcontent-%COMP%], .chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--text-secondary);padding:.5rem;border-radius:8px;cursor:pointer;transition:all .2s ease}.chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn-user[_ngcontent-%COMP%]:hover, .chat-header[_ngcontent-%COMP%]   .header-right[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:hover{background:var(--hover-bg);color:var(--text-primary);transform:scale(1.1)}.chat-stats[_ngcontent-%COMP%]{display:flex;gap:1.5rem;padding:.75rem 1.25rem;background:var(--bg-color);border-bottom:1px solid var(--border-color)}.chat-stats[_ngcontent-%COMP%]   .stat-item[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.75rem;font-weight:500}.messages-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:1.25rem;display:flex;flex-direction:column;gap:.75rem;background:var(--bg-color)}.message[_ngcontent-%COMP%]{max-width:90%;padding:.75rem 1rem;border-radius:16px;background:var(--hover-bg);animation:_ngcontent-%COMP%_messageSlide .25s ease-out;border:1px solid transparent;transition:all .2s ease}.message[_ngcontent-%COMP%]:hover{border-color:var(--border-color);transform:translateY(-1px)}.message.own-message[_ngcontent-%COMP%]{align-self:flex-end;background:linear-gradient(135deg,var(--primary-color),#1a8cff);color:#fff;box-shadow:0 4px 15px #1db9544d}.message.own-message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{color:#fffffff2}.message.own-message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%]{color:#fffc}.message.system-message[_ngcontent-%COMP%]{align-self:center;background:transparent;text-align:center;color:var(--text-secondary);font-style:italic;max-width:100%;border:1px dashed var(--border-color)}.message.system-message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{font-size:.85rem;font-weight:500}.message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.3rem}.message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{font-size:.8rem;font-weight:600;color:var(--text-primary)}.message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%]{font-size:.7rem;opacity:.8;color:var(--text-secondary)}.message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .btn-delete-msg[_ngcontent-%COMP%]{background:transparent;border:none;color:#ef444499;margin-left:auto;padding:4px;border-radius:50%;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;width:24px;height:24px}.message[_ngcontent-%COMP%]   .message-header[_ngcontent-%COMP%]   .btn-delete-msg[_ngcontent-%COMP%]:hover{background:rgba(239,68,68,.15);color:#ef4444;transform:scale(1.1)}.message[_ngcontent-%COMP%]   .message-content[_ngcontent-%COMP%]{word-wrap:break-word;line-height:1.4;font-size:.9rem}.typing-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem 1rem;color:var(--text-secondary);font-size:.85rem;font-style:italic;background:var(--hover-bg);border-radius:12px;margin-top:.5rem}.typing-indicator[_ngcontent-%COMP%]   .typing-dots[_ngcontent-%COMP%]{display:flex;gap:3px}.typing-indicator[_ngcontent-%COMP%]   .typing-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:6px;height:6px;border-radius:50%;background:var(--primary-color);animation:_ngcontent-%COMP%_typingBounce 1.4s infinite ease-in-out}.typing-indicator[_ngcontent-%COMP%]   .typing-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){animation-delay:-.32s}.typing-indicator[_ngcontent-%COMP%]   .typing-dots[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.16s}.date-divider[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:1rem 0}.date-divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:rgba(0,0,0,.2);color:var(--text-secondary);padding:.25rem .75rem;border-radius:12px;font-size:.75rem;font-weight:500}.input-container[_ngcontent-%COMP%]{display:flex;padding:1rem;border-top:1px solid var(--border-color);background:var(--card-bg);gap:.75rem;align-items:center}.input-container[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]{flex:1;padding:.75rem 1rem;border:2px solid var(--border-color);border-radius:25px;background:var(--bg-color);color:var(--text-primary);font-size:.9rem;transition:all .3s ease}.input-container[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #1db9541a}.input-container[_ngcontent-%COMP%]   .message-input[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.input-container[_ngcontent-%COMP%]   .send-button[_ngcontent-%COMP%]{padding:.75rem;background:linear-gradient(135deg,var(--primary-color),#1db954);color:#fff;border:none;border-radius:50%;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center}.input-container[_ngcontent-%COMP%]   .send-button[_ngcontent-%COMP%]:hover:not(:disabled){transform:scale(1.1) rotate(5deg);box-shadow:0 6px 20px #1db95466}.input-container[_ngcontent-%COMP%]   .send-button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed;transform:none}.modal-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:rgba(0,0,0,.8);display:flex;align-items:center;justify-content:center;z-index:10;border-radius:16px;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.modal-content[_ngcontent-%COMP%]{background:var(--card-bg);padding:2rem;border-radius:16px;width:90%;max-width:400px;border:1px solid var(--border-color);box-shadow:0 20px 60px #0000004d}.modal-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 1.5rem;color:var(--text-primary);font-size:1.2rem;font-weight:600;text-align:center}.modal-content[_ngcontent-%COMP%]   .user-input[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border:2px solid var(--border-color);border-radius:12px;background:var(--bg-color);color:var(--text-primary);margin-bottom:1.5rem;font-size:1rem;transition:all .3s ease}.modal-content[_ngcontent-%COMP%]   .user-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px #1db9541a}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]{display:flex;gap:.75rem;justify-content:flex-end}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]{padding:.6rem 1.25rem;border:none;border-radius:8px;cursor:pointer;font-size:.9rem;font-weight:500;transition:all .3s ease}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background:transparent;color:var(--text-secondary);border:2px solid var(--border-color)}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover{background:var(--hover-bg);border-color:var(--text-secondary)}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--primary-color),#1db954);color:#fff}.modal-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #1db9544d}@keyframes _ngcontent-%COMP%_messageSlide{0%{opacity:0;transform:translateY(8px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}@keyframes _ngcontent-%COMP%_typingBounce{0%,80%,to{transform:scale(.8);opacity:.5}40%{transform:scale(1.2);opacity:1}}@keyframes _ngcontent-%COMP%_pulse{0%,to{box-shadow:0 6px 25px #1db95480}50%{box-shadow:0 6px 30px #1db954cc}}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--border-color);border-radius:3px}.messages-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:var(--text-secondary)}.messages-container[_ngcontent-%COMP%]{scroll-behavior:smooth;overflow-anchor:auto}@media (max-width: 768px){.floating-chat-container[_ngcontent-%COMP%]{bottom:15px;right:15px}.floating-chat-button[_ngcontent-%COMP%]{width:60px;height:60px;font-size:1.5rem}.chat-window[_ngcontent-%COMP%]{width:380px;height:550px;bottom:75px}}@media (max-width: 480px){.floating-chat-container[_ngcontent-%COMP%]{bottom:10px;right:10px}.chat-window[_ngcontent-%COMP%]{width:calc(100vw - 30px);height:70vh;right:-5px;bottom:65px}.floating-chat-button[_ngcontent-%COMP%]{width:55px;height:55px;font-size:1.3rem}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideInUp{0%{transform:translateY(30px);opacity:0}to{transform:translateY(0);opacity:1}}.chat-window[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.connection-status[_ngcontent-%COMP%]   .status-dot[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s infinite}.message[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--primary-color);outline-offset:2px}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%], .message[_ngcontent-%COMP%]{transition:all .3s cubic-bezier(.4,0,.2,1)}.reconnection-message[_ngcontent-%COMP%]{text-align:center;padding:1rem;color:var(--text-secondary);font-size:.9rem}.reconnection-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem}.reconnect-info[_ngcontent-%COMP%]{font-size:.7rem;opacity:.8}.reconnect-info[_ngcontent-%COMP%]{font-size:.7rem;opacity:.8;margin-left:.3rem}.reconnection-message[_ngcontent-%COMP%]{text-align:center;padding:.5rem;color:var(--text-secondary);font-size:.8rem;background:rgba(239,68,68,.1);border-radius:8px;margin-top:.5rem}.reconnection-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.connection-status.disconnected[_ngcontent-%COMP%]{background:rgba(239,68,68,.15)!important;border:1px solid rgba(239,68,68,.3)}.connection-status.connected[_ngcontent-%COMP%]{background:rgba(16,185,129,.15)!important;border:1px solid rgba(16,185,129,.3)}.validation-message[_ngcontent-%COMP%]{margin:-.5rem 0 1rem;text-align:center}.validation-message[_ngcontent-%COMP%]   .text-danger[_ngcontent-%COMP%]{color:#e74c3c;font-size:.8rem;font-weight:500}.modal-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none!important}.modal-actions[_ngcontent-%COMP%]   .btn-save[_ngcontent-%COMP%]:disabled:hover{box-shadow:none!important;transform:none!important}"],changeDetection:0})}return A})();var fr=F(5455);function ns(A,h){1&A&&E.nrm(0,"i",13)}function rs(A,h){1&A&&E.nrm(0,"i",14)}function js(A,h){1&A&&E.nrm(0,"i",15)}function ss(A,h){1&A&&E.nrm(0,"i",16)}function ei(A,h){if(1&A){const d=E.RV6();E.j41(0,"button",17),E.bIt("click",function(){E.eBV(d);const O=E.XpG(2);return E.Njj(O.cancel())}),E.EFF(1),E.k0s()}if(2&A){const d=E.XpG(2);E.R7$(1),E.SpI(" ",d.config.cancelText||"Cancelar"," ")}}function is(A,h){if(1&A){const d=E.RV6();E.j41(0,"div",1),E.bIt("click",function(O){E.eBV(d);const V=E.XpG();return E.Njj(V.closeBackdrop(O))}),E.j41(1,"div",2)(2,"div",3)(3,"div",4),E.DNE(4,ns,1,0,"i",5),E.DNE(5,rs,1,0,"i",6),E.DNE(6,js,1,0,"i",7),E.DNE(7,ss,1,0,"i",8),E.k0s(),E.j41(8,"h3"),E.EFF(9),E.k0s()(),E.j41(10,"div",9)(11,"p"),E.EFF(12),E.k0s()(),E.j41(13,"div",10),E.DNE(14,ei,2,1,"button",11),E.j41(15,"button",12),E.bIt("click",function(){E.eBV(d);const O=E.XpG();return E.Njj(O.confirm())}),E.EFF(16),E.k0s()()()()}if(2&A){const d=E.XpG();E.Y8G("@fadeInOut",void 0),E.R7$(1),E.Y8G("@scaleIn",void 0),E.R7$(1),E.Y8G("ngClass",d.config.type||"info"),E.R7$(2),E.Y8G("ngIf","success"===d.config.type),E.R7$(1),E.Y8G("ngIf","warning"===d.config.type||"danger"===d.config.type),E.R7$(1),E.Y8G("ngIf","info"===d.config.type),E.R7$(1),E.Y8G("ngIf","confirm"===d.config.type),E.R7$(2),E.JRh(d.config.title),E.R7$(3),E.JRh(d.config.message),E.R7$(2),E.Y8G("ngIf",d.config.showCancel),E.R7$(1),E.Y8G("ngClass",d.config.type||"info"),E.R7$(1),E.SpI(" ",d.config.confirmText||"Aceptar"," ")}}let ti=(()=>{class A{modalService;config=null;constructor(d){this.modalService=d}ngOnInit(){this.modalService.modalState$.subscribe(d=>{this.config=d})}confirm(){this.modalService.close(!0)}cancel(){this.modalService.close(!1)}closeBackdrop(d){d.target.classList.contains("modal-backdrop")&&(this.config?.showCancel?this.cancel():this.confirm())}static \u0275fac=function(w){return new(w||A)(E.rXU(fr.B))};static \u0275cmp=E.VBU({type:A,selectors:[["app-modal"]],standalone:!0,features:[E.aNF],decls:1,vars:1,consts:[["class","modal-backdrop",3,"click",4,"ngIf"],[1,"modal-backdrop",3,"click"],[1,"modal-container"],[1,"modal-header",3,"ngClass"],[1,"icon-container"],["class","fas fa-check-circle",4,"ngIf"],["class","fas fa-exclamation-circle",4,"ngIf"],["class","fas fa-info-circle",4,"ngIf"],["class","fas fa-question-circle",4,"ngIf"],[1,"modal-body"],[1,"modal-footer"],["class","btn-cancel",3,"click",4,"ngIf"],[1,"btn-confirm",3,"ngClass","click"],[1,"fas","fa-check-circle"],[1,"fas","fa-exclamation-circle"],[1,"fas","fa-info-circle"],[1,"fas","fa-question-circle"],[1,"btn-cancel",3,"click"]],template:function(w,O){1&w&&E.DNE(0,is,17,12,"div",0),2&w&&E.Y8G("ngIf",O.config)},dependencies:[vr.MD,vr.YU,vr.bT],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0009;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);z-index:100000;display:flex;align-items:center;justify-content:center;padding:1rem}.modal-container[_ngcontent-%COMP%]{background:#1e1e1e;background:linear-gradient(145deg,#252525,#1a1a1a);border:1px solid rgba(255,255,255,.1);border-radius:16px;width:100%;max-width:450px;box-shadow:0 20px 50px #00000080;overflow:hidden;color:#fff}.modal-header[_ngcontent-%COMP%]{padding:1.5rem;display:flex;flex-direction:column;align-items:center;text-align:center;border-bottom:1px solid rgba(255,255,255,.05)}.modal-header[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem}.modal-header[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{filter:drop-shadow(0 0 10px rgba(255,255,255,.2))}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:700}.modal-header.success[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .modal-header.success[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#1ed760}.modal-header.warning[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .modal-header.warning[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#ffca28}.modal-header.danger[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .modal-header.danger[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#ff5252}.modal-header.info[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .modal-header.info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#2196f3}.modal-header.confirm[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#1ed760}.modal-header.confirm[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#fff}.modal-body[_ngcontent-%COMP%]{padding:1.5rem;text-align:center}.modal-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;line-height:1.6;color:#e0e0e0;white-space:pre-line}.modal-footer[_ngcontent-%COMP%]{padding:1.5rem;display:flex;justify-content:center;gap:1rem;background-color:#0003}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.8rem 1.5rem;border-radius:50px;border:none;font-weight:600;font-size:1rem;cursor:pointer;transition:all .2s ease;min-width:120px}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 5px 15px #0000004d}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:translateY(0)}.modal-footer[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]{background-color:transparent;border:1px solid rgba(255,255,255,.2);color:#e0e0e0}.modal-footer[_ngcontent-%COMP%]   .btn-cancel[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;color:#fff}.modal-footer[_ngcontent-%COMP%]   .btn-confirm[_ngcontent-%COMP%]{color:#fff}.modal-footer[_ngcontent-%COMP%]   .btn-confirm.success[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]   .btn-confirm.confirm[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1ed760,#16a34a);box-shadow:0 4px 15px #1ed7604d}.modal-footer[_ngcontent-%COMP%]   .btn-confirm.warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffca28,#ffb300);color:#000;box-shadow:0 4px 15px #ffca284d}.modal-footer[_ngcontent-%COMP%]   .btn-confirm.danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff5252,#d32f2f);box-shadow:0 4px 15px #ff52524d}.modal-footer[_ngcontent-%COMP%]   .btn-confirm.info[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2196f3,#1976d2);box-shadow:0 4px 15px #2196f34d}"],data:{animation:[Me("fadeInOut",[ot(":enter",[Rt({opacity:0}),Qe("200ms ease-out",Rt({opacity:1}))]),ot(":leave",[Qe("200ms ease-in",Rt({opacity:0}))])]),Me("scaleIn",[ot(":enter",[Rt({transform:"scale(0.9)",opacity:0}),Qe("200ms cubic-bezier(0.25, 0.8, 0.25, 1)",Rt({transform:"scale(1)",opacity:1}))]),ot(":leave",[Qe("150ms ease-in",Rt({transform:"scale(0.9)",opacity:0}))])])]}})}return A})();const ki=function(){return{exact:!0}};(0,u.B8)((()=>{class A{title="UPTC Music";isMenuOpen=!1;toggleMenu(){this.isMenuOpen=!this.isMenuOpen}static \u0275fac=function(w){return new(w||A)};static \u0275cmp=E.VBU({type:A,selectors:[["app-root"]],standalone:!0,features:[E.aNF],decls:50,vars:6,consts:[[1,"main-container"],[1,"main-header"],[1,"container","d-flex","justify-content-between","align-items-center"],[1,"logo-container"],["routerLink","/",1,"text-decoration-none","text-white","d-flex","align-items-center"],[1,"logo-icon"],[1,"fab","fa-spotify"],[1,"app-title","mb-0","ms-2"],[1,"hamburger-menu","d-md-none",3,"click"],[1,"fas",3,"ngClass"],[1,"main-nav"],["routerLink","/","routerLinkActive","active",3,"routerLinkActiveOptions","click"],[1,"fas","fa-home","me-1"],["routerLink","/buitres","routerLinkActive","active",3,"click"],[1,"fas","fa-user-friends","me-1"],["routerLink","/discussion","routerLinkActive","active",3,"click"],[1,"fas","fa-comments","me-1"],["routerLink","/ranking","routerLinkActive","active",3,"click"],[1,"fas","fa-trophy","me-1"],["routerLink","/about","routerLinkActive","active",3,"click"],[1,"fas","fa-info-circle","me-1"],["routerLink","/admin-login","routerLinkActive","active",3,"click"],[1,"fas","fa-lock","me-1"],[1,"content-area"],[1,"container"],[1,"now-playing-bar"],[1,"footer-content","text-center"],[1,"footer-text","mb-0"],[1,"footer-text","mb-1"],[1,"social-links"],["href","https://github.com/SebastianVega4","target","_blank"],[1,"fab","fa-github","me-1"],["href","https://www.linkedin.com/in/johan-sebastian-vega-ruiz-b1292011b/","target","_blank"],[1,"fab","fa-linkedin","me-1"],["href","https://www.instagram.com/sebastian.vegar/","target","_blank"],[1,"fab","fa-instagram","me-1"]],template:function(w,O){1&w&&(E.j41(0,"div",0)(1,"header",1)(2,"div",2)(3,"div",3)(4,"a",4)(5,"div",5),E.nrm(6,"i",6),E.k0s(),E.j41(7,"h1",7),E.EFF(8),E.k0s()()(),E.j41(9,"button",8),E.bIt("click",function(){return O.toggleMenu()}),E.nrm(10,"i",9),E.k0s(),E.j41(11,"nav",10)(12,"a",11),E.bIt("click",function(){return O.toggleMenu()}),E.nrm(13,"i",12),E.EFF(14,"Inicio "),E.k0s(),E.j41(15,"a",13),E.bIt("click",function(){return O.toggleMenu()}),E.nrm(16,"i",14),E.EFF(17,"Buitres "),E.k0s(),E.j41(18,"a",15),E.bIt("click",function(){return O.toggleMenu()}),E.nrm(19,"i",16),E.EFF(20,"Foro "),E.k0s(),E.j41(21,"a",17),E.bIt("click",function(){return O.toggleMenu()}),E.nrm(22,"i",18),E.EFF(23,"Ranking "),E.k0s(),E.j41(24,"a",19),E.bIt("click",function(){return O.toggleMenu()}),E.nrm(25,"i",20),E.EFF(26,"About "),E.k0s(),E.j41(27,"a",21),E.bIt("click",function(){return O.toggleMenu()}),E.nrm(28,"i",22),E.k0s()()()(),E.j41(29,"main",23)(30,"div",24),E.nrm(31,"router-outlet"),E.k0s()(),E.nrm(32,"app-floating-chat")(33,"app-modal"),E.k0s(),E.j41(34,"footer",25)(35,"div",26)(36,"p",27),E.EFF(37,"Desarrollado por:"),E.k0s(),E.j41(38,"p",28),E.EFF(39,"Estudiante de Ingenier\xeda de Sistemas - UPTC Sogamoso 2025-II"),E.k0s(),E.j41(40,"div",29)(41,"a",30),E.nrm(42,"i",31),E.EFF(43,"GitHub "),E.k0s(),E.j41(44,"a",32),E.nrm(45,"i",33),E.EFF(46,"LinkedIn "),E.k0s(),E.j41(47,"a",34),E.nrm(48,"i",35),E.EFF(49,"Instagram "),E.k0s()()()()),2&w&&(E.R7$(8),E.JRh(O.title),E.R7$(2),E.Y8G("ngClass",O.isMenuOpen?"fa-times":"fa-bars"),E.R7$(1),E.AVh("active",O.isMenuOpen),E.R7$(1),E.Y8G("routerLinkActiveOptions",E.lJ4(5,ki)))},dependencies:[G.iI,G.n3,G.Wk,G.wQ,vr.MD,vr.YU,Nn,ti],styles:[".main-header[_ngcontent-%COMP%]{padding:0rem;background:var(--glass-bg);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border-bottom:1px solid rgba(255,255,255,.1);position:sticky;top:0;z-index:10000;box-shadow:0 4px 30px #0000004d}.logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.8rem}.logo-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,var(--primary-color) 0%,var(--accent-purple) 100%);display:flex;align-items:center;justify-content:center;box-shadow:0 0 15px #1db95466}.logo-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--text-primary)}.app-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:800;color:var(--text-primary);margin:0;letter-spacing:-.5px;background:linear-gradient(135deg,var(--text-primary) 0%,var(--primary-color) 100%);-webkit-text-fill-color:transparent;-webkit-background-clip:text;background-clip:text}.main-nav[_ngcontent-%COMP%]{display:flex;gap:1rem}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--text-secondary);text-decoration:none;font-weight:600;padding:.5rem 1rem;border-radius:50px;transition:all .3s ease;display:flex;align-items:center}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--text-primary);background:rgba(255,255,255,.05);transform:translateY(-2px)}.main-nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:var(--text-primary);background:rgba(29,185,84,.15);box-shadow:0 0 15px #1db95433}.main-nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--primary-color)}.main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem;transition:color .3s ease}.now-playing-bar[_ngcontent-%COMP%]{background:var(--glass-bg);-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border-top:1px solid rgba(255,255,255,.1);padding:1rem;color:var(--text-primary);display:flex;align-items:center;justify-content:center;position:relative;z-index:5}.footer-content[_ngcontent-%COMP%]{width:100%;text-align:center}.footer-text[_ngcontent-%COMP%]{font-size:.8rem;margin:.3rem 0;color:var(--text-secondary)}.social-links[_ngcontent-%COMP%]{margin-top:.5rem}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--text-secondary);text-decoration:none;margin:0 .8rem;font-size:.9rem;transition:all .3s ease;display:inline-flex;align-items:center}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--primary-color);transform:translateY(-2px)}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.3rem;font-size:1rem}@media (max-width: 768px){.main-header[_ngcontent-%COMP%]{padding:.8rem 1rem}.main-header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative}.main-header[_ngcontent-%COMP%]   .hamburger-menu[_ngcontent-%COMP%]{display:block;background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer;position:relative;z-index:10001}.main-header[_ngcontent-%COMP%]   .main-nav[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;width:100%;background-color:#0f0f0ffa;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);flex-direction:column;align-items:center;padding:1rem 0;display:none;z-index:10001;border-bottom:1px solid rgba(255,255,255,.1);gap:0}.main-header[_ngcontent-%COMP%]   .main-nav.active[_ngcontent-%COMP%]{display:flex}.main-header[_ngcontent-%COMP%]   .main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:100%;text-align:center;padding:1rem;margin:0;border-bottom:1px solid rgba(255,255,255,.05);border-radius:0}.main-header[_ngcontent-%COMP%]   .main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-child{border-bottom:none}.main-header[_ngcontent-%COMP%]   .main-nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;transform:none}.app-title[_ngcontent-%COMP%]{font-size:1.2rem}.social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin:0 .5rem;font-size:.8rem}}@media (min-width: 769px){.hamburger-menu[_ngcontent-%COMP%]{display:none}.main-nav[_ngcontent-%COMP%]{display:flex!important}}"]})}return A})(),ao).catch(A=>console.error(A))},5958:(at,pe,F)=>{"use strict";var u=F(9293).default;Object.defineProperty(pe,"__esModule",{value:!0});const E=F(5215).__importDefault(F(4659));pe.default=class ge{constructor(H){var X,de;this.shouldThrowOnError=!1,this.method=H.method,this.url=H.url,this.headers=new Headers(H.headers),this.schema=H.schema,this.body=H.body,this.shouldThrowOnError=null!==(X=H.shouldThrowOnError)&&void 0!==X&&X,this.signal=H.signal,this.isMaybeSingle=null!==(de=H.isMaybeSingle)&&void 0!==de&&de,this.fetch=H.fetch?H.fetch:fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(H,X){return this.headers=new Headers(this.headers),this.headers.set(H,X),this}then(H,X){var de=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let me=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(function(){var oe=u(function*(Me){var Qe,Be,We,Rt;let ht=null,Mt=null,ot=null,cn=Me.status,He=Me.statusText;if(Me.ok){if("HEAD"!==de.method){const Ae=yield Me.text();""===Ae||(Mt="text/csv"===de.headers.get("Accept")||de.headers.get("Accept")&&null!==(Qe=de.headers.get("Accept"))&&void 0!==Qe&&Qe.includes("application/vnd.pgrst.plan+text")?Ae:JSON.parse(Ae))}const rt=null===(Be=de.headers.get("Prefer"))||void 0===Be?void 0:Be.match(/count=(exact|planned|estimated)/),pt=null===(We=Me.headers.get("content-range"))||void 0===We?void 0:We.split("/");rt&&pt&&pt.length>1&&(ot=parseInt(pt[1])),de.isMaybeSingle&&"GET"===de.method&&Array.isArray(Mt)&&(Mt.length>1?(ht={code:"PGRST116",details:`Results contain ${Mt.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},Mt=null,ot=null,cn=406,He="Not Acceptable"):Mt=1===Mt.length?Mt[0]:null)}else{const rt=yield Me.text();try{ht=JSON.parse(rt),Array.isArray(ht)&&404===Me.status&&(Mt=[],ht=null,cn=200,He="OK")}catch{404===Me.status&&""===rt?(cn=204,He="No Content"):ht={message:rt}}if(ht&&de.isMaybeSingle&&!(null===(Rt=ht?.details)||void 0===Rt)&&Rt.includes("0 rows")&&(ht=null,cn=200,He="OK"),ht&&de.shouldThrowOnError)throw new E.default(ht)}return{error:ht,data:Mt,count:ot,status:cn,statusText:He}});return function(Me){return oe.apply(this,arguments)}}());return this.shouldThrowOnError||(me=me.catch(oe=>{var Me,Qe,Be,We,Rt,ht;let Mt="";const ot=oe?.cause;if(ot){const cn=null!==(Me=ot?.message)&&void 0!==Me?Me:"",He=null!==(Qe=ot?.code)&&void 0!==Qe?Qe:"";Mt=`${null!==(Be=oe?.name)&&void 0!==Be?Be:"FetchError"}: ${oe?.message}`,Mt+=`\n\nCaused by: ${null!==(We=ot?.name)&&void 0!==We?We:"Error"}: ${cn}`,He&&(Mt+=` (${He})`),ot?.stack&&(Mt+=`\n${ot.stack}`)}else Mt=null!==(Rt=oe?.stack)&&void 0!==Rt?Rt:"";return{error:{message:`${null!==(ht=oe?.name)&&void 0!==ht?ht:"FetchError"}: ${oe?.message}`,details:Mt,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),me.then(H,X)}returns(){return this}overrideTypes(){return this}}},3242:(at,pe,F)=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});const u=F(5215),G=u.__importDefault(F(8666)),E=u.__importDefault(F(3608));class ge{constructor(H,{headers:X={},schema:de,fetch:ye}={}){this.url=H,this.headers=new Headers(X),this.schemaName=de,this.fetch=ye}from(H){if(!H||"string"!=typeof H||""===H.trim())throw new Error("Invalid relation name: relation must be a non-empty string.");const X=new URL(`${this.url}/${H}`);return new G.default(X,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(H){return new ge(this.url,{headers:this.headers,schema:H,fetch:this.fetch})}rpc(H,X={},{head:de=!1,get:ye=!1,count:me}={}){var oe;let Me;const Qe=new URL(`${this.url}/rpc/${H}`);let Be;de||ye?(Me=de?"HEAD":"GET",Object.entries(X).filter(([Rt,ht])=>void 0!==ht).map(([Rt,ht])=>[Rt,Array.isArray(ht)?`{${ht.join(",")}}`:`${ht}`]).forEach(([Rt,ht])=>{Qe.searchParams.append(Rt,ht)})):(Me="POST",Be=X);const We=new Headers(this.headers);return me&&We.set("Prefer",`count=${me}`),new E.default({method:Me,url:Qe,headers:We,schema:this.schemaName,body:Be,fetch:null!==(oe=this.fetch)&&void 0!==oe?oe:fetch})}}pe.default=ge},4659:(at,pe)=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});class F extends Error{constructor(G){super(G.message),this.name="PostgrestError",this.details=G.details,this.hint=G.hint,this.code=G.code}}pe.default=F},3608:(at,pe,F)=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});const G=F(5215).__importDefault(F(3342)),E=new RegExp("[,()]");pe.default=class ge extends G.default{eq(H,X){return this.url.searchParams.append(H,`eq.${X}`),this}neq(H,X){return this.url.searchParams.append(H,`neq.${X}`),this}gt(H,X){return this.url.searchParams.append(H,`gt.${X}`),this}gte(H,X){return this.url.searchParams.append(H,`gte.${X}`),this}lt(H,X){return this.url.searchParams.append(H,`lt.${X}`),this}lte(H,X){return this.url.searchParams.append(H,`lte.${X}`),this}like(H,X){return this.url.searchParams.append(H,`like.${X}`),this}likeAllOf(H,X){return this.url.searchParams.append(H,`like(all).{${X.join(",")}}`),this}likeAnyOf(H,X){return this.url.searchParams.append(H,`like(any).{${X.join(",")}}`),this}ilike(H,X){return this.url.searchParams.append(H,`ilike.${X}`),this}ilikeAllOf(H,X){return this.url.searchParams.append(H,`ilike(all).{${X.join(",")}}`),this}ilikeAnyOf(H,X){return this.url.searchParams.append(H,`ilike(any).{${X.join(",")}}`),this}regexMatch(H,X){return this.url.searchParams.append(H,`match.${X}`),this}regexIMatch(H,X){return this.url.searchParams.append(H,`imatch.${X}`),this}is(H,X){return this.url.searchParams.append(H,`is.${X}`),this}isDistinct(H,X){return this.url.searchParams.append(H,`isdistinct.${X}`),this}in(H,X){const de=Array.from(new Set(X)).map(ye=>"string"==typeof ye&&E.test(ye)?`"${ye}"`:`${ye}`).join(",");return this.url.searchParams.append(H,`in.(${de})`),this}contains(H,X){return"string"==typeof X?this.url.searchParams.append(H,`cs.${X}`):Array.isArray(X)?this.url.searchParams.append(H,`cs.{${X.join(",")}}`):this.url.searchParams.append(H,`cs.${JSON.stringify(X)}`),this}containedBy(H,X){return"string"==typeof X?this.url.searchParams.append(H,`cd.${X}`):Array.isArray(X)?this.url.searchParams.append(H,`cd.{${X.join(",")}}`):this.url.searchParams.append(H,`cd.${JSON.stringify(X)}`),this}rangeGt(H,X){return this.url.searchParams.append(H,`sr.${X}`),this}rangeGte(H,X){return this.url.searchParams.append(H,`nxl.${X}`),this}rangeLt(H,X){return this.url.searchParams.append(H,`sl.${X}`),this}rangeLte(H,X){return this.url.searchParams.append(H,`nxr.${X}`),this}rangeAdjacent(H,X){return this.url.searchParams.append(H,`adj.${X}`),this}overlaps(H,X){return this.url.searchParams.append(H,"string"==typeof X?`ov.${X}`:`ov.{${X.join(",")}}`),this}textSearch(H,X,{config:de,type:ye}={}){let me="";return"plain"===ye?me="pl":"phrase"===ye?me="ph":"websearch"===ye&&(me="w"),this.url.searchParams.append(H,`${me}fts${void 0===de?"":`(${de})`}.${X}`),this}match(H){return Object.entries(H).forEach(([X,de])=>{this.url.searchParams.append(X,`eq.${de}`)}),this}not(H,X,de){return this.url.searchParams.append(H,`not.${X}.${de}`),this}or(H,{foreignTable:X,referencedTable:de=X}={}){return this.url.searchParams.append(de?`${de}.or`:"or",`(${H})`),this}filter(H,X,de){return this.url.searchParams.append(H,`${X}.${de}`),this}}},8666:(at,pe,F)=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});const G=F(5215).__importDefault(F(3608));pe.default=class E{constructor(re,{headers:H={},schema:X,fetch:de}){this.url=re,this.headers=new Headers(H),this.schema=X,this.fetch=de}select(re,H){const{head:X=!1,count:de}=H??{},ye=X?"HEAD":"GET";let me=!1;const oe=(re??"*").split("").map(Me=>/\s/.test(Me)&&!me?"":('"'===Me&&(me=!me),Me)).join("");return this.url.searchParams.set("select",oe),de&&this.headers.append("Prefer",`count=${de}`),new G.default({method:ye,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(re,{count:H,defaultToNull:X=!0}={}){var de;if(H&&this.headers.append("Prefer",`count=${H}`),X||this.headers.append("Prefer","missing=default"),Array.isArray(re)){const me=re.reduce((oe,Me)=>oe.concat(Object.keys(Me)),[]);if(me.length>0){const oe=[...new Set(me)].map(Me=>`"${Me}"`);this.url.searchParams.set("columns",oe.join(","))}}return new G.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:re,fetch:null!==(de=this.fetch)&&void 0!==de?de:fetch})}upsert(re,{onConflict:H,ignoreDuplicates:X=!1,count:de,defaultToNull:ye=!0}={}){var me;if(this.headers.append("Prefer",`resolution=${X?"ignore":"merge"}-duplicates`),void 0!==H&&this.url.searchParams.set("on_conflict",H),de&&this.headers.append("Prefer",`count=${de}`),ye||this.headers.append("Prefer","missing=default"),Array.isArray(re)){const Me=re.reduce((Qe,Be)=>Qe.concat(Object.keys(Be)),[]);if(Me.length>0){const Qe=[...new Set(Me)].map(Be=>`"${Be}"`);this.url.searchParams.set("columns",Qe.join(","))}}return new G.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:re,fetch:null!==(me=this.fetch)&&void 0!==me?me:fetch})}update(re,{count:H}={}){var X;return H&&this.headers.append("Prefer",`count=${H}`),new G.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:re,fetch:null!==(X=this.fetch)&&void 0!==X?X:fetch})}delete({count:re}={}){var H;return re&&this.headers.append("Prefer",`count=${re}`),new G.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:null!==(H=this.fetch)&&void 0!==H?H:fetch})}}},3342:(at,pe,F)=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});const G=F(5215).__importDefault(F(5958));pe.default=class E extends G.default{select(re){let H=!1;const X=(re??"*").split("").map(de=>/\s/.test(de)&&!H?"":('"'===de&&(H=!H),de)).join("");return this.url.searchParams.set("select",X),this.headers.append("Prefer","return=representation"),this}order(re,{ascending:H=!0,nullsFirst:X,foreignTable:de,referencedTable:ye=de}={}){const me=ye?`${ye}.order`:"order",oe=this.url.searchParams.get(me);return this.url.searchParams.set(me,`${oe?`${oe},`:""}${re}.${H?"asc":"desc"}${void 0===X?"":X?".nullsfirst":".nullslast"}`),this}limit(re,{foreignTable:H,referencedTable:X=H}={}){return this.url.searchParams.set(typeof X>"u"?"limit":`${X}.limit`,`${re}`),this}range(re,H,{foreignTable:X,referencedTable:de=X}={}){const me=typeof de>"u"?"limit":`${de}.limit`;return this.url.searchParams.set(typeof de>"u"?"offset":`${de}.offset`,`${re}`),this.url.searchParams.set(me,""+(H-re+1)),this}abortSignal(re){return this.signal=re,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.headers.set("Accept","GET"===this.method?"application/json":"application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:re=!1,verbose:H=!1,settings:X=!1,buffers:de=!1,wal:ye=!1,format:me="text"}={}){var oe;const Me=[re?"analyze":null,H?"verbose":null,X?"settings":null,de?"buffers":null,ye?"wal":null].filter(Boolean).join("|"),Qe=null!==(oe=this.headers.get("Accept"))&&void 0!==oe?oe:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${me}; for="${Qe}"; options=${Me};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(re){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${re}`),this}}},4060:(at,pe,F)=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0}),pe.PostgrestError=pe.PostgrestBuilder=pe.PostgrestTransformBuilder=pe.PostgrestFilterBuilder=pe.PostgrestQueryBuilder=pe.PostgrestClient=void 0;const u=F(5215),G=u.__importDefault(F(3242));pe.PostgrestClient=G.default;const E=u.__importDefault(F(8666));pe.PostgrestQueryBuilder=E.default;const ge=u.__importDefault(F(3608));pe.PostgrestFilterBuilder=ge.default;const re=u.__importDefault(F(3342));pe.PostgrestTransformBuilder=re.default;const H=u.__importDefault(F(5958));pe.PostgrestBuilder=H.default;const X=u.__importDefault(F(4659));pe.PostgrestError=X.default,pe.default={PostgrestClient:G.default,PostgrestQueryBuilder:E.default,PostgrestFilterBuilder:ge.default,PostgrestTransformBuilder:re.default,PostgrestBuilder:H.default,PostgrestError:X.default}},5321:(at,pe,F)=>{"use strict";F.d(pe,{UU:()=>pr});var u=F(467),G=F(5215);class ge extends Error{constructor(a,o="FunctionsError",l){super(a),this.name=o,this.context=l}}class re extends ge{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class H extends ge{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class X extends ge{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var de=function(m){return m.Any="any",m.ApNortheast1="ap-northeast-1",m.ApNortheast2="ap-northeast-2",m.ApSouth1="ap-south-1",m.ApSoutheast1="ap-southeast-1",m.ApSoutheast2="ap-southeast-2",m.CaCentral1="ca-central-1",m.EuCentral1="eu-central-1",m.EuWest1="eu-west-1",m.EuWest2="eu-west-2",m.EuWest3="eu-west-3",m.SaEast1="sa-east-1",m.UsEast1="us-east-1",m.UsWest1="us-west-1",m.UsWest2="us-west-2",m}(de||{});class ye{constructor(a,{headers:o={},customFetch:l,region:v=de.Any}={}){var m;this.url=a,this.headers=o,this.region=v,this.fetch=(m=l)?(...a)=>m(...a):(...a)=>fetch(...a)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return(0,G.__awaiter)(this,arguments,void 0,function*(o,l={}){var v;let M,x;try{const{headers:R,method:B,body:K,signal:Z,timeout:De}=l;let je={},{region:be}=l;be||(be=this.region);const fe=new URL(`${this.url}/${o}`);let Re;be&&"any"!==be&&(je["x-region"]=be,fe.searchParams.set("forceFunctionRegion",be)),K&&(R&&!Object.prototype.hasOwnProperty.call(R,"Content-Type")||!R)?typeof Blob<"u"&&K instanceof Blob||K instanceof ArrayBuffer?(je["Content-Type"]="application/octet-stream",Re=K):"string"==typeof K?(je["Content-Type"]="text/plain",Re=K):typeof FormData<"u"&&K instanceof FormData?Re=K:(je["Content-Type"]="application/json",Re=JSON.stringify(K)):Re=K;let qe=Z;De&&(x=new AbortController,M=setTimeout(()=>x.abort(),De),Z?(qe=x.signal,Z.addEventListener("abort",()=>x.abort())):qe=x.signal);const nt=yield this.fetch(fe.toString(),{method:B||"POST",headers:Object.assign(Object.assign(Object.assign({},je),this.headers),R),body:Re,signal:qe}).catch(Ve=>{throw new re(Ve)}),Ut=nt.headers.get("x-relay-error");if(Ut&&"true"===Ut)throw new H(nt);if(!nt.ok)throw new X(nt);let he,Bt=(null!==(v=nt.headers.get("Content-Type"))&&void 0!==v?v:"text/plain").split(";")[0].trim();return he="application/json"===Bt?yield nt.json():"application/octet-stream"===Bt||"application/pdf"===Bt?yield nt.blob():"text/event-stream"===Bt?nt:"multipart/form-data"===Bt?yield nt.formData():yield nt.text(),{data:he,error:null,response:nt}}catch(R){return{data:null,error:R,response:R instanceof X||R instanceof H?R.context:void 0}}finally{M&&clearTimeout(M)}})}}var me=F(4060),oe=F.t(me,2);const{PostgrestClient:Me}=me||oe,cn=class ot{constructor(){}static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&null!==(a=navigator.userAgent)&&void 0!==a&&a.includes("Vercel-Edge"))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const o=process.versions;if(o&&o.node){const v=parseInt(o.node.replace(/^v/,"").split(".")[0]);return v>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${v} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${v} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let o=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(o+=`\n\nSuggested solution: ${a.workaround}`),new Error(o)}static createWebSocket(a,o){return new(this.getWebSocketConstructor())(a,o)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return"native"===a.type||"ws"===a.type}catch{return!1}}};var Je=function(m){return m[m.connecting=0]="connecting",m[m.open=1]="open",m[m.closing=2]="closing",m[m.closed=3]="closed",m}(Je||{}),vt=function(m){return m.closed="closed",m.errored="errored",m.joined="joined",m.joining="joining",m.leaving="leaving",m}(vt||{}),st=function(m){return m.close="phx_close",m.error="phx_error",m.join="phx_join",m.reply="phx_reply",m.leave="phx_leave",m.access_token="access_token",m}(st||{}),kt=function(m){return m.websocket="websocket",m}(kt||{}),mr=function(m){return m.Connecting="connecting",m.Open="open",m.Closing="closing",m.Closed="closed",m}(mr||{});class ir{constructor(a){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=a??[]}encode(a,o){return a.event!==this.BROADCAST_EVENT||a.payload instanceof ArrayBuffer||"string"!=typeof a.payload.event?o(JSON.stringify([a.join_ref,a.ref,a.topic,a.event,a.payload])):o(this._binaryEncodeUserBroadcastPush(a))}_binaryEncodeUserBroadcastPush(a){var o;return this._isArrayBuffer(null===(o=a.payload)||void 0===o?void 0:o.payload)?this._encodeBinaryUserBroadcastPush(a):this._encodeJsonUserBroadcastPush(a)}_encodeBinaryUserBroadcastPush(a){var o,l;const v=null!==(l=null===(o=a.payload)||void 0===o?void 0:o.payload)&&void 0!==l?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(a,this.BINARY_ENCODING,v)}_encodeJsonUserBroadcastPush(a){var o,l;const v=null!==(l=null===(o=a.payload)||void 0===o?void 0:o.payload)&&void 0!==l?l:{},x=(new TextEncoder).encode(JSON.stringify(v)).buffer;return this._encodeUserBroadcastPush(a,this.JSON_ENCODING,x)}_encodeUserBroadcastPush(a,o,l){var v,M;const x=a.topic,R=null!==(v=a.ref)&&void 0!==v?v:"",B=null!==(M=a.join_ref)&&void 0!==M?M:"",K=a.payload.event,Z=this.allowedMetadataKeys?this._pick(a.payload,this.allowedMetadataKeys):{},De=0===Object.keys(Z).length?"":JSON.stringify(Z);if(B.length>255)throw new Error(`joinRef length ${B.length} exceeds maximum of 255`);if(R.length>255)throw new Error(`ref length ${R.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`topic length ${x.length} exceeds maximum of 255`);if(K.length>255)throw new Error(`userEvent length ${K.length} exceeds maximum of 255`);if(De.length>255)throw new Error(`metadata length ${De.length} exceeds maximum of 255`);const be=new ArrayBuffer(this.HEADER_LENGTH+(this.USER_BROADCAST_PUSH_META_LENGTH+B.length+R.length+x.length+K.length+De.length));let fe=new DataView(be),Re=0;fe.setUint8(Re++,this.KINDS.userBroadcastPush),fe.setUint8(Re++,B.length),fe.setUint8(Re++,R.length),fe.setUint8(Re++,x.length),fe.setUint8(Re++,K.length),fe.setUint8(Re++,De.length),fe.setUint8(Re++,o),Array.from(B,nt=>fe.setUint8(Re++,nt.charCodeAt(0))),Array.from(R,nt=>fe.setUint8(Re++,nt.charCodeAt(0))),Array.from(x,nt=>fe.setUint8(Re++,nt.charCodeAt(0))),Array.from(K,nt=>fe.setUint8(Re++,nt.charCodeAt(0))),Array.from(De,nt=>fe.setUint8(Re++,nt.charCodeAt(0)));var qe=new Uint8Array(be.byteLength+l.byteLength);return qe.set(new Uint8Array(be),0),qe.set(new Uint8Array(l),be.byteLength),qe.buffer}decode(a,o){if(this._isArrayBuffer(a))return o(this._binaryDecode(a));if("string"==typeof a){const l=JSON.parse(a),[v,M,x,R,B]=l;return o({join_ref:v,ref:M,topic:x,event:R,payload:B})}return o({})}_binaryDecode(a){const o=new DataView(a),l=o.getUint8(0),v=new TextDecoder;if(l===this.KINDS.userBroadcast)return this._decodeUserBroadcast(a,o,v)}_decodeUserBroadcast(a,o,l){const v=o.getUint8(1),M=o.getUint8(2),x=o.getUint8(3),R=o.getUint8(4);let B=this.HEADER_LENGTH+4;const K=l.decode(a.slice(B,B+v));B+=v;const Z=l.decode(a.slice(B,B+M));B+=M;const De=l.decode(a.slice(B,B+x));B+=x;const je=a.slice(B,a.byteLength),be=R===this.JSON_ENCODING?JSON.parse(l.decode(je)):je,fe={type:this.BROADCAST_EVENT,event:Z,payload:be};return x>0&&(fe.meta=JSON.parse(De)),{join_ref:null,ref:null,topic:K,event:this.BROADCAST_EVENT,payload:fe}}_isArrayBuffer(a){var o;return a instanceof ArrayBuffer||"ArrayBuffer"===(null===(o=a?.constructor)||void 0===o?void 0:o.name)}_pick(a,o){return a&&"object"==typeof a?Object.fromEntries(Object.entries(a).filter(([l])=>o.includes(l))):{}}}class Sn{constructor(a,o){this.callback=a,this.timerCalc=o,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=o}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Vt=function(m){return m.abstime="abstime",m.bool="bool",m.date="date",m.daterange="daterange",m.float4="float4",m.float8="float8",m.int2="int2",m.int4="int4",m.int4range="int4range",m.int8="int8",m.int8range="int8range",m.json="json",m.jsonb="jsonb",m.money="money",m.numeric="numeric",m.oid="oid",m.reltime="reltime",m.text="text",m.time="time",m.timestamp="timestamp",m.timestamptz="timestamptz",m.timetz="timetz",m.tsrange="tsrange",m.tstzrange="tstzrange",m}(Vt||{});const ue=(m,a,o={})=>{var l;const v=null!==(l=o.skipTypes)&&void 0!==l?l:[];return a?Object.keys(a).reduce((M,x)=>(M[x]=_e(x,m,a,v),M),{}):{}},_e=(m,a,o,l)=>{const v=a.find(R=>R.name===m),M=v?.type,x=o[m];return M&&!l.includes(M)?Ce(M,x):Oe(x)},Ce=(m,a)=>{if("_"===m.charAt(0)){const o=m.slice(1,m.length);return un(a,o)}switch(m){case Vt.bool:return $e(a);case Vt.float4:case Vt.float8:case Vt.int2:case Vt.int4:case Vt.int8:case Vt.numeric:case Vt.oid:return Ke(a);case Vt.json:case Vt.jsonb:return _t(a);case Vt.timestamp:return kn(a);default:return Oe(a)}},Oe=m=>m,$e=m=>{switch(m){case"t":return!0;case"f":return!1;default:return m}},Ke=m=>{if("string"==typeof m){const a=parseFloat(m);if(!Number.isNaN(a))return a}return m},_t=m=>{if("string"==typeof m)try{return JSON.parse(m)}catch(a){return console.log(`JSON parse error: ${a}`),m}return m},un=(m,a)=>{if("string"!=typeof m)return m;const o=m.length-1;if("{"===m[0]&&"}"===m[o]){let M;const x=m.slice(1,o);try{M=JSON.parse("["+x+"]")}catch{M=x?x.split(","):[]}return M.map(R=>Ce(a,R))}return m},kn=m=>"string"==typeof m?m.replace(" ","T"):m,Ot=m=>{const a=new URL(m);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname=""===a.pathname||"/"===a.pathname?"/api/broadcast":a.pathname+"/api/broadcast",a.href};class fn{constructor(a,o,l={},v=1e4){this.channel=a,this.event=o,this.payload=l,this.timeout=v,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,o){var l;return this._hasReceived(a)&&o(null===(l=this.receivedResp)||void 0===l?void 0:l.response),this.recHooks.push({status:a,callback:o}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},o=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=o,this._matchReceive(o)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(a,o){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:o})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:o}){this.recHooks.filter(l=>l.status===a).forEach(l=>l.callback(o))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}class Zn{constructor(a,o){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=o?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},v=>{const{onJoin:M,onLeave:x,onSync:R}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Zn.syncState(this.state,v,M,x),this.pendingDiffs.forEach(B=>{this.state=Zn.syncDiff(this.state,B,M,x)}),this.pendingDiffs=[],R()}),this.channel._on(l.diff,{},v=>{const{onJoin:M,onLeave:x,onSync:R}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(v):(this.state=Zn.syncDiff(this.state,v,M,x),R())}),this.onJoin((v,M,x)=>{this.channel._trigger("presence",{event:"join",key:v,currentPresences:M,newPresences:x})}),this.onLeave((v,M,x)=>{this.channel._trigger("presence",{event:"leave",key:v,currentPresences:M,leftPresences:x})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,o,l,v){const M=this.cloneDeep(a),x=this.transformState(o),R={},B={};return this.map(M,(K,Z)=>{x[K]||(B[K]=Z)}),this.map(x,(K,Z)=>{const De=M[K];if(De){const je=Z.map(qe=>qe.presence_ref),be=De.map(qe=>qe.presence_ref),fe=Z.filter(qe=>be.indexOf(qe.presence_ref)<0),Re=De.filter(qe=>je.indexOf(qe.presence_ref)<0);fe.length>0&&(R[K]=fe),Re.length>0&&(B[K]=Re)}else R[K]=Z}),this.syncDiff(M,{joins:R,leaves:B},l,v)}static syncDiff(a,o,l,v){const{joins:M,leaves:x}={joins:this.transformState(o.joins),leaves:this.transformState(o.leaves)};return l||(l=()=>{}),v||(v=()=>{}),this.map(M,(R,B)=>{var K;const Z=null!==(K=a[R])&&void 0!==K?K:[];if(a[R]=this.cloneDeep(B),Z.length>0){const De=a[R].map(be=>be.presence_ref),je=Z.filter(be=>De.indexOf(be.presence_ref)<0);a[R].unshift(...je)}l(R,Z,B)}),this.map(x,(R,B)=>{let K=a[R];if(!K)return;const Z=B.map(De=>De.presence_ref);K=K.filter(De=>Z.indexOf(De.presence_ref)<0),a[R]=K,v(R,K,B),0===K.length&&delete a[R]}),a}static map(a,o){return Object.getOwnPropertyNames(a).map(l=>o(l,a[l]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((o,l)=>{const v=a[l];return o[l]="metas"in v?v.metas.map(M=>(M.presence_ref=M.phx_ref,delete M.phx_ref,delete M.phx_ref_prev,M)):v,o},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var lt=function(m){return m.BROADCAST="broadcast",m.PRESENCE="presence",m.POSTGRES_CHANGES="postgres_changes",m.SYSTEM="system",m}(lt||{}),ft=function(m){return m.SUBSCRIBED="SUBSCRIBED",m.TIMED_OUT="TIMED_OUT",m.CLOSED="CLOSED",m.CHANNEL_ERROR="CHANNEL_ERROR",m}(ft||{});class wn{constructor(a,o={config:{}},l){var v,M;if(this.topic=a,this.params=o,this.socket=l,this.bindings={},this.state=vt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},o.config),this.timeout=this.socket.timeout,this.joinPush=new fn(this,st.join,this.params,this.timeout),this.rejoinTimer=new Sn(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=vt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(x=>x.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=vt.closed,this.socket._remove(this)}),this._onError(x=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,x),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",x=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,x),this.state=vt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(st.reply,{},(x,R)=>{this._trigger(this._replyEventName(R),x)}),this.presence=new Zn(this),this.broadcastEndpointURL=Ot(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&null!==(M=null===(v=this.params.config)||void 0===v?void 0:v.broadcast)&&void 0!==M&&M.replay)throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,o=this.timeout){var v,M,x,l=this;if(this.socket.isConnected()||this.socket.connect(),this.state==vt.closed){const{config:{broadcast:R,presence:B,private:K}}=this.params,Z=null!==(M=null===(v=this.bindings.postgres_changes)||void 0===v?void 0:v.map(fe=>fe.filter))&&void 0!==M?M:[],De=!!this.bindings[lt.PRESENCE]&&this.bindings[lt.PRESENCE].length>0||!0===(null===(x=this.params.config.presence)||void 0===x?void 0:x.enabled),je={},be={broadcast:R,presence:Object.assign(Object.assign({},B),{enabled:De}),postgres_changes:Z,private:K};this.socket.accessTokenValue&&(je.access_token=this.socket.accessTokenValue),this._onError(fe=>a?.(ft.CHANNEL_ERROR,fe)),this._onClose(()=>a?.(ft.CLOSED)),this.updateJoinPayload(Object.assign({config:be},je)),this.joinedOnce=!0,this._rejoin(o),this.joinPush.receive("ok",function(){var fe=(0,u.A)(function*({postgres_changes:Re}){var qe;if(l.socket.setAuth(),void 0!==Re){const nt=l.bindings.postgres_changes,Ut=null!==(qe=nt?.length)&&void 0!==qe?qe:0,Bt=[];for(let he=0;he<Ut;he++){const Ve=nt[he],{filter:{event:Kn,schema:As,table:At,filter:Hn}}=Ve,rr=Re&&Re[he];if(!rr||rr.event!==Kn||rr.schema!==As||rr.table!==At||rr.filter!==Hn)return l.unsubscribe(),l.state=vt.errored,void a?.(ft.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));Bt.push(Object.assign(Object.assign({},Ve),{id:rr.id}))}return l.bindings.postgres_changes=Bt,void(a&&a(ft.SUBSCRIBED))}a?.(ft.SUBSCRIBED)});return function(Re){return fe.apply(this,arguments)}}()).receive("error",fe=>{this.state=vt.errored,a?.(ft.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(fe).join(", ")||"error")))}).receive("timeout",()=>{a?.(ft.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(a){var o=this;return(0,u.A)(function*(l,v={}){return yield o.send({type:"presence",event:"track",payload:l},v.timeout||o.timeout)}).apply(this,arguments)}untrack(){var a=this;return(0,u.A)(function*(o={}){return yield a.send({type:"presence",event:"untrack"},o)}).apply(this,arguments)}on(a,o,l){return this.state===vt.joined&&a===lt.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(a,o,l)}httpSend(a,o){var l=this;return(0,u.A)(function*(v,M,x={}){var R;const B=l.socket.accessTokenValue?`Bearer ${l.socket.accessTokenValue}`:"";if(null==M)return Promise.reject("Payload is required for httpSend()");const K={method:"POST",headers:{Authorization:B,apikey:l.socket.apiKey?l.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:l.subTopic,event:v,payload:M,private:l.private}]})},Z=yield l._fetchWithTimeout(l.broadcastEndpointURL,K,null!==(R=x.timeout)&&void 0!==R?R:l.timeout);if(202===Z.status)return{success:!0};let De=Z.statusText;try{const je=yield Z.json();De=je.error||je.message||De}catch{}return Promise.reject(new Error(De))}).apply(this,arguments)}send(a){var o=this;return(0,u.A)(function*(l,v={}){var M,x;if(o._canPush()||"broadcast"!==l.type)return new Promise(R=>{var B,K,Z;const De=o._push(l.type,l,v.timeout||o.timeout);"broadcast"===l.type&&!(null!==(Z=null===(K=null===(B=o.params)||void 0===B?void 0:B.config)||void 0===K?void 0:K.broadcast)&&void 0!==Z&&Z.ack)&&R("ok"),De.receive("ok",()=>R("ok")),De.receive("error",()=>R("error")),De.receive("timeout",()=>R("timed out"))});{console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:R,payload:B}=l,Z={method:"POST",headers:{Authorization:o.socket.accessTokenValue?`Bearer ${o.socket.accessTokenValue}`:"",apikey:o.socket.apiKey?o.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:o.subTopic,event:R,payload:B,private:o.private}]})};try{const De=yield o._fetchWithTimeout(o.broadcastEndpointURL,Z,null!==(M=v.timeout)&&void 0!==M?M:o.timeout);return yield null===(x=De.body)||void 0===x?void 0:x.cancel(),De.ok?"ok":"error"}catch(De){return"AbortError"===De.name?"timed out":"error"}}}).apply(this,arguments)}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=vt.leaving;const o=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(st.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(v=>{l=new fn(this,st.leave,{},a),l.receive("ok",()=>{o(),v("ok")}).receive("timeout",()=>{o(),v("timed out")}).receive("error",()=>{v("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=vt.closed,this.bindings={}}_fetchWithTimeout(a,o,l){var v=this;return(0,u.A)(function*(){const M=new AbortController,x=setTimeout(()=>M.abort(),l),R=yield v.socket.fetch(a,Object.assign(Object.assign({},o),{signal:M.signal}));return clearTimeout(x),R})()}_push(a,o,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let v=new fn(this,a,o,l);return this._canPush()?v.send():this._addToPushBuffer(v),v}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>100){const o=this.pushBuffer.shift();o&&(o.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${o.event}`,o.payload))}}_onMessage(a,o,l){return o}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,o,l){var v,M;const x=a.toLocaleLowerCase(),{close:R,error:B,leave:K,join:Z}=st;if(l&&[R,B,K,Z].indexOf(x)>=0&&l!==this._joinRef())return;let je=this._onMessage(x,o,l);if(o&&!je)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(x)?null===(v=this.bindings.postgres_changes)||void 0===v||v.filter(be=>{var fe,Re,qe;return"*"===(null===(fe=be.filter)||void 0===fe?void 0:fe.event)||(null===(qe=null===(Re=be.filter)||void 0===Re?void 0:Re.event)||void 0===qe?void 0:qe.toLocaleLowerCase())===x}).map(be=>be.callback(je,l)):null===(M=this.bindings[x])||void 0===M||M.filter(be=>{var fe,Re,qe,nt,Ut,Bt;if(["broadcast","presence","postgres_changes"].includes(x)){if("id"in be){const he=be.id,Ve=null===(fe=be.filter)||void 0===fe?void 0:fe.event;return he&&(null===(Re=o.ids)||void 0===Re?void 0:Re.includes(he))&&("*"===Ve||Ve?.toLocaleLowerCase()===(null===(qe=o.data)||void 0===qe?void 0:qe.type.toLocaleLowerCase()))}{const he=null===(Ut=null===(nt=be?.filter)||void 0===nt?void 0:nt.event)||void 0===Ut?void 0:Ut.toLocaleLowerCase();return"*"===he||he===(null===(Bt=o?.event)||void 0===Bt?void 0:Bt.toLocaleLowerCase())}}return be.type.toLocaleLowerCase()===x}).map(be=>{if("object"==typeof je&&"ids"in je){const fe=je.data,{schema:Re,table:qe,commit_timestamp:nt,type:Ut,errors:Bt}=fe;je=Object.assign(Object.assign({},{schema:Re,table:qe,commit_timestamp:nt,eventType:Ut,new:{},old:{},errors:Bt}),this._getPayloadRecords(fe))}be.callback(je,l)})}_isClosed(){return this.state===vt.closed}_isJoined(){return this.state===vt.joined}_isJoining(){return this.state===vt.joining}_isLeaving(){return this.state===vt.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,o,l){const v=a.toLocaleLowerCase(),M={type:v,filter:o,callback:l};return this.bindings[v]?this.bindings[v].push(M):this.bindings[v]=[M],this}_off(a,o){const l=a.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(v=>{var M;return!((null===(M=v.type)||void 0===M?void 0:M.toLocaleLowerCase())===l&&wn.isEqual(v.filter,o))})),this}static isEqual(a,o){if(Object.keys(a).length!==Object.keys(o).length)return!1;for(const l in a)if(a[l]!==o[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(st.close,{},a)}_onError(a){this._on(st.error,{},o=>a(o))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=vt.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const o={new:{},old:{}};return("INSERT"===a.type||"UPDATE"===a.type)&&(o.new=ue(a.columns,a.record)),("UPDATE"===a.type||"DELETE"===a.type)&&(o.old=ue(a.columns,a.old_record)),o}}const Wt=()=>{},vs=[1e3,2e3,5e3,1e4];class Kt{constructor(a,o){var l;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.transport=null,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Wt,this.ref=0,this.reconnectTimer=null,this.vsn="1.0.0",this.logger=Wt,this.conn=null,this.sendBuffer=[],this.serializer=new ir,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=v=>v?(...M)=>v(...M):(...M)=>fetch(...M),null===(l=o?.params)||void 0===l||!l.apikey)throw new Error("API key is required to connect to Realtime");this.apiKey=o.params.apikey,this.endPoint=`${a}/${kt.websocket}`,this.httpEndpoint=Ot(a),this._initializeOptions(o),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(o?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=cn.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const o=a.message;throw o.includes("Node.js")?new Error(`${o}\n\nTo use Realtime in Node.js, you need to provide a WebSocket implementation:\n\nOption 1: Use Node.js 22+ which has native WebSocket support\nOption 2: Install and provide the "ws" package:\n\n  npm install ws\n\n  import ws from "ws"\n  const client = new RealtimeClient(url, {\n    ...options,\n    transport: ws\n  })`):new Error(`WebSocket not available: ${o}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(a,o){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},"function"==typeof this.conn.close&&(a?this.conn.close(a,o??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}removeChannel(a){var o=this;return(0,u.A)(function*(){const l=yield a.unsubscribe();return 0===o.channels.length&&o.disconnect(),l})()}removeAllChannels(){var a=this;return(0,u.A)(function*(){const o=yield Promise.all(a.channels.map(l=>l.unsubscribe()));return a.channels=[],a.disconnect(),o})()}log(a,o,l){this.logger(a,o,l)}connectionState(){switch(this.conn&&this.conn.readyState){case Je.connecting:return mr.Connecting;case Je.open:return mr.Open;case Je.closing:return mr.Closing;default:return mr.Closed}}isConnected(){return this.connectionState()===mr.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(a,o={config:{}}){const l=`realtime:${a}`,v=this.getChannels().find(M=>M.topic===l);if(v)return v;{const M=new wn(`realtime:${a}`,o,this);return this.channels.push(M),M}}push(a){const{topic:o,event:l,payload:v,ref:M}=a,x=()=>{this.encode(a,R=>{var B;null===(B=this.conn)||void 0===B||B.send(R)})};this.log("push",`${o} ${l} (${M})`,v),this.isConnected()?x():this.sendBuffer.push(x)}setAuth(){var a=this;return(0,u.A)(function*(o=null){a._authPromise=a._performAuth(o);try{yield a._authPromise}finally{a._authPromise=null}}).apply(this,arguments)}sendHeartbeat(){var a=this;return(0,u.A)(function*(){var o;if(a.isConnected()){if(a.pendingHeartbeatRef){a.pendingHeartbeatRef=null,a.log("transport","heartbeat timeout. Attempting to re-establish connection");try{a.heartbeatCallback("timeout")}catch(l){a.log("error","error in heartbeat callback",l)}return a._wasManualDisconnect=!1,null===(o=a.conn)||void 0===o||o.close(1e3,"heartbeat timeout"),void setTimeout(()=>{var l;a.isConnected()||null===(l=a.reconnectTimer)||void 0===l||l.scheduleTimeout()},100)}a.pendingHeartbeatRef=a._makeRef(),a.push({topic:"phoenix",event:"heartbeat",payload:{},ref:a.pendingHeartbeatRef});try{a.heartbeatCallback("sent")}catch(l){a.log("error","error in heartbeat callback",l)}a._setAuthSafely("heartbeat")}else try{a.heartbeatCallback("disconnected")}catch(l){a.log("error","error in heartbeat callback",l)}})()}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return this.ref=a===this.ref?0:a,this.ref.toString()}_leaveOpenTopic(a){let o=this.channels.find(l=>l.topic===a&&(l._isJoined()||l._isJoining()));o&&(this.log("transport",`leaving duplicate topic "${a}"`),o.unsubscribe())}_remove(a){this.channels=this.channels.filter(o=>o.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,o=>{if("phoenix"===o.topic&&"phx_reply"===o.event)try{this.heartbeatCallback("ok"===o.payload.status?"ok":"error")}catch(K){this.log("error","error in heartbeat callback",K)}o.ref&&o.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:v,payload:M,ref:x}=o;this.log("receive",`${M.status||""} ${l} ${v} ${x?`(${x})`:""}`.trim(),M),this.channels.filter(K=>K._isMember(l)).forEach(K=>K._trigger(v,M,x)),this._triggerStateCallbacks("message",o)})}_clearTimer(a){var o;"heartbeat"===a&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===a&&(null===(o=this.reconnectTimer)||void 0===o||o.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Je.open||this.conn.readyState===Je.connecting)try{this.conn.close()}catch(a){this.log("error","Error closing connection",a)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(o=>{this.log("error","error waiting for auth on connect",o),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.log("worker",this.workerUrl?`starting worker for from ${this.workerUrl}`:"starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=o=>{this.log("worker","worker error",o.message),this.workerRef.terminate()},this.workerRef.onmessage=o=>{"keepAlive"===o.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(a){var o;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null===(o=this.reconnectTimer)||void 0===o||o.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(st.error))}_appendParams(a,o){if(0===Object.keys(o).length)return a;const l=a.match(/\?/)?"&":"?";return`${a}${l}${new URLSearchParams(o)}`}_workerObjectUrl(a){let o;if(a)o=a;else{const l=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});o=URL.createObjectURL(l)}return o}_setConnectionState(a,o=!1){this._connectionState=a,"connecting"===a?this._wasManualDisconnect=!1:"disconnecting"===a&&(this._wasManualDisconnect=o)}_performAuth(){var a=this;return(0,u.A)(function*(o=null){let l;l=o||(a.accessToken?yield a.accessToken():a.accessTokenValue),a.accessTokenValue!=l&&(a.accessTokenValue=l,a.channels.forEach(v=>{l&&v.updateJoinPayload({access_token:l,version:"realtime-js/2.86.0"}),v.joinedOnce&&v._isJoined()&&v._push(st.access_token,{access_token:l})}))}).apply(this,arguments)}_waitForAuthIfNeeded(){var a=this;return(0,u.A)(function*(){a._authPromise&&(yield a._authPromise)})()}_setAuthSafely(a="general"){this.setAuth().catch(o=>{this.log("error",`error setting auth in ${a}`,o)})}_triggerStateCallbacks(a,o){try{this.stateChangeCallbacks[a].forEach(l=>{try{l(o)}catch(v){this.log("error",`error in ${a} callback`,v)}})}catch(l){this.log("error",`error triggering ${a} callbacks`,l)}}_setupReconnectionTimer(){var a=this;this.reconnectTimer=new Sn((0,u.A)(function*(){setTimeout((0,u.A)(function*(){yield a._waitForAuthIfNeeded(),a.isConnected()||a.connect()}),10)}),this.reconnectAfterMs)}_initializeOptions(a){var o,l,v,M,x,R,B,K,Z,De,je,be;switch(this.transport=null!==(o=a?.transport)&&void 0!==o?o:null,this.timeout=null!==(l=a?.timeout)&&void 0!==l?l:1e4,this.heartbeatIntervalMs=null!==(v=a?.heartbeatIntervalMs)&&void 0!==v?v:25e3,this.worker=null!==(M=a?.worker)&&void 0!==M&&M,this.accessToken=null!==(x=a?.accessToken)&&void 0!==x?x:null,this.heartbeatCallback=null!==(R=a?.heartbeatCallback)&&void 0!==R?R:Wt,this.vsn=null!==(B=a?.vsn)&&void 0!==B?B:"1.0.0",a?.params&&(this.params=a.params),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!==(K=a?.reconnectAfterMs)&&void 0!==K?K:fe=>vs[fe-1]||1e4,this.vsn){case"1.0.0":this.encode=null!==(Z=a?.encode)&&void 0!==Z?Z:(fe,Re)=>Re(JSON.stringify(fe)),this.decode=null!==(De=a?.decode)&&void 0!==De?De:(fe,Re)=>Re(JSON.parse(fe));break;case"2.0.0":this.encode=null!==(je=a?.encode)&&void 0!==je?je:this.serializer.encode.bind(this.serializer),this.decode=null!==(be=a?.decode)&&void 0!==be?be:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a?.workerUrl}}}class qn extends Error{constructor(a){super(a),this.__isStorageError=!0,this.name="StorageError"}}function Zt(m){return"object"==typeof m&&null!==m&&"__isStorageError"in m}class _r extends qn{constructor(a,o,l){super(a),this.name="StorageApiError",this.status=o,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Er extends qn{constructor(a,o){super(a),this.name="StorageUnknownError",this.originalError=o}}const xn=m=>m?(...a)=>m(...a):(...a)=>fetch(...a),gt=m=>{if(Array.isArray(m))return m.map(o=>gt(o));if("function"==typeof m||m!==Object(m))return m;const a={};return Object.entries(m).forEach(([o,l])=>{const v=o.replace(/([-_][a-z])/gi,M=>M.toUpperCase().replace(/[-_]/g,""));a[v]=gt(l)}),a},on=m=>{var a;return m.msg||m.message||m.error_description||("string"==typeof m.error?m.error:null===(a=m.error)||void 0===a?void 0:a.message)||JSON.stringify(m)},Dr=(m,a,o)=>(0,G.__awaiter)(void 0,void 0,void 0,function*(){const l=yield Response;m instanceof l&&!o?.noResolveJson?m.json().then(v=>{const M=m.status||500,x=v?.statusCode||M+"";a(new _r(on(v),M,x))}).catch(v=>{a(new Er(on(v),v))}):a(new Er(on(m),m))}),dn=(m,a,o,l)=>{const v={method:m,headers:a?.headers||{}};return"GET"!==m&&l?((m=>{if("object"!=typeof m||null===m)return!1;const a=Object.getPrototypeOf(m);return!(null!==a&&a!==Object.prototype&&null!==Object.getPrototypeOf(a)||Symbol.toStringTag in m||Symbol.iterator in m)})(l)?(v.headers=Object.assign({"Content-Type":"application/json"},a?.headers),v.body=JSON.stringify(l)):v.body=l,a?.duplex&&(v.duplex=a.duplex),Object.assign(Object.assign({},v),o)):v};function en(m,a,o,l,v,M){return(0,G.__awaiter)(this,void 0,void 0,function*(){return new Promise((x,R)=>{m(o,dn(a,l,v,M)).then(B=>{if(!B.ok)throw B;return l?.noResolveJson?B:B.json()}).then(B=>x(B)).catch(B=>Dr(B,R,l))})})}function us(m,a,o,l){return(0,G.__awaiter)(this,void 0,void 0,function*(){return en(m,"GET",a,o,l)})}function Mn(m,a,o,l,v){return(0,G.__awaiter)(this,void 0,void 0,function*(){return en(m,"POST",a,l,v,o)})}function xt(m,a,o,l,v){return(0,G.__awaiter)(this,void 0,void 0,function*(){return en(m,"PUT",a,l,v,o)})}function yr(m,a,o,l,v){return(0,G.__awaiter)(this,void 0,void 0,function*(){return en(m,"DELETE",a,l,v,o)})}class bs{constructor(a,o){this.downloadFn=a,this.shouldThrowOnError=o}then(a,o){return this.execute().then(a,o)}execute(){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Zt(a))return{data:null,error:a};throw a}})}}var er;er=Symbol.toStringTag;const Is={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xe={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ve{constructor(a,o={},l,v){this.shouldThrowOnError=!1,this.url=a,this.headers=o,this.bucketId=l,this.fetch=xn(v)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(a,o,l,v){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{let M;const x=Object.assign(Object.assign({},xe),v);let R=Object.assign(Object.assign({},this.headers),"POST"===a&&{"x-upsert":String(x.upsert)});const B=x.metadata;typeof Blob<"u"&&l instanceof Blob?(M=new FormData,M.append("cacheControl",x.cacheControl),B&&M.append("metadata",this.encodeMetadata(B)),M.append("",l)):typeof FormData<"u"&&l instanceof FormData?(M=l,M.has("cacheControl")||M.append("cacheControl",x.cacheControl),B&&!M.has("metadata")&&M.append("metadata",this.encodeMetadata(B))):(M=l,R["cache-control"]=`max-age=${x.cacheControl}`,R["content-type"]=x.contentType,B&&(R["x-metadata"]=this.toBase64(this.encodeMetadata(B))),(typeof ReadableStream<"u"&&M instanceof ReadableStream||M&&"object"==typeof M&&"pipe"in M&&"function"==typeof M.pipe)&&!x.duplex&&(x.duplex="half")),v?.headers&&(R=Object.assign(Object.assign({},R),v.headers));const K=this._removeEmptyFolders(o),Z=this._getFinalPath(K),De=yield("PUT"==a?xt:Mn)(this.fetch,`${this.url}/object/${Z}`,M,Object.assign({headers:R},x?.duplex?{duplex:x.duplex}:{}));return{data:{path:K,id:De.Id,fullPath:De.Key},error:null}}catch(M){if(this.shouldThrowOnError)throw M;if(Zt(M))return{data:null,error:M};throw M}})}upload(a,o,l){return(0,G.__awaiter)(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",a,o,l)})}uploadToSignedUrl(a,o,l,v){return(0,G.__awaiter)(this,void 0,void 0,function*(){const M=this._removeEmptyFolders(a),x=this._getFinalPath(M),R=new URL(this.url+`/object/upload/sign/${x}`);R.searchParams.set("token",o);try{let B;const K=Object.assign({upsert:xe.upsert},v),Z=Object.assign(Object.assign({},this.headers),{"x-upsert":String(K.upsert)});return typeof Blob<"u"&&l instanceof Blob?(B=new FormData,B.append("cacheControl",K.cacheControl),B.append("",l)):typeof FormData<"u"&&l instanceof FormData?(B=l,B.append("cacheControl",K.cacheControl)):(B=l,Z["cache-control"]=`max-age=${K.cacheControl}`,Z["content-type"]=K.contentType),{data:{path:M,fullPath:(yield xt(this.fetch,R.toString(),B,{headers:Z})).Key},error:null}}catch(B){if(this.shouldThrowOnError)throw B;if(Zt(B))return{data:null,error:B};throw B}})}createSignedUploadUrl(a,o){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{let l=this._getFinalPath(a);const v=Object.assign({},this.headers);o?.upsert&&(v["x-upsert"]="true");const M=yield Mn(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:v}),x=new URL(this.url+M.url),R=x.searchParams.get("token");if(!R)throw new qn("No token returned by API");return{data:{signedUrl:x.toString(),path:a,token:R},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Zt(l))return{data:null,error:l};throw l}})}update(a,o,l){return(0,G.__awaiter)(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",a,o,l)})}move(a,o,l){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Mn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:a,destinationKey:o,destinationBucket:l?.destinationBucket},{headers:this.headers}),error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(Zt(v))return{data:null,error:v};throw v}})}copy(a,o,l){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:{path:(yield Mn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:a,destinationKey:o,destinationBucket:l?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(Zt(v))return{data:null,error:v};throw v}})}createSignedUrl(a,o,l){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{let v=this._getFinalPath(a),M=yield Mn(this.fetch,`${this.url}/object/sign/${v}`,Object.assign({expiresIn:o},l?.transform?{transform:l.transform}:{}),{headers:this.headers});const x=l?.download?`&download=${!0===l.download?"":l.download}`:"";return M={signedUrl:encodeURI(`${this.url}${M.signedURL}${x}`)},{data:M,error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(Zt(v))return{data:null,error:v};throw v}})}createSignedUrls(a,o,l){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{const v=yield Mn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:o,paths:a},{headers:this.headers}),M=l?.download?`&download=${!0===l.download?"":l.download}`:"";return{data:v.map(x=>Object.assign(Object.assign({},x),{signedUrl:x.signedURL?encodeURI(`${this.url}${x.signedURL}${M}`):null})),error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(Zt(v))return{data:null,error:v};throw v}})}download(a,o){const v=typeof o?.transform<"u"?"render/image/authenticated":"object",M=this.transformOptsToQueryString(o?.transform||{}),x=M?`?${M}`:"",R=this._getFinalPath(a);return new class Ir{constructor(a,o){this.downloadFn=a,this.shouldThrowOnError=o,this[er]="BlobDownloadBuilder",this.promise=null}asStream(){return new bs(this.downloadFn,this.shouldThrowOnError)}then(a,o){return this.getPromise().then(a,o)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Zt(a))return{data:null,error:a};throw a}})}}(()=>us(this.fetch,`${this.url}/${v}/${R}${x}`,{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}info(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){const o=this._getFinalPath(a);try{const l=yield us(this.fetch,`${this.url}/object/info/${o}`,{headers:this.headers});return{data:gt(l),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Zt(l))return{data:null,error:l};throw l}})}exists(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){const o=this._getFinalPath(a);try{return yield function ar(m,a,o,l){return(0,G.__awaiter)(this,void 0,void 0,function*(){return en(m,"HEAD",a,Object.assign(Object.assign({},o),{noResolveJson:!0}),l)})}(this.fetch,`${this.url}/object/${o}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Zt(l)&&l instanceof Er){const v=l.originalError;if([400,404].includes(v?.status))return{data:!1,error:l}}throw l}})}getPublicUrl(a,o){const l=this._getFinalPath(a),v=[],M=o?.download?`download=${!0===o.download?"":o.download}`:"";""!==M&&v.push(M);const R=typeof o?.transform<"u"?"render/image":"object",B=this.transformOptsToQueryString(o?.transform||{});""!==B&&v.push(B);let K=v.join("&");return""!==K&&(K=`?${K}`),{data:{publicUrl:encodeURI(`${this.url}/${R}/public/${l}${K}`)}}}remove(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield yr(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:a},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Zt(o))return{data:null,error:o};throw o}})}list(a,o,l){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{const v=Object.assign(Object.assign(Object.assign({},Is),o),{prefix:a||""});return{data:yield Mn(this.fetch,`${this.url}/object/list/${this.bucketId}`,v,{headers:this.headers},l),error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(Zt(v))return{data:null,error:v};throw v}})}listV2(a,o){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{const l=Object.assign({},a);return{data:yield Mn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,l,{headers:this.headers},o),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Zt(l))return{data:null,error:l};throw l}})}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const o=[];return a.width&&o.push(`width=${a.width}`),a.height&&o.push(`height=${a.height}`),a.resize&&o.push(`resize=${a.resize}`),a.format&&o.push(`format=${a.format}`),a.quality&&o.push(`quality=${a.quality}`),o.join("&")}}const W="2.86.0",ie={"X-Client-Info":`storage-js/${W}`};class Te{constructor(a,o={},l,v){this.shouldThrowOnError=!1;const M=new URL(a);v?.useNewHostname&&/supabase\.(co|in|red)$/.test(M.hostname)&&!M.hostname.includes("storage.supabase.")&&(M.hostname=M.hostname.replace("supabase.","storage.supabase.")),this.url=M.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ie),o),this.fetch=xn(l)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{const o=this.listBucketOptionsToQueryString(a);return{data:yield us(this.fetch,`${this.url}/bucket${o}`,{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Zt(o))return{data:null,error:o};throw o}})}getBucket(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield us(this.fetch,`${this.url}/bucket/${a}`,{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Zt(o))return{data:null,error:o};throw o}})}createBucket(a){return(0,G.__awaiter)(this,arguments,void 0,function*(o,l={public:!1}){try{return{data:yield Mn(this.fetch,`${this.url}/bucket`,{id:o,name:o,type:l.type,public:l.public,file_size_limit:l.fileSizeLimit,allowed_mime_types:l.allowedMimeTypes},{headers:this.headers}),error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(Zt(v))return{data:null,error:v};throw v}})}updateBucket(a,o){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield xt(this.fetch,`${this.url}/bucket/${a}`,{id:a,name:a,public:o.public,file_size_limit:o.fileSizeLimit,allowed_mime_types:o.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Zt(l))return{data:null,error:l};throw l}})}emptyBucket(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Mn(this.fetch,`${this.url}/bucket/${a}/empty`,{},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Zt(o))return{data:null,error:o};throw o}})}deleteBucket(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield yr(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Zt(o))return{data:null,error:o};throw o}})}listBucketOptionsToQueryString(a){const o={};return a&&("limit"in a&&(o.limit=String(a.limit)),"offset"in a&&(o.offset=String(a.offset)),a.search&&(o.search=a.search),a.sortColumn&&(o.sortColumn=a.sortColumn),a.sortOrder&&(o.sortOrder=a.sortOrder)),Object.keys(o).length>0?"?"+new URLSearchParams(o).toString():""}}var et=class extends Error{constructor(m,a){super(m),this.name="IcebergError",this.status=a.status,this.icebergType=a.icebergType,this.icebergCode=a.icebergCode,this.details=a.details,this.isCommitStateUnknown="CommitStateUnknownException"===a.icebergType||[500,502,504].includes(a.status)&&!0===a.icebergType?.includes("CommitState")}isNotFound(){return 404===this.status}isConflict(){return 409===this.status}isAuthenticationTimeout(){return 419===this.status}};function Jt(){return(Jt=(0,u.A)(function*(m){return m&&"none"!==m.type?"bearer"===m.type?{Authorization:`Bearer ${m.token}`}:"header"===m.type?{[m.name]:m.value}:"custom"===m.type?yield m.getHeaders():{}:{}})).apply(this,arguments)}function Vn(m){return m.join("\x1f")}function Sr(m){return m.join("\x1f")}class ke{constructor(a,o={},l){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ie),o),this.fetch=xn(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield Mn(this.fetch,`${this.url}/bucket`,{name:a},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Zt(o))return{data:null,error:o};throw o}})}listBuckets(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{const o=new URLSearchParams;void 0!==a?.limit&&o.set("limit",a.limit.toString()),void 0!==a?.offset&&o.set("offset",a.offset.toString()),a?.sortColumn&&o.set("sortColumn",a.sortColumn),a?.sortOrder&&o.set("sortOrder",a.sortOrder),a?.search&&o.set("search",a.search);const l=o.toString(),v=l?`${this.url}/bucket?${l}`:`${this.url}/bucket`;return{data:yield us(this.fetch,v,{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Zt(o))return{data:null,error:o};throw o}})}deleteBucket(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield yr(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Zt(o))return{data:null,error:o};throw o}})}from(a){if(!(m=a)||"string"!=typeof m||0===m.length||m.length>100||m.trim()!==m||m.includes("/")||m.includes("\\")||!/^[\w!.\*'() &$@=;:+,?-]+$/.test(m))throw new qn("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");var m;return new class{constructor(m){let a="v1";m.catalogName&&(a+=`/${m.catalogName}`);const o=m.baseUrl.endsWith("/")?m.baseUrl:`${m.baseUrl}/`;this.client=function Gn(m){const a=m.fetchImpl??globalThis.fetch;return{request(o){return(0,u.A)(function*({method:l,path:v,query:M,body:x,headers:R}){const B=function bt(m,a,o){const l=new URL(a,m);if(o)for(const[v,M]of Object.entries(o))void 0!==M&&l.searchParams.set(v,M);return l.toString()}(m.baseUrl,v,M),K=yield function an(m){return Jt.apply(this,arguments)}(m.auth),Z=yield a(B,{method:l,headers:{...x?{"Content-Type":"application/json"}:{},...K,...R},body:x?JSON.stringify(x):void 0}),De=yield Z.text(),je=(Z.headers.get("content-type")||"").includes("application/json"),be=je&&De?JSON.parse(De):De;if(!Z.ok){const fe=je?be:void 0,Re=fe?.error;throw new et(Re?.message??`Request failed with status ${Z.status}`,{status:Z.status,icebergType:Re?.type,icebergCode:Re?.code,details:fe})}return{status:Z.status,headers:Z.headers,data:be}}).apply(this,arguments)}}}({baseUrl:o,auth:m.auth,fetchImpl:m.fetch}),this.accessDelegation=m.accessDelegation?.join(","),this.namespaceOps=new class{constructor(m,a=""){this.client=m,this.prefix=a}listNamespaces(m){var a=this;return(0,u.A)(function*(){const o=m?{parent:Vn(m.namespace)}:void 0;return(yield a.client.request({method:"GET",path:`${a.prefix}/namespaces`,query:o})).data.namespaces.map(v=>({namespace:v}))})()}createNamespace(m,a){var o=this;return(0,u.A)(function*(){const l={namespace:m.namespace,properties:a?.properties};return(yield o.client.request({method:"POST",path:`${o.prefix}/namespaces`,body:l})).data})()}dropNamespace(m){var a=this;return(0,u.A)(function*(){yield a.client.request({method:"DELETE",path:`${a.prefix}/namespaces/${Vn(m.namespace)}`})})()}loadNamespaceMetadata(m){var a=this;return(0,u.A)(function*(){return{properties:(yield a.client.request({method:"GET",path:`${a.prefix}/namespaces/${Vn(m.namespace)}`})).data.properties}})()}namespaceExists(m){var a=this;return(0,u.A)(function*(){try{return yield a.client.request({method:"HEAD",path:`${a.prefix}/namespaces/${Vn(m.namespace)}`}),!0}catch(o){if(o instanceof et&&404===o.status)return!1;throw o}})()}createNamespaceIfNotExists(m,a){var o=this;return(0,u.A)(function*(){try{return yield o.createNamespace(m,a)}catch(l){if(l instanceof et&&409===l.status)return;throw l}})()}}(this.client,a),this.tableOps=new class{constructor(m,a="",o){this.client=m,this.prefix=a,this.accessDelegation=o}listTables(m){var a=this;return(0,u.A)(function*(){return(yield a.client.request({method:"GET",path:`${a.prefix}/namespaces/${Sr(m.namespace)}/tables`})).data.identifiers})()}createTable(m,a){var o=this;return(0,u.A)(function*(){const l={};return o.accessDelegation&&(l["X-Iceberg-Access-Delegation"]=o.accessDelegation),(yield o.client.request({method:"POST",path:`${o.prefix}/namespaces/${Sr(m.namespace)}/tables`,body:a,headers:l})).data.metadata})()}updateTable(m,a){var o=this;return(0,u.A)(function*(){const l=yield o.client.request({method:"POST",path:`${o.prefix}/namespaces/${Sr(m.namespace)}/tables/${m.name}`,body:a});return{"metadata-location":l.data["metadata-location"],metadata:l.data.metadata}})()}dropTable(m,a){var o=this;return(0,u.A)(function*(){yield o.client.request({method:"DELETE",path:`${o.prefix}/namespaces/${Sr(m.namespace)}/tables/${m.name}`,query:{purgeRequested:String(a?.purge??!1)}})})()}loadTable(m){var a=this;return(0,u.A)(function*(){const o={};return a.accessDelegation&&(o["X-Iceberg-Access-Delegation"]=a.accessDelegation),(yield a.client.request({method:"GET",path:`${a.prefix}/namespaces/${Sr(m.namespace)}/tables/${m.name}`,headers:o})).data.metadata})()}tableExists(m){var a=this;return(0,u.A)(function*(){const o={};a.accessDelegation&&(o["X-Iceberg-Access-Delegation"]=a.accessDelegation);try{return yield a.client.request({method:"HEAD",path:`${a.prefix}/namespaces/${Sr(m.namespace)}/tables/${m.name}`,headers:o}),!0}catch(l){if(l instanceof et&&404===l.status)return!1;throw l}})()}createTableIfNotExists(m,a){var o=this;return(0,u.A)(function*(){try{return yield o.createTable(m,a)}catch(l){if(l instanceof et&&409===l.status)return yield o.loadTable({namespace:m.namespace,name:a.name});throw l}})()}}(this.client,a,this.accessDelegation)}listNamespaces(m){var a=this;return(0,u.A)(function*(){return a.namespaceOps.listNamespaces(m)})()}createNamespace(m,a){var o=this;return(0,u.A)(function*(){return o.namespaceOps.createNamespace(m,a)})()}dropNamespace(m){var a=this;return(0,u.A)(function*(){yield a.namespaceOps.dropNamespace(m)})()}loadNamespaceMetadata(m){var a=this;return(0,u.A)(function*(){return a.namespaceOps.loadNamespaceMetadata(m)})()}listTables(m){var a=this;return(0,u.A)(function*(){return a.tableOps.listTables(m)})()}createTable(m,a){var o=this;return(0,u.A)(function*(){return o.tableOps.createTable(m,a)})()}updateTable(m,a){var o=this;return(0,u.A)(function*(){return o.tableOps.updateTable(m,a)})()}dropTable(m,a){var o=this;return(0,u.A)(function*(){yield o.tableOps.dropTable(m,a)})()}loadTable(m){var a=this;return(0,u.A)(function*(){return a.tableOps.loadTable(m)})()}namespaceExists(m){var a=this;return(0,u.A)(function*(){return a.namespaceOps.namespaceExists(m)})()}tableExists(m){var a=this;return(0,u.A)(function*(){return a.tableOps.tableExists(m)})()}createNamespaceIfNotExists(m,a){var o=this;return(0,u.A)(function*(){return o.namespaceOps.createNamespaceIfNotExists(m,a)})()}createTableIfNotExists(m,a){var o=this;return(0,u.A)(function*(){return o.tableOps.createTableIfNotExists(m,a)})()}}({baseUrl:this.url,catalogName:a,auth:{type:"custom",getHeaders:()=>(0,G.__awaiter)(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Fe={"X-Client-Info":`storage-js/${W}`,"Content-Type":"application/json"};class Ye extends Error{constructor(a){super(a),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Le(m){return"object"==typeof m&&null!==m&&"__isStorageVectorsError"in m}class qt extends Ye{constructor(a,o,l){super(a),this.name="StorageVectorsApiError",this.status=o,this.statusCode=l}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Nt extends Ye{constructor(a,o){super(a),this.name="StorageVectorsUnknownError",this.originalError=o}}const Mr=m=>m?(...a)=>m(...a):(...a)=>fetch(...a),mt=m=>m.msg||m.message||m.error_description||m.error||JSON.stringify(m),vn=(m,a,o)=>(0,G.__awaiter)(void 0,void 0,void 0,function*(){if(m&&"object"==typeof m&&"status"in m&&"ok"in m&&"number"==typeof m.status&&!o?.noResolveJson){const v=m.status||500,M=m;"function"==typeof M.json?M.json().then(x=>{const R=x?.statusCode||x?.code||v+"";a(new qt(mt(x),v,R))}).catch(()=>{a(new qt(M.statusText||`HTTP ${v} error`,v,v+""))}):a(new qt(M.statusText||`HTTP ${v} error`,v,v+""))}else a(new Nt(mt(m),m))}),Hr=(m,a,o,l)=>{const v={method:m,headers:a?.headers||{}};return"GET"!==m&&l?((m=>{if("object"!=typeof m||null===m)return!1;const a=Object.getPrototypeOf(m);return!(null!==a&&a!==Object.prototype&&null!==Object.getPrototypeOf(a)||Symbol.toStringTag in m||Symbol.iterator in m)})(l)?(v.headers=Object.assign({"Content-Type":"application/json"},a?.headers),v.body=JSON.stringify(l)):v.body=l,Object.assign(Object.assign({},v),o)):v};function _n(m,a,o,l,v){return(0,G.__awaiter)(this,void 0,void 0,function*(){return function Or(m,a,o,l,v,M){return(0,G.__awaiter)(this,void 0,void 0,function*(){return new Promise((x,R)=>{m(o,Hr(a,l,v,M)).then(B=>{if(!B.ok)throw B;if(l?.noResolveJson)return B;const K=B.headers.get("content-type");return K&&K.includes("application/json")?B.json():{}}).then(B=>x(B)).catch(B=>vn(B,R,l))})})}(m,"POST",a,l,v,o)})}class oi{constructor(a,o={},l){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Fe),o),this.fetch=Mr(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield _n(this.fetch,`${this.url}/CreateIndex`,a,{headers:this.headers}))||{},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Le(o))return{data:null,error:o};throw o}})}getIndex(a,o){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield _n(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:a,indexName:o},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Le(l))return{data:null,error:l};throw l}})}listIndexes(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield _n(this.fetch,`${this.url}/ListIndexes`,a,{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Le(o))return{data:null,error:o};throw o}})}deleteIndex(a,o){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield _n(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:a,indexName:o},{headers:this.headers}))||{},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Le(l))return{data:null,error:l};throw l}})}}class Bs{constructor(a,o={},l){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Fe),o),this.fetch=Mr(l)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{if(a.vectors.length<1||a.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield _n(this.fetch,`${this.url}/PutVectors`,a,{headers:this.headers}))||{},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Le(o))return{data:null,error:o};throw o}})}getVectors(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield _n(this.fetch,`${this.url}/GetVectors`,a,{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Le(o))return{data:null,error:o};throw o}})}listVectors(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{if(void 0!==a.segmentCount){if(a.segmentCount<1||a.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(void 0!==a.segmentIndex&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw new Error("segmentIndex must be between 0 and "+(a.segmentCount-1))}return{data:yield _n(this.fetch,`${this.url}/ListVectors`,a,{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Le(o))return{data:null,error:o};throw o}})}queryVectors(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield _n(this.fetch,`${this.url}/QueryVectors`,a,{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Le(o))return{data:null,error:o};throw o}})}deleteVectors(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{if(a.keys.length<1||a.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield _n(this.fetch,`${this.url}/DeleteVectors`,a,{headers:this.headers}))||{},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Le(o))return{data:null,error:o};throw o}})}}class cs{constructor(a,o={},l){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Fe),o),this.fetch=Mr(l)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield _n(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Le(o))return{data:null,error:o};throw o}})}getBucket(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:yield _n(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:a},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Le(o))return{data:null,error:o};throw o}})}listBuckets(){return(0,G.__awaiter)(this,arguments,void 0,function*(a={}){try{return{data:yield _n(this.fetch,`${this.url}/ListVectorBuckets`,a,{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Le(o))return{data:null,error:o};throw o}})}deleteBucket(a){return(0,G.__awaiter)(this,void 0,void 0,function*(){try{return{data:(yield _n(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Le(o))return{data:null,error:o};throw o}})}}class Hs extends cs{constructor(a,o={}){super(a,o.headers||{},o.fetch)}from(a){return new Rr(this.url,this.headers,a,this.fetch)}createBucket(a){const o=Object.create(null,{createBucket:{get:()=>super.createBucket}});return(0,G.__awaiter)(this,void 0,void 0,function*(){return o.createBucket.call(this,a)})}getBucket(a){const o=Object.create(null,{getBucket:{get:()=>super.getBucket}});return(0,G.__awaiter)(this,void 0,void 0,function*(){return o.getBucket.call(this,a)})}listBuckets(){const a=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return(0,G.__awaiter)(this,arguments,void 0,function*(o={}){return a.listBuckets.call(this,o)})}deleteBucket(a){const o=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return(0,G.__awaiter)(this,void 0,void 0,function*(){return o.deleteBucket.call(this,a)})}}class Rr extends oi{constructor(a,o,l,v){super(a,o,v),this.vectorBucketName=l}createIndex(a){const o=Object.create(null,{createIndex:{get:()=>super.createIndex}});return(0,G.__awaiter)(this,void 0,void 0,function*(){return o.createIndex.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const a=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return(0,G.__awaiter)(this,arguments,void 0,function*(o={}){return a.listIndexes.call(this,Object.assign(Object.assign({},o),{vectorBucketName:this.vectorBucketName}))})}getIndex(a){const o=Object.create(null,{getIndex:{get:()=>super.getIndex}});return(0,G.__awaiter)(this,void 0,void 0,function*(){return o.getIndex.call(this,this.vectorBucketName,a)})}deleteIndex(a){const o=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return(0,G.__awaiter)(this,void 0,void 0,function*(){return o.deleteIndex.call(this,this.vectorBucketName,a)})}index(a){return new Vr(this.url,this.headers,this.vectorBucketName,a,this.fetch)}}class Vr extends Bs{constructor(a,o,l,v,M){super(a,o,M),this.vectorBucketName=l,this.indexName=v}putVectors(a){const o=Object.create(null,{putVectors:{get:()=>super.putVectors}});return(0,G.__awaiter)(this,void 0,void 0,function*(){return o.putVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(a){const o=Object.create(null,{getVectors:{get:()=>super.getVectors}});return(0,G.__awaiter)(this,void 0,void 0,function*(){return o.getVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const a=Object.create(null,{listVectors:{get:()=>super.listVectors}});return(0,G.__awaiter)(this,arguments,void 0,function*(o={}){return a.listVectors.call(this,Object.assign(Object.assign({},o),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(a){const o=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return(0,G.__awaiter)(this,void 0,void 0,function*(){return o.queryVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(a){const o=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return(0,G.__awaiter)(this,void 0,void 0,function*(){return o.deleteVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Cs extends Te{constructor(a,o={},l,v){super(a,o,l,v)}from(a){return new ve(this.url,this.headers,a,this.fetch)}get vectors(){return new Hs(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new ke(this.url+"/iceberg",this.headers,this.fetch)}}let Tr="";Tr=typeof Deno<"u"?"deno":typeof document<"u"?"web":typeof navigator<"u"&&"ReactNative"===navigator.product?"react-native":"node";const yi={headers:{"X-Client-Info":`supabase-js-${Tr}/2.86.0`}},Un={schema:"public"},Ki={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},vi={},Pi=(m,a,o)=>{const l=(m=>m?(...a)=>m(...a):(...a)=>fetch(...a))(o),v=Headers;return function(){var M=(0,u.A)(function*(x,R){var B;const K=null!==(B=yield a())&&void 0!==B?B:m;let Z=new v(R?.headers);return Z.has("apikey")||Z.set("apikey",m),Z.has("Authorization")||Z.set("Authorization",`Bearer ${K}`),l(x,Object.assign(Object.assign({},R),{headers:Z}))});return function(x,R){return M.apply(this,arguments)}}()},qr=3e4,Lt="X-Supabase-Api-Version",En={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Xn=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class Wn extends Error{constructor(a,o,l){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=o,this.code=l}}function ct(m){return"object"==typeof m&&null!==m&&"__isAuthError"in m}class Ps extends Wn{constructor(a,o,l){super(a,o,l),this.name="AuthApiError",this.status=o,this.code=l}}class Lr extends Wn{constructor(a,o){super(a),this.name="AuthUnknownError",this.originalError=o}}class Wr extends Wn{constructor(a,o,l,v){super(a,l,v),this.name=o,this.status=l}}class tn extends Wr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class Pt extends Wr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ln extends Wr{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class lr extends Wr{constructor(a,o=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Qn extends Wr{constructor(a,o=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=o}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class fs extends Wr{constructor(a,o){super(a,"AuthRetryableFetchError",o,void 0)}}function $n(m){return ct(m)&&"AuthRetryableFetchError"===m.name}class wr extends Wr{constructor(a,o,l){super(a,"AuthWeakPasswordError",o,"weak_password"),this.reasons=l}}class Ft extends Wr{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const jr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Xr=" \t\n\r=".split(""),Qr=(()=>{const m=new Array(128);for(let a=0;a<m.length;a+=1)m[a]=-1;for(let a=0;a<Xr.length;a+=1)m[Xr[a].charCodeAt(0)]=-2;for(let a=0;a<jr.length;a+=1)m[jr[a].charCodeAt(0)]=a;return m})();function In(m,a,o){if(null!==m)for(a.queue=a.queue<<8|m,a.queuedBits+=8;a.queuedBits>=6;)o(jr[a.queue>>a.queuedBits-6&63]),a.queuedBits-=6;else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;)o(jr[a.queue>>a.queuedBits-6&63]),a.queuedBits-=6}function Ds(m,a,o){const l=Qr[m];if(!(l>-1)){if(-2===l)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(m)}"`)}for(a.queue=a.queue<<6|l,a.queuedBits+=6;a.queuedBits>=8;)o(a.queue>>a.queuedBits-8&255),a.queuedBits-=8}function Ur(m){const a=[],o=x=>{a.push(String.fromCodePoint(x))},l={utf8seq:0,codepoint:0},v={queue:0,queuedBits:0},M=x=>{!function Ms(m,a,o){if(0===a.utf8seq){if(m<=127)return void o(m);for(let l=1;l<6;l+=1)if(!(m>>7-l&1)){a.utf8seq=l;break}if(2===a.utf8seq)a.codepoint=31&m;else if(3===a.utf8seq)a.codepoint=15&m;else{if(4!==a.utf8seq)throw new Error("Invalid UTF-8 sequence");a.codepoint=7&m}a.utf8seq-=1}else if(a.utf8seq>0){if(m<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|63&m,a.utf8seq-=1,0===a.utf8seq&&o(a.codepoint)}}(x,l,o)};for(let x=0;x<m.length;x+=1)Ds(m.charCodeAt(x),v,M);return a.join("")}function Ss(m,a){if(!(m<=127)){if(m<=2047)return a(192|m>>6),void a(128|63&m);if(m<=65535)return a(224|m>>12),a(128|m>>6&63),void a(128|63&m);if(m<=1114111)return a(240|m>>18),a(128|m>>12&63),a(128|m>>6&63),void a(128|63&m);throw new Error(`Unrecognized Unicode codepoint: ${m.toString(16)}`)}a(m)}function Ar(m){const a=[],o={queue:0,queuedBits:0},l=v=>{a.push(v)};for(let v=0;v<m.length;v+=1)Ds(m.charCodeAt(v),o,l);return new Uint8Array(a)}function tr(m){const a=[],o={queue:0,queuedBits:0},l=v=>{a.push(v)};return m.forEach(v=>In(v,o,l)),In(null,o,l),a.join("")}const On=()=>typeof window<"u"&&typeof document<"u",ur={tested:!1,writable:!1},$r=()=>{if(!On())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch{return!1}if(ur.tested)return ur.writable;const m=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(m,m),globalThis.localStorage.removeItem(m),ur.tested=!0,ur.writable=!0}catch{ur.tested=!0,ur.writable=!1}return ur.writable},Xs=m=>m?(...a)=>m(...a):(...a)=>fetch(...a),ui=m=>"object"==typeof m&&null!==m&&"status"in m&&"ok"in m&&"json"in m&&"function"==typeof m.json,Pn=function(){var m=(0,u.A)(function*(a,o,l){yield a.setItem(o,JSON.stringify(l))});return function(o,l,v){return m.apply(this,arguments)}}(),Ns=function(){var m=(0,u.A)(function*(a,o){const l=yield a.getItem(o);if(!l)return null;try{return JSON.parse(l)}catch{return l}});return function(o,l){return m.apply(this,arguments)}}(),Fn=function(){var m=(0,u.A)(function*(a,o){yield a.removeItem(o)});return function(o,l){return m.apply(this,arguments)}}();class cr{constructor(){this.promise=new cr.promiseConstructor((a,o)=>{this.resolve=a,this.reject=o})}}function Qs(m){const a=m.split(".");if(3!==a.length)throw new Ft("Invalid JWT structure");for(let l=0;l<a.length;l++)if(!Xn.test(a[l]))throw new Ft("JWT not in base64url format");return{header:JSON.parse(Ur(a[0])),payload:JSON.parse(Ur(a[1])),signature:Ar(a[2]),raw:{header:a[0],payload:a[1]}}}function xr(){return(xr=(0,u.A)(function*(m){return yield new Promise(a=>{setTimeout(()=>a(null),m)})})).apply(this,arguments)}function Ln(m){return("0"+m.toString(16)).substr(-2)}function P(){return(P=(0,u.A)(function*(m){const o=(new TextEncoder).encode(m),l=yield crypto.subtle.digest("SHA-256",o),v=new Uint8Array(l);return Array.from(v).map(M=>String.fromCharCode(M)).join("")})).apply(this,arguments)}function D(){return D=(0,u.A)(function*(m){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),m;const o=yield function Ci(m){return P.apply(this,arguments)}(m);return btoa(o).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}),D.apply(this,arguments)}function $(m,a){return ne.apply(this,arguments)}function ne(){return ne=(0,u.A)(function*(m,a,o=!1){const l=function Js(){const a=new Uint32Array(56);if(typeof crypto>"u"){const o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=o.length;let v="";for(let M=0;M<56;M++)v+=o.charAt(Math.floor(Math.random()*l));return v}return crypto.getRandomValues(a),Array.from(a,Ln).join("")}();let v=l;o&&(v+="/PASSWORD_RECOVERY"),yield Pn(m,`${a}-code-verifier`,v);const M=yield function N(m){return D.apply(this,arguments)}(l);return[M,l===M?"plain":"s256"]}),ne.apply(this,arguments)}cr.promiseConstructor=Promise;const Ct=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i,Zr=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Nr(m){if(!Zr.test(m))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ci(){return new Proxy({},{get:(a,o)=>{if("__isUserNotAvailableProxy"===o)return!0;if("symbol"==typeof o){const l=o.toString();if("Symbol(Symbol.toPrimitive)"===l||"Symbol(Symbol.toStringTag)"===l||"Symbol(util.inspect.custom)"===l)return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${o}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,o)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${o}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,o)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${o}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ks(m){return JSON.parse(JSON.stringify(m))}const di=m=>m.msg||m.message||m.error_description||m.error||JSON.stringify(m),so=[502,503,504];function Di(m){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,u.A)(function*(m){var a;if(!ui(m))throw new fs(di(m),0);if(so.includes(m.status))throw new fs(di(m),m.status);let o,l;try{o=yield m.json()}catch(M){throw new Lr(di(M),M)}const v=function $t(m){const a=m.headers.get(Lt);if(!a||!a.match(Ct))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}(m);if(v&&v.getTime()>=En["2024-01-01"].timestamp&&"object"==typeof o&&o&&"string"==typeof o.code?l=o.code:"object"==typeof o&&o&&"string"==typeof o.error_code&&(l=o.error_code),l){if("weak_password"===l)throw new wr(di(o),m.status,(null===(a=o.weak_password)||void 0===a?void 0:a.reasons)||[]);if("session_not_found"===l)throw new tn}else if("object"==typeof o&&o&&"object"==typeof o.weak_password&&o.weak_password&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.reasons.reduce((M,x)=>M&&"string"==typeof x,!0))throw new wr(di(o),m.status,o.weak_password.reasons);throw new Ps(di(o),m.status||500,l)})).apply(this,arguments)}const Do=(m,a,o,l)=>{const v={method:m,headers:a?.headers||{}};return"GET"===m?v:(v.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a?.headers),v.body=JSON.stringify(l),Object.assign(Object.assign({},v),o))};function jt(m,a,o,l){return gs.apply(this,arguments)}function gs(){return gs=(0,u.A)(function*(m,a,o,l){var v;const M=Object.assign({},l?.headers);M[Lt]||(M[Lt]=En["2024-01-01"].name),l?.jwt&&(M.Authorization=`Bearer ${l.jwt}`);const x=null!==(v=l?.query)&&void 0!==v?v:{};l?.redirectTo&&(x.redirect_to=l.redirectTo);const R=Object.keys(x).length?"?"+new URLSearchParams(x).toString():"",B=yield function Ts(m,a,o,l,v,M){return xi.apply(this,arguments)}(m,a,o+R,{headers:M,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(B):{data:Object.assign({},B),error:null}}),gs.apply(this,arguments)}function xi(){return(xi=(0,u.A)(function*(m,a,o,l,v,M){const x=Do(a,l,v,M);let R;try{R=yield m(o,Object.assign({},x))}catch(B){throw console.error(B),new fs(di(B),0)}if(R.ok||(yield Di(R)),l?.noResolveJson)return R;try{return yield R.json()}catch(B){yield Di(B)}})).apply(this,arguments)}function es(m){var a;let o=null;return function qi(m){return m.access_token&&m.refresh_token&&m.expires_in}(m)&&(o=Object.assign({},m),m.expires_at||(o.expires_at=function Ht(m){return Math.round(Date.now()/1e3)+m}(m.expires_in))),{data:{session:o,user:null!==(a=m.user)&&void 0!==a?a:m},error:null}}function Jn(m){const a=es(m);return!a.error&&m.weak_password&&"object"==typeof m.weak_password&&Array.isArray(m.weak_password.reasons)&&m.weak_password.reasons.length&&m.weak_password.message&&"string"==typeof m.weak_password.message&&m.weak_password.reasons.reduce((o,l)=>o&&"string"==typeof l,!0)&&(a.data.weak_password=m.weak_password),a}function ts(m){var a;return{data:{user:null!==(a=m.user)&&void 0!==a?a:m},error:null}}function ms(m){return{data:m,error:null}}function io(m){const{action_link:a,email_otp:o,hashed_token:l,redirect_to:v,verification_type:M}=m,x=(0,G.__rest)(m,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:a,email_otp:o,hashed_token:l,redirect_to:v,verification_type:M},user:Object.assign({},x)},error:null}}function oo(m){return m}const Hi=["global","local","others"];class Xi{constructor({url:a="",headers:o={},fetch:l}){this.url=a,this.headers=o,this.fetch=Xs(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}signOut(a){var o=this;return(0,u.A)(function*(l,v=Hi[0]){if(Hi.indexOf(v)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Hi.join(", ")}`);try{return yield jt(o.fetch,"POST",`${o.url}/logout?scope=${v}`,{headers:o.headers,jwt:l,noResolveJson:!0}),{data:null,error:null}}catch(M){if(ct(M))return{data:null,error:M};throw M}}).apply(this,arguments)}inviteUserByEmail(a){var o=this;return(0,u.A)(function*(l,v={}){try{return yield jt(o.fetch,"POST",`${o.url}/invite`,{body:{email:l,data:v.data},headers:o.headers,redirectTo:v.redirectTo,xform:ts})}catch(M){if(ct(M))return{data:{user:null},error:M};throw M}}).apply(this,arguments)}generateLink(a){var o=this;return(0,u.A)(function*(){try{const{options:l}=a,v=(0,G.__rest)(a,["options"]),M=Object.assign(Object.assign({},v),l);return"newEmail"in v&&(M.new_email=v?.newEmail,delete M.newEmail),yield jt(o.fetch,"POST",`${o.url}/admin/generate_link`,{body:M,headers:o.headers,xform:io,redirectTo:l?.redirectTo})}catch(l){if(ct(l))return{data:{properties:null,user:null},error:l};throw l}})()}createUser(a){var o=this;return(0,u.A)(function*(){try{return yield jt(o.fetch,"POST",`${o.url}/admin/users`,{body:a,headers:o.headers,xform:ts})}catch(l){if(ct(l))return{data:{user:null},error:l};throw l}})()}listUsers(a){var o=this;return(0,u.A)(function*(){var l,v,M,x,R,B,K;try{const Z={nextPage:null,lastPage:0,total:0},De=yield jt(o.fetch,"GET",`${o.url}/admin/users`,{headers:o.headers,noResolveJson:!0,query:{page:null!==(v=null===(l=a?.page)||void 0===l?void 0:l.toString())&&void 0!==v?v:"",per_page:null!==(x=null===(M=a?.perPage)||void 0===M?void 0:M.toString())&&void 0!==x?x:""},xform:oo});if(De.error)throw De.error;const je=yield De.json(),be=null!==(R=De.headers.get("x-total-count"))&&void 0!==R?R:0,fe=null!==(K=null===(B=De.headers.get("link"))||void 0===B?void 0:B.split(","))&&void 0!==K?K:[];return fe.length>0&&(fe.forEach(Re=>{const qe=parseInt(Re.split(";")[0].split("=")[1].substring(0,1)),nt=JSON.parse(Re.split(";")[1].split("=")[1]);Z[`${nt}Page`]=qe}),Z.total=parseInt(be)),{data:Object.assign(Object.assign({},je),Z),error:null}}catch(Z){if(ct(Z))return{data:{users:[]},error:Z};throw Z}})()}getUserById(a){var o=this;return(0,u.A)(function*(){Nr(a);try{return yield jt(o.fetch,"GET",`${o.url}/admin/users/${a}`,{headers:o.headers,xform:ts})}catch(l){if(ct(l))return{data:{user:null},error:l};throw l}})()}updateUserById(a,o){var l=this;return(0,u.A)(function*(){Nr(a);try{return yield jt(l.fetch,"PUT",`${l.url}/admin/users/${a}`,{body:o,headers:l.headers,xform:ts})}catch(v){if(ct(v))return{data:{user:null},error:v};throw v}})()}deleteUser(a){var o=this;return(0,u.A)(function*(l,v=!1){Nr(l);try{return yield jt(o.fetch,"DELETE",`${o.url}/admin/users/${l}`,{headers:o.headers,body:{should_soft_delete:v},xform:ts})}catch(M){if(ct(M))return{data:{user:null},error:M};throw M}}).apply(this,arguments)}_listFactors(a){var o=this;return(0,u.A)(function*(){Nr(a.userId);try{const{data:l,error:v}=yield jt(o.fetch,"GET",`${o.url}/admin/users/${a.userId}/factors`,{headers:o.headers,xform:M=>({data:{factors:M},error:null})});return{data:l,error:v}}catch(l){if(ct(l))return{data:null,error:l};throw l}})()}_deleteFactor(a){var o=this;return(0,u.A)(function*(){Nr(a.userId),Nr(a.id);try{return{data:yield jt(o.fetch,"DELETE",`${o.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:o.headers}),error:null}}catch(l){if(ct(l))return{data:null,error:l};throw l}})()}_listOAuthClients(a){var o=this;return(0,u.A)(function*(){var l,v,M,x,R,B,K;try{const Z={nextPage:null,lastPage:0,total:0},De=yield jt(o.fetch,"GET",`${o.url}/admin/oauth/clients`,{headers:o.headers,noResolveJson:!0,query:{page:null!==(v=null===(l=a?.page)||void 0===l?void 0:l.toString())&&void 0!==v?v:"",per_page:null!==(x=null===(M=a?.perPage)||void 0===M?void 0:M.toString())&&void 0!==x?x:""},xform:oo});if(De.error)throw De.error;const je=yield De.json(),be=null!==(R=De.headers.get("x-total-count"))&&void 0!==R?R:0,fe=null!==(K=null===(B=De.headers.get("link"))||void 0===B?void 0:B.split(","))&&void 0!==K?K:[];return fe.length>0&&(fe.forEach(Re=>{const qe=parseInt(Re.split(";")[0].split("=")[1].substring(0,1)),nt=JSON.parse(Re.split(";")[1].split("=")[1]);Z[`${nt}Page`]=qe}),Z.total=parseInt(be)),{data:Object.assign(Object.assign({},je),Z),error:null}}catch(Z){if(ct(Z))return{data:{clients:[]},error:Z};throw Z}})()}_createOAuthClient(a){var o=this;return(0,u.A)(function*(){try{return yield jt(o.fetch,"POST",`${o.url}/admin/oauth/clients`,{body:a,headers:o.headers,xform:l=>({data:l,error:null})})}catch(l){if(ct(l))return{data:null,error:l};throw l}})()}_getOAuthClient(a){var o=this;return(0,u.A)(function*(){try{return yield jt(o.fetch,"GET",`${o.url}/admin/oauth/clients/${a}`,{headers:o.headers,xform:l=>({data:l,error:null})})}catch(l){if(ct(l))return{data:null,error:l};throw l}})()}_updateOAuthClient(a,o){var l=this;return(0,u.A)(function*(){try{return yield jt(l.fetch,"PUT",`${l.url}/admin/oauth/clients/${a}`,{body:o,headers:l.headers,xform:v=>({data:v,error:null})})}catch(v){if(ct(v))return{data:null,error:v};throw v}})()}_deleteOAuthClient(a){var o=this;return(0,u.A)(function*(){try{return yield jt(o.fetch,"DELETE",`${o.url}/admin/oauth/clients/${a}`,{headers:o.headers,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ct(l))return{data:null,error:l};throw l}})()}_regenerateOAuthClientSecret(a){var o=this;return(0,u.A)(function*(){try{return yield jt(o.fetch,"POST",`${o.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:o.headers,xform:l=>({data:l,error:null})})}catch(l){if(ct(l))return{data:null,error:l};throw l}})()}}function Ls(m={}){return{getItem:a=>m[a]||null,setItem:(a,o)=>{m[a]=o},removeItem:a=>{delete m[a]}}}const Kr={debug:!!(globalThis&&$r()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))};class Zs extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class Si extends Zs{}function So(m,a,o){return uo.apply(this,arguments)}function uo(){return uo=(0,u.A)(function*(m,a,o){Kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",m,a);const l=new globalThis.AbortController;return a>0&&setTimeout(()=>{l.abort(),Kr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",m)},a),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(m,0===a?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},function(){var v=(0,u.A)(function*(M){if(!M){if(0===a)throw Kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",m),new Si(`Acquiring an exclusive Navigator LockManager lock "${m}" immediately failed`);if(Kr.debug)try{const x=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(x,null,"  "))}catch(x){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",x)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield o()}Kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",m,M.name);try{return yield o()}finally{Kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",m,M.name)}});return function(M){return v.apply(this,arguments)}}()))}),uo.apply(this,arguments)}function S(m){if(!/^0x[a-fA-F0-9]{40}$/.test(m))throw new Error(`@supabase/auth-js: Address "${m}" is invalid.`);return m.toLowerCase()}function Q(m){const a=(new TextEncoder).encode(m);return"0x"+Array.from(a,l=>l.toString(16).padStart(2,"0")).join("")}class Ie extends Error{constructor({message:a,code:o,cause:l,name:v}){var M;super(a,{cause:l}),this.__isWebAuthnError=!0,this.name=null!==(M=v??(l instanceof Error?l.name:void 0))&&void 0!==M?M:"Unknown Error",this.code=o}}class yt extends Ie{constructor(a,o){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o,message:a}),this.name="WebAuthnUnknownError",this.originalError=o}}function bn({error:m,options:a}){var o,l,v;const{publicKey:M}=a;if(!M)throw Error("options was missing required publicKey property");if("AbortError"===m.name){if(a.signal instanceof AbortSignal)return new Ie({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:m})}else if("ConstraintError"===m.name){if(!0===(null===(o=M.authenticatorSelection)||void 0===o?void 0:o.requireResidentKey))return new Ie({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:m});if("conditional"===a.mediation&&"required"===(null===(l=M.authenticatorSelection)||void 0===l?void 0:l.userVerification))return new Ie({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:m});if("required"===(null===(v=M.authenticatorSelection)||void 0===v?void 0:v.userVerification))return new Ie({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:m})}else{if("InvalidStateError"===m.name)return new Ie({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:m});if("NotAllowedError"===m.name)return new Ie({message:m.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:m});if("NotSupportedError"===m.name)return 0===M.pubKeyCredParams.filter(R=>"public-key"===R.type).length?new Ie({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:m}):new Ie({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:m});if("SecurityError"===m.name){const x=window.location.hostname;if(!js(x))return new Ie({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:m});if(M.rp.id!==x)return new Ie({message:`The RP ID "${M.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:m})}else if("TypeError"===m.name){if(M.user.id.byteLength<1||M.user.id.byteLength>64)return new Ie({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:m})}else if("UnknownError"===m.name)return new Ie({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:m})}return new Ie({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:m})}function nn({error:m,options:a}){const{publicKey:o}=a;if(!o)throw Error("options was missing required publicKey property");if("AbortError"===m.name){if(a.signal instanceof AbortSignal)return new Ie({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:m})}else{if("NotAllowedError"===m.name)return new Ie({message:m.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:m});if("SecurityError"===m.name){const l=window.location.hostname;if(!js(l))return new Ie({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:m});if(o.rpId!==l)return new Ie({message:`The RP ID "${o.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:m})}else if("UnknownError"===m.name)return new Ie({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:m})}return new Ie({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:m})}const nr=new class Xt{createNewAbortSignal(){if(this.controller){const o=new Error("Cancelling existing WebAuthn API call for new one");o.name="AbortError",this.controller.abort(o)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}};function Nn(m){if(!m)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(m);const{challenge:a,user:o,excludeCredentials:l}=m,v=(0,G.__rest)(m,["challenge","user","excludeCredentials"]),M=Ar(a).buffer,x=Object.assign(Object.assign({},o),{id:Ar(o.id).buffer}),R=Object.assign(Object.assign({},v),{challenge:M,user:x});if(l&&l.length>0){R.excludeCredentials=new Array(l.length);for(let B=0;B<l.length;B++){const K=l[B];R.excludeCredentials[B]=Object.assign(Object.assign({},K),{id:Ar(K.id).buffer,type:K.type||"public-key",transports:K.transports})}}return R}function fr(m){if(!m)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(m);const{challenge:a,allowCredentials:o}=m,l=(0,G.__rest)(m,["challenge","allowCredentials"]),v=Ar(a).buffer,M=Object.assign(Object.assign({},l),{challenge:v});if(o&&o.length>0){M.allowCredentials=new Array(o.length);for(let x=0;x<o.length;x++){const R=o[x];M.allowCredentials[x]=Object.assign(Object.assign({},R),{id:Ar(R.id).buffer,type:R.type||"public-key",transports:R.transports})}}return M}function ns(m){var a;if("toJSON"in m&&"function"==typeof m.toJSON)return m.toJSON();const o=m;return{id:m.id,rawId:m.id,response:{attestationObject:tr(new Uint8Array(m.response.attestationObject)),clientDataJSON:tr(new Uint8Array(m.response.clientDataJSON))},type:"public-key",clientExtensionResults:m.getClientExtensionResults(),authenticatorAttachment:null!==(a=o.authenticatorAttachment)&&void 0!==a?a:void 0}}function rs(m){var a;if("toJSON"in m&&"function"==typeof m.toJSON)return m.toJSON();const o=m,l=m.getClientExtensionResults(),v=m.response;return{id:m.id,rawId:m.id,response:{authenticatorData:tr(new Uint8Array(v.authenticatorData)),clientDataJSON:tr(new Uint8Array(v.clientDataJSON)),signature:tr(new Uint8Array(v.signature)),userHandle:v.userHandle?tr(new Uint8Array(v.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:null!==(a=o.authenticatorAttachment)&&void 0!==a?a:void 0}}function js(m){return"localhost"===m||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(m)}function ss(){var m,a;return!!(On()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"==typeof(null===(m=navigator?.credentials)||void 0===m?void 0:m.create)&&"function"==typeof(null===(a=navigator?.credentials)||void 0===a?void 0:a.get))}function is(){return(is=(0,u.A)(function*(m){try{const a=yield navigator.credentials.create(m);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new yt("Browser returned unexpected credential type",a)}:{data:null,error:new yt("Empty credential response",a)}}catch(a){return{data:null,error:bn({error:a,options:m})}}})).apply(this,arguments)}function ki(){return(ki=(0,u.A)(function*(m){try{const a=yield navigator.credentials.get(m);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new yt("Browser returned unexpected credential type",a)}:{data:null,error:new yt("Empty credential response",a)}}catch(a){return{data:null,error:nn({error:a,options:m})}}})).apply(this,arguments)}const Mo={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},A={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function h(...m){const a=v=>null!==v&&"object"==typeof v&&!Array.isArray(v),o=v=>v instanceof ArrayBuffer||ArrayBuffer.isView(v),l={};for(const v of m)if(v)for(const M in v){const x=v[M];if(void 0!==x)if(Array.isArray(x))l[M]=x;else if(o(x))l[M]=x;else if(a(x)){const R=l[M];l[M]=a(R)?h(R,x):h(x)}else l[M]=x}return l}class O{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}_enroll(a){var o=this;return(0,u.A)(function*(){return o.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))})()}_challenge(a,o){var l=this;return(0,u.A)(function*({factorId:v,webauthn:M,friendlyName:x,signal:R},B){try{const{data:K,error:Z}=yield l.client.mfa.challenge({factorId:v,webauthn:M});if(!K)return{data:null,error:Z};const De=R??nr.createNewAbortSignal();if("create"===K.webauthn.type){const{user:je}=K.webauthn.credential_options.publicKey;je.name||(je.name=`${je.id}:${x}`),je.displayName||(je.displayName=je.name)}switch(K.webauthn.type){case"create":{const je=function d(m,a){return h(Mo,m,a||{})}(K.webauthn.credential_options.publicKey,B?.create),{data:be,error:fe}=yield function ei(m){return is.apply(this,arguments)}({publicKey:je,signal:De});return be?{data:{factorId:v,challengeId:K.id,webauthn:{type:K.webauthn.type,credential_response:be}},error:null}:{data:null,error:fe}}case"request":{const je=function w(m,a){return h(A,m,a||{})}(K.webauthn.credential_options.publicKey,B?.request),{data:be,error:fe}=yield function ti(m){return ki.apply(this,arguments)}(Object.assign(Object.assign({},K.webauthn.credential_options),{publicKey:je,signal:De}));return be?{data:{factorId:v,challengeId:K.id,webauthn:{type:K.webauthn.type,credential_response:be}},error:null}:{data:null,error:fe}}}}catch(K){return ct(K)?{data:null,error:K}:{data:null,error:new Lr("Unexpected error in challenge",K)}}}).apply(this,arguments)}_verify(a){var o=this;return(0,u.A)(function*({challengeId:l,factorId:v,webauthn:M}){return o.client.mfa.verify({factorId:v,challengeId:l,webauthn:M})}).apply(this,arguments)}_authenticate(a,o){var l=this;return(0,u.A)(function*({factorId:v,webauthn:{rpId:M=(typeof window<"u"?window.location.hostname:void 0),rpOrigins:x=(typeof window<"u"?[window.location.origin]:void 0),signal:R}={}},B){if(!M)return{data:null,error:new Wn("rpId is required for WebAuthn authentication")};try{if(!ss())return{data:null,error:new Lr("Browser does not support WebAuthn",null)};const{data:K,error:Z}=yield l.challenge({factorId:v,webauthn:{rpId:M,rpOrigins:x},signal:R},{request:B});if(!K)return{data:null,error:Z};const{webauthn:De}=K;return l._verify({factorId:v,challengeId:K.challengeId,webauthn:{type:De.type,rpId:M,rpOrigins:x,credential_response:De.credential_response}})}catch(K){return ct(K)?{data:null,error:K}:{data:null,error:new Lr("Unexpected error in authenticate",K)}}}).apply(this,arguments)}_register(a,o){var l=this;return(0,u.A)(function*({friendlyName:v,webauthn:{rpId:M=(typeof window<"u"?window.location.hostname:void 0),rpOrigins:x=(typeof window<"u"?[window.location.origin]:void 0),signal:R}={}},B){if(!M)return{data:null,error:new Wn("rpId is required for WebAuthn registration")};try{if(!ss())return{data:null,error:new Lr("Browser does not support WebAuthn",null)};const{data:K,error:Z}=yield l._enroll({friendlyName:v});if(!K)return yield l.client.mfa.listFactors().then(be=>{var fe;return null===(fe=be.data)||void 0===fe?void 0:fe.all.find(Re=>"webauthn"===Re.factor_type&&Re.friendly_name===v&&"unverified"!==Re.status)}).then(be=>be?l.client.mfa.unenroll({factorId:be?.id}):void 0),{data:null,error:Z};const{data:De,error:je}=yield l._challenge({factorId:K.id,friendlyName:K.friendly_name,webauthn:{rpId:M,rpOrigins:x},signal:R},{create:B});return De?l._verify({factorId:K.id,challengeId:De.challengeId,webauthn:{rpId:M,rpOrigins:x,type:De.webauthn.type,credential_response:De.webauthn.credential_response}}):{data:null,error:je}}catch(K){return ct(K)?{data:null,error:K}:{data:null,error:new Lr("Unexpected error in register",K)}}}).apply(this,arguments)}}!function L(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}();const V={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:{"X-Client-Info":"gotrue-js/2.86.0"},flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};function J(m,a,o){return Y.apply(this,arguments)}function Y(){return(Y=(0,u.A)(function*(m,a,o){return yield o()})).apply(this,arguments)}const ae={},Tt=(()=>{class m{get jwks(){var o,l;return null!==(l=null===(o=ae[this.storageKey])||void 0===o?void 0:o.jwks)&&void 0!==l?l:{keys:[]}}set jwks(o){ae[this.storageKey]=Object.assign(Object.assign({},ae[this.storageKey]),{jwks:o})}get jwks_cached_at(){var o,l;return null!==(l=null===(o=ae[this.storageKey])||void 0===o?void 0:o.cachedAt)&&void 0!==l?l:Number.MIN_SAFE_INTEGER}set jwks_cached_at(o){ae[this.storageKey]=Object.assign(Object.assign({},ae[this.storageKey]),{cachedAt:o})}constructor(o){var v,M,x,l=this;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const R=Object.assign(Object.assign({},V),o);if(this.storageKey=R.storageKey,this.instanceID=null!==(v=m.nextInstanceID[this.storageKey])&&void 0!==v?v:0,m.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!R.debug,"function"==typeof R.debug&&(this.logger=R.debug),this.instanceID>0&&On()){const B=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(B),this.logDebugMessages&&console.trace(B)}if(this.persistSession=R.persistSession,this.autoRefreshToken=R.autoRefreshToken,this.admin=new Xi({url:R.url,headers:R.headers,fetch:R.fetch}),this.url=R.url,this.headers=R.headers,this.fetch=Xs(R.fetch),this.lock=R.lock||J,this.detectSessionInUrl=R.detectSessionInUrl,this.flowType=R.flowType,this.hasCustomAuthorizationHeader=R.hasCustomAuthorizationHeader,this.throwOnError=R.throwOnError,this.lock=R.lock?R.lock:On()&&null!==(M=globalThis?.navigator)&&void 0!==M&&M.locks?So:J,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new O(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(R.storage?this.storage=R.storage:$r()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ls(this.memoryStorage)),R.userStorage&&(this.userStorage=R.userStorage)):(this.memoryStorage={},this.storage=Ls(this.memoryStorage)),On()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(B){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",B)}null===(x=this.broadcastChannel)||void 0===x||x.addEventListener("message",function(){var B=(0,u.A)(function*(K){l._debug("received broadcast notification from other tab or client",K),yield l._notifyAllSubscribers(K.data.event,K.data.session,!1)});return function(K){return B.apply(this,arguments)}}())}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(o){if(this.throwOnError&&o&&o.error)throw o.error;return o}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (2.86.0) ${(new Date).toISOString()}`}_debug(...o){return this.logDebugMessages&&this.logger(this._logPrefix(),...o),this}initialize(){var o=this;return(0,u.A)(function*(){return o.initializePromise||(o.initializePromise=(0,u.A)(function*(){return yield o._acquireLock(-1,(0,u.A)(function*(){return yield o._initialize()}))})()),yield o.initializePromise})()}_initialize(){var o=this;return(0,u.A)(function*(){var l;try{let v={},M="none";if(On()&&(v=function ps(m){const a={},o=new URL(m);if(o.hash&&"#"===o.hash[0])try{new URLSearchParams(o.hash.substring(1)).forEach((v,M)=>{a[M]=v})}catch{}return o.searchParams.forEach((l,v)=>{a[v]=l}),a}(window.location.href),o._isImplicitGrantCallback(v)?M="implicit":(yield o._isPKCECallback(v))&&(M="pkce")),On()&&o.detectSessionInUrl&&"none"!==M){const{data:x,error:R}=yield o._getSessionFromURL(v,M);if(R){if(o._debug("#_initialize()","error detecting session from URL",R),function wi(m){return ct(m)&&"AuthImplicitGrantRedirectError"===m.name}(R)){const Z=null===(l=R.details)||void 0===l?void 0:l.code;if("identity_already_exists"===Z||"identity_not_found"===Z||"single_identity_not_deletable"===Z)return{error:R}}return yield o._removeSession(),{error:R}}const{session:B,redirectType:K}=x;return o._debug("#_initialize()","detected session in URL",B,"redirect type",K),yield o._saveSession(B),setTimeout((0,u.A)(function*(){"recovery"===K?yield o._notifyAllSubscribers("PASSWORD_RECOVERY",B):yield o._notifyAllSubscribers("SIGNED_IN",B)}),0),{error:null}}return yield o._recoverAndRefresh(),{error:null}}catch(v){return ct(v)?o._returnResult({error:v}):o._returnResult({error:new Lr("Unexpected error during initialization",v)})}finally{yield o._handleVisibilityChange(),o._debug("#_initialize()","end")}})()}signInAnonymously(o){var l=this;return(0,u.A)(function*(){var v,M,x;try{const R=yield jt(l.fetch,"POST",`${l.url}/signup`,{headers:l.headers,body:{data:null!==(M=null===(v=o?.options)||void 0===v?void 0:v.data)&&void 0!==M?M:{},gotrue_meta_security:{captcha_token:null===(x=o?.options)||void 0===x?void 0:x.captchaToken}},xform:es}),{data:B,error:K}=R;if(K||!B)return l._returnResult({data:{user:null,session:null},error:K});const Z=B.session,De=B.user;return B.session&&(yield l._saveSession(B.session),yield l._notifyAllSubscribers("SIGNED_IN",Z)),l._returnResult({data:{user:De,session:Z},error:null})}catch(R){if(ct(R))return l._returnResult({data:{user:null,session:null},error:R});throw R}})()}signUp(o){var l=this;return(0,u.A)(function*(){var v,M,x;try{let R;if("email"in o){const{email:je,password:be,options:fe}=o;let Re=null,qe=null;"pkce"===l.flowType&&([Re,qe]=yield $(l.storage,l.storageKey)),R=yield jt(l.fetch,"POST",`${l.url}/signup`,{headers:l.headers,redirectTo:fe?.emailRedirectTo,body:{email:je,password:be,data:null!==(v=fe?.data)&&void 0!==v?v:{},gotrue_meta_security:{captcha_token:fe?.captchaToken},code_challenge:Re,code_challenge_method:qe},xform:es})}else{if(!("phone"in o))throw new ln("You must provide either an email or phone number and a password");{const{phone:je,password:be,options:fe}=o;R=yield jt(l.fetch,"POST",`${l.url}/signup`,{headers:l.headers,body:{phone:je,password:be,data:null!==(M=fe?.data)&&void 0!==M?M:{},channel:null!==(x=fe?.channel)&&void 0!==x?x:"sms",gotrue_meta_security:{captcha_token:fe?.captchaToken}},xform:es})}}const{data:B,error:K}=R;if(K||!B)return l._returnResult({data:{user:null,session:null},error:K});const Z=B.session,De=B.user;return B.session&&(yield l._saveSession(B.session),yield l._notifyAllSubscribers("SIGNED_IN",Z)),l._returnResult({data:{user:De,session:Z},error:null})}catch(R){if(ct(R))return l._returnResult({data:{user:null,session:null},error:R});throw R}})()}signInWithPassword(o){var l=this;return(0,u.A)(function*(){try{let v;if("email"in o){const{email:R,password:B,options:K}=o;v=yield jt(l.fetch,"POST",`${l.url}/token?grant_type=password`,{headers:l.headers,body:{email:R,password:B,gotrue_meta_security:{captcha_token:K?.captchaToken}},xform:Jn})}else{if(!("phone"in o))throw new ln("You must provide either an email or phone number and a password");{const{phone:R,password:B,options:K}=o;v=yield jt(l.fetch,"POST",`${l.url}/token?grant_type=password`,{headers:l.headers,body:{phone:R,password:B,gotrue_meta_security:{captcha_token:K?.captchaToken}},xform:Jn})}}const{data:M,error:x}=v;if(x)return l._returnResult({data:{user:null,session:null},error:x});if(!M||!M.session||!M.user){const R=new Pt;return l._returnResult({data:{user:null,session:null},error:R})}return M.session&&(yield l._saveSession(M.session),yield l._notifyAllSubscribers("SIGNED_IN",M.session)),l._returnResult({data:Object.assign({user:M.user,session:M.session},M.weak_password?{weakPassword:M.weak_password}:null),error:x})}catch(v){if(ct(v))return l._returnResult({data:{user:null,session:null},error:v});throw v}})()}signInWithOAuth(o){var l=this;return(0,u.A)(function*(){var v,M,x,R;return yield l._handleProviderSignIn(o.provider,{redirectTo:null===(v=o.options)||void 0===v?void 0:v.redirectTo,scopes:null===(M=o.options)||void 0===M?void 0:M.scopes,queryParams:null===(x=o.options)||void 0===x?void 0:x.queryParams,skipBrowserRedirect:null===(R=o.options)||void 0===R?void 0:R.skipBrowserRedirect})})()}exchangeCodeForSession(o){var l=this;return(0,u.A)(function*(){return yield l.initializePromise,l._acquireLock(-1,(0,u.A)(function*(){return l._exchangeCodeForSession(o)}))})()}signInWithWeb3(o){var l=this;return(0,u.A)(function*(){const{chain:v}=o;switch(v){case"ethereum":return yield l.signInWithEthereum(o);case"solana":return yield l.signInWithSolana(o);default:throw new Error(`@supabase/auth-js: Unsupported chain "${v}"`)}})()}signInWithEthereum(o){var l=this;return(0,u.A)(function*(){var v,M,x,R,B,K,Z,De,je,be,fe;let Re,qe;if("message"in o)Re=o.message,qe=o.signature;else{const{wallet:Ut,statement:Bt,options:he}=o;let Ve;if(On())if("object"==typeof Ut)Ve=Ut;else{const gr=window;if(!("ethereum"in gr)||"object"!=typeof gr.ethereum||!("request"in gr.ethereum)||"function"!=typeof gr.ethereum.request)throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.");Ve=gr.ethereum}else{if("object"!=typeof Ut||!he?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Ve=Ut}const Kn=new URL(null!==(v=he?.url)&&void 0!==v?v:window.location.href),As=yield Ve.request({method:"eth_requestAccounts"}).then(gr=>gr).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!As||0===As.length)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const At=S(As[0]);let Hn=null===(M=he?.signInWithEthereum)||void 0===M?void 0:M.chainId;Hn||(Hn=function k(m){return parseInt(m,16)}(yield Ve.request({method:"eth_chainId"}))),Re=function Ee(m){var a;const{chainId:o,domain:l,expirationTime:v,issuedAt:M=new Date,nonce:x,notBefore:R,requestId:B,resources:K,scheme:Z,uri:De,version:je}=m;if(!Number.isInteger(o))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${o}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(x&&x.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${x}`);if(!De)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==je)throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${je}`);if(null!==(a=m.statement)&&void 0!==a&&a.includes("\n"))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${m.statement}`);const qe=`${Z?`${Z}://${l}`:l} wants you to sign in with your Ethereum account:\n${S(m.address)}\n\n${m.statement?`${m.statement}\n`:""}`;let nt=`URI: ${De}\nVersion: ${je}\nChain ID: ${o}${x?`\nNonce: ${x}`:""}\nIssued At: ${M.toISOString()}`;if(v&&(nt+=`\nExpiration Time: ${v.toISOString()}`),R&&(nt+=`\nNot Before: ${R.toISOString()}`),B&&(nt+=`\nRequest ID: ${B}`),K){let Ut="\nResources:";for(const Bt of K){if(!Bt||"string"!=typeof Bt)throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${Bt}`);Ut+=`\n- ${Bt}`}nt+=Ut}return`${qe}\n${nt}`}({domain:Kn.host,address:At,statement:Bt,uri:Kn.href,version:"1",chainId:Hn,nonce:null===(x=he?.signInWithEthereum)||void 0===x?void 0:x.nonce,issuedAt:null!==(B=null===(R=he?.signInWithEthereum)||void 0===R?void 0:R.issuedAt)&&void 0!==B?B:new Date,expirationTime:null===(K=he?.signInWithEthereum)||void 0===K?void 0:K.expirationTime,notBefore:null===(Z=he?.signInWithEthereum)||void 0===Z?void 0:Z.notBefore,requestId:null===(De=he?.signInWithEthereum)||void 0===De?void 0:De.requestId,resources:null===(je=he?.signInWithEthereum)||void 0===je?void 0:je.resources}),qe=yield Ve.request({method:"personal_sign",params:[Q(Re),At]})}try{const{data:nt,error:Ut}=yield jt(l.fetch,"POST",`${l.url}/token?grant_type=web3`,{headers:l.headers,body:Object.assign({chain:"ethereum",message:Re,signature:qe},null!==(be=o.options)&&void 0!==be&&be.captchaToken?{gotrue_meta_security:{captcha_token:null===(fe=o.options)||void 0===fe?void 0:fe.captchaToken}}:null),xform:es});if(Ut)throw Ut;if(!nt||!nt.session||!nt.user){const Bt=new Pt;return l._returnResult({data:{user:null,session:null},error:Bt})}return nt.session&&(yield l._saveSession(nt.session),yield l._notifyAllSubscribers("SIGNED_IN",nt.session)),l._returnResult({data:Object.assign({},nt),error:Ut})}catch(nt){if(ct(nt))return l._returnResult({data:{user:null,session:null},error:nt});throw nt}})()}signInWithSolana(o){var l=this;return(0,u.A)(function*(){var v,M,x,R,B,K,Z,De,je,be,fe,Re;let qe,nt;if("message"in o)qe=o.message,nt=o.signature;else{const{wallet:Bt,statement:he,options:Ve}=o;let Kn;if(On())if("object"==typeof Bt)Kn=Bt;else{const At=window;if(!("solana"in At)||"object"!=typeof At.solana||!("signIn"in At.solana&&"function"==typeof At.solana.signIn||"signMessage"in At.solana&&"function"==typeof At.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");Kn=At.solana}else{if("object"!=typeof Bt||!Ve?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Kn=Bt}const As=new URL(null!==(v=Ve?.url)&&void 0!==v?v:window.location.href);if("signIn"in Kn&&Kn.signIn){const At=yield Kn.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},Ve?.signInWithSolana),{version:"1",domain:As.host,uri:As.href}),he?{statement:he}:null));let Hn;if(Array.isArray(At)&&At[0]&&"object"==typeof At[0])Hn=At[0];else{if(!(At&&"object"==typeof At&&"signedMessage"in At&&"signature"in At))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");Hn=At}if(!("signedMessage"in Hn&&"signature"in Hn&&("string"==typeof Hn.signedMessage||Hn.signedMessage instanceof Uint8Array)&&Hn.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");qe="string"==typeof Hn.signedMessage?Hn.signedMessage:(new TextDecoder).decode(Hn.signedMessage),nt=Hn.signature}else{if(!("signMessage"in Kn&&"function"==typeof Kn.signMessage&&"publicKey"in Kn&&"object"==typeof Kn&&Kn.publicKey&&"toBase58"in Kn.publicKey&&"function"==typeof Kn.publicKey.toBase58))throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");qe=[`${As.host} wants you to sign in with your Solana account:`,Kn.publicKey.toBase58(),...he?["",he,""]:[""],"Version: 1",`URI: ${As.href}`,`Issued At: ${null!==(x=null===(M=Ve?.signInWithSolana)||void 0===M?void 0:M.issuedAt)&&void 0!==x?x:(new Date).toISOString()}`,...null!==(R=Ve?.signInWithSolana)&&void 0!==R&&R.notBefore?[`Not Before: ${Ve.signInWithSolana.notBefore}`]:[],...null!==(B=Ve?.signInWithSolana)&&void 0!==B&&B.expirationTime?[`Expiration Time: ${Ve.signInWithSolana.expirationTime}`]:[],...null!==(K=Ve?.signInWithSolana)&&void 0!==K&&K.chainId?[`Chain ID: ${Ve.signInWithSolana.chainId}`]:[],...null!==(Z=Ve?.signInWithSolana)&&void 0!==Z&&Z.nonce?[`Nonce: ${Ve.signInWithSolana.nonce}`]:[],...null!==(De=Ve?.signInWithSolana)&&void 0!==De&&De.requestId?[`Request ID: ${Ve.signInWithSolana.requestId}`]:[],...null!==(be=null===(je=Ve?.signInWithSolana)||void 0===je?void 0:je.resources)&&void 0!==be&&be.length?["Resources",...Ve.signInWithSolana.resources.map(Hn=>`- ${Hn}`)]:[]].join("\n");const At=yield Kn.signMessage((new TextEncoder).encode(qe),"utf8");if(!(At&&At instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");nt=At}}try{const{data:Ut,error:Bt}=yield jt(l.fetch,"POST",`${l.url}/token?grant_type=web3`,{headers:l.headers,body:Object.assign({chain:"solana",message:qe,signature:tr(nt)},null!==(fe=o.options)&&void 0!==fe&&fe.captchaToken?{gotrue_meta_security:{captcha_token:null===(Re=o.options)||void 0===Re?void 0:Re.captchaToken}}:null),xform:es});if(Bt)throw Bt;if(!Ut||!Ut.session||!Ut.user){const he=new Pt;return l._returnResult({data:{user:null,session:null},error:he})}return Ut.session&&(yield l._saveSession(Ut.session),yield l._notifyAllSubscribers("SIGNED_IN",Ut.session)),l._returnResult({data:Object.assign({},Ut),error:Bt})}catch(Ut){if(ct(Ut))return l._returnResult({data:{user:null,session:null},error:Ut});throw Ut}})()}_exchangeCodeForSession(o){var l=this;return(0,u.A)(function*(){const v=yield Ns(l.storage,`${l.storageKey}-code-verifier`),[M,x]=(v??"").split("/");try{const{data:R,error:B}=yield jt(l.fetch,"POST",`${l.url}/token?grant_type=pkce`,{headers:l.headers,body:{auth_code:o,code_verifier:M},xform:es});if(yield Fn(l.storage,`${l.storageKey}-code-verifier`),B)throw B;if(!R||!R.session||!R.user){const K=new Pt;return l._returnResult({data:{user:null,session:null,redirectType:null},error:K})}return R.session&&(yield l._saveSession(R.session),yield l._notifyAllSubscribers("SIGNED_IN",R.session)),l._returnResult({data:Object.assign(Object.assign({},R),{redirectType:x??null}),error:B})}catch(R){if(ct(R))return l._returnResult({data:{user:null,session:null,redirectType:null},error:R});throw R}})()}signInWithIdToken(o){var l=this;return(0,u.A)(function*(){try{const{options:v,provider:M,token:x,access_token:R,nonce:B}=o,K=yield jt(l.fetch,"POST",`${l.url}/token?grant_type=id_token`,{headers:l.headers,body:{provider:M,id_token:x,access_token:R,nonce:B,gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:es}),{data:Z,error:De}=K;if(De)return l._returnResult({data:{user:null,session:null},error:De});if(!Z||!Z.session||!Z.user){const je=new Pt;return l._returnResult({data:{user:null,session:null},error:je})}return Z.session&&(yield l._saveSession(Z.session),yield l._notifyAllSubscribers("SIGNED_IN",Z.session)),l._returnResult({data:Z,error:De})}catch(v){if(ct(v))return l._returnResult({data:{user:null,session:null},error:v});throw v}})()}signInWithOtp(o){var l=this;return(0,u.A)(function*(){var v,M,x,R,B;try{if("email"in o){const{email:K,options:Z}=o;let De=null,je=null;"pkce"===l.flowType&&([De,je]=yield $(l.storage,l.storageKey));const{error:be}=yield jt(l.fetch,"POST",`${l.url}/otp`,{headers:l.headers,body:{email:K,data:null!==(v=Z?.data)&&void 0!==v?v:{},create_user:null===(M=Z?.shouldCreateUser)||void 0===M||M,gotrue_meta_security:{captcha_token:Z?.captchaToken},code_challenge:De,code_challenge_method:je},redirectTo:Z?.emailRedirectTo});return l._returnResult({data:{user:null,session:null},error:be})}if("phone"in o){const{phone:K,options:Z}=o,{data:De,error:je}=yield jt(l.fetch,"POST",`${l.url}/otp`,{headers:l.headers,body:{phone:K,data:null!==(x=Z?.data)&&void 0!==x?x:{},create_user:null===(R=Z?.shouldCreateUser)||void 0===R||R,gotrue_meta_security:{captcha_token:Z?.captchaToken},channel:null!==(B=Z?.channel)&&void 0!==B?B:"sms"}});return l._returnResult({data:{user:null,session:null,messageId:De?.message_id},error:je})}throw new ln("You must provide either an email or phone number.")}catch(K){if(ct(K))return l._returnResult({data:{user:null,session:null},error:K});throw K}})()}verifyOtp(o){var l=this;return(0,u.A)(function*(){var v,M;try{let x,R;"options"in o&&(x=null===(v=o.options)||void 0===v?void 0:v.redirectTo,R=null===(M=o.options)||void 0===M?void 0:M.captchaToken);const{data:B,error:K}=yield jt(l.fetch,"POST",`${l.url}/verify`,{headers:l.headers,body:Object.assign(Object.assign({},o),{gotrue_meta_security:{captcha_token:R}}),redirectTo:x,xform:es});if(K)throw K;if(!B)throw new Error("An error occurred on token verification.");const Z=B.session,De=B.user;return Z?.access_token&&(yield l._saveSession(Z),yield l._notifyAllSubscribers("recovery"==o.type?"PASSWORD_RECOVERY":"SIGNED_IN",Z)),l._returnResult({data:{user:De,session:Z},error:null})}catch(x){if(ct(x))return l._returnResult({data:{user:null,session:null},error:x});throw x}})()}signInWithSSO(o){var l=this;return(0,u.A)(function*(){var v,M,x,R,B;try{let K=null,Z=null;"pkce"===l.flowType&&([K,Z]=yield $(l.storage,l.storageKey));const De=yield jt(l.fetch,"POST",`${l.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in o?{provider_id:o.providerId}:null),"domain"in o?{domain:o.domain}:null),{redirect_to:null!==(M=null===(v=o.options)||void 0===v?void 0:v.redirectTo)&&void 0!==M?M:void 0}),null!==(x=o?.options)&&void 0!==x&&x.captchaToken?{gotrue_meta_security:{captcha_token:o.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:K,code_challenge_method:Z}),headers:l.headers,xform:ms});return!(null===(R=De.data)||void 0===R)&&R.url&&On()&&!(null!==(B=o.options)&&void 0!==B&&B.skipBrowserRedirect)&&window.location.assign(De.data.url),l._returnResult(De)}catch(K){if(ct(K))return l._returnResult({data:null,error:K});throw K}})()}reauthenticate(){var o=this;return(0,u.A)(function*(){return yield o.initializePromise,yield o._acquireLock(-1,(0,u.A)(function*(){return yield o._reauthenticate()}))})()}_reauthenticate(){var o=this;return(0,u.A)(function*(){try{return yield o._useSession(function(){var l=(0,u.A)(function*(v){const{data:{session:M},error:x}=v;if(x)throw x;if(!M)throw new tn;const{error:R}=yield jt(o.fetch,"GET",`${o.url}/reauthenticate`,{headers:o.headers,jwt:M.access_token});return o._returnResult({data:{user:null,session:null},error:R})});return function(v){return l.apply(this,arguments)}}())}catch(l){if(ct(l))return o._returnResult({data:{user:null,session:null},error:l});throw l}})()}resend(o){var l=this;return(0,u.A)(function*(){try{const v=`${l.url}/resend`;if("email"in o){const{email:M,type:x,options:R}=o,{error:B}=yield jt(l.fetch,"POST",v,{headers:l.headers,body:{email:M,type:x,gotrue_meta_security:{captcha_token:R?.captchaToken}},redirectTo:R?.emailRedirectTo});return l._returnResult({data:{user:null,session:null},error:B})}if("phone"in o){const{phone:M,type:x,options:R}=o,{data:B,error:K}=yield jt(l.fetch,"POST",v,{headers:l.headers,body:{phone:M,type:x,gotrue_meta_security:{captcha_token:R?.captchaToken}}});return l._returnResult({data:{user:null,session:null,messageId:B?.message_id},error:K})}throw new ln("You must provide either an email or phone number and a type")}catch(v){if(ct(v))return l._returnResult({data:{user:null,session:null},error:v});throw v}})()}getSession(){var o=this;return(0,u.A)(function*(){return yield o.initializePromise,yield o._acquireLock(-1,(0,u.A)(function*(){return o._useSession(function(){var v=(0,u.A)(function*(M){return M});return function(M){return v.apply(this,arguments)}}())}))})()}_acquireLock(o,l){var v=this;return(0,u.A)(function*(){v._debug("#_acquireLock","begin",o);try{if(v.lockAcquired){const M=v.pendingInLock.length?v.pendingInLock[v.pendingInLock.length-1]:Promise.resolve(),x=(0,u.A)(function*(){return yield M,yield l()})();return v.pendingInLock.push((0,u.A)(function*(){try{yield x}catch{}})()),x}return yield v.lock(`lock:${v.storageKey}`,o,(0,u.A)(function*(){v._debug("#_acquireLock","lock acquired for storage key",v.storageKey);try{v.lockAcquired=!0;const M=l();for(v.pendingInLock.push((0,u.A)(function*(){try{yield M}catch{}})()),yield M;v.pendingInLock.length;){const x=[...v.pendingInLock];yield Promise.all(x),v.pendingInLock.splice(0,x.length)}return yield M}finally{v._debug("#_acquireLock","lock released for storage key",v.storageKey),v.lockAcquired=!1}}))}finally{v._debug("#_acquireLock","end")}})()}_useSession(o){var l=this;return(0,u.A)(function*(){l._debug("#_useSession","begin");try{const v=yield l.__loadSession();return yield o(v)}finally{l._debug("#_useSession","end")}})()}__loadSession(){var o=this;return(0,u.A)(function*(){o._debug("#__loadSession()","begin"),o.lockAcquired||o._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let l=null;const v=yield Ns(o.storage,o.storageKey);if(o._debug("#getSession()","session from storage",v),null!==v&&(o._isValidSession(v)?l=v:(o._debug("#getSession()","session from storage is not valid"),yield o._removeSession())),!l)return{data:{session:null},error:null};const M=!!l.expires_at&&1e3*l.expires_at-Date.now()<9e4;if(o._debug("#__loadSession()",`session has${M?"":" not"} expired`,"expires_at",l.expires_at),!M){if(o.userStorage){const B=yield Ns(o.userStorage,o.storageKey+"-user");l.user=B?.user?B.user:ci()}if(o.storage.isServer&&l.user&&!l.user.__isUserNotAvailableProxy){const B={value:o.suppressGetSessionWarning};l.user=function Ei(m,a){return new Proxy(m,{get:(o,l,v)=>{if("__isInsecureUserWarningProxy"===l)return!0;if("symbol"==typeof l){const M=l.toString();if("Symbol(Symbol.toPrimitive)"===M||"Symbol(Symbol.toStringTag)"===M||"Symbol(util.inspect.custom)"===M||"Symbol(nodejs.util.inspect.custom)"===M)return Reflect.get(o,l,v)}return!a.value&&"string"==typeof l&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a.value=!0),Reflect.get(o,l,v)}})}(l.user,B),B.value&&(o.suppressGetSessionWarning=!0)}return{data:{session:l},error:null}}const{data:x,error:R}=yield o._callRefreshToken(l.refresh_token);return o._returnResult(R?{data:{session:null},error:R}:{data:{session:x},error:null})}finally{o._debug("#__loadSession()","end")}})()}getUser(o){var l=this;return(0,u.A)(function*(){return o?yield l._getUser(o):(yield l.initializePromise,yield l._acquireLock(-1,(0,u.A)(function*(){return yield l._getUser()})))})()}_getUser(o){var l=this;return(0,u.A)(function*(){try{return o?yield jt(l.fetch,"GET",`${l.url}/user`,{headers:l.headers,jwt:o,xform:ts}):yield l._useSession(function(){var v=(0,u.A)(function*(M){var x,R,B;const{data:K,error:Z}=M;if(Z)throw Z;return null!==(x=K.session)&&void 0!==x&&x.access_token||l.hasCustomAuthorizationHeader?yield jt(l.fetch,"GET",`${l.url}/user`,{headers:l.headers,jwt:null!==(B=null===(R=K.session)||void 0===R?void 0:R.access_token)&&void 0!==B?B:void 0,xform:ts}):{data:{user:null},error:new tn}});return function(M){return v.apply(this,arguments)}}())}catch(v){if(ct(v))return function it(m){return ct(m)&&"AuthSessionMissingError"===m.name}(v)&&(yield l._removeSession(),yield Fn(l.storage,`${l.storageKey}-code-verifier`)),l._returnResult({data:{user:null},error:v});throw v}})()}updateUser(o){var l=this;return(0,u.A)(function*(v,M={}){return yield l.initializePromise,yield l._acquireLock(-1,(0,u.A)(function*(){return yield l._updateUser(v,M)}))}).apply(this,arguments)}_updateUser(o){var l=this;return(0,u.A)(function*(v,M={}){try{return yield l._useSession(function(){var x=(0,u.A)(function*(R){const{data:B,error:K}=R;if(K)throw K;if(!B.session)throw new tn;const Z=B.session;let De=null,je=null;"pkce"===l.flowType&&null!=v.email&&([De,je]=yield $(l.storage,l.storageKey));const{data:be,error:fe}=yield jt(l.fetch,"PUT",`${l.url}/user`,{headers:l.headers,redirectTo:M?.emailRedirectTo,body:Object.assign(Object.assign({},v),{code_challenge:De,code_challenge_method:je}),jwt:Z.access_token,xform:ts});if(fe)throw fe;return Z.user=be.user,yield l._saveSession(Z),yield l._notifyAllSubscribers("USER_UPDATED",Z),l._returnResult({data:{user:Z.user},error:null})});return function(R){return x.apply(this,arguments)}}())}catch(x){if(ct(x))return l._returnResult({data:{user:null},error:x});throw x}}).apply(this,arguments)}setSession(o){var l=this;return(0,u.A)(function*(){return yield l.initializePromise,yield l._acquireLock(-1,(0,u.A)(function*(){return yield l._setSession(o)}))})()}_setSession(o){var l=this;return(0,u.A)(function*(){try{if(!o.access_token||!o.refresh_token)throw new tn;const v=Date.now()/1e3;let M=v,x=!0,R=null;const{payload:B}=Qs(o.access_token);if(B.exp&&(M=B.exp,x=M<=v),x){const{data:K,error:Z}=yield l._callRefreshToken(o.refresh_token);if(Z)return l._returnResult({data:{user:null,session:null},error:Z});if(!K)return{data:{user:null,session:null},error:null};R=K}else{const{data:K,error:Z}=yield l._getUser(o.access_token);if(Z)throw Z;R={access_token:o.access_token,refresh_token:o.refresh_token,user:K.user,token_type:"bearer",expires_in:M-v,expires_at:M},yield l._saveSession(R),yield l._notifyAllSubscribers("SIGNED_IN",R)}return l._returnResult({data:{user:R.user,session:R},error:null})}catch(v){if(ct(v))return l._returnResult({data:{session:null,user:null},error:v});throw v}})()}refreshSession(o){var l=this;return(0,u.A)(function*(){return yield l.initializePromise,yield l._acquireLock(-1,(0,u.A)(function*(){return yield l._refreshSession(o)}))})()}_refreshSession(o){var l=this;return(0,u.A)(function*(){try{return yield l._useSession(function(){var v=(0,u.A)(function*(M){var x;if(!o){const{data:K,error:Z}=M;if(Z)throw Z;o=null!==(x=K.session)&&void 0!==x?x:void 0}if(!o?.refresh_token)throw new tn;const{data:R,error:B}=yield l._callRefreshToken(o.refresh_token);return l._returnResult(B?{data:{user:null,session:null},error:B}:R?{data:{user:R.user,session:R},error:null}:{data:{user:null,session:null},error:null})});return function(M){return v.apply(this,arguments)}}())}catch(v){if(ct(v))return l._returnResult({data:{user:null,session:null},error:v});throw v}})()}_getSessionFromURL(o,l){var v=this;return(0,u.A)(function*(){try{if(!On())throw new lr("No browser detected.");if(o.error||o.error_description||o.error_code)throw new lr(o.error_description||"Error in URL with unspecified error_description",{error:o.error||"unspecified_error",code:o.error_code||"unspecified_code"});switch(l){case"implicit":if("pkce"===v.flowType)throw new Qn("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===v.flowType)throw new lr("Not a valid implicit grant flow url.")}if("pkce"===l){if(v._debug("#_initialize()","begin","is PKCE flow",!0),!o.code)throw new Qn("No code detected.");const{data:he,error:Ve}=yield v._exchangeCodeForSession(o.code);if(Ve)throw Ve;const Kn=new URL(window.location.href);return Kn.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Kn.toString()),{data:{session:he.session,redirectType:null},error:null}}const{provider_token:M,provider_refresh_token:x,access_token:R,refresh_token:B,expires_in:K,expires_at:Z,token_type:De}=o;if(!(R&&K&&B&&De))throw new lr("No session defined in URL");const je=Math.round(Date.now()/1e3),be=parseInt(K);let fe=je+be;Z&&(fe=parseInt(Z));const Re=fe-je;1e3*Re<=qr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${Re}s, should have been closer to ${be}s`);const qe=fe-be;je-qe>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",qe,fe,je):je-qe<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",qe,fe,je);const{data:nt,error:Ut}=yield v._getUser(R);if(Ut)throw Ut;const Bt={provider_token:M,provider_refresh_token:x,access_token:R,expires_in:be,expires_at:fe,refresh_token:B,token_type:De,user:nt.user};return window.location.hash="",v._debug("#_getSessionFromURL()","clearing window.location.hash"),v._returnResult({data:{session:Bt,redirectType:o.type},error:null})}catch(M){if(ct(M))return v._returnResult({data:{session:null,redirectType:null},error:M});throw M}})()}_isImplicitGrantCallback(o){return!(!o.access_token&&!o.error_description)}_isPKCECallback(o){var l=this;return(0,u.A)(function*(){const v=yield Ns(l.storage,`${l.storageKey}-code-verifier`);return!(!o.code||!v)})()}signOut(){var o=this;return(0,u.A)(function*(l={scope:"global"}){return yield o.initializePromise,yield o._acquireLock(-1,(0,u.A)(function*(){return yield o._signOut(l)}))}).apply(this,arguments)}_signOut(){var o=this;return(0,u.A)(function*({scope:l}={scope:"global"}){return yield o._useSession(function(){var v=(0,u.A)(function*(M){var x;const{data:R,error:B}=M;if(B)return o._returnResult({error:B});const K=null===(x=R.session)||void 0===x?void 0:x.access_token;if(K){const{error:Z}=yield o.admin.signOut(K,l);if(Z&&(!function bi(m){return ct(m)&&"AuthApiError"===m.name}(Z)||404!==Z.status&&401!==Z.status&&403!==Z.status))return o._returnResult({error:Z})}return"others"!==l&&(yield o._removeSession(),yield Fn(o.storage,`${o.storageKey}-code-verifier`)),o._returnResult({error:null})});return function(M){return v.apply(this,arguments)}}())}).apply(this,arguments)}onAuthStateChange(o){var l=this;const v=function li(){return Symbol("auth-callback")}(),M={id:v,callback:o,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",v),this.stateChangeEmitters.delete(v)}};return this._debug("#onAuthStateChange()","registered callback with id",v),this.stateChangeEmitters.set(v,M),(0,u.A)(function*(){yield l.initializePromise,yield l._acquireLock(-1,(0,u.A)(function*(){l._emitInitialSession(v)}))})(),{data:{subscription:M}}}_emitInitialSession(o){var l=this;return(0,u.A)(function*(){return yield l._useSession(function(){var v=(0,u.A)(function*(M){var x,R;try{const{data:{session:B},error:K}=M;if(K)throw K;yield null===(x=l.stateChangeEmitters.get(o))||void 0===x?void 0:x.callback("INITIAL_SESSION",B),l._debug("INITIAL_SESSION","callback id",o,"session",B)}catch(B){yield null===(R=l.stateChangeEmitters.get(o))||void 0===R?void 0:R.callback("INITIAL_SESSION",null),l._debug("INITIAL_SESSION","callback id",o,"error",B),console.error(B)}});return function(M){return v.apply(this,arguments)}}())})()}resetPasswordForEmail(o){var l=this;return(0,u.A)(function*(v,M={}){let x=null,R=null;"pkce"===l.flowType&&([x,R]=yield $(l.storage,l.storageKey,!0));try{return yield jt(l.fetch,"POST",`${l.url}/recover`,{body:{email:v,code_challenge:x,code_challenge_method:R,gotrue_meta_security:{captcha_token:M.captchaToken}},headers:l.headers,redirectTo:M.redirectTo})}catch(B){if(ct(B))return l._returnResult({data:null,error:B});throw B}}).apply(this,arguments)}getUserIdentities(){var o=this;return(0,u.A)(function*(){var l;try{const{data:v,error:M}=yield o.getUser();if(M)throw M;return o._returnResult({data:{identities:null!==(l=v.user.identities)&&void 0!==l?l:[]},error:null})}catch(v){if(ct(v))return o._returnResult({data:null,error:v});throw v}})()}linkIdentity(o){var l=this;return(0,u.A)(function*(){return"token"in o?l.linkIdentityIdToken(o):l.linkIdentityOAuth(o)})()}linkIdentityOAuth(o){var l=this;return(0,u.A)(function*(){var v;try{const{data:M,error:x}=yield l._useSession(function(){var R=(0,u.A)(function*(B){var K,Z,De,je,be;const{data:fe,error:Re}=B;if(Re)throw Re;const qe=yield l._getUrlForProvider(`${l.url}/user/identities/authorize`,o.provider,{redirectTo:null===(K=o.options)||void 0===K?void 0:K.redirectTo,scopes:null===(Z=o.options)||void 0===Z?void 0:Z.scopes,queryParams:null===(De=o.options)||void 0===De?void 0:De.queryParams,skipBrowserRedirect:!0});return yield jt(l.fetch,"GET",qe,{headers:l.headers,jwt:null!==(be=null===(je=fe.session)||void 0===je?void 0:je.access_token)&&void 0!==be?be:void 0})});return function(B){return R.apply(this,arguments)}}());if(x)throw x;return On()&&!(null!==(v=o.options)&&void 0!==v&&v.skipBrowserRedirect)&&window.location.assign(M?.url),l._returnResult({data:{provider:o.provider,url:M?.url},error:null})}catch(M){if(ct(M))return l._returnResult({data:{provider:o.provider,url:null},error:M});throw M}})()}linkIdentityIdToken(o){var l=this;return(0,u.A)(function*(){return yield l._useSession(function(){var v=(0,u.A)(function*(M){var x;try{const{error:R,data:{session:B}}=M;if(R)throw R;const{options:K,provider:Z,token:De,access_token:je,nonce:be}=o,fe=yield jt(l.fetch,"POST",`${l.url}/token?grant_type=id_token`,{headers:l.headers,jwt:null!==(x=B?.access_token)&&void 0!==x?x:void 0,body:{provider:Z,id_token:De,access_token:je,nonce:be,link_identity:!0,gotrue_meta_security:{captcha_token:K?.captchaToken}},xform:es}),{data:Re,error:qe}=fe;return qe?l._returnResult({data:{user:null,session:null},error:qe}):Re&&Re.session&&Re.user?(Re.session&&(yield l._saveSession(Re.session),yield l._notifyAllSubscribers("USER_UPDATED",Re.session)),l._returnResult({data:Re,error:qe})):l._returnResult({data:{user:null,session:null},error:new Pt})}catch(R){if(ct(R))return l._returnResult({data:{user:null,session:null},error:R});throw R}});return function(M){return v.apply(this,arguments)}}())})()}unlinkIdentity(o){var l=this;return(0,u.A)(function*(){try{return yield l._useSession(function(){var v=(0,u.A)(function*(M){var x,R;const{data:B,error:K}=M;if(K)throw K;return yield jt(l.fetch,"DELETE",`${l.url}/user/identities/${o.identity_id}`,{headers:l.headers,jwt:null!==(R=null===(x=B.session)||void 0===x?void 0:x.access_token)&&void 0!==R?R:void 0})});return function(M){return v.apply(this,arguments)}}())}catch(v){if(ct(v))return l._returnResult({data:null,error:v});throw v}})()}_refreshAccessToken(o){var l=this;return(0,u.A)(function*(){const v=`#_refreshAccessToken(${o.substring(0,5)}...)`;l._debug(v,"begin");try{const M=Date.now();return yield function Yr(m,a){return new Promise((l,v)=>{(0,u.A)(function*(){for(let M=0;M<1/0;M++)try{const x=yield m(M);if(!a(M,null,x))return void l(x)}catch(x){if(!a(M,x))return void v(x)}})()})}(function(){var x=(0,u.A)(function*(R){return R>0&&(yield function Bn(m){return xr.apply(this,arguments)}(200*Math.pow(2,R-1))),l._debug(v,"refreshing attempt",R),yield jt(l.fetch,"POST",`${l.url}/token?grant_type=refresh_token`,{body:{refresh_token:o},headers:l.headers,xform:es})});return function(R){return x.apply(this,arguments)}}(),(x,R)=>{const B=200*Math.pow(2,x);return R&&$n(R)&&Date.now()+B-M<qr})}catch(M){if(l._debug(v,"error",M),ct(M))return l._returnResult({data:{session:null,user:null},error:M});throw M}finally{l._debug(v,"end")}})()}_isValidSession(o){return"object"==typeof o&&null!==o&&"access_token"in o&&"refresh_token"in o&&"expires_at"in o}_handleProviderSignIn(o,l){var v=this;return(0,u.A)(function*(){const M=yield v._getUrlForProvider(`${v.url}/authorize`,o,{redirectTo:l.redirectTo,scopes:l.scopes,queryParams:l.queryParams});return v._debug("#_handleProviderSignIn()","provider",o,"options",l,"url",M),On()&&!l.skipBrowserRedirect&&window.location.assign(M),{data:{provider:o,url:M},error:null}})()}_recoverAndRefresh(){var o=this;return(0,u.A)(function*(){var l,v;const M="#_recoverAndRefresh()";o._debug(M,"begin");try{const x=yield Ns(o.storage,o.storageKey);if(x&&o.userStorage){let B=yield Ns(o.userStorage,o.storageKey+"-user");!o.storage.isServer&&Object.is(o.storage,o.userStorage)&&!B&&(B={user:x.user},yield Pn(o.userStorage,o.storageKey+"-user",B)),x.user=null!==(l=B?.user)&&void 0!==l?l:ci()}else if(x&&!x.user&&!x.user){const B=yield Ns(o.storage,o.storageKey+"-user");B&&B?.user?(x.user=B.user,yield Fn(o.storage,o.storageKey+"-user"),yield Pn(o.storage,o.storageKey,x)):x.user=ci()}if(o._debug(M,"session from storage",x),!o._isValidSession(x))return o._debug(M,"session is not valid"),void(null!==x&&(yield o._removeSession()));const R=1e3*(null!==(v=x.expires_at)&&void 0!==v?v:1/0)-Date.now()<9e4;if(o._debug(M,`session has${R?"":" not"} expired with margin of 90000s`),R){if(o.autoRefreshToken&&x.refresh_token){const{error:B}=yield o._callRefreshToken(x.refresh_token);B&&(console.error(B),$n(B)||(o._debug(M,"refresh failed with a non-retryable error, removing the session",B),yield o._removeSession()))}}else if(x.user&&!0===x.user.__isUserNotAvailableProxy)try{const{data:B,error:K}=yield o._getUser(x.access_token);!K&&B?.user?(x.user=B.user,yield o._saveSession(x),yield o._notifyAllSubscribers("SIGNED_IN",x)):o._debug(M,"could not get user data, skipping SIGNED_IN notification")}catch(B){console.error("Error getting user data:",B),o._debug(M,"error getting user data, skipping SIGNED_IN notification",B)}else yield o._notifyAllSubscribers("SIGNED_IN",x)}catch(x){return o._debug(M,"error",x),void console.error(x)}finally{o._debug(M,"end")}})()}_callRefreshToken(o){var l=this;return(0,u.A)(function*(){var v,M;if(!o)throw new tn;if(l.refreshingDeferred)return l.refreshingDeferred.promise;const x=`#_callRefreshToken(${o.substring(0,5)}...)`;l._debug(x,"begin");try{l.refreshingDeferred=new cr;const{data:R,error:B}=yield l._refreshAccessToken(o);if(B)throw B;if(!R.session)throw new tn;yield l._saveSession(R.session),yield l._notifyAllSubscribers("TOKEN_REFRESHED",R.session);const K={data:R.session,error:null};return l.refreshingDeferred.resolve(K),K}catch(R){if(l._debug(x,"error",R),ct(R)){const B={data:null,error:R};return $n(R)||(yield l._removeSession()),null===(v=l.refreshingDeferred)||void 0===v||v.resolve(B),B}throw null===(M=l.refreshingDeferred)||void 0===M||M.reject(R),R}finally{l.refreshingDeferred=null,l._debug(x,"end")}})()}_notifyAllSubscribers(o,l){var v=this;return(0,u.A)(function*(M,x,R=!0){const B=`#_notifyAllSubscribers(${M})`;v._debug(B,"begin",x,`broadcast = ${R}`);try{v.broadcastChannel&&R&&v.broadcastChannel.postMessage({event:M,session:x});const K=[],Z=Array.from(v.stateChangeEmitters.values()).map(function(){var De=(0,u.A)(function*(je){try{yield je.callback(M,x)}catch(be){K.push(be)}});return function(je){return De.apply(this,arguments)}}());if(yield Promise.all(Z),K.length>0){for(let De=0;De<K.length;De+=1)console.error(K[De]);throw K[0]}}finally{v._debug(B,"end")}}).apply(this,arguments)}_saveSession(o){var l=this;return(0,u.A)(function*(){l._debug("#_saveSession()",o),l.suppressGetSessionWarning=!0;const v=Object.assign({},o);if(l.userStorage){(!v.user||!0!==v.user.__isUserNotAvailableProxy)&&v.user&&(yield Pn(l.userStorage,l.storageKey+"-user",{user:v.user}));const x=Object.assign({},v);delete x.user;const R=ks(x);yield Pn(l.storage,l.storageKey,R)}else{const x=ks(v);yield Pn(l.storage,l.storageKey,x)}})()}_removeSession(){var o=this;return(0,u.A)(function*(){o._debug("#_removeSession()"),yield Fn(o.storage,o.storageKey),yield Fn(o.storage,o.storageKey+"-code-verifier"),yield Fn(o.storage,o.storageKey+"-user"),o.userStorage&&(yield Fn(o.userStorage,o.storageKey+"-user")),yield o._notifyAllSubscribers("SIGNED_OUT",null)})()}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const o=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{o&&On()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",o)}catch(l){console.error("removing visibilitychange callback failed",l)}}_startAutoRefresh(){var o=this;return(0,u.A)(function*(){yield o._stopAutoRefresh(),o._debug("#_startAutoRefresh()");const l=setInterval(()=>o._autoRefreshTokenTick(),qr);o.autoRefreshTicker=l,l&&"object"==typeof l&&"function"==typeof l.unref?l.unref():typeof Deno<"u"&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(l),setTimeout((0,u.A)(function*(){yield o.initializePromise,yield o._autoRefreshTokenTick()}),0)})()}_stopAutoRefresh(){var o=this;return(0,u.A)(function*(){o._debug("#_stopAutoRefresh()");const l=o.autoRefreshTicker;o.autoRefreshTicker=null,l&&clearInterval(l)})()}startAutoRefresh(){var o=this;return(0,u.A)(function*(){o._removeVisibilityChangedCallback(),yield o._startAutoRefresh()})()}stopAutoRefresh(){var o=this;return(0,u.A)(function*(){o._removeVisibilityChangedCallback(),yield o._stopAutoRefresh()})()}_autoRefreshTokenTick(){var o=this;return(0,u.A)(function*(){o._debug("#_autoRefreshTokenTick()","begin");try{yield o._acquireLock(0,(0,u.A)(function*(){try{const l=Date.now();try{return yield o._useSession(function(){var v=(0,u.A)(function*(M){const{data:{session:x}}=M;if(!x||!x.refresh_token||!x.expires_at)return void o._debug("#_autoRefreshTokenTick()","no session");const R=Math.floor((1e3*x.expires_at-l)/qr);o._debug("#_autoRefreshTokenTick()",`access token expires in ${R} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),R<=3&&(yield o._callRefreshToken(x.refresh_token))});return function(M){return v.apply(this,arguments)}}())}catch(v){console.error("Auto refresh tick failed with error. This is likely a transient error.",v)}}finally{o._debug("#_autoRefreshTokenTick()","end")}}))}catch(l){if(!(l.isAcquireTimeout||l instanceof Zs))throw l;o._debug("auto refresh token tick lock not available")}})()}_handleVisibilityChange(){var o=this;return(0,u.A)(function*(){if(o._debug("#_handleVisibilityChange()"),!On()||!window?.addEventListener)return o.autoRefreshToken&&o.startAutoRefresh(),!1;try{o.visibilityChangedCallback=(0,u.A)(function*(){return yield o._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",o.visibilityChangedCallback),yield o._onVisibilityChanged(!0)}catch(l){console.error("_handleVisibilityChange",l)}})()}_onVisibilityChanged(o){var l=this;return(0,u.A)(function*(){const v=`#_onVisibilityChanged(${o})`;l._debug(v,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(l.autoRefreshToken&&l._startAutoRefresh(),o||(yield l.initializePromise,yield l._acquireLock(-1,(0,u.A)(function*(){"visible"===document.visibilityState?yield l._recoverAndRefresh():l._debug(v,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&l.autoRefreshToken&&l._stopAutoRefresh()})()}_getUrlForProvider(o,l,v){var M=this;return(0,u.A)(function*(){const x=[`provider=${encodeURIComponent(l)}`];if(v?.redirectTo&&x.push(`redirect_to=${encodeURIComponent(v.redirectTo)}`),v?.scopes&&x.push(`scopes=${encodeURIComponent(v.scopes)}`),"pkce"===M.flowType){const[R,B]=yield $(M.storage,M.storageKey),K=new URLSearchParams({code_challenge:`${encodeURIComponent(R)}`,code_challenge_method:`${encodeURIComponent(B)}`});x.push(K.toString())}if(v?.queryParams){const R=new URLSearchParams(v.queryParams);x.push(R.toString())}return v?.skipBrowserRedirect&&x.push(`skip_http_redirect=${v.skipBrowserRedirect}`),`${o}?${x.join("&")}`})()}_unenroll(o){var l=this;return(0,u.A)(function*(){try{return yield l._useSession(function(){var v=(0,u.A)(function*(M){var x;const{data:R,error:B}=M;return B?l._returnResult({data:null,error:B}):yield jt(l.fetch,"DELETE",`${l.url}/factors/${o.factorId}`,{headers:l.headers,jwt:null===(x=R?.session)||void 0===x?void 0:x.access_token})});return function(M){return v.apply(this,arguments)}}())}catch(v){if(ct(v))return l._returnResult({data:null,error:v});throw v}})()}_enroll(o){var l=this;return(0,u.A)(function*(){try{return yield l._useSession(function(){var v=(0,u.A)(function*(M){var x,R;const{data:B,error:K}=M;if(K)return l._returnResult({data:null,error:K});const Z=Object.assign({friendly_name:o.friendlyName,factor_type:o.factorType},"phone"===o.factorType?{phone:o.phone}:"totp"===o.factorType?{issuer:o.issuer}:{}),{data:De,error:je}=yield jt(l.fetch,"POST",`${l.url}/factors`,{body:Z,headers:l.headers,jwt:null===(x=B?.session)||void 0===x?void 0:x.access_token});return je?l._returnResult({data:null,error:je}):("totp"===o.factorType&&"totp"===De.type&&!(null===(R=De?.totp)||void 0===R)&&R.qr_code&&(De.totp.qr_code=`data:image/svg+xml;utf-8,${De.totp.qr_code}`),l._returnResult({data:De,error:null}))});return function(M){return v.apply(this,arguments)}}())}catch(v){if(ct(v))return l._returnResult({data:null,error:v});throw v}})()}_verify(o){var l=this;return(0,u.A)(function*(){return l._acquireLock(-1,(0,u.A)(function*(){try{return yield l._useSession(function(){var v=(0,u.A)(function*(M){var x;const{data:R,error:B}=M;if(B)return l._returnResult({data:null,error:B});const K=Object.assign({challenge_id:o.challengeId},"webauthn"in o?{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_response:"create"===o.webauthn.type?ns(o.webauthn.credential_response):rs(o.webauthn.credential_response)})}:{code:o.code}),{data:Z,error:De}=yield jt(l.fetch,"POST",`${l.url}/factors/${o.factorId}/verify`,{body:K,headers:l.headers,jwt:null===(x=R?.session)||void 0===x?void 0:x.access_token});return De?l._returnResult({data:null,error:De}):(yield l._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+Z.expires_in},Z)),yield l._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",Z),l._returnResult({data:Z,error:De}))});return function(M){return v.apply(this,arguments)}}())}catch(v){if(ct(v))return l._returnResult({data:null,error:v});throw v}}))})()}_challenge(o){var l=this;return(0,u.A)(function*(){return l._acquireLock(-1,(0,u.A)(function*(){try{return yield l._useSession(function(){var v=(0,u.A)(function*(M){var x;const{data:R,error:B}=M;if(B)return l._returnResult({data:null,error:B});const K=yield jt(l.fetch,"POST",`${l.url}/factors/${o.factorId}/challenge`,{body:o,headers:l.headers,jwt:null===(x=R?.session)||void 0===x?void 0:x.access_token});if(K.error)return K;const{data:Z}=K;if("webauthn"!==Z.type)return{data:Z,error:null};switch(Z.webauthn.type){case"create":return{data:Object.assign(Object.assign({},Z),{webauthn:Object.assign(Object.assign({},Z.webauthn),{credential_options:Object.assign(Object.assign({},Z.webauthn.credential_options),{publicKey:Nn(Z.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},Z),{webauthn:Object.assign(Object.assign({},Z.webauthn),{credential_options:Object.assign(Object.assign({},Z.webauthn.credential_options),{publicKey:fr(Z.webauthn.credential_options.publicKey)})})}),error:null}}});return function(M){return v.apply(this,arguments)}}())}catch(v){if(ct(v))return l._returnResult({data:null,error:v});throw v}}))})()}_challengeAndVerify(o){var l=this;return(0,u.A)(function*(){const{data:v,error:M}=yield l._challenge({factorId:o.factorId});return M?l._returnResult({data:null,error:M}):yield l._verify({factorId:o.factorId,challengeId:v.id,code:o.code})})()}_listFactors(){var o=this;return(0,u.A)(function*(){var l;const{data:{user:v},error:M}=yield o.getUser();if(M)return{data:null,error:M};const x={all:[],phone:[],totp:[],webauthn:[]};for(const R of null!==(l=v?.factors)&&void 0!==l?l:[])x.all.push(R),"verified"===R.status&&x[R.factor_type].push(R);return{data:x,error:null}})()}_getAuthenticatorAssuranceLevel(){var o=this;return(0,u.A)(function*(){var l,v;const{data:{session:M},error:x}=yield o.getSession();if(x)return o._returnResult({data:null,error:x});if(!M)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:R}=Qs(M.access_token);let B=null;R.aal&&(B=R.aal);let K=B;return(null!==(v=null===(l=M.user.factors)||void 0===l?void 0:l.filter(je=>"verified"===je.status))&&void 0!==v?v:[]).length>0&&(K="aal2"),{data:{currentLevel:B,nextLevel:K,currentAuthenticationMethods:R.amr||[]},error:null}})()}_getAuthorizationDetails(o){var l=this;return(0,u.A)(function*(){try{return yield l._useSession(function(){var v=(0,u.A)(function*(M){const{data:{session:x},error:R}=M;return R?l._returnResult({data:null,error:R}):x?yield jt(l.fetch,"GET",`${l.url}/oauth/authorizations/${o}`,{headers:l.headers,jwt:x.access_token,xform:B=>({data:B,error:null})}):l._returnResult({data:null,error:new tn})});return function(M){return v.apply(this,arguments)}}())}catch(v){if(ct(v))return l._returnResult({data:null,error:v});throw v}})()}_approveAuthorization(o,l){var v=this;return(0,u.A)(function*(){try{return yield v._useSession(function(){var M=(0,u.A)(function*(x){const{data:{session:R},error:B}=x;if(B)return v._returnResult({data:null,error:B});if(!R)return v._returnResult({data:null,error:new tn});const K=yield jt(v.fetch,"POST",`${v.url}/oauth/authorizations/${o}/consent`,{headers:v.headers,jwt:R.access_token,body:{action:"approve"},xform:Z=>({data:Z,error:null})});return K.data&&K.data.redirect_url&&On()&&!l?.skipBrowserRedirect&&window.location.assign(K.data.redirect_url),K});return function(x){return M.apply(this,arguments)}}())}catch(M){if(ct(M))return v._returnResult({data:null,error:M});throw M}})()}_denyAuthorization(o,l){var v=this;return(0,u.A)(function*(){try{return yield v._useSession(function(){var M=(0,u.A)(function*(x){const{data:{session:R},error:B}=x;if(B)return v._returnResult({data:null,error:B});if(!R)return v._returnResult({data:null,error:new tn});const K=yield jt(v.fetch,"POST",`${v.url}/oauth/authorizations/${o}/consent`,{headers:v.headers,jwt:R.access_token,body:{action:"deny"},xform:Z=>({data:Z,error:null})});return K.data&&K.data.redirect_url&&On()&&!l?.skipBrowserRedirect&&window.location.assign(K.data.redirect_url),K});return function(x){return M.apply(this,arguments)}}())}catch(M){if(ct(M))return v._returnResult({data:null,error:M});throw M}})()}_listOAuthGrants(){var o=this;return(0,u.A)(function*(){try{return yield o._useSession(function(){var l=(0,u.A)(function*(v){const{data:{session:M},error:x}=v;return x?o._returnResult({data:null,error:x}):M?yield jt(o.fetch,"GET",`${o.url}/user/oauth/grants`,{headers:o.headers,jwt:M.access_token,xform:R=>({data:R,error:null})}):o._returnResult({data:null,error:new tn})});return function(v){return l.apply(this,arguments)}}())}catch(l){if(ct(l))return o._returnResult({data:null,error:l});throw l}})()}_revokeOAuthGrant(o){var l=this;return(0,u.A)(function*(){try{return yield l._useSession(function(){var v=(0,u.A)(function*(M){const{data:{session:x},error:R}=M;return R?l._returnResult({data:null,error:R}):x?(yield jt(l.fetch,"DELETE",`${l.url}/user/oauth/grants`,{headers:l.headers,jwt:x.access_token,query:{client_id:o.clientId},noResolveJson:!0}),{data:{},error:null}):l._returnResult({data:null,error:new tn})});return function(M){return v.apply(this,arguments)}}())}catch(v){if(ct(v))return l._returnResult({data:null,error:v});throw v}})()}fetchJwk(o){var l=this;return(0,u.A)(function*(v,M={keys:[]}){let x=M.keys.find(Z=>Z.kid===v);if(x)return x;const R=Date.now();if(x=l.jwks.keys.find(Z=>Z.kid===v),x&&l.jwks_cached_at+6e5>R)return x;const{data:B,error:K}=yield jt(l.fetch,"GET",`${l.url}/.well-known/jwks.json`,{headers:l.headers});if(K)throw K;return B.keys&&0!==B.keys.length&&(l.jwks=B,l.jwks_cached_at=R,x=B.keys.find(Z=>Z.kid===v),x)?x:null}).apply(this,arguments)}getClaims(o){var l=this;return(0,u.A)(function*(v,M={}){try{let x=v;if(!x){const{data:qe,error:nt}=yield l.getSession();if(nt||!qe.session)return l._returnResult({data:null,error:nt});x=qe.session.access_token}const{header:R,payload:B,signature:K,raw:{header:Z,payload:De}}=Qs(x);M?.allowExpired||function Br(m){if(!m)throw new Error("Missing exp claim");if(m<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(B.exp);const je=R.alg&&!R.alg.startsWith("HS")&&R.kid&&"crypto"in globalThis&&"subtle"in globalThis.crypto?yield l.fetchJwk(R.kid,M?.keys?{keys:M.keys}:M?.jwks):null;if(!je){const{error:qe}=yield l.getUser(x);if(qe)throw qe;return{data:{claims:B,header:R,signature:K},error:null}}const be=function vr(m){switch(m){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(R.alg),fe=yield crypto.subtle.importKey("jwk",je,be,!0,["verify"]);if(!(yield crypto.subtle.verify(be,fe,K,function xs(m){const a=[];return function qs(m,a){for(let o=0;o<m.length;o+=1){let l=m.charCodeAt(o);if(l>55295&&l<=56319){const v=1024*(l-55296)&65535;l=65536+(m.charCodeAt(o+1)-56320&65535|v),o+=1}Ss(l,a)}}(m,o=>a.push(o)),new Uint8Array(a)}(`${Z}.${De}`))))throw new Ft("Invalid JWT signature");return{data:{claims:B,header:R,signature:K},error:null}}catch(x){if(ct(x))return l._returnResult({data:null,error:x});throw x}}).apply(this,arguments)}}return m.nextInstanceID={},m})();class It extends Tt{constructor(a){super(a)}}class Yn{constructor(a,o,l){var v,M,x;this.supabaseUrl=a,this.supabaseKey=o;const R=function hs(m){const a=m?.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(function ai(m){return m.endsWith("/")?m:m+"/"}(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}(a);if(!o)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",R),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",R),this.storageUrl=new URL("storage/v1",R),this.functionsUrl=new URL("functions/v1",R);const B=`sb-${R.hostname.split(".")[0]}-auth-token`,Z=function $i(m,a){var o,l;const{db:v,auth:M,realtime:x,global:R}=m,{db:B,auth:K,realtime:Z,global:De}=a,je={db:Object.assign(Object.assign({},B),v),auth:Object.assign(Object.assign({},K),M),realtime:Object.assign(Object.assign({},Z),x),storage:{},global:Object.assign(Object.assign(Object.assign({},De),R),{headers:Object.assign(Object.assign({},null!==(o=De?.headers)&&void 0!==o?o:{}),null!==(l=R?.headers)&&void 0!==l?l:{})}),accessToken:(be=(0,u.A)(function*(){return""}),function(){return be.apply(this,arguments)})};var be;return m.accessToken?je.accessToken=m.accessToken:delete je.accessToken,je}(l??{},{db:Un,realtime:vi,auth:Object.assign(Object.assign({},Ki),{storageKey:B}),global:yi});this.storageKey=null!==(v=Z.auth.storageKey)&&void 0!==v?v:"",this.headers=null!==(M=Z.global.headers)&&void 0!==M?M:{},Z.accessToken?(this.accessToken=Z.accessToken,this.auth=new Proxy({},{get:(De,je)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(je)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(x=Z.auth)&&void 0!==x?x:{},this.headers,Z.global.fetch),this.fetch=Pi(o,this._getAccessToken.bind(this),Z.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},Z.realtime)),this.accessToken&&this.accessToken().then(De=>this.realtime.setAuth(De)).catch(De=>console.warn("Failed to set initial Realtime auth token:",De)),this.rest=new Me(new URL("rest/v1",R).href,{headers:this.headers,schema:Z.db.schema,fetch:this.fetch}),this.storage=new Cs(this.storageUrl.href,this.headers,this.fetch,l?.storage),Z.accessToken||this._listenForAuthEvents()}get functions(){return new ye(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,o={},l={head:!1,get:!1,count:void 0}){return this.rest.rpc(a,o,l)}channel(a,o={config:{}}){return this.realtime.channel(a,o)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var a=this;return(0,u.A)(function*(){var o,l;if(a.accessToken)return yield a.accessToken();const{data:v}=yield a.auth.getSession();return null!==(l=null===(o=v.session)||void 0===o?void 0:o.access_token)&&void 0!==l?l:a.supabaseKey})()}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:o,detectSessionInUrl:l,storage:v,userStorage:M,storageKey:x,flowType:R,lock:B,debug:K,throwOnError:Z},De,je){return new It({url:this.authUrl.href,headers:Object.assign(Object.assign({},{Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`}),De),storageKey:x,autoRefreshToken:a,persistSession:o,detectSessionInUrl:l,storage:v,userStorage:M,flowType:R,lock:B,debug:K,throwOnError:Z,fetch:je,hasCustomAuthorizationHeader:Object.keys(this.headers).some(fe=>"authorization"===fe.toLowerCase())})}_initRealtimeClient(a){return new Kt(this.realtimeUrl.href,Object.assign(Object.assign({},a),{params:Object.assign({apikey:this.supabaseKey},a?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((o,l)=>{this._handleTokenChanged(o,"CLIENT",l?.access_token)})}_handleTokenChanged(a,o,l){"TOKEN_REFRESHED"!==a&&"SIGNED_IN"!==a||this.changedAccessToken===l?"SIGNED_OUT"===a&&(this.realtime.setAuth(),"STORAGE"==o&&this.auth.signOut(),this.changedAccessToken=void 0):(this.changedAccessToken=l,this.realtime.setAuth(l))}}const pr=(m,a,o)=>new Yn(m,a,o);(function Cr(){if(typeof window<"u"||typeof process>"u")return!1;const m=process.version;if(null==m)return!1;const a=m.match(/^v(\d+)\./);return!!a&&parseInt(a[1],10)<=18})()&&console.warn("\u26a0\ufe0f  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")},4412:(at,pe,F)=>{"use strict";F.d(pe,{t:()=>G});var u=F(1413);class G extends u.B{constructor(ge){super(),this._value=ge}get value(){return this.getValue()}_subscribe(ge){const re=super._subscribe(ge);return!re.closed&&ge.next(this._value),re}getValue(){const{hasError:ge,thrownError:re,_value:H}=this;if(ge)throw re;return this._throwIfClosed(),H}next(ge){super.next(this._value=ge)}}},1985:(at,pe,F)=>{"use strict";F.d(pe,{c:()=>de});var u=F(7707),G=F(8359),E=F(3494),ge=F(1203),re=F(1026),H=F(8071),X=F(9786);let de=(()=>{class Me{constructor(Be){Be&&(this._subscribe=Be)}lift(Be){const We=new Me;return We.source=this,We.operator=Be,We}subscribe(Be,We,Rt){const ht=function oe(Me){return Me&&Me instanceof u.vU||function me(Me){return Me&&(0,H.T)(Me.next)&&(0,H.T)(Me.error)&&(0,H.T)(Me.complete)}(Me)&&(0,G.Uv)(Me)}(Be)?Be:new u.Ms(Be,We,Rt);return(0,X.Y)(()=>{const{operator:Mt,source:ot}=this;ht.add(Mt?Mt.call(ht,ot):ot?this._subscribe(ht):this._trySubscribe(ht))}),ht}_trySubscribe(Be){try{return this._subscribe(Be)}catch(We){Be.error(We)}}forEach(Be,We){return new(We=ye(We))((Rt,ht)=>{const Mt=new u.Ms({next:ot=>{try{Be(ot)}catch(cn){ht(cn),Mt.unsubscribe()}},error:ht,complete:Rt});this.subscribe(Mt)})}_subscribe(Be){var We;return null===(We=this.source)||void 0===We?void 0:We.subscribe(Be)}[E.s](){return this}pipe(...Be){return(0,ge.m)(Be)(this)}toPromise(Be){return new(Be=ye(Be))((We,Rt)=>{let ht;this.subscribe(Mt=>ht=Mt,Mt=>Rt(Mt),()=>We(ht))})}}return Me.create=Qe=>new Me(Qe),Me})();function ye(Me){var Qe;return null!==(Qe=Me??re.$.Promise)&&void 0!==Qe?Qe:Promise}},1413:(at,pe,F)=>{"use strict";F.d(pe,{B:()=>X});var u=F(1985),G=F(8359);const ge=(0,F(1853).L)(ye=>function(){ye(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=F(7908),H=F(9786);let X=(()=>{class ye extends u.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(oe){const Me=new de(this,this);return Me.operator=oe,Me}_throwIfClosed(){if(this.closed)throw new ge}next(oe){(0,H.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Me of this.currentObservers)Me.next(oe)}})}error(oe){(0,H.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=oe;const{observers:Me}=this;for(;Me.length;)Me.shift().error(oe)}})}complete(){(0,H.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:oe}=this;for(;oe.length;)oe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var oe;return(null===(oe=this.observers)||void 0===oe?void 0:oe.length)>0}_trySubscribe(oe){return this._throwIfClosed(),super._trySubscribe(oe)}_subscribe(oe){return this._throwIfClosed(),this._checkFinalizedStatuses(oe),this._innerSubscribe(oe)}_innerSubscribe(oe){const{hasError:Me,isStopped:Qe,observers:Be}=this;return Me||Qe?G.Kn:(this.currentObservers=null,Be.push(oe),new G.yU(()=>{this.currentObservers=null,(0,re.o)(Be,oe)}))}_checkFinalizedStatuses(oe){const{hasError:Me,thrownError:Qe,isStopped:Be}=this;Me?oe.error(Qe):Be&&oe.complete()}asObservable(){const oe=new u.c;return oe.source=this,oe}}return ye.create=(me,oe)=>new de(me,oe),ye})();class de extends X{constructor(me,oe){super(),this.destination=me,this.source=oe}next(me){var oe,Me;null===(Me=null===(oe=this.destination)||void 0===oe?void 0:oe.next)||void 0===Me||Me.call(oe,me)}error(me){var oe,Me;null===(Me=null===(oe=this.destination)||void 0===oe?void 0:oe.error)||void 0===Me||Me.call(oe,me)}complete(){var me,oe;null===(oe=null===(me=this.destination)||void 0===me?void 0:me.complete)||void 0===oe||oe.call(me)}_subscribe(me){var oe,Me;return null!==(Me=null===(oe=this.source)||void 0===oe?void 0:oe.subscribe(me))&&void 0!==Me?Me:G.Kn}}},7707:(at,pe,F)=>{"use strict";F.d(pe,{Ms:()=>Rt,vU:()=>Me});var u=F(8071),G=F(8359),E=F(1026),ge=F(5334),re=F(5343);const H=ye("C",void 0,void 0);function ye(He,Ge,rt){return{kind:He,value:Ge,error:rt}}var me=F(9270),oe=F(9786);class Me extends G.yU{constructor(Ge){super(),this.isStopped=!1,Ge?(this.destination=Ge,(0,G.Uv)(Ge)&&Ge.add(this)):this.destination=cn}static create(Ge,rt,pt){return new Rt(Ge,rt,pt)}next(Ge){this.isStopped?ot(function de(He){return ye("N",He,void 0)}(Ge),this):this._next(Ge)}error(Ge){this.isStopped?ot(function X(He){return ye("E",void 0,He)}(Ge),this):(this.isStopped=!0,this._error(Ge))}complete(){this.isStopped?ot(H,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ge){this.destination.next(Ge)}_error(Ge){try{this.destination.error(Ge)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Qe=Function.prototype.bind;function Be(He,Ge){return Qe.call(He,Ge)}class We{constructor(Ge){this.partialObserver=Ge}next(Ge){const{partialObserver:rt}=this;if(rt.next)try{rt.next(Ge)}catch(pt){ht(pt)}}error(Ge){const{partialObserver:rt}=this;if(rt.error)try{rt.error(Ge)}catch(pt){ht(pt)}else ht(Ge)}complete(){const{partialObserver:Ge}=this;if(Ge.complete)try{Ge.complete()}catch(rt){ht(rt)}}}class Rt extends Me{constructor(Ge,rt,pt){let Ae;if(super(),(0,u.T)(Ge)||!Ge)Ae={next:Ge??void 0,error:rt??void 0,complete:pt??void 0};else{let Xe;this&&E.$.useDeprecatedNextContext?(Xe=Object.create(Ge),Xe.unsubscribe=()=>this.unsubscribe(),Ae={next:Ge.next&&Be(Ge.next,Xe),error:Ge.error&&Be(Ge.error,Xe),complete:Ge.complete&&Be(Ge.complete,Xe)}):Ae=Ge}this.destination=new We(Ae)}}function ht(He){E.$.useDeprecatedSynchronousErrorHandling?(0,oe.l)(He):(0,ge.m)(He)}function ot(He,Ge){const{onStoppedNotification:rt}=E.$;rt&&me.f.setTimeout(()=>rt(He,Ge))}const cn={closed:!0,next:re.l,error:function Mt(He){throw He},complete:re.l}},8359:(at,pe,F)=>{"use strict";F.d(pe,{Kn:()=>H,yU:()=>re,Uv:()=>X});var u=F(8071);const E=(0,F(1853).L)(ye=>function(oe){ye(this),this.message=oe?`${oe.length} errors occurred during unsubscription:\n${oe.map((Me,Qe)=>`${Qe+1}) ${Me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=oe});var ge=F(7908);class re{constructor(me){this.initialTeardown=me,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let me;if(!this.closed){this.closed=!0;const{_parentage:oe}=this;if(oe)if(this._parentage=null,Array.isArray(oe))for(const Be of oe)Be.remove(this);else oe.remove(this);const{initialTeardown:Me}=this;if((0,u.T)(Me))try{Me()}catch(Be){me=Be instanceof E?Be.errors:[Be]}const{_finalizers:Qe}=this;if(Qe){this._finalizers=null;for(const Be of Qe)try{de(Be)}catch(We){me=me??[],We instanceof E?me=[...me,...We.errors]:me.push(We)}}if(me)throw new E(me)}}add(me){var oe;if(me&&me!==this)if(this.closed)de(me);else{if(me instanceof re){if(me.closed||me._hasParent(this))return;me._addParent(this)}(this._finalizers=null!==(oe=this._finalizers)&&void 0!==oe?oe:[]).push(me)}}_hasParent(me){const{_parentage:oe}=this;return oe===me||Array.isArray(oe)&&oe.includes(me)}_addParent(me){const{_parentage:oe}=this;this._parentage=Array.isArray(oe)?(oe.push(me),oe):oe?[oe,me]:me}_removeParent(me){const{_parentage:oe}=this;oe===me?this._parentage=null:Array.isArray(oe)&&(0,ge.o)(oe,me)}remove(me){const{_finalizers:oe}=this;oe&&(0,ge.o)(oe,me),me instanceof re&&me._removeParent(this)}}re.EMPTY=(()=>{const ye=new re;return ye.closed=!0,ye})();const H=re.EMPTY;function X(ye){return ye instanceof re||ye&&"closed"in ye&&(0,u.T)(ye.remove)&&(0,u.T)(ye.add)&&(0,u.T)(ye.unsubscribe)}function de(ye){(0,u.T)(ye)?ye():ye.unsubscribe()}},1026:(at,pe,F)=>{"use strict";F.d(pe,{$:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},8793:(at,pe,F)=>{"use strict";F.d(pe,{x:()=>re});var u=F(6365),E=F(9326),ge=F(6648);function re(...H){return function G(){return(0,u.U)(1)}()((0,ge.H)(H,(0,E.lI)(H)))}},983:(at,pe,F)=>{"use strict";F.d(pe,{w:()=>G});const G=new(F(1985).c)(re=>re.complete())},6648:(at,pe,F)=>{"use strict";F.d(pe,{H:()=>pt});var u=F(8750),G=F(5225),E=F(9974),ge=F(4360);function re(Ae,Xe=0){return(0,E.N)((Et,Dt)=>{Et.subscribe((0,ge._)(Dt,yn=>(0,G.N)(Dt,Ae,()=>Dt.next(yn),Xe),()=>(0,G.N)(Dt,Ae,()=>Dt.complete(),Xe),yn=>(0,G.N)(Dt,Ae,()=>Dt.error(yn),Xe)))})}function H(Ae,Xe=0){return(0,E.N)((Et,Dt)=>{Dt.add(Ae.schedule(()=>Et.subscribe(Dt),Xe))})}var ye=F(1985),oe=F(4761),Me=F(8071);function Be(Ae,Xe){if(!Ae)throw new Error("Iterable cannot be null");return new ye.c(Et=>{(0,G.N)(Et,Xe,()=>{const Dt=Ae[Symbol.asyncIterator]();(0,G.N)(Et,Xe,()=>{Dt.next().then(yn=>{yn.done?Et.complete():Et.next(yn.value)})},0,!0)})})}var We=F(5055),Rt=F(9858),ht=F(7441),Mt=F(5397),ot=F(7953),cn=F(591),He=F(5196);function pt(Ae,Xe){return Xe?function rt(Ae,Xe){if(null!=Ae){if((0,We.l)(Ae))return function X(Ae,Xe){return(0,u.Tg)(Ae).pipe(H(Xe),re(Xe))}(Ae,Xe);if((0,ht.X)(Ae))return function me(Ae,Xe){return new ye.c(Et=>{let Dt=0;return Xe.schedule(function(){Dt===Ae.length?Et.complete():(Et.next(Ae[Dt++]),Et.closed||this.schedule())})})}(Ae,Xe);if((0,Rt.y)(Ae))return function de(Ae,Xe){return(0,u.Tg)(Ae).pipe(H(Xe),re(Xe))}(Ae,Xe);if((0,ot.T)(Ae))return Be(Ae,Xe);if((0,Mt.x)(Ae))return function Qe(Ae,Xe){return new ye.c(Et=>{let Dt;return(0,G.N)(Et,Xe,()=>{Dt=Ae[oe.l](),(0,G.N)(Et,Xe,()=>{let yn,Je;try{({value:yn,done:Je}=Dt.next())}catch(vt){return void Et.error(vt)}Je?Et.complete():Et.next(yn)},0,!0)}),()=>(0,Me.T)(Dt?.return)&&Dt.return()})}(Ae,Xe);if((0,He.U)(Ae))return function Ge(Ae,Xe){return Be((0,He.C)(Ae),Xe)}(Ae,Xe)}throw(0,cn.L)(Ae)}(Ae,Xe):(0,u.Tg)(Ae)}},8750:(at,pe,F)=>{"use strict";F.d(pe,{Tg:()=>Qe});var u=F(5215),G=F(7441),E=F(9858),ge=F(1985),re=F(5055),H=F(7953),X=F(591),de=F(5397),ye=F(5196),me=F(8071),oe=F(5334),Me=F(3494);function Qe(He){if(He instanceof ge.c)return He;if(null!=He){if((0,re.l)(He))return function Be(He){return new ge.c(Ge=>{const rt=He[Me.s]();if((0,me.T)(rt.subscribe))return rt.subscribe(Ge);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(He);if((0,G.X)(He))return function We(He){return new ge.c(Ge=>{for(let rt=0;rt<He.length&&!Ge.closed;rt++)Ge.next(He[rt]);Ge.complete()})}(He);if((0,E.y)(He))return function Rt(He){return new ge.c(Ge=>{He.then(rt=>{Ge.closed||(Ge.next(rt),Ge.complete())},rt=>Ge.error(rt)).then(null,oe.m)})}(He);if((0,H.T)(He))return Mt(He);if((0,de.x)(He))return function ht(He){return new ge.c(Ge=>{for(const rt of He)if(Ge.next(rt),Ge.closed)return;Ge.complete()})}(He);if((0,ye.U)(He))return function ot(He){return Mt((0,ye.C)(He))}(He)}throw(0,X.L)(He)}function Mt(He){return new ge.c(Ge=>{(function cn(He,Ge){var rt,pt,Ae,Xe;return(0,u.__awaiter)(this,void 0,void 0,function*(){try{for(rt=(0,u.__asyncValues)(He);!(pt=yield rt.next()).done;)if(Ge.next(pt.value),Ge.closed)return}catch(Et){Ae={error:Et}}finally{try{pt&&!pt.done&&(Xe=rt.return)&&(yield Xe.call(rt))}finally{if(Ae)throw Ae.error}}Ge.complete()})})(He,Ge).catch(rt=>Ge.error(rt))})}},7673:(at,pe,F)=>{"use strict";F.d(pe,{of:()=>E});var u=F(9326),G=F(6648);function E(...ge){const re=(0,u.lI)(ge);return(0,G.H)(ge,re)}},8810:(at,pe,F)=>{"use strict";F.d(pe,{$:()=>E});var u=F(1985),G=F(8071);function E(ge,re){const H=(0,G.T)(ge)?ge:()=>ge,X=de=>de.error(H());return new u.c(re?de=>re.schedule(X,0,de):X)}},4360:(at,pe,F)=>{"use strict";F.d(pe,{_:()=>G});var u=F(7707);function G(ge,re,H,X,de){return new E(ge,re,H,X,de)}class E extends u.vU{constructor(re,H,X,de,ye,me){super(re),this.onFinalize=ye,this.shouldUnsubscribe=me,this._next=H?function(oe){try{H(oe)}catch(Me){re.error(Me)}}:super._next,this._error=de?function(oe){try{de(oe)}catch(Me){re.error(Me)}finally{this.unsubscribe()}}:super._error,this._complete=X?function(){try{X()}catch(oe){re.error(oe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:H}=this;super.unsubscribe(),!H&&(null===(re=this.onFinalize)||void 0===re||re.call(this))}}}},9437:(at,pe,F)=>{"use strict";F.d(pe,{W:()=>ge});var u=F(8750),G=F(4360),E=F(9974);function ge(re){return(0,E.N)((H,X)=>{let me,de=null,ye=!1;de=H.subscribe((0,G._)(X,void 0,void 0,oe=>{me=(0,u.Tg)(re(oe,ge(re)(H))),de?(de.unsubscribe(),de=null,me.subscribe(X)):ye=!0})),ye&&(de.unsubscribe(),de=null,me.subscribe(X))})}},274:(at,pe,F)=>{"use strict";F.d(pe,{H:()=>E});var u=F(1397),G=F(8071);function E(ge,re){return(0,G.T)(re)?(0,u.Z)(ge,re,1):(0,u.Z)(ge,1)}},9901:(at,pe,F)=>{"use strict";F.d(pe,{U:()=>E});var u=F(9974),G=F(4360);function E(ge){return(0,u.N)((re,H)=>{let X=!1;re.subscribe((0,G._)(H,de=>{X=!0,H.next(de)},()=>{X||H.next(ge),H.complete()}))})}},3294:(at,pe,F)=>{"use strict";F.d(pe,{F:()=>ge});var u=F(3669),G=F(9974),E=F(4360);function ge(H,X=u.D){return H=H??re,(0,G.N)((de,ye)=>{let me,oe=!0;de.subscribe((0,E._)(ye,Me=>{const Qe=X(Me);(oe||!H(me,Qe))&&(oe=!1,me=Qe,ye.next(Me))}))})}function re(H,X){return H===X}},5964:(at,pe,F)=>{"use strict";F.d(pe,{p:()=>E});var u=F(9974),G=F(4360);function E(ge,re){return(0,u.N)((H,X)=>{let de=0;H.subscribe((0,G._)(X,ye=>ge.call(re,ye,de++)&&X.next(ye)))})}},980:(at,pe,F)=>{"use strict";F.d(pe,{j:()=>G});var u=F(9974);function G(E){return(0,u.N)((ge,re)=>{try{ge.subscribe(re)}finally{re.add(E)}})}},1594:(at,pe,F)=>{"use strict";F.d(pe,{$:()=>X});var u=F(9350),G=F(5964),E=F(6697),ge=F(9901),re=F(3774),H=F(3669);function X(de,ye){const me=arguments.length>=2;return oe=>oe.pipe(de?(0,G.p)((Me,Qe)=>de(Me,Qe,oe)):H.D,(0,E.s)(1),me?(0,ge.U)(ye):(0,re.v)(()=>new u.G))}},6354:(at,pe,F)=>{"use strict";F.d(pe,{T:()=>E});var u=F(9974),G=F(4360);function E(ge,re){return(0,u.N)((H,X)=>{let de=0;H.subscribe((0,G._)(X,ye=>{X.next(ge.call(re,ye,de++))}))})}},6365:(at,pe,F)=>{"use strict";F.d(pe,{U:()=>E});var u=F(1397),G=F(3669);function E(ge=1/0){return(0,u.Z)(G.D,ge)}},1397:(at,pe,F)=>{"use strict";F.d(pe,{Z:()=>de});var u=F(6354),G=F(8750),E=F(9974),ge=F(5225),re=F(4360),X=F(8071);function de(ye,me,oe=1/0){return(0,X.T)(me)?de((Me,Qe)=>(0,u.T)((Be,We)=>me(Me,Be,Qe,We))((0,G.Tg)(ye(Me,Qe))),oe):("number"==typeof me&&(oe=me),(0,E.N)((Me,Qe)=>function H(ye,me,oe,Me,Qe,Be,We,Rt){const ht=[];let Mt=0,ot=0,cn=!1;const He=()=>{cn&&!ht.length&&!Mt&&me.complete()},Ge=pt=>Mt<Me?rt(pt):ht.push(pt),rt=pt=>{Be&&me.next(pt),Mt++;let Ae=!1;(0,G.Tg)(oe(pt,ot++)).subscribe((0,re._)(me,Xe=>{Qe?.(Xe),Be?Ge(Xe):me.next(Xe)},()=>{Ae=!0},void 0,()=>{if(Ae)try{for(Mt--;ht.length&&Mt<Me;){const Xe=ht.shift();We?(0,ge.N)(me,We,()=>rt(Xe)):rt(Xe)}He()}catch(Xe){me.error(Xe)}}))};return ye.subscribe((0,re._)(me,Ge,()=>{cn=!0,He()})),()=>{Rt?.()}}(Me,Qe,ye,oe)))}},9172:(at,pe,F)=>{"use strict";F.d(pe,{Z:()=>ge});var u=F(8793),G=F(9326),E=F(9974);function ge(...re){const H=(0,G.lI)(re);return(0,E.N)((X,de)=>{(H?(0,u.x)(re,X,H):(0,u.x)(re,X)).subscribe(de)})}},5558:(at,pe,F)=>{"use strict";F.d(pe,{n:()=>ge});var u=F(8750),G=F(9974),E=F(4360);function ge(re,H){return(0,G.N)((X,de)=>{let ye=null,me=0,oe=!1;const Me=()=>oe&&!ye&&de.complete();X.subscribe((0,E._)(de,Qe=>{ye?.unsubscribe();let Be=0;const We=me++;(0,u.Tg)(re(Qe,We)).subscribe(ye=(0,E._)(de,Rt=>de.next(H?H(Qe,Rt,We,Be++):Rt),()=>{ye=null,Me()}))},()=>{oe=!0,Me()}))})}},6697:(at,pe,F)=>{"use strict";F.d(pe,{s:()=>ge});var u=F(983),G=F(9974),E=F(4360);function ge(re){return re<=0?()=>u.w:(0,G.N)((H,X)=>{let de=0;H.subscribe((0,E._)(X,ye=>{++de<=re&&(X.next(ye),re<=de&&X.complete())}))})}},8141:(at,pe,F)=>{"use strict";F.d(pe,{M:()=>re});var u=F(8071),G=F(9974),E=F(4360),ge=F(3669);function re(H,X,de){const ye=(0,u.T)(H)||X||de?{next:H,error:X,complete:de}:H;return ye?(0,G.N)((me,oe)=>{var Me;null===(Me=ye.subscribe)||void 0===Me||Me.call(ye);let Qe=!0;me.subscribe((0,E._)(oe,Be=>{var We;null===(We=ye.next)||void 0===We||We.call(ye,Be),oe.next(Be)},()=>{var Be;Qe=!1,null===(Be=ye.complete)||void 0===Be||Be.call(ye),oe.complete()},Be=>{var We;Qe=!1,null===(We=ye.error)||void 0===We||We.call(ye,Be),oe.error(Be)},()=>{var Be,We;Qe&&(null===(Be=ye.unsubscribe)||void 0===Be||Be.call(ye)),null===(We=ye.finalize)||void 0===We||We.call(ye)}))}):ge.D}},3774:(at,pe,F)=>{"use strict";F.d(pe,{v:()=>ge});var u=F(9350),G=F(9974),E=F(4360);function ge(H=re){return(0,G.N)((X,de)=>{let ye=!1;X.subscribe((0,E._)(de,me=>{ye=!0,de.next(me)},()=>ye?de.complete():de.error(H())))})}function re(){return new u.G}},9270:(at,pe,F)=>{"use strict";F.d(pe,{f:()=>u});const u={setTimeout(G,E,...ge){const{delegate:re}=u;return re?.setTimeout?re.setTimeout(G,E,...ge):setTimeout(G,E,...ge)},clearTimeout(G){const{delegate:E}=u;return(E?.clearTimeout||clearTimeout)(G)},delegate:void 0}},4761:(at,pe,F)=>{"use strict";F.d(pe,{l:()=>G});const G=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(at,pe,F)=>{"use strict";F.d(pe,{s:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(at,pe,F)=>{"use strict";F.d(pe,{G:()=>G});const G=(0,F(1853).L)(E=>function(){E(this),this.name="EmptyError",this.message="no elements in sequence"})},9326:(at,pe,F)=>{"use strict";F.d(pe,{R0:()=>H,lI:()=>re,ms:()=>ge});var u=F(8071),G=F(9470);function E(X){return X[X.length-1]}function ge(X){return(0,u.T)(E(X))?X.pop():void 0}function re(X){return(0,G.m)(E(X))?X.pop():void 0}function H(X,de){return"number"==typeof E(X)?X.pop():de}},3073:(at,pe,F)=>{"use strict";F.d(pe,{D:()=>re});const{isArray:u}=Array,{getPrototypeOf:G,prototype:E,keys:ge}=Object;function re(X){if(1===X.length){const de=X[0];if(u(de))return{args:de,keys:null};if(function H(X){return X&&"object"==typeof X&&G(X)===E}(de)){const ye=ge(de);return{args:ye.map(me=>de[me]),keys:ye}}}return{args:X,keys:null}}},7908:(at,pe,F)=>{"use strict";function u(G,E){if(G){const ge=G.indexOf(E);0<=ge&&G.splice(ge,1)}}F.d(pe,{o:()=>u})},1853:(at,pe,F)=>{"use strict";function u(G){const ge=G(re=>{Error.call(re),re.stack=(new Error).stack});return ge.prototype=Object.create(Error.prototype),ge.prototype.constructor=ge,ge}F.d(pe,{L:()=>u})},8496:(at,pe,F)=>{"use strict";function u(G,E){return G.reduce((ge,re,H)=>(ge[re]=E[H],ge),{})}F.d(pe,{e:()=>u})},9786:(at,pe,F)=>{"use strict";F.d(pe,{Y:()=>E,l:()=>ge});var u=F(1026);let G=null;function E(re){if(u.$.useDeprecatedSynchronousErrorHandling){const H=!G;if(H&&(G={errorThrown:!1,error:null}),re(),H){const{errorThrown:X,error:de}=G;if(G=null,X)throw de}}else re()}function ge(re){u.$.useDeprecatedSynchronousErrorHandling&&G&&(G.errorThrown=!0,G.error=re)}},5225:(at,pe,F)=>{"use strict";function u(G,E,ge,re=0,H=!1){const X=E.schedule(function(){ge(),H?G.add(this.schedule(null,re)):this.unsubscribe()},re);if(G.add(X),!H)return X}F.d(pe,{N:()=>u})},3669:(at,pe,F)=>{"use strict";function u(G){return G}F.d(pe,{D:()=>u})},7441:(at,pe,F)=>{"use strict";F.d(pe,{X:()=>u});const u=G=>G&&"number"==typeof G.length&&"function"!=typeof G},7953:(at,pe,F)=>{"use strict";F.d(pe,{T:()=>G});var u=F(8071);function G(E){return Symbol.asyncIterator&&(0,u.T)(E?.[Symbol.asyncIterator])}},8071:(at,pe,F)=>{"use strict";function u(G){return"function"==typeof G}F.d(pe,{T:()=>u})},5055:(at,pe,F)=>{"use strict";F.d(pe,{l:()=>E});var u=F(3494),G=F(8071);function E(ge){return(0,G.T)(ge[u.s])}},5397:(at,pe,F)=>{"use strict";F.d(pe,{x:()=>E});var u=F(4761),G=F(8071);function E(ge){return(0,G.T)(ge?.[u.l])}},9858:(at,pe,F)=>{"use strict";F.d(pe,{y:()=>G});var u=F(8071);function G(E){return(0,u.T)(E?.then)}},5196:(at,pe,F)=>{"use strict";F.d(pe,{C:()=>E,U:()=>ge});var u=F(5215),G=F(8071);function E(re){return(0,u.__asyncGenerator)(this,arguments,function*(){const X=re.getReader();try{for(;;){const{value:de,done:ye}=yield(0,u.__await)(X.read());if(ye)return yield(0,u.__await)(void 0);yield yield(0,u.__await)(de)}}finally{X.releaseLock()}})}function ge(re){return(0,G.T)(re?.getReader)}},9470:(at,pe,F)=>{"use strict";F.d(pe,{m:()=>G});var u=F(8071);function G(E){return E&&(0,u.T)(E.schedule)}},9974:(at,pe,F)=>{"use strict";F.d(pe,{N:()=>E,S:()=>G});var u=F(8071);function G(ge){return(0,u.T)(ge?.lift)}function E(ge){return re=>{if(G(re))return re.lift(function(H){try{return ge(H,this)}catch(X){this.error(X)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(at,pe,F)=>{"use strict";F.d(pe,{I:()=>ge});var u=F(6354);const{isArray:G}=Array;function ge(re){return(0,u.T)(H=>function E(re,H){return G(H)?re(...H):re(H)}(re,H))}},5343:(at,pe,F)=>{"use strict";function u(){}F.d(pe,{l:()=>u})},1203:(at,pe,F)=>{"use strict";F.d(pe,{F:()=>G,m:()=>E});var u=F(3669);function G(...ge){return E(ge)}function E(ge){return 0===ge.length?u.D:1===ge.length?ge[0]:function(H){return ge.reduce((X,de)=>de(X),H)}}},5334:(at,pe,F)=>{"use strict";F.d(pe,{m:()=>E});var u=F(1026),G=F(9270);function E(ge){G.f.setTimeout(()=>{const{onUnhandledError:re}=u.$;if(!re)throw ge;re(ge)})}},591:(at,pe,F)=>{"use strict";function u(G){return new TypeError(`You provided ${null!==G&&"object"==typeof G?"an invalid object":`'${G}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(pe,{L:()=>u})},5215:(at,pe,F)=>{"use strict";F.r(pe),F.d(pe,{__addDisposableResource:()=>kt,__assign:()=>E,__asyncDelegator:()=>rt,__asyncGenerator:()=>Ge,__asyncValues:()=>pt,__await:()=>He,__awaiter:()=>Me,__classPrivateFieldGet:()=>Je,__classPrivateFieldIn:()=>st,__classPrivateFieldSet:()=>vt,__createBinding:()=>Be,__decorate:()=>re,__disposeResources:()=>ir,__esDecorate:()=>X,__exportStar:()=>We,__extends:()=>G,__generator:()=>Qe,__importDefault:()=>yn,__importStar:()=>Dt,__makeTemplateObject:()=>Ae,__metadata:()=>oe,__param:()=>H,__propKey:()=>ye,__read:()=>ht,__rest:()=>ge,__rewriteRelativeImportExtension:()=>Sn,__runInitializers:()=>de,__setFunctionName:()=>me,__spread:()=>Mt,__spreadArray:()=>cn,__spreadArrays:()=>ot,__values:()=>Rt,default:()=>Vt});var u=function(ue,_e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ce,Oe){Ce.__proto__=Oe}||function(Ce,Oe){for(var $e in Oe)Object.prototype.hasOwnProperty.call(Oe,$e)&&(Ce[$e]=Oe[$e])})(ue,_e)};function G(ue,_e){if("function"!=typeof _e&&null!==_e)throw new TypeError("Class extends value "+String(_e)+" is not a constructor or null");function Ce(){this.constructor=ue}u(ue,_e),ue.prototype=null===_e?Object.create(_e):(Ce.prototype=_e.prototype,new Ce)}var E=function(){return E=Object.assign||function(_e){for(var Ce,Oe=1,$e=arguments.length;Oe<$e;Oe++)for(var Ke in Ce=arguments[Oe])Object.prototype.hasOwnProperty.call(Ce,Ke)&&(_e[Ke]=Ce[Ke]);return _e},E.apply(this,arguments)};function ge(ue,_e){var Ce={};for(var Oe in ue)Object.prototype.hasOwnProperty.call(ue,Oe)&&_e.indexOf(Oe)<0&&(Ce[Oe]=ue[Oe]);if(null!=ue&&"function"==typeof Object.getOwnPropertySymbols){var $e=0;for(Oe=Object.getOwnPropertySymbols(ue);$e<Oe.length;$e++)_e.indexOf(Oe[$e])<0&&Object.prototype.propertyIsEnumerable.call(ue,Oe[$e])&&(Ce[Oe[$e]]=ue[Oe[$e]])}return Ce}function re(ue,_e,Ce,Oe){var _t,$e=arguments.length,Ke=$e<3?_e:null===Oe?Oe=Object.getOwnPropertyDescriptor(_e,Ce):Oe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ke=Reflect.decorate(ue,_e,Ce,Oe);else for(var un=ue.length-1;un>=0;un--)(_t=ue[un])&&(Ke=($e<3?_t(Ke):$e>3?_t(_e,Ce,Ke):_t(_e,Ce))||Ke);return $e>3&&Ke&&Object.defineProperty(_e,Ce,Ke),Ke}function H(ue,_e){return function(Ce,Oe){_e(Ce,Oe,ue)}}function X(ue,_e,Ce,Oe,$e,Ke){function _t(wn){if(void 0!==wn&&"function"!=typeof wn)throw new TypeError("Function expected");return wn}for(var jn,un=Oe.kind,kn="getter"===un?"get":"setter"===un?"set":"value",Ot=!_e&&ue?Oe.static?ue:ue.prototype:null,fn=_e||(Ot?Object.getOwnPropertyDescriptor(Ot,Oe.name):{}),Zn=!1,wt=Ce.length-1;wt>=0;wt--){var lt={};for(var ft in Oe)lt[ft]="access"===ft?{}:Oe[ft];for(var ft in Oe.access)lt.access[ft]=Oe.access[ft];lt.addInitializer=function(wn){if(Zn)throw new TypeError("Cannot add initializers after decoration has completed");Ke.push(_t(wn||null))};var or=(0,Ce[wt])("accessor"===un?{get:fn.get,set:fn.set}:fn[kn],lt);if("accessor"===un){if(void 0===or)continue;if(null===or||"object"!=typeof or)throw new TypeError("Object expected");(jn=_t(or.get))&&(fn.get=jn),(jn=_t(or.set))&&(fn.set=jn),(jn=_t(or.init))&&$e.unshift(jn)}else(jn=_t(or))&&("field"===un?$e.unshift(jn):fn[kn]=jn)}Ot&&Object.defineProperty(Ot,Oe.name,fn),Zn=!0}function de(ue,_e,Ce){for(var Oe=arguments.length>2,$e=0;$e<_e.length;$e++)Ce=Oe?_e[$e].call(ue,Ce):_e[$e].call(ue);return Oe?Ce:void 0}function ye(ue){return"symbol"==typeof ue?ue:"".concat(ue)}function me(ue,_e,Ce){return"symbol"==typeof _e&&(_e=_e.description?"[".concat(_e.description,"]"):""),Object.defineProperty(ue,"name",{configurable:!0,value:Ce?"".concat(Ce," ",_e):_e})}function oe(ue,_e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(ue,_e)}function Me(ue,_e,Ce,Oe){return new(Ce||(Ce=Promise))(function(Ke,_t){function un(fn){try{Ot(Oe.next(fn))}catch(jn){_t(jn)}}function kn(fn){try{Ot(Oe.throw(fn))}catch(jn){_t(jn)}}function Ot(fn){fn.done?Ke(fn.value):function $e(Ke){return Ke instanceof Ce?Ke:new Ce(function(_t){_t(Ke)})}(fn.value).then(un,kn)}Ot((Oe=Oe.apply(ue,_e||[])).next())})}function Qe(ue,_e){var Oe,$e,Ke,Ce={label:0,sent:function(){if(1&Ke[0])throw Ke[1];return Ke[1]},trys:[],ops:[]},_t=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return _t.next=un(0),_t.throw=un(1),_t.return=un(2),"function"==typeof Symbol&&(_t[Symbol.iterator]=function(){return this}),_t;function un(Ot){return function(fn){return function kn(Ot){if(Oe)throw new TypeError("Generator is already executing.");for(;_t&&(_t=0,Ot[0]&&(Ce=0)),Ce;)try{if(Oe=1,$e&&(Ke=2&Ot[0]?$e.return:Ot[0]?$e.throw||((Ke=$e.return)&&Ke.call($e),0):$e.next)&&!(Ke=Ke.call($e,Ot[1])).done)return Ke;switch($e=0,Ke&&(Ot=[2&Ot[0],Ke.value]),Ot[0]){case 0:case 1:Ke=Ot;break;case 4:return Ce.label++,{value:Ot[1],done:!1};case 5:Ce.label++,$e=Ot[1],Ot=[0];continue;case 7:Ot=Ce.ops.pop(),Ce.trys.pop();continue;default:if(!(Ke=(Ke=Ce.trys).length>0&&Ke[Ke.length-1])&&(6===Ot[0]||2===Ot[0])){Ce=0;continue}if(3===Ot[0]&&(!Ke||Ot[1]>Ke[0]&&Ot[1]<Ke[3])){Ce.label=Ot[1];break}if(6===Ot[0]&&Ce.label<Ke[1]){Ce.label=Ke[1],Ke=Ot;break}if(Ke&&Ce.label<Ke[2]){Ce.label=Ke[2],Ce.ops.push(Ot);break}Ke[2]&&Ce.ops.pop(),Ce.trys.pop();continue}Ot=_e.call(ue,Ce)}catch(fn){Ot=[6,fn],$e=0}finally{Oe=Ke=0}if(5&Ot[0])throw Ot[1];return{value:Ot[0]?Ot[1]:void 0,done:!0}}([Ot,fn])}}}var Be=Object.create?function(ue,_e,Ce,Oe){void 0===Oe&&(Oe=Ce);var $e=Object.getOwnPropertyDescriptor(_e,Ce);(!$e||("get"in $e?!_e.__esModule:$e.writable||$e.configurable))&&($e={enumerable:!0,get:function(){return _e[Ce]}}),Object.defineProperty(ue,Oe,$e)}:function(ue,_e,Ce,Oe){void 0===Oe&&(Oe=Ce),ue[Oe]=_e[Ce]};function We(ue,_e){for(var Ce in ue)"default"!==Ce&&!Object.prototype.hasOwnProperty.call(_e,Ce)&&Be(_e,ue,Ce)}function Rt(ue){var _e="function"==typeof Symbol&&Symbol.iterator,Ce=_e&&ue[_e],Oe=0;if(Ce)return Ce.call(ue);if(ue&&"number"==typeof ue.length)return{next:function(){return ue&&Oe>=ue.length&&(ue=void 0),{value:ue&&ue[Oe++],done:!ue}}};throw new TypeError(_e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ht(ue,_e){var Ce="function"==typeof Symbol&&ue[Symbol.iterator];if(!Ce)return ue;var $e,_t,Oe=Ce.call(ue),Ke=[];try{for(;(void 0===_e||_e-- >0)&&!($e=Oe.next()).done;)Ke.push($e.value)}catch(un){_t={error:un}}finally{try{$e&&!$e.done&&(Ce=Oe.return)&&Ce.call(Oe)}finally{if(_t)throw _t.error}}return Ke}function Mt(){for(var ue=[],_e=0;_e<arguments.length;_e++)ue=ue.concat(ht(arguments[_e]));return ue}function ot(){for(var ue=0,_e=0,Ce=arguments.length;_e<Ce;_e++)ue+=arguments[_e].length;var Oe=Array(ue),$e=0;for(_e=0;_e<Ce;_e++)for(var Ke=arguments[_e],_t=0,un=Ke.length;_t<un;_t++,$e++)Oe[$e]=Ke[_t];return Oe}function cn(ue,_e,Ce){if(Ce||2===arguments.length)for(var Ke,Oe=0,$e=_e.length;Oe<$e;Oe++)(Ke||!(Oe in _e))&&(Ke||(Ke=Array.prototype.slice.call(_e,0,Oe)),Ke[Oe]=_e[Oe]);return ue.concat(Ke||Array.prototype.slice.call(_e))}function He(ue){return this instanceof He?(this.v=ue,this):new He(ue)}function Ge(ue,_e,Ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $e,Oe=Ce.apply(ue,_e||[]),Ke=[];return $e=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),un("next"),un("throw"),un("return",function _t(wt){return function(lt){return Promise.resolve(lt).then(wt,jn)}}),$e[Symbol.asyncIterator]=function(){return this},$e;function un(wt,lt){Oe[wt]&&($e[wt]=function(ft){return new Promise(function(or,wn){Ke.push([wt,ft,or,wn])>1||kn(wt,ft)})},lt&&($e[wt]=lt($e[wt])))}function kn(wt,lt){try{!function Ot(wt){wt.value instanceof He?Promise.resolve(wt.value.v).then(fn,jn):Zn(Ke[0][2],wt)}(Oe[wt](lt))}catch(ft){Zn(Ke[0][3],ft)}}function fn(wt){kn("next",wt)}function jn(wt){kn("throw",wt)}function Zn(wt,lt){wt(lt),Ke.shift(),Ke.length&&kn(Ke[0][0],Ke[0][1])}}function rt(ue){var _e,Ce;return _e={},Oe("next"),Oe("throw",function($e){throw $e}),Oe("return"),_e[Symbol.iterator]=function(){return this},_e;function Oe($e,Ke){_e[$e]=ue[$e]?function(_t){return(Ce=!Ce)?{value:He(ue[$e](_t)),done:!1}:Ke?Ke(_t):_t}:Ke}}function pt(ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ce,_e=ue[Symbol.asyncIterator];return _e?_e.call(ue):(ue=Rt(ue),Ce={},Oe("next"),Oe("throw"),Oe("return"),Ce[Symbol.asyncIterator]=function(){return this},Ce);function Oe(Ke){Ce[Ke]=ue[Ke]&&function(_t){return new Promise(function(un,kn){!function $e(Ke,_t,un,kn){Promise.resolve(kn).then(function(Ot){Ke({value:Ot,done:un})},_t)}(un,kn,(_t=ue[Ke](_t)).done,_t.value)})}}}function Ae(ue,_e){return Object.defineProperty?Object.defineProperty(ue,"raw",{value:_e}):ue.raw=_e,ue}var Xe=Object.create?function(ue,_e){Object.defineProperty(ue,"default",{enumerable:!0,value:_e})}:function(ue,_e){ue.default=_e},Et=function(ue){return(Et=Object.getOwnPropertyNames||function(_e){var Ce=[];for(var Oe in _e)Object.prototype.hasOwnProperty.call(_e,Oe)&&(Ce[Ce.length]=Oe);return Ce})(ue)};function Dt(ue){if(ue&&ue.__esModule)return ue;var _e={};if(null!=ue)for(var Ce=Et(ue),Oe=0;Oe<Ce.length;Oe++)"default"!==Ce[Oe]&&Be(_e,ue,Ce[Oe]);return Xe(_e,ue),_e}function yn(ue){return ue&&ue.__esModule?ue:{default:ue}}function Je(ue,_e,Ce,Oe){if("a"===Ce&&!Oe)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof _e?ue!==_e||!Oe:!_e.has(ue))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===Ce?Oe:"a"===Ce?Oe.call(ue):Oe?Oe.value:_e.get(ue)}function vt(ue,_e,Ce,Oe,$e){if("m"===Oe)throw new TypeError("Private method is not writable");if("a"===Oe&&!$e)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof _e?ue!==_e||!$e:!_e.has(ue))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===Oe?$e.call(ue,Ce):$e?$e.value=Ce:_e.set(ue,Ce),Ce}function st(ue,_e){if(null===_e||"object"!=typeof _e&&"function"!=typeof _e)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof ue?_e===ue:ue.has(_e)}function kt(ue,_e,Ce){if(null!=_e){if("object"!=typeof _e&&"function"!=typeof _e)throw new TypeError("Object expected.");var Oe,$e;if(Ce){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");Oe=_e[Symbol.asyncDispose]}if(void 0===Oe){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");Oe=_e[Symbol.dispose],Ce&&($e=Oe)}if("function"!=typeof Oe)throw new TypeError("Object not disposable.");$e&&(Oe=function(){try{$e.call(this)}catch(Ke){return Promise.reject(Ke)}}),ue.stack.push({value:_e,dispose:Oe,async:Ce})}else Ce&&ue.stack.push({async:!0});return _e}var mr="function"==typeof SuppressedError?SuppressedError:function(ue,_e,Ce){var Oe=new Error(Ce);return Oe.name="SuppressedError",Oe.error=ue,Oe.suppressed=_e,Oe};function ir(ue){function _e(Ke){ue.error=ue.hasError?new mr(Ke,ue.error,"An error was suppressed during disposal."):Ke,ue.hasError=!0}var Ce,Oe=0;return function $e(){for(;Ce=ue.stack.pop();)try{if(!Ce.async&&1===Oe)return Oe=0,ue.stack.push(Ce),Promise.resolve().then($e);if(Ce.dispose){var Ke=Ce.dispose.call(Ce.value);if(Ce.async)return Oe|=2,Promise.resolve(Ke).then($e,function(_t){return _e(_t),$e()})}else Oe|=1}catch(_t){_e(_t)}if(1===Oe)return ue.hasError?Promise.reject(ue.error):Promise.resolve();if(ue.hasError)throw ue.error}()}function Sn(ue,_e){return"string"==typeof ue&&/^\.\.?\//.test(ue)?ue.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(Ce,Oe,$e,Ke,_t){return Oe?_e?".jsx":".js":!$e||Ke&&_t?$e+Ke+"."+_t.toLowerCase()+"js":Ce}):ue}const Vt={__extends:G,__assign:E,__rest:ge,__decorate:re,__param:H,__esDecorate:X,__runInitializers:de,__propKey:ye,__setFunctionName:me,__metadata:oe,__awaiter:Me,__generator:Qe,__createBinding:Be,__exportStar:We,__values:Rt,__read:ht,__spread:Mt,__spreadArrays:ot,__spreadArray:cn,__await:He,__asyncGenerator:Ge,__asyncDelegator:rt,__asyncValues:pt,__makeTemplateObject:Ae,__importStar:Dt,__importDefault:yn,__classPrivateFieldGet:Je,__classPrivateFieldSet:vt,__classPrivateFieldIn:st,__addDisposableResource:kt,__disposeResources:ir,__rewriteRelativeImportExtension:Sn}},9293:at=>{function pe(u,G,E,ge,re,H,X){try{var de=u[H](X),ye=de.value}catch(me){return void E(me)}de.done?G(ye):Promise.resolve(ye).then(ge,re)}at.exports=function F(u){return function(){var G=this,E=arguments;return new Promise(function(ge,re){var H=u.apply(G,E);function X(ye){pe(H,ge,re,X,de,"next",ye)}function de(ye){pe(H,ge,re,X,de,"throw",ye)}X(void 0)})}},at.exports.__esModule=!0,at.exports.default=at.exports},177:(at,pe,F)=>{"use strict";F.d(pe,{AJ:()=>Wr,B3:()=>Tr,Jj:()=>Pi,MD:()=>Lr,N0:()=>jr,P9:()=>Ps,QT:()=>E,Sm:()=>We,Sq:()=>Or,VF:()=>re,Vy:()=>lr,Xr:()=>$n,YU:()=>hr,ZD:()=>ge,_b:()=>Cn,aZ:()=>ht,bT:()=>Pr,fw:()=>Rt,hb:()=>Qe,hj:()=>de,qQ:()=>H,vh:()=>zr});var u=F(6276);let G=null;function E(){return G}function ge(y){G||(G=y)}class re{}const H=new u.nKC("DocumentToken");let X=(()=>{class y{historyGo(S){throw new Error("Not implemented")}static{this.\u0275fac=function(k){return new(k||y)}}static{this.\u0275prov=u.jDH({token:y,factory:function(){return(0,u.WQX)(ye)},providedIn:"platform"})}}return y})();const de=new u.nKC("Location Initialized");let ye=(()=>{class y extends X{constructor(){super(),this._doc=(0,u.WQX)(H),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return E().getBaseHref(this._doc)}onPopState(S){const k=E().getGlobalEventTarget(this._doc,"window");return k.addEventListener("popstate",S,!1),()=>k.removeEventListener("popstate",S)}onHashChange(S){const k=E().getGlobalEventTarget(this._doc,"window");return k.addEventListener("hashchange",S,!1),()=>k.removeEventListener("hashchange",S)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(S){this._location.pathname=S}pushState(S,k,Q){this._history.pushState(S,k,Q)}replaceState(S,k,Q){this._history.replaceState(S,k,Q)}forward(){this._history.forward()}back(){this._history.back()}historyGo(S=0){this._history.go(S)}getState(){return this._history.state}static{this.\u0275fac=function(k){return new(k||y)}}static{this.\u0275prov=u.jDH({token:y,factory:function(){return new y},providedIn:"platform"})}}return y})();function me(y,L){if(0==y.length)return L;if(0==L.length)return y;let S=0;return y.endsWith("/")&&S++,L.startsWith("/")&&S++,2==S?y+L.substring(1):1==S?y+L:y+"/"+L}function oe(y){const L=y.match(/#|\?|$/),S=L&&L.index||y.length;return y.slice(0,S-("/"===y[S-1]?1:0))+y.slice(S)}function Me(y){return y&&"?"!==y[0]?"?"+y:y}let Qe=(()=>{class y{historyGo(S){throw new Error("Not implemented")}static{this.\u0275fac=function(k){return new(k||y)}}static{this.\u0275prov=u.jDH({token:y,factory:function(){return(0,u.WQX)(We)},providedIn:"root"})}}return y})();const Be=new u.nKC("appBaseHref");let We=(()=>{class y extends Qe{constructor(S,k){super(),this._platformLocation=S,this._removeListenerFns=[],this._baseHref=k??this._platformLocation.getBaseHrefFromDOM()??(0,u.WQX)(H).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}prepareExternalUrl(S){return me(this._baseHref,S)}path(S=!1){const k=this._platformLocation.pathname+Me(this._platformLocation.search),Q=this._platformLocation.hash;return Q&&S?`${k}${Q}`:k}pushState(S,k,Q,Ee){const Ie=this.prepareExternalUrl(Q+Me(Ee));this._platformLocation.pushState(S,k,Ie)}replaceState(S,k,Q,Ee){const Ie=this.prepareExternalUrl(Q+Me(Ee));this._platformLocation.replaceState(S,k,Ie)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}static{this.\u0275fac=function(k){return new(k||y)(u.KVO(X),u.KVO(Be,8))}}static{this.\u0275prov=u.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})(),Rt=(()=>{class y extends Qe{constructor(S,k){super(),this._platformLocation=S,this._baseHref="",this._removeListenerFns=[],null!=k&&(this._baseHref=k)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}path(S=!1){let k=this._platformLocation.hash;return null==k&&(k="#"),k.length>0?k.substring(1):k}prepareExternalUrl(S){const k=me(this._baseHref,S);return k.length>0?"#"+k:k}pushState(S,k,Q,Ee){let Ie=this.prepareExternalUrl(Q+Me(Ee));0==Ie.length&&(Ie=this._platformLocation.pathname),this._platformLocation.pushState(S,k,Ie)}replaceState(S,k,Q,Ee){let Ie=this.prepareExternalUrl(Q+Me(Ee));0==Ie.length&&(Ie=this._platformLocation.pathname),this._platformLocation.replaceState(S,k,Ie)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}static{this.\u0275fac=function(k){return new(k||y)(u.KVO(X),u.KVO(Be,8))}}static{this.\u0275prov=u.jDH({token:y,factory:y.\u0275fac})}}return y})(),ht=(()=>{class y{constructor(S){this._subject=new u.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=S;const k=this._locationStrategy.getBaseHref();this._basePath=function He(y){if(new RegExp("^(https?:)?//").test(y)){const[,S]=y.split(/\/\/[^\/]+/);return S}return y}(oe(cn(k))),this._locationStrategy.onPopState(Q=>{this._subject.emit({url:this.path(!0),pop:!0,state:Q.state,type:Q.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(S=!1){return this.normalize(this._locationStrategy.path(S))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(S,k=""){return this.path()==this.normalize(S+Me(k))}normalize(S){return y.stripTrailingSlash(function ot(y,L){if(!y||!L.startsWith(y))return L;const S=L.substring(y.length);return""===S||["/",";","?","#"].includes(S[0])?S:L}(this._basePath,cn(S)))}prepareExternalUrl(S){return S&&"/"!==S[0]&&(S="/"+S),this._locationStrategy.prepareExternalUrl(S)}go(S,k="",Q=null){this._locationStrategy.pushState(Q,"",S,k),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+Me(k)),Q)}replaceState(S,k="",Q=null){this._locationStrategy.replaceState(Q,"",S,k),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+Me(k)),Q)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(S=0){this._locationStrategy.historyGo?.(S)}onUrlChange(S){return this._urlChangeListeners.push(S),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(k=>{this._notifyUrlChangeListeners(k.url,k.state)})),()=>{const k=this._urlChangeListeners.indexOf(S);this._urlChangeListeners.splice(k,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(S="",k){this._urlChangeListeners.forEach(Q=>Q(S,k))}subscribe(S,k,Q){return this._subject.subscribe({next:S,error:k,complete:Q})}static{this.normalizeQueryParams=Me}static{this.joinWithSlash=me}static{this.stripTrailingSlash=oe}static{this.\u0275fac=function(k){return new(k||y)(u.KVO(Qe))}}static{this.\u0275prov=u.jDH({token:y,factory:function(){return function Mt(){return new ht((0,u.KVO)(Qe))}()},providedIn:"root"})}}return y})();function cn(y){return y.replace(/\/index.html$/,"")}var Ae=function(y){return y[y.Format=0]="Format",y[y.Standalone=1]="Standalone",y}(Ae||{}),Xe=function(y){return y[y.Narrow=0]="Narrow",y[y.Abbreviated=1]="Abbreviated",y[y.Wide=2]="Wide",y[y.Short=3]="Short",y}(Xe||{}),Et=function(y){return y[y.Short=0]="Short",y[y.Medium=1]="Medium",y[y.Long=2]="Long",y[y.Full=3]="Full",y}(Et||{}),Dt=function(y){return y[y.Decimal=0]="Decimal",y[y.Group=1]="Group",y[y.List=2]="List",y[y.PercentSign=3]="PercentSign",y[y.PlusSign=4]="PlusSign",y[y.MinusSign=5]="MinusSign",y[y.Exponential=6]="Exponential",y[y.SuperscriptingExponent=7]="SuperscriptingExponent",y[y.PerMille=8]="PerMille",y[y.Infinity=9]="Infinity",y[y.NaN=10]="NaN",y[y.TimeSeparator=11]="TimeSeparator",y[y.CurrencyDecimal=12]="CurrencyDecimal",y[y.CurrencyGroup=13]="CurrencyGroup",y}(Dt||{});function Vt(y,L){return wt((0,u.H5H)(y)[u.KH2.DateFormat],L)}function ue(y,L){return wt((0,u.H5H)(y)[u.KH2.TimeFormat],L)}function _e(y,L){return wt((0,u.H5H)(y)[u.KH2.DateTimeFormat],L)}function Ce(y,L){const S=(0,u.H5H)(y),k=S[u.KH2.NumberSymbols][L];if(typeof k>"u"){if(L===Dt.CurrencyDecimal)return S[u.KH2.NumberSymbols][Dt.Decimal];if(L===Dt.CurrencyGroup)return S[u.KH2.NumberSymbols][Dt.Group]}return k}function Ot(y){if(!y[u.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${y[u.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function wt(y,L){for(let S=L;S>-1;S--)if(typeof y[S]<"u")return y[S];throw new Error("Locale data API: locale data undefined")}function lt(y){const[L,S]=y.split(":");return{hours:+L,minutes:+S}}const Wt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Fr={},vs=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var pn=function(y){return y[y.Short=0]="Short",y[y.ShortGMT=1]="ShortGMT",y[y.Long=2]="Long",y[y.Extended=3]="Extended",y}(pn||{}),Qt=function(y){return y[y.FullYear=0]="FullYear",y[y.Month=1]="Month",y[y.Date=2]="Date",y[y.Hours=3]="Hours",y[y.Minutes=4]="Minutes",y[y.Seconds=5]="Seconds",y[y.FractionalSeconds=6]="FractionalSeconds",y[y.Day=7]="Day",y}(Qt||{}),Kt=function(y){return y[y.DayPeriods=0]="DayPeriods",y[y.Days=1]="Days",y[y.Months=2]="Months",y[y.Eras=3]="Eras",y}(Kt||{});function qn(y,L,S,k){let Q=function Is(y){if(ve(y))return y;if("number"==typeof y&&!isNaN(y))return new Date(y);if("string"==typeof y){if(y=y.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(y)){const[Q,Ee=1,Ie=1]=y.split("-").map(yt=>+yt);return Zt(Q,Ee-1,Ie)}const S=parseFloat(y);if(!isNaN(y-S))return new Date(S);let k;if(k=y.match(Wt))return function xe(y){const L=new Date(0);let S=0,k=0;const Q=y[8]?L.setUTCFullYear:L.setFullYear,Ee=y[8]?L.setUTCHours:L.setHours;y[9]&&(S=Number(y[9]+y[10]),k=Number(y[9]+y[11])),Q.call(L,Number(y[1]),Number(y[2])-1,Number(y[3]));const Ie=Number(y[4]||0)-S,yt=Number(y[5]||0)-k,Rn=Number(y[6]||0),bn=Math.floor(1e3*parseFloat("0."+(y[7]||0)));return Ee.call(L,Ie,yt,Rn,bn),L}(k)}const L=new Date(y);if(!ve(L))throw new Error(`Unable to convert "${y}" into a date`);return L}(y);L=_r(S,L)||L;let yt,Ie=[];for(;L;){if(yt=vs.exec(L),!yt){Ie.push(L);break}{Ie=Ie.concat(yt.slice(1));const nn=Ie.pop();if(!nn)break;L=nn}}let Rn=Q.getTimezoneOffset();k&&(Rn=er(k,Rn),Q=function ws(y,L,S){const k=S?-1:1,Q=y.getTimezoneOffset();return function Ir(y,L){return(y=new Date(y.getTime())).setMinutes(y.getMinutes()+L),y}(y,k*(er(L,Q)-Q))}(Q,k,!0));let bn="";return Ie.forEach(nn=>{const Xt=function bs(y){if(yr[y])return yr[y];let L;switch(y){case"G":case"GG":case"GGG":L=sn(Kt.Eras,Xe.Abbreviated);break;case"GGGG":L=sn(Kt.Eras,Xe.Wide);break;case"GGGGG":L=sn(Kt.Eras,Xe.Narrow);break;case"y":L=gt(Qt.FullYear,1,0,!1,!0);break;case"yy":L=gt(Qt.FullYear,2,0,!0,!0);break;case"yyy":L=gt(Qt.FullYear,3,0,!1,!0);break;case"yyyy":L=gt(Qt.FullYear,4,0,!1,!0);break;case"Y":L=ar(1);break;case"YY":L=ar(2,!0);break;case"YYY":L=ar(3);break;case"YYYY":L=ar(4);break;case"M":case"L":L=gt(Qt.Month,1,1);break;case"MM":case"LL":L=gt(Qt.Month,2,1);break;case"MMM":L=sn(Kt.Months,Xe.Abbreviated);break;case"MMMM":L=sn(Kt.Months,Xe.Wide);break;case"MMMMM":L=sn(Kt.Months,Xe.Narrow);break;case"LLL":L=sn(Kt.Months,Xe.Abbreviated,Ae.Standalone);break;case"LLLL":L=sn(Kt.Months,Xe.Wide,Ae.Standalone);break;case"LLLLL":L=sn(Kt.Months,Xe.Narrow,Ae.Standalone);break;case"w":L=xt(1);break;case"ww":L=xt(2);break;case"W":L=xt(1,!0);break;case"d":L=gt(Qt.Date,1);break;case"dd":L=gt(Qt.Date,2);break;case"c":case"cc":L=gt(Qt.Day,1);break;case"ccc":L=sn(Kt.Days,Xe.Abbreviated,Ae.Standalone);break;case"cccc":L=sn(Kt.Days,Xe.Wide,Ae.Standalone);break;case"ccccc":L=sn(Kt.Days,Xe.Narrow,Ae.Standalone);break;case"cccccc":L=sn(Kt.Days,Xe.Short,Ae.Standalone);break;case"E":case"EE":case"EEE":L=sn(Kt.Days,Xe.Abbreviated);break;case"EEEE":L=sn(Kt.Days,Xe.Wide);break;case"EEEEE":L=sn(Kt.Days,Xe.Narrow);break;case"EEEEEE":L=sn(Kt.Days,Xe.Short);break;case"a":case"aa":case"aaa":L=sn(Kt.DayPeriods,Xe.Abbreviated);break;case"aaaa":L=sn(Kt.DayPeriods,Xe.Wide);break;case"aaaaa":L=sn(Kt.DayPeriods,Xe.Narrow);break;case"b":case"bb":case"bbb":L=sn(Kt.DayPeriods,Xe.Abbreviated,Ae.Standalone,!0);break;case"bbbb":L=sn(Kt.DayPeriods,Xe.Wide,Ae.Standalone,!0);break;case"bbbbb":L=sn(Kt.DayPeriods,Xe.Narrow,Ae.Standalone,!0);break;case"B":case"BB":case"BBB":L=sn(Kt.DayPeriods,Xe.Abbreviated,Ae.Format,!0);break;case"BBBB":L=sn(Kt.DayPeriods,Xe.Wide,Ae.Format,!0);break;case"BBBBB":L=sn(Kt.DayPeriods,Xe.Narrow,Ae.Format,!0);break;case"h":L=gt(Qt.Hours,1,-12);break;case"hh":L=gt(Qt.Hours,2,-12);break;case"H":L=gt(Qt.Hours,1);break;case"HH":L=gt(Qt.Hours,2);break;case"m":L=gt(Qt.Minutes,1);break;case"mm":L=gt(Qt.Minutes,2);break;case"s":L=gt(Qt.Seconds,1);break;case"ss":L=gt(Qt.Seconds,2);break;case"S":L=gt(Qt.FractionalSeconds,1);break;case"SS":L=gt(Qt.FractionalSeconds,2);break;case"SSS":L=gt(Qt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":L=Dr(pn.Short);break;case"ZZZZZ":L=Dr(pn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":L=Dr(pn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":L=Dr(pn.Long);break;default:return null}return yr[y]=L,L}(nn);bn+=Xt?Xt(Q,S,Rn):"''"===nn?"'":nn.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),bn}function Zt(y,L,S){const k=new Date(0);return k.setFullYear(y,L,S),k.setHours(0,0,0),k}function _r(y,L){const S=function Je(y){return(0,u.H5H)(y)[u.KH2.LocaleId]}(y);if(Fr[S]=Fr[S]||{},Fr[S][L])return Fr[S][L];let k="";switch(L){case"shortDate":k=Vt(y,Et.Short);break;case"mediumDate":k=Vt(y,Et.Medium);break;case"longDate":k=Vt(y,Et.Long);break;case"fullDate":k=Vt(y,Et.Full);break;case"shortTime":k=ue(y,Et.Short);break;case"mediumTime":k=ue(y,Et.Medium);break;case"longTime":k=ue(y,Et.Long);break;case"fullTime":k=ue(y,Et.Full);break;case"short":const Q=_r(y,"shortTime"),Ee=_r(y,"shortDate");k=Er(_e(y,Et.Short),[Q,Ee]);break;case"medium":const Ie=_r(y,"mediumTime"),yt=_r(y,"mediumDate");k=Er(_e(y,Et.Medium),[Ie,yt]);break;case"long":const Rn=_r(y,"longTime"),bn=_r(y,"longDate");k=Er(_e(y,Et.Long),[Rn,bn]);break;case"full":const nn=_r(y,"fullTime"),Xt=_r(y,"fullDate");k=Er(_e(y,Et.Full),[nn,Xt])}return k&&(Fr[S][L]=k),k}function Er(y,L){return L&&(y=y.replace(/\{([^}]+)}/g,function(S,k){return null!=L&&k in L?L[k]:S})),y}function xn(y,L,S="-",k,Q){let Ee="";(y<0||Q&&y<=0)&&(Q?y=1-y:(y=-y,Ee=S));let Ie=String(y);for(;Ie.length<L;)Ie="0"+Ie;return k&&(Ie=Ie.slice(Ie.length-L)),Ee+Ie}function gt(y,L,S=0,k=!1,Q=!1){return function(Ee,Ie){let yt=function ls(y,L){switch(y){case Qt.FullYear:return L.getFullYear();case Qt.Month:return L.getMonth();case Qt.Date:return L.getDate();case Qt.Hours:return L.getHours();case Qt.Minutes:return L.getMinutes();case Qt.Seconds:return L.getSeconds();case Qt.FractionalSeconds:return L.getMilliseconds();case Qt.Day:return L.getDay();default:throw new Error(`Unknown DateType value "${y}".`)}}(y,Ee);if((S>0||yt>-S)&&(yt+=S),y===Qt.Hours)0===yt&&-12===S&&(yt=12);else if(y===Qt.FractionalSeconds)return function _s(y,L){return xn(y,3).substring(0,L)}(yt,L);const Rn=Ce(Ie,Dt.MinusSign);return xn(yt,L,Rn,k,Q)}}function sn(y,L,S=Ae.Format,k=!1){return function(Q,Ee){return function on(y,L,S,k,Q,Ee){switch(S){case Kt.Months:return function kt(y,L,S){const k=(0,u.H5H)(y),Ee=wt([k[u.KH2.MonthsFormat],k[u.KH2.MonthsStandalone]],L);return wt(Ee,S)}(L,Q,k)[y.getMonth()];case Kt.Days:return function st(y,L,S){const k=(0,u.H5H)(y),Ee=wt([k[u.KH2.DaysFormat],k[u.KH2.DaysStandalone]],L);return wt(Ee,S)}(L,Q,k)[y.getDay()];case Kt.DayPeriods:const Ie=y.getHours(),yt=y.getMinutes();if(Ee){const bn=function fn(y){const L=(0,u.H5H)(y);return Ot(L),(L[u.KH2.ExtraData][2]||[]).map(k=>"string"==typeof k?lt(k):[lt(k[0]),lt(k[1])])}(L),nn=function jn(y,L,S){const k=(0,u.H5H)(y);Ot(k);const Ee=wt([k[u.KH2.ExtraData][0],k[u.KH2.ExtraData][1]],L)||[];return wt(Ee,S)||[]}(L,Q,k),Xt=bn.findIndex(nr=>{if(Array.isArray(nr)){const[Nn,fr]=nr,ns=Ie>=Nn.hours&&yt>=Nn.minutes,rs=Ie<fr.hours||Ie===fr.hours&&yt<fr.minutes;if(Nn.hours<fr.hours){if(ns&&rs)return!0}else if(ns||rs)return!0}else if(nr.hours===Ie&&nr.minutes===yt)return!0;return!1});if(-1!==Xt)return nn[Xt]}return function vt(y,L,S){const k=(0,u.H5H)(y),Ee=wt([k[u.KH2.DayPeriodsFormat],k[u.KH2.DayPeriodsStandalone]],L);return wt(Ee,S)}(L,Q,k)[Ie<12?0:1];case Kt.Eras:return function mr(y,L){return wt((0,u.H5H)(y)[u.KH2.Eras],L)}(L,k)[y.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${S}`)}}(Q,Ee,y,L,S,k)}}function Dr(y){return function(L,S,k){const Q=-1*k,Ee=Ce(S,Dt.MinusSign),Ie=Q>0?Math.floor(Q/60):Math.ceil(Q/60);switch(y){case pn.Short:return(Q>=0?"+":"")+xn(Ie,2,Ee)+xn(Math.abs(Q%60),2,Ee);case pn.ShortGMT:return"GMT"+(Q>=0?"+":"")+xn(Ie,1,Ee);case pn.Long:return"GMT"+(Q>=0?"+":"")+xn(Ie,2,Ee)+":"+xn(Math.abs(Q%60),2,Ee);case pn.Extended:return 0===k?"Z":(Q>=0?"+":"")+xn(Ie,2,Ee)+":"+xn(Math.abs(Q%60),2,Ee);default:throw new Error(`Unknown zone width "${y}"`)}}}const dn=0,en=4;function Mn(y){return Zt(y.getFullYear(),y.getMonth(),y.getDate()+(en-y.getDay()))}function xt(y,L=!1){return function(S,k){let Q;if(L){const Ee=new Date(S.getFullYear(),S.getMonth(),1).getDay()-1,Ie=S.getDate();Q=1+Math.floor((Ie+Ee)/7)}else{const Ee=Mn(S),Ie=function us(y){const L=Zt(y,dn,1).getDay();return Zt(y,0,1+(L<=en?en:en+7)-L)}(Ee.getFullYear()),yt=Ee.getTime()-Ie.getTime();Q=1+Math.round(yt/6048e5)}return xn(Q,y,Ce(k,Dt.MinusSign))}}function ar(y,L=!1){return function(S,k){return xn(Mn(S).getFullYear(),y,Ce(k,Dt.MinusSign),L)}}const yr={};function er(y,L){y=y.replace(/:/g,"");const S=Date.parse("Jan 01, 1970 00:00:00 "+y)/6e4;return isNaN(S)?L:S}function ve(y){return y instanceof Date&&!isNaN(y.valueOf())}function Cn(y,L){L=encodeURIComponent(L);for(const S of y.split(";")){const k=S.indexOf("="),[Q,Ee]=-1==k?[S,""]:[S.slice(0,k),S.slice(k+1)];if(Q.trim()===L)return decodeURIComponent(Ee)}return null}const An=/\s+/,br=[];let hr=(()=>{class y{constructor(S,k,Q,Ee){this._iterableDiffers=S,this._keyValueDiffers=k,this._ngEl=Q,this._renderer=Ee,this.initialClasses=br,this.stateMap=new Map}set klass(S){this.initialClasses=null!=S?S.trim().split(An):br}set ngClass(S){this.rawClass="string"==typeof S?S.trim().split(An):S}ngDoCheck(){for(const k of this.initialClasses)this._updateState(k,!0);const S=this.rawClass;if(Array.isArray(S)||S instanceof Set)for(const k of S)this._updateState(k,!0);else if(null!=S)for(const k of Object.keys(S))this._updateState(k,!!S[k]);this._applyStateDiff()}_updateState(S,k){const Q=this.stateMap.get(S);void 0!==Q?(Q.enabled!==k&&(Q.changed=!0,Q.enabled=k),Q.touched=!0):this.stateMap.set(S,{enabled:k,changed:!0,touched:!0})}_applyStateDiff(){for(const S of this.stateMap){const k=S[0],Q=S[1];Q.changed?(this._toggleClass(k,Q.enabled),Q.changed=!1):Q.touched||(Q.enabled&&this._toggleClass(k,!1),this.stateMap.delete(k)),Q.touched=!1}}_toggleClass(S,k){(S=S.trim()).length>0&&S.split(An).forEach(Q=>{k?this._renderer.addClass(this._ngEl.nativeElement,Q):this._renderer.removeClass(this._ngEl.nativeElement,Q)})}static{this.\u0275fac=function(k){return new(k||y)(u.rXU(u._q3),u.rXU(u.MKu),u.rXU(u.aKT),u.rXU(u.sFG))}}static{this.\u0275dir=u.FsC({type:y,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return y})();class Hr{constructor(L,S,k,Q){this.$implicit=L,this.ngForOf=S,this.index=k,this.count=Q}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Or=(()=>{class y{set ngForOf(S){this._ngForOf=S,this._ngForOfDirty=!0}set ngForTrackBy(S){this._trackByFn=S}get ngForTrackBy(){return this._trackByFn}constructor(S,k,Q){this._viewContainer=S,this._template=k,this._differs=Q,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(S){S&&(this._template=S)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const S=this._ngForOf;!this._differ&&S&&(this._differ=this._differs.find(S).create(this.ngForTrackBy))}if(this._differ){const S=this._differ.diff(this._ngForOf);S&&this._applyChanges(S)}}_applyChanges(S){const k=this._viewContainer;S.forEachOperation((Q,Ee,Ie)=>{if(null==Q.previousIndex)k.createEmbeddedView(this._template,new Hr(Q.item,this._ngForOf,-1,-1),null===Ie?void 0:Ie);else if(null==Ie)k.remove(null===Ee?void 0:Ee);else if(null!==Ee){const yt=k.get(Ee);k.move(yt,Ie),gn(yt,Q)}});for(let Q=0,Ee=k.length;Q<Ee;Q++){const yt=k.get(Q).context;yt.index=Q,yt.count=Ee,yt.ngForOf=this._ngForOf}S.forEachIdentityChange(Q=>{gn(k.get(Q.currentIndex),Q)})}static ngTemplateContextGuard(S,k){return!0}static{this.\u0275fac=function(k){return new(k||y)(u.rXU(u.c1b),u.rXU(u.C4Q),u.rXU(u._q3))}}static{this.\u0275dir=u.FsC({type:y,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return y})();function gn(y,L){y.context.$implicit=L.item}let Pr=(()=>{class y{constructor(S,k){this._viewContainer=S,this._context=new ii,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=k}set ngIf(S){this._context.$implicit=this._context.ngIf=S,this._updateView()}set ngIfThen(S){oi("ngIfThen",S),this._thenTemplateRef=S,this._thenViewRef=null,this._updateView()}set ngIfElse(S){oi("ngIfElse",S),this._elseTemplateRef=S,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(S,k){return!0}static{this.\u0275fac=function(k){return new(k||y)(u.rXU(u.c1b),u.rXU(u.C4Q))}}static{this.\u0275dir=u.FsC({type:y,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return y})();class ii{constructor(){this.$implicit=null,this.ngIf=null}}function oi(y,L){if(L&&!L.createEmbeddedView)throw new Error(`${y} must be a TemplateRef, but received '${(0,u.Tbb)(L)}'.`)}let Tr=(()=>{class y{constructor(S,k,Q){this._ngEl=S,this._differs=k,this._renderer=Q,this._ngStyle=null,this._differ=null}set ngStyle(S){this._ngStyle=S,!this._differ&&S&&(this._differ=this._differs.find(S).create())}ngDoCheck(){if(this._differ){const S=this._differ.diff(this._ngStyle);S&&this._applyChanges(S)}}_setStyle(S,k){const[Q,Ee]=S.split("."),Ie=-1===Q.indexOf("-")?void 0:u.czy.DashCase;null!=k?this._renderer.setStyle(this._ngEl.nativeElement,Q,Ee?`${k}${Ee}`:k,Ie):this._renderer.removeStyle(this._ngEl.nativeElement,Q,Ie)}_applyChanges(S){S.forEachRemovedItem(k=>this._setStyle(k.key,null)),S.forEachAddedItem(k=>this._setStyle(k.key,k.currentValue)),S.forEachChangedItem(k=>this._setStyle(k.key,k.currentValue))}static{this.\u0275fac=function(k){return new(k||y)(u.rXU(u.aKT),u.rXU(u.MKu),u.rXU(u.sFG))}}static{this.\u0275dir=u.FsC({type:y,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return y})();function Un(y,L){return new u.wOt(2100,!1)}class Ki{createSubscription(L,S){return(0,u.O8t)(()=>L.subscribe({next:S,error:k=>{throw k}}))}dispose(L){(0,u.O8t)(()=>L.unsubscribe())}}class vi{createSubscription(L,S){return L.then(S,k=>{throw k})}dispose(L){}}const Ii=new vi,Oi=new Ki;let Pi=(()=>{class y{constructor(S){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=S}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(S){return this._obj?S!==this._obj?(this._dispose(),this.transform(S)):this._latestValue:(S&&this._subscribe(S),this._latestValue)}_subscribe(S){this._obj=S,this._strategy=this._selectStrategy(S),this._subscription=this._strategy.createSubscription(S,k=>this._updateLatestValue(S,k))}_selectStrategy(S){if((0,u.jNT)(S))return Ii;if((0,u.zjR)(S))return Oi;throw Un()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(S,k){S===this._obj&&(this._latestValue=k,this._ref.markForCheck())}static{this.\u0275fac=function(k){return new(k||y)(u.rXU(u.gRc,16))}}static{this.\u0275pipe=u.EJ8({name:"async",type:y,pure:!1,standalone:!0})}}return y})();const Os=new u.nKC("DATE_PIPE_DEFAULT_TIMEZONE"),qr=new u.nKC("DATE_PIPE_DEFAULT_OPTIONS");let zr=(()=>{class y{constructor(S,k,Q){this.locale=S,this.defaultTimezone=k,this.defaultOptions=Q}transform(S,k,Q,Ee){if(null==S||""===S||S!=S)return null;try{return qn(S,k??this.defaultOptions?.dateFormat??"mediumDate",Ee||this.locale,Q??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Ie){throw Un()}}static{this.\u0275fac=function(k){return new(k||y)(u.rXU(u.xe9,16),u.rXU(Os,24),u.rXU(qr,24))}}static{this.\u0275pipe=u.EJ8({name:"date",type:y,pure:!0,standalone:!0})}}return y})(),Ps=(()=>{class y{transform(S,k,Q){if(null==S)return null;if(!this.supports(S))throw Un();return S.slice(k,Q)}supports(S){return"string"==typeof S||Array.isArray(S)}static{this.\u0275fac=function(k){return new(k||y)}}static{this.\u0275pipe=u.EJ8({name:"slice",type:y,pure:!1,standalone:!0})}}return y})(),Lr=(()=>{class y{static{this.\u0275fac=function(k){return new(k||y)}}static{this.\u0275mod=u.$C({type:y})}static{this.\u0275inj=u.G2t({})}}return y})();const Wr="browser",tn="server";function lr(y){return y===tn}let $n=(()=>{class y{static{this.\u0275prov=(0,u.jDH)({token:y,providedIn:"root",factory:()=>new wr((0,u.KVO)(H),window)})}}return y})();class wr{constructor(L,S){this.document=L,this.window=S,this.offset=()=>[0,0]}setOffset(L){this.offset=Array.isArray(L)?()=>L:L}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(L){this.supportsScrolling()&&this.window.scrollTo(L[0],L[1])}scrollToAnchor(L){if(!this.supportsScrolling())return;const S=function Rs(y,L){const S=y.getElementById(L)||y.getElementsByName(L)[0];if(S)return S;if("function"==typeof y.createTreeWalker&&y.body&&"function"==typeof y.body.attachShadow){const k=y.createTreeWalker(y.body,NodeFilter.SHOW_ELEMENT);let Q=k.currentNode;for(;Q;){const Ee=Q.shadowRoot;if(Ee){const Ie=Ee.getElementById(L)||Ee.querySelector(`[name="${L}"]`);if(Ie)return Ie}Q=k.nextNode()}}return null}(this.document,L);S&&(this.scrollToElement(S),S.focus())}setHistoryScrollRestoration(L){this.supportsScrolling()&&(this.window.history.scrollRestoration=L)}scrollToElement(L){const S=L.getBoundingClientRect(),k=S.left+this.window.pageXOffset,Q=S.top+this.window.pageYOffset,Ee=this.offset();this.window.scrollTo(k-Ee[0],Q-Ee[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class jr{}},1626:(at,pe,F)=>{"use strict";F.d(pe,{$R:()=>yr,$m:()=>Sr,Lr:()=>We,Nl:()=>rt,Qq:()=>ue,q1:()=>Te});var u=F(6276),G=F(7673),E=F(6648),ge=F(1985),re=F(274),H=F(5964),X=F(6354),de=F(980),ye=F(5558),me=F(8141),oe=F(1594),Me=F(177);class Qe{}class Be{}class We{constructor(ee){this.normalizedNames=new Map,this.lazyUpdate=null,ee?"string"==typeof ee?this.lazyInit=()=>{this.headers=new Map,ee.split("\n").forEach(te=>{const ke=te.indexOf(":");if(ke>0){const Fe=te.slice(0,ke),Ye=Fe.toLowerCase(),Le=te.slice(ke+1).trim();this.maybeSetNormalizedName(Fe,Ye),this.headers.has(Ye)?this.headers.get(Ye).push(Le):this.headers.set(Ye,[Le])}})}:typeof Headers<"u"&&ee instanceof Headers?(this.headers=new Map,ee.forEach((te,ke)=>{this.setHeaderEntries(ke,te)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(ee).forEach(([te,ke])=>{this.setHeaderEntries(te,ke)})}:this.headers=new Map}has(ee){return this.init(),this.headers.has(ee.toLowerCase())}get(ee){this.init();const te=this.headers.get(ee.toLowerCase());return te&&te.length>0?te[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ee){return this.init(),this.headers.get(ee.toLowerCase())||null}append(ee,te){return this.clone({name:ee,value:te,op:"a"})}set(ee,te){return this.clone({name:ee,value:te,op:"s"})}delete(ee,te){return this.clone({name:ee,value:te,op:"d"})}maybeSetNormalizedName(ee,te){this.normalizedNames.has(te)||this.normalizedNames.set(te,ee)}init(){this.lazyInit&&(this.lazyInit instanceof We?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ee=>this.applyUpdate(ee)),this.lazyUpdate=null))}copyFrom(ee){ee.init(),Array.from(ee.headers.keys()).forEach(te=>{this.headers.set(te,ee.headers.get(te)),this.normalizedNames.set(te,ee.normalizedNames.get(te))})}clone(ee){const te=new We;return te.lazyInit=this.lazyInit&&this.lazyInit instanceof We?this.lazyInit:this,te.lazyUpdate=(this.lazyUpdate||[]).concat([ee]),te}applyUpdate(ee){const te=ee.name.toLowerCase();switch(ee.op){case"a":case"s":let ke=ee.value;if("string"==typeof ke&&(ke=[ke]),0===ke.length)return;this.maybeSetNormalizedName(ee.name,te);const Fe=("a"===ee.op?this.headers.get(te):void 0)||[];Fe.push(...ke),this.headers.set(te,Fe);break;case"d":const Ye=ee.value;if(Ye){let Le=this.headers.get(te);if(!Le)return;Le=Le.filter(qt=>-1===Ye.indexOf(qt)),0===Le.length?(this.headers.delete(te),this.normalizedNames.delete(te)):this.headers.set(te,Le)}else this.headers.delete(te),this.normalizedNames.delete(te)}}setHeaderEntries(ee,te){const ke=(Array.isArray(te)?te:[te]).map(Ye=>Ye.toString()),Fe=ee.toLowerCase();this.headers.set(Fe,ke),this.maybeSetNormalizedName(ee,Fe)}forEach(ee){this.init(),Array.from(this.normalizedNames.keys()).forEach(te=>ee(this.normalizedNames.get(te),this.headers.get(te)))}}class ht{encodeKey(ee){return He(ee)}encodeValue(ee){return He(ee)}decodeKey(ee){return decodeURIComponent(ee)}decodeValue(ee){return decodeURIComponent(ee)}}const ot=/%(\d[a-f0-9])/gi,cn={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function He(le){return encodeURIComponent(le).replace(ot,(ee,te)=>cn[te]??ee)}function Ge(le){return`${le}`}class rt{constructor(ee={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ee.encoder||new ht,ee.fromString){if(ee.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Mt(le,ee){const te=new Map;return le.length>0&&le.replace(/^\?/,"").split("&").forEach(Fe=>{const Ye=Fe.indexOf("="),[Le,qt]=-1==Ye?[ee.decodeKey(Fe),""]:[ee.decodeKey(Fe.slice(0,Ye)),ee.decodeValue(Fe.slice(Ye+1))],Nt=te.get(Le)||[];Nt.push(qt),te.set(Le,Nt)}),te}(ee.fromString,this.encoder)}else ee.fromObject?(this.map=new Map,Object.keys(ee.fromObject).forEach(te=>{const ke=ee.fromObject[te],Fe=Array.isArray(ke)?ke.map(Ge):[Ge(ke)];this.map.set(te,Fe)})):this.map=null}has(ee){return this.init(),this.map.has(ee)}get(ee){this.init();const te=this.map.get(ee);return te?te[0]:null}getAll(ee){return this.init(),this.map.get(ee)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ee,te){return this.clone({param:ee,value:te,op:"a"})}appendAll(ee){const te=[];return Object.keys(ee).forEach(ke=>{const Fe=ee[ke];Array.isArray(Fe)?Fe.forEach(Ye=>{te.push({param:ke,value:Ye,op:"a"})}):te.push({param:ke,value:Fe,op:"a"})}),this.clone(te)}set(ee,te){return this.clone({param:ee,value:te,op:"s"})}delete(ee,te){return this.clone({param:ee,value:te,op:"d"})}toString(){return this.init(),this.keys().map(ee=>{const te=this.encoder.encodeKey(ee);return this.map.get(ee).map(ke=>te+"="+this.encoder.encodeValue(ke)).join("&")}).filter(ee=>""!==ee).join("&")}clone(ee){const te=new rt({encoder:this.encoder});return te.cloneFrom=this.cloneFrom||this,te.updates=(this.updates||[]).concat(ee),te}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ee=>this.map.set(ee,this.cloneFrom.map.get(ee))),this.updates.forEach(ee=>{switch(ee.op){case"a":case"s":const te=("a"===ee.op?this.map.get(ee.param):void 0)||[];te.push(Ge(ee.value)),this.map.set(ee.param,te);break;case"d":if(void 0===ee.value){this.map.delete(ee.param);break}{let ke=this.map.get(ee.param)||[];const Fe=ke.indexOf(Ge(ee.value));-1!==Fe&&ke.splice(Fe,1),ke.length>0?this.map.set(ee.param,ke):this.map.delete(ee.param)}}}),this.cloneFrom=this.updates=null)}}class Ae{constructor(){this.map=new Map}set(ee,te){return this.map.set(ee,te),this}get(ee){return this.map.has(ee)||this.map.set(ee,ee.defaultValue()),this.map.get(ee)}delete(ee){return this.map.delete(ee),this}has(ee){return this.map.has(ee)}keys(){return this.map.keys()}}function Et(le){return typeof ArrayBuffer<"u"&&le instanceof ArrayBuffer}function Dt(le){return typeof Blob<"u"&&le instanceof Blob}function yn(le){return typeof FormData<"u"&&le instanceof FormData}class vt{constructor(ee,te,ke,Fe){let Ye;if(this.url=te,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ee.toUpperCase(),function Xe(le){switch(le){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Fe?(this.body=void 0!==ke?ke:null,Ye=Fe):Ye=ke,Ye&&(this.reportProgress=!!Ye.reportProgress,this.withCredentials=!!Ye.withCredentials,Ye.responseType&&(this.responseType=Ye.responseType),Ye.headers&&(this.headers=Ye.headers),Ye.context&&(this.context=Ye.context),Ye.params&&(this.params=Ye.params)),this.headers||(this.headers=new We),this.context||(this.context=new Ae),this.params){const Le=this.params.toString();if(0===Le.length)this.urlWithParams=te;else{const qt=te.indexOf("?");this.urlWithParams=te+(-1===qt?"?":qt<te.length-1?"&":"")+Le}}else this.params=new rt,this.urlWithParams=te}serializeBody(){return null===this.body?null:Et(this.body)||Dt(this.body)||yn(this.body)||function Je(le){return typeof URLSearchParams<"u"&&le instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof rt?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||yn(this.body)?null:Dt(this.body)?this.body.type||null:Et(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof rt?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ee={}){const te=ee.method||this.method,ke=ee.url||this.url,Fe=ee.responseType||this.responseType,Ye=void 0!==ee.body?ee.body:this.body,Le=void 0!==ee.withCredentials?ee.withCredentials:this.withCredentials,qt=void 0!==ee.reportProgress?ee.reportProgress:this.reportProgress;let Nt=ee.headers||this.headers,dr=ee.params||this.params;const Mr=ee.context??this.context;return void 0!==ee.setHeaders&&(Nt=Object.keys(ee.setHeaders).reduce((Cn,An)=>Cn.set(An,ee.setHeaders[An]),Nt)),ee.setParams&&(dr=Object.keys(ee.setParams).reduce((Cn,An)=>Cn.set(An,ee.setParams[An]),dr)),new vt(te,ke,Ye,{params:dr,headers:Nt,context:Mr,reportProgress:qt,responseType:Fe,withCredentials:Le})}}var st=function(le){return le[le.Sent=0]="Sent",le[le.UploadProgress=1]="UploadProgress",le[le.ResponseHeader=2]="ResponseHeader",le[le.DownloadProgress=3]="DownloadProgress",le[le.Response=4]="Response",le[le.User=5]="User",le}(st||{});class kt{constructor(ee,te=200,ke="OK"){this.headers=ee.headers||new We,this.status=void 0!==ee.status?ee.status:te,this.statusText=ee.statusText||ke,this.url=ee.url||null,this.ok=this.status>=200&&this.status<300}}class mr extends kt{constructor(ee={}){super(ee),this.type=st.ResponseHeader}clone(ee={}){return new mr({headers:ee.headers||this.headers,status:void 0!==ee.status?ee.status:this.status,statusText:ee.statusText||this.statusText,url:ee.url||this.url||void 0})}}class ir extends kt{constructor(ee={}){super(ee),this.type=st.Response,this.body=void 0!==ee.body?ee.body:null}clone(ee={}){return new ir({body:void 0!==ee.body?ee.body:this.body,headers:ee.headers||this.headers,status:void 0!==ee.status?ee.status:this.status,statusText:ee.statusText||this.statusText,url:ee.url||this.url||void 0})}}class Sn extends kt{constructor(ee){super(ee,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ee.url||"(unknown url)"}`:`Http failure response for ${ee.url||"(unknown url)"}: ${ee.status} ${ee.statusText}`,this.error=ee.error||null}}function Vt(le,ee){return{body:ee,headers:le.headers,context:le.context,observe:le.observe,params:le.params,reportProgress:le.reportProgress,responseType:le.responseType,withCredentials:le.withCredentials}}let ue=(()=>{class le{constructor(te){this.handler=te}request(te,ke,Fe={}){let Ye;if(te instanceof vt)Ye=te;else{let Nt,dr;Nt=Fe.headers instanceof We?Fe.headers:new We(Fe.headers),Fe.params&&(dr=Fe.params instanceof rt?Fe.params:new rt({fromObject:Fe.params})),Ye=new vt(te,ke,void 0!==Fe.body?Fe.body:null,{headers:Nt,context:Fe.context,params:dr,reportProgress:Fe.reportProgress,responseType:Fe.responseType||"json",withCredentials:Fe.withCredentials})}const Le=(0,G.of)(Ye).pipe((0,re.H)(Nt=>this.handler.handle(Nt)));if(te instanceof vt||"events"===Fe.observe)return Le;const qt=Le.pipe((0,H.p)(Nt=>Nt instanceof ir));switch(Fe.observe||"body"){case"body":switch(Ye.responseType){case"arraybuffer":return qt.pipe((0,X.T)(Nt=>{if(null!==Nt.body&&!(Nt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Nt.body}));case"blob":return qt.pipe((0,X.T)(Nt=>{if(null!==Nt.body&&!(Nt.body instanceof Blob))throw new Error("Response is not a Blob.");return Nt.body}));case"text":return qt.pipe((0,X.T)(Nt=>{if(null!==Nt.body&&"string"!=typeof Nt.body)throw new Error("Response is not a string.");return Nt.body}));default:return qt.pipe((0,X.T)(Nt=>Nt.body))}case"response":return qt;default:throw new Error(`Unreachable: unhandled observe type ${Fe.observe}}`)}}delete(te,ke={}){return this.request("DELETE",te,ke)}get(te,ke={}){return this.request("GET",te,ke)}head(te,ke={}){return this.request("HEAD",te,ke)}jsonp(te,ke){return this.request("JSONP",te,{params:(new rt).append(ke,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(te,ke={}){return this.request("OPTIONS",te,ke)}patch(te,ke,Fe={}){return this.request("PATCH",te,Vt(Fe,ke))}post(te,ke,Fe={}){return this.request("POST",te,Vt(Fe,ke))}put(te,ke,Fe={}){return this.request("PUT",te,Vt(Fe,ke))}static{this.\u0275fac=function(ke){return new(ke||le)(u.KVO(Qe))}}static{this.\u0275prov=u.jDH({token:le,factory:le.\u0275fac})}}return le})();function kn(le,ee){return ee(le)}function Ot(le,ee){return(te,ke)=>ee.intercept(te,{handle:Fe=>le(Fe,ke)})}const jn=new u.nKC(""),Zn=new u.nKC(""),wt=new u.nKC("");function lt(){let le=null;return(ee,te)=>{null===le&&(le=((0,u.WQX)(jn,{optional:!0})??[]).reduceRight(Ot,kn));const ke=(0,u.WQX)(u.$K3),Fe=ke.add();return le(ee,te).pipe((0,de.j)(()=>ke.remove(Fe)))}}let ft=(()=>{class le extends Qe{constructor(te,ke){super(),this.backend=te,this.injector=ke,this.chain=null,this.pendingTasks=(0,u.WQX)(u.$K3)}handle(te){if(null===this.chain){const Fe=Array.from(new Set([...this.injector.get(Zn),...this.injector.get(wt,[])]));this.chain=Fe.reduceRight((Ye,Le)=>function fn(le,ee,te){return(ke,Fe)=>te.runInContext(()=>ee(ke,Ye=>le(Ye,Fe)))}(Ye,Le,this.injector),kn)}const ke=this.pendingTasks.add();return this.chain(te,Fe=>this.backend.handle(Fe)).pipe((0,de.j)(()=>this.pendingTasks.remove(ke)))}static{this.\u0275fac=function(ke){return new(ke||le)(u.KVO(Be),u.KVO(u.uvJ))}}static{this.\u0275prov=u.jDH({token:le,factory:le.\u0275fac})}}return le})();const Er=/^\)\]\}',?\n/;let _s=(()=>{class le{constructor(te){this.xhrFactory=te}handle(te){if("JSONP"===te.method)throw new u.wOt(-2800,!1);const ke=this.xhrFactory;return(ke.\u0275loadImpl?(0,E.H)(ke.\u0275loadImpl()):(0,G.of)(null)).pipe((0,ye.n)(()=>new ge.c(Ye=>{const Le=ke.build();if(Le.open(te.method,te.urlWithParams),te.withCredentials&&(Le.withCredentials=!0),te.headers.forEach((mt,vn)=>Le.setRequestHeader(mt,vn.join(","))),te.headers.has("Accept")||Le.setRequestHeader("Accept","application/json, text/plain, */*"),!te.headers.has("Content-Type")){const mt=te.detectContentTypeHeader();null!==mt&&Le.setRequestHeader("Content-Type",mt)}if(te.responseType){const mt=te.responseType.toLowerCase();Le.responseType="json"!==mt?mt:"text"}const qt=te.serializeBody();let Nt=null;const dr=()=>{if(null!==Nt)return Nt;const mt=Le.statusText||"OK",vn=new We(Le.getAllResponseHeaders()),Hr=function xn(le){return"responseURL"in le&&le.responseURL?le.responseURL:/^X-Request-URL:/m.test(le.getAllResponseHeaders())?le.getResponseHeader("X-Request-URL"):null}(Le)||te.url;return Nt=new mr({headers:vn,status:Le.status,statusText:mt,url:Hr}),Nt},Mr=()=>{let{headers:mt,status:vn,statusText:Hr,url:Or}=dr(),gn=null;204!==vn&&(gn=typeof Le.response>"u"?Le.responseText:Le.response),0===vn&&(vn=gn?200:0);let _n=vn>=200&&vn<300;if("json"===te.responseType&&"string"==typeof gn){const Pr=gn;gn=gn.replace(Er,"");try{gn=""!==gn?JSON.parse(gn):null}catch(ii){gn=Pr,_n&&(_n=!1,gn={error:ii,text:gn})}}_n?(Ye.next(new ir({body:gn,headers:mt,status:vn,statusText:Hr,url:Or||void 0})),Ye.complete()):Ye.error(new Sn({error:gn,headers:mt,status:vn,statusText:Hr,url:Or||void 0}))},Cn=mt=>{const{url:vn}=dr(),Hr=new Sn({error:mt,status:Le.status||0,statusText:Le.statusText||"Unknown Error",url:vn||void 0});Ye.error(Hr)};let An=!1;const br=mt=>{An||(Ye.next(dr()),An=!0);let vn={type:st.DownloadProgress,loaded:mt.loaded};mt.lengthComputable&&(vn.total=mt.total),"text"===te.responseType&&Le.responseText&&(vn.partialText=Le.responseText),Ye.next(vn)},hr=mt=>{let vn={type:st.UploadProgress,loaded:mt.loaded};mt.lengthComputable&&(vn.total=mt.total),Ye.next(vn)};return Le.addEventListener("load",Mr),Le.addEventListener("error",Cn),Le.addEventListener("timeout",Cn),Le.addEventListener("abort",Cn),te.reportProgress&&(Le.addEventListener("progress",br),null!==qt&&Le.upload&&Le.upload.addEventListener("progress",hr)),Le.send(qt),Ye.next({type:st.Sent}),()=>{Le.removeEventListener("error",Cn),Le.removeEventListener("abort",Cn),Le.removeEventListener("load",Mr),Le.removeEventListener("timeout",Cn),te.reportProgress&&(Le.removeEventListener("progress",br),null!==qt&&Le.upload&&Le.upload.removeEventListener("progress",hr)),Le.readyState!==Le.DONE&&Le.abort()}})))}static{this.\u0275fac=function(ke){return new(ke||le)(u.KVO(Me.N0))}}static{this.\u0275prov=u.jDH({token:le,factory:le.\u0275fac})}}return le})();const gt=new u.nKC("XSRF_ENABLED"),sn=new u.nKC("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Dr=new u.nKC("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class dn{}let en=(()=>{class le{constructor(te,ke,Fe){this.doc=te,this.platform=ke,this.cookieName=Fe,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const te=this.doc.cookie||"";return te!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,Me._b)(te,this.cookieName),this.lastCookieString=te),this.lastToken}static{this.\u0275fac=function(ke){return new(ke||le)(u.KVO(Me.qQ),u.KVO(u.Agw),u.KVO(sn))}}static{this.\u0275prov=u.jDH({token:le,factory:le.\u0275fac})}}return le})();function us(le,ee){const te=le.url.toLowerCase();if(!(0,u.WQX)(gt)||"GET"===le.method||"HEAD"===le.method||te.startsWith("http://")||te.startsWith("https://"))return ee(le);const ke=(0,u.WQX)(dn).getToken(),Fe=(0,u.WQX)(Dr);return null!=ke&&!le.headers.has(Fe)&&(le=le.clone({headers:le.headers.set(Fe,ke)})),ee(le)}var xt=function(le){return le[le.Interceptors=0]="Interceptors",le[le.LegacyInterceptors=1]="LegacyInterceptors",le[le.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",le[le.NoXsrfProtection=3]="NoXsrfProtection",le[le.JsonpSupport=4]="JsonpSupport",le[le.RequestsMadeViaParent=5]="RequestsMadeViaParent",le[le.Fetch=6]="Fetch",le}(xt||{});function ar(le,ee){return{\u0275kind:le,\u0275providers:ee}}function yr(...le){const ee=[ue,_s,ft,{provide:Qe,useExisting:ft},{provide:Be,useExisting:_s},{provide:Zn,useValue:us,multi:!0},{provide:gt,useValue:!0},{provide:dn,useClass:en}];for(const te of le)ee.push(...te.\u0275providers);return(0,u.EmA)(ee)}const er=new u.nKC("LEGACY_INTERCEPTOR_FN");let Te=(()=>{class le{static{this.\u0275fac=function(ke){return new(ke||le)}}static{this.\u0275mod=u.$C({type:le})}static{this.\u0275inj=u.G2t({providers:[yr(ar(xt.LegacyInterceptors,[{provide:er,useFactory:lt},{provide:Zn,useExisting:er,multi:!0}]))]})}}return le})();const bt=new u.nKC(""),an=["GET","HEAD"];function Jt(le,ee){const{isCacheActive:te}=(0,u.WQX)(bt);if(!te||!an.includes(le.method))return ee(le);const ke=(0,u.WQX)(u.pJN),Fe=function Vn(le){const{params:ee,method:te,responseType:ke,url:Fe}=le,qt=function Tn(le){let ee=0;for(const te of le)ee=Math.imul(31,ee)+te.charCodeAt(0)<<0;return ee+=2147483648,ee.toString()}(te+"."+ke+"."+Fe+"?"+ee.keys().sort().map(Nt=>`${Nt}=${ee.getAll(Nt)}`).join("&"));return(0,u.zw6)(qt)}(le),Ye=ke.get(Fe,null);if(Ye){let Le=Ye.body;switch(Ye.responseType){case"arraybuffer":Le=(new TextEncoder).encode(Ye.body).buffer;break;case"blob":Le=new Blob([Ye.body])}return(0,G.of)(new ir({body:Le,headers:new We(Ye.headers),status:Ye.status,statusText:Ye.statusText,url:Ye.url}))}return ee(le).pipe((0,me.M)(Le=>{Le instanceof ir&&ke.set(Fe,{body:Le.body,headers:Gn(Le.headers),status:Le.status,statusText:Le.statusText,url:Le.url||"",responseType:le.responseType})}))}function Gn(le){const ee={};for(const te of le.keys()){const ke=le.getAll(te);null!==ke&&(ee[te]=ke)}return ee}function Sr(){return[{provide:bt,useFactory:()=>((0,u.WQX)(u.KOA).add("httpcache"),{isCacheActive:!0})},{provide:wt,useValue:Jt,multi:!0,deps:[u.pJN,bt]},{provide:u.iLQ,multi:!0,useFactory:()=>{const le=(0,u.WQX)(u.o8S),ee=(0,u.WQX)(bt);return()=>{le.isStable.pipe((0,oe.$)(te=>te)).toPromise().then(()=>{ee.isCacheActive=!1})}}}]}},6276:(at,pe,F)=>{"use strict";F.d(pe,{bc$:()=>h0,iLQ:()=>zd,sZ2:()=>wf,hnV:()=>Ey,o8S:()=>Da,BIS:()=>f0,gRc:()=>pS,Ql9:()=>xD,Ocv:()=>OD,Z63:()=>Ua,aKT:()=>za,uvJ:()=>Yi,zcH:()=>wo,bkB:()=>Zi,$GK:()=>gt,nKC:()=>xt,zZn:()=>zi,_q3:()=>Qd,MKu:()=>Jd,xe9:()=>Cu,Co$:()=>bm,Vns:()=>Fo,NEm:()=>iS,SKi:()=>ys,Xx1:()=>wl,Agw:()=>bc,PLl:()=>Cf,sFG:()=>I0,_9s:()=>If,czy:()=>Il,kdw:()=>Cl,C4Q:()=>ll,NYb:()=>tS,giA:()=>Py,pJN:()=>$a,RxE:()=>Of,c1b:()=>bu,gXe:()=>br,L39:()=>VS,Ol2:()=>Cm,w6W:()=>bE,Rfq:()=>pt,WQX:()=>Fe,QuC:()=>Gr,EmA:()=>fc,zw6:()=>p0,HJs:()=>$S,O8t:()=>fr,H3F:()=>Dy,KOA:()=>Ef,H8p:()=>mc,$K3:()=>Sy,KH2:()=>ba,wOt:()=>Je,WHO:()=>Iy,e01:()=>Oy,H5H:()=>yd,Zy3:()=>vt,mq5:()=>Gg,JZv:()=>en,TL3:()=>lS,LfX:()=>Qt,plB:()=>Nd,jNT:()=>od,zjR:()=>Jp,TL$:()=>R_,Tbb:()=>He,M8M:()=>LS,Vt3:()=>Xc,GFd:()=>Op,OA$:()=>is,Jv_:()=>_m,aNF:()=>Em,R7$:()=>tp,BMQ:()=>Jc,ZvI:()=>xg,AVh:()=>fd,wni:()=>ty,VBU:()=>Os,FsC:()=>Ws,jDH:()=>Wt,G2t:()=>vs,$C:()=>zs,EJ8:()=>Ks,rXU:()=>aa,nrm:()=>id,bVm:()=>uu,qex:()=>lu,k0s:()=>au,j41:()=>ou,RV6:()=>Qp,xGo:()=>fh,KVO:()=>te,kS0:()=>Vu,QTQ:()=>rp,bIt:()=>ad,lsd:()=>ny,XpG:()=>ng,nI1:()=>jm,bMT:()=>Vm,i5U:()=>Um,brH:()=>$m,Y8G:()=>rd,FS9:()=>ld,Mz_:()=>cu,lJ4:()=>Om,eq3:()=>Pm,l4e:()=>Rm,mGM:()=>Zm,sdS:()=>Wp,Njj:()=>As,EBC:()=>Bf,eBV:()=>Kn,B4B:()=>dc,n$t:()=>ff,xc7:()=>hd,DNE:()=>Hp,C5r:()=>oy,EFF:()=>Dg,JRh:()=>gd,SpI:()=>fu,Lme:()=>md,GBs:()=>ey});var u=F(1413),G=F(8359),E=F(1985),ge=F(6365),re=F(8750),H=F(983),X=F(9326),de=F(6648),me=F(4412),oe=F(7673),Me=F(7707),Qe=F(9974);function Be(e={}){const{connector:t=(()=>new u.B),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:s=!0}=e;return i=>{let c,p,_,T=0,j=!1,z=!1;const se=()=>{p?.unsubscribe(),p=void 0},ce=()=>{se(),c=_=void 0,j=z=!1},Ne=()=>{const ze=c;ce(),ze?.unsubscribe()};return(0,Qe.N)((ze,ut)=>{T++,!z&&!j&&se();const St=_=_??t();ut.add(()=>{T--,0===T&&!z&&!j&&(p=We(Ne,s))}),St.subscribe(ut),!c&&T>0&&(c=new Me.Ms({next:Ue=>St.next(Ue),error:Ue=>{z=!0,se(),p=We(ce,n,Ue),St.error(Ue)},complete:()=>{j=!0,se(),p=We(ce,r),St.complete()}}),(0,re.Tg)(ze).subscribe(c))})(i)}}function We(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new Me.Ms({next:()=>{r.unsubscribe(),e()}});return(0,re.Tg)(t(...n)).subscribe(r)}var Rt=F(5558),ht=F(3294),Mt=F(1594);function ot(e){for(let t in e)if(e[t]===ot)return t;throw Error("Could not find renamed property on target object.")}function cn(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function He(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(He).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Ge(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const rt=ot({__forward_ref__:ot});function pt(e){return e.__forward_ref__=pt,e.toString=function(){return He(this())},e}function Ae(e){return Xe(e)?e():e}function Xe(e){return"function"==typeof e&&e.hasOwnProperty(rt)&&e.__forward_ref__===pt}function Et(e){return e&&!!e.\u0275providers}const yn="https://g.co/ng/security#xss";class Je extends Error{constructor(t,n){super(vt(t,n)),this.code=t}}function vt(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}function st(e){return"string"==typeof e?e:null==e?"":String(e)}function Vt(e,t){throw new Je(-201,!1)}function wt(e,t){null==e&&function lt(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Wt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function vs(e){return{providers:e.providers||[],imports:e.imports||[]}}function pn(e){return Kt(e,_r)||Kt(e,xn)}function Qt(e){return null!==pn(e)}function Kt(e,t){return e.hasOwnProperty(t)?e[t]:null}function Zt(e){return e&&(e.hasOwnProperty(Er)||e.hasOwnProperty(_s))?e[Er]:null}const _r=ot({\u0275prov:ot}),Er=ot({\u0275inj:ot}),xn=ot({ngInjectableDef:ot}),_s=ot({ngInjectorDef:ot});var gt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(gt||{});let ls;function on(e){const t=ls;return ls=e,t}function Dr(e,t,n){const r=pn(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&gt.Optional?null:void 0!==t?t:void Vt(He(e))}const en=globalThis;class xt{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Wt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Te={},et="__NG_DI_FLAG__",bt="ngTempTokenPath",Jt=/\n/gm,Vn="__source";let Tn;function le(e){const t=Tn;return Tn=e,t}function ee(e,t=gt.Default){if(void 0===Tn)throw new Je(-203,!1);return null===Tn?Dr(e,void 0,t):Tn.get(e,t&gt.Optional?null:void 0,t)}function te(e,t=gt.Default){return(function sn(){return ls}()||ee)(Ae(e),t)}function Fe(e,t=gt.Default){return te(e,Ye(t))}function Ye(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Le(e){const t=[];for(let n=0;n<e.length;n++){const r=Ae(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Je(900,!1);let s,i=gt.Default;for(let c=0;c<r.length;c++){const p=r[c],_=Nt(p);"number"==typeof _?-1===_?s=p.token:i|=_:s=p}t.push(te(s,i))}else t.push(te(r))}return t}function qt(e,t){return e[et]=t,e.prototype[et]=t,e}function Nt(e){return e[et]}function Cn(e){return{toString:e}.toString()}var An=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(An||{}),br=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(br||{});const hr={},mt=[],vn=ot({\u0275cmp:ot}),Hr=ot({\u0275dir:ot}),Or=ot({\u0275pipe:ot}),gn=ot({\u0275mod:ot}),_n=ot({\u0275fac:ot}),Pr=ot({__NG_ELEMENT_ID__:ot}),ii=ot({__NG_ENV_ID__:ot});function oi(e,t,n){let r=e.length;for(;;){const s=e.indexOf(t,n);if(-1===s)return s;if(0===s||e.charCodeAt(s-1)<=32){const i=t.length;if(s+i===r||e.charCodeAt(s+i)<=32)return s}n=s+1}}function Bs(e,t,n){let r=0;for(;r<n.length;){const s=n[r];if("number"==typeof s){if(0!==s)break;r++;const i=n[r++],c=n[r++],p=n[r++];e.setAttribute(t,c,p,i)}else{const i=s,c=n[++r];Hs(i)?e.setProperty(t,i,c):e.setAttribute(t,i,c),r++}}return r}function cs(e){return 3===e||4===e||6===e}function Hs(e){return 64===e.charCodeAt(0)}function Rr(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const s=t[r];"number"==typeof s?n=s:0===n||Vr(e,n,s,null,-1===n||2===n?t[++r]:null)}}return e}function Vr(e,t,n,r,s){let i=0,c=e.length;if(-1===t)c=-1;else for(;i<e.length;){const p=e[i++];if("number"==typeof p){if(p===t){c=-1;break}if(p>t){c=i-1;break}}}for(;i<e.length;){const p=e[i];if("number"==typeof p)break;if(p===n){if(null===r)return void(null!==s&&(e[i+1]=s));if(r===e[i+1])return void(e[i+2]=s)}i++,null!==r&&i++,null!==s&&i++}-1!==c&&(e.splice(c,0,t),i=c+1),e.splice(i++,0,n),null!==r&&e.splice(i++,0,r),null!==s&&e.splice(i++,0,s)}const Cs="ng-template";function Es(e,t,n){let r=0,s=!0;for(;r<e.length;){let i=e[r++];if("string"==typeof i&&s){const c=e[r++];if(n&&"class"===i&&-1!==oi(c.toLowerCase(),t,0))return!0}else{if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}"number"==typeof i&&(s=!1)}}return!1}function Tr(e){return 4===e.type&&e.value!==Cs}function ds(e,t,n){return t===(4!==e.type||n?e.value:Cs)}function yi(e,t,n){let r=4;const s=e.attrs||[],i=function Oi(e){for(let t=0;t<e.length;t++)if(cs(e[t]))return t;return e.length}(s);let c=!1;for(let p=0;p<t.length;p++){const _=t[p];if("number"!=typeof _){if(!c)if(4&r){if(r=2|1&r,""!==_&&!ds(e,_,n)||""===_&&1===t.length){if(Un(r))return!1;c=!0}}else{const T=8&r?_:t[++p];if(8&r&&null!==e.attrs){if(!Es(e.attrs,T,n)){if(Un(r))return!1;c=!0}continue}const z=Ki(8&r?"class":_,s,Tr(e),n);if(-1===z){if(Un(r))return!1;c=!0;continue}if(""!==T){let se;se=z>i?"":s[z+1].toLowerCase();const ce=8&r?se:null;if(ce&&-1!==oi(ce,T,0)||2&r&&T!==se){if(Un(r))return!1;c=!0}}}}else{if(!c&&!Un(r)&&!Un(_))return!1;if(c&&Un(_))continue;c=!1,r=_|1&r}}return Un(r)||c}function Un(e){return 0==(1&e)}function Ki(e,t,n,r){if(null===t)return-1;let s=0;if(r||!n){let i=!1;for(;s<t.length;){const c=t[s];if(c===e)return s;if(3===c||6===c)i=!0;else{if(1===c||2===c){let p=t[++s];for(;"string"==typeof p;)p=t[++s];continue}if(4===c)break;if(0===c){s+=4;continue}}s+=i?1:2}return-1}return function Pi(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function vi(e,t,n=!1){for(let r=0;r<t.length;r++)if(yi(e,t[r],n))return!0;return!1}function ai(e,t){return e?":not("+t.trim()+")":t}function Ui(e){let t=e[0],n=1,r=2,s="",i=!1;for(;n<e.length;){let c=e[n];if("string"==typeof c)if(2&r){const p=e[++n];s+="["+c+(p.length>0?'="'+p+'"':"")+"]"}else 8&r?s+="."+c:4&r&&(s+=" "+c);else""!==s&&!Un(c)&&(t+=ai(i,s),s=""),r=c,i=i||!Un(r);n++}return""!==s&&(t+=ai(i,s)),t}function Os(e){return Cn(()=>{const t=ct(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===An.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||br.Emulated,styles:e.styles||mt,_:null,schemas:e.schemas||null,tView:null,id:""};Ps(n);const r=e.dependencies;return n.directiveDefs=bi(r,!1),n.pipeDefs=bi(r,!0),n.id=function Wr(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const s of n)t=Math.imul(31,t)+s.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function zr(e){return Lt(e)||En(e)}function Ri(e){return null!==e}function zs(e){return Cn(()=>({type:e.type,bootstrap:e.bootstrap||mt,declarations:e.declarations||mt,imports:e.imports||mt,exports:e.exports||mt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function _i(e,t){if(null==e)return hr;const n={};for(const r in e)if(e.hasOwnProperty(r)){let s=e[r],i=s;Array.isArray(s)&&(i=s[1],s=s[0]),n[s]=r,t&&(t[s]=i)}return n}function Ws(e){return Cn(()=>{const t=ct(e);return Ps(t),t})}function Ks(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Lt(e){return e[vn]||null}function En(e){return e[Hr]||null}function Xn(e){return e[Or]||null}function Gr(e){const t=Lt(e)||En(e)||Xn(e);return null!==t&&t.standalone}function Wn(e,t){const n=e[gn]||null;if(!n&&!0===t)throw new Error(`Type ${He(e)} does not have '\u0275mod' property.`);return n}function ct(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||hr,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||mt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:_i(e.inputs,t),outputs:_i(e.outputs)}}function Ps(e){e.features?.forEach(t=>t(e))}function bi(e,t){if(!e)return null;const n=t?Xn:zr;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(Ri)}const tn=0,it=1,Pt=2,ln=3,lr=4,wi=5,Qn=6,fs=7,$n=8,wr=9,Rs=10,Ft=11,jr=12,Xr=13,Qr=14,In=15,Ds=16,Jr=17,Ur=18,Ss=19,qs=20,Ms=21,Ar=22,xs=23,tr=24,Ht=25,On=1,ur=2,$r=7,Xs=9,ui=10,Pn=11;function Fn(e){return Array.isArray(e)&&"object"==typeof e[On]}function cr(e){return Array.isArray(e)&&!0===e[On]}function Qs(e){return 0!=(4&e.flags)}function Bn(e){return e.componentOffset>-1}function xr(e){return 1==(1&e.flags)}function Yr(e){return!!e.template}function Ln(e){return 0!=(512&e[Pt])}function gs(e,t){return e.hasOwnProperty(_n)?e[_n]:null}let Jn=null,ts=!1;function ms(e){const t=Jn;return Jn=e,t}const io={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function qi(e){if(!Zs(e)||e.dirty){if(!e.producerMustRecompute(e)&&!Hi(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function Ys(e){e.dirty=!0,function ao(e){if(void 0===e.liveConsumerNode)return;const t=ts;ts=!0;try{for(const n of e.liveConsumerNode)n.dirty||Ys(n)}finally{ts=t}}(e),e.consumerMarkedDirty?.(e)}function Ni(e){return e&&(e.nextProducerIndex=0),ms(e)}function Fs(e,t){if(ms(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Zs(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Kr(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Hi(e){Si(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(qi(n),r!==n.version))return!0}return!1}function Xi(e){if(Si(e),Zs(e))for(let t=0;t<e.producerNode.length;t++)Kr(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Kr(e,t){if(function lo(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Si(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)Kr(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],s=e.liveConsumerNode[t];Si(s),s.producerIndexOfThis[r]=t}}function Zs(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Si(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let S=null;function fr(e){const t=ms(null);try{return e()}finally{ms(t)}}const rs=()=>{},js=(()=>({...io,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:rs}))();class ei{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function is(){return ti}function ti(e){return e.type.prototype.ngOnChanges&&(e.setInput=Mo),ki}function ki(){const e=h(this),t=e?.current;if(t){const n=e.previous;if(n===hr)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Mo(e,t,n,r){const s=this.declaredInputs[n],i=h(e)||function d(e,t){return e[A]=t}(e,{previous:hr,current:null}),c=i.current||(i.current={}),p=i.previous,_=p[s];c[s]=new ei(_&&_.currentValue,t,p===hr),e[r]=t}is.ngInherit=!0;const A="__ngSimpleChanges__";function h(e){return e[A]||null}const V=function(e,t,n){};function ae(e){for(;Array.isArray(e);)e=e[tn];return e}function Ze(e,t){return ae(t[e])}function tt(e,t){return ae(t[e.index])}function zt(e,t){return e.data[t]}function Tt(e,t){return e[t]}function It(e,t){const n=t[e];return Fn(n)?n:n[tn]}function m(e,t){return null==t?null:e[t]}function a(e){e[Jr]=0}function o(e){1024&e[Pt]||(e[Pt]|=1024,v(e,1))}function l(e){1024&e[Pt]&&(e[Pt]&=-1025,v(e,-1))}function v(e,t){let n=e[ln];if(null===n)return;n[wi]+=t;let r=n;for(n=n[ln];null!==n&&(1===t&&1===r[wi]||-1===t&&0===r[wi]);)n[wi]+=t,r=n,n=n[ln]}const R={lFrame:Fi(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function be(){return R.bindingsEnabled}function fe(){return null!==R.skipHydrationRootTNode}function he(){return R.lFrame.lView}function Ve(){return R.lFrame.tView}function Kn(e){return R.lFrame.contextLView=e,e[$n]}function As(e){return R.lFrame.contextLView=null,e}function At(){let e=Hn();for(;null!==e&&64===e.type;)e=e.parent;return e}function Hn(){return R.lFrame.currentTNode}function gr(e,t){const n=R.lFrame;n.currentTNode=e,n.isParent=t}function co(){return R.lFrame.isParent}function Vo(){R.lFrame.isParent=!1}function Vs(){const e=R.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function To(){return R.lFrame.bindingIndex++}function g(e){const t=R.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function C(e,t){const n=R.lFrame;n.bindingIndex=n.bindingRootIndex=e,U(t)}function U(e){R.lFrame.currentDirectiveIndex=e}function Se(){return R.lFrame.currentQueryIndex}function we(e){R.lFrame.currentQueryIndex=e}function dt(e){const t=e[it];return 2===t.type?t.declTNode:1===t.type?e[Qn]:null}function Gt(e,t,n){if(n&gt.SkipSelf){let s=t,i=e;for(;!(s=s.parent,null!==s||n&gt.Host||(s=dt(i),null===s||(i=i[Qr],10&s.type))););if(null===s)return!1;t=s,e=i}const r=R.lFrame=Dn();return r.currentTNode=t,r.lView=e,!0}function zn(e){const t=Dn(),n=e[it];R.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Dn(){const e=R.lFrame,t=null===e?null:e.child;return null===t?Fi(e):t}function Fi(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function mo(){const e=R.lFrame;return R.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const yo=mo;function Ao(){const e=mo();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function ni(){return R.lFrame.selectedIndex}function Io(e){R.lFrame.selectedIndex=e}function kr(){const e=R.lFrame;return zt(e.tView,e.selectedIndex)}function eh(){return R.lFrame.currentNamespace}let th=!0;function dl(){return th}function _o(e){th=e}function hl(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const i=e.data[n].type.prototype,{ngAfterContentInit:c,ngAfterContentChecked:p,ngAfterViewInit:_,ngAfterViewChecked:T,ngOnDestroy:j}=i;c&&(e.contentHooks??=[]).push(-n,c),p&&((e.contentHooks??=[]).push(n,p),(e.contentCheckHooks??=[]).push(n,p)),_&&(e.viewHooks??=[]).push(-n,_),T&&((e.viewHooks??=[]).push(n,T),(e.viewCheckHooks??=[]).push(n,T)),null!=j&&(e.destroyHooks??=[]).push(n,j)}}function fl(e,t,n){nh(e,t,3,n)}function pl(e,t,n,r){(3&e[Pt])===n&&nh(e,t,n,r)}function Ru(e,t){let n=e[Pt];(3&n)===t&&(n&=8191,n+=1,e[Pt]=n)}function nh(e,t,n,r){const i=r??-1,c=t.length-1;let p=0;for(let _=void 0!==r?65535&e[Jr]:0;_<c;_++)if("number"==typeof t[_+1]){if(p=t[_],null!=r&&p>=r)break}else t[_]<0&&(e[Jr]+=65536),(p<i||-1==i)&&(fv(e,n,t,_),e[Jr]=(4294901760&e[Jr])+_+2),_++}function rh(e,t){V(4,e,t);const n=ms(null);try{t.call(e)}finally{ms(n),V(5,e,t)}}function fv(e,t,n,r){const s=n[r]<0,i=n[r+1],p=e[s?-n[r]:n[r]];s?e[Pt]>>13<e[Jr]>>16&&(3&e[Pt])===t&&(e[Pt]+=8192,rh(p,i)):rh(p,i)}const Uo=-1;class Ma{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Nu(e){return e!==Uo}function Ta(e){return 32767&e}function Aa(e,t){let n=function yv(e){return e>>16}(e),r=t;for(;n>0;)r=r[Qr],n--;return r}let ku=!0;function gl(e){const t=ku;return ku=e,t}const sh=255,ih=5;let vv=0;const Ji={};function ml(e,t){const n=oh(e,t);if(-1!==n)return n;const r=t[it];r.firstCreatePass&&(e.injectorIndex=t.length,Fu(r.data,e),Fu(t,null),Fu(r.blueprint,null));const s=yl(e,t),i=e.injectorIndex;if(Nu(s)){const c=Ta(s),p=Aa(s,t),_=p[it].data;for(let T=0;T<8;T++)t[i+T]=p[c+T]|_[c+T]}return t[i+8]=s,i}function Fu(e,t){e.push(0,0,0,0,0,0,0,0,t)}function oh(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function yl(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,s=t;for(;null!==s;){if(r=ph(s),null===r)return Uo;if(n++,s=s[Qr],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Uo}function Lu(e,t,n){!function _v(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Pr)&&(r=n[Pr]),null==r&&(r=n[Pr]=vv++);const s=r&sh;t.data[e+(s>>ih)]|=1<<s}(e,t,n)}function ah(e,t,n){if(n&gt.Optional||void 0!==e)return e;Vt()}function lh(e,t,n,r){if(n&gt.Optional&&void 0===r&&(r=null),!(n&(gt.Self|gt.Host))){const s=e[wr],i=on(void 0);try{return s?s.get(t,r,n&gt.Optional):Dr(t,r,n&gt.Optional)}finally{on(i)}}return ah(r,0,n)}function uh(e,t,n,r=gt.Default,s){if(null!==e){if(2048&t[Pt]&&!(r&gt.Self)){const c=function Sv(e,t,n,r,s){let i=e,c=t;for(;null!==i&&null!==c&&2048&c[Pt]&&!(512&c[Pt]);){const p=ch(i,c,n,r|gt.Self,Ji);if(p!==Ji)return p;let _=i.parent;if(!_){const T=c[qs];if(T){const j=T.get(n,Ji,r);if(j!==Ji)return j}_=ph(c),c=c[Qr]}i=_}return s}(e,t,n,r,Ji);if(c!==Ji)return c}const i=ch(e,t,n,r,Ji);if(i!==Ji)return i}return lh(t,n,r,s)}function ch(e,t,n,r,s){const i=function Cv(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Pr)?e[Pr]:void 0;return"number"==typeof t?t>=0?t&sh:Dv:t}(n);if("function"==typeof i){if(!Gt(t,e,r))return r&gt.Host?ah(s,0,r):lh(t,n,r,s);try{let c;if(c=i(r),null!=c||r&gt.Optional)return c;Vt()}finally{yo()}}else if("number"==typeof i){let c=null,p=oh(e,t),_=Uo,T=r&gt.Host?t[In][Qn]:null;for((-1===p||r&gt.SkipSelf)&&(_=-1===p?yl(e,t):t[p+8],_!==Uo&&hh(r,!1)?(c=t[it],p=Ta(_),t=Aa(_,t)):p=-1);-1!==p;){const j=t[it];if(dh(i,p,j.data)){const z=wv(p,t,n,c,r,T);if(z!==Ji)return z}_=t[p+8],_!==Uo&&hh(r,t[it].data[p+8]===T)&&dh(i,p,t)?(c=j,p=Ta(_),t=Aa(_,t)):p=-1}}return s}function wv(e,t,n,r,s,i){const c=t[it],p=c.data[e+8],j=vl(p,c,n,null==r?Bn(p)&&ku:r!=c&&0!=(3&p.type),s&gt.Host&&i===p);return null!==j?Oo(t,c,j,p):Ji}function vl(e,t,n,r,s){const i=e.providerIndexes,c=t.data,p=1048575&i,_=e.directiveStart,j=i>>20,se=s?p+j:e.directiveEnd;for(let ce=r?p:p+j;ce<se;ce++){const Ne=c[ce];if(ce<_&&n===Ne||ce>=_&&Ne.type===n)return ce}if(s){const ce=c[_];if(ce&&Yr(ce)&&ce.type===n)return _}return null}function Oo(e,t,n,r){let s=e[n];const i=t.data;if(function pv(e){return e instanceof Ma}(s)){const c=s;c.resolving&&function mr(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Je(-200,`Circular dependency in DI detected for ${e}${n}`)}(function kt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():st(e)}(i[n]));const p=gl(c.canSeeViewProviders);c.resolving=!0;const T=c.injectImpl?on(c.injectImpl):null;Gt(e,r,gt.Default);try{s=e[n]=c.factory(void 0,i,e,r),t.firstCreatePass&&n>=r.directiveStart&&function hv(e,t,n){const{ngOnChanges:r,ngOnInit:s,ngDoCheck:i}=t.type.prototype;if(r){const c=ti(t);(n.preOrderHooks??=[]).push(e,c),(n.preOrderCheckHooks??=[]).push(e,c)}s&&(n.preOrderHooks??=[]).push(0-e,s),i&&((n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i))}(n,i[n],t)}finally{null!==T&&on(T),gl(p),c.resolving=!1,yo()}}return s}function dh(e,t,n){return!!(n[t+(e>>ih)]&1<<e)}function hh(e,t){return!(e&gt.Self||e&gt.Host&&t)}class ri{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return uh(this._tNode,this._lView,t,Ye(r),n)}}function Dv(){return new ri(At(),he())}function fh(e){return Cn(()=>{const t=e.prototype.constructor,n=t[_n]||ju(t),r=Object.prototype;let s=Object.getPrototypeOf(e.prototype).constructor;for(;s&&s!==r;){const i=s[_n]||ju(s);if(i&&i!==n)return i;s=Object.getPrototypeOf(s)}return i=>new i})}function ju(e){return Xe(e)?()=>{const t=ju(Ae(e));return t&&t()}:gs(e)}function ph(e){const t=e[it],n=t.type;return 2===n?t.declTNode:1===n?e[Qn]:null}function Vu(e){return function bv(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let s=0;for(;s<r;){const i=n[s];if(cs(i))break;if(0===i)s+=2;else if("number"==typeof i)for(s++;s<r&&"string"==typeof n[s];)s++;else{if(i===t)return n[s+1];s+=2}}}return null}(At(),e)}const Bo="__parameters__";function zo(e,t,n){return Cn(()=>{const r=function Uu(e){return function(...n){if(e){const r=e(...n);for(const s in r)this[s]=r[s]}}}(t);function s(...i){if(this instanceof s)return r.apply(this,i),this;const c=new s(...i);return p.annotation=c,p;function p(_,T,j){const z=_.hasOwnProperty(Bo)?_[Bo]:Object.defineProperty(_,Bo,{value:[]})[Bo];for(;z.length<=j;)z.push(null);return(z[j]=z[j]||[]).push(c),_}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s})}function Wo(e,t){e.forEach(n=>Array.isArray(n)?Wo(n,t):t(n))}function mh(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function _l(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Ti(e,t,n){let r=Ko(e,t);return r>=0?e[1|r]=n:(r=~r,function Rv(e,t,n,r){let s=e.length;if(s==t)e.push(n,r);else if(1===s)e.push(r,e[0]),e[0]=n;else{for(s--,e.push(e[s-1],e[s]);s>t;)e[s]=e[s-2],s--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function $u(e,t){const n=Ko(e,t);if(n>=0)return e[1|n]}function Ko(e,t){return function yh(e,t,n){let r=0,s=e.length>>n;for(;s!==r;){const i=r+(s-r>>1),c=e[i<<n];if(t===c)return i<<n;c>t?s=i:r=i+1}return~(s<<n)}(e,t,1)}const wl=qt(zo("Optional"),8),Cl=qt(zo("SkipSelf"),4),Xo="ngSkipHydration";function Th(e){const t=Xo.toLowerCase(),n=e.mergedAttrs;if(null===n)return!1;for(let r=0;r<n.length;r+=2){const s=n[r];if("number"==typeof s)return!1;if("string"==typeof s&&s.toLowerCase()===t)return!0}return!1}function Ah(e){return e.hasAttribute(Xo)}function Tl(e){return 128==(128&e.flags)}var Il=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Il||{});const Zv=/^>|^->|<!--|-->|--!>|<!-$/g,e_=/(<|>)/g,t_="\u200b$1\u200b";const Wu=new Map;let n_=0;const qu="__ngContext__";function Us(e,t){Fn(t)?(e[qu]=t[Ss],function s_(e){Wu.set(e[Ss],e)}(t)):e[qu]=t}let Xu;function Qu(e,t){return Xu(e,t)}function Na(e){const t=e[ln];return cr(t)?t[ln]:t}function Lh(e){return Vh(e[jr])}function jh(e){return Vh(e[lr])}function Vh(e){for(;null!==e&&!cr(e);)e=e[lr];return e}function Qo(e,t,n,r,s){if(null!=r){let i,c=!1;cr(r)?i=r:Fn(r)&&(c=!0,r=r[tn]);const p=ae(r);0===e&&null!==n?null==s?Hh(t,n,p):Po(t,n,p,s||null,!0):1===e&&null!==n?Po(t,n,p,s||null,!0):2===e?kl(t,p,c):3===e&&t.destroyNode(p),null!=i&&function M_(e,t,n,r,s){const i=n[$r];i!==ae(n)&&Qo(t,e,r,i,s);for(let p=Pn;p<n.length;p++){const _=n[p];Fa(_[it],_,e,t,r,i)}}(t,e,i,n,s)}}function Ol(e,t){return e.createText(t)}function Ju(e,t){return e.createComment(function Ih(e){return e.replace(Zv,t=>t.replace(e_,t_))}(t))}function Pl(e,t,n){return e.createElement(t,n)}function $h(e,t){const n=e[Xs],r=n.indexOf(t);l(t),n.splice(r,1)}function Rl(e,t){if(e.length<=Pn)return;const n=Pn+t,r=e[n];if(r){const s=r[Ds];null!==s&&s!==e&&$h(s,r),t>0&&(e[n-1][lr]=r[lr]);const i=_l(e,Pn+t);!function g_(e,t){Fa(e,t,t[Ft],2,null,null),t[tn]=null,t[Qn]=null}(r[it],r);const c=i[Ur];null!==c&&c.detachView(i[it]),r[ln]=null,r[lr]=null,r[Pt]&=-129}return r}function Yu(e,t){if(!(256&t[Pt])){const n=t[Ft];t[xs]&&Xi(t[xs]),t[tr]&&Xi(t[tr]),n.destroyNode&&Fa(e,t,n,3,null,null),function v_(e){let t=e[jr];if(!t)return Zu(e[it],e);for(;t;){let n=null;if(Fn(t))n=t[jr];else{const r=t[Pn];r&&(n=r)}if(!n){for(;t&&!t[lr]&&t!==e;)Fn(t)&&Zu(t[it],t),t=t[ln];null===t&&(t=e),Fn(t)&&Zu(t[it],t),n=t&&t[lr]}t=n}}(t)}}function Zu(e,t){if(!(256&t[Pt])){t[Pt]&=-129,t[Pt]|=256,function C_(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const s=t[n[r]];if(!(s instanceof Ma)){const i=n[r+1];if(Array.isArray(i))for(let c=0;c<i.length;c+=2){const p=s[i[c]],_=i[c+1];V(4,p,_);try{_.call(p)}finally{V(5,p,_)}}else{V(4,s,i);try{i.call(s)}finally{V(5,s,i)}}}}}(e,t),function w_(e,t){const n=e.cleanup,r=t[fs];if(null!==n)for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const c=n[i+3];c>=0?r[c]():r[-c].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);null!==r&&(t[fs]=null);const s=t[Ms];if(null!==s){t[Ms]=null;for(let i=0;i<s.length;i++)(0,s[i])()}}(e,t),1===t[it].type&&t[Ft].destroy();const n=t[Ds];if(null!==n&&cr(t[ln])){n!==t[ln]&&$h(n,t);const r=t[Ur];null!==r&&r.detachView(e)}!function i_(e){Wu.delete(e[Ss])}(t)}}function ec(e,t,n){return function Bh(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[tn];{const{componentOffset:s}=r;if(s>-1){const{encapsulation:i}=e.data[r.directiveStart+s];if(i===br.None||i===br.Emulated)return null}return tt(r,n)}}(e,t.parent,n)}function Po(e,t,n,r,s){e.insertBefore(t,n,r,s)}function Hh(e,t,n){e.appendChild(t,n)}function zh(e,t,n,r,s){null!==r?Po(e,t,n,r,s):Hh(e,t,n)}function xl(e,t){return e.parentNode(t)}let tc,ic,Ll,Kh=function Wh(e,t,n){return 40&e.type?tt(e,n):null};function Nl(e,t,n,r){const s=ec(e,r,t),i=t[Ft],p=function Gh(e,t,n){return Kh(e,t,n)}(r.parent||t[Qn],r,t);if(null!=s)if(Array.isArray(n))for(let _=0;_<n.length;_++)zh(i,s,n[_],p,!1);else zh(i,s,n,p,!1);void 0!==tc&&tc(i,r,t,n,s)}function ka(e,t){if(null!==t){const n=t.type;if(3&n)return tt(t,e);if(4&n)return nc(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return ka(e,r);{const s=e[t.index];return cr(s)?nc(-1,s):ae(s)}}if(32&n)return Qu(t,e)()||ae(e[t.index]);{const r=Xh(e,t);return null!==r?Array.isArray(r)?r[0]:ka(Na(e[In]),r):ka(e,t.next)}}return null}function Xh(e,t){return null!==t?e[In][Qn].projection[t.projection]:null}function nc(e,t){const n=Pn+e+1;if(n<t.length){const r=t[n],s=r[it].firstChild;if(null!==s)return ka(r,s)}return t[$r]}function kl(e,t,n){const r=xl(e,t);r&&function E_(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}function Qh(e){e.textContent=""}function rc(e,t,n,r,s,i,c){for(;null!=n;){const p=r[n.index],_=n.type;if(c&&0===t&&(p&&Us(ae(p),r),n.flags|=2),32!=(32&n.flags))if(8&_)rc(e,t,n.child,r,s,i,!1),Qo(t,e,s,p,i);else if(32&_){const T=Qu(n,r);let j;for(;j=T();)Qo(t,e,s,j,i);Qo(t,e,s,p,i)}else 16&_?Jh(e,t,r,n,s,i):Qo(t,e,s,p,i);n=c?n.projectionNext:n.next}}function Fa(e,t,n,r,s,i){rc(n,r,e.firstChild,t,s,i,!1)}function Jh(e,t,n,r,s,i){const c=n[In],_=c[Qn].projection[r.projection];if(Array.isArray(_))for(let T=0;T<_.length;T++)Qo(t,e,s,_[T],i);else{let T=_;const j=c[ln];Tl(r)&&(T.flags|=128),rc(e,t,T,j,s,i,!0)}}function Yh(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Zh(e,t,n){const{mergedAttrs:r,classes:s,styles:i}=n;null!==r&&Bs(e,t,r),null!==s&&Yh(e,t,s),null!==i&&function A_(e,t,n){e.setAttribute(t,"style",n)}(e,t,i)}function R_(e){ic=e}function Yo(){if(void 0!==ic)return ic;if(typeof document<"u")return document;throw new Je(210,!1)}function nf(e){return function oc(){if(void 0===Ll&&(Ll=null,en.trustedTypes))try{Ll=en.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ll}()?.createScriptURL(e)||e}class rf{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${yn})`}}function bo(e){return e instanceof rf?e.changingThisBreaksApplicationSecurity:e}function La(e,t){const n=function j_(e){return e instanceof rf&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${yn})`)}return n===t}const B_=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Zo=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Zo||{});function dc(e){const t=Va();return t?t.sanitize(Zo.URL,e)||"":La(e,"URL")?bo(e):function ac(e){return(e=String(e)).match(B_)?e:"unsafe:"+e}(st(e))}function hf(e){const t=Va();if(t)return nf(t.sanitize(Zo.RESOURCE_URL,e)||"");if(La(e,"ResourceURL"))return nf(bo(e));throw new Je(904,!1)}function ff(e,t,n){return function e0(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?hf:dc}(t,n)(e)}function Va(){const e=he();return e&&e[Rs].sanitizer}const Ua=new xt("ENVIRONMENT_INITIALIZER"),pf=new xt("INJECTOR",-1),gf=new xt("INJECTOR_DEF_TYPES");class hc{get(t,n=Te){if(n===Te){const r=new Error(`NullInjectorError: No provider for ${He(t)}!`);throw r.name="NullInjectorError",r}return n}}function fc(e){return{\u0275providers:e}}function t0(...e){return{\u0275providers:mf(0,e),\u0275fromNgModule:!0}}function mf(e,...t){const n=[],r=new Set;let s;const i=c=>{n.push(c)};return Wo(t,c=>{const p=c;Vl(p,i,[],r)&&(s||=[],s.push(p))}),void 0!==s&&yf(s,i),n}function yf(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:s}=e[n];pc(s,i=>{t(i,r)})}}function Vl(e,t,n,r){if(!(e=Ae(e)))return!1;let s=null,i=Zt(e);const c=!i&&Lt(e);if(i||c){if(c&&!c.standalone)return!1;s=e}else{const _=e.ngModule;if(i=Zt(_),!i)return!1;s=_}const p=r.has(s);if(c){if(p)return!1;if(r.add(s),c.dependencies){const _="function"==typeof c.dependencies?c.dependencies():c.dependencies;for(const T of _)Vl(T,t,n,r)}}else{if(!i)return!1;{if(null!=i.imports&&!p){let T;r.add(s);try{Wo(i.imports,j=>{Vl(j,t,n,r)&&(T||=[],T.push(j))})}finally{}void 0!==T&&yf(T,t)}if(!p){const T=gs(s)||(()=>new s);t({provide:s,useFactory:T,deps:mt},s),t({provide:gf,useValue:s,multi:!0},s),t({provide:Ua,useValue:()=>te(s),multi:!0},s)}const _=i.providers;if(null!=_&&!p){const T=e;pc(_,j=>{t(j,T)})}}}return s!==e&&void 0!==e.providers}function pc(e,t){for(let n of e)Et(n)&&(n=n.\u0275providers),Array.isArray(n)?pc(n,t):t(n)}const n0=ot({provide:String,useValue:ot});function gc(e){return null!==e&&"object"==typeof e&&n0 in e}function Ro(e){return"function"==typeof e}const mc=new xt("Set Injector scope."),Ul={},s0={};let yc;function $l(){return void 0===yc&&(yc=new hc),yc}class Yi{}class ea extends Yi{get destroyed(){return this._destroyed}constructor(t,n,r,s){super(),this.parent=n,this.source=r,this.scopes=s,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,_c(t,c=>this.processProvider(c)),this.records.set(pf,ta(void 0,this)),s.has("environment")&&this.records.set(Yi,ta(void 0,this));const i=this.records.get(mc);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(gf.multi,mt,gt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=le(this),r=on(void 0);try{return t()}finally{le(n),on(r)}}get(t,n=Te,r=gt.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(ii))return t[ii](this);r=Ye(r);const i=le(this),c=on(void 0);try{if(!(r&gt.SkipSelf)){let _=this.records.get(t);if(void 0===_){const T=function c0(e){return"function"==typeof e||"object"==typeof e&&e instanceof xt}(t)&&pn(t);_=T&&this.injectableDefInScope(T)?ta(vc(t),Ul):null,this.records.set(t,_)}if(null!=_)return this.hydrate(t,_)}return(r&gt.Self?$l():this.parent).get(t,n=r&gt.Optional&&n===Te?null:n)}catch(p){if("NullInjectorError"===p.name){if((p[bt]=p[bt]||[]).unshift(He(t)),i)throw p;return function dr(e,t,n,r){const s=e[bt];throw t[Vn]&&s.unshift(t[Vn]),e.message=function Mr(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let s=He(t);if(Array.isArray(t))s=t.map(He).join(" -> ");else if("object"==typeof t){let i=[];for(let c in t)if(t.hasOwnProperty(c)){let p=t[c];i.push(c+":"+("string"==typeof p?JSON.stringify(p):He(p)))}s=`{${i.join(", ")}}`}return`${n}${r?"("+r+")":""}[${s}]: ${e.replace(Jt,"\n  ")}`}("\n"+e.message,s,n,r),e.ngTokenPath=s,e[bt]=null,e}(p,t,"R3InjectorError",this.source)}throw p}finally{on(c),le(i)}}resolveInjectorInitializers(){const t=le(this),n=on(void 0);try{const s=this.get(Ua.multi,mt,gt.Self);for(const i of s)i()}finally{le(t),on(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(He(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Je(205,!1)}processProvider(t){let n=Ro(t=Ae(t))?t:Ae(t&&t.provide);const r=function a0(e){return gc(e)?ta(void 0,e.useValue):ta(bf(e),Ul)}(t);if(Ro(t)||!0!==t.multi)this.records.get(n);else{let s=this.records.get(n);s||(s=ta(void 0,Ul,!0),s.factory=()=>Le(s.multi),this.records.set(n,s)),n=t,s.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===Ul&&(n.value=s0,n.value=n.factory()),"object"==typeof n.value&&n.value&&function u0(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Ae(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function vc(e){const t=pn(e),n=null!==t?t.factory:gs(e);if(null!==n)return n;if(e instanceof xt)throw new Je(204,!1);if(e instanceof Function)return function o0(e){const t=e.length;if(t>0)throw function Pa(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new Je(204,!1);const n=function qn(e){return e&&(e[_r]||e[xn])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Je(204,!1)}function bf(e,t,n){let r;if(Ro(e)){const s=Ae(e);return gs(s)||vc(s)}if(gc(e))r=()=>Ae(e.useValue);else if(function _f(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Le(e.deps||[]));else if(function vf(e){return!(!e||!e.useExisting)}(e))r=()=>te(Ae(e.useExisting));else{const s=Ae(e&&(e.useClass||e.provide));if(!function l0(e){return!!e.deps}(e))return gs(s)||vc(s);r=()=>new s(...Le(e.deps))}return r}function ta(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function _c(e,t){for(const n of e)Array.isArray(n)?_c(n,t):n&&Et(n)?_c(n.\u0275providers,t):t(n)}const wf=new xt("AppId",{providedIn:"root",factory:()=>d0}),d0="ng",Cf=new xt("Platform Initializer"),bc=new xt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),h0=new xt("AnimationModuleType"),f0=new xt("CSP nonce",{providedIn:"root",factory:()=>Yo().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),Ef=new xt("",{providedIn:"root",factory:()=>new Set});function p0(e){return e}function g0(){const e=new $a;return"browser"===Fe(bc)&&(e.store=function m0(e,t){const n=e.getElementById(t+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+t,r)}return{}}(Yo(),Fe(wf))),e}let $a=(()=>{class e{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=Wt({token:e,providedIn:"root",factory:g0})}get(n,r){return void 0!==this.store[n]?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(const n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return e})();const wc="h",Cc="b";var na=function(e){return e.FirstChild="f",e.NextSibling="n",e}(na||{});const Ec="e",Dc="t",Ba="c",Bl="x",ra="r",Sc="i",Mc="n",Hl="d",Tc="__\u0275nghData__",Ha="ngh",y0="nghm";let Df=(e,t,n)=>null;function v0(e,t,n=!1){let r=e.getAttribute(Ha);if(null==r)return null;const[s,i]=r.split("|");if(r=n?i:s,!r)return null;const c=n?s:i?`|${i}`:"";let p={};if(""!==r){const T=t.get($a,null,{optional:!0});null!==T&&(p=T.get(Tc,[])[Number(r)])}const _={data:p,firstChild:e.firstChild??null};return n&&(_.firstChild=e,zl(_,0,e.nextSibling)),c?e.setAttribute(Ha,c):e.removeAttribute(Ha),_}function Ac(e,t,n=!1){return Df(e,t,n)}function Sf(e){let t=e._lView;return 2===t[it].type?null:(Ln(t)&&(t=t[Ht]),t)}function zl(e,t,n){e.segmentHeads??={},e.segmentHeads[t]=n}function Ic(e,t){return e.segmentHeads?.[t]??null}function Mf(e,t){return e.data[Ba]?.[t]??null}function Oc(e,t){const n=Mf(e,t)??[];let r=0;for(let s of n)r+=s[ra]*(s[Bl]??1);return r}function Gl(e,t){if(typeof e.disconnectedNodes>"u"){const n=e.data[Hl];e.disconnectedNodes=n?new Set(n):null}return!!e.disconnectedNodes?.has(t)}class D0{}class Tf{}class M0{resolveComponentFactory(t){throw function S0(e){const t=Error(`No component factory found for ${He(e)}.`);return t.ngComponent=e,t}(t)}}let Wl=(()=>{class e{static{this.NULL=new M0}}return e})();function T0(){return sa(At(),he())}function sa(e,t){return new za(tt(e,t))}let za=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=T0}}return e})();function A0(e){return e instanceof za?e.nativeElement:e}class If{}let I0=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function O0(){const e=he(),n=It(At().index,e);return(Fn(n)?n:e)[Ft]}()}}return e})(),P0=(()=>{class e{static{this.\u0275prov=Wt({token:e,providedIn:"root",factory:()=>null})}}return e})();class Of{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const R0=new Of("16.2.12"),Pc={};function Nf(e,t=null,n=null,r){const s=kf(e,t,n,r);return s.resolveInjectorInitializers(),s}function kf(e,t=null,n=null,r,s=new Set){const i=[n||mt,t0(e)];return r=r||("object"==typeof e?void 0:He(e)),new ea(i,t||$l(),r||null,s)}let zi=(()=>{class e{static{this.THROW_IF_NOT_FOUND=Te}static{this.NULL=new hc}static create(n,r){if(Array.isArray(n))return Nf({name:""},r,n,"");{const s=n.name??"";return Nf({name:s},n.parent,n.providers,s)}}static{this.\u0275prov=Wt({token:e,providedIn:"any",factory:()=>te(pf)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();function xc(e){return e.ngOriginalError}class wo{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&xc(t);for(;n&&xc(n);)n=xc(n);return n||null}}function Nc(e){return t=>{setTimeout(e,void 0,t)}}const Zi=class U0 extends u.B{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let s=t,i=n||(()=>null),c=r;if(t&&"object"==typeof t){const _=t;s=_.next?.bind(_),i=_.error?.bind(_),c=_.complete?.bind(_)}this.__isAsync&&(i=Nc(i),s&&(s=Nc(s)),c&&(c=Nc(c)));const p=super.subscribe({next:s,error:i,complete:c});return t instanceof G.yU&&t.add(p),p}};function Lf(...e){}class ys{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Zi(!1),this.onMicrotaskEmpty=new Zi(!1),this.onStable=new Zi(!1),this.onError=new Zi(!1),typeof Zone>"u")throw new Je(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&n,s.shouldCoalesceRunChangeDetection=r,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function $0(){const e="function"==typeof en.requestAnimationFrame;let t=en[e?"requestAnimationFrame":"setTimeout"],n=en[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function z0(e){const t=()=>{!function H0(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(en,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Fc(e),e.isCheckStableRunning=!0,kc(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Fc(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,s,i,c,p)=>{if(function W0(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(p))return n.invokeTask(s,i,c,p);try{return jf(e),n.invokeTask(s,i,c,p)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||e.shouldCoalesceRunChangeDetection)&&t(),Vf(e)}},onInvoke:(n,r,s,i,c,p,_)=>{try{return jf(e),n.invoke(s,i,c,p,_)}finally{e.shouldCoalesceRunChangeDetection&&t(),Vf(e)}},onHasTask:(n,r,s,i)=>{n.hasTask(s,i),r===s&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,Fc(e),kc(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(n,r,s,i)=>(n.handleError(s,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ys.isInAngularZone())throw new Je(909,!1)}static assertNotInAngularZone(){if(ys.isInAngularZone())throw new Je(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,s){const i=this._inner,c=i.scheduleEventTask("NgZoneEvent: "+s,t,B0,Lf,Lf);try{return i.runTask(c,n,r)}finally{i.cancelTask(c)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const B0={};function kc(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Fc(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function jf(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Vf(e){e._nesting--,kc(e)}const Uf=new xt("",{providedIn:"root",factory:$f});function $f(){const e=Fe(ys);let t=!0;return function ye(...e){const t=(0,X.lI)(e),n=(0,X.R0)(e,1/0),r=e;return r.length?1===r.length?(0,re.Tg)(r[0]):(0,ge.U)(n)((0,de.H)(r,t)):H.w}(new E.c(s=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{s.next(t),s.complete()})}),new E.c(s=>{let i;e.runOutsideAngular(()=>{i=e.onStable.subscribe(()=>{ys.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,s.next(!0))})})});const c=e.onUnstable.subscribe(()=>{ys.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{s.next(!1)}))});return()=>{i.unsubscribe(),c.unsubscribe()}}).pipe(Be()))}function Bf(e){return e.ownerDocument}function fo(e){return e instanceof Function?e():e}function oa(e){return"browser"===(e??Fe(zi)).get(bc)}let Lc=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=Wt({token:e,providedIn:"root",factory:()=>new e})}}return e})();function Ga(e){for(;e;){e[Pt]|=64;const t=Na(e);if(Ln(e)&&!t)return e;e=t}return null}const ql=new xt(""),Kf=new xt("",{providedIn:"root",factory:()=>!1});let Xl=null;function Jf(e,t){return e[t]??ep()}function Yf(e,t){const n=ep();n.producerNode?.length&&(e[t]=Xl,n.lView=e,Xl=Zf())}const tb={...io,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Ga(e.lView)},lView:null};function Zf(){return Object.create(tb)}function ep(){return Xl??=Zf(),Xl}const rn={};function tp(e){np(Ve(),he(),ni()+e,!1)}function np(e,t,n,r){if(!r)if(3==(3&t[Pt])){const i=e.preOrderCheckHooks;null!==i&&fl(t,i,n)}else{const i=e.preOrderHooks;null!==i&&pl(t,i,0,n)}Io(n)}function aa(e,t=gt.Default){const n=he();return null===n?te(e,t):uh(At(),n,Ae(e),t)}function rp(){throw new Error("invalid")}function Ql(e,t,n,r,s,i,c,p,_,T,j){const z=t.blueprint.slice();return z[tn]=s,z[Pt]=140|r,(null!==T||e&&2048&e[Pt])&&(z[Pt]|=2048),a(z),z[ln]=z[Qr]=e,z[$n]=n,z[Rs]=c||e&&e[Rs],z[Ft]=p||e&&e[Ft],z[wr]=_||e&&e[wr]||null,z[Qn]=i,z[Ss]=function r_(){return n_++}(),z[Ar]=j,z[qs]=T,z[In]=2==t.type?e[In]:z,z}function la(e,t,n,r,s){let i=e.data[t];if(null===i)i=function jc(e,t,n,r,s){const i=Hn(),c=co(),_=e.data[t]=function ub(e,t,n,r,s,i){let c=t?t.injectorIndex:-1,p=0;return fe()&&(p|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:c,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:p,providerIndexes:0,value:s,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,c?i:i&&i.parent,n,t,r,s);return null===e.firstChild&&(e.firstChild=_),null!==i&&(c?null==i.child&&null!==_.parent&&(i.child=_):null===i.next&&(i.next=_,_.prev=i)),_}(e,t,n,r,s),function b(){return R.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=n,i.value=r,i.attrs=s;const c=function rr(){const e=R.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();i.injectorIndex=null===c?-1:c.injectorIndex}return gr(i,!0),i}function Wa(e,t,n,r){if(0===n)return-1;const s=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return s}function sp(e,t,n,r,s){const i=Jf(t,xs),c=ni(),p=2&r;try{Io(-1),p&&t.length>Ht&&np(e,t,Ht,!1),V(p?2:0,s);const T=p?i:null,j=Ni(T);try{null!==T&&(T.dirty=!1),n(r,s)}finally{Fs(T,j)}}finally{p&&null===t[xs]&&Yf(t,xs),Io(c),V(p?3:1,s)}}function Vc(e,t,n){if(Qs(t)){const r=ms(null);try{const i=t.directiveEnd;for(let c=t.directiveStart;c<i;c++){const p=e.data[c];p.contentQueries&&p.contentQueries(1,n[c],c)}}finally{ms(r)}}}function Uc(e,t,n){be()&&(function mb(e,t,n,r){const s=n.directiveStart,i=n.directiveEnd;Bn(n)&&function Eb(e,t,n){const r=tt(t,e),s=ip(n);let c=16;n.signals?c=4096:n.onPush&&(c=64);const p=Jl(e,Ql(e,s,null,c,r,t,null,e[Rs].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=p}(t,n,e.data[s+n.componentOffset]),e.firstCreatePass||ml(n,t),Us(r,t);const c=n.initialInputs;for(let p=s;p<i;p++){const _=e.data[p],T=Oo(t,e,p,n);Us(T,t),null!==c&&Db(0,p-s,T,_,0,c),Yr(_)&&(It(n.index,t)[$n]=Oo(t,e,p,n))}}(e,t,n,tt(n,t)),64==(64&n.flags)&&cp(e,t,n))}function $c(e,t,n=tt){const r=t.localNames;if(null!==r){let s=t.index+1;for(let i=0;i<r.length;i+=2){const c=r[i+1],p=-1===c?n(t,e):e[c];e[s++]=p}}}function ip(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Bc(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Bc(e,t,n,r,s,i,c,p,_,T,j){const z=Ht+r,se=z+s,ce=function rb(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:rn);return n}(z,se),Ne="function"==typeof T?T():T;return ce[it]={type:e,blueprint:ce,template:n,queries:null,viewQuery:p,declTNode:t,data:ce.slice().fill(null,z),bindingStartIndex:z,expandoStartIndex:se,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof c?c():c,firstChild:null,schemas:_,consts:Ne,incompleteFirstPass:!1,ssrId:j}}let op=e=>null;function ob(e){Ah(e)?Qh(e):function w0(e){const t=Yo(),n=t.createNodeIterator(e,NodeFilter.SHOW_COMMENT,{acceptNode(i){const c=function b0(e){return e.textContent?.replace(/\s/gm,"")}(i);return"ngetn"===c||"ngtns"===c?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}});let r;const s=[];for(;r=n.nextNode();)s.push(r);for(const i of s)"ngetn"===i.textContent?i.replaceWith(t.createTextNode("")):i.remove()}(e)}function ap(e,t,n,r){for(let s in e)if(e.hasOwnProperty(s)){n=null===n?{}:n;const i=e[s];null===r?lp(n,t,s,i):r.hasOwnProperty(s)&&lp(n,t,r[s],i)}return n}function lp(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function Ai(e,t,n,r,s,i,c,p){const _=tt(t,n);let j,T=t.inputs;!p&&null!=T&&(j=T[r])?(Kc(e,n,j,r,s),Bn(t)&&function hb(e,t){const n=It(t,e);16&n[Pt]||(n[Pt]|=64)}(n,t.index)):3&t.type&&(r=function db(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),s=null!=c?c(s,t.value||"",r):s,i.setProperty(_,r,s))}function Hc(e,t,n,r){if(be()){const s=null===r?null:{"":-1},i=function vb(e,t){const n=e.directiveRegistry;let r=null,s=null;if(n)for(let i=0;i<n.length;i++){const c=n[i];if(vi(t,c.selectors,!1))if(r||(r=[]),Yr(c))if(null!==c.findHostDirectiveDefs){const p=[];s=s||new Map,c.findHostDirectiveDefs(c,p,s),r.unshift(...p,c),zc(e,t,p.length)}else r.unshift(c),zc(e,t,0);else s=s||new Map,c.findHostDirectiveDefs?.(c,r,s),r.push(c)}return null===r?null:[r,s]}(e,n);let c,p;null===i?c=p=null:[c,p]=i,null!==c&&up(e,t,n,c,s,p),s&&function _b(e,t,n){if(t){const r=e.localNames=[];for(let s=0;s<t.length;s+=2){const i=n[t[s+1]];if(null==i)throw new Je(-301,!1);r.push(t[s],i)}}}(n,r,s)}n.mergedAttrs=Rr(n.mergedAttrs,n.attrs)}function up(e,t,n,r,s,i){for(let T=0;T<r.length;T++)Lu(ml(n,t),e,r[T].type);!function wb(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let T=0;T<r.length;T++){const j=r[T];j.providersResolver&&j.providersResolver(j)}let c=!1,p=!1,_=Wa(e,t,r.length,null);for(let T=0;T<r.length;T++){const j=r[T];n.mergedAttrs=Rr(n.mergedAttrs,j.hostAttrs),Cb(e,n,t,_,j),bb(_,j,s),null!==j.contentQueries&&(n.flags|=4),(null!==j.hostBindings||null!==j.hostAttrs||0!==j.hostVars)&&(n.flags|=64);const z=j.type.prototype;!c&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),c=!0),!p&&(z.ngOnChanges||z.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),p=!0),_++}!function cb(e,t,n){const s=t.directiveEnd,i=e.data,c=t.attrs,p=[];let _=null,T=null;for(let j=t.directiveStart;j<s;j++){const z=i[j],se=n?n.get(z):null,Ne=se?se.outputs:null;_=ap(z.inputs,j,_,se?se.inputs:null),T=ap(z.outputs,j,T,Ne);const ze=null===_||null===c||Tr(t)?null:Sb(_,j,c);p.push(ze)}null!==_&&(_.hasOwnProperty("class")&&(t.flags|=8),_.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=p,t.inputs=_,t.outputs=T}(e,n,i)}function cp(e,t,n){const r=n.directiveStart,s=n.directiveEnd,i=n.index,c=function I(){return R.lFrame.currentDirectiveIndex}();try{Io(i);for(let p=r;p<s;p++){const _=e.data[p],T=t[p];U(p),(null!==_.hostBindings||0!==_.hostVars||null!==_.hostAttrs)&&yb(_,T)}}finally{Io(-1),U(c)}}function yb(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function zc(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function bb(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Yr(t)&&(n[""]=e)}}function Cb(e,t,n,r,s){e.data[r]=s;const i=s.factory||(s.factory=gs(s.type)),c=new Ma(i,Yr(s),aa);e.blueprint[r]=c,n[r]=c,function pb(e,t,n,r,s){const i=s.hostBindings;if(i){let c=e.hostBindingOpCodes;null===c&&(c=e.hostBindingOpCodes=[]);const p=~t.index;(function gb(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(c)!=p&&c.push(p),c.push(n,r,i)}}(e,t,r,Wa(e,n,s.hostVars,rn),s)}function eo(e,t,n,r,s,i){const c=tt(e,t);!function Gc(e,t,n,r,s,i,c){if(null==i)e.removeAttribute(t,s,n);else{const p=null==c?st(i):c(i,r||"",s);e.setAttribute(t,s,p,n)}}(t[Ft],c,i,e.value,n,r,s)}function Db(e,t,n,r,s,i){const c=i[t];if(null!==c)for(let p=0;p<c.length;)dp(r,n,c[p++],c[p++],c[p++])}function dp(e,t,n,r,s){const i=ms(null);try{const c=e.inputTransforms;null!==c&&c.hasOwnProperty(r)&&(s=c[r].call(t,s)),null!==e.setInput?e.setInput(t,s,n,r):t[r]=s}finally{ms(i)}}function Sb(e,t,n){let r=null,s=0;for(;s<n.length;){const i=n[s];if(0!==i)if(5!==i){if("number"==typeof i)break;if(e.hasOwnProperty(i)){null===r&&(r=[]);const c=e[i];for(let p=0;p<c.length;p+=2)if(c[p]===t){r.push(i,c[p+1],n[s+1]);break}}s+=2}else s+=2;else s+=4}return r}function hp(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}function fp(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r+1];if(-1!==i){const c=e.data[i];we(n[r]),c.contentQueries(2,t[i],i)}}}function Jl(e,t){return e[jr]?e[Xr][lr]=t:e[jr]=t,e[Xr]=t,t}function Wc(e,t,n){we(0);const r=ms(null);try{t(e,n)}finally{ms(r)}}function pp(e){return e[fs]||(e[fs]=[])}function gp(e){return e.cleanup||(e.cleanup=[])}function yp(e,t){const n=e[wr],r=n?n.get(wo,null):null;r&&r.handleError(t)}function Kc(e,t,n,r,s){for(let i=0;i<n.length;){const c=n[i++],p=n[i++];dp(e.data[c],t[c],r,p,s)}}function po(e,t,n){const r=Ze(t,e);!function Uh(e,t,n){e.setValue(t,n)}(e[Ft],r,n)}function Mb(e,t){const n=It(t,e),r=n[it];!function Tb(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const s=n[tn];null!==s&&null===n[Ar]&&(n[Ar]=Ac(s,n[wr])),qc(r,n,n[$n])}function qc(e,t,n){zn(t);try{const r=e.viewQuery;null!==r&&Wc(1,r,n);const s=e.template;null!==s&&sp(e,t,s,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&fp(e,t),e.staticViewQueries&&Wc(2,e.viewQuery,n);const i=e.components;null!==i&&function Ab(e,t){for(let n=0;n<t.length;n++)Mb(e,t[n])}(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[Pt]&=-5,Ao()}}let vp=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,r,s){const i=typeof Zone>"u"?null:Zone.current,c=function ns(e,t,n){const r=Object.create(js);n&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=t;const s=c=>{r.cleanupFn=c};return r.ref={notify:()=>Ys(r),run:()=>{if(r.dirty=!1,r.hasRun&&!Hi(r))return;r.hasRun=!0;const c=Ni(r);try{r.cleanupFn(),r.cleanupFn=rs,r.fn(s)}finally{Fs(r,c)}},cleanup:()=>r.cleanupFn()},r.ref}(n,T=>{this.all.has(T)&&this.queue.set(T,i)},s);let p;this.all.add(c),c.notify();const _=()=>{c.cleanup(),p?.(),this.all.delete(c),this.queue.delete(c)};return p=r?.onDestroy(_),{destroy:_}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=Wt({token:e,providedIn:"root",factory:()=>new e})}}return e})();function Yl(e,t,n){let r=n?e.styles:null,s=n?e.classes:null,i=0;if(null!==t)for(let c=0;c<t.length;c++){const p=t[c];"number"==typeof p?i=p:1==i?s=Ge(s,p):2==i&&(r=Ge(r,p+": "+t[++c]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=s:e.classesWithoutHost=s}function Ka(e,t,n,r,s=!1){for(;null!==n;){const i=t[n.index];null!==i&&r.push(ae(i)),cr(i)&&_p(i,r);const c=n.type;if(8&c)Ka(e,t,n.child,r);else if(32&c){const p=Qu(n,t);let _;for(;_=p();)r.push(_)}else if(16&c){const p=Xh(t,n);if(Array.isArray(p))r.push(...p);else{const _=Na(t[In]);Ka(_[it],_,p,r,!0)}}n=s?n.projectionNext:n.next}return r}function _p(e,t){for(let n=Pn;n<e.length;n++){const r=e[n],s=r[it].firstChild;null!==s&&Ka(r[it],r,s,t)}e[$r]!==e[tn]&&t.push(e[$r])}function Zl(e,t,n,r=!0){const s=t[Rs],i=s.rendererFactory,c=s.afterRenderEventManager;i.begin?.(),c?.begin();try{bp(e,t,e.template,n)}catch(_){throw r&&yp(t,_),_}finally{i.end?.(),s.effectManager?.flush(),c?.end()}}function bp(e,t,n,r){const s=t[Pt];if(256!=(256&s)){t[Rs].effectManager?.flush(),zn(t);try{a(t),function Ou(e){return R.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&sp(e,t,n,2,r);const c=3==(3&s);if(c){const T=e.preOrderCheckHooks;null!==T&&fl(t,T,null)}else{const T=e.preOrderHooks;null!==T&&pl(t,T,0,null),Ru(t,0)}if(function Pb(e){for(let t=Lh(e);null!==t;t=jh(t)){if(!t[ur])continue;const n=t[Xs];for(let r=0;r<n.length;r++){o(n[r])}}}(t),wp(t,2),null!==e.contentQueries&&fp(e,t),c){const T=e.contentCheckHooks;null!==T&&fl(t,T)}else{const T=e.contentHooks;null!==T&&pl(t,T,1),Ru(t,1)}!function nb(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=Jf(t,tr);try{for(let s=0;s<n.length;s++){const i=n[s];if(i<0)Io(~i);else{const c=i,p=n[++s],_=n[++s];C(p,c),r.dirty=!1;const T=Ni(r);try{_(2,t[c])}finally{Fs(r,T)}}}}finally{null===t[tr]&&Yf(t,tr),Io(-1)}}(e,t);const p=e.components;null!==p&&Ep(t,p,0);const _=e.viewQuery;if(null!==_&&Wc(2,_,r),c){const T=e.viewCheckHooks;null!==T&&fl(t,T)}else{const T=e.viewHooks;null!==T&&pl(t,T,2),Ru(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Pt]&=-73,l(t)}finally{Ao()}}}function wp(e,t){for(let n=Lh(e);null!==n;n=jh(n))for(let r=Pn;r<n.length;r++)Cp(n[r],t)}function Rb(e,t,n){Cp(It(t,e),n)}function Cp(e,t){if(!function pr(e){return 128==(128&e[Pt])}(e))return;const n=e[it],r=e[Pt];if(80&r&&0===t||1024&r||2===t)bp(n,e,n.template,e[$n]);else if(e[wi]>0){wp(e,1);const s=n.components;null!==s&&Ep(e,s,1)}}function Ep(e,t,n){for(let r=0;r<t.length;r++)Rb(e,t[r],n)}class qa{get rootNodes(){const t=this._lView,n=t[it];return Ka(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[$n]}set context(t){this._lView[$n]=t}get destroyed(){return 256==(256&this._lView[Pt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[ln];if(cr(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Rl(t,r),_l(n,r))}this._attachedToViewContainer=!1}Yu(this._lView[it],this._lView)}onDestroy(t){!function M(e,t){if(256==(256&e[Pt]))throw new Je(911,!1);null===e[Ms]&&(e[Ms]=[]),e[Ms].push(t)}(this._lView,t)}markForCheck(){Ga(this._cdRefInjectingView||this._lView)}detach(){this._lView[Pt]&=-129}reattach(){this._lView[Pt]|=128}detectChanges(){Zl(this._lView[it],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Je(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function y_(e,t){Fa(e,t,t[Ft],2,null,null)}(this._lView[it],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Je(902,!1);this._appRef=t}}class xb extends qa{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Zl(t[it],t,t[$n],!1)}checkNoChanges(){}get context(){return null}}class Dp extends Wl{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Lt(t);return new Xa(n,this.ngModule)}}function Sp(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class kb{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Ye(r);const s=this.injector.get(t,Pc,r);return s!==Pc||n===Pc?s:this.parentInjector.get(t,n,r)}}class Xa extends Tf{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=Sp(t.inputs);if(null!==n)for(const s of r)n.hasOwnProperty(s.propName)&&(s.transform=n[s.propName]);return r}get outputs(){return Sp(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function $i(e){return e.map(Ui).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,s){let i=(s=s||this.ngModule)instanceof Yi?s:s?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const c=i?new kb(t,i):t,p=c.get(If,null);if(null===p)throw new Je(407,!1);const z={rendererFactory:p,sanitizer:c.get(P0,null),effectManager:c.get(vp,null),afterRenderEventManager:c.get(Lc,null)},se=p.createRenderer(null,this.componentDef),ce=this.componentDef.selectors[0][0]||"div",Ne=r?function sb(e,t,n,r){const i=r.get(Kf,!1)||n===br.ShadowDom,c=e.selectRootElement(t,i);return function ib(e){op(e)}(c),c}(se,r,this.componentDef.encapsulation,c):Pl(se,ce,function Nb(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(ce)),St=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let Ue=null;null!==Ne&&(Ue=Ac(Ne,c,!0));const Yt=Bc(0,null,null,1,0,null,null,null,null,null,null),mn=Ql(null,Yt,null,St,null,null,z,se,c,null,Ue);let sr,mi;zn(mn);try{const go=this.componentDef;let Sa,Zd=null;go.findHostDirectiveDefs?(Sa=[],Zd=new Map,go.findHostDirectiveDefs(go,Sa,Zd),Sa.push(go)):Sa=[go];const BS=function Lb(e,t){const n=e[it],r=Ht;return e[r]=t,la(n,r,2,"#host",null)}(mn,Ne),HS=function jb(e,t,n,r,s,i,c){const p=s[it];!function Vb(e,t,n,r){for(const s of e)t.mergedAttrs=Rr(t.mergedAttrs,s.hostAttrs);null!==t.mergedAttrs&&(Yl(t,t.mergedAttrs,!0),null!==n&&Zh(r,n,t))}(r,e,t,c);let _=null;null!==t&&(_=Ac(t,s[wr]));const T=i.rendererFactory.createRenderer(t,n);let j=16;n.signals?j=4096:n.onPush&&(j=64);const z=Ql(s,ip(n),null,j,s[e.index],e,i,T,null,null,_);return p.firstCreatePass&&zc(p,e,r.length-1),Jl(s,z),s[e.index]=z}(BS,Ne,go,Sa,mn,z,se);mi=zt(Yt,Ht),Ne&&function $b(e,t,n,r){if(r)Bs(e,n,["ng-version",R0.full]);else{const{attrs:s,classes:i}=function hs(e){const t=[],n=[];let r=1,s=2;for(;r<e.length;){let i=e[r];if("string"==typeof i)2===s?""!==i&&t.push(i,e[++r]):8===s&&n.push(i);else{if(!Un(s))break;s=i}r++}return{attrs:t,classes:n}}(t.selectors[0]);s&&Bs(e,n,s),i&&i.length>0&&Yh(e,n,i.join(" "))}}(se,go,Ne,r),void 0!==n&&function Bb(e,t,n){const r=e.projection=[];for(let s=0;s<t.length;s++){const i=n[s];r.push(null!=i?Array.from(i):null)}}(mi,this.ngContentSelectors,n),sr=function Ub(e,t,n,r,s,i){const c=At(),p=s[it],_=tt(c,s);up(p,s,c,n,null,r);for(let j=0;j<n.length;j++)Us(Oo(s,p,c.directiveStart+j,c),s);cp(p,s,c),_&&Us(_,s);const T=Oo(s,p,c.directiveStart+c.componentOffset,c);if(e[$n]=s[$n]=T,null!==i)for(const j of i)j(T,t);return Vc(p,c,e),T}(HS,go,Sa,Zd,mn,[Hb]),qc(Yt,mn,null)}finally{Ao()}return new Fb(this.componentType,sr,sa(mi,mn),mn,mi)}}class Fb extends D0{constructor(t,n,r,s,i){super(),this.location=r,this._rootLView=s,this._tNode=i,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new xb(s),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let s;if(null!==r&&(s=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const i=this._rootLView;Kc(i[it],i,s,t,n),this.previousInputValues.set(t,n),Ga(It(this._tNode.index,i))}}get injector(){return new ri(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function Hb(){const e=At();hl(he()[it],e)}function Xc(e){let t=function Mp(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let s;if(Yr(e))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Je(903,!1);s=t.\u0275dir}if(s){if(n){r.push(s);const c=e;c.inputs=eu(e.inputs),c.inputTransforms=eu(e.inputTransforms),c.declaredInputs=eu(e.declaredInputs),c.outputs=eu(e.outputs);const p=s.hostBindings;p&&Kb(e,p);const _=s.viewQuery,T=s.contentQueries;if(_&&Gb(e,_),T&&Wb(e,T),cn(e.inputs,s.inputs),cn(e.declaredInputs,s.declaredInputs),cn(e.outputs,s.outputs),null!==s.inputTransforms&&(null===c.inputTransforms&&(c.inputTransforms={}),cn(c.inputTransforms,s.inputTransforms)),Yr(s)&&s.data.animation){const j=e.data;j.animation=(j.animation||[]).concat(s.data.animation)}}const i=s.features;if(i)for(let c=0;c<i.length;c++){const p=i[c];p&&p.ngInherit&&p(e),p===Xc&&(n=!1)}}t=Object.getPrototypeOf(t)}!function zb(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const s=e[r];s.hostVars=t+=s.hostVars,s.hostAttrs=Rr(s.hostAttrs,n=Rr(n,s.hostAttrs))}}(r)}function eu(e){return e===hr?{}:e===mt?[]:e}function Gb(e,t){const n=e.viewQuery;e.viewQuery=n?(r,s)=>{t(r,s),n(r,s)}:t}function Wb(e,t){const n=e.contentQueries;e.contentQueries=n?(r,s,i)=>{t(r,s,i),n(r,s,i)}:t}function Kb(e,t){const n=e.hostBindings;e.hostBindings=n?(r,s)=>{t(r,s),n(r,s)}:t}function Op(e){const t=e.inputConfig,n={};for(const r in t)if(t.hasOwnProperty(r)){const s=t[r];Array.isArray(s)&&s[2]&&(n[r]=s[2])}e.inputTransforms=n}function tu(e){return!!Qc(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Qc(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function to(e,t,n){return e[t]=n}function Qa(e,t){return e[t]}function $s(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function xo(e,t,n,r){const s=$s(e,t,n);return $s(e,t+1,r)||s}function Jc(e,t,n,r){const s=he();return $s(s,To(),t)&&(Ve(),eo(kr(),s,e,t,n,r)),Jc}function ca(e,t,n,r){return $s(e,To(),n)?t+st(n)+r:rn}function da(e,t,n,r,s,i){const p=xo(e,function Qi(){return R.lFrame.bindingIndex}(),n,s);return g(2),p?t+st(n)+r+st(s)+i:rn}const cw=new RegExp(`^(\\d+)*(${Cc}|${wc})*(.*)`);function td(e){return e.index-Ht}function su(e,t,n,r){let s=null;const i=td(r),c=e.data[Mc];if(c?.[i])s=function gw(e,t){const[n,...r]=function hw(e){const t=e.match(cw),[n,r,s,i]=t,c=r?parseInt(r,10):s,p=[];for(const[_,T,j]of i.matchAll(/(f|n)(\d*)/g)){const z=parseInt(j,10)||1;p.push(T,z)}return[c,...p]}(e);let s;return s=n===wc?t[In][tn]:n===Cc?function Hf(e){return e.ownerDocument.body}(t[In][tn]):ae(t[Number(n)+Ht]),function pw(e,t){let n=e;for(let r=0;r<t.length;r+=2){const s=t[r],i=t[r+1];for(let c=0;c<i;c++)switch(s){case na.FirstChild:n=n.firstChild;break;case na.NextSibling:n=n.nextSibling}}return n}(s,r)}(c[i],n);else if(t.firstChild===r)s=e.firstChild;else{const p=null===r.prev,_=r.prev??r.parent;if(function fw(e){return!e.prev&&8===e.parent?.type}(r))s=Ic(e,td(r.parent));else{let T=tt(_,n);if(p)s=T.firstChild;else{const j=td(_),z=Ic(e,j);s=2===_.type&&z?iu(Oc(e,j)+1,z):T.nextSibling}}}return s}function iu(e,t){let n=t;for(let r=0;r<e;r++)n=n.nextSibling;return n}function Hp(e,t,n,r,s,i,c,p){const _=he(),T=Ve(),j=e+Ht,z=T.firstCreatePass?function vw(e,t,n,r,s,i,c,p,_){const T=t.consts,j=la(t,e,4,c||null,m(T,p));Hc(t,n,j,m(T,_)),hl(t,j);const z=j.tView=Bc(2,j,r,s,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,T,null);return null!==t.queries&&(t.queries.template(t,j),z.queries=t.queries.embeddedTView(j)),j}(j,T,_,t,n,r,s,i,c):T.data[j];gr(z,!1);const se=zp(T,_,z,e);dl()&&Nl(T,_,se,z),Us(se,_),Jl(_,_[j]=hp(se,_,se,z)),xr(z)&&Uc(T,_,z),null!=c&&$c(_,z,p)}let zp=Gp;function Gp(e,t,n,r){return _o(!0),t[Ft].createComment("")}function _w(e,t,n,r){const s=t[Ar],i=!s||fe()||Gl(s,r);if(_o(i),i)return Gp(0,t);const c=s.data[Dc]?.[r]??null;null!==c&&null!==n.tView&&null===n.tView.ssrId&&(n.tView.ssrId=c);const p=su(s,e,t,n);return zl(s,r,p),iu(Oc(s,r),p)}function Wp(e){return Tt(function Au(){return R.lFrame.contextLView}(),Ht+e)}function rd(e,t,n){const r=he();return $s(r,To(),t)&&Ai(Ve(),kr(),r,e,t,r[Ft],n,!1),rd}function sd(e,t,n,r,s){const c=s?"class":"style";Kc(e,n,t.inputs[c],c,r)}function ou(e,t,n,r){const s=he(),i=Ve(),c=Ht+e,p=s[Ft],_=i.firstCreatePass?function Cw(e,t,n,r,s,i){const c=t.consts,_=la(t,e,2,r,m(c,s));return Hc(t,n,_,m(c,i)),null!==_.attrs&&Yl(_,_.attrs,!1),null!==_.mergedAttrs&&Yl(_,_.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,_),_}(c,i,s,t,n,r):i.data[c],T=Kp(i,s,_,p,t,e);s[c]=T;const j=xr(_);return gr(_,!0),Zh(p,T,_),32!=(32&_.flags)&&dl()&&Nl(i,s,T,_),0===function Z(){return R.lFrame.elementDepthCount}()&&Us(T,s),function De(){R.lFrame.elementDepthCount++}(),j&&(Uc(i,s,_),Vc(i,_,s)),null!==r&&$c(s,_),ou}function au(){let e=At();co()?Vo():(e=e.parent,gr(e,!1));const t=e;(function Re(e){return R.skipHydrationRootTNode===e})(t)&&function Bt(){R.skipHydrationRootTNode=null}(),function je(){R.lFrame.elementDepthCount--}();const n=Ve();return n.firstCreatePass&&(hl(n,e),Qs(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function gv(e){return 0!=(8&e.flags)}(t)&&sd(n,t,he(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function mv(e){return 0!=(16&e.flags)}(t)&&sd(n,t,he(),t.stylesWithoutHost,!1),au}function id(e,t,n,r){return ou(e,t,n,r),au(),id}let Kp=(e,t,n,r,s,i)=>(_o(!0),Pl(r,s,eh()));function Ew(e,t,n,r,s,i){const c=t[Ar],p=!c||fe()||Gl(c,i);if(_o(p),p)return Pl(r,s,eh());const _=su(c,e,t,n);return Mf(c,i)&&zl(c,i,_.nextSibling),c&&(Th(n)||Ah(_))&&Bn(n)&&(function nt(e){R.skipHydrationRootTNode=e}(n),Qh(_)),_}function lu(e,t,n){const r=he(),s=Ve(),i=e+Ht,c=s.firstCreatePass?function Sw(e,t,n,r,s){const i=t.consts,c=m(i,r),p=la(t,e,8,"ng-container",c);return null!==c&&Yl(p,c,!0),Hc(t,n,p,m(i,s)),null!==t.queries&&t.queries.elementStart(t,p),p}(i,s,r,t,n):s.data[i];gr(c,!0);const p=Xp(s,r,c,e);return r[i]=p,dl()&&Nl(s,r,p,c),Us(p,r),xr(c)&&(Uc(s,r,c),Vc(s,c,r)),null!=n&&$c(r,c),lu}function uu(){let e=At();const t=Ve();return co()?Vo():(e=e.parent,gr(e,!1)),t.firstCreatePass&&(hl(t,e),Qs(e)&&t.queries.elementEnd(e)),uu}let Xp=(e,t,n,r)=>(_o(!0),Ju(t[Ft],""));function Mw(e,t,n,r){let s;const i=t[Ar],c=!i||fe();if(_o(c),c)return Ju(t[Ft],"");const p=su(i,e,t,n),_=function E0(e,t){const n=e.data;let r=n[Ec]?.[t]??null;return null===r&&n[Ba]?.[t]&&(r=Oc(e,t)),r}(i,r);return zl(i,r,p),s=iu(_,p),s}function Qp(){return he()}function od(e){return!!e&&"function"==typeof e.then}function Jp(e){return!!e&&"function"==typeof e.subscribe}function ad(e,t,n,r){const s=he(),i=Ve(),c=At();return function Zp(e,t,n,r,s,i,c){const p=xr(r),T=e.firstCreatePass&&gp(e),j=t[$n],z=pp(t);let se=!0;if(3&r.type||c){const ze=tt(r,t),ut=c?c(ze):ze,St=z.length,Ue=c?mn=>c(ae(mn[r.index])):r.index;let Yt=null;if(!c&&p&&(Yt=function Aw(e,t,n,r){const s=e.cleanup;if(null!=s)for(let i=0;i<s.length-1;i+=2){const c=s[i];if(c===n&&s[i+1]===r){const p=t[fs],_=s[i+2];return p.length>_?p[_]:null}"string"==typeof c&&(i+=2)}return null}(e,t,s,r.index)),null!==Yt)(Yt.__ngLastListenerFn__||Yt).__ngNextListenerFn__=i,Yt.__ngLastListenerFn__=i,se=!1;else{i=tg(r,t,j,i,!1);const mn=n.listen(ut,s,i);z.push(i,mn),T&&T.push(s,Ue,St,St+1)}}else i=tg(r,t,j,i,!1);const ce=r.outputs;let Ne;if(se&&null!==ce&&(Ne=ce[s])){const ze=Ne.length;if(ze)for(let ut=0;ut<ze;ut+=2){const sr=t[Ne[ut]][Ne[ut+1]].subscribe(i),mi=z.length;z.push(i,sr),T&&T.push(s,r.index,mi,-(mi+1))}}}(i,s,s[Ft],c,e,t,r),ad}function eg(e,t,n,r){try{return V(6,t,n),!1!==n(r)}catch(s){return yp(e,s),!1}finally{V(7,t,n)}}function tg(e,t,n,r,s){return function i(c){if(c===Function)return r;Ga(e.componentOffset>-1?It(e.index,t):t);let _=eg(t,n,r,c),T=i.__ngNextListenerFn__;for(;T;)_=eg(t,n,T,c)&&_,T=T.__ngNextListenerFn__;return s&&!1===_&&c.preventDefault(),_}}function ng(e=1){return function vo(e){return(R.lFrame.contextLView=function Pu(e,t){for(;e>0;)t=t[Qr],e--;return t}(e,R.lFrame.contextLView))[$n]}(e)}function ld(e,t,n){return cu(e,"",t,"",n),ld}function cu(e,t,n,r,s){const i=he(),c=ca(i,t,n,r);return c!==rn&&Ai(Ve(),kr(),i,e,c,i[Ft],s,!1),cu}function du(e,t){return e<<17|t<<2}function Co(e){return e>>17&32767}function ud(e){return 2|e}function No(e){return(131068&e)>>2}function cd(e,t){return-131069&e|t<<2}function dd(e){return 1|e}function dg(e,t,n,r,s){const i=e[n+1],c=null===t;let p=r?Co(i):No(i),_=!1;for(;0!==p&&(!1===_||c);){const j=e[p+1];Lw(e[p],t)&&(_=!0,e[p+1]=r?dd(j):ud(j)),p=r?Co(j):No(j)}_&&(e[n+1]=r?ud(i):dd(i))}function Lw(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Ko(e,t)>=0}const as={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function hg(e){return e.substring(as.key,as.keyEnd)}function fg(e,t){const n=as.textEnd;return n===t?-1:(t=as.keyEnd=function $w(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,as.key=t,n),va(e,t,n))}function va(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function hd(e,t,n){return Gi(e,t,n,!1),hd}function fd(e,t){return Gi(e,t,null,!0),fd}function ro(e,t){for(let n=function Vw(e){return function gg(e){as.key=0,as.keyEnd=0,as.value=0,as.valueEnd=0,as.textEnd=e.length}(e),fg(e,va(e,0,as.textEnd))}(t);n>=0;n=fg(t,n))Ti(e,hg(t),!0)}function Gi(e,t,n,r){const s=he(),i=Ve(),c=g(2);i.firstUpdatePass&&_g(i,e,c,r),t!==rn&&$s(s,c,t)&&wg(i,i.data[ni()],s,s[Ft],e,s[c+1]=function Zw(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=He(bo(e)))),e}(t,n),r,c)}function vg(e,t){return t>=e.expandoStartIndex}function _g(e,t,n,r){const s=e.data;if(null===s[n+1]){const i=s[ni()],c=vg(e,n);Eg(i,r)&&null===t&&!c&&(t=!1),t=function Ww(e,t,n,r){const s=function q(e){const t=R.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let i=r?t.residualClasses:t.residualStyles;if(null===s)0===(r?t.classBindings:t.styleBindings)&&(n=el(n=pd(null,e,t,n,r),t.attrs,r),i=null);else{const c=t.directiveStylingLast;if(-1===c||e[c]!==s)if(n=pd(s,e,t,n,r),null===i){let _=function Kw(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==No(r))return e[Co(r)]}(e,t,r);void 0!==_&&Array.isArray(_)&&(_=pd(null,e,t,_[1],r),_=el(_,t.attrs,r),function qw(e,t,n,r){e[Co(n?t.classBindings:t.styleBindings)]=r}(e,t,r,_))}else i=function Xw(e,t,n){let r;const s=t.directiveEnd;for(let i=1+t.directiveStylingLast;i<s;i++)r=el(r,e[i].hostAttrs,n);return el(r,t.attrs,n)}(e,t,r)}return void 0!==i&&(r?t.residualClasses=i:t.residualStyles=i),n}(s,i,t,r),function kw(e,t,n,r,s,i){let c=i?t.classBindings:t.styleBindings,p=Co(c),_=No(c);e[r]=n;let j,T=!1;if(Array.isArray(n)?(j=n[1],(null===j||Ko(n,j)>0)&&(T=!0)):j=n,s)if(0!==_){const se=Co(e[p+1]);e[r+1]=du(se,p),0!==se&&(e[se+1]=cd(e[se+1],r)),e[p+1]=function xw(e,t){return 131071&e|t<<17}(e[p+1],r)}else e[r+1]=du(p,0),0!==p&&(e[p+1]=cd(e[p+1],r)),p=r;else e[r+1]=du(_,0),0===p?p=r:e[_+1]=cd(e[_+1],r),_=r;T&&(e[r+1]=ud(e[r+1])),dg(e,j,r,!0),dg(e,j,r,!1),function Fw(e,t,n,r,s){const i=s?e.residualClasses:e.residualStyles;null!=i&&"string"==typeof t&&Ko(i,t)>=0&&(n[r+1]=dd(n[r+1]))}(t,j,e,r,i),c=du(p,_),i?t.classBindings=c:t.styleBindings=c}(s,i,t,n,c,r)}}function pd(e,t,n,r,s){let i=null;const c=n.directiveEnd;let p=n.directiveStylingLast;for(-1===p?p=n.directiveStart:p++;p<c&&(i=t[p],r=el(r,i.hostAttrs,s),i!==e);)p++;return null!==e&&(n.directiveStylingLast=p),r}function el(e,t,n){const r=n?1:2;let s=-1;if(null!==t)for(let i=0;i<t.length;i++){const c=t[i];"number"==typeof c?s=c:s===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Ti(e,c,!!n||t[++i]))}return void 0===e?null:e}function wg(e,t,n,r,s,i,c,p){if(!(3&t.type))return;const _=e.data,T=_[p+1],j=function Nw(e){return 1==(1&e)}(T)?Cg(_,t,n,s,No(T),c):void 0;hu(j)||(hu(i)||function Rw(e){return 2==(2&e)}(T)&&(i=Cg(_,null,n,s,p,c)),function T_(e,t,n,r,s){if(t)s?e.addClass(n,r):e.removeClass(n,r);else{let i=-1===r.indexOf("-")?void 0:Il.DashCase;null==s?e.removeStyle(n,r,i):("string"==typeof s&&s.endsWith("!important")&&(s=s.slice(0,-10),i|=Il.Important),e.setStyle(n,r,s,i))}}(r,c,Ze(ni(),n),s,i))}function Cg(e,t,n,r,s,i){const c=null===t;let p;for(;s>0;){const _=e[s],T=Array.isArray(_),j=T?_[1]:_,z=null===j;let se=n[s+1];se===rn&&(se=z?mt:void 0);let ce=z?$u(se,r):j===r?se:void 0;if(T&&!hu(ce)&&(ce=$u(_,r)),hu(ce)&&(p=ce,c))return p;const Ne=e[s+1];s=c?Co(Ne):No(Ne)}if(null!==t){let _=i?t.residualClasses:t.residualStyles;null!=_&&(p=$u(_,r))}return p}function hu(e){return void 0!==e}function Eg(e,t){return 0!=(e.flags&(t?8:16))}function Dg(e,t=""){const n=he(),r=Ve(),s=e+Ht,i=r.firstCreatePass?la(r,s,1,t,null):r.data[s],c=Sg(r,n,i,t,e);n[s]=c,dl()&&Nl(r,n,c,i),gr(i,!1)}let Sg=(e,t,n,r,s)=>(_o(!0),Ol(t[Ft],r));function eC(e,t,n,r,s){const i=t[Ar],c=!i||fe()||Gl(i,s);return _o(c),c?Ol(t[Ft],r):su(i,e,t,n)}function gd(e){return fu("",e,""),gd}function fu(e,t,n){const r=he(),s=ca(r,e,t,n);return s!==rn&&po(r,ni(),s),fu}function md(e,t,n,r,s){const i=he(),c=da(i,e,t,n,r,s);return c!==rn&&po(i,ni(),c),md}function xg(e,t,n){!function Wi(e,t,n,r){const s=Ve(),i=g(2);s.firstUpdatePass&&_g(s,null,i,r);const c=he();if(n!==rn&&$s(c,i,n)){const p=s.data[ni()];if(Eg(p,r)&&!vg(s,i)){let _=r?p.classesWithoutHost:p.stylesWithoutHost;null!==_&&(n=Ge(_,n||"")),sd(s,p,c,n,r)}else!function Yw(e,t,n,r,s,i,c,p){s===rn&&(s=mt);let _=0,T=0,j=0<s.length?s[0]:null,z=0<i.length?i[0]:null;for(;null!==j||null!==z;){const se=_<s.length?s[_+1]:void 0,ce=T<i.length?i[T+1]:void 0;let ze,Ne=null;j===z?(_+=2,T+=2,se!==ce&&(Ne=z,ze=ce)):null===z||null!==j&&j<z?(_+=2,Ne=j):(T+=2,Ne=z,ze=ce),null!==Ne&&wg(e,t,n,r,Ne,ze,c,p),j=_<s.length?s[_]:null,z=T<i.length?i[T]:null}}(s,p,c,c[Ft],c[i+1],c[i+1]=function Qw(e,t,n){if(null==n||""===n)return mt;const r=[],s=bo(n);if(Array.isArray(s))for(let i=0;i<s.length;i++)e(r,s[i],!0);else if("object"==typeof s)for(const i in s)s.hasOwnProperty(i)&&e(r,i,s[i]);else"string"==typeof s&&t(r,s);return r}(e,t,n),r,i)}}(Ti,ro,ca(he(),e,t,n),!0)}const ko=void 0;var bC=["en",[["a","p"],["AM","PM"],ko],[["AM","PM"],ko,ko],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ko,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ko,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ko,"{1} 'at' {0}",ko],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function _C(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let _a={};function yd(e){const t=function wC(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Wg(t);if(n)return n;const r=t.split("-")[0];if(n=Wg(r),n)return n;if("en"===r)return bC;throw new Je(701,!1)}function Gg(e){return yd(e)[ba.PluralCase]}function Wg(e){return e in _a||(_a[e]=en.ng&&en.ng.common&&en.ng.common.locales&&en.ng.common.locales[e]),_a[e]}var ba=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(ba||{});const wa="en-US";let Kg=wa;function bd(e,t,n,r,s){if(e=Ae(e),Array.isArray(e))for(let i=0;i<e.length;i++)bd(e[i],t,n,r,s);else{const i=Ve(),c=he(),p=At();let _=Ro(e)?e:Ae(e.provide);const T=bf(e),j=1048575&p.providerIndexes,z=p.directiveStart,se=p.providerIndexes>>20;if(Ro(e)||!e.multi){const ce=new Ma(T,s,aa),Ne=Cd(_,t,s?j:j+se,z);-1===Ne?(Lu(ml(p,c),i,_),wd(i,e,t.length),t.push(_),p.directiveStart++,p.directiveEnd++,s&&(p.providerIndexes+=1048576),n.push(ce),c.push(ce)):(n[Ne]=ce,c[Ne]=ce)}else{const ce=Cd(_,t,j+se,z),Ne=Cd(_,t,j,j+se),ut=Ne>=0&&n[Ne];if(s&&!ut||!s&&!(ce>=0&&n[ce])){Lu(ml(p,c),i,_);const St=function _E(e,t,n,r,s){const i=new Ma(e,n,aa);return i.multi=[],i.index=t,i.componentProviders=0,vm(i,s,r&&!n),i}(s?vE:yE,n.length,s,r,T);!s&&ut&&(n[Ne].providerFactory=St),wd(i,e,t.length,0),t.push(_),p.directiveStart++,p.directiveEnd++,s&&(p.providerIndexes+=1048576),n.push(St),c.push(St)}else wd(i,e,ce>-1?ce:Ne,vm(n[s?Ne:ce],T,!s&&r));!s&&r&&ut&&n[Ne].componentProviders++}}}function wd(e,t,n,r){const s=Ro(t),i=function r0(e){return!!e.useClass}(t);if(s||i){const _=(i?Ae(t.useClass):t).prototype.ngOnDestroy;if(_){const T=e.destroyHooks||(e.destroyHooks=[]);if(!s&&t.multi){const j=T.indexOf(n);-1===j?T.push(n,[r,_]):T[j+1].push(r,_)}else T.push(n,_)}}}function vm(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Cd(e,t,n,r){for(let s=n;s<r;s++)if(t[s]===e)return s;return-1}function yE(e,t,n,r){return Ed(this.multi,[])}function vE(e,t,n,r){const s=this.multi;let i;if(this.providerFactory){const c=this.providerFactory.componentProviders,p=Oo(n,n[it],this.providerFactory.index,r);i=p.slice(0,c),Ed(s,i);for(let _=c;_<p.length;_++)i.push(p[_])}else i=[],Ed(s,i);return i}function Ed(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function _m(e,t=[]){return n=>{n.providersResolver=(r,s)=>function mE(e,t,n){const r=Ve();if(r.firstCreatePass){const s=Yr(e);bd(n,r.data,r.blueprint,s,!0),bd(t,r.data,r.blueprint,s,!1)}}(r,s?s(e):e,t)}}class Fo{}class bm{}function bE(e,t){return new Dd(e,t??null,[])}class Dd extends Fo{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Dp(this);const s=Wn(t);this._bootstrapComponents=fo(s.bootstrap),this._r3Injector=kf(t,n,[{provide:Fo,useValue:this},{provide:Wl,useValue:this.componentFactoryResolver},...r],He(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Sd extends bm{constructor(t){super(),this.moduleType=t}create(t){return new Dd(this.moduleType,t,[])}}class wm extends Fo{constructor(t){super(),this.componentFactoryResolver=new Dp(this),this.instance=null;const n=new ea([...t.providers,{provide:Fo,useValue:this},{provide:Wl,useValue:this.componentFactoryResolver}],t.parent||$l(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Cm(e,t,n=null){return new wm({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let CE=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=mf(0,n.type),s=r.length>0?Cm([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Wt({token:e,providedIn:"environment",factory:()=>new e(te(Yi))})}}return e})();function Em(e){e.getStandaloneInjector=t=>t.get(CE).getOrCreateStandaloneInjector(e)}function Om(e,t,n){const r=Vs()+e,s=he();return s[r]===rn?to(s,r,n?t.call(n):t()):Qa(s,r)}function Pm(e,t,n,r){return xm(he(),Vs(),e,t,n,r)}function Rm(e,t,n,r,s,i,c,p,_){const T=Vs()+e,j=he(),z=function ji(e,t,n,r,s,i){const c=xo(e,t,n,r);return xo(e,t+2,s,i)||c}(j,T,n,r,s,i);return xo(j,T+4,c,p)||z?to(j,T+6,_?t.call(_,n,r,s,i,c,p):t(n,r,s,i,c,p)):Qa(j,T+6)}function ol(e,t){const n=e[t];return n===rn?void 0:n}function xm(e,t,n,r,s,i){const c=t+n;return $s(e,c,s)?to(e,c+1,i?r.call(i,s):r(s)):ol(e,c+1)}function km(e,t,n,r,s,i,c,p){const _=t+n;return function nu(e,t,n,r,s){const i=xo(e,t,n,r);return $s(e,t+2,s)||i}(e,_,s,i,c)?to(e,_+3,p?r.call(p,s,i,c):r(s,i,c)):ol(e,_+3)}function jm(e,t){const n=Ve();let r;const s=e+Ht;n.firstCreatePass?(r=function jE(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[s]=r,r.onDestroy&&(n.destroyHooks??=[]).push(s,r.onDestroy)):r=n.data[s];const i=r.factory||(r.factory=gs(r.type)),p=on(aa);try{const _=gl(!1),T=i();return gl(_),function ww(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,he(),s,T),T}finally{on(p)}}function Vm(e,t,n){const r=e+Ht,s=he(),i=Tt(s,r);return al(s,r)?xm(s,Vs(),t,i.transform,n,i):i.transform(n)}function Um(e,t,n,r){const s=e+Ht,i=he(),c=Tt(i,s);return al(i,s)?function Nm(e,t,n,r,s,i,c){const p=t+n;return xo(e,p,s,i)?to(e,p+2,c?r.call(c,s,i):r(s,i)):ol(e,p+2)}(i,Vs(),t,c.transform,n,r,c):c.transform(n,r)}function $m(e,t,n,r,s){const i=e+Ht,c=he(),p=Tt(c,i);return al(c,i)?km(c,Vs(),t,p.transform,n,r,s,p):p.transform(n,r,s)}function al(e,t){return e[it].data[t].pure}function $E(){return this._results[Symbol.iterator]()}class Td{get changes(){return this._changes||(this._changes=new Zi)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Td.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=$E)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const s=function Li(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Ov(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let s=e[r],i=t[r];if(n&&(s=n(s),i=n(i)),i!==s)return!1}return!0}(r._results,s,n))&&(r._results=s,r.length=s.length,r.last=s[this.length-1],r.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function HE(e,t,n,r=!0){const s=t[it];if(function __(e,t,n,r){const s=Pn+r,i=n.length;r>0&&(n[s-1][lr]=t),r<i-Pn?(t[lr]=n[s],mh(n,Pn+r,t)):(n.push(t),t[lr]=null),t[ln]=n;const c=t[Ds];null!==c&&n!==c&&function b_(e,t){const n=e[Xs];t[In]!==t[ln][ln][In]&&(e[ur]=!0),null===n?e[Xs]=[t]:n.push(t)}(c,t);const p=t[Ur];null!==p&&p.insertView(e),t[Pt]|=128}(s,t,e,n),r){const i=nc(n,e),c=t[Ft],p=xl(c,e[$r]);null!==p&&function m_(e,t,n,r,s,i){r[tn]=s,r[Qn]=t,Fa(e,r,n,1,s,i)}(s,e[Qn],c,t,p,i)}}let ll=(()=>{class e{static{this.__NG_ELEMENT_ID__=WE}}return e})();const zE=ll,GE=class extends zE{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const s=function BE(e,t,n,r){const s=t.tView,p=Ql(e,s,n,4096&e[Pt]?4096:16,null,t,null,null,null,r?.injector??null,r?.hydrationInfo??null);p[Ds]=e[t.index];const T=e[Ur];return null!==T&&(p[Ur]=T.createEmbeddedView(s)),qc(s,p,n),p}(this._declarationLView,this._declarationTContainer,t,{injector:n,hydrationInfo:r});return new qa(s)}};function WE(){return vu(At(),he())}function vu(e,t){return 4&e.type?new GE(t,e,sa(e,t)):null}function Bm(e){const t=e[ui]??[],r=e[ln][Ft];for(const s of t)KE(s,r);e[ui]=mt}function KE(e,t){let n=0,r=e.firstChild;if(r){const s=e.data[ra];for(;n<s;){const i=r.nextSibling;kl(t,r,!1),r=i,n++}}}function Hm(e){Bm(e);for(let t=Pn;t<e.length;t++)_u(e[t])}function _u(e){const t=e[it];for(let n=Ht;n<t.bindingStartIndex;n++)cr(e[n])?Hm(e[n]):Array.isArray(e[n])&&_u(e[n])}let zm=(e,t)=>null;function QE(e,t){const n=e[ui];return t&&null!==n&&0!==n.length?n[0].data[Sc]===t?n.shift():(Bm(e),null):null}function Gm(e,t){return zm(e,t)}let bu=(()=>{class e{static{this.__NG_ELEMENT_ID__=YE}}return e})();function YE(){return qm(At(),he())}const ZE=bu,Wm=class extends ZE{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return sa(this._hostTNode,this._hostLView)}get injector(){return new ri(this._hostTNode,this._hostLView)}get parentInjector(){const t=yl(this._hostTNode,this._hostLView);if(Nu(t)){const n=Aa(t,this._hostLView),r=Ta(t);return new ri(n[it].data[r+8],n)}return new ri(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Km(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Pn}createEmbeddedView(t,n,r){let s,i;"number"==typeof r?s=r:null!=r&&(s=r.index,i=r.injector);const c=Gm(this._lContainer,t.ssrId),p=t.createEmbeddedViewImpl(n||{},i,c),_=!!c&&!Tl(this._hostTNode);return this.insertImpl(p,s,_),p}createComponent(t,n,r,s,i){const c=t&&!function Oa(e){return"function"==typeof e}(t);let p;if(c)p=n;else{const ze=n||{};p=ze.index,r=ze.injector,s=ze.projectableNodes,i=ze.environmentInjector||ze.ngModuleRef}const _=c?t:new Xa(Lt(t)),T=r||this.parentInjector;if(!i&&null==_.ngModule){const ut=(c?T:this.parentInjector).get(Yi,null);ut&&(i=ut)}const j=Lt(_.componentType??{}),z=Gm(this._lContainer,j?.id??null),ce=_.create(T,s,z?.firstChild??null,i),Ne=!!z&&!Tl(this._hostTNode);return this.insertImpl(ce.hostView,p,Ne),ce}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const s=t._lView;if(function Cr(e){return cr(e[ln])}(s)){const _=this.indexOf(t);if(-1!==_)this.detach(_);else{const T=s[ln],j=new Wm(T,T[Qn],T[ln]);j.detach(j.indexOf(t))}}const c=this._adjustIndex(n),p=this._lContainer;return HE(p,s,c,!r),t.attachToViewContainerRef(),mh(Ad(p),c,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Km(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Rl(this._lContainer,n);r&&(_l(Ad(this._lContainer),n),Yu(r[it],r))}detach(t){const n=this._adjustIndex(t,-1),r=Rl(this._lContainer,n);return r&&null!=_l(Ad(this._lContainer),n)?new qa(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Km(e){return e[8]}function Ad(e){return e[8]||(e[8]=[])}function qm(e,t){let n;const r=t[e.index];return cr(r)?n=r:(n=hp(r,t,null,e),t[e.index]=n,Jl(t,n)),Xm(n,t,e,r),new Wm(n,e,t)}let Xm=Qm;function Qm(e,t,n,r){if(e[$r])return;let s;s=8&n.type?ae(r):function eD(e,t){const n=e[Ft],r=n.createComment(""),s=tt(t,e);return Po(n,xl(n,s),r,function D_(e,t){return e.nextSibling(t)}(n,s),!1),r}(t,n),e[$r]=s}function tD(e,t,n,r){if(e[$r]&&e[ui])return;const s=t[Ar],i=n.index-Ht,c=function Al(e){let t=e.parent;for(;t;){if(Th(t))return!0;t=t.parent}return!1}(n)||Tl(n);if(!s||c||Gl(s,i))return Qm(e,t,n,r);const _=Ic(s,i),T=s.data[Ba]?.[i],[j,z]=function XE(e,t){const n=[];for(const r of t)for(let s=0;s<(r[Bl]??1);s++){const i={data:r,firstChild:null};r[ra]>0&&(i.firstChild=e,e=iu(r[ra],e)),n.push(i)}return[e,n]}(_,T);e[$r]=j,e[ui]=z}class Id{constructor(t){this.queryList=t,this.matches=null}clone(){return new Id(this.queryList)}setDirty(){this.queryList.setDirty()}}class Od{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,s=[];for(let i=0;i<r;i++){const c=n.getByIndex(i);s.push(this.queries[c.indexInDeclarationView].clone())}return new Od(s)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==iy(t,n).matches&&this.queries[n].setDirty()}}class Jm{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class Pd{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const s=null!==n?n.length:0,i=this.getByIndex(r).embeddedTView(t,s);i&&(i.indexInDeclarationView=r,null!==n?n.push(i):n=[i])}return null!==n?new Pd(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Rd{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new Rd(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let s=0;s<r.length;s++){const i=r[s];this.matchTNodeWithReadOption(t,n,rD(n,i)),this.matchTNodeWithReadOption(t,n,vl(n,t,i,!1,!1))}else r===ll?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,vl(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const s=this.metadata.read;if(null!==s)if(s===za||s===bu||s===ll&&4&n.type)this.addMatch(n.index,-2);else{const i=vl(n,t,s,!1,!1);null!==i&&this.addMatch(n.index,i)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function rD(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function iD(e,t,n,r){return-1===n?function sD(e,t){return 11&e.type?sa(e,t):4&e.type?vu(e,t):null}(t,e):-2===n?function oD(e,t,n){return n===za?sa(t,e):n===ll?vu(t,e):n===bu?qm(t,e):void 0}(e,t,r):Oo(e,e[it],n,t)}function Ym(e,t,n,r){const s=t[Ur].queries[r];if(null===s.matches){const i=e.data,c=n.matches,p=[];for(let _=0;_<c.length;_+=2){const T=c[_];p.push(T<0?null:iD(t,i[T],c[_+1],n.metadata.read))}s.matches=p}return s.matches}function xd(e,t,n,r){const s=e.queries.getByIndex(n),i=s.matches;if(null!==i){const c=Ym(e,t,s,n);for(let p=0;p<i.length;p+=2){const _=i[p];if(_>0)r.push(c[p/2]);else{const T=i[p+1],j=t[-_];for(let z=Pn;z<j.length;z++){const se=j[z];se[Ds]===se[ln]&&xd(se[it],se,T,r)}if(null!==j[Xs]){const z=j[Xs];for(let se=0;se<z.length;se++){const ce=z[se];xd(ce[it],ce,T,r)}}}}}return r}function Zm(e){const t=he(),n=Ve(),r=Se();we(r+1);const s=iy(n,r);if(e.dirty&&function Yn(e){return 4==(4&e[Pt])}(t)===(2==(2&s.metadata.flags))){if(null===s.matches)e.reset([]);else{const i=s.crossesNgTemplate?xd(n,t,r,[]):Ym(n,t,s,r);e.reset(i,A0),e.notifyOnChanges()}return!0}return!1}function ey(e,t,n){const r=Ve();r.firstCreatePass&&(sy(r,new Jm(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),ry(r,he(),t)}function ty(e,t,n,r){const s=Ve();if(s.firstCreatePass){const i=At();sy(s,new Jm(t,n,r),i.index),function lD(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(s,e),2==(2&n)&&(s.staticContentQueries=!0)}ry(s,he(),n)}function ny(){return function aD(e,t){return e[Ur].queries[t].queryList}(he(),Se())}function ry(e,t,n){const r=new Td(4==(4&n));(function lb(e,t,n,r){const s=pp(t);s.push(n),e.firstCreatePass&&gp(e).push(r,s.length-1)})(e,t,r,r.destroy),null===t[Ur]&&(t[Ur]=new Od),t[Ur].queries.push(new Id(r))}function sy(e,t,n){null===e.queries&&(e.queries=new Pd),e.queries.track(new Rd(t,n))}function iy(e,t){return e.queries.getByIndex(t)}function oy(e,t){return vu(e,t)}function Nd(e){return!!Wn(e)}const Ey=new xt("Application Initializer");let Vd=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=Fe(Ey,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const s of this.appInits){const i=s();if(od(i))n.push(i);else if(Jp(i)){const c=new Promise((p,_)=>{i.subscribe({complete:p,error:_})});n.push(c)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(s=>{this.reject(s)}),0===n.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Wt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Dy=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Wt({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const Cu=new xt("LocaleId",{providedIn:"root",factory:()=>Fe(Cu,gt.Optional|gt.SkipSelf)||function ID(){return typeof $localize<"u"&&$localize.locale||wa}()}),OD=new xt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Sy=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new me.t(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Wt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class RD{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let xD=(()=>{class e{compileModuleSync(n){return new Sd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),i=fo(Wn(n).declarations).reduce((c,p)=>{const _=Lt(p);return _&&c.push(new Xa(_)),c},[]);return new RD(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Wt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Iy=new xt(""),Oy=new xt("");let Bd,tS=(()=>{class e{constructor(n,r,s){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Bd||(function nS(e){Bd=e}(s),s.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ys.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,s){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(c=>c.timeoutId!==i),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:i,updateCb:s})}whenStable(n,r,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,s){return[]}static{this.\u0275fac=function(r){return new(r||e)(te(ys),te(Py),te(Oy))}}static{this.\u0275prov=Wt({token:e,factory:e.\u0275fac})}}return e})(),Py=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Bd?.findTestabilityInTree(this,n,r)??null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Wt({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),Eo=null;const Hd=new xt("PlatformDestroyListeners"),zd=new xt("appBootstrapListener");class iS{constructor(t,n){this.name=t,this.token=n}}function lS(e){try{const{rootComponent:t,appProviders:n,platformProviders:r}=e,s=function aS(e=[]){if(Eo)return Eo;const t=function ky(e=[],t){return zi.create({name:t,providers:[{provide:mc,useValue:"platform"},{provide:Hd,useValue:new Set([()=>Eo=null])},...e]})}(e);return Eo=t,function xy(){!function Q(e){S=e}(()=>{throw new Je(600,!1)})}(),function Ny(e){e.get(Cf,null)?.forEach(n=>n())}(t),t}(r),i=[fS(),...n||[]],p=new wm({providers:i,parent:s,debugName:"",runEnvironmentInitializers:!1}).injector,_=p.get(ys);return _.run(()=>{p.resolveInjectorInitializers();const T=p.get(wo,null);let j;_.runOutsideAngular(()=>{j=_.onError.subscribe({next:ce=>{T.handleError(ce)}})});const z=()=>p.destroy(),se=s.get(Hd);return se.add(z),p.onDestroy(()=>{j.unsubscribe(),se.delete(z)}),function jy(e,t,n){try{const r=n();return od(r)?r.catch(s=>{throw t.runOutsideAngular(()=>e.handleError(s)),s}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(T,_,()=>{const ce=p.get(Vd);return ce.runInitializers(),ce.donePromise.then(()=>{!function qg(e){wt(e,"Expected localeId to be defined"),"string"==typeof e&&(Kg=e.toLowerCase().replace(/_/g,"-"))}(p.get(Cu,wa)||wa);const ze=p.get(Da);return void 0!==t&&ze.bootstrap(t),ze})})})}catch(t){return Promise.reject(t)}}let Da=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Fe($y),this.zoneIsStable=Fe(Uf),this.componentTypes=[],this.components=[],this.isStable=Fe(Sy).hasPendingTasks.pipe((0,Rt.n)(n=>n?(0,oe.of)(!1):this.zoneIsStable),(0,ht.F)(),Be()),this._injector=Fe(Yi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const s=n instanceof Tf;if(!this._injector.get(Vd).done)throw!s&&Gr(n),new Je(405,!1);let c;c=s?n:this._injector.get(Wl).resolveComponentFactory(n),this.componentTypes.push(c.componentType);const p=function sS(e){return e.isBoundToModule}(c)?void 0:this._injector.get(Fo),T=c.create(zi.NULL,[],r||c.selector,p),j=T.location.nativeElement,z=T.injector.get(Iy,null);return z?.registerApplication(j),T.onDestroy(()=>{this.detachView(T.hostView),Du(this.components,T),z?.unregisterApplication(j)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new Je(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Du(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(zd,[]);r.push(...this._bootstrapListeners),r.forEach(s=>s(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Du(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Je(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Wt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Du(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const $y=new xt("",{providedIn:"root",factory:()=>Fe(wo).handleError.bind(void 0)});function dS(){const e=Fe(ys),t=Fe(wo);return n=>e.runOutsideAngular(()=>t.handleError(n))}let hS=(()=>{class e{constructor(){this.zone=Fe(ys),this.applicationRef=Fe(Da)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=Wt({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function By(e){return[{provide:ys,useFactory:e},{provide:Ua,multi:!0,useFactory:()=>{const t=Fe(hS,{optional:!0});return()=>t.initialize()}},{provide:$y,useFactory:dS},{provide:Uf,useFactory:$f}]}function fS(e){return fc([[],By(()=>new ys(function Ly(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}(e)))])}let pS=(()=>{class e{static{this.__NG_ELEMENT_ID__=gS}}return e})();function gS(e){return function mS(e,t,n){if(Bn(e)&&!n){const r=It(e.index,t);return new qa(r,r)}return 47&e.type?new qa(t[In],t):null}(At(),he(),16==(16&e))}class Ky{constructor(){}supports(t){return tu(t)}create(t){return new wS(t)}}const bS=(e,t)=>t;class wS{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||bS}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,s=0,i=null;for(;n||r;){const c=!r||n&&n.currentIndex<Xy(r,s,i)?n:r,p=Xy(c,s,i),_=c.currentIndex;if(c===r)s--,r=r._nextRemoved;else if(n=n._next,null==c.previousIndex)s++;else{i||(i=[]);const T=p-s,j=_-s;if(T!=j){for(let se=0;se<T;se++){const ce=se<i.length?i[se]:i[se]=0,Ne=ce+se;j<=Ne&&Ne<T&&(i[se]=ce+1)}i[c.previousIndex]=j-T}}p!==_&&t(c,p,_)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!tu(t))throw new Je(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let s,i,c,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let p=0;p<this.length;p++)i=t[p],c=this._trackByFn(p,i),null!==n&&Object.is(n.trackById,c)?(r&&(n=this._verifyReinsertion(n,i,c,p)),Object.is(n.item,i)||this._addIdentityChange(n,i)):(n=this._mismatch(n,i,c,p),r=!0),n=n._next}else s=0,function ew(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,p=>{c=this._trackByFn(s,p),null!==n&&Object.is(n.trackById,c)?(r&&(n=this._verifyReinsertion(n,p,c,s)),Object.is(n.item,p)||this._addIdentityChange(n,p)):(n=this._mismatch(n,p,c,s),r=!0),n=n._next,s++}),this.length=s;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,s){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,i,s)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,s))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,i,s)):t=this._addAfter(new CS(n,r),i,s),t}_verifyReinsertion(t,n,r,s){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?t=this._reinsertAfter(i,t._prev,s):t.currentIndex!=s&&(t.currentIndex=s,this._addToMoves(t,s)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const s=t._prevRemoved,i=t._nextRemoved;return null===s?this._removalsHead=i:s._nextRemoved=i,null===i?this._removalsTail=s:i._prevRemoved=s,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const s=null===n?this._itHead:n._next;return t._next=s,t._prev=n,null===s?this._itTail=t:s._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new qy),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qy),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class CS{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ES{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class qy{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new ES,this.map.set(n,r)),r.add(t)}get(t,n){const s=this.map.get(t);return s?s.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Xy(e,t,n){const r=e.previousIndex;if(null===r)return r;let s=0;return n&&r<n.length&&(s=n[r]),r+t+s}class Qy{constructor(){}supports(t){return t instanceof Map||Qc(t)}create(){return new DS}}class DS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Qc(t)))throw new Je(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,s)=>{if(n&&n.key===s)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const i=this._getOrCreateRecordForKey(s,r);n=this._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const s=this._records.get(t);this._maybeAddToChanges(s,n);const i=s._prev,c=s._next;return i&&(i._next=c),c&&(c._prev=i),s._next=null,s._prev=null,s}const r=new SS(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class SS{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Jy(){return new Qd([new Ky])}let Qd=(()=>{class e{static{this.\u0275prov=Wt({token:e,providedIn:"root",factory:Jy})}constructor(n){this.factories=n}static create(n,r){if(null!=r){const s=r.factories.slice();n=n.concat(s)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||Jy()),deps:[[e,new Cl,new wl]]}}find(n){const r=this.factories.find(s=>s.supports(n));if(null!=r)return r;throw new Je(901,!1)}}return e})();function Yy(){return new Jd([new Qy])}let Jd=(()=>{class e{static{this.\u0275prov=Wt({token:e,providedIn:"root",factory:Yy})}constructor(n){this.factories=n}static create(n,r){if(r){const s=r.factories.slice();n=n.concat(s)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||Yy()),deps:[[e,new Cl,new wl]]}}find(n){const r=this.factories.find(s=>s.supports(n));if(r)return r;throw new Je(901,!1)}}return e})(),ov=!1;function LS(){return fc([{provide:ql,useFactory:()=>{let e=!0;return oa()&&(e=!!Fe($a,{optional:!0})?.get(Tc,null)),e&&Fe(Ef).add("hydration"),e}},{provide:Ua,useValue:()=>{oa()&&Fe(ql)&&(function jS(){const e=Yo();let t;for(const n of e.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===y0){t=n;break}if(!t)throw new Je(-507,!1)}(),function kS(){ov||(ov=!0,function _0(){Df=v0}(),function Dw(){Kp=Ew}(),function tC(){Sg=eC}(),function Tw(){Xp=Mw}(),function bw(){zp=_w}(),function nD(){Xm=tD}(),function JE(){zm=QE}(),function ab(){op=ob}())}())},multi:!0},{provide:Kf,useFactory:()=>oa()&&Fe(ql)},{provide:zd,useFactory:()=>{if(oa()&&Fe(ql)){const e=Fe(Da);return Fe(zi),()=>{(function FS(e,t){return e.isStable.pipe((0,Mt.$)(r=>r)).toPromise().then(()=>{})})(e).then(()=>{ys.assertInAngularZone(),function qE(e){const t=e._views;for(const n of t){const r=Sf(n);null!==r&&null!==r[tn]&&(Fn(r)?_u(r):(_u(r[tn]),Hm(r)))}}(e)})}}return()=>{}},multi:!0}])}function VS(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function $S(e){const t=Lt(e);if(!t)return null;const n=new Xa(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},4341:(at,pe,F)=>{"use strict";F.d(pe,{Zm:()=>ht,me:()=>He,YN:()=>Js,tU:()=>On,BC:()=>Qt,cb:()=>Kt,cV:()=>Hs,vS:()=>ai,xH:()=>lr,Fm:()=>zs,YS:()=>qs,wz:()=>ln,qT:()=>Ui,y7:()=>Rs});var u=F(6276),G=F(177),E=F(6648),ge=F(1985),re=F(3073),H=F(8750),X=F(9326),de=F(4360),ye=F(6450),me=F(8496),Me=F(6354);let Qe=(()=>{class P{constructor(D,$){this._renderer=D,this._elementRef=$,this.onChange=ne=>{},this.onTouched=()=>{}}setProperty(D,$){this._renderer.setProperty(this._elementRef.nativeElement,D,$)}registerOnTouched(D){this.onTouched=D}registerOnChange(D){this.onChange=D}setDisabledState(D){this.setProperty("disabled",D)}static{this.\u0275fac=function($){return new($||P)(u.rXU(u.sFG),u.rXU(u.aKT))}}static{this.\u0275dir=u.FsC({type:P})}}return P})(),Be=(()=>{class P extends Qe{static{this.\u0275fac=function(){let D;return function(ne){return(D||(D=u.xGo(P)))(ne||P)}}()}static{this.\u0275dir=u.FsC({type:P,features:[u.Vt3]})}}return P})();const We=new u.nKC("NgValueAccessor"),Rt={provide:We,useExisting:(0,u.Rfq)(()=>ht),multi:!0};let ht=(()=>{class P extends Be{writeValue(D){this.setProperty("checked",D)}static{this.\u0275fac=function(){let D;return function(ne){return(D||(D=u.xGo(P)))(ne||P)}}()}static{this.\u0275dir=u.FsC({type:P,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function($,ne){1&$&&u.bIt("change",function($t){return ne.onChange($t.target.checked)})("blur",function(){return ne.onTouched()})},features:[u.Jv_([Rt]),u.Vt3]})}}return P})();const Mt={provide:We,useExisting:(0,u.Rfq)(()=>He),multi:!0},cn=new u.nKC("CompositionEventMode");let He=(()=>{class P extends Qe{constructor(D,$,ne){super(D,$),this._compositionMode=ne,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ot(){const P=(0,G.QT)()?(0,G.QT)().getUserAgent():"";return/android (\d+)/.test(P.toLowerCase())}())}writeValue(D){this.setProperty("value",D??"")}_handleInput(D){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(D)}_compositionStart(){this._composing=!0}_compositionEnd(D){this._composing=!1,this._compositionMode&&this.onChange(D)}static{this.\u0275fac=function($){return new($||P)(u.rXU(u.sFG),u.rXU(u.aKT),u.rXU(cn,8))}}static{this.\u0275dir=u.FsC({type:P,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function($,ne){1&$&&u.bIt("input",function($t){return ne._handleInput($t.target.value)})("blur",function(){return ne.onTouched()})("compositionstart",function(){return ne._compositionStart()})("compositionend",function($t){return ne._compositionEnd($t.target.value)})},features:[u.Jv_([Mt]),u.Vt3]})}}return P})();const pt=new u.nKC("NgValidators"),Ae=new u.nKC("NgAsyncValidators");function Je(P){return function Ge(P){return null==P||("string"==typeof P||Array.isArray(P))&&0===P.length}(P.value)?{required:!0}:null}function Sn(P){return null}function Vt(P){return null!=P}function ue(P){return(0,u.jNT)(P)?(0,E.H)(P):P}function _e(P){let N={};return P.forEach(D=>{N=null!=D?{...N,...D}:N}),0===Object.keys(N).length?null:N}function Ce(P,N){return N.map(D=>D(P))}function $e(P){return P.map(N=>function Oe(P){return!P.validate}(N)?N:D=>N.validate(D))}function _t(P){return null!=P?function Ke(P){if(!P)return null;const N=P.filter(Vt);return 0==N.length?null:function(D){return _e(Ce(D,N))}}($e(P)):null}function kn(P){return null!=P?function un(P){if(!P)return null;const N=P.filter(Vt);return 0==N.length?null:function(D){return function oe(...P){const N=(0,X.ms)(P),{args:D,keys:$}=(0,re.D)(P),ne=new ge.c(Ct=>{const{length:$t}=D;if(!$t)return void Ct.complete();const Br=new Array($t);let vr=$t,Zr=$t;for(let Nr=0;Nr<$t;Nr++){let ci=!1;(0,H.Tg)(D[Nr]).subscribe((0,de._)(Ct,Ei=>{ci||(ci=!0,Zr--),Br[Nr]=Ei},()=>vr--,void 0,()=>{(!vr||!ci)&&(Zr||Ct.next($?(0,me.e)($,Br):Br),Ct.complete())}))}});return N?ne.pipe((0,ye.I)(N)):ne}(Ce(D,N).map(ue)).pipe((0,Me.T)(_e))}}($e(P)):null}function Ot(P,N){return null===P?[N]:Array.isArray(P)?[...P,N]:[P,N]}function Zn(P){return P?Array.isArray(P)?P:[P]:[]}function wt(P,N){return Array.isArray(P)?P.includes(N):P===N}function lt(P,N){const D=Zn(N);return Zn(P).forEach(ne=>{wt(D,ne)||D.push(ne)}),D}function ft(P,N){return Zn(N).filter(D=>!wt(P,D))}class or{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(N){this._rawValidators=N||[],this._composedValidatorFn=_t(this._rawValidators)}_setAsyncValidators(N){this._rawAsyncValidators=N||[],this._composedAsyncValidatorFn=kn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(N){this._onDestroyCallbacks.push(N)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(N=>N()),this._onDestroyCallbacks=[]}reset(N=void 0){this.control&&this.control.reset(N)}hasError(N,D){return!!this.control&&this.control.hasError(N,D)}getError(N,D){return this.control?this.control.getError(N,D):null}}class wn extends or{get formDirective(){return null}get path(){return null}}class Wt extends or{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Fr{constructor(N){this._cd=N}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Qt=(()=>{class P extends Fr{constructor(D){super(D)}static{this.\u0275fac=function($){return new($||P)(u.rXU(Wt,2))}}static{this.\u0275dir=u.FsC({type:P,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function($,ne){2&$&&u.AVh("ng-untouched",ne.isUntouched)("ng-touched",ne.isTouched)("ng-pristine",ne.isPristine)("ng-dirty",ne.isDirty)("ng-valid",ne.isValid)("ng-invalid",ne.isInvalid)("ng-pending",ne.isPending)},features:[u.Vt3]})}}return P})(),Kt=(()=>{class P extends Fr{constructor(D){super(D)}static{this.\u0275fac=function($){return new($||P)(u.rXU(wn,10))}}static{this.\u0275dir=u.FsC({type:P,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function($,ne){2&$&&u.AVh("ng-untouched",ne.isUntouched)("ng-touched",ne.isTouched)("ng-pristine",ne.isPristine)("ng-dirty",ne.isDirty)("ng-valid",ne.isValid)("ng-invalid",ne.isInvalid)("ng-pending",ne.isPending)("ng-submitted",ne.isSubmitted)},features:[u.Vt3]})}}return P})();const yr="VALID",bs="INVALID",er="PENDING",Ir="DISABLED";function ws(P){return(W(P)?P.validators:P)||null}function xe(P,N){return(W(N)?N.asyncValidators:P)||null}function W(P){return null!=P&&!Array.isArray(P)&&"object"==typeof P}class et{constructor(N,D){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(N),this._assignAsyncValidators(D)}get validator(){return this._composedValidatorFn}set validator(N){this._rawValidators=this._composedValidatorFn=N}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(N){this._rawAsyncValidators=this._composedAsyncValidatorFn=N}get parent(){return this._parent}get valid(){return this.status===yr}get invalid(){return this.status===bs}get pending(){return this.status==er}get disabled(){return this.status===Ir}get enabled(){return this.status!==Ir}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(N){this._assignValidators(N)}setAsyncValidators(N){this._assignAsyncValidators(N)}addValidators(N){this.setValidators(lt(N,this._rawValidators))}addAsyncValidators(N){this.setAsyncValidators(lt(N,this._rawAsyncValidators))}removeValidators(N){this.setValidators(ft(N,this._rawValidators))}removeAsyncValidators(N){this.setAsyncValidators(ft(N,this._rawAsyncValidators))}hasValidator(N){return wt(this._rawValidators,N)}hasAsyncValidator(N){return wt(this._rawAsyncValidators,N)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(N={}){this.touched=!0,this._parent&&!N.onlySelf&&this._parent.markAsTouched(N)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(N=>N.markAllAsTouched())}markAsUntouched(N={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(D=>{D.markAsUntouched({onlySelf:!0})}),this._parent&&!N.onlySelf&&this._parent._updateTouched(N)}markAsDirty(N={}){this.pristine=!1,this._parent&&!N.onlySelf&&this._parent.markAsDirty(N)}markAsPristine(N={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(D=>{D.markAsPristine({onlySelf:!0})}),this._parent&&!N.onlySelf&&this._parent._updatePristine(N)}markAsPending(N={}){this.status=er,!1!==N.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!N.onlySelf&&this._parent.markAsPending(N)}disable(N={}){const D=this._parentMarkedDirty(N.onlySelf);this.status=Ir,this.errors=null,this._forEachChild($=>{$.disable({...N,onlySelf:!0})}),this._updateValue(),!1!==N.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...N,skipPristineCheck:D}),this._onDisabledChange.forEach($=>$(!0))}enable(N={}){const D=this._parentMarkedDirty(N.onlySelf);this.status=yr,this._forEachChild($=>{$.enable({...N,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:N.emitEvent}),this._updateAncestors({...N,skipPristineCheck:D}),this._onDisabledChange.forEach($=>$(!1))}_updateAncestors(N){this._parent&&!N.onlySelf&&(this._parent.updateValueAndValidity(N),N.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(N){this._parent=N}getRawValue(){return this.value}updateValueAndValidity(N={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===yr||this.status===er)&&this._runAsyncValidator(N.emitEvent)),!1!==N.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!N.onlySelf&&this._parent.updateValueAndValidity(N)}_updateTreeValidity(N={emitEvent:!0}){this._forEachChild(D=>D._updateTreeValidity(N)),this.updateValueAndValidity({onlySelf:!0,emitEvent:N.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ir:yr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(N){if(this.asyncValidator){this.status=er,this._hasOwnPendingAsyncValidator=!0;const D=ue(this.asyncValidator(this));this._asyncValidationSubscription=D.subscribe($=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors($,{emitEvent:N})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(N,D={}){this.errors=N,this._updateControlsErrors(!1!==D.emitEvent)}get(N){let D=N;return null==D||(Array.isArray(D)||(D=D.split(".")),0===D.length)?null:D.reduce(($,ne)=>$&&$._find(ne),this)}getError(N,D){const $=D?this.get(D):this;return $&&$.errors?$.errors[N]:null}hasError(N,D){return!!this.getError(N,D)}get root(){let N=this;for(;N._parent;)N=N._parent;return N}_updateControlsErrors(N){this.status=this._calculateStatus(),N&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(N)}_initObservables(){this.valueChanges=new u.bkB,this.statusChanges=new u.bkB}_calculateStatus(){return this._allControlsDisabled()?Ir:this.errors?bs:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(er)?er:this._anyControlsHaveStatus(bs)?bs:yr}_anyControlsHaveStatus(N){return this._anyControls(D=>D.status===N)}_anyControlsDirty(){return this._anyControls(N=>N.dirty)}_anyControlsTouched(){return this._anyControls(N=>N.touched)}_updatePristine(N={}){this.pristine=!this._anyControlsDirty(),this._parent&&!N.onlySelf&&this._parent._updatePristine(N)}_updateTouched(N={}){this.touched=this._anyControlsTouched(),this._parent&&!N.onlySelf&&this._parent._updateTouched(N)}_registerOnCollectionChange(N){this._onCollectionChange=N}_setUpdateStrategy(N){W(N)&&null!=N.updateOn&&(this._updateOn=N.updateOn)}_parentMarkedDirty(N){return!N&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(N){return null}_assignValidators(N){this._rawValidators=Array.isArray(N)?N.slice():N,this._composedValidatorFn=function Is(P){return Array.isArray(P)?_t(P):P||null}(this._rawValidators)}_assignAsyncValidators(N){this._rawAsyncValidators=Array.isArray(N)?N.slice():N,this._composedAsyncValidatorFn=function ve(P){return Array.isArray(P)?kn(P):P||null}(this._rawAsyncValidators)}}class bt extends et{constructor(N,D,$){super(ws(D),xe($,D)),this.controls=N,this._initObservables(),this._setUpdateStrategy(D),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(N,D){return this.controls[N]?this.controls[N]:(this.controls[N]=D,D.setParent(this),D._registerOnCollectionChange(this._onCollectionChange),D)}addControl(N,D,$={}){this.registerControl(N,D),this.updateValueAndValidity({emitEvent:$.emitEvent}),this._onCollectionChange()}removeControl(N,D={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),delete this.controls[N],this.updateValueAndValidity({emitEvent:D.emitEvent}),this._onCollectionChange()}setControl(N,D,$={}){this.controls[N]&&this.controls[N]._registerOnCollectionChange(()=>{}),delete this.controls[N],D&&this.registerControl(N,D),this.updateValueAndValidity({emitEvent:$.emitEvent}),this._onCollectionChange()}contains(N){return this.controls.hasOwnProperty(N)&&this.controls[N].enabled}setValue(N,D={}){(function Te(P,N,D){P._forEachChild(($,ne)=>{if(void 0===D[ne])throw new u.wOt(1002,"")})})(this,0,N),Object.keys(N).forEach($=>{(function ie(P,N,D){const $=P.controls;if(!(N?Object.keys($):$).length)throw new u.wOt(1e3,"");if(!$[D])throw new u.wOt(1001,"")})(this,!0,$),this.controls[$].setValue(N[$],{onlySelf:!0,emitEvent:D.emitEvent})}),this.updateValueAndValidity(D)}patchValue(N,D={}){null!=N&&(Object.keys(N).forEach($=>{const ne=this.controls[$];ne&&ne.patchValue(N[$],{onlySelf:!0,emitEvent:D.emitEvent})}),this.updateValueAndValidity(D))}reset(N={},D={}){this._forEachChild(($,ne)=>{$.reset(N?N[ne]:null,{onlySelf:!0,emitEvent:D.emitEvent})}),this._updatePristine(D),this._updateTouched(D),this.updateValueAndValidity(D)}getRawValue(){return this._reduceChildren({},(N,D,$)=>(N[$]=D.getRawValue(),N))}_syncPendingControls(){let N=this._reduceChildren(!1,(D,$)=>!!$._syncPendingControls()||D);return N&&this.updateValueAndValidity({onlySelf:!0}),N}_forEachChild(N){Object.keys(this.controls).forEach(D=>{const $=this.controls[D];$&&N($,D)})}_setUpControls(){this._forEachChild(N=>{N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(N){for(const[D,$]of Object.entries(this.controls))if(this.contains(D)&&N($))return!0;return!1}_reduceValue(){return this._reduceChildren({},(D,$,ne)=>(($.enabled||this.disabled)&&(D[ne]=$.value),D))}_reduceChildren(N,D){let $=N;return this._forEachChild((ne,Ct)=>{$=D($,ne,Ct)}),$}_allControlsDisabled(){for(const N of Object.keys(this.controls))if(this.controls[N].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(N){return this.controls.hasOwnProperty(N)?this.controls[N]:null}}const Tn=new u.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Sr}),Sr="always";function ee(P,N,D=Sr){Ye(P,N),N.valueAccessor.writeValue(P.value),(P.disabled||"always"===D)&&N.valueAccessor.setDisabledState?.(P.disabled),function qt(P,N){N.valueAccessor.registerOnChange(D=>{P._pendingValue=D,P._pendingChange=!0,P._pendingDirty=!0,"change"===P.updateOn&&dr(P,N)})}(P,N),function Mr(P,N){const D=($,ne)=>{N.valueAccessor.writeValue($),ne&&N.viewToModelUpdate($)};P.registerOnChange(D),N._registerOnDestroy(()=>{P._unregisterOnChange(D)})}(P,N),function Nt(P,N){N.valueAccessor.registerOnTouched(()=>{P._pendingTouched=!0,"blur"===P.updateOn&&P._pendingChange&&dr(P,N),"submit"!==P.updateOn&&P.markAsTouched()})}(P,N),function Fe(P,N){if(N.valueAccessor.setDisabledState){const D=$=>{N.valueAccessor.setDisabledState($)};P.registerOnDisabledChange(D),N._registerOnDestroy(()=>{P._unregisterOnDisabledChange(D)})}}(P,N)}function ke(P,N){P.forEach(D=>{D.registerOnValidatorChange&&D.registerOnValidatorChange(N)})}function Ye(P,N){const D=function fn(P){return P._rawValidators}(P);null!==N.validator?P.setValidators(Ot(D,N.validator)):"function"==typeof D&&P.setValidators([D]);const $=function jn(P){return P._rawAsyncValidators}(P);null!==N.asyncValidator?P.setAsyncValidators(Ot($,N.asyncValidator)):"function"==typeof $&&P.setAsyncValidators([$]);const ne=()=>P.updateValueAndValidity();ke(N._rawValidators,ne),ke(N._rawAsyncValidators,ne)}function dr(P,N){P._pendingDirty&&P.markAsDirty(),P.setValue(P._pendingValue,{emitModelToViewChange:!1}),N.viewToModelUpdate(P._pendingValue),P._pendingChange=!1}const Bs={provide:wn,useExisting:(0,u.Rfq)(()=>Hs)},cs=(()=>Promise.resolve())();let Hs=(()=>{class P extends wn{constructor(D,$,ne){super(),this.callSetDisabledState=ne,this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.bkB,this.form=new bt({},_t(D),kn($))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(D){cs.then(()=>{const $=this._findContainer(D.path);D.control=$.registerControl(D.name,D.control),ee(D.control,D,this.callSetDisabledState),D.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(D)})}getControl(D){return this.form.get(D.path)}removeControl(D){cs.then(()=>{const $=this._findContainer(D.path);$&&$.removeControl(D.name),this._directives.delete(D)})}addFormGroup(D){cs.then(()=>{const $=this._findContainer(D.path),ne=new bt({});(function Cn(P,N){Ye(P,N)})(ne,D),$.registerControl(D.name,ne),ne.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(D){cs.then(()=>{const $=this._findContainer(D.path);$&&$.removeControl(D.name)})}getFormGroup(D){return this.form.get(D.path)}updateModel(D,$){cs.then(()=>{this.form.get(D.path).setValue($)})}setValue(D){this.control.setValue(D)}onSubmit(D){return this.submitted=!0,function _n(P,N){P._syncPendingControls(),N.forEach(D=>{const $=D.control;"submit"===$.updateOn&&$._pendingChange&&(D.viewToModelUpdate($._pendingValue),$._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(D),"dialog"===D?.target?.method}onReset(){this.resetForm()}resetForm(D=void 0){this.form.reset(D),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(D){return D.pop(),D.length?this.form.get(D):this.form}static{this.\u0275fac=function($){return new($||P)(u.rXU(pt,10),u.rXU(Ae,10),u.rXU(Tn,8))}}static{this.\u0275dir=u.FsC({type:P,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function($,ne){1&$&&u.bIt("submit",function($t){return ne.onSubmit($t)})("reset",function(){return ne.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u.Jv_([Bs]),u.Vt3]})}}return P})();function Rr(P,N){const D=P.indexOf(N);D>-1&&P.splice(D,1)}function Vr(P){return"object"==typeof P&&null!==P&&2===Object.keys(P).length&&"value"in P&&"disabled"in P}const Cs=class extends et{constructor(N=null,D,$){super(ws(D),xe($,D)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(N),this._setUpdateStrategy(D),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),W(D)&&(D.nonNullable||D.initialValueIsDefault)&&(this.defaultValue=Vr(N)?N.value:N)}setValue(N,D={}){this.value=this._pendingValue=N,this._onChange.length&&!1!==D.emitModelToViewChange&&this._onChange.forEach($=>$(this.value,!1!==D.emitViewToModelChange)),this.updateValueAndValidity(D)}patchValue(N,D={}){this.setValue(N,D)}reset(N=this.defaultValue,D={}){this._applyFormState(N),this.markAsPristine(D),this.markAsUntouched(D),this.setValue(this.value,D),this._pendingChange=!1}_updateValue(){}_anyControls(N){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(N){this._onChange.push(N)}_unregisterOnChange(N){Rr(this._onChange,N)}registerOnDisabledChange(N){this._onDisabledChange.push(N)}_unregisterOnDisabledChange(N){Rr(this._onDisabledChange,N)}_forEachChild(N){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(N){Vr(N)?(this.value=this._pendingValue=N.value,N.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=N}},Pi={provide:Wt,useExisting:(0,u.Rfq)(()=>ai)},Vi=(()=>Promise.resolve())();let ai=(()=>{class P extends Wt{constructor(D,$,ne,Ct,$t,Br){super(),this._changeDetectorRef=$t,this.callSetDisabledState=Br,this.control=new Cs,this._registered=!1,this.name="",this.update=new u.bkB,this._parent=D,this._setValidators($),this._setAsyncValidators(ne),this.valueAccessor=function Pr(P,N){if(!N)return null;let D,$,ne;return Array.isArray(N),N.forEach(Ct=>{Ct.constructor===He?D=Ct:function gn(P){return Object.getPrototypeOf(P.constructor)===Be}(Ct)?$=Ct:ne=Ct}),ne||$||D||null}(0,Ct)}ngOnChanges(D){if(this._checkForErrors(),!this._registered||"name"in D){if(this._registered&&(this._checkName(),this.formDirective)){const $=D.name.previousValue;this.formDirective.removeControl({name:$,path:this._getPath($)})}this._setUpControl()}"isDisabled"in D&&this._updateDisabled(D),function Or(P,N){if(!P.hasOwnProperty("model"))return!1;const D=P.model;return!!D.isFirstChange()||!Object.is(N,D.currentValue)}(D,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(D){this.viewModel=D,this.update.emit(D)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ee(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(D){Vi.then(()=>{this.control.setValue(D,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(D){const $=D.isDisabled.currentValue,ne=0!==$&&(0,u.L39)($);Vi.then(()=>{ne&&!this.control.disabled?this.control.disable():!ne&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(D){return this._parent?function le(P,N){return[...N.path,P]}(D,this._parent):[D]}static{this.\u0275fac=function($){return new($||P)(u.rXU(wn,9),u.rXU(pt,10),u.rXU(Ae,10),u.rXU(We,10),u.rXU(u.gRc,8),u.rXU(Tn,8))}}static{this.\u0275dir=u.FsC({type:P,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u.Jv_([Pi]),u.Vt3,u.OA$]})}}return P})(),Ui=(()=>{class P{static{this.\u0275fac=function($){return new($||P)}}static{this.\u0275dir=u.FsC({type:P,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return P})();const Os={provide:We,useExisting:(0,u.Rfq)(()=>zs),multi:!0};let zr=(()=>{class P{static{this.\u0275fac=function($){return new($||P)}}static{this.\u0275mod=u.$C({type:P})}static{this.\u0275inj=u.G2t({})}}return P})(),Ri=(()=>{class P{constructor(){this._accessors=[]}add(D,$){this._accessors.push([D,$])}remove(D){for(let $=this._accessors.length-1;$>=0;--$)if(this._accessors[$][1]===D)return void this._accessors.splice($,1)}select(D){this._accessors.forEach($=>{this._isSameGroup($,D)&&$[1]!==D&&$[1].fireUncheck(D.value)})}_isSameGroup(D,$){return!!D[0].control&&D[0]._parent===$._control._parent&&D[1].name===$.name}static{this.\u0275fac=function($){return new($||P)}}static{this.\u0275prov=u.jDH({token:P,factory:P.\u0275fac,providedIn:zr})}}return P})(),zs=(()=>{class P extends Be{constructor(D,$,ne,Ct){super(D,$),this._registry=ne,this._injector=Ct,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,u.WQX)(Tn,{optional:!0})??Sr}ngOnInit(){this._control=this._injector.get(Wt),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(D){this._state=D===this.value,this.setProperty("checked",this._state)}registerOnChange(D){this._fn=D,this.onChange=()=>{D(this.value),this._registry.select(this)}}setDisabledState(D){(this.setDisabledStateFired||D||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",D),this.setDisabledStateFired=!0}fireUncheck(D){this.writeValue(D)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function($){return new($||P)(u.rXU(u.sFG),u.rXU(u.aKT),u.rXU(Ri),u.rXU(u.zZn))}}static{this.\u0275dir=u.FsC({type:P,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function($,ne){1&$&&u.bIt("change",function(){return ne.onChange()})("blur",function(){return ne.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[u.Jv_([Os]),u.Vt3]})}}return P})();const tn={provide:We,useExisting:(0,u.Rfq)(()=>ln),multi:!0};function it(P,N){return null==P?`${N}`:(N&&"object"==typeof N&&(N="Object"),`${P}: ${N}`.slice(0,50))}let ln=(()=>{class P extends Be{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(D){this._compareWith=D}writeValue(D){this.value=D;const ne=it(this._getOptionId(D),D);this.setProperty("value",ne)}registerOnChange(D){this.onChange=$=>{this.value=this._getOptionValue($),D(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(D){for(const $ of this._optionMap.keys())if(this._compareWith(this._optionMap.get($),D))return $;return null}_getOptionValue(D){const $=function Pt(P){return P.split(":")[0]}(D);return this._optionMap.has($)?this._optionMap.get($):D}static{this.\u0275fac=function(){let D;return function(ne){return(D||(D=u.xGo(P)))(ne||P)}}()}static{this.\u0275dir=u.FsC({type:P,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function($,ne){1&$&&u.bIt("change",function($t){return ne.onChange($t.target.value)})("blur",function(){return ne.onTouched()})},inputs:{compareWith:"compareWith"},features:[u.Jv_([tn]),u.Vt3]})}}return P})(),lr=(()=>{class P{constructor(D,$,ne){this._element=D,this._renderer=$,this._select=ne,this._select&&(this.id=this._select._registerOption())}set ngValue(D){null!=this._select&&(this._select._optionMap.set(this.id,D),this._setElementValue(it(this.id,D)),this._select.writeValue(this._select.value))}set value(D){this._setElementValue(D),this._select&&this._select.writeValue(this._select.value)}_setElementValue(D){this._renderer.setProperty(this._element.nativeElement,"value",D)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function($){return new($||P)(u.rXU(u.aKT),u.rXU(u.sFG),u.rXU(ln,9))}}static{this.\u0275dir=u.FsC({type:P,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return P})();const wi={provide:We,useExisting:(0,u.Rfq)(()=>wr),multi:!0};function Qn(P,N){return null==P?`${N}`:("string"==typeof N&&(N=`'${N}'`),N&&"object"==typeof N&&(N="Object"),`${P}: ${N}`.slice(0,50))}let wr=(()=>{class P extends Be{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(D){this._compareWith=D}writeValue(D){let $;if(this.value=D,Array.isArray(D)){const ne=D.map(Ct=>this._getOptionId(Ct));$=(Ct,$t)=>{Ct._setSelected(ne.indexOf($t.toString())>-1)}}else $=(ne,Ct)=>{ne._setSelected(!1)};this._optionMap.forEach($)}registerOnChange(D){this.onChange=$=>{const ne=[],Ct=$.selectedOptions;if(void 0!==Ct){const $t=Ct;for(let Br=0;Br<$t.length;Br++){const Zr=this._getOptionValue($t[Br].value);ne.push(Zr)}}else{const $t=$.options;for(let Br=0;Br<$t.length;Br++){const vr=$t[Br];if(vr.selected){const Zr=this._getOptionValue(vr.value);ne.push(Zr)}}}this.value=ne,D(ne)}}_registerOption(D){const $=(this._idCounter++).toString();return this._optionMap.set($,D),$}_getOptionId(D){for(const $ of this._optionMap.keys())if(this._compareWith(this._optionMap.get($)._value,D))return $;return null}_getOptionValue(D){const $=function fs(P){return P.split(":")[0]}(D);return this._optionMap.has($)?this._optionMap.get($)._value:D}static{this.\u0275fac=function(){let D;return function(ne){return(D||(D=u.xGo(P)))(ne||P)}}()}static{this.\u0275dir=u.FsC({type:P,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function($,ne){1&$&&u.bIt("change",function($t){return ne.onChange($t.target)})("blur",function(){return ne.onTouched()})},inputs:{compareWith:"compareWith"},features:[u.Jv_([wi]),u.Vt3]})}}return P})(),Rs=(()=>{class P{constructor(D,$,ne){this._element=D,this._renderer=$,this._select=ne,this._select&&(this.id=this._select._registerOption(this))}set ngValue(D){null!=this._select&&(this._value=D,this._setElementValue(Qn(this.id,D)),this._select.writeValue(this._select.value))}set value(D){this._select?(this._value=D,this._setElementValue(Qn(this.id,D)),this._select.writeValue(this._select.value)):this._setElementValue(D)}_setElementValue(D){this._renderer.setProperty(this._element.nativeElement,"value",D)}_setSelected(D){this._renderer.setProperty(this._element.nativeElement,"selected",D)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function($){return new($||P)(u.rXU(u.aKT),u.rXU(u.sFG),u.rXU(wr,9))}}static{this.\u0275dir=u.FsC({type:P,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return P})();let Xr=(()=>{class P{constructor(){this._validator=Sn}ngOnChanges(D){if(this.inputName in D){const $=this.normalizeInput(D[this.inputName].currentValue);this._enabled=this.enabled($),this._validator=this._enabled?this.createValidator($):Sn,this._onChange&&this._onChange()}}validate(D){return this._validator(D)}registerOnValidatorChange(D){this._onChange=D}enabled(D){return null!=D}static{this.\u0275fac=function($){return new($||P)}}static{this.\u0275dir=u.FsC({type:P,features:[u.OA$]})}}return P})();const Ur={provide:pt,useExisting:(0,u.Rfq)(()=>qs),multi:!0};let qs=(()=>{class P extends Xr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=u.L39,this.createValidator=D=>Je}enabled(D){return D}static{this.\u0275fac=function(){let D;return function(ne){return(D||(D=u.xGo(P)))(ne||P)}}()}static{this.\u0275dir=u.FsC({type:P,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function($,ne){2&$&&u.BMQ("required",ne._enabled?"":null)},inputs:{required:"required"},features:[u.Jv_([Ur]),u.Vt3]})}}return P})();const li={provide:pt,useExisting:(0,u.Rfq)(()=>On),multi:!0};let On=(()=>{class P extends Xr{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=D=>function Ft(P){return"number"==typeof P?P:parseInt(P,10)}(D),this.createValidator=D=>function mr(P){return N=>function rt(P){return null!=P&&"number"==typeof P.length}(N.value)&&N.value.length>P?{maxlength:{requiredLength:P,actualLength:N.value.length}}:null}(D)}static{this.\u0275fac=function(){let D;return function(ne){return(D||(D=u.xGo(P)))(ne||P)}}()}static{this.\u0275dir=u.FsC({type:P,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function($,ne){2&$&&u.BMQ("maxlength",ne._enabled?ne.maxlength:null)},inputs:{maxlength:"maxlength"},features:[u.Jv_([li]),u.Vt3]})}}return P})(),Pn=(()=>{class P{static{this.\u0275fac=function($){return new($||P)}}static{this.\u0275mod=u.$C({type:P})}static{this.\u0275inj=u.G2t({imports:[zr]})}}return P})(),Js=(()=>{class P{static withConfig(D){return{ngModule:P,providers:[{provide:Tn,useValue:D.callSetDisabledState??Sr}]}}static{this.\u0275fac=function($){return new($||P)}}static{this.\u0275mod=u.$C({type:P})}static{this.\u0275inj=u.G2t({imports:[Pn]})}}return P})()},345:(at,pe,F)=>{"use strict";F.d(pe,{$x:()=>er,B7:()=>Et,B8:()=>Ce,W8:()=>or,hE:()=>Fr});var u=F(6276),G=F(177),E=F(1626);class ge extends G.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class re extends ge{static makeCurrent(){(0,G.ZD)(new re)}onAndCancel(ve,W,ie){return ve.addEventListener(W,ie),()=>{ve.removeEventListener(W,ie)}}dispatchEvent(ve,W){ve.dispatchEvent(W)}remove(ve){ve.parentNode&&ve.parentNode.removeChild(ve)}createElement(ve,W){return(W=W||this.getDefaultDocument()).createElement(ve)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ve){return ve.nodeType===Node.ELEMENT_NODE}isShadowRoot(ve){return ve instanceof DocumentFragment}getGlobalEventTarget(ve,W){return"window"===W?window:"document"===W?ve:"body"===W?ve.body:null}getBaseHref(ve){const W=function X(){return H=H||document.querySelector("base"),H?H.getAttribute("href"):null}();return null==W?null:function ye(xe){de=de||document.createElement("a"),de.setAttribute("href",xe);const ve=de.pathname;return"/"===ve.charAt(0)?ve:`/${ve}`}(W)}resetBaseElement(){H=null}getUserAgent(){return window.navigator.userAgent}getCookie(ve){return(0,G._b)(document.cookie,ve)}}let de,H=null,oe=(()=>{class xe{build(){return new XMLHttpRequest}static{this.\u0275fac=function(ie){return new(ie||xe)}}static{this.\u0275prov=u.jDH({token:xe,factory:xe.\u0275fac})}}return xe})();const Me=new u.nKC("EventManagerPlugins");let Qe=(()=>{class xe{constructor(W,ie){this._zone=ie,this._eventNameToPlugin=new Map,W.forEach(Te=>{Te.manager=this}),this._plugins=W.slice().reverse()}addEventListener(W,ie,Te){return this._findPluginFor(ie).addEventListener(W,ie,Te)}getZone(){return this._zone}_findPluginFor(W){let ie=this._eventNameToPlugin.get(W);if(ie)return ie;if(ie=this._plugins.find(et=>et.supports(W)),!ie)throw new u.wOt(5101,!1);return this._eventNameToPlugin.set(W,ie),ie}static{this.\u0275fac=function(ie){return new(ie||xe)(u.KVO(Me),u.KVO(u.SKi))}}static{this.\u0275prov=u.jDH({token:xe,factory:xe.\u0275fac})}}return xe})();class Be{constructor(ve){this._doc=ve}}const We="ng-app-id";let Rt=(()=>{class xe{constructor(W,ie,Te,et={}){this.doc=W,this.appId=ie,this.nonce=Te,this.platformId=et,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,G.Vy)(et),this.resetHostNodes()}addStyles(W){for(const ie of W)1===this.changeUsageCount(ie,1)&&this.onStyleAdded(ie)}removeStyles(W){for(const ie of W)this.changeUsageCount(ie,-1)<=0&&this.onStyleRemoved(ie)}ngOnDestroy(){const W=this.styleNodesInDOM;W&&(W.forEach(ie=>ie.remove()),W.clear());for(const ie of this.getAllStyles())this.onStyleRemoved(ie);this.resetHostNodes()}addHost(W){this.hostNodes.add(W);for(const ie of this.getAllStyles())this.addStyleToHost(W,ie)}removeHost(W){this.hostNodes.delete(W)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(W){for(const ie of this.hostNodes)this.addStyleToHost(ie,W)}onStyleRemoved(W){const ie=this.styleRef;ie.get(W)?.elements?.forEach(Te=>Te.remove()),ie.delete(W)}collectServerRenderedStyles(){const W=this.doc.head?.querySelectorAll(`style[${We}="${this.appId}"]`);if(W?.length){const ie=new Map;return W.forEach(Te=>{null!=Te.textContent&&ie.set(Te.textContent,Te)}),ie}return null}changeUsageCount(W,ie){const Te=this.styleRef;if(Te.has(W)){const et=Te.get(W);return et.usage+=ie,et.usage}return Te.set(W,{usage:ie,elements:[]}),ie}getStyleElement(W,ie){const Te=this.styleNodesInDOM,et=Te?.get(ie);if(et?.parentNode===W)return Te.delete(ie),et.removeAttribute(We),et;{const bt=this.doc.createElement("style");return this.nonce&&bt.setAttribute("nonce",this.nonce),bt.textContent=ie,this.platformIsServer&&bt.setAttribute(We,this.appId),bt}}addStyleToHost(W,ie){const Te=this.getStyleElement(W,ie);W.appendChild(Te);const et=this.styleRef,bt=et.get(ie)?.elements;bt?bt.push(Te):et.set(ie,{elements:[Te],usage:1})}resetHostNodes(){const W=this.hostNodes;W.clear(),W.add(this.doc.head)}static{this.\u0275fac=function(ie){return new(ie||xe)(u.KVO(G.qQ),u.KVO(u.sZ2),u.KVO(u.BIS,8),u.KVO(u.Agw))}}static{this.\u0275prov=u.jDH({token:xe,factory:xe.\u0275fac})}}return xe})();const ht={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Mt=/%COMP%/g,rt=new u.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Xe(xe,ve){return ve.map(W=>W.replace(Mt,xe))}let Et=(()=>{class xe{constructor(W,ie,Te,et,bt,an,Jt,Gn=null){this.eventManager=W,this.sharedStylesHost=ie,this.appId=Te,this.removeStylesOnCompDestroy=et,this.doc=bt,this.platformId=an,this.ngZone=Jt,this.nonce=Gn,this.rendererByCompId=new Map,this.platformIsServer=(0,G.Vy)(an),this.defaultRenderer=new Dt(W,bt,Jt,this.platformIsServer)}createRenderer(W,ie){if(!W||!ie)return this.defaultRenderer;this.platformIsServer&&ie.encapsulation===u.gXe.ShadowDom&&(ie={...ie,encapsulation:u.gXe.Emulated});const Te=this.getOrCreateRenderer(W,ie);return Te instanceof mr?Te.applyToHost(W):Te instanceof kt&&Te.applyStyles(),Te}getOrCreateRenderer(W,ie){const Te=this.rendererByCompId;let et=Te.get(ie.id);if(!et){const bt=this.doc,an=this.ngZone,Jt=this.eventManager,Gn=this.sharedStylesHost,Vn=this.removeStylesOnCompDestroy,Tn=this.platformIsServer;switch(ie.encapsulation){case u.gXe.Emulated:et=new mr(Jt,Gn,ie,this.appId,Vn,bt,an,Tn);break;case u.gXe.ShadowDom:return new st(Jt,Gn,W,ie,bt,an,this.nonce,Tn);default:et=new kt(Jt,Gn,ie,Vn,bt,an,Tn)}Te.set(ie.id,et)}return et}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(ie){return new(ie||xe)(u.KVO(Qe),u.KVO(Rt),u.KVO(u.sZ2),u.KVO(rt),u.KVO(G.qQ),u.KVO(u.Agw),u.KVO(u.SKi),u.KVO(u.BIS))}}static{this.\u0275prov=u.jDH({token:xe,factory:xe.\u0275fac})}}return xe})();class Dt{constructor(ve,W,ie,Te){this.eventManager=ve,this.doc=W,this.ngZone=ie,this.platformIsServer=Te,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ve,W){return W?this.doc.createElementNS(ht[W]||W,ve):this.doc.createElement(ve)}createComment(ve){return this.doc.createComment(ve)}createText(ve){return this.doc.createTextNode(ve)}appendChild(ve,W){(vt(ve)?ve.content:ve).appendChild(W)}insertBefore(ve,W,ie){ve&&(vt(ve)?ve.content:ve).insertBefore(W,ie)}removeChild(ve,W){ve&&ve.removeChild(W)}selectRootElement(ve,W){let ie="string"==typeof ve?this.doc.querySelector(ve):ve;if(!ie)throw new u.wOt(-5104,!1);return W||(ie.textContent=""),ie}parentNode(ve){return ve.parentNode}nextSibling(ve){return ve.nextSibling}setAttribute(ve,W,ie,Te){if(Te){W=Te+":"+W;const et=ht[Te];et?ve.setAttributeNS(et,W,ie):ve.setAttribute(W,ie)}else ve.setAttribute(W,ie)}removeAttribute(ve,W,ie){if(ie){const Te=ht[ie];Te?ve.removeAttributeNS(Te,W):ve.removeAttribute(`${ie}:${W}`)}else ve.removeAttribute(W)}addClass(ve,W){ve.classList.add(W)}removeClass(ve,W){ve.classList.remove(W)}setStyle(ve,W,ie,Te){Te&(u.czy.DashCase|u.czy.Important)?ve.style.setProperty(W,ie,Te&u.czy.Important?"important":""):ve.style[W]=ie}removeStyle(ve,W,ie){ie&u.czy.DashCase?ve.style.removeProperty(W):ve.style[W]=""}setProperty(ve,W,ie){ve[W]=ie}setValue(ve,W){ve.nodeValue=W}listen(ve,W,ie){if("string"==typeof ve&&!(ve=(0,G.QT)().getGlobalEventTarget(this.doc,ve)))throw new Error(`Unsupported event target ${ve} for event ${W}`);return this.eventManager.addEventListener(ve,W,this.decoratePreventDefault(ie))}decoratePreventDefault(ve){return W=>{if("__ngUnwrap__"===W)return ve;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>ve(W)):ve(W))&&W.preventDefault()}}}function vt(xe){return"TEMPLATE"===xe.tagName&&void 0!==xe.content}class st extends Dt{constructor(ve,W,ie,Te,et,bt,an,Jt){super(ve,et,bt,Jt),this.sharedStylesHost=W,this.hostEl=ie,this.shadowRoot=ie.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Gn=Xe(Te.id,Te.styles);for(const Vn of Gn){const Tn=document.createElement("style");an&&Tn.setAttribute("nonce",an),Tn.textContent=Vn,this.shadowRoot.appendChild(Tn)}}nodeOrShadowRoot(ve){return ve===this.hostEl?this.shadowRoot:ve}appendChild(ve,W){return super.appendChild(this.nodeOrShadowRoot(ve),W)}insertBefore(ve,W,ie){return super.insertBefore(this.nodeOrShadowRoot(ve),W,ie)}removeChild(ve,W){return super.removeChild(this.nodeOrShadowRoot(ve),W)}parentNode(ve){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ve)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class kt extends Dt{constructor(ve,W,ie,Te,et,bt,an,Jt){super(ve,et,bt,an),this.sharedStylesHost=W,this.removeStylesOnCompDestroy=Te,this.styles=Jt?Xe(Jt,ie.styles):ie.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class mr extends kt{constructor(ve,W,ie,Te,et,bt,an,Jt){const Gn=Te+"-"+ie.id;super(ve,W,ie,et,bt,an,Jt,Gn),this.contentAttr=function pt(xe){return"_ngcontent-%COMP%".replace(Mt,xe)}(Gn),this.hostAttr=function Ae(xe){return"_nghost-%COMP%".replace(Mt,xe)}(Gn)}applyToHost(ve){this.applyStyles(),this.setAttribute(ve,this.hostAttr,"")}createElement(ve,W){const ie=super.createElement(ve,W);return super.setAttribute(ie,this.contentAttr,""),ie}}let ir=(()=>{class xe extends Be{constructor(W){super(W)}supports(W){return!0}addEventListener(W,ie,Te){return W.addEventListener(ie,Te,!1),()=>this.removeEventListener(W,ie,Te)}removeEventListener(W,ie,Te){return W.removeEventListener(ie,Te)}static{this.\u0275fac=function(ie){return new(ie||xe)(u.KVO(G.qQ))}}static{this.\u0275prov=u.jDH({token:xe,factory:xe.\u0275fac})}}return xe})();const Sn=["alt","control","meta","shift"],Vt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ue={alt:xe=>xe.altKey,control:xe=>xe.ctrlKey,meta:xe=>xe.metaKey,shift:xe=>xe.shiftKey};let _e=(()=>{class xe extends Be{constructor(W){super(W)}supports(W){return null!=xe.parseEventName(W)}addEventListener(W,ie,Te){const et=xe.parseEventName(ie),bt=xe.eventCallback(et.fullKey,Te,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,G.QT)().onAndCancel(W,et.domEventName,bt))}static parseEventName(W){const ie=W.toLowerCase().split("."),Te=ie.shift();if(0===ie.length||"keydown"!==Te&&"keyup"!==Te)return null;const et=xe._normalizeKey(ie.pop());let bt="",an=ie.indexOf("code");if(an>-1&&(ie.splice(an,1),bt="code."),Sn.forEach(Gn=>{const Vn=ie.indexOf(Gn);Vn>-1&&(ie.splice(Vn,1),bt+=Gn+".")}),bt+=et,0!=ie.length||0===et.length)return null;const Jt={};return Jt.domEventName=Te,Jt.fullKey=bt,Jt}static matchEventFullKeyCode(W,ie){let Te=Vt[W.key]||W.key,et="";return ie.indexOf("code.")>-1&&(Te=W.code,et="code."),!(null==Te||!Te)&&(Te=Te.toLowerCase()," "===Te?Te="space":"."===Te&&(Te="dot"),Sn.forEach(bt=>{bt!==Te&&(0,ue[bt])(W)&&(et+=bt+".")}),et+=Te,et===ie)}static eventCallback(W,ie,Te){return et=>{xe.matchEventFullKeyCode(et,W)&&Te.runGuarded(()=>ie(et))}}static _normalizeKey(W){return"esc"===W?"escape":W}static{this.\u0275fac=function(ie){return new(ie||xe)(u.KVO(G.qQ))}}static{this.\u0275prov=u.jDH({token:xe,factory:xe.\u0275fac})}}return xe})();function Ce(xe,ve){return(0,u.TL3)({rootComponent:xe,...$e(ve)})}function $e(xe){return{appProviders:[...wt,...xe?.providers??[]],platformProviders:Ot}}const Ot=[{provide:u.Agw,useValue:G.AJ},{provide:u.PLl,useValue:function _t(){re.makeCurrent()},multi:!0},{provide:G.qQ,useFactory:function kn(){return(0,u.TL$)(document),document},deps:[]}],wt=[{provide:u.H8p,useValue:"root"},{provide:u.zcH,useFactory:function un(){return new u.zcH},deps:[]},{provide:Me,useClass:ir,multi:!0,deps:[G.qQ,u.SKi,u.Agw]},{provide:Me,useClass:_e,multi:!0,deps:[G.qQ]},Et,Rt,Qe,{provide:u._9s,useExisting:Et},{provide:G.N0,useClass:oe,deps:[]},[]];let or=(()=>{class xe{constructor(W){this._doc=W,this._dom=(0,G.QT)()}addTag(W,ie=!1){return W?this._getOrCreateElement(W,ie):null}addTags(W,ie=!1){return W?W.reduce((Te,et)=>(et&&Te.push(this._getOrCreateElement(et,ie)),Te),[]):[]}getTag(W){return W&&this._doc.querySelector(`meta[${W}]`)||null}getTags(W){if(!W)return[];const ie=this._doc.querySelectorAll(`meta[${W}]`);return ie?[].slice.call(ie):[]}updateTag(W,ie){if(!W)return null;ie=ie||this._parseSelector(W);const Te=this.getTag(ie);return Te?this._setMetaElementAttributes(W,Te):this._getOrCreateElement(W,!0)}removeTag(W){this.removeTagElement(this.getTag(W))}removeTagElement(W){W&&this._dom.remove(W)}_getOrCreateElement(W,ie=!1){if(!ie){const bt=this._parseSelector(W),an=this.getTags(bt).filter(Jt=>this._containsAttributes(W,Jt))[0];if(void 0!==an)return an}const Te=this._dom.createElement("meta");return this._setMetaElementAttributes(W,Te),this._doc.getElementsByTagName("head")[0].appendChild(Te),Te}_setMetaElementAttributes(W,ie){return Object.keys(W).forEach(Te=>ie.setAttribute(this._getMetaKeyMap(Te),W[Te])),ie}_parseSelector(W){const ie=W.name?"name":"property";return`${ie}="${W[ie]}"`}_containsAttributes(W,ie){return Object.keys(W).every(Te=>ie.getAttribute(this._getMetaKeyMap(Te))===W[Te])}_getMetaKeyMap(W){return wn[W]||W}static{this.\u0275fac=function(ie){return new(ie||xe)(u.KVO(G.qQ))}}static{this.\u0275prov=u.jDH({token:xe,factory:function(ie){let Te=null;return Te=ie?new ie:function ft(){return new or((0,u.KVO)(G.qQ))}(),Te},providedIn:"root"})}}return xe})();const wn={httpEquiv:"http-equiv"};let Fr=(()=>{class xe{constructor(W){this._doc=W}getTitle(){return this._doc.title}setTitle(W){this._doc.title=W||""}static{this.\u0275fac=function(ie){return new(ie||xe)(u.KVO(G.qQ))}}static{this.\u0275prov=u.jDH({token:xe,factory:function(ie){let Te=null;return Te=ie?new ie:function Wt(){return new Fr((0,u.KVO)(G.qQ))}(),Te},providedIn:"root"})}}return xe})();function er(...xe){const ve=[],W=new Set;for(const{\u0275providers:ie,\u0275kind:Te}of xe)W.add(Te),ie.length&&ve.push(ie);return(0,u.EmA)([[],W.has(0)?[]:(0,u.M8M)(),W.has(1)?[]:(0,E.$m)(),ve])}typeof window<"u"&&window},8435:(at,pe,F)=>{"use strict";F.d(pe,{nX:()=>ct,Ix:()=>Y,Wk:()=>Ze,wQ:()=>tt,iI:()=>As,n3:()=>lr,lh:()=>m});var u=F(6276),G=F(1985),E=F(8071),re=F(6648),H=F(7673),X=F(4412),de=F(3073),ye=F(3669),me=F(6450),oe=F(9326),Me=F(8496),Qe=F(4360),Be=F(5225);function We(...g){const b=(0,oe.lI)(g),f=(0,oe.ms)(g),{args:C,keys:I}=(0,de.D)(g);if(0===C.length)return(0,re.H)([],b);const U=new G.c(function Rt(g,b,f=ye.D){return C=>{ht(b,()=>{const{length:I}=g,U=new Array(I);let q=I,Se=I;for(let we=0;we<I;we++)ht(b,()=>{const dt=(0,re.H)(g[we],b);let Gt=!1;dt.subscribe((0,Qe._)(C,zn=>{U[we]=zn,Gt||(Gt=!0,Se--),Se||C.next(f(U.slice()))},()=>{--q||C.complete()}))},C)},C)}}(C,b,I?q=>(0,Me.e)(I,q):ye.D));return f?U.pipe((0,me.I)(f)):U}function ht(g,b,f){g?(0,Be.N)(f,g,b):b()}var Mt=F(9350),ot=F(8793),cn=F(8750);function He(g){return new G.c(b=>{(0,cn.Tg)(g()).subscribe(b)})}var Ge=F(1203),rt=F(8810),pt=F(983),Ae=F(8359),Xe=F(9974);function Et(){return(0,Xe.N)((g,b)=>{let f=null;g._refCount++;const C=(0,Qe._)(b,void 0,void 0,void 0,()=>{if(!g||g._refCount<=0||0<--g._refCount)return void(f=null);const I=g._connection,U=f;f=null,I&&(!U||I===U)&&I.unsubscribe(),b.unsubscribe()});g.subscribe(C),C.closed||(f=g.connect())})}class Dt extends G.c{constructor(b,f){super(),this.source=b,this.subjectFactory=f,this._subject=null,this._refCount=0,this._connection=null,(0,Xe.S)(b)&&(this.lift=b.lift)}_subscribe(b){return this.getSubject().subscribe(b)}getSubject(){const b=this._subject;return(!b||b.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:b}=this;this._subject=this._connection=null,b?.unsubscribe()}connect(){let b=this._connection;if(!b){b=this._connection=new Ae.yU;const f=this.getSubject();b.add(this.source.subscribe((0,Qe._)(f,void 0,()=>{this._teardown(),f.complete()},C=>{this._teardown(),f.error(C)},()=>this._teardown()))),b.closed&&(this._connection=null,b=Ae.yU.EMPTY)}return b}refCount(){return Et()(this)}}var yn=F(1413),Je=F(177),vt=F(6354),st=F(5558),kt=F(6697),mr=F(9172),ir=F(5964),Sn=F(1397),Vt=F(1594),ue=F(274),_e=F(8141),Ce=F(9437);var Ke=F(9901);function _t(g){return g<=0?()=>pt.w:(0,Xe.N)((b,f)=>{let C=[];b.subscribe((0,Qe._)(f,I=>{C.push(I),g<C.length&&C.shift()},()=>{for(const I of C)f.next(I);f.complete()},void 0,()=>{C=null}))})}var un=F(3774),fn=F(980),jn=F(5343),wt=F(6365),lt=F(345);const ft="primary",or=Symbol("RouteTitle");class wn{constructor(b){this.params=b||{}}has(b){return Object.prototype.hasOwnProperty.call(this.params,b)}get(b){if(this.has(b)){const f=this.params[b];return Array.isArray(f)?f[0]:f}return null}getAll(b){if(this.has(b)){const f=this.params[b];return Array.isArray(f)?f:[f]}return[]}get keys(){return Object.keys(this.params)}}function Wt(g){return new wn(g)}function Fr(g,b,f){const C=f.path.split("/");if(C.length>g.length||"full"===f.pathMatch&&(b.hasChildren()||C.length<g.length))return null;const I={};for(let U=0;U<C.length;U++){const q=C[U],Se=g[U];if(q.startsWith(":"))I[q.substring(1)]=Se;else if(q!==Se.path)return null}return{consumed:g.slice(0,C.length),posParams:I}}function pn(g,b){const f=g?Object.keys(g):void 0,C=b?Object.keys(b):void 0;if(!f||!C||f.length!=C.length)return!1;let I;for(let U=0;U<f.length;U++)if(I=f[U],!Qt(g[I],b[I]))return!1;return!0}function Qt(g,b){if(Array.isArray(g)&&Array.isArray(b)){if(g.length!==b.length)return!1;const f=[...g].sort(),C=[...b].sort();return f.every((I,U)=>C[U]===I)}return g===b}function Kt(g){return g.length>0?g[g.length-1]:null}function qn(g){return function ge(g){return!!g&&(g instanceof G.c||(0,E.T)(g.lift)&&(0,E.T)(g.subscribe))}(g)?g:(0,u.jNT)(g)?(0,re.H)(Promise.resolve(g)):(0,H.of)(g)}const Zt={exact:function _s(g,b,f){if(!Mn(g.segments,b.segments)||!on(g.segments,b.segments,f)||g.numberOfChildren!==b.numberOfChildren)return!1;for(const C in b.children)if(!g.children[C]||!_s(g.children[C],b.children[C],f))return!1;return!0},subset:ls},_r={exact:function xn(g,b){return pn(g,b)},subset:function gt(g,b){return Object.keys(b).length<=Object.keys(g).length&&Object.keys(b).every(f=>Qt(g[f],b[f]))},ignored:()=>!0};function Er(g,b,f){return Zt[f.paths](g.root,b.root,f.matrixParams)&&_r[f.queryParams](g.queryParams,b.queryParams)&&!("exact"===f.fragment&&g.fragment!==b.fragment)}function ls(g,b,f){return sn(g,b,b.segments,f)}function sn(g,b,f,C){if(g.segments.length>f.length){const I=g.segments.slice(0,f.length);return!(!Mn(I,f)||b.hasChildren()||!on(I,f,C))}if(g.segments.length===f.length){if(!Mn(g.segments,f)||!on(g.segments,f,C))return!1;for(const I in b.children)if(!g.children[I]||!ls(g.children[I],b.children[I],C))return!1;return!0}{const I=f.slice(0,g.segments.length),U=f.slice(g.segments.length);return!!(Mn(g.segments,I)&&on(g.segments,I,C)&&g.children[ft])&&sn(g.children[ft],b,U,C)}}function on(g,b,f){return b.every((C,I)=>_r[f](g[I].parameters,C.parameters))}class Dr{constructor(b=new dn([],{}),f={},C=null){this.root=b,this.queryParams=f,this.fragment=C}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wt(this.queryParams)),this._queryParamMap}toString(){return bs.serialize(this)}}class dn{constructor(b,f){this.segments=b,this.children=f,this.parent=null,Object.values(f).forEach(C=>C.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return er(this)}}class en{constructor(b,f){this.path=b,this.parameters=f}get parameterMap(){return this._parameterMap||(this._parameterMap=Wt(this.parameters)),this._parameterMap}toString(){return Te(this)}}function Mn(g,b){return g.length===b.length&&g.every((f,C)=>f.path===b[C].path)}let ar=(()=>{class g{static{this.\u0275fac=function(C){return new(C||g)}}static{this.\u0275prov=u.jDH({token:g,factory:function(){return new yr},providedIn:"root"})}}return g})();class yr{parse(b){const f=new te(b);return new Dr(f.parseRootSegment(),f.parseQueryParams(),f.parseFragment())}serialize(b){const f=`/${Ir(b.root,!0)}`,C=function bt(g){const b=Object.keys(g).map(f=>{const C=g[f];return Array.isArray(C)?C.map(I=>`${Is(f)}=${Is(I)}`).join("&"):`${Is(f)}=${Is(C)}`}).filter(f=>!!f);return b.length?`?${b.join("&")}`:""}(b.queryParams);return`${f}${C}${"string"==typeof b.fragment?`#${function xe(g){return encodeURI(g)}(b.fragment)}`:""}`}}const bs=new yr;function er(g){return g.segments.map(b=>Te(b)).join("/")}function Ir(g,b){if(!g.hasChildren())return er(g);if(b){const f=g.children[ft]?Ir(g.children[ft],!1):"",C=[];return Object.entries(g.children).forEach(([I,U])=>{I!==ft&&C.push(`${I}:${Ir(U,!1)}`)}),C.length>0?`${f}(${C.join("//")})`:f}{const f=function xt(g,b){let f=[];return Object.entries(g.children).forEach(([C,I])=>{C===ft&&(f=f.concat(b(I,C)))}),Object.entries(g.children).forEach(([C,I])=>{C!==ft&&(f=f.concat(b(I,C)))}),f}(g,(C,I)=>I===ft?[Ir(g.children[ft],!1)]:[`${I}:${Ir(C,!1)}`]);return 1===Object.keys(g.children).length&&null!=g.children[ft]?`${er(g)}/${f[0]}`:`${er(g)}/(${f.join("//")})`}}function ws(g){return encodeURIComponent(g).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Is(g){return ws(g).replace(/%3B/gi,";")}function ve(g){return ws(g).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function W(g){return decodeURIComponent(g)}function ie(g){return W(g.replace(/\+/g,"%20"))}function Te(g){return`${ve(g.path)}${function et(g){return Object.keys(g).map(b=>`;${ve(b)}=${ve(g[b])}`).join("")}(g.parameters)}`}const an=/^[^\/()?;#]+/;function Jt(g){const b=g.match(an);return b?b[0]:""}const Gn=/^[^\/()?;=#]+/,Tn=/^[^=?&#]+/,le=/^[^&#]+/;class te{constructor(b){this.url=b,this.remaining=b}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new dn([],{}):new dn([],this.parseChildren())}parseQueryParams(){const b={};if(this.consumeOptional("?"))do{this.parseQueryParam(b)}while(this.consumeOptional("&"));return b}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const b=[];for(this.peekStartsWith("(")||b.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),b.push(this.parseSegment());let f={};this.peekStartsWith("/(")&&(this.capture("/"),f=this.parseParens(!0));let C={};return this.peekStartsWith("(")&&(C=this.parseParens(!1)),(b.length>0||Object.keys(f).length>0)&&(C[ft]=new dn(b,f)),C}parseSegment(){const b=Jt(this.remaining);if(""===b&&this.peekStartsWith(";"))throw new u.wOt(4009,!1);return this.capture(b),new en(W(b),this.parseMatrixParams())}parseMatrixParams(){const b={};for(;this.consumeOptional(";");)this.parseParam(b);return b}parseParam(b){const f=function Vn(g){const b=g.match(Gn);return b?b[0]:""}(this.remaining);if(!f)return;this.capture(f);let C="";if(this.consumeOptional("=")){const I=Jt(this.remaining);I&&(C=I,this.capture(C))}b[W(f)]=W(C)}parseQueryParam(b){const f=function Sr(g){const b=g.match(Tn);return b?b[0]:""}(this.remaining);if(!f)return;this.capture(f);let C="";if(this.consumeOptional("=")){const q=function ee(g){const b=g.match(le);return b?b[0]:""}(this.remaining);q&&(C=q,this.capture(C))}const I=ie(f),U=ie(C);if(b.hasOwnProperty(I)){let q=b[I];Array.isArray(q)||(q=[q],b[I]=q),q.push(U)}else b[I]=U}parseParens(b){const f={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const C=Jt(this.remaining),I=this.remaining[C.length];if("/"!==I&&")"!==I&&";"!==I)throw new u.wOt(4010,!1);let U;C.indexOf(":")>-1?(U=C.slice(0,C.indexOf(":")),this.capture(U),this.capture(":")):b&&(U=ft);const q=this.parseChildren();f[U]=1===Object.keys(q).length?q[ft]:new dn([],q),this.consumeOptional("//")}return f}peekStartsWith(b){return this.remaining.startsWith(b)}consumeOptional(b){return!!this.peekStartsWith(b)&&(this.remaining=this.remaining.substring(b.length),!0)}capture(b){if(!this.consumeOptional(b))throw new u.wOt(4011,!1)}}function ke(g){return g.segments.length>0?new dn([],{[ft]:g}):g}function Fe(g){const b={};for(const C of Object.keys(g.children)){const U=Fe(g.children[C]);if(C===ft&&0===U.segments.length&&U.hasChildren())for(const[q,Se]of Object.entries(U.children))b[q]=Se;else(U.segments.length>0||U.hasChildren())&&(b[C]=U)}return function Ye(g){if(1===g.numberOfChildren&&g.children[ft]){const b=g.children[ft];return new dn(g.segments.concat(b.segments),b.children)}return g}(new dn(g.segments,b))}function Le(g){return g instanceof Dr}function Nt(g){let b;const I=ke(function f(U){const q={};for(const we of U.children){const dt=f(we);q[we.outlet]=dt}const Se=new dn(U.url,q);return U===g&&(b=Se),Se}(g.root));return b??I}function dr(g,b,f,C){let I=g;for(;I.parent;)I=I.parent;if(0===b.length)return An(I,I,I,f,C);const U=function mt(g){if("string"==typeof g[0]&&1===g.length&&"/"===g[0])return new hr(!0,0,g);let b=0,f=!1;const C=g.reduce((I,U,q)=>{if("object"==typeof U&&null!=U){if(U.outlets){const Se={};return Object.entries(U.outlets).forEach(([we,dt])=>{Se[we]="string"==typeof dt?dt.split("/"):dt}),[...I,{outlets:Se}]}if(U.segmentPath)return[...I,U.segmentPath]}return"string"!=typeof U?[...I,U]:0===q?(U.split("/").forEach((Se,we)=>{0==we&&"."===Se||(0==we&&""===Se?f=!0:".."===Se?b++:""!=Se&&I.push(Se))}),I):[...I,U]},[]);return new hr(f,b,C)}(b);if(U.toRoot())return An(I,I,new dn([],{}),f,C);const q=function Hr(g,b,f){if(g.isAbsolute)return new vn(b,!0,0);if(!f)return new vn(b,!1,NaN);if(null===f.parent)return new vn(f,!0,0);const C=Mr(g.commands[0])?0:1;return function Or(g,b,f){let C=g,I=b,U=f;for(;U>I;){if(U-=I,C=C.parent,!C)throw new u.wOt(4005,!1);I=C.segments.length}return new vn(C,!1,I-U)}(f,f.segments.length-1+C,g.numberOfDoubleDots)}(U,I,g),Se=q.processChildren?Pr(q.segmentGroup,q.index,U.commands):_n(q.segmentGroup,q.index,U.commands);return An(I,q.segmentGroup,Se,f,C)}function Mr(g){return"object"==typeof g&&null!=g&&!g.outlets&&!g.segmentPath}function Cn(g){return"object"==typeof g&&null!=g&&g.outlets}function An(g,b,f,C,I){let q,U={};C&&Object.entries(C).forEach(([we,dt])=>{U[we]=Array.isArray(dt)?dt.map(Gt=>`${Gt}`):`${dt}`}),q=g===b?f:br(g,b,f);const Se=ke(Fe(q));return new Dr(Se,U,I)}function br(g,b,f){const C={};return Object.entries(g.children).forEach(([I,U])=>{C[I]=U===b?f:br(U,b,f)}),new dn(g.segments,C)}class hr{constructor(b,f,C){if(this.isAbsolute=b,this.numberOfDoubleDots=f,this.commands=C,b&&C.length>0&&Mr(C[0]))throw new u.wOt(4003,!1);const I=C.find(Cn);if(I&&I!==Kt(C))throw new u.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class vn{constructor(b,f,C){this.segmentGroup=b,this.processChildren=f,this.index=C}}function _n(g,b,f){if(g||(g=new dn([],{})),0===g.segments.length&&g.hasChildren())return Pr(g,b,f);const C=function ii(g,b,f){let C=0,I=b;const U={match:!1,pathIndex:0,commandIndex:0};for(;I<g.segments.length;){if(C>=f.length)return U;const q=g.segments[I],Se=f[C];if(Cn(Se))break;const we=`${Se}`,dt=C<f.length-1?f[C+1]:null;if(I>0&&void 0===we)break;if(we&&dt&&"object"==typeof dt&&void 0===dt.outlets){if(!Hs(we,dt,q))return U;C+=2}else{if(!Hs(we,{},q))return U;C++}I++}return{match:!0,pathIndex:I,commandIndex:C}}(g,b,f),I=f.slice(C.commandIndex);if(C.match&&C.pathIndex<g.segments.length){const U=new dn(g.segments.slice(0,C.pathIndex),{});return U.children[ft]=new dn(g.segments.slice(C.pathIndex),g.children),Pr(U,0,I)}return C.match&&0===I.length?new dn(g.segments,{}):C.match&&!g.hasChildren()?oi(g,b,f):C.match?Pr(g,0,I):oi(g,b,f)}function Pr(g,b,f){if(0===f.length)return new dn(g.segments,{});{const C=function gn(g){return Cn(g[0])?g[0].outlets:{[ft]:g}}(f),I={};if(Object.keys(C).some(U=>U!==ft)&&g.children[ft]&&1===g.numberOfChildren&&0===g.children[ft].segments.length){const U=Pr(g.children[ft],b,f);return new dn(g.segments,U.children)}return Object.entries(C).forEach(([U,q])=>{"string"==typeof q&&(q=[q]),null!==q&&(I[U]=_n(g.children[U],b,q))}),Object.entries(g.children).forEach(([U,q])=>{void 0===C[U]&&(I[U]=q)}),new dn(g.segments,I)}}function oi(g,b,f){const C=g.segments.slice(0,b);let I=0;for(;I<f.length;){const U=f[I];if(Cn(U)){const we=Bs(U.outlets);return new dn(C,we)}if(0===I&&Mr(f[0])){C.push(new en(g.segments[b].path,cs(f[0]))),I++;continue}const q=Cn(U)?U.outlets[ft]:`${U}`,Se=I<f.length-1?f[I+1]:null;q&&Se&&Mr(Se)?(C.push(new en(q,cs(Se))),I+=2):(C.push(new en(q,{})),I++)}return new dn(C,{})}function Bs(g){const b={};return Object.entries(g).forEach(([f,C])=>{"string"==typeof C&&(C=[C]),null!==C&&(b[f]=oi(new dn([],{}),0,C))}),b}function cs(g){const b={};return Object.entries(g).forEach(([f,C])=>b[f]=`${C}`),b}function Hs(g,b,f){return g==f.path&&pn(b,f.parameters)}const Rr="imperative";class Vr{constructor(b,f){this.id=b,this.url=f}}class Cs extends Vr{constructor(b,f,C="imperative",I=null){super(b,f),this.type=0,this.navigationTrigger=C,this.restoredState=I}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Es extends Vr{constructor(b,f,C){super(b,f),this.urlAfterRedirects=C,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Tr extends Vr{constructor(b,f,C,I){super(b,f),this.reason=C,this.code=I,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ds extends Vr{constructor(b,f,C,I){super(b,f),this.reason=C,this.code=I,this.type=16}}class yi extends Vr{constructor(b,f,C,I){super(b,f),this.error=C,this.target=I,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Un extends Vr{constructor(b,f,C,I){super(b,f),this.urlAfterRedirects=C,this.state=I,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ki extends Vr{constructor(b,f,C,I){super(b,f),this.urlAfterRedirects=C,this.state=I,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vi extends Vr{constructor(b,f,C,I,U){super(b,f),this.urlAfterRedirects=C,this.state=I,this.shouldActivate=U,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ii extends Vr{constructor(b,f,C,I){super(b,f),this.urlAfterRedirects=C,this.state=I,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oi extends Vr{constructor(b,f,C,I){super(b,f),this.urlAfterRedirects=C,this.state=I,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pi{constructor(b){this.route=b,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Vi{constructor(b){this.route=b,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ai{constructor(b){this.snapshot=b,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ui{constructor(b){this.snapshot=b,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $i{constructor(b){this.snapshot=b,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hs{constructor(b){this.snapshot=b,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Os{constructor(b,f,C){this.routerEvent=b,this.position=f,this.anchor=C,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class qr{}class zr{constructor(b){this.url=b}}class zs{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Gs,this.attachRef=null}}let Gs=(()=>{class g{constructor(){this.contexts=new Map}onChildOutletCreated(f,C){const I=this.getOrCreateContext(f);I.outlet=C,this.contexts.set(f,I)}onChildOutletDestroyed(f){const C=this.getContext(f);C&&(C.outlet=null,C.attachRef=null)}onOutletDeactivated(){const f=this.contexts;return this.contexts=new Map,f}onOutletReAttached(f){this.contexts=f}getOrCreateContext(f){let C=this.getContext(f);return C||(C=new zs,this.contexts.set(f,C)),C}getContext(f){return this.contexts.get(f)||null}static{this.\u0275fac=function(C){return new(C||g)}}static{this.\u0275prov=u.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();class _i{constructor(b){this._root=b}get root(){return this._root.value}parent(b){const f=this.pathFromRoot(b);return f.length>1?f[f.length-2]:null}children(b){const f=Ws(b,this._root);return f?f.children.map(C=>C.value):[]}firstChild(b){const f=Ws(b,this._root);return f&&f.children.length>0?f.children[0].value:null}siblings(b){const f=Ks(b,this._root);return f.length<2?[]:f[f.length-2].children.map(I=>I.value).filter(I=>I!==b)}pathFromRoot(b){return Ks(b,this._root).map(f=>f.value)}}function Ws(g,b){if(g===b.value)return b;for(const f of b.children){const C=Ws(g,f);if(C)return C}return null}function Ks(g,b){if(g===b.value)return[b];for(const f of b.children){const C=Ks(g,f);if(C.length)return C.unshift(b),C}return[]}class Lt{constructor(b,f){this.value=b,this.children=f}toString(){return`TreeNode(${this.value})`}}function En(g){const b={};return g&&g.children.forEach(f=>b[f.value.outlet]=f),b}class Xn extends _i{constructor(b,f){super(b),this.snapshot=f,tn(this,b)}toString(){return this.snapshot.toString()}}function Gr(g,b){const f=function Wn(g,b){const q=new Lr([],{},{},"",{},ft,b,null,{});return new Wr("",new Lt(q,[]))}(0,b),C=new X.t([new en("",{})]),I=new X.t({}),U=new X.t({}),q=new X.t({}),Se=new X.t(""),we=new ct(C,I,q,Se,U,ft,b,f.root);return we.snapshot=f.root,new Xn(new Lt(we,[]),f)}class ct{constructor(b,f,C,I,U,q,Se,we){this.urlSubject=b,this.paramsSubject=f,this.queryParamsSubject=C,this.fragmentSubject=I,this.dataSubject=U,this.outlet=q,this.component=Se,this._futureSnapshot=we,this.title=this.dataSubject?.pipe((0,vt.T)(dt=>dt[or]))??(0,H.of)(void 0),this.url=b,this.params=f,this.queryParams=C,this.fragment=I,this.data=U}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,vt.T)(b=>Wt(b)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,vt.T)(b=>Wt(b)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ps(g,b="emptyOnly"){const f=g.pathFromRoot;let C=0;if("always"!==b)for(C=f.length-1;C>=1;){const I=f[C],U=f[C-1];if(I.routeConfig&&""===I.routeConfig.path)C--;else{if(U.component)break;C--}}return function bi(g){return g.reduce((b,f)=>({params:{...b.params,...f.params},data:{...b.data,...f.data},resolve:{...f.data,...b.resolve,...f.routeConfig?.data,...f._resolvedData}}),{params:{},data:{},resolve:{}})}(f.slice(C))}class Lr{get title(){return this.data?.[or]}constructor(b,f,C,I,U,q,Se,we,dt){this.url=b,this.params=f,this.queryParams=C,this.fragment=I,this.data=U,this.outlet=q,this.component=Se,this.routeConfig=we,this._resolve=dt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Wt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(C=>C.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Wr extends _i{constructor(b,f){super(f),this.url=b,tn(this,f)}toString(){return it(this._root)}}function tn(g,b){b.value._routerState=g,b.children.forEach(f=>tn(g,f))}function it(g){const b=g.children.length>0?` { ${g.children.map(it).join(", ")} } `:"";return`${g.value}${b}`}function Pt(g){if(g.snapshot){const b=g.snapshot,f=g._futureSnapshot;g.snapshot=f,pn(b.queryParams,f.queryParams)||g.queryParamsSubject.next(f.queryParams),b.fragment!==f.fragment&&g.fragmentSubject.next(f.fragment),pn(b.params,f.params)||g.paramsSubject.next(f.params),function vs(g,b){if(g.length!==b.length)return!1;for(let f=0;f<g.length;++f)if(!pn(g[f],b[f]))return!1;return!0}(b.url,f.url)||g.urlSubject.next(f.url),pn(b.data,f.data)||g.dataSubject.next(f.data)}else g.snapshot=g._futureSnapshot,g.dataSubject.next(g._futureSnapshot.data)}function ln(g,b){const f=pn(g.params,b.params)&&function us(g,b){return Mn(g,b)&&g.every((f,C)=>pn(f.parameters,b[C].parameters))}(g.url,b.url);return f&&!(!g.parent!=!b.parent)&&(!g.parent||ln(g.parent,b.parent))}let lr=(()=>{class g{constructor(){this.activated=null,this._activatedRoute=null,this.name=ft,this.activateEvents=new u.bkB,this.deactivateEvents=new u.bkB,this.attachEvents=new u.bkB,this.detachEvents=new u.bkB,this.parentContexts=(0,u.WQX)(Gs),this.location=(0,u.WQX)(u.c1b),this.changeDetector=(0,u.WQX)(u.gRc),this.environmentInjector=(0,u.WQX)(u.uvJ),this.inputBinder=(0,u.WQX)(Qn,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(f){if(f.name){const{firstChange:C,previousValue:I}=f.name;if(C)return;this.isTrackedInParentContexts(I)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(I)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(f){return this.parentContexts.getContext(f)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const f=this.parentContexts.getContext(this.name);f?.route&&(f.attachRef?this.attach(f.attachRef,f.route):this.activateWith(f.route,f.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.wOt(4012,!1);this.location.detach();const f=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(f.instance),f}attach(f,C){this.activated=f,this._activatedRoute=C,this.location.insert(f.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(f.instance)}deactivate(){if(this.activated){const f=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(f)}}activateWith(f,C){if(this.isActivated)throw new u.wOt(4013,!1);this._activatedRoute=f;const I=this.location,q=f.snapshot.component,Se=this.parentContexts.getOrCreateContext(this.name).children,we=new wi(f,Se,I.injector);this.activated=I.createComponent(q,{index:I.length,injector:we,environmentInjector:C??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(C){return new(C||g)}}static{this.\u0275dir=u.FsC({type:g,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[u.OA$]})}}return g})();class wi{constructor(b,f,C){this.route=b,this.childContexts=f,this.parent=C}get(b,f){return b===ct?this.route:b===Gs?this.childContexts:this.parent.get(b,f)}}const Qn=new u.nKC("");let fs=(()=>{class g{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(f){this.unsubscribeFromRouteData(f),this.subscribeToRouteData(f)}unsubscribeFromRouteData(f){this.outletDataSubscriptions.get(f)?.unsubscribe(),this.outletDataSubscriptions.delete(f)}subscribeToRouteData(f){const{activatedRoute:C}=f,I=We([C.queryParams,C.params,C.data]).pipe((0,st.n)(([U,q,Se],we)=>(Se={...U,...q,...Se},0===we?(0,H.of)(Se):Promise.resolve(Se)))).subscribe(U=>{if(!f.isActivated||!f.activatedComponentRef||f.activatedRoute!==C||null===C.component)return void this.unsubscribeFromRouteData(f);const q=(0,u.HJs)(C.component);if(q)for(const{templateName:Se}of q.inputs)f.activatedComponentRef.setInput(Se,U[Se]);else this.unsubscribeFromRouteData(f)});this.outletDataSubscriptions.set(f,I)}static{this.\u0275fac=function(C){return new(C||g)}}static{this.\u0275prov=u.jDH({token:g,factory:g.\u0275fac})}}return g})();function wr(g,b,f){if(f&&g.shouldReuseRoute(b.value,f.value.snapshot)){const C=f.value;C._futureSnapshot=b.value;const I=function Rs(g,b,f){return b.children.map(C=>{for(const I of f.children)if(g.shouldReuseRoute(C.value,I.value.snapshot))return wr(g,C,I);return wr(g,C)})}(g,b,f);return new Lt(C,I)}{if(g.shouldAttach(b.value)){const U=g.retrieve(b.value);if(null!==U){const q=U.route;return q.value._futureSnapshot=b.value,q.children=b.children.map(Se=>wr(g,Se)),q}}const C=function Ft(g){return new ct(new X.t(g.url),new X.t(g.params),new X.t(g.queryParams),new X.t(g.fragment),new X.t(g.data),g.outlet,g.component,g)}(b.value),I=b.children.map(U=>wr(g,U));return new Lt(C,I)}}const jr="ngNavigationCancelingError";function Xr(g,b){const{redirectTo:f,navigationBehaviorOptions:C}=Le(b)?{redirectTo:b,navigationBehaviorOptions:void 0}:b,I=Qr(!1,0,b);return I.url=f,I.navigationBehaviorOptions=C,I}function Qr(g,b,f){const C=new Error("NavigationCancelingError: "+(g||""));return C[jr]=!0,C.cancellationCode=b,f&&(C.url=f),C}function Ds(g){return g&&g[jr]}let Jr=(()=>{class g{static{this.\u0275fac=function(C){return new(C||g)}}static{this.\u0275cmp=u.VBU({type:g,selectors:[["ng-component"]],standalone:!0,features:[u.aNF],decls:1,vars:0,template:function(C,I){1&C&&u.nrm(0,"router-outlet")},dependencies:[lr],encapsulation:2})}}return g})();function On(g){const b=g.children&&g.children.map(On),f=b?{...g,children:b}:{...g};return!f.component&&!f.loadComponent&&(b||f.loadChildren)&&f.outlet&&f.outlet!==ft&&(f.component=Jr),f}function ur(g){return g.outlet||ft}function ps(g){if(!g)return null;if(g.routeConfig?._injector)return g.routeConfig._injector;for(let b=g.parent;b;b=b.parent){const f=b.routeConfig;if(f?._loadedInjector)return f._loadedInjector;if(f?._injector)return f._injector}return null}class Pn{constructor(b,f,C,I,U){this.routeReuseStrategy=b,this.futureState=f,this.currState=C,this.forwardEvent=I,this.inputBindingEnabled=U}activate(b){const f=this.futureState._root,C=this.currState?this.currState._root:null;this.deactivateChildRoutes(f,C,b),Pt(this.futureState.root),this.activateChildRoutes(f,C,b)}deactivateChildRoutes(b,f,C){const I=En(f);b.children.forEach(U=>{const q=U.value.outlet;this.deactivateRoutes(U,I[q],C),delete I[q]}),Object.values(I).forEach(U=>{this.deactivateRouteAndItsChildren(U,C)})}deactivateRoutes(b,f,C){const I=b.value,U=f?f.value:null;if(I===U)if(I.component){const q=C.getContext(I.outlet);q&&this.deactivateChildRoutes(b,f,q.children)}else this.deactivateChildRoutes(b,f,C);else U&&this.deactivateRouteAndItsChildren(f,C)}deactivateRouteAndItsChildren(b,f){b.value.component&&this.routeReuseStrategy.shouldDetach(b.value.snapshot)?this.detachAndStoreRouteSubtree(b,f):this.deactivateRouteAndOutlet(b,f)}detachAndStoreRouteSubtree(b,f){const C=f.getContext(b.value.outlet),I=C&&b.value.component?C.children:f,U=En(b);for(const q of Object.keys(U))this.deactivateRouteAndItsChildren(U[q],I);if(C&&C.outlet){const q=C.outlet.detach(),Se=C.children.onOutletDeactivated();this.routeReuseStrategy.store(b.value.snapshot,{componentRef:q,route:b,contexts:Se})}}deactivateRouteAndOutlet(b,f){const C=f.getContext(b.value.outlet),I=C&&b.value.component?C.children:f,U=En(b);for(const q of Object.keys(U))this.deactivateRouteAndItsChildren(U[q],I);C&&(C.outlet&&(C.outlet.deactivate(),C.children.onOutletDeactivated()),C.attachRef=null,C.route=null)}activateChildRoutes(b,f,C){const I=En(f);b.children.forEach(U=>{this.activateRoutes(U,I[U.value.outlet],C),this.forwardEvent(new hs(U.value.snapshot))}),b.children.length&&this.forwardEvent(new Ui(b.value.snapshot))}activateRoutes(b,f,C){const I=b.value,U=f?f.value:null;if(Pt(I),I===U)if(I.component){const q=C.getOrCreateContext(I.outlet);this.activateChildRoutes(b,f,q.children)}else this.activateChildRoutes(b,f,C);else if(I.component){const q=C.getOrCreateContext(I.outlet);if(this.routeReuseStrategy.shouldAttach(I.snapshot)){const Se=this.routeReuseStrategy.retrieve(I.snapshot);this.routeReuseStrategy.store(I.snapshot,null),q.children.onOutletReAttached(Se.contexts),q.attachRef=Se.componentRef,q.route=Se.route.value,q.outlet&&q.outlet.attach(Se.componentRef,Se.route.value),Pt(Se.route.value),this.activateChildRoutes(b,null,q.children)}else{const Se=ps(I.snapshot);q.attachRef=null,q.route=I,q.injector=Se,q.outlet&&q.outlet.activateWith(I,q.injector),this.activateChildRoutes(b,null,q.children)}}else this.activateChildRoutes(b,null,C)}}class Ns{constructor(b){this.path=b,this.route=this.path[this.path.length-1]}}class Fn{constructor(b,f){this.component=b,this.route=f}}function cr(g,b,f){const C=g._root;return xr(C,b?b._root:null,f,[C.value])}function Bn(g,b){const f=Symbol(),C=b.get(g,f);return C===f?"function"!=typeof g||(0,u.LfX)(g)?b.get(g):g:C}function xr(g,b,f,C,I={canDeactivateChecks:[],canActivateChecks:[]}){const U=En(b);return g.children.forEach(q=>{(function Yr(g,b,f,C,I={canDeactivateChecks:[],canActivateChecks:[]}){const U=g.value,q=b?b.value:null,Se=f?f.getContext(g.value.outlet):null;if(q&&U.routeConfig===q.routeConfig){const we=function Ln(g,b,f){if("function"==typeof f)return f(g,b);switch(f){case"pathParamsChange":return!Mn(g.url,b.url);case"pathParamsOrQueryParamsChange":return!Mn(g.url,b.url)||!pn(g.queryParams,b.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ln(g,b)||!pn(g.queryParams,b.queryParams);default:return!ln(g,b)}}(q,U,U.routeConfig.runGuardsAndResolvers);we?I.canActivateChecks.push(new Ns(C)):(U.data=q.data,U._resolvedData=q._resolvedData),xr(g,b,U.component?Se?Se.children:null:f,C,I),we&&Se&&Se.outlet&&Se.outlet.isActivated&&I.canDeactivateChecks.push(new Fn(Se.outlet.component,q))}else q&&Js(b,Se,I),I.canActivateChecks.push(new Ns(C)),xr(g,null,U.component?Se?Se.children:null:f,C,I)})(q,U[q.value.outlet],f,C.concat([q.value]),I),delete U[q.value.outlet]}),Object.entries(U).forEach(([q,Se])=>Js(Se,f.getContext(q),I)),I}function Js(g,b,f){const C=En(g),I=g.value;Object.entries(C).forEach(([U,q])=>{Js(q,I.component?b?b.children.getContext(U):null:b,f)}),f.canDeactivateChecks.push(new Fn(I.component&&b&&b.outlet&&b.outlet.isActivated?b.outlet.component:null,I))}function Ci(g){return"function"==typeof g}function vr(g){return g instanceof Mt.G||"EmptyError"===g?.name}const Zr=Symbol("INITIAL_VALUE");function Nr(){return(0,st.n)(g=>We(g.map(b=>b.pipe((0,kt.s)(1),(0,mr.Z)(Zr)))).pipe((0,vt.T)(b=>{for(const f of b)if(!0!==f){if(f===Zr)return Zr;if(!1===f||f instanceof Dr)return f}return!0}),(0,ir.p)(b=>b!==Zr),(0,kt.s)(1)))}function gs(g){return(0,Ge.F)((0,_e.M)(b=>{if(Le(b))throw Xr(0,b)}),(0,vt.T)(b=>!0===b))}class xi{constructor(b){this.segmentGroup=b||null}}class es{constructor(b){this.urlTree=b}}function Jn(g){return(0,rt.$)(new xi(g))}function ts(g){return(0,rt.$)(new es(g))}class oo{constructor(b,f){this.urlSerializer=b,this.urlTree=f}noMatchError(b){return new u.wOt(4002,!1)}lineralizeSegments(b,f){let C=[],I=f.root;for(;;){if(C=C.concat(I.segments),0===I.numberOfChildren)return(0,H.of)(C);if(I.numberOfChildren>1||!I.children[ft])return(0,rt.$)(new u.wOt(4e3,!1));I=I.children[ft]}}applyRedirectCommands(b,f,C){return this.applyRedirectCreateUrlTree(f,this.urlSerializer.parse(f),b,C)}applyRedirectCreateUrlTree(b,f,C,I){const U=this.createSegmentGroup(b,f.root,C,I);return new Dr(U,this.createQueryParams(f.queryParams,this.urlTree.queryParams),f.fragment)}createQueryParams(b,f){const C={};return Object.entries(b).forEach(([I,U])=>{if("string"==typeof U&&U.startsWith(":")){const Se=U.substring(1);C[I]=f[Se]}else C[I]=U}),C}createSegmentGroup(b,f,C,I){const U=this.createSegments(b,f.segments,C,I);let q={};return Object.entries(f.children).forEach(([Se,we])=>{q[Se]=this.createSegmentGroup(b,we,C,I)}),new dn(U,q)}createSegments(b,f,C,I){return f.map(U=>U.path.startsWith(":")?this.findPosParam(b,U,I):this.findOrReturn(U,C))}findPosParam(b,f,C){const I=C[f.path.substring(1)];if(!I)throw new u.wOt(4001,!1);return I}findOrReturn(b,f){let C=0;for(const I of f){if(I.path===b.path)return f.splice(C),I;C++}return b}}const qi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ao(g,b,f,C,I){const U=hi(g,b,f);return U.matched?(C=function Ur(g,b){return g.providers&&!g._injector&&(g._injector=(0,u.Ol2)(g.providers,b,`Route: ${g.path}`)),g._injector??b}(b,C),function Ts(g,b,f,C){const I=b.canMatch;if(!I||0===I.length)return(0,H.of)(!0);const U=I.map(q=>{const Se=Bn(q,g);return qn(function Ct(g){return g&&Ci(g.canMatch)}(Se)?Se.canMatch(b,f):g.runInContext(()=>Se(b,f)))});return(0,H.of)(U).pipe(Nr(),gs())}(C,b,f).pipe((0,vt.T)(q=>!0===q?U:{...qi}))):(0,H.of)(U)}function hi(g,b,f){if(""===b.path)return"full"===b.pathMatch&&(g.hasChildren()||f.length>0)?{...qi}:{matched:!0,consumedSegments:[],remainingSegments:f,parameters:{},positionalParamSegments:{}};const I=(b.matcher||Fr)(f,g,b);if(!I)return{...qi};const U={};Object.entries(I.posParams??{}).forEach(([Se,we])=>{U[Se]=we.path});const q=I.consumed.length>0?{...U,...I.consumed[I.consumed.length-1].parameters}:U;return{matched:!0,consumedSegments:I.consumed,remainingSegments:f.slice(I.consumed.length),parameters:q,positionalParamSegments:I.posParams??{}}}function Ys(g,b,f,C){return f.length>0&&function Hi(g,b,f){return f.some(C=>Ls(g,b,C)&&ur(C)!==ft)}(g,f,C)?{segmentGroup:new dn(b,Fs(C,new dn(f,g.children))),slicedSegments:[]}:0===f.length&&function Xi(g,b,f){return f.some(C=>Ls(g,b,C))}(g,f,C)?{segmentGroup:new dn(g.segments,Ni(g,0,f,C,g.children)),slicedSegments:f}:{segmentGroup:new dn(g.segments,g.children),slicedSegments:f}}function Ni(g,b,f,C,I){const U={};for(const q of C)if(Ls(g,f,q)&&!I[ur(q)]){const Se=new dn([],{});U[ur(q)]=Se}return{...I,...U}}function Fs(g,b){const f={};f[ft]=b;for(const C of g)if(""===C.path&&ur(C)!==ft){const I=new dn([],{});f[ur(C)]=I}return f}function Ls(g,b,f){return(!(g.hasChildren()||b.length>0)||"full"!==f.pathMatch)&&""===f.path}class lo{constructor(b,f,C,I,U,q,Se){this.injector=b,this.configLoader=f,this.rootComponentType=C,this.config=I,this.urlTree=U,this.paramsInheritanceStrategy=q,this.urlSerializer=Se,this.allowRedirects=!0,this.applyRedirects=new oo(this.urlSerializer,this.urlTree)}noMatchError(b){return new u.wOt(4002,!1)}recognize(){const b=Ys(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,b,ft).pipe((0,Ce.W)(f=>{if(f instanceof es)return this.allowRedirects=!1,this.urlTree=f.urlTree,this.match(f.urlTree);throw f instanceof xi?this.noMatchError(f):f}),(0,vt.T)(f=>{const C=new Lr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ft,this.rootComponentType,null,{}),I=new Lt(C,f),U=new Wr("",I),q=function qt(g,b,f=null,C=null){return dr(Nt(g),b,f,C)}(C,[],this.urlTree.queryParams,this.urlTree.fragment);return q.queryParams=this.urlTree.queryParams,U.url=this.urlSerializer.serialize(q),this.inheritParamsAndData(U._root),{state:U,tree:q}}))}match(b){return this.processSegmentGroup(this.injector,this.config,b.root,ft).pipe((0,Ce.W)(C=>{throw C instanceof xi?this.noMatchError(C):C}))}inheritParamsAndData(b){const f=b.value,C=Ps(f,this.paramsInheritanceStrategy);f.params=Object.freeze(C.params),f.data=Object.freeze(C.data),b.children.forEach(I=>this.inheritParamsAndData(I))}processSegmentGroup(b,f,C,I){return 0===C.segments.length&&C.hasChildren()?this.processChildren(b,f,C):this.processSegment(b,f,C,C.segments,I,!0)}processChildren(b,f,C){const I=[];for(const U of Object.keys(C.children))"primary"===U?I.unshift(U):I.push(U);return(0,re.H)(I).pipe((0,ue.H)(U=>{const q=C.children[U],Se=function $r(g,b){const f=g.filter(C=>ur(C)===b);return f.push(...g.filter(C=>ur(C)!==b)),f}(f,U);return this.processSegmentGroup(b,Se,q,U)}),function $e(g,b){return(0,Xe.N)(function Oe(g,b,f,C,I){return(U,q)=>{let Se=f,we=b,dt=0;U.subscribe((0,Qe._)(q,Gt=>{const zn=dt++;we=Se?g(we,Gt,zn):(Se=!0,Gt),C&&q.next(we)},I&&(()=>{Se&&q.next(we),q.complete()})))}}(g,b,arguments.length>=2,!0))}((U,q)=>(U.push(...q),U)),(0,Ke.U)(null),function kn(g,b){const f=arguments.length>=2;return C=>C.pipe(g?(0,ir.p)((I,U)=>g(I,U,C)):ye.D,_t(1),f?(0,Ke.U)(b):(0,un.v)(()=>new Mt.G))}(),(0,Sn.Z)(U=>{if(null===U)return Jn(C);const q=Mi(U);return function So(g){g.sort((b,f)=>b.value.outlet===ft?-1:f.value.outlet===ft?1:b.value.outlet.localeCompare(f.value.outlet))}(q),(0,H.of)(q)}))}processSegment(b,f,C,I,U,q){return(0,re.H)(f).pipe((0,ue.H)(Se=>this.processSegmentAgainstRoute(Se._injector??b,f,Se,C,I,U,q).pipe((0,Ce.W)(we=>{if(we instanceof xi)return(0,H.of)(null);throw we}))),(0,Vt.$)(Se=>!!Se),(0,Ce.W)(Se=>{if(vr(Se))return function Zs(g,b,f){return 0===b.length&&!g.children[f]}(C,I,U)?(0,H.of)([]):Jn(C);throw Se}))}processSegmentAgainstRoute(b,f,C,I,U,q,Se){return function Kr(g,b,f,C){return!!(ur(g)===C||C!==ft&&Ls(b,f,g))&&("**"===g.path||hi(b,g,f).matched)}(C,I,U,q)?void 0===C.redirectTo?this.matchSegmentAgainstRoute(b,I,C,U,q,Se):Se&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(b,I,f,C,U,q):Jn(I):Jn(I)}expandSegmentAgainstRouteUsingRedirect(b,f,C,I,U,q){return"**"===I.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(b,C,I,q):this.expandRegularSegmentAgainstRouteUsingRedirect(b,f,C,I,U,q)}expandWildCardWithParamsAgainstRouteUsingRedirect(b,f,C,I){const U=this.applyRedirects.applyRedirectCommands([],C.redirectTo,{});return C.redirectTo.startsWith("/")?ts(U):this.applyRedirects.lineralizeSegments(C,U).pipe((0,Sn.Z)(q=>{const Se=new dn(q,{});return this.processSegment(b,f,Se,q,I,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(b,f,C,I,U,q){const{matched:Se,consumedSegments:we,remainingSegments:dt,positionalParamSegments:Gt}=hi(f,I,U);if(!Se)return Jn(f);const zn=this.applyRedirects.applyRedirectCommands(we,I.redirectTo,Gt);return I.redirectTo.startsWith("/")?ts(zn):this.applyRedirects.lineralizeSegments(I,zn).pipe((0,Sn.Z)(Dn=>this.processSegment(b,C,f,Dn.concat(dt),q,!1)))}matchSegmentAgainstRoute(b,f,C,I,U,q){let Se;if("**"===C.path){const we=I.length>0?Kt(I).parameters:{},dt=new Lr(I,we,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,y(C),ur(C),C.component??C._loadedComponent??null,C,L(C));Se=(0,H.of)({snapshot:dt,consumedSegments:[],remainingSegments:[]}),f.children={}}else Se=ao(f,C,I,b).pipe((0,vt.T)(({matched:we,consumedSegments:dt,remainingSegments:Gt,parameters:zn})=>we?{snapshot:new Lr(dt,zn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,y(C),ur(C),C.component??C._loadedComponent??null,C,L(C)),consumedSegments:dt,remainingSegments:Gt}:null));return Se.pipe((0,st.n)(we=>null===we?Jn(f):this.getChildConfig(b=C._injector??b,C,I).pipe((0,st.n)(({routes:dt})=>{const Gt=C._loadedInjector??b,{snapshot:zn,consumedSegments:Dn,remainingSegments:Fi}=we,{segmentGroup:mo,slicedSegments:yo}=Ys(f,Dn,Fi,dt);if(0===yo.length&&mo.hasChildren())return this.processChildren(Gt,dt,mo).pipe((0,vt.T)(vo=>null===vo?null:[new Lt(zn,vo)]));if(0===dt.length&&0===yo.length)return(0,H.of)([new Lt(zn,[])]);const Ao=ur(C)===U;return this.processSegment(Gt,dt,mo,yo,Ao?ft:U,!0).pipe((0,vt.T)(vo=>[new Lt(zn,vo)]))}))))}getChildConfig(b,f,C){return f.children?(0,H.of)({routes:f.children,injector:b}):f.loadChildren?void 0!==f._loadedRoutes?(0,H.of)({routes:f._loadedRoutes,injector:f._loadedInjector}):function jt(g,b,f,C){const I=b.canLoad;if(void 0===I||0===I.length)return(0,H.of)(!0);const U=I.map(q=>{const Se=Bn(q,g);return qn(function N(g){return g&&Ci(g.canLoad)}(Se)?Se.canLoad(b,f):g.runInContext(()=>Se(b,f)))});return(0,H.of)(U).pipe(Nr(),gs())}(b,f,C).pipe((0,Sn.Z)(I=>I?this.configLoader.loadChildren(b,f).pipe((0,_e.M)(U=>{f._loadedRoutes=U.routes,f._loadedInjector=U.injector})):function io(g){return(0,rt.$)(Qr(!1,3))}())):(0,H.of)({routes:[],injector:b})}}function uo(g){const b=g.value.routeConfig;return b&&""===b.path}function Mi(g){const b=[],f=new Set;for(const C of g){if(!uo(C)){b.push(C);continue}const I=b.find(U=>C.value.routeConfig===U.value.routeConfig);void 0!==I?(I.children.push(...C.children),f.add(I)):b.push(C)}for(const C of f){const I=Mi(C.children);b.push(new Lt(C.value,I))}return b.filter(C=>!f.has(C))}function y(g){return g.data||{}}function L(g){return g.resolve||{}}function Rn(g){return"string"==typeof g.title||null===g.title}function bn(g){return(0,st.n)(b=>{const f=g(b);return f?(0,re.H)(f).pipe((0,vt.T)(()=>b)):(0,H.of)(b)})}const nn=new u.nKC("ROUTES");let Xt=(()=>{class g{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,u.WQX)(u.Ql9)}loadComponent(f){if(this.componentLoaders.get(f))return this.componentLoaders.get(f);if(f._loadedComponent)return(0,H.of)(f._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(f);const C=qn(f.loadComponent()).pipe((0,vt.T)(fr),(0,_e.M)(U=>{this.onLoadEndListener&&this.onLoadEndListener(f),f._loadedComponent=U}),(0,fn.j)(()=>{this.componentLoaders.delete(f)})),I=new Dt(C,()=>new yn.B).pipe(Et());return this.componentLoaders.set(f,I),I}loadChildren(f,C){if(this.childrenLoaders.get(C))return this.childrenLoaders.get(C);if(C._loadedRoutes)return(0,H.of)({routes:C._loadedRoutes,injector:C._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(C);const U=function nr(g,b,f,C){return qn(g.loadChildren()).pipe((0,vt.T)(fr),(0,Sn.Z)(I=>I instanceof u.Co$||Array.isArray(I)?(0,H.of)(I):(0,re.H)(b.compileModuleAsync(I))),(0,vt.T)(I=>{C&&C(g);let U,q,Se=!1;return Array.isArray(I)?(q=I,!0):(U=I.create(f).injector,q=U.get(nn,[],{optional:!0,self:!0}).flat()),{routes:q.map(On),injector:U}}))}(C,this.compiler,f,this.onLoadEndListener).pipe((0,fn.j)(()=>{this.childrenLoaders.delete(C)})),q=new Dt(U,()=>new yn.B).pipe(Et());return this.childrenLoaders.set(C,q),q}static{this.\u0275fac=function(C){return new(C||g)}}static{this.\u0275prov=u.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();function fr(g){return function Nn(g){return g&&"object"==typeof g&&"default"in g}(g)?g.default:g}let ns=(()=>{class g{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new yn.B,this.transitionAbortSubject=new yn.B,this.configLoader=(0,u.WQX)(Xt),this.environmentInjector=(0,u.WQX)(u.uvJ),this.urlSerializer=(0,u.WQX)(ar),this.rootContexts=(0,u.WQX)(Gs),this.inputBindingEnabled=null!==(0,u.WQX)(Qn,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,H.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=I=>this.events.next(new Vi(I)),this.configLoader.onLoadStartListener=I=>this.events.next(new Pi(I))}complete(){this.transitions?.complete()}handleNavigationRequest(f){const C=++this.navigationId;this.transitions?.next({...this.transitions.value,...f,id:C})}setupNavigations(f,C,I){return this.transitions=new X.t({id:0,currentUrlTree:C,currentRawUrl:C,currentBrowserUrl:C,extractedUrl:f.urlHandlingStrategy.extract(C),urlAfterRedirects:f.urlHandlingStrategy.extract(C),rawUrl:C,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Rr,restoredState:null,currentSnapshot:I.snapshot,targetSnapshot:null,currentRouterState:I,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,ir.p)(U=>0!==U.id),(0,vt.T)(U=>({...U,extractedUrl:f.urlHandlingStrategy.extract(U.rawUrl)})),(0,st.n)(U=>{this.currentTransition=U;let q=!1,Se=!1;return(0,H.of)(U).pipe((0,_e.M)(we=>{this.currentNavigation={id:we.id,initialUrl:we.rawUrl,extractedUrl:we.extractedUrl,trigger:we.source,extras:we.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,st.n)(we=>{const dt=we.currentBrowserUrl.toString(),Gt=!f.navigated||we.extractedUrl.toString()!==dt||dt!==we.currentUrlTree.toString();if(!Gt&&"reload"!==(we.extras.onSameUrlNavigation??f.onSameUrlNavigation)){const Dn="";return this.events.next(new ds(we.id,this.urlSerializer.serialize(we.rawUrl),Dn,0)),we.resolve(null),pt.w}if(f.urlHandlingStrategy.shouldProcessUrl(we.rawUrl))return(0,H.of)(we).pipe((0,st.n)(Dn=>{const Fi=this.transitions?.getValue();return this.events.next(new Cs(Dn.id,this.urlSerializer.serialize(Dn.extractedUrl),Dn.source,Dn.restoredState)),Fi!==this.transitions?.getValue()?pt.w:Promise.resolve(Dn)}),function S(g,b,f,C,I,U){return(0,Sn.Z)(q=>function Si(g,b,f,C,I,U,q="emptyOnly"){return new lo(g,b,f,C,I,q,U).recognize()}(g,b,f,C,q.extractedUrl,I,U).pipe((0,vt.T)(({state:Se,tree:we})=>({...q,targetSnapshot:Se,urlAfterRedirects:we}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,f.config,this.urlSerializer,f.paramsInheritanceStrategy),(0,_e.M)(Dn=>{U.targetSnapshot=Dn.targetSnapshot,U.urlAfterRedirects=Dn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Dn.urlAfterRedirects};const Fi=new Un(Dn.id,this.urlSerializer.serialize(Dn.extractedUrl),this.urlSerializer.serialize(Dn.urlAfterRedirects),Dn.targetSnapshot);this.events.next(Fi)}));if(Gt&&f.urlHandlingStrategy.shouldProcessUrl(we.currentRawUrl)){const{id:Dn,extractedUrl:Fi,source:mo,restoredState:yo,extras:Ao}=we,vo=new Cs(Dn,this.urlSerializer.serialize(Fi),mo,yo);this.events.next(vo);const Pu=Gr(0,this.rootComponentType).snapshot;return this.currentTransition=U={...we,targetSnapshot:Pu,urlAfterRedirects:Fi,extras:{...Ao,skipLocationChange:!1,replaceUrl:!1}},(0,H.of)(U)}{const Dn="";return this.events.next(new ds(we.id,this.urlSerializer.serialize(we.extractedUrl),Dn,1)),we.resolve(null),pt.w}}),(0,_e.M)(we=>{const dt=new Ki(we.id,this.urlSerializer.serialize(we.extractedUrl),this.urlSerializer.serialize(we.urlAfterRedirects),we.targetSnapshot);this.events.next(dt)}),(0,vt.T)(we=>(this.currentTransition=U={...we,guards:cr(we.targetSnapshot,we.currentSnapshot,this.rootContexts)},U)),function ci(g,b){return(0,Sn.Z)(f=>{const{targetSnapshot:C,currentSnapshot:I,guards:{canActivateChecks:U,canDeactivateChecks:q}}=f;return 0===q.length&&0===U.length?(0,H.of)({...f,guardsResult:!0}):function Ei(g,b,f,C){return(0,re.H)(g).pipe((0,Sn.Z)(I=>function Do(g,b,f,C,I){const U=b&&b.routeConfig?b.routeConfig.canDeactivate:null;if(!U||0===U.length)return(0,H.of)(!0);const q=U.map(Se=>{const we=ps(b)??I,dt=Bn(Se,we);return qn(function ne(g){return g&&Ci(g.canDeactivate)}(dt)?dt.canDeactivate(g,b,f,C):we.runInContext(()=>dt(g,b,f,C))).pipe((0,Vt.$)())});return(0,H.of)(q).pipe(Nr())}(I.component,I.route,f,b,C)),(0,Vt.$)(I=>!0!==I,!0))}(q,C,I,g).pipe((0,Sn.Z)(Se=>Se&&function P(g){return"boolean"==typeof g}(Se)?function ks(g,b,f,C){return(0,re.H)(b).pipe((0,ue.H)(I=>(0,ot.x)(function so(g,b){return null!==g&&b&&b(new ai(g)),(0,H.of)(!0)}(I.route.parent,C),function di(g,b){return null!==g&&b&&b(new $i(g)),(0,H.of)(!0)}(I.route,C),function Bi(g,b,f){const C=b[b.length-1],U=b.slice(0,b.length-1).reverse().map(q=>function Qs(g){const b=g.routeConfig?g.routeConfig.canActivateChild:null;return b&&0!==b.length?{node:g,guards:b}:null}(q)).filter(q=>null!==q).map(q=>He(()=>{const Se=q.guards.map(we=>{const dt=ps(q.node)??f,Gt=Bn(we,dt);return qn(function $(g){return g&&Ci(g.canActivateChild)}(Gt)?Gt.canActivateChild(C,g):dt.runInContext(()=>Gt(C,g))).pipe((0,Vt.$)())});return(0,H.of)(Se).pipe(Nr())}));return(0,H.of)(U).pipe(Nr())}(g,I.path,f),function Di(g,b,f){const C=b.routeConfig?b.routeConfig.canActivate:null;if(!C||0===C.length)return(0,H.of)(!0);const I=C.map(U=>He(()=>{const q=ps(b)??f,Se=Bn(U,q);return qn(function D(g){return g&&Ci(g.canActivate)}(Se)?Se.canActivate(b,g):q.runInContext(()=>Se(b,g))).pipe((0,Vt.$)())}));return(0,H.of)(I).pipe(Nr())}(g,I.route,f))),(0,Vt.$)(I=>!0!==I,!0))}(C,U,g,b):(0,H.of)(Se)),(0,vt.T)(Se=>({...f,guardsResult:Se})))})}(this.environmentInjector,we=>this.events.next(we)),(0,_e.M)(we=>{if(U.guardsResult=we.guardsResult,Le(we.guardsResult))throw Xr(0,we.guardsResult);const dt=new vi(we.id,this.urlSerializer.serialize(we.extractedUrl),this.urlSerializer.serialize(we.urlAfterRedirects),we.targetSnapshot,!!we.guardsResult);this.events.next(dt)}),(0,ir.p)(we=>!!we.guardsResult||(this.cancelNavigationTransition(we,"",3),!1)),bn(we=>{if(we.guards.canActivateChecks.length)return(0,H.of)(we).pipe((0,_e.M)(dt=>{const Gt=new Ii(dt.id,this.urlSerializer.serialize(dt.extractedUrl),this.urlSerializer.serialize(dt.urlAfterRedirects),dt.targetSnapshot);this.events.next(Gt)}),(0,st.n)(dt=>{let Gt=!1;return(0,H.of)(dt).pipe(function k(g,b){return(0,Sn.Z)(f=>{const{targetSnapshot:C,guards:{canActivateChecks:I}}=f;if(!I.length)return(0,H.of)(f);let U=0;return(0,re.H)(I).pipe((0,ue.H)(q=>function Q(g,b,f,C){const I=g.routeConfig,U=g._resolve;return void 0!==I?.title&&!Rn(I)&&(U[or]=I.title),function Ee(g,b,f,C){const I=function Ie(g){return[...Object.keys(g),...Object.getOwnPropertySymbols(g)]}(g);if(0===I.length)return(0,H.of)({});const U={};return(0,re.H)(I).pipe((0,Sn.Z)(q=>function yt(g,b,f,C){const I=ps(b)??C,U=Bn(g,I);return qn(U.resolve?U.resolve(b,f):I.runInContext(()=>U(b,f)))}(g[q],b,f,C).pipe((0,Vt.$)(),(0,_e.M)(Se=>{U[q]=Se}))),_t(1),function Ot(g){return(0,vt.T)(()=>g)}(U),(0,Ce.W)(q=>vr(q)?pt.w:(0,rt.$)(q)))}(U,g,b,C).pipe((0,vt.T)(q=>(g._resolvedData=q,g.data=Ps(g,f).resolve,I&&Rn(I)&&(g.data[or]=I.title),null)))}(q.route,C,g,b)),(0,_e.M)(()=>U++),_t(1),(0,Sn.Z)(q=>U===I.length?(0,H.of)(f):pt.w))})}(f.paramsInheritanceStrategy,this.environmentInjector),(0,_e.M)({next:()=>Gt=!0,complete:()=>{Gt||this.cancelNavigationTransition(dt,"",2)}}))}),(0,_e.M)(dt=>{const Gt=new Oi(dt.id,this.urlSerializer.serialize(dt.extractedUrl),this.urlSerializer.serialize(dt.urlAfterRedirects),dt.targetSnapshot);this.events.next(Gt)}))}),bn(we=>{const dt=Gt=>{const zn=[];Gt.routeConfig?.loadComponent&&!Gt.routeConfig._loadedComponent&&zn.push(this.configLoader.loadComponent(Gt.routeConfig).pipe((0,_e.M)(Dn=>{Gt.component=Dn}),(0,vt.T)(()=>{})));for(const Dn of Gt.children)zn.push(...dt(Dn));return zn};return We(dt(we.targetSnapshot.root)).pipe((0,Ke.U)(),(0,kt.s)(1))}),bn(()=>this.afterPreactivation()),(0,vt.T)(we=>{const dt=function $n(g,b,f){const C=wr(g,b._root,f?f._root:void 0);return new Xn(C,b)}(f.routeReuseStrategy,we.targetSnapshot,we.currentRouterState);return this.currentTransition=U={...we,targetRouterState:dt},U}),(0,_e.M)(()=>{this.events.next(new qr)}),((g,b,f,C)=>(0,vt.T)(I=>(new Pn(b,I.targetRouterState,I.currentRouterState,f,C).activate(g),I)))(this.rootContexts,f.routeReuseStrategy,we=>this.events.next(we),this.inputBindingEnabled),(0,kt.s)(1),(0,_e.M)({next:we=>{q=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Es(we.id,this.urlSerializer.serialize(we.extractedUrl),this.urlSerializer.serialize(we.urlAfterRedirects))),f.titleStrategy?.updateTitle(we.targetRouterState.snapshot),we.resolve(!0)},complete:()=>{q=!0}}),function Zn(g){return(0,Xe.N)((b,f)=>{(0,cn.Tg)(g).subscribe((0,Qe._)(f,()=>f.complete(),jn.l)),!f.closed&&b.subscribe(f)})}(this.transitionAbortSubject.pipe((0,_e.M)(we=>{throw we}))),(0,fn.j)(()=>{q||Se||this.cancelNavigationTransition(U,"",1),this.currentNavigation?.id===U.id&&(this.currentNavigation=null)}),(0,Ce.W)(we=>{if(Se=!0,Ds(we))this.events.next(new Tr(U.id,this.urlSerializer.serialize(U.extractedUrl),we.message,we.cancellationCode)),function In(g){return Ds(g)&&Le(g.url)}(we)?this.events.next(new zr(we.url)):U.resolve(!1);else{this.events.next(new yi(U.id,this.urlSerializer.serialize(U.extractedUrl),we,U.targetSnapshot??void 0));try{U.resolve(f.errorHandler(we))}catch(dt){U.reject(dt)}}return pt.w}))}))}cancelNavigationTransition(f,C,I){const U=new Tr(f.id,this.urlSerializer.serialize(f.extractedUrl),C,I);this.events.next(U),f.resolve(!1)}static{this.\u0275fac=function(C){return new(C||g)}}static{this.\u0275prov=u.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();function rs(g){return g!==Rr}let js=(()=>{class g{buildTitle(f){let C,I=f.root;for(;void 0!==I;)C=this.getResolvedTitleForRoute(I)??C,I=I.children.find(U=>U.outlet===ft);return C}getResolvedTitleForRoute(f){return f.data[or]}static{this.\u0275fac=function(C){return new(C||g)}}static{this.\u0275prov=u.jDH({token:g,factory:function(){return(0,u.WQX)(ss)},providedIn:"root"})}}return g})(),ss=(()=>{class g extends js{constructor(f){super(),this.title=f}updateTitle(f){const C=this.buildTitle(f);void 0!==C&&this.title.setTitle(C)}static{this.\u0275fac=function(C){return new(C||g)(u.KVO(lt.hE))}}static{this.\u0275prov=u.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})(),ei=(()=>{class g{static{this.\u0275fac=function(C){return new(C||g)}}static{this.\u0275prov=u.jDH({token:g,factory:function(){return(0,u.WQX)(ti)},providedIn:"root"})}}return g})();class is{shouldDetach(b){return!1}store(b,f){}shouldAttach(b){return!1}retrieve(b){return null}shouldReuseRoute(b,f){return b.routeConfig===f.routeConfig}}let ti=(()=>{class g extends is{static{this.\u0275fac=function(){let f;return function(I){return(f||(f=u.xGo(g)))(I||g)}}()}static{this.\u0275prov=u.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();const ki=new u.nKC("",{providedIn:"root",factory:()=>({})});let Mo=(()=>{class g{static{this.\u0275fac=function(C){return new(C||g)}}static{this.\u0275prov=u.jDH({token:g,factory:function(){return(0,u.WQX)(A)},providedIn:"root"})}}return g})(),A=(()=>{class g{shouldProcessUrl(f){return!0}extract(f){return f}merge(f,C){return f}static{this.\u0275fac=function(C){return new(C||g)}}static{this.\u0275prov=u.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();var h=function(g){return g[g.COMPLETE=0]="COMPLETE",g[g.FAILED=1]="FAILED",g[g.REDIRECTING=2]="REDIRECTING",g}(h||{});function d(g,b){g.events.pipe((0,ir.p)(f=>f instanceof Es||f instanceof Tr||f instanceof yi||f instanceof ds),(0,vt.T)(f=>f instanceof Es||f instanceof ds?h.COMPLETE:f instanceof Tr&&(0===f.code||1===f.code)?h.REDIRECTING:h.FAILED),(0,ir.p)(f=>f!==h.REDIRECTING),(0,kt.s)(1)).subscribe(()=>{b()})}function w(g){throw g}function O(g,b,f){return b.parse("/")}const V={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},J={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Y=(()=>{class g{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,u.WQX)(u.H3F),this.isNgZoneEnabled=!1,this._events=new yn.B,this.options=(0,u.WQX)(ki,{optional:!0})||{},this.pendingTasks=(0,u.WQX)(u.$K3),this.errorHandler=this.options.errorHandler||w,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||O,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,u.WQX)(Mo),this.routeReuseStrategy=(0,u.WQX)(ei),this.titleStrategy=(0,u.WQX)(js),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,u.WQX)(nn,{optional:!0})?.flat()??[],this.navigationTransitions=(0,u.WQX)(ns),this.urlSerializer=(0,u.WQX)(ar),this.location=(0,u.WQX)(Je.aZ),this.componentInputBindingEnabled=!!(0,u.WQX)(Qn,{optional:!0}),this.eventsSubscription=new Ae.yU,this.isNgZoneEnabled=(0,u.WQX)(u.SKi)instanceof u.SKi&&u.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Dr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Gr(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(f=>{this.lastSuccessfulId=f.id,this.currentPageId=this.browserPageId},f=>{this.console.warn(`Unhandled Navigation Error: ${f}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const f=this.navigationTransitions.events.subscribe(C=>{try{const{currentTransition:I}=this.navigationTransitions;if(null===I)return void(Pe(C)&&this._events.next(C));if(C instanceof Cs)rs(I.source)&&(this.browserUrlTree=I.extractedUrl);else if(C instanceof ds)this.rawUrlTree=I.rawUrl;else if(C instanceof Un){if("eager"===this.urlUpdateStrategy){if(!I.extras.skipLocationChange){const U=this.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);this.setBrowserUrl(U,I)}this.browserUrlTree=I.urlAfterRedirects}}else if(C instanceof qr)this.currentUrlTree=I.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl),this.routerState=I.targetRouterState,"deferred"===this.urlUpdateStrategy&&(I.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,I),this.browserUrlTree=I.urlAfterRedirects);else if(C instanceof Tr)0!==C.code&&1!==C.code&&(this.navigated=!0),(3===C.code||2===C.code)&&this.restoreHistory(I);else if(C instanceof zr){const U=this.urlHandlingStrategy.merge(C.url,I.currentRawUrl),q={skipLocationChange:I.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||rs(I.source)};this.scheduleNavigation(U,Rr,null,q,{resolve:I.resolve,reject:I.reject,promise:I.promise})}C instanceof yi&&this.restoreHistory(I,!0),C instanceof Es&&(this.navigated=!0),Pe(C)&&this._events.next(C)}catch(I){this.navigationTransitions.transitionAbortSubject.next(I)}});this.eventsSubscription.add(f)}resetRootComponentType(f){this.routerState.root.component=f,this.navigationTransitions.rootComponentType=f}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const f=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Rr,f)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(f=>{const C="popstate"===f.type?"popstate":"hashchange";"popstate"===C&&setTimeout(()=>{this.navigateToSyncWithBrowser(f.url,C,f.state)},0)}))}navigateToSyncWithBrowser(f,C,I){const U={replaceUrl:!0},q=I?.navigationId?I:null;if(I){const we={...I};delete we.navigationId,delete we.\u0275routerPageId,0!==Object.keys(we).length&&(U.state=we)}const Se=this.parseUrl(f);this.scheduleNavigation(Se,C,q,U)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(f){this.config=f.map(On),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(f,C={}){const{relativeTo:I,queryParams:U,fragment:q,queryParamsHandling:Se,preserveFragment:we}=C,dt=we?this.currentUrlTree.fragment:q;let zn,Gt=null;switch(Se){case"merge":Gt={...this.currentUrlTree.queryParams,...U};break;case"preserve":Gt=this.currentUrlTree.queryParams;break;default:Gt=U||null}null!==Gt&&(Gt=this.removeEmptyProps(Gt));try{zn=Nt(I?I.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof f[0]||!f[0].startsWith("/"))&&(f=[]),zn=this.currentUrlTree.root}return dr(zn,f,Gt,dt??null)}navigateByUrl(f,C={skipLocationChange:!1}){const I=Le(f)?f:this.parseUrl(f),U=this.urlHandlingStrategy.merge(I,this.rawUrlTree);return this.scheduleNavigation(U,Rr,null,C)}navigate(f,C={skipLocationChange:!1}){return function ae(g){for(let b=0;b<g.length;b++)if(null==g[b])throw new u.wOt(4008,!1)}(f),this.navigateByUrl(this.createUrlTree(f,C),C)}serializeUrl(f){return this.urlSerializer.serialize(f)}parseUrl(f){let C;try{C=this.urlSerializer.parse(f)}catch(I){C=this.malformedUriErrorHandler(I,this.urlSerializer,f)}return C}isActive(f,C){let I;if(I=!0===C?{...V}:!1===C?{...J}:C,Le(f))return Er(this.currentUrlTree,f,I);const U=this.parseUrl(f);return Er(this.currentUrlTree,U,I)}removeEmptyProps(f){return Object.keys(f).reduce((C,I)=>{const U=f[I];return null!=U&&(C[I]=U),C},{})}scheduleNavigation(f,C,I,U,q){if(this.disposed)return Promise.resolve(!1);let Se,we,dt;q?(Se=q.resolve,we=q.reject,dt=q.promise):dt=new Promise((zn,Dn)=>{Se=zn,we=Dn});const Gt=this.pendingTasks.add();return d(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Gt))}),this.navigationTransitions.handleNavigationRequest({source:C,restoredState:I,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:f,extras:U,resolve:Se,reject:we,promise:dt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),dt.catch(zn=>Promise.reject(zn))}setBrowserUrl(f,C){const I=this.urlSerializer.serialize(f);if(this.location.isCurrentPathEqualTo(I)||C.extras.replaceUrl){const q={...C.extras.state,...this.generateNgRouterState(C.id,this.browserPageId)};this.location.replaceState(I,"",q)}else{const U={...C.extras.state,...this.generateNgRouterState(C.id,this.browserPageId+1)};this.location.go(I,"",U)}}restoreHistory(f,C=!1){if("computed"===this.canceledNavigationResolution){const U=this.currentPageId-this.browserPageId;0!==U?this.location.historyGo(U):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===U&&(this.resetState(f),this.browserUrlTree=f.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(C&&this.resetState(f),this.resetUrlToCurrentUrlTree())}resetState(f){this.routerState=f.currentRouterState,this.currentUrlTree=f.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,f.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(f,C){return"computed"===this.canceledNavigationResolution?{navigationId:f,\u0275routerPageId:C}:{navigationId:f}}static{this.\u0275fac=function(C){return new(C||g)}}static{this.\u0275prov=u.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();function Pe(g){return!(g instanceof qr||g instanceof zr)}let Ze=(()=>{class g{constructor(f,C,I,U,q,Se){this.router=f,this.route=C,this.tabIndexAttribute=I,this.renderer=U,this.el=q,this.locationStrategy=Se,this.href=null,this.commands=null,this.onChanges=new yn.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const we=q.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===we||"area"===we,this.isAnchorElement?this.subscription=f.events.subscribe(dt=>{dt instanceof Es&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(f){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",f)}ngOnChanges(f){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(f){null!=f?(this.commands=Array.isArray(f)?f:[f],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(f,C,I,U,q){return!!(null===this.urlTree||this.isAnchorElement&&(0!==f||C||I||U||q||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const f=null===this.href?null:(0,u.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",f)}applyAttributeValue(f,C){const I=this.renderer,U=this.el.nativeElement;null!==C?I.setAttribute(U,f,C):I.removeAttribute(U,f)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(C){return new(C||g)(u.rXU(Y),u.rXU(ct),u.kS0("tabindex"),u.rXU(u.sFG),u.rXU(u.aKT),u.rXU(Je.hb))}}static{this.\u0275dir=u.FsC({type:g,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(C,I){1&C&&u.bIt("click",function(q){return I.onClick(q.button,q.ctrlKey,q.shiftKey,q.altKey,q.metaKey)}),2&C&&u.BMQ("target",I.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",u.L39],skipLocationChange:["skipLocationChange","skipLocationChange",u.L39],replaceUrl:["replaceUrl","replaceUrl",u.L39],routerLink:"routerLink"},standalone:!0,features:[u.GFd,u.OA$]})}}return g})(),tt=(()=>{class g{get isActive(){return this._isActive}constructor(f,C,I,U,q){this.router=f,this.element=C,this.renderer=I,this.cdr=U,this.link=q,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new u.bkB,this.routerEventsSubscription=f.events.subscribe(Se=>{Se instanceof Es&&this.update()})}ngAfterContentInit(){(0,H.of)(this.links.changes,(0,H.of)(null)).pipe((0,wt.U)()).subscribe(f=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const f=[...this.links.toArray(),this.link].filter(C=>!!C).map(C=>C.onChanges);this.linkInputChangesSubscription=(0,re.H)(f).pipe((0,wt.U)()).subscribe(C=>{this._isActive!==this.isLinkActive(this.router)(C)&&this.update()})}set routerLinkActive(f){const C=Array.isArray(f)?f:f.split(" ");this.classes=C.filter(I=>!!I)}ngOnChanges(f){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const f=this.hasActiveLinks();this._isActive!==f&&(this._isActive=f,this.cdr.markForCheck(),this.classes.forEach(C=>{f?this.renderer.addClass(this.element.nativeElement,C):this.renderer.removeClass(this.element.nativeElement,C)}),f&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(f))})}isLinkActive(f){const C=function hn(g){return!!g.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return I=>!!I.urlTree&&f.isActive(I.urlTree,C)}hasActiveLinks(){const f=this.isLinkActive(this.router);return this.link&&f(this.link)||this.links.some(f)}static{this.\u0275fac=function(C){return new(C||g)(u.rXU(Y),u.rXU(u.aKT),u.rXU(u.sFG),u.rXU(u.gRc),u.rXU(Ze,8))}}static{this.\u0275dir=u.FsC({type:g,selectors:[["","routerLinkActive",""]],contentQueries:function(C,I,U){if(1&C&&u.wni(U,Ze,5),2&C){let q;u.mGM(q=u.lsd())&&(I.links=q)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[u.OA$]})}}return g})();class zt{}let Yn=(()=>{class g{constructor(f,C,I,U,q){this.router=f,this.injector=I,this.preloadingStrategy=U,this.loader=q}setUpPreloading(){this.subscription=this.router.events.pipe((0,ir.p)(f=>f instanceof Es),(0,ue.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(f,C){const I=[];for(const U of C){U.providers&&!U._injector&&(U._injector=(0,u.Ol2)(U.providers,f,`Route: ${U.path}`));const q=U._injector??f,Se=U._loadedInjector??q;(U.loadChildren&&!U._loadedRoutes&&void 0===U.canLoad||U.loadComponent&&!U._loadedComponent)&&I.push(this.preloadConfig(q,U)),(U.children||U._loadedRoutes)&&I.push(this.processRoutes(Se,U.children??U._loadedRoutes))}return(0,re.H)(I).pipe((0,wt.U)())}preloadConfig(f,C){return this.preloadingStrategy.preload(C,()=>{let I;I=C.loadChildren&&void 0===C.canLoad?this.loader.loadChildren(f,C):(0,H.of)(null);const U=I.pipe((0,Sn.Z)(q=>null===q?(0,H.of)(void 0):(C._loadedRoutes=q.routes,C._loadedInjector=q.injector,this.processRoutes(q.injector??f,q.routes))));if(C.loadComponent&&!C._loadedComponent){const q=this.loader.loadComponent(C);return(0,re.H)([U,q]).pipe((0,wt.U)())}return U})}static{this.\u0275fac=function(C){return new(C||g)(u.KVO(Y),u.KVO(u.Ql9),u.KVO(u.uvJ),u.KVO(zt),u.KVO(Xt))}}static{this.\u0275prov=u.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}}return g})();const pr=new u.nKC("");let Cr=(()=>{class g{constructor(f,C,I,U,q={}){this.urlSerializer=f,this.transitions=C,this.viewportScroller=I,this.zone=U,this.options=q,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},q.scrollPositionRestoration=q.scrollPositionRestoration||"disabled",q.anchorScrolling=q.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(f=>{f instanceof Cs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=f.navigationTrigger,this.restoredId=f.restoredState?f.restoredState.navigationId:0):f instanceof Es?(this.lastId=f.id,this.scheduleScrollEvent(f,this.urlSerializer.parse(f.urlAfterRedirects).fragment)):f instanceof ds&&0===f.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(f,this.urlSerializer.parse(f.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(f=>{f instanceof Os&&(f.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(f.position):f.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(f.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(f,C){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Os(f,"popstate"===this.lastSource?this.store[this.restoredId]:null,C))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(C){u.QTQ()}}static{this.\u0275prov=u.jDH({token:g,factory:g.\u0275fac})}}return g})();function m(g,...b){return(0,u.EmA)([{provide:nn,multi:!0,useValue:g},[],{provide:ct,useFactory:a,deps:[Y]},{provide:u.iLQ,multi:!0,useFactory:R},b.map(f=>f.\u0275providers)])}function a(g){return g.routerState.root}function o(g,b){return{\u0275kind:g,\u0275providers:b}}function R(){const g=(0,u.WQX)(u.zZn);return b=>{const f=g.get(u.o8S);if(b!==f.components[0])return;const C=g.get(Y),I=g.get(B);1===g.get(K)&&C.initialNavigation(),g.get(be,null,u.$GK.Optional)?.setUpPreloading(),g.get(pr,null,u.$GK.Optional)?.init(),C.resetRootComponentType(f.componentTypes[0]),I.closed||(I.next(),I.complete(),I.unsubscribe())}}const B=new u.nKC("",{factory:()=>new yn.B}),K=new u.nKC("",{providedIn:"root",factory:()=>1}),be=new u.nKC("");function fe(g){return o(0,[{provide:be,useExisting:Yn},{provide:zt,useExisting:g}])}const he=new u.nKC("ROUTER_FORROOT_GUARD"),Ve=[Je.aZ,{provide:ar,useClass:yr},Y,Gs,{provide:ct,useFactory:a,deps:[Y]},Xt,[]];function Kn(){return new u.NEm("Router",Y)}let As=(()=>{class g{constructor(f){}static forRoot(f,C){return{ngModule:g,providers:[Ve,[],{provide:nn,multi:!0,useValue:f},{provide:he,useFactory:gr,deps:[[Y,new u.Xx1,new u.kdw]]},{provide:ki,useValue:C||{}},C?.useHash?{provide:Je.hb,useClass:Je.fw}:{provide:Je.hb,useClass:Je.Sm},{provide:pr,useFactory:()=>{const g=(0,u.WQX)(Je.Xr),b=(0,u.WQX)(u.SKi),f=(0,u.WQX)(ki),C=(0,u.WQX)(ns),I=(0,u.WQX)(ar);return f.scrollOffset&&g.setOffset(f.scrollOffset),new Cr(I,C,g,b,f)}},C?.preloadingStrategy?fe(C.preloadingStrategy).\u0275providers:[],{provide:u.NEm,multi:!0,useFactory:Kn},C?.initialNavigation?co(C):[],C?.bindToComponentInputs?o(8,[fs,{provide:Qn,useExisting:fs}]).\u0275providers:[],[{provide:Vo,useFactory:R},{provide:u.iLQ,multi:!0,useExisting:Vo}]]}}static forChild(f){return{ngModule:g,providers:[{provide:nn,multi:!0,useValue:f}]}}static{this.\u0275fac=function(C){return new(C||g)(u.KVO(he,8))}}static{this.\u0275mod=u.$C({type:g})}static{this.\u0275inj=u.G2t({})}}return g})();function gr(g){return"guarded"}function co(g){return["disabled"===g.initialNavigation?o(3,[{provide:u.hnV,multi:!0,useFactory:()=>{const b=(0,u.WQX)(Y);return()=>{b.setUpLocationChangeListener()}}},{provide:K,useValue:2}]).\u0275providers:[],"enabledBlocking"===g.initialNavigation?o(2,[{provide:K,useValue:0},{provide:u.hnV,multi:!0,deps:[u.zZn],useFactory:b=>{const f=b.get(Je.hj,Promise.resolve());return()=>f.then(()=>new Promise(C=>{const I=b.get(Y),U=b.get(B);d(I,()=>{C(!0)}),b.get(ns).afterPreactivation=()=>(C(!0),U.closed?(0,H.of)(void 0):U),I.initialNavigation()}))}}]).\u0275providers:[]]}const Vo=new u.nKC("")},467:(at,pe,F)=>{"use strict";function u(E,ge,re,H,X,de,ye){try{var me=E[de](ye),oe=me.value}catch(Me){return void re(Me)}me.done?ge(oe):Promise.resolve(oe).then(H,X)}function G(E){return function(){var ge=this,re=arguments;return new Promise(function(H,X){var de=E.apply(ge,re);function ye(oe){u(de,H,X,ye,me,"next",oe)}function me(oe){u(de,H,X,ye,me,"throw",oe)}ye(void 0)})}}F.d(pe,{A:()=>G})}},at=>{at(at.s=3459)}]);